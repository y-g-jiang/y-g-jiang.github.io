var mP=Object.defineProperty;var yP=(e,t,r)=>t in e?mP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var bn=(e,t,r)=>yP(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var Gu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var gk={exports:{}},ph={},mk={exports:{}},rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Su=Symbol.for("react.element"),vP=Symbol.for("react.portal"),xP=Symbol.for("react.fragment"),bP=Symbol.for("react.strict_mode"),wP=Symbol.for("react.profiler"),kP=Symbol.for("react.provider"),SP=Symbol.for("react.context"),jP=Symbol.for("react.forward_ref"),_P=Symbol.for("react.suspense"),OP=Symbol.for("react.memo"),NP=Symbol.for("react.lazy"),ox=Symbol.iterator;function PP(e){return e===null||typeof e!="object"?null:(e=ox&&e[ox]||e["@@iterator"],typeof e=="function"?e:null)}var yk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vk=Object.assign,xk={};function ul(e,t,r){this.props=e,this.context=t,this.refs=xk,this.updater=r||yk}ul.prototype.isReactComponent={};ul.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ul.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function bk(){}bk.prototype=ul.prototype;function ey(e,t,r){this.props=e,this.context=t,this.refs=xk,this.updater=r||yk}var ty=ey.prototype=new bk;ty.constructor=ey;vk(ty,ul.prototype);ty.isPureReactComponent=!0;var ix=Array.isArray,wk=Object.prototype.hasOwnProperty,ry={current:null},kk={key:!0,ref:!0,__self:!0,__source:!0};function Sk(e,t,r){var n,a={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)wk.call(t,n)&&!kk.hasOwnProperty(n)&&(a[n]=t[n]);var s=arguments.length-2;if(s===1)a.children=r;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)a[n]===void 0&&(a[n]=s[n]);return{$$typeof:Su,type:e,key:o,ref:i,props:a,_owner:ry.current}}function AP(e,t){return{$$typeof:Su,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ny(e){return typeof e=="object"&&e!==null&&e.$$typeof===Su}function MP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var sx=/\/+/g;function jp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?MP(""+e.key):t.toString(36)}function _f(e,t,r,n,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Su:case vP:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+jp(i,0):n,ix(a)?(r="",e!=null&&(r=e.replace(sx,"$&/")+"/"),_f(a,t,r,"",function(c){return c})):a!=null&&(ny(a)&&(a=AP(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(sx,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",ix(e))for(var s=0;s<e.length;s++){o=e[s];var l=n+jp(o,s);i+=_f(o,t,r,l,a)}else if(l=PP(e),typeof l=="function")for(e=l.call(e),s=0;!(o=e.next()).done;)o=o.value,l=n+jp(o,s++),i+=_f(o,t,r,l,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Hu(e,t,r){if(e==null)return e;var n=[],a=0;return _f(e,n,"","",function(o){return t.call(r,o,a++)}),n}function CP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var On={current:null},Of={transition:null},EP={ReactCurrentDispatcher:On,ReactCurrentBatchConfig:Of,ReactCurrentOwner:ry};function jk(){throw Error("act(...) is not supported in production builds of React.")}rt.Children={map:Hu,forEach:function(e,t,r){Hu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Hu(e,function(){t++}),t},toArray:function(e){return Hu(e,function(t){return t})||[]},only:function(e){if(!ny(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};rt.Component=ul;rt.Fragment=xP;rt.Profiler=wP;rt.PureComponent=ey;rt.StrictMode=bP;rt.Suspense=_P;rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EP;rt.act=jk;rt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=vk({},e.props),a=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=ry.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)wk.call(t,l)&&!kk.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];n.children=s}return{$$typeof:Su,type:e.type,key:a,ref:o,props:n,_owner:i}};rt.createContext=function(e){return e={$$typeof:SP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:kP,_context:e},e.Consumer=e};rt.createElement=Sk;rt.createFactory=function(e){var t=Sk.bind(null,e);return t.type=e,t};rt.createRef=function(){return{current:null}};rt.forwardRef=function(e){return{$$typeof:jP,render:e}};rt.isValidElement=ny;rt.lazy=function(e){return{$$typeof:NP,_payload:{_status:-1,_result:e},_init:CP}};rt.memo=function(e,t){return{$$typeof:OP,type:e,compare:t===void 0?null:t}};rt.startTransition=function(e){var t=Of.transition;Of.transition={};try{e()}finally{Of.transition=t}};rt.unstable_act=jk;rt.useCallback=function(e,t){return On.current.useCallback(e,t)};rt.useContext=function(e){return On.current.useContext(e)};rt.useDebugValue=function(){};rt.useDeferredValue=function(e){return On.current.useDeferredValue(e)};rt.useEffect=function(e,t){return On.current.useEffect(e,t)};rt.useId=function(){return On.current.useId()};rt.useImperativeHandle=function(e,t,r){return On.current.useImperativeHandle(e,t,r)};rt.useInsertionEffect=function(e,t){return On.current.useInsertionEffect(e,t)};rt.useLayoutEffect=function(e,t){return On.current.useLayoutEffect(e,t)};rt.useMemo=function(e,t){return On.current.useMemo(e,t)};rt.useReducer=function(e,t,r){return On.current.useReducer(e,t,r)};rt.useRef=function(e){return On.current.useRef(e)};rt.useState=function(e){return On.current.useState(e)};rt.useSyncExternalStore=function(e,t,r){return On.current.useSyncExternalStore(e,t,r)};rt.useTransition=function(){return On.current.useTransition()};rt.version="18.3.1";mk.exports=rt;var j=mk.exports;const D=Dt(j);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TP=j,$P=Symbol.for("react.element"),DP=Symbol.for("react.fragment"),RP=Object.prototype.hasOwnProperty,LP=TP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,IP={key:!0,ref:!0,__self:!0,__source:!0};function _k(e,t,r){var n,a={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)RP.call(t,n)&&!IP.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:$P,type:e,key:o,ref:i,props:a,_owner:LP.current}}ph.Fragment=DP;ph.jsx=_k;ph.jsxs=_k;gk.exports=ph;var u=gk.exports,A0={},Ok={exports:{}},qn={},Nk={exports:{}},Pk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,B){var W=I.length;I.push(B);e:for(;0<W;){var J=W-1>>>1,q=I[J];if(0<a(q,B))I[J]=B,I[W]=q,W=J;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var B=I[0],W=I.pop();if(W!==B){I[0]=W;e:for(var J=0,q=I.length,V=q>>>1;J<V;){var ie=2*(J+1)-1,te=I[ie],T=ie+1,oe=I[T];if(0>a(te,W))T<q&&0>a(oe,te)?(I[J]=oe,I[T]=W,J=T):(I[J]=te,I[ie]=W,J=ie);else if(T<q&&0>a(oe,W))I[J]=oe,I[T]=W,J=T;else break e}}return B}function a(I,B){var W=I.sortIndex-B.sortIndex;return W!==0?W:I.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,s=i.now();e.unstable_now=function(){return i.now()-s}}var l=[],c=[],f=1,d=null,h=3,p=!1,y=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(I){for(var B=r(c);B!==null;){if(B.callback===null)n(c);else if(B.startTime<=I)n(c),B.sortIndex=B.expirationTime,t(l,B);else break;B=r(c)}}function S(I){if(v=!1,b(I),!y)if(r(l)!==null)y=!0,G(w);else{var B=r(c);B!==null&&A(S,B.startTime-I)}}function w(I,B){y=!1,v&&(v=!1,m(O),O=-1),p=!0;var W=h;try{for(b(B),d=r(l);d!==null&&(!(d.expirationTime>B)||I&&!M());){var J=d.callback;if(typeof J=="function"){d.callback=null,h=d.priorityLevel;var q=J(d.expirationTime<=B);B=e.unstable_now(),typeof q=="function"?d.callback=q:d===r(l)&&n(l),b(B)}else n(l);d=r(l)}if(d!==null)var V=!0;else{var ie=r(c);ie!==null&&A(S,ie.startTime-B),V=!1}return V}finally{d=null,h=W,p=!1}}var k=!1,_=null,O=-1,N=5,P=-1;function M(){return!(e.unstable_now()-P<N)}function C(){if(_!==null){var I=e.unstable_now();P=I;var B=!0;try{B=_(!0,I)}finally{B?$():(k=!1,_=null)}}else k=!1}var $;if(typeof g=="function")$=function(){g(C)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,E=z.port2;z.port1.onmessage=C,$=function(){E.postMessage(null)}}else $=function(){x(C,0)};function G(I){_=I,k||(k=!0,$())}function A(I,B){O=x(function(){I(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,G(w))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(I){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var W=h;h=B;try{return I()}finally{h=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,B){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var W=h;h=I;try{return B()}finally{h=W}},e.unstable_scheduleCallback=function(I,B,W){var J=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?J+W:J):W=J,I){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=W+q,I={id:f++,callback:B,priorityLevel:I,startTime:W,expirationTime:q,sortIndex:-1},W>J?(I.sortIndex=W,t(c,I),r(l)===null&&I===r(c)&&(v?(m(O),O=-1):v=!0,A(S,W-J))):(I.sortIndex=q,t(l,I),y||p||(y=!0,G(w))),I},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(I){var B=h;return function(){var W=h;h=B;try{return I.apply(this,arguments)}finally{h=W}}}})(Pk);Nk.exports=Pk;var BP=Nk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FP=j,Yn=BP;function se(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ak=new Set,jc={};function Vi(e,t){As(e,t),As(e+"Capture",t)}function As(e,t){for(jc[e]=t,e=0;e<t.length;e++)Ak.add(t[e])}var fo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),M0=Object.prototype.hasOwnProperty,zP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lx={},cx={};function UP(e){return M0.call(cx,e)?!0:M0.call(lx,e)?!1:zP.test(e)?cx[e]=!0:(lx[e]=!0,!1)}function WP(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function GP(e,t,r,n){if(t===null||typeof t>"u"||WP(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Nn(e,t,r,n,a,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var nn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){nn[e]=new Nn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];nn[t]=new Nn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){nn[e]=new Nn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){nn[e]=new Nn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){nn[e]=new Nn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){nn[e]=new Nn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){nn[e]=new Nn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){nn[e]=new Nn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){nn[e]=new Nn(e,5,!1,e.toLowerCase(),null,!1,!1)});var ay=/[\-:]([a-z])/g;function oy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ay,oy);nn[t]=new Nn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ay,oy);nn[t]=new Nn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ay,oy);nn[t]=new Nn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){nn[e]=new Nn(e,1,!1,e.toLowerCase(),null,!1,!1)});nn.xlinkHref=new Nn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){nn[e]=new Nn(e,1,!1,e.toLowerCase(),null,!0,!0)});function iy(e,t,r,n){var a=nn.hasOwnProperty(t)?nn[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(GP(t,r,a,n)&&(r=null),n||a===null?UP(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var xo=FP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vu=Symbol.for("react.element"),os=Symbol.for("react.portal"),is=Symbol.for("react.fragment"),sy=Symbol.for("react.strict_mode"),C0=Symbol.for("react.profiler"),Mk=Symbol.for("react.provider"),Ck=Symbol.for("react.context"),ly=Symbol.for("react.forward_ref"),E0=Symbol.for("react.suspense"),T0=Symbol.for("react.suspense_list"),cy=Symbol.for("react.memo"),Eo=Symbol.for("react.lazy"),Ek=Symbol.for("react.offscreen"),ux=Symbol.iterator;function Ll(e){return e===null||typeof e!="object"?null:(e=ux&&e[ux]||e["@@iterator"],typeof e=="function"?e:null)}var lr=Object.assign,_p;function rc(e){if(_p===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);_p=t&&t[1]||""}return`
`+_p+e}var Op=!1;function Np(e,t){if(!e||Op)return"";Op=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),o=n.stack.split(`
`),i=a.length-1,s=o.length-1;1<=i&&0<=s&&a[i]!==o[s];)s--;for(;1<=i&&0<=s;i--,s--)if(a[i]!==o[s]){if(i!==1||s!==1)do if(i--,s--,0>s||a[i]!==o[s]){var l=`
`+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=s);break}}}finally{Op=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?rc(e):""}function HP(e){switch(e.tag){case 5:return rc(e.type);case 16:return rc("Lazy");case 13:return rc("Suspense");case 19:return rc("SuspenseList");case 0:case 2:case 15:return e=Np(e.type,!1),e;case 11:return e=Np(e.type.render,!1),e;case 1:return e=Np(e.type,!0),e;default:return""}}function $0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case is:return"Fragment";case os:return"Portal";case C0:return"Profiler";case sy:return"StrictMode";case E0:return"Suspense";case T0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ck:return(e.displayName||"Context")+".Consumer";case Mk:return(e._context.displayName||"Context")+".Provider";case ly:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case cy:return t=e.displayName||null,t!==null?t:$0(e.type)||"Memo";case Eo:t=e._payload,e=e._init;try{return $0(e(t))}catch{}}return null}function VP(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $0(t);case 8:return t===sy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Jo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Tk(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function XP(e){var t=Tk(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xu(e){e._valueTracker||(e._valueTracker=XP(e))}function $k(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Tk(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Bf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function D0(e,t){var r=t.checked;return lr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function fx(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Jo(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Dk(e,t){t=t.checked,t!=null&&iy(e,"checked",t,!1)}function R0(e,t){Dk(e,t);var r=Jo(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?L0(e,t.type,r):t.hasOwnProperty("defaultValue")&&L0(e,t.type,Jo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function dx(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function L0(e,t,r){(t!=="number"||Bf(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var nc=Array.isArray;function bs(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Jo(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function I0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(se(91));return lr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hx(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(se(92));if(nc(r)){if(1<r.length)throw Error(se(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Jo(r)}}function Rk(e,t){var r=Jo(t.value),n=Jo(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function px(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Lk(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function B0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Lk(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ku,Ik=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ku=Ku||document.createElement("div"),Ku.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ku.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _c(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var sc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},KP=["Webkit","ms","Moz","O"];Object.keys(sc).forEach(function(e){KP.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),sc[t]=sc[e]})});function Bk(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||sc.hasOwnProperty(e)&&sc[e]?(""+t).trim():t+"px"}function Fk(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=Bk(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var YP=lr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function F0(e,t){if(t){if(YP[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(se(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(se(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(se(61))}if(t.style!=null&&typeof t.style!="object")throw Error(se(62))}}function z0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var U0=null;function uy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var W0=null,ws=null,ks=null;function gx(e){if(e=Ou(e)){if(typeof W0!="function")throw Error(se(280));var t=e.stateNode;t&&(t=xh(t),W0(e.stateNode,e.type,t))}}function zk(e){ws?ks?ks.push(e):ks=[e]:ws=e}function Uk(){if(ws){var e=ws,t=ks;if(ks=ws=null,gx(e),t)for(e=0;e<t.length;e++)gx(t[e])}}function Wk(e,t){return e(t)}function Gk(){}var Pp=!1;function Hk(e,t,r){if(Pp)return e(t,r);Pp=!0;try{return Wk(e,t,r)}finally{Pp=!1,(ws!==null||ks!==null)&&(Gk(),Uk())}}function Oc(e,t){var r=e.stateNode;if(r===null)return null;var n=xh(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(se(231,t,typeof r));return r}var G0=!1;if(fo)try{var Il={};Object.defineProperty(Il,"passive",{get:function(){G0=!0}}),window.addEventListener("test",Il,Il),window.removeEventListener("test",Il,Il)}catch{G0=!1}function qP(e,t,r,n,a,o,i,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(f){this.onError(f)}}var lc=!1,Ff=null,zf=!1,H0=null,ZP={onError:function(e){lc=!0,Ff=e}};function QP(e,t,r,n,a,o,i,s,l){lc=!1,Ff=null,qP.apply(ZP,arguments)}function JP(e,t,r,n,a,o,i,s,l){if(QP.apply(this,arguments),lc){if(lc){var c=Ff;lc=!1,Ff=null}else throw Error(se(198));zf||(zf=!0,H0=c)}}function Xi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Vk(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function mx(e){if(Xi(e)!==e)throw Error(se(188))}function eA(e){var t=e.alternate;if(!t){if(t=Xi(e),t===null)throw Error(se(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var o=a.alternate;if(o===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return mx(a),e;if(o===n)return mx(a),t;o=o.sibling}throw Error(se(188))}if(r.return!==n.return)r=a,n=o;else{for(var i=!1,s=a.child;s;){if(s===r){i=!0,r=a,n=o;break}if(s===n){i=!0,n=a,r=o;break}s=s.sibling}if(!i){for(s=o.child;s;){if(s===r){i=!0,r=o,n=a;break}if(s===n){i=!0,n=o,r=a;break}s=s.sibling}if(!i)throw Error(se(189))}}if(r.alternate!==n)throw Error(se(190))}if(r.tag!==3)throw Error(se(188));return r.stateNode.current===r?e:t}function Xk(e){return e=eA(e),e!==null?Kk(e):null}function Kk(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Kk(e);if(t!==null)return t;e=e.sibling}return null}var Yk=Yn.unstable_scheduleCallback,yx=Yn.unstable_cancelCallback,tA=Yn.unstable_shouldYield,rA=Yn.unstable_requestPaint,yr=Yn.unstable_now,nA=Yn.unstable_getCurrentPriorityLevel,fy=Yn.unstable_ImmediatePriority,qk=Yn.unstable_UserBlockingPriority,Uf=Yn.unstable_NormalPriority,aA=Yn.unstable_LowPriority,Zk=Yn.unstable_IdlePriority,gh=null,Wa=null;function oA(e){if(Wa&&typeof Wa.onCommitFiberRoot=="function")try{Wa.onCommitFiberRoot(gh,e,void 0,(e.current.flags&128)===128)}catch{}}var Aa=Math.clz32?Math.clz32:lA,iA=Math.log,sA=Math.LN2;function lA(e){return e>>>=0,e===0?32:31-(iA(e)/sA|0)|0}var Yu=64,qu=4194304;function ac(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Wf(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var s=i&~a;s!==0?n=ac(s):(o&=i,o!==0&&(n=ac(o)))}else i=r&~a,i!==0?n=ac(i):o!==0&&(n=ac(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Aa(t),a=1<<r,n|=e[r],t&=~a;return n}function cA(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uA(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Aa(o),s=1<<i,l=a[i];l===-1?(!(s&r)||s&n)&&(a[i]=cA(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}function V0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Qk(){var e=Yu;return Yu<<=1,!(Yu&4194240)&&(Yu=64),e}function Ap(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ju(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Aa(t),e[t]=r}function fA(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Aa(r),o=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~o}}function dy(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Aa(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var jt=0;function Jk(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var eS,hy,tS,rS,nS,X0=!1,Zu=[],Wo=null,Go=null,Ho=null,Nc=new Map,Pc=new Map,Do=[],dA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vx(e,t){switch(e){case"focusin":case"focusout":Wo=null;break;case"dragenter":case"dragleave":Go=null;break;case"mouseover":case"mouseout":Ho=null;break;case"pointerover":case"pointerout":Nc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(t.pointerId)}}function Bl(e,t,r,n,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[a]},t!==null&&(t=Ou(t),t!==null&&hy(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function hA(e,t,r,n,a){switch(t){case"focusin":return Wo=Bl(Wo,e,t,r,n,a),!0;case"dragenter":return Go=Bl(Go,e,t,r,n,a),!0;case"mouseover":return Ho=Bl(Ho,e,t,r,n,a),!0;case"pointerover":var o=a.pointerId;return Nc.set(o,Bl(Nc.get(o)||null,e,t,r,n,a)),!0;case"gotpointercapture":return o=a.pointerId,Pc.set(o,Bl(Pc.get(o)||null,e,t,r,n,a)),!0}return!1}function aS(e){var t=bi(e.target);if(t!==null){var r=Xi(t);if(r!==null){if(t=r.tag,t===13){if(t=Vk(r),t!==null){e.blockedOn=t,nS(e.priority,function(){tS(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Nf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=K0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);U0=n,r.target.dispatchEvent(n),U0=null}else return t=Ou(r),t!==null&&hy(t),e.blockedOn=r,!1;t.shift()}return!0}function xx(e,t,r){Nf(e)&&r.delete(t)}function pA(){X0=!1,Wo!==null&&Nf(Wo)&&(Wo=null),Go!==null&&Nf(Go)&&(Go=null),Ho!==null&&Nf(Ho)&&(Ho=null),Nc.forEach(xx),Pc.forEach(xx)}function Fl(e,t){e.blockedOn===t&&(e.blockedOn=null,X0||(X0=!0,Yn.unstable_scheduleCallback(Yn.unstable_NormalPriority,pA)))}function Ac(e){function t(a){return Fl(a,e)}if(0<Zu.length){Fl(Zu[0],e);for(var r=1;r<Zu.length;r++){var n=Zu[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Wo!==null&&Fl(Wo,e),Go!==null&&Fl(Go,e),Ho!==null&&Fl(Ho,e),Nc.forEach(t),Pc.forEach(t),r=0;r<Do.length;r++)n=Do[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Do.length&&(r=Do[0],r.blockedOn===null);)aS(r),r.blockedOn===null&&Do.shift()}var Ss=xo.ReactCurrentBatchConfig,Gf=!0;function gA(e,t,r,n){var a=jt,o=Ss.transition;Ss.transition=null;try{jt=1,py(e,t,r,n)}finally{jt=a,Ss.transition=o}}function mA(e,t,r,n){var a=jt,o=Ss.transition;Ss.transition=null;try{jt=4,py(e,t,r,n)}finally{jt=a,Ss.transition=o}}function py(e,t,r,n){if(Gf){var a=K0(e,t,r,n);if(a===null)Bp(e,t,n,Hf,r),vx(e,n);else if(hA(a,e,t,r,n))n.stopPropagation();else if(vx(e,n),t&4&&-1<dA.indexOf(e)){for(;a!==null;){var o=Ou(a);if(o!==null&&eS(o),o=K0(e,t,r,n),o===null&&Bp(e,t,n,Hf,r),o===a)break;a=o}a!==null&&n.stopPropagation()}else Bp(e,t,n,null,r)}}var Hf=null;function K0(e,t,r,n){if(Hf=null,e=uy(n),e=bi(e),e!==null)if(t=Xi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Vk(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Hf=e,null}function oS(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nA()){case fy:return 1;case qk:return 4;case Uf:case aA:return 16;case Zk:return 536870912;default:return 16}default:return 16}}var Io=null,gy=null,Pf=null;function iS(){if(Pf)return Pf;var e,t=gy,r=t.length,n,a="value"in Io?Io.value:Io.textContent,o=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[o-n];n++);return Pf=a.slice(e,1<n?1-n:void 0)}function Af(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qu(){return!0}function bx(){return!1}function Zn(e){function t(r,n,a,o,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Qu:bx,this.isPropagationStopped=bx,this}return lr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qu)},persist:function(){},isPersistent:Qu}),t}var fl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},my=Zn(fl),_u=lr({},fl,{view:0,detail:0}),yA=Zn(_u),Mp,Cp,zl,mh=lr({},_u,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zl&&(zl&&e.type==="mousemove"?(Mp=e.screenX-zl.screenX,Cp=e.screenY-zl.screenY):Cp=Mp=0,zl=e),Mp)},movementY:function(e){return"movementY"in e?e.movementY:Cp}}),wx=Zn(mh),vA=lr({},mh,{dataTransfer:0}),xA=Zn(vA),bA=lr({},_u,{relatedTarget:0}),Ep=Zn(bA),wA=lr({},fl,{animationName:0,elapsedTime:0,pseudoElement:0}),kA=Zn(wA),SA=lr({},fl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jA=Zn(SA),_A=lr({},fl,{data:0}),kx=Zn(_A),OA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=PA[e])?!!t[e]:!1}function yy(){return AA}var MA=lr({},_u,{key:function(e){if(e.key){var t=OA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Af(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?NA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yy,charCode:function(e){return e.type==="keypress"?Af(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Af(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),CA=Zn(MA),EA=lr({},mh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sx=Zn(EA),TA=lr({},_u,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yy}),$A=Zn(TA),DA=lr({},fl,{propertyName:0,elapsedTime:0,pseudoElement:0}),RA=Zn(DA),LA=lr({},mh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),IA=Zn(LA),BA=[9,13,27,32],vy=fo&&"CompositionEvent"in window,cc=null;fo&&"documentMode"in document&&(cc=document.documentMode);var FA=fo&&"TextEvent"in window&&!cc,sS=fo&&(!vy||cc&&8<cc&&11>=cc),jx=" ",_x=!1;function lS(e,t){switch(e){case"keyup":return BA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ss=!1;function zA(e,t){switch(e){case"compositionend":return cS(t);case"keypress":return t.which!==32?null:(_x=!0,jx);case"textInput":return e=t.data,e===jx&&_x?null:e;default:return null}}function UA(e,t){if(ss)return e==="compositionend"||!vy&&lS(e,t)?(e=iS(),Pf=gy=Io=null,ss=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return sS&&t.locale!=="ko"?null:t.data;default:return null}}var WA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ox(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!WA[e.type]:t==="textarea"}function uS(e,t,r,n){zk(n),t=Vf(t,"onChange"),0<t.length&&(r=new my("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var uc=null,Mc=null;function GA(e){wS(e,0)}function yh(e){var t=us(e);if($k(t))return e}function HA(e,t){if(e==="change")return t}var fS=!1;if(fo){var Tp;if(fo){var $p="oninput"in document;if(!$p){var Nx=document.createElement("div");Nx.setAttribute("oninput","return;"),$p=typeof Nx.oninput=="function"}Tp=$p}else Tp=!1;fS=Tp&&(!document.documentMode||9<document.documentMode)}function Px(){uc&&(uc.detachEvent("onpropertychange",dS),Mc=uc=null)}function dS(e){if(e.propertyName==="value"&&yh(Mc)){var t=[];uS(t,Mc,e,uy(e)),Hk(GA,t)}}function VA(e,t,r){e==="focusin"?(Px(),uc=t,Mc=r,uc.attachEvent("onpropertychange",dS)):e==="focusout"&&Px()}function XA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yh(Mc)}function KA(e,t){if(e==="click")return yh(t)}function YA(e,t){if(e==="input"||e==="change")return yh(t)}function qA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ca=typeof Object.is=="function"?Object.is:qA;function Cc(e,t){if(Ca(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!M0.call(t,a)||!Ca(e[a],t[a]))return!1}return!0}function Ax(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mx(e,t){var r=Ax(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ax(r)}}function hS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function pS(){for(var e=window,t=Bf();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Bf(e.document)}return t}function xy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ZA(e){var t=pS(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&hS(r.ownerDocument.documentElement,r)){if(n!==null&&xy(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,o=Math.min(n.start,a);n=n.end===void 0?o:Math.min(n.end,a),!e.extend&&o>n&&(a=n,n=o,o=a),a=Mx(r,o);var i=Mx(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var QA=fo&&"documentMode"in document&&11>=document.documentMode,ls=null,Y0=null,fc=null,q0=!1;function Cx(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;q0||ls==null||ls!==Bf(n)||(n=ls,"selectionStart"in n&&xy(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),fc&&Cc(fc,n)||(fc=n,n=Vf(Y0,"onSelect"),0<n.length&&(t=new my("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ls)))}function Ju(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var cs={animationend:Ju("Animation","AnimationEnd"),animationiteration:Ju("Animation","AnimationIteration"),animationstart:Ju("Animation","AnimationStart"),transitionend:Ju("Transition","TransitionEnd")},Dp={},gS={};fo&&(gS=document.createElement("div").style,"AnimationEvent"in window||(delete cs.animationend.animation,delete cs.animationiteration.animation,delete cs.animationstart.animation),"TransitionEvent"in window||delete cs.transitionend.transition);function vh(e){if(Dp[e])return Dp[e];if(!cs[e])return e;var t=cs[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in gS)return Dp[e]=t[r];return e}var mS=vh("animationend"),yS=vh("animationiteration"),vS=vh("animationstart"),xS=vh("transitionend"),bS=new Map,Ex="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ti(e,t){bS.set(e,t),Vi(t,[e])}for(var Rp=0;Rp<Ex.length;Rp++){var Lp=Ex[Rp],JA=Lp.toLowerCase(),eM=Lp[0].toUpperCase()+Lp.slice(1);ti(JA,"on"+eM)}ti(mS,"onAnimationEnd");ti(yS,"onAnimationIteration");ti(vS,"onAnimationStart");ti("dblclick","onDoubleClick");ti("focusin","onFocus");ti("focusout","onBlur");ti(xS,"onTransitionEnd");As("onMouseEnter",["mouseout","mouseover"]);As("onMouseLeave",["mouseout","mouseover"]);As("onPointerEnter",["pointerout","pointerover"]);As("onPointerLeave",["pointerout","pointerover"]);Vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tM=new Set("cancel close invalid load scroll toggle".split(" ").concat(oc));function Tx(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,JP(n,t,void 0,e),e.currentTarget=null}function wS(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var s=n[i],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&a.isPropagationStopped())break e;Tx(a,s,c),o=l}else for(i=0;i<n.length;i++){if(s=n[i],l=s.instance,c=s.currentTarget,s=s.listener,l!==o&&a.isPropagationStopped())break e;Tx(a,s,c),o=l}}}if(zf)throw e=H0,zf=!1,H0=null,e}function Yt(e,t){var r=t[tg];r===void 0&&(r=t[tg]=new Set);var n=e+"__bubble";r.has(n)||(kS(t,e,2,!1),r.add(n))}function Ip(e,t,r){var n=0;t&&(n|=4),kS(r,e,n,t)}var ef="_reactListening"+Math.random().toString(36).slice(2);function Ec(e){if(!e[ef]){e[ef]=!0,Ak.forEach(function(r){r!=="selectionchange"&&(tM.has(r)||Ip(r,!1,e),Ip(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ef]||(t[ef]=!0,Ip("selectionchange",!1,t))}}function kS(e,t,r,n){switch(oS(t)){case 1:var a=gA;break;case 4:a=mA;break;default:a=py}r=a.bind(null,t,r,e),a=void 0,!G0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Bp(e,t,r,n,a){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var s=n.stateNode.containerInfo;if(s===a||s.nodeType===8&&s.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;i=i.return}for(;s!==null;){if(i=bi(s),i===null)return;if(l=i.tag,l===5||l===6){n=o=i;continue e}s=s.parentNode}}n=n.return}Hk(function(){var c=o,f=uy(r),d=[];e:{var h=bS.get(e);if(h!==void 0){var p=my,y=e;switch(e){case"keypress":if(Af(r)===0)break e;case"keydown":case"keyup":p=CA;break;case"focusin":y="focus",p=Ep;break;case"focusout":y="blur",p=Ep;break;case"beforeblur":case"afterblur":p=Ep;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=wx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=xA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=$A;break;case mS:case yS:case vS:p=kA;break;case xS:p=RA;break;case"scroll":p=yA;break;case"wheel":p=IA;break;case"copy":case"cut":case"paste":p=jA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Sx}var v=(t&4)!==0,x=!v&&e==="scroll",m=v?h!==null?h+"Capture":null:h;v=[];for(var g=c,b;g!==null;){b=g;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,m!==null&&(S=Oc(g,m),S!=null&&v.push(Tc(g,S,b)))),x)break;g=g.return}0<v.length&&(h=new p(h,y,null,r,f),d.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==U0&&(y=r.relatedTarget||r.fromElement)&&(bi(y)||y[ho]))break e;if((p||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=r.relatedTarget||r.toElement,p=c,y=y?bi(y):null,y!==null&&(x=Xi(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=c),p!==y)){if(v=wx,S="onMouseLeave",m="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(v=Sx,S="onPointerLeave",m="onPointerEnter",g="pointer"),x=p==null?h:us(p),b=y==null?h:us(y),h=new v(S,g+"leave",p,r,f),h.target=x,h.relatedTarget=b,S=null,bi(f)===c&&(v=new v(m,g+"enter",y,r,f),v.target=b,v.relatedTarget=x,S=v),x=S,p&&y)t:{for(v=p,m=y,g=0,b=v;b;b=es(b))g++;for(b=0,S=m;S;S=es(S))b++;for(;0<g-b;)v=es(v),g--;for(;0<b-g;)m=es(m),b--;for(;g--;){if(v===m||m!==null&&v===m.alternate)break t;v=es(v),m=es(m)}v=null}else v=null;p!==null&&$x(d,h,p,v,!1),y!==null&&x!==null&&$x(d,x,y,v,!0)}}e:{if(h=c?us(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=HA;else if(Ox(h))if(fS)w=YA;else{w=XA;var k=VA}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=KA);if(w&&(w=w(e,c))){uS(d,w,r,f);break e}k&&k(e,h,c),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&L0(h,"number",h.value)}switch(k=c?us(c):window,e){case"focusin":(Ox(k)||k.contentEditable==="true")&&(ls=k,Y0=c,fc=null);break;case"focusout":fc=Y0=ls=null;break;case"mousedown":q0=!0;break;case"contextmenu":case"mouseup":case"dragend":q0=!1,Cx(d,r,f);break;case"selectionchange":if(QA)break;case"keydown":case"keyup":Cx(d,r,f)}var _;if(vy)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else ss?lS(e,r)&&(O="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(O="onCompositionStart");O&&(sS&&r.locale!=="ko"&&(ss||O!=="onCompositionStart"?O==="onCompositionEnd"&&ss&&(_=iS()):(Io=f,gy="value"in Io?Io.value:Io.textContent,ss=!0)),k=Vf(c,O),0<k.length&&(O=new kx(O,e,null,r,f),d.push({event:O,listeners:k}),_?O.data=_:(_=cS(r),_!==null&&(O.data=_)))),(_=FA?zA(e,r):UA(e,r))&&(c=Vf(c,"onBeforeInput"),0<c.length&&(f=new kx("onBeforeInput","beforeinput",null,r,f),d.push({event:f,listeners:c}),f.data=_))}wS(d,t)})}function Tc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Vf(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=Oc(e,r),o!=null&&n.unshift(Tc(e,o,a)),o=Oc(e,t),o!=null&&n.push(Tc(e,o,a))),e=e.return}return n}function es(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function $x(e,t,r,n,a){for(var o=t._reactName,i=[];r!==null&&r!==n;){var s=r,l=s.alternate,c=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&c!==null&&(s=c,a?(l=Oc(r,o),l!=null&&i.unshift(Tc(r,l,s))):a||(l=Oc(r,o),l!=null&&i.push(Tc(r,l,s)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var rM=/\r\n?/g,nM=/\u0000|\uFFFD/g;function Dx(e){return(typeof e=="string"?e:""+e).replace(rM,`
`).replace(nM,"")}function tf(e,t,r){if(t=Dx(t),Dx(e)!==t&&r)throw Error(se(425))}function Xf(){}var Z0=null,Q0=null;function J0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var eg=typeof setTimeout=="function"?setTimeout:void 0,aM=typeof clearTimeout=="function"?clearTimeout:void 0,Rx=typeof Promise=="function"?Promise:void 0,oM=typeof queueMicrotask=="function"?queueMicrotask:typeof Rx<"u"?function(e){return Rx.resolve(null).then(e).catch(iM)}:eg;function iM(e){setTimeout(function(){throw e})}function Fp(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Ac(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Ac(t)}function Vo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Lx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var dl=Math.random().toString(36).slice(2),Fa="__reactFiber$"+dl,$c="__reactProps$"+dl,ho="__reactContainer$"+dl,tg="__reactEvents$"+dl,sM="__reactListeners$"+dl,lM="__reactHandles$"+dl;function bi(e){var t=e[Fa];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ho]||r[Fa]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Lx(e);e!==null;){if(r=e[Fa])return r;e=Lx(e)}return t}e=r,r=e.parentNode}return null}function Ou(e){return e=e[Fa]||e[ho],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function us(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(se(33))}function xh(e){return e[$c]||null}var rg=[],fs=-1;function ri(e){return{current:e}}function Qt(e){0>fs||(e.current=rg[fs],rg[fs]=null,fs--)}function Wt(e,t){fs++,rg[fs]=e.current,e.current=t}var ei={},gn=ri(ei),Dn=ri(!1),$i=ei;function Ms(e,t){var r=e.type.contextTypes;if(!r)return ei;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in r)a[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Rn(e){return e=e.childContextTypes,e!=null}function Kf(){Qt(Dn),Qt(gn)}function Ix(e,t,r){if(gn.current!==ei)throw Error(se(168));Wt(gn,t),Wt(Dn,r)}function SS(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(se(108,VP(e)||"Unknown",a));return lr({},r,n)}function Yf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ei,$i=gn.current,Wt(gn,e),Wt(Dn,Dn.current),!0}function Bx(e,t,r){var n=e.stateNode;if(!n)throw Error(se(169));r?(e=SS(e,t,$i),n.__reactInternalMemoizedMergedChildContext=e,Qt(Dn),Qt(gn),Wt(gn,e)):Qt(Dn),Wt(Dn,r)}var eo=null,bh=!1,zp=!1;function jS(e){eo===null?eo=[e]:eo.push(e)}function cM(e){bh=!0,jS(e)}function ni(){if(!zp&&eo!==null){zp=!0;var e=0,t=jt;try{var r=eo;for(jt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}eo=null,bh=!1}catch(a){throw eo!==null&&(eo=eo.slice(e+1)),Yk(fy,ni),a}finally{jt=t,zp=!1}}return null}var ds=[],hs=0,qf=null,Zf=0,oa=[],ia=0,Di=null,to=1,ro="";function gi(e,t){ds[hs++]=Zf,ds[hs++]=qf,qf=e,Zf=t}function _S(e,t,r){oa[ia++]=to,oa[ia++]=ro,oa[ia++]=Di,Di=e;var n=to;e=ro;var a=32-Aa(n)-1;n&=~(1<<a),r+=1;var o=32-Aa(t)+a;if(30<o){var i=a-a%5;o=(n&(1<<i)-1).toString(32),n>>=i,a-=i,to=1<<32-Aa(t)+a|r<<a|n,ro=o+e}else to=1<<o|r<<a|n,ro=e}function by(e){e.return!==null&&(gi(e,1),_S(e,1,0))}function wy(e){for(;e===qf;)qf=ds[--hs],ds[hs]=null,Zf=ds[--hs],ds[hs]=null;for(;e===Di;)Di=oa[--ia],oa[ia]=null,ro=oa[--ia],oa[ia]=null,to=oa[--ia],oa[ia]=null}var Kn=null,Xn=null,tr=!1,Oa=null;function OS(e,t){var r=sa(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Fx(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Kn=e,Xn=Vo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Kn=e,Xn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Di!==null?{id:to,overflow:ro}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=sa(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Kn=e,Xn=null,!0):!1;default:return!1}}function ng(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ag(e){if(tr){var t=Xn;if(t){var r=t;if(!Fx(e,t)){if(ng(e))throw Error(se(418));t=Vo(r.nextSibling);var n=Kn;t&&Fx(e,t)?OS(n,r):(e.flags=e.flags&-4097|2,tr=!1,Kn=e)}}else{if(ng(e))throw Error(se(418));e.flags=e.flags&-4097|2,tr=!1,Kn=e}}}function zx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Kn=e}function rf(e){if(e!==Kn)return!1;if(!tr)return zx(e),tr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!J0(e.type,e.memoizedProps)),t&&(t=Xn)){if(ng(e))throw NS(),Error(se(418));for(;t;)OS(e,t),t=Vo(t.nextSibling)}if(zx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(se(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Xn=Vo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Xn=null}}else Xn=Kn?Vo(e.stateNode.nextSibling):null;return!0}function NS(){for(var e=Xn;e;)e=Vo(e.nextSibling)}function Cs(){Xn=Kn=null,tr=!1}function ky(e){Oa===null?Oa=[e]:Oa.push(e)}var uM=xo.ReactCurrentBatchConfig;function Ul(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(se(309));var n=r.stateNode}if(!n)throw Error(se(147,e));var a=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var s=a.refs;i===null?delete s[o]:s[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(se(284));if(!r._owner)throw Error(se(290,e))}return e}function nf(e,t){throw e=Object.prototype.toString.call(t),Error(se(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ux(e){var t=e._init;return t(e._payload)}function PS(e){function t(m,g){if(e){var b=m.deletions;b===null?(m.deletions=[g],m.flags|=16):b.push(g)}}function r(m,g){if(!e)return null;for(;g!==null;)t(m,g),g=g.sibling;return null}function n(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function a(m,g){return m=qo(m,g),m.index=0,m.sibling=null,m}function o(m,g,b){return m.index=b,e?(b=m.alternate,b!==null?(b=b.index,b<g?(m.flags|=2,g):b):(m.flags|=2,g)):(m.flags|=1048576,g)}function i(m){return e&&m.alternate===null&&(m.flags|=2),m}function s(m,g,b,S){return g===null||g.tag!==6?(g=Kp(b,m.mode,S),g.return=m,g):(g=a(g,b),g.return=m,g)}function l(m,g,b,S){var w=b.type;return w===is?f(m,g,b.props.children,S,b.key):g!==null&&(g.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Eo&&Ux(w)===g.type)?(S=a(g,b.props),S.ref=Ul(m,g,b),S.return=m,S):(S=Rf(b.type,b.key,b.props,null,m.mode,S),S.ref=Ul(m,g,b),S.return=m,S)}function c(m,g,b,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==b.containerInfo||g.stateNode.implementation!==b.implementation?(g=Yp(b,m.mode,S),g.return=m,g):(g=a(g,b.children||[]),g.return=m,g)}function f(m,g,b,S,w){return g===null||g.tag!==7?(g=Mi(b,m.mode,S,w),g.return=m,g):(g=a(g,b),g.return=m,g)}function d(m,g,b){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Kp(""+g,m.mode,b),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Vu:return b=Rf(g.type,g.key,g.props,null,m.mode,b),b.ref=Ul(m,null,g),b.return=m,b;case os:return g=Yp(g,m.mode,b),g.return=m,g;case Eo:var S=g._init;return d(m,S(g._payload),b)}if(nc(g)||Ll(g))return g=Mi(g,m.mode,b,null),g.return=m,g;nf(m,g)}return null}function h(m,g,b,S){var w=g!==null?g.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:s(m,g,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Vu:return b.key===w?l(m,g,b,S):null;case os:return b.key===w?c(m,g,b,S):null;case Eo:return w=b._init,h(m,g,w(b._payload),S)}if(nc(b)||Ll(b))return w!==null?null:f(m,g,b,S,null);nf(m,b)}return null}function p(m,g,b,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return m=m.get(b)||null,s(g,m,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Vu:return m=m.get(S.key===null?b:S.key)||null,l(g,m,S,w);case os:return m=m.get(S.key===null?b:S.key)||null,c(g,m,S,w);case Eo:var k=S._init;return p(m,g,b,k(S._payload),w)}if(nc(S)||Ll(S))return m=m.get(b)||null,f(g,m,S,w,null);nf(g,S)}return null}function y(m,g,b,S){for(var w=null,k=null,_=g,O=g=0,N=null;_!==null&&O<b.length;O++){_.index>O?(N=_,_=null):N=_.sibling;var P=h(m,_,b[O],S);if(P===null){_===null&&(_=N);break}e&&_&&P.alternate===null&&t(m,_),g=o(P,g,O),k===null?w=P:k.sibling=P,k=P,_=N}if(O===b.length)return r(m,_),tr&&gi(m,O),w;if(_===null){for(;O<b.length;O++)_=d(m,b[O],S),_!==null&&(g=o(_,g,O),k===null?w=_:k.sibling=_,k=_);return tr&&gi(m,O),w}for(_=n(m,_);O<b.length;O++)N=p(_,m,O,b[O],S),N!==null&&(e&&N.alternate!==null&&_.delete(N.key===null?O:N.key),g=o(N,g,O),k===null?w=N:k.sibling=N,k=N);return e&&_.forEach(function(M){return t(m,M)}),tr&&gi(m,O),w}function v(m,g,b,S){var w=Ll(b);if(typeof w!="function")throw Error(se(150));if(b=w.call(b),b==null)throw Error(se(151));for(var k=w=null,_=g,O=g=0,N=null,P=b.next();_!==null&&!P.done;O++,P=b.next()){_.index>O?(N=_,_=null):N=_.sibling;var M=h(m,_,P.value,S);if(M===null){_===null&&(_=N);break}e&&_&&M.alternate===null&&t(m,_),g=o(M,g,O),k===null?w=M:k.sibling=M,k=M,_=N}if(P.done)return r(m,_),tr&&gi(m,O),w;if(_===null){for(;!P.done;O++,P=b.next())P=d(m,P.value,S),P!==null&&(g=o(P,g,O),k===null?w=P:k.sibling=P,k=P);return tr&&gi(m,O),w}for(_=n(m,_);!P.done;O++,P=b.next())P=p(_,m,O,P.value,S),P!==null&&(e&&P.alternate!==null&&_.delete(P.key===null?O:P.key),g=o(P,g,O),k===null?w=P:k.sibling=P,k=P);return e&&_.forEach(function(C){return t(m,C)}),tr&&gi(m,O),w}function x(m,g,b,S){if(typeof b=="object"&&b!==null&&b.type===is&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Vu:e:{for(var w=b.key,k=g;k!==null;){if(k.key===w){if(w=b.type,w===is){if(k.tag===7){r(m,k.sibling),g=a(k,b.props.children),g.return=m,m=g;break e}}else if(k.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Eo&&Ux(w)===k.type){r(m,k.sibling),g=a(k,b.props),g.ref=Ul(m,k,b),g.return=m,m=g;break e}r(m,k);break}else t(m,k);k=k.sibling}b.type===is?(g=Mi(b.props.children,m.mode,S,b.key),g.return=m,m=g):(S=Rf(b.type,b.key,b.props,null,m.mode,S),S.ref=Ul(m,g,b),S.return=m,m=S)}return i(m);case os:e:{for(k=b.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===b.containerInfo&&g.stateNode.implementation===b.implementation){r(m,g.sibling),g=a(g,b.children||[]),g.return=m,m=g;break e}else{r(m,g);break}else t(m,g);g=g.sibling}g=Yp(b,m.mode,S),g.return=m,m=g}return i(m);case Eo:return k=b._init,x(m,g,k(b._payload),S)}if(nc(b))return y(m,g,b,S);if(Ll(b))return v(m,g,b,S);nf(m,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,g!==null&&g.tag===6?(r(m,g.sibling),g=a(g,b),g.return=m,m=g):(r(m,g),g=Kp(b,m.mode,S),g.return=m,m=g),i(m)):r(m,g)}return x}var Es=PS(!0),AS=PS(!1),Qf=ri(null),Jf=null,ps=null,Sy=null;function jy(){Sy=ps=Jf=null}function _y(e){var t=Qf.current;Qt(Qf),e._currentValue=t}function og(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function js(e,t){Jf=e,Sy=ps=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Tn=!0),e.firstContext=null)}function da(e){var t=e._currentValue;if(Sy!==e)if(e={context:e,memoizedValue:t,next:null},ps===null){if(Jf===null)throw Error(se(308));ps=e,Jf.dependencies={lanes:0,firstContext:e}}else ps=ps.next=e;return t}var wi=null;function Oy(e){wi===null?wi=[e]:wi.push(e)}function MS(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Oy(t)):(r.next=a.next,a.next=r),t.interleaved=r,po(e,n)}function po(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var To=!1;function Ny(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function io(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xo(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,st&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,po(e,r)}return a=n.interleaved,a===null?(t.next=t,Oy(n)):(t.next=a.next,a.next=t),n.interleaved=t,po(e,r)}function Mf(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,dy(e,r)}}function Wx(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?a=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?a=o=t:o=o.next=t}else a=o=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ed(e,t,r,n){var a=e.updateQueue;To=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,s=a.shared.pending;if(s!==null){a.shared.pending=null;var l=s,c=l.next;l.next=null,i===null?o=c:i.next=c,i=l;var f=e.alternate;f!==null&&(f=f.updateQueue,s=f.lastBaseUpdate,s!==i&&(s===null?f.firstBaseUpdate=c:s.next=c,f.lastBaseUpdate=l))}if(o!==null){var d=a.baseState;i=0,f=c=l=null,s=o;do{var h=s.lane,p=s.eventTime;if((n&h)===h){f!==null&&(f=f.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var y=e,v=s;switch(h=t,p=r,v.tag){case 1:if(y=v.payload,typeof y=="function"){d=y.call(p,d,h);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,h=typeof y=="function"?y.call(p,d,h):y,h==null)break e;d=lr({},d,h);break e;case 2:To=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},f===null?(c=f=p,l=d):f=f.next=p,i|=h;if(s=s.next,s===null){if(s=a.shared.pending,s===null)break;h=s,s=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(f===null&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=f,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);Li|=i,e.lanes=i,e.memoizedState=d}}function Gx(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(se(191,a));a.call(n)}}}var Nu={},Ga=ri(Nu),Dc=ri(Nu),Rc=ri(Nu);function ki(e){if(e===Nu)throw Error(se(174));return e}function Py(e,t){switch(Wt(Rc,t),Wt(Dc,e),Wt(Ga,Nu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:B0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=B0(t,e)}Qt(Ga),Wt(Ga,t)}function Ts(){Qt(Ga),Qt(Dc),Qt(Rc)}function ES(e){ki(Rc.current);var t=ki(Ga.current),r=B0(t,e.type);t!==r&&(Wt(Dc,e),Wt(Ga,r))}function Ay(e){Dc.current===e&&(Qt(Ga),Qt(Dc))}var ir=ri(0);function td(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Up=[];function My(){for(var e=0;e<Up.length;e++)Up[e]._workInProgressVersionPrimary=null;Up.length=0}var Cf=xo.ReactCurrentDispatcher,Wp=xo.ReactCurrentBatchConfig,Ri=0,sr=null,Tr=null,Wr=null,rd=!1,dc=!1,Lc=0,fM=0;function ln(){throw Error(se(321))}function Cy(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ca(e[r],t[r]))return!1;return!0}function Ey(e,t,r,n,a,o){if(Ri=o,sr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Cf.current=e===null||e.memoizedState===null?gM:mM,e=r(n,a),dc){o=0;do{if(dc=!1,Lc=0,25<=o)throw Error(se(301));o+=1,Wr=Tr=null,t.updateQueue=null,Cf.current=yM,e=r(n,a)}while(dc)}if(Cf.current=nd,t=Tr!==null&&Tr.next!==null,Ri=0,Wr=Tr=sr=null,rd=!1,t)throw Error(se(300));return e}function Ty(){var e=Lc!==0;return Lc=0,e}function Ba(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wr===null?sr.memoizedState=Wr=e:Wr=Wr.next=e,Wr}function ha(){if(Tr===null){var e=sr.alternate;e=e!==null?e.memoizedState:null}else e=Tr.next;var t=Wr===null?sr.memoizedState:Wr.next;if(t!==null)Wr=t,Tr=e;else{if(e===null)throw Error(se(310));Tr=e,e={memoizedState:Tr.memoizedState,baseState:Tr.baseState,baseQueue:Tr.baseQueue,queue:Tr.queue,next:null},Wr===null?sr.memoizedState=Wr=e:Wr=Wr.next=e}return Wr}function Ic(e,t){return typeof t=="function"?t(e):t}function Gp(e){var t=ha(),r=t.queue;if(r===null)throw Error(se(311));r.lastRenderedReducer=e;var n=Tr,a=n.baseQueue,o=r.pending;if(o!==null){if(a!==null){var i=a.next;a.next=o.next,o.next=i}n.baseQueue=a=o,r.pending=null}if(a!==null){o=a.next,n=n.baseState;var s=i=null,l=null,c=o;do{var f=c.lane;if((Ri&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=d,i=n):l=l.next=d,sr.lanes|=f,Li|=f}c=c.next}while(c!==null&&c!==o);l===null?i=n:l.next=s,Ca(n,t.memoizedState)||(Tn=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do o=a.lane,sr.lanes|=o,Li|=o,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Hp(e){var t=ha(),r=t.queue;if(r===null)throw Error(se(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,o=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do o=e(o,i.action),i=i.next;while(i!==a);Ca(o,t.memoizedState)||(Tn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function TS(){}function $S(e,t){var r=sr,n=ha(),a=t(),o=!Ca(n.memoizedState,a);if(o&&(n.memoizedState=a,Tn=!0),n=n.queue,$y(LS.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Wr!==null&&Wr.memoizedState.tag&1){if(r.flags|=2048,Bc(9,RS.bind(null,r,n,a,t),void 0,null),Gr===null)throw Error(se(349));Ri&30||DS(r,t,a)}return a}function DS(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=sr.updateQueue,t===null?(t={lastEffect:null,stores:null},sr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function RS(e,t,r,n){t.value=r,t.getSnapshot=n,IS(t)&&BS(e)}function LS(e,t,r){return r(function(){IS(t)&&BS(e)})}function IS(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ca(e,r)}catch{return!0}}function BS(e){var t=po(e,1);t!==null&&Ma(t,e,1,-1)}function Hx(e){var t=Ba();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ic,lastRenderedState:e},t.queue=e,e=e.dispatch=pM.bind(null,sr,e),[t.memoizedState,e]}function Bc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=sr.updateQueue,t===null?(t={lastEffect:null,stores:null},sr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function FS(){return ha().memoizedState}function Ef(e,t,r,n){var a=Ba();sr.flags|=e,a.memoizedState=Bc(1|t,r,void 0,n===void 0?null:n)}function wh(e,t,r,n){var a=ha();n=n===void 0?null:n;var o=void 0;if(Tr!==null){var i=Tr.memoizedState;if(o=i.destroy,n!==null&&Cy(n,i.deps)){a.memoizedState=Bc(t,r,o,n);return}}sr.flags|=e,a.memoizedState=Bc(1|t,r,o,n)}function Vx(e,t){return Ef(8390656,8,e,t)}function $y(e,t){return wh(2048,8,e,t)}function zS(e,t){return wh(4,2,e,t)}function US(e,t){return wh(4,4,e,t)}function WS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function GS(e,t,r){return r=r!=null?r.concat([e]):null,wh(4,4,WS.bind(null,t,e),r)}function Dy(){}function HS(e,t){var r=ha();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Cy(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function VS(e,t){var r=ha();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Cy(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function XS(e,t,r){return Ri&21?(Ca(r,t)||(r=Qk(),sr.lanes|=r,Li|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Tn=!0),e.memoizedState=r)}function dM(e,t){var r=jt;jt=r!==0&&4>r?r:4,e(!0);var n=Wp.transition;Wp.transition={};try{e(!1),t()}finally{jt=r,Wp.transition=n}}function KS(){return ha().memoizedState}function hM(e,t,r){var n=Yo(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},YS(e))qS(t,r);else if(r=MS(e,t,r,n),r!==null){var a=_n();Ma(r,e,n,a),ZS(r,t,n)}}function pM(e,t,r){var n=Yo(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(YS(e))qS(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,s=o(i,r);if(a.hasEagerState=!0,a.eagerState=s,Ca(s,i)){var l=t.interleaved;l===null?(a.next=a,Oy(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=MS(e,t,a,n),r!==null&&(a=_n(),Ma(r,e,n,a),ZS(r,t,n))}}function YS(e){var t=e.alternate;return e===sr||t!==null&&t===sr}function qS(e,t){dc=rd=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function ZS(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,dy(e,r)}}var nd={readContext:da,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useInsertionEffect:ln,useLayoutEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useMutableSource:ln,useSyncExternalStore:ln,useId:ln,unstable_isNewReconciler:!1},gM={readContext:da,useCallback:function(e,t){return Ba().memoizedState=[e,t===void 0?null:t],e},useContext:da,useEffect:Vx,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ef(4194308,4,WS.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ef(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ef(4,2,e,t)},useMemo:function(e,t){var r=Ba();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ba();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=hM.bind(null,sr,e),[n.memoizedState,e]},useRef:function(e){var t=Ba();return e={current:e},t.memoizedState=e},useState:Hx,useDebugValue:Dy,useDeferredValue:function(e){return Ba().memoizedState=e},useTransition:function(){var e=Hx(!1),t=e[0];return e=dM.bind(null,e[1]),Ba().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=sr,a=Ba();if(tr){if(r===void 0)throw Error(se(407));r=r()}else{if(r=t(),Gr===null)throw Error(se(349));Ri&30||DS(n,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,Vx(LS.bind(null,n,o,e),[e]),n.flags|=2048,Bc(9,RS.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Ba(),t=Gr.identifierPrefix;if(tr){var r=ro,n=to;r=(n&~(1<<32-Aa(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Lc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=fM++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mM={readContext:da,useCallback:HS,useContext:da,useEffect:$y,useImperativeHandle:GS,useInsertionEffect:zS,useLayoutEffect:US,useMemo:VS,useReducer:Gp,useRef:FS,useState:function(){return Gp(Ic)},useDebugValue:Dy,useDeferredValue:function(e){var t=ha();return XS(t,Tr.memoizedState,e)},useTransition:function(){var e=Gp(Ic)[0],t=ha().memoizedState;return[e,t]},useMutableSource:TS,useSyncExternalStore:$S,useId:KS,unstable_isNewReconciler:!1},yM={readContext:da,useCallback:HS,useContext:da,useEffect:$y,useImperativeHandle:GS,useInsertionEffect:zS,useLayoutEffect:US,useMemo:VS,useReducer:Hp,useRef:FS,useState:function(){return Hp(Ic)},useDebugValue:Dy,useDeferredValue:function(e){var t=ha();return Tr===null?t.memoizedState=e:XS(t,Tr.memoizedState,e)},useTransition:function(){var e=Hp(Ic)[0],t=ha().memoizedState;return[e,t]},useMutableSource:TS,useSyncExternalStore:$S,useId:KS,unstable_isNewReconciler:!1};function ka(e,t){if(e&&e.defaultProps){t=lr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ig(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:lr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var kh={isMounted:function(e){return(e=e._reactInternals)?Xi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=_n(),a=Yo(e),o=io(n,a);o.payload=t,r!=null&&(o.callback=r),t=Xo(e,o,a),t!==null&&(Ma(t,e,a,n),Mf(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=_n(),a=Yo(e),o=io(n,a);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Xo(e,o,a),t!==null&&(Ma(t,e,a,n),Mf(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=_n(),n=Yo(e),a=io(r,n);a.tag=2,t!=null&&(a.callback=t),t=Xo(e,a,n),t!==null&&(Ma(t,e,n,r),Mf(t,e,n))}};function Xx(e,t,r,n,a,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!Cc(r,n)||!Cc(a,o):!0}function QS(e,t,r){var n=!1,a=ei,o=t.contextType;return typeof o=="object"&&o!==null?o=da(o):(a=Rn(t)?$i:gn.current,n=t.contextTypes,o=(n=n!=null)?Ms(e,a):ei),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=kh,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function Kx(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&kh.enqueueReplaceState(t,t.state,null)}function sg(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Ny(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=da(o):(o=Rn(t)?$i:gn.current,a.context=Ms(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(ig(e,t,o,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&kh.enqueueReplaceState(a,a.state,null),ed(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function $s(e,t){try{var r="",n=t;do r+=HP(n),n=n.return;while(n);var a=r}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function Vp(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function lg(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var vM=typeof WeakMap=="function"?WeakMap:Map;function JS(e,t,r){r=io(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){od||(od=!0,vg=n),lg(e,t)},r}function ej(e,t,r){r=io(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){lg(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){lg(e,t),typeof n!="function"&&(Ko===null?Ko=new Set([this]):Ko.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Yx(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new vM;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=EM.bind(null,e,t,r),t.then(e,e))}function qx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Zx(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=io(-1,1),t.tag=2,Xo(r,t,1))),r.lanes|=1),e)}var xM=xo.ReactCurrentOwner,Tn=!1;function kn(e,t,r,n){t.child=e===null?AS(t,null,r,n):Es(t,e.child,r,n)}function Qx(e,t,r,n,a){r=r.render;var o=t.ref;return js(t,a),n=Ey(e,t,r,n,o,a),r=Ty(),e!==null&&!Tn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,go(e,t,a)):(tr&&r&&by(t),t.flags|=1,kn(e,t,n,a),t.child)}function Jx(e,t,r,n,a){if(e===null){var o=r.type;return typeof o=="function"&&!Wy(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,tj(e,t,o,n,a)):(e=Rf(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:Cc,r(i,n)&&e.ref===t.ref)return go(e,t,a)}return t.flags|=1,e=qo(o,n),e.ref=t.ref,e.return=t,t.child=e}function tj(e,t,r,n,a){if(e!==null){var o=e.memoizedProps;if(Cc(o,n)&&e.ref===t.ref)if(Tn=!1,t.pendingProps=n=o,(e.lanes&a)!==0)e.flags&131072&&(Tn=!0);else return t.lanes=e.lanes,go(e,t,a)}return cg(e,t,r,n,a)}function rj(e,t,r){var n=t.pendingProps,a=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wt(ms,Gn),Gn|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Wt(ms,Gn),Gn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Wt(ms,Gn),Gn|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Wt(ms,Gn),Gn|=n;return kn(e,t,a,r),t.child}function nj(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function cg(e,t,r,n,a){var o=Rn(r)?$i:gn.current;return o=Ms(t,o),js(t,a),r=Ey(e,t,r,n,o,a),n=Ty(),e!==null&&!Tn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,go(e,t,a)):(tr&&n&&by(t),t.flags|=1,kn(e,t,r,a),t.child)}function eb(e,t,r,n,a){if(Rn(r)){var o=!0;Yf(t)}else o=!1;if(js(t,a),t.stateNode===null)Tf(e,t),QS(t,r,n),sg(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,s=t.memoizedProps;i.props=s;var l=i.context,c=r.contextType;typeof c=="object"&&c!==null?c=da(c):(c=Rn(r)?$i:gn.current,c=Ms(t,c));var f=r.getDerivedStateFromProps,d=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==n||l!==c)&&Kx(t,i,n,c),To=!1;var h=t.memoizedState;i.state=h,ed(t,n,i,a),l=t.memoizedState,s!==n||h!==l||Dn.current||To?(typeof f=="function"&&(ig(t,r,f,n),l=t.memoizedState),(s=To||Xx(t,r,s,n,h,l,c))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),i.props=n,i.state=l,i.context=c,n=s):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,CS(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ka(t.type,s),i.props=c,d=t.pendingProps,h=i.context,l=r.contextType,typeof l=="object"&&l!==null?l=da(l):(l=Rn(r)?$i:gn.current,l=Ms(t,l));var p=r.getDerivedStateFromProps;(f=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==d||h!==l)&&Kx(t,i,n,l),To=!1,h=t.memoizedState,i.state=h,ed(t,n,i,a);var y=t.memoizedState;s!==d||h!==y||Dn.current||To?(typeof p=="function"&&(ig(t,r,p,n),y=t.memoizedState),(c=To||Xx(t,r,c,n,h,y,l)||!1)?(f||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,y,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,y,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),i.props=n,i.state=y,i.context=l,n=c):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return ug(e,t,r,n,o,a)}function ug(e,t,r,n,a,o){nj(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&Bx(t,r,!1),go(e,t,o);n=t.stateNode,xM.current=t;var s=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Es(t,e.child,null,o),t.child=Es(t,null,s,o)):kn(e,t,s,o),t.memoizedState=n.state,a&&Bx(t,r,!0),t.child}function aj(e){var t=e.stateNode;t.pendingContext?Ix(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ix(e,t.context,!1),Py(e,t.containerInfo)}function tb(e,t,r,n,a){return Cs(),ky(a),t.flags|=256,kn(e,t,r,n),t.child}var fg={dehydrated:null,treeContext:null,retryLane:0};function dg(e){return{baseLanes:e,cachePool:null,transitions:null}}function oj(e,t,r){var n=t.pendingProps,a=ir.current,o=!1,i=(t.flags&128)!==0,s;if((s=i)||(s=e!==null&&e.memoizedState===null?!1:(a&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Wt(ir,a&1),e===null)return ag(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=_h(i,n,0,null),e=Mi(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=dg(r),t.memoizedState=fg,e):Ry(t,i));if(a=e.memoizedState,a!==null&&(s=a.dehydrated,s!==null))return bM(e,t,i,n,s,a,r);if(o){o=n.fallback,i=t.mode,a=e.child,s=a.sibling;var l={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=qo(a,l),n.subtreeFlags=a.subtreeFlags&14680064),s!==null?o=qo(s,o):(o=Mi(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?dg(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=fg,n}return o=e.child,e=o.sibling,n=qo(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Ry(e,t){return t=_h({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function af(e,t,r,n){return n!==null&&ky(n),Es(t,e.child,null,r),e=Ry(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bM(e,t,r,n,a,o,i){if(r)return t.flags&256?(t.flags&=-257,n=Vp(Error(se(422))),af(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,a=t.mode,n=_h({mode:"visible",children:n.children},a,0,null),o=Mi(o,a,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&Es(t,e.child,null,i),t.child.memoizedState=dg(i),t.memoizedState=fg,o);if(!(t.mode&1))return af(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var s=n.dgst;return n=s,o=Error(se(419)),n=Vp(o,n,void 0),af(e,t,i,n)}if(s=(i&e.childLanes)!==0,Tn||s){if(n=Gr,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,po(e,a),Ma(n,e,a,-1))}return Uy(),n=Vp(Error(se(421))),af(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=TM.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,Xn=Vo(a.nextSibling),Kn=t,tr=!0,Oa=null,e!==null&&(oa[ia++]=to,oa[ia++]=ro,oa[ia++]=Di,to=e.id,ro=e.overflow,Di=t),t=Ry(t,n.children),t.flags|=4096,t)}function rb(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),og(e.return,t,r)}function Xp(e,t,r,n,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=a)}function ij(e,t,r){var n=t.pendingProps,a=n.revealOrder,o=n.tail;if(kn(e,t,n.children,r),n=ir.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rb(e,r,t);else if(e.tag===19)rb(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Wt(ir,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&td(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Xp(t,!1,a,r,o);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&td(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Xp(t,!0,r,null,o);break;case"together":Xp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Tf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function go(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Li|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(se(153));if(t.child!==null){for(e=t.child,r=qo(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=qo(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function wM(e,t,r){switch(t.tag){case 3:aj(t),Cs();break;case 5:ES(t);break;case 1:Rn(t.type)&&Yf(t);break;case 4:Py(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Wt(Qf,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Wt(ir,ir.current&1),t.flags|=128,null):r&t.child.childLanes?oj(e,t,r):(Wt(ir,ir.current&1),e=go(e,t,r),e!==null?e.sibling:null);Wt(ir,ir.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return ij(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Wt(ir,ir.current),n)break;return null;case 22:case 23:return t.lanes=0,rj(e,t,r)}return go(e,t,r)}var sj,hg,lj,cj;sj=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};hg=function(){};lj=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,ki(Ga.current);var o=null;switch(r){case"input":a=D0(e,a),n=D0(e,n),o=[];break;case"select":a=lr({},a,{value:void 0}),n=lr({},n,{value:void 0}),o=[];break;case"textarea":a=I0(e,a),n=I0(e,n),o=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Xf)}F0(r,n);var i;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var s=a[c];for(i in s)s.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(jc.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in n){var l=n[c];if(s=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(i in s)!s.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in l)l.hasOwnProperty(i)&&s[i]!==l[i]&&(r||(r={}),r[i]=l[i])}else r||(o||(o=[]),o.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(jc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Yt("scroll",e),o||s===l||(o=[])):(o=o||[]).push(c,l))}r&&(o=o||[]).push("style",r);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};cj=function(e,t,r,n){r!==n&&(t.flags|=4)};function Wl(e,t){if(!tr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function cn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function kM(e,t,r){var n=t.pendingProps;switch(wy(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cn(t),null;case 1:return Rn(t.type)&&Kf(),cn(t),null;case 3:return n=t.stateNode,Ts(),Qt(Dn),Qt(gn),My(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(rf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Oa!==null&&(wg(Oa),Oa=null))),hg(e,t),cn(t),null;case 5:Ay(t);var a=ki(Rc.current);if(r=t.type,e!==null&&t.stateNode!=null)lj(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(se(166));return cn(t),null}if(e=ki(Ga.current),rf(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Fa]=t,n[$c]=o,e=(t.mode&1)!==0,r){case"dialog":Yt("cancel",n),Yt("close",n);break;case"iframe":case"object":case"embed":Yt("load",n);break;case"video":case"audio":for(a=0;a<oc.length;a++)Yt(oc[a],n);break;case"source":Yt("error",n);break;case"img":case"image":case"link":Yt("error",n),Yt("load",n);break;case"details":Yt("toggle",n);break;case"input":fx(n,o),Yt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Yt("invalid",n);break;case"textarea":hx(n,o),Yt("invalid",n)}F0(r,o),a=null;for(var i in o)if(o.hasOwnProperty(i)){var s=o[i];i==="children"?typeof s=="string"?n.textContent!==s&&(o.suppressHydrationWarning!==!0&&tf(n.textContent,s,e),a=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&tf(n.textContent,s,e),a=["children",""+s]):jc.hasOwnProperty(i)&&s!=null&&i==="onScroll"&&Yt("scroll",n)}switch(r){case"input":Xu(n),dx(n,o,!0);break;case"textarea":Xu(n),px(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Xf)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Lk(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Fa]=t,e[$c]=n,sj(e,t,!1,!1),t.stateNode=e;e:{switch(i=z0(r,n),r){case"dialog":Yt("cancel",e),Yt("close",e),a=n;break;case"iframe":case"object":case"embed":Yt("load",e),a=n;break;case"video":case"audio":for(a=0;a<oc.length;a++)Yt(oc[a],e);a=n;break;case"source":Yt("error",e),a=n;break;case"img":case"image":case"link":Yt("error",e),Yt("load",e),a=n;break;case"details":Yt("toggle",e),a=n;break;case"input":fx(e,n),a=D0(e,n),Yt("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=lr({},n,{value:void 0}),Yt("invalid",e);break;case"textarea":hx(e,n),a=I0(e,n),Yt("invalid",e);break;default:a=n}F0(r,a),s=a;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?Fk(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ik(e,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&_c(e,l):typeof l=="number"&&_c(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(jc.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Yt("scroll",e):l!=null&&iy(e,o,l,i))}switch(r){case"input":Xu(e),dx(e,n,!1);break;case"textarea":Xu(e),px(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Jo(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?bs(e,!!n.multiple,o,!1):n.defaultValue!=null&&bs(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Xf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return cn(t),null;case 6:if(e&&t.stateNode!=null)cj(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(se(166));if(r=ki(Rc.current),ki(Ga.current),rf(t)){if(n=t.stateNode,r=t.memoizedProps,n[Fa]=t,(o=n.nodeValue!==r)&&(e=Kn,e!==null))switch(e.tag){case 3:tf(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&tf(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Fa]=t,t.stateNode=n}return cn(t),null;case 13:if(Qt(ir),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(tr&&Xn!==null&&t.mode&1&&!(t.flags&128))NS(),Cs(),t.flags|=98560,o=!1;else if(o=rf(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(se(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(se(317));o[Fa]=t}else Cs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;cn(t),o=!1}else Oa!==null&&(wg(Oa),Oa=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ir.current&1?$r===0&&($r=3):Uy())),t.updateQueue!==null&&(t.flags|=4),cn(t),null);case 4:return Ts(),hg(e,t),e===null&&Ec(t.stateNode.containerInfo),cn(t),null;case 10:return _y(t.type._context),cn(t),null;case 17:return Rn(t.type)&&Kf(),cn(t),null;case 19:if(Qt(ir),o=t.memoizedState,o===null)return cn(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)Wl(o,!1);else{if($r!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=td(e),i!==null){for(t.flags|=128,Wl(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Wt(ir,ir.current&1|2),t.child}e=e.sibling}o.tail!==null&&yr()>Ds&&(t.flags|=128,n=!0,Wl(o,!1),t.lanes=4194304)}else{if(!n)if(e=td(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Wl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!tr)return cn(t),null}else 2*yr()-o.renderingStartTime>Ds&&r!==1073741824&&(t.flags|=128,n=!0,Wl(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=yr(),t.sibling=null,r=ir.current,Wt(ir,n?r&1|2:r&1),t):(cn(t),null);case 22:case 23:return zy(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Gn&1073741824&&(cn(t),t.subtreeFlags&6&&(t.flags|=8192)):cn(t),null;case 24:return null;case 25:return null}throw Error(se(156,t.tag))}function SM(e,t){switch(wy(t),t.tag){case 1:return Rn(t.type)&&Kf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ts(),Qt(Dn),Qt(gn),My(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ay(t),null;case 13:if(Qt(ir),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(se(340));Cs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Qt(ir),null;case 4:return Ts(),null;case 10:return _y(t.type._context),null;case 22:case 23:return zy(),null;case 24:return null;default:return null}}var of=!1,dn=!1,jM=typeof WeakSet=="function"?WeakSet:Set,xe=null;function gs(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){hr(e,t,n)}else r.current=null}function pg(e,t,r){try{r()}catch(n){hr(e,t,n)}}var nb=!1;function _M(e,t){if(Z0=Gf,e=pS(),xy(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,s=-1,l=-1,c=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==r||a!==0&&d.nodeType!==3||(s=i+a),d!==o||n!==0&&d.nodeType!==3||(l=i+n),d.nodeType===3&&(i+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===r&&++c===a&&(s=i),h===o&&++f===n&&(l=i),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Q0={focusedElem:e,selectionRange:r},Gf=!1,xe=t;xe!==null;)if(t=xe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,xe=e;else for(;xe!==null;){t=xe;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,x=y.memoizedState,m=t.stateNode,g=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:ka(t.type,v),x);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(se(163))}}catch(S){hr(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,xe=e;break}xe=t.return}return y=nb,nb=!1,y}function hc(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&pg(t,r,o)}a=a.next}while(a!==n)}}function Sh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function gg(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function uj(e){var t=e.alternate;t!==null&&(e.alternate=null,uj(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Fa],delete t[$c],delete t[tg],delete t[sM],delete t[lM])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function fj(e){return e.tag===5||e.tag===3||e.tag===4}function ab(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||fj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Xf));else if(n!==4&&(e=e.child,e!==null))for(mg(e,t,r),e=e.sibling;e!==null;)mg(e,t,r),e=e.sibling}function yg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(yg(e,t,r),e=e.sibling;e!==null;)yg(e,t,r),e=e.sibling}var Jr=null,Sa=!1;function Mo(e,t,r){for(r=r.child;r!==null;)dj(e,t,r),r=r.sibling}function dj(e,t,r){if(Wa&&typeof Wa.onCommitFiberUnmount=="function")try{Wa.onCommitFiberUnmount(gh,r)}catch{}switch(r.tag){case 5:dn||gs(r,t);case 6:var n=Jr,a=Sa;Jr=null,Mo(e,t,r),Jr=n,Sa=a,Jr!==null&&(Sa?(e=Jr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Jr.removeChild(r.stateNode));break;case 18:Jr!==null&&(Sa?(e=Jr,r=r.stateNode,e.nodeType===8?Fp(e.parentNode,r):e.nodeType===1&&Fp(e,r),Ac(e)):Fp(Jr,r.stateNode));break;case 4:n=Jr,a=Sa,Jr=r.stateNode.containerInfo,Sa=!0,Mo(e,t,r),Jr=n,Sa=a;break;case 0:case 11:case 14:case 15:if(!dn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var o=a,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&pg(r,t,i),a=a.next}while(a!==n)}Mo(e,t,r);break;case 1:if(!dn&&(gs(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){hr(r,t,s)}Mo(e,t,r);break;case 21:Mo(e,t,r);break;case 22:r.mode&1?(dn=(n=dn)||r.memoizedState!==null,Mo(e,t,r),dn=n):Mo(e,t,r);break;default:Mo(e,t,r)}}function ob(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new jM),t.forEach(function(n){var a=$M.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function ba(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var o=e,i=t,s=i;e:for(;s!==null;){switch(s.tag){case 5:Jr=s.stateNode,Sa=!1;break e;case 3:Jr=s.stateNode.containerInfo,Sa=!0;break e;case 4:Jr=s.stateNode.containerInfo,Sa=!0;break e}s=s.return}if(Jr===null)throw Error(se(160));dj(o,i,a),Jr=null,Sa=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){hr(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)hj(t,e),t=t.sibling}function hj(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ba(t,e),Ia(e),n&4){try{hc(3,e,e.return),Sh(3,e)}catch(v){hr(e,e.return,v)}try{hc(5,e,e.return)}catch(v){hr(e,e.return,v)}}break;case 1:ba(t,e),Ia(e),n&512&&r!==null&&gs(r,r.return);break;case 5:if(ba(t,e),Ia(e),n&512&&r!==null&&gs(r,r.return),e.flags&32){var a=e.stateNode;try{_c(a,"")}catch(v){hr(e,e.return,v)}}if(n&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&Dk(a,o),z0(s,i);var c=z0(s,o);for(i=0;i<l.length;i+=2){var f=l[i],d=l[i+1];f==="style"?Fk(a,d):f==="dangerouslySetInnerHTML"?Ik(a,d):f==="children"?_c(a,d):iy(a,f,d,c)}switch(s){case"input":R0(a,o);break;case"textarea":Rk(a,o);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?bs(a,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?bs(a,!!o.multiple,o.defaultValue,!0):bs(a,!!o.multiple,o.multiple?[]:"",!1))}a[$c]=o}catch(v){hr(e,e.return,v)}}break;case 6:if(ba(t,e),Ia(e),n&4){if(e.stateNode===null)throw Error(se(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(v){hr(e,e.return,v)}}break;case 3:if(ba(t,e),Ia(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ac(t.containerInfo)}catch(v){hr(e,e.return,v)}break;case 4:ba(t,e),Ia(e);break;case 13:ba(t,e),Ia(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(By=yr())),n&4&&ob(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(dn=(c=dn)||f,ba(t,e),dn=c):ba(t,e),Ia(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!f&&e.mode&1)for(xe=e,f=e.child;f!==null;){for(d=xe=f;xe!==null;){switch(h=xe,p=h.child,h.tag){case 0:case 11:case 14:case 15:hc(4,h,h.return);break;case 1:gs(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(v){hr(n,r,v)}}break;case 5:gs(h,h.return);break;case 22:if(h.memoizedState!==null){sb(d);continue}}p!==null?(p.return=h,xe=p):sb(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{a=d.stateNode,c?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=d.stateNode,l=d.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=Bk("display",i))}catch(v){hr(e,e.return,v)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){hr(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ba(t,e),Ia(e),n&4&&ob(e);break;case 21:break;default:ba(t,e),Ia(e)}}function Ia(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(fj(r)){var n=r;break e}r=r.return}throw Error(se(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(_c(a,""),n.flags&=-33);var o=ab(e);yg(e,o,a);break;case 3:case 4:var i=n.stateNode.containerInfo,s=ab(e);mg(e,s,i);break;default:throw Error(se(161))}}catch(l){hr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function OM(e,t,r){xe=e,pj(e)}function pj(e,t,r){for(var n=(e.mode&1)!==0;xe!==null;){var a=xe,o=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||of;if(!i){var s=a.alternate,l=s!==null&&s.memoizedState!==null||dn;s=of;var c=dn;if(of=i,(dn=l)&&!c)for(xe=a;xe!==null;)i=xe,l=i.child,i.tag===22&&i.memoizedState!==null?lb(a):l!==null?(l.return=i,xe=l):lb(a);for(;o!==null;)xe=o,pj(o),o=o.sibling;xe=a,of=s,dn=c}ib(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,xe=o):ib(e)}}function ib(e){for(;xe!==null;){var t=xe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:dn||Sh(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!dn)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:ka(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Gx(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Gx(t,i,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&Ac(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(se(163))}dn||t.flags&512&&gg(t)}catch(h){hr(t,t.return,h)}}if(t===e){xe=null;break}if(r=t.sibling,r!==null){r.return=t.return,xe=r;break}xe=t.return}}function sb(e){for(;xe!==null;){var t=xe;if(t===e){xe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,xe=r;break}xe=t.return}}function lb(e){for(;xe!==null;){var t=xe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Sh(4,t)}catch(l){hr(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){hr(t,a,l)}}var o=t.return;try{gg(t)}catch(l){hr(t,o,l)}break;case 5:var i=t.return;try{gg(t)}catch(l){hr(t,i,l)}}}catch(l){hr(t,t.return,l)}if(t===e){xe=null;break}var s=t.sibling;if(s!==null){s.return=t.return,xe=s;break}xe=t.return}}var NM=Math.ceil,ad=xo.ReactCurrentDispatcher,Ly=xo.ReactCurrentOwner,ua=xo.ReactCurrentBatchConfig,st=0,Gr=null,Sr=null,rn=0,Gn=0,ms=ri(0),$r=0,Fc=null,Li=0,jh=0,Iy=0,pc=null,En=null,By=0,Ds=1/0,Ja=null,od=!1,vg=null,Ko=null,sf=!1,Bo=null,id=0,gc=0,xg=null,$f=-1,Df=0;function _n(){return st&6?yr():$f!==-1?$f:$f=yr()}function Yo(e){return e.mode&1?st&2&&rn!==0?rn&-rn:uM.transition!==null?(Df===0&&(Df=Qk()),Df):(e=jt,e!==0||(e=window.event,e=e===void 0?16:oS(e.type)),e):1}function Ma(e,t,r,n){if(50<gc)throw gc=0,xg=null,Error(se(185));ju(e,r,n),(!(st&2)||e!==Gr)&&(e===Gr&&(!(st&2)&&(jh|=r),$r===4&&Ro(e,rn)),Ln(e,n),r===1&&st===0&&!(t.mode&1)&&(Ds=yr()+500,bh&&ni()))}function Ln(e,t){var r=e.callbackNode;uA(e,t);var n=Wf(e,e===Gr?rn:0);if(n===0)r!==null&&yx(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&yx(r),t===1)e.tag===0?cM(cb.bind(null,e)):jS(cb.bind(null,e)),oM(function(){!(st&6)&&ni()}),r=null;else{switch(Jk(n)){case 1:r=fy;break;case 4:r=qk;break;case 16:r=Uf;break;case 536870912:r=Zk;break;default:r=Uf}r=kj(r,gj.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function gj(e,t){if($f=-1,Df=0,st&6)throw Error(se(327));var r=e.callbackNode;if(_s()&&e.callbackNode!==r)return null;var n=Wf(e,e===Gr?rn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=sd(e,n);else{t=n;var a=st;st|=2;var o=yj();(Gr!==e||rn!==t)&&(Ja=null,Ds=yr()+500,Ai(e,t));do try{MM();break}catch(s){mj(e,s)}while(!0);jy(),ad.current=o,st=a,Sr!==null?t=0:(Gr=null,rn=0,t=$r)}if(t!==0){if(t===2&&(a=V0(e),a!==0&&(n=a,t=bg(e,a))),t===1)throw r=Fc,Ai(e,0),Ro(e,n),Ln(e,yr()),r;if(t===6)Ro(e,n);else{if(a=e.current.alternate,!(n&30)&&!PM(a)&&(t=sd(e,n),t===2&&(o=V0(e),o!==0&&(n=o,t=bg(e,o))),t===1))throw r=Fc,Ai(e,0),Ro(e,n),Ln(e,yr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(se(345));case 2:mi(e,En,Ja);break;case 3:if(Ro(e,n),(n&130023424)===n&&(t=By+500-yr(),10<t)){if(Wf(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){_n(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=eg(mi.bind(null,e,En,Ja),t);break}mi(e,En,Ja);break;case 4:if(Ro(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-Aa(n);o=1<<i,i=t[i],i>a&&(a=i),n&=~o}if(n=a,n=yr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*NM(n/1960))-n,10<n){e.timeoutHandle=eg(mi.bind(null,e,En,Ja),n);break}mi(e,En,Ja);break;case 5:mi(e,En,Ja);break;default:throw Error(se(329))}}}return Ln(e,yr()),e.callbackNode===r?gj.bind(null,e):null}function bg(e,t){var r=pc;return e.current.memoizedState.isDehydrated&&(Ai(e,t).flags|=256),e=sd(e,t),e!==2&&(t=En,En=r,t!==null&&wg(t)),e}function wg(e){En===null?En=e:En.push.apply(En,e)}function PM(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],o=a.getSnapshot;a=a.value;try{if(!Ca(o(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ro(e,t){for(t&=~Iy,t&=~jh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Aa(t),n=1<<r;e[r]=-1,t&=~n}}function cb(e){if(st&6)throw Error(se(327));_s();var t=Wf(e,0);if(!(t&1))return Ln(e,yr()),null;var r=sd(e,t);if(e.tag!==0&&r===2){var n=V0(e);n!==0&&(t=n,r=bg(e,n))}if(r===1)throw r=Fc,Ai(e,0),Ro(e,t),Ln(e,yr()),r;if(r===6)throw Error(se(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,mi(e,En,Ja),Ln(e,yr()),null}function Fy(e,t){var r=st;st|=1;try{return e(t)}finally{st=r,st===0&&(Ds=yr()+500,bh&&ni())}}function Ii(e){Bo!==null&&Bo.tag===0&&!(st&6)&&_s();var t=st;st|=1;var r=ua.transition,n=jt;try{if(ua.transition=null,jt=1,e)return e()}finally{jt=n,ua.transition=r,st=t,!(st&6)&&ni()}}function zy(){Gn=ms.current,Qt(ms)}function Ai(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,aM(r)),Sr!==null)for(r=Sr.return;r!==null;){var n=r;switch(wy(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Kf();break;case 3:Ts(),Qt(Dn),Qt(gn),My();break;case 5:Ay(n);break;case 4:Ts();break;case 13:Qt(ir);break;case 19:Qt(ir);break;case 10:_y(n.type._context);break;case 22:case 23:zy()}r=r.return}if(Gr=e,Sr=e=qo(e.current,null),rn=Gn=t,$r=0,Fc=null,Iy=jh=Li=0,En=pc=null,wi!==null){for(t=0;t<wi.length;t++)if(r=wi[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=a,n.next=i}r.pending=n}wi=null}return e}function mj(e,t){do{var r=Sr;try{if(jy(),Cf.current=nd,rd){for(var n=sr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}rd=!1}if(Ri=0,Wr=Tr=sr=null,dc=!1,Lc=0,Ly.current=null,r===null||r.return===null){$r=1,Fc=t,Sr=null;break}e:{var o=e,i=r.return,s=r,l=t;if(t=rn,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,f=s,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=qx(i);if(p!==null){p.flags&=-257,Zx(p,i,s,o,t),p.mode&1&&Yx(o,c,t),t=p,l=c;var y=t.updateQueue;if(y===null){var v=new Set;v.add(l),t.updateQueue=v}else y.add(l);break e}else{if(!(t&1)){Yx(o,c,t),Uy();break e}l=Error(se(426))}}else if(tr&&s.mode&1){var x=qx(i);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Zx(x,i,s,o,t),ky($s(l,s));break e}}o=l=$s(l,s),$r!==4&&($r=2),pc===null?pc=[o]:pc.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var m=JS(o,l,t);Wx(o,m);break e;case 1:s=l;var g=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ko===null||!Ko.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=ej(o,s,t);Wx(o,S);break e}}o=o.return}while(o!==null)}xj(r)}catch(w){t=w,Sr===r&&r!==null&&(Sr=r=r.return);continue}break}while(!0)}function yj(){var e=ad.current;return ad.current=nd,e===null?nd:e}function Uy(){($r===0||$r===3||$r===2)&&($r=4),Gr===null||!(Li&268435455)&&!(jh&268435455)||Ro(Gr,rn)}function sd(e,t){var r=st;st|=2;var n=yj();(Gr!==e||rn!==t)&&(Ja=null,Ai(e,t));do try{AM();break}catch(a){mj(e,a)}while(!0);if(jy(),st=r,ad.current=n,Sr!==null)throw Error(se(261));return Gr=null,rn=0,$r}function AM(){for(;Sr!==null;)vj(Sr)}function MM(){for(;Sr!==null&&!tA();)vj(Sr)}function vj(e){var t=wj(e.alternate,e,Gn);e.memoizedProps=e.pendingProps,t===null?xj(e):Sr=t,Ly.current=null}function xj(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=SM(r,t),r!==null){r.flags&=32767,Sr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$r=6,Sr=null;return}}else if(r=kM(r,t,Gn),r!==null){Sr=r;return}if(t=t.sibling,t!==null){Sr=t;return}Sr=t=e}while(t!==null);$r===0&&($r=5)}function mi(e,t,r){var n=jt,a=ua.transition;try{ua.transition=null,jt=1,CM(e,t,r,n)}finally{ua.transition=a,jt=n}return null}function CM(e,t,r,n){do _s();while(Bo!==null);if(st&6)throw Error(se(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(se(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(fA(e,o),e===Gr&&(Sr=Gr=null,rn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||sf||(sf=!0,kj(Uf,function(){return _s(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=ua.transition,ua.transition=null;var i=jt;jt=1;var s=st;st|=4,Ly.current=null,_M(e,r),hj(r,e),ZA(Q0),Gf=!!Z0,Q0=Z0=null,e.current=r,OM(r),rA(),st=s,jt=i,ua.transition=o}else e.current=r;if(sf&&(sf=!1,Bo=e,id=a),o=e.pendingLanes,o===0&&(Ko=null),oA(r.stateNode),Ln(e,yr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(od)throw od=!1,e=vg,vg=null,e;return id&1&&e.tag!==0&&_s(),o=e.pendingLanes,o&1?e===xg?gc++:(gc=0,xg=e):gc=0,ni(),null}function _s(){if(Bo!==null){var e=Jk(id),t=ua.transition,r=jt;try{if(ua.transition=null,jt=16>e?16:e,Bo===null)var n=!1;else{if(e=Bo,Bo=null,id=0,st&6)throw Error(se(331));var a=st;for(st|=4,xe=e.current;xe!==null;){var o=xe,i=o.child;if(xe.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(xe=c;xe!==null;){var f=xe;switch(f.tag){case 0:case 11:case 15:hc(8,f,o)}var d=f.child;if(d!==null)d.return=f,xe=d;else for(;xe!==null;){f=xe;var h=f.sibling,p=f.return;if(uj(f),f===c){xe=null;break}if(h!==null){h.return=p,xe=h;break}xe=p}}}var y=o.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}xe=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,xe=i;else e:for(;xe!==null;){if(o=xe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:hc(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,xe=m;break e}xe=o.return}}var g=e.current;for(xe=g;xe!==null;){i=xe;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,xe=b;else e:for(i=g;xe!==null;){if(s=xe,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Sh(9,s)}}catch(w){hr(s,s.return,w)}if(s===i){xe=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,xe=S;break e}xe=s.return}}if(st=a,ni(),Wa&&typeof Wa.onPostCommitFiberRoot=="function")try{Wa.onPostCommitFiberRoot(gh,e)}catch{}n=!0}return n}finally{jt=r,ua.transition=t}}return!1}function ub(e,t,r){t=$s(r,t),t=JS(e,t,1),e=Xo(e,t,1),t=_n(),e!==null&&(ju(e,1,t),Ln(e,t))}function hr(e,t,r){if(e.tag===3)ub(e,e,r);else for(;t!==null;){if(t.tag===3){ub(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ko===null||!Ko.has(n))){e=$s(r,e),e=ej(t,e,1),t=Xo(t,e,1),e=_n(),t!==null&&(ju(t,1,e),Ln(t,e));break}}t=t.return}}function EM(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=_n(),e.pingedLanes|=e.suspendedLanes&r,Gr===e&&(rn&r)===r&&($r===4||$r===3&&(rn&130023424)===rn&&500>yr()-By?Ai(e,0):Iy|=r),Ln(e,t)}function bj(e,t){t===0&&(e.mode&1?(t=qu,qu<<=1,!(qu&130023424)&&(qu=4194304)):t=1);var r=_n();e=po(e,t),e!==null&&(ju(e,t,r),Ln(e,r))}function TM(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),bj(e,r)}function $M(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(se(314))}n!==null&&n.delete(t),bj(e,r)}var wj;wj=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Dn.current)Tn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Tn=!1,wM(e,t,r);Tn=!!(e.flags&131072)}else Tn=!1,tr&&t.flags&1048576&&_S(t,Zf,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Tf(e,t),e=t.pendingProps;var a=Ms(t,gn.current);js(t,r),a=Ey(null,t,n,e,a,r);var o=Ty();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rn(n)?(o=!0,Yf(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Ny(t),a.updater=kh,t.stateNode=a,a._reactInternals=t,sg(t,n,e,r),t=ug(null,t,n,!0,o,r)):(t.tag=0,tr&&o&&by(t),kn(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Tf(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=RM(n),e=ka(n,e),a){case 0:t=cg(null,t,n,e,r);break e;case 1:t=eb(null,t,n,e,r);break e;case 11:t=Qx(null,t,n,e,r);break e;case 14:t=Jx(null,t,n,ka(n.type,e),r);break e}throw Error(se(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ka(n,a),cg(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ka(n,a),eb(e,t,n,a,r);case 3:e:{if(aj(t),e===null)throw Error(se(387));n=t.pendingProps,o=t.memoizedState,a=o.element,CS(e,t),ed(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=$s(Error(se(423)),t),t=tb(e,t,n,r,a);break e}else if(n!==a){a=$s(Error(se(424)),t),t=tb(e,t,n,r,a);break e}else for(Xn=Vo(t.stateNode.containerInfo.firstChild),Kn=t,tr=!0,Oa=null,r=AS(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Cs(),n===a){t=go(e,t,r);break e}kn(e,t,n,r)}t=t.child}return t;case 5:return ES(t),e===null&&ag(t),n=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,i=a.children,J0(n,a)?i=null:o!==null&&J0(n,o)&&(t.flags|=32),nj(e,t),kn(e,t,i,r),t.child;case 6:return e===null&&ag(t),null;case 13:return oj(e,t,r);case 4:return Py(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Es(t,null,n,r):kn(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ka(n,a),Qx(e,t,n,a,r);case 7:return kn(e,t,t.pendingProps,r),t.child;case 8:return kn(e,t,t.pendingProps.children,r),t.child;case 12:return kn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,Wt(Qf,n._currentValue),n._currentValue=i,o!==null)if(Ca(o.value,i)){if(o.children===a.children&&!Dn.current){t=go(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){i=o.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=io(-1,r&-r),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),og(o.return,r,t),s.lanes|=r;break}l=l.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(se(341));i.lanes|=r,s=i.alternate,s!==null&&(s.lanes|=r),og(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}kn(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,js(t,r),a=da(a),n=n(a),t.flags|=1,kn(e,t,n,r),t.child;case 14:return n=t.type,a=ka(n,t.pendingProps),a=ka(n.type,a),Jx(e,t,n,a,r);case 15:return tj(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ka(n,a),Tf(e,t),t.tag=1,Rn(n)?(e=!0,Yf(t)):e=!1,js(t,r),QS(t,n,a),sg(t,n,a,r),ug(null,t,n,!0,e,r);case 19:return ij(e,t,r);case 22:return rj(e,t,r)}throw Error(se(156,t.tag))};function kj(e,t){return Yk(e,t)}function DM(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sa(e,t,r,n){return new DM(e,t,r,n)}function Wy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function RM(e){if(typeof e=="function")return Wy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ly)return 11;if(e===cy)return 14}return 2}function qo(e,t){var r=e.alternate;return r===null?(r=sa(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Rf(e,t,r,n,a,o){var i=2;if(n=e,typeof e=="function")Wy(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case is:return Mi(r.children,a,o,t);case sy:i=8,a|=8;break;case C0:return e=sa(12,r,t,a|2),e.elementType=C0,e.lanes=o,e;case E0:return e=sa(13,r,t,a),e.elementType=E0,e.lanes=o,e;case T0:return e=sa(19,r,t,a),e.elementType=T0,e.lanes=o,e;case Ek:return _h(r,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Mk:i=10;break e;case Ck:i=9;break e;case ly:i=11;break e;case cy:i=14;break e;case Eo:i=16,n=null;break e}throw Error(se(130,e==null?e:typeof e,""))}return t=sa(i,r,t,a),t.elementType=e,t.type=n,t.lanes=o,t}function Mi(e,t,r,n){return e=sa(7,e,n,t),e.lanes=r,e}function _h(e,t,r,n){return e=sa(22,e,n,t),e.elementType=Ek,e.lanes=r,e.stateNode={isHidden:!1},e}function Kp(e,t,r){return e=sa(6,e,null,t),e.lanes=r,e}function Yp(e,t,r){return t=sa(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function LM(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ap(0),this.expirationTimes=Ap(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ap(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Gy(e,t,r,n,a,o,i,s,l){return e=new LM(e,t,r,s,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=sa(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ny(o),e}function IM(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:os,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Sj(e){if(!e)return ei;e=e._reactInternals;e:{if(Xi(e)!==e||e.tag!==1)throw Error(se(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(se(171))}if(e.tag===1){var r=e.type;if(Rn(r))return SS(e,r,t)}return t}function jj(e,t,r,n,a,o,i,s,l){return e=Gy(r,n,!0,e,a,o,i,s,l),e.context=Sj(null),r=e.current,n=_n(),a=Yo(r),o=io(n,a),o.callback=t??null,Xo(r,o,a),e.current.lanes=a,ju(e,a,n),Ln(e,n),e}function Oh(e,t,r,n){var a=t.current,o=_n(),i=Yo(a);return r=Sj(r),t.context===null?t.context=r:t.pendingContext=r,t=io(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Xo(a,t,i),e!==null&&(Ma(e,a,i,o),Mf(e,a,i)),i}function ld(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function fb(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Hy(e,t){fb(e,t),(e=e.alternate)&&fb(e,t)}function BM(){return null}var _j=typeof reportError=="function"?reportError:function(e){console.error(e)};function Vy(e){this._internalRoot=e}Nh.prototype.render=Vy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(se(409));Oh(e,t,null,null)};Nh.prototype.unmount=Vy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ii(function(){Oh(null,e,null,null)}),t[ho]=null}};function Nh(e){this._internalRoot=e}Nh.prototype.unstable_scheduleHydration=function(e){if(e){var t=rS();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Do.length&&t!==0&&t<Do[r].priority;r++);Do.splice(r,0,e),r===0&&aS(e)}};function Xy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ph(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function db(){}function FM(e,t,r,n,a){if(a){if(typeof n=="function"){var o=n;n=function(){var c=ld(i);o.call(c)}}var i=jj(t,n,e,0,null,!1,!1,"",db);return e._reactRootContainer=i,e[ho]=i.current,Ec(e.nodeType===8?e.parentNode:e),Ii(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var s=n;n=function(){var c=ld(l);s.call(c)}}var l=Gy(e,0,!1,null,null,!1,!1,"",db);return e._reactRootContainer=l,e[ho]=l.current,Ec(e.nodeType===8?e.parentNode:e),Ii(function(){Oh(t,l,r,n)}),l}function Ah(e,t,r,n,a){var o=r._reactRootContainer;if(o){var i=o;if(typeof a=="function"){var s=a;a=function(){var l=ld(i);s.call(l)}}Oh(t,i,e,a)}else i=FM(r,t,e,a,n);return ld(i)}eS=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ac(t.pendingLanes);r!==0&&(dy(t,r|1),Ln(t,yr()),!(st&6)&&(Ds=yr()+500,ni()))}break;case 13:Ii(function(){var n=po(e,1);if(n!==null){var a=_n();Ma(n,e,1,a)}}),Hy(e,1)}};hy=function(e){if(e.tag===13){var t=po(e,134217728);if(t!==null){var r=_n();Ma(t,e,134217728,r)}Hy(e,134217728)}};tS=function(e){if(e.tag===13){var t=Yo(e),r=po(e,t);if(r!==null){var n=_n();Ma(r,e,t,n)}Hy(e,t)}};rS=function(){return jt};nS=function(e,t){var r=jt;try{return jt=e,t()}finally{jt=r}};W0=function(e,t,r){switch(t){case"input":if(R0(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=xh(n);if(!a)throw Error(se(90));$k(n),R0(n,a)}}}break;case"textarea":Rk(e,r);break;case"select":t=r.value,t!=null&&bs(e,!!r.multiple,t,!1)}};Wk=Fy;Gk=Ii;var zM={usingClientEntryPoint:!1,Events:[Ou,us,xh,zk,Uk,Fy]},Gl={findFiberByHostInstance:bi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},UM={bundleType:Gl.bundleType,version:Gl.version,rendererPackageName:Gl.rendererPackageName,rendererConfig:Gl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Xk(e),e===null?null:e.stateNode},findFiberByHostInstance:Gl.findFiberByHostInstance||BM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lf.isDisabled&&lf.supportsFiber)try{gh=lf.inject(UM),Wa=lf}catch{}}qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zM;qn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xy(t))throw Error(se(200));return IM(e,t,null,r)};qn.createRoot=function(e,t){if(!Xy(e))throw Error(se(299));var r=!1,n="",a=_j;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Gy(e,1,!1,null,null,r,!1,n,a),e[ho]=t.current,Ec(e.nodeType===8?e.parentNode:e),new Vy(t)};qn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(se(188)):(e=Object.keys(e).join(","),Error(se(268,e)));return e=Xk(t),e=e===null?null:e.stateNode,e};qn.flushSync=function(e){return Ii(e)};qn.hydrate=function(e,t,r){if(!Ph(t))throw Error(se(200));return Ah(null,e,t,!0,r)};qn.hydrateRoot=function(e,t,r){if(!Xy(e))throw Error(se(405));var n=r!=null&&r.hydratedSources||null,a=!1,o="",i=_j;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=jj(t,null,e,1,r??null,a,!1,o,i),e[ho]=t.current,Ec(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Nh(t)};qn.render=function(e,t,r){if(!Ph(t))throw Error(se(200));return Ah(null,e,t,!1,r)};qn.unmountComponentAtNode=function(e){if(!Ph(e))throw Error(se(40));return e._reactRootContainer?(Ii(function(){Ah(null,null,e,!1,function(){e._reactRootContainer=null,e[ho]=null})}),!0):!1};qn.unstable_batchedUpdates=Fy;qn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ph(r))throw Error(se(200));if(e==null||e._reactInternals===void 0)throw Error(se(38));return Ah(e,t,r,!1,n)};qn.version="18.3.1-next-f1338f8080-20240426";function Oj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Oj)}catch(e){console.error(e)}}Oj(),Ok.exports=qn;var WM=Ok.exports,hb=WM;A0.createRoot=hb.createRoot,A0.hydrateRoot=hb.hydrateRoot;const Zo=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,confirmText:o="I know the risk and insist to continue",cancelText:i="Cancel"})=>e?u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-2xl shadow-2xl border border-amber-500/30 overflow-hidden transform transition-all scale-100",children:[u.jsxs("div",{className:"bg-amber-500/10 p-6 flex flex-col items-center justify-center border-b border-amber-500/20",children:[u.jsx("div",{className:"w-16 h-16 bg-amber-100 dark:bg-amber-900/30 rounded-full flex items-center justify-center mb-4",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-amber-600 dark:text-amber-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),u.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white text-center",children:n})]}),u.jsx("div",{className:"p-6",children:u.jsx("div",{className:"text-gray-600 dark:text-slate-300 text-center text-sm leading-relaxed",children:a})}),u.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800/50 flex gap-3 justify-end border-t border-gray-200 dark:border-slate-800",children:[u.jsx("button",{onClick:t,className:"px-4 py-2 bg-white hover:bg-gray-100 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-700 dark:text-slate-200 font-semibold rounded-lg border border-gray-300 dark:border-slate-600 transition-colors text-sm",children:i}),u.jsx("button",{onClick:r,className:"px-4 py-2 bg-amber-600 hover:bg-amber-700 text-white font-bold rounded-lg shadow-lg shadow-amber-500/20 transition-all active:scale-95 text-sm",children:o})]})]})}):null,GM=({onFileSelected:e,onGenerateFakeDng:t,fileName:r,hasGeneratedData:n,viewMode:a,onSetViewMode:o,patternPeriod:i,onPatternPeriodChange:s,fillFactor:l,onFillFactorChange:c,patternPhase:f,onPatternPhaseChange:d,showPatternControls:h,onOpenAbout:p,onShowExif:y,bridgeStatus:v,onBridgeClick:x,isDrLabOpen:m,onToggleDrLab:g,isColorLabOpen:b,onToggleColorLab:S,isFftLabOpen:w,onToggleFftLab:k,onGenerateTestPic:_,onPTCFilesSelected:O,onDownloadDng:N,isThreePlane:P,onOpenDatabase:M})=>{const C=j.useRef(null),$=j.useRef(null),[z,E]=j.useState(!1),[G,A]=j.useState(!1),[I,B]=j.useState(!1),[W,J]=j.useState(!1),[q,V]=j.useState("direct"),ie=j.useRef(null),te=j.useRef(null);j.useEffect(()=>{const ne=F=>{ie.current&&!ie.current.contains(F.target)&&B(!1),te.current&&!te.current.contains(F.target)&&J(!1)};return document.addEventListener("mousedown",ne),()=>document.removeEventListener("mousedown",ne)},[]);const T=ne=>{var F;B(!1),ne==="direct"?(V("direct"),E(!0)):!v.isConnected||!v.hasDngConverter?A(!0):(V("convert"),(F=C.current)==null||F.click())},oe=()=>{var ne;E(!1),(ne=C.current)==null||ne.click()},ue=ne=>{var ge;const F=(ge=ne.target.files)==null?void 0:ge[0];F&&e(F,q),ne.target.value=""},K=ne=>{ne.target.files&&ne.target.files.length>0&&O(ne.target.files),ne.target.value=""},le=r==="pattern_test.dng"||(r==null?void 0:r.startsWith("Diff_"));return u.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-4 flex-shrink-0 relative z-50 font-mono",children:[u.jsx(Zo,{isOpen:z,onClose:()=>E(!1),onConfirm:oe,title:"Format Compatibility Warning",confirmText:"Continue",message:u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx("p",{className:"font-bold text-gray-800 dark:text-gray-200 text-base",children:"Adobe DNG ConverterDNG"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Only 4-channel DNG files output by Adobe DNG Converter are fully guaranteed to be supported."}),u.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 border border-gray-400 dark:border-slate-600",children:[u.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-500 mb-1",children:"Download Adobe DNG Converter:"}),u.jsx("a",{href:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline text-xs break-all",children:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html"})]})]})}),u.jsx(Zo,{isOpen:G,onClose:()=>A(!1),onConfirm:()=>A(!1),title:"DNG Converter Missing",confirmText:"OK",cancelText:"Cancel",message:u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx("p",{className:"font-bold text-red-600 dark:text-red-400 text-base",children:"JiangBridge Offline or Adobe DNG Converter not installed (you may have to restart your device after installing ADC to use it here)"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"To use the conversion feature, you must run JiangBridge locally and have Adobe DNG Converter installed on your system."}),u.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 border border-gray-400 dark:border-slate-600",children:[u.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-500 mb-1",children:"Download Adobe DNG Converter:"}),u.jsx("a",{href:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline text-xs break-all",children:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html"})]})]})}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-black dark:text-white text-center sm:text-left tracking-tight border-2 border-black dark:border-white px-2 py-1 bg-white dark:bg-black",children:"Jiangtherapee_Online"}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400 hidden lg:block max-w-xs truncate font-bold",title:r||"No image loaded",children:r||"No_Image_Loaded"}),P&&u.jsx("span",{className:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400 border-2 border-red-500 dark:border-red-800 text-[10px] font-bold px-2 py-1 animate-pulse",children:" 3-PLANE / RGB MODE"})]}),u.jsxs("div",{className:"flex items-center gap-4 flex-wrap justify-end",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{onClick:v.isConnected?void 0:x,className:`px-3 py-1.5 text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-[2px_2px_0px_black] border-2 border-black dark:border-gray-500 ${v.isConnected?"bg-emerald-100 text-emerald-900 border-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-400 dark:border-emerald-600 cursor-default":"bg-pink-100 text-pink-900 border-pink-800 dark:bg-pink-900/30 dark:text-pink-400 dark:border-pink-600 hover:bg-pink-200 dark:hover:bg-pink-900/50 cursor-pointer animate-pulse"}`,title:v.isConnected?"Local Bridge Service Connected":"Click to download Jiangbridge",children:[u.jsx("span",{className:`w-2 h-2 ${v.isConnected?"bg-emerald-600":"bg-pink-600"}`}),v.isConnected?`JiangBridge Ready ${v.hasDngConverter?"DNG+":""}`:"JiangBridge Offline"]}),m&&u.jsxs("button",{onClick:g,className:"px-3 py-1.5 text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-[2px_2px_0px_black] border-2 border-indigo-800 bg-indigo-100 text-indigo-900 dark:bg-indigo-900/30 dark:text-indigo-400 dark:border-indigo-600 hover:bg-indigo-200 dark:hover:bg-indigo-900/50 cursor-pointer animate-in fade-in",title:"Click to turn off DR Lab",children:[u.jsx("span",{className:"w-2 h-2 bg-indigo-600 animate-pulse"}),"DR Lab On"]}),b&&u.jsxs("button",{onClick:S,className:"px-3 py-1.5 text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-[2px_2px_0px_black] border-2 border-yellow-800 bg-yellow-100 text-yellow-900 dark:bg-yellow-900/30 dark:text-yellow-400 dark:border-yellow-600 hover:bg-yellow-200 dark:hover:bg-yellow-900/50 cursor-pointer animate-in fade-in",title:"Click to turn off Color Lab",children:[u.jsx("span",{className:"w-2 h-2 bg-yellow-500 animate-pulse"}),"Color Lab On"]}),w&&u.jsxs("button",{onClick:k,className:"px-3 py-1.5 text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-[2px_2px_0px_black] border-2 border-fuchsia-800 bg-fuchsia-100 text-fuchsia-900 dark:bg-fuchsia-900/30 dark:text-fuchsia-400 dark:border-fuchsia-600 hover:bg-fuchsia-200 dark:hover:bg-fuchsia-900/50 cursor-pointer animate-in fade-in",title:"Click to turn off FFT Lab",children:[u.jsx("span",{className:"w-2 h-2 bg-fuchsia-600 animate-pulse"}),"FFT Lab On"]}),n&&u.jsxs("div",{className:"flex bg-gray-200 dark:bg-slate-800 p-1 border-2 border-black dark:border-gray-500 shadow-inner transition-colors duration-300 gap-1",children:[u.jsx("button",{onClick:()=>o("reference"),className:`px-3 py-1.5 text-xs sm:text-sm font-bold transition-all duration-200 border-2 ${a==="reference"?"bg-green-600 text-white border-black":"bg-gray-100 text-black border-transparent hover:bg-gray-300"}`,title:"The perfect uniform input",children:"Perfect"}),u.jsx("button",{onClick:()=>o("sampled"),className:`px-3 py-1.5 text-xs sm:text-sm font-bold transition-all duration-200 border-2 ${a==="sampled"?"bg-blue-600 text-white border-black":"bg-gray-100 text-black border-transparent hover:bg-gray-300"}`,title:"Sampled Sensor View with Aperture Visualization",children:"Sampled (Sensor)"}),u.jsx("button",{onClick:()=>o("processed"),className:`px-3 py-1.5 text-xs sm:text-sm font-bold transition-all duration-200 border-2 ${a==="processed"?"bg-purple-600 text-white border-black":"bg-gray-100 text-black border-transparent hover:bg-gray-300"}`,title:"Demosaiced Result",children:"Result"})]})]}),le&&u.jsxs("div",{className:"flex items-center gap-2 animate-in fade-in slide-in-from-right-4 duration-300",children:[h&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-100 dark:bg-slate-800/50 p-1.5 border border-gray-400 dark:border-slate-600 transition-colors duration-300",children:[u.jsx("span",{className:"text-[10px] text-gray-600 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Density (Period)"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"range",min:"0.1",max:"10",step:"0.1",value:i,onChange:ne=>s(parseFloat(ne.target.value)),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 appearance-none cursor-pointer accent-purple-500 border border-black",title:"Adjust the period of the line pairs in pixels"}),u.jsx("div",{className:"relative",children:u.jsx("input",{type:"number",min:"0.1",max:"100",step:"0.01",value:i,onChange:ne=>{const F=parseFloat(ne.target.value);isNaN(F)||s(F)},className:"w-16 bg-white dark:bg-slate-900 border border-gray-400 dark:border-slate-600 px-1 py-0.5 text-xs font-mono text-purple-700 dark:text-purple-300 text-right focus:outline-none focus:border-purple-500 focus:ring-1 focus:ring-purple-500 transition-colors duration-300"})})]})]}),u.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-100 dark:bg-slate-800/50 p-1.5 border border-gray-400 dark:border-slate-600 transition-colors duration-300",children:[u.jsx("span",{className:"text-[10px] text-gray-600 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Phase"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:f,onChange:ne=>d(parseFloat(ne.target.value)),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 appearance-none cursor-pointer accent-pink-500 border border-black",title:"Shift pattern phase (0-1 cycle)"}),u.jsx("div",{className:"relative",children:u.jsx("input",{type:"number",min:"0",max:"1",step:"0.01",value:f,onChange:ne=>{const F=parseFloat(ne.target.value);isNaN(F)||d(F)},className:"w-12 bg-white dark:bg-slate-900 border border-gray-400 dark:border-slate-600 px-1 py-0.5 text-xs font-mono text-pink-700 dark:text-pink-300 text-right focus:outline-none focus:border-pink-500 focus:ring-1 focus:ring-pink-500 transition-colors duration-300"})})]})]}),u.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-100 dark:bg-slate-800/50 p-1.5 border border-gray-400 dark:border-slate-600 transition-colors duration-300",children:[u.jsx("span",{className:"text-[10px] text-gray-600 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Fill Factor"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"range",min:"1",max:"100",step:"1",value:l*100,onChange:ne=>c(parseInt(ne.target.value)/100),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 appearance-none cursor-pointer accent-green-500 border border-black",title:"Adjust pixel aperture fill factor %"}),u.jsxs("div",{className:"relative flex items-center",children:[u.jsx("input",{type:"number",min:"1",max:"100",step:"1",value:Math.round(l*100),onChange:ne=>{const F=parseInt(ne.target.value);isNaN(F)||c(Math.min(100,Math.max(1,F))/100)},className:"w-12 bg-white dark:bg-slate-900 border border-gray-400 dark:border-slate-600 px-1 py-0.5 text-xs font-mono text-green-700 dark:text-green-300 text-right focus:outline-none focus:border-green-500 focus:ring-1 focus:ring-green-500 transition-colors duration-300"}),u.jsx("span",{className:"ml-1 text-[10px] text-gray-500 dark:text-slate-500 font-mono",children:"%"})]})]})]})]}),u.jsxs("button",{onClick:N,className:`flex flex-col items-center justify-center p-2 transition-colors group border-2 border-black dark:border-gray-500 shadow-[2px_2px_0px_black] active:translate-x-[2px] active:translate-y-[2px] active:shadow-none ${r!=null&&r.startsWith("Diff_")?"bg-fuchsia-100 hover:bg-fuchsia-200 dark:bg-fuchsia-900/40 dark:hover:bg-fuchsia-900/60":"bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700"}`,title:r!=null&&r.startsWith("Diff_")?"Export Subtracted Frame as DNG":"Download Synthetic DNG",children:[u.jsx("svg",{className:`w-5 h-5 ${r!=null&&r.startsWith("Diff_")?"text-fuchsia-600 group-hover:text-fuchsia-800":"text-gray-600 dark:text-slate-400 group-hover:text-black dark:group-hover:text-white"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),u.jsx("span",{className:"text-[8px] font-bold uppercase mt-0.5 opacity-70",children:"DNG"})]})]}),u.jsx("input",{type:"file",ref:C,onChange:ue,className:"hidden",accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),u.jsx("input",{type:"file",ref:$,onChange:K,className:"hidden",multiple:!0,accept:".csv"}),u.jsxs("div",{className:"relative inline-block text-left",ref:te,children:[u.jsxs("button",{onClick:()=>J(!W),className:"bg-purple-700 hover:bg-purple-600 text-white font-bold py-2 px-4 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] active:translate-x-[2px] active:translate-y-[2px] active:shadow-[2px_2px_0px_black] transition-all duration-100 text-sm whitespace-nowrap flex items-center gap-2",children:["TEST Tools",u.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${W?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),W&&u.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-slate-800 shadow-[8px_8px_0px_rgba(0,0,0,0.5)] ring-1 ring-black ring-opacity-5 focus:outline-none z-50 overflow-hidden origin-top-right transition-all animate-in fade-in slide-in-from-top-2 border-2 border-black dark:border-gray-500",children:u.jsxs("div",{className:"py-1",children:[u.jsxs("button",{onClick:()=>{J(!1),t()},className:"w-full text-left px-4 py-3 text-sm text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors flex items-center gap-2 border-b border-gray-300 dark:border-gray-600",children:[u.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),u.jsx("span",{children:"Generate Pattern DNG"})]}),u.jsxs("button",{onClick:()=>{J(!1),m||g(),w&&k(),b&&S&&S()},className:`w-full text-left px-4 py-3 text-sm transition-colors flex items-center gap-2 border-b border-gray-300 dark:border-gray-600 ${m?"bg-indigo-100 dark:bg-indigo-900/40 text-indigo-800 dark:text-indigo-300 font-bold":"text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:[u.jsx("svg",{className:"w-4 h-4 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),u.jsxs("span",{children:["DR Lab ",m?"(On)":""]})]}),u.jsxs("button",{onClick:()=>{J(!1),S&&!b&&S(),m&&g(),w&&k()},className:`w-full text-left px-4 py-3 text-sm transition-colors flex items-center gap-2 border-b border-gray-300 dark:border-gray-600 ${b?"bg-yellow-100 dark:bg-yellow-900/40 text-yellow-800 dark:text-yellow-300 font-bold":"text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:[u.jsx("svg",{className:"w-4 h-4 text-yellow-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"})}),u.jsxs("span",{children:["Color Lab ",b?"(On)":""]})]}),u.jsxs("button",{onClick:()=>{J(!1),w||k(),m&&g(),b&&S&&S()},className:`w-full text-left px-4 py-3 text-sm transition-colors flex items-center gap-2 border-b border-gray-300 dark:border-gray-600 ${w?"bg-fuchsia-100 dark:bg-fuchsia-900/40 text-fuchsia-800 dark:text-fuchsia-300 font-bold":"text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:[u.jsx("svg",{className:"w-4 h-4 text-fuchsia-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),u.jsxs("span",{children:["FFT Lab ",w?"(On)":""]})]}),u.jsxs("button",{onClick:()=>{var ne;J(!1),(ne=$.current)==null||ne.click()},className:"w-full text-left px-4 py-3 text-sm text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[u.jsx("svg",{className:"w-4 h-4 text-emerald-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})}),u.jsx("span",{children:"Generate PTC & TargetSNR"})]})]})})]}),u.jsxs("div",{className:"relative inline-block text-left",ref:ie,children:[u.jsxs("button",{onClick:()=>B(!I),className:"bg-cyan-700 hover:bg-cyan-600 text-white font-bold py-2 px-4 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] active:translate-x-[2px] active:translate-y-[2px] active:shadow-[2px_2px_0px_black] transition-all duration-100 text-sm whitespace-nowrap flex items-center gap-2",children:["Load Image",u.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${I?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),I&&u.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-slate-800 shadow-[8px_8px_0px_rgba(0,0,0,0.5)] ring-1 ring-black ring-opacity-5 focus:outline-none z-50 overflow-hidden origin-top-right transition-all animate-in fade-in slide-in-from-top-2 border-2 border-black dark:border-gray-500",children:u.jsxs("div",{className:"py-1",children:[u.jsxs("button",{onClick:()=>T("direct"),className:"w-full text-left px-4 py-3 text-sm text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors flex items-center gap-2 border-b border-gray-300 dark:border-gray-600",children:[u.jsx("svg",{className:"w-4 h-4 text-cyan-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),u.jsx("span",{children:"Load Image (Direct)"})]}),u.jsxs("button",{onClick:()=>T("convert"),className:"w-full text-left px-4 py-3 text-sm text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[u.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),u.jsx("span",{children:"Convert to Adobe DNG & Load"})]})]})})]}),r&&y&&u.jsxs("button",{onClick:y,className:"bg-orange-600 hover:bg-orange-500 text-white font-bold py-2 px-4 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] active:translate-x-[2px] active:translate-y-[2px] active:shadow-[2px_2px_0px_black] transition-all duration-100 text-sm whitespace-nowrap flex items-center gap-1",title:"View EXIF Data",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"EXIF"]}),u.jsx("button",{onClick:p,className:"bg-teal-700 hover:bg-teal-600 text-white font-bold py-2 px-4 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] active:translate-x-[2px] active:translate-y-[2px] active:shadow-[2px_2px_0px_black] transition-all duration-100 text-sm whitespace-nowrap",children:"About/Tutorial/Tools"}),u.jsx("a",{href:"https://y-g-jiang.github.io/index.html",target:"_blank",rel:"noopener noreferrer",className:"bg-gray-300 hover:bg-gray-200 dark:bg-slate-700 dark:hover:bg-slate-600 text-black dark:text-white font-bold py-2 px-4 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] active:translate-x-[2px] active:translate-y-[2px] active:shadow-[2px_2px_0px_black] transition-all duration-100 text-sm no-underline",children:"Home"})]})]})},HM=({image:e,zoom:t,pan:r,onPanChange:n,onZoomChange:a,onSelectionChange:o,forcedSelection:i,theme:s,touchAction:l="pan",isMarking:c=!1,onPointClick:f,markers:d=[],gridRects:h=[],colorLabPoints:p=[],colorLabRects:y=[]})=>{var ie;const v=j.useRef(null),x=j.useRef(document.createElement("canvas")),[m,g]=j.useState(!1),[b,S]=j.useState({x:0,y:0}),w=j.useRef(null),k=j.useRef(null),_=j.useRef(null),[O,N]=j.useState(!1),[P,M]=j.useState(null),[C,$]=j.useState(null);j.useEffect(()=>{i!==void 0&&$(i)},[i]);const z=j.useCallback(()=>{const te=v.current,T=te==null?void 0:te.getContext("2d");return{canvas:te,ctx:T}},[]);j.useEffect(()=>{const te=x.current,T=te.getContext("2d");if(!e||!T)return;let oe=0,ue=0;e instanceof ImageData?(oe=e.width,ue=e.height):e instanceof HTMLImageElement&&(oe=e.naturalWidth,ue=e.naturalHeight),!(oe===0||ue===0)&&((te.width!==oe||te.height!==ue)&&(te.width=oe,te.height=ue),e instanceof ImageData?T.putImageData(e,0,0):(T.clearRect(0,0,oe,ue),T.drawImage(e,0,0)))},[e]);const E=j.useCallback(()=>{const{canvas:te,ctx:T}=z();if(!(!te||!T||!e)){if(T.setTransform(1,0,0,1,0,0),T.fillStyle=s==="dark"?"rgb(15, 23, 42)":"rgb(243, 244, 246)",T.fillRect(0,0,te.width,te.height),T.setTransform(t,0,0,t,r.x,r.y),x.current.width>0&&(T.imageSmoothingEnabled=!1,T.drawImage(x.current,0,0)),C){T.strokeStyle="#06b6d4",T.lineWidth=1/t,T.fillStyle="rgba(6, 182, 212, 0.2)",T.beginPath(),T.rect(C.x,C.y,C.w,C.h),T.fill(),T.stroke(),T.save(),T.fillStyle="#fff";const oe=Math.max(10,14/t);T.font=`${oe}px monospace`,T.shadowColor="rgba(0,0,0,0.8)",T.shadowBlur=4,T.shadowOffsetX=1,T.shadowOffsetY=1,T.fillText(`${Math.round(C.w)}x${Math.round(C.h)}`,C.x,C.y-5/t),T.restore()}if(h&&h.length>0){T.save(),T.strokeStyle="#f59e0b",T.lineWidth=1/t,T.globalAlpha=.8,T.beginPath(),h.forEach(K=>{T.rect(K.x,K.y,K.w,K.h)}),T.stroke();const oe=h[0];T.fillStyle="#f59e0b";const ue=Math.max(10,12/t);T.font=`${ue}px monospace`,T.fillText(`${oe.w}x${oe.h}`,oe.x,oe.y-4/t),T.restore()}if(d&&d.length>0){T.save();const oe=6/t,ue=Math.max(12,16/t);T.font=`bold ${ue}px sans-serif`,T.textAlign="center",T.textBaseline="middle",d.forEach((K,le)=>{T.beginPath(),T.arc(K.x,K.y,oe,0,2*Math.PI),T.fillStyle="white",T.fill(),T.strokeStyle="#4338ca",T.lineWidth=2/t,T.stroke(),T.fillStyle="#4338ca",T.fillText((le+1).toString(),K.x,K.y-12/t)}),T.restore()}if(p&&p.length>0){T.save();const oe=5/t,ue=Math.max(10,14/t);T.font=`bold ${ue}px sans-serif`,T.textAlign="center",T.textBaseline="middle",p.forEach((K,le)=>{T.fillStyle="yellow",T.fillRect(K.x-oe,K.y-oe,oe*2,oe*2),T.strokeStyle="black",T.lineWidth=1/t,T.strokeRect(K.x-oe,K.y-oe,oe*2,oe*2),T.fillStyle="yellow",T.shadowColor="black",T.shadowBlur=2,T.fillText((le+1).toString(),K.x,K.y-10/t)}),T.restore()}if(y&&y.length>0){if(T.save(),T.strokeStyle="yellow",T.lineWidth=1/t,T.globalAlpha=.9,T.beginPath(),y.forEach(oe=>{T.rect(oe.x,oe.y,oe.w,oe.h)}),T.stroke(),y[0]){const oe=y[0];T.fillStyle="yellow",T.shadowColor="black",T.shadowBlur=3;const ue=Math.max(10,12/t);T.font=`${ue}px monospace`,T.fillText(`${Math.round(oe.w)}x${Math.round(oe.h)}`,oe.x,oe.y-4/t)}T.restore()}}},[z,e,t,r,s,C,d,h,p,y]);j.useEffect(()=>{const{canvas:te}=z();if(!te)return;const T=new ResizeObserver(()=>{te.width=te.clientWidth,te.height=te.clientHeight,E()});return T.observe(te),()=>T.disconnect()},[z,E]),j.useEffect(()=>{E()},[E,e,r,t,s,C,d,h,p,y]);const G=te=>{const{canvas:T}=z();if(!T)return{x:0,y:0};const oe=T.getBoundingClientRect();return{x:te.clientX-oe.left,y:te.clientY-oe.top}},A=(te,T)=>({x:(te-r.x)/t,y:(T-r.y)/t}),I=te=>{te.preventDefault();const T=G(te);if(c){const oe=A(T.x,T.y);f&&f(oe);return}if(te.shiftKey||l==="select"){N(!0);const oe=A(T.x,T.y),ue={x:Math.floor(oe.x),y:Math.floor(oe.y)};M(ue),$(null),o&&o(null)}else g(!0),S({x:T.x-r.x,y:T.y-r.y})},B=te=>{const T=G(te);if(O&&P){const oe=A(T.x,T.y),ue=Math.floor(oe.x),K=Math.floor(oe.y),le=Math.min(P.x,ue),ne=Math.min(P.y,K),F=Math.max(P.x,ue),ge=Math.max(P.y,K),he=F-le+1,Se=ge-ne+1;$({x:le,y:ne,w:he,h:Se})}else m&&n({x:T.x-b.x,y:T.y-b.y})},W=()=>{O&&(N(!1),C&&o&&C.w>0&&C.h>0&&o(C)),g(!1)},J=te=>{var T;if(te.touches.length===1){const oe=te.touches[0],ue=(T=v.current)==null?void 0:T.getBoundingClientRect();if(!ue)return;const K=oe.clientX-ue.left,le=oe.clientY-ue.top;if(c){const ne=A(K,le);f&&f(ne);return}if(l==="select"){const ne=A(K,le),F={x:Math.floor(ne.x),y:Math.floor(ne.y)};M(F),N(!0),$(null),o&&o(null)}else _.current={x:K,y:le},S({x:K-r.x,y:le-r.y}),g(!0)}else if(te.touches.length===2){const oe=Math.hypot(te.touches[0].clientX-te.touches[1].clientX,te.touches[0].clientY-te.touches[1].clientY);w.current=oe,k.current=t,g(!1),N(!1)}},q=te=>{var T;if(te.touches.length===1){const oe=te.touches[0],ue=(T=v.current)==null?void 0:T.getBoundingClientRect();if(!ue)return;const K=oe.clientX-ue.left,le=oe.clientY-ue.top;if(c)return;if(O&&P){const ne=A(K,le),F=Math.floor(ne.x),ge=Math.floor(ne.y),he=Math.min(P.x,F),Se=Math.min(P.y,ge),Ge=Math.max(P.x,F),Ie=Math.max(P.y,ge),ht=Ge-he+1,pt=Ie-Se+1;$({x:he,y:Se,w:ht,h:pt})}else m&&n({x:K-b.x,y:le-b.y})}else if(te.touches.length===2&&w.current&&k.current&&a){const ue=Math.hypot(te.touches[0].clientX-te.touches[1].clientX,te.touches[0].clientY-te.touches[1].clientY)/w.current;a(k.current*ue)}},V=()=>{O&&(N(!1),C&&o&&C.w>0&&C.h>0&&o(C)),g(!1),w.current=null,k.current=null,_.current=null};return u.jsx("canvas",{ref:v,className:`w-full h-full block touch-none ${c||O||(ie=window.event)!=null&&ie.shiftKey||l==="select"?"cursor-crosshair":"cursor-grab active:cursor-grabbing"}`,onMouseDown:I,onMouseMove:B,onMouseUp:W,onMouseLeave:W,onTouchStart:J,onTouchMove:q,onTouchEnd:V,onTouchCancel:V,tabIndex:0})},Hl=({title:e,children:t})=>u.jsxs("div",{className:"border-b border-gray-200 dark:border-slate-700 transition-colors duration-300",children:[u.jsx("div",{className:"p-4 font-semibold text-gray-800 dark:text-slate-200 bg-gray-50 dark:bg-slate-800/30 border-b border-gray-200 dark:border-slate-800 select-none cursor-default transition-colors duration-300",children:u.jsx("span",{children:e})}),u.jsx("div",{className:"p-4 bg-white dark:bg-slate-900/50 transition-colors duration-300",children:t})]}),VM=[{value:-1,label:"Raw Bayer (Grayscale)"},{value:0,label:"Linear interpolation"},{value:1,label:"VNG (Variable Number of Gradients)"},{value:2,label:"PPG (Patterned Pixel Grouping)"},{value:3,label:"AHD (Adaptive Homogeneity-Directed)"},{value:4,label:"DCB (Demosaicing with Color Back-refinement)"},{value:11,label:"DHT (Modified AHD)"},{value:12,label:"AAHD (Adaptive AHD)"}],cf=({checked:e,onChange:t,label:r})=>u.jsxs("div",{className:"flex items-center justify-between py-2 cursor-pointer group",onClick:()=>t(!e),children:[u.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-slate-300 select-none group-hover:text-gray-900 dark:group-hover:text-slate-200 transition-colors",children:r}),u.jsx("div",{className:`relative w-11 h-6 rounded-full transition-colors duration-200 ease-in-out ${e?"bg-cyan-500 dark:bg-cyan-600":"bg-gray-300 dark:bg-slate-600 group-hover:bg-gray-400 dark:group-hover:bg-slate-500"}`,children:u.jsx("div",{className:`absolute left-1 top-1 bg-white w-4 h-4 rounded-full shadow-md transform transition-transform duration-200 ease-in-out ${e?"translate-x-5":"translate-x-0"}`})})]}),pb=(e,t)=>{if(!e)return null;if(t){const r=e.bayerPattern.toUpperCase(),n=l=>{const c=[];for(let f=0;f<4;f++)r[f]===l&&c.push(f);return c},a=t.BlackLevelRed,o=t.BlackLevelGreen,i=t.BlackLevelBlue;if(a!==void 0&&o!==void 0&&i!==void 0){const l=parseFloat(a),c=parseFloat(o),f=parseFloat(i);if(!isNaN(l)&&!isNaN(c)&&!isNaN(f)){const d=[0,0,0,0];return d.fill(c),n("R").forEach(h=>d[h]=l),n("G").forEach(h=>d[h]=c),n("B").forEach(h=>f),d}}let s=t.BlackLevel;if(s===void 0&&(s=t.BlackLevel2),s!==void 0){let l=[];if(Array.isArray(s)?l=s.map(Number):typeof s=="string"?l=s.trim().split(/\s+/).map(Number):typeof s=="number"&&(l=[s,s,s,s]),l.length===1&&!isNaN(l[0])&&(l=[l[0],l[0],l[0],l[0]]),l.length>=4&&!l.slice(0,4).some(isNaN))return[l[0],l[1],l[2],l[3]]}}return e.blackLevels&&e.blackLevels.length===4?[e.blackLevels[0],e.blackLevels[1],e.blackLevels[2],e.blackLevels[3]]:null},XM=e=>{const{rawImageData:t,displaySettings:r,onApplyDisplaySettings:n,onSetSelection:a,exifData:o,isBridgeConnected:i,isDrLabOpen:s,drMarkingStep:l,onStartMarking:c,onGenerateTestPic:f,drRoiSize:d,onDrRoiSizeChange:h,drGridRows:p,onDrGridRowsChange:y,drGridCols:v,onDrGridColsChange:x,onBatchDrLab:m,hasDrMarkers:g,isFftLabOpen:b,onProcessPair:S,onProcessBatchDiff:w,onProcessStackFft:k,onOpenCrossCalc:_,isThreePlane:O,onToggleXTrans:N,xtransPhase:P,onXTransPhaseChange:M,isXTransConverted:C,onCommand:$,isColorLabOpen:z,colorLabMarkingStep:E,onStartColorLabMarking:G}=e,A=!!t,I=!!(t!=null&&t.isXTrans),B=!!N,[W,J]=j.useState(r.exposure.toString()),[q,V]=j.useState(""),[ie,te]=j.useState("0 0 0 0"),[T,oe]=j.useState("1.0"),[ue,K]=j.useState("1.0"),[le,ne]=j.useState(r.demosaicMethod),[F,ge]=j.useState(!!r.showKadc),[he,Se]=j.useState(!!r.subtractBlackLevelFromStats),[Ge,Ie]=j.useState("64"),[ht,pt]=j.useState(!1),[De,He]=j.useState(!1),[bt,Rt]=j.useState("0 0 0 0"),[Gt,_r]=j.useState("2840 6303 3935 6303"),[Or,cr]=j.useState("780 1720 1101 1720"),[ur,Ir]=j.useState(!1),[Jt,Nr]=j.useState(!1),[ot,Ve]=j.useState(!1),[gt,Ht]=j.useState("single"),Pr=j.useRef(null),Vr=j.useRef(null),nr=j.useRef(null),Pt=j.useRef(null),[At,it]=j.useState(null),[ar,xr]=j.useState(null),[Fn,ya]=j.useState(!1),[zn,Pn]=j.useState(!0),An=j.useRef(null),Br=j.useRef(null);j.useEffect(()=>{if(J(r.exposure.toString()),r.customMatrix?(V(r.customMatrix.join(" ")),pt(!0)):V(""),r.blackLevel&&r.blackLevel.length===4)te(r.blackLevel.join(" "));else{const X=pb(t,o);te(X?X.join(" "):"0 0 0 0")}oe(r.wbGains?r.wbGains[0].toString():"1.0"),K(r.wbGains?r.wbGains[1].toString():"1.0"),ne(r.demosaicMethod),ge(!!r.showKadc),Se(!!r.subtractBlackLevelFromStats),r.advancedZeroDep&&(Rt(r.advancedZeroDep.bl.join(" ")),_r(r.advancedZeroDep.bg.join(" ")),cr(r.advancedZeroDep.fg.join(" ")),He(!0))},[r,t,o]);const mn=X=>J(X),va=X=>oe(X),an=X=>K(X),er=X=>ne(parseInt(X.target.value,10)),Vt=X=>V(X.target.value),Lt=()=>{J("0"),ne(3),oe("1.0"),K("1.0"),ge(!0),Se(!0),V(""),pt(!1),He(!1);const X=pb(t,o);te(X?X.join(" "):"0 0 0 0")},ae=()=>{!t||!a||(a({x:0,y:0,w:t.width,h:t.height}),$==null||$("sel full"))},Oe=()=>{if(!t||!a)return;const X=parseInt(Ge,10);if(isNaN(X)||X<=0)return;const je=Math.min(X,t.width),Bt=Math.min(X,t.height),Kr=Math.floor((t.width-je)/2),Mt=Math.floor((t.height-Bt)/2);a({x:Kr,y:Mt,w:je,h:Bt}),$==null||$(`sel center ${X}`)},Re=()=>{const je=ie.split(/[\s,]+/).filter(Bt=>Bt.trim()!=="").map(Number);if(je.length===1&&!isNaN(je[0]))return[je[0],je[0],je[0],je[0]];if(je.length>=4&&!je.slice(0,4).some(isNaN))return[je[0],je[1],je[2],je[3]]},Je=X=>{const je=X.trim().split(/[\s,]+/).map(Number);return je.length===4&&!je.some(isNaN)?je:je.length===1&&!isNaN(je[0])?[je[0],je[0],je[0],je[0]]:null},Ke=()=>{$&&(W!=="0"&&$(`ev ${W}`),(T!=="1.0"||ue!=="1.0")&&$(`wb ${T} ${ue}`),ie!=="0 0 0 0"&&$(`bl ${ie}`),le!==3&&$(`demo ${le}`),q.trim().length>0&&$(`matrix ${q.replace(/\s+/g," ")}`),$("render"));const X={...r},je=parseFloat(W);isNaN(je)||(X.exposure=je);const Bt=parseFloat(T),Kr=parseFloat(ue);if(!isNaN(Bt)&&!isNaN(Kr)&&(X.wbGains=[Bt,Kr]),X.demosaicMethod=le,X.renderMode="standard",ht){const Mt=Re();Mt&&(X.blackLevel=Mt);const Yr=q.trim().replace(/[\s,\n]+/g," ");if(Yr){const fr=Yr.split(" ").map(Number);fr.length===9&&!fr.some(isNaN)?X.customMatrix=fr:alert("Invalid matrix format. Please ensure exactly 9 numeric values (3x3).")}else delete X.customMatrix;X.showKadc=F,X.subtractBlackLevelFromStats=he}else delete X.customMatrix,delete X.blackLevel,delete X.showKadc,delete X.subtractBlackLevelFromStats;n(X)},Ot=()=>{Nr(!0)},mt=X=>{$&&(W!=="0"&&$(`ev ${W}`),(T!=="1.0"||ue!=="1.0")&&$(`wb ${T} ${ue}`),ie!=="0 0 0 0"&&$(`bl ${ie}`),$(X==="bilinear"?"render zero color":"render zero"));const je={...r},Bt=Re();Bt&&(je.blackLevel=Bt);const Kr=parseFloat(T),Mt=parseFloat(ue);!isNaN(Kr)&&!isNaN(Mt)&&(je.wbGains=[Kr,Mt]);const Yr=parseFloat(W);if(isNaN(Yr)||(je.exposure=Yr),X==="bilinear"){const fr=q.trim().replace(/[\s,\n]+/g," ");if(fr){const Qn=fr.split(" ").map(Number);Qn.length===9&&!Qn.some(isNaN)&&(je.customMatrix=Qn)}}je.renderMode=X==="mosaic"?"zero-dependency":"zero-dep-color",Nr(!1),n(je)},It=()=>{const X=Je(bt),je=Je(Gt),Bt=Je(Or);if(!X||!je||!Bt){alert("Please enter valid 4-channel numbers for BL, BG, and FG.");return}$&&(W!=="0"&&$(`ev ${W}`),$(`render unmix ${X.join(" ")} ${je.join(" ")} ${Bt.join(" ")}`));const Kr={...r,renderMode:"advanced-zero-dep",advancedZeroDep:{bl:X,bg:je,fg:Bt}};n(Kr)},Ee=X=>{X.target.files&&X.target.files.length>0&&m&&(m(X.target.files,gt),$==null||$(`drlab batch ${gt}`)),X.target.value="",Ve(!1)},Ye=async X=>{var Bt;const je=(Bt=X.target.files)==null?void 0:Bt[0];if(je){try{const Mt=(await je.text()).split(`
`),Yr=[];Yr.push("#BlackLevel: 0,0,0,0"),Yr.push("#ImageHeight: 0"),Yr.push("Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std");let fr=1;for(let xa=0;xa<Mt.length;xa++){const qr=Mt[xa].trim();if(!qr||qr.includes("R_mean")||qr.includes("R_std"))continue;const Mn=qr.split(/\s+/).map(Number);if(Mn.length<8||Mn.some(isNaN))continue;const Nl=[fr,1,Mn[0],Mn[2],Mn[6],Mn[4],Mn[1],Mn[3],Mn[7],Mn[5]].join(",");Yr.push(Nl),fr++}const Qn=new Blob([Yr.join(`
`)],{type:"text/csv"}),jo=URL.createObjectURL(Qn),Jn=document.createElement("a");Jn.href=jo,Jn.download=je.name.replace(/\.[^/.]+$/,"")+"_converted.csv",document.body.appendChild(Jn),Jn.click(),document.body.removeChild(Jn),URL.revokeObjectURL(jo)}catch(Kr){console.error("Conversion failed",Kr),alert("Failed to convert file.")}X.target.value=""}},yt=X=>{X.target.files&&X.target.files[0]&&(it(X.target.files[0]),$==null||$("fft load a"))},ct=X=>{X.target.files&&X.target.files[0]&&(xr(X.target.files[0]),$==null||$("fft load b"))},Xt=()=>{At&&ar&&S&&(S(At,ar,Fn,zn),$==null||$("fft run"))},ve=X=>{X.target.files&&X.target.files.length>0&&w&&(w(X.target.files),$==null||$("fft batch")),X.target.value=""},Xr=X=>{X.target.files&&X.target.files.length>0&&k&&(k(X.target.files),$==null||$("fft stack")),X.target.value=""},So=!!C;return u.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-black",children:[u.jsxs("div",{className:"flex-grow overflow-y-auto",children:[O&&u.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-3 border-b border-red-100 dark:border-red-800 text-center animate-pulse",children:[u.jsx("p",{className:"text-xs font-bold text-red-600 dark:text-red-400 uppercase tracking-wide",children:" 3-Plane / Full Color"}),u.jsx("p",{className:"text-[10px] text-red-500/80 dark:text-red-300/70 mt-1",children:"Demosaic disabled. Stats analysis treated as pseudo-Bayer."})]}),I&&!C&&u.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-3 border-b border-amber-100 dark:border-amber-800 text-center",children:[u.jsx("p",{className:"text-xs font-bold text-amber-600 dark:text-amber-400 uppercase tracking-wide",children:" X-Trans Native (Unsupported)"}),u.jsx("p",{className:"text-[10px] text-amber-600/80 dark:text-amber-300/70 mt-1 text-left leading-tight px-1",children:"Currently reading raw 6x6 pattern as Bayer. Stats will be incorrect. Please enable Pseudo-Bayer conversion below."})]}),C&&u.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 p-3 border-b border-emerald-100 dark:border-emerald-800 text-center",children:[u.jsx("p",{className:"text-xs font-bold text-emerald-600 dark:text-emerald-400 uppercase tracking-wide",children:" X-Trans Pseudo-Bayer"}),u.jsx("p",{className:"text-[10px] text-emerald-600/80 dark:text-emerald-300/70 mt-1 text-left leading-tight px-1",children:"Converted 6x6  2x2 RGGB (Subsampled). Demosaic & Analysis fully supported."})]}),b&&u.jsx(Hl,{title:"FFT Lab (Noise Profile)",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"space-y-3 bg-gray-50 dark:bg-slate-800/40 p-3 rounded-xl border border-gray-100 dark:border-slate-800",children:[u.jsxs("h4",{className:"text-[10px] font-bold text-fuchsia-600 dark:text-fuchsia-400 uppercase tracking-widest flex items-center gap-2",children:[u.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-fuchsia-500"})," 1. Pair Difference (Sub)"]}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("input",{type:"file",ref:Pr,className:"hidden",onChange:yt,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),u.jsx("button",{onClick:()=>{var X;return(X=Pr.current)==null?void 0:X.click()},className:`w-full py-2 px-3 rounded-lg border text-[10px] font-bold text-left truncate transition-colors ${At?"bg-fuchsia-55 dark:bg-fuchsia-900/20 border-fuchsia-300 dark:border-fuchsia-800 text-fuchsia-700 dark:text-fuchsia-300":"bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-600 text-gray-500 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:At?`A: ${At.name}`:"Load Image A"}),u.jsx("input",{type:"file",ref:Vr,className:"hidden",onChange:ct,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),u.jsx("button",{onClick:()=>{var X;return(X=Vr.current)==null?void 0:X.click()},className:`w-full py-2 px-3 rounded-lg border text-[10px] font-bold text-left truncate transition-colors ${ar?"bg-fuchsia-55 dark:bg-fuchsia-900/20 border-fuchsia-300 dark:border-fuchsia-800 text-fuchsia-700 dark:text-fuchsia-300":"bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-600 text-gray-500 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:ar?`B: ${ar.name}`:"Load Image B"})]}),u.jsx("div",{className:"flex flex-col gap-1.5 pt-1",children:u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:zn,onChange:X=>Pn(X.target.checked),className:"w-3 h-3 text-fuchsia-600 border-gray-300 rounded focus:ring-0"}),u.jsx("span",{className:"text-[10px] text-gray-600 dark:text-slate-300",children:"Normalize (2)"})]})}),u.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[u.jsx("button",{onClick:Xt,disabled:!At||!ar,className:"w-full bg-fuchsia-600 hover:bg-fuchsia-500 disabled:opacity-30 text-white font-bold py-2 rounded shadow transition-all active:scale-95 text-[10px]",children:"Generate Diff & Load"}),u.jsx("input",{type:"file",ref:nr,className:"hidden",multiple:!0,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff",onChange:ve}),u.jsx("button",{onClick:()=>{var X;return(X=nr.current)==null?void 0:X.click()},className:"w-full bg-slate-700 hover:bg-slate-600 text-white font-bold py-2 rounded shadow transition-all active:scale-95 text-[10px] flex items-center justify-center gap-1",children:"Batch Diffs (Auto Download)"})]})]}),u.jsxs("div",{className:"space-y-3 bg-gray-50 dark:bg-slate-800/40 p-3 rounded-xl border border-gray-100 dark:border-slate-800",children:[u.jsxs("h4",{className:"text-[10px] font-bold text-cyan-600 dark:text-cyan-400 uppercase tracking-widest flex items-center gap-2",children:[u.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-cyan-500"})," 2. Stack FFT (Avg PSD)"]}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("input",{type:"file",ref:Pt,className:"hidden",multiple:!0,onChange:Xr,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),u.jsx("button",{onClick:()=>{var X;return(X=Pt.current)==null?void 0:X.click()},className:"w-full py-3 bg-cyan-600 hover:bg-cyan-500 text-white font-bold rounded-lg shadow-md transition-all active:scale-95 text-[10px] flex items-center justify-center gap-2",children:"Select Sequence Files"})]})]}),u.jsx("div",{className:"flex flex-col gap-2 pt-2",children:u.jsx("button",{onClick:()=>{_==null||_(),$==null||$("crosscalc")},className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-2 px-4 rounded-lg shadow-md transition-all active:scale-95 text-[10px] flex items-center justify-center gap-2",children:"Cross-Compensation Calc"})})]})}),s&&u.jsx(Hl,{title:"DR Lab Tools",children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("button",{onClick:()=>{f==null||f(),$==null||$("gen test")},className:"w-full bg-amber-500 hover:bg-amber-600 text-white font-bold py-2 px-4 rounded-lg shadow-md transition-colors text-sm",children:"Generate Test Pic"}),u.jsxs("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-3",children:[u.jsx("h4",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-2",children:"Grid Analysis"}),h&&d!==void 0&&u.jsx("div",{className:"flex items-center justify-between mb-3",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Box Size:"}),u.jsx("input",{type:"number",min:"8",max:"512",step:"2",value:d,onChange:X=>h(parseInt(X.target.value)||64),className:"w-12 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 text-center"}),u.jsx("span",{className:"text-xs text-gray-400",children:"px"})]})}),y&&x&&p!==void 0&&v!==void 0&&u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Layout:"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"number",min:"1",max:"50",value:p,onChange:X=>y(Math.max(1,parseInt(X.target.value)||1)),className:"w-10 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md outline-none text-sm text-center",title:"Rows"}),u.jsx("span",{className:"text-xs text-gray-400",children:"x"}),u.jsx("input",{type:"number",min:"1",max:"50",value:v,onChange:X=>x(Math.max(1,parseInt(X.target.value)||1)),className:"w-10 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md outline-none text-sm text-center",title:"Columns"})]})]}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("button",{onClick:()=>{c==null||c(),$==null||$("mark")},disabled:!A||l!==void 0&&l>0,className:`w-full font-bold py-2 px-4 rounded-lg shadow-md transition-all text-sm ${A?l&&l>0?"bg-indigo-100 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300 border-2 border-indigo-500":"bg-indigo-600 hover:bg-indigo-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:l&&l>0?"Marking Active...":"Mark Corners"}),m&&u.jsxs(u.Fragment,{children:[u.jsx("input",{type:"file",ref:An,className:"hidden",multiple:!0,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff",onChange:Ee}),u.jsxs("div",{className:"relative",children:[u.jsx("button",{onClick:()=>Ve(!ot),disabled:!g,className:"w-full font-bold py-2 px-4 rounded-lg shadow-md transition-all text-sm bg-emerald-600 hover:bg-emerald-700 disabled:bg-gray-300 disabled:text-gray-500 disabled:cursor-not-allowed text-white flex items-center justify-center gap-2",children:"Reuse Last & Batch"}),ot&&u.jsxs("div",{className:"absolute bottom-full left-0 w-full mb-1 bg-white dark:bg-slate-800 rounded-lg shadow-xl border border-gray-200 dark:border-slate-700 overflow-hidden z-20 flex flex-col animate-in fade-in zoom-in-95 duration-100",children:[u.jsx("button",{className:"px-4 py-2 text-left text-xs hover:bg-gray-100 dark:hover:bg-slate-700 text-gray-700 dark:text-slate-200 border-b border-gray-100 dark:border-slate-700",onClick:()=>{var X;Ht("single"),(X=An.current)==null||X.click()},children:"1. Independent Frames"}),u.jsx("button",{className:"px-4 py-2 text-left text-xs hover:bg-gray-100 dark:hover:bg-slate-700 text-indigo-600 dark:text-indigo-400 font-bold",onClick:()=>{var X;Ht("pair"),(X=An.current)==null||X.click()},children:"2. Pair Difference (A-B)"})]})]})]}),u.jsxs("div",{className:"pt-2 mt-2 border-t border-gray-100 dark:border-slate-800",children:[u.jsx("input",{type:"file",ref:Br,className:"hidden",accept:".txt",onChange:Ye}),u.jsx("button",{onClick:()=>{var X;return(X=Br.current)==null?void 0:X.click()},className:"w-full font-bold py-2 px-4 rounded-lg shadow-sm transition-all text-xs bg-slate-100 hover:bg-slate-200 dark:bg-slate-800 dark:hover:bg-slate-700 text-gray-600 dark:text-slate-300 flex items-center justify-center gap-2 border border-gray-300 dark:border-slate-600",children:"Convert Format (.txt  .csv)"})]})]}),l!==void 0&&l>0&&u.jsx("div",{className:"mt-2 text-center",children:u.jsxs("p",{className:"text-xs text-indigo-600 dark:text-indigo-400 font-bold animate-pulse",children:[l===1&&"Click Top-Left Center",l===2&&"Click Top-Right Center",l===3&&"Click Bottom-Left Center",l===4&&"Click Bottom-Right Center"]})})]})]})}),z&&u.jsx(Hl,{title:"Color Lab Tools",children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"text-sm text-gray-600 dark:text-slate-300 mb-2",children:"Calibrate colors using a standard ColorChecker 24 chart."}),u.jsx("button",{onClick:()=>{G==null||G(),$==null||$("cl mark")},disabled:!A||E!==void 0&&E>0,className:`w-full font-bold py-2 px-4 rounded-lg shadow-md transition-all text-sm ${A?E&&E>0?"bg-yellow-100 dark:bg-yellow-900 text-yellow-700 dark:text-yellow-300 border-2 border-yellow-500":"bg-yellow-600 hover:bg-yellow-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:E&&E>0?"Marking Active...":"Mark 24-Patch Chart"}),E!==void 0&&E>0&&u.jsx("div",{className:"mt-2 text-center",children:u.jsxs("p",{className:"text-xs text-yellow-600 dark:text-yellow-400 font-bold animate-pulse",children:[E===1&&"Click Top-Left (Brown)",E===2&&"Click Top-Right (Cyanish)",E===3&&"Click Bottom-Left (White)",E===4&&"Click Bottom-Right (Black)"]})})]})}),u.jsx(Hl,{title:"Selection Tools",children:u.jsx("div",{className:"space-y-3",children:u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"Quick Select or Shift+drag"}),u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Size (px):"}),u.jsx("input",{type:"number",min:"1",value:Ge,onChange:X=>Ie(X.target.value),disabled:!A,className:"flex-1 px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("button",{onClick:Oe,disabled:!A,className:"px-3 py-1.5 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-slate-200 text-xs font-semibold rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Center Rect"}),u.jsx("button",{onClick:ae,disabled:!A,className:"px-3 py-1.5 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-slate-200 text-xs font-semibold rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Full Image"})]})]})})}),u.jsx(Hl,{title:"Display Controls",children:u.jsxs("div",{className:"space-y-5",children:[u.jsxs("p",{className:"text-gray-500 dark:text-slate-400 text-center text-sm",children:["Adjust parameters and click ",u.jsx("b",{children:"Apply"}),"."]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"exposure",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"Exposure (EV)"}),u.jsx("div",{className:"flex items-center gap-2 mb-2",children:u.jsx("input",{type:"range",min:"-5",max:"5",step:"0.1",disabled:!A,value:parseFloat(W)||0,onChange:X=>mn(X.target.value),className:"w-full h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500 disabled:opacity-50"})}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("input",{id:"exposure",type:"number",step:"0.1",value:W,onChange:X=>mn(X.target.value),disabled:!A,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})})]}),u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"demosaic",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2 flex justify-between",children:[u.jsx("span",{children:"Demosaic Method"}),(O||(t==null?void 0:t.isXTrans))&&u.jsx("span",{className:"text-[9px] text-red-500 font-bold bg-red-100 dark:bg-red-900/30 px-1 rounded",children:"DISABLED"})]}),u.jsx("select",{id:"demosaic",value:le,onChange:er,disabled:!A||O||(t==null?void 0:t.isXTrans),className:"w-full px-2 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none transition-colors disabled:bg-gray-100 dark:disabled:bg-slate-800/50 disabled:cursor-not-allowed text-sm text-gray-900 dark:text-slate-100",children:VM.map(X=>u.jsx("option",{value:X.value,children:X.label},X.value))}),O&&u.jsx("p",{className:"text-[9px] text-gray-400 mt-1",children:"Full color data detected. Demosaicing skipped."}),(t==null?void 0:t.isXTrans)&&u.jsx("p",{className:"text-[9px] text-amber-500 mt-1",children:"X-Trans detected. Please enable Pseudo-Bayer below."})]}),B&&u.jsxs("div",{className:"border-t border-gray-100 dark:border-slate-800 pt-2",children:[u.jsx(cf,{checked:!!So,onChange:X=>{N&&N(X),$==null||$(`xtrans ${X?"on":"off"}`)},label:"Force X-Trans (6x6 -> 2x2)"}),So&&P&&M&&u.jsxs("div",{className:"mt-2 pl-2 border-l-2 border-emerald-500/50 bg-emerald-50/20 dark:bg-emerald-900/10 p-2 rounded",children:[u.jsx("label",{className:"text-[9px] font-bold text-gray-500 dark:text-slate-400 uppercase block mb-1",children:"Phase Offset (Fine Tune)"}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-[9px] text-gray-400",children:"X (0-5)"}),u.jsx("input",{type:"number",min:"0",max:"5",value:P.x,onChange:X=>{const je=Math.min(5,Math.max(0,parseInt(X.target.value)||0));M({x:je}),$==null||$(`xtrans phase ${je} ${P.y}`)},className:"w-full text-xs px-1 py-0.5 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-center outline-none focus:border-cyan-500"})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-[9px] text-gray-400",children:"Y (0-5)"}),u.jsx("input",{type:"number",min:"0",max:"5",value:P.y,onChange:X=>{const je=Math.min(5,Math.max(0,parseInt(X.target.value)||0));M({y:je}),$==null||$(`xtrans phase ${P.x} ${je}`)},className:"w-full text-xs px-1 py-0.5 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-center outline-none focus:border-cyan-500"})]})]})]})]}),u.jsx("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-2",children:u.jsx(cf,{checked:ht,onChange:pt,label:"Advanced Settings"})}),ht&&u.jsxs("div",{className:"space-y-5 pl-2 border-l-2 border-gray-200 dark:border-slate-700 animate-in slide-in-from-top-2 duration-200",children:[u.jsxs("div",{children:[u.jsx(cf,{checked:F,onChange:ge,label:"Show Kadc"}),u.jsx("p",{className:"text-[10px] text-gray-400 dark:text-slate-500 mt-1",children:"Requires manual Black Levellinear PTC zoneabsolutely uniform image ."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"White Balance Gains"}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-xs text-red-500 dark:text-red-400 block mb-1",children:"Red"}),u.jsx("input",{type:"number",step:"0.01",value:T,onChange:X=>va(X.target.value),disabled:!A,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-red-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-xs text-blue-500 dark:text-blue-400 block mb-1",children:"Blue"}),u.jsx("input",{type:"number",step:"0.01",value:ue,onChange:X=>an(X.target.value),disabled:!A,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-blue-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})]})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-end mb-2",children:[u.jsxs("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide flex items-center",children:["Black Level (4-Ch)",u.jsx("span",{className:"ml-1 text-[10px] text-gray-400 dark:text-slate-500 font-normal normal-case",children:"Native"}),u.jsx("button",{onClick:()=>Ir(!0),className:"ml-2 text-[10px] text-cyan-600 dark:text-cyan-400 hover:text-cyan-700 dark:hover:text-cyan-300 hover:underline cursor-pointer transition-colors",title:"About Black Level Settings",children:"[about]"})]}),u.jsxs("div",{className:"flex items-center gap-1.5",title:"Subtract Black Level from ROI Mean stats (for display)",children:[u.jsx("span",{className:"text-[9px] font-mono text-gray-400 dark:text-slate-500 uppercase tracking-wide",children:"Sub. BL"}),u.jsx("div",{className:`relative w-8 h-4 rounded-full cursor-pointer transition-colors duration-200 ease-in-out ${he?"bg-cyan-500":"bg-gray-300 dark:bg-slate-700"}`,onClick:()=>Se(!he),children:u.jsx("div",{className:`absolute top-0.5 left-0.5 bg-white w-3 h-3 rounded-full shadow-sm transform transition-transform duration-200 ${he?"translate-x-4":"translate-x-0"}`})})]})]}),u.jsx("input",{type:"text",value:ie,onChange:X=>te(X.target.value),disabled:!A,placeholder:"0 0 0 0",className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-xs font-mono text-gray-900 dark:text-slate-100 transition-colors duration-300",title:"Enter 4 values separated by space or comma"}),u.jsx("p",{className:"text-[10px] text-gray-400 dark:text-slate-500 mt-1",children:"Order: (0,0) (0,1) (1,0) (1,1). Spatial: TL, TR, BL, BR."})]}),u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"customMatrix",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:["Custom Color Matrix",u.jsx("span",{className:"block text-[10px] text-gray-400 dark:text-slate-500 font-normal normal-case mt-0.5",children:"XYZ to Camera RGB (3x3, 9 nums)"})]}),u.jsx("textarea",{id:"customMatrix",value:q,onChange:Vt,disabled:!A,placeholder:"0.66 -0.19 -0.04  -0.46 1.23 0.25  -0.06 0.13 0.65",className:"w-full h-24 px-2 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none transition-colors disabled:bg-gray-100 dark:disabled:bg-slate-800/50 disabled:cursor-not-allowed text-xs font-mono leading-relaxed text-gray-900 dark:text-slate-100"})]})]}),u.jsx("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-2",children:u.jsx(cf,{checked:De,onChange:He,label:" (Scalar Unmixing)"})}),De&&u.jsxs("div",{className:"space-y-4 pl-2 border-l-2 border-indigo-200 dark:border-indigo-900 animate-in slide-in-from-top-2 duration-200",children:[u.jsxs("div",{className:"grid grid-cols-5 gap-1 items-center text-[9px] uppercase font-bold text-gray-400 mb-[-8px]",children:[u.jsx("div",{className:"col-span-1",children:"Param"}),u.jsx("div",{className:"text-center",children:"Ch0(R)"}),u.jsx("div",{className:"text-center",children:"Ch1(G1)"}),u.jsx("div",{className:"text-center",children:"Ch2(B)"}),u.jsx("div",{className:"text-center",children:"Ch3(G2)"})]}),u.jsxs("div",{className:"grid grid-cols-5 gap-2 items-center",children:[u.jsx("span",{className:"text-[10px] font-bold text-red-500",children:"BL:"}),u.jsx("input",{type:"text",value:bt,onChange:X=>Rt(X.target.value),className:"col-span-4 px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-xs font-mono text-gray-900 dark:text-slate-100"})]}),u.jsxs("div",{className:"grid grid-cols-5 gap-2 items-center",children:[u.jsx("span",{className:"text-[10px] font-bold text-indigo-500",children:"B ():"}),u.jsx("input",{type:"text",value:Gt,onChange:X=>_r(X.target.value),className:"col-span-4 px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-xs font-mono text-gray-900 dark:text-slate-100"})]}),u.jsxs("div",{className:"grid grid-cols-5 gap-2 items-center",children:[u.jsx("span",{className:"text-[10px] font-bold text-emerald-500",children:"F ():"}),u.jsx("input",{type:"text",value:Or,onChange:X=>cr(X.target.value),className:"col-span-4 px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-xs font-mono text-gray-900 dark:text-slate-100"})]}),u.jsx("button",{onClick:It,disabled:!A,className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-2 rounded text-[10px] shadow transition-transform active:scale-95",children:"RUN UNMIXING (ADV ZERO-DEP)"}),u.jsx("p",{className:"text-[9px] text-gray-400 italic text-center",children:" + sRGB Gamma "})]}),u.jsxs("div",{className:"pt-4 flex flex-col gap-2",children:[u.jsx("button",{onClick:Ke,disabled:!A,className:"w-full text-base bg-cyan-500 hover:bg-cyan-600 dark:bg-cyan-600 dark:hover:bg-cyan-500 disabled:bg-gray-300 dark:disabled:bg-slate-800 disabled:text-gray-500 dark:disabled:text-slate-500 disabled:cursor-not-allowed text-white font-bold py-3 px-3 rounded-lg shadow-lg shadow-cyan-500/20 dark:shadow-cyan-900/20 transition-all active:scale-95",children:""}),u.jsxs("button",{onClick:Ot,disabled:!A,className:"w-full text-xs font-bold bg-slate-700 hover:bg-slate-600 text-white disabled:bg-gray-300 dark:disabled:bg-slate-800 disabled:text-gray-500 transition-colors py-2 rounded-lg flex items-center justify-center gap-1.5 border border-slate-600",title:"Diagnostic Mode. Direct RAW-to-Grayscale mapping using manual Black Level & WB Gains (R/B calibration).",children:[u.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"",u.jsx("br",{}),"(CM)"]}),u.jsx("button",{onClick:Lt,disabled:!A,className:"w-full text-xs text-gray-400 hover:text-gray-600 dark:text-slate-400 dark:hover:text-slate-200 disabled:text-gray-300 dark:disabled:text-slate-600 transition-colors mt-1",children:"Reset Defaults (Local)"})]})]})})]}),u.jsx(Zo,{isOpen:ur,onClose:()=>Ir(!1),onConfirm:()=>{window.open("https://y-g-jiang.github.io/CBLD.html","_blank"),Ir(!1)},title:"Black Level Info / ",confirmText:"Visit Database (CBLD)",cancelText:"Close",message:u.jsxs("div",{className:"flex flex-col gap-4 text-left text-sm text-gray-600 dark:text-slate-300",children:[u.jsxs("p",{className:"leading-relaxed",children:["JiangBridge/JiangBridge",u.jsx("a",{href:"https://y-g-jiang.github.io/CBLD.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline mx-1 font-bold",children:"CBLD.html"}),""]}),u.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 w-full"}),u.jsxs("p",{className:"leading-relaxed",children:["Autofills when JiangBridge is detected. If no result is found or JiangBridge is missing, please check the ",u.jsx("a",{href:"https://y-g-jiang.github.io/CBLD.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline mx-1 font-bold",children:"Black Level Database"}),"to find your camera model. However, manually capturing a dark frame with identical settings to calculate and input the values is highly recommended for higher decimal precision, as internal tags often lack accuracy."]})]})}),u.jsx(Zo,{isOpen:Jt,onClose:()=>Nr(!1),onConfirm:()=>{},title:"Select Zero-Dependency Mode",confirmText:"",cancelText:"",message:u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx("div",{className:"text-gray-600 dark:text-slate-300 text-left text-sm leading-relaxed mb-2",children:"Select how you want to visualize the raw data without full JOraw processing."}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("button",{onClick:()=>mt("mosaic"),className:"flex flex-col items-center justify-center p-4 bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 border-2 border-transparent hover:border-gray-400 dark:hover:border-slate-500 rounded-xl transition-all group",children:[u.jsx("div",{className:"w-12 h-12 bg-gray-300 dark:bg-slate-600 rounded-full flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:u.jsx("svg",{className:"w-6 h-6 text-gray-600 dark:text-slate-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),u.jsx("h4",{className:"font-bold text-gray-800 dark:text-slate-200 mb-1",children:"Mosaic (Gray)"}),u.jsx("p",{className:"text-[10px] text-gray-500 dark:text-slate-400 text-center",children:"Original Bayer pattern. No demosaic. 1:1 pixel mapping. Pure DN visualization."})]}),u.jsxs("button",{onClick:()=>mt("bilinear"),className:"flex flex-col items-center justify-center p-4 bg-indigo-50 hover:bg-indigo-100 dark:bg-indigo-900/20 dark:hover:bg-indigo-900/40 border-2 border-transparent hover:border-indigo-400 rounded-xl transition-all group",children:[u.jsx("div",{className:"w-12 h-12 bg-indigo-200 dark:bg-indigo-800 rounded-full flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:u.jsx("svg",{className:"w-6 h-6 text-indigo-700 dark:text-indigo-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"})})}),u.jsx("h4",{className:"font-bold text-indigo-800 dark:text-indigo-300 mb-1",children:"Bilinear (Color)"}),u.jsx("p",{className:"text-[10px] text-indigo-600/80 dark:text-indigo-400/80 text-center",children:"Basic JS Demosaic + Matrix + Gamma. Bypass JOraw pipeline."})]})]}),u.jsx("button",{onClick:()=>Nr(!1),className:"mt-2 w-full py-2 text-xs font-bold text-gray-500 hover:text-gray-700 dark:text-slate-400 dark:hover:text-slate-200 transition-colors",children:"Cancel"})]})})]})},KM=j.forwardRef((e,t)=>{const{rawImageData:r,displaySettings:n,onApplyDisplaySettings:a,onSetSelection:o,onStartMarking:i,onGenerateTestPic:s,onBatchDrLab:l,onProcessPair:c,onProcessBatchDiff:f,onProcessStackFft:d,onOpenCrossCalc:h,onToggleXTrans:p,onXTransPhaseChange:y}=e,[v,x]=j.useState([{id:"init",type:"info",text:'Jiangtherapee CLI v1.0. Type "help" for commands.'}]),[m,g]=j.useState(""),[b,S]=j.useState([]),[w,k]=j.useState(-1),_=j.useRef(null),O=j.useRef(null),N=j.useRef(null),P=j.useRef(null),M=j.useRef(null),C=j.useRef(null),$=j.useRef(null),z=j.useRef(null);j.useRef(null);const E=j.useRef({...n});j.useEffect(()=>{E.current={...n}},[n.exposure,n.demosaicMethod]);const G=j.useRef({fileA:null,fileB:null});j.useLayoutEffect(()=>{_.current&&(_.current.scrollTop=_.current.scrollHeight)},[v]);const A=(V,ie="out")=>{x(te=>[...te,{id:Date.now().toString()+Math.random(),type:ie,text:V}])};j.useImperativeHandle(t,()=>({log:(V,ie="in")=>{const te=ie;let T=V;ie==="in"&&!V.startsWith(">")&&(T=`> ${V}`),A(T,te)}}));const I=j.useRef(null);j.useEffect(()=>{if(e.roiStats&&e.roiStats!==I.current){const V=e.roiStats,ie=Math.round(V.x),te=Math.round(V.y),T=Math.round(V.width),oe=Math.round(V.height);A(`> sel ${ie} ${te} ${T} ${oe}`,"in");const ue=e.isBGGR?[{name:"B",idx:0},{name:"G1",idx:1},{name:"G2",idx:2},{name:"R",idx:3}]:[{name:"R",idx:0},{name:"G1",idx:1},{name:"G2",idx:2},{name:"B",idx:3}],K=u.jsxs("div",{className:"font-mono text-xs mt-1 mb-2",children:[u.jsxs("div",{className:"text-gray-400 mb-1",children:["Region Stats [",ie,", ",te,", ",T,"x",oe,"]:"]}),u.jsxs("div",{className:"grid grid-cols-[30px_1fr_1fr] gap-x-2 border-b border-gray-700 pb-1 mb-1 text-gray-500 font-bold",children:[u.jsx("div",{children:"Ch"}),u.jsx("div",{className:"text-right",children:"Mean"}),u.jsx("div",{className:"text-right",children:"StdDev"})]}),ue.map(le=>u.jsxs("div",{className:"grid grid-cols-[30px_1fr_1fr] gap-x-2 hover:bg-gray-900",children:[u.jsx("div",{className:le.name==="R"?"text-red-500":le.name==="B"?"text-blue-500":"text-green-500",children:le.name}),u.jsx("div",{className:"text-right text-gray-300",children:V.means[le.idx].toFixed(2)}),u.jsx("div",{className:"text-right text-gray-400",children:V.stdDevs[le.idx].toFixed(2)})]},le.name))]});A(K,"out"),I.current=V}},[e.roiStats,e.isBGGR]);const B=V=>{var oe,ue,K,le,ne,F,ge;const ie=V.trim().split(/\s+/),te=ie[0].toLowerCase(),T=ie.slice(1);switch(te){case"help":A("Available Commands:","info"),A("  ev <val>          Set Exposure (e.g. ev 1.5)","info"),A("  wb <r> <b>        Set WB Gains","info"),A("  bl <r> <g>...     Set Black Level (1 or 4 vals)","info"),A("  demo <id>         Demosaic (0=Lin, 3=AHD, -1=Raw)","info"),A("  matrix <n1..n9>   Set Custom Color Matrix","info"),A("  xtrans <on|off>   Force X-Trans Mode","info"),A("  xtrans phase <x> <y>  Set X-Trans Phase","info"),A("  render            Apply settings & Render","info"),A("  render zero       Zero-Dependency Render","info"),A("  render unmix      Advanced Unmixing Render","info"),A("  sel <full|center> Select ROI","info"),A("  sel <x> <y> <w> <h> Select ROI manually","info"),A("  mark              Start DR Lab Corner Marking","info"),A("  gen test          Generate Test Pattern","info"),A("  fft load <a>      Load FFT Pair Image A","info"),A("  fft load <b>      Load FFT Pair Image B","info"),A("  fft run           Run FFT Pair Diff","info"),A("  cls               Clear Screen","info");break;case"cls":case"clear":x([]);break;case"ev":case"exposure":if(T.length<1){A(`Current EV: ${E.current.exposure}`,"info");return}const he=parseFloat(T[0]);if(isNaN(he)){A("Invalid EV value","err");return}E.current.exposure=he,A(`EV set to ${he} (run 'render' to apply)`);break;case"wb":if(T.length<2){A("Usage: wb <red_gain> <blue_gain>","err");return}const Se=parseFloat(T[0]),Ge=parseFloat(T[1]);if(isNaN(Se)||isNaN(Ge)){A("Invalid gains","err");return}E.current.wbGains=[Se,Ge],A(`WB set to R:${Se} B:${Ge}`);break;case"bl":case"black":if(T.length===0){A(`Current BL: ${((oe=E.current.blackLevel)==null?void 0:oe.join(" "))||"Auto"}`,"info");return}let Ie=T.map(Number);if(Ie.some(isNaN)){A("Invalid numbers","err");return}if(Ie.length===1&&(Ie=[Ie[0],Ie[0],Ie[0],Ie[0]]),Ie.length<4){A("Need 1 or 4 values","err");return}E.current.blackLevel=[Ie[0],Ie[1],Ie[2],Ie[3]],E.current.subtractBlackLevelFromStats=!0,E.current.showKadc=!0,A(`Black Level set: ${Ie.slice(0,4).join(" ")}`);break;case"demo":case"demosaic":if(T.length===0){A("Usage: demo <id> (0=Lin, 1=VNG, 2=PPG, 3=AHD, 4=DCB, 11=DHT, 12=AAHD, -1=Raw)","info");return}const ht=parseInt(T[0]);if(isNaN(ht)){A("Invalid method ID","err");return}E.current.demosaicMethod=ht,A(`Demosaic set to ID ${ht}`);break;case"matrix":if(T.length!==9){A("Usage: matrix m1 m2 m3 m4 m5 m6 m7 m8 m9 (3x3)","err");return}const pt=T.map(Number);if(pt.some(isNaN)){A("Invalid matrix values","err");return}E.current.customMatrix=pt,A("Custom Color Matrix set.");break;case"xtrans":if(T[0]==="on"||T[0]==="true")p?(p(!0),A("X-Trans conversion ON")):A("Feature not available","err");else if(T[0]==="off"||T[0]==="false")p?(p(!1),A("X-Trans conversion OFF")):A("Feature not available","err");else if(T[0]==="phase"){if(T.length<3){A("Usage: xtrans phase <x> <y>","err");return}const De=parseInt(T[1]),He=parseInt(T[2]);y&&(y({x:De,y:He}),A(`X-Trans Phase set to (${De}, ${He})`))}else A("Usage: xtrans <on|off> OR xtrans phase <x> <y>","err");break;case"render":case"apply":if(T[0]==="zero"){const De=T[1]==="color"?"zero-dep-color":"zero-dependency";E.current.renderMode=De,A(`Rendering Zero-Dependency (${De})...`)}else if(T[0]==="unmix"){if(T.length<13){A("Usage: render unmix <4xBL> <4xBG> <4xFG>","err");return}const De=T.slice(1).map(Number);if(De.some(isNaN)){A("Invalid params","err");return}E.current.renderMode="advanced-zero-dep",E.current.advancedZeroDep={bl:[De[0],De[1],De[2],De[3]],bg:[De[4],De[5],De[6],De[7]],fg:[De[8],De[9],De[10],De[11]]},A("Rendering Advanced Unmix...")}else E.current.renderMode="standard",A("Rendering Standard Pipeline...");a({...E.current});break;case"sel":case"select":if(!r||!o){A("No image loaded","err");return}if(T[0]==="full")o({x:0,y:0,w:r.width,h:r.height});else if(T[0]==="center"){const De=parseInt(T[1])||64,He=Math.floor((r.width-De)/2),bt=Math.floor((r.height-De)/2);o({x:He,y:bt,w:De,h:De})}else if(T.length===4){const[De,He,bt,Rt]=T.map(Number);if([De,He,bt,Rt].some(isNaN)){A("Invalid coordinates","err");return}o({x:De,y:He,w:bt,h:Rt})}else A("Usage: sel full | sel center <size> | sel <x> <y> <w> <h>","err");break;case"mark":i&&(i(),A("Interactive marking started. Click 4 corners on canvas."));break;case"gen":(T[0]==="test"||T[0]==="pattern")&&s&&(s(),A("Generated Test Pattern"));break;case"drlab":if(T[0]==="config"){const[De,He,bt]=T.slice(1).map(Number);e.onDrRoiSizeChange&&e.onDrRoiSizeChange(De||64),e.onDrGridRowsChange&&e.onDrGridRowsChange(He||10),e.onDrGridColsChange&&e.onDrGridColsChange(bt||10),A(`DR Grid Configured: Size=${De}, Grid=${He}x${bt}`)}else T[0]==="batch"&&(T[1]==="pair"?(A("Select file pairs for DR Lab..."),(ue=P.current)==null||ue.click()):(A("Select single files for DR Lab..."),(K=N.current)==null||K.click()));break;case"fft":T[0]==="load"?T[1]==="a"?(le=M.current)==null||le.click():T[1]==="b"?(ne=C.current)==null||ne.click():A("Usage: fft load <a|b>","err"):T[0]==="run"?G.current.fileA&&G.current.fileB&&c?(A(`Processing Pair: ${G.current.fileA.name} - ${G.current.fileB.name}`),c(G.current.fileA,G.current.fileB,!1,!0)):A("Load both A and B first","err"):T[0]==="stack"?(A("Select files for Stack FFT..."),(F=$.current)==null||F.click()):T[0]==="batch"&&(A("Select files for Batch Diff...","info"),(ge=z.current)==null||ge.click());break;case"crosscalc":h&&(h(),A("Opened Cross-Calculator"));break;default:A(`Unknown command: ${te}`,"err")}},W=V=>{if(V.key==="Enter"){const ie=m.trim();if(!ie)return;A(`> ${ie}`,"in"),ie.split(";").forEach(T=>{T.trim()&&B(T.trim())}),S(T=>[...T,ie]),k(-1),g("")}else if(V.key==="ArrowUp"){if(V.preventDefault(),b.length>0){const ie=w===-1?b.length-1:Math.max(0,w-1);k(ie),g(b[ie])}}else if(V.key==="ArrowDown")if(V.preventDefault(),w!==-1){const ie=Math.min(b.length-1,w+1);k(ie),g(b[ie])}else g("")},J=(V,ie)=>{V.target.files&&V.target.files.length>0&&l&&(A(`Batch processing ${V.target.files.length} files in ${ie} mode...`),l(V.target.files,ie)),V.target.value=""},q=(V,ie)=>{var T;const te=(T=V.target.files)==null?void 0:T[0];te&&(ie==="A"?G.current.fileA=te:G.current.fileB=te,A(`Loaded ${ie}: ${te.name}`)),V.target.value=""};return u.jsxs("div",{className:"flex flex-col h-full bg-black text-green-500 font-mono text-sm border-l-4 border-gray-700 p-2 shadow-2xl",children:[u.jsxs("div",{className:"border-b border-green-800 pb-2 mb-2 flex justify-between items-end select-none",children:[u.jsx("h2",{className:"text-xl font-bold tracking-widest",children:"TERMINAL"}),u.jsx("div",{className:"text-[10px] text-green-700",children:"JIANGTHERAPEE_CLI_V1"})]}),u.jsx("div",{ref:_,className:"flex-grow overflow-y-auto overflow-x-hidden break-words mb-2 pr-1 scrollbar-thin scrollbar-thumb-green-900 scrollbar-track-black",children:v.map(V=>u.jsxs("div",{className:`mb-1 ${V.type==="in"?"opacity-50":""} ${V.type==="err"?"text-red-500":""} ${V.type==="info"?"text-cyan-400":""}`,children:[V.type!=="in"&&typeof V.text=="string"&&!V.text.startsWith(">")&&u.jsx("span",{className:"mr-2 opacity-50",children:">"}),V.text]},V.id))}),u.jsxs("div",{className:"relative flex items-center border-t border-green-800 pt-2",children:[u.jsx("span",{className:"text-green-500 mr-2 animate-pulse font-bold",children:">"}),u.jsx("input",{ref:O,type:"text",value:m,onChange:V=>g(V.target.value),onKeyDown:W,autoFocus:!0,className:"w-full bg-transparent border-none outline-none text-green-400 placeholder-green-900",placeholder:"Enter command (e.g. 'help')",spellCheck:!1,autoComplete:"off"})]}),u.jsx("input",{type:"file",ref:N,className:"hidden",multiple:!0,onChange:V=>J(V,"single")}),u.jsx("input",{type:"file",ref:P,className:"hidden",multiple:!0,onChange:V=>J(V,"pair")}),u.jsx("input",{type:"file",ref:M,className:"hidden",onChange:V=>q(V,"A")}),u.jsx("input",{type:"file",ref:C,className:"hidden",onChange:V=>q(V,"B")}),u.jsx("input",{type:"file",ref:$,className:"hidden",multiple:!0,onChange:V=>{e.onProcessStackFft&&V.target.files&&(A(`Loading ${V.target.files.length} frames for Stack FFT...`),e.onProcessStackFft(V.target.files)),V.target.value=""}}),u.jsx("input",{type:"file",ref:z,className:"hidden",multiple:!0,onChange:V=>{e.onProcessBatchDiff&&V.target.files&&(A("Starting Batch Diff..."),e.onProcessBatchDiff(V.target.files)),V.target.value=""}})]})}),YM=(e,t)=>{if(!e)return null;if(t){const r=e.bayerPattern.toUpperCase(),n=l=>{const c=[];for(let f=0;f<4;f++)r[f]===l&&c.push(f);return c},a=t.BlackLevelRed,o=t.BlackLevelGreen,i=t.BlackLevelBlue;if(a!==void 0&&o!==void 0&&i!==void 0){const l=parseFloat(a),c=parseFloat(o),f=parseFloat(i);if(!isNaN(l)&&!isNaN(c)&&!isNaN(f)){const d=[0,0,0,0];return d.fill(c),n("R").forEach(h=>d[h]=l),n("G").forEach(h=>d[h]=c),n("B").forEach(h=>f),d}}let s=t.BlackLevel;if(s===void 0&&(s=t.BlackLevel2),s!==void 0){let l=[];if(Array.isArray(s)?l=s.map(Number):typeof s=="string"?l=s.trim().split(/\s+/).map(Number):typeof s=="number"&&(l=[s,s,s,s]),l.length===1&&!isNaN(l[0])&&(l=[l[0],l[0],l[0],l[0]]),l.length>=4&&!l.slice(0,4).some(isNaN))return[l[0],l[1],l[2],l[3]]}}return e.blackLevels&&e.blackLevels.length===4?[e.blackLevels[0],e.blackLevels[1],e.blackLevels[2],e.blackLevels[3]]:null},qM=e=>{const[t,r]=j.useState("gui"),{rawImageData:n,exifData:a,isBridgeConnected:o,displaySettings:i,onApplyDisplaySettings:s}=e,l=j.useRef(null),c=j.useRef(!1),f=j.useRef(null);j.useEffect(()=>{n!==f.current&&(c.current=!1,f.current=n)},[n]),j.useEffect(()=>{var h;if(o&&n&&!c.current){c.current=!0;const p=YM(n,a),y=p&&p.some(v=>v>0);if(p&&y){console.log("[AutoApply] Detected Black Levels via Bridge:",p),(h=l.current)==null||h.log(`Auto-detected BL: ${p.join(" ")}`,"info");const v={...i,blackLevel:p,showKadc:!0,subtractBlackLevelFromStats:!0,exposure:i.exposure,wbGains:i.wbGains||[1,1],demosaicMethod:i.demosaicMethod,renderMode:"standard"};s(v)}}},[o,n,a,i,s]);const d=h=>{l.current&&l.current.log(h,"in")};return u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsxs("div",{className:"flex bg-gray-200 dark:bg-gray-800 p-1 border-b border-gray-300 dark:border-gray-700 flex-shrink-0",children:[u.jsx("button",{onClick:()=>r("gui"),className:`flex-1 py-1 text-xs font-bold uppercase tracking-wider transition-colors border-r border-gray-300 dark:border-gray-700 ${t==="gui"?"bg-white dark:bg-black shadow-inner text-cyan-600 dark:text-cyan-400":"bg-gray-200 dark:bg-gray-900 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"GUI"}),u.jsx("button",{onClick:()=>r("terminal"),className:`flex-1 py-1 text-xs font-bold uppercase tracking-wider transition-colors ${t==="terminal"?"bg-black text-green-500 shadow-inner":"bg-gray-200 dark:bg-gray-900 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"Terminal"})]}),u.jsxs("div",{className:"flex-grow overflow-hidden relative",children:[u.jsx("div",{className:`h-full w-full ${t==="gui"?"block":"hidden"}`,children:u.jsx(XM,{...e,onCommand:d})}),u.jsx("div",{className:`h-full w-full ${t==="terminal"?"block":"hidden"}`,children:u.jsx(KM,{...e,ref:l})})]})]})},ZM=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 12H4"})}),QM=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),JM=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h5M4 12a8 8 0 0114.24-5.12M20 20v-5h-5M20 12a8 8 0 01-14.24 5.12"})}),eC=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11"})}),tC=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 4l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})}),kg=.1,Sg=16,rC=Math.log(kg),nC=Math.log(Sg),aC=({zoom:e,onZoomChange:t,onResetView:r,touchAction:n,onToggleTouchAction:a})=>{const o=c=>{const f=parseFloat(c.target.value),d=Math.exp(f);t(Math.max(kg,Math.min(Sg,d)))},i=()=>{t(Math.min(Sg,e*1.25))},s=()=>{t(Math.max(kg,e/1.25))},l=Math.log(e);return u.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",onClick:c=>c.stopPropagation(),children:[u.jsx("div",{className:"bg-white/90 dark:bg-slate-800/70 backdrop-blur-sm p-2 rounded-lg border border-gray-200 dark:border-slate-700 flex items-center shadow-lg transition-colors duration-300",children:u.jsx("button",{onClick:a,className:`p-1.5 rounded-md transition-colors flex items-center justify-center ${n==="select"?"bg-cyan-100 text-cyan-600 dark:bg-cyan-900/50 dark:text-cyan-400 ring-2 ring-cyan-500/50":"text-gray-500 dark:text-slate-400 hover:bg-gray-100 dark:hover:bg-slate-700"}`,title:n==="select"?"Mode: Selection (Drag to Select)":"Mode: Pan (Drag to Move)",children:n==="select"?u.jsx(tC,{}):u.jsx(eC,{})})}),u.jsxs("div",{className:"bg-white/90 dark:bg-slate-800/70 backdrop-blur-sm p-2 rounded-lg border border-gray-200 dark:border-slate-700 flex items-center gap-2 text-gray-700 dark:text-slate-300 shadow-lg transition-colors duration-300",children:[u.jsx("button",{onClick:s,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Zoom Out","aria-label":"Zoom Out",children:u.jsx(ZM,{})}),u.jsx("input",{type:"range",min:rC,max:nC,step:"0.01",value:l,onChange:o,className:"w-24 sm:w-32 h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500","aria-label":"Zoom slider"}),u.jsx("button",{onClick:i,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Zoom In","aria-label":"Zoom In",children:u.jsx(QM,{})}),u.jsxs("span",{className:"w-16 text-center font-mono text-sm","aria-live":"polite",children:[(e*100).toFixed(0),"%"]}),u.jsx("button",{onClick:r,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Reset View","aria-label":"Reset View",children:u.jsx(JM,{})})]})]})},oC=({theme:e,setTheme:t})=>{const r=()=>{t(e==="light"?"dark":"light")};return u.jsx("button",{onClick:r,className:"fixed bottom-6 right-6 z-50 p-3 rounded-full bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 shadow-lg text-gray-800 dark:text-yellow-400 hover:bg-gray-100 dark:hover:bg-slate-700 transition-all duration-300",title:`Switch to ${e==="light"?"dark":"light"} mode`,children:e==="light"?u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-slate-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}):u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})})})};function Nj(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=Nj(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function at(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=Nj(e))&&(n&&(n+=" "),n+=t);return n}var iC=Array.isArray,Bn=iC,sC=typeof Gu=="object"&&Gu&&Gu.Object===Object&&Gu,Pj=sC,lC=Pj,cC=typeof self=="object"&&self&&self.Object===Object&&self,uC=lC||cC||Function("return this")(),qa=uC,fC=qa,dC=fC.Symbol,Pu=dC,gb=Pu,Aj=Object.prototype,hC=Aj.hasOwnProperty,pC=Aj.toString,Vl=gb?gb.toStringTag:void 0;function gC(e){var t=hC.call(e,Vl),r=e[Vl];try{e[Vl]=void 0;var n=!0}catch{}var a=pC.call(e);return n&&(t?e[Vl]=r:delete e[Vl]),a}var mC=gC,yC=Object.prototype,vC=yC.toString;function xC(e){return vC.call(e)}var bC=xC,mb=Pu,wC=mC,kC=bC,SC="[object Null]",jC="[object Undefined]",yb=mb?mb.toStringTag:void 0;function _C(e){return e==null?e===void 0?jC:SC:yb&&yb in Object(e)?wC(e):kC(e)}var bo=_C;function OC(e){return e!=null&&typeof e=="object"}var wo=OC,NC=bo,PC=wo,AC="[object Symbol]";function MC(e){return typeof e=="symbol"||PC(e)&&NC(e)==AC}var hl=MC,CC=Bn,EC=hl,TC=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$C=/^\w*$/;function DC(e,t){if(CC(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||EC(e)?!0:$C.test(e)||!TC.test(e)||t!=null&&e in Object(t)}var Ky=DC;function RC(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ai=RC;const pl=Dt(ai);var LC=bo,IC=ai,BC="[object AsyncFunction]",FC="[object Function]",zC="[object GeneratorFunction]",UC="[object Proxy]";function WC(e){if(!IC(e))return!1;var t=LC(e);return t==FC||t==zC||t==BC||t==UC}var Yy=WC;const We=Dt(Yy);var GC=qa,HC=GC["__core-js_shared__"],VC=HC,qp=VC,vb=function(){var e=/[^.]+$/.exec(qp&&qp.keys&&qp.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function XC(e){return!!vb&&vb in e}var KC=XC,YC=Function.prototype,qC=YC.toString;function ZC(e){if(e!=null){try{return qC.call(e)}catch{}try{return e+""}catch{}}return""}var Mj=ZC,QC=Yy,JC=KC,e5=ai,t5=Mj,r5=/[\\^$.*+?()[\]{}|]/g,n5=/^\[object .+?Constructor\]$/,a5=Function.prototype,o5=Object.prototype,i5=a5.toString,s5=o5.hasOwnProperty,l5=RegExp("^"+i5.call(s5).replace(r5,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function c5(e){if(!e5(e)||JC(e))return!1;var t=QC(e)?l5:n5;return t.test(t5(e))}var u5=c5;function f5(e,t){return e==null?void 0:e[t]}var d5=f5,h5=u5,p5=d5;function g5(e,t){var r=p5(e,t);return h5(r)?r:void 0}var Ki=g5,m5=Ki,y5=m5(Object,"create"),Mh=y5,xb=Mh;function v5(){this.__data__=xb?xb(null):{},this.size=0}var x5=v5;function b5(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var w5=b5,k5=Mh,S5="__lodash_hash_undefined__",j5=Object.prototype,_5=j5.hasOwnProperty;function O5(e){var t=this.__data__;if(k5){var r=t[e];return r===S5?void 0:r}return _5.call(t,e)?t[e]:void 0}var N5=O5,P5=Mh,A5=Object.prototype,M5=A5.hasOwnProperty;function C5(e){var t=this.__data__;return P5?t[e]!==void 0:M5.call(t,e)}var E5=C5,T5=Mh,$5="__lodash_hash_undefined__";function D5(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=T5&&t===void 0?$5:t,this}var R5=D5,L5=x5,I5=w5,B5=N5,F5=E5,z5=R5;function gl(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}gl.prototype.clear=L5;gl.prototype.delete=I5;gl.prototype.get=B5;gl.prototype.has=F5;gl.prototype.set=z5;var U5=gl;function W5(){this.__data__=[],this.size=0}var G5=W5;function H5(e,t){return e===t||e!==e&&t!==t}var qy=H5,V5=qy;function X5(e,t){for(var r=e.length;r--;)if(V5(e[r][0],t))return r;return-1}var Ch=X5,K5=Ch,Y5=Array.prototype,q5=Y5.splice;function Z5(e){var t=this.__data__,r=K5(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():q5.call(t,r,1),--this.size,!0}var Q5=Z5,J5=Ch;function eE(e){var t=this.__data__,r=J5(t,e);return r<0?void 0:t[r][1]}var tE=eE,rE=Ch;function nE(e){return rE(this.__data__,e)>-1}var aE=nE,oE=Ch;function iE(e,t){var r=this.__data__,n=oE(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var sE=iE,lE=G5,cE=Q5,uE=tE,fE=aE,dE=sE;function ml(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ml.prototype.clear=lE;ml.prototype.delete=cE;ml.prototype.get=uE;ml.prototype.has=fE;ml.prototype.set=dE;var Eh=ml,hE=Ki,pE=qa,gE=hE(pE,"Map"),Zy=gE,bb=U5,mE=Eh,yE=Zy;function vE(){this.size=0,this.__data__={hash:new bb,map:new(yE||mE),string:new bb}}var xE=vE;function bE(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var wE=bE,kE=wE;function SE(e,t){var r=e.__data__;return kE(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Th=SE,jE=Th;function _E(e){var t=jE(this,e).delete(e);return this.size-=t?1:0,t}var OE=_E,NE=Th;function PE(e){return NE(this,e).get(e)}var AE=PE,ME=Th;function CE(e){return ME(this,e).has(e)}var EE=CE,TE=Th;function $E(e,t){var r=TE(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var DE=$E,RE=xE,LE=OE,IE=AE,BE=EE,FE=DE;function yl(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}yl.prototype.clear=RE;yl.prototype.delete=LE;yl.prototype.get=IE;yl.prototype.has=BE;yl.prototype.set=FE;var Qy=yl,Cj=Qy,zE="Expected a function";function Jy(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(zE);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var i=e.apply(this,n);return r.cache=o.set(a,i)||o,i};return r.cache=new(Jy.Cache||Cj),r}Jy.Cache=Cj;var Ej=Jy;const UE=Dt(Ej);var WE=Ej,GE=500;function HE(e){var t=WE(e,function(n){return r.size===GE&&r.clear(),n}),r=t.cache;return t}var VE=HE,XE=VE,KE=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,YE=/\\(\\)?/g,qE=XE(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(KE,function(r,n,a,o){t.push(a?o.replace(YE,"$1"):n||r)}),t}),ZE=qE;function QE(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var ev=QE,wb=Pu,JE=ev,eT=Bn,tT=hl,kb=wb?wb.prototype:void 0,Sb=kb?kb.toString:void 0;function Tj(e){if(typeof e=="string")return e;if(eT(e))return JE(e,Tj)+"";if(tT(e))return Sb?Sb.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var rT=Tj,nT=rT;function aT(e){return e==null?"":nT(e)}var $j=aT,oT=Bn,iT=Ky,sT=ZE,lT=$j;function cT(e,t){return oT(e)?e:iT(e,t)?[e]:sT(lT(e))}var Dj=cT,uT=hl;function fT(e){if(typeof e=="string"||uT(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var $h=fT,dT=Dj,hT=$h;function pT(e,t){t=dT(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[hT(t[r++])];return r&&r==n?e:void 0}var tv=pT,gT=tv;function mT(e,t,r){var n=e==null?void 0:gT(e,t);return n===void 0?r:n}var Rj=mT;const fa=Dt(Rj);function yT(e){return e==null}var vT=yT;const Be=Dt(vT);var xT=bo,bT=Bn,wT=wo,kT="[object String]";function ST(e){return typeof e=="string"||!bT(e)&&wT(e)&&xT(e)==kT}var jT=ST;const Bi=Dt(jT);var Lj={exports:{}},_t={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv=Symbol.for("react.element"),nv=Symbol.for("react.portal"),Dh=Symbol.for("react.fragment"),Rh=Symbol.for("react.strict_mode"),Lh=Symbol.for("react.profiler"),Ih=Symbol.for("react.provider"),Bh=Symbol.for("react.context"),_T=Symbol.for("react.server_context"),Fh=Symbol.for("react.forward_ref"),zh=Symbol.for("react.suspense"),Uh=Symbol.for("react.suspense_list"),Wh=Symbol.for("react.memo"),Gh=Symbol.for("react.lazy"),OT=Symbol.for("react.offscreen"),Ij;Ij=Symbol.for("react.module.reference");function ga(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case rv:switch(e=e.type,e){case Dh:case Lh:case Rh:case zh:case Uh:return e;default:switch(e=e&&e.$$typeof,e){case _T:case Bh:case Fh:case Gh:case Wh:case Ih:return e;default:return t}}case nv:return t}}}_t.ContextConsumer=Bh;_t.ContextProvider=Ih;_t.Element=rv;_t.ForwardRef=Fh;_t.Fragment=Dh;_t.Lazy=Gh;_t.Memo=Wh;_t.Portal=nv;_t.Profiler=Lh;_t.StrictMode=Rh;_t.Suspense=zh;_t.SuspenseList=Uh;_t.isAsyncMode=function(){return!1};_t.isConcurrentMode=function(){return!1};_t.isContextConsumer=function(e){return ga(e)===Bh};_t.isContextProvider=function(e){return ga(e)===Ih};_t.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===rv};_t.isForwardRef=function(e){return ga(e)===Fh};_t.isFragment=function(e){return ga(e)===Dh};_t.isLazy=function(e){return ga(e)===Gh};_t.isMemo=function(e){return ga(e)===Wh};_t.isPortal=function(e){return ga(e)===nv};_t.isProfiler=function(e){return ga(e)===Lh};_t.isStrictMode=function(e){return ga(e)===Rh};_t.isSuspense=function(e){return ga(e)===zh};_t.isSuspenseList=function(e){return ga(e)===Uh};_t.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Dh||e===Lh||e===Rh||e===zh||e===Uh||e===OT||typeof e=="object"&&e!==null&&(e.$$typeof===Gh||e.$$typeof===Wh||e.$$typeof===Ih||e.$$typeof===Bh||e.$$typeof===Fh||e.$$typeof===Ij||e.getModuleId!==void 0)};_t.typeOf=ga;Lj.exports=_t;var NT=Lj.exports,PT=bo,AT=wo,MT="[object Number]";function CT(e){return typeof e=="number"||AT(e)&&PT(e)==MT}var Bj=CT;const ET=Dt(Bj);var TT=Bj;function $T(e){return TT(e)&&e!=+e}var DT=$T;const vl=Dt(DT);var Pa=function(t){return t===0?0:t>0?1:-1},Si=function(t){return Bi(t)&&t.indexOf("%")===t.length-1},fe=function(t){return ET(t)&&!vl(t)},RT=function(t){return Be(t)},Dr=function(t){return fe(t)||Bi(t)},LT=0,Yi=function(t){var r=++LT;return"".concat(t||"").concat(r)},Fi=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!fe(t)&&!Bi(t))return n;var o;if(Si(t)){var i=t.indexOf("%");o=r*parseFloat(t.slice(0,i))/100}else o=+t;return vl(o)&&(o=n),a&&o>r&&(o=r),o},Lo=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},IT=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},vr=function(t,r){return fe(t)&&fe(r)?function(n){return t+n*(r-t)}:function(){return r}};function cd(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):fa(n,t))===r})}var BT=function(t){if(!t||!t.length)return null;for(var r=t.length,n=0,a=0,o=0,i=0,s=1/0,l=-1/0,c=0,f=0,d=0;d<r;d++)c=t[d].cx||0,f=t[d].cy||0,n+=c,a+=f,o+=c*f,i+=c*c,s=Math.min(s,c),l=Math.max(l,c);var h=r*i!==n*n?(r*o-n*a)/(r*i-n*n):0;return{xmin:s,xmax:l,a:h,b:(a-h*n)/r}},FT=function(t,r){return fe(t)&&fe(r)?t-r:Bi(t)&&Bi(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Os(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function jg(e){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jg(e)}var zT=["viewBox","children"],UT=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],jb=["points","pathLength"],Zp={svg:zT,polygon:jb,polyline:jb},av=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ud=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(j.isValidElement(t)&&(n=t.props),!pl(n))return null;var a={};return Object.keys(n).forEach(function(o){av.includes(o)&&(a[o]=r||function(i){return n[o](n,i)})}),a},WT=function(t,r,n){return function(a){return t(r,n,a),null}},zc=function(t,r,n){if(!pl(t)||jg(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(o){var i=t[o];av.includes(o)&&typeof i=="function"&&(a||(a={}),a[o]=WT(i,r,n))}),a},GT=["children"],HT=["children"];function _b(e,t){if(e==null)return{};var r=VT(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VT(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _g(e){"@babel/helpers - typeof";return _g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_g(e)}var Ob={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},so=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Nb=null,Qp=null,ov=function e(t){if(t===Nb&&Array.isArray(Qp))return Qp;var r=[];return j.Children.forEach(t,function(n){Be(n)||(NT.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Qp=r,Nb=t,r};function In(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return so(a)}):n=[so(t)],ov(e).forEach(function(a){var o=fa(a,"type.displayName")||fa(a,"type.name");n.indexOf(o)!==-1&&r.push(a)}),r}function Hn(e,t){var r=In(e,t);return r&&r[0]}var Pb=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!fe(n)||n<=0||!fe(a)||a<=0)},XT=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],KT=function(t){return t&&t.type&&Bi(t.type)&&XT.indexOf(t.type)>=0},Fj=function(t){return t&&_g(t)==="object"&&"clipDot"in t},YT=function(t,r,n,a){var o,i=(o=Zp==null?void 0:Zp[a])!==null&&o!==void 0?o:[];return r.startsWith("data-")||!We(t)&&(a&&i.includes(r)||UT.includes(r))||n&&av.includes(r)},ze=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(j.isValidElement(t)&&(a=t.props),!pl(a))return null;var o={};return Object.keys(a).forEach(function(i){var s;YT((s=a)===null||s===void 0?void 0:s[i],i,r,n)&&(o[i]=a[i])}),o},Og=function e(t,r){if(t===r)return!0;var n=j.Children.count(t);if(n!==j.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Ab(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var o=t[a],i=r[a];if(Array.isArray(o)||Array.isArray(i)){if(!e(o,i))return!1}else if(!Ab(o,i))return!1}return!0},Ab=function(t,r){if(Be(t)&&Be(r))return!0;if(!Be(t)&&!Be(r)){var n=t.props||{},a=n.children,o=_b(n,GT),i=r.props||{},s=i.children,l=_b(i,HT);return a&&s?Os(o,l)&&Og(a,s):!a&&!s?Os(o,l):!1}return!1},Mb=function(t,r){var n=[],a={};return ov(t).forEach(function(o,i){if(KT(o))n.push(o);else if(o){var s=so(o.type),l=r[s]||{},c=l.handler,f=l.once;if(c&&(!f||!a[s])){var d=c(o,s,i);n.push(d),a[s]=!0}}}),n},qT=function(t){var r=t&&t.type;return r&&Ob[r]?Ob[r]:null},ZT=function(t,r){return ov(r).indexOf(t)},QT=["children","width","height","viewBox","className","style","title","desc"];function Ng(){return Ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ng.apply(this,arguments)}function JT(e,t){if(e==null)return{};var r=e$(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function e$(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Pg(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,o=e.className,i=e.style,s=e.title,l=e.desc,c=JT(e,QT),f=a||{width:r,height:n,x:0,y:0},d=at("recharts-surface",o);return D.createElement("svg",Ng({},ze(c,!0,"svg"),{className:d,width:r,height:n,style:i,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),D.createElement("title",null,s),D.createElement("desc",null,l),t)}var t$=["children","className"];function Ag(){return Ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ag.apply(this,arguments)}function r$(e,t){if(e==null)return{};var r=n$(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function n$(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var dt=D.forwardRef(function(e,t){var r=e.children,n=e.className,a=r$(e,t$),o=at("recharts-layer",n);return D.createElement("g",Ag({className:o},ze(a,!0),{ref:t}),r)}),lo=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o]};function a$(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(a);++n<a;)o[n]=e[n+t];return o}var o$=a$,i$=o$;function s$(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:i$(e,t,r)}var l$=s$,c$="\\ud800-\\udfff",u$="\\u0300-\\u036f",f$="\\ufe20-\\ufe2f",d$="\\u20d0-\\u20ff",h$=u$+f$+d$,p$="\\ufe0e\\ufe0f",g$="\\u200d",m$=RegExp("["+g$+c$+h$+p$+"]");function y$(e){return m$.test(e)}var zj=y$;function v$(e){return e.split("")}var x$=v$,Uj="\\ud800-\\udfff",b$="\\u0300-\\u036f",w$="\\ufe20-\\ufe2f",k$="\\u20d0-\\u20ff",S$=b$+w$+k$,j$="\\ufe0e\\ufe0f",_$="["+Uj+"]",Mg="["+S$+"]",Cg="\\ud83c[\\udffb-\\udfff]",O$="(?:"+Mg+"|"+Cg+")",Wj="[^"+Uj+"]",Gj="(?:\\ud83c[\\udde6-\\uddff]){2}",Hj="[\\ud800-\\udbff][\\udc00-\\udfff]",N$="\\u200d",Vj=O$+"?",Xj="["+j$+"]?",P$="(?:"+N$+"(?:"+[Wj,Gj,Hj].join("|")+")"+Xj+Vj+")*",A$=Xj+Vj+P$,M$="(?:"+[Wj+Mg+"?",Mg,Gj,Hj,_$].join("|")+")",C$=RegExp(Cg+"(?="+Cg+")|"+M$+A$,"g");function E$(e){return e.match(C$)||[]}var T$=E$,$$=x$,D$=zj,R$=T$;function L$(e){return D$(e)?R$(e):$$(e)}var I$=L$,B$=l$,F$=zj,z$=I$,U$=$j;function W$(e){return function(t){t=U$(t);var r=F$(t)?z$(t):void 0,n=r?r[0]:t.charAt(0),a=r?B$(r,1).join(""):t.slice(1);return n[e]()+a}}var G$=W$,H$=G$,V$=H$("toUpperCase"),X$=V$;const Hh=Dt(X$);function Ut(e){return function(){return e}}const Kj=Math.cos,fd=Math.sin,Da=Math.sqrt,dd=Math.PI,Vh=2*dd,Eg=Math.PI,Tg=2*Eg,yi=1e-6,K$=Tg-yi;function Yj(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Y$(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Yj;const r=10**t;return function(n){this._+=n[0];for(let a=1,o=n.length;a<o;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class q${constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Yj:Y$(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,o,i){this._append`C${+t},${+r},${+n},${+a},${this._x1=+o},${this._y1=+i}`}arcTo(t,r,n,a,o){if(t=+t,r=+r,n=+n,a=+a,o=+o,o<0)throw new Error(`negative radius: ${o}`);let i=this._x1,s=this._y1,l=n-t,c=a-r,f=i-t,d=s-r,h=f*f+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>yi)if(!(Math.abs(d*l-c*f)>yi)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-i,y=a-s,v=l*l+c*c,x=p*p+y*y,m=Math.sqrt(v),g=Math.sqrt(h),b=o*Math.tan((Eg-Math.acos((v+h-x)/(2*m*g)))/2),S=b/g,w=b/m;Math.abs(S-1)>yi&&this._append`L${t+S*f},${r+S*d}`,this._append`A${o},${o},0,0,${+(d*p>f*y)},${this._x1=t+w*l},${this._y1=r+w*c}`}}arc(t,r,n,a,o,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),l=n*Math.sin(a),c=t+s,f=r+l,d=1^i,h=i?a-o:o-a;this._x1===null?this._append`M${c},${f}`:(Math.abs(this._x1-c)>yi||Math.abs(this._y1-f)>yi)&&this._append`L${c},${f}`,n&&(h<0&&(h=h%Tg+Tg),h>K$?this._append`A${n},${n},0,1,${d},${t-s},${r-l}A${n},${n},0,1,${d},${this._x1=c},${this._y1=f}`:h>yi&&this._append`A${n},${n},0,${+(h>=Eg)},${d},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function iv(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new q$(t)}function sv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function qj(e){this._context=e}qj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Xh(e){return new qj(e)}function Zj(e){return e[0]}function Qj(e){return e[1]}function Jj(e,t){var r=Ut(!0),n=null,a=Xh,o=null,i=iv(s);e=typeof e=="function"?e:e===void 0?Zj:Ut(e),t=typeof t=="function"?t:t===void 0?Qj:Ut(t);function s(l){var c,f=(l=sv(l)).length,d,h=!1,p;for(n==null&&(o=a(p=i())),c=0;c<=f;++c)!(c<f&&r(d=l[c],c,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(d,c,l),+t(d,c,l));if(p)return o=null,p+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Ut(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Ut(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Ut(!!l),s):r},s.curve=function(l){return arguments.length?(a=l,n!=null&&(o=a(n)),s):a},s.context=function(l){return arguments.length?(l==null?n=o=null:o=a(n=l),s):n},s}function uf(e,t,r){var n=null,a=Ut(!0),o=null,i=Xh,s=null,l=iv(c);e=typeof e=="function"?e:e===void 0?Zj:Ut(+e),t=typeof t=="function"?t:Ut(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?Qj:Ut(+r);function c(d){var h,p,y,v=(d=sv(d)).length,x,m=!1,g,b=new Array(v),S=new Array(v);for(o==null&&(s=i(g=l())),h=0;h<=v;++h){if(!(h<v&&a(x=d[h],h,d))===m)if(m=!m)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),y=h-1;y>=p;--y)s.point(b[y],S[y]);s.lineEnd(),s.areaEnd()}m&&(b[h]=+e(x,h,d),S[h]=+t(x,h,d),s.point(n?+n(x,h,d):b[h],r?+r(x,h,d):S[h]))}if(g)return s=null,g+""||null}function f(){return Jj().defined(a).curve(i).context(o)}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:Ut(+d),n=null,c):e},c.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Ut(+d),c):e},c.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Ut(+d),c):n},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:Ut(+d),r=null,c):t},c.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Ut(+d),c):t},c.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Ut(+d),c):r},c.lineX0=c.lineY0=function(){return f().x(e).y(t)},c.lineY1=function(){return f().x(e).y(r)},c.lineX1=function(){return f().x(n).y(t)},c.defined=function(d){return arguments.length?(a=typeof d=="function"?d:Ut(!!d),c):a},c.curve=function(d){return arguments.length?(i=d,o!=null&&(s=i(o)),c):i},c.context=function(d){return arguments.length?(d==null?o=s=null:s=i(o=d),c):o},c}class e_{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Z$(e){return new e_(e,!0)}function Q$(e){return new e_(e,!1)}const lv={draw(e,t){const r=Da(t/dd);e.moveTo(r,0),e.arc(0,0,r,0,Vh)}},J$={draw(e,t){const r=Da(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},t_=Da(1/3),e4=t_*2,t4={draw(e,t){const r=Da(t/e4),n=r*t_;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},r4={draw(e,t){const r=Da(t),n=-r/2;e.rect(n,n,r,r)}},n4=.8908130915292852,r_=fd(dd/10)/fd(7*dd/10),a4=fd(Vh/10)*r_,o4=-Kj(Vh/10)*r_,i4={draw(e,t){const r=Da(t*n4),n=a4*r,a=o4*r;e.moveTo(0,-r),e.lineTo(n,a);for(let o=1;o<5;++o){const i=Vh*o/5,s=Kj(i),l=fd(i);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*a,l*n+s*a)}e.closePath()}},Jp=Da(3),s4={draw(e,t){const r=-Da(t/(Jp*3));e.moveTo(0,r*2),e.lineTo(-Jp*r,-r),e.lineTo(Jp*r,-r),e.closePath()}},ta=-.5,ra=Da(3)/2,$g=1/Da(12),l4=($g/2+1)*3,c4={draw(e,t){const r=Da(t/l4),n=r/2,a=r*$g,o=n,i=r*$g+r,s=-o,l=i;e.moveTo(n,a),e.lineTo(o,i),e.lineTo(s,l),e.lineTo(ta*n-ra*a,ra*n+ta*a),e.lineTo(ta*o-ra*i,ra*o+ta*i),e.lineTo(ta*s-ra*l,ra*s+ta*l),e.lineTo(ta*n+ra*a,ta*a-ra*n),e.lineTo(ta*o+ra*i,ta*i-ra*o),e.lineTo(ta*s+ra*l,ta*l-ra*s),e.closePath()}};function u4(e,t){let r=null,n=iv(a);e=typeof e=="function"?e:Ut(e||lv),t=typeof t=="function"?t:Ut(t===void 0?64:+t);function a(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return a.type=function(o){return arguments.length?(e=typeof o=="function"?o:Ut(o),a):e},a.size=function(o){return arguments.length?(t=typeof o=="function"?o:Ut(+o),a):t},a.context=function(o){return arguments.length?(r=o??null,a):r},a}function hd(){}function pd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function n_(e){this._context=e}n_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:pd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:pd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function f4(e){return new n_(e)}function a_(e){this._context=e}a_.prototype={areaStart:hd,areaEnd:hd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:pd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function d4(e){return new a_(e)}function o_(e){this._context=e}o_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:pd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function h4(e){return new o_(e)}function i_(e){this._context=e}i_.prototype={areaStart:hd,areaEnd:hd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function p4(e){return new i_(e)}function Cb(e){return e<0?-1:1}function Eb(e,t,r){var n=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),s=(o*a+i*n)/(n+a);return(Cb(o)+Cb(i))*Math.min(Math.abs(o),Math.abs(i),.5*Math.abs(s))||0}function Tb(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function e0(e,t,r){var n=e._x0,a=e._y0,o=e._x1,i=e._y1,s=(o-n)/3;e._context.bezierCurveTo(n+s,a+s*t,o-s,i-s*r,o,i)}function gd(e){this._context=e}gd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:e0(this,this._t0,Tb(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,e0(this,Tb(this,r=Eb(this,e,t)),r);break;default:e0(this,this._t0,r=Eb(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function s_(e){this._context=new l_(e)}(s_.prototype=Object.create(gd.prototype)).point=function(e,t){gd.prototype.point.call(this,t,e)};function l_(e){this._context=e}l_.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,o){this._context.bezierCurveTo(t,e,n,r,o,a)}};function g4(e){return new gd(e)}function m4(e){return new s_(e)}function c_(e){this._context=e}c_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=$b(e),a=$b(t),o=0,i=1;i<r;++o,++i)this._context.bezierCurveTo(n[0][o],a[0][o],n[1][o],a[1][o],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function $b(e){var t,r=e.length-1,n,a=new Array(r),o=new Array(r),i=new Array(r);for(a[0]=0,o[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,o[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,o[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/o[t-1],o[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/o[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/o[t];for(o[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-a[t+1];return[a,o]}function y4(e){return new c_(e)}function Kh(e,t){this._context=e,this._t=t}Kh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function v4(e){return new Kh(e,.5)}function x4(e){return new Kh(e,0)}function b4(e){return new Kh(e,1)}function Rs(e,t){if((i=e.length)>1)for(var r=1,n,a,o=e[t[0]],i,s=o.length;r<i;++r)for(a=o,o=e[t[r]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Dg(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function w4(e,t){return e[t]}function k4(e){const t=[];return t.key=e,t}function S4(){var e=Ut([]),t=Dg,r=Rs,n=w4;function a(o){var i=Array.from(e.apply(this,arguments),k4),s,l=i.length,c=-1,f;for(const d of o)for(s=0,++c;s<l;++s)(i[s][c]=[0,+n(d,i[s].key,c,o)]).data=d;for(s=0,f=sv(t(i));s<l;++s)i[f[s]].index=s;return r(i,f),i}return a.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Ut(Array.from(o)),a):e},a.value=function(o){return arguments.length?(n=typeof o=="function"?o:Ut(+o),a):n},a.order=function(o){return arguments.length?(t=o==null?Dg:typeof o=="function"?o:Ut(Array.from(o)),a):t},a.offset=function(o){return arguments.length?(r=o??Rs,a):r},a}function j4(e,t){if((n=e.length)>0){for(var r,n,a=0,o=e[0].length,i;a<o;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}Rs(e,t)}}function _4(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,o=n.length;r<o;++r){for(var i=0,s=0;i<a;++i)s+=e[i][r][1]||0;n[r][1]+=n[r][0]=-s/2}Rs(e,t)}}function O4(e,t){if(!(!((i=e.length)>0)||!((o=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,o,i;n<o;++n){for(var s=0,l=0,c=0;s<i;++s){for(var f=e[t[s]],d=f[n][1]||0,h=f[n-1][1]||0,p=(d-h)/2,y=0;y<s;++y){var v=e[t[y]],x=v[n][1]||0,m=v[n-1][1]||0;p+=x-m}l+=d,c+=p*d}a[n-1][1]+=a[n-1][0]=r,l&&(r-=c/l)}a[n-1][1]+=a[n-1][0]=r,Rs(e,t)}}function Uc(e){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uc(e)}var N4=["type","size","sizeType"];function Rg(){return Rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rg.apply(this,arguments)}function Db(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Db(Object(r),!0).forEach(function(n){P4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Db(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P4(e,t,r){return t=A4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A4(e){var t=M4(e,"string");return Uc(t)=="symbol"?t:t+""}function M4(e,t){if(Uc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C4(e,t){if(e==null)return{};var r=E4(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function E4(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var u_={symbolCircle:lv,symbolCross:J$,symbolDiamond:t4,symbolSquare:r4,symbolStar:i4,symbolTriangle:s4,symbolWye:c4},T4=Math.PI/180,$4=function(t){var r="symbol".concat(Hh(t));return u_[r]||lv},D4=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*T4;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},R4=function(t,r){u_["symbol".concat(Hh(t))]=r},Yh=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,o=a===void 0?64:a,i=t.sizeType,s=i===void 0?"area":i,l=C4(t,N4),c=Rb(Rb({},l),{},{type:n,size:o,sizeType:s}),f=function(){var x=$4(n),m=u4().type(x).size(D4(o,s,n));return m()},d=c.className,h=c.cx,p=c.cy,y=ze(c,!0);return h===+h&&p===+p&&o===+o?D.createElement("path",Rg({},y,{className:at("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:f()})):null};Yh.registerSymbol=R4;function Ls(e){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ls(e)}function Lg(){return Lg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lg.apply(this,arguments)}function Lb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function L4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lb(Object(r),!0).forEach(function(n){Wc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d_(n.key),n)}}function F4(e,t,r){return t&&B4(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function z4(e,t,r){return t=md(t),U4(e,f_()?Reflect.construct(t,r||[],md(e).constructor):t.apply(e,r))}function U4(e,t){if(t&&(Ls(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W4(e)}function W4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f_=function(){return!!e})()}function md(e){return md=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},md(e)}function G4(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ig(e,t)}function Ig(e,t){return Ig=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ig(e,t)}function Wc(e,t,r){return t=d_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d_(e){var t=H4(e,"string");return Ls(t)=="symbol"?t:t+""}function H4(e,t){if(Ls(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ls(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var na=32,cv=function(e){function t(){return I4(this,t),z4(this,t,arguments)}return G4(t,e),F4(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,o=na/2,i=na/6,s=na/3,l=n.inactive?a:n.color;if(n.type==="plainline")return D.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:na,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return D.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(na,"M").concat(2*s,",").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return D.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(na/8,"h").concat(na,"v").concat(na*3/4,"h").concat(-na,"z"),className:"recharts-legend-icon"});if(D.isValidElement(n.legendIcon)){var c=L4({},n);return delete c.legendIcon,D.cloneElement(n.legendIcon,c)}return D.createElement(Yh,{fill:l,cx:o,cy:o,size:na,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,o=a.payload,i=a.iconSize,s=a.layout,l=a.formatter,c=a.inactiveColor,f={x:0,y:0,width:na,height:na},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,y){var v=p.formatter||l,x=at(Wc(Wc({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",p.inactive));if(p.type==="none")return null;var m=We(p.value)?null:p.value;lo(!We(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var g=p.inactive?c:p.color;return D.createElement("li",Lg({className:x,style:d,key:"legend-item-".concat(y)},zc(n.props,p,y)),D.createElement(Pg,{width:i,height:i,viewBox:f,style:h},n.renderIcon(p)),D.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},v?v(m,p,y):m))})}},{key:"render",value:function(){var n=this.props,a=n.payload,o=n.layout,i=n.align;if(!a||!a.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?i:"left"};return D.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(j.PureComponent);Wc(cv,"displayName","Legend");Wc(cv,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var V4=Eh;function X4(){this.__data__=new V4,this.size=0}var K4=X4;function Y4(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var q4=Y4;function Z4(e){return this.__data__.get(e)}var Q4=Z4;function J4(e){return this.__data__.has(e)}var e3=J4,t3=Eh,r3=Zy,n3=Qy,a3=200;function o3(e,t){var r=this.__data__;if(r instanceof t3){var n=r.__data__;if(!r3||n.length<a3-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new n3(n)}return r.set(e,t),this.size=r.size,this}var i3=o3,s3=Eh,l3=K4,c3=q4,u3=Q4,f3=e3,d3=i3;function xl(e){var t=this.__data__=new s3(e);this.size=t.size}xl.prototype.clear=l3;xl.prototype.delete=c3;xl.prototype.get=u3;xl.prototype.has=f3;xl.prototype.set=d3;var h_=xl,h3="__lodash_hash_undefined__";function p3(e){return this.__data__.set(e,h3),this}var g3=p3;function m3(e){return this.__data__.has(e)}var y3=m3,v3=Qy,x3=g3,b3=y3;function yd(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new v3;++t<r;)this.add(e[t])}yd.prototype.add=yd.prototype.push=x3;yd.prototype.has=b3;var p_=yd;function w3(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var g_=w3;function k3(e,t){return e.has(t)}var m_=k3,S3=p_,j3=g_,_3=m_,O3=1,N3=2;function P3(e,t,r,n,a,o){var i=r&O3,s=e.length,l=t.length;if(s!=l&&!(i&&l>s))return!1;var c=o.get(e),f=o.get(t);if(c&&f)return c==t&&f==e;var d=-1,h=!0,p=r&N3?new S3:void 0;for(o.set(e,t),o.set(t,e);++d<s;){var y=e[d],v=t[d];if(n)var x=i?n(v,y,d,t,e,o):n(y,v,d,e,t,o);if(x!==void 0){if(x)continue;h=!1;break}if(p){if(!j3(t,function(m,g){if(!_3(p,g)&&(y===m||a(y,m,r,n,o)))return p.push(g)})){h=!1;break}}else if(!(y===v||a(y,v,r,n,o))){h=!1;break}}return o.delete(e),o.delete(t),h}var y_=P3,A3=qa,M3=A3.Uint8Array,C3=M3;function E3(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var T3=E3;function $3(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var uv=$3,Ib=Pu,Bb=C3,D3=qy,R3=y_,L3=T3,I3=uv,B3=1,F3=2,z3="[object Boolean]",U3="[object Date]",W3="[object Error]",G3="[object Map]",H3="[object Number]",V3="[object RegExp]",X3="[object Set]",K3="[object String]",Y3="[object Symbol]",q3="[object ArrayBuffer]",Z3="[object DataView]",Fb=Ib?Ib.prototype:void 0,t0=Fb?Fb.valueOf:void 0;function Q3(e,t,r,n,a,o,i){switch(r){case Z3:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case q3:return!(e.byteLength!=t.byteLength||!o(new Bb(e),new Bb(t)));case z3:case U3:case H3:return D3(+e,+t);case W3:return e.name==t.name&&e.message==t.message;case V3:case K3:return e==t+"";case G3:var s=L3;case X3:var l=n&B3;if(s||(s=I3),e.size!=t.size&&!l)return!1;var c=i.get(e);if(c)return c==t;n|=F3,i.set(e,t);var f=R3(s(e),s(t),n,a,o,i);return i.delete(e),f;case Y3:if(t0)return t0.call(e)==t0.call(t)}return!1}var J3=Q3;function eD(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var v_=eD,tD=v_,rD=Bn;function nD(e,t,r){var n=t(e);return rD(e)?n:tD(n,r(e))}var aD=nD;function oD(e,t){for(var r=-1,n=e==null?0:e.length,a=0,o=[];++r<n;){var i=e[r];t(i,r,e)&&(o[a++]=i)}return o}var iD=oD;function sD(){return[]}var lD=sD,cD=iD,uD=lD,fD=Object.prototype,dD=fD.propertyIsEnumerable,zb=Object.getOwnPropertySymbols,hD=zb?function(e){return e==null?[]:(e=Object(e),cD(zb(e),function(t){return dD.call(e,t)}))}:uD,pD=hD;function gD(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var mD=gD,yD=bo,vD=wo,xD="[object Arguments]";function bD(e){return vD(e)&&yD(e)==xD}var wD=bD,Ub=wD,kD=wo,x_=Object.prototype,SD=x_.hasOwnProperty,jD=x_.propertyIsEnumerable,_D=Ub(function(){return arguments}())?Ub:function(e){return kD(e)&&SD.call(e,"callee")&&!jD.call(e,"callee")},fv=_D,vd={exports:{}};function OD(){return!1}var ND=OD;vd.exports;(function(e,t){var r=qa,n=ND,a=t&&!t.nodeType&&t,o=a&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===a,s=i?r.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||n;e.exports=c})(vd,vd.exports);var b_=vd.exports,PD=9007199254740991,AD=/^(?:0|[1-9]\d*)$/;function MD(e,t){var r=typeof e;return t=t??PD,!!t&&(r=="number"||r!="symbol"&&AD.test(e))&&e>-1&&e%1==0&&e<t}var dv=MD,CD=9007199254740991;function ED(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=CD}var hv=ED,TD=bo,$D=hv,DD=wo,RD="[object Arguments]",LD="[object Array]",ID="[object Boolean]",BD="[object Date]",FD="[object Error]",zD="[object Function]",UD="[object Map]",WD="[object Number]",GD="[object Object]",HD="[object RegExp]",VD="[object Set]",XD="[object String]",KD="[object WeakMap]",YD="[object ArrayBuffer]",qD="[object DataView]",ZD="[object Float32Array]",QD="[object Float64Array]",JD="[object Int8Array]",eR="[object Int16Array]",tR="[object Int32Array]",rR="[object Uint8Array]",nR="[object Uint8ClampedArray]",aR="[object Uint16Array]",oR="[object Uint32Array]",qt={};qt[ZD]=qt[QD]=qt[JD]=qt[eR]=qt[tR]=qt[rR]=qt[nR]=qt[aR]=qt[oR]=!0;qt[RD]=qt[LD]=qt[YD]=qt[ID]=qt[qD]=qt[BD]=qt[FD]=qt[zD]=qt[UD]=qt[WD]=qt[GD]=qt[HD]=qt[VD]=qt[XD]=qt[KD]=!1;function iR(e){return DD(e)&&$D(e.length)&&!!qt[TD(e)]}var sR=iR;function lR(e){return function(t){return e(t)}}var w_=lR,xd={exports:{}};xd.exports;(function(e,t){var r=Pj,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===n,i=o&&r.process,s=function(){try{var l=a&&a.require&&a.require("util").types;return l||i&&i.binding&&i.binding("util")}catch{}}();e.exports=s})(xd,xd.exports);var cR=xd.exports,uR=sR,fR=w_,Wb=cR,Gb=Wb&&Wb.isTypedArray,dR=Gb?fR(Gb):uR,k_=dR,hR=mD,pR=fv,gR=Bn,mR=b_,yR=dv,vR=k_,xR=Object.prototype,bR=xR.hasOwnProperty;function wR(e,t){var r=gR(e),n=!r&&pR(e),a=!r&&!n&&mR(e),o=!r&&!n&&!a&&vR(e),i=r||n||a||o,s=i?hR(e.length,String):[],l=s.length;for(var c in e)(t||bR.call(e,c))&&!(i&&(c=="length"||a&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||yR(c,l)))&&s.push(c);return s}var kR=wR,SR=Object.prototype;function jR(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||SR;return e===r}var _R=jR;function OR(e,t){return function(r){return e(t(r))}}var S_=OR,NR=S_,PR=NR(Object.keys,Object),AR=PR,MR=_R,CR=AR,ER=Object.prototype,TR=ER.hasOwnProperty;function $R(e){if(!MR(e))return CR(e);var t=[];for(var r in Object(e))TR.call(e,r)&&r!="constructor"&&t.push(r);return t}var DR=$R,RR=Yy,LR=hv;function IR(e){return e!=null&&LR(e.length)&&!RR(e)}var Au=IR,BR=kR,FR=DR,zR=Au;function UR(e){return zR(e)?BR(e):FR(e)}var qh=UR,WR=aD,GR=pD,HR=qh;function VR(e){return WR(e,HR,GR)}var XR=VR,Hb=XR,KR=1,YR=Object.prototype,qR=YR.hasOwnProperty;function ZR(e,t,r,n,a,o){var i=r&KR,s=Hb(e),l=s.length,c=Hb(t),f=c.length;if(l!=f&&!i)return!1;for(var d=l;d--;){var h=s[d];if(!(i?h in t:qR.call(t,h)))return!1}var p=o.get(e),y=o.get(t);if(p&&y)return p==t&&y==e;var v=!0;o.set(e,t),o.set(t,e);for(var x=i;++d<l;){h=s[d];var m=e[h],g=t[h];if(n)var b=i?n(g,m,h,t,e,o):n(m,g,h,e,t,o);if(!(b===void 0?m===g||a(m,g,r,n,o):b)){v=!1;break}x||(x=h=="constructor")}if(v&&!x){var S=e.constructor,w=t.constructor;S!=w&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof w=="function"&&w instanceof w)&&(v=!1)}return o.delete(e),o.delete(t),v}var QR=ZR,JR=Ki,eL=qa,tL=JR(eL,"DataView"),rL=tL,nL=Ki,aL=qa,oL=nL(aL,"Promise"),iL=oL,sL=Ki,lL=qa,cL=sL(lL,"Set"),j_=cL,uL=Ki,fL=qa,dL=uL(fL,"WeakMap"),hL=dL,Bg=rL,Fg=Zy,zg=iL,Ug=j_,Wg=hL,__=bo,bl=Mj,Vb="[object Map]",pL="[object Object]",Xb="[object Promise]",Kb="[object Set]",Yb="[object WeakMap]",qb="[object DataView]",gL=bl(Bg),mL=bl(Fg),yL=bl(zg),vL=bl(Ug),xL=bl(Wg),vi=__;(Bg&&vi(new Bg(new ArrayBuffer(1)))!=qb||Fg&&vi(new Fg)!=Vb||zg&&vi(zg.resolve())!=Xb||Ug&&vi(new Ug)!=Kb||Wg&&vi(new Wg)!=Yb)&&(vi=function(e){var t=__(e),r=t==pL?e.constructor:void 0,n=r?bl(r):"";if(n)switch(n){case gL:return qb;case mL:return Vb;case yL:return Xb;case vL:return Kb;case xL:return Yb}return t});var bL=vi,r0=h_,wL=y_,kL=J3,SL=QR,Zb=bL,Qb=Bn,Jb=b_,jL=k_,_L=1,e1="[object Arguments]",t1="[object Array]",ff="[object Object]",OL=Object.prototype,r1=OL.hasOwnProperty;function NL(e,t,r,n,a,o){var i=Qb(e),s=Qb(t),l=i?t1:Zb(e),c=s?t1:Zb(t);l=l==e1?ff:l,c=c==e1?ff:c;var f=l==ff,d=c==ff,h=l==c;if(h&&Jb(e)){if(!Jb(t))return!1;i=!0,f=!1}if(h&&!f)return o||(o=new r0),i||jL(e)?wL(e,t,r,n,a,o):kL(e,t,l,r,n,a,o);if(!(r&_L)){var p=f&&r1.call(e,"__wrapped__"),y=d&&r1.call(t,"__wrapped__");if(p||y){var v=p?e.value():e,x=y?t.value():t;return o||(o=new r0),a(v,x,r,n,o)}}return h?(o||(o=new r0),SL(e,t,r,n,a,o)):!1}var PL=NL,AL=PL,n1=wo;function O_(e,t,r,n,a){return e===t?!0:e==null||t==null||!n1(e)&&!n1(t)?e!==e&&t!==t:AL(e,t,r,n,O_,a)}var pv=O_,ML=h_,CL=pv,EL=1,TL=2;function $L(e,t,r,n){var a=r.length,o=a,i=!n;if(e==null)return!o;for(e=Object(e);a--;){var s=r[a];if(i&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<o;){s=r[a];var l=s[0],c=e[l],f=s[1];if(i&&s[2]){if(c===void 0&&!(l in e))return!1}else{var d=new ML;if(n)var h=n(c,f,l,e,t,d);if(!(h===void 0?CL(f,c,EL|TL,n,d):h))return!1}}return!0}var DL=$L,RL=ai;function LL(e){return e===e&&!RL(e)}var N_=LL,IL=N_,BL=qh;function FL(e){for(var t=BL(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,IL(a)]}return t}var zL=FL;function UL(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var P_=UL,WL=DL,GL=zL,HL=P_;function VL(e){var t=GL(e);return t.length==1&&t[0][2]?HL(t[0][0],t[0][1]):function(r){return r===e||WL(r,e,t)}}var XL=VL;function KL(e,t){return e!=null&&t in Object(e)}var YL=KL,qL=Dj,ZL=fv,QL=Bn,JL=dv,eI=hv,tI=$h;function rI(e,t,r){t=qL(t,e);for(var n=-1,a=t.length,o=!1;++n<a;){var i=tI(t[n]);if(!(o=e!=null&&r(e,i)))break;e=e[i]}return o||++n!=a?o:(a=e==null?0:e.length,!!a&&eI(a)&&JL(i,a)&&(QL(e)||ZL(e)))}var nI=rI,aI=YL,oI=nI;function iI(e,t){return e!=null&&oI(e,t,aI)}var sI=iI,lI=pv,cI=Rj,uI=sI,fI=Ky,dI=N_,hI=P_,pI=$h,gI=1,mI=2;function yI(e,t){return fI(e)&&dI(t)?hI(pI(e),t):function(r){var n=cI(r,e);return n===void 0&&n===t?uI(r,e):lI(t,n,gI|mI)}}var vI=yI;function xI(e){return e}var wl=xI;function bI(e){return function(t){return t==null?void 0:t[e]}}var wI=bI,kI=tv;function SI(e){return function(t){return kI(t,e)}}var jI=SI,_I=wI,OI=jI,NI=Ky,PI=$h;function AI(e){return NI(e)?_I(PI(e)):OI(e)}var MI=AI,CI=XL,EI=vI,TI=wl,$I=Bn,DI=MI;function RI(e){return typeof e=="function"?e:e==null?TI:typeof e=="object"?$I(e)?EI(e[0],e[1]):CI(e):DI(e)}var oi=RI;function LI(e,t,r,n){for(var a=e.length,o=r+(n?1:-1);n?o--:++o<a;)if(t(e[o],o,e))return o;return-1}var A_=LI;function II(e){return e!==e}var BI=II;function FI(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var zI=FI,UI=A_,WI=BI,GI=zI;function HI(e,t,r){return t===t?GI(e,t,r):UI(e,WI,r)}var VI=HI,XI=VI;function KI(e,t){var r=e==null?0:e.length;return!!r&&XI(e,t,0)>-1}var YI=KI;function qI(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var ZI=qI;function QI(){}var JI=QI,n0=j_,e6=JI,t6=uv,r6=1/0,n6=n0&&1/t6(new n0([,-0]))[1]==r6?function(e){return new n0(e)}:e6,a6=n6,o6=p_,i6=YI,s6=ZI,l6=m_,c6=a6,u6=uv,f6=200;function d6(e,t,r){var n=-1,a=i6,o=e.length,i=!0,s=[],l=s;if(r)i=!1,a=s6;else if(o>=f6){var c=t?null:c6(e);if(c)return u6(c);i=!1,a=l6,l=new o6}else l=t?[]:s;e:for(;++n<o;){var f=e[n],d=t?t(f):f;if(f=r||f!==0?f:0,i&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),s.push(f)}else a(l,d,r)||(l!==s&&l.push(d),s.push(f))}return s}var h6=d6,p6=oi,g6=h6;function m6(e,t){return e&&e.length?g6(e,p6(t)):[]}var y6=m6;const a1=Dt(y6);function M_(e,t,r){return t===!0?a1(e,r):We(t)?a1(e,t):e}function Is(e){"@babel/helpers - typeof";return Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Is(e)}var v6=["ref"];function o1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o1(Object(r),!0).forEach(function(n){Zh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E_(n.key),n)}}function b6(e,t,r){return t&&i1(e.prototype,t),r&&i1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function w6(e,t,r){return t=bd(t),k6(e,C_()?Reflect.construct(t,r||[],bd(e).constructor):t.apply(e,r))}function k6(e,t){if(t&&(Is(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S6(e)}function S6(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C_=function(){return!!e})()}function bd(e){return bd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bd(e)}function j6(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gg(e,t)}function Gg(e,t){return Gg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Gg(e,t)}function Zh(e,t,r){return t=E_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E_(e){var t=_6(e,"string");return Is(t)=="symbol"?t:t+""}function _6(e,t){if(Is(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Is(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function O6(e,t){if(e==null)return{};var r=N6(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function N6(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function P6(e){return e.value}function A6(e,t){if(D.isValidElement(e))return D.cloneElement(e,t);if(typeof e=="function")return D.createElement(e,t);t.ref;var r=O6(t,v6);return D.createElement(cv,r)}var s1=1,co=function(e){function t(){var r;x6(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=w6(this,t,[].concat(a)),Zh(r,"lastBoundingBox",{width:-1,height:-1}),r}return j6(t,e),b6(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>s1||Math.abs(a.height-this.lastBoundingBox.height)>s1)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Qa({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,o=a.layout,i=a.align,s=a.verticalAlign,l=a.margin,c=a.chartWidth,f=a.chartHeight,d,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(i==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();d={left:((c||0)-p.width)/2}}else d=i==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var y=this.getBBoxSnapshot();h={top:((f||0)-y.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Qa(Qa({},d),h)}},{key:"render",value:function(){var n=this,a=this.props,o=a.content,i=a.width,s=a.height,l=a.wrapperStyle,c=a.payloadUniqBy,f=a.payload,d=Qa(Qa({position:"absolute",width:i||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return D.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){n.wrapperNode=p}},A6(o,Qa(Qa({},this.props),{},{payload:M_(f,c,P6)})))}}],[{key:"getWithHeight",value:function(n,a){var o=Qa(Qa({},this.defaultProps),n.props),i=o.layout;return i==="vertical"&&fe(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||a}:null}}])}(j.PureComponent);Zh(co,"displayName","Legend");Zh(co,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var l1=Pu,M6=fv,C6=Bn,c1=l1?l1.isConcatSpreadable:void 0;function E6(e){return C6(e)||M6(e)||!!(c1&&e&&e[c1])}var T6=E6,$6=v_,D6=T6;function T_(e,t,r,n,a){var o=-1,i=e.length;for(r||(r=D6),a||(a=[]);++o<i;){var s=e[o];t>0&&r(s)?t>1?T_(s,t-1,r,n,a):$6(a,s):n||(a[a.length]=s)}return a}var $_=T_;function R6(e){return function(t,r,n){for(var a=-1,o=Object(t),i=n(t),s=i.length;s--;){var l=i[e?s:++a];if(r(o[l],l,o)===!1)break}return t}}var L6=R6,I6=L6,B6=I6(),F6=B6,z6=F6,U6=qh;function W6(e,t){return e&&z6(e,t,U6)}var D_=W6,G6=Au;function H6(e,t){return function(r,n){if(r==null)return r;if(!G6(r))return e(r,n);for(var a=r.length,o=t?a:-1,i=Object(r);(t?o--:++o<a)&&n(i[o],o,i)!==!1;);return r}}var V6=H6,X6=D_,K6=V6,Y6=K6(X6),gv=Y6,q6=gv,Z6=Au;function Q6(e,t){var r=-1,n=Z6(e)?Array(e.length):[];return q6(e,function(a,o,i){n[++r]=t(a,o,i)}),n}var R_=Q6;function J6(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var eB=J6,u1=hl;function tB(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,o=u1(e),i=t!==void 0,s=t===null,l=t===t,c=u1(t);if(!s&&!c&&!o&&e>t||o&&i&&l&&!s&&!c||n&&i&&l||!r&&l||!a)return 1;if(!n&&!o&&!c&&e<t||c&&r&&a&&!n&&!o||s&&r&&a||!i&&a||!l)return-1}return 0}var rB=tB,nB=rB;function aB(e,t,r){for(var n=-1,a=e.criteria,o=t.criteria,i=a.length,s=r.length;++n<i;){var l=nB(a[n],o[n]);if(l){if(n>=s)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return e.index-t.index}var oB=aB,a0=ev,iB=tv,sB=oi,lB=R_,cB=eB,uB=w_,fB=oB,dB=wl,hB=Bn;function pB(e,t,r){t.length?t=a0(t,function(o){return hB(o)?function(i){return iB(i,o.length===1?o[0]:o)}:o}):t=[dB];var n=-1;t=a0(t,uB(sB));var a=lB(e,function(o,i,s){var l=a0(t,function(c){return c(o)});return{criteria:l,index:++n,value:o}});return cB(a,function(o,i){return fB(o,i,r)})}var gB=pB;function mB(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var yB=mB,vB=yB,f1=Math.max;function xB(e,t,r){return t=f1(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,o=f1(n.length-t,0),i=Array(o);++a<o;)i[a]=n[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=n[a];return s[t]=r(i),vB(e,this,s)}}var bB=xB;function wB(e){return function(){return e}}var kB=wB,SB=Ki,jB=function(){try{var e=SB(Object,"defineProperty");return e({},"",{}),e}catch{}}(),L_=jB,_B=kB,d1=L_,OB=wl,NB=d1?function(e,t){return d1(e,"toString",{configurable:!0,enumerable:!1,value:_B(t),writable:!0})}:OB,PB=NB,AB=800,MB=16,CB=Date.now;function EB(e){var t=0,r=0;return function(){var n=CB(),a=MB-(n-r);if(r=n,a>0){if(++t>=AB)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var TB=EB,$B=PB,DB=TB,RB=DB($B),LB=RB,IB=wl,BB=bB,FB=LB;function zB(e,t){return FB(BB(e,t,IB),e+"")}var UB=zB,WB=qy,GB=Au,HB=dv,VB=ai;function XB(e,t,r){if(!VB(r))return!1;var n=typeof t;return(n=="number"?GB(r)&&HB(t,r.length):n=="string"&&t in r)?WB(r[t],e):!1}var Qh=XB,KB=$_,YB=gB,qB=UB,h1=Qh,ZB=qB(function(e,t){if(e==null)return[];var r=t.length;return r>1&&h1(e,t[0],t[1])?t=[]:r>2&&h1(t[0],t[1],t[2])&&(t=[t[0]]),YB(e,KB(t,1),[])}),QB=ZB;const mv=Dt(QB);function Gc(e){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gc(e)}function Hg(){return Hg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hg.apply(this,arguments)}function JB(e,t){return n8(e)||r8(e,t)||t8(e,t)||e8()}function e8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t8(e,t){if(e){if(typeof e=="string")return p1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p1(e,t)}}function p1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function r8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function n8(e){if(Array.isArray(e))return e}function g1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function o0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g1(Object(r),!0).forEach(function(n){a8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a8(e,t,r){return t=o8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o8(e){var t=i8(e,"string");return Gc(t)=="symbol"?t:t+""}function i8(e,t){if(Gc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s8(e){return Array.isArray(e)&&Dr(e[0])&&Dr(e[1])?e.join(" ~ "):e}var l8=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,o=a===void 0?{}:a,i=t.itemStyle,s=i===void 0?{}:i,l=t.labelStyle,c=l===void 0?{}:l,f=t.payload,d=t.formatter,h=t.itemSorter,p=t.wrapperClassName,y=t.labelClassName,v=t.label,x=t.labelFormatter,m=t.accessibilityLayer,g=m===void 0?!1:m,b=function(){if(f&&f.length){var C={padding:0,margin:0},$=(h?mv(f,h):f).map(function(z,E){if(z.type==="none")return null;var G=o0({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},s),A=z.formatter||d||s8,I=z.value,B=z.name,W=I,J=B;if(A&&W!=null&&J!=null){var q=A(I,B,z,E,f);if(Array.isArray(q)){var V=JB(q,2);W=V[0],J=V[1]}else W=q}return D.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(E),style:G},Dr(J)?D.createElement("span",{className:"recharts-tooltip-item-name"},J):null,Dr(J)?D.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,D.createElement("span",{className:"recharts-tooltip-item-value"},W),D.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return D.createElement("ul",{className:"recharts-tooltip-item-list",style:C},$)}return null},S=o0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),w=o0({margin:0},c),k=!Be(v),_=k?v:"",O=at("recharts-default-tooltip",p),N=at("recharts-tooltip-label",y);k&&x&&f!==void 0&&f!==null&&(_=x(v,f));var P=g?{role:"status","aria-live":"assertive"}:{};return D.createElement("div",Hg({className:O,style:S},P),D.createElement("p",{className:N,style:w},D.isValidElement(_)?_:"".concat(_)),b())};function Hc(e){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hc(e)}function df(e,t,r){return t=c8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c8(e){var t=u8(e,"string");return Hc(t)=="symbol"?t:t+""}function u8(e,t){if(Hc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xl="recharts-tooltip-wrapper",f8={visibility:"hidden"};function d8(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return at(Xl,df(df(df(df({},"".concat(Xl,"-right"),fe(r)&&t&&fe(t.x)&&r>=t.x),"".concat(Xl,"-left"),fe(r)&&t&&fe(t.x)&&r<t.x),"".concat(Xl,"-bottom"),fe(n)&&t&&fe(t.y)&&n>=t.y),"".concat(Xl,"-top"),fe(n)&&t&&fe(t.y)&&n<t.y))}function m1(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,o=e.position,i=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(o&&fe(o[n]))return o[n];var f=r[n]-s-a,d=r[n]+a;if(t[n])return i[n]?f:d;if(i[n]){var h=f,p=l[n];return h<p?Math.max(d,l[n]):Math.max(f,l[n])}var y=d+s,v=l[n]+c;return y>v?Math.max(f,l[n]):Math.max(d,l[n])}function h8(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function p8(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,o=e.reverseDirection,i=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,c,f,d;return i.height>0&&i.width>0&&r?(f=m1({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.width,viewBox:l,viewBoxDimension:l.width}),d=m1({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.height,viewBox:l,viewBoxDimension:l.height}),c=h8({translateX:f,translateY:d,useTranslate3d:s})):c=f8,{cssProperties:c,cssClasses:d8({translateX:f,translateY:d,coordinate:r})}}function Bs(e){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bs(e)}function y1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function v1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y1(Object(r),!0).forEach(function(n){Xg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,B_(n.key),n)}}function y8(e,t,r){return t&&m8(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function v8(e,t,r){return t=wd(t),x8(e,I_()?Reflect.construct(t,r||[],wd(e).constructor):t.apply(e,r))}function x8(e,t){if(t&&(Bs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b8(e)}function b8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I_=function(){return!!e})()}function wd(e){return wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wd(e)}function w8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vg(e,t)}function Vg(e,t){return Vg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Vg(e,t)}function Xg(e,t,r){return t=B_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B_(e){var t=k8(e,"string");return Bs(t)=="symbol"?t:t+""}function k8(e,t){if(Bs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var x1=1,S8=function(e){function t(){var r;g8(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=v8(this,t,[].concat(a)),Xg(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Xg(r,"handleKeyDown",function(i){if(i.key==="Escape"){var s,l,c,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&c!==void 0?c:0}})}}),r}return w8(t,e),y8(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>x1||Math.abs(n.height-this.state.lastBoundingBox.height)>x1)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,o=a.active,i=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,c=a.children,f=a.coordinate,d=a.hasPayload,h=a.isAnimationActive,p=a.offset,y=a.position,v=a.reverseDirection,x=a.useTranslate3d,m=a.viewBox,g=a.wrapperStyle,b=p8({allowEscapeViewBox:i,coordinate:f,offsetTopLeft:p,position:y,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:m}),S=b.cssClasses,w=b.cssProperties,k=v1(v1({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&d?"visible":"hidden",position:"absolute",top:0,left:0},g);return D.createElement("div",{tabIndex:-1,className:S,style:k,ref:function(O){n.wrapperNode=O}},c)}}])}(j.PureComponent),j8=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ii={isSsr:j8()};function Fs(e){"@babel/helpers - typeof";return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fs(e)}function b1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function w1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b1(Object(r),!0).forEach(function(n){yv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,z_(n.key),n)}}function N8(e,t,r){return t&&O8(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function P8(e,t,r){return t=kd(t),A8(e,F_()?Reflect.construct(t,r||[],kd(e).constructor):t.apply(e,r))}function A8(e,t){if(t&&(Fs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M8(e)}function M8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F_=function(){return!!e})()}function kd(e){return kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kd(e)}function C8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kg(e,t)}function Kg(e,t){return Kg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Kg(e,t)}function yv(e,t,r){return t=z_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z_(e){var t=E8(e,"string");return Fs(t)=="symbol"?t:t+""}function E8(e,t){if(Fs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function T8(e){return e.dataKey}function $8(e,t){return D.isValidElement(e)?D.cloneElement(e,t):typeof e=="function"?D.createElement(e,t):D.createElement(l8,t)}var Sn=function(e){function t(){return _8(this,t),P8(this,t,arguments)}return C8(t,e),N8(t,[{key:"render",value:function(){var n=this,a=this.props,o=a.active,i=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,c=a.content,f=a.coordinate,d=a.filterNull,h=a.isAnimationActive,p=a.offset,y=a.payload,v=a.payloadUniqBy,x=a.position,m=a.reverseDirection,g=a.useTranslate3d,b=a.viewBox,S=a.wrapperStyle,w=y??[];d&&w.length&&(w=M_(y.filter(function(_){return _.value!=null&&(_.hide!==!0||n.props.includeHidden)}),v,T8));var k=w.length>0;return D.createElement(S8,{allowEscapeViewBox:i,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:f,hasPayload:k,offset:p,position:x,reverseDirection:m,useTranslate3d:g,viewBox:b,wrapperStyle:S},$8(c,w1(w1({},this.props),{},{payload:w})))}}])}(j.PureComponent);yv(Sn,"displayName","Tooltip");yv(Sn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ii.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var D8=qa,R8=function(){return D8.Date.now()},L8=R8,I8=/\s/;function B8(e){for(var t=e.length;t--&&I8.test(e.charAt(t)););return t}var F8=B8,z8=F8,U8=/^\s+/;function W8(e){return e&&e.slice(0,z8(e)+1).replace(U8,"")}var G8=W8,H8=G8,k1=ai,V8=hl,S1=NaN,X8=/^[-+]0x[0-9a-f]+$/i,K8=/^0b[01]+$/i,Y8=/^0o[0-7]+$/i,q8=parseInt;function Z8(e){if(typeof e=="number")return e;if(V8(e))return S1;if(k1(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=k1(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=H8(e);var r=K8.test(e);return r||Y8.test(e)?q8(e.slice(2),r?2:8):X8.test(e)?S1:+e}var U_=Z8,Q8=ai,i0=L8,j1=U_,J8="Expected a function",eF=Math.max,tF=Math.min;function rF(e,t,r){var n,a,o,i,s,l,c=0,f=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(J8);t=j1(t)||0,Q8(r)&&(f=!!r.leading,d="maxWait"in r,o=d?eF(j1(r.maxWait)||0,t):o,h="trailing"in r?!!r.trailing:h);function p(k){var _=n,O=a;return n=a=void 0,c=k,i=e.apply(O,_),i}function y(k){return c=k,s=setTimeout(m,t),f?p(k):i}function v(k){var _=k-l,O=k-c,N=t-_;return d?tF(N,o-O):N}function x(k){var _=k-l,O=k-c;return l===void 0||_>=t||_<0||d&&O>=o}function m(){var k=i0();if(x(k))return g(k);s=setTimeout(m,v(k))}function g(k){return s=void 0,h&&n?p(k):(n=a=void 0,i)}function b(){s!==void 0&&clearTimeout(s),c=0,n=l=a=s=void 0}function S(){return s===void 0?i:g(i0())}function w(){var k=i0(),_=x(k);if(n=arguments,a=this,l=k,_){if(s===void 0)return y(l);if(d)return clearTimeout(s),s=setTimeout(m,t),p(l)}return s===void 0&&(s=setTimeout(m,t)),i}return w.cancel=b,w.flush=S,w}var nF=rF,aF=nF,oF=ai,iF="Expected a function";function sF(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(iF);return oF(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),aF(e,t,{leading:n,maxWait:t,trailing:a})}var lF=sF;const W_=Dt(lF);function Vc(e){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vc(e)}function _1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_1(Object(r),!0).forEach(function(n){cF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cF(e,t,r){return t=uF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uF(e){var t=fF(e,"string");return Vc(t)=="symbol"?t:t+""}function fF(e,t){if(Vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dF(e,t){return mF(e)||gF(e,t)||pF(e,t)||hF()}function hF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pF(e,t){if(e){if(typeof e=="string")return O1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O1(e,t)}}function O1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gF(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function mF(e){if(Array.isArray(e))return e}var zs=j.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,o=e.width,i=o===void 0?"100%":o,s=e.height,l=s===void 0?"100%":s,c=e.minWidth,f=c===void 0?0:c,d=e.minHeight,h=e.maxHeight,p=e.children,y=e.debounce,v=y===void 0?0:y,x=e.id,m=e.className,g=e.onResize,b=e.style,S=b===void 0?{}:b,w=j.useRef(null),k=j.useRef();k.current=g,j.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var _=j.useState({containerWidth:a.width,containerHeight:a.height}),O=dF(_,2),N=O[0],P=O[1],M=j.useCallback(function($,z){P(function(E){var G=Math.round($),A=Math.round(z);return E.containerWidth===G&&E.containerHeight===A?E:{containerWidth:G,containerHeight:A}})},[]);j.useEffect(function(){var $=function(B){var W,J=B[0].contentRect,q=J.width,V=J.height;M(q,V),(W=k.current)===null||W===void 0||W.call(k,q,V)};v>0&&($=W_($,v,{trailing:!0,leading:!1}));var z=new ResizeObserver($),E=w.current.getBoundingClientRect(),G=E.width,A=E.height;return M(G,A),z.observe(w.current),function(){z.disconnect()}},[M,v]);var C=j.useMemo(function(){var $=N.containerWidth,z=N.containerHeight;if($<0||z<0)return null;lo(Si(i)||Si(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,l),lo(!r||r>0,"The aspect(%s) must be greater than zero.",r);var E=Si(i)?$:i,G=Si(l)?z:l;r&&r>0&&(E?G=E/r:G&&(E=G*r),h&&G>h&&(G=h)),lo(E>0||G>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,E,G,i,l,f,d,r);var A=!Array.isArray(p)&&so(p.type).endsWith("Chart");return D.Children.map(p,function(I){return D.isValidElement(I)?j.cloneElement(I,hf({width:E,height:G},A?{style:hf({height:"100%",width:"100%",maxHeight:G,maxWidth:E},I.props.style)}:{})):I})},[r,p,l,h,d,f,N,i]);return D.createElement("div",{id:x?"".concat(x):void 0,className:at("recharts-responsive-container",m),style:hf(hf({},S),{},{width:i,height:l,minWidth:f,minHeight:d,maxHeight:h}),ref:w},C)}),vv=function(t){return null};vv.displayName="Cell";function Xc(e){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xc(e)}function N1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N1(Object(r),!0).forEach(function(n){yF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yF(e,t,r){return t=vF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vF(e){var t=xF(e,"string");return Xc(t)=="symbol"?t:t+""}function xF(e,t){if(Xc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ts={widthCache:{},cacheCount:0},bF=2e3,wF={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},P1="recharts_measurement_span";function kF(e){var t=Yg({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var mc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ii.isSsr)return{width:0,height:0};var n=kF(r),a=JSON.stringify({text:t,copyStyle:n});if(ts.widthCache[a])return ts.widthCache[a];try{var o=document.getElementById(P1);o||(o=document.createElement("span"),o.setAttribute("id",P1),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var i=Yg(Yg({},wF),n);Object.assign(o.style,i),o.textContent="".concat(t);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return ts.widthCache[a]=l,++ts.cacheCount>bF&&(ts.cacheCount=0,ts.widthCache={}),l}catch{return{width:0,height:0}}},SF=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Kc(e){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kc(e)}function Sd(e,t){return NF(e)||OF(e,t)||_F(e,t)||jF()}function jF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _F(e,t){if(e){if(typeof e=="string")return A1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A1(e,t)}}function A1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function OF(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function NF(e){if(Array.isArray(e))return e}function PF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MF(n.key),n)}}function AF(e,t,r){return t&&M1(e.prototype,t),r&&M1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function MF(e){var t=CF(e,"string");return Kc(t)=="symbol"?t:t+""}function CF(e,t){if(Kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var C1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,E1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,EF=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,TF=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,G_={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},$F=Object.keys(G_),ys="NaN";function DF(e,t){return e*G_[t]}var pf=function(){function e(t,r){PF(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!EF.test(r)&&(this.num=NaN,this.unit=""),$F.includes(r)&&(this.num=DF(t,r),this.unit="px")}return AF(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=TF.exec(r))!==null&&n!==void 0?n:[],o=Sd(a,3),i=o[1],s=o[2];return new e(parseFloat(i),s??"")}}])}();function H_(e){if(e.includes(ys))return ys;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=C1.exec(t))!==null&&r!==void 0?r:[],a=Sd(n,4),o=a[1],i=a[2],s=a[3],l=pf.parse(o??""),c=pf.parse(s??""),f=i==="*"?l.multiply(c):l.divide(c);if(f.isNaN())return ys;t=t.replace(C1,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,h=(d=E1.exec(t))!==null&&d!==void 0?d:[],p=Sd(h,4),y=p[1],v=p[2],x=p[3],m=pf.parse(y??""),g=pf.parse(x??""),b=v==="+"?m.add(g):m.subtract(g);if(b.isNaN())return ys;t=t.replace(E1,b.toString())}return t}var T1=/\(([^()]*)\)/;function RF(e){for(var t=e;t.includes("(");){var r=T1.exec(t),n=Sd(r,2),a=n[1];t=t.replace(T1,H_(a))}return t}function LF(e){var t=e.replace(/\s+/g,"");return t=RF(t),t=H_(t),t}function IF(e){try{return LF(e)}catch{return ys}}function s0(e){var t=IF(e.slice(5,-1));return t===ys?"":t}var BF=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],FF=["dx","dy","angle","className","breakAll"];function qg(){return qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qg.apply(this,arguments)}function $1(e,t){if(e==null)return{};var r=zF(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zF(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function D1(e,t){return HF(e)||GF(e,t)||WF(e,t)||UF()}function UF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WF(e,t){if(e){if(typeof e=="string")return R1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R1(e,t)}}function R1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function GF(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function HF(e){if(Array.isArray(e))return e}var V_=/[ \f\n\r\t\v\u2028\u2029]+/,X_=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var o=[];Be(r)||(n?o=r.toString().split(""):o=r.toString().split(V_));var i=o.map(function(l){return{word:l,width:mc(l,a).width}}),s=n?0:mc("",a).width;return{wordsWithComputedWidth:i,spaceWidth:s}}catch{return null}},VF=function(t,r,n,a,o){var i=t.maxLines,s=t.children,l=t.style,c=t.breakAll,f=fe(i),d=s,h=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return E.reduce(function(G,A){var I=A.word,B=A.width,W=G[G.length-1];if(W&&(a==null||o||W.width+B+n<Number(a)))W.words.push(I),W.width+=B+n;else{var J={words:[I],width:B};G.push(J)}return G},[])},p=h(r),y=function(E){return E.reduce(function(G,A){return G.width>A.width?G:A})};if(!f)return p;for(var v="",x=function(E){var G=d.slice(0,E),A=X_({breakAll:c,style:l,children:G+v}).wordsWithComputedWidth,I=h(A),B=I.length>i||y(I).width>Number(a);return[B,I]},m=0,g=d.length-1,b=0,S;m<=g&&b<=d.length-1;){var w=Math.floor((m+g)/2),k=w-1,_=x(k),O=D1(_,2),N=O[0],P=O[1],M=x(w),C=D1(M,1),$=C[0];if(!N&&!$&&(m=w+1),N&&$&&(g=w-1),!N&&$){S=P;break}b++}return S||p},L1=function(t){var r=Be(t)?[]:t.toString().split(V_);return[{words:r}]},XF=function(t){var r=t.width,n=t.scaleToFit,a=t.children,o=t.style,i=t.breakAll,s=t.maxLines;if((r||n)&&!ii.isSsr){var l,c,f=X_({breakAll:i,children:a,style:o});if(f){var d=f.wordsWithComputedWidth,h=f.spaceWidth;l=d,c=h}else return L1(a);return VF({breakAll:i,children:a,maxLines:s,style:o},l,c,r,n)}return L1(a)},I1="#808080",jd=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,o=a===void 0?0:a,i=t.lineHeight,s=i===void 0?"1em":i,l=t.capHeight,c=l===void 0?"0.71em":l,f=t.scaleToFit,d=f===void 0?!1:f,h=t.textAnchor,p=h===void 0?"start":h,y=t.verticalAnchor,v=y===void 0?"end":y,x=t.fill,m=x===void 0?I1:x,g=$1(t,BF),b=j.useMemo(function(){return XF({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:d,style:g.style,width:g.width})},[g.breakAll,g.children,g.maxLines,d,g.style,g.width]),S=g.dx,w=g.dy,k=g.angle,_=g.className,O=g.breakAll,N=$1(g,FF);if(!Dr(n)||!Dr(o))return null;var P=n+(fe(S)?S:0),M=o+(fe(w)?w:0),C;switch(v){case"start":C=s0("calc(".concat(c,")"));break;case"middle":C=s0("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:C=s0("calc(".concat(b.length-1," * -").concat(s,")"));break}var $=[];if(d){var z=b[0].width,E=g.width;$.push("scale(".concat((fe(E)?E/z:1)/z,")"))}return k&&$.push("rotate(".concat(k,", ").concat(P,", ").concat(M,")")),$.length&&(N.transform=$.join(" ")),D.createElement("text",qg({},ze(N,!0),{x:P,y:M,className:at("recharts-text",_),textAnchor:p,fill:m.includes("url")?I1:m}),b.map(function(G,A){var I=G.words.join(O?"":" ");return D.createElement("tspan",{x:P,dy:A===0?C:s,key:"".concat(I,"-").concat(A)},I)}))};function Qo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function KF(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function xv(e){let t,r,n;e.length!==2?(t=Qo,r=(s,l)=>Qo(e(s),l),n=(s,l)=>e(s)-l):(t=e===Qo||e===KF?e:YF,r=e,n=e);function a(s,l,c=0,f=s.length){if(c<f){if(t(l,l)!==0)return f;do{const d=c+f>>>1;r(s[d],l)<0?c=d+1:f=d}while(c<f)}return c}function o(s,l,c=0,f=s.length){if(c<f){if(t(l,l)!==0)return f;do{const d=c+f>>>1;r(s[d],l)<=0?c=d+1:f=d}while(c<f)}return c}function i(s,l,c=0,f=s.length){const d=a(s,l,c,f-1);return d>c&&n(s[d-1],l)>-n(s[d],l)?d-1:d}return{left:a,center:i,right:o}}function YF(){return 0}function K_(e){return e===null?NaN:+e}function*qF(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const ZF=xv(Qo),Mu=ZF.right;xv(K_).center;class B1 extends Map{constructor(t,r=ez){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(F1(this,t))}has(t){return super.has(F1(this,t))}set(t,r){return super.set(QF(this,t),r)}delete(t){return super.delete(JF(this,t))}}function F1({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function QF({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function JF({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function ez(e){return e!==null&&typeof e=="object"?e.valueOf():e}function tz(e=Qo){if(e===Qo)return Y_;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function Y_(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const rz=Math.sqrt(50),nz=Math.sqrt(10),az=Math.sqrt(2);function _d(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),o=n/Math.pow(10,a),i=o>=rz?10:o>=nz?5:o>=az?2:1;let s,l,c;return a<0?(c=Math.pow(10,-a)/i,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*i,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=r&&r<2?_d(e,t,r*2):[s,l,c]}function Zg(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,o,i]=n?_d(t,e,r):_d(e,t,r);if(!(o>=a))return[];const s=o-a+1,l=new Array(s);if(n)if(i<0)for(let c=0;c<s;++c)l[c]=(o-c)/-i;else for(let c=0;c<s;++c)l[c]=(o-c)*i;else if(i<0)for(let c=0;c<s;++c)l[c]=(a+c)/-i;else for(let c=0;c<s;++c)l[c]=(a+c)*i;return l}function Qg(e,t,r){return t=+t,e=+e,r=+r,_d(e,t,r)[2]}function Jg(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Qg(t,e,r):Qg(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function z1(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function U1(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function q_(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?Y_:tz(a);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,f=Math.log(l),d=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*d*(l-d)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(t-c*d/l+h)),y=Math.min(n,Math.floor(t+(l-c)*d/l+h));q_(e,t,p,y,a)}const o=e[t];let i=r,s=n;for(Kl(e,r,t),a(e[n],o)>0&&Kl(e,r,n);i<s;){for(Kl(e,i,s),++i,--s;a(e[i],o)<0;)++i;for(;a(e[s],o)>0;)--s}a(e[r],o)===0?Kl(e,r,s):(++s,Kl(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function Kl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function oz(e,t,r){if(e=Float64Array.from(qF(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return U1(e);if(t>=1)return z1(e);var n,a=(n-1)*t,o=Math.floor(a),i=z1(q_(e,o).subarray(0,o+1)),s=U1(e.subarray(o+1));return i+(s-i)*(a-o)}}function iz(e,t,r=K_){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,o=Math.floor(a),i=+r(e[o],o,e),s=+r(e[o+1],o+1,e);return i+(s-i)*(a-o)}}function sz(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(a);++n<a;)o[n]=e+n*r;return o}function ma(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ko(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const em=Symbol("implicit");function bv(){var e=new B1,t=[],r=[],n=em;function a(o){let i=e.get(o);if(i===void 0){if(n!==em)return n;e.set(o,i=t.push(o)-1)}return r[i%r.length]}return a.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new B1;for(const i of o)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(o){return arguments.length?(r=Array.from(o),a):r.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return bv(t,r).unknown(n)},ma.apply(a,arguments),a}function Yc(){var e=bv().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,o,i,s=!1,l=0,c=0,f=.5;delete e.unknown;function d(){var h=t().length,p=a<n,y=p?a:n,v=p?n:a;o=(v-y)/Math.max(1,h-l+c*2),s&&(o=Math.floor(o)),y+=(v-y-o*(h-l))*f,i=o*(1-l),s&&(y=Math.round(y),i=Math.round(i));var x=sz(h).map(function(m){return y+o*m});return r(p?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,d()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,s=!0,d()},e.bandwidth=function(){return i},e.step=function(){return o},e.round=function(h){return arguments.length?(s=!!h,d()):s},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),d()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},e.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),d()):f},e.copy=function(){return Yc(t(),[n,a]).round(s).paddingInner(l).paddingOuter(c).align(f)},ma.apply(d(),arguments)}function Z_(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Z_(t())},e}function yc(){return Z_(Yc.apply(null,arguments).paddingInner(1))}function wv(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Q_(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Cu(){}var qc=.7,Od=1/qc,Ns="\\s*([+-]?\\d+)\\s*",Zc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ha="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lz=/^#([0-9a-f]{3,8})$/,cz=new RegExp(`^rgb\\(${Ns},${Ns},${Ns}\\)$`),uz=new RegExp(`^rgb\\(${Ha},${Ha},${Ha}\\)$`),fz=new RegExp(`^rgba\\(${Ns},${Ns},${Ns},${Zc}\\)$`),dz=new RegExp(`^rgba\\(${Ha},${Ha},${Ha},${Zc}\\)$`),hz=new RegExp(`^hsl\\(${Zc},${Ha},${Ha}\\)$`),pz=new RegExp(`^hsla\\(${Zc},${Ha},${Ha},${Zc}\\)$`),W1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};wv(Cu,Qc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:G1,formatHex:G1,formatHex8:gz,formatHsl:mz,formatRgb:H1,toString:H1});function G1(){return this.rgb().formatHex()}function gz(){return this.rgb().formatHex8()}function mz(){return J_(this).formatHsl()}function H1(){return this.rgb().formatRgb()}function Qc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=lz.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?V1(t):r===3?new $n(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?gf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?gf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=cz.exec(e))?new $n(t[1],t[2],t[3],1):(t=uz.exec(e))?new $n(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=fz.exec(e))?gf(t[1],t[2],t[3],t[4]):(t=dz.exec(e))?gf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=hz.exec(e))?Y1(t[1],t[2]/100,t[3]/100,1):(t=pz.exec(e))?Y1(t[1],t[2]/100,t[3]/100,t[4]):W1.hasOwnProperty(e)?V1(W1[e]):e==="transparent"?new $n(NaN,NaN,NaN,0):null}function V1(e){return new $n(e>>16&255,e>>8&255,e&255,1)}function gf(e,t,r,n){return n<=0&&(e=t=r=NaN),new $n(e,t,r,n)}function yz(e){return e instanceof Cu||(e=Qc(e)),e?(e=e.rgb(),new $n(e.r,e.g,e.b,e.opacity)):new $n}function tm(e,t,r,n){return arguments.length===1?yz(e):new $n(e,t,r,n??1)}function $n(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}wv($n,tm,Q_(Cu,{brighter(e){return e=e==null?Od:Math.pow(Od,e),new $n(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?qc:Math.pow(qc,e),new $n(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new $n(Ci(this.r),Ci(this.g),Ci(this.b),Nd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:X1,formatHex:X1,formatHex8:vz,formatRgb:K1,toString:K1}));function X1(){return`#${ji(this.r)}${ji(this.g)}${ji(this.b)}`}function vz(){return`#${ji(this.r)}${ji(this.g)}${ji(this.b)}${ji((isNaN(this.opacity)?1:this.opacity)*255)}`}function K1(){const e=Nd(this.opacity);return`${e===1?"rgb(":"rgba("}${Ci(this.r)}, ${Ci(this.g)}, ${Ci(this.b)}${e===1?")":`, ${e})`}`}function Nd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ci(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ji(e){return e=Ci(e),(e<16?"0":"")+e.toString(16)}function Y1(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Na(e,t,r,n)}function J_(e){if(e instanceof Na)return new Na(e.h,e.s,e.l,e.opacity);if(e instanceof Cu||(e=Qc(e)),!e)return new Na;if(e instanceof Na)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),o=Math.max(t,r,n),i=NaN,s=o-a,l=(o+a)/2;return s?(t===o?i=(r-n)/s+(r<n)*6:r===o?i=(n-t)/s+2:i=(t-r)/s+4,s/=l<.5?o+a:2-o-a,i*=60):s=l>0&&l<1?0:i,new Na(i,s,l,e.opacity)}function xz(e,t,r,n){return arguments.length===1?J_(e):new Na(e,t,r,n??1)}function Na(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}wv(Na,xz,Q_(Cu,{brighter(e){return e=e==null?Od:Math.pow(Od,e),new Na(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?qc:Math.pow(qc,e),new Na(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new $n(l0(e>=240?e-240:e+120,a,n),l0(e,a,n),l0(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Na(q1(this.h),mf(this.s),mf(this.l),Nd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Nd(this.opacity);return`${e===1?"hsl(":"hsla("}${q1(this.h)}, ${mf(this.s)*100}%, ${mf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function q1(e){return e=(e||0)%360,e<0?e+360:e}function mf(e){return Math.max(0,Math.min(1,e||0))}function l0(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const kv=e=>()=>e;function bz(e,t){return function(r){return e+r*t}}function wz(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function kz(e){return(e=+e)==1?eO:function(t,r){return r-t?wz(t,r,e):kv(isNaN(t)?r:t)}}function eO(e,t){var r=t-e;return r?bz(e,r):kv(isNaN(e)?t:e)}const Z1=function e(t){var r=kz(t);function n(a,o){var i=r((a=tm(a)).r,(o=tm(o)).r),s=r(a.g,o.g),l=r(a.b,o.b),c=eO(a.opacity,o.opacity);return function(f){return a.r=i(f),a.g=s(f),a.b=l(f),a.opacity=c(f),a+""}}return n.gamma=e,n}(1);function Sz(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(o){for(a=0;a<r;++a)n[a]=e[a]*(1-o)+t[a]*o;return n}}function jz(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function _z(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),o=new Array(r),i;for(i=0;i<n;++i)a[i]=kl(e[i],t[i]);for(;i<r;++i)o[i]=t[i];return function(s){for(i=0;i<n;++i)o[i]=a[i](s);return o}}function Oz(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Pd(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Nz(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=kl(e[a],t[a]):n[a]=t[a];return function(o){for(a in r)n[a]=r[a](o);return n}}var rm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,c0=new RegExp(rm.source,"g");function Pz(e){return function(){return e}}function Az(e){return function(t){return e(t)+""}}function Mz(e,t){var r=rm.lastIndex=c0.lastIndex=0,n,a,o,i=-1,s=[],l=[];for(e=e+"",t=t+"";(n=rm.exec(e))&&(a=c0.exec(t));)(o=a.index)>r&&(o=t.slice(r,o),s[i]?s[i]+=o:s[++i]=o),(n=n[0])===(a=a[0])?s[i]?s[i]+=a:s[++i]=a:(s[++i]=null,l.push({i,x:Pd(n,a)})),r=c0.lastIndex;return r<t.length&&(o=t.slice(r),s[i]?s[i]+=o:s[++i]=o),s.length<2?l[0]?Az(l[0].x):Pz(t):(t=l.length,function(c){for(var f=0,d;f<t;++f)s[(d=l[f]).i]=d.x(c);return s.join("")})}function kl(e,t){var r=typeof t,n;return t==null||r==="boolean"?kv(t):(r==="number"?Pd:r==="string"?(n=Qc(t))?(t=n,Z1):Mz:t instanceof Qc?Z1:t instanceof Date?Oz:jz(t)?Sz:Array.isArray(t)?_z:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Nz:Pd)(e,t)}function Sv(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Cz(e,t){t===void 0&&(t=e,e=kl);for(var r=0,n=t.length-1,a=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(a,a=t[++r]);return function(i){var s=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return o[s](i-s)}}function Ez(e){return function(){return e}}function Ad(e){return+e}var Q1=[0,1];function jn(e){return e}function nm(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Ez(isNaN(t)?NaN:.5)}function Tz(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function $z(e,t,r){var n=e[0],a=e[1],o=t[0],i=t[1];return a<n?(n=nm(a,n),o=r(i,o)):(n=nm(n,a),o=r(o,i)),function(s){return o(n(s))}}function Dz(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),o=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=nm(e[i],e[i+1]),o[i]=r(t[i],t[i+1]);return function(s){var l=Mu(e,s,1,n)-1;return o[l](a[l](s))}}function Eu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Jh(){var e=Q1,t=Q1,r=kl,n,a,o,i=jn,s,l,c;function f(){var h=Math.min(e.length,t.length);return i!==jn&&(i=Tz(e[0],e[h-1])),s=h>2?Dz:$z,l=c=null,d}function d(h){return h==null||isNaN(h=+h)?o:(l||(l=s(e.map(n),t,r)))(n(i(h)))}return d.invert=function(h){return i(a((c||(c=s(t,e.map(n),Pd)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,Ad),f()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),r=Sv,f()},d.clamp=function(h){return arguments.length?(i=h?!0:jn,f()):i!==jn},d.interpolate=function(h){return arguments.length?(r=h,f()):r},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,p){return n=h,a=p,f()}}function jv(){return Jh()(jn,jn)}function Rz(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Md(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Us(e){return e=Md(Math.abs(e)),e?e[1]:NaN}function Lz(e,t){return function(r,n){for(var a=r.length,o=[],i=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),o.push(r.substring(a-=s,a+s)),!((l+=s+1)>n));)s=e[i=(i+1)%e.length];return o.reverse().join(t)}}function Iz(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Bz=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Jc(e){if(!(t=Bz.exec(e)))throw new Error("invalid format: "+e);var t;return new _v({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Jc.prototype=_v.prototype;function _v(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}_v.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Fz(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Cd;function zz(e,t){var r=Md(e,t);if(!r)return Cd=void 0,e.toPrecision(t);var n=r[0],a=r[1],o=a-(Cd=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return o===i?n:o>i?n+new Array(o-i+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Md(e,Math.max(0,t+o-1))[0]}function J1(e,t){var r=Md(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const ew={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Rz,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>J1(e*100,t),r:J1,s:zz,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function tw(e){return e}var rw=Array.prototype.map,nw=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Uz(e){var t=e.grouping===void 0||e.thousands===void 0?tw:Lz(rw.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?tw:Iz(rw.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(d,h){d=Jc(d);var p=d.fill,y=d.align,v=d.sign,x=d.symbol,m=d.zero,g=d.width,b=d.comma,S=d.precision,w=d.trim,k=d.type;k==="n"?(b=!0,k="g"):ew[k]||(S===void 0&&(S=12),w=!0,k="g"),(m||p==="0"&&y==="=")&&(m=!0,p="0",y="=");var _=(h&&h.prefix!==void 0?h.prefix:"")+(x==="$"?r:x==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():""),O=(x==="$"?n:/[%p]/.test(k)?i:"")+(h&&h.suffix!==void 0?h.suffix:""),N=ew[k],P=/[defgprs%]/.test(k);S=S===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function M(C){var $=_,z=O,E,G,A;if(k==="c")z=N(C)+z,C="";else{C=+C;var I=C<0||1/C<0;if(C=isNaN(C)?l:N(Math.abs(C),S),w&&(C=Fz(C)),I&&+C==0&&v!=="+"&&(I=!1),$=(I?v==="("?v:s:v==="-"||v==="("?"":v)+$,z=(k==="s"&&!isNaN(C)&&Cd!==void 0?nw[8+Cd/3]:"")+z+(I&&v==="("?")":""),P){for(E=-1,G=C.length;++E<G;)if(A=C.charCodeAt(E),48>A||A>57){z=(A===46?a+C.slice(E+1):C.slice(E))+z,C=C.slice(0,E);break}}}b&&!m&&(C=t(C,1/0));var B=$.length+C.length+z.length,W=B<g?new Array(g-B+1).join(p):"";switch(b&&m&&(C=t(W+C,W.length?g-z.length:1/0),W=""),y){case"<":C=$+C+z+W;break;case"=":C=$+W+C+z;break;case"^":C=W.slice(0,B=W.length>>1)+$+C+z+W.slice(B);break;default:C=W+$+C+z;break}return o(C)}return M.toString=function(){return d+""},M}function f(d,h){var p=Math.max(-8,Math.min(8,Math.floor(Us(h)/3)))*3,y=Math.pow(10,-p),v=c((d=Jc(d),d.type="f",d),{suffix:nw[8+p/3]});return function(x){return v(y*x)}}return{format:c,formatPrefix:f}}var yf,Ov,tO;Wz({thousands:",",grouping:[3],currency:["$",""]});function Wz(e){return yf=Uz(e),Ov=yf.format,tO=yf.formatPrefix,yf}function Gz(e){return Math.max(0,-Us(Math.abs(e)))}function Hz(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Us(t)/3)))*3-Us(Math.abs(e)))}function Vz(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Us(t)-Us(e))+1}function rO(e,t,r,n){var a=Jg(e,t,r),o;switch(n=Jc(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=Hz(a,i))&&(n.precision=o),tO(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=Vz(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=Gz(a))&&(n.precision=o-(n.type==="%")*2);break}}return Ov(n)}function si(e){var t=e.domain;return e.ticks=function(r){var n=t();return Zg(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return rO(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,o=n.length-1,i=n[a],s=n[o],l,c,f=10;for(s<i&&(c=i,i=s,s=c,c=a,a=o,o=c);f-- >0;){if(c=Qg(i,s,r),c===l)return n[a]=i,n[o]=s,t(n);if(c>0)i=Math.floor(i/c)*c,s=Math.ceil(s/c)*c;else if(c<0)i=Math.ceil(i*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function Ed(){var e=jv();return e.copy=function(){return Eu(e,Ed())},ma.apply(e,arguments),si(e)}function nO(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Ad),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return nO(e).unknown(t)},e=arguments.length?Array.from(e,Ad):[0,1],si(r)}function aO(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],o=e[n],i;return o<a&&(i=r,r=n,n=i,i=a,a=o,o=i),e[r]=t.floor(a),e[n]=t.ceil(o),e}function aw(e){return Math.log(e)}function ow(e){return Math.exp(e)}function Xz(e){return-Math.log(-e)}function Kz(e){return-Math.exp(-e)}function Yz(e){return isFinite(e)?+("1e"+e):e<0?0:e}function qz(e){return e===10?Yz:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Zz(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function iw(e){return(t,r)=>-e(-t,r)}function Nv(e){const t=e(aw,ow),r=t.domain;let n=10,a,o;function i(){return a=Zz(n),o=qz(n),r()[0]<0?(a=iw(a),o=iw(o),e(Xz,Kz)):e(aw,ow),t}return t.base=function(s){return arguments.length?(n=+s,i()):n},t.domain=function(s){return arguments.length?(r(s),i()):r()},t.ticks=s=>{const l=r();let c=l[0],f=l[l.length-1];const d=f<c;d&&([c,f]=[f,c]);let h=a(c),p=a(f),y,v;const x=s==null?10:+s;let m=[];if(!(n%1)&&p-h<x){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(y=1;y<n;++y)if(v=h<0?y/o(-h):y*o(h),!(v<c)){if(v>f)break;m.push(v)}}else for(;h<=p;++h)for(y=n-1;y>=1;--y)if(v=h>0?y/o(-h):y*o(h),!(v<c)){if(v>f)break;m.push(v)}m.length*2<x&&(m=Zg(c,f,x))}else m=Zg(h,p,Math.min(p-h,x)).map(o);return d?m.reverse():m},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Jc(l)).precision==null&&(l.trim=!0),l=Ov(l)),s===1/0)return l;const c=Math.max(1,n*s/t.ticks().length);return f=>{let d=f/o(Math.round(a(f)));return d*n<n-.5&&(d*=n),d<=c?l(f):""}},t.nice=()=>r(aO(r(),{floor:s=>o(Math.floor(a(s))),ceil:s=>o(Math.ceil(a(s)))})),t}function oO(){const e=Nv(Jh()).domain([1,10]);return e.copy=()=>Eu(e,oO()).base(e.base()),ma.apply(e,arguments),e}function sw(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function lw(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Pv(e){var t=1,r=e(sw(t),lw(t));return r.constant=function(n){return arguments.length?e(sw(t=+n),lw(t)):t},si(r)}function iO(){var e=Pv(Jh());return e.copy=function(){return Eu(e,iO()).constant(e.constant())},ma.apply(e,arguments)}function cw(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Qz(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Jz(e){return e<0?-e*e:e*e}function Av(e){var t=e(jn,jn),r=1;function n(){return r===1?e(jn,jn):r===.5?e(Qz,Jz):e(cw(r),cw(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},si(t)}function Mv(){var e=Av(Jh());return e.copy=function(){return Eu(e,Mv()).exponent(e.exponent())},ma.apply(e,arguments),e}function e9(){return Mv.apply(null,arguments).exponent(.5)}function uw(e){return Math.sign(e)*e*e}function t9(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function sO(){var e=jv(),t=[0,1],r=!1,n;function a(o){var i=t9(e(o));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(o){return e.invert(uw(o))},a.domain=function(o){return arguments.length?(e.domain(o),a):e.domain()},a.range=function(o){return arguments.length?(e.range((t=Array.from(o,Ad)).map(uw)),a):t.slice()},a.rangeRound=function(o){return a.range(o).round(!0)},a.round=function(o){return arguments.length?(r=!!o,a):r},a.clamp=function(o){return arguments.length?(e.clamp(o),a):e.clamp()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return sO(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ma.apply(a,arguments),si(a)}function lO(){var e=[],t=[],r=[],n;function a(){var i=0,s=Math.max(1,t.length);for(r=new Array(s-1);++i<s;)r[i-1]=iz(e,i/s);return o}function o(i){return i==null||isNaN(i=+i)?n:t[Mu(r,i)]}return o.invertExtent=function(i){var s=t.indexOf(i);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},o.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let s of i)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Qo),a()},o.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},o.unknown=function(i){return arguments.length?(n=i,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return lO().domain(e).range(t).unknown(n)},ma.apply(o,arguments)}function cO(){var e=0,t=1,r=1,n=[.5],a=[0,1],o;function i(l){return l!=null&&l<=l?a[Mu(n,l,0,r)]:o}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return i}return i.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},i.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,s()):a.slice()},i.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},i.unknown=function(l){return arguments.length&&(o=l),i},i.thresholds=function(){return n.slice()},i.copy=function(){return cO().domain([e,t]).range(a).unknown(o)},ma.apply(si(i),arguments)}function uO(){var e=[.5],t=[0,1],r,n=1;function a(o){return o!=null&&o<=o?t[Mu(e,o,0,n)]:r}return a.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(o){var i=t.indexOf(o);return[e[i-1],e[i]]},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return uO().domain(e).range(t).unknown(r)},ma.apply(a,arguments)}const u0=new Date,f0=new Date;function Lr(e,t,r,n){function a(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=o=>(e(o=new Date(+o)),o),a.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),a.round=o=>{const i=a(o),s=a.ceil(o);return o-i<s-o?i:s},a.offset=(o,i)=>(t(o=new Date(+o),i==null?1:Math.floor(i)),o),a.range=(o,i,s)=>{const l=[];if(o=a.ceil(o),s=s==null?1:Math.floor(s),!(o<i)||!(s>0))return l;let c;do l.push(c=new Date(+o)),t(o,s),e(o);while(c<o&&o<i);return l},a.filter=o=>Lr(i=>{if(i>=i)for(;e(i),!o(i);)i.setTime(i-1)},(i,s)=>{if(i>=i)if(s<0)for(;++s<=0;)for(;t(i,-1),!o(i););else for(;--s>=0;)for(;t(i,1),!o(i););}),r&&(a.count=(o,i)=>(u0.setTime(+o),f0.setTime(+i),e(u0),e(f0),Math.floor(r(u0,f0))),a.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(n?i=>n(i)%o===0:i=>a.count(0,i)%o===0):a)),a}const Td=Lr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Td.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Lr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Td);Td.range;const no=1e3,la=no*60,ao=la*60,mo=ao*24,Cv=mo*7,fw=mo*30,d0=mo*365,_i=Lr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*no)},(e,t)=>(t-e)/no,e=>e.getUTCSeconds());_i.range;const Ev=Lr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*no)},(e,t)=>{e.setTime(+e+t*la)},(e,t)=>(t-e)/la,e=>e.getMinutes());Ev.range;const Tv=Lr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*la)},(e,t)=>(t-e)/la,e=>e.getUTCMinutes());Tv.range;const $v=Lr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*no-e.getMinutes()*la)},(e,t)=>{e.setTime(+e+t*ao)},(e,t)=>(t-e)/ao,e=>e.getHours());$v.range;const Dv=Lr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ao)},(e,t)=>(t-e)/ao,e=>e.getUTCHours());Dv.range;const Tu=Lr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*la)/mo,e=>e.getDate()-1);Tu.range;const ep=Lr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/mo,e=>e.getUTCDate()-1);ep.range;const fO=Lr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/mo,e=>Math.floor(e/mo));fO.range;function qi(e){return Lr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*la)/Cv)}const tp=qi(0),$d=qi(1),r9=qi(2),n9=qi(3),Ws=qi(4),a9=qi(5),o9=qi(6);tp.range;$d.range;r9.range;n9.range;Ws.range;a9.range;o9.range;function Zi(e){return Lr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Cv)}const rp=Zi(0),Dd=Zi(1),i9=Zi(2),s9=Zi(3),Gs=Zi(4),l9=Zi(5),c9=Zi(6);rp.range;Dd.range;i9.range;s9.range;Gs.range;l9.range;c9.range;const Rv=Lr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Rv.range;const Lv=Lr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Lv.range;const yo=Lr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());yo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Lr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});yo.range;const vo=Lr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());vo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Lr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});vo.range;function dO(e,t,r,n,a,o){const i=[[_i,1,no],[_i,5,5*no],[_i,15,15*no],[_i,30,30*no],[o,1,la],[o,5,5*la],[o,15,15*la],[o,30,30*la],[a,1,ao],[a,3,3*ao],[a,6,6*ao],[a,12,12*ao],[n,1,mo],[n,2,2*mo],[r,1,Cv],[t,1,fw],[t,3,3*fw],[e,1,d0]];function s(c,f,d){const h=f<c;h&&([c,f]=[f,c]);const p=d&&typeof d.range=="function"?d:l(c,f,d),y=p?p.range(c,+f+1):[];return h?y.reverse():y}function l(c,f,d){const h=Math.abs(f-c)/d,p=xv(([,,x])=>x).right(i,h);if(p===i.length)return e.every(Jg(c/d0,f/d0,d));if(p===0)return Td.every(Math.max(Jg(c,f,d),1));const[y,v]=i[h/i[p-1][2]<i[p][2]/h?p-1:p];return y.every(v)}return[s,l]}const[u9,f9]=dO(vo,Lv,rp,fO,Dv,Tv),[d9,h9]=dO(yo,Rv,tp,Tu,$v,Ev);function h0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function p0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Yl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function p9(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,o=e.days,i=e.shortDays,s=e.months,l=e.shortMonths,c=ql(a),f=Zl(a),d=ql(o),h=Zl(o),p=ql(i),y=Zl(i),v=ql(s),x=Zl(s),m=ql(l),g=Zl(l),b={a:A,A:I,b:B,B:W,c:null,d:yw,e:yw,f:L9,g:X9,G:Y9,H:$9,I:D9,j:R9,L:hO,m:I9,M:B9,p:J,q,Q:bw,s:ww,S:F9,u:z9,U:U9,V:W9,w:G9,W:H9,x:null,X:null,y:V9,Y:K9,Z:q9,"%":xw},S={a:V,A:ie,b:te,B:T,c:null,d:vw,e:vw,f:e7,g:u7,G:d7,H:Z9,I:Q9,j:J9,L:gO,m:t7,M:r7,p:oe,q:ue,Q:bw,s:ww,S:n7,u:a7,U:o7,V:i7,w:s7,W:l7,x:null,X:null,y:c7,Y:f7,Z:h7,"%":xw},w={a:P,A:M,b:C,B:$,c:z,d:gw,e:gw,f:M9,g:pw,G:hw,H:mw,I:mw,j:O9,L:A9,m:_9,M:N9,p:N,q:j9,Q:E9,s:T9,S:P9,u:x9,U:b9,V:w9,w:v9,W:k9,x:E,X:G,y:pw,Y:hw,Z:S9,"%":C9};b.x=k(r,b),b.X=k(n,b),b.c=k(t,b),S.x=k(r,S),S.X=k(n,S),S.c=k(t,S);function k(K,le){return function(ne){var F=[],ge=-1,he=0,Se=K.length,Ge,Ie,ht;for(ne instanceof Date||(ne=new Date(+ne));++ge<Se;)K.charCodeAt(ge)===37&&(F.push(K.slice(he,ge)),(Ie=dw[Ge=K.charAt(++ge)])!=null?Ge=K.charAt(++ge):Ie=Ge==="e"?" ":"0",(ht=le[Ge])&&(Ge=ht(ne,Ie)),F.push(Ge),he=ge+1);return F.push(K.slice(he,ge)),F.join("")}}function _(K,le){return function(ne){var F=Yl(1900,void 0,1),ge=O(F,K,ne+="",0),he,Se;if(ge!=ne.length)return null;if("Q"in F)return new Date(F.Q);if("s"in F)return new Date(F.s*1e3+("L"in F?F.L:0));if(le&&!("Z"in F)&&(F.Z=0),"p"in F&&(F.H=F.H%12+F.p*12),F.m===void 0&&(F.m="q"in F?F.q:0),"V"in F){if(F.V<1||F.V>53)return null;"w"in F||(F.w=1),"Z"in F?(he=p0(Yl(F.y,0,1)),Se=he.getUTCDay(),he=Se>4||Se===0?Dd.ceil(he):Dd(he),he=ep.offset(he,(F.V-1)*7),F.y=he.getUTCFullYear(),F.m=he.getUTCMonth(),F.d=he.getUTCDate()+(F.w+6)%7):(he=h0(Yl(F.y,0,1)),Se=he.getDay(),he=Se>4||Se===0?$d.ceil(he):$d(he),he=Tu.offset(he,(F.V-1)*7),F.y=he.getFullYear(),F.m=he.getMonth(),F.d=he.getDate()+(F.w+6)%7)}else("W"in F||"U"in F)&&("w"in F||(F.w="u"in F?F.u%7:"W"in F?1:0),Se="Z"in F?p0(Yl(F.y,0,1)).getUTCDay():h0(Yl(F.y,0,1)).getDay(),F.m=0,F.d="W"in F?(F.w+6)%7+F.W*7-(Se+5)%7:F.w+F.U*7-(Se+6)%7);return"Z"in F?(F.H+=F.Z/100|0,F.M+=F.Z%100,p0(F)):h0(F)}}function O(K,le,ne,F){for(var ge=0,he=le.length,Se=ne.length,Ge,Ie;ge<he;){if(F>=Se)return-1;if(Ge=le.charCodeAt(ge++),Ge===37){if(Ge=le.charAt(ge++),Ie=w[Ge in dw?le.charAt(ge++):Ge],!Ie||(F=Ie(K,ne,F))<0)return-1}else if(Ge!=ne.charCodeAt(F++))return-1}return F}function N(K,le,ne){var F=c.exec(le.slice(ne));return F?(K.p=f.get(F[0].toLowerCase()),ne+F[0].length):-1}function P(K,le,ne){var F=p.exec(le.slice(ne));return F?(K.w=y.get(F[0].toLowerCase()),ne+F[0].length):-1}function M(K,le,ne){var F=d.exec(le.slice(ne));return F?(K.w=h.get(F[0].toLowerCase()),ne+F[0].length):-1}function C(K,le,ne){var F=m.exec(le.slice(ne));return F?(K.m=g.get(F[0].toLowerCase()),ne+F[0].length):-1}function $(K,le,ne){var F=v.exec(le.slice(ne));return F?(K.m=x.get(F[0].toLowerCase()),ne+F[0].length):-1}function z(K,le,ne){return O(K,t,le,ne)}function E(K,le,ne){return O(K,r,le,ne)}function G(K,le,ne){return O(K,n,le,ne)}function A(K){return i[K.getDay()]}function I(K){return o[K.getDay()]}function B(K){return l[K.getMonth()]}function W(K){return s[K.getMonth()]}function J(K){return a[+(K.getHours()>=12)]}function q(K){return 1+~~(K.getMonth()/3)}function V(K){return i[K.getUTCDay()]}function ie(K){return o[K.getUTCDay()]}function te(K){return l[K.getUTCMonth()]}function T(K){return s[K.getUTCMonth()]}function oe(K){return a[+(K.getUTCHours()>=12)]}function ue(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var le=k(K+="",b);return le.toString=function(){return K},le},parse:function(K){var le=_(K+="",!1);return le.toString=function(){return K},le},utcFormat:function(K){var le=k(K+="",S);return le.toString=function(){return K},le},utcParse:function(K){var le=_(K+="",!0);return le.toString=function(){return K},le}}}var dw={"-":"",_:" ",0:"0"},Hr=/^\s*\d+/,g9=/^%/,m9=/[\\^$*+?|[\]().{}]/g;function lt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",o=a.length;return n+(o<r?new Array(r-o+1).join(t)+a:a)}function y9(e){return e.replace(m9,"\\$&")}function ql(e){return new RegExp("^(?:"+e.map(y9).join("|")+")","i")}function Zl(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function v9(e,t,r){var n=Hr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function x9(e,t,r){var n=Hr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function b9(e,t,r){var n=Hr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function w9(e,t,r){var n=Hr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function k9(e,t,r){var n=Hr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function hw(e,t,r){var n=Hr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function pw(e,t,r){var n=Hr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function S9(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function j9(e,t,r){var n=Hr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function _9(e,t,r){var n=Hr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function gw(e,t,r){var n=Hr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function O9(e,t,r){var n=Hr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function mw(e,t,r){var n=Hr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function N9(e,t,r){var n=Hr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function P9(e,t,r){var n=Hr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function A9(e,t,r){var n=Hr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function M9(e,t,r){var n=Hr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function C9(e,t,r){var n=g9.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function E9(e,t,r){var n=Hr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function T9(e,t,r){var n=Hr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function yw(e,t){return lt(e.getDate(),t,2)}function $9(e,t){return lt(e.getHours(),t,2)}function D9(e,t){return lt(e.getHours()%12||12,t,2)}function R9(e,t){return lt(1+Tu.count(yo(e),e),t,3)}function hO(e,t){return lt(e.getMilliseconds(),t,3)}function L9(e,t){return hO(e,t)+"000"}function I9(e,t){return lt(e.getMonth()+1,t,2)}function B9(e,t){return lt(e.getMinutes(),t,2)}function F9(e,t){return lt(e.getSeconds(),t,2)}function z9(e){var t=e.getDay();return t===0?7:t}function U9(e,t){return lt(tp.count(yo(e)-1,e),t,2)}function pO(e){var t=e.getDay();return t>=4||t===0?Ws(e):Ws.ceil(e)}function W9(e,t){return e=pO(e),lt(Ws.count(yo(e),e)+(yo(e).getDay()===4),t,2)}function G9(e){return e.getDay()}function H9(e,t){return lt($d.count(yo(e)-1,e),t,2)}function V9(e,t){return lt(e.getFullYear()%100,t,2)}function X9(e,t){return e=pO(e),lt(e.getFullYear()%100,t,2)}function K9(e,t){return lt(e.getFullYear()%1e4,t,4)}function Y9(e,t){var r=e.getDay();return e=r>=4||r===0?Ws(e):Ws.ceil(e),lt(e.getFullYear()%1e4,t,4)}function q9(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+lt(t/60|0,"0",2)+lt(t%60,"0",2)}function vw(e,t){return lt(e.getUTCDate(),t,2)}function Z9(e,t){return lt(e.getUTCHours(),t,2)}function Q9(e,t){return lt(e.getUTCHours()%12||12,t,2)}function J9(e,t){return lt(1+ep.count(vo(e),e),t,3)}function gO(e,t){return lt(e.getUTCMilliseconds(),t,3)}function e7(e,t){return gO(e,t)+"000"}function t7(e,t){return lt(e.getUTCMonth()+1,t,2)}function r7(e,t){return lt(e.getUTCMinutes(),t,2)}function n7(e,t){return lt(e.getUTCSeconds(),t,2)}function a7(e){var t=e.getUTCDay();return t===0?7:t}function o7(e,t){return lt(rp.count(vo(e)-1,e),t,2)}function mO(e){var t=e.getUTCDay();return t>=4||t===0?Gs(e):Gs.ceil(e)}function i7(e,t){return e=mO(e),lt(Gs.count(vo(e),e)+(vo(e).getUTCDay()===4),t,2)}function s7(e){return e.getUTCDay()}function l7(e,t){return lt(Dd.count(vo(e)-1,e),t,2)}function c7(e,t){return lt(e.getUTCFullYear()%100,t,2)}function u7(e,t){return e=mO(e),lt(e.getUTCFullYear()%100,t,2)}function f7(e,t){return lt(e.getUTCFullYear()%1e4,t,4)}function d7(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Gs(e):Gs.ceil(e),lt(e.getUTCFullYear()%1e4,t,4)}function h7(){return"+0000"}function xw(){return"%"}function bw(e){return+e}function ww(e){return Math.floor(+e/1e3)}var rs,yO,vO;p7({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function p7(e){return rs=p9(e),yO=rs.format,rs.parse,vO=rs.utcFormat,rs.utcParse,rs}function g7(e){return new Date(e)}function m7(e){return e instanceof Date?+e:+new Date(+e)}function Iv(e,t,r,n,a,o,i,s,l,c){var f=jv(),d=f.invert,h=f.domain,p=c(".%L"),y=c(":%S"),v=c("%I:%M"),x=c("%I %p"),m=c("%a %d"),g=c("%b %d"),b=c("%B"),S=c("%Y");function w(k){return(l(k)<k?p:s(k)<k?y:i(k)<k?v:o(k)<k?x:n(k)<k?a(k)<k?m:g:r(k)<k?b:S)(k)}return f.invert=function(k){return new Date(d(k))},f.domain=function(k){return arguments.length?h(Array.from(k,m7)):h().map(g7)},f.ticks=function(k){var _=h();return e(_[0],_[_.length-1],k??10)},f.tickFormat=function(k,_){return _==null?w:c(_)},f.nice=function(k){var _=h();return(!k||typeof k.range!="function")&&(k=t(_[0],_[_.length-1],k??10)),k?h(aO(_,k)):f},f.copy=function(){return Eu(f,Iv(e,t,r,n,a,o,i,s,l,c))},f}function y7(){return ma.apply(Iv(d9,h9,yo,Rv,tp,Tu,$v,Ev,_i,yO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function v7(){return ma.apply(Iv(u9,f9,vo,Lv,rp,ep,Dv,Tv,_i,vO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function np(){var e=0,t=1,r,n,a,o,i=jn,s=!1,l;function c(d){return d==null||isNaN(d=+d)?l:i(a===0?.5:(d=(o(d)-r)*a,s?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([e,t]=d,r=o(e=+e),n=o(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(d){return arguments.length?(s=!!d,c):s},c.interpolator=function(d){return arguments.length?(i=d,c):i};function f(d){return function(h){var p,y;return arguments.length?([p,y]=h,i=d(p,y),c):[i(0),i(1)]}}return c.range=f(kl),c.rangeRound=f(Sv),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return o=d,r=d(e),n=d(t),a=r===n?0:1/(n-r),c}}function li(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function xO(){var e=si(np()(jn));return e.copy=function(){return li(e,xO())},ko.apply(e,arguments)}function bO(){var e=Nv(np()).domain([1,10]);return e.copy=function(){return li(e,bO()).base(e.base())},ko.apply(e,arguments)}function wO(){var e=Pv(np());return e.copy=function(){return li(e,wO()).constant(e.constant())},ko.apply(e,arguments)}function Bv(){var e=Av(np());return e.copy=function(){return li(e,Bv()).exponent(e.exponent())},ko.apply(e,arguments)}function x7(){return Bv.apply(null,arguments).exponent(.5)}function kO(){var e=[],t=jn;function r(n){if(n!=null&&!isNaN(n=+n))return t((Mu(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Qo),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,o)=>oz(e,o/n))},r.copy=function(){return kO(t).domain(e)},ko.apply(r,arguments)}function ap(){var e=0,t=.5,r=1,n=1,a,o,i,s,l,c=jn,f,d=!1,h;function p(v){return isNaN(v=+v)?h:(v=.5+((v=+f(v))-o)*(n*v<n*o?s:l),c(d?Math.max(0,Math.min(1,v)):v))}p.domain=function(v){return arguments.length?([e,t,r]=v,a=f(e=+e),o=f(t=+t),i=f(r=+r),s=a===o?0:.5/(o-a),l=o===i?0:.5/(i-o),n=o<a?-1:1,p):[e,t,r]},p.clamp=function(v){return arguments.length?(d=!!v,p):d},p.interpolator=function(v){return arguments.length?(c=v,p):c};function y(v){return function(x){var m,g,b;return arguments.length?([m,g,b]=x,c=Cz(v,[m,g,b]),p):[c(0),c(.5),c(1)]}}return p.range=y(kl),p.rangeRound=y(Sv),p.unknown=function(v){return arguments.length?(h=v,p):h},function(v){return f=v,a=v(e),o=v(t),i=v(r),s=a===o?0:.5/(o-a),l=o===i?0:.5/(i-o),n=o<a?-1:1,p}}function SO(){var e=si(ap()(jn));return e.copy=function(){return li(e,SO())},ko.apply(e,arguments)}function jO(){var e=Nv(ap()).domain([.1,1,10]);return e.copy=function(){return li(e,jO()).base(e.base())},ko.apply(e,arguments)}function _O(){var e=Pv(ap());return e.copy=function(){return li(e,_O()).constant(e.constant())},ko.apply(e,arguments)}function Fv(){var e=Av(ap());return e.copy=function(){return li(e,Fv()).exponent(e.exponent())},ko.apply(e,arguments)}function b7(){return Fv.apply(null,arguments).exponent(.5)}const kw=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Yc,scaleDiverging:SO,scaleDivergingLog:jO,scaleDivergingPow:Fv,scaleDivergingSqrt:b7,scaleDivergingSymlog:_O,scaleIdentity:nO,scaleImplicit:em,scaleLinear:Ed,scaleLog:oO,scaleOrdinal:bv,scalePoint:yc,scalePow:Mv,scaleQuantile:lO,scaleQuantize:cO,scaleRadial:sO,scaleSequential:xO,scaleSequentialLog:bO,scaleSequentialPow:Bv,scaleSequentialQuantile:kO,scaleSequentialSqrt:x7,scaleSequentialSymlog:wO,scaleSqrt:e9,scaleSymlog:iO,scaleThreshold:uO,scaleTime:y7,scaleUtc:v7,tickFormat:rO},Symbol.toStringTag,{value:"Module"}));var w7=hl;function k7(e,t,r){for(var n=-1,a=e.length;++n<a;){var o=e[n],i=t(o);if(i!=null&&(s===void 0?i===i&&!w7(i):r(i,s)))var s=i,l=o}return l}var OO=k7;function S7(e,t){return e>t}var j7=S7,_7=OO,O7=j7,N7=wl;function P7(e){return e&&e.length?_7(e,N7,O7):void 0}var A7=P7;const Fo=Dt(A7);function M7(e,t){return e<t}var C7=M7,E7=OO,T7=C7,$7=wl;function D7(e){return e&&e.length?E7(e,$7,T7):void 0}var R7=D7;const op=Dt(R7);var L7=ev,I7=oi,B7=R_,F7=Bn;function z7(e,t){var r=F7(e)?L7:B7;return r(e,I7(t))}var U7=z7,W7=$_,G7=U7;function H7(e,t){return W7(G7(e,t),1)}var V7=H7;const X7=Dt(V7);var K7=pv;function Y7(e,t){return K7(e,t)}var q7=Y7;const zi=Dt(q7);var Sl=1e9,Z7={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Uv,rr=!0,pa="[DecimalError] ",Ei=pa+"Invalid argument: ",zv=pa+"Exponent out of range: ",jl=Math.floor,xi=Math.pow,Q7=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Vn,Ur=1e7,Zt=7,NO=9007199254740991,Rd=jl(NO/Zt),be={};be.absoluteValue=be.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};be.comparedTo=be.cmp=function(e){var t,r,n,a,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===a?0:n>a^o.s<0?1:-1};be.decimalPlaces=be.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Zt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};be.dividedBy=be.div=function(e){return uo(this,new this.constructor(e))};be.dividedToIntegerBy=be.idiv=function(e){var t=this,r=t.constructor;return $t(uo(t,new r(e),0,1),r.precision)};be.equals=be.eq=function(e){return!this.cmp(e)};be.exponent=function(){return jr(this)};be.greaterThan=be.gt=function(e){return this.cmp(e)>0};be.greaterThanOrEqualTo=be.gte=function(e){return this.cmp(e)>=0};be.isInteger=be.isint=function(){return this.e>this.d.length-2};be.isNegative=be.isneg=function(){return this.s<0};be.isPositive=be.ispos=function(){return this.s>0};be.isZero=function(){return this.s===0};be.lessThan=be.lt=function(e){return this.cmp(e)<0};be.lessThanOrEqualTo=be.lte=function(e){return this.cmp(e)<1};be.logarithm=be.log=function(e){var t,r=this,n=r.constructor,a=n.precision,o=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Vn))throw Error(pa+"NaN");if(r.s<1)throw Error(pa+(r.s?"NaN":"-Infinity"));return r.eq(Vn)?new n(0):(rr=!1,t=uo(eu(r,o),eu(e,o),o),rr=!0,$t(t,a))};be.minus=be.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?MO(t,e):PO(t,(e.s=-e.s,e))};be.modulo=be.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(pa+"NaN");return r.s?(rr=!1,t=uo(r,e,0,1).times(e),rr=!0,r.minus(t)):$t(new n(r),a)};be.naturalExponential=be.exp=function(){return AO(this)};be.naturalLogarithm=be.ln=function(){return eu(this)};be.negated=be.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};be.plus=be.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?PO(t,e):MO(t,(e.s=-e.s,e))};be.precision=be.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ei+e);if(t=jr(a)+1,n=a.d.length-1,r=n*Zt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};be.squareRoot=be.sqrt=function(){var e,t,r,n,a,o,i,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(pa+"NaN")}for(e=jr(s),rr=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=za(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=jl((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=i=r+3;;)if(o=n,n=o.plus(uo(s,o,i+2)).times(.5),za(o.d).slice(0,i)===(t=za(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if($t(o,r+1,0),o.times(o).eq(s)){n=o;break}}else if(t!="9999")break;i+=4}return rr=!0,$t(n,r)};be.times=be.mul=function(e){var t,r,n,a,o,i,s,l,c,f=this,d=f.constructor,h=f.d,p=(e=new d(e)).d;if(!f.s||!e.s)return new d(0);for(e.s*=f.s,r=f.e+e.e,l=h.length,c=p.length,l<c&&(o=h,h=p,p=o,i=l,l=c,c=i),o=[],i=l+c,n=i;n--;)o.push(0);for(n=c;--n>=0;){for(t=0,a=l+n;a>n;)s=o[a]+p[n]*h[a-n-1]+t,o[a--]=s%Ur|0,t=s/Ur|0;o[a]=(o[a]+t)%Ur|0}for(;!o[--i];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,rr?$t(e,d.precision):e};be.toDecimalPlaces=be.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ka(e,0,Sl),t===void 0?t=n.rounding:Ka(t,0,8),$t(r,e+jr(r)+1,t))};be.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Ui(n,!0):(Ka(e,0,Sl),t===void 0?t=a.rounding:Ka(t,0,8),n=$t(new a(n),e+1,t),r=Ui(n,!0,e+1)),r};be.toFixed=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?Ui(a):(Ka(e,0,Sl),t===void 0?t=o.rounding:Ka(t,0,8),n=$t(new o(a),e+jr(a)+1,t),r=Ui(n.abs(),!1,e+jr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};be.toInteger=be.toint=function(){var e=this,t=e.constructor;return $t(new t(e),jr(e)+1,t.rounding)};be.toNumber=function(){return+this};be.toPower=be.pow=function(e){var t,r,n,a,o,i,s=this,l=s.constructor,c=12,f=+(e=new l(e));if(!e.s)return new l(Vn);if(s=new l(s),!s.s){if(e.s<1)throw Error(pa+"Infinity");return s}if(s.eq(Vn))return s;if(n=l.precision,e.eq(Vn))return $t(s,n);if(t=e.e,r=e.d.length-1,i=t>=r,o=s.s,i){if((r=f<0?-f:f)<=NO){for(a=new l(Vn),t=Math.ceil(n/Zt+4),rr=!1;r%2&&(a=a.times(s),jw(a.d,t)),r=jl(r/2),r!==0;)s=s.times(s),jw(s.d,t);return rr=!0,e.s<0?new l(Vn).div(a):$t(a,n)}}else if(o<0)throw Error(pa+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,rr=!1,a=e.times(eu(s,n+c)),rr=!0,a=AO(a),a.s=o,a};be.toPrecision=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?(r=jr(a),n=Ui(a,r<=o.toExpNeg||r>=o.toExpPos)):(Ka(e,1,Sl),t===void 0?t=o.rounding:Ka(t,0,8),a=$t(new o(a),e,t),r=jr(a),n=Ui(a,e<=r||r<=o.toExpNeg,e)),n};be.toSignificantDigits=be.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ka(e,1,Sl),t===void 0?t=n.rounding:Ka(t,0,8)),$t(new n(r),e,t)};be.toString=be.valueOf=be.val=be.toJSON=be[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=jr(e),r=e.constructor;return Ui(e,t<=r.toExpNeg||t>=r.toExpPos)};function PO(e,t){var r,n,a,o,i,s,l,c,f=e.constructor,d=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),rr?$t(t,d):t;if(l=e.d,c=t.d,i=e.e,a=t.e,l=l.slice(),o=i-a,o){for(o<0?(n=l,o=-o,s=c.length):(n=c,a=i,s=l.length),i=Math.ceil(d/Zt),s=i>s?i+1:s+1,o>s&&(o=s,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(s=l.length,o=c.length,s-o<0&&(o=s,n=c,c=l,l=n),r=0;o;)r=(l[--o]=l[o]+c[o]+r)/Ur|0,l[o]%=Ur;for(r&&(l.unshift(r),++a),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=a,rr?$t(t,d):t}function Ka(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ei+e)}function za(e){var t,r,n,a=e.length-1,o="",i=e[0];if(a>0){for(o+=i,t=1;t<a;t++)n=e[t]+"",r=Zt-n.length,r&&(o+=$o(r)),o+=n;i=e[t],n=i+"",r=Zt-n.length,r&&(o+=$o(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return o+i}var uo=function(){function e(n,a){var o,i=0,s=n.length;for(n=n.slice();s--;)o=n[s]*a+i,n[s]=o%Ur|0,i=o/Ur|0;return i&&n.unshift(i),n}function t(n,a,o,i){var s,l;if(o!=i)l=o>i?1:-1;else for(s=l=0;s<o;s++)if(n[s]!=a[s]){l=n[s]>a[s]?1:-1;break}return l}function r(n,a,o){for(var i=0;o--;)n[o]-=i,i=n[o]<a[o]?1:0,n[o]=i*Ur+n[o]-a[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,o,i){var s,l,c,f,d,h,p,y,v,x,m,g,b,S,w,k,_,O,N=n.constructor,P=n.s==a.s?1:-1,M=n.d,C=a.d;if(!n.s)return new N(n);if(!a.s)throw Error(pa+"Division by zero");for(l=n.e-a.e,_=C.length,w=M.length,p=new N(P),y=p.d=[],c=0;C[c]==(M[c]||0);)++c;if(C[c]>(M[c]||0)&&--l,o==null?g=o=N.precision:i?g=o+(jr(n)-jr(a))+1:g=o,g<0)return new N(0);if(g=g/Zt+2|0,c=0,_==1)for(f=0,C=C[0],g++;(c<w||f)&&g--;c++)b=f*Ur+(M[c]||0),y[c]=b/C|0,f=b%C|0;else{for(f=Ur/(C[0]+1)|0,f>1&&(C=e(C,f),M=e(M,f),_=C.length,w=M.length),S=_,v=M.slice(0,_),x=v.length;x<_;)v[x++]=0;O=C.slice(),O.unshift(0),k=C[0],C[1]>=Ur/2&&++k;do f=0,s=t(C,v,_,x),s<0?(m=v[0],_!=x&&(m=m*Ur+(v[1]||0)),f=m/k|0,f>1?(f>=Ur&&(f=Ur-1),d=e(C,f),h=d.length,x=v.length,s=t(d,v,h,x),s==1&&(f--,r(d,_<h?O:C,h))):(f==0&&(s=f=1),d=C.slice()),h=d.length,h<x&&d.unshift(0),r(v,d,x),s==-1&&(x=v.length,s=t(C,v,_,x),s<1&&(f++,r(v,_<x?O:C,x))),x=v.length):s===0&&(f++,v=[0]),y[c++]=f,s&&v[0]?v[x++]=M[S]||0:(v=[M[S]],x=1);while((S++<w||v[0]!==void 0)&&g--)}return y[0]||y.shift(),p.e=l,$t(p,i?o+jr(p)+1:o)}}();function AO(e,t){var r,n,a,o,i,s,l=0,c=0,f=e.constructor,d=f.precision;if(jr(e)>16)throw Error(zv+jr(e));if(!e.s)return new f(Vn);for(rr=!1,s=d,i=new f(.03125);e.abs().gte(.1);)e=e.times(i),c+=5;for(n=Math.log(xi(2,c))/Math.LN10*2+5|0,s+=n,r=a=o=new f(Vn),f.precision=s;;){if(a=$t(a.times(e),s),r=r.times(++l),i=o.plus(uo(a,r,s)),za(i.d).slice(0,s)===za(o.d).slice(0,s)){for(;c--;)o=$t(o.times(o),s);return f.precision=d,t==null?(rr=!0,$t(o,d)):o}o=i}}function jr(e){for(var t=e.e*Zt,r=e.d[0];r>=10;r/=10)t++;return t}function g0(e,t,r){if(t>e.LN10.sd())throw rr=!0,r&&(e.precision=r),Error(pa+"LN10 precision limit exceeded");return $t(new e(e.LN10),t)}function $o(e){for(var t="";e--;)t+="0";return t}function eu(e,t){var r,n,a,o,i,s,l,c,f,d=1,h=10,p=e,y=p.d,v=p.constructor,x=v.precision;if(p.s<1)throw Error(pa+(p.s?"NaN":"-Infinity"));if(p.eq(Vn))return new v(0);if(t==null?(rr=!1,c=x):c=t,p.eq(10))return t==null&&(rr=!0),g0(v,c);if(c+=h,v.precision=c,r=za(y),n=r.charAt(0),o=jr(p),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=za(p.d),n=r.charAt(0),d++;o=jr(p),n>1?(p=new v("0."+r),o++):p=new v(n+"."+r.slice(1))}else return l=g0(v,c+2,x).times(o+""),p=eu(new v(n+"."+r.slice(1)),c-h).plus(l),v.precision=x,t==null?(rr=!0,$t(p,x)):p;for(s=i=p=uo(p.minus(Vn),p.plus(Vn),c),f=$t(p.times(p),c),a=3;;){if(i=$t(i.times(f),c),l=s.plus(uo(i,new v(a),c)),za(l.d).slice(0,c)===za(s.d).slice(0,c))return s=s.times(2),o!==0&&(s=s.plus(g0(v,c+2,x).times(o+""))),s=uo(s,new v(d),c),v.precision=x,t==null?(rr=!0,$t(s,x)):s;s=l,a+=2}}function Sw(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=jl(r/Zt),e.d=[],n=(r+1)%Zt,r<0&&(n+=Zt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Zt;n<a;)e.d.push(+t.slice(n,n+=Zt));t=t.slice(n),n=Zt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),rr&&(e.e>Rd||e.e<-Rd))throw Error(zv+r)}else e.s=0,e.e=0,e.d=[0];return e}function $t(e,t,r){var n,a,o,i,s,l,c,f,d=e.d;for(i=1,o=d[0];o>=10;o/=10)i++;if(n=t-i,n<0)n+=Zt,a=t,c=d[f=0];else{if(f=Math.ceil((n+1)/Zt),o=d.length,f>=o)return e;for(c=o=d[f],i=1;o>=10;o/=10)i++;n%=Zt,a=n-Zt+i}if(r!==void 0&&(o=xi(10,i-a-1),s=c/o%10|0,l=t<0||d[f+1]!==void 0||c%o,l=r<4?(s||l)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?a>0?c/xi(10,i-a):0:d[f-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return l?(o=jr(e),d.length=1,t=t-o-1,d[0]=xi(10,(Zt-t%Zt)%Zt),e.e=jl(-t/Zt)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=f,o=1,f--):(d.length=f+1,o=xi(10,Zt-n),d[f]=a>0?(c/xi(10,i-a)%xi(10,a)|0)*o:0),l)for(;;)if(f==0){(d[0]+=o)==Ur&&(d[0]=1,++e.e);break}else{if(d[f]+=o,d[f]!=Ur)break;d[f--]=0,o=1}for(n=d.length;d[--n]===0;)d.pop();if(rr&&(e.e>Rd||e.e<-Rd))throw Error(zv+jr(e));return e}function MO(e,t){var r,n,a,o,i,s,l,c,f,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),rr?$t(t,p):t;if(l=e.d,d=t.d,n=t.e,c=e.e,l=l.slice(),i=c-n,i){for(f=i<0,f?(r=l,i=-i,s=d.length):(r=d,n=c,s=l.length),a=Math.max(Math.ceil(p/Zt),s)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=l.length,s=d.length,f=a<s,f&&(s=a),a=0;a<s;a++)if(l[a]!=d[a]){f=l[a]<d[a];break}i=0}for(f&&(r=l,l=d,d=r,t.s=-t.s),s=l.length,a=d.length-s;a>0;--a)l[s++]=0;for(a=d.length;a>i;){if(l[--a]<d[a]){for(o=a;o&&l[--o]===0;)l[o]=Ur-1;--l[o],l[a]+=Ur}l[a]-=d[a]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,rr?$t(t,p):t):new h(0)}function Ui(e,t,r){var n,a=jr(e),o=za(e.d),i=o.length;return t?(r&&(n=r-i)>0?o=o.charAt(0)+"."+o.slice(1)+$o(n):i>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+$o(-a-1)+o,r&&(n=r-i)>0&&(o+=$o(n))):a>=i?(o+=$o(a+1-i),r&&(n=r-a-1)>0&&(o=o+"."+$o(n))):((n=a+1)<i&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(o+="."),o+=$o(n))),e.s<0?"-"+o:o}function jw(e,t){if(e.length>t)return e.length=t,!0}function CO(e){var t,r,n;function a(o){var i=this;if(!(i instanceof a))return new a(o);if(i.constructor=a,o instanceof a){i.s=o.s,i.e=o.e,i.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Ei+o);if(o>0)i.s=1;else if(o<0)o=-o,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(o===~~o&&o<1e7){i.e=0,i.d=[o];return}return Sw(i,o.toString())}else if(typeof o!="string")throw Error(Ei+o);if(o.charCodeAt(0)===45?(o=o.slice(1),i.s=-1):i.s=1,Q7.test(o))Sw(i,o);else throw Error(Ei+o)}if(a.prototype=be,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=CO,a.config=a.set=J7,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function J7(e){if(!e||typeof e!="object")throw Error(pa+"Object expected");var t,r,n,a=["precision",1,Sl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(jl(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Ei+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ei+r+": "+n);return this}var Uv=CO(Z7);Vn=new Uv(1);const Nt=Uv;function eU(e){return aU(e)||nU(e)||rU(e)||tU()}function tU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rU(e,t){if(e){if(typeof e=="string")return am(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return am(e,t)}}function nU(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function aU(e){if(Array.isArray(e))return am(e)}function am(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var oU=function(t){return t},EO={},TO=function(t){return t===EO},_w=function(t){return function r(){return arguments.length===0||arguments.length===1&&TO(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},iU=function e(t,r){return t===1?r:_w(function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];var i=a.filter(function(s){return s!==EO}).length;return i>=t?r.apply(void 0,a):e(t-i,_w(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var f=a.map(function(d){return TO(d)?l.shift():d});return r.apply(void 0,eU(f).concat(l))}))})},ip=function(t){return iU(t.length,t)},om=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},sU=ip(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),lU=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return oU;var a=r.reverse(),o=a[0],i=a.slice(1);return function(){return i.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},im=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},$O=function(t){var r=null,n=null;return function(){for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return r&&o.every(function(s,l){return s===r[l]})||(r=o,n=t.apply(void 0,o)),n}};function cU(e){var t;return e===0?t=1:t=Math.floor(new Nt(e).abs().log(10).toNumber())+1,t}function uU(e,t,r){for(var n=new Nt(e),a=0,o=[];n.lt(t)&&a<1e5;)o.push(n.toNumber()),n=n.add(r),a++;return o}var fU=ip(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),dU=ip(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),hU=ip(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const sp={rangeStep:uU,getDigitCount:cU,interpolateNumber:fU,uninterpolateNumber:dU,uninterpolateTruncation:hU};function sm(e){return mU(e)||gU(e)||DO(e)||pU()}function pU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gU(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function mU(e){if(Array.isArray(e))return lm(e)}function tu(e,t){return xU(e)||vU(e,t)||DO(e,t)||yU()}function yU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DO(e,t){if(e){if(typeof e=="string")return lm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lm(e,t)}}function lm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vU(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,o=void 0;try{for(var i=e[Symbol.iterator](),s;!(n=(s=i.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(l){a=!0,o=l}finally{try{!n&&i.return!=null&&i.return()}finally{if(a)throw o}}return r}}function xU(e){if(Array.isArray(e))return e}function RO(e){var t=tu(e,2),r=t[0],n=t[1],a=r,o=n;return r>n&&(a=n,o=r),[a,o]}function LO(e,t,r){if(e.lte(0))return new Nt(0);var n=sp.getDigitCount(e.toNumber()),a=new Nt(10).pow(n),o=e.div(a),i=n!==1?.05:.1,s=new Nt(Math.ceil(o.div(i).toNumber())).add(r).mul(i),l=s.mul(a);return t?l:new Nt(Math.ceil(l))}function bU(e,t,r){var n=1,a=new Nt(e);if(!a.isint()&&r){var o=Math.abs(e);o<1?(n=new Nt(10).pow(sp.getDigitCount(e)-1),a=new Nt(Math.floor(a.div(n).toNumber())).mul(n)):o>1&&(a=new Nt(Math.floor(e)))}else e===0?a=new Nt(Math.floor((t-1)/2)):r||(a=new Nt(Math.floor(e)));var i=Math.floor((t-1)/2),s=lU(sU(function(l){return a.add(new Nt(l-i).mul(n)).toNumber()}),om);return s(0,t)}function IO(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Nt(0),tickMin:new Nt(0),tickMax:new Nt(0)};var o=LO(new Nt(t).sub(e).div(r-1),n,a),i;e<=0&&t>=0?i=new Nt(0):(i=new Nt(e).add(t).div(2),i=i.sub(new Nt(i).mod(o)));var s=Math.ceil(i.sub(e).div(o).toNumber()),l=Math.ceil(new Nt(t).sub(i).div(o).toNumber()),c=s+l+1;return c>r?IO(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,s=t>0?s:s+(r-c)),{step:o,tickMin:i.sub(new Nt(s).mul(o)),tickMax:i.add(new Nt(l).mul(o))})}function wU(e){var t=tu(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),s=RO([r,n]),l=tu(s,2),c=l[0],f=l[1];if(c===-1/0||f===1/0){var d=f===1/0?[c].concat(sm(om(0,a-1).map(function(){return 1/0}))):[].concat(sm(om(0,a-1).map(function(){return-1/0})),[f]);return r>n?im(d):d}if(c===f)return bU(c,a,o);var h=IO(c,f,i,o),p=h.step,y=h.tickMin,v=h.tickMax,x=sp.rangeStep(y,v.add(new Nt(.1).mul(p)),p);return r>n?im(x):x}function kU(e,t){var r=tu(e,2),n=r[0],a=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=RO([n,a]),s=tu(i,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,a];if(l===c)return[l];var f=Math.max(t,2),d=LO(new Nt(c).sub(l).div(f-1),o,0),h=[].concat(sm(sp.rangeStep(new Nt(l),new Nt(c).sub(new Nt(.99).mul(d)),d)),[c]);return n>a?im(h):h}var SU=$O(wU),jU=$O(kU),_U="Invariant failed";function Wi(e,t){throw new Error(_U)}var OU=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Hs(e){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hs(e)}function Ld(){return Ld=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ld.apply(this,arguments)}function NU(e,t){return CU(e)||MU(e,t)||AU(e,t)||PU()}function PU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AU(e,t){if(e){if(typeof e=="string")return Ow(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ow(e,t)}}function Ow(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function MU(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function CU(e){if(Array.isArray(e))return e}function EU(e,t){if(e==null)return{};var r=TU(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function TU(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zO(n.key),n)}}function RU(e,t,r){return t&&DU(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function LU(e,t,r){return t=Id(t),IU(e,BO()?Reflect.construct(t,r||[],Id(e).constructor):t.apply(e,r))}function IU(e,t){if(t&&(Hs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BU(e)}function BU(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BO=function(){return!!e})()}function Id(e){return Id=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Id(e)}function FU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cm(e,t)}function cm(e,t){return cm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cm(e,t)}function FO(e,t,r){return t=zO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zO(e){var t=zU(e,"string");return Hs(t)=="symbol"?t:t+""}function zU(e,t){if(Hs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _l=function(e){function t(){return $U(this,t),LU(this,t,arguments)}return FU(t,e),RU(t,[{key:"render",value:function(){var n=this.props,a=n.offset,o=n.layout,i=n.width,s=n.dataKey,l=n.data,c=n.dataPointFormatter,f=n.xAxis,d=n.yAxis,h=EU(n,OU),p=ze(h,!1);this.props.direction==="x"&&f.type!=="number"&&Wi();var y=l.map(function(v){var x=c(v,s),m=x.x,g=x.y,b=x.value,S=x.errorVal;if(!S)return null;var w=[],k,_;if(Array.isArray(S)){var O=NU(S,2);k=O[0],_=O[1]}else k=_=S;if(o==="vertical"){var N=f.scale,P=g+a,M=P+i,C=P-i,$=N(b-k),z=N(b+_);w.push({x1:z,y1:M,x2:z,y2:C}),w.push({x1:$,y1:P,x2:z,y2:P}),w.push({x1:$,y1:M,x2:$,y2:C})}else if(o==="horizontal"){var E=d.scale,G=m+a,A=G-i,I=G+i,B=E(b-k),W=E(b+_);w.push({x1:A,y1:W,x2:I,y2:W}),w.push({x1:G,y1:B,x2:G,y2:W}),w.push({x1:A,y1:B,x2:I,y2:B})}return D.createElement(dt,Ld({className:"recharts-errorBar",key:"bar-".concat(w.map(function(J){return"".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))},p),w.map(function(J){return D.createElement("line",Ld({},J,{key:"line-".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))}))});return D.createElement(dt,{className:"recharts-errorBars"},y)}}])}(D.Component);FO(_l,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});FO(_l,"displayName","ErrorBar");function ru(e){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ru(e)}function Nw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function di(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nw(Object(r),!0).forEach(function(n){UU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UU(e,t,r){return t=WU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WU(e){var t=GU(e,"string");return ru(t)=="symbol"?t:t+""}function GU(e,t){if(ru(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ru(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UO=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,o=t.legendContent,i=Hn(r,co);if(!i)return null;var s=co.defaultProps,l=s!==void 0?di(di({},s),i.props):{},c;return i.props&&i.props.payload?c=i.props&&i.props.payload:o==="children"?c=(n||[]).reduce(function(f,d){var h=d.item,p=d.props,y=p.sectors||p.data||[];return f.concat(y.map(function(v){return{type:i.props.iconType||h.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):c=(n||[]).map(function(f){var d=f.item,h=d.type.defaultProps,p=h!==void 0?di(di({},h),d.props):{},y=p.dataKey,v=p.name,x=p.legendType,m=p.hide;return{inactive:m,dataKey:y,type:l.iconType||x||"square",color:Wv(d),value:v||y,payload:p}}),di(di(di({},l),co.getWithHeight(i,a)),{},{payload:c,item:i})};function nu(e){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nu(e)}function Pw(e){return KU(e)||XU(e)||VU(e)||HU()}function HU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VU(e,t){if(e){if(typeof e=="string")return um(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return um(e,t)}}function XU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function KU(e){if(Array.isArray(e))return um(e)}function um(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Aw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Aw(Object(r),!0).forEach(function(n){Ps(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Aw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ps(e,t,r){return t=YU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YU(e){var t=qU(e,"string");return nu(t)=="symbol"?t:t+""}function qU(e,t){if(nu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rr(e,t,r){return Be(e)||Be(t)?r:Dr(t)?fa(e,t,r):We(t)?t(e):r}function vc(e,t,r,n){var a=X7(e,function(s){return Rr(s,t)});if(r==="number"){var o=a.filter(function(s){return fe(s)||parseFloat(s)});return o.length?[op(o),Fo(o)]:[1/0,-1/0]}var i=n?a.filter(function(s){return!Be(s)}):a;return i.map(function(s){return Dr(s)||s instanceof Date?s:""})}var ZU=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,c=0;c<s;c++){var f=c>0?a[c-1].coordinate:a[s-1].coordinate,d=a[c].coordinate,h=c>=s-1?a[0].coordinate:a[c+1].coordinate,p=void 0;if(Pa(d-f)!==Pa(h-d)){var y=[];if(Pa(h-d)===Pa(l[1]-l[0])){p=h;var v=d+l[1]-l[0];y[0]=Math.min(v,(v+f)/2),y[1]=Math.max(v,(v+f)/2)}else{p=f;var x=h+l[1]-l[0];y[0]=Math.min(d,(x+d)/2),y[1]=Math.max(d,(x+d)/2)}var m=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(t>m[0]&&t<=m[1]||t>=y[0]&&t<=y[1]){i=a[c].index;break}}else{var g=Math.min(f,h),b=Math.max(f,h);if(t>(g+d)/2&&t<=(b+d)/2){i=a[c].index;break}}}else for(var S=0;S<s;S++)if(S===0&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<s-1&&t>(n[S].coordinate+n[S-1].coordinate)/2&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S===s-1&&t>(n[S].coordinate+n[S-1].coordinate)/2){i=n[S].index;break}return i},Wv=function(t){var r,n=t,a=n.type.displayName,o=(r=t.type)!==null&&r!==void 0&&r.defaultProps?pr(pr({},t.type.defaultProps),t.props):t.props,i=o.stroke,s=o.fill,l;switch(a){case"Line":l=i;break;case"Area":case"Radar":l=i&&i!=="none"?i:s;break;default:l=s;break}return l},QU=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,o=a===void 0?{}:a;if(!o)return{};for(var i={},s=Object.keys(o),l=0,c=s.length;l<c;l++)for(var f=o[s[l]].stackGroups,d=Object.keys(f),h=0,p=d.length;h<p;h++){var y=f[d[h]],v=y.items,x=y.cateAxisId,m=v.filter(function(_){return so(_.type).indexOf("Bar")>=0});if(m&&m.length){var g=m[0].type.defaultProps,b=g!==void 0?pr(pr({},g),m[0].props):m[0].props,S=b.barSize,w=b[x];i[w]||(i[w]=[]);var k=Be(S)?r:S;i[w].push({item:m[0],stackList:m.slice(1),barSize:Be(k)?void 0:Fi(k,n,0)})}}return i},JU=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,o=t.sizeList,i=o===void 0?[]:o,s=t.maxBarSize,l=i.length;if(l<1)return null;var c=Fi(r,a,0,!0),f,d=[];if(i[0].barSize===+i[0].barSize){var h=!1,p=a/l,y=i.reduce(function(S,w){return S+w.barSize||0},0);y+=(l-1)*c,y>=a&&(y-=(l-1)*c,c=0),y>=a&&p>0&&(h=!0,p*=.9,y=l*p);var v=(a-y)/2>>0,x={offset:v-c,size:0};f=i.reduce(function(S,w){var k={item:w.item,position:{offset:x.offset+x.size+c,size:h?p:w.barSize}},_=[].concat(Pw(S),[k]);return x=_[_.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(O){_.push({item:O,position:x})}),_},d)}else{var m=Fi(n,a,0,!0);a-2*m-(l-1)*c<=0&&(c=0);var g=(a-2*m-(l-1)*c)/l;g>1&&(g>>=0);var b=s===+s?Math.min(g,s):g;f=i.reduce(function(S,w,k){var _=[].concat(Pw(S),[{item:w.item,position:{offset:m+(g+c)*k+(g-b)/2,size:b}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(O){_.push({item:O,position:_[_.length-1].position})}),_},d)}return f},eW=function(t,r,n,a){var o=n.children,i=n.width,s=n.margin,l=i-(s.left||0)-(s.right||0),c=UO({children:o,legendWidth:l});if(c){var f=a||{},d=f.width,h=f.height,p=c.align,y=c.verticalAlign,v=c.layout;if((v==="vertical"||v==="horizontal"&&y==="middle")&&p!=="center"&&fe(t[p]))return pr(pr({},t),{},Ps({},p,t[p]+(d||0)));if((v==="horizontal"||v==="vertical"&&p==="center")&&y!=="middle"&&fe(t[y]))return pr(pr({},t),{},Ps({},y,t[y]+(h||0)))}return t},tW=function(t,r,n){return Be(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},WO=function(t,r,n,a,o){var i=r.props.children,s=In(i,_l).filter(function(c){return tW(a,o,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return t.reduce(function(c,f){var d=Rr(f,n);if(Be(d))return c;var h=Array.isArray(d)?[op(d),Fo(d)]:[d,d],p=l.reduce(function(y,v){var x=Rr(f,v,0),m=h[0]-Math.abs(Array.isArray(x)?x[0]:x),g=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(m,y[0]),Math.max(g,y[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},rW=function(t,r,n,a,o){var i=r.map(function(s){return WO(t,s,n,o,a)}).filter(function(s){return!Be(s)});return i&&i.length?i.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},GO=function(t,r,n,a,o){var i=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&WO(t,l,c,a)||vc(t,c,n,o)});if(n==="number")return i.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return i.reduce(function(l,c){for(var f=0,d=c.length;f<d;f++)s[c[f]]||(s[c[f]]=!0,l.push(c[f]));return l},[])},HO=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},VO=function(t,r,n,a){if(a)return t.map(function(l){return l.coordinate});var o,i,s=t.map(function(l){return l.coordinate===r&&(o=!0),l.coordinate===n&&(i=!0),l.coordinate});return o||s.push(r),i||s.push(n),s},oo=function(t,r,n){if(!t)return null;var a=t.scale,o=t.duplicateDomain,i=t.type,s=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,c=(r||n)&&i==="category"&&a.bandwidth?a.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Pa(s[0]-s[1])*2*c:c,r&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(d){var h=o?o.indexOf(d):d;return{coordinate:a(h)+c,value:d,offset:c}});return f.filter(function(d){return!vl(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,h){return{coordinate:a(d)+c,value:d,index:h,offset:c}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(d){return{coordinate:a(d)+c,value:d,offset:c}}):a.domain().map(function(d,h){return{coordinate:a(d)+c,value:o?o[d]:d,index:h,offset:c}})},m0=new WeakMap,vf=function(t,r){if(typeof r!="function")return t;m0.has(t)||m0.set(t,new WeakMap);var n=m0.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},nW=function(t,r,n){var a=t.scale,o=t.type,i=t.layout,s=t.axisType;if(a==="auto")return i==="radial"&&s==="radiusAxis"?{scale:Yc(),realScaleType:"band"}:i==="radial"&&s==="angleAxis"?{scale:Ed(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:yc(),realScaleType:"point"}:o==="category"?{scale:Yc(),realScaleType:"band"}:{scale:Ed(),realScaleType:"linear"};if(Bi(a)){var l="scale".concat(Hh(a));return{scale:(kw[l]||yc)(),realScaleType:kw[l]?l:"point"}}return We(a)?{scale:a}:{scale:yc(),realScaleType:"point"}},Mw=1e-4,aW=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),o=Math.min(a[0],a[1])-Mw,i=Math.max(a[0],a[1])+Mw,s=t(r[0]),l=t(r[n-1]);(s<o||s>i||l<o||l>i)&&t.domain([r[0],r[n-1]])}},oW=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},iW=function(t,r){if(!r||r.length!==2||!fe(r[0])||!fe(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),o=[t[0],t[1]];return(!fe(t[0])||t[0]<n)&&(o[0]=n),(!fe(t[1])||t[1]>a)&&(o[1]=a),o[0]>a&&(o[0]=a),o[1]<n&&(o[1]=n),o},sW=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var o=0,i=0,s=0;s<r;++s){var l=vl(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=o,t[s][n][1]=o+l,o=t[s][n][1]):(t[s][n][0]=i,t[s][n][1]=i+l,i=t[s][n][1])}},lW=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var o=0,i=0;i<r;++i){var s=vl(t[i][n][1])?t[i][n][0]:t[i][n][1];s>=0?(t[i][n][0]=o,t[i][n][1]=o+s,o=t[i][n][1]):(t[i][n][0]=0,t[i][n][1]=0)}},cW={sign:sW,expand:j4,none:Rs,silhouette:_4,wiggle:O4,positive:lW},uW=function(t,r,n){var a=r.map(function(s){return s.props.dataKey}),o=cW[n],i=S4().keys(a).value(function(s,l){return+Rr(s,l,0)}).order(Dg).offset(o);return i(t)},fW=function(t,r,n,a,o,i){if(!t)return null;var s=i?r.reverse():r,l={},c=s.reduce(function(d,h){var p,y=(p=h.type)!==null&&p!==void 0&&p.defaultProps?pr(pr({},h.type.defaultProps),h.props):h.props,v=y.stackId,x=y.hide;if(x)return d;var m=y[n],g=d[m]||{hasStack:!1,stackGroups:{}};if(Dr(v)){var b=g.stackGroups[v]||{numericAxisId:n,cateAxisId:a,items:[]};b.items.push(h),g.hasStack=!0,g.stackGroups[v]=b}else g.stackGroups[Yi("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return pr(pr({},d),{},Ps({},m,g))},l),f={};return Object.keys(c).reduce(function(d,h){var p=c[h];if(p.hasStack){var y={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(v,x){var m=p.stackGroups[x];return pr(pr({},v),{},Ps({},x,{numericAxisId:n,cateAxisId:a,items:m.items,stackedData:uW(t,m.items,o)}))},y)}return pr(pr({},d),{},Ps({},h,p))},f)},dW=function(t,r){var n=r.realScaleType,a=r.type,o=r.tickCount,i=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&a==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var c=t.domain();if(!c.length)return null;var f=SU(c,o,s);return t.domain([op(f),Fo(f)]),{niceTicks:f}}if(o&&a==="number"){var d=t.domain(),h=jU(d,o,s);return{niceTicks:h}}return null};function Vs(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,o=e.index,i=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Be(a[t.dataKey])){var s=cd(r,"value",a[t.dataKey]);if(s)return s.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var l=Rr(a,Be(i)?t.dataKey:i);return Be(l)?null:t.scale(l)}var Cw=function(t){var r=t.axis,n=t.ticks,a=t.offset,o=t.bandSize,i=t.entry,s=t.index;if(r.type==="category")return n[s]?n[s].coordinate+a:null;var l=Rr(i,r.dataKey,r.domain[s]);return Be(l)?null:r.scale(l)-o/2+a},hW=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return a<=0&&o>=0?0:o<0?o:a}return n[0]},pW=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?pr(pr({},t.type.defaultProps),t.props):t.props,o=a.stackId;if(Dr(o)){var i=r[o];if(i){var s=i.items.indexOf(t);return s>=0?i.stackedData[s]:null}}return null},gW=function(t){return t.reduce(function(r,n){return[op(n.concat([r[0]]).filter(fe)),Fo(n.concat([r[1]]).filter(fe))]},[1/0,-1/0])},XO=function(t,r,n){return Object.keys(t).reduce(function(a,o){var i=t[o],s=i.stackedData,l=s.reduce(function(c,f){var d=gW(f.slice(r,n+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},Ew=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Tw=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fm=function(t,r,n){if(We(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(fe(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(Ew.test(t[0])){var o=+Ew.exec(t[0])[1];a[0]=r[0]-o}else We(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(fe(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(Tw.test(t[1])){var i=+Tw.exec(t[1])[1];a[1]=r[1]+i}else We(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Bd=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var o=mv(r,function(d){return d.coordinate}),i=1/0,s=1,l=o.length;s<l;s++){var c=o[s],f=o[s-1];i=Math.min((c.coordinate||0)-(f.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},$w=function(t,r,n){return!t||!t.length||zi(t,fa(n,"type.defaultProps.domain"))?r:t},KO=function(t,r){var n=t.type.defaultProps?pr(pr({},t.type.defaultProps),t.props):t.props,a=n.dataKey,o=n.name,i=n.unit,s=n.formatter,l=n.tooltipType,c=n.chartType,f=n.hide;return pr(pr({},ze(t,!1)),{},{dataKey:a,unit:i,formatter:s,name:o||a,color:Wv(t),value:Rr(r,a),type:l,payload:r,chartType:c,hide:f})};function au(e){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},au(e)}function Dw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dw(Object(r),!0).forEach(function(n){mW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mW(e,t,r){return t=yW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yW(e){var t=vW(e,"string");return au(t)=="symbol"?t:t+""}function vW(e,t){if(au(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fd=Math.PI/180,xW=function(t){return t*180/Math.PI},tn=function(t,r,n,a){return{x:t+Math.cos(-Fd*a)*n,y:r+Math.sin(-Fd*a)*n}},bW=function(t,r){var n=t.x,a=t.y,o=r.x,i=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(a-i,2))},wW=function(t,r){var n=t.x,a=t.y,o=r.cx,i=r.cy,s=bW({x:n,y:a},{x:o,y:i});if(s<=0)return{radius:s};var l=(n-o)/s,c=Math.acos(l);return a>i&&(c=2*Math.PI-c),{radius:s,angle:xW(c),angleInRadian:c}},kW=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),o=Math.floor(n/360),i=Math.min(a,o);return{startAngle:r-i*360,endAngle:n-i*360}},SW=function(t,r){var n=r.startAngle,a=r.endAngle,o=Math.floor(n/360),i=Math.floor(a/360),s=Math.min(o,i);return t+s*360},Lw=function(t,r){var n=t.x,a=t.y,o=wW({x:n,y:a},r),i=o.radius,s=o.angle,l=r.innerRadius,c=r.outerRadius;if(i<l||i>c)return!1;if(i===0)return!0;var f=kW(r),d=f.startAngle,h=f.endAngle,p=s,y;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;y=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;y=p>=h&&p<=d}return y?Rw(Rw({},r),{},{radius:i,angle:SW(p,r)}):null};function ou(e){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ou(e)}var jW=["offset"];function _W(e){return AW(e)||PW(e)||NW(e)||OW()}function OW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NW(e,t){if(e){if(typeof e=="string")return dm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dm(e,t)}}function PW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function AW(e){if(Array.isArray(e))return dm(e)}function dm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function MW(e,t){if(e==null)return{};var r=CW(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function CW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Iw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Er(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Iw(Object(r),!0).forEach(function(n){EW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Iw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EW(e,t,r){return t=TW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TW(e){var t=$W(e,"string");return ou(t)=="symbol"?t:t+""}function $W(e,t){if(ou(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ou(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iu(){return iu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iu.apply(this,arguments)}var DW=function(t){var r=t.value,n=t.formatter,a=Be(t.children)?r:t.children;return We(n)?n(a):a},RW=function(t,r){var n=Pa(r-t),a=Math.min(Math.abs(r-t),360);return n*a},LW=function(t,r,n){var a=t.position,o=t.viewBox,i=t.offset,s=t.className,l=o,c=l.cx,f=l.cy,d=l.innerRadius,h=l.outerRadius,p=l.startAngle,y=l.endAngle,v=l.clockWise,x=(d+h)/2,m=RW(p,y),g=m>=0?1:-1,b,S;a==="insideStart"?(b=p+g*i,S=v):a==="insideEnd"?(b=y-g*i,S=!v):a==="end"&&(b=y+g*i,S=v),S=m<=0?S:!S;var w=tn(c,f,x,b),k=tn(c,f,x,b+(S?1:-1)*359),_="M".concat(w.x,",").concat(w.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(S?0:1,`,
    `).concat(k.x,",").concat(k.y),O=Be(t.id)?Yi("recharts-radial-line-"):t.id;return D.createElement("text",iu({},n,{dominantBaseline:"central",className:at("recharts-radial-bar-label",s)}),D.createElement("defs",null,D.createElement("path",{id:O,d:_})),D.createElement("textPath",{xlinkHref:"#".concat(O)},r))},IW=function(t){var r=t.viewBox,n=t.offset,a=t.position,o=r,i=o.cx,s=o.cy,l=o.innerRadius,c=o.outerRadius,f=o.startAngle,d=o.endAngle,h=(f+d)/2;if(a==="outside"){var p=tn(i,s,c+n,h),y=p.x,v=p.y;return{x:y,y:v,textAnchor:y>=i?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"end"};var x=(l+c)/2,m=tn(i,s,x,h),g=m.x,b=m.y;return{x:g,y:b,textAnchor:"middle",verticalAnchor:"middle"}},BW=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,o=t.position,i=r,s=i.x,l=i.y,c=i.width,f=i.height,d=f>=0?1:-1,h=d*a,p=d>0?"end":"start",y=d>0?"start":"end",v=c>=0?1:-1,x=v*a,m=v>0?"end":"start",g=v>0?"start":"end";if(o==="top"){var b={x:s+c/2,y:l-d*a,textAnchor:"middle",verticalAnchor:p};return Er(Er({},b),n?{height:Math.max(l-n.y,0),width:c}:{})}if(o==="bottom"){var S={x:s+c/2,y:l+f+h,textAnchor:"middle",verticalAnchor:y};return Er(Er({},S),n?{height:Math.max(n.y+n.height-(l+f),0),width:c}:{})}if(o==="left"){var w={x:s-x,y:l+f/2,textAnchor:m,verticalAnchor:"middle"};return Er(Er({},w),n?{width:Math.max(w.x-n.x,0),height:f}:{})}if(o==="right"){var k={x:s+c+x,y:l+f/2,textAnchor:g,verticalAnchor:"middle"};return Er(Er({},k),n?{width:Math.max(n.x+n.width-k.x,0),height:f}:{})}var _=n?{width:c,height:f}:{};return o==="insideLeft"?Er({x:s+x,y:l+f/2,textAnchor:g,verticalAnchor:"middle"},_):o==="insideRight"?Er({x:s+c-x,y:l+f/2,textAnchor:m,verticalAnchor:"middle"},_):o==="insideTop"?Er({x:s+c/2,y:l+h,textAnchor:"middle",verticalAnchor:y},_):o==="insideBottom"?Er({x:s+c/2,y:l+f-h,textAnchor:"middle",verticalAnchor:p},_):o==="insideTopLeft"?Er({x:s+x,y:l+h,textAnchor:g,verticalAnchor:y},_):o==="insideTopRight"?Er({x:s+c-x,y:l+h,textAnchor:m,verticalAnchor:y},_):o==="insideBottomLeft"?Er({x:s+x,y:l+f-h,textAnchor:g,verticalAnchor:p},_):o==="insideBottomRight"?Er({x:s+c-x,y:l+f-h,textAnchor:m,verticalAnchor:p},_):pl(o)&&(fe(o.x)||Si(o.x))&&(fe(o.y)||Si(o.y))?Er({x:s+Fi(o.x,c),y:l+Fi(o.y,f),textAnchor:"end",verticalAnchor:"end"},_):Er({x:s+c/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},_)},FW=function(t){return"cx"in t&&fe(t.cx)};function hn(e){var t=e.offset,r=t===void 0?5:t,n=MW(e,jW),a=Er({offset:r},n),o=a.viewBox,i=a.position,s=a.value,l=a.children,c=a.content,f=a.className,d=f===void 0?"":f,h=a.textBreakAll;if(!o||Be(s)&&Be(l)&&!j.isValidElement(c)&&!We(c))return null;if(j.isValidElement(c))return j.cloneElement(c,a);var p;if(We(c)){if(p=j.createElement(c,a),j.isValidElement(p))return p}else p=DW(a);var y=FW(o),v=ze(a,!0);if(y&&(i==="insideStart"||i==="insideEnd"||i==="end"))return LW(a,p,v);var x=y?IW(a):BW(a);return D.createElement(jd,iu({className:at("recharts-label",d)},v,x,{breakAll:h}),p)}hn.displayName="Label";var YO=function(t){var r=t.cx,n=t.cy,a=t.angle,o=t.startAngle,i=t.endAngle,s=t.r,l=t.radius,c=t.innerRadius,f=t.outerRadius,d=t.x,h=t.y,p=t.top,y=t.left,v=t.width,x=t.height,m=t.clockWise,g=t.labelViewBox;if(g)return g;if(fe(v)&&fe(x)){if(fe(d)&&fe(h))return{x:d,y:h,width:v,height:x};if(fe(p)&&fe(y))return{x:p,y,width:v,height:x}}return fe(d)&&fe(h)?{x:d,y:h,width:0,height:0}:fe(r)&&fe(n)?{cx:r,cy:n,startAngle:o||a||0,endAngle:i||a||0,innerRadius:c||0,outerRadius:f||l||s||0,clockWise:m}:t.viewBox?t.viewBox:{}},zW=function(t,r){return t?t===!0?D.createElement(hn,{key:"label-implicit",viewBox:r}):Dr(t)?D.createElement(hn,{key:"label-implicit",viewBox:r,value:t}):j.isValidElement(t)?t.type===hn?j.cloneElement(t,{key:"label-implicit",viewBox:r}):D.createElement(hn,{key:"label-implicit",content:t,viewBox:r}):We(t)?D.createElement(hn,{key:"label-implicit",content:t,viewBox:r}):pl(t)?D.createElement(hn,iu({viewBox:r},t,{key:"label-implicit"})):null:null},UW=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,o=YO(t),i=In(a,hn).map(function(l,c){return j.cloneElement(l,{viewBox:r||o,key:"label-".concat(c)})});if(!n)return i;var s=zW(t.label,r||o);return[s].concat(_W(i))};hn.parseViewBox=YO;hn.renderCallByParent=UW;function WW(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var GW=WW;const HW=Dt(GW);function su(e){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},su(e)}var VW=["valueAccessor"],XW=["data","dataKey","clockWise","id","textBreakAll"];function KW(e){return QW(e)||ZW(e)||qW(e)||YW()}function YW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qW(e,t){if(e){if(typeof e=="string")return hm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hm(e,t)}}function ZW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QW(e){if(Array.isArray(e))return hm(e)}function hm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zd(){return zd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zd.apply(this,arguments)}function Bw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bw(Object(r),!0).forEach(function(n){JW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JW(e,t,r){return t=eG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eG(e){var t=tG(e,"string");return su(t)=="symbol"?t:t+""}function tG(e,t){if(su(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zw(e,t){if(e==null)return{};var r=rG(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var nG=function(t){return Array.isArray(t.value)?HW(t.value):t.value};function Va(e){var t=e.valueAccessor,r=t===void 0?nG:t,n=zw(e,VW),a=n.data,o=n.dataKey,i=n.clockWise,s=n.id,l=n.textBreakAll,c=zw(n,XW);return!a||!a.length?null:D.createElement(dt,{className:"recharts-label-list"},a.map(function(f,d){var h=Be(o)?r(f,d):Rr(f&&f.payload,o),p=Be(s)?{}:{id:"".concat(s,"-").concat(d)};return D.createElement(hn,zd({},ze(f,!0),c,p,{parentViewBox:f.parentViewBox,value:h,textBreakAll:l,viewBox:hn.parseViewBox(Be(i)?f:Fw(Fw({},f),{},{clockWise:i})),key:"label-".concat(d),index:d}))}))}Va.displayName="LabelList";function aG(e,t){return e?e===!0?D.createElement(Va,{key:"labelList-implicit",data:t}):D.isValidElement(e)||We(e)?D.createElement(Va,{key:"labelList-implicit",data:t,content:e}):pl(e)?D.createElement(Va,zd({data:t},e,{key:"labelList-implicit"})):null:null}function oG(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=In(n,Va).map(function(i,s){return j.cloneElement(i,{data:t,key:"labelList-".concat(s)})});if(!r)return a;var o=aG(e.label,t);return[o].concat(KW(a))}Va.renderCallByParent=oG;function lu(e){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lu(e)}function pm(){return pm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pm.apply(this,arguments)}function Uw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ww(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uw(Object(r),!0).forEach(function(n){iG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iG(e,t,r){return t=sG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sG(e){var t=lG(e,"string");return lu(t)=="symbol"?t:t+""}function lG(e,t){if(lu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cG=function(t,r){var n=Pa(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},xf=function(t){var r=t.cx,n=t.cy,a=t.radius,o=t.angle,i=t.sign,s=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,f=l*(s?1:-1)+a,d=Math.asin(l/f)/Fd,h=c?o:o+i*d,p=tn(r,n,f,h),y=tn(r,n,a,h),v=c?o-i*d:o,x=tn(r,n,f*Math.cos(d*Fd),v);return{center:p,circleTangency:y,lineTangency:x,theta:d}},qO=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,i=t.startAngle,s=t.endAngle,l=cG(i,s),c=i+l,f=tn(r,n,o,i),d=tn(r,n,o,c),h="M ".concat(f.x,",").concat(f.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(a>0){var p=tn(r,n,a,i),y=tn(r,n,a,c);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},uG=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,i=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,f=t.endAngle,d=Pa(f-c),h=xf({cx:r,cy:n,radius:o,angle:c,sign:d,cornerRadius:i,cornerIsExternal:l}),p=h.circleTangency,y=h.lineTangency,v=h.theta,x=xf({cx:r,cy:n,radius:o,angle:f,sign:-d,cornerRadius:i,cornerIsExternal:l}),m=x.circleTangency,g=x.lineTangency,b=x.theta,S=l?Math.abs(c-f):Math.abs(c-f)-v-b;if(S<0)return s?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):qO({cx:r,cy:n,innerRadius:a,outerRadius:o,startAngle:c,endAngle:f});var w="M ".concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(S>180),",").concat(+(d<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
  `);if(a>0){var k=xf({cx:r,cy:n,radius:a,angle:c,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),_=k.circleTangency,O=k.lineTangency,N=k.theta,P=xf({cx:r,cy:n,radius:a,angle:f,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),M=P.circleTangency,C=P.lineTangency,$=P.theta,z=l?Math.abs(c-f):Math.abs(c-f)-N-$;if(z<0&&i===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(z>180),",").concat(+(d>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(O.x,",").concat(O.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},fG={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},ZO=function(t){var r=Ww(Ww({},fG),t),n=r.cx,a=r.cy,o=r.innerRadius,i=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,f=r.startAngle,d=r.endAngle,h=r.className;if(i<o||f===d)return null;var p=at("recharts-sector",h),y=i-o,v=Fi(s,y,0,!0),x;return v>0&&Math.abs(f-d)<360?x=uG({cx:n,cy:a,innerRadius:o,outerRadius:i,cornerRadius:Math.min(v,y/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:f,endAngle:d}):x=qO({cx:n,cy:a,innerRadius:o,outerRadius:i,startAngle:f,endAngle:d}),D.createElement("path",pm({},ze(r,!0),{className:p,d:x,role:"img"}))};function cu(e){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cu(e)}function gm(){return gm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gm.apply(this,arguments)}function Gw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gw(Object(r),!0).forEach(function(n){dG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dG(e,t,r){return t=hG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hG(e){var t=pG(e,"string");return cu(t)=="symbol"?t:t+""}function pG(e,t){if(cu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vw={curveBasisClosed:d4,curveBasisOpen:h4,curveBasis:f4,curveBumpX:Z$,curveBumpY:Q$,curveLinearClosed:p4,curveLinear:Xh,curveMonotoneX:g4,curveMonotoneY:m4,curveNatural:y4,curveStep:v4,curveStepAfter:b4,curveStepBefore:x4},bf=function(t){return t.x===+t.x&&t.y===+t.y},Ql=function(t){return t.x},Jl=function(t){return t.y},gG=function(t,r){if(We(t))return t;var n="curve".concat(Hh(t));return(n==="curveMonotone"||n==="curveBump")&&r?Vw["".concat(n).concat(r==="vertical"?"Y":"X")]:Vw[n]||Xh},mG=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,o=a===void 0?[]:a,i=t.baseLine,s=t.layout,l=t.connectNulls,c=l===void 0?!1:l,f=gG(n,s),d=c?o.filter(function(v){return bf(v)}):o,h;if(Array.isArray(i)){var p=c?i.filter(function(v){return bf(v)}):i,y=d.map(function(v,x){return Hw(Hw({},v),{},{base:p[x]})});return s==="vertical"?h=uf().y(Jl).x1(Ql).x0(function(v){return v.base.x}):h=uf().x(Ql).y1(Jl).y0(function(v){return v.base.y}),h.defined(bf).curve(f),h(y)}return s==="vertical"&&fe(i)?h=uf().y(Jl).x1(Ql).x0(i):fe(i)?h=uf().x(Ql).y1(Jl).y0(i):h=Jj().x(Ql).y(Jl),h.defined(bf).curve(f),h(d)},Ti=function(t){var r=t.className,n=t.points,a=t.path,o=t.pathRef;if((!n||!n.length)&&!a)return null;var i=n&&n.length?mG(t):a;return j.createElement("path",gm({},ze(t,!1),ud(t),{className:at("recharts-curve",r),d:i,ref:o}))},QO={exports:{}},yG="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",vG=yG,xG=vG;function JO(){}function eN(){}eN.resetWarningCache=JO;var bG=function(){function e(n,a,o,i,s,l){if(l!==xG){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:eN,resetWarningCache:JO};return r.PropTypes=r,r};QO.exports=bG();var wG=QO.exports;const xt=Dt(wG),{getOwnPropertyNames:kG,getOwnPropertySymbols:SG}=Object,{hasOwnProperty:jG}=Object.prototype;function y0(e,t){return function(n,a,o){return e(n,a,o)&&t(n,a,o)}}function wf(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);const{cache:o}=a,i=o.get(r),s=o.get(n);if(i&&s)return i===n&&s===r;o.set(r,n),o.set(n,r);const l=e(r,n,a);return o.delete(r),o.delete(n),l}}function _G(e){return e!=null?e[Symbol.toStringTag]:void 0}function Xw(e){return kG(e).concat(SG(e))}const OG=Object.hasOwn||((e,t)=>jG.call(e,t));function Qi(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const NG="__v",PG="__o",AG="_owner",{getOwnPropertyDescriptor:Kw,keys:Yw}=Object;function MG(e,t){return e.byteLength===t.byteLength&&Ud(new Uint8Array(e),new Uint8Array(t))}function CG(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function EG(e,t){return e.byteLength===t.byteLength&&Ud(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function TG(e,t){return Qi(e.getTime(),t.getTime())}function $G(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function DG(e,t){return e===t}function qw(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),o=e.entries();let i,s,l=0;for(;(i=o.next())&&!i.done;){const c=t.entries();let f=!1,d=0;for(;(s=c.next())&&!s.done;){if(a[d]){d++;continue}const h=i.value,p=s.value;if(r.equals(h[0],p[0],l,d,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){f=a[d]=!0;break}d++}if(!f)return!1;l++}return!0}const RG=Qi;function LG(e,t,r){const n=Yw(e);let a=n.length;if(Yw(t).length!==a)return!1;for(;a-- >0;)if(!tN(e,t,r,n[a]))return!1;return!0}function ec(e,t,r){const n=Xw(e);let a=n.length;if(Xw(t).length!==a)return!1;let o,i,s;for(;a-- >0;)if(o=n[a],!tN(e,t,r,o)||(i=Kw(e,o),s=Kw(t,o),(i||s)&&(!i||!s||i.configurable!==s.configurable||i.enumerable!==s.enumerable||i.writable!==s.writable)))return!1;return!0}function IG(e,t){return Qi(e.valueOf(),t.valueOf())}function BG(e,t){return e.source===t.source&&e.flags===t.flags}function Zw(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),o=e.values();let i,s;for(;(i=o.next())&&!i.done;){const l=t.values();let c=!1,f=0;for(;(s=l.next())&&!s.done;){if(!a[f]&&r.equals(i.value,s.value,i.value,s.value,e,t,r)){c=a[f]=!0;break}f++}if(!c)return!1}return!0}function Ud(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function FG(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function tN(e,t,r,n){return(n===AG||n===PG||n===NG)&&(e.$$typeof||t.$$typeof)?!0:OG(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const zG="[object ArrayBuffer]",UG="[object Arguments]",WG="[object Boolean]",GG="[object DataView]",HG="[object Date]",VG="[object Error]",XG="[object Map]",KG="[object Number]",YG="[object Object]",qG="[object RegExp]",ZG="[object Set]",QG="[object String]",JG={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},eH="[object URL]",tH=Object.prototype.toString;function rH({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:a,areFunctionsEqual:o,areMapsEqual:i,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:f,areSetsEqual:d,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:y}){return function(x,m,g){if(x===m)return!0;if(x==null||m==null)return!1;const b=typeof x;if(b!==typeof m)return!1;if(b!=="object")return b==="number"?s(x,m,g):b==="function"?o(x,m,g):!1;const S=x.constructor;if(S!==m.constructor)return!1;if(S===Object)return l(x,m,g);if(Array.isArray(x))return t(x,m,g);if(S===Date)return n(x,m,g);if(S===RegExp)return f(x,m,g);if(S===Map)return i(x,m,g);if(S===Set)return d(x,m,g);const w=tH.call(x);if(w===HG)return n(x,m,g);if(w===qG)return f(x,m,g);if(w===XG)return i(x,m,g);if(w===ZG)return d(x,m,g);if(w===YG)return typeof x.then!="function"&&typeof m.then!="function"&&l(x,m,g);if(w===eH)return p(x,m,g);if(w===VG)return a(x,m,g);if(w===UG)return l(x,m,g);if(JG[w])return h(x,m,g);if(w===zG)return e(x,m,g);if(w===GG)return r(x,m,g);if(w===WG||w===KG||w===QG)return c(x,m,g);if(y){let k=y[w];if(!k){const _=_G(x);_&&(k=y[_])}if(k)return k(x,m,g)}return!1}}function nH({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:MG,areArraysEqual:r?ec:CG,areDataViewsEqual:EG,areDatesEqual:TG,areErrorsEqual:$G,areFunctionsEqual:DG,areMapsEqual:r?y0(qw,ec):qw,areNumbersEqual:RG,areObjectsEqual:r?ec:LG,arePrimitiveWrappersEqual:IG,areRegExpsEqual:BG,areSetsEqual:r?y0(Zw,ec):Zw,areTypedArraysEqual:r?y0(Ud,ec):Ud,areUrlsEqual:FG,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const a=wf(n.areArraysEqual),o=wf(n.areMapsEqual),i=wf(n.areObjectsEqual),s=wf(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:i,areSetsEqual:s})}return n}function aH(e){return function(t,r,n,a,o,i,s){return e(t,r,s)}}function oH({circular:e,comparator:t,createState:r,equals:n,strict:a}){if(r)return function(s,l){const{cache:c=e?new WeakMap:void 0,meta:f}=r();return t(s,l,{cache:c,equals:n,meta:f,strict:a})};if(e)return function(s,l){return t(s,l,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const o={cache:void 0,equals:n,meta:void 0,strict:a};return function(s,l){return t(s,l,o)}}const iH=ci();ci({strict:!0});ci({circular:!0});ci({circular:!0,strict:!0});ci({createInternalComparator:()=>Qi});ci({strict:!0,createInternalComparator:()=>Qi});ci({circular:!0,createInternalComparator:()=>Qi});ci({circular:!0,createInternalComparator:()=>Qi,strict:!0});function ci(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:a=!1}=e,o=nH(e),i=rH(o),s=r?r(i):aH(i);return oH({circular:t,comparator:i,createState:n,equals:s,strict:a})}function sH(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function Qw(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(o){r<0&&(r=o),o-r>t?(e(o),r=-1):sH(a)};requestAnimationFrame(n)}function mm(e){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mm(e)}function lH(e){return dH(e)||fH(e)||uH(e)||cH()}function cH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uH(e,t){if(e){if(typeof e=="string")return Jw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jw(e,t)}}function Jw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dH(e){if(Array.isArray(e))return e}function hH(){var e={},t=function(){return null},r=!1,n=function a(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var i=o,s=lH(i),l=s[0],c=s.slice(1);if(typeof l=="number"){Qw(a.bind(null,c),l);return}a(l),Qw(a.bind(null,c));return}mm(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function uu(e){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uu(e)}function e2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function t2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e2(Object(r),!0).forEach(function(n){rN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rN(e,t,r){return t=pH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pH(e){var t=gH(e,"string");return uu(t)==="symbol"?t:String(t)}function gH(e,t){if(uu(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mH=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(o){return a.includes(o)})})},yH=function(t){return t},vH=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},xc=function(t,r){return Object.keys(r).reduce(function(n,a){return t2(t2({},n),{},rN({},a,t(a,r[a])))},{})},r2=function(t,r,n){return t.map(function(a){return"".concat(vH(a)," ").concat(r,"ms ").concat(n)}).join(",")};function xH(e,t){return kH(e)||wH(e,t)||nN(e,t)||bH()}function bH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function kH(e){if(Array.isArray(e))return e}function SH(e){return OH(e)||_H(e)||nN(e)||jH()}function jH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nN(e,t){if(e){if(typeof e=="string")return ym(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ym(e,t)}}function _H(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function OH(e){if(Array.isArray(e))return ym(e)}function ym(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Wd=1e-4,aN=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},oN=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},n2=function(t,r){return function(n){var a=aN(t,r);return oN(a,n)}},NH=function(t,r){return function(n){var a=aN(t,r),o=[].concat(SH(a.map(function(i,s){return i*s}).slice(1)),[0]);return oN(o,n)}},a2=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],o=r[1],i=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,o=0,i=1,s=1;break;case"ease":a=.25,o=.1,i=.25,s=1;break;case"ease-in":a=.42,o=0,i=1,s=1;break;case"ease-out":a=.42,o=0,i=.58,s=1;break;case"ease-in-out":a=0,o=0,i=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),f=xH(c,4);a=f[0],o=f[1],i=f[2],s=f[3]}}}var d=n2(a,i),h=n2(o,s),p=NH(a,i),y=function(m){return m>1?1:m<0?0:m},v=function(m){for(var g=m>1?1:m,b=g,S=0;S<8;++S){var w=d(b)-g,k=p(b);if(Math.abs(w-g)<Wd||k<Wd)return h(b);b=y(b-w/k)}return h(b)};return v.isStepper=!1,v},PH=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,o=a===void 0?8:a,i=t.dt,s=i===void 0?17:i,l=function(f,d,h){var p=-(f-d)*n,y=h*o,v=h+(p-y)*s/1e3,x=h*s/1e3+f;return Math.abs(x-d)<Wd&&Math.abs(v)<Wd?[d,0]:[x,v]};return l.isStepper=!0,l.dt=s,l},AH=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return a2(a);case"spring":return PH();default:if(a.split("(")[0]==="cubic-bezier")return a2(a)}return typeof a=="function"?a:null};function fu(e){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fu(e)}function o2(e){return EH(e)||CH(e)||iN(e)||MH()}function MH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function EH(e){if(Array.isArray(e))return xm(e)}function i2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i2(Object(r),!0).forEach(function(n){vm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vm(e,t,r){return t=TH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TH(e){var t=$H(e,"string");return fu(t)==="symbol"?t:String(t)}function $H(e,t){if(fu(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DH(e,t){return IH(e)||LH(e,t)||iN(e,t)||RH()}function RH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iN(e,t){if(e){if(typeof e=="string")return xm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xm(e,t)}}function xm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function LH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function IH(e){if(Array.isArray(e))return e}var Gd=function(t,r,n){return t+(r-t)*n},bm=function(t){var r=t.from,n=t.to;return r!==n},BH=function e(t,r,n){var a=xc(function(o,i){if(bm(i)){var s=t(i.from,i.to,i.velocity),l=DH(s,2),c=l[0],f=l[1];return Qr(Qr({},i),{},{from:c,velocity:f})}return i},r);return n<1?xc(function(o,i){return bm(i)?Qr(Qr({},i),{},{velocity:Gd(i.velocity,a[o].velocity,n),from:Gd(i.from,a[o].from,n)}):i},r):e(t,a,n-1)};const FH=function(e,t,r,n,a){var o=mH(e,t),i=o.reduce(function(x,m){return Qr(Qr({},x),{},vm({},m,[e[m],t[m]]))},{}),s=o.reduce(function(x,m){return Qr(Qr({},x),{},vm({},m,{from:e[m],velocity:0,to:t[m]}))},{}),l=-1,c,f,d=function(){return null},h=function(){return xc(function(m,g){return g.from},s)},p=function(){return!Object.values(s).filter(bm).length},y=function(m){c||(c=m);var g=m-c,b=g/r.dt;s=BH(r,s,b),a(Qr(Qr(Qr({},e),t),h())),c=m,p()||(l=requestAnimationFrame(d))},v=function(m){f||(f=m);var g=(m-f)/n,b=xc(function(w,k){return Gd.apply(void 0,o2(k).concat([r(g)]))},i);if(a(Qr(Qr(Qr({},e),t),b)),g<1)l=requestAnimationFrame(d);else{var S=xc(function(w,k){return Gd.apply(void 0,o2(k).concat([r(1)]))},i);a(Qr(Qr(Qr({},e),t),S))}};return d=r.isStepper?y:v,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function Xs(e){"@babel/helpers - typeof";return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xs(e)}var zH=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function UH(e,t){if(e==null)return{};var r=WH(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function WH(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function v0(e){return XH(e)||VH(e)||HH(e)||GH()}function GH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HH(e,t){if(e){if(typeof e=="string")return wm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wm(e,t)}}function VH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function XH(e){if(Array.isArray(e))return wm(e)}function wm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s2(Object(r),!0).forEach(function(n){ic(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ic(e,t,r){return t=sN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YH(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sN(n.key),n)}}function qH(e,t,r){return t&&YH(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sN(e){var t=ZH(e,"string");return Xs(t)==="symbol"?t:String(t)}function ZH(e,t){if(Xs(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xs(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&km(e,t)}function km(e,t){return km=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},km(e,t)}function JH(e){var t=eV();return function(){var n=Hd(e),a;if(t){var o=Hd(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Sm(this,a)}}function Sm(e,t){if(t&&(Xs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jm(e)}function jm(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eV(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Hd(e){return Hd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hd(e)}var Ea=function(e){QH(r,e);var t=JH(r);function r(n,a){var o;KH(this,r),o=t.call(this,n,a);var i=o.props,s=i.isActive,l=i.attributeName,c=i.from,f=i.to,d=i.steps,h=i.children,p=i.duration;if(o.handleStyleChange=o.handleStyleChange.bind(jm(o)),o.changeStyle=o.changeStyle.bind(jm(o)),!s||p<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:f}),Sm(o);if(d&&d.length)o.state={style:d[0].style};else if(c){if(typeof h=="function")return o.state={style:c},Sm(o);o.state={style:l?ic({},l,c):c}}else o.state={style:{}};return o}return qH(r,[{key:"componentDidMount",value:function(){var a=this.props,o=a.isActive,i=a.canBegin;this.mounted=!0,!(!o||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var o=this.props,i=o.isActive,s=o.canBegin,l=o.attributeName,c=o.shouldReAnimate,f=o.to,d=o.from,h=this.state.style;if(s){if(!i){var p={style:l?ic({},l,f):f};this.state&&h&&(l&&h[l]!==f||!l&&h!==f)&&this.setState(p);return}if(!(iH(a.to,f)&&a.canBegin&&a.isActive)){var y=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=y||c?d:a.to;if(this.state&&h){var x={style:l?ic({},l,v):v};(l&&h[l]!==v||!l&&h!==v)&&this.setState(x)}this.runAnimation(wa(wa({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var o=this,i=a.from,s=a.to,l=a.duration,c=a.easing,f=a.begin,d=a.onAnimationEnd,h=a.onAnimationStart,p=FH(i,s,AH(c),l,this.changeStyle),y=function(){o.stopJSAnimation=p()};this.manager.start([h,f,y,l,d])}},{key:"runStepAnimation",value:function(a){var o=this,i=a.steps,s=a.begin,l=a.onAnimationStart,c=i[0],f=c.style,d=c.duration,h=d===void 0?0:d,p=function(v,x,m){if(m===0)return v;var g=x.duration,b=x.easing,S=b===void 0?"ease":b,w=x.style,k=x.properties,_=x.onAnimationEnd,O=m>0?i[m-1]:x,N=k||Object.keys(w);if(typeof S=="function"||S==="spring")return[].concat(v0(v),[o.runJSAnimation.bind(o,{from:O.style,to:w,duration:g,easing:S}),g]);var P=r2(N,g,S),M=wa(wa(wa({},O.style),w),{},{transition:P});return[].concat(v0(v),[M,g,_]).filter(yH)};return this.manager.start([l].concat(v0(i.reduce(p,[f,Math.max(h,s)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=hH());var o=a.begin,i=a.duration,s=a.attributeName,l=a.to,c=a.easing,f=a.onAnimationStart,d=a.onAnimationEnd,h=a.steps,p=a.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var v=s?ic({},s,l):l,x=r2(Object.keys(v),i,c);y.start([f,o,wa(wa({},v),{},{transition:x}),i,d])}},{key:"render",value:function(){var a=this.props,o=a.children;a.begin;var i=a.duration;a.attributeName,a.easing;var s=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=UH(a,zH),c=j.Children.count(o),f=this.state.style;if(typeof o=="function")return o(f);if(!s||c===0||i<=0)return o;var d=function(p){var y=p.props,v=y.style,x=v===void 0?{}:v,m=y.className,g=j.cloneElement(p,wa(wa({},l),{},{style:wa(wa({},x),f),className:m}));return g};return c===1?d(j.Children.only(o)):D.createElement("div",null,j.Children.map(o,function(h){return d(h)}))}}]),r}(j.PureComponent);Ea.displayName="Animate";Ea.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ea.propTypes={from:xt.oneOfType([xt.object,xt.string]),to:xt.oneOfType([xt.object,xt.string]),attributeName:xt.string,duration:xt.number,begin:xt.number,easing:xt.oneOfType([xt.string,xt.func]),steps:xt.arrayOf(xt.shape({duration:xt.number.isRequired,style:xt.object.isRequired,easing:xt.oneOfType([xt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),xt.func]),properties:xt.arrayOf("string"),onAnimationEnd:xt.func})),children:xt.oneOfType([xt.node,xt.func]),isActive:xt.bool,canBegin:xt.bool,onAnimationEnd:xt.func,shouldReAnimate:xt.bool,onAnimationStart:xt.func,onAnimationReStart:xt.func};function du(e){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},du(e)}function Vd(){return Vd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vd.apply(this,arguments)}function tV(e,t){return oV(e)||aV(e,t)||nV(e,t)||rV()}function rV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nV(e,t){if(e){if(typeof e=="string")return l2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l2(e,t)}}function l2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function oV(e){if(Array.isArray(e))return e}function c2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function u2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c2(Object(r),!0).forEach(function(n){iV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iV(e,t,r){return t=sV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sV(e){var t=lV(e,"string");return du(t)=="symbol"?t:t+""}function lV(e,t){if(du(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f2=function(t,r,n,a,o){var i=Math.min(Math.abs(n)/2,Math.abs(a)/2),s=a>=0?1:-1,l=n>=0?1:-1,c=a>=0&&n>=0||a<0&&n<0?1:0,f;if(i>0&&o instanceof Array){for(var d=[0,0,0,0],h=0,p=4;h<p;h++)d[h]=o[h]>i?i:o[h];f="M".concat(t,",").concat(r+s*d[0]),d[0]>0&&(f+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(t+l*d[0],",").concat(r)),f+="L ".concat(t+n-l*d[1],",").concat(r),d[1]>0&&(f+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(r+s*d[1])),f+="L ".concat(t+n,",").concat(r+a-s*d[2]),d[2]>0&&(f+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(t+n-l*d[2],",").concat(r+a)),f+="L ".concat(t+l*d[3],",").concat(r+a),d[3]>0&&(f+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+a-s*d[3])),f+="Z"}else if(i>0&&o===+o&&o>0){var y=Math.min(i,o);f="M ".concat(t,",").concat(r+s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(t+l*y,",").concat(r,`
            L `).concat(t+n-l*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(t+n,",").concat(r+s*y,`
            L `).concat(t+n,",").concat(r+a-s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(t+n-l*y,",").concat(r+a,`
            L `).concat(t+l*y,",").concat(r+a,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(t,",").concat(r+a-s*y," Z")}else f="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return f},cV=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,o=r.x,i=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(o,o+s),f=Math.max(o,o+s),d=Math.min(i,i+l),h=Math.max(i,i+l);return n>=c&&n<=f&&a>=d&&a<=h}return!1},uV={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Gv=function(t){var r=u2(u2({},uV),t),n=j.useRef(),a=j.useState(-1),o=tV(a,2),i=o[0],s=o[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&s(S)}catch{}},[]);var l=r.x,c=r.y,f=r.width,d=r.height,h=r.radius,p=r.className,y=r.animationEasing,v=r.animationDuration,x=r.animationBegin,m=r.isAnimationActive,g=r.isUpdateAnimationActive;if(l!==+l||c!==+c||f!==+f||d!==+d||f===0||d===0)return null;var b=at("recharts-rectangle",p);return g?D.createElement(Ea,{canBegin:i>0,from:{width:f,height:d,x:l,y:c},to:{width:f,height:d,x:l,y:c},duration:v,animationEasing:y,isActive:g},function(S){var w=S.width,k=S.height,_=S.x,O=S.y;return D.createElement(Ea,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:v,isActive:m,easing:y},D.createElement("path",Vd({},ze(r,!0),{className:b,d:f2(_,O,w,k,h),ref:n})))}):D.createElement("path",Vd({},ze(r,!0),{className:b,d:f2(l,c,f,d,h)}))};function _m(){return _m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_m.apply(this,arguments)}var lp=function(t){var r=t.cx,n=t.cy,a=t.r,o=t.className,i=at("recharts-dot",o);return r===+r&&n===+n&&a===+a?j.createElement("circle",_m({},ze(t,!1),ud(t),{className:i,cx:r,cy:n,r:a})):null};function hu(e){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hu(e)}var fV=["x","y","top","left","width","height","className"];function Om(){return Om=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Om.apply(this,arguments)}function d2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d2(Object(r),!0).forEach(function(n){hV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hV(e,t,r){return t=pV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pV(e){var t=gV(e,"string");return hu(t)=="symbol"?t:t+""}function gV(e,t){if(hu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mV(e,t){if(e==null)return{};var r=yV(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var vV=function(t,r,n,a,o,i){return"M".concat(t,",").concat(o,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(n)},xV=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,o=a===void 0?0:a,i=t.top,s=i===void 0?0:i,l=t.left,c=l===void 0?0:l,f=t.width,d=f===void 0?0:f,h=t.height,p=h===void 0?0:h,y=t.className,v=mV(t,fV),x=dV({x:n,y:o,top:s,left:c,width:d,height:p},v);return!fe(n)||!fe(o)||!fe(d)||!fe(p)||!fe(s)||!fe(c)?null:D.createElement("path",Om({},ze(x,!0),{className:at("recharts-cross",y),d:vV(n,o,d,p,s,c)}))},bV=S_,wV=bV(Object.getPrototypeOf,Object),kV=wV,SV=bo,jV=kV,_V=wo,OV="[object Object]",NV=Function.prototype,PV=Object.prototype,lN=NV.toString,AV=PV.hasOwnProperty,MV=lN.call(Object);function CV(e){if(!_V(e)||SV(e)!=OV)return!1;var t=jV(e);if(t===null)return!0;var r=AV.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&lN.call(r)==MV}var EV=CV;const TV=Dt(EV);var $V=bo,DV=wo,RV="[object Boolean]";function LV(e){return e===!0||e===!1||DV(e)&&$V(e)==RV}var IV=LV;const BV=Dt(IV);function pu(e){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pu(e)}function Xd(){return Xd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xd.apply(this,arguments)}function FV(e,t){return GV(e)||WV(e,t)||UV(e,t)||zV()}function zV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UV(e,t){if(e){if(typeof e=="string")return h2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h2(e,t)}}function h2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function WV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function GV(e){if(Array.isArray(e))return e}function p2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function g2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p2(Object(r),!0).forEach(function(n){HV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HV(e,t,r){return t=VV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VV(e){var t=XV(e,"string");return pu(t)=="symbol"?t:t+""}function XV(e,t){if(pu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var m2=function(t,r,n,a,o){var i=n-a,s;return s="M ".concat(t,",").concat(r),s+="L ".concat(t+n,",").concat(r),s+="L ".concat(t+n-i/2,",").concat(r+o),s+="L ".concat(t+n-i/2-a,",").concat(r+o),s+="L ".concat(t,",").concat(r," Z"),s},KV={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},YV=function(t){var r=g2(g2({},KV),t),n=j.useRef(),a=j.useState(-1),o=FV(a,2),i=o[0],s=o[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&s(b)}catch{}},[]);var l=r.x,c=r.y,f=r.upperWidth,d=r.lowerWidth,h=r.height,p=r.className,y=r.animationEasing,v=r.animationDuration,x=r.animationBegin,m=r.isUpdateAnimationActive;if(l!==+l||c!==+c||f!==+f||d!==+d||h!==+h||f===0&&d===0||h===0)return null;var g=at("recharts-trapezoid",p);return m?D.createElement(Ea,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:f,lowerWidth:d,height:h,x:l,y:c},duration:v,animationEasing:y,isActive:m},function(b){var S=b.upperWidth,w=b.lowerWidth,k=b.height,_=b.x,O=b.y;return D.createElement(Ea,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:v,easing:y},D.createElement("path",Xd({},ze(r,!0),{className:g,d:m2(_,O,S,w,k),ref:n})))}):D.createElement("g",null,D.createElement("path",Xd({},ze(r,!0),{className:g,d:m2(l,c,f,d,h)})))},qV=["option","shapeType","propTransformer","activeClassName","isActive"];function gu(e){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gu(e)}function ZV(e,t){if(e==null)return{};var r=QV(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function QV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function y2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y2(Object(r),!0).forEach(function(n){JV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JV(e,t,r){return t=eX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eX(e){var t=tX(e,"string");return gu(t)=="symbol"?t:t+""}function tX(e,t){if(gu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rX(e,t){return Kd(Kd({},t),e)}function nX(e,t){return e==="symbols"}function v2(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return D.createElement(Gv,r);case"trapezoid":return D.createElement(YV,r);case"sector":return D.createElement(ZO,r);case"symbols":if(nX(t))return D.createElement(Yh,r);break;default:return null}}function aX(e){return j.isValidElement(e)?e.props:e}function Nm(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?rX:n,o=e.activeClassName,i=o===void 0?"recharts-active-shape":o,s=e.isActive,l=ZV(e,qV),c;if(j.isValidElement(t))c=j.cloneElement(t,Kd(Kd({},l),aX(t)));else if(We(t))c=t(l);else if(TV(t)&&!BV(t)){var f=a(t,l);c=D.createElement(v2,{shapeType:r,elementProps:f})}else{var d=l;c=D.createElement(v2,{shapeType:r,elementProps:d})}return s?D.createElement(dt,{className:i},c):c}function cp(e,t){return t!=null&&"trapezoids"in e.props}function up(e,t){return t!=null&&"sectors"in e.props}function mu(e,t){return t!=null&&"points"in e.props}function oX(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,o=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&o}function iX(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function sX(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function lX(e,t){var r;return cp(e,t)?r=oX:up(e,t)?r=iX:mu(e,t)&&(r=sX),r}function cX(e,t){var r;return cp(e,t)?r="trapezoids":up(e,t)?r="sectors":mu(e,t)&&(r="points"),r}function uX(e,t){if(cp(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(up(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return mu(e,t)?t.payload:{}}function fX(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=cX(r,t),o=uX(r,t),i=n.filter(function(l,c){var f=zi(o,l),d=r.props[a].filter(function(y){var v=lX(r,t);return v(y,t)}),h=r.props[a].indexOf(d[d.length-1]),p=c===h;return f&&p}),s=n.indexOf(i[i.length-1]);return s}var dX=Math.ceil,hX=Math.max;function pX(e,t,r,n){for(var a=-1,o=hX(dX((t-e)/(r||1)),0),i=Array(o);o--;)i[n?o:++a]=e,e+=r;return i}var gX=pX,mX=U_,x2=1/0,yX=17976931348623157e292;function vX(e){if(!e)return e===0?e:0;if(e=mX(e),e===x2||e===-x2){var t=e<0?-1:1;return t*yX}return e===e?e:0}var cN=vX,xX=gX,bX=Qh,x0=cN;function wX(e){return function(t,r,n){return n&&typeof n!="number"&&bX(t,r,n)&&(r=n=void 0),t=x0(t),r===void 0?(r=t,t=0):r=x0(r),n=n===void 0?t<r?1:-1:x0(n),xX(t,r,n,e)}}var kX=wX,SX=kX,jX=SX(),_X=jX;const Yd=Dt(_X);function yu(e){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yu(e)}function b2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function w2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b2(Object(r),!0).forEach(function(n){uN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uN(e,t,r){return t=OX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OX(e){var t=NX(e,"string");return yu(t)=="symbol"?t:t+""}function NX(e,t){if(yu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PX=["Webkit","Moz","O","ms"],AX=function(t,r){var n=t.replace(/(\w)/,function(o){return o.toUpperCase()}),a=PX.reduce(function(o,i){return w2(w2({},o),{},uN({},i+n,r))},{});return a[t]=r,a};function Ks(e){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ks(e)}function qd(){return qd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qd.apply(this,arguments)}function k2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function b0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k2(Object(r),!0).forEach(function(n){Wn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dN(n.key),n)}}function CX(e,t,r){return t&&S2(e.prototype,t),r&&S2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function EX(e,t,r){return t=Zd(t),TX(e,fN()?Reflect.construct(t,r||[],Zd(e).constructor):t.apply(e,r))}function TX(e,t){if(t&&(Ks(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $X(e)}function $X(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fN=function(){return!!e})()}function Zd(e){return Zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zd(e)}function DX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pm(e,t)}function Pm(e,t){return Pm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Pm(e,t)}function Wn(e,t,r){return t=dN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dN(e){var t=RX(e,"string");return Ks(t)=="symbol"?t:t+""}function RX(e,t){if(Ks(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var LX=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,o=t.x,i=t.width,s=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=yc().domain(Yd(0,l)).range([o,o+i-s]),f=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(a),scale:c,scaleValues:f}},j2=function(t){return t.changedTouches&&!!t.changedTouches.length},Ys=function(e){function t(r){var n;return MX(this,t),n=EX(this,t,[r]),Wn(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Wn(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Wn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,o=a.endIndex,i=a.onDragEnd,s=a.startIndex;i==null||i({endIndex:o,startIndex:s})}),n.detachDragEndListener()}),Wn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Wn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Wn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Wn(n,"handleSlideDragStart",function(a){var o=j2(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return DX(t,e),CX(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,o=n.endX,i=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,f=c.length-1,d=Math.min(a,o),h=Math.max(a,o),p=t.getIndexInRange(i,d),y=t.getIndexInRange(i,h);return{startIndex:p-p%l,endIndex:y===f?f:y-y%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,o=a.data,i=a.tickFormatter,s=a.dataKey,l=Rr(o[n],s,n);return We(i)?i(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,o=a.slideMoveStartX,i=a.startX,s=a.endX,l=this.props,c=l.x,f=l.width,d=l.travellerWidth,h=l.startIndex,p=l.endIndex,y=l.onChange,v=n.pageX-o;v>0?v=Math.min(v,c+f-d-s,c+f-d-i):v<0&&(v=Math.max(v,c-i,c-s));var x=this.getIndex({startX:i+v,endX:s+v});(x.startIndex!==h||x.endIndex!==p)&&y&&y(x),this.setState({startX:i+v,endX:s+v,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var o=j2(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,o=a.brushMoveStartX,i=a.movingTravellerId,s=a.endX,l=a.startX,c=this.state[i],f=this.props,d=f.x,h=f.width,p=f.travellerWidth,y=f.onChange,v=f.gap,x=f.data,m={startX:this.state.startX,endX:this.state.endX},g=n.pageX-o;g>0?g=Math.min(g,d+h-p-c):g<0&&(g=Math.max(g,d-c)),m[i]=c+g;var b=this.getIndex(m),S=b.startIndex,w=b.endIndex,k=function(){var O=x.length-1;return i==="startX"&&(s>l?S%v===0:w%v===0)||s<l&&w===O||i==="endX"&&(s>l?w%v===0:S%v===0)||s>l&&w===O};this.setState(Wn(Wn({},i,c+g),"brushMoveStartX",n.pageX),function(){y&&k()&&y(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var o=this,i=this.state,s=i.scaleValues,l=i.startX,c=i.endX,f=this.state[a],d=s.indexOf(f);if(d!==-1){var h=d+n;if(!(h===-1||h>=s.length)){var p=s[h];a==="startX"&&p>=c||a==="endX"&&p<=l||this.setState(Wn({},a,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.fill,c=n.stroke;return D.createElement("rect",{stroke:c,fill:l,x:a,y:o,width:i,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.data,c=n.children,f=n.padding,d=j.Children.only(c);return d?D.cloneElement(d,{x:a,y:o,width:i,height:s,margin:f,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var o,i,s=this,l=this.props,c=l.y,f=l.travellerWidth,d=l.height,h=l.traveller,p=l.ariaLabel,y=l.data,v=l.startIndex,x=l.endIndex,m=Math.max(n,this.props.x),g=b0(b0({},ze(this.props,!1)),{},{x:m,y:c,width:f,height:d}),b=p||"Min value: ".concat((o=y[v])===null||o===void 0?void 0:o.name,", Max value: ").concat((i=y[x])===null||i===void 0?void 0:i.name);return D.createElement(dt,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),s.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,a))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,g))}},{key:"renderSlide",value:function(n,a){var o=this.props,i=o.y,s=o.height,l=o.stroke,c=o.travellerWidth,f=Math.min(n,a)+c,d=Math.max(Math.abs(a-n)-c,0);return D.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:f,y:i,width:d,height:s})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,o=n.endIndex,i=n.y,s=n.height,l=n.travellerWidth,c=n.stroke,f=this.state,d=f.startX,h=f.endX,p=5,y={pointerEvents:"none",fill:c};return D.createElement(dt,{className:"recharts-brush-texts"},D.createElement(jd,qd({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-p,y:i+s/2},y),this.getTextOfTick(a)),D.createElement(jd,qd({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+p,y:i+s/2},y),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,a=n.data,o=n.className,i=n.children,s=n.x,l=n.y,c=n.width,f=n.height,d=n.alwaysShowText,h=this.state,p=h.startX,y=h.endX,v=h.isTextActive,x=h.isSlideMoving,m=h.isTravellerMoving,g=h.isTravellerFocused;if(!a||!a.length||!fe(s)||!fe(l)||!fe(c)||!fe(f)||c<=0||f<=0)return null;var b=at("recharts-brush",o),S=D.Children.count(i)===1,w=AX("userSelect","none");return D.createElement(dt,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,y),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(y,"endX"),(v||x||m||g||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,o=n.y,i=n.width,s=n.height,l=n.stroke,c=Math.floor(o+s/2)-1;return D.createElement(D.Fragment,null,D.createElement("rect",{x:a,y:o,width:i,height:s,fill:l,stroke:"none"}),D.createElement("line",{x1:a+1,y1:c,x2:a+i-1,y2:c,fill:"none",stroke:"#fff"}),D.createElement("line",{x1:a+1,y1:c+2,x2:a+i-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var o;return D.isValidElement(n)?o=D.cloneElement(n,a):We(n)?o=n(a):o=t.renderDefaultTraveller(a),o}},{key:"getDerivedStateFromProps",value:function(n,a){var o=n.data,i=n.width,s=n.x,l=n.travellerWidth,c=n.updateId,f=n.startIndex,d=n.endIndex;if(o!==a.prevData||c!==a.prevUpdateId)return b0({prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:i},o&&o.length?LX({data:o,width:i,x:s,travellerWidth:l,startIndex:f,endIndex:d}):{scale:null,scaleValues:null});if(a.scale&&(i!==a.prevWidth||s!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([s,s+i-l]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:i,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var o=n.length,i=0,s=o-1;s-i>1;){var l=Math.floor((i+s)/2);n[l]>a?s=l:i=l}return a>=n[s]?s:i}}])}(j.PureComponent);Wn(Ys,"displayName","Brush");Wn(Ys,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var IX=gv;function BX(e,t){var r;return IX(e,function(n,a,o){return r=t(n,a,o),!r}),!!r}var FX=BX,zX=g_,UX=oi,WX=FX,GX=Bn,HX=Qh;function VX(e,t,r){var n=GX(e)?zX:WX;return r&&HX(e,t,r)&&(t=void 0),n(e,UX(t))}var XX=VX;const KX=Dt(XX);var Xa=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},_2=L_;function YX(e,t,r){t=="__proto__"&&_2?_2(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var qX=YX,ZX=qX,QX=D_,JX=oi;function eK(e,t){var r={};return t=JX(t),QX(e,function(n,a,o){ZX(r,a,t(n,a,o))}),r}var tK=eK;const rK=Dt(tK);function nK(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var aK=nK,oK=gv;function iK(e,t){var r=!0;return oK(e,function(n,a,o){return r=!!t(n,a,o),r}),r}var sK=iK,lK=aK,cK=sK,uK=oi,fK=Bn,dK=Qh;function hK(e,t,r){var n=fK(e)?lK:cK;return r&&dK(e,t,r)&&(t=void 0),n(e,uK(t))}var pK=hK;const hN=Dt(pK);var gK=["x","y"];function vu(e){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vu(e)}function Am(){return Am=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Am.apply(this,arguments)}function O2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O2(Object(r),!0).forEach(function(n){mK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mK(e,t,r){return t=yK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yK(e){var t=vK(e,"string");return vu(t)=="symbol"?t:t+""}function vK(e,t){if(vu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xK(e,t){if(e==null)return{};var r=bK(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wK(e,t){var r=e.x,n=e.y,a=xK(e,gK),o="".concat(r),i=parseInt(o,10),s="".concat(n),l=parseInt(s,10),c="".concat(t.height||a.height),f=parseInt(c,10),d="".concat(t.width||a.width),h=parseInt(d,10);return tc(tc(tc(tc(tc({},t),a),i?{x:i}:{}),l?{y:l}:{}),{},{height:f,width:h,name:t.name,radius:t.radius})}function N2(e){return D.createElement(Nm,Am({shapeType:"rectangle",propTransformer:wK,activeClassName:"recharts-active-bar"},e))}var kK=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var o=fe(n)||RT(n);return o?t(n,a):(o||Wi(),r)}},SK=["value","background"],pN;function qs(e){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qs(e)}function jK(e,t){if(e==null)return{};var r=_K(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _K(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Qd(){return Qd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qd.apply(this,arguments)}function P2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P2(Object(r),!0).forEach(function(n){zo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mN(n.key),n)}}function NK(e,t,r){return t&&A2(e.prototype,t),r&&A2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function PK(e,t,r){return t=Jd(t),AK(e,gN()?Reflect.construct(t,r||[],Jd(e).constructor):t.apply(e,r))}function AK(e,t){if(t&&(qs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MK(e)}function MK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gN=function(){return!!e})()}function Jd(e){return Jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jd(e)}function CK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mm(e,t)}function Mm(e,t){return Mm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Mm(e,t)}function zo(e,t,r){return t=mN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mN(e){var t=EK(e,"string");return qs(t)=="symbol"?t:t+""}function EK(e,t){if(qs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $u=function(e){function t(){var r;OK(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=PK(this,t,[].concat(a)),zo(r,"state",{isAnimationFinished:!1}),zo(r,"id",Yi("recharts-bar-")),zo(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),i&&i()}),zo(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),i&&i()}),r}return CK(t,e),NK(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,o=this.props,i=o.shape,s=o.dataKey,l=o.activeIndex,c=o.activeBar,f=ze(this.props,!1);return n&&n.map(function(d,h){var p=h===l,y=p?c:i,v=kr(kr(kr({},f),d),{},{isActive:p,option:y,index:h,dataKey:s,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return D.createElement(dt,Qd({className:"recharts-bar-rectangle"},zc(a.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),D.createElement(N2,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,o=a.data,i=a.layout,s=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,f=a.animationEasing,d=a.animationId,h=this.state.prevData;return D.createElement(Ea,{begin:l,duration:c,isActive:s,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var y=p.t,v=o.map(function(x,m){var g=h&&h[m];if(g){var b=vr(g.x,x.x),S=vr(g.y,x.y),w=vr(g.width,x.width),k=vr(g.height,x.height);return kr(kr({},x),{},{x:b(y),y:S(y),width:w(y),height:k(y)})}if(i==="horizontal"){var _=vr(0,x.height),O=_(y);return kr(kr({},x),{},{y:x.y+x.height-O,height:O})}var N=vr(0,x.width),P=N(y);return kr(kr({},x),{},{width:P})});return D.createElement(dt,null,n.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,o=n.isAnimationActive,i=this.state.prevData;return o&&a&&a.length&&(!i||!zi(i,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,o=a.data,i=a.dataKey,s=a.activeIndex,l=ze(this.props.background,!1);return o.map(function(c,f){c.value;var d=c.background,h=jK(c,SK);if(!d)return null;var p=kr(kr(kr(kr(kr({},h),{},{fill:"#eee"},d),l),zc(n.props,c,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:i,index:f,className:"recharts-bar-background-rectangle"});return D.createElement(N2,Qd({key:"background-bar-".concat(f),option:n.props.background,isActive:f===s},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.data,s=o.xAxis,l=o.yAxis,c=o.layout,f=o.children,d=In(f,_l);if(!d)return null;var h=c==="vertical"?i[0].height/2:i[0].width/2,p=function(x,m){var g=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:g,errorVal:Rr(x,m)}},y={clipPath:n?"url(#clipPath-".concat(a,")"):null};return D.createElement(dt,y,d.map(function(v){return D.cloneElement(v,{key:"error-bar-".concat(a,"-").concat(v.props.dataKey),data:i,xAxis:s,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,o=n.data,i=n.className,s=n.xAxis,l=n.yAxis,c=n.left,f=n.top,d=n.width,h=n.height,p=n.isAnimationActive,y=n.background,v=n.id;if(a||!o||!o.length)return null;var x=this.state.isAnimationFinished,m=at("recharts-bar",i),g=s&&s.allowDataOverflow,b=l&&l.allowDataOverflow,S=g||b,w=Be(v)?this.id:v;return D.createElement(dt,{className:m},g||b?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(w)},D.createElement("rect",{x:g?c:c-d/2,y:b?f:f-h/2,width:g?d:d*2,height:b?h:h*2}))):null,D.createElement(dt,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(w,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,w),(!p||x)&&Va.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(j.PureComponent);pN=$u;zo($u,"displayName","Bar");zo($u,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ii.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});zo($u,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,o=e.xAxis,i=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,f=e.dataStartIndex,d=e.displayedData,h=e.offset,p=oW(n,r);if(!p)return null;var y=t.layout,v=r.type.defaultProps,x=v!==void 0?kr(kr({},v),r.props):r.props,m=x.dataKey,g=x.children,b=x.minPointSize,S=y==="horizontal"?i:o,w=c?S.scale.domain():null,k=hW({numericAxis:S}),_=In(g,vv),O=d.map(function(N,P){var M,C,$,z,E,G;c?M=iW(c[f+P],w):(M=Rr(N,m),Array.isArray(M)||(M=[k,M]));var A=kK(b,pN.defaultProps.minPointSize)(M[1],P);if(y==="horizontal"){var I,B=[i.scale(M[0]),i.scale(M[1])],W=B[0],J=B[1];C=Cw({axis:o,ticks:s,bandSize:a,offset:p.offset,entry:N,index:P}),$=(I=J??W)!==null&&I!==void 0?I:void 0,z=p.size;var q=W-J;if(E=Number.isNaN(q)?0:q,G={x:C,y:i.y,width:z,height:i.height},Math.abs(A)>0&&Math.abs(E)<Math.abs(A)){var V=Pa(E||A)*(Math.abs(A)-Math.abs(E));$-=V,E+=V}}else{var ie=[o.scale(M[0]),o.scale(M[1])],te=ie[0],T=ie[1];if(C=te,$=Cw({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:N,index:P}),z=T-te,E=p.size,G={x:o.x,y:$,width:o.width,height:E},Math.abs(A)>0&&Math.abs(z)<Math.abs(A)){var oe=Pa(z||A)*(Math.abs(A)-Math.abs(z));z+=oe}}return kr(kr(kr({},N),{},{x:C,y:$,width:z,height:E,value:c?M:M[1],payload:N,background:G},_&&_[P]&&_[P].props),{},{tooltipPayload:[KO(r,N)],tooltipPosition:{x:C+z/2,y:$+E/2}})});return kr({data:O,layout:y},h)});function xu(e){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xu(e)}function TK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yN(n.key),n)}}function $K(e,t,r){return t&&M2(e.prototype,t),r&&M2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function C2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ja(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C2(Object(r),!0).forEach(function(n){fp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fp(e,t,r){return t=yN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yN(e){var t=DK(e,"string");return xu(t)=="symbol"?t:t+""}function DK(e,t){if(xu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hv=function(t,r,n,a,o){var i=t.width,s=t.height,l=t.layout,c=t.children,f=Object.keys(r),d={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!Hn(c,$u);return f.reduce(function(p,y){var v=r[y],x=v.orientation,m=v.domain,g=v.padding,b=g===void 0?{}:g,S=v.mirror,w=v.reversed,k="".concat(x).concat(S?"Mirror":""),_,O,N,P,M;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var C=m[1]-m[0],$=1/0,z=v.categoricalDomain.sort(FT);if(z.forEach(function(ie,te){te>0&&($=Math.min((ie||0)-(z[te-1]||0),$))}),Number.isFinite($)){var E=$/C,G=v.layout==="vertical"?n.height:n.width;if(v.padding==="gap"&&(_=E*G/2),v.padding==="no-gap"){var A=Fi(t.barCategoryGap,E*G),I=E*G/2;_=I-A-(I-A)/G*A}}}a==="xAxis"?O=[n.left+(b.left||0)+(_||0),n.left+n.width-(b.right||0)-(_||0)]:a==="yAxis"?O=l==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(_||0),n.top+n.height-(b.bottom||0)-(_||0)]:O=v.range,w&&(O=[O[1],O[0]]);var B=nW(v,o,h),W=B.scale,J=B.realScaleType;W.domain(m).range(O),aW(W);var q=dW(W,ja(ja({},v),{},{realScaleType:J}));a==="xAxis"?(M=x==="top"&&!S||x==="bottom"&&S,N=n.left,P=d[k]-M*v.height):a==="yAxis"&&(M=x==="left"&&!S||x==="right"&&S,N=d[k]-M*v.width,P=n.top);var V=ja(ja(ja({},v),q),{},{realScaleType:J,x:N,y:P,scale:W,width:a==="xAxis"?n.width:v.width,height:a==="yAxis"?n.height:v.height});return V.bandSize=Bd(V,q),!v.hide&&a==="xAxis"?d[k]+=(M?-1:1)*V.height:v.hide||(d[k]+=(M?-1:1)*V.width),ja(ja({},p),{},fp({},y,V))},{})},vN=function(t,r){var n=t.x,a=t.y,o=r.x,i=r.y;return{x:Math.min(n,o),y:Math.min(a,i),width:Math.abs(o-n),height:Math.abs(i-a)}},RK=function(t){var r=t.x1,n=t.y1,a=t.x2,o=t.y2;return vN({x:r,y:n},{x:a,y:o})},xN=function(){function e(t){TK(this,e),this.scale=t}return $K(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],o=n[n.length-1];return a<=o?r>=a&&r<=o:r>=o&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();fp(xN,"EPS",1e-4);var Vv=function(t){var r=Object.keys(t).reduce(function(n,a){return ja(ja({},n),{},fp({},a,xN.create(t[a])))},{});return ja(ja({},r),{},{apply:function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=o.bandAware,s=o.position;return rK(a,function(l,c){return r[c].apply(l,{bandAware:i,position:s})})},isInRange:function(a){return hN(a,function(o,i){return r[i].isInRange(o)})}})};function LK(e){return(e%180+180)%180}var IK=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=LK(a),i=o*Math.PI/180,s=Math.atan(n/r),l=i>s&&i<Math.PI-s?n/Math.sin(i):r/Math.cos(i);return Math.abs(l)},BK=oi,FK=Au,zK=qh;function UK(e){return function(t,r,n){var a=Object(t);if(!FK(t)){var o=BK(r);t=zK(t),r=function(s){return o(a[s],s,a)}}var i=e(t,r,n);return i>-1?a[o?t[i]:i]:void 0}}var WK=UK,GK=cN;function HK(e){var t=GK(e),r=t%1;return t===t?r?t-r:t:0}var VK=HK,XK=A_,KK=oi,YK=VK,qK=Math.max;function ZK(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:YK(r);return a<0&&(a=qK(n+a,0)),XK(e,KK(t),a)}var QK=ZK,JK=WK,eY=QK,tY=JK(eY),rY=tY;const nY=Dt(rY);var aY=UE(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Xv=j.createContext(void 0),Kv=j.createContext(void 0),bN=j.createContext(void 0),wN=j.createContext({}),kN=j.createContext(void 0),SN=j.createContext(0),jN=j.createContext(0),E2=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,o=r.offset,i=t.clipPathId,s=t.children,l=t.width,c=t.height,f=aY(o);return D.createElement(Xv.Provider,{value:n},D.createElement(Kv.Provider,{value:a},D.createElement(wN.Provider,{value:o},D.createElement(bN.Provider,{value:f},D.createElement(kN.Provider,{value:i},D.createElement(SN.Provider,{value:c},D.createElement(jN.Provider,{value:l},s)))))))},oY=function(){return j.useContext(kN)},_N=function(t){var r=j.useContext(Xv);r==null&&Wi();var n=r[t];return n==null&&Wi(),n},iY=function(){var t=j.useContext(Xv);return Lo(t)},sY=function(){var t=j.useContext(Kv),r=nY(t,function(n){return hN(n.domain,Number.isFinite)});return r||Lo(t)},ON=function(t){var r=j.useContext(Kv);r==null&&Wi();var n=r[t];return n==null&&Wi(),n},lY=function(){var t=j.useContext(bN);return t},cY=function(){return j.useContext(wN)},Yv=function(){return j.useContext(jN)},qv=function(){return j.useContext(SN)};function Zs(e){"@babel/helpers - typeof";return Zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zs(e)}function uY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PN(n.key),n)}}function dY(e,t,r){return t&&fY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hY(e,t,r){return t=eh(t),pY(e,NN()?Reflect.construct(t,r||[],eh(e).constructor):t.apply(e,r))}function pY(e,t){if(t&&(Zs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gY(e)}function gY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NN=function(){return!!e})()}function eh(e){return eh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},eh(e)}function mY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cm(e,t)}function Cm(e,t){return Cm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Cm(e,t)}function T2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T2(Object(r),!0).forEach(function(n){Zv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zv(e,t,r){return t=PN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PN(e){var t=yY(e,"string");return Zs(t)=="symbol"?t:t+""}function yY(e,t){if(Zs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function vY(e,t){return kY(e)||wY(e,t)||bY(e,t)||xY()}function xY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bY(e,t){if(e){if(typeof e=="string")return D2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D2(e,t)}}function D2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wY(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function kY(e){if(Array.isArray(e))return e}function Em(){return Em=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Em.apply(this,arguments)}var SY=function(t,r){var n;return D.isValidElement(t)?n=D.cloneElement(t,r):We(t)?n=t(r):n=D.createElement("line",Em({},r,{className:"recharts-reference-line-line"})),n},jY=function(t,r,n,a,o,i,s,l,c){var f=o.x,d=o.y,h=o.width,p=o.height;if(n){var y=c.y,v=t.y.apply(y,{position:i});if(Xa(c,"discard")&&!t.y.isInRange(v))return null;var x=[{x:f+h,y:v},{x:f,y:v}];return l==="left"?x.reverse():x}if(r){var m=c.x,g=t.x.apply(m,{position:i});if(Xa(c,"discard")&&!t.x.isInRange(g))return null;var b=[{x:g,y:d+p},{x:g,y:d}];return s==="top"?b.reverse():b}if(a){var S=c.segment,w=S.map(function(k){return t.apply(k,{position:i})});return Xa(c,"discard")&&KX(w,function(k){return!t.isInRange(k)})?null:w}return null};function _Y(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,o=e.yAxisId,i=e.shape,s=e.className,l=e.alwaysShow,c=oY(),f=_N(a),d=ON(o),h=lY();if(!c||!h)return null;lo(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Vv({x:f.scale,y:d.scale}),y=Dr(t),v=Dr(r),x=n&&n.length===2,m=jY(p,y,v,x,h,e.position,f.orientation,d.orientation,e);if(!m)return null;var g=vY(m,2),b=g[0],S=b.x,w=b.y,k=g[1],_=k.x,O=k.y,N=Xa(e,"hidden")?"url(#".concat(c,")"):void 0,P=$2($2({clipPath:N},ze(e,!0)),{},{x1:S,y1:w,x2:_,y2:O});return D.createElement(dt,{className:at("recharts-reference-line",s)},SY(i,P),hn.renderCallByParent(e,RK({x1:S,y1:w,x2:_,y2:O})))}var Oi=function(e){function t(){return uY(this,t),hY(this,t,arguments)}return mY(t,e),dY(t,[{key:"render",value:function(){return D.createElement(_Y,this.props)}}])}(D.Component);Zv(Oi,"displayName","ReferenceLine");Zv(Oi,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Tm(){return Tm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tm.apply(this,arguments)}function Qs(e){"@babel/helpers - typeof";return Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qs(e)}function R2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function L2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R2(Object(r),!0).forEach(function(n){dp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MN(n.key),n)}}function PY(e,t,r){return t&&NY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function AY(e,t,r){return t=th(t),MY(e,AN()?Reflect.construct(t,r||[],th(e).constructor):t.apply(e,r))}function MY(e,t){if(t&&(Qs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CY(e)}function CY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AN=function(){return!!e})()}function th(e){return th=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},th(e)}function EY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$m(e,t)}function $m(e,t){return $m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$m(e,t)}function dp(e,t,r){return t=MN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MN(e){var t=TY(e,"string");return Qs(t)=="symbol"?t:t+""}function TY(e,t){if(Qs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $Y=function(t){var r=t.x,n=t.y,a=t.xAxis,o=t.yAxis,i=Vv({x:a.scale,y:o.scale}),s=i.apply({x:r,y:n},{bandAware:!0});return Xa(t,"discard")&&!i.isInRange(s)?null:s},hp=function(e){function t(){return OY(this,t),AY(this,t,arguments)}return EY(t,e),PY(t,[{key:"render",value:function(){var n=this.props,a=n.x,o=n.y,i=n.r,s=n.alwaysShow,l=n.clipPathId,c=Dr(a),f=Dr(o);if(lo(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!f)return null;var d=$Y(this.props);if(!d)return null;var h=d.x,p=d.y,y=this.props,v=y.shape,x=y.className,m=Xa(this.props,"hidden")?"url(#".concat(l,")"):void 0,g=L2(L2({clipPath:m},ze(this.props,!0)),{},{cx:h,cy:p});return D.createElement(dt,{className:at("recharts-reference-dot",x)},t.renderDot(v,g),hn.renderCallByParent(this.props,{x:h-i,y:p-i,width:2*i,height:2*i}))}}])}(D.Component);dp(hp,"displayName","ReferenceDot");dp(hp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});dp(hp,"renderDot",function(e,t){var r;return D.isValidElement(e)?r=D.cloneElement(e,t):We(e)?r=e(t):r=D.createElement(lp,Tm({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Dm(){return Dm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dm.apply(this,arguments)}function Js(e){"@babel/helpers - typeof";return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Js(e)}function I2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function B2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I2(Object(r),!0).forEach(function(n){pp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EN(n.key),n)}}function LY(e,t,r){return t&&RY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function IY(e,t,r){return t=rh(t),BY(e,CN()?Reflect.construct(t,r||[],rh(e).constructor):t.apply(e,r))}function BY(e,t){if(t&&(Js(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FY(e)}function FY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CN=function(){return!!e})()}function rh(e){return rh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rh(e)}function zY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rm(e,t)}function Rm(e,t){return Rm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Rm(e,t)}function pp(e,t,r){return t=EN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EN(e){var t=UY(e,"string");return Js(t)=="symbol"?t:t+""}function UY(e,t){if(Js(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Js(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var WY=function(t,r,n,a,o){var i=o.x1,s=o.x2,l=o.y1,c=o.y2,f=o.xAxis,d=o.yAxis;if(!f||!d)return null;var h=Vv({x:f.scale,y:d.scale}),p={x:t?h.x.apply(i,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},y={x:r?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(c,{position:"end"}):h.y.rangeMax};return Xa(o,"discard")&&(!h.isInRange(p)||!h.isInRange(y))?null:vN(p,y)},Du=function(e){function t(){return DY(this,t),IY(this,t,arguments)}return zY(t,e),LY(t,[{key:"render",value:function(){var n=this.props,a=n.x1,o=n.x2,i=n.y1,s=n.y2,l=n.className,c=n.alwaysShow,f=n.clipPathId;lo(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Dr(a),h=Dr(o),p=Dr(i),y=Dr(s),v=this.props.shape;if(!d&&!h&&!p&&!y&&!v)return null;var x=WY(d,h,p,y,this.props);if(!x&&!v)return null;var m=Xa(this.props,"hidden")?"url(#".concat(f,")"):void 0;return D.createElement(dt,{className:at("recharts-reference-area",l)},t.renderRect(v,B2(B2({clipPath:m},ze(this.props,!0)),x)),hn.renderCallByParent(this.props,x))}}])}(D.Component);pp(Du,"displayName","ReferenceArea");pp(Du,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});pp(Du,"renderRect",function(e,t){var r;return D.isValidElement(e)?r=D.cloneElement(e,t):We(e)?r=e(t):r=D.createElement(Gv,Dm({},t,{className:"recharts-reference-area-rect"})),r});function TN(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function GY(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return IK(n,r)}function HY(e,t,r){var n=r==="width",a=e.x,o=e.y,i=e.width,s=e.height;return t===1?{start:n?a:o,end:n?a+i:o+s}:{start:n?a+i:o+s,end:n?a:o}}function nh(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var o=r();return e*(t-e*o/2-n)>=0&&e*(t+e*o/2-a)<=0}function VY(e,t){return TN(e,t+1)}function XY(e,t,r,n,a){for(var o=(n||[]).slice(),i=t.start,s=t.end,l=0,c=1,f=i,d=function(){var y=n==null?void 0:n[l];if(y===void 0)return{v:TN(n,c)};var v=l,x,m=function(){return x===void 0&&(x=r(y,v)),x},g=y.coordinate,b=l===0||nh(e,g,m,f,s);b||(l=0,f=i,c+=1),b&&(f=g+e*(m()/2+a),l+=c)},h;c<=o.length;)if(h=d(),h)return h.v;return[]}function bu(e){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bu(e)}function F2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F2(Object(r),!0).forEach(function(n){KY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KY(e,t,r){return t=YY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YY(e){var t=qY(e,"string");return bu(t)=="symbol"?t:t+""}function qY(e,t){if(bu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZY(e,t,r,n,a){for(var o=(n||[]).slice(),i=o.length,s=t.start,l=t.end,c=function(h){var p=o[h],y,v=function(){return y===void 0&&(y=r(p,h)),y};if(h===i-1){var x=e*(p.coordinate+e*v()/2-l);o[h]=p=fn(fn({},p),{},{tickCoord:x>0?p.coordinate-x*e:p.coordinate})}else o[h]=p=fn(fn({},p),{},{tickCoord:p.coordinate});var m=nh(e,p.tickCoord,v,s,l);m&&(l=p.tickCoord-e*(v()/2+a),o[h]=fn(fn({},p),{},{isShow:!0}))},f=i-1;f>=0;f--)c(f);return o}function QY(e,t,r,n,a,o){var i=(n||[]).slice(),s=i.length,l=t.start,c=t.end;if(o){var f=n[s-1],d=r(f,s-1),h=e*(f.coordinate+e*d/2-c);i[s-1]=f=fn(fn({},f),{},{tickCoord:h>0?f.coordinate-h*e:f.coordinate});var p=nh(e,f.tickCoord,function(){return d},l,c);p&&(c=f.tickCoord-e*(d/2+a),i[s-1]=fn(fn({},f),{},{isShow:!0}))}for(var y=o?s-1:s,v=function(g){var b=i[g],S,w=function(){return S===void 0&&(S=r(b,g)),S};if(g===0){var k=e*(b.coordinate-e*w()/2-l);i[g]=b=fn(fn({},b),{},{tickCoord:k<0?b.coordinate-k*e:b.coordinate})}else i[g]=b=fn(fn({},b),{},{tickCoord:b.coordinate});var _=nh(e,b.tickCoord,w,l,c);_&&(l=b.tickCoord+e*(w()/2+a),i[g]=fn(fn({},b),{},{isShow:!0}))},x=0;x<y;x++)v(x);return i}function Qv(e,t,r){var n=e.tick,a=e.ticks,o=e.viewBox,i=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,f=e.unit,d=e.angle;if(!a||!a.length||!n)return[];if(fe(l)||ii.isSsr)return VY(a,typeof l=="number"&&fe(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",y=f&&p==="width"?mc(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=function(b,S){var w=We(c)?c(b.value,S):b.value;return p==="width"?GY(mc(w,{fontSize:t,letterSpacing:r}),y,d):mc(w,{fontSize:t,letterSpacing:r})[p]},x=a.length>=2?Pa(a[1].coordinate-a[0].coordinate):1,m=HY(o,x,p);return l==="equidistantPreserveStart"?XY(x,m,v,a,i):(l==="preserveStart"||l==="preserveStartEnd"?h=QY(x,m,v,a,i,l==="preserveStartEnd"):h=ZY(x,m,v,a,i),h.filter(function(g){return g.isShow}))}var JY=["viewBox"],eq=["viewBox"],tq=["ticks"];function el(e){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},el(e)}function vs(){return vs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vs.apply(this,arguments)}function z2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z2(Object(r),!0).forEach(function(n){Jv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w0(e,t){if(e==null)return{};var r=rq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function nq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DN(n.key),n)}}function aq(e,t,r){return t&&U2(e.prototype,t),r&&U2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function oq(e,t,r){return t=ah(t),iq(e,$N()?Reflect.construct(t,r||[],ah(e).constructor):t.apply(e,r))}function iq(e,t){if(t&&(el(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sq(e)}function sq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $N(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($N=function(){return!!e})()}function ah(e){return ah=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ah(e)}function lq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lm(e,t)}function Lm(e,t){return Lm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Lm(e,t)}function Jv(e,t,r){return t=DN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DN(e){var t=cq(e,"string");return el(t)=="symbol"?t:t+""}function cq(e,t){if(el(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(el(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ol=function(e){function t(r){var n;return nq(this,t),n=oq(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return lq(t,e),aq(t,[{key:"shouldComponentUpdate",value:function(n,a){var o=n.viewBox,i=w0(n,JY),s=this.props,l=s.viewBox,c=w0(s,eq);return!Os(o,l)||!Os(i,c)||!Os(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,o=a.x,i=a.y,s=a.width,l=a.height,c=a.orientation,f=a.tickSize,d=a.mirror,h=a.tickMargin,p,y,v,x,m,g,b=d?-1:1,S=n.tickSize||f,w=fe(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":p=y=n.coordinate,x=i+ +!d*l,v=x-b*S,g=v-b*h,m=w;break;case"left":v=x=n.coordinate,y=o+ +!d*s,p=y-b*S,m=p-b*h,g=w;break;case"right":v=x=n.coordinate,y=o+ +d*s,p=y+b*S,m=p+b*h,g=w;break;default:p=y=n.coordinate,x=i+ +d*l,v=x+b*S,g=v+b*h,m=w;break}return{line:{x1:p,y1:v,x2:y,y2:x},tick:{x:m,y:g}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,o=n.mirror,i;switch(a){case"left":i=o?"start":"end";break;case"right":i=o?"end":"start";break;default:i="middle";break}return i}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,o=n.mirror,i="end";switch(a){case"left":case"right":i="middle";break;case"top":i=o?"start":"end";break;default:i=o?"end":"start";break}return i}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.orientation,c=n.mirror,f=n.axisLine,d=Cr(Cr(Cr({},ze(this.props,!1)),ze(f,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);d=Cr(Cr({},d),{},{x1:a,y1:o+h*s,x2:a+i,y2:o+h*s})}else{var p=+(l==="left"&&!c||l==="right"&&c);d=Cr(Cr({},d),{},{x1:a+p*i,y1:o,x2:a+p*i,y2:o+s})}return D.createElement("line",vs({},d,{className:at("recharts-cartesian-axis-line",fa(f,"className"))}))}},{key:"renderTicks",value:function(n,a,o){var i=this,s=this.props,l=s.tickLine,c=s.stroke,f=s.tick,d=s.tickFormatter,h=s.unit,p=Qv(Cr(Cr({},this.props),{},{ticks:n}),a,o),y=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),x=ze(this.props,!1),m=ze(f,!1),g=Cr(Cr({},x),{},{fill:"none"},ze(l,!1)),b=p.map(function(S,w){var k=i.getTickLineCoord(S),_=k.line,O=k.tick,N=Cr(Cr(Cr(Cr({textAnchor:y,verticalAnchor:v},x),{},{stroke:"none",fill:c},m),O),{},{index:w,payload:S,visibleTicksCount:p.length,tickFormatter:d});return D.createElement(dt,vs({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},zc(i.props,S,w)),l&&D.createElement("line",vs({},g,_,{className:at("recharts-cartesian-axis-tick-line",fa(l,"className"))})),f&&t.renderTickItem(f,N,"".concat(We(d)?d(S.value,w):S.value).concat(h||"")))});return D.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,a=this.props,o=a.axisLine,i=a.width,s=a.height,l=a.ticksGenerator,c=a.className,f=a.hide;if(f)return null;var d=this.props,h=d.ticks,p=w0(d,tq),y=h;return We(l)&&(y=h&&h.length>0?l(this.props):l(p)),i<=0||s<=0||!y||!y.length?null:D.createElement(dt,{className:at("recharts-cartesian-axis",c),ref:function(x){n.layerReference=x}},o&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),hn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,o){var i,s=at(a.className,"recharts-cartesian-axis-tick-value");return D.isValidElement(n)?i=D.cloneElement(n,Cr(Cr({},a),{},{className:s})):We(n)?i=n(Cr(Cr({},a),{},{className:s})):i=D.createElement(jd,vs({},a,{className:"recharts-cartesian-axis-tick-value"}),o),i}}])}(j.Component);Jv(Ol,"displayName","CartesianAxis");Jv(Ol,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var uq=["x1","y1","x2","y2","key"],fq=["offset"];function Gi(e){"@babel/helpers - typeof";return Gi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gi(e)}function W2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W2(Object(r),!0).forEach(function(n){dq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dq(e,t,r){return t=hq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hq(e){var t=pq(e,"string");return Gi(t)=="symbol"?t:t+""}function pq(e,t){if(Gi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ni(){return Ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ni.apply(this,arguments)}function G2(e,t){if(e==null)return{};var r=gq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var mq=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,o=t.y,i=t.width,s=t.height,l=t.ry;return D.createElement("rect",{x:a,y:o,ry:l,width:i,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function RN(e,t){var r;if(D.isValidElement(e))r=D.cloneElement(e,t);else if(We(e))r=e(t);else{var n=t.x1,a=t.y1,o=t.x2,i=t.y2,s=t.key,l=G2(t,uq),c=ze(l,!1);c.offset;var f=G2(c,fq);r=D.createElement("line",Ni({},f,{x1:n,y1:a,x2:o,y2:i,fill:"none",key:s}))}return r}function yq(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,o=e.horizontalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(s,l){var c=pn(pn({},e),{},{x1:t,y1:s,x2:t+r,y2:s,key:"line-".concat(l),index:l});return RN(a,c)});return D.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function vq(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,o=e.verticalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(s,l){var c=pn(pn({},e),{},{x1:s,y1:t,x2:s,y2:t+r,key:"line-".concat(l),index:l});return RN(a,c)});return D.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function xq(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,o=e.width,i=e.height,s=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var f=s.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==f[0]&&f.unshift(0);var d=f.map(function(h,p){var y=!f[p+1],v=y?a+i-h:f[p+1]-h;if(v<=0)return null;var x=p%t.length;return D.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:v,width:o,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function bq(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,o=e.x,i=e.y,s=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var f=c.map(function(h){return Math.round(h+o-o)}).sort(function(h,p){return h-p});o!==f[0]&&f.unshift(0);var d=f.map(function(h,p){var y=!f[p+1],v=y?o+s-h:f[p+1]-h;if(v<=0)return null;var x=p%n.length;return D.createElement("rect",{key:"react-".concat(p),x:h,y:i,width:v,height:l,stroke:"none",fill:n[x],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var wq=function(t,r){var n=t.xAxis,a=t.width,o=t.height,i=t.offset;return VO(Qv(pn(pn(pn({},Ol.defaultProps),n),{},{ticks:oo(n,!0),viewBox:{x:0,y:0,width:a,height:o}})),i.left,i.left+i.width,r)},kq=function(t,r){var n=t.yAxis,a=t.width,o=t.height,i=t.offset;return VO(Qv(pn(pn(pn({},Ol.defaultProps),n),{},{ticks:oo(n,!0),viewBox:{x:0,y:0,width:a,height:o}})),i.top,i.top+i.height,r)},ns={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Hi(e){var t,r,n,a,o,i,s=Yv(),l=qv(),c=cY(),f=pn(pn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:ns.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:ns.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:ns.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:ns.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:ns.vertical,verticalFill:(i=e.verticalFill)!==null&&i!==void 0?i:ns.verticalFill,x:fe(e.x)?e.x:c.left,y:fe(e.y)?e.y:c.top,width:fe(e.width)?e.width:c.width,height:fe(e.height)?e.height:c.height}),d=f.x,h=f.y,p=f.width,y=f.height,v=f.syncWithTicks,x=f.horizontalValues,m=f.verticalValues,g=iY(),b=sY();if(!fe(p)||p<=0||!fe(y)||y<=0||!fe(d)||d!==+d||!fe(h)||h!==+h)return null;var S=f.verticalCoordinatesGenerator||wq,w=f.horizontalCoordinatesGenerator||kq,k=f.horizontalPoints,_=f.verticalPoints;if((!k||!k.length)&&We(w)){var O=x&&x.length,N=w({yAxis:b?pn(pn({},b),{},{ticks:O?x:b.ticks}):void 0,width:s,height:l,offset:c},O?!0:v);lo(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Gi(N),"]")),Array.isArray(N)&&(k=N)}if((!_||!_.length)&&We(S)){var P=m&&m.length,M=S({xAxis:g?pn(pn({},g),{},{ticks:P?m:g.ticks}):void 0,width:s,height:l,offset:c},P?!0:v);lo(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Gi(M),"]")),Array.isArray(M)&&(_=M)}return D.createElement("g",{className:"recharts-cartesian-grid"},D.createElement(mq,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),D.createElement(yq,Ni({},f,{offset:c,horizontalPoints:k,xAxis:g,yAxis:b})),D.createElement(vq,Ni({},f,{offset:c,verticalPoints:_,xAxis:g,yAxis:b})),D.createElement(xq,Ni({},f,{horizontalPoints:k})),D.createElement(bq,Ni({},f,{verticalPoints:_})))}Hi.displayName="CartesianGrid";var Sq=["type","layout","connectNulls","ref"],jq=["key"];function tl(e){"@babel/helpers - typeof";return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tl(e)}function H2(e,t){if(e==null)return{};var r=_q(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _q(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function bc(){return bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bc.apply(this,arguments)}function V2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Un(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V2(Object(r),!0).forEach(function(n){_a(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function as(e){return Aq(e)||Pq(e)||Nq(e)||Oq()}function Oq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nq(e,t){if(e){if(typeof e=="string")return Im(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Im(e,t)}}function Pq(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Aq(e){if(Array.isArray(e))return Im(e)}function Im(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Mq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IN(n.key),n)}}function Cq(e,t,r){return t&&X2(e.prototype,t),r&&X2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Eq(e,t,r){return t=oh(t),Tq(e,LN()?Reflect.construct(t,r||[],oh(e).constructor):t.apply(e,r))}function Tq(e,t){if(t&&(tl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $q(e)}function $q(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LN=function(){return!!e})()}function oh(e){return oh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},oh(e)}function Dq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bm(e,t)}function Bm(e,t){return Bm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Bm(e,t)}function _a(e,t,r){return t=IN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IN(e){var t=Rq(e,"string");return tl(t)=="symbol"?t:t+""}function Rq(e,t){if(tl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var en=function(e){function t(){var r;Mq(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=Eq(this,t,[].concat(a)),_a(r,"state",{isAnimationFinished:!0,totalLength:0}),_a(r,"generateSimpleStrokeDasharray",function(i,s){return"".concat(s,"px ").concat(i-s,"px")}),_a(r,"getStrokeDasharray",function(i,s,l){var c=l.reduce(function(m,g){return m+g});if(!c)return r.generateSimpleStrokeDasharray(s,i);for(var f=Math.floor(i/c),d=i%c,h=s-i,p=[],y=0,v=0;y<l.length;v+=l[y],++y)if(v+l[y]>d){p=[].concat(as(l.slice(0,y)),[d-v]);break}var x=p.length%2===0?[0,h]:[h];return[].concat(as(t.repeat(l,f)),as(p),x).map(function(m){return"".concat(m,"px")}).join(", ")}),_a(r,"id",Yi("recharts-line-")),_a(r,"pathRef",function(i){r.mainCurve=i}),_a(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),_a(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Dq(t,e),Cq(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.points,s=o.xAxis,l=o.yAxis,c=o.layout,f=o.children,d=In(f,_l);if(!d)return null;var h=function(v,x){return{x:v.x,y:v.y,value:v.value,errorVal:Rr(v.payload,x)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return D.createElement(dt,p,d.map(function(y){return D.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:i,xAxis:s,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,o){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,c=s.points,f=s.dataKey,d=ze(this.props,!1),h=ze(l,!0),p=c.map(function(v,x){var m=Un(Un(Un({key:"dot-".concat(x),r:3},d),h),{},{index:x,cx:v.x,cy:v.y,value:v.value,dataKey:f,payload:v.payload,points:c});return t.renderDotItem(l,m)}),y={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return D.createElement(dt,bc({className:"recharts-line-dots",key:"dots"},y),p)}},{key:"renderCurveStatically",value:function(n,a,o,i){var s=this.props,l=s.type,c=s.layout,f=s.connectNulls;s.ref;var d=H2(s,Sq),h=Un(Un(Un({},ze(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(o,")"):null,points:n},i),{},{type:l,layout:c,connectNulls:f});return D.createElement(Ti,bc({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var o=this,i=this.props,s=i.points,l=i.strokeDasharray,c=i.isAnimationActive,f=i.animationBegin,d=i.animationDuration,h=i.animationEasing,p=i.animationId,y=i.animateNewValues,v=i.width,x=i.height,m=this.state,g=m.prevPoints,b=m.totalLength;return D.createElement(Ea,{begin:f,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var w=S.t;if(g){var k=g.length/s.length,_=s.map(function(C,$){var z=Math.floor($*k);if(g[z]){var E=g[z],G=vr(E.x,C.x),A=vr(E.y,C.y);return Un(Un({},C),{},{x:G(w),y:A(w)})}if(y){var I=vr(v*2,C.x),B=vr(x/2,C.y);return Un(Un({},C),{},{x:I(w),y:B(w)})}return Un(Un({},C),{},{x:C.x,y:C.y})});return o.renderCurveStatically(_,n,a)}var O=vr(0,b),N=O(w),P;if(l){var M="".concat(l).split(/[,\s]+/gim).map(function(C){return parseFloat(C)});P=o.getStrokeDasharray(N,b,M)}else P=o.generateSimpleStrokeDasharray(b,N);return o.renderCurveStatically(s,n,a,{strokeDasharray:P})})}},{key:"renderCurve",value:function(n,a){var o=this.props,i=o.points,s=o.isAnimationActive,l=this.state,c=l.prevPoints,f=l.totalLength;return s&&i&&i.length&&(!c&&f>0||!zi(c,i))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(i,n,a)}},{key:"render",value:function(){var n,a=this.props,o=a.hide,i=a.dot,s=a.points,l=a.className,c=a.xAxis,f=a.yAxis,d=a.top,h=a.left,p=a.width,y=a.height,v=a.isAnimationActive,x=a.id;if(o||!s||!s.length)return null;var m=this.state.isAnimationFinished,g=s.length===1,b=at("recharts-line",l),S=c&&c.allowDataOverflow,w=f&&f.allowDataOverflow,k=S||w,_=Be(x)?this.id:x,O=(n=ze(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},N=O.r,P=N===void 0?3:N,M=O.strokeWidth,C=M===void 0?2:M,$=Fj(i)?i:{},z=$.clipDot,E=z===void 0?!0:z,G=P*2+C;return D.createElement(dt,{className:b},S||w?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(_)},D.createElement("rect",{x:S?h:h-p/2,y:w?d:d-y/2,width:S?p:p*2,height:w?y:y*2})),!E&&D.createElement("clipPath",{id:"clipPath-dots-".concat(_)},D.createElement("rect",{x:h-G/2,y:d-G/2,width:p+G,height:y+G}))):null,!g&&this.renderCurve(k,_),this.renderErrorBar(k,_),(g||i)&&this.renderDots(k,E,_),(!v||m)&&Va.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var o=n.length%2!==0?[].concat(as(n),[0]):n,i=[],s=0;s<a;++s)i=[].concat(as(i),as(o));return i}},{key:"renderDotItem",value:function(n,a){var o;if(D.isValidElement(n))o=D.cloneElement(n,a);else if(We(n))o=n(a);else{var i=a.key,s=H2(a,jq),l=at("recharts-line-dot",typeof n!="boolean"?n.className:"");o=D.createElement(lp,bc({key:i},s,{className:l}))}return o}}])}(j.PureComponent);_a(en,"displayName","Line");_a(en,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ii.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});_a(en,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,i=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,f=t.layout,d=l.map(function(h,p){var y=Rr(h,i);return f==="horizontal"?{x:Vs({axis:r,ticks:a,bandSize:s,entry:h,index:p}),y:Be(y)?null:n.scale(y),value:y,payload:h}:{x:Be(y)?null:r.scale(y),y:Vs({axis:n,ticks:o,bandSize:s,entry:h,index:p}),value:y,payload:h}});return Un({points:d,layout:f},c)});var Lq=["layout","type","stroke","connectNulls","isRange","ref"],Iq=["key"],BN;function rl(e){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rl(e)}function FN(e,t){if(e==null)return{};var r=Bq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Bq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Pi(){return Pi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pi.apply(this,arguments)}function K2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Co(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K2(Object(r),!0).forEach(function(n){Ua(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UN(n.key),n)}}function zq(e,t,r){return t&&Y2(e.prototype,t),r&&Y2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Uq(e,t,r){return t=ih(t),Wq(e,zN()?Reflect.construct(t,r||[],ih(e).constructor):t.apply(e,r))}function Wq(e,t){if(t&&(rl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gq(e)}function Gq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zN=function(){return!!e})()}function ih(e){return ih=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ih(e)}function Hq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fm(e,t)}function Fm(e,t){return Fm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Fm(e,t)}function Ua(e,t,r){return t=UN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UN(e){var t=Vq(e,"string");return rl(t)=="symbol"?t:t+""}function Vq(e,t){if(rl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ca=function(e){function t(){var r;Fq(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=Uq(this,t,[].concat(a)),Ua(r,"state",{isAnimationFinished:!0}),Ua(r,"id",Yi("recharts-area-")),Ua(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),We(i)&&i()}),Ua(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),We(i)&&i()}),r}return Hq(t,e),zq(t,[{key:"renderDots",value:function(n,a,o){var i=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(i&&!s)return null;var l=this.props,c=l.dot,f=l.points,d=l.dataKey,h=ze(this.props,!1),p=ze(c,!0),y=f.map(function(x,m){var g=Co(Co(Co({key:"dot-".concat(m),r:3},h),p),{},{index:m,cx:x.x,cy:x.y,dataKey:d,value:x.value,payload:x.payload,points:f});return t.renderDotItem(c,g)}),v={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return D.createElement(dt,Pi({className:"recharts-area-dots"},v),y)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,o=a.baseLine,i=a.points,s=a.strokeWidth,l=i[0].x,c=i[i.length-1].x,f=n*Math.abs(l-c),d=Fo(i.map(function(h){return h.y||0}));return fe(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(Fo(o.map(function(h){return h.y||0})),d)),fe(d)?D.createElement("rect",{x:l<c?l:l-f,y:0,width:f,height:Math.floor(d+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,o=a.baseLine,i=a.points,s=a.strokeWidth,l=i[0].y,c=i[i.length-1].y,f=n*Math.abs(l-c),d=Fo(i.map(function(h){return h.x||0}));return fe(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(Fo(o.map(function(h){return h.x||0})),d)),fe(d)?D.createElement("rect",{x:0,y:l<c?l:l-f,width:d+(s?parseInt("".concat(s),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,o,i){var s=this.props,l=s.layout,c=s.type,f=s.stroke,d=s.connectNulls,h=s.isRange;s.ref;var p=FN(s,Lq);return D.createElement(dt,{clipPath:o?"url(#clipPath-".concat(i,")"):null},D.createElement(Ti,Pi({},ze(p,!0),{points:n,connectNulls:d,type:c,baseLine:a,layout:l,stroke:"none",className:"recharts-area-area"})),f!=="none"&&D.createElement(Ti,Pi({},ze(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:n})),f!=="none"&&h&&D.createElement(Ti,Pi({},ze(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var o=this,i=this.props,s=i.points,l=i.baseLine,c=i.isAnimationActive,f=i.animationBegin,d=i.animationDuration,h=i.animationEasing,p=i.animationId,y=this.state,v=y.prevPoints,x=y.prevBaseLine;return D.createElement(Ea,{begin:f,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t;if(v){var b=v.length/s.length,S=s.map(function(O,N){var P=Math.floor(N*b);if(v[P]){var M=v[P],C=vr(M.x,O.x),$=vr(M.y,O.y);return Co(Co({},O),{},{x:C(g),y:$(g)})}return O}),w;if(fe(l)&&typeof l=="number"){var k=vr(x,l);w=k(g)}else if(Be(l)||vl(l)){var _=vr(x,0);w=_(g)}else w=l.map(function(O,N){var P=Math.floor(N*b);if(x[P]){var M=x[P],C=vr(M.x,O.x),$=vr(M.y,O.y);return Co(Co({},O),{},{x:C(g),y:$(g)})}return O});return o.renderAreaStatically(S,w,n,a)}return D.createElement(dt,null,D.createElement("defs",null,D.createElement("clipPath",{id:"animationClipPath-".concat(a)},o.renderClipRect(g))),D.createElement(dt,{clipPath:"url(#animationClipPath-".concat(a,")")},o.renderAreaStatically(s,l,n,a)))})}},{key:"renderArea",value:function(n,a){var o=this.props,i=o.points,s=o.baseLine,l=o.isAnimationActive,c=this.state,f=c.prevPoints,d=c.prevBaseLine,h=c.totalLength;return l&&i&&i.length&&(!f&&h>0||!zi(f,i)||!zi(d,s))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(i,s,n,a)}},{key:"render",value:function(){var n,a=this.props,o=a.hide,i=a.dot,s=a.points,l=a.className,c=a.top,f=a.left,d=a.xAxis,h=a.yAxis,p=a.width,y=a.height,v=a.isAnimationActive,x=a.id;if(o||!s||!s.length)return null;var m=this.state.isAnimationFinished,g=s.length===1,b=at("recharts-area",l),S=d&&d.allowDataOverflow,w=h&&h.allowDataOverflow,k=S||w,_=Be(x)?this.id:x,O=(n=ze(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},N=O.r,P=N===void 0?3:N,M=O.strokeWidth,C=M===void 0?2:M,$=Fj(i)?i:{},z=$.clipDot,E=z===void 0?!0:z,G=P*2+C;return D.createElement(dt,{className:b},S||w?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(_)},D.createElement("rect",{x:S?f:f-p/2,y:w?c:c-y/2,width:S?p:p*2,height:w?y:y*2})),!E&&D.createElement("clipPath",{id:"clipPath-dots-".concat(_)},D.createElement("rect",{x:f-G/2,y:c-G/2,width:p+G,height:y+G}))):null,g?null:this.renderArea(k,_),(i||g)&&this.renderDots(k,E,_),(!v||m)&&Va.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(j.PureComponent);BN=ca;Ua(ca,"displayName","Area");Ua(ca,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!ii.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Ua(ca,"getBaseValue",function(e,t,r,n){var a=e.layout,o=e.baseValue,i=t.props.baseValue,s=i??o;if(fe(s)&&typeof s=="number")return s;var l=a==="horizontal"?n:r,c=l.scale.domain();if(l.type==="number"){var f=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return s==="dataMin"?d:s==="dataMax"||f<0?f:Math.max(Math.min(c[0],c[1]),0)}return s==="dataMin"?c[0]:s==="dataMax"?c[1]:c[0]});Ua(ca,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,o=e.xAxisTicks,i=e.yAxisTicks,s=e.bandSize,l=e.dataKey,c=e.stackedData,f=e.dataStartIndex,d=e.displayedData,h=e.offset,p=t.layout,y=c&&c.length,v=BN.getBaseValue(t,r,n,a),x=p==="horizontal",m=!1,g=d.map(function(S,w){var k;y?k=c[f+w]:(k=Rr(S,l),Array.isArray(k)?m=!0:k=[v,k]);var _=k[1]==null||y&&Rr(S,l)==null;return x?{x:Vs({axis:n,ticks:o,bandSize:s,entry:S,index:w}),y:_?null:a.scale(k[1]),value:k,payload:S}:{x:_?null:n.scale(k[1]),y:Vs({axis:a,ticks:i,bandSize:s,entry:S,index:w}),value:k,payload:S}}),b;return y||m?b=g.map(function(S){var w=Array.isArray(S.value)?S.value[0]:null;return x?{x:S.x,y:w!=null&&S.y!=null?a.scale(w):null}:{x:w!=null?n.scale(w):null,y:S.y}}):b=x?a.scale(v):n.scale(v),Co({points:g,baseLine:b,layout:p,isRange:m},h)});Ua(ca,"renderDotItem",function(e,t){var r;if(D.isValidElement(e))r=D.cloneElement(e,t);else if(We(e))r=e(t);else{var n=at("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,o=FN(t,Iq);r=D.createElement(lp,Pi({},o,{key:a,className:n}))}return r});function nl(e){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nl(e)}function Xq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HN(n.key),n)}}function Yq(e,t,r){return t&&Kq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qq(e,t,r){return t=sh(t),Zq(e,WN()?Reflect.construct(t,r||[],sh(e).constructor):t.apply(e,r))}function Zq(e,t){if(t&&(nl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qq(e)}function Qq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WN=function(){return!!e})()}function sh(e){return sh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sh(e)}function Jq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zm(e,t)}function zm(e,t){return zm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zm(e,t)}function GN(e,t,r){return t=HN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HN(e){var t=eZ(e,"string");return nl(t)=="symbol"?t:t+""}function eZ(e,t){if(nl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gp=function(e){function t(){return Xq(this,t),qq(this,t,arguments)}return Jq(t,e),Yq(t,[{key:"render",value:function(){return null}}])}(j.Component);GN(gp,"displayName","ZAxis");GN(gp,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var tZ=["option","isActive"];function wc(){return wc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wc.apply(this,arguments)}function rZ(e,t){if(e==null)return{};var r=nZ(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function aZ(e){var t=e.option,r=e.isActive,n=rZ(e,tZ);return typeof t=="string"?j.createElement(Nm,wc({option:j.createElement(Yh,wc({type:t},n)),isActive:r,shapeType:"symbols"},n)):j.createElement(Nm,wc({option:t,isActive:r,shapeType:"symbols"},n))}function al(e){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},al(e)}function kc(){return kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kc.apply(this,arguments)}function q2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q2(Object(r),!0).forEach(function(n){Uo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XN(n.key),n)}}function iZ(e,t,r){return t&&Z2(e.prototype,t),r&&Z2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function sZ(e,t,r){return t=lh(t),lZ(e,VN()?Reflect.construct(t,r||[],lh(e).constructor):t.apply(e,r))}function lZ(e,t){if(t&&(al(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cZ(e)}function cZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VN=function(){return!!e})()}function lh(e){return lh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lh(e)}function uZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Um(e,t)}function Um(e,t){return Um=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Um(e,t)}function Uo(e,t,r){return t=XN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XN(e){var t=fZ(e,"string");return al(t)=="symbol"?t:t+""}function fZ(e,t){if(al(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(al(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var wn=function(e){function t(){var r;oZ(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=sZ(this,t,[].concat(a)),Uo(r,"state",{isAnimationFinished:!1}),Uo(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),Uo(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),Uo(r,"id",Yi("recharts-scatter-")),r}return uZ(t,e),iZ(t,[{key:"renderSymbolsStatically",value:function(n){var a=this,o=this.props,i=o.shape,s=o.activeShape,l=o.activeIndex,c=ze(this.props,!1);return n.map(function(f,d){var h=l===d,p=h?s:i,y=aa(aa({},c),f);return D.createElement(dt,kc({className:"recharts-scatter-symbol",key:"symbol-".concat(f==null?void 0:f.cx,"-").concat(f==null?void 0:f.cy,"-").concat(f==null?void 0:f.size,"-").concat(d)},zc(a.props,f,d),{role:"img"}),D.createElement(aZ,kc({option:p,isActive:h,key:"symbol-".concat(d)},y)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,a=this.props,o=a.points,i=a.isAnimationActive,s=a.animationBegin,l=a.animationDuration,c=a.animationEasing,f=a.animationId,d=this.state.prevPoints;return D.createElement(Ea,{begin:s,duration:l,isActive:i,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var p=h.t,y=o.map(function(v,x){var m=d&&d[x];if(m){var g=vr(m.cx,v.cx),b=vr(m.cy,v.cy),S=vr(m.size,v.size);return aa(aa({},v),{},{cx:g(p),cy:b(p),size:S(p)})}var w=vr(0,v.size);return aa(aa({},v),{},{size:w(p)})});return D.createElement(dt,null,n.renderSymbolsStatically(y))})}},{key:"renderSymbols",value:function(){var n=this.props,a=n.points,o=n.isAnimationActive,i=this.state.prevPoints;return o&&a&&a.length&&(!i||!zi(i,a))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(a)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,i=a.xAxis,s=a.yAxis,l=a.children,c=In(l,_l);return c?c.map(function(f,d){var h=f.props,p=h.direction,y=h.dataKey;return D.cloneElement(f,{key:"".concat(p,"-").concat(y,"-").concat(o[d]),data:o,xAxis:i,yAxis:s,layout:p==="x"?"vertical":"horizontal",dataPointFormatter:function(x,m){return{x:x.cx,y:x.cy,value:p==="x"?+x.node.x:+x.node.y,errorVal:Rr(x,m)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,a=n.points,o=n.line,i=n.lineType,s=n.lineJointType,l=ze(this.props,!1),c=ze(o,!1),f,d;if(i==="joint")f=a.map(function(b){return{x:b.cx,y:b.cy}});else if(i==="fitting"){var h=BT(a),p=h.xmin,y=h.xmax,v=h.a,x=h.b,m=function(S){return v*S+x};f=[{x:p,y:m(p)},{x:y,y:m(y)}]}var g=aa(aa(aa({},l),{},{fill:"none",stroke:l&&l.fill},c),{},{points:f});return D.isValidElement(o)?d=D.cloneElement(o,g):We(o)?d=o(g):d=D.createElement(Ti,kc({},g,{type:s})),D.createElement(dt,{className:"recharts-scatter-line",key:"recharts-scatter-line"},d)}},{key:"render",value:function(){var n=this.props,a=n.hide,o=n.points,i=n.line,s=n.className,l=n.xAxis,c=n.yAxis,f=n.left,d=n.top,h=n.width,p=n.height,y=n.id,v=n.isAnimationActive;if(a||!o||!o.length)return null;var x=this.state.isAnimationFinished,m=at("recharts-scatter",s),g=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,S=g||b,w=Be(y)?this.id:y;return D.createElement(dt,{className:m,clipPath:S?"url(#clipPath-".concat(w,")"):null},g||b?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(w)},D.createElement("rect",{x:g?f:f-h/2,y:b?d:d-p/2,width:g?h:h*2,height:b?p:p*2}))):null,i&&this.renderLine(),this.renderErrorBar(),D.createElement(dt,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!v||x)&&Va.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}}])}(j.PureComponent);Uo(wn,"displayName","Scatter");Uo(wn,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!ii.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});Uo(wn,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,n=e.zAxis,a=e.item,o=e.displayedData,i=e.xAxisTicks,s=e.yAxisTicks,l=e.offset,c=a.props.tooltipType,f=In(a.props.children,vv),d=Be(t.dataKey)?a.props.dataKey:t.dataKey,h=Be(r.dataKey)?a.props.dataKey:r.dataKey,p=n&&n.dataKey,y=n?n.range:gp.defaultProps.range,v=y&&y[0],x=t.scale.bandwidth?t.scale.bandwidth():0,m=r.scale.bandwidth?r.scale.bandwidth():0,g=o.map(function(b,S){var w=Rr(b,d),k=Rr(b,h),_=!Be(p)&&Rr(b,p)||"-",O=[{name:Be(t.dataKey)?a.props.name:t.name||t.dataKey,unit:t.unit||"",value:w,payload:b,dataKey:d,type:c},{name:Be(r.dataKey)?a.props.name:r.name||r.dataKey,unit:r.unit||"",value:k,payload:b,dataKey:h,type:c}];_!=="-"&&O.push({name:n.name||n.dataKey,unit:n.unit||"",value:_,payload:b,dataKey:p,type:c});var N=Vs({axis:t,ticks:i,bandSize:x,entry:b,index:S,dataKey:d}),P=Vs({axis:r,ticks:s,bandSize:m,entry:b,index:S,dataKey:h}),M=_!=="-"?n.scale(_):v,C=Math.sqrt(Math.max(M,0)/Math.PI);return aa(aa({},b),{},{cx:N,cy:P,x:N-C,y:P-C,xAxis:t,yAxis:r,zAxis:n,width:2*C,height:2*C,size:M,node:{x:w,y:k,z:_},tooltipPayload:O,tooltipPosition:{x:N,y:P},payload:b},f&&f[S]&&f[S].props)});return aa({points:g},l)});function ol(e){"@babel/helpers - typeof";return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ol(e)}function dZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qN(n.key),n)}}function pZ(e,t,r){return t&&hZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gZ(e,t,r){return t=ch(t),mZ(e,KN()?Reflect.construct(t,r||[],ch(e).constructor):t.apply(e,r))}function mZ(e,t){if(t&&(ol(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yZ(e)}function yZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KN=function(){return!!e})()}function ch(e){return ch=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ch(e)}function vZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wm(e,t)}function Wm(e,t){return Wm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Wm(e,t)}function YN(e,t,r){return t=qN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qN(e){var t=xZ(e,"string");return ol(t)=="symbol"?t:t+""}function xZ(e,t){if(ol(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ol(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Gm(){return Gm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gm.apply(this,arguments)}function bZ(e){var t=e.xAxisId,r=Yv(),n=qv(),a=_N(t);return a==null?null:j.createElement(Ol,Gm({},a,{className:at("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(i){return oo(i,!0)}}))}var Ta=function(e){function t(){return dZ(this,t),gZ(this,t,arguments)}return vZ(t,e),pZ(t,[{key:"render",value:function(){return j.createElement(bZ,this.props)}}])}(j.Component);YN(Ta,"displayName","XAxis");YN(Ta,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function il(e){"@babel/helpers - typeof";return il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},il(e)}function wZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JN(n.key),n)}}function SZ(e,t,r){return t&&kZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jZ(e,t,r){return t=uh(t),_Z(e,ZN()?Reflect.construct(t,r||[],uh(e).constructor):t.apply(e,r))}function _Z(e,t){if(t&&(il(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OZ(e)}function OZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZN=function(){return!!e})()}function uh(e){return uh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uh(e)}function NZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hm(e,t)}function Hm(e,t){return Hm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Hm(e,t)}function QN(e,t,r){return t=JN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JN(e){var t=PZ(e,"string");return il(t)=="symbol"?t:t+""}function PZ(e,t){if(il(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(il(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Vm(){return Vm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vm.apply(this,arguments)}var AZ=function(t){var r=t.yAxisId,n=Yv(),a=qv(),o=ON(r);return o==null?null:j.createElement(Ol,Vm({},o,{className:at("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(s){return oo(s,!0)}}))},$a=function(e){function t(){return wZ(this,t),jZ(this,t,arguments)}return NZ(t,e),SZ(t,[{key:"render",value:function(){return j.createElement(AZ,this.props)}}])}(j.Component);QN($a,"displayName","YAxis");QN($a,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Q2(e){return TZ(e)||EZ(e)||CZ(e)||MZ()}function MZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CZ(e,t){if(e){if(typeof e=="string")return Xm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xm(e,t)}}function EZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function TZ(e){if(Array.isArray(e))return Xm(e)}function Xm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Km=function(t,r,n,a,o){var i=In(t,Oi),s=In(t,hp),l=[].concat(Q2(i),Q2(s)),c=In(t,Du),f="".concat(a,"Id"),d=a[0],h=r;if(l.length&&(h=l.reduce(function(v,x){if(x.props[f]===n&&Xa(x.props,"extendDomain")&&fe(x.props[d])){var m=x.props[d];return[Math.min(v[0],m),Math.max(v[1],m)]}return v},h)),c.length){var p="".concat(d,"1"),y="".concat(d,"2");h=c.reduce(function(v,x){if(x.props[f]===n&&Xa(x.props,"extendDomain")&&fe(x.props[p])&&fe(x.props[y])){var m=x.props[p],g=x.props[y];return[Math.min(v[0],m,g),Math.max(v[1],m,g)]}return v},h)}return o&&o.length&&(h=o.reduce(function(v,x){return fe(x)?[Math.min(v[0],x),Math.max(v[1],x)]:v},h)),h},eP={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,c,f){this.fn=l,this.context=c,this.once=f||!1}function o(l,c,f,d,h){if(typeof f!="function")throw new TypeError("The listener must be a function");var p=new a(f,d||l,h),y=r?r+c:c;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],p]:l._events[y].push(p):(l._events[y]=p,l._eventsCount++),l}function i(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],f,d;if(this._eventsCount===0)return c;for(d in f=this._events)t.call(f,d)&&c.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},s.prototype.listeners=function(c){var f=r?r+c:c,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,y=new Array(p);h<p;h++)y[h]=d[h].fn;return y},s.prototype.listenerCount=function(c){var f=r?r+c:c,d=this._events[f];return d?d.fn?1:d.length:0},s.prototype.emit=function(c,f,d,h,p,y){var v=r?r+c:c;if(!this._events[v])return!1;var x=this._events[v],m=arguments.length,g,b;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),m){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,f),!0;case 3:return x.fn.call(x.context,f,d),!0;case 4:return x.fn.call(x.context,f,d,h),!0;case 5:return x.fn.call(x.context,f,d,h,p),!0;case 6:return x.fn.call(x.context,f,d,h,p,y),!0}for(b=1,g=new Array(m-1);b<m;b++)g[b-1]=arguments[b];x.fn.apply(x.context,g)}else{var S=x.length,w;for(b=0;b<S;b++)switch(x[b].once&&this.removeListener(c,x[b].fn,void 0,!0),m){case 1:x[b].fn.call(x[b].context);break;case 2:x[b].fn.call(x[b].context,f);break;case 3:x[b].fn.call(x[b].context,f,d);break;case 4:x[b].fn.call(x[b].context,f,d,h);break;default:if(!g)for(w=1,g=new Array(m-1);w<m;w++)g[w-1]=arguments[w];x[b].fn.apply(x[b].context,g)}}return!0},s.prototype.on=function(c,f,d){return o(this,c,f,d,!1)},s.prototype.once=function(c,f,d){return o(this,c,f,d,!0)},s.prototype.removeListener=function(c,f,d,h){var p=r?r+c:c;if(!this._events[p])return this;if(!f)return i(this,p),this;var y=this._events[p];if(y.fn)y.fn===f&&(!h||y.once)&&(!d||y.context===d)&&i(this,p);else{for(var v=0,x=[],m=y.length;v<m;v++)(y[v].fn!==f||h&&!y[v].once||d&&y[v].context!==d)&&x.push(y[v]);x.length?this._events[p]=x.length===1?x[0]:x:i(this,p)}return this},s.prototype.removeAllListeners=function(c){var f;return c?(f=r?r+c:c,this._events[f]&&i(this,f)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(eP);var $Z=eP.exports;const DZ=Dt($Z);var k0=new DZ,S0="recharts.syncMouseEvents";function wu(e){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wu(e)}function RZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tP(n.key),n)}}function IZ(e,t,r){return t&&LZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function j0(e,t,r){return t=tP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tP(e){var t=BZ(e,"string");return wu(t)=="symbol"?t:t+""}function BZ(e,t){if(wu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var FZ=function(){function e(){RZ(this,e),j0(this,"activeIndex",0),j0(this,"coordinateList",[]),j0(this,"layout","horizontal")}return IZ(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,o=a===void 0?null:a,i=r.container,s=i===void 0?null:i,l=r.layout,c=l===void 0?null:l,f=r.offset,d=f===void 0?null:f,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),o=a.x,i=a.y,s=a.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=o+l+c,h=i+this.offset.top+s/2+f;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function zZ(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&fe(n)&&fe(a))return!0}return!1}function UZ(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function rP(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,o=e.endAngle,i=tn(t,r,n,a),s=tn(t,r,n,o);return{points:[i,s],cx:t,cy:r,radius:n,startAngle:a,endAngle:o}}function WZ(e,t,r){var n,a,o,i;if(e==="horizontal")n=t.x,o=n,a=r.top,i=r.top+r.height;else if(e==="vertical")a=t.y,i=a,n=r.left,o=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,c=t.innerRadius,f=t.outerRadius,d=t.angle,h=tn(s,l,c,d),p=tn(s,l,f,d);n=h.x,a=h.y,o=p.x,i=p.y}else return rP(t);return[{x:n,y:a},{x:o,y:i}]}function ku(e){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ku(e)}function J2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J2(Object(r),!0).forEach(function(n){GZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GZ(e,t,r){return t=HZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HZ(e){var t=VZ(e,"string");return ku(t)=="symbol"?t:t+""}function VZ(e,t){if(ku(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ku(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XZ(e){var t,r,n=e.element,a=e.tooltipEventType,o=e.isActive,i=e.activeCoordinate,s=e.activePayload,l=e.offset,c=e.activeTooltipIndex,f=e.tooltipAxisBandSize,d=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!o||!i||h!=="ScatterChart"&&a!=="axis")return null;var y,v=Ti;if(h==="ScatterChart")y=i,v=xV;else if(h==="BarChart")y=UZ(d,i,l,f),v=Gv;else if(d==="radial"){var x=rP(i),m=x.cx,g=x.cy,b=x.radius,S=x.startAngle,w=x.endAngle;y={cx:m,cy:g,startAngle:S,endAngle:w,innerRadius:b,outerRadius:b},v=ZO}else y={points:WZ(d,i,l)},v=Ti;var k=kf(kf(kf(kf({stroke:"#ccc",pointerEvents:"none"},l),y),ze(p,!1)),{},{payload:s,payloadIndex:c,className:at("recharts-tooltip-cursor",p.className)});return j.isValidElement(p)?j.cloneElement(p,k):j.createElement(v,k)}var KZ=["item"],YZ=["children","className","width","height","style","compact","title","desc"];function sl(e){"@babel/helpers - typeof";return sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sl(e)}function xs(){return xs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xs.apply(this,arguments)}function ek(e,t){return QZ(e)||ZZ(e,t)||aP(e,t)||qZ()}function qZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZZ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function QZ(e){if(Array.isArray(e))return e}function tk(e,t){if(e==null)return{};var r=JZ(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function eQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oP(n.key),n)}}function rQ(e,t,r){return t&&tQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nQ(e,t,r){return t=fh(t),aQ(e,nP()?Reflect.construct(t,r||[],fh(e).constructor):t.apply(e,r))}function aQ(e,t){if(t&&(sl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oQ(e)}function oQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nP=function(){return!!e})()}function fh(e){return fh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fh(e)}function iQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ym(e,t)}function Ym(e,t){return Ym=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ym(e,t)}function ll(e){return cQ(e)||lQ(e)||aP(e)||sQ()}function sQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aP(e,t){if(e){if(typeof e=="string")return qm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qm(e,t)}}function lQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cQ(e){if(Array.isArray(e))return qm(e)}function qm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Q(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rk(Object(r),!0).forEach(function(n){$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $e(e,t,r){return t=oP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oP(e){var t=uQ(e,"string");return sl(t)=="symbol"?t:t+""}function uQ(e,t){if(sl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fQ={xAxis:["bottom","top"],yAxis:["left","right"]},dQ={width:"100%",height:"100%"},iP={x:0,y:0};function Sf(e){return e}var hQ=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},pQ=function(t,r,n,a){var o=r.find(function(f){return f&&f.index===n});if(o){if(t==="horizontal")return{x:o.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:o.coordinate};if(t==="centric"){var i=o.coordinate,s=a.radius;return Q(Q(Q({},a),tn(a.cx,a.cy,s,i)),{},{angle:i,radius:s})}var l=o.coordinate,c=a.angle;return Q(Q(Q({},a),tn(a.cx,a.cy,l,c)),{},{angle:c,radius:l})}return iP},mp=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,o=r.dataEndIndex,i=(n??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(ll(s),ll(c)):s},[]);return i.length>0?i:t&&t.length&&fe(a)&&fe(o)?t.slice(a,o+1):[]};function sP(e){return e==="number"?[0,"auto"]:void 0}var Zm=function(t,r,n,a){var o=t.graphicalItems,i=t.tooltipAxis,s=mp(r,t);return n<0||!o||!o.length||n>=s.length?null:o.reduce(function(l,c){var f,d=(f=c.props.data)!==null&&f!==void 0?f:r;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(i.dataKey&&!i.allowDuplicatedCategory){var p=d===void 0?s:d;h=cd(p,i.dataKey,a)}else h=d&&d[n]||s[n];return h?[].concat(ll(l),[KO(c,h)]):l},[])},nk=function(t,r,n,a){var o=a||{x:t.chartX,y:t.chartY},i=hQ(o,n),s=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,f=ZU(i,s,c,l);if(f>=0&&c){var d=c[f]&&c[f].value,h=Zm(t,r,f,d),p=pQ(n,s,f,o);return{activeTooltipIndex:f,activeLabel:d,activePayload:h,activeCoordinate:p}}return null},gQ=function(t,r){var n=r.axes,a=r.graphicalItems,o=r.axisType,i=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,f=t.layout,d=t.children,h=t.stackOffset,p=HO(f,o);return n.reduce(function(y,v){var x,m=v.type.defaultProps!==void 0?Q(Q({},v.type.defaultProps),v.props):v.props,g=m.type,b=m.dataKey,S=m.allowDataOverflow,w=m.allowDuplicatedCategory,k=m.scale,_=m.ticks,O=m.includeHidden,N=m[i];if(y[N])return y;var P=mp(t.data,{graphicalItems:a.filter(function(q){var V,ie=i in q.props?q.props[i]:(V=q.type.defaultProps)===null||V===void 0?void 0:V[i];return ie===N}),dataStartIndex:l,dataEndIndex:c}),M=P.length,C,$,z;zZ(m.domain,S,g)&&(C=fm(m.domain,null,S),p&&(g==="number"||k!=="auto")&&(z=vc(P,b,"category")));var E=sP(g);if(!C||C.length===0){var G,A=(G=m.domain)!==null&&G!==void 0?G:E;if(b){if(C=vc(P,b,g),g==="category"&&p){var I=IT(C);w&&I?($=C,C=Yd(0,M)):w||(C=$w(A,C,v).reduce(function(q,V){return q.indexOf(V)>=0?q:[].concat(ll(q),[V])},[]))}else if(g==="category")w?C=C.filter(function(q){return q!==""&&!Be(q)}):C=$w(A,C,v).reduce(function(q,V){return q.indexOf(V)>=0||V===""||Be(V)?q:[].concat(ll(q),[V])},[]);else if(g==="number"){var B=rW(P,a.filter(function(q){var V,ie,te=i in q.props?q.props[i]:(V=q.type.defaultProps)===null||V===void 0?void 0:V[i],T="hide"in q.props?q.props.hide:(ie=q.type.defaultProps)===null||ie===void 0?void 0:ie.hide;return te===N&&(O||!T)}),b,o,f);B&&(C=B)}p&&(g==="number"||k!=="auto")&&(z=vc(P,b,"category"))}else p?C=Yd(0,M):s&&s[N]&&s[N].hasStack&&g==="number"?C=h==="expand"?[0,1]:XO(s[N].stackGroups,l,c):C=GO(P,a.filter(function(q){var V=i in q.props?q.props[i]:q.type.defaultProps[i],ie="hide"in q.props?q.props.hide:q.type.defaultProps.hide;return V===N&&(O||!ie)}),g,f,!0);if(g==="number")C=Km(d,C,N,o,_),A&&(C=fm(A,C,S));else if(g==="category"&&A){var W=A,J=C.every(function(q){return W.indexOf(q)>=0});J&&(C=W)}}return Q(Q({},y),{},$e({},N,Q(Q({},m),{},{axisType:o,domain:C,categoricalDomain:z,duplicateDomain:$,originalDomain:(x=m.domain)!==null&&x!==void 0?x:E,isCategorical:p,layout:f})))},{})},mQ=function(t,r){var n=r.graphicalItems,a=r.Axis,o=r.axisType,i=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,f=t.layout,d=t.children,h=mp(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),p=h.length,y=HO(f,o),v=-1;return n.reduce(function(x,m){var g=m.type.defaultProps!==void 0?Q(Q({},m.type.defaultProps),m.props):m.props,b=g[i],S=sP("number");if(!x[b]){v++;var w;return y?w=Yd(0,p):s&&s[b]&&s[b].hasStack?(w=XO(s[b].stackGroups,l,c),w=Km(d,w,b,o)):(w=fm(S,GO(h,n.filter(function(k){var _,O,N=i in k.props?k.props[i]:(_=k.type.defaultProps)===null||_===void 0?void 0:_[i],P="hide"in k.props?k.props.hide:(O=k.type.defaultProps)===null||O===void 0?void 0:O.hide;return N===b&&!P}),"number",f),a.defaultProps.allowDataOverflow),w=Km(d,w,b,o)),Q(Q({},x),{},$e({},b,Q(Q({axisType:o},a.defaultProps),{},{hide:!0,orientation:fa(fQ,"".concat(o,".").concat(v%2),null),domain:w,originalDomain:S,isCategorical:y,layout:f})))}return x},{})},yQ=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,o=r.AxisComp,i=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,f=t.children,d="".concat(a,"Id"),h=In(f,o),p={};return h&&h.length?p=gQ(t,{axes:h,graphicalItems:i,axisType:a,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):i&&i.length&&(p=mQ(t,{Axis:o,graphicalItems:i,axisType:a,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),p},vQ=function(t){var r=Lo(t),n=oo(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:mv(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Bd(r,n)}},ak=function(t){var r=t.children,n=t.defaultShowTooltip,a=Hn(r,Ys),o=0,i=0;return t.data&&t.data.length!==0&&(i=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(o=a.props.startIndex),a.props.endIndex>=0&&(i=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!n}},xQ=function(t){return!t||!t.length?!1:t.some(function(r){var n=so(r&&r.type);return n&&n.indexOf("Bar")>=0})},ok=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},bQ=function(t,r){var n=t.props,a=t.graphicalItems,o=t.xAxisMap,i=o===void 0?{}:o,s=t.yAxisMap,l=s===void 0?{}:s,c=n.width,f=n.height,d=n.children,h=n.margin||{},p=Hn(d,Ys),y=Hn(d,co),v=Object.keys(l).reduce(function(w,k){var _=l[k],O=_.orientation;return!_.mirror&&!_.hide?Q(Q({},w),{},$e({},O,w[O]+_.width)):w},{left:h.left||0,right:h.right||0}),x=Object.keys(i).reduce(function(w,k){var _=i[k],O=_.orientation;return!_.mirror&&!_.hide?Q(Q({},w),{},$e({},O,fa(w,"".concat(O))+_.height)):w},{top:h.top||0,bottom:h.bottom||0}),m=Q(Q({},x),v),g=m.bottom;p&&(m.bottom+=p.props.height||Ys.defaultProps.height),y&&r&&(m=eW(m,a,n,r));var b=c-m.left-m.right,S=f-m.top-m.bottom;return Q(Q({brushBottom:g},m),{},{width:Math.max(b,0),height:Math.max(S,0)})},wQ=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},ex=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,o=a===void 0?"axis":a,i=t.validateTooltipEventTypes,s=i===void 0?["axis"]:i,l=t.axisComponents,c=t.legendContent,f=t.formatAxisMap,d=t.defaultProps,h=function(m,g){var b=g.graphicalItems,S=g.stackGroups,w=g.offset,k=g.updateId,_=g.dataStartIndex,O=g.dataEndIndex,N=m.barSize,P=m.layout,M=m.barGap,C=m.barCategoryGap,$=m.maxBarSize,z=ok(P),E=z.numericAxisName,G=z.cateAxisName,A=xQ(b),I=[];return b.forEach(function(B,W){var J=mp(m.data,{graphicalItems:[B],dataStartIndex:_,dataEndIndex:O}),q=B.type.defaultProps!==void 0?Q(Q({},B.type.defaultProps),B.props):B.props,V=q.dataKey,ie=q.maxBarSize,te=q["".concat(E,"Id")],T=q["".concat(G,"Id")],oe={},ue=l.reduce(function(He,bt){var Rt=g["".concat(bt.axisType,"Map")],Gt=q["".concat(bt.axisType,"Id")];Rt&&Rt[Gt]||bt.axisType==="zAxis"||Wi();var _r=Rt[Gt];return Q(Q({},He),{},$e($e({},bt.axisType,_r),"".concat(bt.axisType,"Ticks"),oo(_r)))},oe),K=ue[G],le=ue["".concat(G,"Ticks")],ne=S&&S[te]&&S[te].hasStack&&pW(B,S[te].stackGroups),F=so(B.type).indexOf("Bar")>=0,ge=Bd(K,le),he=[],Se=A&&QU({barSize:N,stackGroups:S,totalSize:wQ(ue,G)});if(F){var Ge,Ie,ht=Be(ie)?$:ie,pt=(Ge=(Ie=Bd(K,le,!0))!==null&&Ie!==void 0?Ie:ht)!==null&&Ge!==void 0?Ge:0;he=JU({barGap:M,barCategoryGap:C,bandSize:pt!==ge?pt:ge,sizeList:Se[T],maxBarSize:ht}),pt!==ge&&(he=he.map(function(He){return Q(Q({},He),{},{position:Q(Q({},He.position),{},{offset:He.position.offset-pt/2})})}))}var De=B&&B.type&&B.type.getComposedData;De&&I.push({props:Q(Q({},De(Q(Q({},ue),{},{displayedData:J,props:m,dataKey:V,item:B,bandSize:ge,barPosition:he,offset:w,stackedData:ne,layout:P,dataStartIndex:_,dataEndIndex:O}))),{},$e($e($e({key:B.key||"item-".concat(W)},E,ue[E]),G,ue[G]),"animationId",k)),childIndex:ZT(B,m.children),item:B})}),I},p=function(m,g){var b=m.props,S=m.dataStartIndex,w=m.dataEndIndex,k=m.updateId;if(!Pb({props:b}))return null;var _=b.children,O=b.layout,N=b.stackOffset,P=b.data,M=b.reverseStackOrder,C=ok(O),$=C.numericAxisName,z=C.cateAxisName,E=In(_,n),G=fW(P,E,"".concat($,"Id"),"".concat(z,"Id"),N,M),A=l.reduce(function(q,V){var ie="".concat(V.axisType,"Map");return Q(Q({},q),{},$e({},ie,yQ(b,Q(Q({},V),{},{graphicalItems:E,stackGroups:V.axisType===$&&G,dataStartIndex:S,dataEndIndex:w}))))},{}),I=bQ(Q(Q({},A),{},{props:b,graphicalItems:E}),g==null?void 0:g.legendBBox);Object.keys(A).forEach(function(q){A[q]=f(b,A[q],I,q.replace("Map",""),r)});var B=A["".concat(z,"Map")],W=vQ(B),J=h(b,Q(Q({},A),{},{dataStartIndex:S,dataEndIndex:w,updateId:k,graphicalItems:E,stackGroups:G,offset:I}));return Q(Q({formattedGraphicalItems:J,graphicalItems:E,offset:I,stackGroups:G},W),A)},y=function(x){function m(g){var b,S,w;return eQ(this,m),w=nQ(this,m,[g]),$e(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),$e(w,"accessibilityManager",new FZ),$e(w,"handleLegendBBoxUpdate",function(k){if(k){var _=w.state,O=_.dataStartIndex,N=_.dataEndIndex,P=_.updateId;w.setState(Q({legendBBox:k},p({props:w.props,dataStartIndex:O,dataEndIndex:N,updateId:P},Q(Q({},w.state),{},{legendBBox:k}))))}}),$e(w,"handleReceiveSyncEvent",function(k,_,O){if(w.props.syncId===k){if(O===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(_)}}),$e(w,"handleBrushChange",function(k){var _=k.startIndex,O=k.endIndex;if(_!==w.state.dataStartIndex||O!==w.state.dataEndIndex){var N=w.state.updateId;w.setState(function(){return Q({dataStartIndex:_,dataEndIndex:O},p({props:w.props,dataStartIndex:_,dataEndIndex:O,updateId:N},w.state))}),w.triggerSyncEvent({dataStartIndex:_,dataEndIndex:O})}}),$e(w,"handleMouseEnter",function(k){var _=w.getMouseInfo(k);if(_){var O=Q(Q({},_),{},{isTooltipActive:!0});w.setState(O),w.triggerSyncEvent(O);var N=w.props.onMouseEnter;We(N)&&N(O,k)}}),$e(w,"triggeredAfterMouseMove",function(k){var _=w.getMouseInfo(k),O=_?Q(Q({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(O),w.triggerSyncEvent(O);var N=w.props.onMouseMove;We(N)&&N(O,k)}),$e(w,"handleItemMouseEnter",function(k){w.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),$e(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),$e(w,"handleMouseMove",function(k){k.persist(),w.throttleTriggeredAfterMouseMove(k)}),$e(w,"handleMouseLeave",function(k){w.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};w.setState(_),w.triggerSyncEvent(_);var O=w.props.onMouseLeave;We(O)&&O(_,k)}),$e(w,"handleOuterEvent",function(k){var _=qT(k),O=fa(w.props,"".concat(_));if(_&&We(O)){var N,P;/.*touch.*/i.test(_)?P=w.getMouseInfo(k.changedTouches[0]):P=w.getMouseInfo(k),O((N=P)!==null&&N!==void 0?N:{},k)}}),$e(w,"handleClick",function(k){var _=w.getMouseInfo(k);if(_){var O=Q(Q({},_),{},{isTooltipActive:!0});w.setState(O),w.triggerSyncEvent(O);var N=w.props.onClick;We(N)&&N(O,k)}}),$e(w,"handleMouseDown",function(k){var _=w.props.onMouseDown;if(We(_)){var O=w.getMouseInfo(k);_(O,k)}}),$e(w,"handleMouseUp",function(k){var _=w.props.onMouseUp;if(We(_)){var O=w.getMouseInfo(k);_(O,k)}}),$e(w,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),$e(w,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&w.handleMouseDown(k.changedTouches[0])}),$e(w,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&w.handleMouseUp(k.changedTouches[0])}),$e(w,"handleDoubleClick",function(k){var _=w.props.onDoubleClick;if(We(_)){var O=w.getMouseInfo(k);_(O,k)}}),$e(w,"handleContextMenu",function(k){var _=w.props.onContextMenu;if(We(_)){var O=w.getMouseInfo(k);_(O,k)}}),$e(w,"triggerSyncEvent",function(k){w.props.syncId!==void 0&&k0.emit(S0,w.props.syncId,k,w.eventEmitterSymbol)}),$e(w,"applySyncEvent",function(k){var _=w.props,O=_.layout,N=_.syncMethod,P=w.state.updateId,M=k.dataStartIndex,C=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)w.setState(Q({dataStartIndex:M,dataEndIndex:C},p({props:w.props,dataStartIndex:M,dataEndIndex:C,updateId:P},w.state)));else if(k.activeTooltipIndex!==void 0){var $=k.chartX,z=k.chartY,E=k.activeTooltipIndex,G=w.state,A=G.offset,I=G.tooltipTicks;if(!A)return;if(typeof N=="function")E=N(I,k);else if(N==="value"){E=-1;for(var B=0;B<I.length;B++)if(I[B].value===k.activeLabel){E=B;break}}var W=Q(Q({},A),{},{x:A.left,y:A.top}),J=Math.min($,W.x+W.width),q=Math.min(z,W.y+W.height),V=I[E]&&I[E].value,ie=Zm(w.state,w.props.data,E),te=I[E]?{x:O==="horizontal"?I[E].coordinate:J,y:O==="horizontal"?q:I[E].coordinate}:iP;w.setState(Q(Q({},k),{},{activeLabel:V,activeCoordinate:te,activePayload:ie,activeTooltipIndex:E}))}else w.setState(k)}),$e(w,"renderCursor",function(k){var _,O=w.state,N=O.isTooltipActive,P=O.activeCoordinate,M=O.activePayload,C=O.offset,$=O.activeTooltipIndex,z=O.tooltipAxisBandSize,E=w.getTooltipEventType(),G=(_=k.props.active)!==null&&_!==void 0?_:N,A=w.props.layout,I=k.key||"_recharts-cursor";return D.createElement(XZ,{key:I,activeCoordinate:P,activePayload:M,activeTooltipIndex:$,chartName:r,element:k,isActive:G,layout:A,offset:C,tooltipAxisBandSize:z,tooltipEventType:E})}),$e(w,"renderPolarAxis",function(k,_,O){var N=fa(k,"type.axisType"),P=fa(w.state,"".concat(N,"Map")),M=k.type.defaultProps,C=M!==void 0?Q(Q({},M),k.props):k.props,$=P&&P[C["".concat(N,"Id")]];return j.cloneElement(k,Q(Q({},$),{},{className:at(N,$.className),key:k.key||"".concat(_,"-").concat(O),ticks:oo($,!0)}))}),$e(w,"renderPolarGrid",function(k){var _=k.props,O=_.radialLines,N=_.polarAngles,P=_.polarRadius,M=w.state,C=M.radiusAxisMap,$=M.angleAxisMap,z=Lo(C),E=Lo($),G=E.cx,A=E.cy,I=E.innerRadius,B=E.outerRadius;return j.cloneElement(k,{polarAngles:Array.isArray(N)?N:oo(E,!0).map(function(W){return W.coordinate}),polarRadius:Array.isArray(P)?P:oo(z,!0).map(function(W){return W.coordinate}),cx:G,cy:A,innerRadius:I,outerRadius:B,key:k.key||"polar-grid",radialLines:O})}),$e(w,"renderLegend",function(){var k=w.state.formattedGraphicalItems,_=w.props,O=_.children,N=_.width,P=_.height,M=w.props.margin||{},C=N-(M.left||0)-(M.right||0),$=UO({children:O,formattedGraphicalItems:k,legendWidth:C,legendContent:c});if(!$)return null;var z=$.item,E=tk($,KZ);return j.cloneElement(z,Q(Q({},E),{},{chartWidth:N,chartHeight:P,margin:M,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),$e(w,"renderTooltip",function(){var k,_=w.props,O=_.children,N=_.accessibilityLayer,P=Hn(O,Sn);if(!P)return null;var M=w.state,C=M.isTooltipActive,$=M.activeCoordinate,z=M.activePayload,E=M.activeLabel,G=M.offset,A=(k=P.props.active)!==null&&k!==void 0?k:C;return j.cloneElement(P,{viewBox:Q(Q({},G),{},{x:G.left,y:G.top}),active:A,label:E,payload:A?z:[],coordinate:$,accessibilityLayer:N})}),$e(w,"renderBrush",function(k){var _=w.props,O=_.margin,N=_.data,P=w.state,M=P.offset,C=P.dataStartIndex,$=P.dataEndIndex,z=P.updateId;return j.cloneElement(k,{key:k.key||"_recharts-brush",onChange:vf(w.handleBrushChange,k.props.onChange),data:N,x:fe(k.props.x)?k.props.x:M.left,y:fe(k.props.y)?k.props.y:M.top+M.height+M.brushBottom-(O.bottom||0),width:fe(k.props.width)?k.props.width:M.width,startIndex:C,endIndex:$,updateId:"brush-".concat(z)})}),$e(w,"renderReferenceElement",function(k,_,O){if(!k)return null;var N=w,P=N.clipPathId,M=w.state,C=M.xAxisMap,$=M.yAxisMap,z=M.offset,E=k.type.defaultProps||{},G=k.props,A=G.xAxisId,I=A===void 0?E.xAxisId:A,B=G.yAxisId,W=B===void 0?E.yAxisId:B;return j.cloneElement(k,{key:k.key||"".concat(_,"-").concat(O),xAxis:C[I],yAxis:$[W],viewBox:{x:z.left,y:z.top,width:z.width,height:z.height},clipPathId:P})}),$e(w,"renderActivePoints",function(k){var _=k.item,O=k.activePoint,N=k.basePoint,P=k.childIndex,M=k.isRange,C=[],$=_.props.key,z=_.item.type.defaultProps!==void 0?Q(Q({},_.item.type.defaultProps),_.item.props):_.item.props,E=z.activeDot,G=z.dataKey,A=Q(Q({index:P,dataKey:G,cx:O.x,cy:O.y,r:4,fill:Wv(_.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value},ze(E,!1)),ud(E));return C.push(m.renderActiveDot(E,A,"".concat($,"-activePoint-").concat(P))),N?C.push(m.renderActiveDot(E,Q(Q({},A),{},{cx:N.x,cy:N.y}),"".concat($,"-basePoint-").concat(P))):M&&C.push(null),C}),$e(w,"renderGraphicChild",function(k,_,O){var N=w.filterFormatItem(k,_,O);if(!N)return null;var P=w.getTooltipEventType(),M=w.state,C=M.isTooltipActive,$=M.tooltipAxis,z=M.activeTooltipIndex,E=M.activeLabel,G=w.props.children,A=Hn(G,Sn),I=N.props,B=I.points,W=I.isRange,J=I.baseLine,q=N.item.type.defaultProps!==void 0?Q(Q({},N.item.type.defaultProps),N.item.props):N.item.props,V=q.activeDot,ie=q.hide,te=q.activeBar,T=q.activeShape,oe=!!(!ie&&C&&A&&(V||te||T)),ue={};P!=="axis"&&A&&A.props.trigger==="click"?ue={onClick:vf(w.handleItemMouseEnter,k.props.onClick)}:P!=="axis"&&(ue={onMouseLeave:vf(w.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:vf(w.handleItemMouseEnter,k.props.onMouseEnter)});var K=j.cloneElement(k,Q(Q({},N.props),ue));function le(bt){return typeof $.dataKey=="function"?$.dataKey(bt.payload):null}if(oe)if(z>=0){var ne,F;if($.dataKey&&!$.allowDuplicatedCategory){var ge=typeof $.dataKey=="function"?le:"payload.".concat($.dataKey.toString());ne=cd(B,ge,E),F=W&&J&&cd(J,ge,E)}else ne=B==null?void 0:B[z],F=W&&J&&J[z];if(T||te){var he=k.props.activeIndex!==void 0?k.props.activeIndex:z;return[j.cloneElement(k,Q(Q(Q({},N.props),ue),{},{activeIndex:he})),null,null]}if(!Be(ne))return[K].concat(ll(w.renderActivePoints({item:N,activePoint:ne,basePoint:F,childIndex:z,isRange:W})))}else{var Se,Ge=(Se=w.getItemByXY(w.state.activeCoordinate))!==null&&Se!==void 0?Se:{graphicalItem:K},Ie=Ge.graphicalItem,ht=Ie.item,pt=ht===void 0?k:ht,De=Ie.childIndex,He=Q(Q(Q({},N.props),ue),{},{activeIndex:De});return[j.cloneElement(pt,He),null,null]}return W?[K,null,null]:[K,null]}),$e(w,"renderCustomized",function(k,_,O){return j.cloneElement(k,Q(Q({key:"recharts-customized-".concat(O)},w.props),w.state))}),$e(w,"renderMap",{CartesianGrid:{handler:Sf,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:Sf},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:Sf},YAxis:{handler:Sf},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((b=g.id)!==null&&b!==void 0?b:Yi("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=W_(w.triggeredAfterMouseMove,(S=g.throttleDelay)!==null&&S!==void 0?S:1e3/60),w.state={},w}return iQ(m,x),rQ(m,[{key:"componentDidMount",value:function(){var b,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,S=b.children,w=b.data,k=b.height,_=b.layout,O=Hn(S,Sn);if(O){var N=O.props.defaultIndex;if(!(typeof N!="number"||N<0||N>this.state.tooltipTicks.length-1)){var P=this.state.tooltipTicks[N]&&this.state.tooltipTicks[N].value,M=Zm(this.state,w,N,P),C=this.state.tooltipTicks[N].coordinate,$=(this.state.offset.top+k)/2,z=_==="horizontal",E=z?{x:C,y:$}:{y:C,x:$},G=this.state.formattedGraphicalItems.find(function(I){var B=I.item;return B.type.name==="Scatter"});G&&(E=Q(Q({},E),G.props.points[N].tooltipPosition),M=G.props.points[N].tooltipPayload);var A={activeTooltipIndex:N,isTooltipActive:!0,activeLabel:P,activePayload:M,activeCoordinate:E};this.setState(A),this.renderCursor(O),this.accessibilityManager.setIndex(N)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var w,k;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(b){Og([Hn(b.children,Sn)],[Hn(this.props.children,Sn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Hn(this.props.children,Sn);if(b&&typeof b.props.shared=="boolean"){var S=b.props.shared?"axis":"item";return s.indexOf(S)>=0?S:o}return o}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var S=this.container,w=S.getBoundingClientRect(),k=SF(w),_={chartX:Math.round(b.pageX-k.left),chartY:Math.round(b.pageY-k.top)},O=w.width/S.offsetWidth||1,N=this.inRange(_.chartX,_.chartY,O);if(!N)return null;var P=this.state,M=P.xAxisMap,C=P.yAxisMap,$=this.getTooltipEventType(),z=nk(this.state,this.props.data,this.props.layout,N);if($!=="axis"&&M&&C){var E=Lo(M).scale,G=Lo(C).scale,A=E&&E.invert?E.invert(_.chartX):null,I=G&&G.invert?G.invert(_.chartY):null;return Q(Q({},_),{},{xValue:A,yValue:I},z)}return z?Q(Q({},_),z):null}},{key:"inRange",value:function(b,S){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,_=b/w,O=S/w;if(k==="horizontal"||k==="vertical"){var N=this.state.offset,P=_>=N.left&&_<=N.left+N.width&&O>=N.top&&O<=N.top+N.height;return P?{x:_,y:O}:null}var M=this.state,C=M.angleAxisMap,$=M.radiusAxisMap;if(C&&$){var z=Lo(C);return Lw({x:_,y:O},z)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,S=this.getTooltipEventType(),w=Hn(b,Sn),k={};w&&S==="axis"&&(w.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=ud(this.props,this.handleOuterEvent);return Q(Q({},_),k)}},{key:"addListener",value:function(){k0.on(S0,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){k0.removeListener(S0,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,S,w){for(var k=this.state.formattedGraphicalItems,_=0,O=k.length;_<O;_++){var N=k[_];if(N.item===b||N.props.key===b.key||S===so(N.item.type)&&w===N.childIndex)return N}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,S=this.state.offset,w=S.left,k=S.top,_=S.height,O=S.width;return D.createElement("defs",null,D.createElement("clipPath",{id:b},D.createElement("rect",{x:w,y:k,height:_,width:O})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(S,w){var k=ek(w,2),_=k[0],O=k[1];return Q(Q({},S),{},$e({},_,O.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(S,w){var k=ek(w,2),_=k[0],O=k[1];return Q(Q({},S),{},$e({},_,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[b])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(b){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[b])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(b){var S=this.state,w=S.formattedGraphicalItems,k=S.activeItem;if(w&&w.length)for(var _=0,O=w.length;_<O;_++){var N=w[_],P=N.props,M=N.item,C=M.type.defaultProps!==void 0?Q(Q({},M.type.defaultProps),M.props):M.props,$=so(M.type);if($==="Bar"){var z=(P.data||[]).find(function(I){return cV(b,I)});if(z)return{graphicalItem:N,payload:z}}else if($==="RadialBar"){var E=(P.data||[]).find(function(I){return Lw(b,I)});if(E)return{graphicalItem:N,payload:E}}else if(cp(N,k)||up(N,k)||mu(N,k)){var G=fX({graphicalItem:N,activeTooltipItem:k,itemData:C.data}),A=C.activeIndex===void 0?G:C.activeIndex;return{graphicalItem:Q(Q({},N),{},{childIndex:A}),payload:mu(N,k)?C.data[G]:N.props.data[G]}}}return null}},{key:"render",value:function(){var b=this;if(!Pb(this))return null;var S=this.props,w=S.children,k=S.className,_=S.width,O=S.height,N=S.style,P=S.compact,M=S.title,C=S.desc,$=tk(S,YZ),z=ze($,!1);if(P)return D.createElement(E2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement(Pg,xs({},z,{width:_,height:O,title:M,desc:C}),this.renderClipPath(),Mb(w,this.renderMap)));if(this.props.accessibilityLayer){var E,G;z.tabIndex=(E=this.props.tabIndex)!==null&&E!==void 0?E:0,z.role=(G=this.props.role)!==null&&G!==void 0?G:"application",z.onKeyDown=function(I){b.accessibilityManager.keyboardEvent(I)},z.onFocus=function(){b.accessibilityManager.focus()}}var A=this.parseEventsOfWrapper();return D.createElement(E2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement("div",xs({className:at("recharts-wrapper",k),style:Q({position:"relative",cursor:"default",width:_,height:O},N)},A,{ref:function(B){b.container=B}}),D.createElement(Pg,xs({},z,{width:_,height:O,title:M,desc:C,style:dQ}),this.renderClipPath(),Mb(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(j.Component);$e(y,"displayName",r),$e(y,"defaultProps",Q({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),$e(y,"getDerivedStateFromProps",function(x,m){var g=x.dataKey,b=x.data,S=x.children,w=x.width,k=x.height,_=x.layout,O=x.stackOffset,N=x.margin,P=m.dataStartIndex,M=m.dataEndIndex;if(m.updateId===void 0){var C=ak(x);return Q(Q(Q({},C),{},{updateId:0},p(Q(Q({props:x},C),{},{updateId:0}),m)),{},{prevDataKey:g,prevData:b,prevWidth:w,prevHeight:k,prevLayout:_,prevStackOffset:O,prevMargin:N,prevChildren:S})}if(g!==m.prevDataKey||b!==m.prevData||w!==m.prevWidth||k!==m.prevHeight||_!==m.prevLayout||O!==m.prevStackOffset||!Os(N,m.prevMargin)){var $=ak(x),z={chartX:m.chartX,chartY:m.chartY,isTooltipActive:m.isTooltipActive},E=Q(Q({},nk(m,b,_)),{},{updateId:m.updateId+1}),G=Q(Q(Q({},$),z),E);return Q(Q(Q({},G),p(Q({props:x},G),m)),{},{prevDataKey:g,prevData:b,prevWidth:w,prevHeight:k,prevLayout:_,prevStackOffset:O,prevMargin:N,prevChildren:S})}if(!Og(S,m.prevChildren)){var A,I,B,W,J=Hn(S,Ys),q=J&&(A=(I=J.props)===null||I===void 0?void 0:I.startIndex)!==null&&A!==void 0?A:P,V=J&&(B=(W=J.props)===null||W===void 0?void 0:W.endIndex)!==null&&B!==void 0?B:M,ie=q!==P||V!==M,te=!Be(b),T=te&&!ie?m.updateId:m.updateId+1;return Q(Q({updateId:T},p(Q(Q({props:x},m),{},{updateId:T,dataStartIndex:q,dataEndIndex:V}),m)),{},{prevChildren:S,dataStartIndex:q,dataEndIndex:V})}return null}),$e(y,"renderActiveDot",function(x,m,g){var b;return j.isValidElement(x)?b=j.cloneElement(x,m):We(x)?b=x(m):b=D.createElement(lp,m),D.createElement(dt,{className:"recharts-active-dot",key:g},b)});var v=j.forwardRef(function(m,g){return D.createElement(y,xs({},m,{ref:g}))});return v.displayName=y.displayName,v},tx=ex({chartName:"LineChart",GraphicalChild:en,axisComponents:[{axisType:"xAxis",AxisComp:Ta},{axisType:"yAxis",AxisComp:$a}],formatAxisMap:Hv}),kQ=ex({chartName:"ScatterChart",GraphicalChild:wn,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:Ta},{axisType:"yAxis",AxisComp:$a},{axisType:"zAxis",AxisComp:gp}],formatAxisMap:Hv}),lP=ex({chartName:"AreaChart",GraphicalChild:ca,axisComponents:[{axisType:"xAxis",AxisComp:Ta},{axisType:"yAxis",AxisComp:$a}],formatAxisMap:Hv});const SQ="modulepreload",jQ=function(e){return"/"+e},ik={},_Q=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),s=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=jQ(l),l in ik)return;ik[l]=!0;const c=l.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${f}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":SQ,c||(d.as="script"),d.crossOrigin="",d.href=l,s&&d.setAttribute("nonce",s),document.head.appendChild(d),c)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(i){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i}return a.then(i=>{for(const s of i||[])s.status==="rejected"&&o(s.reason);return t().catch(o)})};function cP(e){const[[t,r,n],[a,o,i],[s,l,c]]=e,f=t*(o*c-i*l)-r*(a*c-i*s)+n*(a*l-o*s);if(Math.abs(f)<1e-10)return null;const d=1/f;return[[(o*c-i*l)*d,(n*l-r*c)*d,(r*i-n*o)*d],[(i*s-a*c)*d,(t*c-n*s)*d,(n*a-t*i)*d],[(a*l-o*s)*d,(r*s-t*l)*d,(t*o-r*a)*d]]}function sk(e,t){const r=[[0,0,0],[0,0,0],[0,0,0]];for(let n=0;n<3;n++)for(let a=0;a<3;a++)for(let o=0;o<3;o++)r[n][a]+=e[n][o]*t[o][a];return r}class cl{constructor(t){bn(this,"size");bn(this,"isPowerOfTwo");bn(this,"_real");bn(this,"_imag");bn(this,"_scratch",null);bn(this,"_rev",null);bn(this,"_m",0);bn(this,"_internalFFT",null);bn(this,"_chirpReal",null);bn(this,"_chirpImag",null);bn(this,"_bReal",null);bn(this,"_bImag",null);bn(this,"_hanning",null);bn(this,"_windowSumSq",0);this.size=t,this.isPowerOfTwo=(t&t-1)===0&&t>0,this._real=new Float32Array(t),this._imag=new Float32Array(t),this.isPowerOfTwo?this.initRadix2():this.initBluestein()}initRadix2(){const t=this.size,r=Math.log2(t);this._rev=new Uint32Array(t);for(let n=0;n<t;n++){let a=0,o=n;for(let i=0;i<r;i++)a=a<<1|o&1,o>>>=1;this._rev[n]=a}}initBluestein(){const t=this.size;this._m=Math.pow(2,Math.ceil(Math.log2(2*t-1))),this._internalFFT=new cl(this._m),this._chirpReal=new Float32Array(t),this._chirpImag=new Float32Array(t);for(let a=0;a<t;a++){const o=-Math.PI*(a*a)/t;this._chirpReal[a]=Math.cos(o),this._chirpImag[a]=Math.sin(o)}const r=new Float32Array(this._m),n=new Float32Array(this._m);for(let a=0;a<t;a++)r[a]=this._chirpReal[a],n[a]=-this._chirpImag[a];for(let a=1;a<t;a++)r[this._m-a]=r[a],n[this._m-a]=n[a];this._internalFFT.transform(r,n),this._bReal=new Float32Array(this._internalFFT._real),this._bImag=new Float32Array(this._internalFFT._imag)}initHanning(){if(this._hanning)return;const t=this.size;this._hanning=new Float32Array(t);let r=0;for(let n=0;n<t;n++){const a=.5*(1-Math.cos(2*Math.PI*n/(t-1)));this._hanning[n]=a,r+=a*a}this._windowSumSq=r}transform(t,r){this.isPowerOfTwo?this.transformRadix2(t,r):this.transformBluestein(t,r)}transformRadix2(t,r){const n=this.size,a=this._rev,o=this._real,i=this._imag;if(t===o)for(let s=0;s<n;s++){const l=a[s];if(s<l){const c=o[s],f=i[s];o[s]=o[l],i[s]=i[l],o[l]=c,i[l]=f}}else for(let s=0;s<n;s++){const l=a[s];o[s]=t[l],i[s]=r?r[l]:0}for(let s=2;s<=n;s*=2){const l=s/2,c=-2*Math.PI/s,f=Math.cos(c),d=Math.sin(c);for(let h=0;h<n;h+=s){let p=1,y=0;for(let v=0;v<l;v++){const x=h+v,m=h+v+l,g=p*o[m]-y*i[m],b=p*i[m]+y*o[m],S=o[x],w=i[x];o[x]=S+g,i[x]=w+b,o[m]=S-g,i[m]=w-b;const k=p*f-y*d,_=p*d+y*f;p=k,y=_}}}}transformBluestein(t,r){const n=this.size,a=this._m,o=this._internalFFT,i=o._real,s=o._imag;i.fill(0),s.fill(0);for(let d=0;d<n;d++){const h=t[d],p=r?r[d]:0,y=this._chirpReal[d],v=this._chirpImag[d];i[d]=h*y-p*v,s[d]=h*v+p*y}o.transformRadix2(i,s);for(let d=0;d<a;d++){const h=o._real[d],p=o._imag[d],y=this._bReal[d],v=this._bImag[d];o._real[d]=h*y-p*v,o._imag[d]=h*v+p*y}const l=o._real,c=o._imag;for(let d=0;d<a;d++)c[d]=-c[d];o.transformRadix2(l,c);const f=1/a;for(let d=0;d<n;d++){const h=o._real[d]*f,p=-o._imag[d]*f,y=this._chirpReal[d],v=this._chirpImag[d];this._real[d]=h*y-p*v,this._imag[d]=h*v+p*y}}calculateSpectrum(t,r,n=!1){const a=this.size;let o=0;for(let f=0;f<a;f++)o+=t[f];const i=o/a;this._scratch||(this._scratch=new Float32Array(a));const s=this._scratch;if(n){this.initHanning();const f=this._hanning;for(let d=0;d<a;d++)s[d]=(t[d]-i)*f[d]}else for(let f=0;f<a;f++)s[f]=t[f]-i;this.transform(s);const l=r.length;let c=1/a;n&&this._windowSumSq>0&&(c=1/this._windowSumSq);for(let f=0;f<l;f++){const d=this._real[f],h=this._imag[f];r[f]+=(d*d+h*h)*c}}}function OQ(e,t,r,n=!1){const a=new cl(t),o=new cl(r),i=t*r,s=new Float32Array(i),l=new Float32Array(i);let c=null,f=null;if(n){c=new Float32Array(t);for(let v=0;v<t;v++)c[v]=.5*(1-Math.cos(2*Math.PI*v/(t-1)));f=new Float32Array(r);for(let v=0;v<r;v++)f[v]=.5*(1-Math.cos(2*Math.PI*v/(r-1)))}for(let v=0;v<r;v++){const x=v*t,m=a._real;let g=0;for(let S=0;S<t;S++)g+=e[x+S];const b=g/t;if(c)for(let S=0;S<t;S++)m[S]=(e[x+S]-b)*c[S];else for(let S=0;S<t;S++)m[S]=e[x+S]-b;a.transform(m);for(let S=0;S<t;S++)s[x+S]=a._real[S],l[x+S]=a._imag[S]}for(let v=0;v<t;v++){const x=o._real,m=o._imag;for(let g=0;g<r;g++){const b=g*t+v;let S=s[b],w=l[b];f&&(S*=f[g],w*=f[g]),x[g]=S,m[g]=w}o.transform(x,m);for(let g=0;g<r;g++){const b=g*t+v;s[b]=o._real[g],l[b]=o._imag[g]}}const d=new Float32Array(i);let h=1,p=t,y=r;if(n&&c&&f){p=0;for(let v=0;v<t;v++)p+=c[v]*c[v];y=0;for(let v=0;v<r;v++)y+=f[v]*f[v]}h=1/(p*y);for(let v=0;v<i;v++)d[v]=(s[v]*s[v]+l[v]*l[v])*h;return d}function NQ(e,t,r){const n=new Float32Array(e.length),a=Math.floor(t/2),o=Math.floor(r/2);for(let i=0;i<r;i++)for(let s=0;s<t;s++){const l=(s+a)%t,c=(i+o)%r,f=i*t+s,d=c*t+l;n[d]=e[f]}return n}function Lf(e,t,r){const a=e*t*2,o=8,i=o+a,s="Fake",l="NoiseCam",c="NoiseCam",f=N=>{const P=new Uint8Array(N.length+1);for(let M=0;M<N.length;M++)P[M]=N.charCodeAt(M);return P[N.length]=0,P},d=f(s),h=f(l),p=f(c),y=[{id:254,type:4,count:1,value:0},{id:256,type:4,count:1,value:e},{id:257,type:4,count:1,value:t},{id:258,type:3,count:1,value:16},{id:259,type:3,count:1,value:1},{id:262,type:3,count:1,value:32803},{id:271,type:2,count:d.length,value:d},{id:272,type:2,count:h.length,value:h},{id:273,type:4,count:1,value:o},{id:277,type:3,count:1,value:1},{id:278,type:4,count:1,value:t},{id:279,type:4,count:1,value:a},{id:33421,type:3,count:2,value:[2,2]},{id:33422,type:1,count:4,value:[0,1,1,2]},{id:50706,type:1,count:4,value:[1,4,0,0]},{id:50717,type:2,count:p.length,value:p}],v=2+y.length*12+4;let x=0;const m=y.map(N=>{let P=1;N.type===3&&(P=2),N.type===4&&(P=4);const M=N.count*P,C=M<=4;let $=0;return C||($=x,x+=M,x%2!==0&&x++),{...N,fits:C,totalBytes:M,extraOffset:$}}),g=i+v,b=g+x,S=new ArrayBuffer(b),w=new DataView(S),k=new Uint8Array(S);w.setUint16(0,18761,!0),w.setUint16(2,42,!0),w.setUint32(4,i,!0);const _=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);k.set(_,o);let O=i;return w.setUint16(O,y.length,!0),O+=2,m.forEach(N=>{if(w.setUint16(O,N.id,!0),w.setUint16(O+2,N.type,!0),w.setUint32(O+4,N.count,!0),N.fits){const P=O+8;Array.isArray(N.value)?N.value.forEach((M,C)=>{N.type===1&&w.setUint8(P+C,M),N.type===3&&w.setUint16(P+C*2,M,!0)}):N.value instanceof Uint8Array||(N.type===3&&w.setUint16(P,N.value,!0),N.type===4&&w.setUint32(P,N.value,!0))}else{const P=g+N.extraOffset;w.setUint32(O+8,P,!0);const M=P;N.value instanceof Uint8Array?k.set(N.value,M):Array.isArray(N.value)&&N.value.forEach((C,$)=>{N.type===1&&w.setUint8(M+$,C),N.type===3&&w.setUint16(M+$*2,C,!0)})}O+=12}),w.setUint32(O,0,!0),S}let _0=null;async function Ru(){if(!_0)try{const n=(await _Q(()=>import("./joraw-kC_ZQdcB.js"),[])).default;if(typeof n!="function")throw new Error("JoRaw WASM import failed");const a=new URL("/assets/joraw-BUh50ws_.wasm",import.meta.url).href;_0=n({locateFile:(o,i)=>o.endsWith("joraw.wasm")?a:i+o})}catch(r){throw console.error("Failed to load joraw.js:",r),r}const e=await _0,t=e.LibRaw||e.JoRaw;if(!t)throw new Error("JoRaw class not found");return t}const PQ=[[3.2404542,-1.5371385,-.4985314],[-.969266,1.8760108,.041556],[.0556434,-.2040259,1.0572252]],Sc=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055;async function jf(e,t=0,r=0){const n=await Ru(),a=new n;try{await a.open(new Uint8Array(e));const o=a.getRawImage(),i=new Uint16Array(o.data),s=o.width,l=o.height,c=Math.floor((s-t)/6)*2,f=Math.floor((l-r)/6)*2;if(c<=0||f<=0)throw new Error("Image too small for X-Trans subsampling with current phase.");const d=new Uint16Array(c*f);for(let p=0;p<f/2;p++){const y=p*6+r;if(y+3>=l)break;const v=y*s,x=(y+3)*s,m=p*2,g=m*c,b=(m+1)*c;for(let S=0;S<c/2;S++){const w=S*6+t;if(w+1>=s)break;const k=S*2;d[g+k]=i[v+w+1],d[g+k+1]=i[v+w+0],d[b+k]=i[x+w+0],d[b+k+1]=i[x+w+1]}}return{dngBuffer:Lf(c,f,d),width:c,height:f}}finally{a.delete?a.delete():a.close()}}async function AQ(e){const t=await createImageBitmap(e),r=t.width,n=t.height,a=document.createElement("canvas");a.width=r,a.height=n;const o=a.getContext("2d");if(!o)throw new Error("Failed to create canvas context");o.drawImage(t,0,0);const s=o.getImageData(0,0,r,n).data,l=r*n,c=new Uint16Array(l);for(let d=0;d<n;d++)for(let h=0;h<r;h++){const p=(d*r+h)*4,y=d*r+h,v=d%2===0,x=h%2===0;let m=0;v&&x?m=s[p]:!v&&!x?m=s[p+2]:m=s[p+1],c[y]=m*64}return{previewBlob:await new Promise(d=>a.toBlob(d,"image/png"))||e,analysisData:{data:c,width:r,height:n,bayerPattern:"RGGB",blackLevels:[0,0,0,0],whiteLevel:16320,metadata:{description:"Standard image (non-RAW)"},isThreePlane:!0}}}const MQ=async e=>{const t=await Ru(),r=new t;try{await r.open(e,{useCameraWb:!0,outputBps:8,noAutoBright:!0,userQual:3,outputColor:1});const n=await r.imageData();return new Promise((a,o)=>{const i=document.createElement("canvas");i.width=n.width,i.height=n.height;const s=i.getContext("2d");if(!s){o(new Error("Could not create canvas context"));return}const l=s.createImageData(n.width,n.height),c=n.data,f=n.width*n.height;for(let d=0;d<f;d++){const h=d*3,p=d*4;l.data[p]=c[h],l.data[p+1]=c[h+1],l.data[p+2]=c[h+2],l.data[p+3]=255}s.putImageData(l,0,0),i.toBlob(d=>{d?a(d):o(new Error("Canvas to Blob failed"))},"image/jpeg",.85)})}finally{r.delete?r.delete():r.close()}},dh=async e=>{var n,a,o,i,s,l,c,f,d;const t=await Ru(),r=new t;try{if(await r.open(e,{}),typeof r.getRawImage!="function")throw new Error("WASM mismatch");const h=r.getRawImage();let p=new Uint16Array(h.data);const y=await r.metadata(!0),v=((n=y.idata)==null?void 0:n.filters)||0,x=((a=y.idata)==null?void 0:a.colors)||0,m=v===0&&x===3,g=v===9;let b=[];if((o=y.color_data)!=null&&o.cblack_rawpy_style)b=y.color_data.cblack_rawpy_style;else if((s=(i=y.color_data)==null?void 0:i.dng_levels)!=null&&s.dng_cblack)b=y.color_data.dng_levels.dng_cblack;else if(((l=y.black_level_per_channel)==null?void 0:l.length)>=4)b=y.black_level_per_channel;else if(((c=y.cblack)==null?void 0:c.length)>=4)b=y.cblack;else if(((d=(f=y.color)==null?void 0:f.cblack)==null?void 0:d.length)>=4)b=y.color.cblack;else{const w=y.black_level||y.color_data&&y.color_data.black||0;b=[w,w,w,w]}const S=[Number(b[0])||0,Number(b[1])||0,Number(b[2])||0,Number(b[3])||0];return{data:p,width:h.width,height:h.height,bayerPattern:y.color_desc||"RGGB",blackLevels:S,whiteLevel:y.white_level||16383,metadata:y,isThreePlane:m,isXTrans:g}}finally{r.delete?r.delete():r.close()}};async function hi(e){const t=new Uint8Array(e.slice(0)),r=new Uint8Array(e.slice(0)),[n,a]=await Promise.all([MQ(t),dh(r)]);return{previewBlob:n,analysisData:a}}async function hh(e){const t=new Uint8Array(e.slice(0));return dh(t)}const lk=e=>(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e++,e);async function O0(e,t,r,n=!0){const a=await dh(new Uint8Array(e)),o=await dh(new Uint8Array(t));if(a.width!==o.width||a.height!==o.height)throw new Error("Dimension Mismatch");const i=a.width,s=a.height,l=r?lk(i):i,c=r?lk(s):s,f=l*c,d=new Uint16Array(f),h=6e4,p=1.41421356;for(let y=0;y<s;y++){const v=y*i,x=y*l;for(let m=0;m<i;m++){const g=a.data[v+m],b=o.data[v+m];let S=g-b;n&&(S/=p);let w=S+h;w=Math.max(0,Math.min(65535,w)),d[x+m]=Math.round(w)}}return{rawData:d,width:l,height:c,metadata:a.metadata}}function pi(e,t,r,n,a,o,i){const s=Math.max(0,Math.floor(n)),l=Math.max(0,Math.floor(a)),c=Math.min(t,Math.ceil(n+o)),f=Math.min(r,Math.ceil(a+i)),d=[0,0,0,0],h=[0,0,0,0],p=[0,0,0,0];for(let x=l;x<f;x++){const m=x*t,g=x%2;for(let b=s;b<c;b++){const S=b%2,w=e[m+b],k=g*2+S;d[k]+=w,h[k]+=w*w,p[k]++}}const y=[0,0,0,0],v=[0,0,0,0];for(let x=0;x<4;x++)if(p[x]>0){const m=d[x]/p[x];y[x]=m;const b=h[x]/p[x]-m*m;v[x]=Math.sqrt(Math.max(0,b))}return{x:s,y:l,width:c-s,height:f-l,means:y,stdDevs:v,pixelCount:p.reduce((x,m)=>x+m,0)}}function ck(e,t,r,n,a,o,i=0,s=0){const l=Math.max(0,Math.floor(n.x)),c=Math.max(0,Math.floor(n.y)),f=Math.min(t,Math.ceil(n.x+n.w)),d=Math.min(r,Math.ceil(n.y+n.h)),h=a>>1,p=a&1,y=(o>>1)+i,v=(o&1)+s;let x=0,m=0,g=0;for(let O=c;O<d-2;O+=2)for(let N=l;N<f-2;N+=2){const P=(O+h)*t+(N+p),M=(O+y)*t+(N+v);O+y>=r||N+v>=t||(x+=e[P],m+=e[M],g++)}if(g<2)return{sumCov:0,sumVar1:0,sumVar2:0,n:0};const b=x/g,S=m/g;let w=0,k=0,_=0;for(let O=c;O<d-2;O+=2)for(let N=l;N<f-2;N+=2){const P=(O+h)*t+(N+p),M=(O+y)*t+(N+v);if(O+y>=r||N+v>=t)continue;const C=e[P],$=e[M],z=C-b,E=$-S;w+=z*E,k+=z*z,_+=E*E}return{sumCov:w,sumVar1:k,sumVar2:_,n:g}}function CQ(e){if(e.n<2)return 0;const t=Math.sqrt(e.sumVar1*e.sumVar2);return t===0?0:e.sumCov/t}function EQ(e,t,r,n,a,o,i,s,l,c,f){if(c<=l)return[];const d=Math.max(0,Math.floor(n)),h=Math.max(0,Math.floor(a)),p=Math.min(t,Math.ceil(n+o)),y=Math.min(r,Math.ceil(a+i)),v=c-l,x=f?Math.floor(v)+1:s,m=v/x,g=[new Uint32Array(x),new Uint32Array(x),new Uint32Array(x),new Uint32Array(x)];for(let S=h;S<y;S++){const w=S*t,k=S%2;for(let _=d;_<p;_++){const O=_%2,N=e[w+_];if(N<l||N>c)continue;const P=k*2+O;let M;f?M=Math.floor(N-l):M=Math.floor((N-l)/m),M<0&&(M=0),M>=x&&(M=x-1),g[P][M]++}}const b=[];for(let S=0;S<x;S++){const w=l+(f?S:S*m);b.push({binStart:w,c0:g[0][S],c1:g[1][S],c2:g[2][S],c3:g[3][S]})}return b}function TQ(e,t,r,n,a,o=!1,i=!1,s={rows:!1,rowGroup:0,cols:!1,colGroup:0},l=!0,c=1){const f=Math.max(0,Math.floor(n.x)),d=Math.max(0,Math.floor(n.y)),h=Math.min(t,Math.ceil(n.x+n.w)),p=Math.min(r,Math.ceil(n.y+n.h)),y=h-f,v=p-d;if(y<=1||v<=1)return null;let x=0;for(let M=f;M<h;M++)M%2===(a&1)&&x++;let m=0;for(let M=d;M<p;M++)M%2===a>>1&&m++;if(x<4||m<4)return null;const g=Math.max(1,c),b=Math.floor(2*x/(g+1)),S=Math.floor(2*m/(g+1));if(b<4||S<4)return null;const w=new cl(b),k=new cl(S),_=new Float32Array(Math.floor(b/2)+1),O=new Float32Array(Math.floor(S/2)+1);let N=0,P=0;for(let M=d;M<p;M++){const C=M%2;if(a>>1!==C||s.rows&&(M>>1&1)!==s.rowGroup)continue;const $=M*t,z=new Float32Array(x);let E=0;for(let G=f;G<h;G++)G%2===(a&1)&&E<x&&(z[E++]=e[$+G]);for(let G=0;G<g;G++){const A=Math.floor(G*b/2);if(A+b>x)break;const I=z.slice(A,A+b);w.calculateSpectrum(I,_,i),N++}if(!l)break}for(let M=f;M<h;M++){const C=M%2;if((a&1)!==C||s.cols&&(M>>1&1)!==s.rowGroup)continue;const $=new Float32Array(m);let z=0;for(let E=d;E<p;E++)E%2===a>>1&&z<m&&($[z++]=e[E*t+M]);for(let E=0;E<g;E++){const G=Math.floor(E*S/2);if(G+S>m)break;const A=$.slice(G,G+S);k.calculateSpectrum(A,O,i),P++}if(!l)break}if(N>0)for(let M=0;M<_.length;M++)_[M]/=N;if(P>0)for(let M=0;M<O.length;M++)O[M]/=P;return{avgHoriz:Array.from(_),avgVert:Array.from(O),sampleCount:{h:N,v:P}}}function $Q(e,t,r,n,a,o=!1){const i=Math.max(0,Math.floor(n.x)),s=Math.max(0,Math.floor(n.y)),l=Math.min(t,Math.ceil(n.x+n.w)),c=Math.min(r,Math.ceil(n.y+n.h));let f=-1;for(let g=s;g<c;g++)if(g%2===a>>1){f=g;break}if(f===-1)return null;let d=-1;for(let g=i;g<l;g++)if(g%2===(a&1)){d=g;break}if(d===-1)return null;const h=[];for(let g=f;g<c;g+=2){const b=g*t,S=[];for(let w=d;w<l;w+=2)S.push(e[b+w]);h.push(S)}const p=h.length;if(p===0)return null;const y=h[0].length;if(y===0)return null;const v=new Float32Array(y*p);for(let g=0;g<p;g++){const b=h[g];for(let S=0;S<y;S++)v[g*y+S]=b[S]}const x=OQ(v,y,p,o),m=NQ(x,y,p);return{width:y,height:p,data:m}}function DQ(e,t,r,n,a,o,i){const{x:s,y:l,w:c,h:f}=n,d=[],h=Math.max(0,Math.floor(s)),p=Math.max(0,Math.floor(l)),y=Math.min(t,Math.ceil(s+c)),v=Math.min(r,Math.ceil(l+f)),x=a>>1,m=a&1;for(let k=p;k<v;k++){if(k%2!==x)continue;const _=k*t;for(let O=h;O<y;O++){if(O%2!==m)continue;const N=e[_+O];N>=o&&N<=i&&d.push(N-o)}}if(d.length===0)return null;d.sort((k,_)=>k-_);const g=[d[0]];for(let k=1;k<d.length;k++)d[k]!==d[k-1]&&g.push(d[k]);const b=[],S=[],w={};for(let k=0;k<g.length-1;k++){const _=g[k],N=g[k+1]-_;b.push(N),S.push({x:_,y:N}),w[N]=(w[N]||0)+1}return{uniqueCount:g.length,diffCount:b.length,stepCounts:w,plotData:S}}async function uk(e,t){const r=await Ru(),n=new r;try{const a=new Uint8Array(e.slice(0));let o=!1,i=[];if(t.customMatrix&&t.customMatrix.length===9){const h=[[t.customMatrix[0],t.customMatrix[1],t.customMatrix[2]],[t.customMatrix[3],t.customMatrix[4],t.customMatrix[5]],[t.customMatrix[6],t.customMatrix[7],t.customMatrix[8]]],p=cP(h);if(p){const y=t.wbGains?t.wbGains[0]:1,v=t.wbGains?t.wbGains[1]:1,m=sk(p,[[y,0,0],[0,1,0],[0,0,v]]),g=sk(PQ,m);i=[g[0][0],g[0][1],g[0][2],g[1][0],g[1][1],g[1][2],g[2][0],g[2][1],g[2][2]],o=!0}else throw new Error("Custom Matrix is not invertible.")}const s={outputBps:16,noAutoBright:!0,bright:o?1:Math.pow(2,t.exposure)};t.blackLevel&&t.blackLevel.length===4&&(s.userBlack=0,s.userCblack=t.blackLevel.map(h=>{const p=Math.round(h);return p===0?1:p})),t.demosaicMethod===-1?s.noInterpolation=!0:s.userQual=t.demosaicMethod,o?(s.outputColor=0,s.gamma=[1,1],s.userMul=[1,1,1,1],s.useCameraWb=!1):(s.outputColor=1,s.useCameraWb=!0),await n.open(a,s);const l=await n.imageData(),c=new ImageData(l.width,l.height),f=c.data,d=new Uint16Array(l.data.buffer,l.data.byteOffset,l.data.byteLength/2);if(o&&i.length===9){const h=i,y=Math.pow(2,t.exposure)*.25;for(let v=0;v<d.length;v+=3){const x=d[v]/65535,m=d[v+1]/65535,g=d[v+2]/65535;let b=h[0]*x+h[1]*m+h[2]*g,S=h[3]*x+h[4]*m+h[5]*g,w=h[6]*x+h[7]*m+h[8]*g;b*=y,S*=y,w*=y,b=Math.max(0,Math.min(1,b)),S=Math.max(0,Math.min(1,S)),w=Math.max(0,Math.min(1,w)),b=Sc(b),S=Sc(S),w=Sc(w);const k=v/3*4;f[k]=Math.round(b*255),f[k+1]=Math.round(S*255),f[k+2]=Math.round(w*255),f[k+3]=255}}else for(let h=0;h<d.length;h+=3){const p=h/3*4;f[p]=d[h]>>8,f[p+1]=d[h+1]>>8,f[p+2]=d[h+2]>>8,f[p+3]=255}return c}finally{n.delete?n.delete():n.close()}}async function RQ(e,t,r=!1,n=!1){const a=await Ru(),o=new a;try{if(t.renderMode==="zero-dependency"||t.renderMode==="advanced-zero-dep"){await o.open(new Uint8Array(e));const i=await o.metadata(!0),s=(i==null?void 0:i.white_level)||16383,l=o.getRawImage(),{width:c,height:f,data:d}=l,h=new Uint16Array(c*f),p=Math.pow(2,t.exposure);if(t.renderMode==="advanced-zero-dep"&&t.advancedZeroDep){const{bl:y,bg:v,fg:x}=t.advancedZeroDep,m=(v[1]+v[3])/2,g=(x[1]+x[3])/2;for(let b=0;b<f;b++){const S=b%2;for(let w=0;w<c;w++){const k=w%2;let _=0;!S&&!k?_=0:!S&&k?_=1:S&&!k?_=3:_=2;const O=d[b*c+w],N=y[_],P=v[_],M=x[_],C=Math.max(O-N,0),$=M-P||1e-9,z=(C-P)/$;let E;z<0?E=C*(m/Math.max(P,1e-9)):z>1?E=C*(g/Math.max(M,1e-9)):E=(1-z)*m+z*g,E*=p;const G=Math.max(0,Math.min(1,E/s)),A=n?Sc(G):G;h[b*c+w]=Math.round(A*65535)}}}else{const y=t.blackLevel||[0,0,0,0],v=t.wbGains?t.wbGains[0]:1,x=t.wbGains?t.wbGains[1]:1;for(let m=0;m<f;m++){const g=m%2;for(let b=0;b<c;b++){const S=b%2,w=g*2+S,k=d[m*c+b],_=y[w];let O=k-_;w===0?O*=v:w===3&&(O*=x),O*=p;const N=Math.max(0,Math.min(1,O/(r?s-_:s))),P=n?Sc(N):N;h[m*c+b]=Math.round(P*65535)}}}return{data:h,width:c,height:f,channels:1}}else{const i=new Uint8Array(e.slice(0)),s={outputBps:16,noAutoBright:!r,bright:1,outputColor:n?1:0,useCameraWb:!0};t.blackLevel&&t.blackLevel.length===4&&(s.userBlack=0,s.userCblack=t.blackLevel.map(d=>Math.max(1,Math.round(d)))),t.demosaicMethod===-1?s.noInterpolation=!0:s.userQual=t.demosaicMethod,await o.open(i,s);const l=await o.imageData(),c=new Uint16Array(l.data.buffer,l.data.byteOffset,l.data.byteLength/2),f=Math.pow(2,t.exposure);if(f!==1)for(let d=0;d<c.length;d++)c[d]=Math.max(0,Math.min(65535,Math.round(c[d]*f)));return{data:c,width:l.width,height:l.height,channels:3}}}finally{o.delete?o.delete():o.close()}}const LQ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,zIndex:i,onFocus:s,initialPosition:l,initialInternalState:c,onUpdateState:f})=>{const[d,h]=j.useState((c==null?void 0:c.channelMode)||"All"),[p,y]=j.useState((c==null?void 0:c.minVal)??0),[v,x]=j.useState((c==null?void 0:c.maxVal)??16383),[m,g]=j.useState((c==null?void 0:c.binCount)??100),[b,S]=j.useState((c==null?void 0:c.pointToPoint)??!1),[w,k]=j.useState((c==null?void 0:c.showTheo)??!1),[_,O]=j.useState((c==null?void 0:c.theoMean)??"512"),[N,P]=j.useState((c==null?void 0:c.theoSigma)??"10"),[M,C]=j.useState((c==null?void 0:c.theoAmp)??"1000"),[$,z]=j.useState(!1),[E,G]=j.useState([]),[A,I]=j.useState(null),[B,W]=j.useState(l||{x:100,y:100}),[J,q]=j.useState(!1),V=j.useRef({x:0,y:0});j.useEffect(()=>{f&&f({channelMode:d,minVal:p,maxVal:v,binCount:m,pointToPoint:b,showTheo:w,theoMean:_,theoSigma:N,theoAmp:M})},[d,p,v,m,b,w,_,N,M]),j.useEffect(()=>{if(!e||!n||!a)return;if(v<=p){I("Invalid range: Max must be greater than Min");return}I(null),z(!0);const F=setTimeout(()=>{try{const ge=EQ(n.data,n.width,n.height,a.x,a.y,a.w,a.h,m,p,v,b);G(ge)}catch(ge){console.error("Histogram calc error:",ge),I("Error calculating histogram")}finally{z(!1)}},50);return()=>clearTimeout(F)},[e,n,a==null?void 0:a.x,a==null?void 0:a.y,a==null?void 0:a.w,a==null?void 0:a.h,m,p,v,b]);const ie=j.useMemo(()=>{if(!w)return E;const F=parseFloat(_),ge=parseFloat(N),he=parseFloat(M);return isNaN(F)||isNaN(ge)||isNaN(he)||ge<=0?E:E.map(Se=>{const Ge=Se.binStart,Ie=-Math.pow(Ge-F,2)/(2*Math.pow(ge,2)),ht=he*Math.exp(Ie);return{...Se,theory:ht}})},[E,w,_,N,M]),te=()=>{if(E.length===0)return;let F=0,ge=0;if(E.forEach(he=>{const Se=Math.max(he.c0||0,he.c1||0,he.c2||0,he.c3||0);Se>F&&(F=Se,ge=he.binStart)}),O(ge.toFixed(2)),C(F.toString()),parseFloat(N)===0||isNaN(parseFloat(N))){const he=v-p;P((he/20).toFixed(2))}},T=(F,ge,he)=>{s&&s(),!(he.closest("button")||he.closest("input")||he.closest("select"))&&(q(!0),V.current={x:F-B.x,y:ge-B.y})},oe=F=>{T(F.clientX,F.clientY,F.target)},ue=F=>{const ge=F.touches[0];T(ge.clientX,ge.clientY,F.target)};if(j.useEffect(()=>{const F=he=>{if(J){const Se="touches"in he?he.touches[0].clientX:he.clientX,Ge="touches"in he?he.touches[0].clientY:he.clientY;W({x:Se-V.current.x,y:Ge-V.current.y})}},ge=()=>q(!1);return J&&(window.addEventListener("mousemove",F),window.addEventListener("mouseup",ge),window.addEventListener("touchmove",F,{passive:!1}),window.addEventListener("touchend",ge)),()=>{window.removeEventListener("mousemove",F),window.removeEventListener("mouseup",ge),window.removeEventListener("touchmove",F),window.removeEventListener("touchend",ge)}},[J]),!e)return null;const K=o?{c0:"Blue",c1:"Green 1",c2:"Green 2",c3:"Red"}:{c0:"Red",c1:"Green 1",c2:"Green 2",c3:"Blue"},le=o?{c0:"#3b82f6",c1:"#22c55e",c2:"#4ade80",c3:"#ef4444"}:{c0:"#ef4444",c1:"#22c55e",c2:"#4ade80",c3:"#3b82f6"},ne="step";return u.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl resize-both overflow-hidden min-w-[500px] min-h-[400px] w-[900px] h-[650px]",style:{left:B.x,top:B.y,zIndex:i??100},onMouseDownCapture:s,children:[u.jsxs("div",{className:`flex justify-between items-center p-4 border-b border-gray-200 dark:border-slate-700 flex-shrink-0 bg-white dark:bg-slate-900 select-none touch-none ${J?"cursor-grabbing":"cursor-grab"}`,onMouseDown:oe,onTouchStart:ue,children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 pointer-events-none",children:"ROI Histogram"}),u.jsxs("div",{className:"flex items-center gap-1",children:[r&&u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-800/50 flex flex-wrap gap-x-6 gap-y-3 items-center border-b border-gray-200 dark:border-slate-700 text-xs flex-shrink-0 relative z-10",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-bold uppercase tracking-tight",children:"Channel:"}),u.jsxs("select",{value:d,onChange:F=>h(F.target.value),className:"bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-900 dark:text-slate-100 outline-none focus:ring-1 focus:ring-cyan-500",children:[u.jsx("option",{value:"All",children:"All Colors"}),u.jsx("option",{value:"0",children:K.c0}),u.jsx("option",{value:"1",children:K.c1}),u.jsx("option",{value:"2",children:K.c2}),u.jsx("option",{value:"3",children:K.c3})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-bold uppercase tracking-tight",children:"Range:"}),u.jsx("input",{type:"number",value:p,onChange:F=>y(Number(F.target.value)),className:"w-16 px-1.5 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right font-mono"}),u.jsx("span",{className:"text-gray-400",children:"-"}),u.jsx("input",{type:"number",value:v,onChange:F=>x(Number(F.target.value)),className:"w-16 px-1.5 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right font-mono"})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:b,onChange:F=>S(F.target.checked),className:"w-3.5 h-3.5 text-cyan-600 rounded border-gray-300 focus:ring-cyan-500"}),u.jsx("span",{className:"text-gray-700 dark:text-slate-300 select-none font-semibold",children:"PTP"})]}),!b&&u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"Bins:"}),u.jsx("input",{type:"number",value:m,onChange:F=>g(Math.max(1,Number(F.target.value))),className:"w-12 px-1.5 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right font-mono"})]})]}),u.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700"}),u.jsxs("div",{className:`flex items-center gap-3 p-1.5 rounded-lg border transition-all ${w?"bg-amber-50/30 dark:bg-amber-900/10 border-amber-200/50 dark:border-amber-800/50":"bg-transparent border-transparent"}`,children:[u.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:w,onChange:F=>k(F.target.checked),className:"w-3.5 h-3.5 text-amber-500 rounded border-gray-300 focus:ring-amber-500 bg-white dark:bg-slate-700"}),u.jsx("span",{className:`font-bold uppercase tracking-tight ${w?"text-amber-600 dark:text-amber-400":"text-gray-400"}`,children:"Theoretical Bell"})]}),w&&u.jsxs("div",{className:"flex items-center gap-2 animate-in fade-in slide-in-from-left-2 duration-200",children:[u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("span",{className:"text-[8px] text-gray-400 uppercase font-bold",children:"Mean()"}),u.jsx("input",{type:"text",value:_,onChange:F=>O(F.target.value),className:"w-14 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center text-[10px] py-0.5 outline-none focus:border-amber-500"})]}),u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("span",{className:"text-[8px] text-gray-400 uppercase font-bold",children:"Sigma()"}),u.jsx("input",{type:"text",value:N,onChange:F=>P(F.target.value),className:"w-12 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center text-[10px] py-0.5 outline-none focus:border-amber-500"})]}),u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("span",{className:"text-[8px] text-gray-400 uppercase font-bold",children:"Scale(A)"}),u.jsx("input",{type:"text",value:M,onChange:F=>C(F.target.value),className:"w-16 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center text-[10px] py-0.5 outline-none focus:border-amber-500"})]}),u.jsx("button",{onClick:te,className:"mt-3 px-2 py-0.5 bg-amber-600 hover:bg-amber-500 text-white text-[9px] font-bold rounded shadow-sm active:scale-95 transition-all",title:"Set Mean and Amplitude based on current peak",children:"AUTO FIT"})]})]})]}),u.jsxs("div",{className:"flex-1 p-4 relative bg-white dark:bg-slate-900 overflow-hidden min-h-0",children:[u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-0 pointer-events-none select-none opacity-10 mix-blend-normal dark:mix-blend-plus-lighter",children:u.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),$&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-20 bg-white/50 dark:bg-slate-900/50 backdrop-blur-[1px]",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("div",{className:"w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mb-2"}),u.jsx("span",{className:"text-sm text-cyan-600 dark:text-cyan-400 font-semibold",children:"Calculating Histogram..."})]})}),A?u.jsx("div",{className:"flex items-center justify-center h-full text-red-500 relative z-10",children:A}):u.jsx("div",{className:"relative z-10 w-full h-full",children:u.jsx(zs,{width:"100%",height:"100%",children:u.jsxs(tx,{data:ie,children:[u.jsx(Hi,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3}),u.jsx(Ta,{dataKey:"binStart",type:"number",domain:[p,v],tickFormatter:F=>Math.floor(F).toString(),tick:{fill:"#9ca3af",fontSize:12},allowDataOverflow:!0,label:{value:"DN Value",position:"insideBottom",offset:-5,fill:"#9ca3af",fontSize:12}}),u.jsx($a,{tick:{fill:"#9ca3af",fontSize:12},label:{value:"Count",angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:12}}),u.jsx(Sn,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6"},itemStyle:{fontSize:"12px"},labelFormatter:F=>`DN: ${Math.round(Number(F))}`,formatter:(F,ge)=>[Math.round(F),ge]}),u.jsx(co,{wrapperStyle:{paddingTop:"10px"}}),w&&u.jsx(en,{type:"monotone",dataKey:"theory",name:"Ideal Bell (Gaussian)",stroke:"#f59e0b",strokeWidth:2.5,strokeDasharray:"5 5",dot:!1,isAnimationActive:!1}),(d==="All"||d==="0")&&u.jsx(en,{type:ne,dataKey:"c0",name:K.c0,stroke:le.c0,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(d==="All"||d==="1")&&u.jsx(en,{type:ne,dataKey:"c1",name:K.c1,stroke:le.c1,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(d==="All"||d==="2")&&u.jsx(en,{type:ne,dataKey:"c2",name:K.c2,stroke:le.c2,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(d==="All"||d==="3")&&u.jsx(en,{type:ne,dataKey:"c3",name:K.c3,stroke:le.c3,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1})]})})})]})]})},Lu=({initialPosition:e={x:20,y:80},children:t,className:r="",onClose:n,zIndex:a,onFocus:o})=>{const[i,s]=j.useState(e),[l,c]=j.useState(!1),[f,d]=j.useState({x:0,y:0}),h=j.useRef(null),p=(x,m,g)=>{o&&o(),!(g.closest("button")||g.closest("input"))&&(c(!0),d({x:x-i.x,y:m-i.y}))},y=x=>{p(x.clientX,x.clientY,x.target)},v=x=>{const m=x.touches[0];p(m.clientX,m.clientY,x.target)};return j.useEffect(()=>{const x=g=>{var b,S;if(l){g.cancelable&&g.preventDefault();const w="touches"in g?g.touches[0].clientX:g.clientX,k="touches"in g?g.touches[0].clientY:g.clientY,_=w-f.x,O=k-f.y,N=window.innerWidth-(((b=h.current)==null?void 0:b.offsetWidth)||100),P=window.innerHeight-(((S=h.current)==null?void 0:S.offsetHeight)||100);s({x:Math.max(0,Math.min(_,N)),y:Math.max(0,Math.min(O,P))})}},m=()=>{c(!1)};return l&&(window.addEventListener("mousemove",x),window.addEventListener("mouseup",m),window.addEventListener("touchmove",x,{passive:!1}),window.addEventListener("touchend",m)),()=>{window.removeEventListener("mousemove",x),window.removeEventListener("mouseup",m),window.removeEventListener("touchmove",x),window.removeEventListener("touchend",m)}},[l,f]),u.jsxs("div",{ref:h,style:{left:i.x,top:i.y,zIndex:a??90},onMouseDownCapture:o,className:`fixed border-2 border-black dark:border-gray-500 bg-white dark:bg-black shadow-[8px_8px_0px_rgba(0,0,0,0.5)] dark:shadow-[8px_8px_0px_rgba(255,255,255,0.2)] transition-shadow duration-200 ${l?"cursor-grabbing shadow-[4px_4px_0px_rgba(0,0,0,0.5)]":""} ${r}`,children:[u.jsx("div",{onMouseDown:y,onTouchStart:v,className:"absolute inset-0 w-full h-8 cursor-grab active:cursor-grabbing z-0 touch-none bg-gray-200 dark:bg-gray-800 border-b-2 border-black dark:border-gray-500",title:"Drag to move"}),u.jsx("div",{className:"relative z-10 pointer-events-none",children:u.jsx("div",{className:"pointer-events-auto",children:t})})]})},IQ=({isOpen:e,onClose:t,rawImageData:r,roi:n,selectedChannel:a,channelName:o,zIndex:i,onFocus:s,initialPosition:l})=>{const c=j.useRef(null),[f,d]=j.useState(!1),[h,p]=j.useState(null),[y,v]=j.useState(null),[x,m]=j.useState(!0),[g,b]=j.useState(!0),[S,w]=j.useState("-1"),[k,_]=j.useState("8"),[O,N]=j.useState(64),[P,M]=j.useState(45),[C,$]=j.useState(60),z=j.useRef(!1),E=j.useRef({x:0,y:0});j.useEffect(()=>{!e||!r||!n||(d(!0),v(null),setTimeout(()=>{try{const B=$Q(r.data,r.width,r.height,n,a,g);B?p(B):v("Could not extract valid data from ROI.")}catch(B){console.error("2D FFT Error",B),v("Calculation Error: "+B.message)}finally{d(!1)}},50))},[e,r,n,a,g]),j.useEffect(()=>{if(!h||!c.current)return;const B=c.current,W=B.getContext("2d");if(!W)return;const J=B.width,q=B.height;W.clearRect(0,0,J,q),W.fillStyle="#0f172a",W.fillRect(0,0,J,q);const V=h.width,ie=h.height,te=h.data,T=Math.pow(10,parseFloat(S)||-1),oe=Math.pow(10,parseFloat(k)||8);let ue=T,K=oe;x&&(ue=Math.log10(Math.max(1e-10,T)),K=Math.log10(Math.max(1e-10,oe)));const le=K-ue||1,ne=J/2,F=q/2+50,ge=Math.min(J,q)*.4,he=.6,Se=P*Math.PI/180,Ge=C*Math.PI/180,Ie=Math.cos(Se),ht=Math.sin(Se),pt=Math.cos(Ge),De=Math.sin(Ge),He=(Ve,gt,Ht)=>{const Pr=Ve*Ie-gt*ht,Vr=Ve*ht+gt*Ie,nr=Vr*pt-Ht*De,Pt=Vr*De+Ht*pt;return{x:ne+Pr*ge,y:F-nr*ge,depth:Pt}},bt=Math.max(16,O),Rt=Math.max(1,Math.floor(V/bt)),Gt=Math.max(1,Math.floor(ie/bt)),_r=(Ve,gt)=>{let Ht=te[gt*V+Ve];return x&&(Ht=Math.log10(Math.max(1e-10,Ht))),Ht=Math.max(ue,Math.min(K,Ht)),(Ht-ue)/le},Or=Ve=>`hsl(${(1-Ve)*240}, 80%, 50%)`,cr=[];for(let Ve=0;Ve<ie-Gt;Ve+=Gt)for(let gt=0;gt<V-Rt;gt+=Rt){const Ht=gt,Pr=Ve,Vr=gt+Rt,nr=Ve,Pt=gt+Rt,At=Ve+Gt,it=gt,ar=Ve+Gt,xr=_r(Ht,Pr),Fn=_r(Vr,nr),ya=_r(Pt,At),zn=_r(it,ar),Pn=(xr+Fn+ya+zn)/4,An=He(Ht/(V-1)-.5,Pr/(ie-1)-.5,xr*he),Br=He(Vr/(V-1)-.5,nr/(ie-1)-.5,Fn*he),mn=He(Pt/(V-1)-.5,At/(ie-1)-.5,ya*he),va=He(it/(V-1)-.5,ar/(ie-1)-.5,zn*he),an=(An.depth+Br.depth+mn.depth+va.depth)/4;cr.push({pts:[{x:An.x,y:An.y},{x:Br.x,y:Br.y},{x:mn.x,y:mn.y},{x:va.x,y:va.y}],avgDepth:an,avgZ:Pn})}cr.sort((Ve,gt)=>Ve.avgDepth-gt.avgDepth),W.lineWidth=.5,cr.forEach(Ve=>{W.fillStyle=Or(Ve.avgZ),W.beginPath(),W.moveTo(Ve.pts[0].x,Ve.pts[0].y),W.lineTo(Ve.pts[1].x,Ve.pts[1].y),W.lineTo(Ve.pts[2].x,Ve.pts[2].y),W.lineTo(Ve.pts[3].x,Ve.pts[3].y),W.closePath(),W.fill()}),W.fillStyle="#aaa",W.font="10px monospace";const ur=He(-.5,-.5,0),Ir=He(.5,-.5,0),Jt=He(-.5,.5,0),Nr=He(.5,.5,0);W.strokeStyle="#666",W.beginPath(),W.moveTo(ur.x,ur.y),W.lineTo(Ir.x,Ir.y),W.lineTo(Nr.x,Nr.y),W.lineTo(Jt.x,Jt.y),W.closePath(),W.stroke(),W.fillText("0",ur.x-10,ur.y+10),W.fillText("Fx",Ir.x+5,Ir.y),W.fillText("Fy",Jt.x-15,Jt.y);const ot=He(-.5,-.5,he);W.strokeStyle="#fff",W.beginPath(),W.moveTo(ur.x,ur.y),W.lineTo(ot.x,ot.y),W.stroke(),W.fillText(`10^${k}`,ot.x-25,ot.y),W.fillText(`10^${S}`,ur.x-25,ur.y)},[h,x,P,C,S,k,O]);const G=B=>{z.current=!0,E.current={x:B.clientX,y:B.clientY}},A=B=>{if(!z.current)return;const W=B.clientX-E.current.x,J=B.clientY-E.current.y;M(q=>q-W*.5),$(q=>Math.max(0,Math.min(90,q+J*.5))),E.current={x:B.clientX,y:B.clientY}},I=()=>{z.current=!1};return e?u.jsxs(Lu,{initialPosition:l||{x:100,y:100},onClose:t,zIndex:i,onFocus:s,className:"w-[700px] h-[600px] bg-slate-900 border border-slate-700 flex flex-col overflow-hidden shadow-2xl",children:[u.jsxs("div",{className:"flex justify-between items-center px-4 py-2 border-b border-slate-700 bg-slate-800",children:[u.jsxs("h3",{className:"text-sm font-bold text-slate-200 flex items-center gap-2",children:["2D FFT Power Spectrum - ",o,h&&u.jsxs("span",{className:"text-[10px] font-normal text-slate-400 bg-slate-700 px-2 py-0.5 rounded",children:[h.width,"x",h.height," (Chirp-Z)"]})]}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("button",{onClick:t,className:"text-slate-400 hover:text-red-400 transition-colors",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})})]}),u.jsxs("div",{className:"p-3 bg-slate-800/80 flex flex-wrap gap-4 text-xs items-center border-b border-slate-700",children:[u.jsxs("div",{className:"flex items-center gap-2 bg-slate-900 px-2 py-1 rounded border border-slate-600",children:[u.jsx("span",{className:"text-slate-400 font-bold",children:"Range (10^x):"}),u.jsx("input",{type:"number",value:S,onChange:B=>w(B.target.value),className:"w-10 bg-transparent text-slate-200 text-center border-b border-slate-600 focus:border-cyan-500 outline-none"}),u.jsx("span",{className:"text-slate-500",children:"to"}),u.jsx("input",{type:"number",value:k,onChange:B=>_(B.target.value),className:"w-10 bg-transparent text-slate-200 text-center border-b border-slate-600 focus:border-cyan-500 outline-none"})]}),u.jsxs("div",{className:"flex items-center gap-2 bg-slate-900 px-2 py-1 rounded border border-slate-600",children:[u.jsx("span",{className:"text-slate-400 font-bold",children:"Density:"}),u.jsx("input",{type:"range",min:"16",max:"128",step:"16",value:O,onChange:B=>N(Number(B.target.value)),className:"w-20 h-1.5 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"}),u.jsx("span",{className:"text-slate-300 w-6 text-right",children:O})]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none text-slate-300 hover:text-white",children:[u.jsx("input",{type:"checkbox",checked:x,onChange:B=>m(B.target.checked),className:"rounded bg-slate-700 border-slate-600 accent-cyan-500"}),"Log Z"]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none text-slate-300 hover:text-white",children:[u.jsx("input",{type:"checkbox",checked:g,onChange:B=>b(B.target.checked),className:"rounded bg-slate-700 border-slate-600 accent-fuchsia-500"}),"Hanning"]})]}),u.jsxs("div",{className:"flex-1 relative bg-slate-900 cursor-move",children:[f&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-900/80 z-20 backdrop-blur-sm",children:u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx("div",{className:"w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin"}),u.jsx("span",{className:"text-cyan-400 font-bold animate-pulse text-sm",children:"Computing full-size 2D FFT..."})]})}),y&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-900/80 z-20 text-red-400 p-4 text-center",children:y}),u.jsx("canvas",{ref:c,width:700,height:500,className:"w-full h-full block",onMouseDown:G,onMouseMove:A,onMouseUp:I,onMouseLeave:I}),u.jsx("div",{className:"absolute bottom-2 right-2 text-[9px] text-slate-600 pointer-events-none",children:"Drag to Rotate"})]})]}):null},BQ=.5,Qm=1e-10,fk=(e,t)=>{const r=e.length-1;if(r<0)return Qm;const n=t/BQ*r,a=Math.round(n),o=e[Math.min(Math.max(0,a),r)]||0;return Math.max(o,Qm)},FQ=(e,t)=>{if(t<=0)return[1];const r=new Array(e);let n=0;for(let a=0;a<e;a++){const o=a-(e-1)/2,i=Math.exp(-(o*o)/(2*t*t));r[a]=i,n+=i}for(let a=0;a<e;a++)r[a]/=n;return r},zQ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,onUpdateROI:i,zIndex:s,onFocus:l,initialPosition:c,initialInternalState:f,onUpdateState:d,stackFiles:h})=>{const[p,y]=j.useState((f==null?void 0:f.selectedChannel)??0),[v,x]=j.useState(()=>(f==null?void 0:f.yMinExp)||localStorage.getItem("fft_y_min")||"1.73"),[m,g]=j.useState(()=>(f==null?void 0:f.yMaxExp)||localStorage.getItem("fft_y_max")||"8.00"),[b,S]=j.useState((f==null?void 0:f.useHanning)??!0),[w,k]=j.useState((f==null?void 0:f.doAverage)??!0),[_,O]=j.useState((f==null?void 0:f.welchSegments)??1),[N,P]=j.useState((f==null?void 0:f.showH)??!0),[M,C]=j.useState((f==null?void 0:f.showV)??!0),[$,z]=j.useState((f==null?void 0:f.interlaceRows)??!1),[E,G]=j.useState((f==null?void 0:f.rowGroup)??0),[A,I]=j.useState((f==null?void 0:f.interlaceCols)??!1),[B,W]=j.useState((f==null?void 0:f.colGroup)??0),[J,q]=j.useState(()=>(f==null?void 0:f.theoSigma)||localStorage.getItem("fft_theo_sigma")||"0.00"),[V,ie]=j.useState(()=>(f==null?void 0:f.theoKernelSize)||localStorage.getItem("fft_theo_ksize")||"3"),[te,T]=j.useState(()=>(f==null?void 0:f.theoNoiseStd)||localStorage.getItem("fft_theo_noise")||"7.5"),[oe,ue]=j.useState(()=>(f==null?void 0:f.theoScale)||localStorage.getItem("fft_theo_scale")||"1.0"),[K,le]=j.useState((f==null?void 0:f.intStart)||"0"),[ne,F]=j.useState((f==null?void 0:f.intEnd)||"0.5"),[ge,he]=j.useState(!1),[Se,Ge]=j.useState([]),[Ie,ht]=j.useState(!1),[pt,De]=j.useState(0),[He,bt]=j.useState(null),[Rt,Gt]=j.useState(!1),[_r,Or]=j.useState(!1),[cr,ur]=j.useState(null),[Ir,Jt]=j.useState(!1),[Nr,ot]=j.useState(null),[Ve,gt]=j.useState(c||{x:50,y:50}),[Ht,Pr]=j.useState(!1),[Vr,nr]=j.useState(null),[Pt,At]=j.useState({}),it=j.useRef({x:0,y:0}),ar=o?{c0:"#3b82f6",c1:"#22c55e",c2:"#4ade80",c3:"#ef4444"}:{c0:"#ef4444",c1:"#22c55e",c2:"#4ade80",c3:"#3b82f6"},xr=j.useMemo(()=>o?{0:"Blue",1:"Green 1",2:"Green 2",3:"Red"}:{0:"Red",1:"Green 1",2:"Green 2",3:"Blue"},[o]);j.useEffect(()=>{localStorage.setItem("fft_y_min",v),localStorage.setItem("fft_y_max",m),localStorage.setItem("fft_theo_sigma",J),localStorage.setItem("fft_theo_ksize",V),localStorage.setItem("fft_theo_noise",te),localStorage.setItem("fft_theo_scale",oe)},[v,m,J,V,te,oe]),j.useEffect(()=>{if(!e||!n||!a)return;ht(!0),bt(null),De(0);const ae=setTimeout(async()=>{try{const Oe=p===-1?[0,1,2,3]:[p],Re=h&&h.length>1?h:[null],Je=Re.length,Ke={};let Ot={h:0,v:0};for(let Ee=0;Ee<Je;Ee++){De(Ee+1);let Ye;if(Re[Ee]){const yt=await Re[Ee].arrayBuffer();Ye=await hh(yt)}else Ye=n;for(const yt of Oe){const ct=TQ(Ye.data,Ye.width,Ye.height,a,yt,!1,b,{rows:$,rowGroup:E,cols:A,colGroup:B},w,_);ct&&(Ke[yt]||(Ke[yt]={h:new Array(ct.avgHoriz.length).fill(0),v:new Array(ct.avgVert.length).fill(0)}),ct.avgHoriz.forEach((Xt,ve)=>Ke[yt].h[ve]+=Xt/Je),ct.avgVert.forEach((Xt,ve)=>Ke[yt].v[ve]+=Xt/Je),Ot=ct.sampleCount)}}if(Object.keys(Ke).length===0)throw new Error("ROI too small or no data found.");const mt=1024,It=[];for(let Ee=0;Ee<mt;Ee++){const Ye=Ee/(mt-1)*.5,yt={freq:parseFloat(Ye.toFixed(6))};for(const ct of Oe)Ke[ct]&&(yt[`c${ct}_h`]=fk(Ke[ct].h,Ye),yt[`c${ct}_v`]=fk(Ke[ct].v,Ye));It.push(yt)}nr(Ot),Ge(It)}catch(Oe){console.error("FFT Loop Failed:",Oe),bt(Oe.message||"Unknown error during FFT processing")}finally{ht(!1)}},100);return()=>clearTimeout(ae)},[e,n,a==null?void 0:a.x,a==null?void 0:a.y,a==null?void 0:a.w,a==null?void 0:a.h,p,b,w,_,$,E,A,B,h]);const Fn=()=>{const ae=parseFloat(K),Oe=parseFloat(ne);if(isNaN(ae)||isNaN(Oe))return;const Re={},Je=p===-1?[0,1,2,3]:[p],Ke=Se.filter(Ot=>Ot.freq>=ae&&Ot.freq<=Oe);if(Ke.length===0){At({});return}Je.forEach(Ot=>{let mt=0,It=0;Ke.forEach(Ee=>{const Ye=Ee[`c${Ot}_h`],yt=Ee[`c${Ot}_v`];typeof Ye=="number"&&(mt+=Ye),typeof yt=="number"&&(It+=yt)}),Re[Ot]={h:mt/Ke.length,v:It/Ke.length,count:Ke.length}}),At(Re)},ya=j.useMemo(()=>{const ae=parseFloat(J),Oe=parseInt(V),Re=parseFloat(te),Je=parseFloat(oe);if(isNaN(ae)||isNaN(Oe)||isNaN(Re)||isNaN(Je)||Se.length===0)return Se;const Ke=FQ(Oe,ae),Ot=Ke.reduce((Ee,Ye)=>Ee+Ye*Ye,0),mt=(Oe-1)/2,It=Re*Re*Je;return Se.map(Ee=>{const Ye=Ee.freq,yt=2*Math.PI*Ye;let ct=0,Xt=0;for(let Xr=0;Xr<Oe;Xr++){const So=Xr-mt,X=Ke[Xr],je=-yt*So;ct+=X*Math.cos(je),Xt+=X*Math.sin(je)}const ve=ct*ct+Xt*Xt;return{...Ee,theory:Math.max(Qm,It*Ot*ve)}})},[Se,J,V,te,oe]),zn=ae=>{ae&&ae.activeLabel!==void 0&&(Jt(!0),ot(Number(ae.activeLabel)),ur(null))},Pn=ae=>{if(Ir&&Nr!==null&&ae&&ae.activeLabel!==void 0){const Oe=Number(ae.activeLabel);ur([Math.min(Nr,Oe),Math.max(Nr,Oe)])}},An=()=>Jt(!1),Br=(ae,Oe,Re)=>{l&&l(),!(Re.closest("button")||Re.closest("input"))&&(Pr(!0),it.current={x:ae-Ve.x,y:Oe-Ve.y})},mn=ae=>{Br(ae.clientX,ae.clientY,ae.target)},va=ae=>{const Oe=ae.touches[0];Br(Oe.clientX,Oe.clientY,ae.target)};j.useEffect(()=>{const ae=Re=>{if(Ht){const Je="touches"in Re?Re.touches[0].clientX:Re.clientX,Ke="touches"in Re?Re.touches[0].clientY:Re.clientY;gt({x:Je-it.current.x,y:Ke-it.current.y})}},Oe=()=>Pr(!1);return Ht&&(window.addEventListener("mousemove",ae),window.addEventListener("mouseup",Oe),window.addEventListener("touchmove",ae,{passive:!1}),window.addEventListener("touchend",Oe)),()=>{window.removeEventListener("mousemove",ae),window.removeEventListener("mouseup",Oe),window.removeEventListener("touchmove",ae),window.removeEventListener("touchend",Oe)}},[Ht]);const an=j.useMemo(()=>{if(!cr||Se.length===0)return null;const[ae,Oe]=cr,Re=Se.filter(Ot=>Ot.freq>=ae&&Ot.freq<=Oe);if(Re.length===0)return null;const Je=p===-1?[0,1,2,3]:[p],Ke={};return Je.forEach(Ot=>{["h","v"].forEach(mt=>{const It=`c${Ot}_${mt}`;let Ee=0,Ye=0;for(const yt of Re){const ct=yt[It];typeof ct=="number"&&(Ee+=ct,Ye++)}Ye>0&&(Ke[`${It}_sigma`]=Math.sqrt(Ee/Ye))})}),{count:Re.length,stats:Ke}},[cr,Se,p]),er=()=>{if(Se.length===0)return;let ae=1/0,Oe=-1/0;if(Se.forEach(mt=>{mt.freq<.01||mt.freq>.49||Object.keys(mt).forEach(It=>{if(It==="freq"||It==="theory")return;const Ee=mt[It];typeof Ee=="number"&&Ee>0&&(Ee<ae&&(ae=Ee),Ee>Oe&&(Oe=Ee))})}),ae===1/0)return;const Re=Math.log10(ae),Je=Math.log10(Oe),Ke=Je-Re,Ot=(Ke===0?1:Ke)*.1;x((Re-Ot).toFixed(2)),g((Je+Ot).toFixed(2))},Vt=(ae,Oe)=>{a&&i&&i({...a,x:a.x+ae,y:a.y+Oe})},Lt=(ae,Oe)=>{a&&i&&i({...a,w:Math.max(2,a.w+ae),h:Math.max(2,a.h+Oe)})};return e?u.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl overflow-hidden resize-both min-w-[750px] min-h-[500px]",style:{left:Ve.x,top:Ve.y,width:"1000px",height:"850px",zIndex:s??100},onMouseDownCapture:l,children:[u.jsxs("div",{className:`flex justify-between items-center p-3 border-b border-gray-200 dark:border-slate-700 flex-shrink-0 bg-gray-50 dark:bg-slate-800 z-50 relative select-none touch-none ${Ht?"cursor-grabbing":"cursor-grab"}`,onMouseDown:mn,onTouchStart:va,children:[u.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2 pointer-events-none",children:["Power Spectrum Analysis",u.jsx("span",{className:"text-[10px] font-normal bg-white dark:bg-slate-700 px-2 py-1 rounded text-gray-500 border border-gray-200 dark:border-slate-600 shadow-sm",children:h&&h.length>1?`Stack Avg (${h.length} frames)`:"Single Mode"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[r&&u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsxs("div",{className:"flex flex-col bg-gray-50 dark:bg-slate-900/80 border-b border-gray-200 dark:border-slate-800 flex-shrink-0 z-40 relative px-4 py-3 gap-3 overflow-x-auto",children:[u.jsxs("div",{className:"flex items-center gap-6",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-[10px] font-bold text-gray-500 dark:text-slate-400 uppercase tracking-widest",children:"Channel"}),u.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-800 rounded-lg p-0.5 border border-gray-200 dark:border-slate-700 shadow-inner",children:[u.jsx("button",{onClick:()=>y(-1),className:`px-3 py-1 rounded text-[10px] font-bold transition-all ${p===-1?"bg-slate-700 text-white shadow-md":"text-gray-500 dark:text-slate-500 hover:bg-white dark:hover:bg-slate-700"}`,children:"All"}),[0,1,2,3].map(ae=>u.jsx("button",{onClick:()=>y(ae),className:`px-3 py-1 rounded text-[10px] font-bold transition-all ${p===ae?"bg-cyan-600 text-white shadow-md":"text-gray-500 dark:text-slate-500 hover:bg-white dark:hover:bg-slate-700"}`,children:xr[ae]},ae))]})]}),u.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700 mx-2"}),u.jsxs("button",{onClick:()=>he(!0),className:"flex items-center gap-1.5 px-4 py-1.5 bg-indigo-600 hover:bg-indigo-500 text-white text-[10px] font-bold rounded-lg shadow-lg shadow-indigo-500/30 transition-all active:scale-95 group border border-indigo-400/30",children:[u.jsx("svg",{className:"w-3.5 h-3.5 group-hover:animate-pulse",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"2D Diagonal"]}),u.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700 mx-2"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-400 uppercase tracking-widest",children:"Model"}),u.jsx("div",{className:"flex gap-2",children:[{label:"KSize",val:V,set:ie,w:"w-10"},{label:"Sigma",val:J,set:q,w:"w-12"},{label:"Noise()",val:te,set:T,w:"w-12"},{label:"Scale",val:oe,set:ue,w:"w-12"}].map(ae=>u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("label",{className:"text-[8px] text-gray-400 dark:text-slate-500 uppercase font-bold mb-0.5",children:ae.label}),u.jsx("input",{type:"text",value:ae.val,onChange:Oe=>ae.set(Oe.target.value),className:`${ae.w} text-[11px] bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded px-1.5 py-0.5 text-center text-gray-900 dark:text-slate-100 outline-none focus:border-indigo-500 shadow-sm`})]},ae.label))})]})]}),u.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[u.jsxs("div",{className:"flex items-center gap-3 mr-2",children:[u.jsx("span",{className:"text-[10px] font-bold text-fuchsia-600 dark:text-fuchsia-500 uppercase tracking-widest",children:"Welch"}),u.jsx("input",{type:"range",min:"1",max:"16",step:"1",value:_,onChange:ae=>O(parseInt(ae.target.value)),className:"w-24 h-1.5 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-fuchsia-500"}),u.jsx("span",{className:"text-[10px] font-mono text-fuchsia-600 dark:text-fuchsia-400 w-4 font-bold",children:_})]}),u.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700"}),u.jsxs("div",{className:"flex flex-col gap-1 px-2",children:[u.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer text-[10px] text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 select-none",children:[u.jsx("input",{type:"checkbox",checked:$,onChange:ae=>z(ae.target.checked),className:"w-3 h-3 rounded text-cyan-600 border-gray-300 dark:border-slate-700 bg-white dark:bg-slate-800"})," Row Int."]}),u.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer text-[10px] text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 select-none",children:[u.jsx("input",{type:"checkbox",checked:A,onChange:ae=>I(ae.target.checked),className:"w-3 h-3 rounded text-cyan-600 border-gray-300 dark:border-slate-700 bg-white dark:bg-slate-800"})," Col Int."]})]}),u.jsxs("div",{className:"flex flex-col gap-1.5 bg-gray-100 dark:bg-slate-800/60 p-1.5 rounded-lg border border-gray-200 dark:border-slate-700",children:[u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[u.jsx("div",{className:`w-3.5 h-3.5 rounded-md border flex items-center justify-center transition-colors ${b?"bg-fuchsia-600 border-fuchsia-600":"bg-white dark:bg-slate-900 border-gray-300 dark:border-slate-600"}`,children:b&&u.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:4,children:u.jsx("path",{d:"M5 13l4 4L19 7"})})}),u.jsx("input",{type:"checkbox",checked:b,onChange:ae=>S(ae.target.checked),className:"hidden"}),u.jsx("span",{className:"text-[10px] font-bold text-gray-700 dark:text-slate-300",children:"Hanning"})]}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[u.jsx("div",{className:`w-3.5 h-3.5 rounded-md border flex items-center justify-center transition-colors ${w?"bg-cyan-600 border-cyan-600":"bg-white dark:bg-slate-900 border-gray-300 dark:border-slate-600"}`,children:w&&u.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:4,children:u.jsx("path",{d:"M5 13l4 4L19 7"})})}),u.jsx("input",{type:"checkbox",checked:w,onChange:ae=>k(ae.target.checked),className:"hidden"}),u.jsx("span",{className:"text-[10px] font-bold text-gray-700 dark:text-slate-300",children:"Average"})]})]}),u.jsxs("div",{className:"flex gap-2 bg-gray-100 dark:bg-slate-800 p-1 rounded-lg border border-gray-200 dark:border-slate-700",children:[u.jsxs("button",{onClick:()=>P(!N),className:`px-2.5 py-1 rounded-md border text-[11px] font-bold transition-all flex items-center gap-1.5 ${N?"bg-cyan-900/40 text-cyan-400 border-cyan-500 shadow-[0_0_8px_rgba(6,182,212,0.3)]":"bg-white dark:bg-slate-900 text-gray-400 border-gray-300 dark:border-slate-700"}`,children:[u.jsx("div",{className:`w-2 h-2 rounded-full ${N?"bg-cyan-400":"bg-gray-400"}`})," H"]}),u.jsxs("button",{onClick:()=>C(!M),className:`px-2.5 py-1 rounded-md border text-[11px] font-bold transition-all flex items-center gap-1.5 ${M?"bg-cyan-900/40 text-cyan-400 border-cyan-500 shadow-[0_0_8px_rgba(6,182,212,0.3)]":"bg-white dark:bg-slate-900 text-gray-400 border-gray-300 dark:border-slate-700"}`,children:[u.jsx("div",{className:`w-2 h-2 rounded-full ${N?"bg-cyan-400":"bg-gray-400"}`})," V"]})]}),u.jsxs("div",{className:"ml-auto flex gap-2",children:[u.jsx("button",{onClick:()=>Or(!_r),className:`px-3 py-1.5 rounded-lg text-[10px] font-bold transition-all border ${_r?"bg-emerald-600 text-white border-emerald-600 shadow-md":"bg-white dark:bg-slate-900 text-emerald-600 dark:text-emerald-400 border-emerald-200 dark:border-emerald-800 hover:bg-emerald-50"}`,children:""}),u.jsx("button",{onClick:()=>Gt(!Rt),className:`px-3 py-1.5 rounded-lg text-[10px] font-bold transition-all border ${Rt?"bg-indigo-600 text-white border-indigo-600 shadow-md":"bg-white dark:bg-slate-900 text-indigo-600 dark:text-indigo-400 border-indigo-200 dark:border-indigo-800 hover:bg-indigo-50"}`,children:"ROI"})]})]}),u.jsxs("div",{className:"flex items-center gap-4 justify-end border-t border-gray-200 dark:border-slate-800/50 pt-2.5",children:[u.jsx("button",{onClick:er,className:"px-4 py-1 text-[10px] font-bold bg-cyan-600/10 text-cyan-600 dark:text-cyan-400 hover:bg-cyan-600/20 rounded-md border border-cyan-500/30 transition-all uppercase tracking-widest shadow-sm",children:"Auto"}),u.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-gray-500 dark:text-slate-400 uppercase",children:["Y-AXIS (LOG)",u.jsxs("div",{className:"flex items-center bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-md overflow-hidden shadow-sm",children:[u.jsx("input",{type:"text",value:v,onChange:ae=>x(ae.target.value),className:"w-14 px-2 py-1 bg-transparent text-center outline-none text-gray-900 dark:text-slate-100 border-r border-gray-200 dark:border-slate-700"}),u.jsx("span",{className:"px-2 text-gray-400",children:"to"}),u.jsx("input",{type:"text",value:m,onChange:ae=>g(ae.target.value),className:"w-14 px-2 py-1 bg-transparent text-center outline-none text-gray-900 dark:text-slate-100"})]})]})]})]}),u.jsxs("div",{className:"flex-1 p-4 overflow-hidden flex flex-col gap-2 relative bg-gray-50/30 dark:bg-slate-900/30",children:[u.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none z-[50] select-none opacity-10",children:u.jsx("svg",{viewBox:"0 0 500 100",className:"w-3/4 h-auto drop-shadow-lg",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"24",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),Ie&&u.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-[55] bg-white/90 dark:bg-slate-900/90 backdrop-blur-[2px]",children:[u.jsx("div",{className:"w-10 h-10 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mb-4"}),u.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:"Computing FFT Stack..."}),h&&h.length>1&&u.jsxs("span",{className:"text-xs text-gray-500 mt-2 font-mono",children:["Processing frame ",pt," / ",h.length]})]}),He?u.jsx("div",{className:"flex items-center justify-center h-full text-red-500 font-semibold",children:He}):u.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-950 border border-gray-200 dark:border-slate-800 rounded-xl p-2 flex flex-col relative z-20 shadow-xl overflow-hidden",children:[u.jsx("div",{className:"flex-1 relative z-10",onMouseDown:zn,onMouseMove:Pn,onMouseUp:An,style:{cursor:Ir?"col-resize":"crosshair"},children:u.jsx(zs,{width:"100%",height:"100%",children:u.jsxs(tx,{data:ya,margin:{top:10,right:10,bottom:20,left:0},children:[u.jsx(Hi,{strokeDasharray:"3 3",stroke:"#374151",opacity:.08}),u.jsx(Ta,{dataKey:"freq",type:"number",domain:[0,.5],tickCount:6,tick:{fill:"#6b7280",fontSize:10},label:{value:"Frequency (cy/px)",position:"insideBottom",offset:-10,fill:"#6b7280",fontSize:11}}),u.jsx($a,{scale:"log",domain:[Math.pow(10,parseFloat(v)),Math.pow(10,parseFloat(m))],allowDataOverflow:!0,tick:{fill:"#6b7280",fontSize:10},tickFormatter:ae=>Number(ae).toExponential(0),width:45}),u.jsx(Sn,{contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.95)",border:"1px solid #334155",color:"#f3f4f6",fontSize:"11px",borderRadius:"8px"},formatter:ae=>[Number(ae).toExponential(3),""],labelFormatter:ae=>`Freq: ${Number(ae).toFixed(4)}`}),u.jsx(co,{wrapperStyle:{fontSize:"10px"}}),u.jsx(en,{type:"monotone",dataKey:"theory",name:"Theory Model",stroke:"#6366f1",strokeWidth:2,dot:!1,isAnimationActive:!1}),[0,1,2,3].flatMap(ae=>{if(p!==-1&&p!==ae)return[];const Oe=`c${ae}_h`,Re=`c${ae}_v`,Je=ar[`c${ae}`],Ke=[];return N&&Ke.push(u.jsx(en,{type:"linear",dataKey:Oe,name:`${xr[ae]} (H)`,stroke:Je,strokeWidth:1,dot:!1,isAnimationActive:!1},`${ae}_h`)),M&&Ke.push(u.jsx(en,{type:"linear",dataKey:Re,name:`${xr[ae]} (V)`,stroke:Je,strokeWidth:1,strokeDasharray:"3 3",dot:!1,isAnimationActive:!1},`${ae}_v`)),Ke}),cr&&u.jsx(Du,{x1:cr[0],x2:cr[1],fill:"#8884d8",fillOpacity:.15})]})})}),an&&cr&&u.jsxs("div",{className:"absolute bottom-12 left-12 bg-slate-900/90 backdrop-blur-md p-3 rounded-lg border border-indigo-500/50 shadow-2xl z-30 text-[10px] font-mono text-slate-100",children:[u.jsxs("div",{className:"text-indigo-400 font-bold mb-1 border-b border-indigo-500/30 pb-1",children:["Range: ",cr[0].toFixed(3),"-",cr[1].toFixed(3)]}),Object.entries(an.stats).map(([ae,Oe])=>u.jsxs("div",{className:"flex justify-between gap-4",children:[u.jsxs("span",{className:"text-slate-400",children:[ae,":"]}),u.jsx("span",{className:"font-bold text-cyan-400",children:Oe.toFixed(5)})]},ae))]})]})]}),_r&&u.jsxs("div",{className:"absolute top-48 right-8 z-[55] w-72 bg-white dark:bg-slate-900 rounded-xl shadow-2xl border border-gray-200 dark:border-slate-700 p-4 animate-in slide-in-from-top-2",children:[u.jsx("h4",{className:"text-[10px] uppercase font-bold text-emerald-600 dark:text-emerald-400 mb-2 border-b border-gray-100 dark:border-slate-800 pb-1",children:"Range Averaging"}),u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx("input",{type:"number",step:"0.01",value:K,onChange:ae=>le(ae.target.value),className:"w-16 px-1 py-0.5 text-xs border rounded bg-transparent dark:border-slate-600 dark:text-white"}),u.jsx("span",{className:"text-gray-400",children:"-"}),u.jsx("input",{type:"number",step:"0.01",value:ne,onChange:ae=>F(ae.target.value),className:"w-16 px-1 py-0.5 text-xs border rounded bg-transparent dark:border-slate-600 dark:text-white"}),u.jsx("button",{onClick:Fn,className:"flex-1 bg-emerald-600 text-white text-[10px] font-bold py-1 rounded",children:"Avg"})]}),u.jsx("div",{className:"flex flex-col gap-2 max-h-48 overflow-y-auto",children:[0,1,2,3].map(ae=>{const Oe=Pt[ae];if(!Oe)return null;const Re=ar[`c${ae}`];return u.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800/50 p-2 rounded text-[10px] border border-gray-100 dark:border-slate-800",children:[u.jsxs("div",{className:"flex items-center gap-2 font-bold mb-1",style:{color:Re},children:[xr[ae]," ",u.jsxs("span",{className:"text-gray-400 font-normal",children:["(",Oe.count," pts)"]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-x-2 text-gray-700 dark:text-slate-300 font-mono",children:[u.jsxs("div",{children:["H: ",Oe.h.toExponential(3)]}),u.jsxs("div",{children:["V: ",Oe.v.toExponential(3)]})]})]},ae)})})]}),Rt&&u.jsx("div",{className:"absolute top-48 right-8 z-[55] w-56 bg-white dark:bg-slate-900 rounded-xl shadow-2xl border border-gray-200 dark:border-slate-700 p-4 animate-in slide-in-from-top-2",children:u.jsxs("div",{className:"flex flex-col gap-3",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"text-[9px] uppercase font-bold text-gray-400 mb-1",children:"Move"}),u.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[u.jsx("div",{}),u.jsx("button",{onClick:()=>Vt(0,-1),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),u.jsx("div",{}),u.jsx("button",{onClick:()=>Vt(-1,0),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),u.jsx("div",{}),u.jsx("button",{onClick:()=>Vt(1,0),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),u.jsx("div",{}),u.jsx("button",{onClick:()=>Vt(0,1),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),u.jsx("div",{})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-[9px] uppercase font-bold text-gray-400 mb-1",children:"Size"}),u.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[u.jsx("button",{onClick:()=>Lt(2,0),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"W+"}),u.jsx("button",{onClick:()=>Lt(-2,0),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"W-"}),u.jsx("button",{onClick:()=>Lt(0,2),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"H+"}),u.jsx("button",{onClick:()=>Lt(0,-2),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"H-"})]})]})]})}),u.jsx(IQ,{isOpen:ge,onClose:()=>he(!1),rawImageData:n,roi:a,selectedChannel:p===-1?0:p,channelName:p===-1?"Red (Default)":xr[p],zIndex:s?s+2:102,onFocus:l})]}):null},UQ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,zIndex:i,onFocus:s,initialPosition:l,initialInternalState:c,onUpdateState:f})=>{const[d,h]=j.useState((c==null?void 0:c.selectedChannelKey)||"G1"),[p,y]=j.useState((c==null?void 0:c.blackLevel)??0),[v,x]=j.useState((c==null?void 0:c.whiteLevel)??16383),[m,g]=j.useState(null),[b,S]=j.useState(!1),[w,k]=j.useState(null),[_,O]=j.useState(l||{x:150,y:150}),[N,P]=j.useState(!1),M=j.useRef({x:0,y:0});j.useEffect(()=>{f&&f({selectedChannelKey:d,blackLevel:p,whiteLevel:v})},[d,p,v]),j.useEffect(()=>{if(e&&n&&!c){const A=n.blackLevels?Math.floor(n.blackLevels[1]):0;y(A),x(n.whiteLevel||16383),g(null)}},[e,n]);const C=()=>{if(!n||!a)return;k(null),S(!0);const I=(o?{B:0,G1:1,G2:2,R:3}:{R:0,G1:1,G2:2,B:3})[d];setTimeout(()=>{try{const B=DQ(n.data,n.width,n.height,a,I,p,v);B?g(B):(k("No data found in selection with current filters."),g(null))}catch(B){console.error("Analysis failed:",B),k(B.message||"Analysis error")}finally{S(!1)}},50)},$=(A,I,B)=>{s&&s(),!(B.closest("button")||B.closest("input")||B.closest("select"))&&(P(!0),M.current={x:A-_.x,y:I-_.y})},z=A=>{$(A.clientX,A.clientY,A.target)},E=A=>{const I=A.touches[0];$(I.clientX,I.clientY,A.target)};if(j.useEffect(()=>{const A=B=>{if(N){const W="touches"in B?B.touches[0].clientX:B.clientX,J="touches"in B?B.touches[0].clientY:B.clientY;O({x:W-M.current.x,y:J-M.current.y})}},I=()=>P(!1);return N&&(window.addEventListener("mousemove",A),window.addEventListener("mouseup",I),window.addEventListener("touchmove",A,{passive:!1}),window.addEventListener("touchend",I)),()=>{window.removeEventListener("mousemove",A),window.removeEventListener("mouseup",I),window.removeEventListener("touchmove",A),window.removeEventListener("touchend",I)}},[N]),!e)return null;const G=o?["B","G1","G2","R"]:["R","G1","G2","B"];return u.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl resize-both overflow-hidden min-w-[500px] min-h-[400px] w-[900px] h-[700px]",style:{left:_.x,top:_.y,zIndex:i??100},onMouseDownCapture:s,children:[u.jsxs("div",{className:`flex justify-between items-center p-4 border-b border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-900 select-none touch-none ${N?"cursor-grabbing":"cursor-grab"}`,onMouseDown:z,onTouchStart:E,children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2 pointer-events-none",children:"Quantization Step Analysis"}),u.jsxs("div",{className:"flex items-center gap-1",children:[r&&u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 p-2",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800/50 border-b border-gray-200 dark:border-slate-700 flex flex-wrap gap-4 items-end flex-shrink-0",children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Channel"}),u.jsx("select",{value:d,onChange:A=>h(A.target.value),className:"bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded px-3 py-1.5 text-sm text-gray-900 dark:text-slate-100 outline-none focus:ring-1 focus:ring-cyan-500 min-w-[80px]",children:G.map(A=>u.jsx("option",{value:A,children:A},A))})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Black Level"}),u.jsx("input",{type:"number",value:p,onChange:A=>y(Number(A.target.value)),className:"w-24 px-3 py-1.5 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-sm text-gray-900 dark:text-slate-100"})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"White Level"}),u.jsx("input",{type:"number",value:v,onChange:A=>x(Number(A.target.value)),className:"w-24 px-3 py-1.5 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-sm text-gray-900 dark:text-slate-100"})]}),u.jsx("button",{onClick:C,disabled:b,className:"mb-0.5 px-5 py-1.5 bg-cyan-600 hover:bg-cyan-500 text-white font-bold rounded shadow-sm hover:shadow transition-colors disabled:opacity-50 text-sm",children:b?"Analyzing...":"Run Analysis"})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-4 flex flex-col gap-4 bg-white dark:bg-slate-900 min-h-0",children:[w&&u.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded text-sm text-center flex-shrink-0",children:w}),!m&&!b&&!w&&u.jsx("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400 dark:text-slate-500 h-full",children:u.jsx("p",{children:"Configure parameters and click Run Analysis"})}),m&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 flex-shrink-0",children:[u.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700 text-center",children:[u.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 uppercase mb-1",children:"Unique Codes"}),u.jsx("div",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:m.uniqueCount})]}),u.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700 text-center",children:[u.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 uppercase mb-1",children:"Total Diffs"}),u.jsx("div",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:m.diffCount})]})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700 overflow-hidden flex-shrink-0",children:[u.jsx("div",{className:"px-4 py-2 bg-gray-50 dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700 text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Step Distribution"}),u.jsx("div",{className:"p-4 flex flex-wrap gap-x-8 gap-y-2 text-sm font-mono max-h-32 overflow-y-auto",children:Object.entries(m.stepCounts).sort((A,I)=>parseFloat(A[0])-parseFloat(I[0])).map(([A,I])=>u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("span",{className:"text-gray-500 dark:text-slate-400",children:["Step ",A,":"]}),u.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:String(I)})]},A))})]}),u.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 rounded-xl p-2 relative overflow-hidden min-h-[300px]",children:[u.jsx("div",{className:"absolute top-2 left-4 text-xs font-bold text-gray-400 dark:text-slate-500 pointer-events-none z-20 bg-white/80 dark:bg-slate-900/80 px-2 rounded",children:"Step Size vs Code Value"}),u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-0 pointer-events-none select-none opacity-10 mix-blend-normal dark:mix-blend-plus-lighter",children:u.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),u.jsx("div",{className:"relative z-10 w-full h-full",children:u.jsx(zs,{width:"100%",height:"100%",children:u.jsxs(tx,{data:m.plotData,margin:{top:20,right:20,bottom:20,left:10},children:[u.jsx(Hi,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),u.jsx(Ta,{dataKey:"x",type:"number",domain:["auto","auto"],tick:{fill:"#9ca3af",fontSize:10},label:{value:"Code Value (Shifted)",position:"insideBottom",offset:-10,fill:"#9ca3af",fontSize:11}}),u.jsx($a,{tick:{fill:"#9ca3af",fontSize:10},domain:[0,"auto"],allowDataOverflow:!1,label:{value:"Step Size (Delta)",angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:11}}),u.jsx(Sn,{contentStyle:{backgroundColor:"rgba(17, 24, 39, 0.95)",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6",fontSize:"12px"},labelFormatter:A=>`Val: ${A}`,formatter:A=>[A,"Step Size"]}),u.jsx(en,{type:"stepAfter",dataKey:"y",stroke:"#0891b2",strokeWidth:1.5,dot:{r:1.5,fill:"#0891b2",strokeWidth:0},activeDot:{r:4},isAnimationActive:!1})]})})})]})]})]})]})},WQ=({isOpen:e,onClose:t,rawImageData:r,roi:n,isBGGR:a,zIndex:o,onFocus:i,initialPosition:s,stackFiles:l})=>{const[c,f]=j.useState("cross"),[d,h]=j.useState("R"),[p,y]=j.useState("B"),[v,x]=j.useState("H"),[m,g]=j.useState(null),[b,S]=j.useState(!1),[w,k]=j.useState(0),[_,O]=j.useState(0),[N,P]=j.useState("single"),M=a?{B:0,G1:1,G2:2,R:3}:{R:0,G1:1,G2:2,B:3},C=a?["B","G1","G2","R"]:["R","G1","G2","B"],$=async z=>{if(!r||!n)return;S(!0),P(z),k(0),g(null);let E=M[d],G=c==="cross"?M[p]:E,A=0,I=0;c==="self"&&(v==="H"?I=2:A=2),setTimeout(async()=>{try{let B={sumCov:0,sumVar1:0,sumVar2:0,n:0};if(z==="single")B=ck(r.data,r.width,r.height,n,E,G,A,I);else if(l&&l.length>0)for(let W=0;W<l.length;W++){k(W+1);const J=await l[W].arrayBuffer(),q=await hh(J),V=ck(q.data,q.width,q.height,n,E,G,A,I);B.sumCov+=V.sumCov,B.sumVar1+=V.sumVar1,B.sumVar2+=V.sumVar2,B.n+=V.n}O(B.n),g(CQ(B))}catch(B){console.error("Pearson calculation failed",B),alert("Calculation error: "+B.message)}finally{S(!1)}},50)};return e?u.jsxs(Lu,{initialPosition:s||{x:200,y:200},onClose:t,zIndex:o,onFocus:i,className:"w-80 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 flex flex-col shadow-2xl overflow-hidden",children:[u.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800",children:[u.jsxs("h3",{className:"text-sm font-bold text-gray-700 dark:text-slate-200 flex items-center gap-2",children:["Pearson Correlation",u.jsx("span",{className:"text-[10px] font-normal bg-white dark:bg-slate-700 px-1.5 py-0.5 rounded border border-gray-200 dark:border-slate-600",children:"r"})]}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"p-4 flex flex-col gap-4",children:[u.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-800 p-1 rounded-lg border border-gray-200 dark:border-slate-700",children:[u.jsx("button",{onClick:()=>f("cross"),className:`flex-1 py-1 text-[10px] font-bold rounded transition-all ${c==="cross"?"bg-indigo-600 text-white shadow":"text-gray-500 dark:text-slate-400 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:"Cross-Channel"}),u.jsx("button",{onClick:()=>f("self"),className:`flex-1 py-1 text-[10px] font-bold rounded transition-all ${c==="self"?"bg-indigo-600 text-white shadow":"text-gray-500 dark:text-slate-400 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:"Self-Adjacent"})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"flex-1 flex flex-col gap-1",children:[u.jsx("label",{className:"text-[9px] uppercase font-bold text-gray-400",children:c==="cross"?"Channel 1":"Channel"}),u.jsx("select",{value:d,onChange:z=>h(z.target.value),className:"bg-gray-100 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded px-2 py-1.5 text-xs text-gray-700 dark:text-slate-200 outline-none focus:ring-1 focus:ring-indigo-500",children:C.map(z=>u.jsx("option",{value:z,children:z},z))})]}),u.jsx("div",{className:"text-gray-300 dark:text-slate-600 mt-4 font-mono",children:c==="cross"?"":""}),u.jsxs("div",{className:"flex-1 flex flex-col gap-1",children:[u.jsx("label",{className:"text-[9px] uppercase font-bold text-gray-400",children:c==="cross"?"Channel 2":"Direction"}),c==="cross"?u.jsx("select",{value:p,onChange:z=>y(z.target.value),className:"bg-gray-100 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded px-2 py-1.5 text-xs text-gray-700 dark:text-slate-200 outline-none focus:ring-1 focus:ring-indigo-500",children:C.map(z=>u.jsx("option",{value:z,children:z},z))}):u.jsxs("div",{className:"flex h-[28px] bg-gray-100 dark:bg-slate-800 rounded border border-gray-200 dark:border-slate-700 p-0.5",children:[u.jsx("button",{onClick:()=>x("H"),className:`flex-1 text-[9px] font-bold rounded ${v==="H"?"bg-slate-300 dark:bg-slate-600 text-indigo-600 dark:text-indigo-400":"text-gray-400"}`,children:"Horiz"}),u.jsx("button",{onClick:()=>x("V"),className:`flex-1 text-[9px] font-bold rounded ${v==="V"?"bg-slate-300 dark:bg-slate-600 text-indigo-600 dark:text-indigo-400":"text-gray-400"}`,children:"Vert"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[u.jsx("button",{onClick:()=>$("single"),disabled:b,className:"w-full py-2 bg-indigo-600 hover:bg-indigo-500 disabled:bg-gray-400 text-white font-bold rounded shadow-md transition-all active:scale-95 text-xs",children:b&&N==="single"?"Calculating...":"Calc Current Frame"}),l&&l.length>0&&u.jsxs("button",{onClick:()=>$("stack"),disabled:b,className:"w-full py-2 bg-emerald-600 hover:bg-emerald-500 disabled:bg-gray-400 text-white font-bold rounded shadow-md transition-all active:scale-95 text-xs flex flex-col items-center justify-center",children:[u.jsx("span",{children:"Calc Stack Concatenated"}),b&&N==="stack"&&u.jsxs("span",{className:"text-[9px] font-normal opacity-80",children:["Progress: ",w," / ",l.length]})]})]}),m!==null&&u.jsxs("div",{className:"mt-2 p-4 bg-gray-50 dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700 text-center animate-in fade-in slide-in-from-top-2",children:[u.jsxs("div",{className:"text-[10px] uppercase font-bold text-gray-400 dark:text-slate-500 mb-1",children:[c==="cross"?"Cross-Channel":`Self-Adj (${v})`," r"]}),u.jsx("div",{className:"text-2xl font-mono font-bold text-indigo-600 dark:text-indigo-400 select-all",style:{fontSize:"24px"},children:m.toFixed(5)}),u.jsxs("div",{className:"text-[9px] text-gray-400 mt-2 font-mono",children:["N = ",_.toLocaleString()," pairs"]}),u.jsx("div",{className:"mt-3 text-[10px] font-bold",children:Math.abs(m)>.5?u.jsx("span",{className:"text-red-500",children:"Significant Correlation"}):Math.abs(m)>.1?u.jsx("span",{className:"text-amber-500",children:"Weak Correlation"}):u.jsx("span",{className:"text-emerald-500",children:"Near-Zero (Uncorrelated)"})})]})]}),u.jsx("div",{className:"p-3 bg-gray-50/50 dark:bg-slate-800/30 text-[9px] text-gray-400 dark:text-slate-600 italic border-t border-gray-100 dark:border-slate-800",children:c==="cross"?"Comparing two color channels in the same Bayer 2x2 cells.":`Comparing pixel (r,c) with (r${v==="V"?"+2":""}, c${v==="H"?"+2":""}) in the same channel.`})]}):null},GQ=[{href:"https://y-g-jiang.github.io/CBLD.html",text:" (Primary Source)",abbr:"CBLD",description:"ISO",highlight:!0},{href:"https://y-G-jiang.github.io/LAC.html",text:"",abbr:"LAC",description:""},{href:"https://y-G-jiang.github.io/CCGV.html",text:"adobeIECMF",abbr:"CCGV",description:"acrRAWxy"},{href:"https://y-G-jiang.github.io/JTJS.html",text:"",abbr:"JTJS",description:"CMF/"},{href:"https://y-G-jiang.github.io/XJZS.html",text:"",abbr:"XJZS",description:""}],HQ=({isOpen:e,onClose:t})=>e?u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-3xl rounded-2xl shadow-2xl border border-gray-200 dark:border-slate-700 overflow-hidden flex flex-col max-h-[90vh]",onClick:r=>r.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"About / Tools"}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-1 rounded hover:bg-gray-200 dark:hover:bg-slate-700",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"p-6 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700",children:[u.jsx("div",{className:"mb-8 p-4 bg-gray-50 dark:bg-slate-800/50 rounded-xl border border-gray-100 dark:border-slate-700 text-center",children:u.jsxs("p",{className:"text-lg text-gray-700 dark:text-slate-300",children:[u.jsx("span",{className:"font-bold mr-2",children:"about:"}),u.jsx("a",{href:"https://y-g-jiang.github.io/JOindex.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline break-all font-mono",children:"https://y-g-jiang.github.io/JOindex.html"})]})}),u.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[u.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 flex-1"}),u.jsx("span",{className:"text-sm font-bold text-gray-400 dark:text-slate-500 uppercase tracking-wider",children:"Primary Resources"}),u.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 flex-1"})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:GQ.map(r=>u.jsxs("a",{href:r.href,target:"_blank",rel:"noopener noreferrer",className:`group block p-4 rounded-xl border transition-all duration-200 relative overflow-hidden ${r.highlight?"border-cyan-500 dark:border-cyan-400 bg-cyan-50/30 dark:bg-cyan-900/10 shadow-lg scale-[1.02] ring-2 ring-cyan-500/20":"border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-800/30 hover:bg-gray-50 dark:hover:bg-slate-800 hover:border-cyan-500"}`,children:[u.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-gradient-to-bl from-cyan-500/5 to-transparent -mr-8 -mt-8 rounded-full pointer-events-none group-hover:from-cyan-500/10 transition-colors"}),u.jsxs("div",{className:"flex items-center gap-3 mb-2 relative z-10",children:[u.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded transition-colors border ${r.highlight?"bg-cyan-600 text-white border-cyan-500":"bg-gray-100 dark:bg-slate-700 text-gray-600 dark:text-slate-300 border-gray-200 dark:border-slate-600 group-hover:border-cyan-200"}`,children:r.abbr}),u.jsx("h3",{className:`font-bold transition-colors ${r.highlight?"text-cyan-700 dark:text-cyan-300":"text-gray-800 dark:text-slate-200 group-hover:text-cyan-600"}`,children:r.text})]}),u.jsx("p",{className:`text-xs pl-1 transition-colors relative z-10 ${r.highlight?"text-cyan-600/80 dark:text-cyan-400/80":"text-gray-500 dark:text-slate-400"}`,children:r.description})]},r.abbr))})]})]})}):null,VQ=({isOpen:e,onClose:t,data:r,fileName:n,warning:a})=>{const[o,i]=j.useState(""),s=f=>{const d=new WeakSet;try{return JSON.stringify(f,(h,p)=>{if(typeof p=="bigint")return p.toString()+"n";if(typeof p=="object"&&p!==null){if(d.has(p))return"[Circular]";if(d.add(p),ArrayBuffer.isView(p))return`[${p.constructor.name}]`}return p})}catch{return"[Unable to serialize object]"}},l=j.useMemo(()=>{if(!r)return[];const f=[],d=(h,p=0)=>{if(p>5)return"...";if(h==null)return String(h);if(h instanceof Date)return h.toLocaleString();if(typeof h=="number")return h.toString();if(typeof h=="string")return h;if(typeof h=="bigint")return h.toString()+"n";if(ArrayBuffer.isView(h))return`<${h.constructor.name} len=${h.length} bytes=${h.byteLength}>`;if(h instanceof ArrayBuffer)return`<ArrayBuffer bytes=${h.byteLength}>`;if(typeof h=="object"){if(Array.isArray(h))return h.length===0?"[]":h.length>20?`[${h.slice(0,10).map(x=>typeof x=="number"?x.toFixed(2):d(x,p+1)).join(", ")}, ... (+${h.length-10} more)]`:`[${h.map(v=>typeof v=="number"?Number.isInteger(v)?v:v.toFixed(4):d(v,p+1)).join(", ")}]`;try{const y=Object.keys(h);return y.length>5?`{Object with ${y.length} keys}`:s(h)}catch{return"<Complex Object>"}}return String(h)};try{if(typeof r!="object")return[{key:"Value",value:String(r)}];Object.keys(r).sort().forEach(p=>{if(p==="MakerNote"||p==="UserComment"||p.includes("Strip")||p.includes("Offset")){f.push({key:p,value:"<Binary/Internal Data>"});return}const y=r[p];f.push({key:p,value:d(y)})})}catch(h){console.error("Error processing EXIF data:",h),f.push({key:"Error",value:"Failed to process metadata structure."})}return f},[r]);if(!e)return null;const c=l.filter(f=>f.key.toLowerCase().includes(o.toLowerCase())||f.value.toLowerCase().includes(o.toLowerCase()));return u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-3xl max-h-[90vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700",onClick:f=>f.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700",children:[u.jsxs("div",{className:"overflow-hidden",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:"EXIF Data"}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1 font-mono truncate",children:n})]}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-2 rounded-full hover:bg-gray-100 dark:hover:bg-slate-800",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a&&u.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 px-4 py-2 border-b border-amber-100 dark:border-amber-800/50 text-center",children:u.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 whitespace-pre-line font-medium leading-relaxed",children:a})}),u.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:u.jsxs("div",{className:"relative",children:[u.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),u.jsx("input",{type:"text",placeholder:"Search tags...",value:o,onChange:f=>i(f.target.value),className:"w-full pl-9 pr-4 py-2 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500 outline-none text-gray-900 dark:text-slate-100 transition-colors placeholder-gray-400"})]})}),u.jsx("div",{className:"overflow-y-auto flex-1 p-0 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700",children:c.length>0?u.jsxs("table",{className:"w-full text-left border-collapse table-fixed",children:[u.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800 sticky top-0 shadow-sm z-10",children:u.jsxs("tr",{children:[u.jsx("th",{className:"py-3 px-5 font-semibold text-xs text-gray-500 dark:text-slate-400 uppercase tracking-wider w-1/3 border-b border-gray-200 dark:border-slate-700",children:"Tag Name"}),u.jsx("th",{className:"py-3 px-5 font-semibold text-xs text-gray-500 dark:text-slate-400 uppercase tracking-wider w-2/3 border-b border-gray-200 dark:border-slate-700",children:"Value"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-800",children:c.map(f=>u.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-800/50 transition-colors group",children:[u.jsx("td",{className:"py-2 px-5 text-sm font-medium text-cyan-600 dark:text-cyan-400 font-mono break-words align-top",children:f.key}),u.jsx("td",{className:"py-2 px-5 text-sm text-gray-700 dark:text-slate-300 font-mono break-words align-top group-hover:text-gray-900 dark:group-hover:text-slate-100",children:f.value})]},f.key))})]}):u.jsx("div",{className:"flex flex-col items-center justify-center h-64 text-gray-400 dark:text-slate-500",children:u.jsxs("p",{children:['No tags found matching "',o,'"']})})}),u.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50 flex justify-end rounded-b-2xl",children:u.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-white rounded-lg text-sm font-semibold transition-colors",children:"Close"})})]})})},XQ=100,N0=e=>{if(e.length===0)return 0;if(e.length===1)return e[0];if(e.length===2)return .5*(e[0]+e[1]);let t=[...e].sort((r,n)=>r-n);for(;t.length>4;){let r=1/0,n=0;const a=t.length,o=Math.floor(a/2);for(let i=0;i<=a-o;i++){const s=t[i+o-1]-t[i];s<r&&(r=s,n=i)}t=t.slice(n,n+o)}return t.reduce((r,n)=>r+n,0)/t.length},dk=({min:e,max:t,value:r,onChange:n,vertical:a=!1,logScale:o=!1})=>{const i=j.useRef(null),s=j.useRef(null),l=j.useCallback(g=>{const b=o?Math.max(1e-6,e):e,S=o?Math.max(b*1.0001,t):t,w=Math.max(b,Math.min(S,g));if(o){const k=Math.log10(b),_=Math.log10(S);return(Math.log10(w)-k)/(_-k)}return(w-b)/(S-b)},[e,t,o]),c=j.useCallback(g=>{const b=o?Math.max(1e-6,e):e,S=o?Math.max(b*1.0001,t):t;if(o){const w=Math.log10(b),k=Math.log10(S);return Math.pow(10,w+g*(k-w))}return b+g*(S-b)},[e,t,o]),f=(g,b)=>{g.preventDefault(),g.stopPropagation(),s.current=b;const S=k=>{if(!s.current||!i.current)return;const _=i.current.getBoundingClientRect();let O=0;a?O=(_.bottom-k.clientY)/_.height:O=(k.clientX-_.left)/_.width,O=Math.max(0,Math.min(1,O));const N=c(O);if(s.current==="min"){const P=r[1];n([Math.min(N,P),P])}else{const P=r[0];n([P,Math.max(N,P)])}},w=()=>{s.current=null,window.removeEventListener("mousemove",S),window.removeEventListener("mouseup",w)};window.addEventListener("mousemove",S),window.addEventListener("mouseup",w)},d=l(r[0])*100,h=l(r[1])*100,p=a?{left:"50%",top:0,bottom:0,width:"4px",transform:"translateX(-50%)"}:{top:"50%",left:0,right:0,height:"4px",transform:"translateY(-50%)"},y=a?{left:"50%",bottom:`${d}%`,height:`${h-d}%`,width:"4px",transform:"translateX(-50%)"}:{top:"50%",left:`${d}%`,width:`${h-d}%`,height:"4px",transform:"translateY(-50%)"},v="absolute w-3 h-3 bg-white border-2 border-cyan-600 rounded-full shadow-md cursor-pointer hover:scale-125 transition-transform z-10",x=a?{left:"50%",bottom:`${d}%`,transform:"translate(-50%, 50%)"}:{top:"50%",left:`${d}%`,transform:"translate(-50%, -50%)"},m=a?{left:"50%",bottom:`${h}%`,transform:"translate(-50%, 50%)"}:{top:"50%",left:`${h}%`,transform:"translate(-50%, -50%)"};return u.jsxs("div",{ref:i,className:`relative select-none ${a?"h-full w-4 py-2":"w-full h-4 px-2"}`,children:[u.jsx("div",{className:"absolute bg-gray-300 dark:bg-slate-600 rounded-full",style:p}),u.jsx("div",{className:"absolute bg-cyan-500 dark:bg-cyan-400 rounded-full",style:y}),u.jsx("div",{className:v,style:x,onMouseDown:g=>f(g,"min")}),u.jsx("div",{className:v,style:m,onMouseDown:g=>f(g,"max")})]})},KQ=({isOpen:e,onClose:t,data:r,blackLevel:n,imageHeight:a,isBGGR:o,importedMetadata:i,theme:s,initialCameraModel:l,initialISO:c})=>{const[f,d]=j.useState("Noise"),[h,p]=j.useState(!0),[y,v]=j.useState(null),[x,m]=j.useState("default"),[g,b]=j.useState(!1),[S,w]=j.useState(!1),[k,_]=j.useState({R:!0,G1:!0,G2:!0,B:!0}),[O,N]=j.useState(""),[P,M]=j.useState(""),[C,$]=j.useState(""),[z,E]=j.useState(""),[G,A]=j.useState("10"),[I,B]=j.useState(""),[W,J]=j.useState("0 0 0 0"),[q,V]=j.useState("0 0 0 0"),[ie,te]=j.useState(!1),[T,oe]=j.useState(null),[ue,K]=j.useState(!1),[le,ne]=j.useState(0),[F,ge]=j.useState([]),[he,Se]=j.useState(""),[Ge,Ie]=j.useState(""),ht=()=>{const L=parseFloat(he),Z=parseFloat(Ge);!isNaN(L)&&!isNaN(Z)&&(ge([...F,{id:Date.now(),x:L,y:Z}]),Se(""),Ie(""))},[pt,De]=j.useState(()=>localStorage.getItem("ptc_tester_name")||""),[He,bt]=j.useState(""),[Rt,Gt]=j.useState("");j.useEffect(()=>{localStorage.setItem("ptc_tester_name",pt)},[pt]);const _r=j.useRef(ie),Or=j.useRef(ue),cr=j.useRef(le);j.useEffect(()=>{_r.current=ie,Or.current=ue,cr.current=le},[ie,ue,le]);const[ur,Ir]=j.useState(null),[Jt,Nr]=j.useState({min:.01,max:90}),[ot,Ve]=j.useState({readNoise:0,gain:1,prnu:.5}),[gt,Ht]=j.useState(2e6),Pr=j.useRef(ot),Vr=j.useRef(Jt),nr=j.useRef(gt);j.useEffect(()=>{Pr.current=ot,Vr.current=Jt,nr.current=gt},[ot,Jt,gt]);const[Pt,At]=j.useState({read:"0",gain:"1.0",prnu:"0.5",rangeMin:"0.01",rangeMax:"90"}),[it,ar]=j.useState({read:!0,shot:!0,prnu:!0,total:!0,fitRange:!0}),[xr,Fn]=j.useState(!1),[ya,zn]=j.useState([]),[Pn,An]=j.useState(null),[Br,mn]=j.useState(""),va=j.useMemo(()=>n?n.join(","):"",[n]);j.useEffect(()=>{if(e){let L="0 0 0 0";i&&i.blackLevel?L=i.blackLevel.join(" "):L=n&&n.length===4?n.join(" "):"0 0 0 0",J(L),V(L);let Z="";if(i&&i.height?Z=i.height.toString():a&&(Z=a.toString()),B(Z),Z){const ee=parseFloat(Z);!isNaN(ee)&&ee>0?A((2309.4/ee).toFixed(2)):A("10")}else A("10");oe(null),te(!1),K(!1),ne(0),zn([]),An(null),Nr({min:.01,max:90}),At({read:"0",gain:"0",prnu:"0",rangeMin:"0.01",rangeMax:"90"}),Ve({readNoise:0,gain:0,prnu:0}),N(""),M(""),$(""),E(""),d("Noise"),Ir(null),Ht(2e6),mn(""),w(!1),ge([]),bt(ee=>ee.trim()===""&&l?l:ee),Gt(ee=>ee.trim()===""&&c?c:ee)}},[e,va,i,a,r,l,c]);const an=L=>{if(L.key==="Enter"){const Z=parseFloat(I);if(!isNaN(Z)&&Z>0){const ee=(2309.4/Z).toFixed(2);A(ee)}L.target.blur()}},er=j.useMemo(()=>{let Z=q.trim().split(/[\s,]+/).filter(Boolean).map(Number);for(Z.length===1&&(Z=[Z[0],Z[0],Z[0],Z[0]]);Z.length<4;)Z.push(0);const ee=R=>{switch(R){case"R":return Z[0];case"G1":return Z[1];case"G2":return Z[2];case"B":return Z[3];default:return 0}};return r.map(R=>{const de=R.mean-ee(R.channel),_e=R.std>0?de/R.std:0;return{...R,x:de,std:R.std,snr:_e}}).filter(R=>R.std>0)},[r,q]),Vt=j.useMemo(()=>{const L=ot.readNoise,Z=L*L;return er.map(ee=>{let R=0;if(f==="Noise")R=ee.std;else if(f==="SNR")R=ee.snr;else if(f==="Linear"){const _e=ee.std*ee.std-Z;R=ee.x!==0?_e/ee.x:0}return{...ee,y:R}})},[er,f,ot.readNoise]),Lt=j.useMemo(()=>{if(er.length===0)return"G1";const L={R:0,G1:0,G2:0,B:0},Z={R:0,G1:0,G2:0,B:0};for(const de of er)L[de.channel]+=de.x,Z[de.channel]++;let ee="G1",R=-1/0;return Object.keys(L).forEach(de=>{const _e=Z[de],Me=_e>0?L[de]/_e:-1/0;Me>R&&(R=Me,ee=de)}),ee},[er]),ae=j.useCallback(()=>{let L=1/0,Z=-1/0;if(er.length===0)return{min:.1,max:1};for(let ee=0;ee<er.length;ee++){const R=er[ee].x;h&&R<=0||(R<L&&(L=R),R>Z&&(Z=R))}return L===1/0?{min:.1,max:1}:{min:L,max:Z}},[er,h]),Oe=j.useCallback(()=>{let L=1/0,Z=-1/0;if(Vt.length===0)return{min:.1,max:1};for(let ee=0;ee<Vt.length;ee++){const R=Vt[ee].y;h&&R<=0||(R<L&&(L=R),R>Z&&(Z=R))}return L===1/0?{min:.1,max:1}:{min:L*.9,max:Z*1.1}},[Vt,h]),{min:Re,max:Je}=ae(),{min:Ke,max:Ot}=Oe(),mt=Je*(Jt.min/100),It=Je*(Jt.max/100),Ee=j.useMemo(()=>{if(!h&&Vt.length===0)return{shot:[],read:[],prnu:[],total:[]};const L=O?parseFloat(O):Re,Z=P?parseFloat(P):Je,ee=100,R=Math.max(.1,L),de=Math.max(1,Z);if(R>=de)return{shot:[],read:[],prnu:[],total:[]};const _e=Math.log10(R),Ze=(Math.log10(de)-_e)/ee,Le=ot.readNoise,Ue=ot.gain>0?ot.gain:1,Et=ot.prnu/100,ut=[],Tt=[],dr=[],ce=[];for(let Xe=0;Xe<=ee;Xe++){const Pe=Math.pow(10,_e+Xe*Ze);if(f==="Linear"){const Ft=1/Ue,wt=Et*Et,Ar=Ft+wt*Pe;ce.push({x:Pe,y:Ar}),ut.push({x:Pe,y:Ft}),dr.push({x:Pe,y:wt*Pe})}else{const Ft=Le,wt=Math.sqrt(Pe/Ue),Ar=Et*Pe,ft=Math.sqrt(Ft*Ft+wt*wt+Ar*Ar);f==="Noise"?(ut.push({x:Pe,y:wt}),Tt.push({x:Pe,y:Ft}),dr.push({x:Pe,y:Ar}),ce.push({x:Pe,y:ft})):(wt>0&&ut.push({x:Pe,y:Pe/wt}),Ft>0&&Tt.push({x:Pe,y:Pe/Ft}),Ar>0&&dr.push({x:Pe,y:Pe/Ar}),ft>0&&ce.push({x:Pe,y:Pe/ft}))}}return{shot:ut,read:Tt,prnu:dr,total:ce}},[Vt,h,O,P,ot,f,Re,Je]),Ye=j.useMemo(()=>{if(f==="Linear")return[];const L=parseFloat(G);if(isNaN(L)||L<=0)return[];const Z=O?parseFloat(O):Re,ee=P?parseFloat(P):Je;return f==="SNR"?[{x:Z,y:L},{x:ee,y:L}]:[{x:Z,y:Z/L},{x:ee,y:ee/L}]},[Vt,G,f,O,P,Re,Je]),yt=j.useCallback((L,Z)=>{if(!Z||Z.length===0)return null;const ee=[...Z].sort((R,de)=>R.x-de.x);for(let R=0;R<ee.length-1;R++){const de=ee[R],_e=ee[R+1];if(de.snr<=L&&_e.snr>=L||de.snr>=L&&_e.snr<=L){const Me=(L-de.snr)/(_e.snr-de.snr);return de.x+Me*(_e.x-de.x)}}return null},[]),ct=j.useMemo(()=>{const L=er,Z=1e3,ee=de=>{if(de.length===0)return[];if(de.length<=Z)return de;const _e=[...de].sort((Le,Ue)=>Le.x-Ue.x),Me=[],Ze=_e.length/Z;for(let Le=0;Le<Z;Le++){const Ue=Math.floor(Le*Ze),Et=Math.floor((Le+1)*Ze),ut=_e.slice(Ue,Et);if(ut.length===0)continue;ut.sort((dr,ce)=>dr.std-ce.std);const Tt=Math.floor(ut.length/2);Me.push(ut[Tt])}return Me},R={R:[],G1:[],G2:[],B:[]};return L.forEach(de=>{R[de.channel]&&R[de.channel].push(de)}),{R:ee(R.R),G1:ee(R.G1),G2:ee(R.G2),B:ee(R.B)}},[er]),Xt=j.useMemo(()=>T&&ot.gain?T*ot.gain:null,[T,ot.gain]),ve=j.useMemo(()=>{if(T===null||T===0)return null;const L=parseFloat(G);let Z=null;if(!isNaN(L)&&L>0){let Me=0,Ze=0;if(["R","G1","G2","B"].forEach(Le=>{const Ue=yt(L,ct[Le]);Ue!==null&&(Me+=Ue,Ze++)}),Ze>0){const Le=Me/Ze;Z=Math.log2(T/Le)}}const ee=parseFloat(I);let R=null,de=NaN;if(!isNaN(ee)&&ee>0){de=16e3/ee;let Me=0,Ze=0;if(["R","G1","G2","B"].forEach(Le=>{const Ue=yt(de,ct[Le]);Ue!==null&&(Me+=Ue,Ze++)}),Ze>0){const Le=Me/Ze;R=Math.log2(T/Le)}}let _e=null;if(!isNaN(ee)&&ee>0){const Me=yt(de,ct[Lt]);Me!==null&&(_e=Math.log2(T/Me))}return{manualDR:Z,ptpDR:R,d55DR:_e,manualTarget:L,ptpTarget:de,saturationSignal:T,dominantChannel:Lt}},[T,G,I,ct,yt,Lt]),Xr=j.useMemo(()=>{if(f==="Linear"||!ve||!ve.ptpTarget||isNaN(ve.ptpTarget))return[];const L=ve.ptpTarget,Z=O?parseFloat(O):Re,ee=P?parseFloat(P):Je;return f==="SNR"?[{x:Z,y:L},{x:ee,y:L}]:[{x:Z,y:Z/L},{x:ee,y:ee/L}]},[f,ve,O,P,Re,Je]),So=j.useCallback(()=>{const ee=document.createElement("canvas");ee.width=2048,ee.height=1536;const R=ee.getContext("2d");if(!R)return;const de=s==="dark",_e=de?"#0f172a":"#ffffff",Me=de?"#ffffff":"#000000",Ze=de?"#475569":"#cbd5e1",Le=de?"#1e293b":"#f1f5f9",Ue=o?{R:"#ef4444",G1:"#22c55e",G2:"#4ade80",B:"#3b82f6"}:{R:"#ef4444",G1:"#22c55e",G2:"#4ade80",B:"#3b82f6"};R.fillStyle=_e,R.fillRect(0,0,2048,1536);let Et=O?parseFloat(O):Re,ut=P?parseFloat(P):Je,Tt=C?parseFloat(C):Ke,dr=z?parseFloat(z):Ot;isNaN(Et)&&(Et=.1),isNaN(ut)&&(ut=1e4),isNaN(Tt)&&(Tt=.1),isNaN(dr)&&(dr=1e3);const ce={top:80,right:80,bottom:100,left:120},Xe=2048-ce.left-ce.right,Pe=1536-ce.top-ce.bottom,Ft=we=>{if(h){const nt=Math.log10(Math.max(1e-9,Et)),Qe=Math.log10(Math.max(1e-9,ut)),et=Math.log10(Math.max(1e-9,we));return ce.left+(et-nt)/(Qe-nt)*Xe}else return ce.left+(we-Et)/(ut-Et)*Xe},wt=we=>{if(h){const nt=Math.log10(Math.max(1e-9,Tt)),Qe=Math.log10(Math.max(1e-9,dr)),et=Math.log10(Math.max(1e-9,we));return ce.top+Pe-(et-nt)/(Qe-nt)*Pe}else return ce.top+Pe-(we-Tt)/(dr-Tt)*Pe};if(R.beginPath(),h){const we=(nt,Qe,et)=>{const vn=Math.log10(Math.max(1e-9,nt)),Cn=Math.log10(Math.max(1e-9,Qe)),ea=Math.floor(vn),Ra=Math.ceil(Cn);for(let Po=ea;Po<=Ra;Po++){const La=Math.pow(10,Po);let or=et?Ft(La):wt(La);(et?or>=ce.left-1&&or<=ce.left+Xe+1:or>=ce.top-1&&or<=ce.top+Pe+1)&&(R.lineWidth=1.5,R.strokeStyle=Ze,R.beginPath(),et?(R.moveTo(or,ce.top),R.lineTo(or,ce.top+Pe)):(R.moveTo(ce.left,or),R.lineTo(ce.left+Xe,or)),R.stroke()),R.lineWidth=.5,R.strokeStyle=Le;for(let Rl=2;Rl<10;Rl++){const zu=Rl*La;or=et?Ft(zu):wt(zu),(et?or>=ce.left&&or<=ce.left+Xe:or>=ce.top&&or<=ce.top+Pe)&&(R.beginPath(),et?(R.moveTo(or,ce.top),R.lineTo(or,ce.top+Pe)):(R.moveTo(ce.left,or),R.lineTo(ce.left+Xe,or)),R.stroke())}}};we(Et,ut,!0),we(Tt,dr,!1)}else{R.strokeStyle=Ze,R.lineWidth=1;for(let we=0;we<=5;we++){const nt=ce.left+Xe*we/5;R.beginPath(),R.moveTo(nt,ce.top),R.lineTo(nt,ce.top+Pe),R.stroke();const Qe=ce.top+Pe*we/5;R.beginPath(),R.moveTo(ce.left,Qe),R.lineTo(ce.left+Xe,Qe),R.stroke()}}R.strokeStyle=Me,R.lineWidth=2,R.strokeRect(ce.left,ce.top,Xe,Pe);const Ar=(we,nt,Qe)=>{we<ce.left||we>ce.left+Xe||nt<ce.top||nt>ce.top+Pe||(R.fillStyle=Qe,R.fillRect(we-1.5,nt-1.5,3,3))},ft=Vt.filter(we=>!(h&&(we.x<=0||we.y<=0)));ft.forEach(we=>{k[we.channel]&&we.channel!==Lt&&Ar(Ft(we.x),wt(we.y),Ue[we.channel])}),ft.forEach(we=>{k[we.channel]&&we.channel===Lt&&Ar(Ft(we.x),wt(we.y),Ue[we.channel])}),F.forEach(we=>{const nt=Ft(we.x),Qe=wt(we.y);if(nt<ce.left||nt>ce.left+Xe||Qe<ce.top||Qe>ce.top+Pe)return;R.strokeStyle="#d946ef",R.lineWidth=2.5;const et=6;R.beginPath(),R.moveTo(nt-et,Qe-et),R.lineTo(nt+et,Qe+et),R.moveTo(nt+et,Qe-et),R.lineTo(nt-et,Qe+et),R.stroke()});const br=(we,nt,Qe=[])=>{if(we.length<2)return;R.beginPath(),R.strokeStyle=nt,R.lineWidth=3,R.setLineDash(Qe);let et=!1;for(const vn of we){const Cn=Ft(vn.x),ea=wt(vn.y);if(Cn<ce.left-100||Cn>ce.left+Xe+100||ea<ce.top-100||ea>ce.top+Pe+100){et=!1;continue}et?R.lineTo(Cn,ea):(R.moveTo(Cn,ea),et=!0)}R.stroke(),R.setLineDash([])},yn=de?"#ffffff":"#000000";if(it.shot&&br(Ee.shot,"#94a3b8",[5,5]),it.read&&br(Ee.read,"#f43f5e",[3,3]),it.prnu&&br(Ee.prnu,"#f59e0b",[3,3]),it.total&&br(Ee.total,yn,[]),Ye.length===2){const we="#6366f1";br(Ye,we,[4,2]);const nt=Ye[1],Qe=wt(nt.y);Qe>=ce.top&&Qe<=ce.top+Pe&&(R.fillStyle=we,R.font="bold 20px sans-serif",R.textAlign="right",R.textBaseline="bottom",R.fillText(`M.Tgt=${G}`,ce.left+Xe-10,Qe-8))}if(Xr.length===2&&(ve!=null&&ve.ptpTarget)){const we="#10b981";br(Xr,we,[4,4]);const nt=Xr[1],Qe=wt(nt.y);if(Qe>=ce.top&&Qe<=ce.top+Pe){R.fillStyle=we,R.font="bold 20px sans-serif",R.textAlign="right",R.textBaseline="bottom";const et=ve.ptpTarget.toFixed(1),vn=Ye.length===2?wt(Ye[1].y):-100,Cn=Math.abs(Qe-vn)<25?25:0;R.fillText(`PTP=${et}`,ce.left+Xe-10,Qe-8-Cn)}}if(it.fitRange||ue){const we=(nt,Qe)=>{const et=Ft(nt);et>=ce.left&&et<=ce.left+Xe&&(R.beginPath(),R.strokeStyle=Qe,R.lineWidth=2,R.setLineDash([8,8]),R.moveTo(et,ce.top),R.lineTo(et,ce.top+Pe),R.stroke(),R.setLineDash([]))};we(mt,"#22d3ee"),we(It,"#22d3ee")}if(T){const we=Ft(T);we>=ce.left&&we<=ce.left+Xe&&(R.strokeStyle="#ef4444",R.lineWidth=3,R.setLineDash([10,10]),R.beginPath(),R.moveTo(we,ce.top),R.lineTo(we,ce.top+Pe),R.stroke(),R.setLineDash([]),R.fillStyle="#ef4444",R.font="bold 24px sans-serif",R.textAlign="center",R.fillText("Sat",we,ce.top-10))}R.fillStyle=Me,R.font="28px monospace",R.textAlign="center",R.fillText(Et.toExponential(1),ce.left,ce.top+Pe+40),R.fillText(ut.toExponential(1),ce.left+Xe,ce.top+Pe+40),R.fillText("Signal (DN)",ce.left+Xe/2,ce.top+Pe+80),R.textAlign="right",R.textBaseline="middle",R.fillText(Tt.toExponential(1),ce.left-20,ce.top+Pe),R.fillText(dr.toExponential(1),ce.left-20,ce.top),R.save(),R.translate(ce.left-80,ce.top+Pe/2),R.rotate(-Math.PI/2),R.textAlign="center",R.fillText(f==="Linear"?"(Var - RN) / Mean":f,0,0),R.restore(),R.save(),R.translate(2048/2,1536/2),R.rotate(-Math.PI/6),R.textAlign="center",R.textBaseline="middle",R.fillStyle=de?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)",R.font="bold 150px sans-serif",R.fillText(" y-g-jiang.github.io",0,0),R.restore(),R.fillStyle=Me,R.font="bold 36px sans-serif",R.textAlign="left",R.textBaseline="top",R.fillText(`PTC Export: ${f} Mode`,ce.left,20),R.font="24px sans-serif",R.fillStyle=de?"#94a3b8":"#64748b",R.fillText(`Points: ${Vt.length} | Sat Channel: ${Lt}`,ce.left,65);const Za=ce.left+30,Cl=ce.top+30,vp=70,El=we=>{if(!T||we<=0)return"--";const nt=ot.readNoise,Qe=ot.gain,et=ot.prnu/100;if(Qe<=0)return"--";const vn=we*we,Cn=nt*nt,ea=1-vn*et*et,Ra=-(vn/Qe),Po=-(vn*Cn);let La=0;if(Math.abs(ea)<1e-8)Math.abs(Ra)>1e-8&&(La=-Po/Ra);else{const or=Ra*Ra-4*ea*Po;or>=0&&(La=(-Ra+Math.sqrt(or))/(2*ea))}return La>0?Math.log2(T/La).toFixed(2)+" EV":"--"},xp=ve!=null&&ve.ptpTarget&&!isNaN(ve.ptpTarget)?El(ve.ptpTarget):"--",bp=G?El(parseFloat(G)):"--";R.font="bold 48px monospace",R.textAlign="left",R.textBaseline="top",R.shadowColor=de?"rgba(0,0,0,0.8)":"rgba(255,255,255,0.8)",R.shadowBlur=4,R.shadowOffsetX=1,R.shadowOffsetY=1;const Zr=(we,nt,Qe,et)=>{const vn=Cl+Qe*vp;R.fillStyle=Me,R.fillText(we,Za,vn);const Cn=R.measureText(we).width;R.fillStyle=et||Me,R.fillText(nt,Za+Cn,vn)},wp=Pt.read,kp=parseFloat(Pt.gain).toFixed(3),Sp=parseFloat(Pt.prnu).toFixed(2)+"%";let Bu=`M.DR@SNR${G}: `;const No=parseFloat(I);if(!isNaN(No)&&No>0){const we=(2309.4/No).toFixed(2);Math.abs(parseFloat(G)-parseFloat(we))<.05&&(Bu="8mpSNR=1 DR: ")}Zr("Tester: ",pt||"N/A",0),Zr("Model : ",He||"Unknown",1),Zr("ISO   : ",Rt||"N/A",2),Zr("RN/FPN: ",wp,3,"#f43f5e"),Zr("KADC  : ",kp,4,"#06b6d4"),Zr("PRNU  : ",Sp,5,"#f59e0b"),Zr("PTP DR: ",ve!=null&&ve.ptpDR?ve.ptpDR.toFixed(2)+" EV":"--",6,"#10b981"),Zr("D55 DR: ",ve!=null&&ve.d55DR?ve.d55DR.toFixed(2)+" EV":"--",7,"#8b5cf6"),Zr("FWC   : ",Xt?Xt>1e4?(Xt/1e3).toFixed(1)+"k":Math.round(Xt).toString():"--",8,"#f97316"),Zr(Bu,ve!=null&&ve.manualDR?ve.manualDR.toFixed(2)+" EV":"--",9,"#06b6d4"),Zr("PTCFitDR(PTP): ",xp,10,"#10b981"),Zr("PTCFitDR(Man): ",bp,11,"#06b6d4"),R.save(),R.textAlign="right",R.textBaseline="bottom",R.fillStyle="#3b82f6",R.font="bold 80px sans-serif",R.shadowColor=de?"rgba(0,0,0,0.8)":"rgba(255,255,255,0.8)",R.shadowBlur=4,R.shadowOffsetX=2,R.shadowOffsetY=2;const Tl=1988,$l=1476,Fu=90;R.fillText("Online",Tl,$l),R.fillText("Jiangtherapee",Tl,$l-Fu),R.restore();const Dl=document.createElement("a");Dl.download=`ptc_complete_${f}_${Date.now()}.jpg`,Dl.href=ee.toDataURL("image/jpeg",.9),Dl.click()},[Vt,Lt,k,O,P,C,z,Re,Je,Ke,Ot,h,s,f,T,o,it,Ee,mt,It,Jt,ue,pt,He,Rt,ve,Xt,G,Ye,Xr,Pt,I,F]),X=j.useMemo(()=>{let L=Vt;if(h&&(L=L.filter(de=>de.y>0&&de.x>0)),x==="top3"){const de=[...L].sort((Me,Ze)=>Ze.x-Me.x),_e=Math.max(50,Math.ceil(de.length*.03));L=de.slice(0,_e)}const Z={R:[],G1:[],G2:[],B:[]};if(L.forEach(de=>{Z[de.channel]&&Z[de.channel].push(de)}),x==="raw")return Z;const ee=x==="top3"?500:XQ,R=de=>{if(de.length<=ee)return de;const _e=[...de].sort((Le,Ue)=>Le.x-Ue.x),Me=[],Ze=_e.length/ee;for(let Le=0;Le<ee;Le++){const Ue=Math.floor(Le*Ze),Et=Math.floor((Le+1)*Ze),ut=_e.slice(Ue,Et);if(ut.length===0)continue;ut.sort((dr,ce)=>dr.y-ce.y);const Tt=Math.floor(ut.length/2);Me.push(ut[Tt])}return Me};return{R:R(Z.R),G1:R(Z.G1),G2:R(Z.G2),B:R(Z.B)}},[Vt,x,h]),je=j.useMemo(()=>{if(er.length<5)return[];const L=er.filter(ee=>ee.channel===Lt);return[...L.length>20?L:er].sort((ee,R)=>ee.x-R.x).map(ee=>({mean:ee.x,std:ee.std}))},[er,Lt]),Bt=L=>{const Z=L.length;if(Z===0)return[];const ee=L.reduce((Xe,Pe)=>Xe+Pe,0)/Z,R=L.reduce((Xe,Pe)=>Xe+Math.pow(Pe-ee,2),0)/(Z-1||1),de=Math.sqrt(R);if(de===0)return[{x:ee-.001,density:0},{x:ee,density:1},{x:ee+.001,density:0}];const _e=1.06*de*Math.pow(Z,-.2),Me=Math.min(...L),Ze=Math.max(...L),Le=(Ze-Me)*.2||Me*.1,Ue=Math.max(0,Me-Le),Et=Ze+Le,ut=100,Tt=(Et-Ue)/(ut-1),dr=Xe=>1/Math.sqrt(2*Math.PI)*Math.exp(-.5*Xe*Xe),ce=[];for(let Xe=0;Xe<ut;Xe++){const Pe=Ue+Xe*Tt;let Ft=0;for(let wt=0;wt<Z;wt++)Ft+=dr((Pe-L[wt])/_e);Ft/=Z*_e,ce.push({x:Pe,density:Ft})}return ce},Kr=j.useCallback((L,Z,ee,R)=>{if(L.length<5)return{gain:0,prnu:0};const de=L[L.length-1].mean,_e=de*(ee.min/100),Me=de*(ee.max/100),Ze=L.filter(ft=>ft.mean>=_e&&ft.mean<=Me);if(Ze.length<5)return{gain:0,prnu:0};Ir({nPoints:Ze.length});const Le=Z*Z,Ue=[],Et=[];if(Ze.forEach(ft=>{const yn=ft.std*ft.std-Le;if(ft.mean>1&&yn>0){const Za=ft.mean,Cl=yn/ft.mean;Ue.push({x:Za,y:Cl}),Et.push(ft.mean/yn)}}),Ue.length<5)return{gain:0,prnu:0};const ut=[],Tt=Ue.length,dr=R,ce=Tt*(Tt-1)/2;if(ce<=dr)for(let ft=0;ft<Tt;ft++)for(let br=ft+1;br<Tt;br++){const yn=Ue[br].x-Ue[ft].x;Math.abs(yn)>1e-5&&ut.push((Ue[br].y-Ue[ft].y)/yn)}else{const ft=Math.max(1,Math.floor(ce/dr));for(let br=0;br<Tt;br++)for(let yn=br+1;yn<Tt;yn+=ft){const Za=Ue[yn].x-Ue[br].x;Math.abs(Za)>1e-5&&ut.push((Ue[yn].y-Ue[br].y)/Za)}}const Xe=N0(ut),Pe=Ue.map(ft=>ft.y-Xe*ft.x),Ft=N0(Pe);let wt=0,Ar=0;if(Ft>1e-6?wt=1/Ft:wt=N0(Et),Xe>0&&(Ar=Math.sqrt(Xe)*100),Et.length>0){const ft=Bt(Et);zn(ft),An(wt)}else zn([]);return{gain:wt,prnu:Ar}},[]),Mt=j.useCallback(L=>{let Z=L.read??Pr.current.readNoise;const ee=L.gRange??Vr.current,R=nr.current;if((L.read!==void 0||L.gRange!==void 0)&&L.gain===void 0&&L.prnu===void 0&&je.length>0&&Z>=0)w(!0),setTimeout(()=>{const _e=Kr(je,Z,ee,R);let Me=Pr.current.gain,Ze=Pr.current.prnu;_e.gain>0&&(Me=_e.gain,Ze=_e.prnu),Ve({readNoise:Z,gain:Me,prnu:Ze}),L.gRange!==void 0&&Nr(L.gRange),At(Le=>{var Ue,Et;return{...Le,read:Z.toString(),gain:Me>0?Me.toFixed(3):"0",prnu:Ze.toFixed(2),rangeMin:(((Ue=L.gRange)==null?void 0:Ue.min)??Le.rangeMin).toString(),rangeMax:(((Et=L.gRange)==null?void 0:Et.max)??Le.rangeMax).toString()}}),w(!1)},50);else{let _e=L.gain!==void 0?L.gain:Pr.current.gain,Me=L.prnu!==void 0?L.prnu:Pr.current.prnu;Ve({readNoise:Z,gain:_e,prnu:Me}),L.gRange!==void 0&&Nr(L.gRange),At(Ze=>{var Le,Ue;return{...Ze,read:Z.toString(),gain:_e>0?_e.toFixed(3):"0",prnu:Me.toFixed(2),rangeMin:(((Le=L.gRange)==null?void 0:Le.min)??Ze.rangeMin).toString(),rangeMax:(((Ue=L.gRange)==null?void 0:Ue.max)??Ze.rangeMax).toString()}})}},[je,Kr]),Yr=`${q}-${r.length}`;j.useEffect(()=>{if(!e||!r||r.length===0)return;const L=X[Lt];if(!L||L.length===0||Br===Yr)return;_({R:Lt==="R",G1:Lt==="G1",G2:Lt==="G2",B:Lt==="B"});const Z=[...L].sort((_e,Me)=>_e.x-Me.x);let ee=0;Z.length>0&&(ee=Z[0].std);const R=er.filter(_e=>_e.channel===Lt);let de=-1/0;for(const _e of R)_e.x>de&&(de=_e.x);de!==-1/0&&oe(de),Mt({read:ee}),mn(Yr)},[e,r,Br,Yr,X,Lt,Mt,er]);const fr=(L,Z)=>{At(ee=>({...ee,[L]:Z}))},Qn=L=>{let Z=parseFloat(Pt[L]);isNaN(Z)||Z<0||Mt({[L]:Z})},jo=()=>{V(W),mn("")},Jn=()=>{const L=parseFloat(Pt.rangeMin),Z=parseFloat(Pt.rangeMax);!isNaN(L)&&!isNaN(Z)&&L<Z&&L>=0&&Z<=100&&Mt({gRange:{min:L,max:Z}})},xa=(L,Z)=>{L.key==="Enter"&&(Z==="rangeMin"||Z==="rangeMax"?Jn():Qn(Z),L.target.blur())};j.useEffect(()=>{je.length>0&&Mt({})},[gt,je]);const qr=L=>{_(Z=>({...Z,[L]:!Z[L]}))},Mn=()=>{m(L=>L==="top3"?"default":"top3")},Nl=()=>{x==="raw"?m("default"):b(!0)},Pl=()=>{b(!1),m("raw")},Ct=(L,Z)=>{const ee=parseFloat(L),R=parseFloat(Z);let de=isNaN(ee)?"auto":ee,_e=isNaN(R)?"auto":R;return h&&typeof de=="number"&&de<=0&&(de="auto"),[de,_e]},_o=L=>{if(!L||!L.payload)return;const Z=L.payload;if(v(Z),_r.current&&(oe(Z.x),te(!1)),Or.current){const ee=Vr.current.min,R=Vr.current.max,{max:de}=ae();if(de<=0)return;const _e=Math.max(0,Math.min(100,Z.x/de*100));if(cr.current===1){const Me=Math.min(_e,R-.5);Mt({gRange:{min:Me,max:R}}),ne(2)}else if(cr.current===2){const Me=Math.max(_e,ee+.5);Mt({gRange:{min:ee,max:Me}}),ne(0),K(!1)}}},qe=j.useCallback(L=>{const{cx:Z,cy:ee,fill:R}=L;return u.jsx("circle",{cx:Z,cy:ee,r:3,fill:R,stroke:"none",style:{cursor:"pointer"}})},[]),Al=({active:L,payload:Z})=>{if(L&&Z&&Z.length){const ee=Z[0].payload;return u.jsxs("div",{className:"bg-slate-800 text-white text-xs p-2 rounded border border-slate-600 shadow-xl opacity-90 font-mono z-50",children:[u.jsx("div",{className:"font-bold border-b border-slate-600 pb-1 mb-1",children:ee.channel}),u.jsxs("div",{children:["Signal: ",ee.x.toFixed(2)]}),u.jsxs("div",{children:[f,": ",ee.y.toFixed(4)]}),ee.row!==void 0&&ee.col!==void 0&&!isNaN(ee.row)&&!isNaN(ee.col)&&u.jsxs("div",{className:"text-cyan-400 mt-0.5",children:["Loc: Row ",ee.row,", Col ",ee.col]}),ee.filename&&u.jsx("div",{className:"text-gray-400 mt-1 max-w-[200px] truncate",title:ee.filename,children:ee.filename})]})}return null},Oo=L=>{d(L),L==="Linear"&&p(!1)};if(!e)return null;const Ml=s==="dark"?"#ffffff":"#000000";let Ji=f;f==="Linear"&&(Ji="(Var - RN) / Mean");const Iu=W!==q;return u.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in",onClick:L=>{L.stopPropagation()},children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-[98vw] max-w-[2200px] h-[95vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700 overflow-hidden relative",onClick:L=>L.stopPropagation(),children:[u.jsx(Zo,{isOpen:g,onClose:()=>b(!1),onConfirm:Pl,title:"Warning: High Performance Cost",message:"Displaying all data points may cause the browser to freeze or become unresponsive, especially with large datasets. Are you sure you want to continue?",confirmText:"Yes, Show All"}),y&&u.jsxs("div",{className:"absolute top-20 right-8 z-30 bg-white/90 dark:bg-slate-800/90 border border-cyan-500 rounded-xl p-4 shadow-xl backdrop-blur-md max-w-xs animate-in fade-in zoom-in-95 duration-200",children:[u.jsxs("div",{className:"flex justify-between items-start mb-2 border-b border-gray-200 dark:border-slate-700 pb-2",children:[u.jsx("h4",{className:"font-bold text-gray-900 dark:text-white text-sm",children:"Selected Point"}),u.jsx("button",{onClick:()=>v(null),className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("div",{className:"space-y-1 text-xs font-mono text-gray-700 dark:text-slate-300",children:u.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1.5",children:[u.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Channel:"}),u.jsx("span",{className:"font-bold",children:y.channel}),u.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Signal (DN):"}),u.jsx("span",{children:y.x.toFixed(4)}),u.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Noise (Std):"}),u.jsx("span",{children:y.std.toFixed(4)}),u.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"SNR:"}),u.jsx("span",{className:"text-purple-600 dark:text-purple-400 font-bold",children:(y.x/y.std).toFixed(2)})]})})]}),xr&&u.jsx("div",{className:"absolute inset-0 z-40 bg-white/95 dark:bg-slate-900/95 backdrop-blur-sm flex flex-col items-center justify-center p-8 animate-in fade-in zoom-in-95 duration-200",children:u.jsxs("div",{className:"w-full max-w-2xl h-[60vh] bg-gray-50 dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-700 shadow-2xl p-4 flex flex-col relative",children:[u.jsx("button",{onClick:()=>Fn(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-red-500 transition-colors",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),u.jsxs("div",{className:"mb-4 text-center",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-slate-200",children:"Gain Density Estimation"}),u.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:["HSM Mode: ",u.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:Pn==null?void 0:Pn.toFixed(4)}),u.jsx("span",{className:"mx-2",children:"|"}),"Data Points: ",ya.length>0?"Density Curve Generated":"No Data"]})]}),u.jsx("div",{className:"flex-1 min-h-0",children:ya.length>0?u.jsx(zs,{width:"100%",height:"100%",children:u.jsxs(lP,{data:ya,margin:{top:10,right:30,left:0,bottom:20},children:[u.jsx(Hi,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3,vertical:!1}),u.jsx(Ta,{dataKey:"x",tickFormatter:L=>L.toFixed(2),tick:{fill:"#9ca3af",fontSize:10},label:{value:"Gain (e/ADU)",position:"insideBottom",offset:-15,fill:"#9ca3af",fontSize:12}}),u.jsx($a,{tick:{fill:"#9ca3af",fontSize:10}}),u.jsx(Sn,{cursor:{stroke:"rgba(255,255,255,0.2)"},contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6"}}),u.jsx(ca,{type:"monotone",dataKey:"density",stroke:"#0ea5e9",fill:"#0ea5e9",fillOpacity:.3,strokeWidth:2}),Pn!==null&&u.jsx(Oi,{x:Pn,stroke:"#ef4444",strokeWidth:2,label:{value:"HSM",fill:"#ef4444",fontSize:10,position:"top"}})]})}):u.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:"No data in selected range"})})]})}),u.jsxs("div",{className:"flex flex-wrap justify-between items-center p-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50 gap-4 flex-shrink-0",children:[u.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2",children:["Photon Transfer Curve",u.jsxs("span",{className:"text-xs font-normal bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-300 px-2 py-0.5 rounded border border-purple-200 dark:border-purple-800",children:[r.length," Pts"]})]}),u.jsxs("div",{className:"flex gap-4 items-center flex-wrap",children:[u.jsxs("button",{onClick:So,className:"bg-green-600 hover:bg-green-500 text-white font-bold py-1 px-3 rounded text-xs shadow-md transition-all active:scale-95 flex items-center gap-1",title:"Render all points, target lines, and metadata to a high-res JPG",children:[u.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export Complete Result"]}),u.jsxs("div",{className:"flex bg-white dark:bg-slate-700 rounded-lg p-1 border border-gray-200 dark:border-slate-600",children:[u.jsx("button",{onClick:()=>Oo("Noise"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${f==="Noise"?"bg-cyan-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"Noise ()"}),u.jsx("button",{onClick:()=>Oo("SNR"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${f==="SNR"?"bg-purple-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"SNR"}),u.jsx("button",{onClick:()=>Oo("Linear"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${f==="Linear"?"bg-indigo-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"Linear (PTC)"})]}),u.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-600 dark:text-slate-300 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:h,onChange:L=>p(L.target.checked),className:"rounded border-gray-300 text-cyan-600 focus:ring-cyan-500 bg-gray-100 dark:bg-slate-700 dark:border-slate-600"}),"Log-Log"]}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors p-1",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-0 border-b border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-sm flex-shrink-0",children:[u.jsxs("div",{className:"lg:col-span-9 p-5 flex flex-col gap-5 border-r border-gray-200 dark:border-slate-700",children:[u.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between text-xs",children:[u.jsxs("div",{className:"flex gap-4 items-center",children:[u.jsxs("div",{className:"flex items-center gap-1.5 bg-gray-50 dark:bg-slate-800 rounded-md p-1 border border-gray-200 dark:border-slate-700",children:[u.jsx("span",{className:"font-bold text-gray-500 dark:text-slate-400 pl-1",children:"X:"}),u.jsx("input",{type:"number",placeholder:"Min",value:O,onChange:L=>N(L.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"}),u.jsx("span",{className:"text-gray-400",children:"-"}),u.jsx("input",{type:"number",placeholder:"Max",value:P,onChange:L=>M(L.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"})]}),u.jsxs("div",{className:"flex items-center gap-1.5 bg-gray-50 dark:bg-slate-800 rounded-md p-1 border border-gray-200 dark:border-slate-700",children:[u.jsx("span",{className:"font-bold text-gray-500 dark:text-slate-400 pl-1",children:"Y:"}),u.jsx("input",{type:"number",placeholder:"Min",value:C,onChange:L=>$(L.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"}),u.jsx("span",{className:"text-gray-400",children:"-"}),u.jsx("input",{type:"number",placeholder:"Max",value:z,onChange:L=>E(L.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"})]}),u.jsx("button",{onClick:()=>{N(""),M(""),$(""),E("")},className:"text-xs text-cyan-600 dark:text-cyan-400 hover:underline",children:"Auto"})]}),u.jsxs("div",{className:"flex items-center gap-1 bg-white dark:bg-slate-700 p-1 rounded-lg border border-gray-200 dark:border-slate-600",children:[u.jsx("button",{onClick:()=>qr("R"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${k.R?"bg-red-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"R"}),u.jsx("button",{onClick:()=>qr("G1"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${k.G1?"bg-green-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"G1"}),u.jsx("button",{onClick:()=>qr("G2"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${k.G2?"bg-green-400 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"G2"}),u.jsx("button",{onClick:()=>qr("B"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${k.B?"bg-blue-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"B"})]})]}),u.jsxs("div",{className:"flex flex-wrap items-end gap-8",children:[u.jsxs("div",{className:"flex flex-col bg-gray-50 dark:bg-slate-800/50 p-2 rounded border border-gray-100 dark:border-slate-700",children:[u.jsx("span",{className:"text-[9px] uppercase font-bold text-gray-500 dark:text-slate-400 mb-1",children:"Black Level (0,0 0,1 1,0 1,1)"}),u.jsx("input",{type:"text",value:W,onChange:L=>J(L.target.value),className:"w-32 text-xs px-2 py-1 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded outline-none focus:border-cyan-500 font-mono",placeholder:"0 0 0 0"})]}),u.jsxs("div",{className:"flex flex-col justify-between bg-gray-50 dark:bg-slate-800/50 p-2 rounded border border-gray-100 dark:border-slate-700",children:[u.jsxs("div",{className:"flex justify-between items-center mb-1",children:[u.jsx("span",{className:"text-[9px] uppercase font-bold text-gray-500 dark:text-slate-400 mr-2",children:"Fit Range % (Robust)"}),u.jsx("button",{onClick:()=>{K(!ue),ne(ue?0:1)},className:`px-1.5 py-0.5 text-[9px] rounded border transition-colors ${ue?"bg-cyan-100 text-cyan-700 border-cyan-300 animate-pulse":"bg-white dark:bg-slate-700 border-gray-300 dark:border-slate-600 text-gray-600 dark:text-slate-300 hover:bg-gray-50"}`,children:ue?le===1?"Pick Min":"Pick Max":"Select"})]}),u.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[u.jsx("input",{type:"number",step:"0.1",value:Pt.rangeMin,onChange:L=>fr("rangeMin",L.target.value),onBlur:Jn,onKeyDown:L=>xa(L,"rangeMin"),className:"w-10 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-center font-bold"}),u.jsx("span",{className:"text-gray-400",children:"-"}),u.jsx("input",{type:"number",step:"0.1",value:Pt.rangeMax,onChange:L=>fr("rangeMax",L.target.value),onBlur:Jn,onKeyDown:L=>xa(L,"rangeMax"),className:"w-10 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-center font-bold"})]})]}),u.jsxs("div",{className:"flex flex-col bg-indigo-50 dark:bg-indigo-900/20 p-2 rounded border border-indigo-100 dark:border-indigo-800/50",children:[u.jsx("span",{className:"text-[9px] uppercase font-bold text-indigo-600 dark:text-indigo-400 mb-1",children:"DR Params"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-300",children:"Img H:"}),u.jsx("input",{type:"number",value:I,onChange:L=>B(L.target.value),onKeyDown:an,placeholder:"Empty",className:"w-14 px-1 py-0.5 bg-white dark:bg-slate-900 border border-indigo-200 dark:border-indigo-800 rounded text-center font-bold text-indigo-700 dark:text-indigo-300 text-xs placeholder:font-normal placeholder:text-gray-300"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-300",children:"Tgt SNR:"}),u.jsx("input",{type:"number",value:G,onChange:L=>A(L.target.value),className:"w-10 px-1 py-0.5 bg-white dark:bg-slate-900 border border-indigo-200 dark:border-indigo-800 rounded text-center font-bold text-indigo-700 dark:text-indigo-300 text-xs"})]})]})]}),u.jsxs("div",{className:"flex flex-col gap-1 text-[10px] justify-end pb-0.5",children:[u.jsx("button",{onClick:()=>{te(!ie),T&&oe(null)},disabled:ue,className:`font-bold rounded border shadow-sm transition-all px-3 py-1.5 ${ie?"bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400 border-amber-500 animate-pulse":"bg-white dark:bg-slate-800 text-gray-600 dark:text-slate-300 border-gray-300 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:ie?"Pick Point":"Select Linear Limit"}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{onClick:Mn,className:`flex-1 font-bold rounded border shadow-sm transition-all px-2 py-1 ${x==="top3"?"bg-indigo-600 text-white border-indigo-700":"bg-white dark:bg-slate-800 text-gray-600 dark:text-slate-300 border-gray-300 dark:border-slate-600 hover:bg-gray-50"}`,children:"Top 3%"}),u.jsx("button",{onClick:Nl,className:`font-bold rounded border shadow-sm transition-all px-2 py-1 ${x==="raw"?"bg-red-600 text-white border-red-700":"text-red-500 border-red-200 hover:bg-red-50"}`,children:"All"})]})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-4 items-center bg-gray-50/50 dark:bg-slate-800/20 p-2 rounded-lg border border-gray-100 dark:border-slate-800",children:[u.jsx("span",{className:"text-[10px] uppercase font-bold text-gray-400 dark:text-slate-500",children:"Metadata"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",value:pt,onChange:L=>De(L.target.value),placeholder:"Tester Name",className:"w-24 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"}),u.jsx("input",{type:"text",value:He,onChange:L=>bt(L.target.value),placeholder:"Camera Model",className:"w-32 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"}),u.jsx("input",{type:"text",value:Rt,onChange:L=>Gt(L.target.value),placeholder:"ISO",className:"w-16 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-4 items-center bg-fuchsia-50/50 dark:bg-fuchsia-900/10 p-2 rounded-lg border border-fuchsia-100 dark:border-fuchsia-900/30",children:[u.jsx("span",{className:"text-[10px] uppercase font-bold text-fuchsia-500 dark:text-fuchsia-400",children:"Markers"}),u.jsxs("div",{className:"flex gap-2 items-center",children:[u.jsx("input",{type:"number",value:he,onChange:L=>Se(L.target.value),placeholder:"X (Signal)",className:"w-20 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 outline-none focus:border-fuchsia-500 transition-colors"}),u.jsx("input",{type:"number",value:Ge,onChange:L=>Ie(L.target.value),placeholder:"Y (Value)",className:"w-20 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 outline-none focus:border-fuchsia-500 transition-colors"}),u.jsx("button",{onClick:ht,className:"px-3 py-1 bg-fuchsia-600 hover:bg-fuchsia-500 text-white text-xs font-bold rounded shadow-sm transition-colors active:scale-95",children:"+"}),F.length>0&&u.jsx("button",{onClick:()=>ge([]),className:"px-2 py-1 bg-gray-200 dark:bg-slate-700 hover:bg-red-500 hover:text-white text-gray-600 dark:text-slate-300 text-xs font-bold rounded shadow-sm transition-colors active:scale-95",children:"Clr"})]}),u.jsxs("div",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono",children:[F.length," pts"]})]}),u.jsxs("div",{className:"flex gap-4 text-[10px] pt-1 justify-center sm:justify-start flex-wrap",children:[u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:it.shot,onChange:L=>ar({...it,shot:L.target.checked}),className:"rounded text-gray-500"})," ",u.jsx("span",{className:"text-gray-500",children:"Shot Noise"})]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:it.read,onChange:L=>ar({...it,read:L.target.checked}),className:"rounded text-rose-500"})," ",u.jsx("span",{className:"text-rose-500",children:"Read Noise"})]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:it.prnu,onChange:L=>ar({...it,prnu:L.target.checked}),className:"rounded text-amber-500"})," ",u.jsx("span",{className:"text-amber-500",children:"PRNU"})]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:it.total,onChange:L=>ar({...it,total:L.target.checked}),className:"rounded text-white"})," ",u.jsx("span",{className:"text-gray-900 dark:text-white font-bold",children:"Model"})]})]})]}),u.jsxs("div",{className:"lg:col-span-3 bg-slate-100 dark:bg-slate-800 p-4 flex flex-col justify-center gap-4",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center mb-1 px-1",children:[u.jsxs("h3",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase flex items-center gap-2",children:["Fit Parameters (D55 SAT Channel:",Lt,")",S&&u.jsx("span",{className:"text-orange-500 animate-pulse text-[10px]",children:"Calculating..."})]}),u.jsxs("div",{className:"flex gap-2 items-center",children:[u.jsx("button",{onClick:jo,disabled:S,className:`px-3 py-1 text-white text-[10px] font-bold rounded shadow-sm transition-all flex items-center gap-1 active:scale-95 
                                            ${S?"bg-gray-400 cursor-wait":Iu?"bg-orange-500 hover:bg-orange-600 animate-pulse ring-2 ring-orange-400/50":"bg-cyan-600 hover:bg-cyan-500"}
                                        `,title:"Apply Black Level, Auto-detect Read Noise, then Recalculate Fit",children:S?u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"w-3 h-3 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Fitting..."]}):u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),"Apply & Calc"]})}),u.jsxs("select",{value:gt,onChange:L=>Ht(Number(L.target.value)),className:"text-[9px] bg-slate-200 dark:bg-slate-700 text-gray-600 dark:text-slate-300 rounded px-1 py-0.5 border-none outline-none cursor-pointer hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors",title:"Number of point-pairs to sample for robust regression (Theil-Sen)",children:[u.jsx("option",{value:1e5,children:"100k Pairs"}),u.jsx("option",{value:5e5,children:"500k Pairs"}),u.jsx("option",{value:2e6,children:"2M Pairs"}),u.jsx("option",{value:5e6,children:"5M Pairs"}),u.jsx("option",{value:1e7,children:"10M Pairs"})]}),ur&&u.jsxs("span",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono",title:"Number of points used in regression",children:["N=",ur.nPoints]})]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1",children:"rn/fpn"}),u.jsx("input",{type:"text",inputMode:"decimal",value:Pt.read,onChange:L=>fr("read",L.target.value),onBlur:()=>Qn("read"),onKeyDown:L=>xa(L,"read"),className:"w-full text-center text-2xl font-light bg-transparent text-rose-500 outline-none border-b border-transparent focus:border-rose-500 transition-colors"})]}),u.jsxs("div",{className:"flex flex-col items-center relative group",children:[u.jsxs("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1 flex items-center gap-1",children:["Kadc (HSM)",u.jsx("button",{onClick:()=>Fn(!0),className:"text-[9px] text-cyan-600 dark:text-cyan-400 hover:underline",children:"Dist."})]}),u.jsx("input",{type:"text",inputMode:"decimal",value:Pt.gain,onChange:L=>fr("gain",L.target.value),onBlur:()=>Qn("gain"),onKeyDown:L=>xa(L,"gain"),className:"w-full text-center text-2xl font-light bg-transparent text-slate-700 dark:text-slate-200 outline-none border-b border-transparent focus:border-cyan-500 transition-colors"})]}),u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1",children:"PRNU (%)"}),u.jsx("input",{type:"text",inputMode:"decimal",value:Pt.prnu,onChange:L=>fr("prnu",L.target.value),onBlur:()=>Qn("prnu"),onKeyDown:L=>xa(L,"prnu"),className:"w-full text-center text-2xl font-light bg-transparent text-amber-500 outline-none border-b border-transparent focus:border-amber-500 transition-colors"})]})]})]}),u.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 w-full"}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 text-center",children:[u.jsxs("div",{className:"flex flex-col justify-center bg-cyan-50 dark:bg-cyan-900/10 p-2 rounded-lg border border-cyan-100 dark:border-cyan-900/30",children:[u.jsxs("h4",{className:"text-[10px] font-bold text-cyan-600 dark:text-cyan-500 uppercase tracking-wide mb-1 truncate",title:`Manual DR at SNR=${(ve==null?void 0:ve.manualTarget)||G}`,children:["M.DR @ SNR=",(ve==null?void 0:ve.manualTarget)||G]}),u.jsx("div",{className:"text-base font-bold text-cyan-700 dark:text-cyan-400 whitespace-nowrap",children:ve!=null&&ve.manualDR?`${ve.manualDR.toFixed(2)} EV`:"--"})]}),u.jsxs("div",{className:"flex flex-col justify-center bg-emerald-50 dark:bg-emerald-900/10 p-2 rounded-lg border border-emerald-100 dark:border-emerald-900/30",title:isNaN((ve==null?void 0:ve.ptpTarget)||NaN)?"Requires Image Height":`Standard Point-to-Point DR (Target SNR = 16000/${I||"H"})`,children:[u.jsx("h4",{className:"text-[10px] font-bold text-emerald-600 dark:text-emerald-500 uppercase tracking-wide mb-1",children:"PTP DR"}),u.jsx("div",{className:"text-base font-bold text-emerald-700 dark:text-emerald-400 whitespace-nowrap",children:ve!=null&&ve.ptpDR?`${ve.ptpDR.toFixed(2)} EV`:"--"})]}),u.jsxs("div",{className:"flex flex-col justify-center bg-purple-50 dark:bg-purple-900/10 p-2 rounded-lg border border-purple-100 dark:border-purple-900/30",title:isNaN((ve==null?void 0:ve.ptpTarget)||NaN)?"Requires Image Height":`D55 Saturation DR (Target SNR = 16000/${I||"H"} on ${ve==null?void 0:ve.dominantChannel} Channel)`,children:[u.jsxs("h4",{className:"text-[10px] font-bold text-purple-600 dark:text-purple-400 uppercase tracking-wide mb-1 truncate",children:["D55 DR (",ve==null?void 0:ve.dominantChannel,")"]}),u.jsx("div",{className:"text-base font-bold text-purple-700 dark:text-purple-400 whitespace-nowrap",children:ve!=null&&ve.d55DR?`${ve.d55DR.toFixed(2)} EV`:"--"})]}),u.jsxs("div",{className:"flex flex-col justify-center bg-orange-50 dark:bg-orange-900/10 p-2 rounded-lg border border-orange-100 dark:border-orange-900/30",children:[u.jsx("h4",{className:"text-[10px] font-bold text-orange-600 dark:text-orange-400 uppercase tracking-wide mb-1",children:"FWC"}),u.jsx("div",{className:"text-base font-bold text-orange-600 dark:text-orange-400 font-mono whitespace-nowrap truncate",title:Xt!==null?`${Math.round(Xt)}`:"",children:Xt!==null?Xt>1e4?`${(Xt/1e3).toFixed(1)}k`:`${Math.round(Xt)}`:"--"})]})]}),T===null&&u.jsx("div",{className:"text-center text-[10px] text-red-500 animate-pulse font-bold mt-[-10px]",children:"Please select Linear Limit on chart to calc DR"})]})]}),u.jsxs("div",{className:`flex-1 p-4 bg-white dark:bg-slate-900 relative grid grid-cols-[auto_1fr] grid-rows-[1fr_auto] gap-2 ${ie||ue?"cursor-crosshair":""}`,children:[u.jsx("div",{className:"row-start-1 col-start-1 h-full",children:u.jsx(dk,{vertical:!0,min:Ke,max:Ot,value:[C?parseFloat(C):Ke,z?parseFloat(z):Ot],onChange:([L,Z])=>{$(L.toString()),E(Z.toString())},logScale:h})}),u.jsxs("div",{className:"row-start-1 col-start-2 relative",children:[Vt.length===0?u.jsx("div",{className:"flex h-full items-center justify-center text-gray-400",children:"No valid data points found."}):u.jsx(zs,{width:"100%",height:"100%",children:u.jsxs(kQ,{margin:{top:20,right:20,bottom:0,left:0},onClick:_o,children:[u.jsx("defs",{children:u.jsxs("filter",{id:"glow",height:"300%",width:"300%",x:"-100%",y:"-100%",children:[u.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),u.jsxs("feMerge",{children:[u.jsx("feMergeNode",{in:"coloredBlur"}),u.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),u.jsx(Hi,{strokeDasharray:"3 3",stroke:"#374151",opacity:.2}),u.jsx(Ta,{type:"number",dataKey:"x",name:"Signal",scale:h?"log":"linear",domain:Ct(O,P),allowDataOverflow:!0,hide:!0}),u.jsx($a,{type:"number",dataKey:"y",name:f,scale:h?"log":"linear",domain:Ct(C,z),label:{value:Ji,angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:12},tick:{fill:"#9ca3af",fontSize:10},allowDataOverflow:!0}),u.jsx(Sn,{content:u.jsx(Al,{}),cursor:{strokeDasharray:"3 3"}}),T&&u.jsx(Oi,{x:T,stroke:"red",strokeDasharray:"3 3",label:{position:"top",value:"Sat",fill:"red",fontSize:10}}),(it.fitRange||ue)&&u.jsxs(u.Fragment,{children:[u.jsx(Oi,{x:mt,stroke:"#22d3ee",strokeDasharray:"5 5",label:{position:"insideTopLeft",value:`Min: ${Jt.min}%`,fill:"#22d3ee",fontSize:9}}),u.jsx(Oi,{x:It,stroke:"#22d3ee",strokeDasharray:"5 5",label:{position:"insideTopLeft",value:`Max: ${Jt.max}%`,fill:"#22d3ee",fontSize:9}})]}),k.R&&u.jsx(wn,{name:"Red",data:X.R,fill:"#ef4444",shape:qe,onClick:_o,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-R"),k.G1&&u.jsx(wn,{name:"Green 1",data:X.G1,fill:"#22c55e",shape:qe,onClick:_o,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-G1"),k.G2&&u.jsx(wn,{name:"Green 2",data:X.G2,fill:"#4ade80",shape:qe,onClick:_o,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-G2"),k.B&&u.jsx(wn,{name:"Blue",data:X.B,fill:"#3b82f6",shape:qe,onClick:_o,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-B"),it.shot&&Ee.shot.length>0&&u.jsx(wn,{name:"Shot Noise (Ideal)",data:Ee.shot,line:{stroke:"#94a3b8",strokeWidth:1,strokeDasharray:"5 5"},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-shot"),it.read&&Ee.read.length>0&&u.jsx(wn,{name:"Read Noise Floor",data:Ee.read,line:{stroke:"#f43f5e",strokeWidth:1,strokeDasharray:"3 3"},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-read"),it.prnu&&Ee.prnu.length>0&&u.jsx(wn,{name:"PRNU (Non-uniformity)",data:Ee.prnu,line:{stroke:"#f59e0b",strokeWidth:1,strokeDasharray:"3 3"},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-prnu"),it.total&&Ee.total.length>0&&u.jsx(wn,{name:"Total Noise Model",data:Ee.total,line:{stroke:Ml,strokeWidth:2},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-total"),Ye.length>0&&u.jsx(wn,{name:`Target SNR=${G}`,data:Ye,line:{stroke:"#6366f1",strokeWidth:2,strokeDasharray:"4 2"},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-target"),Xr.length>0&&u.jsx(wn,{name:`PTP Target SNR=${ve!=null&&ve.ptpTarget?ve.ptpTarget.toFixed(1):"?"}`,data:Xr,line:{stroke:"#10b981",strokeWidth:2,strokeDasharray:"4 4"},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-ptp"),F.length>0&&u.jsx(wn,{name:"Manual Markers",data:F,fill:"#d946ef",shape:"star",legendType:"star"},"manual-points")]})}),u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 pointer-events-none select-none opacity-25 mix-blend-normal dark:mix-blend-plus-lighter",children:u.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})})]}),u.jsx("div",{className:"row-start-2 col-start-2 w-full",children:u.jsx(dk,{min:Re,max:Je,value:[O?parseFloat(O):Re,P?parseFloat(P):Je],onChange:([L,Z])=>{N(L.toString()),M(Z.toString())},logScale:h})})]})]})})},YQ=({searchTerm:e,onSearchChange:t,manufacturers:r,selectedManufacturer:n,onManufacturerChange:a,cameras:o,onCameraSelect:i})=>u.jsx("div",{className:"sticky top-4 z-10 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm p-4 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[u.jsxs("div",{className:"relative md:col-span-3",children:[u.jsx("input",{type:"text",placeholder:"Search camera model...",value:e,onChange:s=>t(s.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 text-gray-900 dark:text-slate-200 placeholder-gray-500 dark:placeholder-slate-400"}),u.jsx("svg",{className:"w-5 h-5 text-gray-400 dark:text-slate-400 absolute top-1/2 left-3 transform -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),u.jsx("select",{value:n,onChange:s=>a(s.target.value),className:"w-full md:col-span-1 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-2 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 appearance-none text-gray-900 dark:text-slate-200",children:r.map(s=>u.jsx("option",{value:s,children:s},s))}),u.jsxs("select",{onChange:s=>i(s.target.value),className:"w-full md:col-span-1 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-2 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 appearance-none text-gray-900 dark:text-slate-200",value:"","aria-label":"Jump to camera model",children:[u.jsx("option",{value:"",disabled:!0,children:"Jump to model..."}),o.map(s=>u.jsx("option",{value:s.id,children:s.name},s.id))]})]})}),qQ=({active:e,payload:t,label:r,theme:n})=>{if(e&&t&&t.length){const a=t[0].payload,o=n==="dark"?"bg-slate-800/80 border-slate-600 text-slate-300":"bg-white/90 border-gray-200 text-gray-700";return u.jsxs("div",{className:`${o} backdrop-blur-sm border p-3 rounded-lg shadow-lg`,children:[u.jsx("p",{className:"label font-bold",children:`ISO ${r}`}),u.jsx("div",{className:"mt-2 space-y-1 text-sm",children:u.jsxs(u.Fragment,{children:[u.jsxs("div",{style:{color:"#f87171"},children:["Red: ",a.R_avg.toFixed(2)," (Range: ",a.R_range[0]," - ",a.R_range[1],")"]}),u.jsxs("div",{style:{color:"#4ade80"},children:["Green 1: ",a.G1_avg.toFixed(2)," (Range: ",a.G1_range[0]," - ",a.G1_range[1],")"]}),u.jsxs("div",{style:{color:"#60a5fa"},children:["Blue: ",a.B_avg.toFixed(2)," (Range: ",a.B_range[0]," - ",a.B_range[1],")"]}),u.jsxs("div",{style:{color:"#86efac"},children:["Green 2: ",a.G2_avg.toFixed(2)," (Range: ",a.G2_range[0]," - ",a.G2_range[1],")"]})]})})]})}return null},ZQ=({data:e,theme:t="dark"})=>{const r=j.useMemo(()=>!e||e.length===0?[]:[...new Set(e.map(i=>i.iso))].sort((i,s)=>Number(i)-Number(s)),[e]),n=j.useMemo(()=>{if(!e||e.length===0)return[0,4096];const i=e.flatMap(y=>[...y.R_range,...y.G1_range,...y.G2_range,...y.B_range]);if(i.length===0)return[0,4096];let s=Math.min(...i),l=Math.max(...i);const c=.25,f=l-s;if(f<c){const y=c-f;s-=y/2,l+=y/2}const d=(l-s)*.1,h=s-d,p=l+d;return[h,p]},[e]),a=t==="dark"?"#475569":"#e5e7eb",o=t==="dark"?"#94a3b8":"#6b7280";return!e||e.length===0?u.jsx("div",{className:"flex items-center justify-center h-full text-gray-500 dark:text-slate-500",children:u.jsx("p",{children:"No data available for this mode."})}):u.jsx(zs,{width:"100%",height:"100%",children:u.jsxs(lP,{data:e,margin:{top:5,right:20,left:0,bottom:5},children:[u.jsx(Hi,{strokeDasharray:"3 3",stroke:a}),u.jsx(Ta,{dataKey:"iso",type:"number",domain:["dataMin","dataMax"],tick:{fill:o,fontSize:12},scale:"log",allowDuplicatedCategory:!1,ticks:r}),u.jsx($a,{tick:{fill:o,fontSize:12},domain:n,allowDecimals:!0,tickFormatter:i=>Number(i).toFixed(3)}),u.jsx(Sn,{content:u.jsx(qQ,{theme:t})}),u.jsx(co,{wrapperStyle:{fontSize:"14px",color:o}}),u.jsx(ca,{type:"monotone",dataKey:"R_range",fill:"#f87171",stroke:"none",fillOpacity:.2,name:"Red",legendType:"none"}),u.jsx(en,{type:"monotone",dataKey:"R_avg",stroke:"#f87171",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Red"}),u.jsx(ca,{type:"monotone",dataKey:"G1_range",fill:"#4ade80",stroke:"none",fillOpacity:.2,name:"Green 1",legendType:"none"}),u.jsx(en,{type:"monotone",dataKey:"G1_avg",stroke:"#4ade80",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Green 1"}),u.jsx(ca,{type:"monotone",dataKey:"B_range",fill:"#60a5fa",stroke:"none",fillOpacity:.2,name:"Blue",legendType:"none"}),u.jsx(en,{type:"monotone",dataKey:"B_avg",stroke:"#60a5fa",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Blue"}),u.jsx(ca,{type:"monotone",dataKey:"G2_range",fill:"#86efac",stroke:"none",fillOpacity:.2,name:"Green 2",legendType:"none"}),u.jsx(en,{type:"monotone",dataKey:"G2_avg",stroke:"#86efac",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Green 2"})]})})},QQ=D.forwardRef(({camera:e,theme:t="dark"},r)=>{const n=j.useMemo(()=>e.shootingModes.map(d=>d.modeName),[e.shootingModes]),[a,o]=j.useState(n[0]||""),{chartData:i,tableData:s}=j.useMemo(()=>{const d=e.shootingModes.find(y=>y.modeName===a);if(!(d!=null&&d.data))return{chartData:[],tableData:[]};const h=d.data.map(y=>({iso:y.iso,R_range:y.r.range,R_avg:y.r.avg,G1_range:y.g1.range,G1_avg:y.g1.avg,B_range:y.b.range,B_avg:y.b.avg,G2_range:y.g2.range,G2_avg:y.g2.avg})),p=d.data.map(y=>({iso:y.iso,levels:[y.r.avg,y.g1.avg,y.g2.avg,y.b.avg],clipping:y.clipping}));return{chartData:h,tableData:p}},[e.shootingModes,a]),l=`Raw Data (${a})`,c=j.useRef(null),f=j.useRef(null);return j.useEffect(()=>{const d=c.current,h=f.current;if(!d||!h)return;const p=new ResizeObserver(y=>{for(let v of y){const{width:x}=v.contentRect,g=Math.max(8,x/35);h.style.fontSize=`${g}px`}});return p.observe(d),()=>p.disconnect()},[]),u.jsxs("div",{ref:r,className:"bg-white dark:bg-slate-800/50 border border-gray-200 dark:border-slate-700 rounded-xl shadow-lg p-6 flex flex-col gap-6 transform hover:scale-[1.02] hover:border-cyan-500/50 transition-all duration-500 ease-in-out",children:[u.jsxs("div",{className:"border-b border-gray-200 dark:border-slate-700 pb-4",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-slate-100",children:e.name}),u.jsx("p",{className:"text-cyan-600 dark:text-cyan-400",children:e.manufacturer})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-slate-300",children:"Black Level vs. ISO"}),u.jsx("select",{value:a,onChange:d=>o(d.target.value),className:"w-full sm:w-auto bg-gray-50 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-md px-3 py-1 text-sm outline-none focus:ring-2 focus:ring-cyan-500 transition-all duration-300 text-gray-900 dark:text-slate-200","aria-label":`Select shooting mode for ${e.name}`,children:n.map(d=>u.jsx("option",{value:d,children:d},d))})]}),u.jsxs("div",{ref:c,className:"h-64 relative",children:[u.jsx(ZQ,{data:i,theme:t},a),u.jsx("div",{className:"absolute top-1/2 left-[52%] transform -translate-x-1/2 -translate-y-1/2 -rotate-30 pointer-events-none",children:u.jsx("p",{ref:f,className:"font-bold text-gray-900/10 dark:text-slate-200/40 whitespace-nowrap",children:" y-g-jiang.github.io"})})]})]}),u.jsxs("div",{className:"overflow-x-auto",children:[u.jsx("div",{className:"flex justify-between items-center mb-4",children:u.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-slate-300",children:l})}),u.jsxs("table",{className:"w-full text-left border-collapse",children:[u.jsx("thead",{className:"bg-gray-100 dark:bg-slate-700/50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"p-3 font-semibold text-sm text-gray-700 dark:text-slate-300",children:"ISO"}),u.jsx("th",{className:"p-3 font-semibold text-sm text-red-500 dark:text-red-400",children:"Red"}),u.jsx("th",{className:"p-3 font-semibold text-sm text-green-600 dark:text-green-400",children:"Green 1"}),u.jsx("th",{className:"p-3 font-semibold text-sm text-blue-500 dark:text-blue-400",children:"Blue"}),u.jsx("th",{className:"p-3 font-semibold text-sm text-green-500 dark:text-green-300",children:"Green 2"})]})}),u.jsx("tbody",{children:s.map(({iso:d,levels:h,clipping:p})=>u.jsxs("tr",{className:"border-b border-gray-200 dark:border-slate-700/50 last:border-b-0",children:[u.jsxs("td",{className:"p-3 font-mono text-gray-700 dark:text-slate-300 whitespace-nowrap",children:[d,p&&u.jsx("span",{className:"ml-3 text-xs font-semibold text-amber-600 dark:text-amber-400 bg-amber-100 dark:bg-amber-900/50 px-2 py-1 rounded-full align-middle",children:"Clipping"})]}),u.jsx("td",{className:"p-3 font-mono text-red-500 dark:text-red-400",children:h[0].toFixed(2)}),u.jsx("td",{className:"p-3 font-mono text-green-600 dark:text-green-400",children:h[1].toFixed(2)}),u.jsx("td",{className:"p-3 font-mono text-blue-500 dark:text-blue-400",children:h[3].toFixed(2)}),u.jsx("td",{className:"p-3 font-mono text-green-500 dark:text-green-300",children:h[2].toFixed(2)})]},d))})]})]})]})}),ye=(e,t,r)=>({avg:e,range:[t,r]}),P0=[{id:"sony-a7r2",name:"Sony ILCE-7RM2 (A7R II)",manufacturer:"Sony",shootingModes:[{modeName:"Still (Mechanical Shutter)",data:[{iso:100,r:ye(512.1,511.95,512.25),g1:ye(512.05,511.9,512.2),b:ye(512.12,511.98,512.28),g2:ye(512.06,511.92,512.22)},{iso:200,r:ye(512.15,512,512.3),g1:ye(512.1,511.95,512.25),b:ye(512.18,512.05,512.35),g2:ye(512.12,511.98,512.28)},{iso:400,r:ye(512.25,512.1,512.45),g1:ye(512.2,512.05,512.4),b:ye(512.3,512.15,512.5),g2:ye(512.22,512.08,512.42)},{iso:800,r:ye(512.5,512.2,512.8),g1:ye(512.45,512.15,512.75),b:ye(512.55,512.25,512.85),g2:ye(512.48,512.18,512.78)},{iso:1600,r:ye(513.1,512.8,513.4),g1:ye(513.05,512.75,513.35),b:ye(513.15,512.85,513.45),g2:ye(513.08,512.78,513.38)}]}]},{id:"sony-a7c",name:"Sony ILCE-7C",manufacturer:"Sony",shootingModes:[{modeName:"Still (Mechanical)",data:[{iso:100,r:ye(512.02,511.98,512.05),g1:ye(512.01,511.97,512.04),b:ye(512.03,511.99,512.06),g2:ye(512.01,511.97,512.04)},{iso:640,r:ye(512.15,512.05,512.25),g1:ye(512.12,512.02,512.22),b:ye(512.18,512.08,512.28),g2:ye(512.13,512.03,512.23)}]}]},{id:"canon-r5",name:"Canon EOS R5",manufacturer:"Canon",shootingModes:[{modeName:"Mechanical Shutter",data:[{iso:100,r:ye(512,511.8,512.2),g1:ye(512,511.8,512.2),b:ye(512,511.8,512.2),g2:ye(512,511.8,512.2)},{iso:400,r:ye(512,511.7,512.3),g1:ye(512,511.7,512.3),b:ye(512,511.7,512.3),g2:ye(512,511.7,512.3)},{iso:1600,r:ye(512.2,511.5,512.8),g1:ye(512.2,511.5,512.8),b:ye(512.2,511.5,512.8),g2:ye(512.2,511.5,512.8)}]}]},{id:"canon-r6",name:"Canon EOS R6",manufacturer:"Canon",shootingModes:[{modeName:"Mechanical Shutter",data:[{iso:100,r:ye(511.95,511.8,512.1),g1:ye(511.95,511.8,512.1),b:ye(511.95,511.8,512.1),g2:ye(511.95,511.8,512.1)},{iso:800,r:ye(512.1,511.9,512.3),g1:ye(512.1,511.9,512.3),b:ye(512.1,511.9,512.3),g2:ye(512.1,511.9,512.3)}]}]},{id:"nikon-z9",name:"Nikon Z9",manufacturer:"Nikon",shootingModes:[{modeName:"Electronic Shutter",data:[{iso:64,r:ye(400,399.9,400.1),g1:ye(400,399.9,400.1),b:ye(400,399.9,400.1),g2:ye(400,399.9,400.1)},{iso:100,r:ye(400,399.9,400.1),g1:ye(400,399.9,400.1),b:ye(400,399.9,400.1),g2:ye(400,399.9,400.1)}]}]},{id:"nikon-z6-2",name:"Nikon Z 6II",manufacturer:"Nikon",shootingModes:[{modeName:"Still (Lossless)",data:[{iso:100,r:ye(400.1,399.8,400.3),g1:ye(400.1,399.8,400.3),b:ye(400.1,399.8,400.3),g2:ye(400.1,399.8,400.3)},{iso:800,r:ye(400.3,399.5,401.1),g1:ye(400.3,399.5,401.1),b:ye(400.3,399.5,401.1),g2:ye(400.3,399.5,401.1)}]}]},{id:"fujifilm-xt4",name:"Fujifilm X-T4",manufacturer:"Fujifilm",shootingModes:[{modeName:"Still (RAF)",data:[{iso:160,r:ye(1024,1023.8,1024.2),g1:ye(1024,1023.8,1024.2),b:ye(1024,1023.8,1024.2),g2:ye(1024,1023.8,1024.2)},{iso:800,r:ye(1024.2,1023.5,1025),g1:ye(1024.2,1023.5,1025),b:ye(1024.2,1023.5,1025),g2:ye(1024.2,1023.5,1025)}]}]}],JQ=({isOpen:e,onClose:t,theme:r})=>{const[n,a]=j.useState(""),[o,i]=j.useState("All"),s=j.useMemo(()=>["All",...Array.from(new Set(P0.map(d=>d.manufacturer))).sort()],[]),l=j.useMemo(()=>P0.filter(f=>{const d=f.name.toLowerCase().includes(n.toLowerCase()),h=o==="All"||f.manufacturer===o;return d&&h}),[n,o]),c=f=>{const d=document.getElementById(`camera-${f}`);d&&d.scrollIntoView({behavior:"smooth"})};return e?u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-6xl h-[90vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700 overflow-hidden",onClick:f=>f.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:[u.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2",children:["Camera Black Level Database",u.jsxs("span",{className:"text-xs font-normal bg-cyan-100 dark:bg-cyan-900/30 text-cyan-600 dark:text-cyan-400 px-2 py-0.5 rounded border border-cyan-200 dark:border-cyan-800",children:[P0.length," Models"]})]}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-2 rounded-full hover:bg-gray-100 dark:hover:bg-slate-800",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700 bg-gray-50/50 dark:bg-slate-800/30",children:u.jsx(YQ,{searchTerm:n,onSearchChange:a,manufacturers:s,selectedManufacturer:o,onManufacturerChange:i,cameras:l,onCameraSelect:c})}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700 bg-gray-100 dark:bg-slate-950",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-2 gap-6",children:[l.map(f=>u.jsx("div",{id:`camera-${f.id}`,children:u.jsx(QQ,{camera:f,theme:r})},f.id)),l.length===0&&u.jsx("div",{className:"col-span-full flex flex-col items-center justify-center py-20 text-gray-400 dark:text-slate-600",children:u.jsx("p",{className:"text-lg",children:"No cameras found matching your criteria."})})]})})]})}):null},eJ=({isOpen:e,onClose:t,zIndex:r=150})=>{const[n,a]=j.useState(""),[o,i]=j.useState(""),[s,l]=j.useState(""),[c,f]=j.useState(""),[d,h]=j.useState(null),p=()=>{const y=parseFloat(n),v=parseFloat(o),x=parseFloat(s),m=parseFloat(c);if(isNaN(y)||isNaN(v)||isNaN(x)||isNaN(m)){h(null);return}const g=y,b=v,S=x*x,w=m*m,k=(g+b)/2;if(k<=1e-9){h(0);return}const _=S*w/k,O=Math.sqrt(_);h(O)};return e?u.jsxs(Lu,{initialPosition:{x:window.innerWidth/2-160,y:window.innerHeight/2-200},onClose:t,zIndex:r,className:"w-80 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 flex flex-col shadow-2xl",children:[u.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800",children:[u.jsx("h3",{className:"text-sm font-bold text-gray-700 dark:text-slate-200",children:"Cross-Compensation Calc"}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"p-4 flex flex-col gap-3 text-xs",children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"H Mean (Power/Var)"}),u.jsx("input",{type:"number",step:"any",value:n,onChange:y=>a(y.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"V Mean (Power/Var)"}),u.jsx("input",{type:"number",step:"any",value:o,onChange:y=>i(y.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"H RMS 0 (Sigma)"}),u.jsx("input",{type:"number",step:"any",value:s,onChange:y=>l(y.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"V RMS 0 (Sigma)"}),u.jsx("input",{type:"number",step:"any",value:c,onChange:y=>f(y.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),u.jsx("button",{onClick:p,className:"mt-2 w-full py-2 bg-indigo-600 hover:bg-indigo-500 text-white font-bold rounded shadow transition-colors active:scale-95",children:"Calculate Sigma"}),d!==null&&u.jsxs("div",{className:"mt-2 p-3 bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-200 dark:border-indigo-800 rounded text-center animate-in fade-in slide-in-from-top-1",children:[u.jsx("span",{className:"block text-[10px] uppercase font-bold text-gray-500 dark:text-slate-400 mb-1",children:"Original White Noise Sigma"}),u.jsx("span",{className:"text-lg font-mono font-bold text-indigo-700 dark:text-indigo-300 select-all",children:d.toFixed(5)})]})]})]}):null},Jm=[[.1725,.0838,.0576],[.5481,.2985,.217],[.1103,.1968,.3359],[.1038,.1502,.0521],[.2244,.2177,.4302],[.1232,.519,.4044],[.7168,.199,.0271],[.065,.1063,.3924],[.5417,.0884,.1203],[.1042,.0438,.1396],[.3547,.5078,.0482],[.7805,.3541,.0215],[.0234,.0492,.2916],[.0653,.3019,.0645],[.4294,.0319,.0402],[.8568,.5754,.0079],[.5032,.0889,.3055],[0,.249,.383],[.9163,.9155,.8705],[.5819,.5911,.5839],[.3552,.361,.359],[.1876,.1924,.1917],[.0871,.0901,.0908],[.0321,.0319,.0326]],tJ=[[3.2404542,-1.5371385,-.4985314],[-.969266,1.8760108,.041556],[.0556434,-.2040259,1.0572252]];function rJ(e,t,r,n,a,o,i=.5){const c=[],f=Math.max(.1,Math.min(.9,i)),d=Math.hypot(t.x-e.x,t.y-e.y),h=Math.hypot(n.x-r.x,n.y-r.y),p=Math.hypot(r.x-e.x,r.y-e.y),y=Math.hypot(n.x-t.x,n.y-t.y),v=(d+h)/2/5,x=(p+y)/2/3,m=v*f,g=x*f;for(let b=0;b<4;b++)for(let S=0;S<6;S++){const w=S/5,k=b/3,_=(1-w)*(1-k)*e.x+w*(1-k)*t.x+(1-w)*k*r.x+w*k*n.x,O=(1-w)*(1-k)*e.y+w*(1-k)*t.y+(1-w)*k*r.y+w*k*n.y;c.push({x:_-m/2,y:O-g/2,w:m,h:g})}return c}function uP(e){e.length;const t=e[0].length;return Array(t).fill(0).map((r,n)=>e.map(a=>a[n]))}function If(e,t){const r=e.length,n=e[0].length,a=t.length,o=t[0].length;if(n!==a)throw new Error("Matrix dimensions mismatch");const i=Array(r).fill(0).map(()=>Array(o).fill(0));for(let s=0;s<r;s++)for(let l=0;l<o;l++)for(let c=0;c<n;c++)i[s][l]+=e[s][c]*t[c][l];return i}function nJ(e,t){const r=uP(e),n=If(r,e);for(let c=0;c<3;c++)n[c][c]+=1e-9;const a=[[n[0][0],n[0][1],n[0][2]],[n[1][0],n[1][1],n[1][2]],[n[2][0],n[2][1],n[2][2]]],o=cP(a);if(!o)throw new Error("Singular Matrix (Check Input Data)");const i=[[o[0][0],o[0][1],o[0][2]],[o[1][0],o[1][1],o[1][2]],[o[2][0],o[2][1],o[2][2]]],s=If(r,t);return If(i,s)}function aJ(e){const t=e.length,r=e.map((n,a)=>[...n,...Array(t).fill(0).map((o,i)=>a===i?1:0)]);for(let n=0;n<t;n++){let a=n;for(let s=n+1;s<t;s++)Math.abs(r[s][n])>Math.abs(r[a][n])&&(a=s);const o=r[n];r[n]=r[a],r[a]=o;const i=r[n][n];if(Math.abs(i)<1e-12)throw new Error("Singular Matrix");for(let s=n;s<2*t;s++)r[n][s]/=i;for(let s=0;s<t;s++)if(s!==n){const l=r[s][n];for(let c=n;c<2*t;c++)r[s][c]-=l*r[n][c]}}return r.map(n=>n.slice(t))}function oJ(e,t,r){const n=[...e].sort((v,x)=>v.id-x.id);if(n.length!==24)throw new Error("Requires exactly 24 patches");const a=[];n.forEach(v=>{const x=v.rawMeans,m=[x[0]-t[0],x[1]-t[1],x[2]-t[2],x[3]-t[3]];let g,b,S;r?(S=m[0],b=(m[1]+m[2])/2,g=m[3]):(g=m[0],b=(m[1]+m[2])/2,S=m[3]),g=Math.max(0,g),b=Math.max(0,b),S=Math.max(0,S),a.push([g,b,S])});const i=a[18],s=(i[0]+i[1]+i[2])/3,l=1/Math.max(1e-9,s),c=a.map(v=>[v[0]*l,v[1]*l,v[2]*l]),d=nJ(c,Jm),h=uP(d);let p;try{p=aJ(h)}catch{throw new Error("CCM Inversion Failed. Input data might be too dark or clipped.")}return{matrix:If(p,tJ)}}const iJ=({isOpen:e,onClose:t,patchStats:r,initialIsBGGR:n,zIndex:a=200,sizeRatio:o,onSizeChange:i})=>{const[s,l]=j.useState(n),[c,f]=j.useState(["0","0","0","0"]),[d,h]=j.useState(null),[p,y]=j.useState(null);if(j.useEffect(()=>{if(e&&r&&r.length===24){const k=r[23].rawMeans;c[0]==="0"&&c[1]==="0"&&f([k[0].toFixed(2),k[1].toFixed(2),k[2].toFixed(2),k[3].toFixed(2)])}},[e,r]),j.useEffect(()=>{if(!e||!r||r.length!==24)return;const w=c.map(k=>parseFloat(k));if(!w.some(isNaN))try{const k=oJ(r,w,s);h(k),y(null)}catch(k){y(k.message)}},[e,r,s,c]),!e)return null;const v=(w,k)=>{f(_=>{const O=[..._];return O[w]=k,O})},x=w=>{navigator.clipboard.writeText(w)},m=w=>w?w.map(k=>k.map(_=>_.toFixed(4))):[],g=d?m(d.matrix).flat().join(" "):"",b=s?["B","G1","G2","R"]:["R","G1","G2","B"],S=s?["text-blue-500","text-green-500","text-green-500","text-red-500"]:["text-red-500","text-green-500","text-green-500","text-blue-500"];return u.jsxs(Lu,{initialPosition:{x:window.innerWidth/2-200,y:100},onClose:t,zIndex:a,className:"w-[500px] bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 flex flex-col shadow-2xl rounded-xl overflow-hidden",children:[u.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800",children:[u.jsxs("h3",{className:"text-sm font-bold text-gray-800 dark:text-slate-100 flex items-center gap-2",children:[u.jsx("span",{className:"w-2 h-2 rounded-full bg-yellow-500"}),"Color Lab Result"]}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"p-5 flex flex-col gap-5",children:[u.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700",children:[u.jsxs("div",{className:"flex justify-between items-center mb-1",children:[u.jsx("span",{className:"text-[10px] font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Patch Sampling Size"}),u.jsxs("span",{className:"text-xs font-mono font-bold text-cyan-600 dark:text-cyan-400",children:[Math.round(o*100),"%"]})]}),u.jsx("input",{type:"range",min:"0.1",max:"0.9",step:"0.05",value:o,onChange:w=>i(parseFloat(w.target.value)),className:"w-full h-1.5 bg-gray-300 dark:bg-slate-600 rounded-lg appearance-none cursor-pointer accent-cyan-500"})]}),u.jsx("div",{className:"flex justify-center",children:u.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-800 p-1 rounded-lg border border-gray-200 dark:border-slate-700",children:[u.jsx("button",{onClick:()=>l(!1),className:`px-4 py-1.5 text-xs font-bold rounded transition-all ${s?"text-gray-500 dark:text-slate-400 hover:text-gray-700":"bg-white dark:bg-slate-600 text-indigo-600 dark:text-indigo-300 shadow-sm"}`,children:"RGGB Mode"}),u.jsx("button",{onClick:()=>l(!0),className:`px-4 py-1.5 text-xs font-bold rounded transition-all ${s?"bg-white dark:bg-slate-600 text-indigo-600 dark:text-indigo-300 shadow-sm":"text-gray-500 dark:text-slate-400 hover:text-gray-700"}`,children:"BGGR Mode"})]})}),u.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800/50 p-3 rounded-lg border border-gray-100 dark:border-slate-700",children:[u.jsx("h4",{className:"text-[10px] font-bold text-gray-400 dark:text-slate-500 uppercase mb-2",children:"Input Black Levels ()"}),u.jsx("div",{className:"grid grid-cols-4 gap-2",children:[0,1,2,3].map(w=>u.jsxs("div",{className:"flex flex-col",children:[u.jsx("label",{className:`text-[10px] font-bold mb-1 ${S[w]}`,children:b[w]}),u.jsx("input",{type:"number",step:"0.01",value:c[w],onChange:k=>v(w,k.target.value),className:"w-full px-2 py-1 text-sm font-mono border border-gray-300 dark:border-slate-600 rounded bg-white dark:bg-slate-900 text-gray-900 dark:text-slate-100 outline-none focus:ring-1 focus:ring-yellow-500"})]},w))})]}),p?u.jsx("div",{className:"text-red-500 text-sm text-center bg-red-50 dark:bg-red-900/20 p-2 rounded",children:p}):d?u.jsx(u.Fragment,{children:u.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800/50 p-3 rounded-lg border border-gray-100 dark:border-slate-700",children:[u.jsx("h4",{className:"text-[10px] font-bold text-gray-400 dark:text-slate-500 uppercase mb-2",children:"Calculated Color Matrix (XYZ  Camera RGB)"}),u.jsx("div",{className:"font-mono text-xs text-gray-700 dark:text-slate-300 grid grid-rows-3 gap-1 mb-3",children:m(d.matrix).map((w,k)=>u.jsxs("div",{className:"flex justify-between bg-white dark:bg-slate-900 px-2 py-1 rounded",children:[u.jsx("span",{className:"text-red-500/80 w-1/3 text-right",children:w[0]}),u.jsx("span",{className:"text-green-500/80 w-1/3 text-right",children:w[1]}),u.jsx("span",{className:"text-blue-500/80 w-1/3 text-right",children:w[2]})]},k))}),u.jsx("button",{onClick:()=>x(g),className:"w-full py-1.5 bg-indigo-600 hover:bg-indigo-500 text-white text-xs font-bold rounded shadow transition-transform active:scale-95 flex items-center justify-center gap-2",children:"Copy Matrix String (for customMatrix)"})]})}):u.jsx("div",{className:"text-gray-400 text-sm text-center",children:"Calculating..."})]})]})};function sJ(e,t,r,n=3){const o=r.byteLength,i=8,s=i+o,l=[{id:256,type:4,count:1,value:e},{id:257,type:4,count:1,value:t},{id:258,type:3,count:n,value:n===1?16:[16,16,16]},{id:259,type:3,count:1,value:1},{id:262,type:3,count:1,value:n===1?1:2},{id:273,type:4,count:1,value:i},{id:277,type:3,count:1,value:n},{id:278,type:4,count:1,value:t},{id:279,type:4,count:1,value:o}],c=2+l.length*12+4;let f=0;const d=l.map(g=>{let b=g.type===3?2:4;const S=g.count*b,w=S<=4;let k=0;return w||(k=f,f+=S),{...g,fits:w,totalBytes:S,extraOffset:k}}),h=s+c+f,p=new ArrayBuffer(h),y=new DataView(p),v=new Uint8Array(p);y.setUint16(0,18761,!0),y.setUint16(2,42,!0),y.setUint32(4,s,!0),v.set(new Uint8Array(r.buffer,r.byteOffset,r.byteLength),i);let x=s;y.setUint16(x,l.length,!0),x+=2;const m=s+c;return d.forEach(g=>{if(y.setUint16(x,g.id,!0),y.setUint16(x+2,g.type,!0),y.setUint32(x+4,g.count,!0),g.fits)Array.isArray(g.value)||(g.type===3?y.setUint16(x+8,g.value,!0):y.setUint32(x+8,g.value,!0));else{const b=m+g.extraOffset;y.setUint32(x+8,b,!0),Array.isArray(g.value)&&g.value.forEach((S,w)=>{y.setUint16(b+w*2,S,!0)})}x+=12}),y.setUint32(x,0,!0),p}const lJ="http://localhost:5428",cJ=(e=!1)=>{const[t,r]=j.useState({isConnected:!1,message:"Initializing...",hasDngConverter:!1});return j.useEffect(()=>{if(e){r({isConnected:!1,message:"Bridge Paused",hasDngConverter:!1});return}const n=async()=>{try{const o=new AbortController,i=setTimeout(()=>o.abort(),1e3),s=await fetch(`${lJ}/health`,{method:"GET",signal:o.signal});if(clearTimeout(i),s.ok){const l=await s.json(),c=`Connected (${l.exiftool||"Ready"})`;r(f=>f.isConnected===!0&&f.message===c&&f.version===l.exiftool&&f.hasDngConverter===!!l.dng_converter?f:{isConnected:!0,message:c,version:l.exiftool,hasDngConverter:!!l.dng_converter})}else r(l=>l.isConnected===!1&&l.message==="Service Error"?l:{isConnected:!1,message:"Service Error",hasDngConverter:!1})}catch{r(i=>i.isConnected===!1&&i.message==="Not Detected"?i:{isConnected:!1,message:"Not Detected",hasDngConverter:!1})}};n();const a=setInterval(n,2e3);return()=>clearInterval(a)},[e]),t},uJ="JTR_BlobStore",Ya="raw_files",fJ=1,yp=()=>new Promise((e,t)=>{const r=indexedDB.open(uJ,fJ);r.onupgradeneeded=n=>{const a=n.target.result;a.objectStoreNames.contains(Ya)||a.createObjectStore(Ya)},r.onsuccess=()=>e(r.result),r.onerror=()=>t(r.error)}),hk=async(e,t)=>{const r=await yp();return new Promise((n,a)=>{const o=r.transaction(Ya,"readwrite");o.objectStore(Ya).put(t,e),o.oncomplete=()=>n(),o.onerror=()=>a(o.error)})},dJ=async e=>{const t=await yp();return new Promise((r,n)=>{const i=t.transaction(Ya,"readonly").objectStore(Ya).get(e);i.onsuccess=()=>r(i.result),i.onerror=()=>n(i.error)})},hJ=async()=>{const e=await yp();return new Promise((t,r)=>{const n=e.transaction(Ya,"readwrite");n.objectStore(Ya).clear(),n.oncomplete=()=>t(),n.onerror=()=>r(n.error)})},fP="jtr_workspace_index",pJ=e=>{try{const t=JSON.stringify(e);localStorage.setItem(fP,t)}catch(t){console.error("Failed to save workspace index",t)}},gJ=()=>{try{const e=localStorage.getItem(fP);return e?JSON.parse(e):null}catch(e){return console.error("Failed to load workspace index",e),null}},mJ=async e=>{const n=(await yp()).transaction(Ya,"readwrite").objectStore(Ya),a=n.getAllKeys();a.onsuccess=()=>{a.result.forEach(i=>{e.includes(i)||n.delete(i)})}},un=1024,pk=(e,t,r)=>{const n=e.width,a=e.height,o=new ImageData(t,r),i=e.data,s=o.data,l=n/t,c=a/r;for(let f=0;f<r;f++){const d=Math.floor(f*c),h=f*t*4,p=d*n*4;for(let y=0;y<t;y++){const x=Math.floor(y*l)*4,m=h+y*4,g=p+x;s[m]=i[g],s[m+1]=i[g+1],s[m+2]=i[g+2],s[m+3]=i[g+3]}}return o},yJ=({stats:e,onClose:t,onMinimize:r,isBGGR:n,onToggleBGGR:a,onOpenWindow:o,displaySettings:i,zIndex:s,onFocus:l})=>{if(!e)return null;const c=!!i.showKadc&&!!i.blackLevel,f=i.blackLevel||[0,0,0,0],d=!!i.subtractBlackLevelFromStats&&!!i.blackLevel,h=(x,m,g)=>{if(!c)return null;const b=m*m;return b<=1e-4?0:(x-g)/b},p=(x,m)=>d?x-f[m]:x,y=()=>{if(!d){alert(`Sub. BL
Please enable 'Sub. BL' in Tools sidebar first.`);return}let x,m,g,b;n?(b=0,m=1,g=2,x=3):(x=0,m=1,g=2,b=3);const S=k=>e.means[k]-f[k],w=k=>e.stdDevs[k];localStorage.setItem("import_signal_r",S(x).toString()),localStorage.setItem("import_signal_g1",S(m).toString()),localStorage.setItem("import_signal_g2",S(g).toString()),localStorage.setItem("import_signal_b",S(b).toString()),localStorage.setItem("import_sigma_r",w(x).toString()),localStorage.setItem("import_sigma_g1",w(m).toString()),localStorage.setItem("import_sigma_g2",w(g).toString()),localStorage.setItem("import_sigma_b",w(b).toString()),window.open("https://y-g-jiang.github.io/XJZS.html","_blank")},v=n?[{name:"B",desc:"(0,0)",mean:p(e.means[0],0),std:e.stdDevs[0],color:"text-blue-500",k:h(e.means[0],e.stdDevs[0],f[0])},{name:"G1",desc:"(0,1)",mean:p(e.means[1],1),std:e.stdDevs[1],color:"text-green-500",k:h(e.means[1],e.stdDevs[1],f[1])},{name:"G2",desc:"(1,0)",mean:p(e.means[2],2),std:e.stdDevs[2],color:"text-green-500",k:h(e.means[2],e.stdDevs[2],f[2])},{name:"R",desc:"(1,1)",mean:p(e.means[3],3),std:e.stdDevs[3],color:"text-red-500",k:h(e.means[3],e.stdDevs[3],f[3])}]:[{name:"R",desc:"(0,0)",mean:p(e.means[0],0),std:e.stdDevs[0],color:"text-red-500",k:h(e.means[0],e.stdDevs[0],f[0])},{name:"G1",desc:"(0,1)",mean:p(e.means[1],1),std:e.stdDevs[1],color:"text-green-500",k:h(e.means[1],e.stdDevs[1],f[1])},{name:"G2",desc:"(1,0)",mean:p(e.means[2],2),std:e.stdDevs[2],color:"text-green-500",k:h(e.means[2],e.stdDevs[2],f[2])},{name:"B",desc:"(1,1)",mean:p(e.means[3],3),std:e.stdDevs[3],color:"text-blue-500",k:h(e.means[3],e.stdDevs[3],f[3])}];return u.jsxs(Lu,{className:`${c?"w-80":"w-60"} p-0 overflow-hidden transition-all duration-300 bg-white dark:bg-black border-2 border-black dark:border-white shadow-[4px_4px_0px_rgba(0,0,0,0.5)] dark:shadow-[4px_4px_0px_rgba(255,255,255,0.2)]`,onClose:t,zIndex:s,onFocus:l,initialPosition:{x:20,y:80},children:[u.jsxs("div",{className:"flex justify-between items-center px-3 py-2 border-b border-gray-100 dark:border-slate-800 bg-gray-50/50 dark:bg-slate-800/50 select-none",children:[u.jsxs("h3",{className:"text-xs font-bold text-gray-700 dark:text-slate-300 uppercase tracking-wider flex items-center gap-2",children:["ROI Analysis",u.jsxs("span",{className:"text-[10px] font-normal text-gray-400 bg-gray-200 dark:bg-slate-700 px-1.5 py-0.5 rounded",children:[Math.round(e.width),"",Math.round(e.height)]})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 transition-colors p-1 rounded-md hover:bg-gray-200 dark:hover:bg-slate-700 relative z-20",children:u.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 transition-colors p-1 rounded-md hover:bg-gray-200 dark:hover:bg-slate-700 relative z-20",children:u.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsxs("div",{className:"p-3",children:[u.jsxs("div",{className:"flex justify-between items-center mb-3",children:[u.jsxs("div",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono leading-tight",children:["X: ",Math.round(e.x),u.jsx("br",{}),"Y: ",Math.round(e.y)]}),u.jsx("button",{onClick:()=>a(!n),className:"text-[10px] font-bold px-2 py-1 rounded bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 text-gray-600 dark:text-slate-300 transition-colors border border-gray-200 dark:border-slate-700 relative z-20",title:"Toggle Bayer Pattern Interpretation",children:n?"BGGR":"RGGB"})]}),u.jsxs("table",{className:"w-full mb-3",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-[10px] text-gray-400 dark:text-slate-500 border-b border-gray-100 dark:border-slate-800",children:[u.jsx("th",{className:"text-left pb-1 font-medium",children:"Ch"}),u.jsxs("th",{className:"text-right pb-1 font-medium",children:["Mean",d?"*":""]}),u.jsx("th",{className:"text-right pb-1 font-medium",children:"Std()"}),c&&u.jsx("th",{className:"text-right pb-1 font-medium text-cyan-600 dark:text-cyan-400",children:"K(e/ADU)"})]})}),u.jsx("tbody",{className:"font-mono text-xs",children:v.map((x,m)=>u.jsxs("tr",{className:"group hover:bg-gray-50 dark:hover:bg-slate-800/30 transition-colors",children:[u.jsxs("td",{className:"py-1",children:[u.jsx("span",{className:`font-bold ${x.color}`,children:x.name}),u.jsx("span",{className:"text-[9px] text-gray-300 dark:text-slate-600 ml-1 hidden group-hover:inline",children:x.desc})]}),u.jsx("td",{className:"py-1 text-right text-gray-700 dark:text-slate-200 font-semibold",title:d?"Mean minus Black Level":"Raw Mean",children:x.mean.toFixed(2)}),u.jsx("td",{className:"py-1 text-right text-gray-500 dark:text-slate-400",children:x.std.toFixed(2)}),c&&u.jsx("td",{className:"py-1 text-right text-cyan-600 dark:text-cyan-400 font-bold",children:x.k!==null?x.k.toFixed(3):"-"})]},m))})]}),d&&u.jsx("div",{className:"mb-2 text-[9px] text-gray-400 dark:text-slate-500 text-right italic",children:"* Mean adjusted by Black Level"}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx("button",{onClick:()=>o("histogram"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-cyan-600 hover:bg-cyan-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Histogram",children:"Hist"}),u.jsx("button",{onClick:()=>o("quant"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-teal-600 hover:bg-teal-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Quantization Steps",children:"Quant"}),u.jsx("button",{onClick:()=>o("fft"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-purple-600 hover:bg-purple-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Power Spectrum (FFT)",children:"FFT"}),u.jsx("button",{onClick:()=>o("pearson"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-indigo-600 hover:bg-indigo-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"Pearson Correlation Analysis",children:"PCC"}),u.jsx("button",{onClick:y,className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-pink-600 hover:bg-pink-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"Color Noise Analysis (External Tool)",children:"ColorN"})]})]})]})},vJ=()=>{var ax;const[e,t]=j.useState(!0),[r,n]=j.useState("Initializing..."),a=j.useRef(!1),[o,i]=j.useState("dark");j.useEffect(()=>{const U=window.document.documentElement;U.classList.remove(o==="dark"?"light":"dark"),U.classList.add(o)},[o]);const[s,l]=j.useState(!1),[c,f]=j.useState(!1),[d,h]=j.useState(!1),p=cJ(s||c||d),[y,v]=j.useState(!1),[x,m]=j.useState([]),[g,b]=j.useState(-1),[S,w]=j.useState([]),k=j.useMemo(()=>x[g],[x,g]),_=j.useRef(null);j.useEffect(()=>{_.current=k||null},[k]);const O=(k==null?void 0:k.file)||null,N=(k==null?void 0:k.imageElement)||null,P=(k==null?void 0:k.rawImageData)||null,M=(k==null?void 0:k.rawFileBuffer)||null,C=(k==null?void 0:k.renderedRawImageData)||null,$=(k==null?void 0:k.referenceImageData)||null,z=(k==null?void 0:k.sampledImageData)||null,E=(k==null?void 0:k.exifData)||null,G=(k==null?void 0:k.isThreePlane)||!1;k!=null&&k.xtransPhase;const A=(k==null?void 0:k.displaySettings)||{exposure:0,demosaicMethod:3,blackLevel:void 0,wbGains:[1,1],showKadc:!0,subtractBlackLevelFromStats:!0},[I,B]=j.useState(!1),[W,J]=j.useState(null),[q,V]=j.useState(!1),[ie,te]=j.useState(!1),[T,oe]=j.useState(null),[ue,K]=j.useState([]),[le,ne]=j.useState(100),[F,ge]=j.useState(!0),[he,Se]=j.useState(!1),[Ge,Ie]=j.useState(null),[ht,pt]=j.useState(!1),[De,He]=j.useState(!1),[bt,Rt]=j.useState(!1),[Gt,_r]=j.useState(!1),[Or,cr]=j.useState(!1),[ur,Ir]=j.useState(!1),[Jt,Nr]=j.useState(!1),[ot,Ve]=j.useState(!1),[gt,Ht]=j.useState({x:0,y:0}),[Pr,Vr]=j.useState(!1),[nr,Pt]=j.useState(!1),[At,it]=j.useState([]),[ar,xr]=j.useState(0),[Fn,ya]=j.useState(null),[zn,Pn]=j.useState(!1),[An,Br]=j.useState([]),[mn,va]=j.useState(.5),[an,er]=j.useState(!1),[Vt,Lt]=j.useState(2),[ae,Oe]=j.useState(1),[Re,Je]=j.useState([]),[Ke,Ot]=j.useState(null),[mt,It]=j.useState(0),[Ee,Ye]=j.useState([]),[yt,ct]=j.useState([]),[Xt,ve]=j.useState(64),[Xr,So]=j.useState(10),[X,je]=j.useState(10),[Bt,Kr]=j.useState(4),[Mt,Yr]=j.useState(1),[fr,Qn]=j.useState(0),[jo,Jn]=j.useState("processed"),[xa,qr]=j.useState(!1),Mn=j.useMemo(()=>A.blackLevel?A.blackLevel:P!=null&&P.blackLevels?[P.blackLevels[0],P.blackLevels[1],P.blackLevels[2],P.blackLevels[3]]:[0,0,0,0],[A.blackLevel,P]),Nl=(E==null?void 0:E.ImageHeight)||(E==null?void 0:E.ExifImageHeight)||(P==null?void 0:P.height)||0,[Pl,Ct]=j.useState(null),[_o,qe]=j.useState(null),[Al,Oo]=j.useState({x:0,y:0}),[Ml,Ji]=j.useState(1),[Iu,L]=j.useState("pan"),Z=j.useRef(null),ee=j.useRef(null),R=j.useCallback(async()=>{if(!M||!k)return;Rt(!1);const U=Gt,H=Or;qe(`Rendering 16-bit TIFF (${U?"Stretched":"Native DN"} | ${H?"sRGB":"Linear"})...`);try{const Y=await RQ(M.slice(0),A,U,H),re=sJ(Y.width,Y.height,Y.data,Y.channels),me=new Blob([re],{type:"image/tiff"}),pe=URL.createObjectURL(me),Ae=document.createElement("a"),Ne=k.fileName||"rendered",Ce=Ne.substring(0,Ne.lastIndexOf("."))||Ne,ke=[U?"stretch":"native",H?"srgb":"linear"].join("_");Ae.href=pe,Ae.download=`${Ce}_${ke}.tif`,document.body.appendChild(Ae),Ae.click(),document.body.removeChild(Ae),URL.revokeObjectURL(pe)}catch(Y){Ct("TIFF Export Failed: "+Y.message)}finally{qe(null)}},[M,k,A,Gt,Or]),de=j.useCallback(()=>{!M||!k||Rt(!0)},[M,k]);j.useEffect(()=>{const U=H=>{(H.ctrlKey||H.metaKey)&&H.key.toLowerCase()==="s"&&(H.preventDefault(),de())};return window.addEventListener("keydown",U),()=>window.removeEventListener("keydown",U)},[de]),j.useEffect(()=>{(async()=>{if(a.current)return;const H=gJ();if(H&&(n("Restoring layout..."),i(H.theme),ge(H.sidebarOpen),H.sessions.length>0)){n(`Restoring ${H.sessions.length} images...`);const Y=[];for(const re of H.sessions){if(a.current){console.log("Restoration cancelled.");return}await new Promise(me=>setTimeout(me,50));try{const me=await dJ(re.id);if(me){const pe={id:re.id,fileName:re.fileName,file:null,imageElement:null,rawImageData:null,rawFileBuffer:me,renderedRawImageData:null,referenceImageData:null,sampledImageData:null,exifData:null,isThreePlane:re.isThreePlane,displaySettings:re.displaySettings,originalRawFileBuffer:null,isXTransOriginal:!1,isXTransConverted:!1,xtransPhase:{x:0,y:0}},{previewBlob:Ae,analysisData:Ne}=await hi(me);let Ce=null;Ne&&(Ce=await uk(me,re.displaySettings));const ke=URL.createObjectURL(Ae),Te=new Image;Te.src=ke,await new Promise(tt=>{Te.onload=()=>tt()}),Y.push({...pe,rawImageData:Ne,renderedRawImageData:Ce,previewUrl:ke,imageElement:Te,exifData:Ne.metadata})}}catch(me){console.error(`Failed to restore session ${re.id}`,me)}}if(a.current)return;if(m(Y),H.activeSessionId){const re=Y.findIndex(me=>me.id===H.activeSessionId);re>=0?b(re):Y.length>0&&b(0)}K(H.windows)}a.current||t(!1)})()},[]);const _e=j.useRef(null),Me=j.useCallback(()=>{e||(_e.current&&clearTimeout(_e.current),_e.current=window.setTimeout(async()=>{var Y;const U={version:1,timestamp:Date.now(),activeSessionId:((Y=x[g])==null?void 0:Y.id)||null,theme:o,sidebarOpen:F,sessions:x.map(re=>({id:re.id,fileName:re.fileName,fileType:re.file?re.file.type:"application/octet-stream",fileSize:re.rawFileBuffer?re.rawFileBuffer.byteLength:0,displaySettings:re.displaySettings,isThreePlane:re.isThreePlane})),windows:ue.map(re=>({id:re.id,type:re.type,roi:re.roi,zIndex:re.zIndex,initialPosition:re.initialPosition,sessionId:re.sessionId,isBGGR:re.isBGGR,isMinimized:re.isMinimized||!1,internalState:re.internalState}))};pJ(U);const H=x.map(re=>re.id);mJ(H)},1e3))},[x,ue,g,o,F,e]);j.useEffect(()=>{Me()},[Me]);const Ze=j.useCallback(async()=>{a.current=!0,n("Cleaning up..."),localStorage.removeItem("jtr_workspace_index");try{await hJ()}catch(U){console.error("Failed to clear DB",U)}window.location.reload()},[]),Le=j.useCallback(U=>{m(H=>H.map((Y,re)=>re===g?{...Y,...U}:Y))},[g]),Ue=()=>b(U=>Math.min(U+1,x.length-1)),Et=()=>b(U=>Math.max(0,U-1));j.useEffect(()=>{if(P&&W){const U=pi(P.data,P.width,P.height,W.x,W.y,W.width,W.height);J(U)}},[P]);const ut=U=>{if(!W||!k)return;const H=Date.now().toString()+Math.random().toString().slice(2,5),Y=Math.max(le,...ue.map(pe=>pe.zIndex),100),re=ue.length%10*30,me=U==="fft"?{x:50,y:50}:U==="histogram"?{x:100,y:100}:{x:150,y:150};K(pe=>[...pe,{id:H,type:U,roi:{x:W.x,y:W.y,w:W.width,h:W.height},zIndex:Y+1,initialPosition:{x:me.x+re,y:me.y+re},sessionId:k.id,isBGGR:q,isMinimized:!1,stackFiles:(U==="fft"||U==="pearson")&&S.length>0?S:void 0}])},Tt=U=>{K(H=>H.filter(Y=>Y.id!==U))},dr=U=>{K(H=>H.map(Y=>Y.id===U?{...Y,isMinimized:!0}:Y))},ce=U=>{K(H=>H.map(Y=>Y.id===U?{...Y,isMinimized:!1}:Y)),Xe(U)},Xe=U=>{K(H=>{const Y=Math.max(le,...H.map(re=>re.zIndex));return H.map(re=>re.id===U?{...re,zIndex:Y+1}:re)})},Pe=(U,H)=>{K(Y=>Y.map(re=>re.id===U?{...re,internalState:{...re.internalState,...H}}:re))},Ft=()=>{const U=Math.max(le,...ue.map(H=>H.zIndex));ne(U+1)},wt=(U,H)=>{K(Y=>Y.map(re=>re.id===U?{...re,roi:H}:re))};j.useEffect(()=>{if(!E)return;const U=E.CFAPattern2||E.CFAPattern;if(U){let H="";Array.isArray(U)?H=U.join(""):typeof U=="string"?H=U.replace(/[\s,]+/g,""):typeof U=="number"&&(H=String(U)),H==="0112"?V(!1):H==="2110"&&V(!0)}},[E]),j.useEffect(()=>{let U;const H=()=>{if(an&&ot){const Y=Date.now()/1e3,re=.55+.45*Math.sin(Y*Vt);Oe(re),U=requestAnimationFrame(H)}else Oe(1)};return an&&ot?H():Oe(1),()=>{U&&cancelAnimationFrame(U)}},[an,ot,Vt]),j.useEffect(()=>{const U=H=>{H.key==="Escape"&&ot&&(Ve(!1),Ht({x:0,y:0}),er(!1))};return window.addEventListener("keydown",U),()=>window.removeEventListener("keydown",U)},[ot]),j.useEffect(()=>()=>{x.forEach(U=>{U.previewUrl&&URL.revokeObjectURL(U.previewUrl)}),ee.current&&ee.current.terminate()},[]);const Ar=async(U,H=!0)=>{H&&(Oo({x:0,y:0}),Ji(1),It(0),Ye([]),ct([]),Se(!1),Ie(null),B(!1),Pt(!1),it([]),Br([]),xr(0));let Y=null;if(p.isConnected){const Ne=new FormData;Ne.append("file",U);try{const ke=await(await fetch("http://localhost:5428/read",{method:"POST",body:Ne})).json();if(ke.success){let Te=ke.data;Array.isArray(Te)&&Te.length===1&&(Te=Te[0]),Y=Te}}catch(Ce){console.warn("Auto Exif fetch failed",Ce)}}const re=U.name.toLowerCase().match(/\.(arw|cr2|cr3|dng|nef|orf|raf|rw2|pef|srw|sr2|srf|x3f|erf|mef|mos|mrw|kdc|dcr|iiq|3fr|fff|rwl|nrw|raw|tif|tiff)$/);if(!(["image/jpeg","image/png","image/tiff","image/x-adobe-dng"].includes(U.type)||re)){Ct("Unsupported file type. Please load a JPG, PNG, or a supported RAW file.");return}let pe={file:U,exifData:Y};if(re||U.type==="image/x-adobe-dng")try{H?qe("Processing RAW file (this may take a moment)..."):qr(!0);const Ne=await U.arrayBuffer();pe.rawFileBuffer=Ne;const{previewBlob:Ce,analysisData:ke}=await hi(Ne);pe.rawImageData=ke,pe.isThreePlane=ke.isThreePlane||!1,ke.isThreePlane&&H&&B(!0);let Te=!1,tt=null,kt=!1;if(ke.isXTrans){kt=!0,tt=Ne;const on=(await jf(Ne,0,0)).dngBuffer,gr=await hi(on);pe.rawFileBuffer=on,pe.rawImageData=gr.analysisData,pe.previewUrl=URL.createObjectURL(gr.previewBlob),Te=!0}else pe.previewUrl=URL.createObjectURL(Ce);pe.originalRawFileBuffer=tt,pe.isXTransOriginal=kt,pe.isXTransConverted=Te,pe.xtransPhase={x:0,y:0};const zt=new Image;zt.src=pe.previewUrl||"",await new Promise((Fr,on)=>{zt.onload=()=>{pe.imageElement=zt,Fr()},zt.onerror=()=>{Fr()}})}catch(Ne){Ct(`Failed to process RAW file: ${Ne.message}`),qe(null),qr(!1);return}else try{qe("Processing image...");const{previewBlob:Ne,analysisData:Ce}=await AQ(U);pe.rawImageData=Ce,pe.rawFileBuffer=await U.arrayBuffer(),pe.isThreePlane=Ce.isThreePlane||!1,pe.isXTransOriginal=!1,pe.isXTransConverted=!1,pe.originalRawFileBuffer=null;const ke=URL.createObjectURL(Ne);pe.previewUrl=ke;const Te=new Image;Te.src=ke,await new Promise(tt=>{Te.onload=()=>{pe.imageElement=Te,tt()},Te.onerror=()=>{Ct("Could not load the image file."),tt()}})}catch(Ne){Ct(`Failed to process image: ${Ne.message}`),qe(null);return}const Ae=Date.now().toString()+Math.random();if(pe.rawFileBuffer&&await hk(Ae,pe.rawFileBuffer),H){const Ne={exposure:0,demosaicMethod:3,blackLevel:void 0,wbGains:[1,1],showKadc:!0,subtractBlackLevelFromStats:!0},Ce={id:Ae,fileName:U.name,file:U,imageElement:null,rawImageData:null,rawFileBuffer:null,renderedRawImageData:null,referenceImageData:null,sampledImageData:null,exifData:null,isThreePlane:!1,displaySettings:Ne,originalRawFileBuffer:null,isXTransOriginal:!1,isXTransConverted:!1,xtransPhase:{x:0,y:0},...pe};m(ke=>{const Te=[...ke,Ce];return b(Te.length-1),Te})}else Le(pe);qe(null),qr(!1)},ft=async U=>{qe("Converting to DNG...");try{const H=new FormData;H.append("file",U);const Y=await fetch("http://localhost:5428/convert_dng",{method:"POST",body:H}),re=Y.headers.get("content-type")||"";if(Y.ok)if(re.includes("application/json")){const me=await Y.json();throw new Error(me.error||"Conversion failed")}else{const me=await Y.blob(),pe=URL.createObjectURL(me),Ae=document.createElement("a");Ae.href=pe;const Ne=U.name,Ce=Ne.substring(0,Ne.lastIndexOf("."))+".dng"||"converted.dng";Ae.download=Ce,document.body.appendChild(Ae),Ae.click(),document.body.removeChild(Ae),URL.revokeObjectURL(pe);const ke=new File([me],Ce,{type:"image/x-adobe-dng"});await Ar(ke,!0)}else{const me=await Y.text();throw new Error(`HTTP ${Y.status}: ${me}`)}}catch(H){qe(null),Ct(`Conversion Error: ${H.message}`)}},br=(U,H)=>{U&&(H==="direct"?Ar(U,!0):ft(U))},yn=async U=>{var Y;const H=(Y=U.target.files)==null?void 0:Y[0];H&&(await Ar(H,!0),U.target.value="")},Za=async(U,H,Y,re)=>{!U||!H||(qe("Processing Pair Difference (May take a while)..."),Ct(null),setTimeout(async()=>{try{const me=await U.arrayBuffer(),pe=await H.arrayBuffer(),Ae=await O0(me,pe,Y,re),Ne=Lf(Ae.width,Ae.height,Ae.rawData),Ce=new File([Ne],`Diff_${U.name}_${H.name}.dng`,{type:"image/x-adobe-dng"});await Ar(Ce,!0),ut("fft")}catch(me){console.error("Pair Processing Error",me),Ct("Pair Processing Failed: "+me.message)}finally{qe(null)}},100))},Cl=async U=>{if(U.length<2){Ct("Need at least 2 files for Batch Diff.");return}qe(`Batch Processing 0/${Math.floor(U.length/2)} pairs...`);const H=Array.from(U).sort((Y,re)=>Y.name.localeCompare(re.name,void 0,{numeric:!0}));try{for(let Y=0;Y<H.length-1;Y+=2){const re=H[Y],me=H[Y+1];qe(`Batch Processing Pair ${Math.floor(Y/2)+1}/${Math.floor(H.length/2)}: ${re.name} & ${me.name}`);const pe=await re.arrayBuffer(),Ae=await me.arrayBuffer(),Ne=await O0(pe,Ae,!1,!1),Ce=Lf(Ne.width,Ne.height,Ne.rawData),ke=new Blob([Ce],{type:"image/x-adobe-dng"}),Te=URL.createObjectURL(ke),tt=document.createElement("a");tt.href=Te,tt.download=`Diff_${re.name}_${me.name}.dng`,document.body.appendChild(tt),tt.click(),document.body.removeChild(tt),URL.revokeObjectURL(Te)}}catch(Y){console.error("FFT Batch Error",Y),Ct("Batch Processing Failed: "+Y.message)}finally{qe(null)}},vp=async U=>{if(U.length<1)return;const H=Array.from(U).sort((Y,re)=>Y.name.localeCompare(re.name,void 0,{numeric:!0}));w(H),await Ar(H[0],!0)},El=async()=>{qr(!0);const U=128,H=U,Y=U,re=H*Y,me=new Uint16Array(re),pe=Fe=>{const vt=Fe/Bt+fr;return Math.sin(2*Math.PI*vt)>=0?1:0},Ae=32,Ne=Mt*.5,Ce=Math.max(1e-4,Mt/Ae);for(let Fe=0;Fe<Y;Fe++){let vt=0;const mr=Fe+.5-Ne;for(let Kt=0;Kt<Ae;Kt++){const xn=mr+(Kt+.5)*Ce;vt+=pe(xn)}const zr=vt/Ae,St=Math.round(zr*65535);for(let Kt=0;Kt<H;Kt++)me[Fe*H+Kt]=St}const ke=new ImageData(un,un),Te=un/H,tt=Mt/2;for(let Fe=0;Fe<un;Fe++){const vt=Fe/Te,wr=Math.floor(vt),mr=vt-wr,zr=mr>=.5-tt&&mr<.5+tt;for(let St=0;St<un;St++){const Kt=St/Te,xn=Math.floor(Kt),sn=Kt-xn,ui=sn>=.5-tt&&sn<.5+tt,Mr=(Fe*un+St)*4;if(xn>=H||wr>=Y){ke.data[Mr]=30,ke.data[Mr+1]=34,ke.data[Mr+2]=40,ke.data[Mr+3]=255;continue}if(zr&&ui){const Ao=me[wr*H+xn],fi=Math.round(Ao/257);ke.data[Mr]=fi,ke.data[Mr+1]=fi,ke.data[Mr+2]=fi,ke.data[Mr+3]=255}else ke.data[Mr]=30,ke.data[Mr+1]=34,ke.data[Mr+2]=40,ke.data[Mr+3]=255}}const kt=new ImageData(un,un),zt=Y/un;for(let Fe=0;Fe<un;Fe++){const vt=(Fe+.5)*zt,mr=pe(vt)>.5?255:0,zr=Fe*un*4;for(let St=0;St<un;St++){const Kt=zr+St*4;kt.data[Kt]=mr,kt.data[Kt+1]=mr,kt.data[Kt+2]=mr,kt.data[Kt+3]=255}}const Fr=Lf(H,Y,me),on=new File([Fr],"pattern_test.dng",{type:"image/x-adobe-dng"}),gr=Date.now().toString();try{const{previewBlob:Fe,analysisData:vt}=await hi(Fr.slice(0)),wr=await uk(Fr.slice(0),A),mr=pk(wr,un,un),zr=URL.createObjectURL(Fe),St=new Image;St.src=zr,await new Promise(xn=>{St.onload=()=>xn()}),await hk(gr,Fr);const Kt={id:gr,fileName:"pattern_test.dng",file:on,imageElement:St,rawImageData:vt,rawFileBuffer:Fr,renderedRawImageData:mr,referenceImageData:kt,sampledImageData:ke,exifData:null,isThreePlane:!1,previewUrl:zr,displaySettings:A,originalRawFileBuffer:null,isXTransOriginal:!1,isXTransConverted:!1,xtransPhase:{x:0,y:0}};(O==null?void 0:O.name)==="pattern_test.dng"?Le(Kt):m(xn=>{const sn=[...xn,Kt];return b(sn.length-1),sn})}catch(Fe){console.error("Error generating pattern:",Fe),Ct(`Error generating pattern: ${Fe.message}`)}qr(!1),qe(null)},xp=()=>{pt(!0)},bp=()=>{pt(!1),Jn("sampled"),qe("Generating..."),setTimeout(()=>El(),50)},Zr=j.useRef({period:Bt,fill:Mt,phase:fr});j.useEffect(()=>{(O==null?void 0:O.name)==="pattern_test.dng"&&(Zr.current.period!==Bt||Zr.current.fill!==Mt||Zr.current.phase!==fr)&&(Zr.current={period:Bt,fill:Mt,phase:fr},El())},[Bt,Mt,fr,O]);const wp=j.useCallback(U=>{if(Le({displaySettings:U}),!M)return;qr(!0),ee.current&&ee.current.terminate();const H=new Worker(new URL("/assets/renderWorker-BLMzTJON.js",import.meta.url),{type:"module"});ee.current=H,H.onmessage=Y=>{const{success:re,imageData:me,error:pe}=Y.data;if(re){let Ae=me;(O==null?void 0:O.name)==="pattern_test.dng"&&(Ae=pk(me,un,un)),Le({renderedRawImageData:Ae})}else Ct(pe||"Unknown worker error");qr(!1),H.terminate(),ee.current=null},H.postMessage({buffer:M.slice(0),settings:U})},[M,O,Le]),kp=async(U,H)=>{qe("Re-sampling X-Trans with new Phase...");try{const re=(await jf(H,U.x,U.y)).dngBuffer,me=await hi(re),pe=URL.createObjectURL(me.previewBlob),Ae=new Image;Ae.src=pe,await new Promise(Ne=>{Ae.onload=()=>Ne()}),k!=null&&k.previewUrl&&URL.revokeObjectURL(k.previewUrl),Le({rawFileBuffer:re,rawImageData:me.analysisData,previewUrl:pe,imageElement:Ae,xtransPhase:U}),J(null)}catch(Y){console.error("X-Trans Phase Update Failed",Y),Ct("Phase Update Failed: "+Y.message)}finally{qe(null)}},Sp=U=>{if(!k||!k.originalRawFileBuffer||!k.isXTransConverted)return;const H={...k.xtransPhase,...U};kp(H,k.originalRawFileBuffer)},Bu=j.useCallback(async U=>{if(k)if(U){if(k.isXTransConverted)return;const H=k.originalRawFileBuffer||k.rawFileBuffer;if(!H)return;qe("Converting X-Trans to Pseudo-Bayer DNG...");try{const Y=k.xtransPhase||{x:0,y:0},me=(await jf(H,Y.x,Y.y)).dngBuffer,pe=await hi(me),Ae=URL.createObjectURL(pe.previewBlob),Ne=new Image;Ne.src=Ae,await new Promise(Ce=>{Ne.onload=()=>Ce()}),k.previewUrl&&URL.revokeObjectURL(k.previewUrl),Le({rawFileBuffer:me,rawImageData:pe.analysisData,previewUrl:Ae,imageElement:Ne,isXTransConverted:!0,originalRawFileBuffer:H}),J(null)}catch(Y){console.error("X-Trans Conversion Failed",Y),Ct("Failed to convert X-Trans: "+Y.message)}finally{qe(null)}}else{if(!k.isXTransConverted)return;const H=k.originalRawFileBuffer;if(!H){Ct("Original X-Trans buffer lost. Cannot revert.");return}qe("Reverting to Native X-Trans...");try{const Y=await hi(H),re=URL.createObjectURL(Y.previewBlob),me=new Image;me.src=re,await new Promise(pe=>{me.onload=()=>pe()}),k.previewUrl&&URL.revokeObjectURL(k.previewUrl),Le({rawFileBuffer:H,rawImageData:Y.analysisData,previewUrl:re,imageElement:me,isXTransConverted:!1}),J(null)}catch(Y){console.error("X-Trans Revert Failed",Y),Ct("Failed to revert X-Trans: "+Y.message)}finally{qe(null)}}},[k,Le]);let No=C||N;jo==="reference"&&$?No=$:jo==="sampled"&&z&&(No=z);const Tl=_o||xa,$l=U=>{if(Z.current){const H=Z.current,{width:Y,height:re}=H.getBoundingClientRect(),me=Y/2,pe=re/2,Ae=U/Ml,Ne=me-(me-Al.x)*Ae,Ce=pe-(pe-Al.y)*Ae;Oo({x:Ne,y:Ce})}Ji(U)},Fu=U=>{if(!U)return;if(!P){J(null);return}ie&&te(!1);const H=pi(P.data,P.width,P.height,U.x,U.y,U.w,U.h);J(H)},Dl=U=>{oe(U),Fu(U)},we=()=>{L(U=>U==="pan"?"select":"pan")},nt=U=>{if(mt===0||mt>4)return;const H=[...Ee,U];Ye(H),mt===4?(et(H),It(0)):It(mt+1)},Qe=(U,H,Y,re)=>{const me=U[0],pe=U[1],Ae=U[2],Ne=U[3],Ce=H/2,ke=[];for(let Te=0;Te<Y;Te++){const tt=Y>1?Te/(Y-1):.5;for(let kt=0;kt<re;kt++){const zt=re>1?kt/(re-1):.5,Fr=me.x*(1-zt)+pe.x*zt,on=me.y*(1-zt)+pe.y*zt,gr=Ae.x*(1-zt)+Ne.x*zt,Fe=Ae.y*(1-zt)+Ne.y*zt,vt=Fr*(1-tt)+gr*tt,wr=on*(1-tt)+Fe*tt,mr=vt-Ce,zr=wr-Ce;ke.push({x:mr,y:zr,w:H,h:H})}}return ke},et=U=>{!P||!k||(qe("Calculating DR Lab Grid..."),setTimeout(()=>{try{const H=Qe(U,Xt,Xr,X);ct(H);const pe=[...[`#BlackLevel: ${(A.blackLevel||[0,0,0,0]).join(",")}`,`#ImageHeight: ${P.height}`],"Filename,Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std"],Ae=`img${k.fileName||"image"}`;H.forEach((tt,kt)=>{const zt=Math.floor(kt/X)+1,Fr=kt%X+1,on=pi(P.data,P.width,P.height,tt.x,tt.y,tt.w,tt.h),gr=on.means,Fe=on.stdDevs,vt=`${Ae},${zt},${Fr},${gr[0].toFixed(4)},${gr[1].toFixed(4)},${gr[2].toFixed(4)},${gr[3].toFixed(4)},${Fe[0].toFixed(4)},${Fe[1].toFixed(4)},${Fe[2].toFixed(4)},${Fe[3].toFixed(4)}`;pe.push(vt)});const Ne=pe.join(`
`),Ce=new Blob([Ne],{type:"text/csv;charset=utf-8;"}),ke=URL.createObjectURL(Ce),Te=document.createElement("a");Te.setAttribute("href",ke),Te.setAttribute("download","dr_lab_results.csv"),document.body.appendChild(Te),Te.click(),document.body.removeChild(Te),URL.revokeObjectURL(ke),Ye([])}catch(H){Ct("DR Lab Error: "+H.message)}finally{qe(null)}},100))},vn=async(U,H)=>{if(Ee.length<4&&yt.length<1){Ct("Please mark the grid on an image first before running batch processing.");return}let Y=yt;if(Y.length===0&&Ee.length===4&&(Y=Qe(Ee,Xt,Xr,X)),Y.length===0){Ct("No grid definitions found. Mark corners first.");return}qe(H==="pair"?"Batch Pair Difference (Sigma = Diff/sqrt(2))":"Batch Processing...");const me=(A.blackLevel||[0,0,0,0]).join(","),pe=P?P.height:0,Ne=[...[`#BlackLevel: ${me}`,`#ImageHeight: ${pe}`,H==="pair"?"#Mode: Pair Difference (Sigma = Diff/sqrt(2))":"#Mode: Independent"],"Filename,Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std"],Ce=Array.from(U).sort((kt,zt)=>kt.name.localeCompare(zt.name,void 0,{numeric:!0}));if(H==="pair"&&Ce.length<2){Ct("Need at least 2 files for Pair processing."),qe(null);return}const ke=_.current,Te=(ke==null?void 0:ke.isXTransConverted)||!1,tt=(ke==null?void 0:ke.xtransPhase)||{x:0,y:0};try{const kt=async Fe=>{let vt=await Fe.arrayBuffer();return Te&&(vt=(await jf(vt,tt.x,tt.y)).dngBuffer),vt};if(H==="single")for(let Fe=0;Fe<Ce.length;Fe++){const vt=Ce[Fe];qe(`Processing ${Fe+1}/${Ce.length}: ${vt.name}...`);const wr=await kt(vt),mr=await hh(wr),zr=`img${vt.name}`;Y.forEach((St,Kt)=>{const xn=Math.floor(Kt/X)+1,sn=Kt%X+1,ui=pi(mr.data,mr.width,mr.height,St.x,St.y,St.w,St.h),Mr=ui.means,Ao=ui.stdDevs,fi=`${zr},${xn},${sn},${Mr[0].toFixed(4)},${Mr[1].toFixed(4)},${Mr[2].toFixed(4)},${Mr[3].toFixed(4)},${Ao[0].toFixed(4)},${Ao[1].toFixed(4)},${Ao[2].toFixed(4)},${Ao[3].toFixed(4)}`;Ne.push(fi)})}else for(let Fe=0;Fe<Ce.length-1;Fe+=2){const vt=Ce[Fe],wr=Ce[Fe+1],mr=`img${vt.name} & ${wr.name}`;qe(`Processing Pair ${Math.floor(Fe/2)+1}/${Math.floor(Ce.length/2)}: ${vt.name} & ${wr.name}...`);const zr=await kt(vt),St=await hh(zr),Kt=await kt(wr),xn=await O0(zr,Kt,!1,!0);Y.forEach((sn,ui)=>{const Mr=Math.floor(ui/X)+1,Ao=ui%X+1,fi=pi(St.data,St.width,St.height,sn.x,sn.y,sn.w,sn.h),pP=pi(xn.rawData,xn.width,xn.height,sn.x,sn.y,sn.w,sn.h),Uu=fi.means,Wu=pP.stdDevs,gP=`${mr},${Mr},${Ao},${Uu[0].toFixed(4)},${Uu[1].toFixed(4)},${Uu[2].toFixed(4)},${Uu[3].toFixed(4)},${Wu[0].toFixed(4)},${Wu[1].toFixed(4)},${Wu[2].toFixed(4)},${Wu[3].toFixed(4)}`;Ne.push(gP)})}const zt=Ne.join(`
`),Fr=new Blob([zt],{type:"text/csv;charset=utf-8;"}),on=URL.createObjectURL(Fr),gr=document.createElement("a");gr.href=on,gr.setAttribute("download",`dr_lab_batch_${H}_${new Date().getTime()}.csv`),document.body.appendChild(gr),gr.click(),document.body.removeChild(gr),URL.revokeObjectURL(on)}catch(kt){console.error("Batch Error",kt),Ct("Batch Processing Failed: "+kt.message)}finally{qe(null)}},Cn=()=>{it([]),xr(1)},ea=U=>{if(!nr||ar===0)return;const H=[...At,U];it(H),H.length===4&&P?(Ra(H,mn),xr(0)):xr(Y=>Y+1)},Ra=(U,H)=>{P&&(qe("Analyzing Color Chart..."),setTimeout(()=>{try{const Y=rJ(U[0],U[1],U[2],U[3],P.width,P.height,H);Br(Y);const me=Y.map((pe,Ae)=>{const Ne=pi(P.data,P.width,P.height,pe.x,pe.y,pe.w,pe.h);return{id:Ae,rawMeans:Ne.means,refRGB:[0,0,0]}}).map((pe,Ae)=>({...pe,refRGB:Jm[Ae]||[0,0,0]}));ya(me),Pn(!0)}catch(Y){Ct("Color Lab Error: "+Y.message)}finally{qe(null)}},100))},Po=U=>{va(U),At.length===4&&Ra(At,U)},La=()=>{Pn(!1)},or=()=>{E||Ie("No EXIF data found. The file might not contain metadata or it was stripped during processing."),Se(!0)},rx=async U=>{qe("Parsing PTC Data...");const H=[];let Y=null;try{for(let re=0;re<U.length;re++){const pe=(await U[re].text()).split(`
`);let Ae=!0;for(const Ne of pe){const Ce=Ne.trim();if(!Ce)continue;if(Ce.startsWith("#")){if(Ce.includes("BlackLevel:")){const St=Ce.split(":")[1].trim().split(",");if(St.length>=4){const Kt=St.map(Number);Y||(Y={}),Y.blackLevel=Kt}}if(Ce.includes("ImageHeight:")){const St=parseInt(Ce.split(":")[1].trim());isNaN(St)||(Y||(Y={}),Y.height=St)}continue}if(Ae){Ce.toLowerCase().includes("mean")&&Ce.toLowerCase().includes("std")&&(Ae=!1);continue}const ke=Ce.split(",");if(ke.length<5)continue;let Te=0,tt;isNaN(parseFloat(ke[0]))&&(tt=ke[0],Te=1);const kt=parseInt(ke[Te]),zt=parseInt(ke[Te+1]),Fr=parseFloat(ke[Te+2]),on=parseFloat(ke[Te+3]),gr=parseFloat(ke[Te+4]),Fe=parseFloat(ke[Te+5]),vt=parseFloat(ke[Te+6]),wr=parseFloat(ke[Te+7]),mr=parseFloat(ke[Te+8]),zr=parseFloat(ke[Te+9]);!isNaN(Fr)&&!isNaN(vt)&&H.push({channel:"R",mean:Fr,std:vt,filename:tt,row:kt,col:zt}),!isNaN(on)&&!isNaN(wr)&&H.push({channel:"G1",mean:on,std:wr,filename:tt,row:kt,col:zt}),!isNaN(gr)&&!isNaN(mr)&&H.push({channel:"G2",mean:gr,std:mr,filename:tt,row:kt,col:zt}),!isNaN(Fe)&&!isNaN(zr)&&H.push({channel:"B",mean:Fe,std:zr,filename:tt,row:kt,col:zt})}}Je(H),Ot(Y),l(!0)}catch(re){console.error("PTC Parse Error",re),Ct("Failed to parse CSV files: "+re.message)}finally{qe(null)}},Rl=()=>{if(!M||!k)return;const U=new Blob([M],{type:"image/x-adobe-dng"}),H=URL.createObjectURL(U),Y=document.createElement("a");Y.href=H;const re=k.fileName||"image.dng",me=re.toLowerCase().endsWith(".dng")?re:re.replace(/\.[^/.]+$/,"")+".dng";Y.download=me,document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),URL.revokeObjectURL(H)},zu=()=>{It(1),Ye([]),ct([])},nx=U=>{if(U.button!==0)return;Vr(!0);const H=U.clientX-gt.x,Y=U.clientY-gt.y,re=pe=>{Ht({x:pe.clientX-H,y:pe.clientY-Y})},me=()=>{Vr(!1),window.removeEventListener("mousemove",re),window.removeEventListener("mouseup",me)};window.addEventListener("mousemove",re),window.addEventListener("mouseup",me)},hP=j.useMemo(()=>Fn?Fn.map((U,H)=>({...U,refRGB:Jm[H]||[0,0,0]})):[],[Fn]);return e?u.jsxs("div",{className:"flex flex-col h-screen items-center justify-center bg-gray-300 dark:bg-[#111] text-black dark:text-white font-mono",children:[u.jsx("div",{className:"w-12 h-12 border-4 border-black dark:border-white border-t-transparent animate-spin mb-4"}),u.jsx("h2",{className:"text-xl font-bold",children:r}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2 mb-6",children:"Loading stored buffers from database..."}),u.jsx("button",{onClick:Ze,className:"px-6 py-2 bg-red-600 hover:bg-red-700 text-white font-bold border-2 border-black dark:border-gray-500 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] active:shadow-none active:translate-x-1 active:translate-y-1 transition-all text-sm",children:"Abandon Saved Session (Start Fresh)"})]}):u.jsxs("div",{className:"flex flex-col h-screen bg-[#d4d4d4] dark:bg-[#111111] text-black dark:text-gray-200 font-mono transition-colors duration-300 overflow-hidden",children:[u.jsx("div",{className:"p-4 pb-0 flex-shrink-0",children:u.jsx(GM,{onLoadImage:yn,onFileSelected:br,onGenerateFakeDng:xp,fileName:O?O.name:null,hasGeneratedData:(O==null?void 0:O.name)==="pattern_test.dng",viewMode:jo,onSetViewMode:Jn,patternPeriod:Bt,onPatternPeriodChange:Kr,fillFactor:Mt,onFillFactorChange:Yr,patternPhase:fr,onPatternPhaseChange:Qn,showPatternControls:(O==null?void 0:O.name)==="pattern_test.dng",onOpenAbout:()=>He(!0),onShowExif:or,bridgeStatus:p,onBridgeClick:()=>v(!0),isDrLabOpen:ur,onToggleDrLab:()=>{Ir(!ur),It(0),Ye([]),ct([]),Jt&&Nr(!1),nr&&Pt(!1),xr(0),Br([])},isColorLabOpen:nr,onToggleColorLab:()=>{Pt(!nr),it([]),xr(0),Br([]),ur&&Ir(!1),Jt&&Nr(!1)},isFftLabOpen:Jt,onToggleFftLab:()=>{Nr(!Jt),ur&&Ir(!1),nr&&Pt(!1),xr(0),Br([])},onGenerateTestPic:()=>Ve(!0),onPTCFilesSelected:rx,onDownloadDng:Rl,isThreePlane:G,onOpenDatabase:()=>f(!0)})}),u.jsxs("div",{className:"flex flex-1 overflow-hidden p-4 pt-2 gap-4 relative",children:[u.jsxs("div",{className:"flex-1 relative bg-gray-200 dark:bg-black border-4 border-gray-500 dark:border-gray-700 shadow-[inset_2px_2px_8px_rgba(0,0,0,0.2)] overflow-hidden transition-colors duration-300",ref:Z,children:[Tl&&u.jsxs("div",{className:"absolute bottom-4 right-4 z-50 flex items-center gap-2 bg-white/90 dark:bg-black/90 px-3 py-1.5 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray]",children:[u.jsx("div",{className:"w-4 h-4 border-2 border-black dark:border-white border-t-transparent animate-spin"}),u.jsx("span",{className:"text-xs font-bold text-black dark:text-white uppercase",children:_o||"Processing..."})]}),x.length>1&&u.jsxs("div",{className:"absolute bottom-4 right-20 z-50 flex items-center gap-2 bg-white/90 dark:bg-black/90 px-3 py-1.5 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] text-sm font-bold text-black dark:text-white",children:[u.jsx("button",{onClick:Et,disabled:g<=0,className:"hover:text-gray-500 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Previous Image",children:"<"}),u.jsxs("span",{className:"min-w-[3rem] text-center select-none font-bold",children:[g+1," / ",x.length]}),u.jsx("button",{onClick:Ue,disabled:g>=x.length-1,className:"hover:text-gray-500 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Next Image",children:">"})]}),u.jsx("div",{className:"absolute bottom-4 left-4 z-50 flex flex-col-reverse gap-2 items-start pointer-events-none",children:ue.filter(U=>U.isMinimized).map(U=>{let H="Window",Y="bg-gray-500";return U.type==="histogram"?(H="Histogram",Y="bg-black dark:bg-white"):U.type==="fft"?(H="FFT Spectrum",Y="bg-black dark:bg-white"):U.type==="quant"?(H="Quantization",Y="bg-black dark:bg-white"):U.type==="pearson"&&(H="Pearson",Y="bg-black dark:bg-white"),u.jsxs("div",{className:"pointer-events-auto flex items-center gap-1 bg-white dark:bg-black border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray]",children:[u.jsxs("button",{onClick:()=>ce(U.id),className:"px-3 py-1.5 text-xs font-bold text-black dark:text-white hover:bg-gray-200 dark:hover:bg-gray-800 transition-colors flex items-center gap-2",children:[u.jsx("span",{className:`w-2 h-2 ${Y}`}),H]}),u.jsx("button",{onClick:()=>Tt(U.id),className:"px-2 py-1.5 text-black hover:text-red-600 hover:bg-gray-200 dark:hover:bg-gray-800 border-l-2 border-black dark:border-white transition-colors",children:""})]},U.id)})}),u.jsx(HQ,{isOpen:De,onClose:()=>He(!1)}),u.jsx(VQ,{isOpen:he,onClose:()=>Se(!1),data:E,fileName:O?O.name:"",warning:Ge}),u.jsx(KQ,{isOpen:s,onClose:()=>l(!1),data:Re,blackLevel:Mn,imageHeight:Nl,isBGGR:q,importedMetadata:Ke||void 0,theme:o,initialCameraModel:(E==null?void 0:E.Model)||"",initialISO:(E==null?void 0:E.ISO)||((ax=E==null?void 0:E.ISOSpeedRatings)==null?void 0:ax.toString())||""}),u.jsx(JQ,{isOpen:c,onClose:()=>f(!1),theme:o}),u.jsx(eJ,{isOpen:d,onClose:()=>h(!1),zIndex:200}),u.jsx(iJ,{isOpen:zn,onClose:La,patchStats:hP,initialIsBGGR:q,sizeRatio:mn,onSizeChange:Po}),u.jsx(Zo,{isOpen:ht,onClose:()=>pt(!1),onConfirm:bp,title:"High Resource Usage Warning",confirmText:"I know the risk and insist to continue",message:u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("p",{children:"Patter DNG mode involves high-frequency refreshing and heavy computation. Due to current memory management limitations, repeated use may lead to browser memory overflow or crashes. Please proceed with caution."}),u.jsx("p",{className:"text-xs text-gray-500"})]})}),u.jsx(Zo,{isOpen:y,onClose:()=>v(!1),onConfirm:()=>{window.open("https://y-g-jiang.github.io/jiangbridge.exe","_blank"),v(!1)},title:"JiangBridge Connection / ",confirmText:"Download Bridge App",cancelText:"Cancel",message:u.jsxs("div",{className:"flex flex-col gap-4 text-left",children:[u.jsx("p",{className:"font-bold text-gray-800 dark:text-gray-200",children:"JiangBridge"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:'JiangBridge is optional for this webpage, but recommended for full functionality. Simply double-click and run it once after system startup. If the indicator light does not turn green after double-clicking, please consider checking whether the web page is allowed to "View and connect to any device on the network".'})]})}),u.jsx(Zo,{isOpen:bt,onClose:()=>Rt(!1),onConfirm:R,title:"Export 16-bit TIFF Options",confirmText:"Confirm Export",message:u.jsxs("div",{className:"flex flex-col gap-4 text-left",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-gray-50 dark:bg-slate-800/80 p-4 border border-gray-400 dark:border-gray-600",children:[u.jsxs("div",{className:"flex flex-col items-center gap-3",children:[u.jsxs("div",{className:"flex flex-col items-center text-center",children:[u.jsx("span",{className:"font-bold text-xs text-gray-800 dark:text-slate-200",children:"Stretch ()"}),u.jsx("span",{className:"text-[9px] text-gray-500 dark:text-slate-400 mt-0.5",children:"Map [0, White] to [0, 65535]"})]}),u.jsx("div",{onClick:()=>_r(!Gt),className:`relative w-12 h-6 border-2 border-black dark:border-white cursor-pointer ${Gt?"bg-black dark:bg-white":"bg-gray-300 dark:bg-slate-600"}`,children:u.jsx("div",{className:`absolute top-0.5 left-0.5 w-4 h-4 bg-white dark:bg-black shadow-sm transition-transform ${Gt?"translate-x-6":""}`})})]}),u.jsxs("div",{className:"flex flex-col items-center gap-3",children:[u.jsxs("div",{className:"flex flex-col items-center text-center",children:[u.jsx("span",{className:"font-bold text-xs text-gray-800 dark:text-slate-200",children:"sRGB Gamma"}),u.jsx("span",{className:"text-[9px] text-gray-500 dark:text-slate-400 mt-0.5",children:"Apply non-linear contrast"})]}),u.jsx("div",{onClick:()=>cr(!Or),className:`relative w-12 h-6 border-2 border-black dark:border-white cursor-pointer ${Or?"bg-black dark:bg-white":"bg-gray-300 dark:bg-slate-600"}`,children:u.jsx("div",{className:`absolute top-0.5 left-0.5 w-4 h-4 bg-white dark:bg-black shadow-sm transition-transform ${Or?"translate-x-6":""}`})})]})]}),u.jsxs("div",{className:"p-3 bg-gray-200 dark:bg-slate-800 text-[11px] text-black dark:text-white italic border border-gray-400 dark:border-gray-600 text-center font-mono",children:[Gt&&!Or&&"Mode: Stretched Linear. Histogram preserved but range expanded.",!Gt&&Or&&"Mode: Native DN + sRGB. Best for analyzing raw distribution contrast.",Gt&&Or&&"Mode: Ready-to-Use. Conventional 16-bit development.",!Gt&&!Or&&"Mode: Native Linear. Pure physical sensor DN values."]})]})}),!ie&&u.jsx(yJ,{stats:W,onClose:()=>{J(null),oe(null)},onMinimize:()=>te(!0),isBGGR:q,onToggleBGGR:V,onOpenWindow:ut,displaySettings:A,zIndex:le,onFocus:Ft}),ue.map(U=>{if(U.isMinimized)return null;const H=x.find(me=>me.id===U.sessionId),Y=H==null?void 0:H.rawImageData;if(!Y)return null;const re={key:U.id,isOpen:!0,onClose:()=>Tt(U.id),onMinimize:()=>dr(U.id),rawImageData:Y,roi:U.roi,isBGGR:U.isBGGR,zIndex:U.zIndex,onFocus:()=>Xe(U.id),initialPosition:U.initialPosition,initialInternalState:U.internalState,onUpdateState:me=>Pe(U.id,me),stackFiles:U.stackFiles};return U.type==="histogram"?u.jsx(LQ,{...re}):U.type==="fft"?u.jsx(zQ,{...re,onUpdateROI:me=>wt(U.id,me)}):U.type==="quant"?u.jsx(UQ,{...re}):U.type==="pearson"?u.jsx(WQ,{...re}):null}),Pl&&u.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-white/90 dark:bg-black/90 p-8",children:u.jsxs("div",{className:"max-w-md text-center p-6 bg-white dark:bg-black rounded-none border-2 border-red-600 shadow-[8px_8px_0px_rgba(200,0,0,0.5)]",children:[u.jsx("h3",{className:"text-xl font-bold text-red-600 uppercase mb-2",children:"Notice"}),u.jsx("p",{className:"text-black dark:text-white mb-6 whitespace-pre-wrap font-mono",children:Pl}),u.jsx("button",{onClick:()=>Ct(null),className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-800 dark:hover:bg-gray-700 border-2 border-black dark:border-white text-black dark:text-white transition-colors uppercase font-bold",children:"Dismiss"})]})}),!No&&!Tl&&!Pl&&u.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-gray-400 dark:text-gray-600 select-none font-mono",children:u.jsx("p",{className:"text-lg",children:"Load an image or generate a pattern"})}),u.jsx(HM,{image:No,zoom:Ml,pan:Al,onPanChange:Oo,onZoomChange:$l,onSelectionChange:Fu,forcedSelection:T,theme:o,touchAction:Iu,isMarking:mt>0||nr&&ar>0,onPointClick:U=>{mt>0?nt(U):nr&&ar>0&&ea(U)},markers:Ee,gridRects:yt,colorLabPoints:At,colorLabRects:An}),u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-1/2 z-30 pointer-events-none select-none opacity-20 mix-blend-normal dark:mix-blend-plus-lighter",children:u.jsx("svg",{viewBox:"0 0 500 60",className:"w-full h-auto drop-shadow-none",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-black dark:fill-white",fontSize:"26",fontWeight:"bold",style:{fontFamily:"Courier New, monospace",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),P&&!mt&&!nr&&u.jsxs("div",{className:"absolute bottom-4 left-4 z-30 pointer-events-none opacity-60 text-[10px] text-black dark:text-white font-mono bg-white/50 dark:bg-black/50 px-1",children:["Hold ",u.jsx("b",{children:"Shift"})," + Drag to calculate Raw ROI stats"]}),nr&&ar>0&&u.jsxs("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 z-30 pointer-events-none text-sm font-bold text-yellow-500 bg-black/80 px-4 py-2 rounded-full border border-yellow-500 animate-pulse shadow-lg",children:[At.length===0&&"Click Top-Left Corner of Chart",At.length===1&&"Click Top-Right Corner",At.length===2&&"Click Bottom-Left Corner",At.length===3&&"Click Bottom-Right Corner",At.length===4&&"Processing..."]}),u.jsx(aC,{zoom:Ml,onZoomChange:$l,onResetView:()=>{Ji(1),Oo({x:0,y:0})},touchAction:Iu,onToggleTouchAction:we}),!F&&u.jsx("button",{onClick:()=>ge(!0),className:"absolute right-0 top-1/2 -translate-y-1/2 z-50 bg-white dark:bg-black border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] p-2 hover:bg-gray-200 dark:hover:bg-gray-800 transition-colors",title:"Show Tools",children:u.jsx("svg",{className:"w-4 h-4 text-black dark:text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})})]}),u.jsxs("div",{className:`flex-shrink-0 flex flex-col bg-white dark:bg-black border-2 border-black dark:border-gray-700 shadow-xl overflow-hidden transition-all duration-300 ease-in-out ${F?"w-80 translate-x-0 opacity-100 ml-0":"w-0 translate-x-20 opacity-0 p-0 border-0 pointer-events-none ml-0"}`,children:[u.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b-2 border-black dark:border-gray-700 bg-gray-200 dark:bg-gray-900 flex-shrink-0",children:[u.jsx("h2",{className:"font-bold text-sm text-black dark:text-white uppercase tracking-wide flex items-center gap-2",children:u.jsx("span",{children:"Tools"})}),u.jsx("button",{onClick:()=>ge(!1),className:"text-black dark:text-white hover:text-gray-600 dark:hover:text-gray-300 transition-colors p-1",title:"Hide Tools",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),u.jsx("div",{className:"flex-1 overflow-hidden relative",children:u.jsx(qM,{rawImageData:P,displaySettings:A,onApplyDisplaySettings:wp,onSetSelection:Dl,exifData:E,isBridgeConnected:p.isConnected,isDrLabOpen:ur,drMarkingStep:mt,onStartMarking:zu,onGenerateTestPic:()=>Ve(!0),drRoiSize:Xt,onDrRoiSizeChange:ve,drGridRows:Xr,onDrGridRowsChange:So,drGridCols:X,onDrGridColsChange:je,onBatchDrLab:vn,hasDrMarkers:yt.length>0||Ee.length===4,isFftLabOpen:Jt,onProcessPair:Za,onProcessBatchDiff:Cl,onProcessStackFft:vp,onOpenCrossCalc:()=>h(!0),isThreePlane:P==null?void 0:P.isThreePlane,onToggleXTrans:P?Bu:void 0,xtransPhase:(k==null?void 0:k.xtransPhase)||{x:0,y:0},onXTransPhaseChange:Sp,isXTransConverted:k==null?void 0:k.isXTransConverted,roiStats:W,isBGGR:q,isColorLabOpen:nr,colorLabMarkingStep:ar,onStartColorLabMarking:Cn})})]})]}),ot&&u.jsxs("div",{className:"fixed inset-0 z-[200] bg-black overflow-hidden",children:[u.jsx("div",{onMouseDown:nx,style:{transform:`translate(${gt.x}px, ${gt.y}px)`,cursor:Pr?"grabbing":"grab",opacity:ae,transition:"opacity 0.1s linear"},className:"w-full h-full flex items-center justify-center",children:u.jsx("img",{src:"/drtest.png",alt:"DR Test",className:"max-w-full max-h-full object-contain pointer-none select-none",draggable:!1})}),u.jsxs("div",{className:"absolute top-4 right-4 flex flex-col items-end gap-2 pointer-events-none z-[201]",children:[u.jsx("div",{className:"text-white/50 text-sm bg-black/50 px-3 py-1 border border-white/20 backdrop-blur-sm font-mono",children:"Press ESC to exit | Drag to move"}),u.jsx("div",{className:"text-white/20 text-xs px-2 select-none font-mono",children:"F11 full screen"}),u.jsx("div",{className:"text-red-900/80 text-lg px-2 select-none font-bold mt-4 font-mono",children:""}),u.jsx("div",{className:"text-red-900/60 text-xs px-2 select-none font-mono",children:"Shoot slightly out of focus"})]}),u.jsxs("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 bg-black/60 backdrop-blur-md p-4 border border-gray-500 flex flex-col gap-3 items-center z-[202]",children:[u.jsx("button",{onClick:()=>er(!an),className:`px-4 py-2 border-2 border-white font-bold text-sm transition-colors ${an?"bg-white text-black":"bg-black text-white hover:bg-gray-800"}`,children:an?"Stop Breathing":"Start Breathing"}),an&&u.jsxs("div",{className:"flex items-center gap-3 w-64 animate-in fade-in",children:[u.jsx("span",{className:"text-xs text-gray-400 font-bold uppercase",children:"Speed"}),u.jsx("input",{type:"range",min:"0.5",max:"10",step:"0.5",value:Vt,onChange:U=>Lt(parseFloat(U.target.value)),className:"flex-1 h-1.5 bg-gray-600 rounded-none appearance-none cursor-pointer accent-white"}),u.jsx("span",{className:"text-xs text-white w-8 text-right font-mono",children:Vt.toFixed(1)})]})]})]}),u.jsx(oC,{theme:o,setTheme:i})]})},dP=document.getElementById("root");if(!dP)throw new Error("Could not find root element to mount to");const xJ=A0.createRoot(dP);xJ.render(u.jsx(D.StrictMode,{children:u.jsx(vJ,{})}));export{_Q as _};
