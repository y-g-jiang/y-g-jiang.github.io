var OP=Object.defineProperty;var _P=(e,t,r)=>t in e?OP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Vr=(e,t,r)=>_P(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var lu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ct(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _2={exports:{}},Nd={},P2={exports:{}},Ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uc=Symbol.for("react.element"),PP=Symbol.for("react.portal"),NP=Symbol.for("react.fragment"),AP=Symbol.for("react.strict_mode"),MP=Symbol.for("react.profiler"),CP=Symbol.for("react.provider"),EP=Symbol.for("react.context"),TP=Symbol.for("react.forward_ref"),$P=Symbol.for("react.suspense"),DP=Symbol.for("react.memo"),LP=Symbol.for("react.lazy"),mv=Symbol.iterator;function RP(e){return e===null||typeof e!="object"?null:(e=mv&&e[mv]||e["@@iterator"],typeof e=="function"?e:null)}var N2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A2=Object.assign,M2={};function Is(e,t,r){this.props=e,this.context=t,this.refs=M2,this.updater=r||N2}Is.prototype.isReactComponent={};Is.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Is.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function C2(){}C2.prototype=Is.prototype;function hm(e,t,r){this.props=e,this.context=t,this.refs=M2,this.updater=r||N2}var pm=hm.prototype=new C2;pm.constructor=hm;A2(pm,Is.prototype);pm.isPureReactComponent=!0;var yv=Array.isArray,E2=Object.prototype.hasOwnProperty,gm={current:null},T2={key:!0,ref:!0,__self:!0,__source:!0};function $2(e,t,r){var n,a={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)E2.call(t,n)&&!T2.hasOwnProperty(n)&&(a[n]=t[n]);var s=arguments.length-2;if(s===1)a.children=r;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)a[n]===void 0&&(a[n]=s[n]);return{$$typeof:Uc,type:e,key:o,ref:i,props:a,_owner:gm.current}}function IP(e,t){return{$$typeof:Uc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function mm(e){return typeof e=="object"&&e!==null&&e.$$typeof===Uc}function BP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var vv=/\/+/g;function Rh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?BP(""+e.key):t.toString(36)}function Wu(e,t,r,n,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Uc:case PP:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+Rh(i,0):n,yv(a)?(r="",e!=null&&(r=e.replace(vv,"$&/")+"/"),Wu(a,t,r,"",function(c){return c})):a!=null&&(mm(a)&&(a=IP(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(vv,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",yv(e))for(var s=0;s<e.length;s++){o=e[s];var l=n+Rh(o,s);i+=Wu(o,t,r,l,a)}else if(l=RP(e),typeof l=="function")for(e=l.call(e),s=0;!(o=e.next()).done;)o=o.value,l=n+Rh(o,s++),i+=Wu(o,t,r,l,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function cu(e,t,r){if(e==null)return e;var n=[],a=0;return Wu(e,n,"","",function(o){return t.call(r,o,a++)}),n}function FP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Qr={current:null},Uu={transition:null},zP={ReactCurrentDispatcher:Qr,ReactCurrentBatchConfig:Uu,ReactCurrentOwner:gm};function D2(){throw Error("act(...) is not supported in production builds of React.")}Ze.Children={map:cu,forEach:function(e,t,r){cu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return cu(e,function(){t++}),t},toArray:function(e){return cu(e,function(t){return t})||[]},only:function(e){if(!mm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ze.Component=Is;Ze.Fragment=NP;Ze.Profiler=MP;Ze.PureComponent=hm;Ze.StrictMode=AP;Ze.Suspense=$P;Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zP;Ze.act=D2;Ze.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=A2({},e.props),a=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=gm.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)E2.call(t,l)&&!T2.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];n.children=s}return{$$typeof:Uc,type:e.type,key:a,ref:o,props:n,_owner:i}};Ze.createContext=function(e){return e={$$typeof:EP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:CP,_context:e},e.Consumer=e};Ze.createElement=$2;Ze.createFactory=function(e){var t=$2.bind(null,e);return t.type=e,t};Ze.createRef=function(){return{current:null}};Ze.forwardRef=function(e){return{$$typeof:TP,render:e}};Ze.isValidElement=mm;Ze.lazy=function(e){return{$$typeof:LP,_payload:{_status:-1,_result:e},_init:FP}};Ze.memo=function(e,t){return{$$typeof:DP,type:e,compare:t===void 0?null:t}};Ze.startTransition=function(e){var t=Uu.transition;Uu.transition={};try{e()}finally{Uu.transition=t}};Ze.unstable_act=D2;Ze.useCallback=function(e,t){return Qr.current.useCallback(e,t)};Ze.useContext=function(e){return Qr.current.useContext(e)};Ze.useDebugValue=function(){};Ze.useDeferredValue=function(e){return Qr.current.useDeferredValue(e)};Ze.useEffect=function(e,t){return Qr.current.useEffect(e,t)};Ze.useId=function(){return Qr.current.useId()};Ze.useImperativeHandle=function(e,t,r){return Qr.current.useImperativeHandle(e,t,r)};Ze.useInsertionEffect=function(e,t){return Qr.current.useInsertionEffect(e,t)};Ze.useLayoutEffect=function(e,t){return Qr.current.useLayoutEffect(e,t)};Ze.useMemo=function(e,t){return Qr.current.useMemo(e,t)};Ze.useReducer=function(e,t,r){return Qr.current.useReducer(e,t,r)};Ze.useRef=function(e){return Qr.current.useRef(e)};Ze.useState=function(e){return Qr.current.useState(e)};Ze.useSyncExternalStore=function(e,t,r){return Qr.current.useSyncExternalStore(e,t,r)};Ze.useTransition=function(){return Qr.current.useTransition()};Ze.version="18.3.1";P2.exports=Ze;var O=P2.exports;const C=Ct(O);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WP=O,UP=Symbol.for("react.element"),GP=Symbol.for("react.fragment"),HP=Object.prototype.hasOwnProperty,VP=WP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KP={key:!0,ref:!0,__self:!0,__source:!0};function L2(e,t,r){var n,a={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)HP.call(t,n)&&!KP.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:UP,type:e,key:o,ref:i,props:a,_owner:VP.current}}Nd.Fragment=GP;Nd.jsx=L2;Nd.jsxs=L2;_2.exports=Nd;var d=_2.exports,Gp={},R2={exports:{}},jn={},I2={exports:{}},B2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,z){var W=$.length;$.push(z);e:for(;0<W;){var ee=W-1>>>1,K=$[ee];if(0<a(K,z))$[ee]=z,$[W]=K,W=ee;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var z=$[0],W=$.pop();if(W!==z){$[0]=W;e:for(var ee=0,K=$.length,q=K>>>1;ee<q;){var U=2*(ee+1)-1,fe=$[U],ie=U+1,_e=$[ie];if(0>a(fe,W))ie<K&&0>a(_e,fe)?($[ee]=_e,$[ie]=W,ee=ie):($[ee]=fe,$[U]=W,ee=U);else if(ie<K&&0>a(_e,W))$[ee]=_e,$[ie]=W,ee=ie;else break e}}return z}function a($,z){var W=$.sortIndex-z.sortIndex;return W!==0?W:$.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,s=i.now();e.unstable_now=function(){return i.now()-s}}var l=[],c=[],u=1,f=null,h=3,p=!1,m=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b($){for(var z=r(c);z!==null;){if(z.callback===null)n(c);else if(z.startTime<=$)n(c),z.sortIndex=z.expirationTime,t(l,z);else break;z=r(c)}}function k($){if(v=!1,b($),!m)if(r(l)!==null)m=!0,L(w);else{var z=r(c);z!==null&&F(k,z.startTime-$)}}function w($,z){m=!1,v&&(v=!1,y(_),_=-1),p=!0;var W=h;try{for(b(z),f=r(l);f!==null&&(!(f.expirationTime>z)||$&&!A());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,h=f.priorityLevel;var K=ee(f.expirationTime<=z);z=e.unstable_now(),typeof K=="function"?f.callback=K:f===r(l)&&n(l),b(z)}else n(l);f=r(l)}if(f!==null)var q=!0;else{var U=r(c);U!==null&&F(k,U.startTime-z),q=!1}return q}finally{f=null,h=W,p=!1}}var S=!1,j=null,_=-1,P=5,N=-1;function A(){return!(e.unstable_now()-N<P)}function M(){if(j!==null){var $=e.unstable_now();N=$;var z=!0;try{z=j(!0,$)}finally{z?B():(S=!1,j=null)}}else S=!1}var B;if(typeof g=="function")B=function(){g(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,D=I.port2;I.port1.onmessage=M,B=function(){D.postMessage(null)}}else B=function(){x(M,0)};function L($){j=$,S||(S=!0,B())}function F($,z){_=x(function(){$(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,L(w))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function($){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var W=h;h=z;try{return $()}finally{h=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,z){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var W=h;h=$;try{return z()}finally{h=W}},e.unstable_scheduleCallback=function($,z,W){var ee=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ee+W:ee):W=ee,$){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=W+K,$={id:u++,callback:z,priorityLevel:$,startTime:W,expirationTime:K,sortIndex:-1},W>ee?($.sortIndex=W,t(c,$),r(l)===null&&$===r(c)&&(v?(y(_),_=-1):v=!0,F(k,W-ee))):($.sortIndex=K,t(l,$),m||p||(m=!0,L(w))),$},e.unstable_shouldYield=A,e.unstable_wrapCallback=function($){var z=h;return function(){var W=h;h=z;try{return $.apply(this,arguments)}finally{h=W}}}})(B2);I2.exports=B2;var XP=I2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qP=O,Sn=XP;function ae(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var F2=new Set,Gl={};function xi(e,t){ns(e,t),ns(e+"Capture",t)}function ns(e,t){for(Gl[e]=t,e=0;e<t.length;e++)F2.add(t[e])}var Ga=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hp=Object.prototype.hasOwnProperty,YP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xv={},bv={};function QP(e){return Hp.call(bv,e)?!0:Hp.call(xv,e)?!1:YP.test(e)?bv[e]=!0:(xv[e]=!0,!1)}function ZP(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function JP(e,t,r,n){if(t===null||typeof t>"u"||ZP(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Zr(e,t,r,n,a,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Cr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Cr[e]=new Zr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Cr[t]=new Zr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Cr[e]=new Zr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Cr[e]=new Zr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Cr[e]=new Zr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Cr[e]=new Zr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Cr[e]=new Zr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Cr[e]=new Zr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Cr[e]=new Zr(e,5,!1,e.toLowerCase(),null,!1,!1)});var ym=/[\-:]([a-z])/g;function vm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ym,vm);Cr[t]=new Zr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ym,vm);Cr[t]=new Zr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ym,vm);Cr[t]=new Zr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Cr[e]=new Zr(e,1,!1,e.toLowerCase(),null,!1,!1)});Cr.xlinkHref=new Zr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Cr[e]=new Zr(e,1,!1,e.toLowerCase(),null,!0,!0)});function xm(e,t,r,n){var a=Cr.hasOwnProperty(t)?Cr[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(JP(t,r,a,n)&&(r=null),n||a===null?QP(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Qa=qP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,uu=Symbol.for("react.element"),Ti=Symbol.for("react.portal"),$i=Symbol.for("react.fragment"),bm=Symbol.for("react.strict_mode"),Vp=Symbol.for("react.profiler"),z2=Symbol.for("react.provider"),W2=Symbol.for("react.context"),wm=Symbol.for("react.forward_ref"),Kp=Symbol.for("react.suspense"),Xp=Symbol.for("react.suspense_list"),km=Symbol.for("react.memo"),ao=Symbol.for("react.lazy"),U2=Symbol.for("react.offscreen"),wv=Symbol.iterator;function ol(e){return e===null||typeof e!="object"?null:(e=wv&&e[wv]||e["@@iterator"],typeof e=="function"?e:null)}var Qt=Object.assign,Ih;function Sl(e){if(Ih===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ih=t&&t[1]||""}return`
`+Ih+e}var Bh=!1;function Fh(e,t){if(!e||Bh)return"";Bh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),o=n.stack.split(`
`),i=a.length-1,s=o.length-1;1<=i&&0<=s&&a[i]!==o[s];)s--;for(;1<=i&&0<=s;i--,s--)if(a[i]!==o[s]){if(i!==1||s!==1)do if(i--,s--,0>s||a[i]!==o[s]){var l=`
`+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=s);break}}}finally{Bh=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Sl(e):""}function eN(e){switch(e.tag){case 5:return Sl(e.type);case 16:return Sl("Lazy");case 13:return Sl("Suspense");case 19:return Sl("SuspenseList");case 0:case 2:case 15:return e=Fh(e.type,!1),e;case 11:return e=Fh(e.type.render,!1),e;case 1:return e=Fh(e.type,!0),e;default:return""}}function qp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $i:return"Fragment";case Ti:return"Portal";case Vp:return"Profiler";case bm:return"StrictMode";case Kp:return"Suspense";case Xp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case W2:return(e.displayName||"Context")+".Consumer";case z2:return(e._context.displayName||"Context")+".Provider";case wm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case km:return t=e.displayName||null,t!==null?t:qp(e.type)||"Memo";case ao:t=e._payload,e=e._init;try{return qp(e(t))}catch{}}return null}function tN(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qp(t);case 8:return t===bm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Oo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function G2(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rN(e){var t=G2(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fu(e){e._valueTracker||(e._valueTracker=rN(e))}function H2(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=G2(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ef(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Yp(e,t){var r=t.checked;return Qt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function kv(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Oo(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function V2(e,t){t=t.checked,t!=null&&xm(e,"checked",t,!1)}function Qp(e,t){V2(e,t);var r=Oo(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Zp(e,t.type,r):t.hasOwnProperty("defaultValue")&&Zp(e,t.type,Oo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Sv(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Zp(e,t,r){(t!=="number"||ef(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var jl=Array.isArray;function Xi(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Oo(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Jp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ae(91));return Qt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function jv(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ae(92));if(jl(r)){if(1<r.length)throw Error(ae(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Oo(r)}}function K2(e,t){var r=Oo(t.value),n=Oo(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Ov(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function X2(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function e0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?X2(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var du,q2=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(du=du||document.createElement("div"),du.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=du.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Hl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Nl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nN=["Webkit","ms","Moz","O"];Object.keys(Nl).forEach(function(e){nN.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Nl[t]=Nl[e]})});function Y2(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Nl.hasOwnProperty(e)&&Nl[e]?(""+t).trim():t+"px"}function Q2(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=Y2(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var aN=Qt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function t0(e,t){if(t){if(aN[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ae(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ae(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ae(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ae(62))}}function r0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var n0=null;function Sm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var a0=null,qi=null,Yi=null;function _v(e){if(e=Vc(e)){if(typeof a0!="function")throw Error(ae(280));var t=e.stateNode;t&&(t=Td(t),a0(e.stateNode,e.type,t))}}function Z2(e){qi?Yi?Yi.push(e):Yi=[e]:qi=e}function J2(){if(qi){var e=qi,t=Yi;if(Yi=qi=null,_v(e),t)for(e=0;e<t.length;e++)_v(t[e])}}function ek(e,t){return e(t)}function tk(){}var zh=!1;function rk(e,t,r){if(zh)return e(t,r);zh=!0;try{return ek(e,t,r)}finally{zh=!1,(qi!==null||Yi!==null)&&(tk(),J2())}}function Vl(e,t){var r=e.stateNode;if(r===null)return null;var n=Td(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ae(231,t,typeof r));return r}var o0=!1;if(Ga)try{var il={};Object.defineProperty(il,"passive",{get:function(){o0=!0}}),window.addEventListener("test",il,il),window.removeEventListener("test",il,il)}catch{o0=!1}function oN(e,t,r,n,a,o,i,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var Al=!1,tf=null,rf=!1,i0=null,iN={onError:function(e){Al=!0,tf=e}};function sN(e,t,r,n,a,o,i,s,l){Al=!1,tf=null,oN.apply(iN,arguments)}function lN(e,t,r,n,a,o,i,s,l){if(sN.apply(this,arguments),Al){if(Al){var c=tf;Al=!1,tf=null}else throw Error(ae(198));rf||(rf=!0,i0=c)}}function bi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function nk(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Pv(e){if(bi(e)!==e)throw Error(ae(188))}function cN(e){var t=e.alternate;if(!t){if(t=bi(e),t===null)throw Error(ae(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var o=a.alternate;if(o===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return Pv(a),e;if(o===n)return Pv(a),t;o=o.sibling}throw Error(ae(188))}if(r.return!==n.return)r=a,n=o;else{for(var i=!1,s=a.child;s;){if(s===r){i=!0,r=a,n=o;break}if(s===n){i=!0,n=a,r=o;break}s=s.sibling}if(!i){for(s=o.child;s;){if(s===r){i=!0,r=o,n=a;break}if(s===n){i=!0,n=o,r=a;break}s=s.sibling}if(!i)throw Error(ae(189))}}if(r.alternate!==n)throw Error(ae(190))}if(r.tag!==3)throw Error(ae(188));return r.stateNode.current===r?e:t}function ak(e){return e=cN(e),e!==null?ok(e):null}function ok(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ok(e);if(t!==null)return t;e=e.sibling}return null}var ik=Sn.unstable_scheduleCallback,Nv=Sn.unstable_cancelCallback,uN=Sn.unstable_shouldYield,fN=Sn.unstable_requestPaint,ar=Sn.unstable_now,dN=Sn.unstable_getCurrentPriorityLevel,jm=Sn.unstable_ImmediatePriority,sk=Sn.unstable_UserBlockingPriority,nf=Sn.unstable_NormalPriority,hN=Sn.unstable_LowPriority,lk=Sn.unstable_IdlePriority,Ad=null,xa=null;function pN(e){if(xa&&typeof xa.onCommitFiberRoot=="function")try{xa.onCommitFiberRoot(Ad,e,void 0,(e.current.flags&128)===128)}catch{}}var aa=Math.clz32?Math.clz32:yN,gN=Math.log,mN=Math.LN2;function yN(e){return e>>>=0,e===0?32:31-(gN(e)/mN|0)|0}var hu=64,pu=4194304;function Ol(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function af(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var s=i&~a;s!==0?n=Ol(s):(o&=i,o!==0&&(n=Ol(o)))}else i=r&~a,i!==0?n=Ol(i):o!==0&&(n=Ol(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-aa(t),a=1<<r,n|=e[r],t&=~a;return n}function vN(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xN(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-aa(o),s=1<<i,l=a[i];l===-1?(!(s&r)||s&n)&&(a[i]=vN(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}function s0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ck(){var e=hu;return hu<<=1,!(hu&4194240)&&(hu=64),e}function Wh(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Gc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-aa(t),e[t]=r}function bN(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-aa(r),o=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~o}}function Om(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-aa(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var bt=0;function uk(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fk,_m,dk,hk,pk,l0=!1,gu=[],mo=null,yo=null,vo=null,Kl=new Map,Xl=new Map,so=[],wN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Av(e,t){switch(e){case"focusin":case"focusout":mo=null;break;case"dragenter":case"dragleave":yo=null;break;case"mouseover":case"mouseout":vo=null;break;case"pointerover":case"pointerout":Kl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xl.delete(t.pointerId)}}function sl(e,t,r,n,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[a]},t!==null&&(t=Vc(t),t!==null&&_m(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function kN(e,t,r,n,a){switch(t){case"focusin":return mo=sl(mo,e,t,r,n,a),!0;case"dragenter":return yo=sl(yo,e,t,r,n,a),!0;case"mouseover":return vo=sl(vo,e,t,r,n,a),!0;case"pointerover":var o=a.pointerId;return Kl.set(o,sl(Kl.get(o)||null,e,t,r,n,a)),!0;case"gotpointercapture":return o=a.pointerId,Xl.set(o,sl(Xl.get(o)||null,e,t,r,n,a)),!0}return!1}function gk(e){var t=Vo(e.target);if(t!==null){var r=bi(t);if(r!==null){if(t=r.tag,t===13){if(t=nk(r),t!==null){e.blockedOn=t,pk(e.priority,function(){dk(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=c0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);n0=n,r.target.dispatchEvent(n),n0=null}else return t=Vc(r),t!==null&&_m(t),e.blockedOn=r,!1;t.shift()}return!0}function Mv(e,t,r){Gu(e)&&r.delete(t)}function SN(){l0=!1,mo!==null&&Gu(mo)&&(mo=null),yo!==null&&Gu(yo)&&(yo=null),vo!==null&&Gu(vo)&&(vo=null),Kl.forEach(Mv),Xl.forEach(Mv)}function ll(e,t){e.blockedOn===t&&(e.blockedOn=null,l0||(l0=!0,Sn.unstable_scheduleCallback(Sn.unstable_NormalPriority,SN)))}function ql(e){function t(a){return ll(a,e)}if(0<gu.length){ll(gu[0],e);for(var r=1;r<gu.length;r++){var n=gu[r];n.blockedOn===e&&(n.blockedOn=null)}}for(mo!==null&&ll(mo,e),yo!==null&&ll(yo,e),vo!==null&&ll(vo,e),Kl.forEach(t),Xl.forEach(t),r=0;r<so.length;r++)n=so[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<so.length&&(r=so[0],r.blockedOn===null);)gk(r),r.blockedOn===null&&so.shift()}var Qi=Qa.ReactCurrentBatchConfig,of=!0;function jN(e,t,r,n){var a=bt,o=Qi.transition;Qi.transition=null;try{bt=1,Pm(e,t,r,n)}finally{bt=a,Qi.transition=o}}function ON(e,t,r,n){var a=bt,o=Qi.transition;Qi.transition=null;try{bt=4,Pm(e,t,r,n)}finally{bt=a,Qi.transition=o}}function Pm(e,t,r,n){if(of){var a=c0(e,t,r,n);if(a===null)Zh(e,t,n,sf,r),Av(e,n);else if(kN(a,e,t,r,n))n.stopPropagation();else if(Av(e,n),t&4&&-1<wN.indexOf(e)){for(;a!==null;){var o=Vc(a);if(o!==null&&fk(o),o=c0(e,t,r,n),o===null&&Zh(e,t,n,sf,r),o===a)break;a=o}a!==null&&n.stopPropagation()}else Zh(e,t,n,null,r)}}var sf=null;function c0(e,t,r,n){if(sf=null,e=Sm(n),e=Vo(e),e!==null)if(t=bi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=nk(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return sf=e,null}function mk(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dN()){case jm:return 1;case sk:return 4;case nf:case hN:return 16;case lk:return 536870912;default:return 16}default:return 16}}var uo=null,Nm=null,Hu=null;function yk(){if(Hu)return Hu;var e,t=Nm,r=t.length,n,a="value"in uo?uo.value:uo.textContent,o=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[o-n];n++);return Hu=a.slice(e,1<n?1-n:void 0)}function Vu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function mu(){return!0}function Cv(){return!1}function On(e){function t(r,n,a,o,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?mu:Cv,this.isPropagationStopped=Cv,this}return Qt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=mu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=mu)},persist:function(){},isPersistent:mu}),t}var Bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Am=On(Bs),Hc=Qt({},Bs,{view:0,detail:0}),_N=On(Hc),Uh,Gh,cl,Md=Qt({},Hc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cl&&(cl&&e.type==="mousemove"?(Uh=e.screenX-cl.screenX,Gh=e.screenY-cl.screenY):Gh=Uh=0,cl=e),Uh)},movementY:function(e){return"movementY"in e?e.movementY:Gh}}),Ev=On(Md),PN=Qt({},Md,{dataTransfer:0}),NN=On(PN),AN=Qt({},Hc,{relatedTarget:0}),Hh=On(AN),MN=Qt({},Bs,{animationName:0,elapsedTime:0,pseudoElement:0}),CN=On(MN),EN=Qt({},Bs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),TN=On(EN),$N=Qt({},Bs,{data:0}),Tv=On($N),DN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=RN[e])?!!t[e]:!1}function Mm(){return IN}var BN=Qt({},Hc,{key:function(e){if(e.key){var t=DN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?LN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mm,charCode:function(e){return e.type==="keypress"?Vu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),FN=On(BN),zN=Qt({},Md,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$v=On(zN),WN=Qt({},Hc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mm}),UN=On(WN),GN=Qt({},Bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),HN=On(GN),VN=Qt({},Md,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),KN=On(VN),XN=[9,13,27,32],Cm=Ga&&"CompositionEvent"in window,Ml=null;Ga&&"documentMode"in document&&(Ml=document.documentMode);var qN=Ga&&"TextEvent"in window&&!Ml,vk=Ga&&(!Cm||Ml&&8<Ml&&11>=Ml),Dv=" ",Lv=!1;function xk(e,t){switch(e){case"keyup":return XN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bk(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Di=!1;function YN(e,t){switch(e){case"compositionend":return bk(t);case"keypress":return t.which!==32?null:(Lv=!0,Dv);case"textInput":return e=t.data,e===Dv&&Lv?null:e;default:return null}}function QN(e,t){if(Di)return e==="compositionend"||!Cm&&xk(e,t)?(e=yk(),Hu=Nm=uo=null,Di=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vk&&t.locale!=="ko"?null:t.data;default:return null}}var ZN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ZN[e.type]:t==="textarea"}function wk(e,t,r,n){Z2(n),t=lf(t,"onChange"),0<t.length&&(r=new Am("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Cl=null,Yl=null;function JN(e){Ek(e,0)}function Cd(e){var t=Ii(e);if(H2(t))return e}function eA(e,t){if(e==="change")return t}var kk=!1;if(Ga){var Vh;if(Ga){var Kh="oninput"in document;if(!Kh){var Iv=document.createElement("div");Iv.setAttribute("oninput","return;"),Kh=typeof Iv.oninput=="function"}Vh=Kh}else Vh=!1;kk=Vh&&(!document.documentMode||9<document.documentMode)}function Bv(){Cl&&(Cl.detachEvent("onpropertychange",Sk),Yl=Cl=null)}function Sk(e){if(e.propertyName==="value"&&Cd(Yl)){var t=[];wk(t,Yl,e,Sm(e)),rk(JN,t)}}function tA(e,t,r){e==="focusin"?(Bv(),Cl=t,Yl=r,Cl.attachEvent("onpropertychange",Sk)):e==="focusout"&&Bv()}function rA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cd(Yl)}function nA(e,t){if(e==="click")return Cd(t)}function aA(e,t){if(e==="input"||e==="change")return Cd(t)}function oA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ia=typeof Object.is=="function"?Object.is:oA;function Ql(e,t){if(ia(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Hp.call(t,a)||!ia(e[a],t[a]))return!1}return!0}function Fv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zv(e,t){var r=Fv(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Fv(r)}}function jk(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?jk(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ok(){for(var e=window,t=ef();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ef(e.document)}return t}function Em(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function iA(e){var t=Ok(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&jk(r.ownerDocument.documentElement,r)){if(n!==null&&Em(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,o=Math.min(n.start,a);n=n.end===void 0?o:Math.min(n.end,a),!e.extend&&o>n&&(a=n,n=o,o=a),a=zv(r,o);var i=zv(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var sA=Ga&&"documentMode"in document&&11>=document.documentMode,Li=null,u0=null,El=null,f0=!1;function Wv(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;f0||Li==null||Li!==ef(n)||(n=Li,"selectionStart"in n&&Em(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),El&&Ql(El,n)||(El=n,n=lf(u0,"onSelect"),0<n.length&&(t=new Am("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Li)))}function yu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ri={animationend:yu("Animation","AnimationEnd"),animationiteration:yu("Animation","AnimationIteration"),animationstart:yu("Animation","AnimationStart"),transitionend:yu("Transition","TransitionEnd")},Xh={},_k={};Ga&&(_k=document.createElement("div").style,"AnimationEvent"in window||(delete Ri.animationend.animation,delete Ri.animationiteration.animation,delete Ri.animationstart.animation),"TransitionEvent"in window||delete Ri.transitionend.transition);function Ed(e){if(Xh[e])return Xh[e];if(!Ri[e])return e;var t=Ri[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in _k)return Xh[e]=t[r];return e}var Pk=Ed("animationend"),Nk=Ed("animationiteration"),Ak=Ed("animationstart"),Mk=Ed("transitionend"),Ck=new Map,Uv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Po(e,t){Ck.set(e,t),xi(t,[e])}for(var qh=0;qh<Uv.length;qh++){var Yh=Uv[qh],lA=Yh.toLowerCase(),cA=Yh[0].toUpperCase()+Yh.slice(1);Po(lA,"on"+cA)}Po(Pk,"onAnimationEnd");Po(Nk,"onAnimationIteration");Po(Ak,"onAnimationStart");Po("dblclick","onDoubleClick");Po("focusin","onFocus");Po("focusout","onBlur");Po(Mk,"onTransitionEnd");ns("onMouseEnter",["mouseout","mouseover"]);ns("onMouseLeave",["mouseout","mouseover"]);ns("onPointerEnter",["pointerout","pointerover"]);ns("onPointerLeave",["pointerout","pointerover"]);xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xi("onBeforeInput",["compositionend","keypress","textInput","paste"]);xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uA=new Set("cancel close invalid load scroll toggle".split(" ").concat(_l));function Gv(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,lN(n,t,void 0,e),e.currentTarget=null}function Ek(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var s=n[i],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&a.isPropagationStopped())break e;Gv(a,s,c),o=l}else for(i=0;i<n.length;i++){if(s=n[i],l=s.instance,c=s.currentTarget,s=s.listener,l!==o&&a.isPropagationStopped())break e;Gv(a,s,c),o=l}}}if(rf)throw e=i0,rf=!1,i0=null,e}function Rt(e,t){var r=t[m0];r===void 0&&(r=t[m0]=new Set);var n=e+"__bubble";r.has(n)||(Tk(t,e,2,!1),r.add(n))}function Qh(e,t,r){var n=0;t&&(n|=4),Tk(r,e,n,t)}var vu="_reactListening"+Math.random().toString(36).slice(2);function Zl(e){if(!e[vu]){e[vu]=!0,F2.forEach(function(r){r!=="selectionchange"&&(uA.has(r)||Qh(r,!1,e),Qh(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vu]||(t[vu]=!0,Qh("selectionchange",!1,t))}}function Tk(e,t,r,n){switch(mk(t)){case 1:var a=jN;break;case 4:a=ON;break;default:a=Pm}r=a.bind(null,t,r,e),a=void 0,!o0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Zh(e,t,r,n,a){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var s=n.stateNode.containerInfo;if(s===a||s.nodeType===8&&s.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;i=i.return}for(;s!==null;){if(i=Vo(s),i===null)return;if(l=i.tag,l===5||l===6){n=o=i;continue e}s=s.parentNode}}n=n.return}rk(function(){var c=o,u=Sm(r),f=[];e:{var h=Ck.get(e);if(h!==void 0){var p=Am,m=e;switch(e){case"keypress":if(Vu(r)===0)break e;case"keydown":case"keyup":p=FN;break;case"focusin":m="focus",p=Hh;break;case"focusout":m="blur",p=Hh;break;case"beforeblur":case"afterblur":p=Hh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Ev;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=NN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=UN;break;case Pk:case Nk:case Ak:p=CN;break;case Mk:p=HN;break;case"scroll":p=_N;break;case"wheel":p=KN;break;case"copy":case"cut":case"paste":p=TN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=$v}var v=(t&4)!==0,x=!v&&e==="scroll",y=v?h!==null?h+"Capture":null:h;v=[];for(var g=c,b;g!==null;){b=g;var k=b.stateNode;if(b.tag===5&&k!==null&&(b=k,y!==null&&(k=Vl(g,y),k!=null&&v.push(Jl(g,k,b)))),x)break;g=g.return}0<v.length&&(h=new p(h,m,null,r,u),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==n0&&(m=r.relatedTarget||r.fromElement)&&(Vo(m)||m[Ha]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=c,m=m?Vo(m):null,m!==null&&(x=bi(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(v=Ev,k="onMouseLeave",y="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(v=$v,k="onPointerLeave",y="onPointerEnter",g="pointer"),x=p==null?h:Ii(p),b=m==null?h:Ii(m),h=new v(k,g+"leave",p,r,u),h.target=x,h.relatedTarget=b,k=null,Vo(u)===c&&(v=new v(y,g+"enter",m,r,u),v.target=b,v.relatedTarget=x,k=v),x=k,p&&m)t:{for(v=p,y=m,g=0,b=v;b;b=Ni(b))g++;for(b=0,k=y;k;k=Ni(k))b++;for(;0<g-b;)v=Ni(v),g--;for(;0<b-g;)y=Ni(y),b--;for(;g--;){if(v===y||y!==null&&v===y.alternate)break t;v=Ni(v),y=Ni(y)}v=null}else v=null;p!==null&&Hv(f,h,p,v,!1),m!==null&&x!==null&&Hv(f,x,m,v,!0)}}e:{if(h=c?Ii(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=eA;else if(Rv(h))if(kk)w=aA;else{w=rA;var S=tA}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=nA);if(w&&(w=w(e,c))){wk(f,w,r,u);break e}S&&S(e,h,c),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&Zp(h,"number",h.value)}switch(S=c?Ii(c):window,e){case"focusin":(Rv(S)||S.contentEditable==="true")&&(Li=S,u0=c,El=null);break;case"focusout":El=u0=Li=null;break;case"mousedown":f0=!0;break;case"contextmenu":case"mouseup":case"dragend":f0=!1,Wv(f,r,u);break;case"selectionchange":if(sA)break;case"keydown":case"keyup":Wv(f,r,u)}var j;if(Cm)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Di?xk(e,r)&&(_="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(vk&&r.locale!=="ko"&&(Di||_!=="onCompositionStart"?_==="onCompositionEnd"&&Di&&(j=yk()):(uo=u,Nm="value"in uo?uo.value:uo.textContent,Di=!0)),S=lf(c,_),0<S.length&&(_=new Tv(_,e,null,r,u),f.push({event:_,listeners:S}),j?_.data=j:(j=bk(r),j!==null&&(_.data=j)))),(j=qN?YN(e,r):QN(e,r))&&(c=lf(c,"onBeforeInput"),0<c.length&&(u=new Tv("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:c}),u.data=j))}Ek(f,t)})}function Jl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function lf(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=Vl(e,r),o!=null&&n.unshift(Jl(e,o,a)),o=Vl(e,t),o!=null&&n.push(Jl(e,o,a))),e=e.return}return n}function Ni(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Hv(e,t,r,n,a){for(var o=t._reactName,i=[];r!==null&&r!==n;){var s=r,l=s.alternate,c=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&c!==null&&(s=c,a?(l=Vl(r,o),l!=null&&i.unshift(Jl(r,l,s))):a||(l=Vl(r,o),l!=null&&i.push(Jl(r,l,s)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var fA=/\r\n?/g,dA=/\u0000|\uFFFD/g;function Vv(e){return(typeof e=="string"?e:""+e).replace(fA,`
`).replace(dA,"")}function xu(e,t,r){if(t=Vv(t),Vv(e)!==t&&r)throw Error(ae(425))}function cf(){}var d0=null,h0=null;function p0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var g0=typeof setTimeout=="function"?setTimeout:void 0,hA=typeof clearTimeout=="function"?clearTimeout:void 0,Kv=typeof Promise=="function"?Promise:void 0,pA=typeof queueMicrotask=="function"?queueMicrotask:typeof Kv<"u"?function(e){return Kv.resolve(null).then(e).catch(gA)}:g0;function gA(e){setTimeout(function(){throw e})}function Jh(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),ql(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);ql(t)}function xo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Xv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Fs=Math.random().toString(36).slice(2),ma="__reactFiber$"+Fs,ec="__reactProps$"+Fs,Ha="__reactContainer$"+Fs,m0="__reactEvents$"+Fs,mA="__reactListeners$"+Fs,yA="__reactHandles$"+Fs;function Vo(e){var t=e[ma];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ha]||r[ma]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Xv(e);e!==null;){if(r=e[ma])return r;e=Xv(e)}return t}e=r,r=e.parentNode}return null}function Vc(e){return e=e[ma]||e[Ha],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ii(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ae(33))}function Td(e){return e[ec]||null}var y0=[],Bi=-1;function No(e){return{current:e}}function Ft(e){0>Bi||(e.current=y0[Bi],y0[Bi]=null,Bi--)}function $t(e,t){Bi++,y0[Bi]=e.current,e.current=t}var _o={},Ur=No(_o),un=No(!1),si=_o;function as(e,t){var r=e.type.contextTypes;if(!r)return _o;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in r)a[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function fn(e){return e=e.childContextTypes,e!=null}function uf(){Ft(un),Ft(Ur)}function qv(e,t,r){if(Ur.current!==_o)throw Error(ae(168));$t(Ur,t),$t(un,r)}function $k(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(ae(108,tN(e)||"Unknown",a));return Qt({},r,n)}function ff(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_o,si=Ur.current,$t(Ur,e),$t(un,un.current),!0}function Yv(e,t,r){var n=e.stateNode;if(!n)throw Error(ae(169));r?(e=$k(e,t,si),n.__reactInternalMemoizedMergedChildContext=e,Ft(un),Ft(Ur),$t(Ur,e)):Ft(un),$t(un,r)}var Ta=null,$d=!1,ep=!1;function Dk(e){Ta===null?Ta=[e]:Ta.push(e)}function vA(e){$d=!0,Dk(e)}function Ao(){if(!ep&&Ta!==null){ep=!0;var e=0,t=bt;try{var r=Ta;for(bt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ta=null,$d=!1}catch(a){throw Ta!==null&&(Ta=Ta.slice(e+1)),ik(jm,Ao),a}finally{bt=t,ep=!1}}return null}var Fi=[],zi=0,df=null,hf=0,Tn=[],$n=0,li=null,$a=1,Da="";function zo(e,t){Fi[zi++]=hf,Fi[zi++]=df,df=e,hf=t}function Lk(e,t,r){Tn[$n++]=$a,Tn[$n++]=Da,Tn[$n++]=li,li=e;var n=$a;e=Da;var a=32-aa(n)-1;n&=~(1<<a),r+=1;var o=32-aa(t)+a;if(30<o){var i=a-a%5;o=(n&(1<<i)-1).toString(32),n>>=i,a-=i,$a=1<<32-aa(t)+a|r<<a|n,Da=o+e}else $a=1<<o|r<<a|n,Da=e}function Tm(e){e.return!==null&&(zo(e,1),Lk(e,1,0))}function $m(e){for(;e===df;)df=Fi[--zi],Fi[zi]=null,hf=Fi[--zi],Fi[zi]=null;for(;e===li;)li=Tn[--$n],Tn[$n]=null,Da=Tn[--$n],Tn[$n]=null,$a=Tn[--$n],Tn[$n]=null}var kn=null,wn=null,Ht=!1,ta=null;function Rk(e,t){var r=Dn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Qv(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,kn=e,wn=xo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,kn=e,wn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=li!==null?{id:$a,overflow:Da}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Dn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,kn=e,wn=null,!0):!1;default:return!1}}function v0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function x0(e){if(Ht){var t=wn;if(t){var r=t;if(!Qv(e,t)){if(v0(e))throw Error(ae(418));t=xo(r.nextSibling);var n=kn;t&&Qv(e,t)?Rk(n,r):(e.flags=e.flags&-4097|2,Ht=!1,kn=e)}}else{if(v0(e))throw Error(ae(418));e.flags=e.flags&-4097|2,Ht=!1,kn=e}}}function Zv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;kn=e}function bu(e){if(e!==kn)return!1;if(!Ht)return Zv(e),Ht=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!p0(e.type,e.memoizedProps)),t&&(t=wn)){if(v0(e))throw Ik(),Error(ae(418));for(;t;)Rk(e,t),t=xo(t.nextSibling)}if(Zv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ae(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){wn=xo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}wn=null}}else wn=kn?xo(e.stateNode.nextSibling):null;return!0}function Ik(){for(var e=wn;e;)e=xo(e.nextSibling)}function os(){wn=kn=null,Ht=!1}function Dm(e){ta===null?ta=[e]:ta.push(e)}var xA=Qa.ReactCurrentBatchConfig;function ul(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ae(309));var n=r.stateNode}if(!n)throw Error(ae(147,e));var a=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var s=a.refs;i===null?delete s[o]:s[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(ae(284));if(!r._owner)throw Error(ae(290,e))}return e}function wu(e,t){throw e=Object.prototype.toString.call(t),Error(ae(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Jv(e){var t=e._init;return t(e._payload)}function Bk(e){function t(y,g){if(e){var b=y.deletions;b===null?(y.deletions=[g],y.flags|=16):b.push(g)}}function r(y,g){if(!e)return null;for(;g!==null;)t(y,g),g=g.sibling;return null}function n(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function a(y,g){return y=So(y,g),y.index=0,y.sibling=null,y}function o(y,g,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<g?(y.flags|=2,g):b):(y.flags|=2,g)):(y.flags|=1048576,g)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function s(y,g,b,k){return g===null||g.tag!==6?(g=sp(b,y.mode,k),g.return=y,g):(g=a(g,b),g.return=y,g)}function l(y,g,b,k){var w=b.type;return w===$i?u(y,g,b.props.children,k,b.key):g!==null&&(g.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===ao&&Jv(w)===g.type)?(k=a(g,b.props),k.ref=ul(y,g,b),k.return=y,k):(k=Ju(b.type,b.key,b.props,null,y.mode,k),k.ref=ul(y,g,b),k.return=y,k)}function c(y,g,b,k){return g===null||g.tag!==4||g.stateNode.containerInfo!==b.containerInfo||g.stateNode.implementation!==b.implementation?(g=lp(b,y.mode,k),g.return=y,g):(g=a(g,b.children||[]),g.return=y,g)}function u(y,g,b,k,w){return g===null||g.tag!==7?(g=ri(b,y.mode,k,w),g.return=y,g):(g=a(g,b),g.return=y,g)}function f(y,g,b){if(typeof g=="string"&&g!==""||typeof g=="number")return g=sp(""+g,y.mode,b),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case uu:return b=Ju(g.type,g.key,g.props,null,y.mode,b),b.ref=ul(y,null,g),b.return=y,b;case Ti:return g=lp(g,y.mode,b),g.return=y,g;case ao:var k=g._init;return f(y,k(g._payload),b)}if(jl(g)||ol(g))return g=ri(g,y.mode,b,null),g.return=y,g;wu(y,g)}return null}function h(y,g,b,k){var w=g!==null?g.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:s(y,g,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case uu:return b.key===w?l(y,g,b,k):null;case Ti:return b.key===w?c(y,g,b,k):null;case ao:return w=b._init,h(y,g,w(b._payload),k)}if(jl(b)||ol(b))return w!==null?null:u(y,g,b,k,null);wu(y,b)}return null}function p(y,g,b,k,w){if(typeof k=="string"&&k!==""||typeof k=="number")return y=y.get(b)||null,s(g,y,""+k,w);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case uu:return y=y.get(k.key===null?b:k.key)||null,l(g,y,k,w);case Ti:return y=y.get(k.key===null?b:k.key)||null,c(g,y,k,w);case ao:var S=k._init;return p(y,g,b,S(k._payload),w)}if(jl(k)||ol(k))return y=y.get(b)||null,u(g,y,k,w,null);wu(g,k)}return null}function m(y,g,b,k){for(var w=null,S=null,j=g,_=g=0,P=null;j!==null&&_<b.length;_++){j.index>_?(P=j,j=null):P=j.sibling;var N=h(y,j,b[_],k);if(N===null){j===null&&(j=P);break}e&&j&&N.alternate===null&&t(y,j),g=o(N,g,_),S===null?w=N:S.sibling=N,S=N,j=P}if(_===b.length)return r(y,j),Ht&&zo(y,_),w;if(j===null){for(;_<b.length;_++)j=f(y,b[_],k),j!==null&&(g=o(j,g,_),S===null?w=j:S.sibling=j,S=j);return Ht&&zo(y,_),w}for(j=n(y,j);_<b.length;_++)P=p(j,y,_,b[_],k),P!==null&&(e&&P.alternate!==null&&j.delete(P.key===null?_:P.key),g=o(P,g,_),S===null?w=P:S.sibling=P,S=P);return e&&j.forEach(function(A){return t(y,A)}),Ht&&zo(y,_),w}function v(y,g,b,k){var w=ol(b);if(typeof w!="function")throw Error(ae(150));if(b=w.call(b),b==null)throw Error(ae(151));for(var S=w=null,j=g,_=g=0,P=null,N=b.next();j!==null&&!N.done;_++,N=b.next()){j.index>_?(P=j,j=null):P=j.sibling;var A=h(y,j,N.value,k);if(A===null){j===null&&(j=P);break}e&&j&&A.alternate===null&&t(y,j),g=o(A,g,_),S===null?w=A:S.sibling=A,S=A,j=P}if(N.done)return r(y,j),Ht&&zo(y,_),w;if(j===null){for(;!N.done;_++,N=b.next())N=f(y,N.value,k),N!==null&&(g=o(N,g,_),S===null?w=N:S.sibling=N,S=N);return Ht&&zo(y,_),w}for(j=n(y,j);!N.done;_++,N=b.next())N=p(j,y,_,N.value,k),N!==null&&(e&&N.alternate!==null&&j.delete(N.key===null?_:N.key),g=o(N,g,_),S===null?w=N:S.sibling=N,S=N);return e&&j.forEach(function(M){return t(y,M)}),Ht&&zo(y,_),w}function x(y,g,b,k){if(typeof b=="object"&&b!==null&&b.type===$i&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case uu:e:{for(var w=b.key,S=g;S!==null;){if(S.key===w){if(w=b.type,w===$i){if(S.tag===7){r(y,S.sibling),g=a(S,b.props.children),g.return=y,y=g;break e}}else if(S.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===ao&&Jv(w)===S.type){r(y,S.sibling),g=a(S,b.props),g.ref=ul(y,S,b),g.return=y,y=g;break e}r(y,S);break}else t(y,S);S=S.sibling}b.type===$i?(g=ri(b.props.children,y.mode,k,b.key),g.return=y,y=g):(k=Ju(b.type,b.key,b.props,null,y.mode,k),k.ref=ul(y,g,b),k.return=y,y=k)}return i(y);case Ti:e:{for(S=b.key;g!==null;){if(g.key===S)if(g.tag===4&&g.stateNode.containerInfo===b.containerInfo&&g.stateNode.implementation===b.implementation){r(y,g.sibling),g=a(g,b.children||[]),g.return=y,y=g;break e}else{r(y,g);break}else t(y,g);g=g.sibling}g=lp(b,y.mode,k),g.return=y,y=g}return i(y);case ao:return S=b._init,x(y,g,S(b._payload),k)}if(jl(b))return m(y,g,b,k);if(ol(b))return v(y,g,b,k);wu(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,g!==null&&g.tag===6?(r(y,g.sibling),g=a(g,b),g.return=y,y=g):(r(y,g),g=sp(b,y.mode,k),g.return=y,y=g),i(y)):r(y,g)}return x}var is=Bk(!0),Fk=Bk(!1),pf=No(null),gf=null,Wi=null,Lm=null;function Rm(){Lm=Wi=gf=null}function Im(e){var t=pf.current;Ft(pf),e._currentValue=t}function b0(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Zi(e,t){gf=e,Lm=Wi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ln=!0),e.firstContext=null)}function Fn(e){var t=e._currentValue;if(Lm!==e)if(e={context:e,memoizedValue:t,next:null},Wi===null){if(gf===null)throw Error(ae(308));Wi=e,gf.dependencies={lanes:0,firstContext:e}}else Wi=Wi.next=e;return t}var Ko=null;function Bm(e){Ko===null?Ko=[e]:Ko.push(e)}function zk(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Bm(t)):(r.next=a.next,a.next=r),t.interleaved=r,Va(e,n)}function Va(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var oo=!1;function Fm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wk(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ba(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function bo(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,st&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Va(e,r)}return a=n.interleaved,a===null?(t.next=t,Bm(n)):(t.next=a.next,a.next=t),n.interleaved=t,Va(e,r)}function Ku(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Om(e,r)}}function ex(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?a=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?a=o=t:o=o.next=t}else a=o=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function mf(e,t,r,n){var a=e.updateQueue;oo=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,s=a.shared.pending;if(s!==null){a.shared.pending=null;var l=s,c=l.next;l.next=null,i===null?o=c:i.next=c,i=l;var u=e.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==i&&(s===null?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(o!==null){var f=a.baseState;i=0,u=c=l=null,s=o;do{var h=s.lane,p=s.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,v=s;switch(h=t,p=r,v.tag){case 1:if(m=v.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=Qt({},f,h);break e;case 2:oo=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(c=u=p,l=f):u=u.next=p,i|=h;if(s=s.next,s===null){if(s=a.shared.pending,s===null)break;h=s,s=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(l=f),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);ui|=i,e.lanes=i,e.memoizedState=f}}function tx(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ae(191,a));a.call(n)}}}var Kc={},ba=No(Kc),tc=No(Kc),rc=No(Kc);function Xo(e){if(e===Kc)throw Error(ae(174));return e}function zm(e,t){switch($t(rc,t),$t(tc,e),$t(ba,Kc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:e0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=e0(t,e)}Ft(ba),$t(ba,t)}function ss(){Ft(ba),Ft(tc),Ft(rc)}function Uk(e){Xo(rc.current);var t=Xo(ba.current),r=e0(t,e.type);t!==r&&($t(tc,e),$t(ba,r))}function Wm(e){tc.current===e&&(Ft(ba),Ft(tc))}var qt=No(0);function yf(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tp=[];function Um(){for(var e=0;e<tp.length;e++)tp[e]._workInProgressVersionPrimary=null;tp.length=0}var Xu=Qa.ReactCurrentDispatcher,rp=Qa.ReactCurrentBatchConfig,ci=0,Yt=null,pr=null,Sr=null,vf=!1,Tl=!1,nc=0,bA=0;function Dr(){throw Error(ae(321))}function Gm(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ia(e[r],t[r]))return!1;return!0}function Hm(e,t,r,n,a,o){if(ci=o,Yt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xu.current=e===null||e.memoizedState===null?jA:OA,e=r(n,a),Tl){o=0;do{if(Tl=!1,nc=0,25<=o)throw Error(ae(301));o+=1,Sr=pr=null,t.updateQueue=null,Xu.current=_A,e=r(n,a)}while(Tl)}if(Xu.current=xf,t=pr!==null&&pr.next!==null,ci=0,Sr=pr=Yt=null,vf=!1,t)throw Error(ae(300));return e}function Vm(){var e=nc!==0;return nc=0,e}function ga(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sr===null?Yt.memoizedState=Sr=e:Sr=Sr.next=e,Sr}function zn(){if(pr===null){var e=Yt.alternate;e=e!==null?e.memoizedState:null}else e=pr.next;var t=Sr===null?Yt.memoizedState:Sr.next;if(t!==null)Sr=t,pr=e;else{if(e===null)throw Error(ae(310));pr=e,e={memoizedState:pr.memoizedState,baseState:pr.baseState,baseQueue:pr.baseQueue,queue:pr.queue,next:null},Sr===null?Yt.memoizedState=Sr=e:Sr=Sr.next=e}return Sr}function ac(e,t){return typeof t=="function"?t(e):t}function np(e){var t=zn(),r=t.queue;if(r===null)throw Error(ae(311));r.lastRenderedReducer=e;var n=pr,a=n.baseQueue,o=r.pending;if(o!==null){if(a!==null){var i=a.next;a.next=o.next,o.next=i}n.baseQueue=a=o,r.pending=null}if(a!==null){o=a.next,n=n.baseState;var s=i=null,l=null,c=o;do{var u=c.lane;if((ci&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=f,i=n):l=l.next=f,Yt.lanes|=u,ui|=u}c=c.next}while(c!==null&&c!==o);l===null?i=n:l.next=s,ia(n,t.memoizedState)||(ln=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do o=a.lane,Yt.lanes|=o,ui|=o,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ap(e){var t=zn(),r=t.queue;if(r===null)throw Error(ae(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,o=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do o=e(o,i.action),i=i.next;while(i!==a);ia(o,t.memoizedState)||(ln=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function Gk(){}function Hk(e,t){var r=Yt,n=zn(),a=t(),o=!ia(n.memoizedState,a);if(o&&(n.memoizedState=a,ln=!0),n=n.queue,Km(Xk.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Sr!==null&&Sr.memoizedState.tag&1){if(r.flags|=2048,oc(9,Kk.bind(null,r,n,a,t),void 0,null),jr===null)throw Error(ae(349));ci&30||Vk(r,t,a)}return a}function Vk(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Yt.updateQueue,t===null?(t={lastEffect:null,stores:null},Yt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Kk(e,t,r,n){t.value=r,t.getSnapshot=n,qk(t)&&Yk(e)}function Xk(e,t,r){return r(function(){qk(t)&&Yk(e)})}function qk(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ia(e,r)}catch{return!0}}function Yk(e){var t=Va(e,1);t!==null&&oa(t,e,1,-1)}function rx(e){var t=ga();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ac,lastRenderedState:e},t.queue=e,e=e.dispatch=SA.bind(null,Yt,e),[t.memoizedState,e]}function oc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Yt.updateQueue,t===null?(t={lastEffect:null,stores:null},Yt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Qk(){return zn().memoizedState}function qu(e,t,r,n){var a=ga();Yt.flags|=e,a.memoizedState=oc(1|t,r,void 0,n===void 0?null:n)}function Dd(e,t,r,n){var a=zn();n=n===void 0?null:n;var o=void 0;if(pr!==null){var i=pr.memoizedState;if(o=i.destroy,n!==null&&Gm(n,i.deps)){a.memoizedState=oc(t,r,o,n);return}}Yt.flags|=e,a.memoizedState=oc(1|t,r,o,n)}function nx(e,t){return qu(8390656,8,e,t)}function Km(e,t){return Dd(2048,8,e,t)}function Zk(e,t){return Dd(4,2,e,t)}function Jk(e,t){return Dd(4,4,e,t)}function eS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function tS(e,t,r){return r=r!=null?r.concat([e]):null,Dd(4,4,eS.bind(null,t,e),r)}function Xm(){}function rS(e,t){var r=zn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Gm(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function nS(e,t){var r=zn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Gm(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function aS(e,t,r){return ci&21?(ia(r,t)||(r=ck(),Yt.lanes|=r,ui|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ln=!0),e.memoizedState=r)}function wA(e,t){var r=bt;bt=r!==0&&4>r?r:4,e(!0);var n=rp.transition;rp.transition={};try{e(!1),t()}finally{bt=r,rp.transition=n}}function oS(){return zn().memoizedState}function kA(e,t,r){var n=ko(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},iS(e))sS(t,r);else if(r=zk(e,t,r,n),r!==null){var a=Yr();oa(r,e,n,a),lS(r,t,n)}}function SA(e,t,r){var n=ko(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(iS(e))sS(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,s=o(i,r);if(a.hasEagerState=!0,a.eagerState=s,ia(s,i)){var l=t.interleaved;l===null?(a.next=a,Bm(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=zk(e,t,a,n),r!==null&&(a=Yr(),oa(r,e,n,a),lS(r,t,n))}}function iS(e){var t=e.alternate;return e===Yt||t!==null&&t===Yt}function sS(e,t){Tl=vf=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function lS(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Om(e,r)}}var xf={readContext:Fn,useCallback:Dr,useContext:Dr,useEffect:Dr,useImperativeHandle:Dr,useInsertionEffect:Dr,useLayoutEffect:Dr,useMemo:Dr,useReducer:Dr,useRef:Dr,useState:Dr,useDebugValue:Dr,useDeferredValue:Dr,useTransition:Dr,useMutableSource:Dr,useSyncExternalStore:Dr,useId:Dr,unstable_isNewReconciler:!1},jA={readContext:Fn,useCallback:function(e,t){return ga().memoizedState=[e,t===void 0?null:t],e},useContext:Fn,useEffect:nx,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,qu(4194308,4,eS.bind(null,t,e),r)},useLayoutEffect:function(e,t){return qu(4194308,4,e,t)},useInsertionEffect:function(e,t){return qu(4,2,e,t)},useMemo:function(e,t){var r=ga();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ga();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=kA.bind(null,Yt,e),[n.memoizedState,e]},useRef:function(e){var t=ga();return e={current:e},t.memoizedState=e},useState:rx,useDebugValue:Xm,useDeferredValue:function(e){return ga().memoizedState=e},useTransition:function(){var e=rx(!1),t=e[0];return e=wA.bind(null,e[1]),ga().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Yt,a=ga();if(Ht){if(r===void 0)throw Error(ae(407));r=r()}else{if(r=t(),jr===null)throw Error(ae(349));ci&30||Vk(n,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,nx(Xk.bind(null,n,o,e),[e]),n.flags|=2048,oc(9,Kk.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=ga(),t=jr.identifierPrefix;if(Ht){var r=Da,n=$a;r=(n&~(1<<32-aa(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=nc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=bA++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},OA={readContext:Fn,useCallback:rS,useContext:Fn,useEffect:Km,useImperativeHandle:tS,useInsertionEffect:Zk,useLayoutEffect:Jk,useMemo:nS,useReducer:np,useRef:Qk,useState:function(){return np(ac)},useDebugValue:Xm,useDeferredValue:function(e){var t=zn();return aS(t,pr.memoizedState,e)},useTransition:function(){var e=np(ac)[0],t=zn().memoizedState;return[e,t]},useMutableSource:Gk,useSyncExternalStore:Hk,useId:oS,unstable_isNewReconciler:!1},_A={readContext:Fn,useCallback:rS,useContext:Fn,useEffect:Km,useImperativeHandle:tS,useInsertionEffect:Zk,useLayoutEffect:Jk,useMemo:nS,useReducer:ap,useRef:Qk,useState:function(){return ap(ac)},useDebugValue:Xm,useDeferredValue:function(e){var t=zn();return pr===null?t.memoizedState=e:aS(t,pr.memoizedState,e)},useTransition:function(){var e=ap(ac)[0],t=zn().memoizedState;return[e,t]},useMutableSource:Gk,useSyncExternalStore:Hk,useId:oS,unstable_isNewReconciler:!1};function Qn(e,t){if(e&&e.defaultProps){t=Qt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function w0(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Qt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ld={isMounted:function(e){return(e=e._reactInternals)?bi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Yr(),a=ko(e),o=Ba(n,a);o.payload=t,r!=null&&(o.callback=r),t=bo(e,o,a),t!==null&&(oa(t,e,a,n),Ku(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Yr(),a=ko(e),o=Ba(n,a);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=bo(e,o,a),t!==null&&(oa(t,e,a,n),Ku(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Yr(),n=ko(e),a=Ba(r,n);a.tag=2,t!=null&&(a.callback=t),t=bo(e,a,n),t!==null&&(oa(t,e,n,r),Ku(t,e,n))}};function ax(e,t,r,n,a,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!Ql(r,n)||!Ql(a,o):!0}function cS(e,t,r){var n=!1,a=_o,o=t.contextType;return typeof o=="object"&&o!==null?o=Fn(o):(a=fn(t)?si:Ur.current,n=t.contextTypes,o=(n=n!=null)?as(e,a):_o),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ld,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function ox(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ld.enqueueReplaceState(t,t.state,null)}function k0(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Fm(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=Fn(o):(o=fn(t)?si:Ur.current,a.context=as(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(w0(e,t,o,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Ld.enqueueReplaceState(a,a.state,null),mf(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function ls(e,t){try{var r="",n=t;do r+=eN(n),n=n.return;while(n);var a=r}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function op(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function S0(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var PA=typeof WeakMap=="function"?WeakMap:Map;function uS(e,t,r){r=Ba(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){wf||(wf=!0,T0=n),S0(e,t)},r}function fS(e,t,r){r=Ba(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){S0(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){S0(e,t),typeof n!="function"&&(wo===null?wo=new Set([this]):wo.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function ix(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new PA;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=zA.bind(null,e,t,r),t.then(e,e))}function sx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function lx(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ba(-1,1),t.tag=2,bo(r,t,1))),r.lanes|=1),e)}var NA=Qa.ReactCurrentOwner,ln=!1;function Kr(e,t,r,n){t.child=e===null?Fk(t,null,r,n):is(t,e.child,r,n)}function cx(e,t,r,n,a){r=r.render;var o=t.ref;return Zi(t,a),n=Hm(e,t,r,n,o,a),r=Vm(),e!==null&&!ln?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ka(e,t,a)):(Ht&&r&&Tm(t),t.flags|=1,Kr(e,t,n,a),t.child)}function ux(e,t,r,n,a){if(e===null){var o=r.type;return typeof o=="function"&&!ry(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,dS(e,t,o,n,a)):(e=Ju(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:Ql,r(i,n)&&e.ref===t.ref)return Ka(e,t,a)}return t.flags|=1,e=So(o,n),e.ref=t.ref,e.return=t,t.child=e}function dS(e,t,r,n,a){if(e!==null){var o=e.memoizedProps;if(Ql(o,n)&&e.ref===t.ref)if(ln=!1,t.pendingProps=n=o,(e.lanes&a)!==0)e.flags&131072&&(ln=!0);else return t.lanes=e.lanes,Ka(e,t,a)}return j0(e,t,r,n,a)}function hS(e,t,r){var n=t.pendingProps,a=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$t(Gi,vn),vn|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$t(Gi,vn),vn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,$t(Gi,vn),vn|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,$t(Gi,vn),vn|=n;return Kr(e,t,a,r),t.child}function pS(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function j0(e,t,r,n,a){var o=fn(r)?si:Ur.current;return o=as(t,o),Zi(t,a),r=Hm(e,t,r,n,o,a),n=Vm(),e!==null&&!ln?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ka(e,t,a)):(Ht&&n&&Tm(t),t.flags|=1,Kr(e,t,r,a),t.child)}function fx(e,t,r,n,a){if(fn(r)){var o=!0;ff(t)}else o=!1;if(Zi(t,a),t.stateNode===null)Yu(e,t),cS(t,r,n),k0(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,s=t.memoizedProps;i.props=s;var l=i.context,c=r.contextType;typeof c=="object"&&c!==null?c=Fn(c):(c=fn(r)?si:Ur.current,c=as(t,c));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==n||l!==c)&&ox(t,i,n,c),oo=!1;var h=t.memoizedState;i.state=h,mf(t,n,i,a),l=t.memoizedState,s!==n||h!==l||un.current||oo?(typeof u=="function"&&(w0(t,r,u,n),l=t.memoizedState),(s=oo||ax(t,r,s,n,h,l,c))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),i.props=n,i.state=l,i.context=c,n=s):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Wk(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Qn(t.type,s),i.props=c,f=t.pendingProps,h=i.context,l=r.contextType,typeof l=="object"&&l!==null?l=Fn(l):(l=fn(r)?si:Ur.current,l=as(t,l));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==f||h!==l)&&ox(t,i,n,l),oo=!1,h=t.memoizedState,i.state=h,mf(t,n,i,a);var m=t.memoizedState;s!==f||h!==m||un.current||oo?(typeof p=="function"&&(w0(t,r,p,n),m=t.memoizedState),(c=oo||ax(t,r,c,n,h,m,l)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,m,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,m,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),i.props=n,i.state=m,i.context=l,n=c):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return O0(e,t,r,n,o,a)}function O0(e,t,r,n,a,o){pS(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&Yv(t,r,!1),Ka(e,t,o);n=t.stateNode,NA.current=t;var s=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=is(t,e.child,null,o),t.child=is(t,null,s,o)):Kr(e,t,s,o),t.memoizedState=n.state,a&&Yv(t,r,!0),t.child}function gS(e){var t=e.stateNode;t.pendingContext?qv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&qv(e,t.context,!1),zm(e,t.containerInfo)}function dx(e,t,r,n,a){return os(),Dm(a),t.flags|=256,Kr(e,t,r,n),t.child}var _0={dehydrated:null,treeContext:null,retryLane:0};function P0(e){return{baseLanes:e,cachePool:null,transitions:null}}function mS(e,t,r){var n=t.pendingProps,a=qt.current,o=!1,i=(t.flags&128)!==0,s;if((s=i)||(s=e!==null&&e.memoizedState===null?!1:(a&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),$t(qt,a&1),e===null)return x0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Bd(i,n,0,null),e=ri(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=P0(r),t.memoizedState=_0,e):qm(t,i));if(a=e.memoizedState,a!==null&&(s=a.dehydrated,s!==null))return AA(e,t,i,n,s,a,r);if(o){o=n.fallback,i=t.mode,a=e.child,s=a.sibling;var l={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=So(a,l),n.subtreeFlags=a.subtreeFlags&14680064),s!==null?o=So(s,o):(o=ri(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?P0(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=_0,n}return o=e.child,e=o.sibling,n=So(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function qm(e,t){return t=Bd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ku(e,t,r,n){return n!==null&&Dm(n),is(t,e.child,null,r),e=qm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function AA(e,t,r,n,a,o,i){if(r)return t.flags&256?(t.flags&=-257,n=op(Error(ae(422))),ku(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,a=t.mode,n=Bd({mode:"visible",children:n.children},a,0,null),o=ri(o,a,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&is(t,e.child,null,i),t.child.memoizedState=P0(i),t.memoizedState=_0,o);if(!(t.mode&1))return ku(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var s=n.dgst;return n=s,o=Error(ae(419)),n=op(o,n,void 0),ku(e,t,i,n)}if(s=(i&e.childLanes)!==0,ln||s){if(n=jr,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,Va(e,a),oa(n,e,a,-1))}return ty(),n=op(Error(ae(421))),ku(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=WA.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,wn=xo(a.nextSibling),kn=t,Ht=!0,ta=null,e!==null&&(Tn[$n++]=$a,Tn[$n++]=Da,Tn[$n++]=li,$a=e.id,Da=e.overflow,li=t),t=qm(t,n.children),t.flags|=4096,t)}function hx(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),b0(e.return,t,r)}function ip(e,t,r,n,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=a)}function yS(e,t,r){var n=t.pendingProps,a=n.revealOrder,o=n.tail;if(Kr(e,t,n.children,r),n=qt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hx(e,r,t);else if(e.tag===19)hx(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if($t(qt,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&yf(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),ip(t,!1,a,r,o);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&yf(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}ip(t,!0,r,null,o);break;case"together":ip(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ka(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ui|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ae(153));if(t.child!==null){for(e=t.child,r=So(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=So(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function MA(e,t,r){switch(t.tag){case 3:gS(t),os();break;case 5:Uk(t);break;case 1:fn(t.type)&&ff(t);break;case 4:zm(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;$t(pf,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?($t(qt,qt.current&1),t.flags|=128,null):r&t.child.childLanes?mS(e,t,r):($t(qt,qt.current&1),e=Ka(e,t,r),e!==null?e.sibling:null);$t(qt,qt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return yS(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),$t(qt,qt.current),n)break;return null;case 22:case 23:return t.lanes=0,hS(e,t,r)}return Ka(e,t,r)}var vS,N0,xS,bS;vS=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};N0=function(){};xS=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Xo(ba.current);var o=null;switch(r){case"input":a=Yp(e,a),n=Yp(e,n),o=[];break;case"select":a=Qt({},a,{value:void 0}),n=Qt({},n,{value:void 0}),o=[];break;case"textarea":a=Jp(e,a),n=Jp(e,n),o=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=cf)}t0(r,n);var i;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var s=a[c];for(i in s)s.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Gl.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in n){var l=n[c];if(s=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(i in s)!s.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in l)l.hasOwnProperty(i)&&s[i]!==l[i]&&(r||(r={}),r[i]=l[i])}else r||(o||(o=[]),o.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Gl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Rt("scroll",e),o||s===l||(o=[])):(o=o||[]).push(c,l))}r&&(o=o||[]).push("style",r);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};bS=function(e,t,r,n){r!==n&&(t.flags|=4)};function fl(e,t){if(!Ht)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Lr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function CA(e,t,r){var n=t.pendingProps;switch($m(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lr(t),null;case 1:return fn(t.type)&&uf(),Lr(t),null;case 3:return n=t.stateNode,ss(),Ft(un),Ft(Ur),Um(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(bu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ta!==null&&(L0(ta),ta=null))),N0(e,t),Lr(t),null;case 5:Wm(t);var a=Xo(rc.current);if(r=t.type,e!==null&&t.stateNode!=null)xS(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ae(166));return Lr(t),null}if(e=Xo(ba.current),bu(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[ma]=t,n[ec]=o,e=(t.mode&1)!==0,r){case"dialog":Rt("cancel",n),Rt("close",n);break;case"iframe":case"object":case"embed":Rt("load",n);break;case"video":case"audio":for(a=0;a<_l.length;a++)Rt(_l[a],n);break;case"source":Rt("error",n);break;case"img":case"image":case"link":Rt("error",n),Rt("load",n);break;case"details":Rt("toggle",n);break;case"input":kv(n,o),Rt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Rt("invalid",n);break;case"textarea":jv(n,o),Rt("invalid",n)}t0(r,o),a=null;for(var i in o)if(o.hasOwnProperty(i)){var s=o[i];i==="children"?typeof s=="string"?n.textContent!==s&&(o.suppressHydrationWarning!==!0&&xu(n.textContent,s,e),a=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&xu(n.textContent,s,e),a=["children",""+s]):Gl.hasOwnProperty(i)&&s!=null&&i==="onScroll"&&Rt("scroll",n)}switch(r){case"input":fu(n),Sv(n,o,!0);break;case"textarea":fu(n),Ov(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=cf)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=X2(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[ma]=t,e[ec]=n,vS(e,t,!1,!1),t.stateNode=e;e:{switch(i=r0(r,n),r){case"dialog":Rt("cancel",e),Rt("close",e),a=n;break;case"iframe":case"object":case"embed":Rt("load",e),a=n;break;case"video":case"audio":for(a=0;a<_l.length;a++)Rt(_l[a],e);a=n;break;case"source":Rt("error",e),a=n;break;case"img":case"image":case"link":Rt("error",e),Rt("load",e),a=n;break;case"details":Rt("toggle",e),a=n;break;case"input":kv(e,n),a=Yp(e,n),Rt("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Qt({},n,{value:void 0}),Rt("invalid",e);break;case"textarea":jv(e,n),a=Jp(e,n),Rt("invalid",e);break;default:a=n}t0(r,a),s=a;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?Q2(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&q2(e,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Hl(e,l):typeof l=="number"&&Hl(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Gl.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Rt("scroll",e):l!=null&&xm(e,o,l,i))}switch(r){case"input":fu(e),Sv(e,n,!1);break;case"textarea":fu(e),Ov(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Oo(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Xi(e,!!n.multiple,o,!1):n.defaultValue!=null&&Xi(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=cf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Lr(t),null;case 6:if(e&&t.stateNode!=null)bS(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ae(166));if(r=Xo(rc.current),Xo(ba.current),bu(t)){if(n=t.stateNode,r=t.memoizedProps,n[ma]=t,(o=n.nodeValue!==r)&&(e=kn,e!==null))switch(e.tag){case 3:xu(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&xu(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ma]=t,t.stateNode=n}return Lr(t),null;case 13:if(Ft(qt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ht&&wn!==null&&t.mode&1&&!(t.flags&128))Ik(),os(),t.flags|=98560,o=!1;else if(o=bu(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(ae(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ae(317));o[ma]=t}else os(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Lr(t),o=!1}else ta!==null&&(L0(ta),ta=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||qt.current&1?gr===0&&(gr=3):ty())),t.updateQueue!==null&&(t.flags|=4),Lr(t),null);case 4:return ss(),N0(e,t),e===null&&Zl(t.stateNode.containerInfo),Lr(t),null;case 10:return Im(t.type._context),Lr(t),null;case 17:return fn(t.type)&&uf(),Lr(t),null;case 19:if(Ft(qt),o=t.memoizedState,o===null)return Lr(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)fl(o,!1);else{if(gr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=yf(e),i!==null){for(t.flags|=128,fl(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return $t(qt,qt.current&1|2),t.child}e=e.sibling}o.tail!==null&&ar()>cs&&(t.flags|=128,n=!0,fl(o,!1),t.lanes=4194304)}else{if(!n)if(e=yf(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),fl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Ht)return Lr(t),null}else 2*ar()-o.renderingStartTime>cs&&r!==1073741824&&(t.flags|=128,n=!0,fl(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ar(),t.sibling=null,r=qt.current,$t(qt,n?r&1|2:r&1),t):(Lr(t),null);case 22:case 23:return ey(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?vn&1073741824&&(Lr(t),t.subtreeFlags&6&&(t.flags|=8192)):Lr(t),null;case 24:return null;case 25:return null}throw Error(ae(156,t.tag))}function EA(e,t){switch($m(t),t.tag){case 1:return fn(t.type)&&uf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ss(),Ft(un),Ft(Ur),Um(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Wm(t),null;case 13:if(Ft(qt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ae(340));os()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ft(qt),null;case 4:return ss(),null;case 10:return Im(t.type._context),null;case 22:case 23:return ey(),null;case 24:return null;default:return null}}var Su=!1,Br=!1,TA=typeof WeakSet=="function"?WeakSet:Set,he=null;function Ui(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){tr(e,t,n)}else r.current=null}function A0(e,t,r){try{r()}catch(n){tr(e,t,n)}}var px=!1;function $A(e,t){if(d0=of,e=Ok(),Em(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,s=-1,l=-1,c=0,u=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(s=i+a),f!==o||n!==0&&f.nodeType!==3||(l=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++c===a&&(s=i),h===o&&++u===n&&(l=i),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(h0={focusedElem:e,selectionRange:r},of=!1,he=t;he!==null;)if(t=he,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,he=e;else for(;he!==null;){t=he;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,x=m.memoizedState,y=t.stateNode,g=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:Qn(t.type,v),x);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(k){tr(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,he=e;break}he=t.return}return m=px,px=!1,m}function $l(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&A0(t,r,o)}a=a.next}while(a!==n)}}function Rd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function M0(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function wS(e){var t=e.alternate;t!==null&&(e.alternate=null,wS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ma],delete t[ec],delete t[m0],delete t[mA],delete t[yA])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function kS(e){return e.tag===5||e.tag===3||e.tag===4}function gx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function C0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=cf));else if(n!==4&&(e=e.child,e!==null))for(C0(e,t,r),e=e.sibling;e!==null;)C0(e,t,r),e=e.sibling}function E0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(E0(e,t,r),e=e.sibling;e!==null;)E0(e,t,r),e=e.sibling}var Nr=null,Zn=!1;function ro(e,t,r){for(r=r.child;r!==null;)SS(e,t,r),r=r.sibling}function SS(e,t,r){if(xa&&typeof xa.onCommitFiberUnmount=="function")try{xa.onCommitFiberUnmount(Ad,r)}catch{}switch(r.tag){case 5:Br||Ui(r,t);case 6:var n=Nr,a=Zn;Nr=null,ro(e,t,r),Nr=n,Zn=a,Nr!==null&&(Zn?(e=Nr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Nr.removeChild(r.stateNode));break;case 18:Nr!==null&&(Zn?(e=Nr,r=r.stateNode,e.nodeType===8?Jh(e.parentNode,r):e.nodeType===1&&Jh(e,r),ql(e)):Jh(Nr,r.stateNode));break;case 4:n=Nr,a=Zn,Nr=r.stateNode.containerInfo,Zn=!0,ro(e,t,r),Nr=n,Zn=a;break;case 0:case 11:case 14:case 15:if(!Br&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var o=a,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&A0(r,t,i),a=a.next}while(a!==n)}ro(e,t,r);break;case 1:if(!Br&&(Ui(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){tr(r,t,s)}ro(e,t,r);break;case 21:ro(e,t,r);break;case 22:r.mode&1?(Br=(n=Br)||r.memoizedState!==null,ro(e,t,r),Br=n):ro(e,t,r);break;default:ro(e,t,r)}}function mx(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new TA),t.forEach(function(n){var a=UA.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function qn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var o=e,i=t,s=i;e:for(;s!==null;){switch(s.tag){case 5:Nr=s.stateNode,Zn=!1;break e;case 3:Nr=s.stateNode.containerInfo,Zn=!0;break e;case 4:Nr=s.stateNode.containerInfo,Zn=!0;break e}s=s.return}if(Nr===null)throw Error(ae(160));SS(o,i,a),Nr=null,Zn=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){tr(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)jS(t,e),t=t.sibling}function jS(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(qn(t,e),pa(e),n&4){try{$l(3,e,e.return),Rd(3,e)}catch(v){tr(e,e.return,v)}try{$l(5,e,e.return)}catch(v){tr(e,e.return,v)}}break;case 1:qn(t,e),pa(e),n&512&&r!==null&&Ui(r,r.return);break;case 5:if(qn(t,e),pa(e),n&512&&r!==null&&Ui(r,r.return),e.flags&32){var a=e.stateNode;try{Hl(a,"")}catch(v){tr(e,e.return,v)}}if(n&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&V2(a,o),r0(s,i);var c=r0(s,o);for(i=0;i<l.length;i+=2){var u=l[i],f=l[i+1];u==="style"?Q2(a,f):u==="dangerouslySetInnerHTML"?q2(a,f):u==="children"?Hl(a,f):xm(a,u,f,c)}switch(s){case"input":Qp(a,o);break;case"textarea":K2(a,o);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Xi(a,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?Xi(a,!!o.multiple,o.defaultValue,!0):Xi(a,!!o.multiple,o.multiple?[]:"",!1))}a[ec]=o}catch(v){tr(e,e.return,v)}}break;case 6:if(qn(t,e),pa(e),n&4){if(e.stateNode===null)throw Error(ae(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(v){tr(e,e.return,v)}}break;case 3:if(qn(t,e),pa(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ql(t.containerInfo)}catch(v){tr(e,e.return,v)}break;case 4:qn(t,e),pa(e);break;case 13:qn(t,e),pa(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(Zm=ar())),n&4&&mx(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Br=(c=Br)||u,qn(t,e),Br=c):qn(t,e),pa(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(he=e,u=e.child;u!==null;){for(f=he=u;he!==null;){switch(h=he,p=h.child,h.tag){case 0:case 11:case 14:case 15:$l(4,h,h.return);break;case 1:Ui(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){tr(n,r,v)}}break;case 5:Ui(h,h.return);break;case 22:if(h.memoizedState!==null){vx(f);continue}}p!==null?(p.return=h,he=p):vx(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,c?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=Y2("display",i))}catch(v){tr(e,e.return,v)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){tr(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:qn(t,e),pa(e),n&4&&mx(e);break;case 21:break;default:qn(t,e),pa(e)}}function pa(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(kS(r)){var n=r;break e}r=r.return}throw Error(ae(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Hl(a,""),n.flags&=-33);var o=gx(e);E0(e,o,a);break;case 3:case 4:var i=n.stateNode.containerInfo,s=gx(e);C0(e,s,i);break;default:throw Error(ae(161))}}catch(l){tr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function DA(e,t,r){he=e,OS(e)}function OS(e,t,r){for(var n=(e.mode&1)!==0;he!==null;){var a=he,o=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||Su;if(!i){var s=a.alternate,l=s!==null&&s.memoizedState!==null||Br;s=Su;var c=Br;if(Su=i,(Br=l)&&!c)for(he=a;he!==null;)i=he,l=i.child,i.tag===22&&i.memoizedState!==null?xx(a):l!==null?(l.return=i,he=l):xx(a);for(;o!==null;)he=o,OS(o),o=o.sibling;he=a,Su=s,Br=c}yx(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,he=o):yx(e)}}function yx(e){for(;he!==null;){var t=he;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Br||Rd(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Br)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Qn(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&tx(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}tx(t,i,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&ql(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}Br||t.flags&512&&M0(t)}catch(h){tr(t,t.return,h)}}if(t===e){he=null;break}if(r=t.sibling,r!==null){r.return=t.return,he=r;break}he=t.return}}function vx(e){for(;he!==null;){var t=he;if(t===e){he=null;break}var r=t.sibling;if(r!==null){r.return=t.return,he=r;break}he=t.return}}function xx(e){for(;he!==null;){var t=he;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Rd(4,t)}catch(l){tr(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){tr(t,a,l)}}var o=t.return;try{M0(t)}catch(l){tr(t,o,l)}break;case 5:var i=t.return;try{M0(t)}catch(l){tr(t,i,l)}}}catch(l){tr(t,t.return,l)}if(t===e){he=null;break}var s=t.sibling;if(s!==null){s.return=t.return,he=s;break}he=t.return}}var LA=Math.ceil,bf=Qa.ReactCurrentDispatcher,Ym=Qa.ReactCurrentOwner,In=Qa.ReactCurrentBatchConfig,st=0,jr=null,cr=null,Mr=0,vn=0,Gi=No(0),gr=0,ic=null,ui=0,Id=0,Qm=0,Dl=null,sn=null,Zm=0,cs=1/0,Ea=null,wf=!1,T0=null,wo=null,ju=!1,fo=null,kf=0,Ll=0,$0=null,Qu=-1,Zu=0;function Yr(){return st&6?ar():Qu!==-1?Qu:Qu=ar()}function ko(e){return e.mode&1?st&2&&Mr!==0?Mr&-Mr:xA.transition!==null?(Zu===0&&(Zu=ck()),Zu):(e=bt,e!==0||(e=window.event,e=e===void 0?16:mk(e.type)),e):1}function oa(e,t,r,n){if(50<Ll)throw Ll=0,$0=null,Error(ae(185));Gc(e,r,n),(!(st&2)||e!==jr)&&(e===jr&&(!(st&2)&&(Id|=r),gr===4&&lo(e,Mr)),dn(e,n),r===1&&st===0&&!(t.mode&1)&&(cs=ar()+500,$d&&Ao()))}function dn(e,t){var r=e.callbackNode;xN(e,t);var n=af(e,e===jr?Mr:0);if(n===0)r!==null&&Nv(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Nv(r),t===1)e.tag===0?vA(bx.bind(null,e)):Dk(bx.bind(null,e)),pA(function(){!(st&6)&&Ao()}),r=null;else{switch(uk(n)){case 1:r=jm;break;case 4:r=sk;break;case 16:r=nf;break;case 536870912:r=lk;break;default:r=nf}r=TS(r,_S.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function _S(e,t){if(Qu=-1,Zu=0,st&6)throw Error(ae(327));var r=e.callbackNode;if(Ji()&&e.callbackNode!==r)return null;var n=af(e,e===jr?Mr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Sf(e,n);else{t=n;var a=st;st|=2;var o=NS();(jr!==e||Mr!==t)&&(Ea=null,cs=ar()+500,ti(e,t));do try{BA();break}catch(s){PS(e,s)}while(!0);Rm(),bf.current=o,st=a,cr!==null?t=0:(jr=null,Mr=0,t=gr)}if(t!==0){if(t===2&&(a=s0(e),a!==0&&(n=a,t=D0(e,a))),t===1)throw r=ic,ti(e,0),lo(e,n),dn(e,ar()),r;if(t===6)lo(e,n);else{if(a=e.current.alternate,!(n&30)&&!RA(a)&&(t=Sf(e,n),t===2&&(o=s0(e),o!==0&&(n=o,t=D0(e,o))),t===1))throw r=ic,ti(e,0),lo(e,n),dn(e,ar()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(ae(345));case 2:Wo(e,sn,Ea);break;case 3:if(lo(e,n),(n&130023424)===n&&(t=Zm+500-ar(),10<t)){if(af(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Yr(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=g0(Wo.bind(null,e,sn,Ea),t);break}Wo(e,sn,Ea);break;case 4:if(lo(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-aa(n);o=1<<i,i=t[i],i>a&&(a=i),n&=~o}if(n=a,n=ar()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*LA(n/1960))-n,10<n){e.timeoutHandle=g0(Wo.bind(null,e,sn,Ea),n);break}Wo(e,sn,Ea);break;case 5:Wo(e,sn,Ea);break;default:throw Error(ae(329))}}}return dn(e,ar()),e.callbackNode===r?_S.bind(null,e):null}function D0(e,t){var r=Dl;return e.current.memoizedState.isDehydrated&&(ti(e,t).flags|=256),e=Sf(e,t),e!==2&&(t=sn,sn=r,t!==null&&L0(t)),e}function L0(e){sn===null?sn=e:sn.push.apply(sn,e)}function RA(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],o=a.getSnapshot;a=a.value;try{if(!ia(o(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function lo(e,t){for(t&=~Qm,t&=~Id,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-aa(t),n=1<<r;e[r]=-1,t&=~n}}function bx(e){if(st&6)throw Error(ae(327));Ji();var t=af(e,0);if(!(t&1))return dn(e,ar()),null;var r=Sf(e,t);if(e.tag!==0&&r===2){var n=s0(e);n!==0&&(t=n,r=D0(e,n))}if(r===1)throw r=ic,ti(e,0),lo(e,t),dn(e,ar()),r;if(r===6)throw Error(ae(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Wo(e,sn,Ea),dn(e,ar()),null}function Jm(e,t){var r=st;st|=1;try{return e(t)}finally{st=r,st===0&&(cs=ar()+500,$d&&Ao())}}function fi(e){fo!==null&&fo.tag===0&&!(st&6)&&Ji();var t=st;st|=1;var r=In.transition,n=bt;try{if(In.transition=null,bt=1,e)return e()}finally{bt=n,In.transition=r,st=t,!(st&6)&&Ao()}}function ey(){vn=Gi.current,Ft(Gi)}function ti(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,hA(r)),cr!==null)for(r=cr.return;r!==null;){var n=r;switch($m(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&uf();break;case 3:ss(),Ft(un),Ft(Ur),Um();break;case 5:Wm(n);break;case 4:ss();break;case 13:Ft(qt);break;case 19:Ft(qt);break;case 10:Im(n.type._context);break;case 22:case 23:ey()}r=r.return}if(jr=e,cr=e=So(e.current,null),Mr=vn=t,gr=0,ic=null,Qm=Id=ui=0,sn=Dl=null,Ko!==null){for(t=0;t<Ko.length;t++)if(r=Ko[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=a,n.next=i}r.pending=n}Ko=null}return e}function PS(e,t){do{var r=cr;try{if(Rm(),Xu.current=xf,vf){for(var n=Yt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}vf=!1}if(ci=0,Sr=pr=Yt=null,Tl=!1,nc=0,Ym.current=null,r===null||r.return===null){gr=1,ic=t,cr=null;break}e:{var o=e,i=r.return,s=r,l=t;if(t=Mr,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=s,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=sx(i);if(p!==null){p.flags&=-257,lx(p,i,s,o,t),p.mode&1&&ix(o,c,t),t=p,l=c;var m=t.updateQueue;if(m===null){var v=new Set;v.add(l),t.updateQueue=v}else m.add(l);break e}else{if(!(t&1)){ix(o,c,t),ty();break e}l=Error(ae(426))}}else if(Ht&&s.mode&1){var x=sx(i);if(x!==null){!(x.flags&65536)&&(x.flags|=256),lx(x,i,s,o,t),Dm(ls(l,s));break e}}o=l=ls(l,s),gr!==4&&(gr=2),Dl===null?Dl=[o]:Dl.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=uS(o,l,t);ex(o,y);break e;case 1:s=l;var g=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(wo===null||!wo.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var k=fS(o,s,t);ex(o,k);break e}}o=o.return}while(o!==null)}MS(r)}catch(w){t=w,cr===r&&r!==null&&(cr=r=r.return);continue}break}while(!0)}function NS(){var e=bf.current;return bf.current=xf,e===null?xf:e}function ty(){(gr===0||gr===3||gr===2)&&(gr=4),jr===null||!(ui&268435455)&&!(Id&268435455)||lo(jr,Mr)}function Sf(e,t){var r=st;st|=2;var n=NS();(jr!==e||Mr!==t)&&(Ea=null,ti(e,t));do try{IA();break}catch(a){PS(e,a)}while(!0);if(Rm(),st=r,bf.current=n,cr!==null)throw Error(ae(261));return jr=null,Mr=0,gr}function IA(){for(;cr!==null;)AS(cr)}function BA(){for(;cr!==null&&!uN();)AS(cr)}function AS(e){var t=ES(e.alternate,e,vn);e.memoizedProps=e.pendingProps,t===null?MS(e):cr=t,Ym.current=null}function MS(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=EA(r,t),r!==null){r.flags&=32767,cr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{gr=6,cr=null;return}}else if(r=CA(r,t,vn),r!==null){cr=r;return}if(t=t.sibling,t!==null){cr=t;return}cr=t=e}while(t!==null);gr===0&&(gr=5)}function Wo(e,t,r){var n=bt,a=In.transition;try{In.transition=null,bt=1,FA(e,t,r,n)}finally{In.transition=a,bt=n}return null}function FA(e,t,r,n){do Ji();while(fo!==null);if(st&6)throw Error(ae(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ae(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(bN(e,o),e===jr&&(cr=jr=null,Mr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ju||(ju=!0,TS(nf,function(){return Ji(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=In.transition,In.transition=null;var i=bt;bt=1;var s=st;st|=4,Ym.current=null,$A(e,r),jS(r,e),iA(h0),of=!!d0,h0=d0=null,e.current=r,DA(r),fN(),st=s,bt=i,In.transition=o}else e.current=r;if(ju&&(ju=!1,fo=e,kf=a),o=e.pendingLanes,o===0&&(wo=null),pN(r.stateNode),dn(e,ar()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(wf)throw wf=!1,e=T0,T0=null,e;return kf&1&&e.tag!==0&&Ji(),o=e.pendingLanes,o&1?e===$0?Ll++:(Ll=0,$0=e):Ll=0,Ao(),null}function Ji(){if(fo!==null){var e=uk(kf),t=In.transition,r=bt;try{if(In.transition=null,bt=16>e?16:e,fo===null)var n=!1;else{if(e=fo,fo=null,kf=0,st&6)throw Error(ae(331));var a=st;for(st|=4,he=e.current;he!==null;){var o=he,i=o.child;if(he.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(he=c;he!==null;){var u=he;switch(u.tag){case 0:case 11:case 15:$l(8,u,o)}var f=u.child;if(f!==null)f.return=u,he=f;else for(;he!==null;){u=he;var h=u.sibling,p=u.return;if(wS(u),u===c){he=null;break}if(h!==null){h.return=p,he=h;break}he=p}}}var m=o.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}he=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,he=i;else e:for(;he!==null;){if(o=he,o.flags&2048)switch(o.tag){case 0:case 11:case 15:$l(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,he=y;break e}he=o.return}}var g=e.current;for(he=g;he!==null;){i=he;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,he=b;else e:for(i=g;he!==null;){if(s=he,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Rd(9,s)}}catch(w){tr(s,s.return,w)}if(s===i){he=null;break e}var k=s.sibling;if(k!==null){k.return=s.return,he=k;break e}he=s.return}}if(st=a,Ao(),xa&&typeof xa.onPostCommitFiberRoot=="function")try{xa.onPostCommitFiberRoot(Ad,e)}catch{}n=!0}return n}finally{bt=r,In.transition=t}}return!1}function wx(e,t,r){t=ls(r,t),t=uS(e,t,1),e=bo(e,t,1),t=Yr(),e!==null&&(Gc(e,1,t),dn(e,t))}function tr(e,t,r){if(e.tag===3)wx(e,e,r);else for(;t!==null;){if(t.tag===3){wx(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(wo===null||!wo.has(n))){e=ls(r,e),e=fS(t,e,1),t=bo(t,e,1),e=Yr(),t!==null&&(Gc(t,1,e),dn(t,e));break}}t=t.return}}function zA(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Yr(),e.pingedLanes|=e.suspendedLanes&r,jr===e&&(Mr&r)===r&&(gr===4||gr===3&&(Mr&130023424)===Mr&&500>ar()-Zm?ti(e,0):Qm|=r),dn(e,t)}function CS(e,t){t===0&&(e.mode&1?(t=pu,pu<<=1,!(pu&130023424)&&(pu=4194304)):t=1);var r=Yr();e=Va(e,t),e!==null&&(Gc(e,t,r),dn(e,r))}function WA(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),CS(e,r)}function UA(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ae(314))}n!==null&&n.delete(t),CS(e,r)}var ES;ES=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||un.current)ln=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ln=!1,MA(e,t,r);ln=!!(e.flags&131072)}else ln=!1,Ht&&t.flags&1048576&&Lk(t,hf,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Yu(e,t),e=t.pendingProps;var a=as(t,Ur.current);Zi(t,r),a=Hm(null,t,n,e,a,r);var o=Vm();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,fn(n)?(o=!0,ff(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Fm(t),a.updater=Ld,t.stateNode=a,a._reactInternals=t,k0(t,n,e,r),t=O0(null,t,n,!0,o,r)):(t.tag=0,Ht&&o&&Tm(t),Kr(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Yu(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=HA(n),e=Qn(n,e),a){case 0:t=j0(null,t,n,e,r);break e;case 1:t=fx(null,t,n,e,r);break e;case 11:t=cx(null,t,n,e,r);break e;case 14:t=ux(null,t,n,Qn(n.type,e),r);break e}throw Error(ae(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Qn(n,a),j0(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Qn(n,a),fx(e,t,n,a,r);case 3:e:{if(gS(t),e===null)throw Error(ae(387));n=t.pendingProps,o=t.memoizedState,a=o.element,Wk(e,t),mf(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=ls(Error(ae(423)),t),t=dx(e,t,n,r,a);break e}else if(n!==a){a=ls(Error(ae(424)),t),t=dx(e,t,n,r,a);break e}else for(wn=xo(t.stateNode.containerInfo.firstChild),kn=t,Ht=!0,ta=null,r=Fk(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(os(),n===a){t=Ka(e,t,r);break e}Kr(e,t,n,r)}t=t.child}return t;case 5:return Uk(t),e===null&&x0(t),n=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,i=a.children,p0(n,a)?i=null:o!==null&&p0(n,o)&&(t.flags|=32),pS(e,t),Kr(e,t,i,r),t.child;case 6:return e===null&&x0(t),null;case 13:return mS(e,t,r);case 4:return zm(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=is(t,null,n,r):Kr(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Qn(n,a),cx(e,t,n,a,r);case 7:return Kr(e,t,t.pendingProps,r),t.child;case 8:return Kr(e,t,t.pendingProps.children,r),t.child;case 12:return Kr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,$t(pf,n._currentValue),n._currentValue=i,o!==null)if(ia(o.value,i)){if(o.children===a.children&&!un.current){t=Ka(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){i=o.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=Ba(-1,r&-r),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),b0(o.return,r,t),s.lanes|=r;break}l=l.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(ae(341));i.lanes|=r,s=i.alternate,s!==null&&(s.lanes|=r),b0(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Kr(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Zi(t,r),a=Fn(a),n=n(a),t.flags|=1,Kr(e,t,n,r),t.child;case 14:return n=t.type,a=Qn(n,t.pendingProps),a=Qn(n.type,a),ux(e,t,n,a,r);case 15:return dS(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Qn(n,a),Yu(e,t),t.tag=1,fn(n)?(e=!0,ff(t)):e=!1,Zi(t,r),cS(t,n,a),k0(t,n,a,r),O0(null,t,n,!0,e,r);case 19:return yS(e,t,r);case 22:return hS(e,t,r)}throw Error(ae(156,t.tag))};function TS(e,t){return ik(e,t)}function GA(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(e,t,r,n){return new GA(e,t,r,n)}function ry(e){return e=e.prototype,!(!e||!e.isReactComponent)}function HA(e){if(typeof e=="function")return ry(e)?1:0;if(e!=null){if(e=e.$$typeof,e===wm)return 11;if(e===km)return 14}return 2}function So(e,t){var r=e.alternate;return r===null?(r=Dn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ju(e,t,r,n,a,o){var i=2;if(n=e,typeof e=="function")ry(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case $i:return ri(r.children,a,o,t);case bm:i=8,a|=8;break;case Vp:return e=Dn(12,r,t,a|2),e.elementType=Vp,e.lanes=o,e;case Kp:return e=Dn(13,r,t,a),e.elementType=Kp,e.lanes=o,e;case Xp:return e=Dn(19,r,t,a),e.elementType=Xp,e.lanes=o,e;case U2:return Bd(r,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case z2:i=10;break e;case W2:i=9;break e;case wm:i=11;break e;case km:i=14;break e;case ao:i=16,n=null;break e}throw Error(ae(130,e==null?e:typeof e,""))}return t=Dn(i,r,t,a),t.elementType=e,t.type=n,t.lanes=o,t}function ri(e,t,r,n){return e=Dn(7,e,n,t),e.lanes=r,e}function Bd(e,t,r,n){return e=Dn(22,e,n,t),e.elementType=U2,e.lanes=r,e.stateNode={isHidden:!1},e}function sp(e,t,r){return e=Dn(6,e,null,t),e.lanes=r,e}function lp(e,t,r){return t=Dn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function VA(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wh(0),this.expirationTimes=Wh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wh(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function ny(e,t,r,n,a,o,i,s,l){return e=new VA(e,t,r,s,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Dn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fm(o),e}function KA(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ti,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function $S(e){if(!e)return _o;e=e._reactInternals;e:{if(bi(e)!==e||e.tag!==1)throw Error(ae(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(fn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ae(171))}if(e.tag===1){var r=e.type;if(fn(r))return $k(e,r,t)}return t}function DS(e,t,r,n,a,o,i,s,l){return e=ny(r,n,!0,e,a,o,i,s,l),e.context=$S(null),r=e.current,n=Yr(),a=ko(r),o=Ba(n,a),o.callback=t??null,bo(r,o,a),e.current.lanes=a,Gc(e,a,n),dn(e,n),e}function Fd(e,t,r,n){var a=t.current,o=Yr(),i=ko(a);return r=$S(r),t.context===null?t.context=r:t.pendingContext=r,t=Ba(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=bo(a,t,i),e!==null&&(oa(e,a,i,o),Ku(e,a,i)),i}function jf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function kx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ay(e,t){kx(e,t),(e=e.alternate)&&kx(e,t)}function XA(){return null}var LS=typeof reportError=="function"?reportError:function(e){console.error(e)};function oy(e){this._internalRoot=e}zd.prototype.render=oy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ae(409));Fd(e,t,null,null)};zd.prototype.unmount=oy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;fi(function(){Fd(null,e,null,null)}),t[Ha]=null}};function zd(e){this._internalRoot=e}zd.prototype.unstable_scheduleHydration=function(e){if(e){var t=hk();e={blockedOn:null,target:e,priority:t};for(var r=0;r<so.length&&t!==0&&t<so[r].priority;r++);so.splice(r,0,e),r===0&&gk(e)}};function iy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Wd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Sx(){}function qA(e,t,r,n,a){if(a){if(typeof n=="function"){var o=n;n=function(){var c=jf(i);o.call(c)}}var i=DS(t,n,e,0,null,!1,!1,"",Sx);return e._reactRootContainer=i,e[Ha]=i.current,Zl(e.nodeType===8?e.parentNode:e),fi(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var s=n;n=function(){var c=jf(l);s.call(c)}}var l=ny(e,0,!1,null,null,!1,!1,"",Sx);return e._reactRootContainer=l,e[Ha]=l.current,Zl(e.nodeType===8?e.parentNode:e),fi(function(){Fd(t,l,r,n)}),l}function Ud(e,t,r,n,a){var o=r._reactRootContainer;if(o){var i=o;if(typeof a=="function"){var s=a;a=function(){var l=jf(i);s.call(l)}}Fd(t,i,e,a)}else i=qA(r,t,e,a,n);return jf(i)}fk=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ol(t.pendingLanes);r!==0&&(Om(t,r|1),dn(t,ar()),!(st&6)&&(cs=ar()+500,Ao()))}break;case 13:fi(function(){var n=Va(e,1);if(n!==null){var a=Yr();oa(n,e,1,a)}}),ay(e,1)}};_m=function(e){if(e.tag===13){var t=Va(e,134217728);if(t!==null){var r=Yr();oa(t,e,134217728,r)}ay(e,134217728)}};dk=function(e){if(e.tag===13){var t=ko(e),r=Va(e,t);if(r!==null){var n=Yr();oa(r,e,t,n)}ay(e,t)}};hk=function(){return bt};pk=function(e,t){var r=bt;try{return bt=e,t()}finally{bt=r}};a0=function(e,t,r){switch(t){case"input":if(Qp(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Td(n);if(!a)throw Error(ae(90));H2(n),Qp(n,a)}}}break;case"textarea":K2(e,r);break;case"select":t=r.value,t!=null&&Xi(e,!!r.multiple,t,!1)}};ek=Jm;tk=fi;var YA={usingClientEntryPoint:!1,Events:[Vc,Ii,Td,Z2,J2,Jm]},dl={findFiberByHostInstance:Vo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},QA={bundleType:dl.bundleType,version:dl.version,rendererPackageName:dl.rendererPackageName,rendererConfig:dl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qa.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ak(e),e===null?null:e.stateNode},findFiberByHostInstance:dl.findFiberByHostInstance||XA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ou.isDisabled&&Ou.supportsFiber)try{Ad=Ou.inject(QA),xa=Ou}catch{}}jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YA;jn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!iy(t))throw Error(ae(200));return KA(e,t,null,r)};jn.createRoot=function(e,t){if(!iy(e))throw Error(ae(299));var r=!1,n="",a=LS;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=ny(e,1,!1,null,null,r,!1,n,a),e[Ha]=t.current,Zl(e.nodeType===8?e.parentNode:e),new oy(t)};jn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ae(188)):(e=Object.keys(e).join(","),Error(ae(268,e)));return e=ak(t),e=e===null?null:e.stateNode,e};jn.flushSync=function(e){return fi(e)};jn.hydrate=function(e,t,r){if(!Wd(t))throw Error(ae(200));return Ud(null,e,t,!0,r)};jn.hydrateRoot=function(e,t,r){if(!iy(e))throw Error(ae(405));var n=r!=null&&r.hydratedSources||null,a=!1,o="",i=LS;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=DS(t,null,e,1,r??null,a,!1,o,i),e[Ha]=t.current,Zl(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new zd(t)};jn.render=function(e,t,r){if(!Wd(t))throw Error(ae(200));return Ud(null,e,t,!1,r)};jn.unmountComponentAtNode=function(e){if(!Wd(e))throw Error(ae(40));return e._reactRootContainer?(fi(function(){Ud(null,null,e,!1,function(){e._reactRootContainer=null,e[Ha]=null})}),!0):!1};jn.unstable_batchedUpdates=Jm;jn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Wd(r))throw Error(ae(200));if(e==null||e._reactInternals===void 0)throw Error(ae(38));return Ud(e,t,r,!1,n)};jn.version="18.3.1-next-f1338f8080-20240426";function RS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(RS)}catch(e){console.error(e)}}RS(),R2.exports=jn;var ZA=R2.exports,jx=ZA;Gp.createRoot=jx.createRoot,Gp.hydrateRoot=jx.hydrateRoot;const ni=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,confirmText:o="I know the risk and insist to continue",cancelText:i="Cancel"})=>e?d.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:d.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-2xl shadow-2xl border border-amber-500/30 overflow-hidden transform transition-all scale-100",children:[d.jsxs("div",{className:"bg-amber-500/10 p-6 flex flex-col items-center justify-center border-b border-amber-500/20",children:[d.jsx("div",{className:"w-16 h-16 bg-amber-100 dark:bg-amber-900/30 rounded-full flex items-center justify-center mb-4",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-amber-600 dark:text-amber-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),d.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white text-center",children:n})]}),d.jsx("div",{className:"p-6",children:d.jsx("div",{className:"text-gray-600 dark:text-slate-300 text-center text-sm leading-relaxed",children:a})}),d.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800/50 flex gap-3 justify-end border-t border-gray-200 dark:border-slate-800",children:[d.jsx("button",{onClick:t,className:"px-4 py-2 bg-white hover:bg-gray-100 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-700 dark:text-slate-200 font-semibold rounded-lg border border-gray-300 dark:border-slate-600 transition-colors text-sm",children:i}),d.jsx("button",{onClick:r,className:"px-4 py-2 bg-amber-600 hover:bg-amber-700 text-white font-bold rounded-lg shadow-lg shadow-amber-500/20 transition-all active:scale-95 text-sm",children:o})]})]})}):null,JA=({onFileSelected:e,onGenerateFakeDng:t,fileName:r,hasGeneratedData:n,viewMode:a,onSetViewMode:o,patternPeriod:i,onPatternPeriodChange:s,fillFactor:l,onFillFactorChange:c,patternPhase:u,onPatternPhaseChange:f,showPatternControls:h,onOpenAbout:p,onShowExif:m,bridgeStatus:v,onBridgeClick:x,isDrLabOpen:y,onToggleDrLab:g,isFftLabOpen:b,onToggleFftLab:k,onGenerateTestPic:w,onPTCFilesSelected:S,onDownloadDng:j,isThreePlane:_,onOpenDatabase:P})=>{const N=O.useRef(null),A=O.useRef(null),[M,B]=O.useState(!1),[I,D]=O.useState(!1),[L,F]=O.useState(!1),[$,z]=O.useState(!1),[W,ee]=O.useState("direct"),K=O.useRef(null),q=O.useRef(null);O.useEffect(()=>{const ce=Z=>{K.current&&!K.current.contains(Z.target)&&F(!1),q.current&&!q.current.contains(Z.target)&&z(!1)};return document.addEventListener("mousedown",ce),()=>document.removeEventListener("mousedown",ce)},[]);const U=ce=>{var Z;F(!1),ce==="direct"?(ee("direct"),B(!0)):!v.isConnected||!v.hasDngConverter?D(!0):(ee("convert"),(Z=N.current)==null||Z.click())},fe=()=>{var ce;B(!1),(ce=N.current)==null||ce.click()},ie=ce=>{var de;const Z=(de=ce.target.files)==null?void 0:de[0];Z&&e(Z,W),ce.target.value=""},_e=ce=>{ce.target.files&&ce.target.files.length>0&&S(ce.target.files),ce.target.value=""};return d.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-4 flex-shrink-0 relative z-50",children:[d.jsx(ni,{isOpen:M,onClose:()=>B(!1),onConfirm:fe,title:"Format Compatibility Warning",confirmText:"Continue",message:d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsx("p",{className:"font-bold text-gray-800 dark:text-gray-200 text-base",children:"Adobe DNG ConverterDNG"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Only 4-channel DNG files output by Adobe DNG Converter are fully guaranteed to be supported."}),d.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700",children:[d.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-500 mb-1",children:"Download Adobe DNG Converter:"}),d.jsx("a",{href:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline text-xs break-all",children:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html"})]})]})}),d.jsx(ni,{isOpen:I,onClose:()=>D(!1),onConfirm:()=>D(!1),title:"DNG Converter Missing",confirmText:"OK",cancelText:"Cancel",message:d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsx("p",{className:"font-bold text-red-600 dark:text-red-400 text-base",children:"JiangBridge Offline or Adobe DNG Converter not installed (you may have to restart your device after installing ADC to use it here)"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"To use the conversion feature, you must run JiangBridge locally and have Adobe DNG Converter installed on your system."}),d.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700",children:[d.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-500 mb-1",children:"Download Adobe DNG Converter:"}),d.jsx("a",{href:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline text-xs break-all",children:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html"})]})]})}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-500 to-blue-600 dark:from-cyan-400 dark:to-blue-500 text-center sm:text-left",children:"Jiangtherapee Online"}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 hidden lg:block max-w-xs truncate",title:r||"No image loaded",children:r||"No image loaded"}),_&&d.jsx("span",{className:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400 border border-red-200 dark:border-red-800 text-[10px] font-bold px-2 py-1 rounded animate-pulse",children:" 3-PLANE / RGB MODE"})]}),d.jsxs("div",{className:"flex items-center gap-4 flex-wrap justify-end",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("button",{onClick:v.isConnected?void 0:x,className:`px-3 py-1.5 rounded-full text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-sm border ${v.isConnected?"bg-emerald-100 text-emerald-700 border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-400 dark:border-emerald-800 cursor-default":"bg-pink-100 text-pink-600 border-pink-200 dark:bg-pink-900/30 dark:text-pink-400 dark:border-pink-800 hover:bg-pink-200 dark:hover:bg-pink-900/50 cursor-pointer animate-pulse"}`,title:v.isConnected?"Local Bridge Service Connected":"Click to download Jiangbridge",children:[d.jsx("span",{className:`w-2 h-2 rounded-full ${v.isConnected?"bg-emerald-500":"bg-pink-500"}`}),v.isConnected?`JiangBridge Ready ${v.hasDngConverter?"DNG+":""}`:"JiangBridge Offline"]}),y&&d.jsxs("button",{onClick:g,className:"px-3 py-1.5 rounded-full text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-sm border bg-indigo-100 text-indigo-700 border-indigo-200 dark:bg-indigo-900/30 dark:text-indigo-400 dark:border-indigo-800 hover:bg-indigo-200 dark:hover:bg-indigo-900/50 cursor-pointer animate-in fade-in",title:"Click to turn off DR Lab",children:[d.jsx("span",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-pulse"}),"DR Lab On"]}),b&&d.jsxs("button",{onClick:k,className:"px-3 py-1.5 rounded-full text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-sm border bg-fuchsia-100 text-fuchsia-700 border-fuchsia-200 dark:bg-fuchsia-900/30 dark:text-fuchsia-400 dark:border-fuchsia-800 hover:bg-fuchsia-200 dark:hover:bg-fuchsia-900/50 cursor-pointer animate-in fade-in",title:"Click to turn off FFT Lab",children:[d.jsx("span",{className:"w-2 h-2 rounded-full bg-fuchsia-500 animate-pulse"}),"FFT Lab On"]}),n&&d.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-800 rounded-lg p-1 border border-gray-200 dark:border-slate-600 shadow-inner transition-colors duration-300",children:[d.jsx("button",{onClick:()=>o("reference"),className:`px-3 py-1.5 rounded-md text-xs sm:text-sm font-bold transition-all duration-200 ${a==="reference"?"bg-green-500 dark:bg-green-600 text-white shadow-md":"text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,title:"The perfect uniform input",children:"Perfect"}),d.jsx("button",{onClick:()=>o("sampled"),className:`px-3 py-1.5 rounded-md text-xs sm:text-sm font-bold transition-all duration-200 ${a==="sampled"?"bg-blue-500 dark:bg-blue-600 text-white shadow-md":"text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,title:"Sampled Sensor View with Aperture Visualization",children:"Sampled (Sensor)"}),d.jsx("button",{onClick:()=>o("processed"),className:`px-3 py-1.5 rounded-md text-xs sm:text-sm font-bold transition-all duration-200 ${a==="processed"?"bg-purple-500 dark:bg-purple-600 text-white shadow-md":"text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,title:"Demosaiced Result",children:"Result"})]})]}),h&&d.jsxs("div",{className:"flex items-center gap-2 animate-in fade-in slide-in-from-right-4 duration-300",children:[d.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-50 dark:bg-slate-800/50 p-1.5 rounded-lg border border-gray-200 dark:border-slate-700 transition-colors duration-300",children:[d.jsx("span",{className:"text-[10px] text-gray-500 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Density (Period)"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"range",min:"0.1",max:"10",step:"0.1",value:i,onChange:ce=>s(parseFloat(ce.target.value)),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-purple-500",title:"Adjust the period of the line pairs in pixels"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"number",min:"0.1",max:"100",step:"0.01",value:i,onChange:ce=>{const Z=parseFloat(ce.target.value);isNaN(Z)||s(Z)},className:"w-16 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-xs font-mono text-purple-600 dark:text-purple-300 text-right focus:outline-none focus:border-purple-500 focus:ring-1 focus:ring-purple-500 transition-colors duration-300"}),d.jsx("span",{className:"absolute right-6 top-0.5 text-[10px] text-gray-400 dark:text-slate-500 pointer-events-none hidden",children:"px"})]})]})]}),d.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-50 dark:bg-slate-800/50 p-1.5 rounded-lg border border-gray-200 dark:border-slate-700 transition-colors duration-300",children:[d.jsx("span",{className:"text-[10px] text-gray-500 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Phase"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:u,onChange:ce=>f(parseFloat(ce.target.value)),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-pink-500",title:"Shift pattern phase (0-1 cycle)"}),d.jsx("div",{className:"relative",children:d.jsx("input",{type:"number",min:"0",max:"1",step:"0.01",value:u,onChange:ce=>{const Z=parseFloat(ce.target.value);isNaN(Z)||f(Z)},className:"w-12 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-xs font-mono text-pink-600 dark:text-pink-300 text-right focus:outline-none focus:border-pink-500 focus:ring-1 focus:ring-pink-500 transition-colors duration-300"})})]})]}),d.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-50 dark:bg-slate-800/50 p-1.5 rounded-lg border border-gray-200 dark:border-slate-700 transition-colors duration-300",children:[d.jsx("span",{className:"text-[10px] text-gray-500 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Fill Factor"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"range",min:"1",max:"100",step:"1",value:l*100,onChange:ce=>c(parseInt(ce.target.value)/100),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-green-500",title:"Adjust pixel aperture fill factor %"}),d.jsxs("div",{className:"relative flex items-center",children:[d.jsx("input",{type:"number",min:"1",max:"100",step:"1",value:Math.round(l*100),onChange:ce=>{const Z=parseInt(ce.target.value);isNaN(Z)||c(Math.min(100,Math.max(1,Z))/100)},className:"w-12 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-xs font-mono text-green-600 dark:text-green-300 text-right focus:outline-none focus:border-green-500 focus:ring-1 focus:ring-green-500 transition-colors duration-300"}),d.jsx("span",{className:"ml-1 text-[10px] text-gray-400 dark:text-slate-500 font-mono",children:"%"})]})]})]}),d.jsx("button",{onClick:j,className:"flex flex-col items-center justify-center p-2 rounded-lg bg-gray-50 hover:bg-gray-100 dark:bg-slate-800 dark:hover:bg-slate-700 border border-gray-200 dark:border-slate-600 transition-colors group",title:"Download Generated DNG",children:d.jsx("svg",{className:"w-5 h-5 text-gray-500 dark:text-slate-400 group-hover:text-cyan-600 dark:group-hover:text-cyan-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})})]}),d.jsx("input",{type:"file",ref:N,onChange:ie,className:"hidden",accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),d.jsx("input",{type:"file",ref:A,onChange:_e,className:"hidden",multiple:!0,accept:".csv"}),d.jsxs("div",{className:"relative inline-block text-left",ref:q,children:[d.jsxs("button",{onClick:()=>z(!$),className:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300 shadow-lg shadow-purple-500/30 text-sm whitespace-nowrap flex items-center gap-2",children:["TEST Tools",d.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${$?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),$&&d.jsx("div",{className:"absolute right-0 mt-2 w-56 rounded-xl bg-white dark:bg-slate-800 shadow-xl ring-1 ring-black ring-opacity-5 focus:outline-none z-50 overflow-hidden origin-top-right transition-all animate-in fade-in slide-in-from-top-2 border border-gray-200 dark:border-slate-700",children:d.jsxs("div",{className:"py-1",children:[d.jsxs("button",{onClick:()=>{z(!1),t()},className:"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[d.jsx("svg",{className:"w-4 h-4 text-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),d.jsx("span",{children:"Generate Pattern DNG"})]}),d.jsxs("button",{onClick:()=>{z(!1),y||g(),b&&k()},className:`w-full text-left px-4 py-3 text-sm transition-colors flex items-center gap-2 border-t border-gray-100 dark:border-slate-700 ${y?"bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 font-bold":"text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700"}`,children:[d.jsx("svg",{className:"w-4 h-4 text-indigo-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),d.jsxs("span",{children:["DR Lab ",y?"(On)":""]})]}),d.jsxs("button",{onClick:()=>{z(!1),b||k(),y&&g()},className:`w-full text-left px-4 py-3 text-sm transition-colors flex items-center gap-2 border-t border-gray-100 dark:border-slate-700 ${b?"bg-fuchsia-50 dark:bg-fuchsia-900/20 text-fuchsia-600 dark:text-fuchsia-400 font-bold":"text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700"}`,children:[d.jsx("svg",{className:"w-4 h-4 text-fuchsia-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),d.jsxs("span",{children:["FFT Lab ",b?"(On)":""]})]}),d.jsxs("button",{onClick:()=>{var ce;z(!1),(ce=A.current)==null||ce.click()},className:"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2 border-t border-gray-100 dark:border-slate-700",children:[d.jsx("svg",{className:"w-4 h-4 text-emerald-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})}),d.jsx("span",{children:"Generate PTC & TargetSNR"})]})]})})]}),d.jsxs("div",{className:"relative inline-block text-left",ref:K,children:[d.jsxs("button",{onClick:()=>F(!L),className:"bg-cyan-500 hover:bg-cyan-600 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300 shadow-lg shadow-cyan-500/30 text-sm whitespace-nowrap flex items-center gap-2",children:["Load Image",d.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${L?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),L&&d.jsx("div",{className:"absolute right-0 mt-2 w-56 rounded-xl bg-white dark:bg-slate-800 shadow-xl ring-1 ring-black ring-opacity-5 focus:outline-none z-50 overflow-hidden origin-top-right transition-all animate-in fade-in slide-in-from-top-2 border border-gray-200 dark:border-slate-700",children:d.jsxs("div",{className:"py-1",children:[d.jsxs("button",{onClick:()=>U("direct"),className:"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[d.jsx("svg",{className:"w-4 h-4 text-cyan-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),d.jsx("span",{children:"Load Image (Direct)"})]}),d.jsxs("button",{onClick:()=>U("convert"),className:"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2 border-t border-gray-100 dark:border-slate-700",children:[d.jsx("svg",{className:"w-4 h-4 text-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),d.jsx("span",{children:"Convert to Adobe DNG & Load"})]})]})})]}),r&&m&&d.jsxs("button",{onClick:m,className:"bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300 shadow-lg shadow-orange-500/30 text-sm whitespace-nowrap flex items-center gap-1",title:"View EXIF Data",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"EXIF"]}),d.jsx("button",{onClick:p,className:"bg-teal-600 hover:bg-teal-700 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300 shadow-lg shadow-teal-500/30 text-sm whitespace-nowrap",children:"About/Tutorial/Tools"}),d.jsx("a",{href:"https://y-g-jiang.github.io/index.html",target:"_blank",rel:"noopener noreferrer",className:"bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-700 dark:text-slate-100 font-semibold py-2 px-4 rounded-lg transition-colors duration-300 text-sm",children:"Home"})]})]})},eM=({image:e,zoom:t,pan:r,onPanChange:n,onZoomChange:a,onSelectionChange:o,forcedSelection:i,theme:s,touchAction:l="pan",isMarking:c=!1,onPointClick:u,markers:f=[],gridRects:h=[]})=>{var K;const p=O.useRef(null),m=O.useRef(document.createElement("canvas")),[v,x]=O.useState(!1),[y,g]=O.useState({x:0,y:0}),b=O.useRef(null),k=O.useRef(null),w=O.useRef(null),[S,j]=O.useState(!1),[_,P]=O.useState(null),[N,A]=O.useState(null);O.useEffect(()=>{i!==void 0&&A(i)},[i]);const M=O.useCallback(()=>{const q=p.current,U=q==null?void 0:q.getContext("2d");return{canvas:q,ctx:U}},[]);O.useEffect(()=>{const q=m.current,U=q.getContext("2d");if(!e||!U)return;let fe=0,ie=0;e instanceof ImageData?(fe=e.width,ie=e.height):e instanceof HTMLImageElement&&(fe=e.naturalWidth,ie=e.naturalHeight),!(fe===0||ie===0)&&((q.width!==fe||q.height!==ie)&&(q.width=fe,q.height=ie),e instanceof ImageData?U.putImageData(e,0,0):(U.clearRect(0,0,fe,ie),U.drawImage(e,0,0)))},[e]);const B=O.useCallback(()=>{const{canvas:q,ctx:U}=M();if(!(!q||!U||!e)){if(U.setTransform(1,0,0,1,0,0),U.fillStyle=s==="dark"?"rgb(15, 23, 42)":"rgb(243, 244, 246)",U.fillRect(0,0,q.width,q.height),U.setTransform(t,0,0,t,r.x,r.y),m.current.width>0&&(U.imageSmoothingEnabled=!1,U.drawImage(m.current,0,0)),N){U.strokeStyle="#06b6d4",U.lineWidth=1/t,U.fillStyle="rgba(6, 182, 212, 0.2)",U.beginPath(),U.rect(N.x,N.y,N.w,N.h),U.fill(),U.stroke(),U.save(),U.fillStyle="#fff";const fe=Math.max(10,14/t);U.font=`${fe}px monospace`,U.shadowColor="rgba(0,0,0,0.8)",U.shadowBlur=4,U.shadowOffsetX=1,U.shadowOffsetY=1,U.fillText(`${Math.round(N.w)}x${Math.round(N.h)}`,N.x,N.y-5/t),U.restore()}if(h&&h.length>0){U.save(),U.strokeStyle="#f59e0b",U.lineWidth=1/t,U.globalAlpha=.8,U.beginPath(),h.forEach(_e=>{U.rect(_e.x,_e.y,_e.w,_e.h)}),U.stroke();const fe=h[0];U.fillStyle="#f59e0b";const ie=Math.max(10,12/t);U.font=`${ie}px monospace`,U.fillText(`${fe.w}x${fe.h}`,fe.x,fe.y-4/t),U.restore()}if(f&&f.length>0){U.save();const fe=6/t,ie=Math.max(12,16/t);U.font=`bold ${ie}px sans-serif`,U.textAlign="center",U.textBaseline="middle",f.forEach((_e,ce)=>{U.beginPath(),U.arc(_e.x,_e.y,fe,0,2*Math.PI),U.fillStyle="white",U.fill(),U.strokeStyle="#4338ca",U.lineWidth=2/t,U.stroke(),U.fillStyle="#4338ca",U.fillText((ce+1).toString(),_e.x,_e.y-12/t)}),U.restore()}}},[M,e,t,r,s,N,f,h]);O.useEffect(()=>{const{canvas:q}=M();if(!q)return;const U=new ResizeObserver(()=>{q.width=q.clientWidth,q.height=q.clientHeight,B()});return U.observe(q),()=>U.disconnect()},[M,B]),O.useEffect(()=>{B()},[B,e,r,t,s,N,f,h]);const I=q=>{const{canvas:U}=M();if(!U)return{x:0,y:0};const fe=U.getBoundingClientRect();return{x:q.clientX-fe.left,y:q.clientY-fe.top}},D=(q,U)=>({x:(q-r.x)/t,y:(U-r.y)/t}),L=q=>{q.preventDefault();const U=I(q);if(c){const fe=D(U.x,U.y);u&&u(fe);return}if(q.shiftKey||l==="select"){j(!0);const fe=D(U.x,U.y),ie={x:Math.floor(fe.x),y:Math.floor(fe.y)};P(ie),A(null),o&&o(null)}else x(!0),g({x:U.x-r.x,y:U.y-r.y})},F=q=>{const U=I(q);if(S&&_){const fe=D(U.x,U.y),ie=Math.floor(fe.x),_e=Math.floor(fe.y),ce=Math.min(_.x,ie),Z=Math.min(_.y,_e),de=Math.max(_.x,ie),ye=Math.max(_.y,_e),X=de-ce+1,Be=ye-Z+1;A({x:ce,y:Z,w:X,h:Be})}else v&&n({x:U.x-y.x,y:U.y-y.y})},$=()=>{S&&(j(!1),N&&o&&N.w>0&&N.h>0&&o(N)),x(!1)},z=q=>{var U;if(q.touches.length===1){const fe=q.touches[0],ie=(U=p.current)==null?void 0:U.getBoundingClientRect();if(!ie)return;const _e=fe.clientX-ie.left,ce=fe.clientY-ie.top;if(c){const Z=D(_e,ce);u&&u(Z);return}if(l==="select"){const Z=D(_e,ce),de={x:Math.floor(Z.x),y:Math.floor(Z.y)};P(de),j(!0),A(null),o&&o(null)}else w.current={x:_e,y:ce},g({x:_e-r.x,y:ce-r.y}),x(!0)}else if(q.touches.length===2){const fe=Math.hypot(q.touches[0].clientX-q.touches[1].clientX,q.touches[0].clientY-q.touches[1].clientY);b.current=fe,k.current=t,x(!1),j(!1)}},W=q=>{var U;if(q.touches.length===1){const fe=q.touches[0],ie=(U=p.current)==null?void 0:U.getBoundingClientRect();if(!ie)return;const _e=fe.clientX-ie.left,ce=fe.clientY-ie.top;if(c)return;if(S&&_){const Z=D(_e,ce),de=Math.floor(Z.x),ye=Math.floor(Z.y),X=Math.min(_.x,de),Be=Math.min(_.y,ye),Pe=Math.max(_.x,de),rt=Math.max(_.y,ye),Ge=Pe-X+1,dt=rt-Be+1;A({x:X,y:Be,w:Ge,h:dt})}else v&&n({x:_e-y.x,y:ce-y.y})}else if(q.touches.length===2&&b.current&&k.current&&a){const ie=Math.hypot(q.touches[0].clientX-q.touches[1].clientX,q.touches[0].clientY-q.touches[1].clientY)/b.current;a(k.current*ie)}},ee=()=>{S&&(j(!1),N&&o&&N.w>0&&N.h>0&&o(N)),x(!1),b.current=null,k.current=null,w.current=null};return d.jsx("canvas",{ref:p,className:`w-full h-full block touch-none ${c||S||(K=window.event)!=null&&K.shiftKey||l==="select"?"cursor-crosshair":"cursor-grab active:cursor-grabbing"}`,onMouseDown:L,onMouseMove:F,onMouseUp:$,onMouseLeave:$,onTouchStart:z,onTouchMove:W,onTouchEnd:ee,onTouchCancel:ee,tabIndex:0})},_u=({title:e,children:t})=>d.jsxs("div",{className:"border-b border-gray-200 dark:border-slate-700 transition-colors duration-300",children:[d.jsx("div",{className:"p-4 font-semibold text-gray-800 dark:text-slate-200 bg-gray-50 dark:bg-slate-800/30 border-b border-gray-200 dark:border-slate-800 select-none cursor-default transition-colors duration-300",children:d.jsx("span",{children:e})}),d.jsx("div",{className:"p-4 bg-white dark:bg-slate-900/50 transition-colors duration-300",children:t})]}),tM=[{value:-1,label:"Raw Bayer (Grayscale)"},{value:0,label:"Linear interpolation"},{value:1,label:"VNG (Variable Number of Gradients)"},{value:2,label:"PPG (Patterned Pixel Grouping)"},{value:3,label:"AHD (Adaptive Homogeneity-Directed)"},{value:4,label:"DCB (Demosaicing with Color Back-refinement)"},{value:11,label:"DHT (Modified AHD)"},{value:12,label:"AAHD (Adaptive AHD)"}],Ox=({checked:e,onChange:t,label:r})=>d.jsxs("div",{className:"flex items-center justify-between py-2 cursor-pointer group",onClick:()=>t(!e),children:[d.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-slate-300 select-none group-hover:text-gray-900 dark:group-hover:text-slate-200 transition-colors",children:r}),d.jsx("div",{className:`relative w-11 h-6 rounded-full transition-colors duration-200 ease-in-out ${e?"bg-cyan-500 dark:bg-cyan-600":"bg-gray-300 dark:bg-slate-600 group-hover:bg-gray-400 dark:group-hover:bg-slate-500"}`,children:d.jsx("div",{className:`absolute left-1 top-1 bg-white w-4 h-4 rounded-full shadow-md transform transition-transform duration-200 ease-in-out ${e?"translate-x-5":"translate-x-0"}`})})]}),cp=(e,t)=>{if(!e)return null;if(t){const r=e.bayerPattern.toUpperCase(),n=l=>{const c=[];for(let u=0;u<4;u++)r[u]===l&&c.push(u);return c},a=t.BlackLevelRed,o=t.BlackLevelGreen,i=t.BlackLevelBlue;if(a!==void 0&&o!==void 0&&i!==void 0){const l=parseFloat(a),c=parseFloat(o),u=parseFloat(i);if(!isNaN(l)&&!isNaN(c)&&!isNaN(u)){const f=[0,0,0,0];return f.fill(c),n("R").forEach(h=>f[h]=l),n("G").forEach(h=>f[h]=c),n("B").forEach(h=>f[h]=u),f}}let s=t.BlackLevel;if(s===void 0&&(s=t.BlackLevel2),s!==void 0){let l=[];if(Array.isArray(s)?l=s.map(Number):typeof s=="string"?l=s.trim().split(/\s+/).map(Number):typeof s=="number"&&(l=[s,s,s,s]),l.length===1&&!isNaN(l[0])&&(l=[l[0],l[0],l[0],l[0]]),l.length>=4&&!l.slice(0,4).some(isNaN))return[l[0],l[1],l[2],l[3]]}}return e.blackLevels&&e.blackLevels.length===4?[e.blackLevels[0],e.blackLevels[1],e.blackLevels[2],e.blackLevels[3]]:null},rM=e=>{const{rawImageData:t,displaySettings:r,onApplyDisplaySettings:n,onSetSelection:a,exifData:o,isBridgeConnected:i,isDrLabOpen:s,drMarkingStep:l,onStartMarking:c,onGenerateTestPic:u,drRoiSize:f,onDrRoiSizeChange:h,drGridRows:p,onDrGridRowsChange:m,drGridCols:v,onDrGridColsChange:x,onBatchDrLab:y,hasDrMarkers:g,isFftLabOpen:b,onProcessPair:k,onOpenCrossCalc:w,isThreePlane:S}=e,[j,_]=O.useState(r.exposure.toString()),[P,N]=O.useState(""),[A,M]=O.useState("0 0 0 0"),[B,I]=O.useState("1.0"),[D,L]=O.useState("1.0"),[F,$]=O.useState(r.demosaicMethod),[z,W]=O.useState(!!r.showKadc),[ee,K]=O.useState(!!r.subtractBlackLevelFromStats),[q,U]=O.useState("64"),[fe,ie]=O.useState(!1),[_e,ce]=O.useState(!1),Z=O.useRef(null),de=O.useRef(null),[ye,X]=O.useState(null),[Be,Pe]=O.useState(null),[rt,Ge]=O.useState(!1),[dt,xr]=O.useState(!0),Zt=O.useRef(null),_r=O.useRef(null),zt=O.useRef(!1),ir=O.useRef(null);O.useEffect(()=>{t!==ir.current&&(zt.current=!1,ir.current=t)},[t]),O.useEffect(()=>{if(i&&t&&!zt.current){zt.current=!0;const Y=cp(t,o),He=Y&&Y.some(kt=>kt>0);if(Y&&He){ie(!0);const kt={...r,blackLevel:Y,showKadc:!0,subtractBlackLevelFromStats:!0,exposure:r.exposure,wbGains:r.wbGains||[1,1],demosaicMethod:r.demosaicMethod,renderMode:"standard"};n(kt)}}},[i,t,o,r,n]),O.useEffect(()=>{if(_(r.exposure.toString()),r.customMatrix?(N(r.customMatrix.join(" ")),ie(!0)):N(""),r.blackLevel&&r.blackLevel.length===4)M(r.blackLevel.join(" "));else{const Y=cp(t,o);M(Y?Y.join(" "):"0 0 0 0")}I(r.wbGains?r.wbGains[0].toString():"1.0"),L(r.wbGains?r.wbGains[1].toString():"1.0"),$(r.demosaicMethod),W(!!r.showKadc),K(!!r.subtractBlackLevelFromStats)},[r,t,o]);const Wt=Y=>{_(Y)},Jt=Y=>I(Y),gt=Y=>L(Y),Hn=Y=>{$(parseInt(Y.target.value,10))},Er=Y=>{N(Y.target.value)},Vn=()=>{_("0"),$(3),I("1.0"),L("1.0"),W(!0),K(!0),N(""),ie(!1);const Y=cp(t,o);M(Y?Y.join(" "):"0 0 0 0")},fr=()=>{!t||!a||a({x:0,y:0,w:t.width,h:t.height})},Jr=()=>{if(!t||!a)return;const Y=parseInt(q,10);if(isNaN(Y)||Y<=0)return;const He=Math.min(Y,t.width),kt=Math.min(Y,t.height),br=Math.floor((t.width-He)/2),Tr=Math.floor((t.height-kt)/2);a({x:br,y:Tr,w:He,h:kt})},_n=()=>{const He=A.split(/[\s,]+/).filter(kt=>kt.trim()!=="").map(Number);if(He.length===1&&!isNaN(He[0]))return[He[0],He[0],He[0],He[0]];if(He.length>=4&&!He.slice(0,4).some(isNaN))return[He[0],He[1],He[2],He[3]]},nr=()=>{const Y={...r},He=parseFloat(j);isNaN(He)||(Y.exposure=He);const kt=parseFloat(B),br=parseFloat(D);if(!isNaN(kt)&&!isNaN(br)&&(Y.wbGains=[kt,br]),Y.demosaicMethod=F,Y.renderMode="standard",fe){const Tr=_n();Tr&&(Y.blackLevel=Tr);const $r=P.trim().replace(/[\s,\n]+/g," ");if($r){const St=$r.split(" ").map(Number);St.length===9&&!St.some(isNaN)?Y.customMatrix=St:alert("Invalid matrix format. Please ensure exactly 9 numeric values (3x3).")}else delete Y.customMatrix;Y.showKadc=z,Y.subtractBlackLevelFromStats=ee}else delete Y.customMatrix,delete Y.blackLevel,delete Y.showKadc,delete Y.subtractBlackLevelFromStats;n(Y)},Kn=()=>{const Y={...r},He=_n();He&&(Y.blackLevel=He);const kt=parseFloat(j);isNaN(kt)||(Y.exposure=kt),Y.renderMode="zero-dependency",n(Y)},Ot=Y=>{Y.target.files&&Y.target.files.length>0&&y&&y(Y.target.files),Y.target.value=""},Pn=async Y=>{var kt;const He=(kt=Y.target.files)==null?void 0:kt[0];if(He){try{const Tr=(await He.text()).split(`
`),$r=[];$r.push("#BlackLevel: 0,0,0,0"),$r.push("#ImageHeight: 0"),$r.push("Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std");let St=1;for(let Nn=0;Nn<Tr.length;Nn++){const _t=Tr[Nn].trim();if(!_t||_t.includes("R_mean")||_t.includes("R_std"))continue;const Pt=_t.split(/\s+/).map(Number);if(Pt.length<8||Pt.some(isNaN))continue;const Q=Pt[0],ge=Pt[1],Ce=Pt[2],nt=Pt[3],Fe=Pt[4],$e=Pt[5],yt=Pt[6],Je=Pt[7],Ve=[St,1,Q,Ce,yt,Fe,ge,nt,Je,$e].join(",");$r.push(Ve),St++}const Kt=new Blob([$r.join(`
`)],{type:"text/csv"}),Ut=URL.createObjectURL(Kt),wr=document.createElement("a");wr.href=Ut,wr.download=He.name.replace(/\.[^/.]+$/,"")+"_converted.csv",document.body.appendChild(wr),wr.click(),document.body.removeChild(wr),URL.revokeObjectURL(Ut)}catch(br){console.error("Conversion failed",br),alert("Failed to convert file. Check format.")}Y.target.value=""}},Pa=Y=>{Y.target.files&&Y.target.files[0]&&X(Y.target.files[0])},fa=Y=>{Y.target.files&&Y.target.files[0]&&Pe(Y.target.files[0])},en=()=>{ye&&Be&&k&&k(ye,Be,rt,dt)},mt=!!t;return d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsxs("div",{className:"flex-grow overflow-y-auto",children:[S&&d.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-3 border-b border-red-100 dark:border-red-800 text-center animate-pulse",children:[d.jsx("p",{className:"text-xs font-bold text-red-600 dark:text-red-400 uppercase tracking-wide",children:" 3-Plane / Full Color"}),d.jsx("p",{className:"text-[10px] text-red-500/80 dark:text-red-300/70 mt-1",children:"Demosaic disabled. Stats analysis treated as pseudo-Bayer."})]}),b&&d.jsx(_u,{title:"FFT Lab (Pair Difference)",children:d.jsxs("div",{className:"space-y-4",children:[d.jsx("p",{className:"text-[10px] text-gray-500 dark:text-slate-400",children:"Load two identical shots (same ISO/Exp) to remove Fixed Pattern Noise via subtraction."}),d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx("input",{type:"file",ref:Z,className:"hidden",onChange:Pa,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),d.jsx("button",{onClick:()=>{var Y;return(Y=Z.current)==null?void 0:Y.click()},className:`w-full py-2 px-3 rounded-lg border text-xs font-bold text-left truncate transition-colors ${ye?"bg-fuchsia-50 dark:bg-fuchsia-900/20 border-fuchsia-300 dark:border-fuchsia-800 text-fuchsia-700 dark:text-fuchsia-300":"bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-600 text-gray-500 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:ye?`1: ${ye.name}`:"1. Load Image A"}),d.jsx("input",{type:"file",ref:de,className:"hidden",onChange:fa,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),d.jsx("button",{onClick:()=>{var Y;return(Y=de.current)==null?void 0:Y.click()},className:`w-full py-2 px-3 rounded-lg border text-xs font-bold text-left truncate transition-colors ${Be?"bg-fuchsia-50 dark:bg-fuchsia-900/20 border-fuchsia-300 dark:border-fuchsia-800 text-fuchsia-700 dark:text-fuchsia-300":"bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-600 text-gray-500 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:Be?`2: ${Be.name}`:"2. Load Image B"})]}),d.jsxs("div",{className:"flex flex-col gap-2 border-t border-gray-200 dark:border-slate-700 pt-3",children:[d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[d.jsxs("div",{className:`w-4 h-4 border rounded flex items-center justify-center transition-colors ${rt?"bg-fuchsia-600 border-fuchsia-600":"bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-600"}`,children:[d.jsx("input",{type:"checkbox",checked:rt,onChange:Y=>Ge(Y.target.checked),className:"hidden"}),rt&&d.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})]}),d.jsx("span",{className:"text-xs text-gray-600 dark:text-slate-300",children:"Pad to Power of 2 (2)"})]}),d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[d.jsxs("div",{className:`w-4 h-4 border rounded flex items-center justify-center transition-colors ${dt?"bg-fuchsia-600 border-fuchsia-600":"bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-600"}`,children:[d.jsx("input",{type:"checkbox",checked:dt,onChange:Y=>xr(Y.target.checked),className:"hidden"}),dt&&d.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})]}),d.jsx("span",{className:"text-xs text-gray-600 dark:text-slate-300",children:"Normalize (2) / "})]})]}),d.jsxs("button",{onClick:en,disabled:!ye||!Be,className:"w-full bg-fuchsia-600 hover:bg-fuchsia-500 disabled:bg-gray-300 dark:disabled:bg-slate-800 disabled:text-gray-500 disabled:cursor-not-allowed text-white font-bold py-2.5 px-4 rounded-lg shadow-md transition-all active:scale-95 text-sm flex items-center justify-center gap-2",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),"Generate Diff & Load"]}),d.jsxs("button",{onClick:w,className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-2 px-4 rounded-lg shadow-md transition-all active:scale-95 text-sm flex items-center justify-center gap-2",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),"Cross Calc (Cross-Compensation)"]})]})}),s&&d.jsx(_u,{title:"DR Lab Tools",children:d.jsxs("div",{className:"space-y-4",children:[d.jsx("button",{onClick:u,className:"w-full bg-amber-500 hover:bg-amber-600 text-white font-bold py-2 px-4 rounded-lg shadow-md transition-colors text-sm",children:"Generate Test Pic"}),d.jsxs("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-3",children:[d.jsx("h4",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-2",children:"Grid Analysis"}),h&&f!==void 0&&d.jsx("div",{className:"flex items-center justify-between mb-3",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Box Size:"}),d.jsx("input",{type:"number",min:"8",max:"512",step:"2",value:f,onChange:Y=>h(parseInt(Y.target.value)||64),className:"w-12 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 text-center"}),d.jsx("span",{className:"text-xs text-gray-400",children:"px"})]})}),m&&x&&p!==void 0&&v!==void 0&&d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Layout:"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"number",min:"1",max:"50",value:p,onChange:Y=>m(Math.max(1,parseInt(Y.target.value)||1)),className:"w-10 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 text-center",title:"Rows"}),d.jsx("span",{className:"text-xs text-gray-400",children:"x"}),d.jsx("input",{type:"number",min:"1",max:"50",value:v,onChange:Y=>x(Math.max(1,parseInt(Y.target.value)||1)),className:"w-10 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 text-center",title:"Columns"})]})]}),d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx("button",{onClick:c,disabled:!mt||l!==void 0&&l>0,className:`w-full font-bold py-2 px-4 rounded-lg shadow-md transition-all text-sm ${mt?l&&l>0?"bg-indigo-100 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300 border-2 border-indigo-500":"bg-indigo-600 hover:bg-indigo-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:l&&l>0?"Marking Active...":"Mark Corners"}),y&&d.jsxs(d.Fragment,{children:[d.jsx("input",{type:"file",ref:Zt,className:"hidden",multiple:!0,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff",onChange:Ot}),d.jsxs("button",{onClick:()=>{var Y;return(Y=Zt.current)==null?void 0:Y.click()},disabled:!g,className:"w-full font-bold py-2 px-4 rounded-lg shadow-md transition-all text-sm bg-emerald-600 hover:bg-emerald-700 disabled:bg-gray-300 disabled:text-gray-500 disabled:cursor-not-allowed text-white flex items-center justify-center gap-2",title:"Process multiple RAWs using the currently defined grid and Black Level",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"Reuse Last & Batch"]})]}),d.jsxs("div",{className:"pt-2 mt-2 border-t border-gray-100 dark:border-slate-800",children:[d.jsx("input",{type:"file",ref:_r,className:"hidden",accept:".txt",onChange:Pn}),d.jsxs("button",{onClick:()=>{var Y;return(Y=_r.current)==null?void 0:Y.click()},className:"w-full font-bold py-2 px-4 rounded-lg shadow-sm transition-all text-xs bg-slate-100 hover:bg-slate-200 dark:bg-slate-800 dark:hover:bg-slate-700 text-gray-600 dark:text-slate-300 flex items-center justify-center gap-2 border border-gray-300 dark:border-slate-600",title:"Convert legacy TXT format (R_mean R_std ...) to standard CSV",children:[d.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),"Convert Format (.txt  .csv)"]})]})]}),l!==void 0&&l>0&&d.jsx("div",{className:"mt-2 text-center",children:d.jsxs("p",{className:"text-xs text-indigo-600 dark:text-indigo-400 font-bold animate-pulse",children:[l===1&&"Click Top-Left Center",l===2&&"Click Top-Right Center",l===3&&"Click Bottom-Left Center",l===4&&"Click Bottom-Right Center"]})})]})]})}),d.jsx(_u,{title:"Selection Tools",children:d.jsx("div",{className:"space-y-3",children:d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"Quick Select or Shift+drag"}),d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Size (px):"}),d.jsx("input",{type:"number",min:"1",value:q,onChange:Y=>U(Y.target.value),disabled:!mt,className:"flex-1 px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsx("button",{onClick:Jr,disabled:!mt,className:"px-3 py-1.5 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-slate-200 text-xs font-semibold rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Center Rect"}),d.jsx("button",{onClick:fr,disabled:!mt,className:"px-3 py-1.5 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-slate-200 text-xs font-semibold rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Full Image"})]})]})})}),d.jsx(_u,{title:"Display Controls",children:d.jsxs("div",{className:"space-y-5",children:[d.jsxs("p",{className:"text-gray-500 dark:text-slate-400 text-center text-sm",children:["Adjust parameters and click ",d.jsx("b",{children:"Apply"}),"."]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"exposure",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"Exposure (EV)"}),d.jsx("div",{className:"flex items-center gap-2 mb-2",children:d.jsx("input",{type:"range",min:"-5",max:"5",step:"0.1",disabled:!mt,value:parseFloat(j)||0,onChange:Y=>Wt(Y.target.value),className:"w-full h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500 disabled:opacity-50"})}),d.jsx("div",{className:"flex items-center gap-2",children:d.jsx("input",{id:"exposure",type:"number",step:"0.1",value:j,onChange:Y=>Wt(Y.target.value),disabled:!mt,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})})]}),d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"demosaic",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2 flex justify-between",children:[d.jsx("span",{children:"Demosaic Method"}),S&&d.jsx("span",{className:"text-[9px] text-red-500 font-bold bg-red-100 dark:bg-red-900/30 px-1 rounded",children:"DISABLED"})]}),d.jsx("select",{id:"demosaic",value:F,onChange:Hn,disabled:!mt||S,className:"w-full px-2 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none transition-colors disabled:bg-gray-100 dark:disabled:bg-slate-800/50 disabled:cursor-not-allowed text-sm text-gray-900 dark:text-slate-100",children:tM.map(Y=>d.jsx("option",{value:Y.value,children:Y.label},Y.value))}),S&&d.jsx("p",{className:"text-[9px] text-gray-400 mt-1",children:"Full color data detected. Demosaicing skipped."})]}),d.jsx("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-2",children:d.jsx(Ox,{checked:fe,onChange:ie,label:"Advanced Settings"})}),fe&&d.jsxs("div",{className:"space-y-5 pl-2 border-l-2 border-gray-200 dark:border-slate-700 animate-in slide-in-from-top-2 duration-200",children:[d.jsxs("div",{children:[d.jsx(Ox,{checked:z,onChange:W,label:"Show Kadc"}),d.jsx("p",{className:"text-[10px] text-gray-400 dark:text-slate-500 mt-1",children:"Requires manual Black Levellinear PTC zoneabsolutely uniform image ."})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"White Balance Gains"}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("div",{children:[d.jsx("span",{className:"text-xs text-red-500 dark:text-red-400 block mb-1",children:"Red"}),d.jsx("input",{type:"number",step:"0.01",value:B,onChange:Y=>Jt(Y.target.value),disabled:!mt,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-red-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-xs text-blue-500 dark:text-blue-400 block mb-1",children:"Blue"}),d.jsx("input",{type:"number",step:"0.01",value:D,onChange:Y=>gt(Y.target.value),disabled:!mt,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-blue-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})]})]})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-end mb-2",children:[d.jsxs("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide flex items-center",children:["Black Level (4-Ch)",d.jsx("span",{className:"ml-1 text-[10px] text-gray-400 dark:text-slate-500 font-normal normal-case",children:"Native"}),d.jsx("button",{onClick:()=>ce(!0),className:"ml-2 text-[10px] text-cyan-600 dark:text-cyan-400 hover:text-cyan-700 dark:hover:text-cyan-300 hover:underline cursor-pointer transition-colors",title:"About Black Level Settings",children:"[about]"})]}),d.jsxs("div",{className:"flex items-center gap-1.5",title:"Subtract Black Level from ROI Mean stats (for display)",children:[d.jsx("span",{className:"text-[9px] font-mono text-gray-400 dark:text-slate-500 uppercase tracking-wide",children:"Sub. BL"}),d.jsx("div",{className:`relative w-8 h-4 rounded-full cursor-pointer transition-colors duration-200 ease-in-out ${ee?"bg-cyan-500":"bg-gray-300 dark:bg-slate-700"}`,onClick:()=>K(!ee),children:d.jsx("div",{className:`absolute top-0.5 left-0.5 bg-white w-3 h-3 rounded-full shadow-sm transform transition-transform duration-200 ${ee?"translate-x-4":"translate-x-0"}`})})]})]}),d.jsx("input",{type:"text",value:A,onChange:Y=>M(Y.target.value),disabled:!mt,placeholder:"0 0 0 0",className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-xs font-mono text-gray-900 dark:text-slate-100 transition-colors duration-300",title:"Enter 4 values separated by space or comma"}),d.jsx("p",{className:"text-[10px] text-gray-400 dark:text-slate-500 mt-1",children:"Order: (0,0) (0,1) (1,0) (1,1). Spatial: TL, TR, BL, BR."})]}),d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"customMatrix",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:["Custom Color Matrix",d.jsx("span",{className:"block text-[10px] text-gray-400 dark:text-slate-500 font-normal normal-case mt-0.5",children:"XYZ to Camera RGB (3x3, 9 nums)"})]}),d.jsx("textarea",{id:"customMatrix",value:P,onChange:Er,disabled:!mt,placeholder:"0.66 -0.19 -0.04  -0.46 1.23 0.25  -0.06 0.13 0.65",className:"w-full h-24 px-2 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none transition-colors disabled:bg-gray-100 dark:disabled:bg-slate-800/50 disabled:cursor-not-allowed text-xs font-mono leading-relaxed text-gray-900 dark:text-slate-100"})]})]}),d.jsxs("div",{className:"pt-4 flex flex-col gap-2",children:[d.jsx("button",{onClick:nr,disabled:!mt,className:"w-full text-base bg-cyan-500 hover:bg-cyan-600 dark:bg-cyan-600 dark:hover:bg-cyan-500 disabled:bg-gray-300 dark:disabled:bg-slate-800 disabled:text-gray-500 dark:disabled:text-slate-500 disabled:cursor-not-allowed text-white font-bold py-3 px-3 rounded-lg shadow-lg shadow-cyan-500/20 dark:shadow-cyan-900/20 transition-all active:scale-95",children:"APPLY SETTINGS"}),d.jsxs("button",{onClick:Kn,disabled:!mt,className:"w-full text-xs font-bold bg-slate-700 hover:bg-slate-600 text-white disabled:bg-gray-300 dark:disabled:bg-slate-800 disabled:text-gray-500 transition-colors py-2 rounded-lg flex items-center justify-center gap-1.5 border border-slate-600",title:"Bypass internal pipeline. Manual subtract black level & apply basic sRGB gamma to raw data.",children:[d.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})," (Zero-Dep)"]}),d.jsx("button",{onClick:Vn,disabled:!mt,className:"w-full text-xs text-gray-400 hover:text-gray-600 dark:text-slate-400 dark:hover:text-slate-200 disabled:text-gray-300 dark:disabled:text-slate-600 transition-colors mt-1",children:"Reset Defaults (Local)"})]})]})})]}),d.jsx(ni,{isOpen:_e,onClose:()=>ce(!1),onConfirm:()=>{window.open("https://y-g-jiang.github.io/CBLD.html","_blank"),ce(!1)},title:"Black Level Info / ",confirmText:"Visit Database (CBLD)",cancelText:"Close",message:d.jsxs("div",{className:"flex flex-col gap-4 text-left text-sm text-gray-600 dark:text-slate-300",children:[d.jsxs("p",{className:"leading-relaxed",children:["JiangBridge/JiangBridge",d.jsx("a",{href:"https://y-g-jiang.github.io/CBLD.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline mx-1 font-bold",children:"CBLD.html"}),""]}),d.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 w-full"}),d.jsxs("p",{className:"leading-relaxed",children:["Autofills when JiangBridge is detected. If no result is found or JiangBridge is missing, please check the",d.jsx("a",{href:"https://y-g-jiang.github.io/CBLD.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline mx-1 font-bold",children:"Black Level Database"}),"to find your camera model. However, manually capturing a dark frame with identical settings to calculate and input the values is highly recommended for higher decimal precision, as internal tags often lack accuracy."]})]})})]})},nM=()=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 12H4"})}),aM=()=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),oM=()=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h5M4 12a8 8 0 0114.24-5.12M20 20v-5h-5M20 12a8 8 0 01-14.24 5.12"})}),iM=()=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11"})}),sM=()=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 4l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})}),R0=.1,I0=16,lM=Math.log(R0),cM=Math.log(I0),uM=({zoom:e,onZoomChange:t,onResetView:r,touchAction:n,onToggleTouchAction:a})=>{const o=c=>{const u=parseFloat(c.target.value),f=Math.exp(u);t(Math.max(R0,Math.min(I0,f)))},i=()=>{t(Math.min(I0,e*1.25))},s=()=>{t(Math.max(R0,e/1.25))},l=Math.log(e);return d.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",onClick:c=>c.stopPropagation(),children:[d.jsx("div",{className:"bg-white/90 dark:bg-slate-800/70 backdrop-blur-sm p-2 rounded-lg border border-gray-200 dark:border-slate-700 flex items-center shadow-lg transition-colors duration-300",children:d.jsx("button",{onClick:a,className:`p-1.5 rounded-md transition-colors flex items-center justify-center ${n==="select"?"bg-cyan-100 text-cyan-600 dark:bg-cyan-900/50 dark:text-cyan-400 ring-2 ring-cyan-500/50":"text-gray-500 dark:text-slate-400 hover:bg-gray-100 dark:hover:bg-slate-700"}`,title:n==="select"?"Mode: Selection (Drag to Select)":"Mode: Pan (Drag to Move)",children:n==="select"?d.jsx(sM,{}):d.jsx(iM,{})})}),d.jsxs("div",{className:"bg-white/90 dark:bg-slate-800/70 backdrop-blur-sm p-2 rounded-lg border border-gray-200 dark:border-slate-700 flex items-center gap-2 text-gray-700 dark:text-slate-300 shadow-lg transition-colors duration-300",children:[d.jsx("button",{onClick:s,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Zoom Out","aria-label":"Zoom Out",children:d.jsx(nM,{})}),d.jsx("input",{type:"range",min:lM,max:cM,step:"0.01",value:l,onChange:o,className:"w-24 sm:w-32 h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500","aria-label":"Zoom slider"}),d.jsx("button",{onClick:i,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Zoom In","aria-label":"Zoom In",children:d.jsx(aM,{})}),d.jsxs("span",{className:"w-16 text-center font-mono text-sm","aria-live":"polite",children:[(e*100).toFixed(0),"%"]}),d.jsx("button",{onClick:r,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Reset View","aria-label":"Reset View",children:d.jsx(oM,{})})]})]})},fM=({theme:e,setTheme:t})=>{const r=()=>{t(e==="light"?"dark":"light")};return d.jsx("button",{onClick:r,className:"fixed bottom-6 right-6 z-50 p-3 rounded-full bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 shadow-lg text-gray-800 dark:text-yellow-400 hover:bg-gray-100 dark:hover:bg-slate-700 transition-all duration-300",title:`Switch to ${e==="light"?"dark":"light"} mode`,children:e==="light"?d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-slate-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}):d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})})})};function IS(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=IS(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function tt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=IS(e))&&(n&&(n+=" "),n+=t);return n}var dM=Array.isArray,pn=dM,hM=typeof lu=="object"&&lu&&lu.Object===Object&&lu,BS=hM,pM=BS,gM=typeof self=="object"&&self&&self.Object===Object&&self,mM=pM||gM||Function("return this")(),_a=mM,yM=_a,vM=yM.Symbol,Xc=vM,_x=Xc,FS=Object.prototype,xM=FS.hasOwnProperty,bM=FS.toString,hl=_x?_x.toStringTag:void 0;function wM(e){var t=xM.call(e,hl),r=e[hl];try{e[hl]=void 0;var n=!0}catch{}var a=bM.call(e);return n&&(t?e[hl]=r:delete e[hl]),a}var kM=wM,SM=Object.prototype,jM=SM.toString;function OM(e){return jM.call(e)}var _M=OM,Px=Xc,PM=kM,NM=_M,AM="[object Null]",MM="[object Undefined]",Nx=Px?Px.toStringTag:void 0;function CM(e){return e==null?e===void 0?MM:AM:Nx&&Nx in Object(e)?PM(e):NM(e)}var Za=CM;function EM(e){return e!=null&&typeof e=="object"}var Ja=EM,TM=Za,$M=Ja,DM="[object Symbol]";function LM(e){return typeof e=="symbol"||$M(e)&&TM(e)==DM}var zs=LM,RM=pn,IM=zs,BM=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,FM=/^\w*$/;function zM(e,t){if(RM(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||IM(e)?!0:FM.test(e)||!BM.test(e)||t!=null&&e in Object(t)}var sy=zM;function WM(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Mo=WM;const Ws=Ct(Mo);var UM=Za,GM=Mo,HM="[object AsyncFunction]",VM="[object Function]",KM="[object GeneratorFunction]",XM="[object Proxy]";function qM(e){if(!GM(e))return!1;var t=UM(e);return t==VM||t==KM||t==HM||t==XM}var ly=qM;const Ie=Ct(ly);var YM=_a,QM=YM["__core-js_shared__"],ZM=QM,up=ZM,Ax=function(){var e=/[^.]+$/.exec(up&&up.keys&&up.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function JM(e){return!!Ax&&Ax in e}var eC=JM,tC=Function.prototype,rC=tC.toString;function nC(e){if(e!=null){try{return rC.call(e)}catch{}try{return e+""}catch{}}return""}var zS=nC,aC=ly,oC=eC,iC=Mo,sC=zS,lC=/[\\^$.*+?()[\]{}|]/g,cC=/^\[object .+?Constructor\]$/,uC=Function.prototype,fC=Object.prototype,dC=uC.toString,hC=fC.hasOwnProperty,pC=RegExp("^"+dC.call(hC).replace(lC,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function gC(e){if(!iC(e)||oC(e))return!1;var t=aC(e)?pC:cC;return t.test(sC(e))}var mC=gC;function yC(e,t){return e==null?void 0:e[t]}var vC=yC,xC=mC,bC=vC;function wC(e,t){var r=bC(e,t);return xC(r)?r:void 0}var wi=wC,kC=wi,SC=kC(Object,"create"),Gd=SC,Mx=Gd;function jC(){this.__data__=Mx?Mx(null):{},this.size=0}var OC=jC;function _C(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var PC=_C,NC=Gd,AC="__lodash_hash_undefined__",MC=Object.prototype,CC=MC.hasOwnProperty;function EC(e){var t=this.__data__;if(NC){var r=t[e];return r===AC?void 0:r}return CC.call(t,e)?t[e]:void 0}var TC=EC,$C=Gd,DC=Object.prototype,LC=DC.hasOwnProperty;function RC(e){var t=this.__data__;return $C?t[e]!==void 0:LC.call(t,e)}var IC=RC,BC=Gd,FC="__lodash_hash_undefined__";function zC(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=BC&&t===void 0?FC:t,this}var WC=zC,UC=OC,GC=PC,HC=TC,VC=IC,KC=WC;function Us(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Us.prototype.clear=UC;Us.prototype.delete=GC;Us.prototype.get=HC;Us.prototype.has=VC;Us.prototype.set=KC;var XC=Us;function qC(){this.__data__=[],this.size=0}var YC=qC;function QC(e,t){return e===t||e!==e&&t!==t}var cy=QC,ZC=cy;function JC(e,t){for(var r=e.length;r--;)if(ZC(e[r][0],t))return r;return-1}var Hd=JC,eE=Hd,tE=Array.prototype,rE=tE.splice;function nE(e){var t=this.__data__,r=eE(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():rE.call(t,r,1),--this.size,!0}var aE=nE,oE=Hd;function iE(e){var t=this.__data__,r=oE(t,e);return r<0?void 0:t[r][1]}var sE=iE,lE=Hd;function cE(e){return lE(this.__data__,e)>-1}var uE=cE,fE=Hd;function dE(e,t){var r=this.__data__,n=fE(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var hE=dE,pE=YC,gE=aE,mE=sE,yE=uE,vE=hE;function Gs(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Gs.prototype.clear=pE;Gs.prototype.delete=gE;Gs.prototype.get=mE;Gs.prototype.has=yE;Gs.prototype.set=vE;var Vd=Gs,xE=wi,bE=_a,wE=xE(bE,"Map"),uy=wE,Cx=XC,kE=Vd,SE=uy;function jE(){this.size=0,this.__data__={hash:new Cx,map:new(SE||kE),string:new Cx}}var OE=jE;function _E(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var PE=_E,NE=PE;function AE(e,t){var r=e.__data__;return NE(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Kd=AE,ME=Kd;function CE(e){var t=ME(this,e).delete(e);return this.size-=t?1:0,t}var EE=CE,TE=Kd;function $E(e){return TE(this,e).get(e)}var DE=$E,LE=Kd;function RE(e){return LE(this,e).has(e)}var IE=RE,BE=Kd;function FE(e,t){var r=BE(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var zE=FE,WE=OE,UE=EE,GE=DE,HE=IE,VE=zE;function Hs(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Hs.prototype.clear=WE;Hs.prototype.delete=UE;Hs.prototype.get=GE;Hs.prototype.has=HE;Hs.prototype.set=VE;var fy=Hs,WS=fy,KE="Expected a function";function dy(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(KE);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var i=e.apply(this,n);return r.cache=o.set(a,i)||o,i};return r.cache=new(dy.Cache||WS),r}dy.Cache=WS;var US=dy;const XE=Ct(US);var qE=US,YE=500;function QE(e){var t=qE(e,function(n){return r.size===YE&&r.clear(),n}),r=t.cache;return t}var ZE=QE,JE=ZE,eT=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,tT=/\\(\\)?/g,rT=JE(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(eT,function(r,n,a,o){t.push(a?o.replace(tT,"$1"):n||r)}),t}),nT=rT;function aT(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var hy=aT,Ex=Xc,oT=hy,iT=pn,sT=zs,Tx=Ex?Ex.prototype:void 0,$x=Tx?Tx.toString:void 0;function GS(e){if(typeof e=="string")return e;if(iT(e))return oT(e,GS)+"";if(sT(e))return $x?$x.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var lT=GS,cT=lT;function uT(e){return e==null?"":cT(e)}var HS=uT,fT=pn,dT=sy,hT=nT,pT=HS;function gT(e,t){return fT(e)?e:dT(e,t)?[e]:hT(pT(e))}var VS=gT,mT=zs;function yT(e){if(typeof e=="string"||mT(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Xd=yT,vT=VS,xT=Xd;function bT(e,t){t=vT(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[xT(t[r++])];return r&&r==n?e:void 0}var py=bT,wT=py;function kT(e,t,r){var n=e==null?void 0:wT(e,t);return n===void 0?r:n}var KS=kT;const Bn=Ct(KS);function ST(e){return e==null}var jT=ST;const De=Ct(jT);var OT=Za,_T=pn,PT=Ja,NT="[object String]";function AT(e){return typeof e=="string"||!_T(e)&&PT(e)&&OT(e)==NT}var MT=AT;const di=Ct(MT);var XS={exports:{}},wt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy=Symbol.for("react.element"),my=Symbol.for("react.portal"),qd=Symbol.for("react.fragment"),Yd=Symbol.for("react.strict_mode"),Qd=Symbol.for("react.profiler"),Zd=Symbol.for("react.provider"),Jd=Symbol.for("react.context"),CT=Symbol.for("react.server_context"),eh=Symbol.for("react.forward_ref"),th=Symbol.for("react.suspense"),rh=Symbol.for("react.suspense_list"),nh=Symbol.for("react.memo"),ah=Symbol.for("react.lazy"),ET=Symbol.for("react.offscreen"),qS;qS=Symbol.for("react.module.reference");function Un(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case gy:switch(e=e.type,e){case qd:case Qd:case Yd:case th:case rh:return e;default:switch(e=e&&e.$$typeof,e){case CT:case Jd:case eh:case ah:case nh:case Zd:return e;default:return t}}case my:return t}}}wt.ContextConsumer=Jd;wt.ContextProvider=Zd;wt.Element=gy;wt.ForwardRef=eh;wt.Fragment=qd;wt.Lazy=ah;wt.Memo=nh;wt.Portal=my;wt.Profiler=Qd;wt.StrictMode=Yd;wt.Suspense=th;wt.SuspenseList=rh;wt.isAsyncMode=function(){return!1};wt.isConcurrentMode=function(){return!1};wt.isContextConsumer=function(e){return Un(e)===Jd};wt.isContextProvider=function(e){return Un(e)===Zd};wt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===gy};wt.isForwardRef=function(e){return Un(e)===eh};wt.isFragment=function(e){return Un(e)===qd};wt.isLazy=function(e){return Un(e)===ah};wt.isMemo=function(e){return Un(e)===nh};wt.isPortal=function(e){return Un(e)===my};wt.isProfiler=function(e){return Un(e)===Qd};wt.isStrictMode=function(e){return Un(e)===Yd};wt.isSuspense=function(e){return Un(e)===th};wt.isSuspenseList=function(e){return Un(e)===rh};wt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===qd||e===Qd||e===Yd||e===th||e===rh||e===ET||typeof e=="object"&&e!==null&&(e.$$typeof===ah||e.$$typeof===nh||e.$$typeof===Zd||e.$$typeof===Jd||e.$$typeof===eh||e.$$typeof===qS||e.getModuleId!==void 0)};wt.typeOf=Un;XS.exports=wt;var TT=XS.exports,$T=Za,DT=Ja,LT="[object Number]";function RT(e){return typeof e=="number"||DT(e)&&$T(e)==LT}var YS=RT;const IT=Ct(YS);var BT=YS;function FT(e){return BT(e)&&e!=+e}var zT=FT;const Vs=Ct(zT);var na=function(t){return t===0?0:t>0?1:-1},qo=function(t){return di(t)&&t.indexOf("%")===t.length-1},se=function(t){return IT(t)&&!Vs(t)},WT=function(t){return De(t)},mr=function(t){return se(t)||di(t)},UT=0,ki=function(t){var r=++UT;return"".concat(t||"").concat(r)},hi=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!se(t)&&!di(t))return n;var o;if(qo(t)){var i=t.indexOf("%");o=r*parseFloat(t.slice(0,i))/100}else o=+t;return Vs(o)&&(o=n),a&&o>r&&(o=r),o},co=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},GT=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},or=function(t,r){return se(t)&&se(r)?function(n){return t+n*(r-t)}:function(){return r}};function Of(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Bn(n,t))===r})}var HT=function(t){if(!t||!t.length)return null;for(var r=t.length,n=0,a=0,o=0,i=0,s=1/0,l=-1/0,c=0,u=0,f=0;f<r;f++)c=t[f].cx||0,u=t[f].cy||0,n+=c,a+=u,o+=c*u,i+=c*c,s=Math.min(s,c),l=Math.max(l,c);var h=r*i!==n*n?(r*o-n*a)/(r*i-n*n):0;return{xmin:s,xmax:l,a:h,b:(a-h*n)/r}},VT=function(t,r){return se(t)&&se(r)?t-r:di(t)&&di(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function es(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function B0(e){"@babel/helpers - typeof";return B0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B0(e)}var KT=["viewBox","children"],XT=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Dx=["points","pathLength"],fp={svg:KT,polygon:Dx,polyline:Dx},yy=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],_f=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(O.isValidElement(t)&&(n=t.props),!Ws(n))return null;var a={};return Object.keys(n).forEach(function(o){yy.includes(o)&&(a[o]=r||function(i){return n[o](n,i)})}),a},qT=function(t,r,n){return function(a){return t(r,n,a),null}},sc=function(t,r,n){if(!Ws(t)||B0(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(o){var i=t[o];yy.includes(o)&&typeof i=="function"&&(a||(a={}),a[o]=qT(i,r,n))}),a},YT=["children"],QT=["children"];function Lx(e,t){if(e==null)return{};var r=ZT(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ZT(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function F0(e){"@babel/helpers - typeof";return F0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F0(e)}var Rx={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Fa=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Ix=null,dp=null,vy=function e(t){if(t===Ix&&Array.isArray(dp))return dp;var r=[];return O.Children.forEach(t,function(n){De(n)||(TT.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),dp=r,Ix=t,r};function hn(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Fa(a)}):n=[Fa(t)],vy(e).forEach(function(a){var o=Bn(a,"type.displayName")||Bn(a,"type.name");n.indexOf(o)!==-1&&r.push(a)}),r}function xn(e,t){var r=hn(e,t);return r&&r[0]}var Bx=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!se(n)||n<=0||!se(a)||a<=0)},JT=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],e$=function(t){return t&&t.type&&di(t.type)&&JT.indexOf(t.type)>=0},QS=function(t){return t&&F0(t)==="object"&&"clipDot"in t},t$=function(t,r,n,a){var o,i=(o=fp==null?void 0:fp[a])!==null&&o!==void 0?o:[];return r.startsWith("data-")||!Ie(t)&&(a&&i.includes(r)||XT.includes(r))||n&&yy.includes(r)},Re=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(O.isValidElement(t)&&(a=t.props),!Ws(a))return null;var o={};return Object.keys(a).forEach(function(i){var s;t$((s=a)===null||s===void 0?void 0:s[i],i,r,n)&&(o[i]=a[i])}),o},z0=function e(t,r){if(t===r)return!0;var n=O.Children.count(t);if(n!==O.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Fx(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var o=t[a],i=r[a];if(Array.isArray(o)||Array.isArray(i)){if(!e(o,i))return!1}else if(!Fx(o,i))return!1}return!0},Fx=function(t,r){if(De(t)&&De(r))return!0;if(!De(t)&&!De(r)){var n=t.props||{},a=n.children,o=Lx(n,YT),i=r.props||{},s=i.children,l=Lx(i,QT);return a&&s?es(o,l)&&z0(a,s):!a&&!s?es(o,l):!1}return!1},zx=function(t,r){var n=[],a={};return vy(t).forEach(function(o,i){if(e$(o))n.push(o);else if(o){var s=Fa(o.type),l=r[s]||{},c=l.handler,u=l.once;if(c&&(!u||!a[s])){var f=c(o,s,i);n.push(f),a[s]=!0}}}),n},r$=function(t){var r=t&&t.type;return r&&Rx[r]?Rx[r]:null},n$=function(t,r){return vy(r).indexOf(t)},a$=["children","width","height","viewBox","className","style","title","desc"];function W0(){return W0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},W0.apply(this,arguments)}function o$(e,t){if(e==null)return{};var r=i$(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function i$(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function U0(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,o=e.className,i=e.style,s=e.title,l=e.desc,c=o$(e,a$),u=a||{width:r,height:n,x:0,y:0},f=tt("recharts-surface",o);return C.createElement("svg",W0({},Re(c,!0,"svg"),{className:f,width:r,height:n,style:i,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),C.createElement("title",null,s),C.createElement("desc",null,l),t)}var s$=["children","className"];function G0(){return G0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G0.apply(this,arguments)}function l$(e,t){if(e==null)return{};var r=c$(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function c$(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ft=C.forwardRef(function(e,t){var r=e.children,n=e.className,a=l$(e,s$),o=tt("recharts-layer",n);return C.createElement("g",G0({className:o},Re(a,!0),{ref:t}),r)}),za=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o]};function u$(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(a);++n<a;)o[n]=e[n+t];return o}var f$=u$,d$=f$;function h$(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:d$(e,t,r)}var p$=h$,g$="\\ud800-\\udfff",m$="\\u0300-\\u036f",y$="\\ufe20-\\ufe2f",v$="\\u20d0-\\u20ff",x$=m$+y$+v$,b$="\\ufe0e\\ufe0f",w$="\\u200d",k$=RegExp("["+w$+g$+x$+b$+"]");function S$(e){return k$.test(e)}var ZS=S$;function j$(e){return e.split("")}var O$=j$,JS="\\ud800-\\udfff",_$="\\u0300-\\u036f",P$="\\ufe20-\\ufe2f",N$="\\u20d0-\\u20ff",A$=_$+P$+N$,M$="\\ufe0e\\ufe0f",C$="["+JS+"]",H0="["+A$+"]",V0="\\ud83c[\\udffb-\\udfff]",E$="(?:"+H0+"|"+V0+")",ej="[^"+JS+"]",tj="(?:\\ud83c[\\udde6-\\uddff]){2}",rj="[\\ud800-\\udbff][\\udc00-\\udfff]",T$="\\u200d",nj=E$+"?",aj="["+M$+"]?",$$="(?:"+T$+"(?:"+[ej,tj,rj].join("|")+")"+aj+nj+")*",D$=aj+nj+$$,L$="(?:"+[ej+H0+"?",H0,tj,rj,C$].join("|")+")",R$=RegExp(V0+"(?="+V0+")|"+L$+D$,"g");function I$(e){return e.match(R$)||[]}var B$=I$,F$=O$,z$=ZS,W$=B$;function U$(e){return z$(e)?W$(e):F$(e)}var G$=U$,H$=p$,V$=ZS,K$=G$,X$=HS;function q$(e){return function(t){t=X$(t);var r=V$(t)?K$(t):void 0,n=r?r[0]:t.charAt(0),a=r?H$(r,1).join(""):t.slice(1);return n[e]()+a}}var Y$=q$,Q$=Y$,Z$=Q$("toUpperCase"),J$=Z$;const oh=Ct(J$);function Tt(e){return function(){return e}}const oj=Math.cos,Pf=Math.sin,ua=Math.sqrt,Nf=Math.PI,ih=2*Nf,K0=Math.PI,X0=2*K0,Uo=1e-6,e5=X0-Uo;function ij(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function t5(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return ij;const r=10**t;return function(n){this._+=n[0];for(let a=1,o=n.length;a<o;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class r5{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?ij:t5(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,o,i){this._append`C${+t},${+r},${+n},${+a},${this._x1=+o},${this._y1=+i}`}arcTo(t,r,n,a,o){if(t=+t,r=+r,n=+n,a=+a,o=+o,o<0)throw new Error(`negative radius: ${o}`);let i=this._x1,s=this._y1,l=n-t,c=a-r,u=i-t,f=s-r,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Uo)if(!(Math.abs(f*l-c*u)>Uo)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-i,m=a-s,v=l*l+c*c,x=p*p+m*m,y=Math.sqrt(v),g=Math.sqrt(h),b=o*Math.tan((K0-Math.acos((v+h-x)/(2*y*g)))/2),k=b/g,w=b/y;Math.abs(k-1)>Uo&&this._append`L${t+k*u},${r+k*f}`,this._append`A${o},${o},0,0,${+(f*p>u*m)},${this._x1=t+w*l},${this._y1=r+w*c}`}}arc(t,r,n,a,o,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),l=n*Math.sin(a),c=t+s,u=r+l,f=1^i,h=i?a-o:o-a;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Uo||Math.abs(this._y1-u)>Uo)&&this._append`L${c},${u}`,n&&(h<0&&(h=h%X0+X0),h>e5?this._append`A${n},${n},0,1,${f},${t-s},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=u}`:h>Uo&&this._append`A${n},${n},0,${+(h>=K0)},${f},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function xy(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new r5(t)}function by(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function sj(e){this._context=e}sj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function sh(e){return new sj(e)}function lj(e){return e[0]}function cj(e){return e[1]}function uj(e,t){var r=Tt(!0),n=null,a=sh,o=null,i=xy(s);e=typeof e=="function"?e:e===void 0?lj:Tt(e),t=typeof t=="function"?t:t===void 0?cj:Tt(t);function s(l){var c,u=(l=by(l)).length,f,h=!1,p;for(n==null&&(o=a(p=i())),c=0;c<=u;++c)!(c<u&&r(f=l[c],c,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(f,c,l),+t(f,c,l));if(p)return o=null,p+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Tt(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Tt(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Tt(!!l),s):r},s.curve=function(l){return arguments.length?(a=l,n!=null&&(o=a(n)),s):a},s.context=function(l){return arguments.length?(l==null?n=o=null:o=a(n=l),s):n},s}function Pu(e,t,r){var n=null,a=Tt(!0),o=null,i=sh,s=null,l=xy(c);e=typeof e=="function"?e:e===void 0?lj:Tt(+e),t=typeof t=="function"?t:Tt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?cj:Tt(+r);function c(f){var h,p,m,v=(f=by(f)).length,x,y=!1,g,b=new Array(v),k=new Array(v);for(o==null&&(s=i(g=l())),h=0;h<=v;++h){if(!(h<v&&a(x=f[h],h,f))===y)if(y=!y)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=h-1;m>=p;--m)s.point(b[m],k[m]);s.lineEnd(),s.areaEnd()}y&&(b[h]=+e(x,h,f),k[h]=+t(x,h,f),s.point(n?+n(x,h,f):b[h],r?+r(x,h,f):k[h]))}if(g)return s=null,g+""||null}function u(){return uj().defined(a).curve(i).context(o)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:Tt(+f),n=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Tt(+f),c):e},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Tt(+f),c):n},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:Tt(+f),r=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Tt(+f),c):t},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Tt(+f),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Tt(!!f),c):a},c.curve=function(f){return arguments.length?(i=f,o!=null&&(s=i(o)),c):i},c.context=function(f){return arguments.length?(f==null?o=s=null:s=i(o=f),c):o},c}class fj{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function n5(e){return new fj(e,!0)}function a5(e){return new fj(e,!1)}const wy={draw(e,t){const r=ua(t/Nf);e.moveTo(r,0),e.arc(0,0,r,0,ih)}},o5={draw(e,t){const r=ua(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},dj=ua(1/3),i5=dj*2,s5={draw(e,t){const r=ua(t/i5),n=r*dj;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},l5={draw(e,t){const r=ua(t),n=-r/2;e.rect(n,n,r,r)}},c5=.8908130915292852,hj=Pf(Nf/10)/Pf(7*Nf/10),u5=Pf(ih/10)*hj,f5=-oj(ih/10)*hj,d5={draw(e,t){const r=ua(t*c5),n=u5*r,a=f5*r;e.moveTo(0,-r),e.lineTo(n,a);for(let o=1;o<5;++o){const i=ih*o/5,s=oj(i),l=Pf(i);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*a,l*n+s*a)}e.closePath()}},hp=ua(3),h5={draw(e,t){const r=-ua(t/(hp*3));e.moveTo(0,r*2),e.lineTo(-hp*r,-r),e.lineTo(hp*r,-r),e.closePath()}},An=-.5,Mn=ua(3)/2,q0=1/ua(12),p5=(q0/2+1)*3,g5={draw(e,t){const r=ua(t/p5),n=r/2,a=r*q0,o=n,i=r*q0+r,s=-o,l=i;e.moveTo(n,a),e.lineTo(o,i),e.lineTo(s,l),e.lineTo(An*n-Mn*a,Mn*n+An*a),e.lineTo(An*o-Mn*i,Mn*o+An*i),e.lineTo(An*s-Mn*l,Mn*s+An*l),e.lineTo(An*n+Mn*a,An*a-Mn*n),e.lineTo(An*o+Mn*i,An*i-Mn*o),e.lineTo(An*s+Mn*l,An*l-Mn*s),e.closePath()}};function m5(e,t){let r=null,n=xy(a);e=typeof e=="function"?e:Tt(e||wy),t=typeof t=="function"?t:Tt(t===void 0?64:+t);function a(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return a.type=function(o){return arguments.length?(e=typeof o=="function"?o:Tt(o),a):e},a.size=function(o){return arguments.length?(t=typeof o=="function"?o:Tt(+o),a):t},a.context=function(o){return arguments.length?(r=o??null,a):r},a}function Af(){}function Mf(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function pj(e){this._context=e}pj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Mf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Mf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function y5(e){return new pj(e)}function gj(e){this._context=e}gj.prototype={areaStart:Af,areaEnd:Af,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Mf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function v5(e){return new gj(e)}function mj(e){this._context=e}mj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Mf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function x5(e){return new mj(e)}function yj(e){this._context=e}yj.prototype={areaStart:Af,areaEnd:Af,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function b5(e){return new yj(e)}function Wx(e){return e<0?-1:1}function Ux(e,t,r){var n=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),s=(o*a+i*n)/(n+a);return(Wx(o)+Wx(i))*Math.min(Math.abs(o),Math.abs(i),.5*Math.abs(s))||0}function Gx(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function pp(e,t,r){var n=e._x0,a=e._y0,o=e._x1,i=e._y1,s=(o-n)/3;e._context.bezierCurveTo(n+s,a+s*t,o-s,i-s*r,o,i)}function Cf(e){this._context=e}Cf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:pp(this,this._t0,Gx(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,pp(this,Gx(this,r=Ux(this,e,t)),r);break;default:pp(this,this._t0,r=Ux(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function vj(e){this._context=new xj(e)}(vj.prototype=Object.create(Cf.prototype)).point=function(e,t){Cf.prototype.point.call(this,t,e)};function xj(e){this._context=e}xj.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,o){this._context.bezierCurveTo(t,e,n,r,o,a)}};function w5(e){return new Cf(e)}function k5(e){return new vj(e)}function bj(e){this._context=e}bj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Hx(e),a=Hx(t),o=0,i=1;i<r;++o,++i)this._context.bezierCurveTo(n[0][o],a[0][o],n[1][o],a[1][o],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Hx(e){var t,r=e.length-1,n,a=new Array(r),o=new Array(r),i=new Array(r);for(a[0]=0,o[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,o[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,o[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/o[t-1],o[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/o[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/o[t];for(o[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-a[t+1];return[a,o]}function S5(e){return new bj(e)}function lh(e,t){this._context=e,this._t=t}lh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function j5(e){return new lh(e,.5)}function O5(e){return new lh(e,0)}function _5(e){return new lh(e,1)}function us(e,t){if((i=e.length)>1)for(var r=1,n,a,o=e[t[0]],i,s=o.length;r<i;++r)for(a=o,o=e[t[r]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Y0(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function P5(e,t){return e[t]}function N5(e){const t=[];return t.key=e,t}function A5(){var e=Tt([]),t=Y0,r=us,n=P5;function a(o){var i=Array.from(e.apply(this,arguments),N5),s,l=i.length,c=-1,u;for(const f of o)for(s=0,++c;s<l;++s)(i[s][c]=[0,+n(f,i[s].key,c,o)]).data=f;for(s=0,u=by(t(i));s<l;++s)i[u[s]].index=s;return r(i,u),i}return a.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Tt(Array.from(o)),a):e},a.value=function(o){return arguments.length?(n=typeof o=="function"?o:Tt(+o),a):n},a.order=function(o){return arguments.length?(t=o==null?Y0:typeof o=="function"?o:Tt(Array.from(o)),a):t},a.offset=function(o){return arguments.length?(r=o??us,a):r},a}function M5(e,t){if((n=e.length)>0){for(var r,n,a=0,o=e[0].length,i;a<o;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}us(e,t)}}function C5(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,o=n.length;r<o;++r){for(var i=0,s=0;i<a;++i)s+=e[i][r][1]||0;n[r][1]+=n[r][0]=-s/2}us(e,t)}}function E5(e,t){if(!(!((i=e.length)>0)||!((o=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,o,i;n<o;++n){for(var s=0,l=0,c=0;s<i;++s){for(var u=e[t[s]],f=u[n][1]||0,h=u[n-1][1]||0,p=(f-h)/2,m=0;m<s;++m){var v=e[t[m]],x=v[n][1]||0,y=v[n-1][1]||0;p+=x-y}l+=f,c+=p*f}a[n-1][1]+=a[n-1][0]=r,l&&(r-=c/l)}a[n-1][1]+=a[n-1][0]=r,us(e,t)}}function lc(e){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lc(e)}var T5=["type","size","sizeType"];function Q0(){return Q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q0.apply(this,arguments)}function Vx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vx(Object(r),!0).forEach(function(n){$5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $5(e,t,r){return t=D5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D5(e){var t=L5(e,"string");return lc(t)=="symbol"?t:t+""}function L5(e,t){if(lc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R5(e,t){if(e==null)return{};var r=I5(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function I5(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var wj={symbolCircle:wy,symbolCross:o5,symbolDiamond:s5,symbolSquare:l5,symbolStar:d5,symbolTriangle:h5,symbolWye:g5},B5=Math.PI/180,F5=function(t){var r="symbol".concat(oh(t));return wj[r]||wy},z5=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*B5;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},W5=function(t,r){wj["symbol".concat(oh(t))]=r},ch=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,o=a===void 0?64:a,i=t.sizeType,s=i===void 0?"area":i,l=R5(t,T5),c=Kx(Kx({},l),{},{type:n,size:o,sizeType:s}),u=function(){var x=F5(n),y=m5().type(x).size(z5(o,s,n));return y()},f=c.className,h=c.cx,p=c.cy,m=Re(c,!0);return h===+h&&p===+p&&o===+o?C.createElement("path",Q0({},m,{className:tt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};ch.registerSymbol=W5;function fs(e){"@babel/helpers - typeof";return fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fs(e)}function Z0(){return Z0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Z0.apply(this,arguments)}function Xx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function U5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xx(Object(r),!0).forEach(function(n){cc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Sj(n.key),n)}}function V5(e,t,r){return t&&H5(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function K5(e,t,r){return t=Ef(t),X5(e,kj()?Reflect.construct(t,r||[],Ef(e).constructor):t.apply(e,r))}function X5(e,t){if(t&&(fs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q5(e)}function q5(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kj=function(){return!!e})()}function Ef(e){return Ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ef(e)}function Y5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J0(e,t)}function J0(e,t){return J0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},J0(e,t)}function cc(e,t,r){return t=Sj(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sj(e){var t=Q5(e,"string");return fs(t)=="symbol"?t:t+""}function Q5(e,t){if(fs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Cn=32,ky=function(e){function t(){return G5(this,t),K5(this,t,arguments)}return Y5(t,e),V5(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,o=Cn/2,i=Cn/6,s=Cn/3,l=n.inactive?a:n.color;if(n.type==="plainline")return C.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:Cn,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return C.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Cn,"M").concat(2*s,",").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return C.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Cn/8,"h").concat(Cn,"v").concat(Cn*3/4,"h").concat(-Cn,"z"),className:"recharts-legend-icon"});if(C.isValidElement(n.legendIcon)){var c=U5({},n);return delete c.legendIcon,C.cloneElement(n.legendIcon,c)}return C.createElement(ch,{fill:l,cx:o,cy:o,size:Cn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,o=a.payload,i=a.iconSize,s=a.layout,l=a.formatter,c=a.inactiveColor,u={x:0,y:0,width:Cn,height:Cn},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,m){var v=p.formatter||l,x=tt(cc(cc({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=Ie(p.value)?null:p.value;za(!Ie(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var g=p.inactive?c:p.color;return C.createElement("li",Z0({className:x,style:f,key:"legend-item-".concat(m)},sc(n.props,p,m)),C.createElement(U0,{width:i,height:i,viewBox:u,style:h},n.renderIcon(p)),C.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},v?v(y,p,m):y))})}},{key:"render",value:function(){var n=this.props,a=n.payload,o=n.layout,i=n.align;if(!a||!a.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?i:"left"};return C.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(O.PureComponent);cc(ky,"displayName","Legend");cc(ky,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Z5=Vd;function J5(){this.__data__=new Z5,this.size=0}var e4=J5;function t4(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var r4=t4;function n4(e){return this.__data__.get(e)}var a4=n4;function o4(e){return this.__data__.has(e)}var i4=o4,s4=Vd,l4=uy,c4=fy,u4=200;function f4(e,t){var r=this.__data__;if(r instanceof s4){var n=r.__data__;if(!l4||n.length<u4-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new c4(n)}return r.set(e,t),this.size=r.size,this}var d4=f4,h4=Vd,p4=e4,g4=r4,m4=a4,y4=i4,v4=d4;function Ks(e){var t=this.__data__=new h4(e);this.size=t.size}Ks.prototype.clear=p4;Ks.prototype.delete=g4;Ks.prototype.get=m4;Ks.prototype.has=y4;Ks.prototype.set=v4;var jj=Ks,x4="__lodash_hash_undefined__";function b4(e){return this.__data__.set(e,x4),this}var w4=b4;function k4(e){return this.__data__.has(e)}var S4=k4,j4=fy,O4=w4,_4=S4;function Tf(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new j4;++t<r;)this.add(e[t])}Tf.prototype.add=Tf.prototype.push=O4;Tf.prototype.has=_4;var Oj=Tf;function P4(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var _j=P4;function N4(e,t){return e.has(t)}var Pj=N4,A4=Oj,M4=_j,C4=Pj,E4=1,T4=2;function $4(e,t,r,n,a,o){var i=r&E4,s=e.length,l=t.length;if(s!=l&&!(i&&l>s))return!1;var c=o.get(e),u=o.get(t);if(c&&u)return c==t&&u==e;var f=-1,h=!0,p=r&T4?new A4:void 0;for(o.set(e,t),o.set(t,e);++f<s;){var m=e[f],v=t[f];if(n)var x=i?n(v,m,f,t,e,o):n(m,v,f,e,t,o);if(x!==void 0){if(x)continue;h=!1;break}if(p){if(!M4(t,function(y,g){if(!C4(p,g)&&(m===y||a(m,y,r,n,o)))return p.push(g)})){h=!1;break}}else if(!(m===v||a(m,v,r,n,o))){h=!1;break}}return o.delete(e),o.delete(t),h}var Nj=$4,D4=_a,L4=D4.Uint8Array,R4=L4;function I4(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var B4=I4;function F4(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Sy=F4,qx=Xc,Yx=R4,z4=cy,W4=Nj,U4=B4,G4=Sy,H4=1,V4=2,K4="[object Boolean]",X4="[object Date]",q4="[object Error]",Y4="[object Map]",Q4="[object Number]",Z4="[object RegExp]",J4="[object Set]",e3="[object String]",t3="[object Symbol]",r3="[object ArrayBuffer]",n3="[object DataView]",Qx=qx?qx.prototype:void 0,gp=Qx?Qx.valueOf:void 0;function a3(e,t,r,n,a,o,i){switch(r){case n3:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case r3:return!(e.byteLength!=t.byteLength||!o(new Yx(e),new Yx(t)));case K4:case X4:case Q4:return z4(+e,+t);case q4:return e.name==t.name&&e.message==t.message;case Z4:case e3:return e==t+"";case Y4:var s=U4;case J4:var l=n&H4;if(s||(s=G4),e.size!=t.size&&!l)return!1;var c=i.get(e);if(c)return c==t;n|=V4,i.set(e,t);var u=W4(s(e),s(t),n,a,o,i);return i.delete(e),u;case t3:if(gp)return gp.call(e)==gp.call(t)}return!1}var o3=a3;function i3(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var Aj=i3,s3=Aj,l3=pn;function c3(e,t,r){var n=t(e);return l3(e)?n:s3(n,r(e))}var u3=c3;function f3(e,t){for(var r=-1,n=e==null?0:e.length,a=0,o=[];++r<n;){var i=e[r];t(i,r,e)&&(o[a++]=i)}return o}var d3=f3;function h3(){return[]}var p3=h3,g3=d3,m3=p3,y3=Object.prototype,v3=y3.propertyIsEnumerable,Zx=Object.getOwnPropertySymbols,x3=Zx?function(e){return e==null?[]:(e=Object(e),g3(Zx(e),function(t){return v3.call(e,t)}))}:m3,b3=x3;function w3(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var k3=w3,S3=Za,j3=Ja,O3="[object Arguments]";function _3(e){return j3(e)&&S3(e)==O3}var P3=_3,Jx=P3,N3=Ja,Mj=Object.prototype,A3=Mj.hasOwnProperty,M3=Mj.propertyIsEnumerable,C3=Jx(function(){return arguments}())?Jx:function(e){return N3(e)&&A3.call(e,"callee")&&!M3.call(e,"callee")},jy=C3,$f={exports:{}};function E3(){return!1}var T3=E3;$f.exports;(function(e,t){var r=_a,n=T3,a=t&&!t.nodeType&&t,o=a&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===a,s=i?r.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||n;e.exports=c})($f,$f.exports);var Cj=$f.exports,$3=9007199254740991,D3=/^(?:0|[1-9]\d*)$/;function L3(e,t){var r=typeof e;return t=t??$3,!!t&&(r=="number"||r!="symbol"&&D3.test(e))&&e>-1&&e%1==0&&e<t}var Oy=L3,R3=9007199254740991;function I3(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=R3}var _y=I3,B3=Za,F3=_y,z3=Ja,W3="[object Arguments]",U3="[object Array]",G3="[object Boolean]",H3="[object Date]",V3="[object Error]",K3="[object Function]",X3="[object Map]",q3="[object Number]",Y3="[object Object]",Q3="[object RegExp]",Z3="[object Set]",J3="[object String]",eD="[object WeakMap]",tD="[object ArrayBuffer]",rD="[object DataView]",nD="[object Float32Array]",aD="[object Float64Array]",oD="[object Int8Array]",iD="[object Int16Array]",sD="[object Int32Array]",lD="[object Uint8Array]",cD="[object Uint8ClampedArray]",uD="[object Uint16Array]",fD="[object Uint32Array]",It={};It[nD]=It[aD]=It[oD]=It[iD]=It[sD]=It[lD]=It[cD]=It[uD]=It[fD]=!0;It[W3]=It[U3]=It[tD]=It[G3]=It[rD]=It[H3]=It[V3]=It[K3]=It[X3]=It[q3]=It[Y3]=It[Q3]=It[Z3]=It[J3]=It[eD]=!1;function dD(e){return z3(e)&&F3(e.length)&&!!It[B3(e)]}var hD=dD;function pD(e){return function(t){return e(t)}}var Ej=pD,Df={exports:{}};Df.exports;(function(e,t){var r=BS,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===n,i=o&&r.process,s=function(){try{var l=a&&a.require&&a.require("util").types;return l||i&&i.binding&&i.binding("util")}catch{}}();e.exports=s})(Df,Df.exports);var gD=Df.exports,mD=hD,yD=Ej,eb=gD,tb=eb&&eb.isTypedArray,vD=tb?yD(tb):mD,Tj=vD,xD=k3,bD=jy,wD=pn,kD=Cj,SD=Oy,jD=Tj,OD=Object.prototype,_D=OD.hasOwnProperty;function PD(e,t){var r=wD(e),n=!r&&bD(e),a=!r&&!n&&kD(e),o=!r&&!n&&!a&&jD(e),i=r||n||a||o,s=i?xD(e.length,String):[],l=s.length;for(var c in e)(t||_D.call(e,c))&&!(i&&(c=="length"||a&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||SD(c,l)))&&s.push(c);return s}var ND=PD,AD=Object.prototype;function MD(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||AD;return e===r}var CD=MD;function ED(e,t){return function(r){return e(t(r))}}var $j=ED,TD=$j,$D=TD(Object.keys,Object),DD=$D,LD=CD,RD=DD,ID=Object.prototype,BD=ID.hasOwnProperty;function FD(e){if(!LD(e))return RD(e);var t=[];for(var r in Object(e))BD.call(e,r)&&r!="constructor"&&t.push(r);return t}var zD=FD,WD=ly,UD=_y;function GD(e){return e!=null&&UD(e.length)&&!WD(e)}var qc=GD,HD=ND,VD=zD,KD=qc;function XD(e){return KD(e)?HD(e):VD(e)}var uh=XD,qD=u3,YD=b3,QD=uh;function ZD(e){return qD(e,QD,YD)}var JD=ZD,rb=JD,eL=1,tL=Object.prototype,rL=tL.hasOwnProperty;function nL(e,t,r,n,a,o){var i=r&eL,s=rb(e),l=s.length,c=rb(t),u=c.length;if(l!=u&&!i)return!1;for(var f=l;f--;){var h=s[f];if(!(i?h in t:rL.call(t,h)))return!1}var p=o.get(e),m=o.get(t);if(p&&m)return p==t&&m==e;var v=!0;o.set(e,t),o.set(t,e);for(var x=i;++f<l;){h=s[f];var y=e[h],g=t[h];if(n)var b=i?n(g,y,h,t,e,o):n(y,g,h,e,t,o);if(!(b===void 0?y===g||a(y,g,r,n,o):b)){v=!1;break}x||(x=h=="constructor")}if(v&&!x){var k=e.constructor,w=t.constructor;k!=w&&"constructor"in e&&"constructor"in t&&!(typeof k=="function"&&k instanceof k&&typeof w=="function"&&w instanceof w)&&(v=!1)}return o.delete(e),o.delete(t),v}var aL=nL,oL=wi,iL=_a,sL=oL(iL,"DataView"),lL=sL,cL=wi,uL=_a,fL=cL(uL,"Promise"),dL=fL,hL=wi,pL=_a,gL=hL(pL,"Set"),Dj=gL,mL=wi,yL=_a,vL=mL(yL,"WeakMap"),xL=vL,eg=lL,tg=uy,rg=dL,ng=Dj,ag=xL,Lj=Za,Xs=zS,nb="[object Map]",bL="[object Object]",ab="[object Promise]",ob="[object Set]",ib="[object WeakMap]",sb="[object DataView]",wL=Xs(eg),kL=Xs(tg),SL=Xs(rg),jL=Xs(ng),OL=Xs(ag),Go=Lj;(eg&&Go(new eg(new ArrayBuffer(1)))!=sb||tg&&Go(new tg)!=nb||rg&&Go(rg.resolve())!=ab||ng&&Go(new ng)!=ob||ag&&Go(new ag)!=ib)&&(Go=function(e){var t=Lj(e),r=t==bL?e.constructor:void 0,n=r?Xs(r):"";if(n)switch(n){case wL:return sb;case kL:return nb;case SL:return ab;case jL:return ob;case OL:return ib}return t});var _L=Go,mp=jj,PL=Nj,NL=o3,AL=aL,lb=_L,cb=pn,ub=Cj,ML=Tj,CL=1,fb="[object Arguments]",db="[object Array]",Nu="[object Object]",EL=Object.prototype,hb=EL.hasOwnProperty;function TL(e,t,r,n,a,o){var i=cb(e),s=cb(t),l=i?db:lb(e),c=s?db:lb(t);l=l==fb?Nu:l,c=c==fb?Nu:c;var u=l==Nu,f=c==Nu,h=l==c;if(h&&ub(e)){if(!ub(t))return!1;i=!0,u=!1}if(h&&!u)return o||(o=new mp),i||ML(e)?PL(e,t,r,n,a,o):NL(e,t,l,r,n,a,o);if(!(r&CL)){var p=u&&hb.call(e,"__wrapped__"),m=f&&hb.call(t,"__wrapped__");if(p||m){var v=p?e.value():e,x=m?t.value():t;return o||(o=new mp),a(v,x,r,n,o)}}return h?(o||(o=new mp),AL(e,t,r,n,a,o)):!1}var $L=TL,DL=$L,pb=Ja;function Rj(e,t,r,n,a){return e===t?!0:e==null||t==null||!pb(e)&&!pb(t)?e!==e&&t!==t:DL(e,t,r,n,Rj,a)}var Py=Rj,LL=jj,RL=Py,IL=1,BL=2;function FL(e,t,r,n){var a=r.length,o=a,i=!n;if(e==null)return!o;for(e=Object(e);a--;){var s=r[a];if(i&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<o;){s=r[a];var l=s[0],c=e[l],u=s[1];if(i&&s[2]){if(c===void 0&&!(l in e))return!1}else{var f=new LL;if(n)var h=n(c,u,l,e,t,f);if(!(h===void 0?RL(u,c,IL|BL,n,f):h))return!1}}return!0}var zL=FL,WL=Mo;function UL(e){return e===e&&!WL(e)}var Ij=UL,GL=Ij,HL=uh;function VL(e){for(var t=HL(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,GL(a)]}return t}var KL=VL;function XL(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var Bj=XL,qL=zL,YL=KL,QL=Bj;function ZL(e){var t=YL(e);return t.length==1&&t[0][2]?QL(t[0][0],t[0][1]):function(r){return r===e||qL(r,e,t)}}var JL=ZL;function eR(e,t){return e!=null&&t in Object(e)}var tR=eR,rR=VS,nR=jy,aR=pn,oR=Oy,iR=_y,sR=Xd;function lR(e,t,r){t=rR(t,e);for(var n=-1,a=t.length,o=!1;++n<a;){var i=sR(t[n]);if(!(o=e!=null&&r(e,i)))break;e=e[i]}return o||++n!=a?o:(a=e==null?0:e.length,!!a&&iR(a)&&oR(i,a)&&(aR(e)||nR(e)))}var cR=lR,uR=tR,fR=cR;function dR(e,t){return e!=null&&fR(e,t,uR)}var hR=dR,pR=Py,gR=KS,mR=hR,yR=sy,vR=Ij,xR=Bj,bR=Xd,wR=1,kR=2;function SR(e,t){return yR(e)&&vR(t)?xR(bR(e),t):function(r){var n=gR(r,e);return n===void 0&&n===t?mR(r,e):pR(t,n,wR|kR)}}var jR=SR;function OR(e){return e}var qs=OR;function _R(e){return function(t){return t==null?void 0:t[e]}}var PR=_R,NR=py;function AR(e){return function(t){return NR(t,e)}}var MR=AR,CR=PR,ER=MR,TR=sy,$R=Xd;function DR(e){return TR(e)?CR($R(e)):ER(e)}var LR=DR,RR=JL,IR=jR,BR=qs,FR=pn,zR=LR;function WR(e){return typeof e=="function"?e:e==null?BR:typeof e=="object"?FR(e)?IR(e[0],e[1]):RR(e):zR(e)}var Co=WR;function UR(e,t,r,n){for(var a=e.length,o=r+(n?1:-1);n?o--:++o<a;)if(t(e[o],o,e))return o;return-1}var Fj=UR;function GR(e){return e!==e}var HR=GR;function VR(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var KR=VR,XR=Fj,qR=HR,YR=KR;function QR(e,t,r){return t===t?YR(e,t,r):XR(e,qR,r)}var ZR=QR,JR=ZR;function eI(e,t){var r=e==null?0:e.length;return!!r&&JR(e,t,0)>-1}var tI=eI;function rI(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var nI=rI;function aI(){}var oI=aI,yp=Dj,iI=oI,sI=Sy,lI=1/0,cI=yp&&1/sI(new yp([,-0]))[1]==lI?function(e){return new yp(e)}:iI,uI=cI,fI=Oj,dI=tI,hI=nI,pI=Pj,gI=uI,mI=Sy,yI=200;function vI(e,t,r){var n=-1,a=dI,o=e.length,i=!0,s=[],l=s;if(r)i=!1,a=hI;else if(o>=yI){var c=t?null:gI(e);if(c)return mI(c);i=!1,a=pI,l=new fI}else l=t?[]:s;e:for(;++n<o;){var u=e[n],f=t?t(u):u;if(u=r||u!==0?u:0,i&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),s.push(u)}else a(l,f,r)||(l!==s&&l.push(f),s.push(u))}return s}var xI=vI,bI=Co,wI=xI;function kI(e,t){return e&&e.length?wI(e,bI(t)):[]}var SI=kI;const gb=Ct(SI);function zj(e,t,r){return t===!0?gb(e,r):Ie(t)?gb(e,t):e}function ds(e){"@babel/helpers - typeof";return ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ds(e)}var jI=["ref"];function mb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ca(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mb(Object(r),!0).forEach(function(n){fh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Uj(n.key),n)}}function _I(e,t,r){return t&&yb(e.prototype,t),r&&yb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function PI(e,t,r){return t=Lf(t),NI(e,Wj()?Reflect.construct(t,r||[],Lf(e).constructor):t.apply(e,r))}function NI(e,t){if(t&&(ds(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AI(e)}function AI(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wj=function(){return!!e})()}function Lf(e){return Lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lf(e)}function MI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&og(e,t)}function og(e,t){return og=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},og(e,t)}function fh(e,t,r){return t=Uj(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uj(e){var t=CI(e,"string");return ds(t)=="symbol"?t:t+""}function CI(e,t){if(ds(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ds(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function EI(e,t){if(e==null)return{};var r=TI(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function TI(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $I(e){return e.value}function DI(e,t){if(C.isValidElement(e))return C.cloneElement(e,t);if(typeof e=="function")return C.createElement(e,t);t.ref;var r=EI(t,jI);return C.createElement(ky,r)}var vb=1,Wa=function(e){function t(){var r;OI(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=PI(this,t,[].concat(a)),fh(r,"lastBoundingBox",{width:-1,height:-1}),r}return MI(t,e),_I(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>vb||Math.abs(a.height-this.lastBoundingBox.height)>vb)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ca({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,o=a.layout,i=a.align,s=a.verticalAlign,l=a.margin,c=a.chartWidth,u=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(i==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();f={left:((c||0)-p.width)/2}}else f=i==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var m=this.getBBoxSnapshot();h={top:((u||0)-m.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Ca(Ca({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,o=a.content,i=a.width,s=a.height,l=a.wrapperStyle,c=a.payloadUniqBy,u=a.payload,f=Ca(Ca({position:"absolute",width:i||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return C.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},DI(o,Ca(Ca({},this.props),{},{payload:zj(u,c,$I)})))}}],[{key:"getWithHeight",value:function(n,a){var o=Ca(Ca({},this.defaultProps),n.props),i=o.layout;return i==="vertical"&&se(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||a}:null}}])}(O.PureComponent);fh(Wa,"displayName","Legend");fh(Wa,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var xb=Xc,LI=jy,RI=pn,bb=xb?xb.isConcatSpreadable:void 0;function II(e){return RI(e)||LI(e)||!!(bb&&e&&e[bb])}var BI=II,FI=Aj,zI=BI;function Gj(e,t,r,n,a){var o=-1,i=e.length;for(r||(r=zI),a||(a=[]);++o<i;){var s=e[o];t>0&&r(s)?t>1?Gj(s,t-1,r,n,a):FI(a,s):n||(a[a.length]=s)}return a}var Hj=Gj;function WI(e){return function(t,r,n){for(var a=-1,o=Object(t),i=n(t),s=i.length;s--;){var l=i[e?s:++a];if(r(o[l],l,o)===!1)break}return t}}var UI=WI,GI=UI,HI=GI(),VI=HI,KI=VI,XI=uh;function qI(e,t){return e&&KI(e,t,XI)}var Vj=qI,YI=qc;function QI(e,t){return function(r,n){if(r==null)return r;if(!YI(r))return e(r,n);for(var a=r.length,o=t?a:-1,i=Object(r);(t?o--:++o<a)&&n(i[o],o,i)!==!1;);return r}}var ZI=QI,JI=Vj,e6=ZI,t6=e6(JI),Ny=t6,r6=Ny,n6=qc;function a6(e,t){var r=-1,n=n6(e)?Array(e.length):[];return r6(e,function(a,o,i){n[++r]=t(a,o,i)}),n}var Kj=a6;function o6(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var i6=o6,wb=zs;function s6(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,o=wb(e),i=t!==void 0,s=t===null,l=t===t,c=wb(t);if(!s&&!c&&!o&&e>t||o&&i&&l&&!s&&!c||n&&i&&l||!r&&l||!a)return 1;if(!n&&!o&&!c&&e<t||c&&r&&a&&!n&&!o||s&&r&&a||!i&&a||!l)return-1}return 0}var l6=s6,c6=l6;function u6(e,t,r){for(var n=-1,a=e.criteria,o=t.criteria,i=a.length,s=r.length;++n<i;){var l=c6(a[n],o[n]);if(l){if(n>=s)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return e.index-t.index}var f6=u6,vp=hy,d6=py,h6=Co,p6=Kj,g6=i6,m6=Ej,y6=f6,v6=qs,x6=pn;function b6(e,t,r){t.length?t=vp(t,function(o){return x6(o)?function(i){return d6(i,o.length===1?o[0]:o)}:o}):t=[v6];var n=-1;t=vp(t,m6(h6));var a=p6(e,function(o,i,s){var l=vp(t,function(c){return c(o)});return{criteria:l,index:++n,value:o}});return g6(a,function(o,i){return y6(o,i,r)})}var w6=b6;function k6(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var S6=k6,j6=S6,kb=Math.max;function O6(e,t,r){return t=kb(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,o=kb(n.length-t,0),i=Array(o);++a<o;)i[a]=n[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=n[a];return s[t]=r(i),j6(e,this,s)}}var _6=O6;function P6(e){return function(){return e}}var N6=P6,A6=wi,M6=function(){try{var e=A6(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Xj=M6,C6=N6,Sb=Xj,E6=qs,T6=Sb?function(e,t){return Sb(e,"toString",{configurable:!0,enumerable:!1,value:C6(t),writable:!0})}:E6,$6=T6,D6=800,L6=16,R6=Date.now;function I6(e){var t=0,r=0;return function(){var n=R6(),a=L6-(n-r);if(r=n,a>0){if(++t>=D6)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var B6=I6,F6=$6,z6=B6,W6=z6(F6),U6=W6,G6=qs,H6=_6,V6=U6;function K6(e,t){return V6(H6(e,t,G6),e+"")}var X6=K6,q6=cy,Y6=qc,Q6=Oy,Z6=Mo;function J6(e,t,r){if(!Z6(r))return!1;var n=typeof t;return(n=="number"?Y6(r)&&Q6(t,r.length):n=="string"&&t in r)?q6(r[t],e):!1}var dh=J6,eB=Hj,tB=w6,rB=X6,jb=dh,nB=rB(function(e,t){if(e==null)return[];var r=t.length;return r>1&&jb(e,t[0],t[1])?t=[]:r>2&&jb(t[0],t[1],t[2])&&(t=[t[0]]),tB(e,eB(t,1),[])}),aB=nB;const Ay=Ct(aB);function uc(e){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uc(e)}function ig(){return ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ig.apply(this,arguments)}function oB(e,t){return cB(e)||lB(e,t)||sB(e,t)||iB()}function iB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sB(e,t){if(e){if(typeof e=="string")return Ob(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ob(e,t)}}function Ob(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lB(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function cB(e){if(Array.isArray(e))return e}function _b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_b(Object(r),!0).forEach(function(n){uB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_b(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uB(e,t,r){return t=fB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fB(e){var t=dB(e,"string");return uc(t)=="symbol"?t:t+""}function dB(e,t){if(uc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hB(e){return Array.isArray(e)&&mr(e[0])&&mr(e[1])?e.join(" ~ "):e}var pB=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,o=a===void 0?{}:a,i=t.itemStyle,s=i===void 0?{}:i,l=t.labelStyle,c=l===void 0?{}:l,u=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,m=t.labelClassName,v=t.label,x=t.labelFormatter,y=t.accessibilityLayer,g=y===void 0?!1:y,b=function(){if(u&&u.length){var M={padding:0,margin:0},B=(h?Ay(u,h):u).map(function(I,D){if(I.type==="none")return null;var L=xp({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},s),F=I.formatter||f||hB,$=I.value,z=I.name,W=$,ee=z;if(F&&W!=null&&ee!=null){var K=F($,z,I,D,u);if(Array.isArray(K)){var q=oB(K,2);W=q[0],ee=q[1]}else W=K}return C.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:L},mr(ee)?C.createElement("span",{className:"recharts-tooltip-item-name"},ee):null,mr(ee)?C.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,C.createElement("span",{className:"recharts-tooltip-item-value"},W),C.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return C.createElement("ul",{className:"recharts-tooltip-item-list",style:M},B)}return null},k=xp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),w=xp({margin:0},c),S=!De(v),j=S?v:"",_=tt("recharts-default-tooltip",p),P=tt("recharts-tooltip-label",m);S&&x&&u!==void 0&&u!==null&&(j=x(v,u));var N=g?{role:"status","aria-live":"assertive"}:{};return C.createElement("div",ig({className:_,style:k},N),C.createElement("p",{className:P,style:w},C.isValidElement(j)?j:"".concat(j)),b())};function fc(e){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(e)}function Au(e,t,r){return t=gB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gB(e){var t=mB(e,"string");return fc(t)=="symbol"?t:t+""}function mB(e,t){if(fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pl="recharts-tooltip-wrapper",yB={visibility:"hidden"};function vB(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return tt(pl,Au(Au(Au(Au({},"".concat(pl,"-right"),se(r)&&t&&se(t.x)&&r>=t.x),"".concat(pl,"-left"),se(r)&&t&&se(t.x)&&r<t.x),"".concat(pl,"-bottom"),se(n)&&t&&se(t.y)&&n>=t.y),"".concat(pl,"-top"),se(n)&&t&&se(t.y)&&n<t.y))}function Pb(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,o=e.position,i=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(o&&se(o[n]))return o[n];var u=r[n]-s-a,f=r[n]+a;if(t[n])return i[n]?u:f;if(i[n]){var h=u,p=l[n];return h<p?Math.max(f,l[n]):Math.max(u,l[n])}var m=f+s,v=l[n]+c;return m>v?Math.max(u,l[n]):Math.max(f,l[n])}function xB(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function bB(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,o=e.reverseDirection,i=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,c,u,f;return i.height>0&&i.width>0&&r?(u=Pb({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.width,viewBox:l,viewBoxDimension:l.width}),f=Pb({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.height,viewBox:l,viewBoxDimension:l.height}),c=xB({translateX:u,translateY:f,useTranslate3d:s})):c=yB,{cssProperties:c,cssClasses:vB({translateX:u,translateY:f,coordinate:r})}}function hs(e){"@babel/helpers - typeof";return hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hs(e)}function Nb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ab(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nb(Object(r),!0).forEach(function(n){lg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Yj(n.key),n)}}function SB(e,t,r){return t&&kB(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jB(e,t,r){return t=Rf(t),OB(e,qj()?Reflect.construct(t,r||[],Rf(e).constructor):t.apply(e,r))}function OB(e,t){if(t&&(hs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _B(e)}function _B(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qj=function(){return!!e})()}function Rf(e){return Rf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rf(e)}function PB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sg(e,t)}function sg(e,t){return sg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sg(e,t)}function lg(e,t,r){return t=Yj(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yj(e){var t=NB(e,"string");return hs(t)=="symbol"?t:t+""}function NB(e,t){if(hs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Mb=1,AB=function(e){function t(){var r;wB(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=jB(this,t,[].concat(a)),lg(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),lg(r,"handleKeyDown",function(i){if(i.key==="Escape"){var s,l,c,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),r}return PB(t,e),SB(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Mb||Math.abs(n.height-this.state.lastBoundingBox.height)>Mb)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,o=a.active,i=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,c=a.children,u=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,m=a.position,v=a.reverseDirection,x=a.useTranslate3d,y=a.viewBox,g=a.wrapperStyle,b=bB({allowEscapeViewBox:i,coordinate:u,offsetTopLeft:p,position:m,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:y}),k=b.cssClasses,w=b.cssProperties,S=Ab(Ab({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},g);return C.createElement("div",{tabIndex:-1,className:k,style:S,ref:function(_){n.wrapperNode=_}},c)}}])}(O.PureComponent),MB=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Eo={isSsr:MB()};function ps(e){"@babel/helpers - typeof";return ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ps(e)}function Cb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Eb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cb(Object(r),!0).forEach(function(n){My(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Zj(n.key),n)}}function TB(e,t,r){return t&&EB(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $B(e,t,r){return t=If(t),DB(e,Qj()?Reflect.construct(t,r||[],If(e).constructor):t.apply(e,r))}function DB(e,t){if(t&&(ps(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LB(e)}function LB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qj=function(){return!!e})()}function If(e){return If=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},If(e)}function RB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cg(e,t)}function cg(e,t){return cg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cg(e,t)}function My(e,t,r){return t=Zj(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zj(e){var t=IB(e,"string");return ps(t)=="symbol"?t:t+""}function IB(e,t){if(ps(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ps(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function BB(e){return e.dataKey}function FB(e,t){return C.isValidElement(e)?C.cloneElement(e,t):typeof e=="function"?C.createElement(e,t):C.createElement(pB,t)}var Xr=function(e){function t(){return CB(this,t),$B(this,t,arguments)}return RB(t,e),TB(t,[{key:"render",value:function(){var n=this,a=this.props,o=a.active,i=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,c=a.content,u=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,m=a.payload,v=a.payloadUniqBy,x=a.position,y=a.reverseDirection,g=a.useTranslate3d,b=a.viewBox,k=a.wrapperStyle,w=m??[];f&&w.length&&(w=zj(m.filter(function(j){return j.value!=null&&(j.hide!==!0||n.props.includeHidden)}),v,BB));var S=w.length>0;return C.createElement(AB,{allowEscapeViewBox:i,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:u,hasPayload:S,offset:p,position:x,reverseDirection:y,useTranslate3d:g,viewBox:b,wrapperStyle:k},FB(c,Eb(Eb({},this.props),{},{payload:w})))}}])}(O.PureComponent);My(Xr,"displayName","Tooltip");My(Xr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Eo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var zB=_a,WB=function(){return zB.Date.now()},UB=WB,GB=/\s/;function HB(e){for(var t=e.length;t--&&GB.test(e.charAt(t)););return t}var VB=HB,KB=VB,XB=/^\s+/;function qB(e){return e&&e.slice(0,KB(e)+1).replace(XB,"")}var YB=qB,QB=YB,Tb=Mo,ZB=zs,$b=NaN,JB=/^[-+]0x[0-9a-f]+$/i,e8=/^0b[01]+$/i,t8=/^0o[0-7]+$/i,r8=parseInt;function n8(e){if(typeof e=="number")return e;if(ZB(e))return $b;if(Tb(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Tb(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=QB(e);var r=e8.test(e);return r||t8.test(e)?r8(e.slice(2),r?2:8):JB.test(e)?$b:+e}var Jj=n8,a8=Mo,bp=UB,Db=Jj,o8="Expected a function",i8=Math.max,s8=Math.min;function l8(e,t,r){var n,a,o,i,s,l,c=0,u=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(o8);t=Db(t)||0,a8(r)&&(u=!!r.leading,f="maxWait"in r,o=f?i8(Db(r.maxWait)||0,t):o,h="trailing"in r?!!r.trailing:h);function p(S){var j=n,_=a;return n=a=void 0,c=S,i=e.apply(_,j),i}function m(S){return c=S,s=setTimeout(y,t),u?p(S):i}function v(S){var j=S-l,_=S-c,P=t-j;return f?s8(P,o-_):P}function x(S){var j=S-l,_=S-c;return l===void 0||j>=t||j<0||f&&_>=o}function y(){var S=bp();if(x(S))return g(S);s=setTimeout(y,v(S))}function g(S){return s=void 0,h&&n?p(S):(n=a=void 0,i)}function b(){s!==void 0&&clearTimeout(s),c=0,n=l=a=s=void 0}function k(){return s===void 0?i:g(bp())}function w(){var S=bp(),j=x(S);if(n=arguments,a=this,l=S,j){if(s===void 0)return m(l);if(f)return clearTimeout(s),s=setTimeout(y,t),p(l)}return s===void 0&&(s=setTimeout(y,t)),i}return w.cancel=b,w.flush=k,w}var c8=l8,u8=c8,f8=Mo,d8="Expected a function";function h8(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(d8);return f8(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),u8(e,t,{leading:n,maxWait:t,trailing:a})}var p8=h8;const eO=Ct(p8);function dc(e){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dc(e)}function Lb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lb(Object(r),!0).forEach(function(n){g8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g8(e,t,r){return t=m8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m8(e){var t=y8(e,"string");return dc(t)=="symbol"?t:t+""}function y8(e,t){if(dc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function v8(e,t){return k8(e)||w8(e,t)||b8(e,t)||x8()}function x8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b8(e,t){if(e){if(typeof e=="string")return Rb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rb(e,t)}}function Rb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function w8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function k8(e){if(Array.isArray(e))return e}var gs=O.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,o=e.width,i=o===void 0?"100%":o,s=e.height,l=s===void 0?"100%":s,c=e.minWidth,u=c===void 0?0:c,f=e.minHeight,h=e.maxHeight,p=e.children,m=e.debounce,v=m===void 0?0:m,x=e.id,y=e.className,g=e.onResize,b=e.style,k=b===void 0?{}:b,w=O.useRef(null),S=O.useRef();S.current=g,O.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var j=O.useState({containerWidth:a.width,containerHeight:a.height}),_=v8(j,2),P=_[0],N=_[1],A=O.useCallback(function(B,I){N(function(D){var L=Math.round(B),F=Math.round(I);return D.containerWidth===L&&D.containerHeight===F?D:{containerWidth:L,containerHeight:F}})},[]);O.useEffect(function(){var B=function(z){var W,ee=z[0].contentRect,K=ee.width,q=ee.height;A(K,q),(W=S.current)===null||W===void 0||W.call(S,K,q)};v>0&&(B=eO(B,v,{trailing:!0,leading:!1}));var I=new ResizeObserver(B),D=w.current.getBoundingClientRect(),L=D.width,F=D.height;return A(L,F),I.observe(w.current),function(){I.disconnect()}},[A,v]);var M=O.useMemo(function(){var B=P.containerWidth,I=P.containerHeight;if(B<0||I<0)return null;za(qo(i)||qo(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,l),za(!r||r>0,"The aspect(%s) must be greater than zero.",r);var D=qo(i)?B:i,L=qo(l)?I:l;r&&r>0&&(D?L=D/r:L&&(D=L*r),h&&L>h&&(L=h)),za(D>0||L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,L,i,l,u,f,r);var F=!Array.isArray(p)&&Fa(p.type).endsWith("Chart");return C.Children.map(p,function($){return C.isValidElement($)?O.cloneElement($,Mu({width:D,height:L},F?{style:Mu({height:"100%",width:"100%",maxHeight:L,maxWidth:D},$.props.style)}:{})):$})},[r,p,l,h,f,u,P,i]);return C.createElement("div",{id:x?"".concat(x):void 0,className:tt("recharts-responsive-container",y),style:Mu(Mu({},k),{},{width:i,height:l,minWidth:u,minHeight:f,maxHeight:h}),ref:w},M)}),Cy=function(t){return null};Cy.displayName="Cell";function hc(e){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hc(e)}function Ib(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ug(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ib(Object(r),!0).forEach(function(n){S8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ib(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S8(e,t,r){return t=j8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j8(e){var t=O8(e,"string");return hc(t)=="symbol"?t:t+""}function O8(e,t){if(hc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ai={widthCache:{},cacheCount:0},_8=2e3,P8={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Bb="recharts_measurement_span";function N8(e){var t=ug({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Rl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Eo.isSsr)return{width:0,height:0};var n=N8(r),a=JSON.stringify({text:t,copyStyle:n});if(Ai.widthCache[a])return Ai.widthCache[a];try{var o=document.getElementById(Bb);o||(o=document.createElement("span"),o.setAttribute("id",Bb),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var i=ug(ug({},P8),n);Object.assign(o.style,i),o.textContent="".concat(t);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return Ai.widthCache[a]=l,++Ai.cacheCount>_8&&(Ai.cacheCount=0,Ai.widthCache={}),l}catch{return{width:0,height:0}}},A8=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function pc(e){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pc(e)}function Bf(e,t){return T8(e)||E8(e,t)||C8(e,t)||M8()}function M8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C8(e,t){if(e){if(typeof e=="string")return Fb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fb(e,t)}}function Fb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function T8(e){if(Array.isArray(e))return e}function $8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,L8(n.key),n)}}function D8(e,t,r){return t&&zb(e.prototype,t),r&&zb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function L8(e){var t=R8(e,"string");return pc(t)=="symbol"?t:t+""}function R8(e,t){if(pc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Wb=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ub=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,I8=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,B8=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,tO={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},F8=Object.keys(tO),Hi="NaN";function z8(e,t){return e*tO[t]}var Cu=function(){function e(t,r){$8(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!I8.test(r)&&(this.num=NaN,this.unit=""),F8.includes(r)&&(this.num=z8(t,r),this.unit="px")}return D8(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=B8.exec(r))!==null&&n!==void 0?n:[],o=Bf(a,3),i=o[1],s=o[2];return new e(parseFloat(i),s??"")}}])}();function rO(e){if(e.includes(Hi))return Hi;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=Wb.exec(t))!==null&&r!==void 0?r:[],a=Bf(n,4),o=a[1],i=a[2],s=a[3],l=Cu.parse(o??""),c=Cu.parse(s??""),u=i==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return Hi;t=t.replace(Wb,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=Ub.exec(t))!==null&&f!==void 0?f:[],p=Bf(h,4),m=p[1],v=p[2],x=p[3],y=Cu.parse(m??""),g=Cu.parse(x??""),b=v==="+"?y.add(g):y.subtract(g);if(b.isNaN())return Hi;t=t.replace(Ub,b.toString())}return t}var Gb=/\(([^()]*)\)/;function W8(e){for(var t=e;t.includes("(");){var r=Gb.exec(t),n=Bf(r,2),a=n[1];t=t.replace(Gb,rO(a))}return t}function U8(e){var t=e.replace(/\s+/g,"");return t=W8(t),t=rO(t),t}function G8(e){try{return U8(e)}catch{return Hi}}function wp(e){var t=G8(e.slice(5,-1));return t===Hi?"":t}var H8=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],V8=["dx","dy","angle","className","breakAll"];function fg(){return fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fg.apply(this,arguments)}function Hb(e,t){if(e==null)return{};var r=K8(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function K8(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Vb(e,t){return Q8(e)||Y8(e,t)||q8(e,t)||X8()}function X8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q8(e,t){if(e){if(typeof e=="string")return Kb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kb(e,t)}}function Kb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Y8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function Q8(e){if(Array.isArray(e))return e}var nO=/[ \f\n\r\t\v\u2028\u2029]+/,aO=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var o=[];De(r)||(n?o=r.toString().split(""):o=r.toString().split(nO));var i=o.map(function(l){return{word:l,width:Rl(l,a).width}}),s=n?0:Rl("",a).width;return{wordsWithComputedWidth:i,spaceWidth:s}}catch{return null}},Z8=function(t,r,n,a,o){var i=t.maxLines,s=t.children,l=t.style,c=t.breakAll,u=se(i),f=s,h=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce(function(L,F){var $=F.word,z=F.width,W=L[L.length-1];if(W&&(a==null||o||W.width+z+n<Number(a)))W.words.push($),W.width+=z+n;else{var ee={words:[$],width:z};L.push(ee)}return L},[])},p=h(r),m=function(D){return D.reduce(function(L,F){return L.width>F.width?L:F})};if(!u)return p;for(var v="",x=function(D){var L=f.slice(0,D),F=aO({breakAll:c,style:l,children:L+v}).wordsWithComputedWidth,$=h(F),z=$.length>i||m($).width>Number(a);return[z,$]},y=0,g=f.length-1,b=0,k;y<=g&&b<=f.length-1;){var w=Math.floor((y+g)/2),S=w-1,j=x(S),_=Vb(j,2),P=_[0],N=_[1],A=x(w),M=Vb(A,1),B=M[0];if(!P&&!B&&(y=w+1),P&&B&&(g=w-1),!P&&B){k=N;break}b++}return k||p},Xb=function(t){var r=De(t)?[]:t.toString().split(nO);return[{words:r}]},J8=function(t){var r=t.width,n=t.scaleToFit,a=t.children,o=t.style,i=t.breakAll,s=t.maxLines;if((r||n)&&!Eo.isSsr){var l,c,u=aO({breakAll:i,children:a,style:o});if(u){var f=u.wordsWithComputedWidth,h=u.spaceWidth;l=f,c=h}else return Xb(a);return Z8({breakAll:i,children:a,maxLines:s,style:o},l,c,r,n)}return Xb(a)},qb="#808080",Ff=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,o=a===void 0?0:a,i=t.lineHeight,s=i===void 0?"1em":i,l=t.capHeight,c=l===void 0?"0.71em":l,u=t.scaleToFit,f=u===void 0?!1:u,h=t.textAnchor,p=h===void 0?"start":h,m=t.verticalAnchor,v=m===void 0?"end":m,x=t.fill,y=x===void 0?qb:x,g=Hb(t,H8),b=O.useMemo(function(){return J8({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width})},[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),k=g.dx,w=g.dy,S=g.angle,j=g.className,_=g.breakAll,P=Hb(g,V8);if(!mr(n)||!mr(o))return null;var N=n+(se(k)?k:0),A=o+(se(w)?w:0),M;switch(v){case"start":M=wp("calc(".concat(c,")"));break;case"middle":M=wp("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:M=wp("calc(".concat(b.length-1," * -").concat(s,")"));break}var B=[];if(f){var I=b[0].width,D=g.width;B.push("scale(".concat((se(D)?D/I:1)/I,")"))}return S&&B.push("rotate(".concat(S,", ").concat(N,", ").concat(A,")")),B.length&&(P.transform=B.join(" ")),C.createElement("text",fg({},Re(P,!0),{x:N,y:A,className:tt("recharts-text",j),textAnchor:p,fill:y.includes("url")?qb:y}),b.map(function(L,F){var $=L.words.join(_?"":" ");return C.createElement("tspan",{x:N,dy:F===0?M:s,key:"".concat($,"-").concat(F)},$)}))};function jo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function eF(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ey(e){let t,r,n;e.length!==2?(t=jo,r=(s,l)=>jo(e(s),l),n=(s,l)=>e(s)-l):(t=e===jo||e===eF?e:tF,r=e,n=e);function a(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(s[f],l)<0?c=f+1:u=f}while(c<u)}return c}function o(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(s[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function i(s,l,c=0,u=s.length){const f=a(s,l,c,u-1);return f>c&&n(s[f-1],l)>-n(s[f],l)?f-1:f}return{left:a,center:i,right:o}}function tF(){return 0}function oO(e){return e===null?NaN:+e}function*rF(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const nF=Ey(jo),Yc=nF.right;Ey(oO).center;class Yb extends Map{constructor(t,r=iF){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(Qb(this,t))}has(t){return super.has(Qb(this,t))}set(t,r){return super.set(aF(this,t),r)}delete(t){return super.delete(oF(this,t))}}function Qb({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function aF({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function oF({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function iF(e){return e!==null&&typeof e=="object"?e.valueOf():e}function sF(e=jo){if(e===jo)return iO;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function iO(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const lF=Math.sqrt(50),cF=Math.sqrt(10),uF=Math.sqrt(2);function zf(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),o=n/Math.pow(10,a),i=o>=lF?10:o>=cF?5:o>=uF?2:1;let s,l,c;return a<0?(c=Math.pow(10,-a)/i,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*i,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=r&&r<2?zf(e,t,r*2):[s,l,c]}function dg(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,o,i]=n?zf(t,e,r):zf(e,t,r);if(!(o>=a))return[];const s=o-a+1,l=new Array(s);if(n)if(i<0)for(let c=0;c<s;++c)l[c]=(o-c)/-i;else for(let c=0;c<s;++c)l[c]=(o-c)*i;else if(i<0)for(let c=0;c<s;++c)l[c]=(a+c)/-i;else for(let c=0;c<s;++c)l[c]=(a+c)*i;return l}function hg(e,t,r){return t=+t,e=+e,r=+r,zf(e,t,r)[2]}function pg(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?hg(t,e,r):hg(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function Zb(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Jb(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function sO(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?iO:sF(a);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,u=Math.log(l),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(t-c*f/l+h)),m=Math.min(n,Math.floor(t+(l-c)*f/l+h));sO(e,t,p,m,a)}const o=e[t];let i=r,s=n;for(gl(e,r,t),a(e[n],o)>0&&gl(e,r,n);i<s;){for(gl(e,i,s),++i,--s;a(e[i],o)<0;)++i;for(;a(e[s],o)>0;)--s}a(e[r],o)===0?gl(e,r,s):(++s,gl(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function gl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function fF(e,t,r){if(e=Float64Array.from(rF(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Jb(e);if(t>=1)return Zb(e);var n,a=(n-1)*t,o=Math.floor(a),i=Zb(sO(e,o).subarray(0,o+1)),s=Jb(e.subarray(o+1));return i+(s-i)*(a-o)}}function dF(e,t,r=oO){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,o=Math.floor(a),i=+r(e[o],o,e),s=+r(e[o+1],o+1,e);return i+(s-i)*(a-o)}}function hF(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(a);++n<a;)o[n]=e+n*r;return o}function Gn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function eo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const gg=Symbol("implicit");function Ty(){var e=new Yb,t=[],r=[],n=gg;function a(o){let i=e.get(o);if(i===void 0){if(n!==gg)return n;e.set(o,i=t.push(o)-1)}return r[i%r.length]}return a.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new Yb;for(const i of o)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(o){return arguments.length?(r=Array.from(o),a):r.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return Ty(t,r).unknown(n)},Gn.apply(a,arguments),a}function gc(){var e=Ty().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,o,i,s=!1,l=0,c=0,u=.5;delete e.unknown;function f(){var h=t().length,p=a<n,m=p?a:n,v=p?n:a;o=(v-m)/Math.max(1,h-l+c*2),s&&(o=Math.floor(o)),m+=(v-m-o*(h-l))*u,i=o*(1-l),s&&(m=Math.round(m),i=Math.round(i));var x=hF(h).map(function(y){return m+o*y});return r(p?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,s=!0,f()},e.bandwidth=function(){return i},e.step=function(){return o},e.round=function(h){return arguments.length?(s=!!h,f()):s},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},e.copy=function(){return gc(t(),[n,a]).round(s).paddingInner(l).paddingOuter(c).align(u)},Gn.apply(f(),arguments)}function lO(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return lO(t())},e}function Il(){return lO(gc.apply(null,arguments).paddingInner(1))}function $y(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function cO(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Qc(){}var mc=.7,Wf=1/mc,ts="\\s*([+-]?\\d+)\\s*",yc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",wa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pF=/^#([0-9a-f]{3,8})$/,gF=new RegExp(`^rgb\\(${ts},${ts},${ts}\\)$`),mF=new RegExp(`^rgb\\(${wa},${wa},${wa}\\)$`),yF=new RegExp(`^rgba\\(${ts},${ts},${ts},${yc}\\)$`),vF=new RegExp(`^rgba\\(${wa},${wa},${wa},${yc}\\)$`),xF=new RegExp(`^hsl\\(${yc},${wa},${wa}\\)$`),bF=new RegExp(`^hsla\\(${yc},${wa},${wa},${yc}\\)$`),e1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$y(Qc,vc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:t1,formatHex:t1,formatHex8:wF,formatHsl:kF,formatRgb:r1,toString:r1});function t1(){return this.rgb().formatHex()}function wF(){return this.rgb().formatHex8()}function kF(){return uO(this).formatHsl()}function r1(){return this.rgb().formatRgb()}function vc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=pF.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?n1(t):r===3?new cn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Eu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Eu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=gF.exec(e))?new cn(t[1],t[2],t[3],1):(t=mF.exec(e))?new cn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=yF.exec(e))?Eu(t[1],t[2],t[3],t[4]):(t=vF.exec(e))?Eu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=xF.exec(e))?i1(t[1],t[2]/100,t[3]/100,1):(t=bF.exec(e))?i1(t[1],t[2]/100,t[3]/100,t[4]):e1.hasOwnProperty(e)?n1(e1[e]):e==="transparent"?new cn(NaN,NaN,NaN,0):null}function n1(e){return new cn(e>>16&255,e>>8&255,e&255,1)}function Eu(e,t,r,n){return n<=0&&(e=t=r=NaN),new cn(e,t,r,n)}function SF(e){return e instanceof Qc||(e=vc(e)),e?(e=e.rgb(),new cn(e.r,e.g,e.b,e.opacity)):new cn}function mg(e,t,r,n){return arguments.length===1?SF(e):new cn(e,t,r,n??1)}function cn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}$y(cn,mg,cO(Qc,{brighter(e){return e=e==null?Wf:Math.pow(Wf,e),new cn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?mc:Math.pow(mc,e),new cn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new cn(ai(this.r),ai(this.g),ai(this.b),Uf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:a1,formatHex:a1,formatHex8:jF,formatRgb:o1,toString:o1}));function a1(){return`#${Yo(this.r)}${Yo(this.g)}${Yo(this.b)}`}function jF(){return`#${Yo(this.r)}${Yo(this.g)}${Yo(this.b)}${Yo((isNaN(this.opacity)?1:this.opacity)*255)}`}function o1(){const e=Uf(this.opacity);return`${e===1?"rgb(":"rgba("}${ai(this.r)}, ${ai(this.g)}, ${ai(this.b)}${e===1?")":`, ${e})`}`}function Uf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ai(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Yo(e){return e=ai(e),(e<16?"0":"")+e.toString(16)}function i1(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ra(e,t,r,n)}function uO(e){if(e instanceof ra)return new ra(e.h,e.s,e.l,e.opacity);if(e instanceof Qc||(e=vc(e)),!e)return new ra;if(e instanceof ra)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),o=Math.max(t,r,n),i=NaN,s=o-a,l=(o+a)/2;return s?(t===o?i=(r-n)/s+(r<n)*6:r===o?i=(n-t)/s+2:i=(t-r)/s+4,s/=l<.5?o+a:2-o-a,i*=60):s=l>0&&l<1?0:i,new ra(i,s,l,e.opacity)}function OF(e,t,r,n){return arguments.length===1?uO(e):new ra(e,t,r,n??1)}function ra(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}$y(ra,OF,cO(Qc,{brighter(e){return e=e==null?Wf:Math.pow(Wf,e),new ra(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?mc:Math.pow(mc,e),new ra(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new cn(kp(e>=240?e-240:e+120,a,n),kp(e,a,n),kp(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new ra(s1(this.h),Tu(this.s),Tu(this.l),Uf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Uf(this.opacity);return`${e===1?"hsl(":"hsla("}${s1(this.h)}, ${Tu(this.s)*100}%, ${Tu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function s1(e){return e=(e||0)%360,e<0?e+360:e}function Tu(e){return Math.max(0,Math.min(1,e||0))}function kp(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Dy=e=>()=>e;function _F(e,t){return function(r){return e+r*t}}function PF(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function NF(e){return(e=+e)==1?fO:function(t,r){return r-t?PF(t,r,e):Dy(isNaN(t)?r:t)}}function fO(e,t){var r=t-e;return r?_F(e,r):Dy(isNaN(e)?t:e)}const l1=function e(t){var r=NF(t);function n(a,o){var i=r((a=mg(a)).r,(o=mg(o)).r),s=r(a.g,o.g),l=r(a.b,o.b),c=fO(a.opacity,o.opacity);return function(u){return a.r=i(u),a.g=s(u),a.b=l(u),a.opacity=c(u),a+""}}return n.gamma=e,n}(1);function AF(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(o){for(a=0;a<r;++a)n[a]=e[a]*(1-o)+t[a]*o;return n}}function MF(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function CF(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),o=new Array(r),i;for(i=0;i<n;++i)a[i]=Ys(e[i],t[i]);for(;i<r;++i)o[i]=t[i];return function(s){for(i=0;i<n;++i)o[i]=a[i](s);return o}}function EF(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Gf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function TF(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Ys(e[a],t[a]):n[a]=t[a];return function(o){for(a in r)n[a]=r[a](o);return n}}var yg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Sp=new RegExp(yg.source,"g");function $F(e){return function(){return e}}function DF(e){return function(t){return e(t)+""}}function LF(e,t){var r=yg.lastIndex=Sp.lastIndex=0,n,a,o,i=-1,s=[],l=[];for(e=e+"",t=t+"";(n=yg.exec(e))&&(a=Sp.exec(t));)(o=a.index)>r&&(o=t.slice(r,o),s[i]?s[i]+=o:s[++i]=o),(n=n[0])===(a=a[0])?s[i]?s[i]+=a:s[++i]=a:(s[++i]=null,l.push({i,x:Gf(n,a)})),r=Sp.lastIndex;return r<t.length&&(o=t.slice(r),s[i]?s[i]+=o:s[++i]=o),s.length<2?l[0]?DF(l[0].x):$F(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)s[(f=l[u]).i]=f.x(c);return s.join("")})}function Ys(e,t){var r=typeof t,n;return t==null||r==="boolean"?Dy(t):(r==="number"?Gf:r==="string"?(n=vc(t))?(t=n,l1):LF:t instanceof vc?l1:t instanceof Date?EF:MF(t)?AF:Array.isArray(t)?CF:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?TF:Gf)(e,t)}function Ly(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function RF(e,t){t===void 0&&(t=e,e=Ys);for(var r=0,n=t.length-1,a=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(a,a=t[++r]);return function(i){var s=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return o[s](i-s)}}function IF(e){return function(){return e}}function Hf(e){return+e}var c1=[0,1];function qr(e){return e}function vg(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:IF(isNaN(t)?NaN:.5)}function BF(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function FF(e,t,r){var n=e[0],a=e[1],o=t[0],i=t[1];return a<n?(n=vg(a,n),o=r(i,o)):(n=vg(n,a),o=r(o,i)),function(s){return o(n(s))}}function zF(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),o=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=vg(e[i],e[i+1]),o[i]=r(t[i],t[i+1]);return function(s){var l=Yc(e,s,1,n)-1;return o[l](a[l](s))}}function Zc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function hh(){var e=c1,t=c1,r=Ys,n,a,o,i=qr,s,l,c;function u(){var h=Math.min(e.length,t.length);return i!==qr&&(i=BF(e[0],e[h-1])),s=h>2?zF:FF,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=s(e.map(n),t,r)))(n(i(h)))}return f.invert=function(h){return i(a((c||(c=s(t,e.map(n),Gf)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Hf),u()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=Ly,u()},f.clamp=function(h){return arguments.length?(i=h?!0:qr,u()):i!==qr},f.interpolate=function(h){return arguments.length?(r=h,u()):r},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,p){return n=h,a=p,u()}}function Ry(){return hh()(qr,qr)}function WF(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Vf(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function ms(e){return e=Vf(Math.abs(e)),e?e[1]:NaN}function UF(e,t){return function(r,n){for(var a=r.length,o=[],i=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),o.push(r.substring(a-=s,a+s)),!((l+=s+1)>n));)s=e[i=(i+1)%e.length];return o.reverse().join(t)}}function GF(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var HF=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xc(e){if(!(t=HF.exec(e)))throw new Error("invalid format: "+e);var t;return new Iy({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}xc.prototype=Iy.prototype;function Iy(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Iy.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function VF(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var dO;function KF(e,t){var r=Vf(e,t);if(!r)return e+"";var n=r[0],a=r[1],o=a-(dO=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return o===i?n:o>i?n+new Array(o-i+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Vf(e,Math.max(0,t+o-1))[0]}function u1(e,t){var r=Vf(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const f1={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:WF,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>u1(e*100,t),r:u1,s:KF,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function d1(e){return e}var h1=Array.prototype.map,p1=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function XF(e){var t=e.grouping===void 0||e.thousands===void 0?d1:UF(h1.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?d1:GF(h1.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=xc(f);var h=f.fill,p=f.align,m=f.sign,v=f.symbol,x=f.zero,y=f.width,g=f.comma,b=f.precision,k=f.trim,w=f.type;w==="n"?(g=!0,w="g"):f1[w]||(b===void 0&&(b=12),k=!0,w="g"),(x||h==="0"&&p==="=")&&(x=!0,h="0",p="=");var S=v==="$"?r:v==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",j=v==="$"?n:/[%p]/.test(w)?i:"",_=f1[w],P=/[defgprs%]/.test(w);b=b===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function N(A){var M=S,B=j,I,D,L;if(w==="c")B=_(A)+B,A="";else{A=+A;var F=A<0||1/A<0;if(A=isNaN(A)?l:_(Math.abs(A),b),k&&(A=VF(A)),F&&+A==0&&m!=="+"&&(F=!1),M=(F?m==="("?m:s:m==="-"||m==="("?"":m)+M,B=(w==="s"?p1[8+dO/3]:"")+B+(F&&m==="("?")":""),P){for(I=-1,D=A.length;++I<D;)if(L=A.charCodeAt(I),48>L||L>57){B=(L===46?a+A.slice(I+1):A.slice(I))+B,A=A.slice(0,I);break}}}g&&!x&&(A=t(A,1/0));var $=M.length+A.length+B.length,z=$<y?new Array(y-$+1).join(h):"";switch(g&&x&&(A=t(z+A,z.length?y-B.length:1/0),z=""),p){case"<":A=M+A+B+z;break;case"=":A=M+z+A+B;break;case"^":A=z.slice(0,$=z.length>>1)+M+A+B+z.slice($);break;default:A=z+M+A+B;break}return o(A)}return N.toString=function(){return f+""},N}function u(f,h){var p=c((f=xc(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(ms(h)/3)))*3,v=Math.pow(10,-m),x=p1[8+m/3];return function(y){return p(v*y)+x}}return{format:c,formatPrefix:u}}var $u,By,hO;qF({thousands:",",grouping:[3],currency:["$",""]});function qF(e){return $u=XF(e),By=$u.format,hO=$u.formatPrefix,$u}function YF(e){return Math.max(0,-ms(Math.abs(e)))}function QF(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ms(t)/3)))*3-ms(Math.abs(e)))}function ZF(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ms(t)-ms(e))+1}function pO(e,t,r,n){var a=pg(e,t,r),o;switch(n=xc(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=QF(a,i))&&(n.precision=o),hO(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=ZF(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=YF(a))&&(n.precision=o-(n.type==="%")*2);break}}return By(n)}function To(e){var t=e.domain;return e.ticks=function(r){var n=t();return dg(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return pO(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,o=n.length-1,i=n[a],s=n[o],l,c,u=10;for(s<i&&(c=i,i=s,s=c,c=a,a=o,o=c);u-- >0;){if(c=hg(i,s,r),c===l)return n[a]=i,n[o]=s,t(n);if(c>0)i=Math.floor(i/c)*c,s=Math.ceil(s/c)*c;else if(c<0)i=Math.ceil(i*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function Kf(){var e=Ry();return e.copy=function(){return Zc(e,Kf())},Gn.apply(e,arguments),To(e)}function gO(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Hf),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return gO(e).unknown(t)},e=arguments.length?Array.from(e,Hf):[0,1],To(r)}function mO(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],o=e[n],i;return o<a&&(i=r,r=n,n=i,i=a,a=o,o=i),e[r]=t.floor(a),e[n]=t.ceil(o),e}function g1(e){return Math.log(e)}function m1(e){return Math.exp(e)}function JF(e){return-Math.log(-e)}function ez(e){return-Math.exp(-e)}function tz(e){return isFinite(e)?+("1e"+e):e<0?0:e}function rz(e){return e===10?tz:e===Math.E?Math.exp:t=>Math.pow(e,t)}function nz(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function y1(e){return(t,r)=>-e(-t,r)}function Fy(e){const t=e(g1,m1),r=t.domain;let n=10,a,o;function i(){return a=nz(n),o=rz(n),r()[0]<0?(a=y1(a),o=y1(o),e(JF,ez)):e(g1,m1),t}return t.base=function(s){return arguments.length?(n=+s,i()):n},t.domain=function(s){return arguments.length?(r(s),i()):r()},t.ticks=s=>{const l=r();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let h=a(c),p=a(u),m,v;const x=s==null?10:+s;let y=[];if(!(n%1)&&p-h<x){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(m=1;m<n;++m)if(v=h<0?m/o(-h):m*o(h),!(v<c)){if(v>u)break;y.push(v)}}else for(;h<=p;++h)for(m=n-1;m>=1;--m)if(v=h>0?m/o(-h):m*o(h),!(v<c)){if(v>u)break;y.push(v)}y.length*2<x&&(y=dg(c,u,x))}else y=dg(h,p,Math.min(p-h,x)).map(o);return f?y.reverse():y},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=xc(l)).precision==null&&(l.trim=!0),l=By(l)),s===1/0)return l;const c=Math.max(1,n*s/t.ticks().length);return u=>{let f=u/o(Math.round(a(u)));return f*n<n-.5&&(f*=n),f<=c?l(u):""}},t.nice=()=>r(mO(r(),{floor:s=>o(Math.floor(a(s))),ceil:s=>o(Math.ceil(a(s)))})),t}function yO(){const e=Fy(hh()).domain([1,10]);return e.copy=()=>Zc(e,yO()).base(e.base()),Gn.apply(e,arguments),e}function v1(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function x1(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function zy(e){var t=1,r=e(v1(t),x1(t));return r.constant=function(n){return arguments.length?e(v1(t=+n),x1(t)):t},To(r)}function vO(){var e=zy(hh());return e.copy=function(){return Zc(e,vO()).constant(e.constant())},Gn.apply(e,arguments)}function b1(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function az(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function oz(e){return e<0?-e*e:e*e}function Wy(e){var t=e(qr,qr),r=1;function n(){return r===1?e(qr,qr):r===.5?e(az,oz):e(b1(r),b1(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},To(t)}function Uy(){var e=Wy(hh());return e.copy=function(){return Zc(e,Uy()).exponent(e.exponent())},Gn.apply(e,arguments),e}function iz(){return Uy.apply(null,arguments).exponent(.5)}function w1(e){return Math.sign(e)*e*e}function sz(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function xO(){var e=Ry(),t=[0,1],r=!1,n;function a(o){var i=sz(e(o));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(o){return e.invert(w1(o))},a.domain=function(o){return arguments.length?(e.domain(o),a):e.domain()},a.range=function(o){return arguments.length?(e.range((t=Array.from(o,Hf)).map(w1)),a):t.slice()},a.rangeRound=function(o){return a.range(o).round(!0)},a.round=function(o){return arguments.length?(r=!!o,a):r},a.clamp=function(o){return arguments.length?(e.clamp(o),a):e.clamp()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return xO(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Gn.apply(a,arguments),To(a)}function bO(){var e=[],t=[],r=[],n;function a(){var i=0,s=Math.max(1,t.length);for(r=new Array(s-1);++i<s;)r[i-1]=dF(e,i/s);return o}function o(i){return i==null||isNaN(i=+i)?n:t[Yc(r,i)]}return o.invertExtent=function(i){var s=t.indexOf(i);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},o.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let s of i)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(jo),a()},o.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},o.unknown=function(i){return arguments.length?(n=i,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return bO().domain(e).range(t).unknown(n)},Gn.apply(o,arguments)}function wO(){var e=0,t=1,r=1,n=[.5],a=[0,1],o;function i(l){return l!=null&&l<=l?a[Yc(n,l,0,r)]:o}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return i}return i.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},i.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,s()):a.slice()},i.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},i.unknown=function(l){return arguments.length&&(o=l),i},i.thresholds=function(){return n.slice()},i.copy=function(){return wO().domain([e,t]).range(a).unknown(o)},Gn.apply(To(i),arguments)}function kO(){var e=[.5],t=[0,1],r,n=1;function a(o){return o!=null&&o<=o?t[Yc(e,o,0,n)]:r}return a.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(o){var i=t.indexOf(o);return[e[i-1],e[i]]},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return kO().domain(e).range(t).unknown(r)},Gn.apply(a,arguments)}const jp=new Date,Op=new Date;function vr(e,t,r,n){function a(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=o=>(e(o=new Date(+o)),o),a.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),a.round=o=>{const i=a(o),s=a.ceil(o);return o-i<s-o?i:s},a.offset=(o,i)=>(t(o=new Date(+o),i==null?1:Math.floor(i)),o),a.range=(o,i,s)=>{const l=[];if(o=a.ceil(o),s=s==null?1:Math.floor(s),!(o<i)||!(s>0))return l;let c;do l.push(c=new Date(+o)),t(o,s),e(o);while(c<o&&o<i);return l},a.filter=o=>vr(i=>{if(i>=i)for(;e(i),!o(i);)i.setTime(i-1)},(i,s)=>{if(i>=i)if(s<0)for(;++s<=0;)for(;t(i,-1),!o(i););else for(;--s>=0;)for(;t(i,1),!o(i););}),r&&(a.count=(o,i)=>(jp.setTime(+o),Op.setTime(+i),e(jp),e(Op),Math.floor(r(jp,Op))),a.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(n?i=>n(i)%o===0:i=>a.count(0,i)%o===0):a)),a}const Xf=vr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Xf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?vr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Xf);Xf.range;const La=1e3,Ln=La*60,Ra=Ln*60,Xa=Ra*24,Gy=Xa*7,k1=Xa*30,_p=Xa*365,Qo=vr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*La)},(e,t)=>(t-e)/La,e=>e.getUTCSeconds());Qo.range;const Hy=vr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*La)},(e,t)=>{e.setTime(+e+t*Ln)},(e,t)=>(t-e)/Ln,e=>e.getMinutes());Hy.range;const Vy=vr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ln)},(e,t)=>(t-e)/Ln,e=>e.getUTCMinutes());Vy.range;const Ky=vr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*La-e.getMinutes()*Ln)},(e,t)=>{e.setTime(+e+t*Ra)},(e,t)=>(t-e)/Ra,e=>e.getHours());Ky.range;const Xy=vr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ra)},(e,t)=>(t-e)/Ra,e=>e.getUTCHours());Xy.range;const Jc=vr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ln)/Xa,e=>e.getDate()-1);Jc.range;const ph=vr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Xa,e=>e.getUTCDate()-1);ph.range;const SO=vr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Xa,e=>Math.floor(e/Xa));SO.range;function Si(e){return vr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ln)/Gy)}const gh=Si(0),qf=Si(1),lz=Si(2),cz=Si(3),ys=Si(4),uz=Si(5),fz=Si(6);gh.range;qf.range;lz.range;cz.range;ys.range;uz.range;fz.range;function ji(e){return vr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Gy)}const mh=ji(0),Yf=ji(1),dz=ji(2),hz=ji(3),vs=ji(4),pz=ji(5),gz=ji(6);mh.range;Yf.range;dz.range;hz.range;vs.range;pz.range;gz.range;const qy=vr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());qy.range;const Yy=vr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Yy.range;const qa=vr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());qa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:vr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});qa.range;const Ya=vr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ya.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:vr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ya.range;function jO(e,t,r,n,a,o){const i=[[Qo,1,La],[Qo,5,5*La],[Qo,15,15*La],[Qo,30,30*La],[o,1,Ln],[o,5,5*Ln],[o,15,15*Ln],[o,30,30*Ln],[a,1,Ra],[a,3,3*Ra],[a,6,6*Ra],[a,12,12*Ra],[n,1,Xa],[n,2,2*Xa],[r,1,Gy],[t,1,k1],[t,3,3*k1],[e,1,_p]];function s(c,u,f){const h=u<c;h&&([c,u]=[u,c]);const p=f&&typeof f.range=="function"?f:l(c,u,f),m=p?p.range(c,+u+1):[];return h?m.reverse():m}function l(c,u,f){const h=Math.abs(u-c)/f,p=Ey(([,,x])=>x).right(i,h);if(p===i.length)return e.every(pg(c/_p,u/_p,f));if(p===0)return Xf.every(Math.max(pg(c,u,f),1));const[m,v]=i[h/i[p-1][2]<i[p][2]/h?p-1:p];return m.every(v)}return[s,l]}const[mz,yz]=jO(Ya,Yy,mh,SO,Xy,Vy),[vz,xz]=jO(qa,qy,gh,Jc,Ky,Hy);function Pp(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Np(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ml(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function bz(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,o=e.days,i=e.shortDays,s=e.months,l=e.shortMonths,c=yl(a),u=vl(a),f=yl(o),h=vl(o),p=yl(i),m=vl(i),v=yl(s),x=vl(s),y=yl(l),g=vl(l),b={a:F,A:$,b:z,B:W,c:null,d:N1,e:N1,f:Uz,g:Jz,G:t9,H:Fz,I:zz,j:Wz,L:OO,m:Gz,M:Hz,p:ee,q:K,Q:C1,s:E1,S:Vz,u:Kz,U:Xz,V:qz,w:Yz,W:Qz,x:null,X:null,y:Zz,Y:e9,Z:r9,"%":M1},k={a:q,A:U,b:fe,B:ie,c:null,d:A1,e:A1,f:i9,g:m9,G:v9,H:n9,I:a9,j:o9,L:PO,m:s9,M:l9,p:_e,q:ce,Q:C1,s:E1,S:c9,u:u9,U:f9,V:d9,w:h9,W:p9,x:null,X:null,y:g9,Y:y9,Z:x9,"%":M1},w={a:N,A,b:M,B,c:I,d:_1,e:_1,f:Lz,g:O1,G:j1,H:P1,I:P1,j:Ez,L:Dz,m:Cz,M:Tz,p:P,q:Mz,Q:Iz,s:Bz,S:$z,u:Oz,U:_z,V:Pz,w:jz,W:Nz,x:D,X:L,y:O1,Y:j1,Z:Az,"%":Rz};b.x=S(r,b),b.X=S(n,b),b.c=S(t,b),k.x=S(r,k),k.X=S(n,k),k.c=S(t,k);function S(Z,de){return function(ye){var X=[],Be=-1,Pe=0,rt=Z.length,Ge,dt,xr;for(ye instanceof Date||(ye=new Date(+ye));++Be<rt;)Z.charCodeAt(Be)===37&&(X.push(Z.slice(Pe,Be)),(dt=S1[Ge=Z.charAt(++Be)])!=null?Ge=Z.charAt(++Be):dt=Ge==="e"?" ":"0",(xr=de[Ge])&&(Ge=xr(ye,dt)),X.push(Ge),Pe=Be+1);return X.push(Z.slice(Pe,Be)),X.join("")}}function j(Z,de){return function(ye){var X=ml(1900,void 0,1),Be=_(X,Z,ye+="",0),Pe,rt;if(Be!=ye.length)return null;if("Q"in X)return new Date(X.Q);if("s"in X)return new Date(X.s*1e3+("L"in X?X.L:0));if(de&&!("Z"in X)&&(X.Z=0),"p"in X&&(X.H=X.H%12+X.p*12),X.m===void 0&&(X.m="q"in X?X.q:0),"V"in X){if(X.V<1||X.V>53)return null;"w"in X||(X.w=1),"Z"in X?(Pe=Np(ml(X.y,0,1)),rt=Pe.getUTCDay(),Pe=rt>4||rt===0?Yf.ceil(Pe):Yf(Pe),Pe=ph.offset(Pe,(X.V-1)*7),X.y=Pe.getUTCFullYear(),X.m=Pe.getUTCMonth(),X.d=Pe.getUTCDate()+(X.w+6)%7):(Pe=Pp(ml(X.y,0,1)),rt=Pe.getDay(),Pe=rt>4||rt===0?qf.ceil(Pe):qf(Pe),Pe=Jc.offset(Pe,(X.V-1)*7),X.y=Pe.getFullYear(),X.m=Pe.getMonth(),X.d=Pe.getDate()+(X.w+6)%7)}else("W"in X||"U"in X)&&("w"in X||(X.w="u"in X?X.u%7:"W"in X?1:0),rt="Z"in X?Np(ml(X.y,0,1)).getUTCDay():Pp(ml(X.y,0,1)).getDay(),X.m=0,X.d="W"in X?(X.w+6)%7+X.W*7-(rt+5)%7:X.w+X.U*7-(rt+6)%7);return"Z"in X?(X.H+=X.Z/100|0,X.M+=X.Z%100,Np(X)):Pp(X)}}function _(Z,de,ye,X){for(var Be=0,Pe=de.length,rt=ye.length,Ge,dt;Be<Pe;){if(X>=rt)return-1;if(Ge=de.charCodeAt(Be++),Ge===37){if(Ge=de.charAt(Be++),dt=w[Ge in S1?de.charAt(Be++):Ge],!dt||(X=dt(Z,ye,X))<0)return-1}else if(Ge!=ye.charCodeAt(X++))return-1}return X}function P(Z,de,ye){var X=c.exec(de.slice(ye));return X?(Z.p=u.get(X[0].toLowerCase()),ye+X[0].length):-1}function N(Z,de,ye){var X=p.exec(de.slice(ye));return X?(Z.w=m.get(X[0].toLowerCase()),ye+X[0].length):-1}function A(Z,de,ye){var X=f.exec(de.slice(ye));return X?(Z.w=h.get(X[0].toLowerCase()),ye+X[0].length):-1}function M(Z,de,ye){var X=y.exec(de.slice(ye));return X?(Z.m=g.get(X[0].toLowerCase()),ye+X[0].length):-1}function B(Z,de,ye){var X=v.exec(de.slice(ye));return X?(Z.m=x.get(X[0].toLowerCase()),ye+X[0].length):-1}function I(Z,de,ye){return _(Z,t,de,ye)}function D(Z,de,ye){return _(Z,r,de,ye)}function L(Z,de,ye){return _(Z,n,de,ye)}function F(Z){return i[Z.getDay()]}function $(Z){return o[Z.getDay()]}function z(Z){return l[Z.getMonth()]}function W(Z){return s[Z.getMonth()]}function ee(Z){return a[+(Z.getHours()>=12)]}function K(Z){return 1+~~(Z.getMonth()/3)}function q(Z){return i[Z.getUTCDay()]}function U(Z){return o[Z.getUTCDay()]}function fe(Z){return l[Z.getUTCMonth()]}function ie(Z){return s[Z.getUTCMonth()]}function _e(Z){return a[+(Z.getUTCHours()>=12)]}function ce(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var de=S(Z+="",b);return de.toString=function(){return Z},de},parse:function(Z){var de=j(Z+="",!1);return de.toString=function(){return Z},de},utcFormat:function(Z){var de=S(Z+="",k);return de.toString=function(){return Z},de},utcParse:function(Z){var de=j(Z+="",!0);return de.toString=function(){return Z},de}}}var S1={"-":"",_:" ",0:"0"},Or=/^\s*\d+/,wz=/^%/,kz=/[\\^$*+?|[\]().{}]/g;function ct(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",o=a.length;return n+(o<r?new Array(r-o+1).join(t)+a:a)}function Sz(e){return e.replace(kz,"\\$&")}function yl(e){return new RegExp("^(?:"+e.map(Sz).join("|")+")","i")}function vl(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function jz(e,t,r){var n=Or.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Oz(e,t,r){var n=Or.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function _z(e,t,r){var n=Or.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Pz(e,t,r){var n=Or.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Nz(e,t,r){var n=Or.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function j1(e,t,r){var n=Or.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function O1(e,t,r){var n=Or.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Az(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Mz(e,t,r){var n=Or.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Cz(e,t,r){var n=Or.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function _1(e,t,r){var n=Or.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Ez(e,t,r){var n=Or.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function P1(e,t,r){var n=Or.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Tz(e,t,r){var n=Or.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function $z(e,t,r){var n=Or.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Dz(e,t,r){var n=Or.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Lz(e,t,r){var n=Or.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Rz(e,t,r){var n=wz.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Iz(e,t,r){var n=Or.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Bz(e,t,r){var n=Or.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function N1(e,t){return ct(e.getDate(),t,2)}function Fz(e,t){return ct(e.getHours(),t,2)}function zz(e,t){return ct(e.getHours()%12||12,t,2)}function Wz(e,t){return ct(1+Jc.count(qa(e),e),t,3)}function OO(e,t){return ct(e.getMilliseconds(),t,3)}function Uz(e,t){return OO(e,t)+"000"}function Gz(e,t){return ct(e.getMonth()+1,t,2)}function Hz(e,t){return ct(e.getMinutes(),t,2)}function Vz(e,t){return ct(e.getSeconds(),t,2)}function Kz(e){var t=e.getDay();return t===0?7:t}function Xz(e,t){return ct(gh.count(qa(e)-1,e),t,2)}function _O(e){var t=e.getDay();return t>=4||t===0?ys(e):ys.ceil(e)}function qz(e,t){return e=_O(e),ct(ys.count(qa(e),e)+(qa(e).getDay()===4),t,2)}function Yz(e){return e.getDay()}function Qz(e,t){return ct(qf.count(qa(e)-1,e),t,2)}function Zz(e,t){return ct(e.getFullYear()%100,t,2)}function Jz(e,t){return e=_O(e),ct(e.getFullYear()%100,t,2)}function e9(e,t){return ct(e.getFullYear()%1e4,t,4)}function t9(e,t){var r=e.getDay();return e=r>=4||r===0?ys(e):ys.ceil(e),ct(e.getFullYear()%1e4,t,4)}function r9(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ct(t/60|0,"0",2)+ct(t%60,"0",2)}function A1(e,t){return ct(e.getUTCDate(),t,2)}function n9(e,t){return ct(e.getUTCHours(),t,2)}function a9(e,t){return ct(e.getUTCHours()%12||12,t,2)}function o9(e,t){return ct(1+ph.count(Ya(e),e),t,3)}function PO(e,t){return ct(e.getUTCMilliseconds(),t,3)}function i9(e,t){return PO(e,t)+"000"}function s9(e,t){return ct(e.getUTCMonth()+1,t,2)}function l9(e,t){return ct(e.getUTCMinutes(),t,2)}function c9(e,t){return ct(e.getUTCSeconds(),t,2)}function u9(e){var t=e.getUTCDay();return t===0?7:t}function f9(e,t){return ct(mh.count(Ya(e)-1,e),t,2)}function NO(e){var t=e.getUTCDay();return t>=4||t===0?vs(e):vs.ceil(e)}function d9(e,t){return e=NO(e),ct(vs.count(Ya(e),e)+(Ya(e).getUTCDay()===4),t,2)}function h9(e){return e.getUTCDay()}function p9(e,t){return ct(Yf.count(Ya(e)-1,e),t,2)}function g9(e,t){return ct(e.getUTCFullYear()%100,t,2)}function m9(e,t){return e=NO(e),ct(e.getUTCFullYear()%100,t,2)}function y9(e,t){return ct(e.getUTCFullYear()%1e4,t,4)}function v9(e,t){var r=e.getUTCDay();return e=r>=4||r===0?vs(e):vs.ceil(e),ct(e.getUTCFullYear()%1e4,t,4)}function x9(){return"+0000"}function M1(){return"%"}function C1(e){return+e}function E1(e){return Math.floor(+e/1e3)}var Mi,AO,MO;b9({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function b9(e){return Mi=bz(e),AO=Mi.format,Mi.parse,MO=Mi.utcFormat,Mi.utcParse,Mi}function w9(e){return new Date(e)}function k9(e){return e instanceof Date?+e:+new Date(+e)}function Qy(e,t,r,n,a,o,i,s,l,c){var u=Ry(),f=u.invert,h=u.domain,p=c(".%L"),m=c(":%S"),v=c("%I:%M"),x=c("%I %p"),y=c("%a %d"),g=c("%b %d"),b=c("%B"),k=c("%Y");function w(S){return(l(S)<S?p:s(S)<S?m:i(S)<S?v:o(S)<S?x:n(S)<S?a(S)<S?y:g:r(S)<S?b:k)(S)}return u.invert=function(S){return new Date(f(S))},u.domain=function(S){return arguments.length?h(Array.from(S,k9)):h().map(w9)},u.ticks=function(S){var j=h();return e(j[0],j[j.length-1],S??10)},u.tickFormat=function(S,j){return j==null?w:c(j)},u.nice=function(S){var j=h();return(!S||typeof S.range!="function")&&(S=t(j[0],j[j.length-1],S??10)),S?h(mO(j,S)):u},u.copy=function(){return Zc(u,Qy(e,t,r,n,a,o,i,s,l,c))},u}function S9(){return Gn.apply(Qy(vz,xz,qa,qy,gh,Jc,Ky,Hy,Qo,AO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function j9(){return Gn.apply(Qy(mz,yz,Ya,Yy,mh,ph,Xy,Vy,Qo,MO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function yh(){var e=0,t=1,r,n,a,o,i=qr,s=!1,l;function c(f){return f==null||isNaN(f=+f)?l:i(a===0?.5:(f=(o(f)-r)*a,s?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,r=o(e=+e),n=o(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(f){return arguments.length?(s=!!f,c):s},c.interpolator=function(f){return arguments.length?(i=f,c):i};function u(f){return function(h){var p,m;return arguments.length?([p,m]=h,i=f(p,m),c):[i(0),i(1)]}}return c.range=u(Ys),c.rangeRound=u(Ly),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return o=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),c}}function $o(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function CO(){var e=To(yh()(qr));return e.copy=function(){return $o(e,CO())},eo.apply(e,arguments)}function EO(){var e=Fy(yh()).domain([1,10]);return e.copy=function(){return $o(e,EO()).base(e.base())},eo.apply(e,arguments)}function TO(){var e=zy(yh());return e.copy=function(){return $o(e,TO()).constant(e.constant())},eo.apply(e,arguments)}function Zy(){var e=Wy(yh());return e.copy=function(){return $o(e,Zy()).exponent(e.exponent())},eo.apply(e,arguments)}function O9(){return Zy.apply(null,arguments).exponent(.5)}function $O(){var e=[],t=qr;function r(n){if(n!=null&&!isNaN(n=+n))return t((Yc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(jo),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,o)=>fF(e,o/n))},r.copy=function(){return $O(t).domain(e)},eo.apply(r,arguments)}function vh(){var e=0,t=.5,r=1,n=1,a,o,i,s,l,c=qr,u,f=!1,h;function p(v){return isNaN(v=+v)?h:(v=.5+((v=+u(v))-o)*(n*v<n*o?s:l),c(f?Math.max(0,Math.min(1,v)):v))}p.domain=function(v){return arguments.length?([e,t,r]=v,a=u(e=+e),o=u(t=+t),i=u(r=+r),s=a===o?0:.5/(o-a),l=o===i?0:.5/(i-o),n=o<a?-1:1,p):[e,t,r]},p.clamp=function(v){return arguments.length?(f=!!v,p):f},p.interpolator=function(v){return arguments.length?(c=v,p):c};function m(v){return function(x){var y,g,b;return arguments.length?([y,g,b]=x,c=RF(v,[y,g,b]),p):[c(0),c(.5),c(1)]}}return p.range=m(Ys),p.rangeRound=m(Ly),p.unknown=function(v){return arguments.length?(h=v,p):h},function(v){return u=v,a=v(e),o=v(t),i=v(r),s=a===o?0:.5/(o-a),l=o===i?0:.5/(i-o),n=o<a?-1:1,p}}function DO(){var e=To(vh()(qr));return e.copy=function(){return $o(e,DO())},eo.apply(e,arguments)}function LO(){var e=Fy(vh()).domain([.1,1,10]);return e.copy=function(){return $o(e,LO()).base(e.base())},eo.apply(e,arguments)}function RO(){var e=zy(vh());return e.copy=function(){return $o(e,RO()).constant(e.constant())},eo.apply(e,arguments)}function Jy(){var e=Wy(vh());return e.copy=function(){return $o(e,Jy()).exponent(e.exponent())},eo.apply(e,arguments)}function _9(){return Jy.apply(null,arguments).exponent(.5)}const T1=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:gc,scaleDiverging:DO,scaleDivergingLog:LO,scaleDivergingPow:Jy,scaleDivergingSqrt:_9,scaleDivergingSymlog:RO,scaleIdentity:gO,scaleImplicit:gg,scaleLinear:Kf,scaleLog:yO,scaleOrdinal:Ty,scalePoint:Il,scalePow:Uy,scaleQuantile:bO,scaleQuantize:wO,scaleRadial:xO,scaleSequential:CO,scaleSequentialLog:EO,scaleSequentialPow:Zy,scaleSequentialQuantile:$O,scaleSequentialSqrt:O9,scaleSequentialSymlog:TO,scaleSqrt:iz,scaleSymlog:vO,scaleThreshold:kO,scaleTime:S9,scaleUtc:j9,tickFormat:pO},Symbol.toStringTag,{value:"Module"}));var P9=zs;function N9(e,t,r){for(var n=-1,a=e.length;++n<a;){var o=e[n],i=t(o);if(i!=null&&(s===void 0?i===i&&!P9(i):r(i,s)))var s=i,l=o}return l}var IO=N9;function A9(e,t){return e>t}var M9=A9,C9=IO,E9=M9,T9=qs;function $9(e){return e&&e.length?C9(e,T9,E9):void 0}var D9=$9;const ho=Ct(D9);function L9(e,t){return e<t}var R9=L9,I9=IO,B9=R9,F9=qs;function z9(e){return e&&e.length?I9(e,F9,B9):void 0}var W9=z9;const xh=Ct(W9);var U9=hy,G9=Co,H9=Kj,V9=pn;function K9(e,t){var r=V9(e)?U9:H9;return r(e,G9(t))}var X9=K9,q9=Hj,Y9=X9;function Q9(e,t){return q9(Y9(e,t),1)}var Z9=Q9;const J9=Ct(Z9);var e7=Py;function t7(e,t){return e7(e,t)}var r7=t7;const pi=Ct(r7);var Qs=1e9,n7={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},tv,Vt=!0,Wn="[DecimalError] ",oi=Wn+"Invalid argument: ",ev=Wn+"Exponent out of range: ",Zs=Math.floor,Ho=Math.pow,a7=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,bn,kr=1e7,Bt=7,BO=9007199254740991,Qf=Zs(BO/Bt),pe={};pe.absoluteValue=pe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};pe.comparedTo=pe.cmp=function(e){var t,r,n,a,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===a?0:n>a^o.s<0?1:-1};pe.decimalPlaces=pe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Bt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};pe.dividedBy=pe.div=function(e){return Ua(this,new this.constructor(e))};pe.dividedToIntegerBy=pe.idiv=function(e){var t=this,r=t.constructor;return Mt(Ua(t,new r(e),0,1),r.precision)};pe.equals=pe.eq=function(e){return!this.cmp(e)};pe.exponent=function(){return ur(this)};pe.greaterThan=pe.gt=function(e){return this.cmp(e)>0};pe.greaterThanOrEqualTo=pe.gte=function(e){return this.cmp(e)>=0};pe.isInteger=pe.isint=function(){return this.e>this.d.length-2};pe.isNegative=pe.isneg=function(){return this.s<0};pe.isPositive=pe.ispos=function(){return this.s>0};pe.isZero=function(){return this.s===0};pe.lessThan=pe.lt=function(e){return this.cmp(e)<0};pe.lessThanOrEqualTo=pe.lte=function(e){return this.cmp(e)<1};pe.logarithm=pe.log=function(e){var t,r=this,n=r.constructor,a=n.precision,o=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(bn))throw Error(Wn+"NaN");if(r.s<1)throw Error(Wn+(r.s?"NaN":"-Infinity"));return r.eq(bn)?new n(0):(Vt=!1,t=Ua(bc(r,o),bc(e,o),o),Vt=!0,Mt(t,a))};pe.minus=pe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?WO(t,e):FO(t,(e.s=-e.s,e))};pe.modulo=pe.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Wn+"NaN");return r.s?(Vt=!1,t=Ua(r,e,0,1).times(e),Vt=!0,r.minus(t)):Mt(new n(r),a)};pe.naturalExponential=pe.exp=function(){return zO(this)};pe.naturalLogarithm=pe.ln=function(){return bc(this)};pe.negated=pe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};pe.plus=pe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?FO(t,e):WO(t,(e.s=-e.s,e))};pe.precision=pe.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(oi+e);if(t=ur(a)+1,n=a.d.length-1,r=n*Bt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};pe.squareRoot=pe.sqrt=function(){var e,t,r,n,a,o,i,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Wn+"NaN")}for(e=ur(s),Vt=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=ya(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Zs((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=i=r+3;;)if(o=n,n=o.plus(Ua(s,o,i+2)).times(.5),ya(o.d).slice(0,i)===(t=ya(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if(Mt(o,r+1,0),o.times(o).eq(s)){n=o;break}}else if(t!="9999")break;i+=4}return Vt=!0,Mt(n,r)};pe.times=pe.mul=function(e){var t,r,n,a,o,i,s,l,c,u=this,f=u.constructor,h=u.d,p=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,r=u.e+e.e,l=h.length,c=p.length,l<c&&(o=h,h=p,p=o,i=l,l=c,c=i),o=[],i=l+c,n=i;n--;)o.push(0);for(n=c;--n>=0;){for(t=0,a=l+n;a>n;)s=o[a]+p[n]*h[a-n-1]+t,o[a--]=s%kr|0,t=s/kr|0;o[a]=(o[a]+t)%kr|0}for(;!o[--i];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,Vt?Mt(e,f.precision):e};pe.toDecimalPlaces=pe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ja(e,0,Qs),t===void 0?t=n.rounding:ja(t,0,8),Mt(r,e+ur(r)+1,t))};pe.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=gi(n,!0):(ja(e,0,Qs),t===void 0?t=a.rounding:ja(t,0,8),n=Mt(new a(n),e+1,t),r=gi(n,!0,e+1)),r};pe.toFixed=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?gi(a):(ja(e,0,Qs),t===void 0?t=o.rounding:ja(t,0,8),n=Mt(new o(a),e+ur(a)+1,t),r=gi(n.abs(),!1,e+ur(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};pe.toInteger=pe.toint=function(){var e=this,t=e.constructor;return Mt(new t(e),ur(e)+1,t.rounding)};pe.toNumber=function(){return+this};pe.toPower=pe.pow=function(e){var t,r,n,a,o,i,s=this,l=s.constructor,c=12,u=+(e=new l(e));if(!e.s)return new l(bn);if(s=new l(s),!s.s){if(e.s<1)throw Error(Wn+"Infinity");return s}if(s.eq(bn))return s;if(n=l.precision,e.eq(bn))return Mt(s,n);if(t=e.e,r=e.d.length-1,i=t>=r,o=s.s,i){if((r=u<0?-u:u)<=BO){for(a=new l(bn),t=Math.ceil(n/Bt+4),Vt=!1;r%2&&(a=a.times(s),D1(a.d,t)),r=Zs(r/2),r!==0;)s=s.times(s),D1(s.d,t);return Vt=!0,e.s<0?new l(bn).div(a):Mt(a,n)}}else if(o<0)throw Error(Wn+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,Vt=!1,a=e.times(bc(s,n+c)),Vt=!0,a=zO(a),a.s=o,a};pe.toPrecision=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?(r=ur(a),n=gi(a,r<=o.toExpNeg||r>=o.toExpPos)):(ja(e,1,Qs),t===void 0?t=o.rounding:ja(t,0,8),a=Mt(new o(a),e,t),r=ur(a),n=gi(a,e<=r||r<=o.toExpNeg,e)),n};pe.toSignificantDigits=pe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ja(e,1,Qs),t===void 0?t=n.rounding:ja(t,0,8)),Mt(new n(r),e,t)};pe.toString=pe.valueOf=pe.val=pe.toJSON=pe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ur(e),r=e.constructor;return gi(e,t<=r.toExpNeg||t>=r.toExpPos)};function FO(e,t){var r,n,a,o,i,s,l,c,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Vt?Mt(t,f):t;if(l=e.d,c=t.d,i=e.e,a=t.e,l=l.slice(),o=i-a,o){for(o<0?(n=l,o=-o,s=c.length):(n=c,a=i,s=l.length),i=Math.ceil(f/Bt),s=i>s?i+1:s+1,o>s&&(o=s,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(s=l.length,o=c.length,s-o<0&&(o=s,n=c,c=l,l=n),r=0;o;)r=(l[--o]=l[o]+c[o]+r)/kr|0,l[o]%=kr;for(r&&(l.unshift(r),++a),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=a,Vt?Mt(t,f):t}function ja(e,t,r){if(e!==~~e||e<t||e>r)throw Error(oi+e)}function ya(e){var t,r,n,a=e.length-1,o="",i=e[0];if(a>0){for(o+=i,t=1;t<a;t++)n=e[t]+"",r=Bt-n.length,r&&(o+=io(r)),o+=n;i=e[t],n=i+"",r=Bt-n.length,r&&(o+=io(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return o+i}var Ua=function(){function e(n,a){var o,i=0,s=n.length;for(n=n.slice();s--;)o=n[s]*a+i,n[s]=o%kr|0,i=o/kr|0;return i&&n.unshift(i),n}function t(n,a,o,i){var s,l;if(o!=i)l=o>i?1:-1;else for(s=l=0;s<o;s++)if(n[s]!=a[s]){l=n[s]>a[s]?1:-1;break}return l}function r(n,a,o){for(var i=0;o--;)n[o]-=i,i=n[o]<a[o]?1:0,n[o]=i*kr+n[o]-a[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,o,i){var s,l,c,u,f,h,p,m,v,x,y,g,b,k,w,S,j,_,P=n.constructor,N=n.s==a.s?1:-1,A=n.d,M=a.d;if(!n.s)return new P(n);if(!a.s)throw Error(Wn+"Division by zero");for(l=n.e-a.e,j=M.length,w=A.length,p=new P(N),m=p.d=[],c=0;M[c]==(A[c]||0);)++c;if(M[c]>(A[c]||0)&&--l,o==null?g=o=P.precision:i?g=o+(ur(n)-ur(a))+1:g=o,g<0)return new P(0);if(g=g/Bt+2|0,c=0,j==1)for(u=0,M=M[0],g++;(c<w||u)&&g--;c++)b=u*kr+(A[c]||0),m[c]=b/M|0,u=b%M|0;else{for(u=kr/(M[0]+1)|0,u>1&&(M=e(M,u),A=e(A,u),j=M.length,w=A.length),k=j,v=A.slice(0,j),x=v.length;x<j;)v[x++]=0;_=M.slice(),_.unshift(0),S=M[0],M[1]>=kr/2&&++S;do u=0,s=t(M,v,j,x),s<0?(y=v[0],j!=x&&(y=y*kr+(v[1]||0)),u=y/S|0,u>1?(u>=kr&&(u=kr-1),f=e(M,u),h=f.length,x=v.length,s=t(f,v,h,x),s==1&&(u--,r(f,j<h?_:M,h))):(u==0&&(s=u=1),f=M.slice()),h=f.length,h<x&&f.unshift(0),r(v,f,x),s==-1&&(x=v.length,s=t(M,v,j,x),s<1&&(u++,r(v,j<x?_:M,x))),x=v.length):s===0&&(u++,v=[0]),m[c++]=u,s&&v[0]?v[x++]=A[k]||0:(v=[A[k]],x=1);while((k++<w||v[0]!==void 0)&&g--)}return m[0]||m.shift(),p.e=l,Mt(p,i?o+ur(p)+1:o)}}();function zO(e,t){var r,n,a,o,i,s,l=0,c=0,u=e.constructor,f=u.precision;if(ur(e)>16)throw Error(ev+ur(e));if(!e.s)return new u(bn);for(Vt=!1,s=f,i=new u(.03125);e.abs().gte(.1);)e=e.times(i),c+=5;for(n=Math.log(Ho(2,c))/Math.LN10*2+5|0,s+=n,r=a=o=new u(bn),u.precision=s;;){if(a=Mt(a.times(e),s),r=r.times(++l),i=o.plus(Ua(a,r,s)),ya(i.d).slice(0,s)===ya(o.d).slice(0,s)){for(;c--;)o=Mt(o.times(o),s);return u.precision=f,t==null?(Vt=!0,Mt(o,f)):o}o=i}}function ur(e){for(var t=e.e*Bt,r=e.d[0];r>=10;r/=10)t++;return t}function Ap(e,t,r){if(t>e.LN10.sd())throw Vt=!0,r&&(e.precision=r),Error(Wn+"LN10 precision limit exceeded");return Mt(new e(e.LN10),t)}function io(e){for(var t="";e--;)t+="0";return t}function bc(e,t){var r,n,a,o,i,s,l,c,u,f=1,h=10,p=e,m=p.d,v=p.constructor,x=v.precision;if(p.s<1)throw Error(Wn+(p.s?"NaN":"-Infinity"));if(p.eq(bn))return new v(0);if(t==null?(Vt=!1,c=x):c=t,p.eq(10))return t==null&&(Vt=!0),Ap(v,c);if(c+=h,v.precision=c,r=ya(m),n=r.charAt(0),o=ur(p),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=ya(p.d),n=r.charAt(0),f++;o=ur(p),n>1?(p=new v("0."+r),o++):p=new v(n+"."+r.slice(1))}else return l=Ap(v,c+2,x).times(o+""),p=bc(new v(n+"."+r.slice(1)),c-h).plus(l),v.precision=x,t==null?(Vt=!0,Mt(p,x)):p;for(s=i=p=Ua(p.minus(bn),p.plus(bn),c),u=Mt(p.times(p),c),a=3;;){if(i=Mt(i.times(u),c),l=s.plus(Ua(i,new v(a),c)),ya(l.d).slice(0,c)===ya(s.d).slice(0,c))return s=s.times(2),o!==0&&(s=s.plus(Ap(v,c+2,x).times(o+""))),s=Ua(s,new v(f),c),v.precision=x,t==null?(Vt=!0,Mt(s,x)):s;s=l,a+=2}}function $1(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Zs(r/Bt),e.d=[],n=(r+1)%Bt,r<0&&(n+=Bt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Bt;n<a;)e.d.push(+t.slice(n,n+=Bt));t=t.slice(n),n=Bt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Vt&&(e.e>Qf||e.e<-Qf))throw Error(ev+r)}else e.s=0,e.e=0,e.d=[0];return e}function Mt(e,t,r){var n,a,o,i,s,l,c,u,f=e.d;for(i=1,o=f[0];o>=10;o/=10)i++;if(n=t-i,n<0)n+=Bt,a=t,c=f[u=0];else{if(u=Math.ceil((n+1)/Bt),o=f.length,u>=o)return e;for(c=o=f[u],i=1;o>=10;o/=10)i++;n%=Bt,a=n-Bt+i}if(r!==void 0&&(o=Ho(10,i-a-1),s=c/o%10|0,l=t<0||f[u+1]!==void 0||c%o,l=r<4?(s||l)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?a>0?c/Ho(10,i-a):0:f[u-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(o=ur(e),f.length=1,t=t-o-1,f[0]=Ho(10,(Bt-t%Bt)%Bt),e.e=Zs(-t/Bt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=u,o=1,u--):(f.length=u+1,o=Ho(10,Bt-n),f[u]=a>0?(c/Ho(10,i-a)%Ho(10,a)|0)*o:0),l)for(;;)if(u==0){(f[0]+=o)==kr&&(f[0]=1,++e.e);break}else{if(f[u]+=o,f[u]!=kr)break;f[u--]=0,o=1}for(n=f.length;f[--n]===0;)f.pop();if(Vt&&(e.e>Qf||e.e<-Qf))throw Error(ev+ur(e));return e}function WO(e,t){var r,n,a,o,i,s,l,c,u,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Vt?Mt(t,p):t;if(l=e.d,f=t.d,n=t.e,c=e.e,l=l.slice(),i=c-n,i){for(u=i<0,u?(r=l,i=-i,s=f.length):(r=f,n=c,s=l.length),a=Math.max(Math.ceil(p/Bt),s)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=l.length,s=f.length,u=a<s,u&&(s=a),a=0;a<s;a++)if(l[a]!=f[a]){u=l[a]<f[a];break}i=0}for(u&&(r=l,l=f,f=r,t.s=-t.s),s=l.length,a=f.length-s;a>0;--a)l[s++]=0;for(a=f.length;a>i;){if(l[--a]<f[a]){for(o=a;o&&l[--o]===0;)l[o]=kr-1;--l[o],l[a]+=kr}l[a]-=f[a]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Vt?Mt(t,p):t):new h(0)}function gi(e,t,r){var n,a=ur(e),o=ya(e.d),i=o.length;return t?(r&&(n=r-i)>0?o=o.charAt(0)+"."+o.slice(1)+io(n):i>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+io(-a-1)+o,r&&(n=r-i)>0&&(o+=io(n))):a>=i?(o+=io(a+1-i),r&&(n=r-a-1)>0&&(o=o+"."+io(n))):((n=a+1)<i&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(o+="."),o+=io(n))),e.s<0?"-"+o:o}function D1(e,t){if(e.length>t)return e.length=t,!0}function UO(e){var t,r,n;function a(o){var i=this;if(!(i instanceof a))return new a(o);if(i.constructor=a,o instanceof a){i.s=o.s,i.e=o.e,i.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(oi+o);if(o>0)i.s=1;else if(o<0)o=-o,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(o===~~o&&o<1e7){i.e=0,i.d=[o];return}return $1(i,o.toString())}else if(typeof o!="string")throw Error(oi+o);if(o.charCodeAt(0)===45?(o=o.slice(1),i.s=-1):i.s=1,a7.test(o))$1(i,o);else throw Error(oi+o)}if(a.prototype=pe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=UO,a.config=a.set=o7,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function o7(e){if(!e||typeof e!="object")throw Error(Wn+"Object expected");var t,r,n,a=["precision",1,Qs,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Zs(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(oi+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(oi+r+": "+n);return this}var tv=UO(n7);bn=new tv(1);const jt=tv;function i7(e){return u7(e)||c7(e)||l7(e)||s7()}function s7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l7(e,t){if(e){if(typeof e=="string")return xg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xg(e,t)}}function c7(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function u7(e){if(Array.isArray(e))return xg(e)}function xg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var f7=function(t){return t},GO={},HO=function(t){return t===GO},L1=function(t){return function r(){return arguments.length===0||arguments.length===1&&HO(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},d7=function e(t,r){return t===1?r:L1(function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];var i=a.filter(function(s){return s!==GO}).length;return i>=t?r.apply(void 0,a):e(t-i,L1(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var u=a.map(function(f){return HO(f)?l.shift():f});return r.apply(void 0,i7(u).concat(l))}))})},bh=function(t){return d7(t.length,t)},bg=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},h7=bh(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),p7=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return f7;var a=r.reverse(),o=a[0],i=a.slice(1);return function(){return i.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},wg=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},VO=function(t){var r=null,n=null;return function(){for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return r&&o.every(function(s,l){return s===r[l]})||(r=o,n=t.apply(void 0,o)),n}};function g7(e){var t;return e===0?t=1:t=Math.floor(new jt(e).abs().log(10).toNumber())+1,t}function m7(e,t,r){for(var n=new jt(e),a=0,o=[];n.lt(t)&&a<1e5;)o.push(n.toNumber()),n=n.add(r),a++;return o}var y7=bh(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),v7=bh(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),x7=bh(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const wh={rangeStep:m7,getDigitCount:g7,interpolateNumber:y7,uninterpolateNumber:v7,uninterpolateTruncation:x7};function kg(e){return k7(e)||w7(e)||KO(e)||b7()}function b7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w7(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function k7(e){if(Array.isArray(e))return Sg(e)}function wc(e,t){return O7(e)||j7(e,t)||KO(e,t)||S7()}function S7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KO(e,t){if(e){if(typeof e=="string")return Sg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sg(e,t)}}function Sg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function j7(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,o=void 0;try{for(var i=e[Symbol.iterator](),s;!(n=(s=i.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(l){a=!0,o=l}finally{try{!n&&i.return!=null&&i.return()}finally{if(a)throw o}}return r}}function O7(e){if(Array.isArray(e))return e}function XO(e){var t=wc(e,2),r=t[0],n=t[1],a=r,o=n;return r>n&&(a=n,o=r),[a,o]}function qO(e,t,r){if(e.lte(0))return new jt(0);var n=wh.getDigitCount(e.toNumber()),a=new jt(10).pow(n),o=e.div(a),i=n!==1?.05:.1,s=new jt(Math.ceil(o.div(i).toNumber())).add(r).mul(i),l=s.mul(a);return t?l:new jt(Math.ceil(l))}function _7(e,t,r){var n=1,a=new jt(e);if(!a.isint()&&r){var o=Math.abs(e);o<1?(n=new jt(10).pow(wh.getDigitCount(e)-1),a=new jt(Math.floor(a.div(n).toNumber())).mul(n)):o>1&&(a=new jt(Math.floor(e)))}else e===0?a=new jt(Math.floor((t-1)/2)):r||(a=new jt(Math.floor(e)));var i=Math.floor((t-1)/2),s=p7(h7(function(l){return a.add(new jt(l-i).mul(n)).toNumber()}),bg);return s(0,t)}function YO(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new jt(0),tickMin:new jt(0),tickMax:new jt(0)};var o=qO(new jt(t).sub(e).div(r-1),n,a),i;e<=0&&t>=0?i=new jt(0):(i=new jt(e).add(t).div(2),i=i.sub(new jt(i).mod(o)));var s=Math.ceil(i.sub(e).div(o).toNumber()),l=Math.ceil(new jt(t).sub(i).div(o).toNumber()),c=s+l+1;return c>r?YO(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,s=t>0?s:s+(r-c)),{step:o,tickMin:i.sub(new jt(s).mul(o)),tickMax:i.add(new jt(l).mul(o))})}function P7(e){var t=wc(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),s=XO([r,n]),l=wc(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var f=u===1/0?[c].concat(kg(bg(0,a-1).map(function(){return 1/0}))):[].concat(kg(bg(0,a-1).map(function(){return-1/0})),[u]);return r>n?wg(f):f}if(c===u)return _7(c,a,o);var h=YO(c,u,i,o),p=h.step,m=h.tickMin,v=h.tickMax,x=wh.rangeStep(m,v.add(new jt(.1).mul(p)),p);return r>n?wg(x):x}function N7(e,t){var r=wc(e,2),n=r[0],a=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=XO([n,a]),s=wc(i,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,a];if(l===c)return[l];var u=Math.max(t,2),f=qO(new jt(c).sub(l).div(u-1),o,0),h=[].concat(kg(wh.rangeStep(new jt(l),new jt(c).sub(new jt(.99).mul(f)),f)),[c]);return n>a?wg(h):h}var A7=VO(P7),M7=VO(N7),C7="Invariant failed";function mi(e,t){throw new Error(C7)}var E7=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function xs(e){"@babel/helpers - typeof";return xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xs(e)}function Zf(){return Zf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zf.apply(this,arguments)}function T7(e,t){return R7(e)||L7(e,t)||D7(e,t)||$7()}function $7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D7(e,t){if(e){if(typeof e=="string")return R1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R1(e,t)}}function R1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function L7(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function R7(e){if(Array.isArray(e))return e}function I7(e,t){if(e==null)return{};var r=B7(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function B7(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function F7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JO(n.key),n)}}function W7(e,t,r){return t&&z7(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function U7(e,t,r){return t=Jf(t),G7(e,QO()?Reflect.construct(t,r||[],Jf(e).constructor):t.apply(e,r))}function G7(e,t){if(t&&(xs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H7(e)}function H7(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QO=function(){return!!e})()}function Jf(e){return Jf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jf(e)}function V7(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jg(e,t)}function jg(e,t){return jg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},jg(e,t)}function ZO(e,t,r){return t=JO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JO(e){var t=K7(e,"string");return xs(t)=="symbol"?t:t+""}function K7(e,t){if(xs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Js=function(e){function t(){return F7(this,t),U7(this,t,arguments)}return V7(t,e),W7(t,[{key:"render",value:function(){var n=this.props,a=n.offset,o=n.layout,i=n.width,s=n.dataKey,l=n.data,c=n.dataPointFormatter,u=n.xAxis,f=n.yAxis,h=I7(n,E7),p=Re(h,!1);this.props.direction==="x"&&u.type!=="number"&&mi();var m=l.map(function(v){var x=c(v,s),y=x.x,g=x.y,b=x.value,k=x.errorVal;if(!k)return null;var w=[],S,j;if(Array.isArray(k)){var _=T7(k,2);S=_[0],j=_[1]}else S=j=k;if(o==="vertical"){var P=u.scale,N=g+a,A=N+i,M=N-i,B=P(b-S),I=P(b+j);w.push({x1:I,y1:A,x2:I,y2:M}),w.push({x1:B,y1:N,x2:I,y2:N}),w.push({x1:B,y1:A,x2:B,y2:M})}else if(o==="horizontal"){var D=f.scale,L=y+a,F=L-i,$=L+i,z=D(b-S),W=D(b+j);w.push({x1:F,y1:W,x2:$,y2:W}),w.push({x1:L,y1:z,x2:L,y2:W}),w.push({x1:F,y1:z,x2:$,y2:z})}return C.createElement(ft,Zf({className:"recharts-errorBar",key:"bar-".concat(w.map(function(ee){return"".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))},p),w.map(function(ee){return C.createElement("line",Zf({},ee,{key:"line-".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))}))});return C.createElement(ft,{className:"recharts-errorBars"},m)}}])}(C.Component);ZO(Js,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});ZO(Js,"displayName","ErrorBar");function kc(e){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kc(e)}function I1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I1(Object(r),!0).forEach(function(n){X7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X7(e,t,r){return t=q7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q7(e){var t=Y7(e,"string");return kc(t)=="symbol"?t:t+""}function Y7(e,t){if(kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var e_=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,o=t.legendContent,i=xn(r,Wa);if(!i)return null;var s=Wa.defaultProps,l=s!==void 0?Fo(Fo({},s),i.props):{},c;return i.props&&i.props.payload?c=i.props&&i.props.payload:o==="children"?c=(n||[]).reduce(function(u,f){var h=f.item,p=f.props,m=p.sectors||p.data||[];return u.concat(m.map(function(v){return{type:i.props.iconType||h.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):c=(n||[]).map(function(u){var f=u.item,h=f.type.defaultProps,p=h!==void 0?Fo(Fo({},h),f.props):{},m=p.dataKey,v=p.name,x=p.legendType,y=p.hide;return{inactive:y,dataKey:m,type:l.iconType||x||"square",color:rv(f),value:v||m,payload:p}}),Fo(Fo(Fo({},l),Wa.getWithHeight(i,a)),{},{payload:c,item:i})};function Sc(e){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sc(e)}function B1(e){return eW(e)||J7(e)||Z7(e)||Q7()}function Q7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z7(e,t){if(e){if(typeof e=="string")return Og(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Og(e,t)}}function J7(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eW(e){if(Array.isArray(e))return Og(e)}function Og(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function F1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F1(Object(r),!0).forEach(function(n){rs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rs(e,t,r){return t=tW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tW(e){var t=rW(e,"string");return Sc(t)=="symbol"?t:t+""}function rW(e,t){if(Sc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yr(e,t,r){return De(e)||De(t)?r:mr(t)?Bn(e,t,r):Ie(t)?t(e):r}function Bl(e,t,r,n){var a=J9(e,function(s){return yr(s,t)});if(r==="number"){var o=a.filter(function(s){return se(s)||parseFloat(s)});return o.length?[xh(o),ho(o)]:[1/0,-1/0]}var i=n?a.filter(function(s){return!De(s)}):a;return i.map(function(s){return mr(s)||s instanceof Date?s:""})}var nW=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,c=0;c<s;c++){var u=c>0?a[c-1].coordinate:a[s-1].coordinate,f=a[c].coordinate,h=c>=s-1?a[0].coordinate:a[c+1].coordinate,p=void 0;if(na(f-u)!==na(h-f)){var m=[];if(na(h-f)===na(l[1]-l[0])){p=h;var v=f+l[1]-l[0];m[0]=Math.min(v,(v+u)/2),m[1]=Math.max(v,(v+u)/2)}else{p=u;var x=h+l[1]-l[0];m[0]=Math.min(f,(x+f)/2),m[1]=Math.max(f,(x+f)/2)}var y=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>y[0]&&t<=y[1]||t>=m[0]&&t<=m[1]){i=a[c].index;break}}else{var g=Math.min(u,h),b=Math.max(u,h);if(t>(g+f)/2&&t<=(b+f)/2){i=a[c].index;break}}}else for(var k=0;k<s;k++)if(k===0&&t<=(n[k].coordinate+n[k+1].coordinate)/2||k>0&&k<s-1&&t>(n[k].coordinate+n[k-1].coordinate)/2&&t<=(n[k].coordinate+n[k+1].coordinate)/2||k===s-1&&t>(n[k].coordinate+n[k-1].coordinate)/2){i=n[k].index;break}return i},rv=function(t){var r,n=t,a=n.type.displayName,o=(r=t.type)!==null&&r!==void 0&&r.defaultProps?rr(rr({},t.type.defaultProps),t.props):t.props,i=o.stroke,s=o.fill,l;switch(a){case"Line":l=i;break;case"Area":case"Radar":l=i&&i!=="none"?i:s;break;default:l=s;break}return l},aW=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,o=a===void 0?{}:a;if(!o)return{};for(var i={},s=Object.keys(o),l=0,c=s.length;l<c;l++)for(var u=o[s[l]].stackGroups,f=Object.keys(u),h=0,p=f.length;h<p;h++){var m=u[f[h]],v=m.items,x=m.cateAxisId,y=v.filter(function(j){return Fa(j.type).indexOf("Bar")>=0});if(y&&y.length){var g=y[0].type.defaultProps,b=g!==void 0?rr(rr({},g),y[0].props):y[0].props,k=b.barSize,w=b[x];i[w]||(i[w]=[]);var S=De(k)?r:k;i[w].push({item:y[0],stackList:y.slice(1),barSize:De(S)?void 0:hi(S,n,0)})}}return i},oW=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,o=t.sizeList,i=o===void 0?[]:o,s=t.maxBarSize,l=i.length;if(l<1)return null;var c=hi(r,a,0,!0),u,f=[];if(i[0].barSize===+i[0].barSize){var h=!1,p=a/l,m=i.reduce(function(k,w){return k+w.barSize||0},0);m+=(l-1)*c,m>=a&&(m-=(l-1)*c,c=0),m>=a&&p>0&&(h=!0,p*=.9,m=l*p);var v=(a-m)/2>>0,x={offset:v-c,size:0};u=i.reduce(function(k,w){var S={item:w.item,position:{offset:x.offset+x.size+c,size:h?p:w.barSize}},j=[].concat(B1(k),[S]);return x=j[j.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(_){j.push({item:_,position:x})}),j},f)}else{var y=hi(n,a,0,!0);a-2*y-(l-1)*c<=0&&(c=0);var g=(a-2*y-(l-1)*c)/l;g>1&&(g>>=0);var b=s===+s?Math.min(g,s):g;u=i.reduce(function(k,w,S){var j=[].concat(B1(k),[{item:w.item,position:{offset:y+(g+c)*S+(g-b)/2,size:b}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(_){j.push({item:_,position:j[j.length-1].position})}),j},f)}return u},iW=function(t,r,n,a){var o=n.children,i=n.width,s=n.margin,l=i-(s.left||0)-(s.right||0),c=e_({children:o,legendWidth:l});if(c){var u=a||{},f=u.width,h=u.height,p=c.align,m=c.verticalAlign,v=c.layout;if((v==="vertical"||v==="horizontal"&&m==="middle")&&p!=="center"&&se(t[p]))return rr(rr({},t),{},rs({},p,t[p]+(f||0)));if((v==="horizontal"||v==="vertical"&&p==="center")&&m!=="middle"&&se(t[m]))return rr(rr({},t),{},rs({},m,t[m]+(h||0)))}return t},sW=function(t,r,n){return De(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},t_=function(t,r,n,a,o){var i=r.props.children,s=hn(i,Js).filter(function(c){return sW(a,o,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return t.reduce(function(c,u){var f=yr(u,n);if(De(f))return c;var h=Array.isArray(f)?[xh(f),ho(f)]:[f,f],p=l.reduce(function(m,v){var x=yr(u,v,0),y=h[0]-Math.abs(Array.isArray(x)?x[0]:x),g=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(y,m[0]),Math.max(g,m[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},lW=function(t,r,n,a,o){var i=r.map(function(s){return t_(t,s,n,o,a)}).filter(function(s){return!De(s)});return i&&i.length?i.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},r_=function(t,r,n,a,o){var i=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&t_(t,l,c,a)||Bl(t,c,n,o)});if(n==="number")return i.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return i.reduce(function(l,c){for(var u=0,f=c.length;u<f;u++)s[c[u]]||(s[c[u]]=!0,l.push(c[u]));return l},[])},n_=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},a_=function(t,r,n,a){if(a)return t.map(function(l){return l.coordinate});var o,i,s=t.map(function(l){return l.coordinate===r&&(o=!0),l.coordinate===n&&(i=!0),l.coordinate});return o||s.push(r),i||s.push(n),s},Ia=function(t,r,n){if(!t)return null;var a=t.scale,o=t.duplicateDomain,i=t.type,s=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,c=(r||n)&&i==="category"&&a.bandwidth?a.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?na(s[0]-s[1])*2*c:c,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:a(h)+c,value:f,offset:c}});return u.filter(function(f){return!Vs(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+c,value:f,index:h,offset:c}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+c,value:f,offset:c}}):a.domain().map(function(f,h){return{coordinate:a(f)+c,value:o?o[f]:f,index:h,offset:c}})},Mp=new WeakMap,Du=function(t,r){if(typeof r!="function")return t;Mp.has(t)||Mp.set(t,new WeakMap);var n=Mp.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},cW=function(t,r,n){var a=t.scale,o=t.type,i=t.layout,s=t.axisType;if(a==="auto")return i==="radial"&&s==="radiusAxis"?{scale:gc(),realScaleType:"band"}:i==="radial"&&s==="angleAxis"?{scale:Kf(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Il(),realScaleType:"point"}:o==="category"?{scale:gc(),realScaleType:"band"}:{scale:Kf(),realScaleType:"linear"};if(di(a)){var l="scale".concat(oh(a));return{scale:(T1[l]||Il)(),realScaleType:T1[l]?l:"point"}}return Ie(a)?{scale:a}:{scale:Il(),realScaleType:"point"}},z1=1e-4,uW=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),o=Math.min(a[0],a[1])-z1,i=Math.max(a[0],a[1])+z1,s=t(r[0]),l=t(r[n-1]);(s<o||s>i||l<o||l>i)&&t.domain([r[0],r[n-1]])}},fW=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},dW=function(t,r){if(!r||r.length!==2||!se(r[0])||!se(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),o=[t[0],t[1]];return(!se(t[0])||t[0]<n)&&(o[0]=n),(!se(t[1])||t[1]>a)&&(o[1]=a),o[0]>a&&(o[0]=a),o[1]<n&&(o[1]=n),o},hW=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var o=0,i=0,s=0;s<r;++s){var l=Vs(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=o,t[s][n][1]=o+l,o=t[s][n][1]):(t[s][n][0]=i,t[s][n][1]=i+l,i=t[s][n][1])}},pW=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var o=0,i=0;i<r;++i){var s=Vs(t[i][n][1])?t[i][n][0]:t[i][n][1];s>=0?(t[i][n][0]=o,t[i][n][1]=o+s,o=t[i][n][1]):(t[i][n][0]=0,t[i][n][1]=0)}},gW={sign:hW,expand:M5,none:us,silhouette:C5,wiggle:E5,positive:pW},mW=function(t,r,n){var a=r.map(function(s){return s.props.dataKey}),o=gW[n],i=A5().keys(a).value(function(s,l){return+yr(s,l,0)}).order(Y0).offset(o);return i(t)},yW=function(t,r,n,a,o,i){if(!t)return null;var s=i?r.reverse():r,l={},c=s.reduce(function(f,h){var p,m=(p=h.type)!==null&&p!==void 0&&p.defaultProps?rr(rr({},h.type.defaultProps),h.props):h.props,v=m.stackId,x=m.hide;if(x)return f;var y=m[n],g=f[y]||{hasStack:!1,stackGroups:{}};if(mr(v)){var b=g.stackGroups[v]||{numericAxisId:n,cateAxisId:a,items:[]};b.items.push(h),g.hasStack=!0,g.stackGroups[v]=b}else g.stackGroups[ki("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return rr(rr({},f),{},rs({},y,g))},l),u={};return Object.keys(c).reduce(function(f,h){var p=c[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(v,x){var y=p.stackGroups[x];return rr(rr({},v),{},rs({},x,{numericAxisId:n,cateAxisId:a,items:y.items,stackedData:mW(t,y.items,o)}))},m)}return rr(rr({},f),{},rs({},h,p))},u)},vW=function(t,r){var n=r.realScaleType,a=r.type,o=r.tickCount,i=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&a==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var c=t.domain();if(!c.length)return null;var u=A7(c,o,s);return t.domain([xh(u),ho(u)]),{niceTicks:u}}if(o&&a==="number"){var f=t.domain(),h=M7(f,o,s);return{niceTicks:h}}return null};function bs(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,o=e.index,i=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!De(a[t.dataKey])){var s=Of(r,"value",a[t.dataKey]);if(s)return s.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var l=yr(a,De(i)?t.dataKey:i);return De(l)?null:t.scale(l)}var W1=function(t){var r=t.axis,n=t.ticks,a=t.offset,o=t.bandSize,i=t.entry,s=t.index;if(r.type==="category")return n[s]?n[s].coordinate+a:null;var l=yr(i,r.dataKey,r.domain[s]);return De(l)?null:r.scale(l)-o/2+a},xW=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return a<=0&&o>=0?0:o<0?o:a}return n[0]},bW=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?rr(rr({},t.type.defaultProps),t.props):t.props,o=a.stackId;if(mr(o)){var i=r[o];if(i){var s=i.items.indexOf(t);return s>=0?i.stackedData[s]:null}}return null},wW=function(t){return t.reduce(function(r,n){return[xh(n.concat([r[0]]).filter(se)),ho(n.concat([r[1]]).filter(se))]},[1/0,-1/0])},o_=function(t,r,n){return Object.keys(t).reduce(function(a,o){var i=t[o],s=i.stackedData,l=s.reduce(function(c,u){var f=wW(u.slice(r,n+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},U1=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,G1=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_g=function(t,r,n){if(Ie(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(se(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(U1.test(t[0])){var o=+U1.exec(t[0])[1];a[0]=r[0]-o}else Ie(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(se(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(G1.test(t[1])){var i=+G1.exec(t[1])[1];a[1]=r[1]+i}else Ie(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},ed=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var o=Ay(r,function(f){return f.coordinate}),i=1/0,s=1,l=o.length;s<l;s++){var c=o[s],u=o[s-1];i=Math.min((c.coordinate||0)-(u.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},H1=function(t,r,n){return!t||!t.length||pi(t,Bn(n,"type.defaultProps.domain"))?r:t},i_=function(t,r){var n=t.type.defaultProps?rr(rr({},t.type.defaultProps),t.props):t.props,a=n.dataKey,o=n.name,i=n.unit,s=n.formatter,l=n.tooltipType,c=n.chartType,u=n.hide;return rr(rr({},Re(t,!1)),{},{dataKey:a,unit:i,formatter:s,name:o||a,color:rv(t),value:yr(r,a),type:l,payload:r,chartType:c,hide:u})};function jc(e){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jc(e)}function V1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function K1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V1(Object(r),!0).forEach(function(n){kW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kW(e,t,r){return t=SW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SW(e){var t=jW(e,"string");return jc(t)=="symbol"?t:t+""}function jW(e,t){if(jc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var td=Math.PI/180,OW=function(t){return t*180/Math.PI},Ar=function(t,r,n,a){return{x:t+Math.cos(-td*a)*n,y:r+Math.sin(-td*a)*n}},_W=function(t,r){var n=t.x,a=t.y,o=r.x,i=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(a-i,2))},PW=function(t,r){var n=t.x,a=t.y,o=r.cx,i=r.cy,s=_W({x:n,y:a},{x:o,y:i});if(s<=0)return{radius:s};var l=(n-o)/s,c=Math.acos(l);return a>i&&(c=2*Math.PI-c),{radius:s,angle:OW(c),angleInRadian:c}},NW=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),o=Math.floor(n/360),i=Math.min(a,o);return{startAngle:r-i*360,endAngle:n-i*360}},AW=function(t,r){var n=r.startAngle,a=r.endAngle,o=Math.floor(n/360),i=Math.floor(a/360),s=Math.min(o,i);return t+s*360},X1=function(t,r){var n=t.x,a=t.y,o=PW({x:n,y:a},r),i=o.radius,s=o.angle,l=r.innerRadius,c=r.outerRadius;if(i<l||i>c)return!1;if(i===0)return!0;var u=NW(r),f=u.startAngle,h=u.endAngle,p=s,m;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}return m?K1(K1({},r),{},{radius:i,angle:AW(p,r)}):null};function Oc(e){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oc(e)}var MW=["offset"];function CW(e){return DW(e)||$W(e)||TW(e)||EW()}function EW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TW(e,t){if(e){if(typeof e=="string")return Pg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pg(e,t)}}function $W(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DW(e){if(Array.isArray(e))return Pg(e)}function Pg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function LW(e,t){if(e==null)return{};var r=RW(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function q1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q1(Object(r),!0).forEach(function(n){IW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IW(e,t,r){return t=BW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BW(e){var t=FW(e,"string");return Oc(t)=="symbol"?t:t+""}function FW(e,t){if(Oc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _c(){return _c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_c.apply(this,arguments)}var zW=function(t){var r=t.value,n=t.formatter,a=De(t.children)?r:t.children;return Ie(n)?n(a):a},WW=function(t,r){var n=na(r-t),a=Math.min(Math.abs(r-t),360);return n*a},UW=function(t,r,n){var a=t.position,o=t.viewBox,i=t.offset,s=t.className,l=o,c=l.cx,u=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,m=l.endAngle,v=l.clockWise,x=(f+h)/2,y=WW(p,m),g=y>=0?1:-1,b,k;a==="insideStart"?(b=p+g*i,k=v):a==="insideEnd"?(b=m-g*i,k=!v):a==="end"&&(b=m+g*i,k=v),k=y<=0?k:!k;var w=Ar(c,u,x,b),S=Ar(c,u,x,b+(k?1:-1)*359),j="M".concat(w.x,",").concat(w.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(k?0:1,`,
    `).concat(S.x,",").concat(S.y),_=De(t.id)?ki("recharts-radial-line-"):t.id;return C.createElement("text",_c({},n,{dominantBaseline:"central",className:tt("recharts-radial-bar-label",s)}),C.createElement("defs",null,C.createElement("path",{id:_,d:j})),C.createElement("textPath",{xlinkHref:"#".concat(_)},r))},GW=function(t){var r=t.viewBox,n=t.offset,a=t.position,o=r,i=o.cx,s=o.cy,l=o.innerRadius,c=o.outerRadius,u=o.startAngle,f=o.endAngle,h=(u+f)/2;if(a==="outside"){var p=Ar(i,s,c+n,h),m=p.x,v=p.y;return{x:m,y:v,textAnchor:m>=i?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"end"};var x=(l+c)/2,y=Ar(i,s,x,h),g=y.x,b=y.y;return{x:g,y:b,textAnchor:"middle",verticalAnchor:"middle"}},HW=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,o=t.position,i=r,s=i.x,l=i.y,c=i.width,u=i.height,f=u>=0?1:-1,h=f*a,p=f>0?"end":"start",m=f>0?"start":"end",v=c>=0?1:-1,x=v*a,y=v>0?"end":"start",g=v>0?"start":"end";if(o==="top"){var b={x:s+c/2,y:l-f*a,textAnchor:"middle",verticalAnchor:p};return hr(hr({},b),n?{height:Math.max(l-n.y,0),width:c}:{})}if(o==="bottom"){var k={x:s+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:m};return hr(hr({},k),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(o==="left"){var w={x:s-x,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return hr(hr({},w),n?{width:Math.max(w.x-n.x,0),height:u}:{})}if(o==="right"){var S={x:s+c+x,y:l+u/2,textAnchor:g,verticalAnchor:"middle"};return hr(hr({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:u}:{})}var j=n?{width:c,height:u}:{};return o==="insideLeft"?hr({x:s+x,y:l+u/2,textAnchor:g,verticalAnchor:"middle"},j):o==="insideRight"?hr({x:s+c-x,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},j):o==="insideTop"?hr({x:s+c/2,y:l+h,textAnchor:"middle",verticalAnchor:m},j):o==="insideBottom"?hr({x:s+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:p},j):o==="insideTopLeft"?hr({x:s+x,y:l+h,textAnchor:g,verticalAnchor:m},j):o==="insideTopRight"?hr({x:s+c-x,y:l+h,textAnchor:y,verticalAnchor:m},j):o==="insideBottomLeft"?hr({x:s+x,y:l+u-h,textAnchor:g,verticalAnchor:p},j):o==="insideBottomRight"?hr({x:s+c-x,y:l+u-h,textAnchor:y,verticalAnchor:p},j):Ws(o)&&(se(o.x)||qo(o.x))&&(se(o.y)||qo(o.y))?hr({x:s+hi(o.x,c),y:l+hi(o.y,u),textAnchor:"end",verticalAnchor:"end"},j):hr({x:s+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},j)},VW=function(t){return"cx"in t&&se(t.cx)};function Fr(e){var t=e.offset,r=t===void 0?5:t,n=LW(e,MW),a=hr({offset:r},n),o=a.viewBox,i=a.position,s=a.value,l=a.children,c=a.content,u=a.className,f=u===void 0?"":u,h=a.textBreakAll;if(!o||De(s)&&De(l)&&!O.isValidElement(c)&&!Ie(c))return null;if(O.isValidElement(c))return O.cloneElement(c,a);var p;if(Ie(c)){if(p=O.createElement(c,a),O.isValidElement(p))return p}else p=zW(a);var m=VW(o),v=Re(a,!0);if(m&&(i==="insideStart"||i==="insideEnd"||i==="end"))return UW(a,p,v);var x=m?GW(a):HW(a);return C.createElement(Ff,_c({className:tt("recharts-label",f)},v,x,{breakAll:h}),p)}Fr.displayName="Label";var s_=function(t){var r=t.cx,n=t.cy,a=t.angle,o=t.startAngle,i=t.endAngle,s=t.r,l=t.radius,c=t.innerRadius,u=t.outerRadius,f=t.x,h=t.y,p=t.top,m=t.left,v=t.width,x=t.height,y=t.clockWise,g=t.labelViewBox;if(g)return g;if(se(v)&&se(x)){if(se(f)&&se(h))return{x:f,y:h,width:v,height:x};if(se(p)&&se(m))return{x:p,y:m,width:v,height:x}}return se(f)&&se(h)?{x:f,y:h,width:0,height:0}:se(r)&&se(n)?{cx:r,cy:n,startAngle:o||a||0,endAngle:i||a||0,innerRadius:c||0,outerRadius:u||l||s||0,clockWise:y}:t.viewBox?t.viewBox:{}},KW=function(t,r){return t?t===!0?C.createElement(Fr,{key:"label-implicit",viewBox:r}):mr(t)?C.createElement(Fr,{key:"label-implicit",viewBox:r,value:t}):O.isValidElement(t)?t.type===Fr?O.cloneElement(t,{key:"label-implicit",viewBox:r}):C.createElement(Fr,{key:"label-implicit",content:t,viewBox:r}):Ie(t)?C.createElement(Fr,{key:"label-implicit",content:t,viewBox:r}):Ws(t)?C.createElement(Fr,_c({viewBox:r},t,{key:"label-implicit"})):null:null},XW=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,o=s_(t),i=hn(a,Fr).map(function(l,c){return O.cloneElement(l,{viewBox:r||o,key:"label-".concat(c)})});if(!n)return i;var s=KW(t.label,r||o);return[s].concat(CW(i))};Fr.parseViewBox=s_;Fr.renderCallByParent=XW;function qW(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var YW=qW;const QW=Ct(YW);function Pc(e){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pc(e)}var ZW=["valueAccessor"],JW=["data","dataKey","clockWise","id","textBreakAll"];function eU(e){return aU(e)||nU(e)||rU(e)||tU()}function tU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rU(e,t){if(e){if(typeof e=="string")return Ng(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ng(e,t)}}function nU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aU(e){if(Array.isArray(e))return Ng(e)}function Ng(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rd(){return rd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rd.apply(this,arguments)}function Y1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Q1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y1(Object(r),!0).forEach(function(n){oU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oU(e,t,r){return t=iU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iU(e){var t=sU(e,"string");return Pc(t)=="symbol"?t:t+""}function sU(e,t){if(Pc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z1(e,t){if(e==null)return{};var r=lU(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lU(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var cU=function(t){return Array.isArray(t.value)?QW(t.value):t.value};function ka(e){var t=e.valueAccessor,r=t===void 0?cU:t,n=Z1(e,ZW),a=n.data,o=n.dataKey,i=n.clockWise,s=n.id,l=n.textBreakAll,c=Z1(n,JW);return!a||!a.length?null:C.createElement(ft,{className:"recharts-label-list"},a.map(function(u,f){var h=De(o)?r(u,f):yr(u&&u.payload,o),p=De(s)?{}:{id:"".concat(s,"-").concat(f)};return C.createElement(Fr,rd({},Re(u,!0),c,p,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:Fr.parseViewBox(De(i)?u:Q1(Q1({},u),{},{clockWise:i})),key:"label-".concat(f),index:f}))}))}ka.displayName="LabelList";function uU(e,t){return e?e===!0?C.createElement(ka,{key:"labelList-implicit",data:t}):C.isValidElement(e)||Ie(e)?C.createElement(ka,{key:"labelList-implicit",data:t,content:e}):Ws(e)?C.createElement(ka,rd({data:t},e,{key:"labelList-implicit"})):null:null}function fU(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=hn(n,ka).map(function(i,s){return O.cloneElement(i,{data:t,key:"labelList-".concat(s)})});if(!r)return a;var o=uU(e.label,t);return[o].concat(eU(a))}ka.renderCallByParent=fU;function Nc(e){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}function Ag(){return Ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ag.apply(this,arguments)}function J1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ew(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J1(Object(r),!0).forEach(function(n){dU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dU(e,t,r){return t=hU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hU(e){var t=pU(e,"string");return Nc(t)=="symbol"?t:t+""}function pU(e,t){if(Nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gU=function(t,r){var n=na(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Lu=function(t){var r=t.cx,n=t.cy,a=t.radius,o=t.angle,i=t.sign,s=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,u=l*(s?1:-1)+a,f=Math.asin(l/u)/td,h=c?o:o+i*f,p=Ar(r,n,u,h),m=Ar(r,n,a,h),v=c?o-i*f:o,x=Ar(r,n,u*Math.cos(f*td),v);return{center:p,circleTangency:m,lineTangency:x,theta:f}},l_=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,i=t.startAngle,s=t.endAngle,l=gU(i,s),c=i+l,u=Ar(r,n,o,i),f=Ar(r,n,o,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=Ar(r,n,a,i),m=Ar(r,n,a,c);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},mU=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,i=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,u=t.endAngle,f=na(u-c),h=Lu({cx:r,cy:n,radius:o,angle:c,sign:f,cornerRadius:i,cornerIsExternal:l}),p=h.circleTangency,m=h.lineTangency,v=h.theta,x=Lu({cx:r,cy:n,radius:o,angle:u,sign:-f,cornerRadius:i,cornerIsExternal:l}),y=x.circleTangency,g=x.lineTangency,b=x.theta,k=l?Math.abs(c-u):Math.abs(c-u)-v-b;if(k<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):l_({cx:r,cy:n,innerRadius:a,outerRadius:o,startAngle:c,endAngle:u});var w="M ".concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(k>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
  `);if(a>0){var S=Lu({cx:r,cy:n,radius:a,angle:c,sign:f,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),j=S.circleTangency,_=S.lineTangency,P=S.theta,N=Lu({cx:r,cy:n,radius:a,angle:u,sign:-f,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),A=N.circleTangency,M=N.lineTangency,B=N.theta,I=l?Math.abs(c-u):Math.abs(c-u)-P-B;if(I<0&&i===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(M.x,",").concat(M.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(I>180),",").concat(+(f>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},yU={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},c_=function(t){var r=ew(ew({},yU),t),n=r.cx,a=r.cy,o=r.innerRadius,i=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,f=r.endAngle,h=r.className;if(i<o||u===f)return null;var p=tt("recharts-sector",h),m=i-o,v=hi(s,m,0,!0),x;return v>0&&Math.abs(u-f)<360?x=mU({cx:n,cy:a,innerRadius:o,outerRadius:i,cornerRadius:Math.min(v,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:f}):x=l_({cx:n,cy:a,innerRadius:o,outerRadius:i,startAngle:u,endAngle:f}),C.createElement("path",Ag({},Re(r,!0),{className:p,d:x,role:"img"}))};function Ac(e){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ac(e)}function Mg(){return Mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mg.apply(this,arguments)}function tw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tw(Object(r),!0).forEach(function(n){vU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vU(e,t,r){return t=xU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xU(e){var t=bU(e,"string");return Ac(t)=="symbol"?t:t+""}function bU(e,t){if(Ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nw={curveBasisClosed:v5,curveBasisOpen:x5,curveBasis:y5,curveBumpX:n5,curveBumpY:a5,curveLinearClosed:b5,curveLinear:sh,curveMonotoneX:w5,curveMonotoneY:k5,curveNatural:S5,curveStep:j5,curveStepAfter:_5,curveStepBefore:O5},Ru=function(t){return t.x===+t.x&&t.y===+t.y},xl=function(t){return t.x},bl=function(t){return t.y},wU=function(t,r){if(Ie(t))return t;var n="curve".concat(oh(t));return(n==="curveMonotone"||n==="curveBump")&&r?nw["".concat(n).concat(r==="vertical"?"Y":"X")]:nw[n]||sh},kU=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,o=a===void 0?[]:a,i=t.baseLine,s=t.layout,l=t.connectNulls,c=l===void 0?!1:l,u=wU(n,s),f=c?o.filter(function(v){return Ru(v)}):o,h;if(Array.isArray(i)){var p=c?i.filter(function(v){return Ru(v)}):i,m=f.map(function(v,x){return rw(rw({},v),{},{base:p[x]})});return s==="vertical"?h=Pu().y(bl).x1(xl).x0(function(v){return v.base.x}):h=Pu().x(xl).y1(bl).y0(function(v){return v.base.y}),h.defined(Ru).curve(u),h(m)}return s==="vertical"&&se(i)?h=Pu().y(bl).x1(xl).x0(i):se(i)?h=Pu().x(xl).y1(bl).y0(i):h=uj().x(xl).y(bl),h.defined(Ru).curve(u),h(f)},ii=function(t){var r=t.className,n=t.points,a=t.path,o=t.pathRef;if((!n||!n.length)&&!a)return null;var i=n&&n.length?kU(t):a;return O.createElement("path",Mg({},Re(t,!1),_f(t),{className:tt("recharts-curve",r),d:i,ref:o}))},u_={exports:{}},SU="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",jU=SU,OU=jU;function f_(){}function d_(){}d_.resetWarningCache=f_;var _U=function(){function e(n,a,o,i,s,l){if(l!==OU){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:d_,resetWarningCache:f_};return r.PropTypes=r,r};u_.exports=_U();var PU=u_.exports;const pt=Ct(PU),{getOwnPropertyNames:NU,getOwnPropertySymbols:AU}=Object,{hasOwnProperty:MU}=Object.prototype;function Cp(e,t){return function(n,a,o){return e(n,a,o)&&t(n,a,o)}}function Iu(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);const{cache:o}=a,i=o.get(r),s=o.get(n);if(i&&s)return i===n&&s===r;o.set(r,n),o.set(n,r);const l=e(r,n,a);return o.delete(r),o.delete(n),l}}function CU(e){return e!=null?e[Symbol.toStringTag]:void 0}function aw(e){return NU(e).concat(AU(e))}const EU=Object.hasOwn||((e,t)=>MU.call(e,t));function Oi(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const TU="__v",$U="__o",DU="_owner",{getOwnPropertyDescriptor:ow,keys:iw}=Object;function LU(e,t){return e.byteLength===t.byteLength&&nd(new Uint8Array(e),new Uint8Array(t))}function RU(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function IU(e,t){return e.byteLength===t.byteLength&&nd(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function BU(e,t){return Oi(e.getTime(),t.getTime())}function FU(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function zU(e,t){return e===t}function sw(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),o=e.entries();let i,s,l=0;for(;(i=o.next())&&!i.done;){const c=t.entries();let u=!1,f=0;for(;(s=c.next())&&!s.done;){if(a[f]){f++;continue}const h=i.value,p=s.value;if(r.equals(h[0],p[0],l,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){u=a[f]=!0;break}f++}if(!u)return!1;l++}return!0}const WU=Oi;function UU(e,t,r){const n=iw(e);let a=n.length;if(iw(t).length!==a)return!1;for(;a-- >0;)if(!h_(e,t,r,n[a]))return!1;return!0}function wl(e,t,r){const n=aw(e);let a=n.length;if(aw(t).length!==a)return!1;let o,i,s;for(;a-- >0;)if(o=n[a],!h_(e,t,r,o)||(i=ow(e,o),s=ow(t,o),(i||s)&&(!i||!s||i.configurable!==s.configurable||i.enumerable!==s.enumerable||i.writable!==s.writable)))return!1;return!0}function GU(e,t){return Oi(e.valueOf(),t.valueOf())}function HU(e,t){return e.source===t.source&&e.flags===t.flags}function lw(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),o=e.values();let i,s;for(;(i=o.next())&&!i.done;){const l=t.values();let c=!1,u=0;for(;(s=l.next())&&!s.done;){if(!a[u]&&r.equals(i.value,s.value,i.value,s.value,e,t,r)){c=a[u]=!0;break}u++}if(!c)return!1}return!0}function nd(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function VU(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function h_(e,t,r,n){return(n===DU||n===$U||n===TU)&&(e.$$typeof||t.$$typeof)?!0:EU(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const KU="[object ArrayBuffer]",XU="[object Arguments]",qU="[object Boolean]",YU="[object DataView]",QU="[object Date]",ZU="[object Error]",JU="[object Map]",eG="[object Number]",tG="[object Object]",rG="[object RegExp]",nG="[object Set]",aG="[object String]",oG={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},iG="[object URL]",sG=Object.prototype.toString;function lG({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:a,areFunctionsEqual:o,areMapsEqual:i,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:u,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:m}){return function(x,y,g){if(x===y)return!0;if(x==null||y==null)return!1;const b=typeof x;if(b!==typeof y)return!1;if(b!=="object")return b==="number"?s(x,y,g):b==="function"?o(x,y,g):!1;const k=x.constructor;if(k!==y.constructor)return!1;if(k===Object)return l(x,y,g);if(Array.isArray(x))return t(x,y,g);if(k===Date)return n(x,y,g);if(k===RegExp)return u(x,y,g);if(k===Map)return i(x,y,g);if(k===Set)return f(x,y,g);const w=sG.call(x);if(w===QU)return n(x,y,g);if(w===rG)return u(x,y,g);if(w===JU)return i(x,y,g);if(w===nG)return f(x,y,g);if(w===tG)return typeof x.then!="function"&&typeof y.then!="function"&&l(x,y,g);if(w===iG)return p(x,y,g);if(w===ZU)return a(x,y,g);if(w===XU)return l(x,y,g);if(oG[w])return h(x,y,g);if(w===KU)return e(x,y,g);if(w===YU)return r(x,y,g);if(w===qU||w===eG||w===aG)return c(x,y,g);if(m){let S=m[w];if(!S){const j=CU(x);j&&(S=m[j])}if(S)return S(x,y,g)}return!1}}function cG({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:LU,areArraysEqual:r?wl:RU,areDataViewsEqual:IU,areDatesEqual:BU,areErrorsEqual:FU,areFunctionsEqual:zU,areMapsEqual:r?Cp(sw,wl):sw,areNumbersEqual:WU,areObjectsEqual:r?wl:UU,arePrimitiveWrappersEqual:GU,areRegExpsEqual:HU,areSetsEqual:r?Cp(lw,wl):lw,areTypedArraysEqual:r?Cp(nd,wl):nd,areUrlsEqual:VU,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const a=Iu(n.areArraysEqual),o=Iu(n.areMapsEqual),i=Iu(n.areObjectsEqual),s=Iu(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:i,areSetsEqual:s})}return n}function uG(e){return function(t,r,n,a,o,i,s){return e(t,r,s)}}function fG({circular:e,comparator:t,createState:r,equals:n,strict:a}){if(r)return function(s,l){const{cache:c=e?new WeakMap:void 0,meta:u}=r();return t(s,l,{cache:c,equals:n,meta:u,strict:a})};if(e)return function(s,l){return t(s,l,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const o={cache:void 0,equals:n,meta:void 0,strict:a};return function(s,l){return t(s,l,o)}}const dG=Do();Do({strict:!0});Do({circular:!0});Do({circular:!0,strict:!0});Do({createInternalComparator:()=>Oi});Do({strict:!0,createInternalComparator:()=>Oi});Do({circular:!0,createInternalComparator:()=>Oi});Do({circular:!0,createInternalComparator:()=>Oi,strict:!0});function Do(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:a=!1}=e,o=cG(e),i=lG(o),s=r?r(i):uG(i);return fG({circular:t,comparator:i,createState:n,equals:s,strict:a})}function hG(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function cw(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(o){r<0&&(r=o),o-r>t?(e(o),r=-1):hG(a)};requestAnimationFrame(n)}function Cg(e){"@babel/helpers - typeof";return Cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cg(e)}function pG(e){return vG(e)||yG(e)||mG(e)||gG()}function gG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mG(e,t){if(e){if(typeof e=="string")return uw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uw(e,t)}}function uw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vG(e){if(Array.isArray(e))return e}function xG(){var e={},t=function(){return null},r=!1,n=function a(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var i=o,s=pG(i),l=s[0],c=s.slice(1);if(typeof l=="number"){cw(a.bind(null,c),l);return}a(l),cw(a.bind(null,c));return}Cg(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function Mc(e){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mc(e)}function fw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fw(Object(r),!0).forEach(function(n){p_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p_(e,t,r){return t=bG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bG(e){var t=wG(e,"string");return Mc(t)==="symbol"?t:String(t)}function wG(e,t){if(Mc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kG=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(o){return a.includes(o)})})},SG=function(t){return t},jG=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Fl=function(t,r){return Object.keys(r).reduce(function(n,a){return dw(dw({},n),{},p_({},a,t(a,r[a])))},{})},hw=function(t,r,n){return t.map(function(a){return"".concat(jG(a)," ").concat(r,"ms ").concat(n)}).join(",")};function OG(e,t){return NG(e)||PG(e,t)||g_(e,t)||_G()}function _G(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function NG(e){if(Array.isArray(e))return e}function AG(e){return EG(e)||CG(e)||g_(e)||MG()}function MG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g_(e,t){if(e){if(typeof e=="string")return Eg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Eg(e,t)}}function CG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function EG(e){if(Array.isArray(e))return Eg(e)}function Eg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ad=1e-4,m_=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},y_=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},pw=function(t,r){return function(n){var a=m_(t,r);return y_(a,n)}},TG=function(t,r){return function(n){var a=m_(t,r),o=[].concat(AG(a.map(function(i,s){return i*s}).slice(1)),[0]);return y_(o,n)}},gw=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],o=r[1],i=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,o=0,i=1,s=1;break;case"ease":a=.25,o=.1,i=.25,s=1;break;case"ease-in":a=.42,o=0,i=1,s=1;break;case"ease-out":a=.42,o=0,i=.58,s=1;break;case"ease-in-out":a=0,o=0,i=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),u=OG(c,4);a=u[0],o=u[1],i=u[2],s=u[3]}}}var f=pw(a,i),h=pw(o,s),p=TG(a,i),m=function(y){return y>1?1:y<0?0:y},v=function(y){for(var g=y>1?1:y,b=g,k=0;k<8;++k){var w=f(b)-g,S=p(b);if(Math.abs(w-g)<ad||S<ad)return h(b);b=m(b-w/S)}return h(b)};return v.isStepper=!1,v},$G=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,o=a===void 0?8:a,i=t.dt,s=i===void 0?17:i,l=function(u,f,h){var p=-(u-f)*n,m=h*o,v=h+(p-m)*s/1e3,x=h*s/1e3+u;return Math.abs(x-f)<ad&&Math.abs(v)<ad?[f,0]:[x,v]};return l.isStepper=!0,l.dt=s,l},DG=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return gw(a);case"spring":return $G();default:if(a.split("(")[0]==="cubic-bezier")return gw(a)}return typeof a=="function"?a:null};function Cc(e){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cc(e)}function mw(e){return IG(e)||RG(e)||v_(e)||LG()}function LG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function IG(e){if(Array.isArray(e))return $g(e)}function yw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yw(Object(r),!0).forEach(function(n){Tg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tg(e,t,r){return t=BG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BG(e){var t=FG(e,"string");return Cc(t)==="symbol"?t:String(t)}function FG(e,t){if(Cc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zG(e,t){return GG(e)||UG(e,t)||v_(e,t)||WG()}function WG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v_(e,t){if(e){if(typeof e=="string")return $g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $g(e,t)}}function $g(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function UG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function GG(e){if(Array.isArray(e))return e}var od=function(t,r,n){return t+(r-t)*n},Dg=function(t){var r=t.from,n=t.to;return r!==n},HG=function e(t,r,n){var a=Fl(function(o,i){if(Dg(i)){var s=t(i.from,i.to,i.velocity),l=zG(s,2),c=l[0],u=l[1];return Pr(Pr({},i),{},{from:c,velocity:u})}return i},r);return n<1?Fl(function(o,i){return Dg(i)?Pr(Pr({},i),{},{velocity:od(i.velocity,a[o].velocity,n),from:od(i.from,a[o].from,n)}):i},r):e(t,a,n-1)};const VG=function(e,t,r,n,a){var o=kG(e,t),i=o.reduce(function(x,y){return Pr(Pr({},x),{},Tg({},y,[e[y],t[y]]))},{}),s=o.reduce(function(x,y){return Pr(Pr({},x),{},Tg({},y,{from:e[y],velocity:0,to:t[y]}))},{}),l=-1,c,u,f=function(){return null},h=function(){return Fl(function(y,g){return g.from},s)},p=function(){return!Object.values(s).filter(Dg).length},m=function(y){c||(c=y);var g=y-c,b=g/r.dt;s=HG(r,s,b),a(Pr(Pr(Pr({},e),t),h())),c=y,p()||(l=requestAnimationFrame(f))},v=function(y){u||(u=y);var g=(y-u)/n,b=Fl(function(w,S){return od.apply(void 0,mw(S).concat([r(g)]))},i);if(a(Pr(Pr(Pr({},e),t),b)),g<1)l=requestAnimationFrame(f);else{var k=Fl(function(w,S){return od.apply(void 0,mw(S).concat([r(1)]))},i);a(Pr(Pr(Pr({},e),t),k))}};return f=r.isStepper?m:v,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function ws(e){"@babel/helpers - typeof";return ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ws(e)}var KG=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function XG(e,t){if(e==null)return{};var r=qG(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qG(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Ep(e){return JG(e)||ZG(e)||QG(e)||YG()}function YG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QG(e,t){if(e){if(typeof e=="string")return Lg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lg(e,t)}}function ZG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function JG(e){if(Array.isArray(e))return Lg(e)}function Lg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vw(Object(r),!0).forEach(function(n){Pl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pl(e,t,r){return t=x_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tH(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,x_(n.key),n)}}function rH(e,t,r){return t&&tH(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function x_(e){var t=nH(e,"string");return ws(t)==="symbol"?t:String(t)}function nH(e,t){if(ws(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ws(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rg(e,t)}function Rg(e,t){return Rg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Rg(e,t)}function oH(e){var t=iH();return function(){var n=id(e),a;if(t){var o=id(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Ig(this,a)}}function Ig(e,t){if(t&&(ws(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bg(e)}function Bg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iH(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function id(e){return id=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},id(e)}var sa=function(e){aH(r,e);var t=oH(r);function r(n,a){var o;eH(this,r),o=t.call(this,n,a);var i=o.props,s=i.isActive,l=i.attributeName,c=i.from,u=i.to,f=i.steps,h=i.children,p=i.duration;if(o.handleStyleChange=o.handleStyleChange.bind(Bg(o)),o.changeStyle=o.changeStyle.bind(Bg(o)),!s||p<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:u}),Ig(o);if(f&&f.length)o.state={style:f[0].style};else if(c){if(typeof h=="function")return o.state={style:c},Ig(o);o.state={style:l?Pl({},l,c):c}}else o.state={style:{}};return o}return rH(r,[{key:"componentDidMount",value:function(){var a=this.props,o=a.isActive,i=a.canBegin;this.mounted=!0,!(!o||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var o=this.props,i=o.isActive,s=o.canBegin,l=o.attributeName,c=o.shouldReAnimate,u=o.to,f=o.from,h=this.state.style;if(s){if(!i){var p={style:l?Pl({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(p);return}if(!(dG(a.to,u)&&a.canBegin&&a.isActive)){var m=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=m||c?f:a.to;if(this.state&&h){var x={style:l?Pl({},l,v):v};(l&&h[l]!==v||!l&&h!==v)&&this.setState(x)}this.runAnimation(Yn(Yn({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var o=this,i=a.from,s=a.to,l=a.duration,c=a.easing,u=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=VG(i,s,DG(c),l,this.changeStyle),m=function(){o.stopJSAnimation=p()};this.manager.start([h,u,m,l,f])}},{key:"runStepAnimation",value:function(a){var o=this,i=a.steps,s=a.begin,l=a.onAnimationStart,c=i[0],u=c.style,f=c.duration,h=f===void 0?0:f,p=function(v,x,y){if(y===0)return v;var g=x.duration,b=x.easing,k=b===void 0?"ease":b,w=x.style,S=x.properties,j=x.onAnimationEnd,_=y>0?i[y-1]:x,P=S||Object.keys(w);if(typeof k=="function"||k==="spring")return[].concat(Ep(v),[o.runJSAnimation.bind(o,{from:_.style,to:w,duration:g,easing:k}),g]);var N=hw(P,g,k),A=Yn(Yn(Yn({},_.style),w),{},{transition:N});return[].concat(Ep(v),[A,g,j]).filter(SG)};return this.manager.start([l].concat(Ep(i.reduce(p,[u,Math.max(h,s)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=xG());var o=a.begin,i=a.duration,s=a.attributeName,l=a.to,c=a.easing,u=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var v=s?Pl({},s,l):l,x=hw(Object.keys(v),i,c);m.start([u,o,Yn(Yn({},v),{},{transition:x}),i,f])}},{key:"render",value:function(){var a=this.props,o=a.children;a.begin;var i=a.duration;a.attributeName,a.easing;var s=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=XG(a,KG),c=O.Children.count(o),u=this.state.style;if(typeof o=="function")return o(u);if(!s||c===0||i<=0)return o;var f=function(p){var m=p.props,v=m.style,x=v===void 0?{}:v,y=m.className,g=O.cloneElement(p,Yn(Yn({},l),{},{style:Yn(Yn({},x),u),className:y}));return g};return c===1?f(O.Children.only(o)):C.createElement("div",null,O.Children.map(o,function(h){return f(h)}))}}]),r}(O.PureComponent);sa.displayName="Animate";sa.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};sa.propTypes={from:pt.oneOfType([pt.object,pt.string]),to:pt.oneOfType([pt.object,pt.string]),attributeName:pt.string,duration:pt.number,begin:pt.number,easing:pt.oneOfType([pt.string,pt.func]),steps:pt.arrayOf(pt.shape({duration:pt.number.isRequired,style:pt.object.isRequired,easing:pt.oneOfType([pt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),pt.func]),properties:pt.arrayOf("string"),onAnimationEnd:pt.func})),children:pt.oneOfType([pt.node,pt.func]),isActive:pt.bool,canBegin:pt.bool,onAnimationEnd:pt.func,shouldReAnimate:pt.bool,onAnimationStart:pt.func,onAnimationReStart:pt.func};function Ec(e){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ec(e)}function sd(){return sd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sd.apply(this,arguments)}function sH(e,t){return fH(e)||uH(e,t)||cH(e,t)||lH()}function lH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cH(e,t){if(e){if(typeof e=="string")return xw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xw(e,t)}}function xw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function fH(e){if(Array.isArray(e))return e}function bw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ww(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bw(Object(r),!0).forEach(function(n){dH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dH(e,t,r){return t=hH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hH(e){var t=pH(e,"string");return Ec(t)=="symbol"?t:t+""}function pH(e,t){if(Ec(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kw=function(t,r,n,a,o){var i=Math.min(Math.abs(n)/2,Math.abs(a)/2),s=a>=0?1:-1,l=n>=0?1:-1,c=a>=0&&n>=0||a<0&&n<0?1:0,u;if(i>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=o[h]>i?i:o[h];u="M".concat(t,",").concat(r+s*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(t+l*f[0],",").concat(r)),u+="L ".concat(t+n-l*f[1],",").concat(r),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(r+s*f[1])),u+="L ".concat(t+n,",").concat(r+a-s*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(t+n-l*f[2],",").concat(r+a)),u+="L ".concat(t+l*f[3],",").concat(r+a),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+a-s*f[3])),u+="Z"}else if(i>0&&o===+o&&o>0){var m=Math.min(i,o);u="M ".concat(t,",").concat(r+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+l*m,",").concat(r,`
            L `).concat(t+n-l*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n,",").concat(r+s*m,`
            L `).concat(t+n,",").concat(r+a-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n-l*m,",").concat(r+a,`
            L `).concat(t+l*m,",").concat(r+a,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t,",").concat(r+a-s*m," Z")}else u="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return u},gH=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,o=r.x,i=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(o,o+s),u=Math.max(o,o+s),f=Math.min(i,i+l),h=Math.max(i,i+l);return n>=c&&n<=u&&a>=f&&a<=h}return!1},mH={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},nv=function(t){var r=ww(ww({},mH),t),n=O.useRef(),a=O.useState(-1),o=sH(a,2),i=o[0],s=o[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var k=n.current.getTotalLength();k&&s(k)}catch{}},[]);var l=r.x,c=r.y,u=r.width,f=r.height,h=r.radius,p=r.className,m=r.animationEasing,v=r.animationDuration,x=r.animationBegin,y=r.isAnimationActive,g=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var b=tt("recharts-rectangle",p);return g?C.createElement(sa,{canBegin:i>0,from:{width:u,height:f,x:l,y:c},to:{width:u,height:f,x:l,y:c},duration:v,animationEasing:m,isActive:g},function(k){var w=k.width,S=k.height,j=k.x,_=k.y;return C.createElement(sa,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:v,isActive:y,easing:m},C.createElement("path",sd({},Re(r,!0),{className:b,d:kw(j,_,w,S,h),ref:n})))}):C.createElement("path",sd({},Re(r,!0),{className:b,d:kw(l,c,u,f,h)}))};function Fg(){return Fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fg.apply(this,arguments)}var kh=function(t){var r=t.cx,n=t.cy,a=t.r,o=t.className,i=tt("recharts-dot",o);return r===+r&&n===+n&&a===+a?O.createElement("circle",Fg({},Re(t,!1),_f(t),{className:i,cx:r,cy:n,r:a})):null};function Tc(e){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tc(e)}var yH=["x","y","top","left","width","height","className"];function zg(){return zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zg.apply(this,arguments)}function Sw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sw(Object(r),!0).forEach(function(n){xH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xH(e,t,r){return t=bH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bH(e){var t=wH(e,"string");return Tc(t)=="symbol"?t:t+""}function wH(e,t){if(Tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kH(e,t){if(e==null)return{};var r=SH(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function SH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var jH=function(t,r,n,a,o,i){return"M".concat(t,",").concat(o,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(n)},OH=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,o=a===void 0?0:a,i=t.top,s=i===void 0?0:i,l=t.left,c=l===void 0?0:l,u=t.width,f=u===void 0?0:u,h=t.height,p=h===void 0?0:h,m=t.className,v=kH(t,yH),x=vH({x:n,y:o,top:s,left:c,width:f,height:p},v);return!se(n)||!se(o)||!se(f)||!se(p)||!se(s)||!se(c)?null:C.createElement("path",zg({},Re(x,!0),{className:tt("recharts-cross",m),d:jH(n,o,f,p,s,c)}))},_H=$j,PH=_H(Object.getPrototypeOf,Object),NH=PH,AH=Za,MH=NH,CH=Ja,EH="[object Object]",TH=Function.prototype,$H=Object.prototype,b_=TH.toString,DH=$H.hasOwnProperty,LH=b_.call(Object);function RH(e){if(!CH(e)||AH(e)!=EH)return!1;var t=MH(e);if(t===null)return!0;var r=DH.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&b_.call(r)==LH}var IH=RH;const BH=Ct(IH);var FH=Za,zH=Ja,WH="[object Boolean]";function UH(e){return e===!0||e===!1||zH(e)&&FH(e)==WH}var GH=UH;const HH=Ct(GH);function $c(e){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$c(e)}function ld(){return ld=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ld.apply(this,arguments)}function VH(e,t){return YH(e)||qH(e,t)||XH(e,t)||KH()}function KH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XH(e,t){if(e){if(typeof e=="string")return jw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jw(e,t)}}function jw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function YH(e){if(Array.isArray(e))return e}function Ow(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _w(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ow(Object(r),!0).forEach(function(n){QH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ow(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QH(e,t,r){return t=ZH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZH(e){var t=JH(e,"string");return $c(t)=="symbol"?t:t+""}function JH(e,t){if($c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pw=function(t,r,n,a,o){var i=n-a,s;return s="M ".concat(t,",").concat(r),s+="L ".concat(t+n,",").concat(r),s+="L ".concat(t+n-i/2,",").concat(r+o),s+="L ".concat(t+n-i/2-a,",").concat(r+o),s+="L ".concat(t,",").concat(r," Z"),s},eV={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tV=function(t){var r=_w(_w({},eV),t),n=O.useRef(),a=O.useState(-1),o=VH(a,2),i=o[0],s=o[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&s(b)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,m=r.animationEasing,v=r.animationDuration,x=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||h!==+h||u===0&&f===0||h===0)return null;var g=tt("recharts-trapezoid",p);return y?C.createElement(sa,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:f,height:h,x:l,y:c},duration:v,animationEasing:m,isActive:y},function(b){var k=b.upperWidth,w=b.lowerWidth,S=b.height,j=b.x,_=b.y;return C.createElement(sa,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:v,easing:m},C.createElement("path",ld({},Re(r,!0),{className:g,d:Pw(j,_,k,w,S),ref:n})))}):C.createElement("g",null,C.createElement("path",ld({},Re(r,!0),{className:g,d:Pw(l,c,u,f,h)})))},rV=["option","shapeType","propTransformer","activeClassName","isActive"];function Dc(e){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dc(e)}function nV(e,t){if(e==null)return{};var r=aV(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Nw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nw(Object(r),!0).forEach(function(n){oV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oV(e,t,r){return t=iV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iV(e){var t=sV(e,"string");return Dc(t)=="symbol"?t:t+""}function sV(e,t){if(Dc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lV(e,t){return cd(cd({},t),e)}function cV(e,t){return e==="symbols"}function Aw(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return C.createElement(nv,r);case"trapezoid":return C.createElement(tV,r);case"sector":return C.createElement(c_,r);case"symbols":if(cV(t))return C.createElement(ch,r);break;default:return null}}function uV(e){return O.isValidElement(e)?e.props:e}function Wg(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?lV:n,o=e.activeClassName,i=o===void 0?"recharts-active-shape":o,s=e.isActive,l=nV(e,rV),c;if(O.isValidElement(t))c=O.cloneElement(t,cd(cd({},l),uV(t)));else if(Ie(t))c=t(l);else if(BH(t)&&!HH(t)){var u=a(t,l);c=C.createElement(Aw,{shapeType:r,elementProps:u})}else{var f=l;c=C.createElement(Aw,{shapeType:r,elementProps:f})}return s?C.createElement(ft,{className:i},c):c}function Sh(e,t){return t!=null&&"trapezoids"in e.props}function jh(e,t){return t!=null&&"sectors"in e.props}function Lc(e,t){return t!=null&&"points"in e.props}function fV(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,o=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&o}function dV(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function hV(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function pV(e,t){var r;return Sh(e,t)?r=fV:jh(e,t)?r=dV:Lc(e,t)&&(r=hV),r}function gV(e,t){var r;return Sh(e,t)?r="trapezoids":jh(e,t)?r="sectors":Lc(e,t)&&(r="points"),r}function mV(e,t){if(Sh(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(jh(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Lc(e,t)?t.payload:{}}function yV(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=gV(r,t),o=mV(r,t),i=n.filter(function(l,c){var u=pi(o,l),f=r.props[a].filter(function(m){var v=pV(r,t);return v(m,t)}),h=r.props[a].indexOf(f[f.length-1]),p=c===h;return u&&p}),s=n.indexOf(i[i.length-1]);return s}var vV=Math.ceil,xV=Math.max;function bV(e,t,r,n){for(var a=-1,o=xV(vV((t-e)/(r||1)),0),i=Array(o);o--;)i[n?o:++a]=e,e+=r;return i}var wV=bV,kV=Jj,Mw=1/0,SV=17976931348623157e292;function jV(e){if(!e)return e===0?e:0;if(e=kV(e),e===Mw||e===-Mw){var t=e<0?-1:1;return t*SV}return e===e?e:0}var w_=jV,OV=wV,_V=dh,Tp=w_;function PV(e){return function(t,r,n){return n&&typeof n!="number"&&_V(t,r,n)&&(r=n=void 0),t=Tp(t),r===void 0?(r=t,t=0):r=Tp(r),n=n===void 0?t<r?1:-1:Tp(n),OV(t,r,n,e)}}var NV=PV,AV=NV,MV=AV(),CV=MV;const ud=Ct(CV);function Rc(e){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rc(e)}function Cw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ew(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cw(Object(r),!0).forEach(function(n){k_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k_(e,t,r){return t=EV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EV(e){var t=TV(e,"string");return Rc(t)=="symbol"?t:t+""}function TV(e,t){if(Rc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $V=["Webkit","Moz","O","ms"],DV=function(t,r){var n=t.replace(/(\w)/,function(o){return o.toUpperCase()}),a=$V.reduce(function(o,i){return Ew(Ew({},o),{},k_({},i+n,r))},{});return a[t]=r,a};function ks(e){"@babel/helpers - typeof";return ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ks(e)}function fd(){return fd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fd.apply(this,arguments)}function Tw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $p(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tw(Object(r),!0).forEach(function(n){yn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,j_(n.key),n)}}function RV(e,t,r){return t&&$w(e.prototype,t),r&&$w(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function IV(e,t,r){return t=dd(t),BV(e,S_()?Reflect.construct(t,r||[],dd(e).constructor):t.apply(e,r))}function BV(e,t){if(t&&(ks(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FV(e)}function FV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S_=function(){return!!e})()}function dd(e){return dd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dd(e)}function zV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ug(e,t)}function Ug(e,t){return Ug=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ug(e,t)}function yn(e,t,r){return t=j_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j_(e){var t=WV(e,"string");return ks(t)=="symbol"?t:t+""}function WV(e,t){if(ks(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var UV=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,o=t.x,i=t.width,s=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=Il().domain(ud(0,l)).range([o,o+i-s]),u=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(a),scale:c,scaleValues:u}},Dw=function(t){return t.changedTouches&&!!t.changedTouches.length},Ss=function(e){function t(r){var n;return LV(this,t),n=IV(this,t,[r]),yn(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),yn(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),yn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,o=a.endIndex,i=a.onDragEnd,s=a.startIndex;i==null||i({endIndex:o,startIndex:s})}),n.detachDragEndListener()}),yn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),yn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),yn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),yn(n,"handleSlideDragStart",function(a){var o=Dw(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return zV(t,e),RV(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,o=n.endX,i=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,u=c.length-1,f=Math.min(a,o),h=Math.max(a,o),p=t.getIndexInRange(i,f),m=t.getIndexInRange(i,h);return{startIndex:p-p%l,endIndex:m===u?u:m-m%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,o=a.data,i=a.tickFormatter,s=a.dataKey,l=yr(o[n],s,n);return Ie(i)?i(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,o=a.slideMoveStartX,i=a.startX,s=a.endX,l=this.props,c=l.x,u=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,m=l.onChange,v=n.pageX-o;v>0?v=Math.min(v,c+u-f-s,c+u-f-i):v<0&&(v=Math.max(v,c-i,c-s));var x=this.getIndex({startX:i+v,endX:s+v});(x.startIndex!==h||x.endIndex!==p)&&m&&m(x),this.setState({startX:i+v,endX:s+v,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var o=Dw(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,o=a.brushMoveStartX,i=a.movingTravellerId,s=a.endX,l=a.startX,c=this.state[i],u=this.props,f=u.x,h=u.width,p=u.travellerWidth,m=u.onChange,v=u.gap,x=u.data,y={startX:this.state.startX,endX:this.state.endX},g=n.pageX-o;g>0?g=Math.min(g,f+h-p-c):g<0&&(g=Math.max(g,f-c)),y[i]=c+g;var b=this.getIndex(y),k=b.startIndex,w=b.endIndex,S=function(){var _=x.length-1;return i==="startX"&&(s>l?k%v===0:w%v===0)||s<l&&w===_||i==="endX"&&(s>l?w%v===0:k%v===0)||s>l&&w===_};this.setState(yn(yn({},i,c+g),"brushMoveStartX",n.pageX),function(){m&&S()&&m(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var o=this,i=this.state,s=i.scaleValues,l=i.startX,c=i.endX,u=this.state[a],f=s.indexOf(u);if(f!==-1){var h=f+n;if(!(h===-1||h>=s.length)){var p=s[h];a==="startX"&&p>=c||a==="endX"&&p<=l||this.setState(yn({},a,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.fill,c=n.stroke;return C.createElement("rect",{stroke:c,fill:l,x:a,y:o,width:i,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.data,c=n.children,u=n.padding,f=O.Children.only(c);return f?C.cloneElement(f,{x:a,y:o,width:i,height:s,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var o,i,s=this,l=this.props,c=l.y,u=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,m=l.data,v=l.startIndex,x=l.endIndex,y=Math.max(n,this.props.x),g=$p($p({},Re(this.props,!1)),{},{x:y,y:c,width:u,height:f}),b=p||"Min value: ".concat((o=m[v])===null||o===void 0?void 0:o.name,", Max value: ").concat((i=m[x])===null||i===void 0?void 0:i.name);return C.createElement(ft,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),s.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,a))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,g))}},{key:"renderSlide",value:function(n,a){var o=this.props,i=o.y,s=o.height,l=o.stroke,c=o.travellerWidth,u=Math.min(n,a)+c,f=Math.max(Math.abs(a-n)-c,0);return C.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:i,width:f,height:s})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,o=n.endIndex,i=n.y,s=n.height,l=n.travellerWidth,c=n.stroke,u=this.state,f=u.startX,h=u.endX,p=5,m={pointerEvents:"none",fill:c};return C.createElement(ft,{className:"recharts-brush-texts"},C.createElement(Ff,fd({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:i+s/2},m),this.getTextOfTick(a)),C.createElement(Ff,fd({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:i+s/2},m),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,a=n.data,o=n.className,i=n.children,s=n.x,l=n.y,c=n.width,u=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,m=h.endX,v=h.isTextActive,x=h.isSlideMoving,y=h.isTravellerMoving,g=h.isTravellerFocused;if(!a||!a.length||!se(s)||!se(l)||!se(c)||!se(u)||c<=0||u<=0)return null;var b=tt("recharts-brush",o),k=C.Children.count(i)===1,w=DV("userSelect","none");return C.createElement(ft,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),k&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(v||x||y||g||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,o=n.y,i=n.width,s=n.height,l=n.stroke,c=Math.floor(o+s/2)-1;return C.createElement(C.Fragment,null,C.createElement("rect",{x:a,y:o,width:i,height:s,fill:l,stroke:"none"}),C.createElement("line",{x1:a+1,y1:c,x2:a+i-1,y2:c,fill:"none",stroke:"#fff"}),C.createElement("line",{x1:a+1,y1:c+2,x2:a+i-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var o;return C.isValidElement(n)?o=C.cloneElement(n,a):Ie(n)?o=n(a):o=t.renderDefaultTraveller(a),o}},{key:"getDerivedStateFromProps",value:function(n,a){var o=n.data,i=n.width,s=n.x,l=n.travellerWidth,c=n.updateId,u=n.startIndex,f=n.endIndex;if(o!==a.prevData||c!==a.prevUpdateId)return $p({prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:i},o&&o.length?UV({data:o,width:i,x:s,travellerWidth:l,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(i!==a.prevWidth||s!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([s,s+i-l]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:i,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var o=n.length,i=0,s=o-1;s-i>1;){var l=Math.floor((i+s)/2);n[l]>a?s=l:i=l}return a>=n[s]?s:i}}])}(O.PureComponent);yn(Ss,"displayName","Brush");yn(Ss,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var GV=Ny;function HV(e,t){var r;return GV(e,function(n,a,o){return r=t(n,a,o),!r}),!!r}var VV=HV,KV=_j,XV=Co,qV=VV,YV=pn,QV=dh;function ZV(e,t,r){var n=YV(e)?KV:qV;return r&&QV(e,t,r)&&(t=void 0),n(e,XV(t))}var JV=ZV;const eK=Ct(JV);var Sa=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},Lw=Xj;function tK(e,t,r){t=="__proto__"&&Lw?Lw(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var rK=tK,nK=rK,aK=Vj,oK=Co;function iK(e,t){var r={};return t=oK(t),aK(e,function(n,a,o){nK(r,a,t(n,a,o))}),r}var sK=iK;const lK=Ct(sK);function cK(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var uK=cK,fK=Ny;function dK(e,t){var r=!0;return fK(e,function(n,a,o){return r=!!t(n,a,o),r}),r}var hK=dK,pK=uK,gK=hK,mK=Co,yK=pn,vK=dh;function xK(e,t,r){var n=yK(e)?pK:gK;return r&&vK(e,t,r)&&(t=void 0),n(e,mK(t))}var bK=xK;const O_=Ct(bK);var wK=["x","y"];function Ic(e){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ic(e)}function Gg(){return Gg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gg.apply(this,arguments)}function Rw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rw(Object(r),!0).forEach(function(n){kK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kK(e,t,r){return t=SK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SK(e){var t=jK(e,"string");return Ic(t)=="symbol"?t:t+""}function jK(e,t){if(Ic(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OK(e,t){if(e==null)return{};var r=_K(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _K(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function PK(e,t){var r=e.x,n=e.y,a=OK(e,wK),o="".concat(r),i=parseInt(o,10),s="".concat(n),l=parseInt(s,10),c="".concat(t.height||a.height),u=parseInt(c,10),f="".concat(t.width||a.width),h=parseInt(f,10);return kl(kl(kl(kl(kl({},t),a),i?{x:i}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function Iw(e){return C.createElement(Wg,Gg({shapeType:"rectangle",propTransformer:PK,activeClassName:"recharts-active-bar"},e))}var NK=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var o=se(n)||WT(n);return o?t(n,a):(o||mi(),r)}},AK=["value","background"],__;function js(e){"@babel/helpers - typeof";return js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},js(e)}function MK(e,t){if(e==null)return{};var r=CK(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function CK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hd(){return hd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hd.apply(this,arguments)}function Bw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bw(Object(r),!0).forEach(function(n){po(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,N_(n.key),n)}}function TK(e,t,r){return t&&Fw(e.prototype,t),r&&Fw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $K(e,t,r){return t=pd(t),DK(e,P_()?Reflect.construct(t,r||[],pd(e).constructor):t.apply(e,r))}function DK(e,t){if(t&&(js(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LK(e)}function LK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P_=function(){return!!e})()}function pd(e){return pd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pd(e)}function RK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hg(e,t)}function Hg(e,t){return Hg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Hg(e,t)}function po(e,t,r){return t=N_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N_(e){var t=IK(e,"string");return js(t)=="symbol"?t:t+""}function IK(e,t){if(js(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(js(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var eu=function(e){function t(){var r;EK(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=$K(this,t,[].concat(a)),po(r,"state",{isAnimationFinished:!1}),po(r,"id",ki("recharts-bar-")),po(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),i&&i()}),po(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),i&&i()}),r}return RK(t,e),TK(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,o=this.props,i=o.shape,s=o.dataKey,l=o.activeIndex,c=o.activeBar,u=Re(this.props,!1);return n&&n.map(function(f,h){var p=h===l,m=p?c:i,v=lr(lr(lr({},u),f),{},{isActive:p,option:m,index:h,dataKey:s,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return C.createElement(ft,hd({className:"recharts-bar-rectangle"},sc(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),C.createElement(Iw,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,o=a.data,i=a.layout,s=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,f=a.animationId,h=this.state.prevData;return C.createElement(sa,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,v=o.map(function(x,y){var g=h&&h[y];if(g){var b=or(g.x,x.x),k=or(g.y,x.y),w=or(g.width,x.width),S=or(g.height,x.height);return lr(lr({},x),{},{x:b(m),y:k(m),width:w(m),height:S(m)})}if(i==="horizontal"){var j=or(0,x.height),_=j(m);return lr(lr({},x),{},{y:x.y+x.height-_,height:_})}var P=or(0,x.width),N=P(m);return lr(lr({},x),{},{width:N})});return C.createElement(ft,null,n.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,o=n.isAnimationActive,i=this.state.prevData;return o&&a&&a.length&&(!i||!pi(i,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,o=a.data,i=a.dataKey,s=a.activeIndex,l=Re(this.props.background,!1);return o.map(function(c,u){c.value;var f=c.background,h=MK(c,AK);if(!f)return null;var p=lr(lr(lr(lr(lr({},h),{},{fill:"#eee"},f),l),sc(n.props,c,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:i,index:u,className:"recharts-bar-background-rectangle"});return C.createElement(Iw,hd({key:"background-bar-".concat(u),option:n.props.background,isActive:u===s},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.data,s=o.xAxis,l=o.yAxis,c=o.layout,u=o.children,f=hn(u,Js);if(!f)return null;var h=c==="vertical"?i[0].height/2:i[0].width/2,p=function(x,y){var g=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:g,errorVal:yr(x,y)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return C.createElement(ft,m,f.map(function(v){return C.cloneElement(v,{key:"error-bar-".concat(a,"-").concat(v.props.dataKey),data:i,xAxis:s,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,o=n.data,i=n.className,s=n.xAxis,l=n.yAxis,c=n.left,u=n.top,f=n.width,h=n.height,p=n.isAnimationActive,m=n.background,v=n.id;if(a||!o||!o.length)return null;var x=this.state.isAnimationFinished,y=tt("recharts-bar",i),g=s&&s.allowDataOverflow,b=l&&l.allowDataOverflow,k=g||b,w=De(v)?this.id:v;return C.createElement(ft,{className:y},g||b?C.createElement("defs",null,C.createElement("clipPath",{id:"clipPath-".concat(w)},C.createElement("rect",{x:g?c:c-f/2,y:b?u:u-h/2,width:g?f:f*2,height:b?h:h*2}))):null,C.createElement(ft,{className:"recharts-bar-rectangles",clipPath:k?"url(#clipPath-".concat(w,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(k,w),(!p||x)&&ka.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(O.PureComponent);__=eu;po(eu,"displayName","Bar");po(eu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Eo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});po(eu,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,o=e.xAxis,i=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,f=e.displayedData,h=e.offset,p=fW(n,r);if(!p)return null;var m=t.layout,v=r.type.defaultProps,x=v!==void 0?lr(lr({},v),r.props):r.props,y=x.dataKey,g=x.children,b=x.minPointSize,k=m==="horizontal"?i:o,w=c?k.scale.domain():null,S=xW({numericAxis:k}),j=hn(g,Cy),_=f.map(function(P,N){var A,M,B,I,D,L;c?A=dW(c[u+N],w):(A=yr(P,y),Array.isArray(A)||(A=[S,A]));var F=NK(b,__.defaultProps.minPointSize)(A[1],N);if(m==="horizontal"){var $,z=[i.scale(A[0]),i.scale(A[1])],W=z[0],ee=z[1];M=W1({axis:o,ticks:s,bandSize:a,offset:p.offset,entry:P,index:N}),B=($=ee??W)!==null&&$!==void 0?$:void 0,I=p.size;var K=W-ee;if(D=Number.isNaN(K)?0:K,L={x:M,y:i.y,width:I,height:i.height},Math.abs(F)>0&&Math.abs(D)<Math.abs(F)){var q=na(D||F)*(Math.abs(F)-Math.abs(D));B-=q,D+=q}}else{var U=[o.scale(A[0]),o.scale(A[1])],fe=U[0],ie=U[1];if(M=fe,B=W1({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:P,index:N}),I=ie-fe,D=p.size,L={x:o.x,y:B,width:o.width,height:D},Math.abs(F)>0&&Math.abs(I)<Math.abs(F)){var _e=na(I||F)*(Math.abs(F)-Math.abs(I));I+=_e}}return lr(lr(lr({},P),{},{x:M,y:B,width:I,height:D,value:c?A:A[1],payload:P,background:L},j&&j[N]&&j[N].props),{},{tooltipPayload:[i_(r,P)],tooltipPosition:{x:M+I/2,y:B+D/2}})});return lr({data:_,layout:m},h)});function Bc(e){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bc(e)}function BK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,A_(n.key),n)}}function FK(e,t,r){return t&&zw(e.prototype,t),r&&zw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ww(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ww(Object(r),!0).forEach(function(n){Oh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ww(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oh(e,t,r){return t=A_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A_(e){var t=zK(e,"string");return Bc(t)=="symbol"?t:t+""}function zK(e,t){if(Bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var av=function(t,r,n,a,o){var i=t.width,s=t.height,l=t.layout,c=t.children,u=Object.keys(r),f={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!xn(c,eu);return u.reduce(function(p,m){var v=r[m],x=v.orientation,y=v.domain,g=v.padding,b=g===void 0?{}:g,k=v.mirror,w=v.reversed,S="".concat(x).concat(k?"Mirror":""),j,_,P,N,A;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var M=y[1]-y[0],B=1/0,I=v.categoricalDomain.sort(VT);if(I.forEach(function(U,fe){fe>0&&(B=Math.min((U||0)-(I[fe-1]||0),B))}),Number.isFinite(B)){var D=B/M,L=v.layout==="vertical"?n.height:n.width;if(v.padding==="gap"&&(j=D*L/2),v.padding==="no-gap"){var F=hi(t.barCategoryGap,D*L),$=D*L/2;j=$-F-($-F)/L*F}}}a==="xAxis"?_=[n.left+(b.left||0)+(j||0),n.left+n.width-(b.right||0)-(j||0)]:a==="yAxis"?_=l==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(j||0),n.top+n.height-(b.bottom||0)-(j||0)]:_=v.range,w&&(_=[_[1],_[0]]);var z=cW(v,o,h),W=z.scale,ee=z.realScaleType;W.domain(y).range(_),uW(W);var K=vW(W,Jn(Jn({},v),{},{realScaleType:ee}));a==="xAxis"?(A=x==="top"&&!k||x==="bottom"&&k,P=n.left,N=f[S]-A*v.height):a==="yAxis"&&(A=x==="left"&&!k||x==="right"&&k,P=f[S]-A*v.width,N=n.top);var q=Jn(Jn(Jn({},v),K),{},{realScaleType:ee,x:P,y:N,scale:W,width:a==="xAxis"?n.width:v.width,height:a==="yAxis"?n.height:v.height});return q.bandSize=ed(q,K),!v.hide&&a==="xAxis"?f[S]+=(A?-1:1)*q.height:v.hide||(f[S]+=(A?-1:1)*q.width),Jn(Jn({},p),{},Oh({},m,q))},{})},M_=function(t,r){var n=t.x,a=t.y,o=r.x,i=r.y;return{x:Math.min(n,o),y:Math.min(a,i),width:Math.abs(o-n),height:Math.abs(i-a)}},WK=function(t){var r=t.x1,n=t.y1,a=t.x2,o=t.y2;return M_({x:r,y:n},{x:a,y:o})},C_=function(){function e(t){BK(this,e),this.scale=t}return FK(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],o=n[n.length-1];return a<=o?r>=a&&r<=o:r>=o&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Oh(C_,"EPS",1e-4);var ov=function(t){var r=Object.keys(t).reduce(function(n,a){return Jn(Jn({},n),{},Oh({},a,C_.create(t[a])))},{});return Jn(Jn({},r),{},{apply:function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=o.bandAware,s=o.position;return lK(a,function(l,c){return r[c].apply(l,{bandAware:i,position:s})})},isInRange:function(a){return O_(a,function(o,i){return r[i].isInRange(o)})}})};function UK(e){return(e%180+180)%180}var GK=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=UK(a),i=o*Math.PI/180,s=Math.atan(n/r),l=i>s&&i<Math.PI-s?n/Math.sin(i):r/Math.cos(i);return Math.abs(l)},HK=Co,VK=qc,KK=uh;function XK(e){return function(t,r,n){var a=Object(t);if(!VK(t)){var o=HK(r);t=KK(t),r=function(s){return o(a[s],s,a)}}var i=e(t,r,n);return i>-1?a[o?t[i]:i]:void 0}}var qK=XK,YK=w_;function QK(e){var t=YK(e),r=t%1;return t===t?r?t-r:t:0}var ZK=QK,JK=Fj,eX=Co,tX=ZK,rX=Math.max;function nX(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:tX(r);return a<0&&(a=rX(n+a,0)),JK(e,eX(t),a)}var aX=nX,oX=qK,iX=aX,sX=oX(iX),lX=sX;const cX=Ct(lX);var uX=XE(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),iv=O.createContext(void 0),sv=O.createContext(void 0),E_=O.createContext(void 0),T_=O.createContext({}),$_=O.createContext(void 0),D_=O.createContext(0),L_=O.createContext(0),Uw=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,o=r.offset,i=t.clipPathId,s=t.children,l=t.width,c=t.height,u=uX(o);return C.createElement(iv.Provider,{value:n},C.createElement(sv.Provider,{value:a},C.createElement(T_.Provider,{value:o},C.createElement(E_.Provider,{value:u},C.createElement($_.Provider,{value:i},C.createElement(D_.Provider,{value:c},C.createElement(L_.Provider,{value:l},s)))))))},fX=function(){return O.useContext($_)},R_=function(t){var r=O.useContext(iv);r==null&&mi();var n=r[t];return n==null&&mi(),n},dX=function(){var t=O.useContext(iv);return co(t)},hX=function(){var t=O.useContext(sv),r=cX(t,function(n){return O_(n.domain,Number.isFinite)});return r||co(t)},I_=function(t){var r=O.useContext(sv);r==null&&mi();var n=r[t];return n==null&&mi(),n},pX=function(){var t=O.useContext(E_);return t},gX=function(){return O.useContext(T_)},lv=function(){return O.useContext(L_)},cv=function(){return O.useContext(D_)};function Os(e){"@babel/helpers - typeof";return Os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Os(e)}function mX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,F_(n.key),n)}}function vX(e,t,r){return t&&yX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xX(e,t,r){return t=gd(t),bX(e,B_()?Reflect.construct(t,r||[],gd(e).constructor):t.apply(e,r))}function bX(e,t){if(t&&(Os(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wX(e)}function wX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B_=function(){return!!e})()}function gd(e){return gd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gd(e)}function kX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vg(e,t)}function Vg(e,t){return Vg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Vg(e,t)}function Gw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gw(Object(r),!0).forEach(function(n){uv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uv(e,t,r){return t=F_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F_(e){var t=SX(e,"string");return Os(t)=="symbol"?t:t+""}function SX(e,t){if(Os(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Os(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function jX(e,t){return NX(e)||PX(e,t)||_X(e,t)||OX()}function OX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _X(e,t){if(e){if(typeof e=="string")return Vw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vw(e,t)}}function Vw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function PX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function NX(e){if(Array.isArray(e))return e}function Kg(){return Kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kg.apply(this,arguments)}var AX=function(t,r){var n;return C.isValidElement(t)?n=C.cloneElement(t,r):Ie(t)?n=t(r):n=C.createElement("line",Kg({},r,{className:"recharts-reference-line-line"})),n},MX=function(t,r,n,a,o,i,s,l,c){var u=o.x,f=o.y,h=o.width,p=o.height;if(n){var m=c.y,v=t.y.apply(m,{position:i});if(Sa(c,"discard")&&!t.y.isInRange(v))return null;var x=[{x:u+h,y:v},{x:u,y:v}];return l==="left"?x.reverse():x}if(r){var y=c.x,g=t.x.apply(y,{position:i});if(Sa(c,"discard")&&!t.x.isInRange(g))return null;var b=[{x:g,y:f+p},{x:g,y:f}];return s==="top"?b.reverse():b}if(a){var k=c.segment,w=k.map(function(S){return t.apply(S,{position:i})});return Sa(c,"discard")&&eK(w,function(S){return!t.isInRange(S)})?null:w}return null};function CX(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,o=e.yAxisId,i=e.shape,s=e.className,l=e.alwaysShow,c=fX(),u=R_(a),f=I_(o),h=pX();if(!c||!h)return null;za(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=ov({x:u.scale,y:f.scale}),m=mr(t),v=mr(r),x=n&&n.length===2,y=MX(p,m,v,x,h,e.position,u.orientation,f.orientation,e);if(!y)return null;var g=jX(y,2),b=g[0],k=b.x,w=b.y,S=g[1],j=S.x,_=S.y,P=Sa(e,"hidden")?"url(#".concat(c,")"):void 0,N=Hw(Hw({clipPath:P},Re(e,!0)),{},{x1:k,y1:w,x2:j,y2:_});return C.createElement(ft,{className:tt("recharts-reference-line",s)},AX(i,N),Fr.renderCallByParent(e,WK({x1:k,y1:w,x2:j,y2:_})))}var Zo=function(e){function t(){return mX(this,t),xX(this,t,arguments)}return kX(t,e),vX(t,[{key:"render",value:function(){return C.createElement(CX,this.props)}}])}(C.Component);uv(Zo,"displayName","ReferenceLine");uv(Zo,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Xg(){return Xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xg.apply(this,arguments)}function _s(e){"@babel/helpers - typeof";return _s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_s(e)}function Kw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kw(Object(r),!0).forEach(function(n){_h(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,W_(n.key),n)}}function $X(e,t,r){return t&&TX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function DX(e,t,r){return t=md(t),LX(e,z_()?Reflect.construct(t,r||[],md(e).constructor):t.apply(e,r))}function LX(e,t){if(t&&(_s(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RX(e)}function RX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z_=function(){return!!e})()}function md(e){return md=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},md(e)}function IX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qg(e,t)}function qg(e,t){return qg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qg(e,t)}function _h(e,t,r){return t=W_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W_(e){var t=BX(e,"string");return _s(t)=="symbol"?t:t+""}function BX(e,t){if(_s(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var FX=function(t){var r=t.x,n=t.y,a=t.xAxis,o=t.yAxis,i=ov({x:a.scale,y:o.scale}),s=i.apply({x:r,y:n},{bandAware:!0});return Sa(t,"discard")&&!i.isInRange(s)?null:s},Ph=function(e){function t(){return EX(this,t),DX(this,t,arguments)}return IX(t,e),$X(t,[{key:"render",value:function(){var n=this.props,a=n.x,o=n.y,i=n.r,s=n.alwaysShow,l=n.clipPathId,c=mr(a),u=mr(o);if(za(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var f=FX(this.props);if(!f)return null;var h=f.x,p=f.y,m=this.props,v=m.shape,x=m.className,y=Sa(this.props,"hidden")?"url(#".concat(l,")"):void 0,g=Xw(Xw({clipPath:y},Re(this.props,!0)),{},{cx:h,cy:p});return C.createElement(ft,{className:tt("recharts-reference-dot",x)},t.renderDot(v,g),Fr.renderCallByParent(this.props,{x:h-i,y:p-i,width:2*i,height:2*i}))}}])}(C.Component);_h(Ph,"displayName","ReferenceDot");_h(Ph,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});_h(Ph,"renderDot",function(e,t){var r;return C.isValidElement(e)?r=C.cloneElement(e,t):Ie(e)?r=e(t):r=C.createElement(kh,Xg({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Yg(){return Yg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yg.apply(this,arguments)}function Ps(e){"@babel/helpers - typeof";return Ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ps(e)}function qw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qw(Object(r),!0).forEach(function(n){Nh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,G_(n.key),n)}}function UX(e,t,r){return t&&WX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function GX(e,t,r){return t=yd(t),HX(e,U_()?Reflect.construct(t,r||[],yd(e).constructor):t.apply(e,r))}function HX(e,t){if(t&&(Ps(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VX(e)}function VX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U_=function(){return!!e})()}function yd(e){return yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yd(e)}function KX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qg(e,t)}function Qg(e,t){return Qg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Qg(e,t)}function Nh(e,t,r){return t=G_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G_(e){var t=XX(e,"string");return Ps(t)=="symbol"?t:t+""}function XX(e,t){if(Ps(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ps(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qX=function(t,r,n,a,o){var i=o.x1,s=o.x2,l=o.y1,c=o.y2,u=o.xAxis,f=o.yAxis;if(!u||!f)return null;var h=ov({x:u.scale,y:f.scale}),p={x:t?h.x.apply(i,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:r?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(c,{position:"end"}):h.y.rangeMax};return Sa(o,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:M_(p,m)},tu=function(e){function t(){return zX(this,t),GX(this,t,arguments)}return KX(t,e),UX(t,[{key:"render",value:function(){var n=this.props,a=n.x1,o=n.x2,i=n.y1,s=n.y2,l=n.className,c=n.alwaysShow,u=n.clipPathId;za(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=mr(a),h=mr(o),p=mr(i),m=mr(s),v=this.props.shape;if(!f&&!h&&!p&&!m&&!v)return null;var x=qX(f,h,p,m,this.props);if(!x&&!v)return null;var y=Sa(this.props,"hidden")?"url(#".concat(u,")"):void 0;return C.createElement(ft,{className:tt("recharts-reference-area",l)},t.renderRect(v,Yw(Yw({clipPath:y},Re(this.props,!0)),x)),Fr.renderCallByParent(this.props,x))}}])}(C.Component);Nh(tu,"displayName","ReferenceArea");Nh(tu,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Nh(tu,"renderRect",function(e,t){var r;return C.isValidElement(e)?r=C.cloneElement(e,t):Ie(e)?r=e(t):r=C.createElement(nv,Yg({},t,{className:"recharts-reference-area-rect"})),r});function H_(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function YX(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return GK(n,r)}function QX(e,t,r){var n=r==="width",a=e.x,o=e.y,i=e.width,s=e.height;return t===1?{start:n?a:o,end:n?a+i:o+s}:{start:n?a+i:o+s,end:n?a:o}}function vd(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var o=r();return e*(t-e*o/2-n)>=0&&e*(t+e*o/2-a)<=0}function ZX(e,t){return H_(e,t+1)}function JX(e,t,r,n,a){for(var o=(n||[]).slice(),i=t.start,s=t.end,l=0,c=1,u=i,f=function(){var m=n==null?void 0:n[l];if(m===void 0)return{v:H_(n,c)};var v=l,x,y=function(){return x===void 0&&(x=r(m,v)),x},g=m.coordinate,b=l===0||vd(e,g,y,u,s);b||(l=0,u=i,c+=1),b&&(u=g+e*(y()/2+a),l+=c)},h;c<=o.length;)if(h=f(),h)return h.v;return[]}function Fc(e){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fc(e)}function Qw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qw(Object(r),!0).forEach(function(n){eq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eq(e,t,r){return t=tq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tq(e){var t=rq(e,"string");return Fc(t)=="symbol"?t:t+""}function rq(e,t){if(Fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nq(e,t,r,n,a){for(var o=(n||[]).slice(),i=o.length,s=t.start,l=t.end,c=function(h){var p=o[h],m,v=function(){return m===void 0&&(m=r(p,h)),m};if(h===i-1){var x=e*(p.coordinate+e*v()/2-l);o[h]=p=Ir(Ir({},p),{},{tickCoord:x>0?p.coordinate-x*e:p.coordinate})}else o[h]=p=Ir(Ir({},p),{},{tickCoord:p.coordinate});var y=vd(e,p.tickCoord,v,s,l);y&&(l=p.tickCoord-e*(v()/2+a),o[h]=Ir(Ir({},p),{},{isShow:!0}))},u=i-1;u>=0;u--)c(u);return o}function aq(e,t,r,n,a,o){var i=(n||[]).slice(),s=i.length,l=t.start,c=t.end;if(o){var u=n[s-1],f=r(u,s-1),h=e*(u.coordinate+e*f/2-c);i[s-1]=u=Ir(Ir({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate});var p=vd(e,u.tickCoord,function(){return f},l,c);p&&(c=u.tickCoord-e*(f/2+a),i[s-1]=Ir(Ir({},u),{},{isShow:!0}))}for(var m=o?s-1:s,v=function(g){var b=i[g],k,w=function(){return k===void 0&&(k=r(b,g)),k};if(g===0){var S=e*(b.coordinate-e*w()/2-l);i[g]=b=Ir(Ir({},b),{},{tickCoord:S<0?b.coordinate-S*e:b.coordinate})}else i[g]=b=Ir(Ir({},b),{},{tickCoord:b.coordinate});var j=vd(e,b.tickCoord,w,l,c);j&&(l=b.tickCoord+e*(w()/2+a),i[g]=Ir(Ir({},b),{},{isShow:!0}))},x=0;x<m;x++)v(x);return i}function fv(e,t,r){var n=e.tick,a=e.ticks,o=e.viewBox,i=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(se(l)||Eo.isSsr)return ZX(a,typeof l=="number"&&se(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",m=u&&p==="width"?Rl(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=function(b,k){var w=Ie(c)?c(b.value,k):b.value;return p==="width"?YX(Rl(w,{fontSize:t,letterSpacing:r}),m,f):Rl(w,{fontSize:t,letterSpacing:r})[p]},x=a.length>=2?na(a[1].coordinate-a[0].coordinate):1,y=QX(o,x,p);return l==="equidistantPreserveStart"?JX(x,y,v,a,i):(l==="preserveStart"||l==="preserveStartEnd"?h=aq(x,y,v,a,i,l==="preserveStartEnd"):h=nq(x,y,v,a,i),h.filter(function(g){return g.isShow}))}var oq=["viewBox"],iq=["viewBox"],sq=["ticks"];function Ns(e){"@babel/helpers - typeof";return Ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ns(e)}function Vi(){return Vi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vi.apply(this,arguments)}function Zw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zw(Object(r),!0).forEach(function(n){dv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dp(e,t){if(e==null)return{};var r=lq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function cq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,K_(n.key),n)}}function uq(e,t,r){return t&&Jw(e.prototype,t),r&&Jw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function fq(e,t,r){return t=xd(t),dq(e,V_()?Reflect.construct(t,r||[],xd(e).constructor):t.apply(e,r))}function dq(e,t){if(t&&(Ns(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hq(e)}function hq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V_=function(){return!!e})()}function xd(e){return xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xd(e)}function pq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zg(e,t)}function Zg(e,t){return Zg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Zg(e,t)}function dv(e,t,r){return t=K_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K_(e){var t=gq(e,"string");return Ns(t)=="symbol"?t:t+""}function gq(e,t){if(Ns(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ns(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var el=function(e){function t(r){var n;return cq(this,t),n=fq(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return pq(t,e),uq(t,[{key:"shouldComponentUpdate",value:function(n,a){var o=n.viewBox,i=Dp(n,oq),s=this.props,l=s.viewBox,c=Dp(s,iq);return!es(o,l)||!es(i,c)||!es(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,o=a.x,i=a.y,s=a.width,l=a.height,c=a.orientation,u=a.tickSize,f=a.mirror,h=a.tickMargin,p,m,v,x,y,g,b=f?-1:1,k=n.tickSize||u,w=se(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":p=m=n.coordinate,x=i+ +!f*l,v=x-b*k,g=v-b*h,y=w;break;case"left":v=x=n.coordinate,m=o+ +!f*s,p=m-b*k,y=p-b*h,g=w;break;case"right":v=x=n.coordinate,m=o+ +f*s,p=m+b*k,y=p+b*h,g=w;break;default:p=m=n.coordinate,x=i+ +f*l,v=x+b*k,g=v+b*h,y=w;break}return{line:{x1:p,y1:v,x2:m,y2:x},tick:{x:y,y:g}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,o=n.mirror,i;switch(a){case"left":i=o?"start":"end";break;case"right":i=o?"end":"start";break;default:i="middle";break}return i}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,o=n.mirror,i="end";switch(a){case"left":case"right":i="middle";break;case"top":i=o?"start":"end";break;default:i=o?"end":"start";break}return i}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.orientation,c=n.mirror,u=n.axisLine,f=dr(dr(dr({},Re(this.props,!1)),Re(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=dr(dr({},f),{},{x1:a,y1:o+h*s,x2:a+i,y2:o+h*s})}else{var p=+(l==="left"&&!c||l==="right"&&c);f=dr(dr({},f),{},{x1:a+p*i,y1:o,x2:a+p*i,y2:o+s})}return C.createElement("line",Vi({},f,{className:tt("recharts-cartesian-axis-line",Bn(u,"className"))}))}},{key:"renderTicks",value:function(n,a,o){var i=this,s=this.props,l=s.tickLine,c=s.stroke,u=s.tick,f=s.tickFormatter,h=s.unit,p=fv(dr(dr({},this.props),{},{ticks:n}),a,o),m=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),x=Re(this.props,!1),y=Re(u,!1),g=dr(dr({},x),{},{fill:"none"},Re(l,!1)),b=p.map(function(k,w){var S=i.getTickLineCoord(k),j=S.line,_=S.tick,P=dr(dr(dr(dr({textAnchor:m,verticalAnchor:v},x),{},{stroke:"none",fill:c},y),_),{},{index:w,payload:k,visibleTicksCount:p.length,tickFormatter:f});return C.createElement(ft,Vi({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},sc(i.props,k,w)),l&&C.createElement("line",Vi({},g,j,{className:tt("recharts-cartesian-axis-tick-line",Bn(l,"className"))})),u&&t.renderTickItem(u,P,"".concat(Ie(f)?f(k.value,w):k.value).concat(h||"")))});return C.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,a=this.props,o=a.axisLine,i=a.width,s=a.height,l=a.ticksGenerator,c=a.className,u=a.hide;if(u)return null;var f=this.props,h=f.ticks,p=Dp(f,sq),m=h;return Ie(l)&&(m=h&&h.length>0?l(this.props):l(p)),i<=0||s<=0||!m||!m.length?null:C.createElement(ft,{className:tt("recharts-cartesian-axis",c),ref:function(x){n.layerReference=x}},o&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),Fr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,o){var i,s=tt(a.className,"recharts-cartesian-axis-tick-value");return C.isValidElement(n)?i=C.cloneElement(n,dr(dr({},a),{},{className:s})):Ie(n)?i=n(dr(dr({},a),{},{className:s})):i=C.createElement(Ff,Vi({},a,{className:"recharts-cartesian-axis-tick-value"}),o),i}}])}(O.Component);dv(el,"displayName","CartesianAxis");dv(el,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var mq=["x1","y1","x2","y2","key"],yq=["offset"];function yi(e){"@babel/helpers - typeof";return yi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yi(e)}function e2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e2(Object(r),!0).forEach(function(n){vq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vq(e,t,r){return t=xq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xq(e){var t=bq(e,"string");return yi(t)=="symbol"?t:t+""}function bq(e,t){if(yi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jo(){return Jo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jo.apply(this,arguments)}function t2(e,t){if(e==null)return{};var r=wq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var kq=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,o=t.y,i=t.width,s=t.height,l=t.ry;return C.createElement("rect",{x:a,y:o,ry:l,width:i,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function X_(e,t){var r;if(C.isValidElement(e))r=C.cloneElement(e,t);else if(Ie(e))r=e(t);else{var n=t.x1,a=t.y1,o=t.x2,i=t.y2,s=t.key,l=t2(t,mq),c=Re(l,!1);c.offset;var u=t2(c,yq);r=C.createElement("line",Jo({},u,{x1:n,y1:a,x2:o,y2:i,fill:"none",key:s}))}return r}function Sq(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,o=e.horizontalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(s,l){var c=zr(zr({},e),{},{x1:t,y1:s,x2:t+r,y2:s,key:"line-".concat(l),index:l});return X_(a,c)});return C.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function jq(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,o=e.verticalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(s,l){var c=zr(zr({},e),{},{x1:s,y1:t,x2:s,y2:t+r,key:"line-".concat(l),index:l});return X_(a,c)});return C.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function Oq(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,o=e.width,i=e.height,s=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var u=s.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var m=!u[p+1],v=m?a+i-h:u[p+1]-h;if(v<=0)return null;var x=p%t.length;return C.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:v,width:o,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function _q(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,o=e.x,i=e.y,s=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(h){return Math.round(h+o-o)}).sort(function(h,p){return h-p});o!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var m=!u[p+1],v=m?o+s-h:u[p+1]-h;if(v<=0)return null;var x=p%n.length;return C.createElement("rect",{key:"react-".concat(p),x:h,y:i,width:v,height:l,stroke:"none",fill:n[x],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Pq=function(t,r){var n=t.xAxis,a=t.width,o=t.height,i=t.offset;return a_(fv(zr(zr(zr({},el.defaultProps),n),{},{ticks:Ia(n,!0),viewBox:{x:0,y:0,width:a,height:o}})),i.left,i.left+i.width,r)},Nq=function(t,r){var n=t.yAxis,a=t.width,o=t.height,i=t.offset;return a_(fv(zr(zr(zr({},el.defaultProps),n),{},{ticks:Ia(n,!0),viewBox:{x:0,y:0,width:a,height:o}})),i.top,i.top+i.height,r)},Ci={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function vi(e){var t,r,n,a,o,i,s=lv(),l=cv(),c=gX(),u=zr(zr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Ci.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Ci.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Ci.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Ci.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:Ci.vertical,verticalFill:(i=e.verticalFill)!==null&&i!==void 0?i:Ci.verticalFill,x:se(e.x)?e.x:c.left,y:se(e.y)?e.y:c.top,width:se(e.width)?e.width:c.width,height:se(e.height)?e.height:c.height}),f=u.x,h=u.y,p=u.width,m=u.height,v=u.syncWithTicks,x=u.horizontalValues,y=u.verticalValues,g=dX(),b=hX();if(!se(p)||p<=0||!se(m)||m<=0||!se(f)||f!==+f||!se(h)||h!==+h)return null;var k=u.verticalCoordinatesGenerator||Pq,w=u.horizontalCoordinatesGenerator||Nq,S=u.horizontalPoints,j=u.verticalPoints;if((!S||!S.length)&&Ie(w)){var _=x&&x.length,P=w({yAxis:b?zr(zr({},b),{},{ticks:_?x:b.ticks}):void 0,width:s,height:l,offset:c},_?!0:v);za(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(yi(P),"]")),Array.isArray(P)&&(S=P)}if((!j||!j.length)&&Ie(k)){var N=y&&y.length,A=k({xAxis:g?zr(zr({},g),{},{ticks:N?y:g.ticks}):void 0,width:s,height:l,offset:c},N?!0:v);za(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(yi(A),"]")),Array.isArray(A)&&(j=A)}return C.createElement("g",{className:"recharts-cartesian-grid"},C.createElement(kq,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),C.createElement(Sq,Jo({},u,{offset:c,horizontalPoints:S,xAxis:g,yAxis:b})),C.createElement(jq,Jo({},u,{offset:c,verticalPoints:j,xAxis:g,yAxis:b})),C.createElement(Oq,Jo({},u,{horizontalPoints:S})),C.createElement(_q,Jo({},u,{verticalPoints:j})))}vi.displayName="CartesianGrid";var Aq=["type","layout","connectNulls","ref"],Mq=["key"];function As(e){"@babel/helpers - typeof";return As=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},As(e)}function r2(e,t){if(e==null)return{};var r=Cq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Cq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function zl(){return zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zl.apply(this,arguments)}function n2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n2(Object(r),!0).forEach(function(n){ea(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ei(e){return Dq(e)||$q(e)||Tq(e)||Eq()}function Eq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tq(e,t){if(e){if(typeof e=="string")return Jg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jg(e,t)}}function $q(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Dq(e){if(Array.isArray(e))return Jg(e)}function Jg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Lq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Y_(n.key),n)}}function Rq(e,t,r){return t&&a2(e.prototype,t),r&&a2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Iq(e,t,r){return t=bd(t),Bq(e,q_()?Reflect.construct(t,r||[],bd(e).constructor):t.apply(e,r))}function Bq(e,t){if(t&&(As(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fq(e)}function Fq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q_=function(){return!!e})()}function bd(e){return bd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bd(e)}function zq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&em(e,t)}function em(e,t){return em=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},em(e,t)}function ea(e,t,r){return t=Y_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y_(e){var t=Wq(e,"string");return As(t)=="symbol"?t:t+""}function Wq(e,t){if(As(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(As(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Wr=function(e){function t(){var r;Lq(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=Iq(this,t,[].concat(a)),ea(r,"state",{isAnimationFinished:!0,totalLength:0}),ea(r,"generateSimpleStrokeDasharray",function(i,s){return"".concat(s,"px ").concat(i-s,"px")}),ea(r,"getStrokeDasharray",function(i,s,l){var c=l.reduce(function(y,g){return y+g});if(!c)return r.generateSimpleStrokeDasharray(s,i);for(var u=Math.floor(i/c),f=i%c,h=s-i,p=[],m=0,v=0;m<l.length;v+=l[m],++m)if(v+l[m]>f){p=[].concat(Ei(l.slice(0,m)),[f-v]);break}var x=p.length%2===0?[0,h]:[h];return[].concat(Ei(t.repeat(l,u)),Ei(p),x).map(function(y){return"".concat(y,"px")}).join(", ")}),ea(r,"id",ki("recharts-line-")),ea(r,"pathRef",function(i){r.mainCurve=i}),ea(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),ea(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return zq(t,e),Rq(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.points,s=o.xAxis,l=o.yAxis,c=o.layout,u=o.children,f=hn(u,Js);if(!f)return null;var h=function(v,x){return{x:v.x,y:v.y,value:v.value,errorVal:yr(v.payload,x)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return C.createElement(ft,p,f.map(function(m){return C.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:i,xAxis:s,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,o){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,c=s.points,u=s.dataKey,f=Re(this.props,!1),h=Re(l,!0),p=c.map(function(v,x){var y=mn(mn(mn({key:"dot-".concat(x),r:3},f),h),{},{index:x,cx:v.x,cy:v.y,value:v.value,dataKey:u,payload:v.payload,points:c});return t.renderDotItem(l,y)}),m={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return C.createElement(ft,zl({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(n,a,o,i){var s=this.props,l=s.type,c=s.layout,u=s.connectNulls;s.ref;var f=r2(s,Aq),h=mn(mn(mn({},Re(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(o,")"):null,points:n},i),{},{type:l,layout:c,connectNulls:u});return C.createElement(ii,zl({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var o=this,i=this.props,s=i.points,l=i.strokeDasharray,c=i.isAnimationActive,u=i.animationBegin,f=i.animationDuration,h=i.animationEasing,p=i.animationId,m=i.animateNewValues,v=i.width,x=i.height,y=this.state,g=y.prevPoints,b=y.totalLength;return C.createElement(sa,{begin:u,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(k){var w=k.t;if(g){var S=g.length/s.length,j=s.map(function(M,B){var I=Math.floor(B*S);if(g[I]){var D=g[I],L=or(D.x,M.x),F=or(D.y,M.y);return mn(mn({},M),{},{x:L(w),y:F(w)})}if(m){var $=or(v*2,M.x),z=or(x/2,M.y);return mn(mn({},M),{},{x:$(w),y:z(w)})}return mn(mn({},M),{},{x:M.x,y:M.y})});return o.renderCurveStatically(j,n,a)}var _=or(0,b),P=_(w),N;if(l){var A="".concat(l).split(/[,\s]+/gim).map(function(M){return parseFloat(M)});N=o.getStrokeDasharray(P,b,A)}else N=o.generateSimpleStrokeDasharray(b,P);return o.renderCurveStatically(s,n,a,{strokeDasharray:N})})}},{key:"renderCurve",value:function(n,a){var o=this.props,i=o.points,s=o.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return s&&i&&i.length&&(!c&&u>0||!pi(c,i))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(i,n,a)}},{key:"render",value:function(){var n,a=this.props,o=a.hide,i=a.dot,s=a.points,l=a.className,c=a.xAxis,u=a.yAxis,f=a.top,h=a.left,p=a.width,m=a.height,v=a.isAnimationActive,x=a.id;if(o||!s||!s.length)return null;var y=this.state.isAnimationFinished,g=s.length===1,b=tt("recharts-line",l),k=c&&c.allowDataOverflow,w=u&&u.allowDataOverflow,S=k||w,j=De(x)?this.id:x,_=(n=Re(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=_.r,N=P===void 0?3:P,A=_.strokeWidth,M=A===void 0?2:A,B=QS(i)?i:{},I=B.clipDot,D=I===void 0?!0:I,L=N*2+M;return C.createElement(ft,{className:b},k||w?C.createElement("defs",null,C.createElement("clipPath",{id:"clipPath-".concat(j)},C.createElement("rect",{x:k?h:h-p/2,y:w?f:f-m/2,width:k?p:p*2,height:w?m:m*2})),!D&&C.createElement("clipPath",{id:"clipPath-dots-".concat(j)},C.createElement("rect",{x:h-L/2,y:f-L/2,width:p+L,height:m+L}))):null,!g&&this.renderCurve(S,j),this.renderErrorBar(S,j),(g||i)&&this.renderDots(S,D,j),(!v||y)&&ka.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var o=n.length%2!==0?[].concat(Ei(n),[0]):n,i=[],s=0;s<a;++s)i=[].concat(Ei(i),Ei(o));return i}},{key:"renderDotItem",value:function(n,a){var o;if(C.isValidElement(n))o=C.cloneElement(n,a);else if(Ie(n))o=n(a);else{var i=a.key,s=r2(a,Mq),l=tt("recharts-line-dot",typeof n!="boolean"?n.className:"");o=C.createElement(kh,zl({key:i},s,{className:l}))}return o}}])}(O.PureComponent);ea(Wr,"displayName","Line");ea(Wr,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Eo.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ea(Wr,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,i=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout,f=l.map(function(h,p){var m=yr(h,i);return u==="horizontal"?{x:bs({axis:r,ticks:a,bandSize:s,entry:h,index:p}),y:De(m)?null:n.scale(m),value:m,payload:h}:{x:De(m)?null:r.scale(m),y:bs({axis:n,ticks:o,bandSize:s,entry:h,index:p}),value:m,payload:h}});return mn({points:f,layout:u},c)});var Uq=["layout","type","stroke","connectNulls","isRange","ref"],Gq=["key"],Q_;function Ms(e){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ms(e)}function Z_(e,t){if(e==null)return{};var r=Hq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Hq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ei(){return ei=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ei.apply(this,arguments)}function o2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function no(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o2(Object(r),!0).forEach(function(n){va(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eP(n.key),n)}}function Kq(e,t,r){return t&&i2(e.prototype,t),r&&i2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xq(e,t,r){return t=wd(t),qq(e,J_()?Reflect.construct(t,r||[],wd(e).constructor):t.apply(e,r))}function qq(e,t){if(t&&(Ms(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yq(e)}function Yq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J_=function(){return!!e})()}function wd(e){return wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wd(e)}function Qq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tm(e,t)}function tm(e,t){return tm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},tm(e,t)}function va(e,t,r){return t=eP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eP(e){var t=Zq(e,"string");return Ms(t)=="symbol"?t:t+""}function Zq(e,t){if(Ms(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ms(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Rn=function(e){function t(){var r;Vq(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=Xq(this,t,[].concat(a)),va(r,"state",{isAnimationFinished:!0}),va(r,"id",ki("recharts-area-")),va(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ie(i)&&i()}),va(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ie(i)&&i()}),r}return Qq(t,e),Kq(t,[{key:"renderDots",value:function(n,a,o){var i=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(i&&!s)return null;var l=this.props,c=l.dot,u=l.points,f=l.dataKey,h=Re(this.props,!1),p=Re(c,!0),m=u.map(function(x,y){var g=no(no(no({key:"dot-".concat(y),r:3},h),p),{},{index:y,cx:x.x,cy:x.y,dataKey:f,value:x.value,payload:x.payload,points:u});return t.renderDotItem(c,g)}),v={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return C.createElement(ft,ei({className:"recharts-area-dots"},v),m)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,o=a.baseLine,i=a.points,s=a.strokeWidth,l=i[0].x,c=i[i.length-1].x,u=n*Math.abs(l-c),f=ho(i.map(function(h){return h.y||0}));return se(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(ho(o.map(function(h){return h.y||0})),f)),se(f)?C.createElement("rect",{x:l<c?l:l-u,y:0,width:u,height:Math.floor(f+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,o=a.baseLine,i=a.points,s=a.strokeWidth,l=i[0].y,c=i[i.length-1].y,u=n*Math.abs(l-c),f=ho(i.map(function(h){return h.x||0}));return se(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(ho(o.map(function(h){return h.x||0})),f)),se(f)?C.createElement("rect",{x:0,y:l<c?l:l-u,width:f+(s?parseInt("".concat(s),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,o,i){var s=this.props,l=s.layout,c=s.type,u=s.stroke,f=s.connectNulls,h=s.isRange;s.ref;var p=Z_(s,Uq);return C.createElement(ft,{clipPath:o?"url(#clipPath-".concat(i,")"):null},C.createElement(ii,ei({},Re(p,!0),{points:n,connectNulls:f,type:c,baseLine:a,layout:l,stroke:"none",className:"recharts-area-area"})),u!=="none"&&C.createElement(ii,ei({},Re(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:n})),u!=="none"&&h&&C.createElement(ii,ei({},Re(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var o=this,i=this.props,s=i.points,l=i.baseLine,c=i.isAnimationActive,u=i.animationBegin,f=i.animationDuration,h=i.animationEasing,p=i.animationId,m=this.state,v=m.prevPoints,x=m.prevBaseLine;return C.createElement(sa,{begin:u,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var g=y.t;if(v){var b=v.length/s.length,k=s.map(function(_,P){var N=Math.floor(P*b);if(v[N]){var A=v[N],M=or(A.x,_.x),B=or(A.y,_.y);return no(no({},_),{},{x:M(g),y:B(g)})}return _}),w;if(se(l)&&typeof l=="number"){var S=or(x,l);w=S(g)}else if(De(l)||Vs(l)){var j=or(x,0);w=j(g)}else w=l.map(function(_,P){var N=Math.floor(P*b);if(x[N]){var A=x[N],M=or(A.x,_.x),B=or(A.y,_.y);return no(no({},_),{},{x:M(g),y:B(g)})}return _});return o.renderAreaStatically(k,w,n,a)}return C.createElement(ft,null,C.createElement("defs",null,C.createElement("clipPath",{id:"animationClipPath-".concat(a)},o.renderClipRect(g))),C.createElement(ft,{clipPath:"url(#animationClipPath-".concat(a,")")},o.renderAreaStatically(s,l,n,a)))})}},{key:"renderArea",value:function(n,a){var o=this.props,i=o.points,s=o.baseLine,l=o.isAnimationActive,c=this.state,u=c.prevPoints,f=c.prevBaseLine,h=c.totalLength;return l&&i&&i.length&&(!u&&h>0||!pi(u,i)||!pi(f,s))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(i,s,n,a)}},{key:"render",value:function(){var n,a=this.props,o=a.hide,i=a.dot,s=a.points,l=a.className,c=a.top,u=a.left,f=a.xAxis,h=a.yAxis,p=a.width,m=a.height,v=a.isAnimationActive,x=a.id;if(o||!s||!s.length)return null;var y=this.state.isAnimationFinished,g=s.length===1,b=tt("recharts-area",l),k=f&&f.allowDataOverflow,w=h&&h.allowDataOverflow,S=k||w,j=De(x)?this.id:x,_=(n=Re(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=_.r,N=P===void 0?3:P,A=_.strokeWidth,M=A===void 0?2:A,B=QS(i)?i:{},I=B.clipDot,D=I===void 0?!0:I,L=N*2+M;return C.createElement(ft,{className:b},k||w?C.createElement("defs",null,C.createElement("clipPath",{id:"clipPath-".concat(j)},C.createElement("rect",{x:k?u:u-p/2,y:w?c:c-m/2,width:k?p:p*2,height:w?m:m*2})),!D&&C.createElement("clipPath",{id:"clipPath-dots-".concat(j)},C.createElement("rect",{x:u-L/2,y:c-L/2,width:p+L,height:m+L}))):null,g?null:this.renderArea(S,j),(i||g)&&this.renderDots(S,D,j),(!v||y)&&ka.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(O.PureComponent);Q_=Rn;va(Rn,"displayName","Area");va(Rn,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Eo.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});va(Rn,"getBaseValue",function(e,t,r,n){var a=e.layout,o=e.baseValue,i=t.props.baseValue,s=i??o;if(se(s)&&typeof s=="number")return s;var l=a==="horizontal"?n:r,c=l.scale.domain();if(l.type==="number"){var u=Math.max(c[0],c[1]),f=Math.min(c[0],c[1]);return s==="dataMin"?f:s==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return s==="dataMin"?c[0]:s==="dataMax"?c[1]:c[0]});va(Rn,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,o=e.xAxisTicks,i=e.yAxisTicks,s=e.bandSize,l=e.dataKey,c=e.stackedData,u=e.dataStartIndex,f=e.displayedData,h=e.offset,p=t.layout,m=c&&c.length,v=Q_.getBaseValue(t,r,n,a),x=p==="horizontal",y=!1,g=f.map(function(k,w){var S;m?S=c[u+w]:(S=yr(k,l),Array.isArray(S)?y=!0:S=[v,S]);var j=S[1]==null||m&&yr(k,l)==null;return x?{x:bs({axis:n,ticks:o,bandSize:s,entry:k,index:w}),y:j?null:a.scale(S[1]),value:S,payload:k}:{x:j?null:n.scale(S[1]),y:bs({axis:a,ticks:i,bandSize:s,entry:k,index:w}),value:S,payload:k}}),b;return m||y?b=g.map(function(k){var w=Array.isArray(k.value)?k.value[0]:null;return x?{x:k.x,y:w!=null&&k.y!=null?a.scale(w):null}:{x:w!=null?n.scale(w):null,y:k.y}}):b=x?a.scale(v):n.scale(v),no({points:g,baseLine:b,layout:p,isRange:y},h)});va(Rn,"renderDotItem",function(e,t){var r;if(C.isValidElement(e))r=C.cloneElement(e,t);else if(Ie(e))r=e(t);else{var n=tt("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,o=Z_(t,Gq);r=C.createElement(kh,ei({},o,{key:a,className:n}))}return r});function Cs(e){"@babel/helpers - typeof";return Cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cs(e)}function Jq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nP(n.key),n)}}function tY(e,t,r){return t&&eY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rY(e,t,r){return t=kd(t),nY(e,tP()?Reflect.construct(t,r||[],kd(e).constructor):t.apply(e,r))}function nY(e,t){if(t&&(Cs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aY(e)}function aY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tP=function(){return!!e})()}function kd(e){return kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kd(e)}function oY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rm(e,t)}function rm(e,t){return rm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rm(e,t)}function rP(e,t,r){return t=nP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nP(e){var t=iY(e,"string");return Cs(t)=="symbol"?t:t+""}function iY(e,t){if(Cs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ah=function(e){function t(){return Jq(this,t),rY(this,t,arguments)}return oY(t,e),tY(t,[{key:"render",value:function(){return null}}])}(O.Component);rP(Ah,"displayName","ZAxis");rP(Ah,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var sY=["option","isActive"];function Wl(){return Wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wl.apply(this,arguments)}function lY(e,t){if(e==null)return{};var r=cY(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uY(e){var t=e.option,r=e.isActive,n=lY(e,sY);return typeof t=="string"?O.createElement(Wg,Wl({option:O.createElement(ch,Wl({type:t},n)),isActive:r,shapeType:"symbols"},n)):O.createElement(Wg,Wl({option:t,isActive:r,shapeType:"symbols"},n))}function Es(e){"@babel/helpers - typeof";return Es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Es(e)}function Ul(){return Ul=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ul.apply(this,arguments)}function s2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function En(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s2(Object(r),!0).forEach(function(n){go(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oP(n.key),n)}}function dY(e,t,r){return t&&l2(e.prototype,t),r&&l2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function hY(e,t,r){return t=Sd(t),pY(e,aP()?Reflect.construct(t,r||[],Sd(e).constructor):t.apply(e,r))}function pY(e,t){if(t&&(Es(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gY(e)}function gY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aP=function(){return!!e})()}function Sd(e){return Sd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sd(e)}function mY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nm(e,t)}function nm(e,t){return nm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nm(e,t)}function go(e,t,r){return t=oP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oP(e){var t=yY(e,"string");return Es(t)=="symbol"?t:t+""}function yY(e,t){if(Es(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Es(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var on=function(e){function t(){var r;fY(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=hY(this,t,[].concat(a)),go(r,"state",{isAnimationFinished:!1}),go(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),go(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),go(r,"id",ki("recharts-scatter-")),r}return mY(t,e),dY(t,[{key:"renderSymbolsStatically",value:function(n){var a=this,o=this.props,i=o.shape,s=o.activeShape,l=o.activeIndex,c=Re(this.props,!1);return n.map(function(u,f){var h=l===f,p=h?s:i,m=En(En({},c),u);return C.createElement(ft,Ul({className:"recharts-scatter-symbol",key:"symbol-".concat(u==null?void 0:u.cx,"-").concat(u==null?void 0:u.cy,"-").concat(u==null?void 0:u.size,"-").concat(f)},sc(a.props,u,f),{role:"img"}),C.createElement(uY,Ul({option:p,isActive:h,key:"symbol-".concat(f)},m)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,a=this.props,o=a.points,i=a.isAnimationActive,s=a.animationBegin,l=a.animationDuration,c=a.animationEasing,u=a.animationId,f=this.state.prevPoints;return C.createElement(sa,{begin:s,duration:l,isActive:i,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var p=h.t,m=o.map(function(v,x){var y=f&&f[x];if(y){var g=or(y.cx,v.cx),b=or(y.cy,v.cy),k=or(y.size,v.size);return En(En({},v),{},{cx:g(p),cy:b(p),size:k(p)})}var w=or(0,v.size);return En(En({},v),{},{size:w(p)})});return C.createElement(ft,null,n.renderSymbolsStatically(m))})}},{key:"renderSymbols",value:function(){var n=this.props,a=n.points,o=n.isAnimationActive,i=this.state.prevPoints;return o&&a&&a.length&&(!i||!pi(i,a))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(a)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,i=a.xAxis,s=a.yAxis,l=a.children,c=hn(l,Js);return c?c.map(function(u,f){var h=u.props,p=h.direction,m=h.dataKey;return C.cloneElement(u,{key:"".concat(p,"-").concat(m,"-").concat(o[f]),data:o,xAxis:i,yAxis:s,layout:p==="x"?"vertical":"horizontal",dataPointFormatter:function(x,y){return{x:x.cx,y:x.cy,value:p==="x"?+x.node.x:+x.node.y,errorVal:yr(x,y)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,a=n.points,o=n.line,i=n.lineType,s=n.lineJointType,l=Re(this.props,!1),c=Re(o,!1),u,f;if(i==="joint")u=a.map(function(b){return{x:b.cx,y:b.cy}});else if(i==="fitting"){var h=HT(a),p=h.xmin,m=h.xmax,v=h.a,x=h.b,y=function(k){return v*k+x};u=[{x:p,y:y(p)},{x:m,y:y(m)}]}var g=En(En(En({},l),{},{fill:"none",stroke:l&&l.fill},c),{},{points:u});return C.isValidElement(o)?f=C.cloneElement(o,g):Ie(o)?f=o(g):f=C.createElement(ii,Ul({},g,{type:s})),C.createElement(ft,{className:"recharts-scatter-line",key:"recharts-scatter-line"},f)}},{key:"render",value:function(){var n=this.props,a=n.hide,o=n.points,i=n.line,s=n.className,l=n.xAxis,c=n.yAxis,u=n.left,f=n.top,h=n.width,p=n.height,m=n.id,v=n.isAnimationActive;if(a||!o||!o.length)return null;var x=this.state.isAnimationFinished,y=tt("recharts-scatter",s),g=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,k=g||b,w=De(m)?this.id:m;return C.createElement(ft,{className:y,clipPath:k?"url(#clipPath-".concat(w,")"):null},g||b?C.createElement("defs",null,C.createElement("clipPath",{id:"clipPath-".concat(w)},C.createElement("rect",{x:g?u:u-h/2,y:b?f:f-p/2,width:g?h:h*2,height:b?p:p*2}))):null,i&&this.renderLine(),this.renderErrorBar(),C.createElement(ft,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!v||x)&&ka.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}}])}(O.PureComponent);go(on,"displayName","Scatter");go(on,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Eo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});go(on,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,n=e.zAxis,a=e.item,o=e.displayedData,i=e.xAxisTicks,s=e.yAxisTicks,l=e.offset,c=a.props.tooltipType,u=hn(a.props.children,Cy),f=De(t.dataKey)?a.props.dataKey:t.dataKey,h=De(r.dataKey)?a.props.dataKey:r.dataKey,p=n&&n.dataKey,m=n?n.range:Ah.defaultProps.range,v=m&&m[0],x=t.scale.bandwidth?t.scale.bandwidth():0,y=r.scale.bandwidth?r.scale.bandwidth():0,g=o.map(function(b,k){var w=yr(b,f),S=yr(b,h),j=!De(p)&&yr(b,p)||"-",_=[{name:De(t.dataKey)?a.props.name:t.name||t.dataKey,unit:t.unit||"",value:w,payload:b,dataKey:f,type:c},{name:De(r.dataKey)?a.props.name:r.name||r.dataKey,unit:r.unit||"",value:S,payload:b,dataKey:h,type:c}];j!=="-"&&_.push({name:n.name||n.dataKey,unit:n.unit||"",value:j,payload:b,dataKey:p,type:c});var P=bs({axis:t,ticks:i,bandSize:x,entry:b,index:k,dataKey:f}),N=bs({axis:r,ticks:s,bandSize:y,entry:b,index:k,dataKey:h}),A=j!=="-"?n.scale(j):v,M=Math.sqrt(Math.max(A,0)/Math.PI);return En(En({},b),{},{cx:P,cy:N,x:P-M,y:N-M,xAxis:t,yAxis:r,zAxis:n,width:2*M,height:2*M,size:A,node:{x:w,y:S,z:j},tooltipPayload:_,tooltipPosition:{x:P,y:N},payload:b},u&&u[k]&&u[k].props)});return En({points:g},l)});function Ts(e){"@babel/helpers - typeof";return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ts(e)}function vY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lP(n.key),n)}}function bY(e,t,r){return t&&xY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wY(e,t,r){return t=jd(t),kY(e,iP()?Reflect.construct(t,r||[],jd(e).constructor):t.apply(e,r))}function kY(e,t){if(t&&(Ts(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SY(e)}function SY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iP=function(){return!!e})()}function jd(e){return jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jd(e)}function jY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&am(e,t)}function am(e,t){return am=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},am(e,t)}function sP(e,t,r){return t=lP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lP(e){var t=OY(e,"string");return Ts(t)=="symbol"?t:t+""}function OY(e,t){if(Ts(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ts(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function om(){return om=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},om.apply(this,arguments)}function _Y(e){var t=e.xAxisId,r=lv(),n=cv(),a=R_(t);return a==null?null:O.createElement(el,om({},a,{className:tt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(i){return Ia(i,!0)}}))}var la=function(e){function t(){return vY(this,t),wY(this,t,arguments)}return jY(t,e),bY(t,[{key:"render",value:function(){return O.createElement(_Y,this.props)}}])}(O.Component);sP(la,"displayName","XAxis");sP(la,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function $s(e){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$s(e)}function PY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fP(n.key),n)}}function AY(e,t,r){return t&&NY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function MY(e,t,r){return t=Od(t),CY(e,cP()?Reflect.construct(t,r||[],Od(e).constructor):t.apply(e,r))}function CY(e,t){if(t&&($s(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EY(e)}function EY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cP=function(){return!!e})()}function Od(e){return Od=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Od(e)}function TY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&im(e,t)}function im(e,t){return im=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},im(e,t)}function uP(e,t,r){return t=fP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fP(e){var t=$Y(e,"string");return $s(t)=="symbol"?t:t+""}function $Y(e,t){if($s(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function sm(){return sm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sm.apply(this,arguments)}var DY=function(t){var r=t.yAxisId,n=lv(),a=cv(),o=I_(r);return o==null?null:O.createElement(el,sm({},o,{className:tt("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(s){return Ia(s,!0)}}))},ca=function(e){function t(){return PY(this,t),MY(this,t,arguments)}return TY(t,e),AY(t,[{key:"render",value:function(){return O.createElement(DY,this.props)}}])}(O.Component);uP(ca,"displayName","YAxis");uP(ca,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function c2(e){return BY(e)||IY(e)||RY(e)||LY()}function LY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RY(e,t){if(e){if(typeof e=="string")return lm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lm(e,t)}}function IY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BY(e){if(Array.isArray(e))return lm(e)}function lm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var cm=function(t,r,n,a,o){var i=hn(t,Zo),s=hn(t,Ph),l=[].concat(c2(i),c2(s)),c=hn(t,tu),u="".concat(a,"Id"),f=a[0],h=r;if(l.length&&(h=l.reduce(function(v,x){if(x.props[u]===n&&Sa(x.props,"extendDomain")&&se(x.props[f])){var y=x.props[f];return[Math.min(v[0],y),Math.max(v[1],y)]}return v},h)),c.length){var p="".concat(f,"1"),m="".concat(f,"2");h=c.reduce(function(v,x){if(x.props[u]===n&&Sa(x.props,"extendDomain")&&se(x.props[p])&&se(x.props[m])){var y=x.props[p],g=x.props[m];return[Math.min(v[0],y,g),Math.max(v[1],y,g)]}return v},h)}return o&&o.length&&(h=o.reduce(function(v,x){return se(x)?[Math.min(v[0],x),Math.max(v[1],x)]:v},h)),h},dP={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function o(l,c,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new a(u,f||l,h),m=r?r+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function i(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)t.call(u,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=r?r+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},s.prototype.listenerCount=function(c){var u=r?r+c:c,f=this._events[u];return f?f.fn?1:f.length:0},s.prototype.emit=function(c,u,f,h,p,m){var v=r?r+c:c;if(!this._events[v])return!1;var x=this._events[v],y=arguments.length,g,b;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),y){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,u),!0;case 3:return x.fn.call(x.context,u,f),!0;case 4:return x.fn.call(x.context,u,f,h),!0;case 5:return x.fn.call(x.context,u,f,h,p),!0;case 6:return x.fn.call(x.context,u,f,h,p,m),!0}for(b=1,g=new Array(y-1);b<y;b++)g[b-1]=arguments[b];x.fn.apply(x.context,g)}else{var k=x.length,w;for(b=0;b<k;b++)switch(x[b].once&&this.removeListener(c,x[b].fn,void 0,!0),y){case 1:x[b].fn.call(x[b].context);break;case 2:x[b].fn.call(x[b].context,u);break;case 3:x[b].fn.call(x[b].context,u,f);break;case 4:x[b].fn.call(x[b].context,u,f,h);break;default:if(!g)for(w=1,g=new Array(y-1);w<y;w++)g[w-1]=arguments[w];x[b].fn.apply(x[b].context,g)}}return!0},s.prototype.on=function(c,u,f){return o(this,c,u,f,!1)},s.prototype.once=function(c,u,f){return o(this,c,u,f,!0)},s.prototype.removeListener=function(c,u,f,h){var p=r?r+c:c;if(!this._events[p])return this;if(!u)return i(this,p),this;var m=this._events[p];if(m.fn)m.fn===u&&(!h||m.once)&&(!f||m.context===f)&&i(this,p);else{for(var v=0,x=[],y=m.length;v<y;v++)(m[v].fn!==u||h&&!m[v].once||f&&m[v].context!==f)&&x.push(m[v]);x.length?this._events[p]=x.length===1?x[0]:x:i(this,p)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&i(this,u)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(dP);var FY=dP.exports;const zY=Ct(FY);var Lp=new zY,Rp="recharts.syncMouseEvents";function zc(e){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zc(e)}function WY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hP(n.key),n)}}function GY(e,t,r){return t&&UY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ip(e,t,r){return t=hP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hP(e){var t=HY(e,"string");return zc(t)=="symbol"?t:t+""}function HY(e,t){if(zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var VY=function(){function e(){WY(this,e),Ip(this,"activeIndex",0),Ip(this,"coordinateList",[]),Ip(this,"layout","horizontal")}return GY(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,o=a===void 0?null:a,i=r.container,s=i===void 0?null:i,l=r.layout,c=l===void 0?null:l,u=r.offset,f=u===void 0?null:u,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),o=a.x,i=a.y,s=a.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=o+l+c,h=i+this.offset.top+s/2+u;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function KY(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&se(n)&&se(a))return!0}return!1}function XY(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function pP(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,o=e.endAngle,i=Ar(t,r,n,a),s=Ar(t,r,n,o);return{points:[i,s],cx:t,cy:r,radius:n,startAngle:a,endAngle:o}}function qY(e,t,r){var n,a,o,i;if(e==="horizontal")n=t.x,o=n,a=r.top,i=r.top+r.height;else if(e==="vertical")a=t.y,i=a,n=r.left,o=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,f=t.angle,h=Ar(s,l,c,f),p=Ar(s,l,u,f);n=h.x,a=h.y,o=p.x,i=p.y}else return pP(t);return[{x:n,y:a},{x:o,y:i}]}function Wc(e){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wc(e)}function u2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u2(Object(r),!0).forEach(function(n){YY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YY(e,t,r){return t=QY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QY(e){var t=ZY(e,"string");return Wc(t)=="symbol"?t:t+""}function ZY(e,t){if(Wc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JY(e){var t,r,n=e.element,a=e.tooltipEventType,o=e.isActive,i=e.activeCoordinate,s=e.activePayload,l=e.offset,c=e.activeTooltipIndex,u=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!o||!i||h!=="ScatterChart"&&a!=="axis")return null;var m,v=ii;if(h==="ScatterChart")m=i,v=OH;else if(h==="BarChart")m=XY(f,i,l,u),v=nv;else if(f==="radial"){var x=pP(i),y=x.cx,g=x.cy,b=x.radius,k=x.startAngle,w=x.endAngle;m={cx:y,cy:g,startAngle:k,endAngle:w,innerRadius:b,outerRadius:b},v=c_}else m={points:qY(f,i,l)},v=ii;var S=Bu(Bu(Bu(Bu({stroke:"#ccc",pointerEvents:"none"},l),m),Re(p,!1)),{},{payload:s,payloadIndex:c,className:tt("recharts-tooltip-cursor",p.className)});return O.isValidElement(p)?O.cloneElement(p,S):O.createElement(v,S)}var eQ=["item"],tQ=["children","className","width","height","style","compact","title","desc"];function Ds(e){"@babel/helpers - typeof";return Ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ds(e)}function Ki(){return Ki=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ki.apply(this,arguments)}function f2(e,t){return aQ(e)||nQ(e,t)||mP(e,t)||rQ()}function rQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function aQ(e){if(Array.isArray(e))return e}function d2(e,t){if(e==null)return{};var r=oQ(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function iQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yP(n.key),n)}}function lQ(e,t,r){return t&&sQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cQ(e,t,r){return t=_d(t),uQ(e,gP()?Reflect.construct(t,r||[],_d(e).constructor):t.apply(e,r))}function uQ(e,t){if(t&&(Ds(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fQ(e)}function fQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gP=function(){return!!e})()}function _d(e){return _d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_d(e)}function dQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&um(e,t)}function um(e,t){return um=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},um(e,t)}function Ls(e){return gQ(e)||pQ(e)||mP(e)||hQ()}function hQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mP(e,t){if(e){if(typeof e=="string")return fm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fm(e,t)}}function pQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gQ(e){if(Array.isArray(e))return fm(e)}function fm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h2(Object(r),!0).forEach(function(n){Oe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oe(e,t,r){return t=yP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yP(e){var t=mQ(e,"string");return Ds(t)=="symbol"?t:t+""}function mQ(e,t){if(Ds(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ds(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yQ={xAxis:["bottom","top"],yAxis:["left","right"]},vQ={width:"100%",height:"100%"},vP={x:0,y:0};function Fu(e){return e}var xQ=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},bQ=function(t,r,n,a){var o=r.find(function(u){return u&&u.index===n});if(o){if(t==="horizontal")return{x:o.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:o.coordinate};if(t==="centric"){var i=o.coordinate,s=a.radius;return H(H(H({},a),Ar(a.cx,a.cy,s,i)),{},{angle:i,radius:s})}var l=o.coordinate,c=a.angle;return H(H(H({},a),Ar(a.cx,a.cy,l,c)),{},{angle:c,radius:l})}return vP},Mh=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,o=r.dataEndIndex,i=(n??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(Ls(s),Ls(c)):s},[]);return i.length>0?i:t&&t.length&&se(a)&&se(o)?t.slice(a,o+1):[]};function xP(e){return e==="number"?[0,"auto"]:void 0}var dm=function(t,r,n,a){var o=t.graphicalItems,i=t.tooltipAxis,s=Mh(r,t);return n<0||!o||!o.length||n>=s.length?null:o.reduce(function(l,c){var u,f=(u=c.props.data)!==null&&u!==void 0?u:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(i.dataKey&&!i.allowDuplicatedCategory){var p=f===void 0?s:f;h=Of(p,i.dataKey,a)}else h=f&&f[n]||s[n];return h?[].concat(Ls(l),[i_(c,h)]):l},[])},p2=function(t,r,n,a){var o=a||{x:t.chartX,y:t.chartY},i=xQ(o,n),s=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,u=nW(i,s,c,l);if(u>=0&&c){var f=c[u]&&c[u].value,h=dm(t,r,u,f),p=bQ(n,s,u,o);return{activeTooltipIndex:u,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},wQ=function(t,r){var n=r.axes,a=r.graphicalItems,o=r.axisType,i=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,f=t.children,h=t.stackOffset,p=n_(u,o);return n.reduce(function(m,v){var x,y=v.type.defaultProps!==void 0?H(H({},v.type.defaultProps),v.props):v.props,g=y.type,b=y.dataKey,k=y.allowDataOverflow,w=y.allowDuplicatedCategory,S=y.scale,j=y.ticks,_=y.includeHidden,P=y[i];if(m[P])return m;var N=Mh(t.data,{graphicalItems:a.filter(function(K){var q,U=i in K.props?K.props[i]:(q=K.type.defaultProps)===null||q===void 0?void 0:q[i];return U===P}),dataStartIndex:l,dataEndIndex:c}),A=N.length,M,B,I;KY(y.domain,k,g)&&(M=_g(y.domain,null,k),p&&(g==="number"||S!=="auto")&&(I=Bl(N,b,"category")));var D=xP(g);if(!M||M.length===0){var L,F=(L=y.domain)!==null&&L!==void 0?L:D;if(b){if(M=Bl(N,b,g),g==="category"&&p){var $=GT(M);w&&$?(B=M,M=ud(0,A)):w||(M=H1(F,M,v).reduce(function(K,q){return K.indexOf(q)>=0?K:[].concat(Ls(K),[q])},[]))}else if(g==="category")w?M=M.filter(function(K){return K!==""&&!De(K)}):M=H1(F,M,v).reduce(function(K,q){return K.indexOf(q)>=0||q===""||De(q)?K:[].concat(Ls(K),[q])},[]);else if(g==="number"){var z=lW(N,a.filter(function(K){var q,U,fe=i in K.props?K.props[i]:(q=K.type.defaultProps)===null||q===void 0?void 0:q[i],ie="hide"in K.props?K.props.hide:(U=K.type.defaultProps)===null||U===void 0?void 0:U.hide;return fe===P&&(_||!ie)}),b,o,u);z&&(M=z)}p&&(g==="number"||S!=="auto")&&(I=Bl(N,b,"category"))}else p?M=ud(0,A):s&&s[P]&&s[P].hasStack&&g==="number"?M=h==="expand"?[0,1]:o_(s[P].stackGroups,l,c):M=r_(N,a.filter(function(K){var q=i in K.props?K.props[i]:K.type.defaultProps[i],U="hide"in K.props?K.props.hide:K.type.defaultProps.hide;return q===P&&(_||!U)}),g,u,!0);if(g==="number")M=cm(f,M,P,o,j),F&&(M=_g(F,M,k));else if(g==="category"&&F){var W=F,ee=M.every(function(K){return W.indexOf(K)>=0});ee&&(M=W)}}return H(H({},m),{},Oe({},P,H(H({},y),{},{axisType:o,domain:M,categoricalDomain:I,duplicateDomain:B,originalDomain:(x=y.domain)!==null&&x!==void 0?x:D,isCategorical:p,layout:u})))},{})},kQ=function(t,r){var n=r.graphicalItems,a=r.Axis,o=r.axisType,i=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,f=t.children,h=Mh(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),p=h.length,m=n_(u,o),v=-1;return n.reduce(function(x,y){var g=y.type.defaultProps!==void 0?H(H({},y.type.defaultProps),y.props):y.props,b=g[i],k=xP("number");if(!x[b]){v++;var w;return m?w=ud(0,p):s&&s[b]&&s[b].hasStack?(w=o_(s[b].stackGroups,l,c),w=cm(f,w,b,o)):(w=_g(k,r_(h,n.filter(function(S){var j,_,P=i in S.props?S.props[i]:(j=S.type.defaultProps)===null||j===void 0?void 0:j[i],N="hide"in S.props?S.props.hide:(_=S.type.defaultProps)===null||_===void 0?void 0:_.hide;return P===b&&!N}),"number",u),a.defaultProps.allowDataOverflow),w=cm(f,w,b,o)),H(H({},x),{},Oe({},b,H(H({axisType:o},a.defaultProps),{},{hide:!0,orientation:Bn(yQ,"".concat(o,".").concat(v%2),null),domain:w,originalDomain:k,isCategorical:m,layout:u})))}return x},{})},SQ=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,o=r.AxisComp,i=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.children,f="".concat(a,"Id"),h=hn(u,o),p={};return h&&h.length?p=wQ(t,{axes:h,graphicalItems:i,axisType:a,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):i&&i.length&&(p=kQ(t,{Axis:o,graphicalItems:i,axisType:a,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),p},jQ=function(t){var r=co(t),n=Ia(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Ay(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:ed(r,n)}},g2=function(t){var r=t.children,n=t.defaultShowTooltip,a=xn(r,Ss),o=0,i=0;return t.data&&t.data.length!==0&&(i=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(o=a.props.startIndex),a.props.endIndex>=0&&(i=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!n}},OQ=function(t){return!t||!t.length?!1:t.some(function(r){var n=Fa(r&&r.type);return n&&n.indexOf("Bar")>=0})},m2=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},_Q=function(t,r){var n=t.props,a=t.graphicalItems,o=t.xAxisMap,i=o===void 0?{}:o,s=t.yAxisMap,l=s===void 0?{}:s,c=n.width,u=n.height,f=n.children,h=n.margin||{},p=xn(f,Ss),m=xn(f,Wa),v=Object.keys(l).reduce(function(w,S){var j=l[S],_=j.orientation;return!j.mirror&&!j.hide?H(H({},w),{},Oe({},_,w[_]+j.width)):w},{left:h.left||0,right:h.right||0}),x=Object.keys(i).reduce(function(w,S){var j=i[S],_=j.orientation;return!j.mirror&&!j.hide?H(H({},w),{},Oe({},_,Bn(w,"".concat(_))+j.height)):w},{top:h.top||0,bottom:h.bottom||0}),y=H(H({},x),v),g=y.bottom;p&&(y.bottom+=p.props.height||Ss.defaultProps.height),m&&r&&(y=iW(y,a,n,r));var b=c-y.left-y.right,k=u-y.top-y.bottom;return H(H({brushBottom:g},y),{},{width:Math.max(b,0),height:Math.max(k,0)})},PQ=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},hv=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,o=a===void 0?"axis":a,i=t.validateTooltipEventTypes,s=i===void 0?["axis"]:i,l=t.axisComponents,c=t.legendContent,u=t.formatAxisMap,f=t.defaultProps,h=function(y,g){var b=g.graphicalItems,k=g.stackGroups,w=g.offset,S=g.updateId,j=g.dataStartIndex,_=g.dataEndIndex,P=y.barSize,N=y.layout,A=y.barGap,M=y.barCategoryGap,B=y.maxBarSize,I=m2(N),D=I.numericAxisName,L=I.cateAxisName,F=OQ(b),$=[];return b.forEach(function(z,W){var ee=Mh(y.data,{graphicalItems:[z],dataStartIndex:j,dataEndIndex:_}),K=z.type.defaultProps!==void 0?H(H({},z.type.defaultProps),z.props):z.props,q=K.dataKey,U=K.maxBarSize,fe=K["".concat(D,"Id")],ie=K["".concat(L,"Id")],_e={},ce=l.reduce(function(zt,ir){var Wt=g["".concat(ir.axisType,"Map")],Jt=K["".concat(ir.axisType,"Id")];Wt&&Wt[Jt]||ir.axisType==="zAxis"||mi();var gt=Wt[Jt];return H(H({},zt),{},Oe(Oe({},ir.axisType,gt),"".concat(ir.axisType,"Ticks"),Ia(gt)))},_e),Z=ce[L],de=ce["".concat(L,"Ticks")],ye=k&&k[fe]&&k[fe].hasStack&&bW(z,k[fe].stackGroups),X=Fa(z.type).indexOf("Bar")>=0,Be=ed(Z,de),Pe=[],rt=F&&aW({barSize:P,stackGroups:k,totalSize:PQ(ce,L)});if(X){var Ge,dt,xr=De(U)?B:U,Zt=(Ge=(dt=ed(Z,de,!0))!==null&&dt!==void 0?dt:xr)!==null&&Ge!==void 0?Ge:0;Pe=oW({barGap:A,barCategoryGap:M,bandSize:Zt!==Be?Zt:Be,sizeList:rt[ie],maxBarSize:xr}),Zt!==Be&&(Pe=Pe.map(function(zt){return H(H({},zt),{},{position:H(H({},zt.position),{},{offset:zt.position.offset-Zt/2})})}))}var _r=z&&z.type&&z.type.getComposedData;_r&&$.push({props:H(H({},_r(H(H({},ce),{},{displayedData:ee,props:y,dataKey:q,item:z,bandSize:Be,barPosition:Pe,offset:w,stackedData:ye,layout:N,dataStartIndex:j,dataEndIndex:_}))),{},Oe(Oe(Oe({key:z.key||"item-".concat(W)},D,ce[D]),L,ce[L]),"animationId",S)),childIndex:n$(z,y.children),item:z})}),$},p=function(y,g){var b=y.props,k=y.dataStartIndex,w=y.dataEndIndex,S=y.updateId;if(!Bx({props:b}))return null;var j=b.children,_=b.layout,P=b.stackOffset,N=b.data,A=b.reverseStackOrder,M=m2(_),B=M.numericAxisName,I=M.cateAxisName,D=hn(j,n),L=yW(N,D,"".concat(B,"Id"),"".concat(I,"Id"),P,A),F=l.reduce(function(K,q){var U="".concat(q.axisType,"Map");return H(H({},K),{},Oe({},U,SQ(b,H(H({},q),{},{graphicalItems:D,stackGroups:q.axisType===B&&L,dataStartIndex:k,dataEndIndex:w}))))},{}),$=_Q(H(H({},F),{},{props:b,graphicalItems:D}),g==null?void 0:g.legendBBox);Object.keys(F).forEach(function(K){F[K]=u(b,F[K],$,K.replace("Map",""),r)});var z=F["".concat(I,"Map")],W=jQ(z),ee=h(b,H(H({},F),{},{dataStartIndex:k,dataEndIndex:w,updateId:S,graphicalItems:D,stackGroups:L,offset:$}));return H(H({formattedGraphicalItems:ee,graphicalItems:D,offset:$,stackGroups:L},W),F)},m=function(x){function y(g){var b,k,w;return iQ(this,y),w=cQ(this,y,[g]),Oe(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Oe(w,"accessibilityManager",new VY),Oe(w,"handleLegendBBoxUpdate",function(S){if(S){var j=w.state,_=j.dataStartIndex,P=j.dataEndIndex,N=j.updateId;w.setState(H({legendBBox:S},p({props:w.props,dataStartIndex:_,dataEndIndex:P,updateId:N},H(H({},w.state),{},{legendBBox:S}))))}}),Oe(w,"handleReceiveSyncEvent",function(S,j,_){if(w.props.syncId===S){if(_===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(j)}}),Oe(w,"handleBrushChange",function(S){var j=S.startIndex,_=S.endIndex;if(j!==w.state.dataStartIndex||_!==w.state.dataEndIndex){var P=w.state.updateId;w.setState(function(){return H({dataStartIndex:j,dataEndIndex:_},p({props:w.props,dataStartIndex:j,dataEndIndex:_,updateId:P},w.state))}),w.triggerSyncEvent({dataStartIndex:j,dataEndIndex:_})}}),Oe(w,"handleMouseEnter",function(S){var j=w.getMouseInfo(S);if(j){var _=H(H({},j),{},{isTooltipActive:!0});w.setState(_),w.triggerSyncEvent(_);var P=w.props.onMouseEnter;Ie(P)&&P(_,S)}}),Oe(w,"triggeredAfterMouseMove",function(S){var j=w.getMouseInfo(S),_=j?H(H({},j),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(_),w.triggerSyncEvent(_);var P=w.props.onMouseMove;Ie(P)&&P(_,S)}),Oe(w,"handleItemMouseEnter",function(S){w.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Oe(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),Oe(w,"handleMouseMove",function(S){S.persist(),w.throttleTriggeredAfterMouseMove(S)}),Oe(w,"handleMouseLeave",function(S){w.throttleTriggeredAfterMouseMove.cancel();var j={isTooltipActive:!1};w.setState(j),w.triggerSyncEvent(j);var _=w.props.onMouseLeave;Ie(_)&&_(j,S)}),Oe(w,"handleOuterEvent",function(S){var j=r$(S),_=Bn(w.props,"".concat(j));if(j&&Ie(_)){var P,N;/.*touch.*/i.test(j)?N=w.getMouseInfo(S.changedTouches[0]):N=w.getMouseInfo(S),_((P=N)!==null&&P!==void 0?P:{},S)}}),Oe(w,"handleClick",function(S){var j=w.getMouseInfo(S);if(j){var _=H(H({},j),{},{isTooltipActive:!0});w.setState(_),w.triggerSyncEvent(_);var P=w.props.onClick;Ie(P)&&P(_,S)}}),Oe(w,"handleMouseDown",function(S){var j=w.props.onMouseDown;if(Ie(j)){var _=w.getMouseInfo(S);j(_,S)}}),Oe(w,"handleMouseUp",function(S){var j=w.props.onMouseUp;if(Ie(j)){var _=w.getMouseInfo(S);j(_,S)}}),Oe(w,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Oe(w,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.handleMouseDown(S.changedTouches[0])}),Oe(w,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.handleMouseUp(S.changedTouches[0])}),Oe(w,"handleDoubleClick",function(S){var j=w.props.onDoubleClick;if(Ie(j)){var _=w.getMouseInfo(S);j(_,S)}}),Oe(w,"handleContextMenu",function(S){var j=w.props.onContextMenu;if(Ie(j)){var _=w.getMouseInfo(S);j(_,S)}}),Oe(w,"triggerSyncEvent",function(S){w.props.syncId!==void 0&&Lp.emit(Rp,w.props.syncId,S,w.eventEmitterSymbol)}),Oe(w,"applySyncEvent",function(S){var j=w.props,_=j.layout,P=j.syncMethod,N=w.state.updateId,A=S.dataStartIndex,M=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)w.setState(H({dataStartIndex:A,dataEndIndex:M},p({props:w.props,dataStartIndex:A,dataEndIndex:M,updateId:N},w.state)));else if(S.activeTooltipIndex!==void 0){var B=S.chartX,I=S.chartY,D=S.activeTooltipIndex,L=w.state,F=L.offset,$=L.tooltipTicks;if(!F)return;if(typeof P=="function")D=P($,S);else if(P==="value"){D=-1;for(var z=0;z<$.length;z++)if($[z].value===S.activeLabel){D=z;break}}var W=H(H({},F),{},{x:F.left,y:F.top}),ee=Math.min(B,W.x+W.width),K=Math.min(I,W.y+W.height),q=$[D]&&$[D].value,U=dm(w.state,w.props.data,D),fe=$[D]?{x:_==="horizontal"?$[D].coordinate:ee,y:_==="horizontal"?K:$[D].coordinate}:vP;w.setState(H(H({},S),{},{activeLabel:q,activeCoordinate:fe,activePayload:U,activeTooltipIndex:D}))}else w.setState(S)}),Oe(w,"renderCursor",function(S){var j,_=w.state,P=_.isTooltipActive,N=_.activeCoordinate,A=_.activePayload,M=_.offset,B=_.activeTooltipIndex,I=_.tooltipAxisBandSize,D=w.getTooltipEventType(),L=(j=S.props.active)!==null&&j!==void 0?j:P,F=w.props.layout,$=S.key||"_recharts-cursor";return C.createElement(JY,{key:$,activeCoordinate:N,activePayload:A,activeTooltipIndex:B,chartName:r,element:S,isActive:L,layout:F,offset:M,tooltipAxisBandSize:I,tooltipEventType:D})}),Oe(w,"renderPolarAxis",function(S,j,_){var P=Bn(S,"type.axisType"),N=Bn(w.state,"".concat(P,"Map")),A=S.type.defaultProps,M=A!==void 0?H(H({},A),S.props):S.props,B=N&&N[M["".concat(P,"Id")]];return O.cloneElement(S,H(H({},B),{},{className:tt(P,B.className),key:S.key||"".concat(j,"-").concat(_),ticks:Ia(B,!0)}))}),Oe(w,"renderPolarGrid",function(S){var j=S.props,_=j.radialLines,P=j.polarAngles,N=j.polarRadius,A=w.state,M=A.radiusAxisMap,B=A.angleAxisMap,I=co(M),D=co(B),L=D.cx,F=D.cy,$=D.innerRadius,z=D.outerRadius;return O.cloneElement(S,{polarAngles:Array.isArray(P)?P:Ia(D,!0).map(function(W){return W.coordinate}),polarRadius:Array.isArray(N)?N:Ia(I,!0).map(function(W){return W.coordinate}),cx:L,cy:F,innerRadius:$,outerRadius:z,key:S.key||"polar-grid",radialLines:_})}),Oe(w,"renderLegend",function(){var S=w.state.formattedGraphicalItems,j=w.props,_=j.children,P=j.width,N=j.height,A=w.props.margin||{},M=P-(A.left||0)-(A.right||0),B=e_({children:_,formattedGraphicalItems:S,legendWidth:M,legendContent:c});if(!B)return null;var I=B.item,D=d2(B,eQ);return O.cloneElement(I,H(H({},D),{},{chartWidth:P,chartHeight:N,margin:A,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),Oe(w,"renderTooltip",function(){var S,j=w.props,_=j.children,P=j.accessibilityLayer,N=xn(_,Xr);if(!N)return null;var A=w.state,M=A.isTooltipActive,B=A.activeCoordinate,I=A.activePayload,D=A.activeLabel,L=A.offset,F=(S=N.props.active)!==null&&S!==void 0?S:M;return O.cloneElement(N,{viewBox:H(H({},L),{},{x:L.left,y:L.top}),active:F,label:D,payload:F?I:[],coordinate:B,accessibilityLayer:P})}),Oe(w,"renderBrush",function(S){var j=w.props,_=j.margin,P=j.data,N=w.state,A=N.offset,M=N.dataStartIndex,B=N.dataEndIndex,I=N.updateId;return O.cloneElement(S,{key:S.key||"_recharts-brush",onChange:Du(w.handleBrushChange,S.props.onChange),data:P,x:se(S.props.x)?S.props.x:A.left,y:se(S.props.y)?S.props.y:A.top+A.height+A.brushBottom-(_.bottom||0),width:se(S.props.width)?S.props.width:A.width,startIndex:M,endIndex:B,updateId:"brush-".concat(I)})}),Oe(w,"renderReferenceElement",function(S,j,_){if(!S)return null;var P=w,N=P.clipPathId,A=w.state,M=A.xAxisMap,B=A.yAxisMap,I=A.offset,D=S.type.defaultProps||{},L=S.props,F=L.xAxisId,$=F===void 0?D.xAxisId:F,z=L.yAxisId,W=z===void 0?D.yAxisId:z;return O.cloneElement(S,{key:S.key||"".concat(j,"-").concat(_),xAxis:M[$],yAxis:B[W],viewBox:{x:I.left,y:I.top,width:I.width,height:I.height},clipPathId:N})}),Oe(w,"renderActivePoints",function(S){var j=S.item,_=S.activePoint,P=S.basePoint,N=S.childIndex,A=S.isRange,M=[],B=j.props.key,I=j.item.type.defaultProps!==void 0?H(H({},j.item.type.defaultProps),j.item.props):j.item.props,D=I.activeDot,L=I.dataKey,F=H(H({index:N,dataKey:L,cx:_.x,cy:_.y,r:4,fill:rv(j.item),strokeWidth:2,stroke:"#fff",payload:_.payload,value:_.value},Re(D,!1)),_f(D));return M.push(y.renderActiveDot(D,F,"".concat(B,"-activePoint-").concat(N))),P?M.push(y.renderActiveDot(D,H(H({},F),{},{cx:P.x,cy:P.y}),"".concat(B,"-basePoint-").concat(N))):A&&M.push(null),M}),Oe(w,"renderGraphicChild",function(S,j,_){var P=w.filterFormatItem(S,j,_);if(!P)return null;var N=w.getTooltipEventType(),A=w.state,M=A.isTooltipActive,B=A.tooltipAxis,I=A.activeTooltipIndex,D=A.activeLabel,L=w.props.children,F=xn(L,Xr),$=P.props,z=$.points,W=$.isRange,ee=$.baseLine,K=P.item.type.defaultProps!==void 0?H(H({},P.item.type.defaultProps),P.item.props):P.item.props,q=K.activeDot,U=K.hide,fe=K.activeBar,ie=K.activeShape,_e=!!(!U&&M&&F&&(q||fe||ie)),ce={};N!=="axis"&&F&&F.props.trigger==="click"?ce={onClick:Du(w.handleItemMouseEnter,S.props.onClick)}:N!=="axis"&&(ce={onMouseLeave:Du(w.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:Du(w.handleItemMouseEnter,S.props.onMouseEnter)});var Z=O.cloneElement(S,H(H({},P.props),ce));function de(ir){return typeof B.dataKey=="function"?B.dataKey(ir.payload):null}if(_e)if(I>=0){var ye,X;if(B.dataKey&&!B.allowDuplicatedCategory){var Be=typeof B.dataKey=="function"?de:"payload.".concat(B.dataKey.toString());ye=Of(z,Be,D),X=W&&ee&&Of(ee,Be,D)}else ye=z==null?void 0:z[I],X=W&&ee&&ee[I];if(ie||fe){var Pe=S.props.activeIndex!==void 0?S.props.activeIndex:I;return[O.cloneElement(S,H(H(H({},P.props),ce),{},{activeIndex:Pe})),null,null]}if(!De(ye))return[Z].concat(Ls(w.renderActivePoints({item:P,activePoint:ye,basePoint:X,childIndex:I,isRange:W})))}else{var rt,Ge=(rt=w.getItemByXY(w.state.activeCoordinate))!==null&&rt!==void 0?rt:{graphicalItem:Z},dt=Ge.graphicalItem,xr=dt.item,Zt=xr===void 0?S:xr,_r=dt.childIndex,zt=H(H(H({},P.props),ce),{},{activeIndex:_r});return[O.cloneElement(Zt,zt),null,null]}return W?[Z,null,null]:[Z,null]}),Oe(w,"renderCustomized",function(S,j,_){return O.cloneElement(S,H(H({key:"recharts-customized-".concat(_)},w.props),w.state))}),Oe(w,"renderMap",{CartesianGrid:{handler:Fu,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:Fu},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:Fu},YAxis:{handler:Fu},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((b=g.id)!==null&&b!==void 0?b:ki("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=eO(w.triggeredAfterMouseMove,(k=g.throttleDelay)!==null&&k!==void 0?k:1e3/60),w.state={},w}return dQ(y,x),lQ(y,[{key:"componentDidMount",value:function(){var b,k;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,k=b.children,w=b.data,S=b.height,j=b.layout,_=xn(k,Xr);if(_){var P=_.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var N=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,A=dm(this.state,w,P,N),M=this.state.tooltipTicks[P].coordinate,B=(this.state.offset.top+S)/2,I=j==="horizontal",D=I?{x:M,y:B}:{y:M,x:B},L=this.state.formattedGraphicalItems.find(function($){var z=$.item;return z.type.name==="Scatter"});L&&(D=H(H({},D),L.props.points[P].tooltipPosition),A=L.props.points[P].tooltipPayload);var F={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:N,activePayload:A,activeCoordinate:D};this.setState(F),this.renderCursor(_),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,k){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==k.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var w,S;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(b){z0([xn(b.children,Xr)],[xn(this.props.children,Xr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=xn(this.props.children,Xr);if(b&&typeof b.props.shared=="boolean"){var k=b.props.shared?"axis":"item";return s.indexOf(k)>=0?k:o}return o}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var k=this.container,w=k.getBoundingClientRect(),S=A8(w),j={chartX:Math.round(b.pageX-S.left),chartY:Math.round(b.pageY-S.top)},_=w.width/k.offsetWidth||1,P=this.inRange(j.chartX,j.chartY,_);if(!P)return null;var N=this.state,A=N.xAxisMap,M=N.yAxisMap,B=this.getTooltipEventType(),I=p2(this.state,this.props.data,this.props.layout,P);if(B!=="axis"&&A&&M){var D=co(A).scale,L=co(M).scale,F=D&&D.invert?D.invert(j.chartX):null,$=L&&L.invert?L.invert(j.chartY):null;return H(H({},j),{},{xValue:F,yValue:$},I)}return I?H(H({},j),I):null}},{key:"inRange",value:function(b,k){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,j=b/w,_=k/w;if(S==="horizontal"||S==="vertical"){var P=this.state.offset,N=j>=P.left&&j<=P.left+P.width&&_>=P.top&&_<=P.top+P.height;return N?{x:j,y:_}:null}var A=this.state,M=A.angleAxisMap,B=A.radiusAxisMap;if(M&&B){var I=co(M);return X1({x:j,y:_},I)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,k=this.getTooltipEventType(),w=xn(b,Xr),S={};w&&k==="axis"&&(w.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var j=_f(this.props,this.handleOuterEvent);return H(H({},j),S)}},{key:"addListener",value:function(){Lp.on(Rp,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Lp.removeListener(Rp,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,k,w){for(var S=this.state.formattedGraphicalItems,j=0,_=S.length;j<_;j++){var P=S[j];if(P.item===b||P.props.key===b.key||k===Fa(P.item.type)&&w===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,k=this.state.offset,w=k.left,S=k.top,j=k.height,_=k.width;return C.createElement("defs",null,C.createElement("clipPath",{id:b},C.createElement("rect",{x:w,y:S,height:j,width:_})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(k,w){var S=f2(w,2),j=S[0],_=S[1];return H(H({},k),{},Oe({},j,_.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(k,w){var S=f2(w,2),j=S[0],_=S[1];return H(H({},k),{},Oe({},j,_.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var k;return(k=this.state.xAxisMap)===null||k===void 0||(k=k[b])===null||k===void 0?void 0:k.scale}},{key:"getYScaleByAxisId",value:function(b){var k;return(k=this.state.yAxisMap)===null||k===void 0||(k=k[b])===null||k===void 0?void 0:k.scale}},{key:"getItemByXY",value:function(b){var k=this.state,w=k.formattedGraphicalItems,S=k.activeItem;if(w&&w.length)for(var j=0,_=w.length;j<_;j++){var P=w[j],N=P.props,A=P.item,M=A.type.defaultProps!==void 0?H(H({},A.type.defaultProps),A.props):A.props,B=Fa(A.type);if(B==="Bar"){var I=(N.data||[]).find(function($){return gH(b,$)});if(I)return{graphicalItem:P,payload:I}}else if(B==="RadialBar"){var D=(N.data||[]).find(function($){return X1(b,$)});if(D)return{graphicalItem:P,payload:D}}else if(Sh(P,S)||jh(P,S)||Lc(P,S)){var L=yV({graphicalItem:P,activeTooltipItem:S,itemData:M.data}),F=M.activeIndex===void 0?L:M.activeIndex;return{graphicalItem:H(H({},P),{},{childIndex:F}),payload:Lc(P,S)?M.data[L]:P.props.data[L]}}}return null}},{key:"render",value:function(){var b=this;if(!Bx(this))return null;var k=this.props,w=k.children,S=k.className,j=k.width,_=k.height,P=k.style,N=k.compact,A=k.title,M=k.desc,B=d2(k,tQ),I=Re(B,!1);if(N)return C.createElement(Uw,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},C.createElement(U0,Ki({},I,{width:j,height:_,title:A,desc:M}),this.renderClipPath(),zx(w,this.renderMap)));if(this.props.accessibilityLayer){var D,L;I.tabIndex=(D=this.props.tabIndex)!==null&&D!==void 0?D:0,I.role=(L=this.props.role)!==null&&L!==void 0?L:"application",I.onKeyDown=function($){b.accessibilityManager.keyboardEvent($)},I.onFocus=function(){b.accessibilityManager.focus()}}var F=this.parseEventsOfWrapper();return C.createElement(Uw,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},C.createElement("div",Ki({className:tt("recharts-wrapper",S),style:H({position:"relative",cursor:"default",width:j,height:_},P)},F,{ref:function(z){b.container=z}}),C.createElement(U0,Ki({},I,{width:j,height:_,title:A,desc:M,style:vQ}),this.renderClipPath(),zx(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(O.Component);Oe(m,"displayName",r),Oe(m,"defaultProps",H({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Oe(m,"getDerivedStateFromProps",function(x,y){var g=x.dataKey,b=x.data,k=x.children,w=x.width,S=x.height,j=x.layout,_=x.stackOffset,P=x.margin,N=y.dataStartIndex,A=y.dataEndIndex;if(y.updateId===void 0){var M=g2(x);return H(H(H({},M),{},{updateId:0},p(H(H({props:x},M),{},{updateId:0}),y)),{},{prevDataKey:g,prevData:b,prevWidth:w,prevHeight:S,prevLayout:j,prevStackOffset:_,prevMargin:P,prevChildren:k})}if(g!==y.prevDataKey||b!==y.prevData||w!==y.prevWidth||S!==y.prevHeight||j!==y.prevLayout||_!==y.prevStackOffset||!es(P,y.prevMargin)){var B=g2(x),I={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},D=H(H({},p2(y,b,j)),{},{updateId:y.updateId+1}),L=H(H(H({},B),I),D);return H(H(H({},L),p(H({props:x},L),y)),{},{prevDataKey:g,prevData:b,prevWidth:w,prevHeight:S,prevLayout:j,prevStackOffset:_,prevMargin:P,prevChildren:k})}if(!z0(k,y.prevChildren)){var F,$,z,W,ee=xn(k,Ss),K=ee&&(F=($=ee.props)===null||$===void 0?void 0:$.startIndex)!==null&&F!==void 0?F:N,q=ee&&(z=(W=ee.props)===null||W===void 0?void 0:W.endIndex)!==null&&z!==void 0?z:A,U=K!==N||q!==A,fe=!De(b),ie=fe&&!U?y.updateId:y.updateId+1;return H(H({updateId:ie},p(H(H({props:x},y),{},{updateId:ie,dataStartIndex:K,dataEndIndex:q}),y)),{},{prevChildren:k,dataStartIndex:K,dataEndIndex:q})}return null}),Oe(m,"renderActiveDot",function(x,y,g){var b;return O.isValidElement(x)?b=O.cloneElement(x,y):Ie(x)?b=x(y):b=C.createElement(kh,y),C.createElement(ft,{className:"recharts-active-dot",key:g},b)});var v=O.forwardRef(function(y,g){return C.createElement(m,Ki({},y,{ref:g}))});return v.displayName=m.displayName,v},pv=hv({chartName:"LineChart",GraphicalChild:Wr,axisComponents:[{axisType:"xAxis",AxisComp:la},{axisType:"yAxis",AxisComp:ca}],formatAxisMap:av}),NQ=hv({chartName:"ScatterChart",GraphicalChild:on,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:la},{axisType:"yAxis",AxisComp:ca},{axisType:"zAxis",AxisComp:Ah}],formatAxisMap:av}),bP=hv({chartName:"AreaChart",GraphicalChild:Rn,axisComponents:[{axisType:"xAxis",AxisComp:la},{axisType:"yAxis",AxisComp:ca}],formatAxisMap:av});const AQ="modulepreload",MQ=function(e){return"/"+e},y2={},CQ=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),s=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=MQ(l),l in y2)return;y2[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":AQ,c||(f.as="script"),f.crossOrigin="",f.href=l,s&&f.setAttribute("nonce",s),document.head.appendChild(f),c)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(i){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i}return a.then(i=>{for(const s of i||[])s.status==="rejected"&&o(s.reason);return t().catch(o)})};function EQ(e){const[[t,r,n],[a,o,i],[s,l,c]]=e,u=t*(o*c-i*l)-r*(a*c-i*s)+n*(a*l-o*s);if(Math.abs(u)<1e-10)return null;const f=1/u;return[[(o*c-i*l)*f,(n*l-r*c)*f,(r*i-n*o)*f],[(i*s-a*c)*f,(t*c-n*s)*f,(n*a-t*i)*f],[(a*l-o*s)*f,(r*s-t*l)*f,(t*o-r*a)*f]]}function v2(e,t){const r=[[0,0,0],[0,0,0],[0,0,0]];for(let n=0;n<3;n++)for(let a=0;a<3;a++)for(let o=0;o<3;o++)r[n][a]+=e[n][o]*t[o][a];return r}class Rs{constructor(t){Vr(this,"size");Vr(this,"isPowerOfTwo");Vr(this,"_real");Vr(this,"_imag");Vr(this,"_scratch",null);Vr(this,"_rev",null);Vr(this,"_m",0);Vr(this,"_internalFFT",null);Vr(this,"_chirpReal",null);Vr(this,"_chirpImag",null);Vr(this,"_bReal",null);Vr(this,"_bImag",null);Vr(this,"_hanning",null);Vr(this,"_windowSumSq",0);this.size=t,this.isPowerOfTwo=(t&t-1)===0&&t>0,this._real=new Float32Array(t),this._imag=new Float32Array(t),this.isPowerOfTwo?this.initRadix2():this.initBluestein()}initRadix2(){const t=this.size,r=Math.log2(t);this._rev=new Uint32Array(t);for(let n=0;n<t;n++){let a=0,o=n;for(let i=0;i<r;i++)a=a<<1|o&1,o>>>=1;this._rev[n]=a}}initBluestein(){const t=this.size;this._m=Math.pow(2,Math.ceil(Math.log2(2*t-1))),this._internalFFT=new Rs(this._m),this._chirpReal=new Float32Array(t),this._chirpImag=new Float32Array(t);for(let a=0;a<t;a++){const o=-Math.PI*(a*a)/t;this._chirpReal[a]=Math.cos(o),this._chirpImag[a]=Math.sin(o)}const r=new Float32Array(this._m),n=new Float32Array(this._m);for(let a=0;a<t;a++)r[a]=this._chirpReal[a],n[a]=-this._chirpImag[a];for(let a=1;a<t;a++)r[this._m-a]=r[a],n[this._m-a]=n[a];this._internalFFT.transform(r,n),this._bReal=new Float32Array(this._internalFFT._real),this._bImag=new Float32Array(this._internalFFT._imag)}initHanning(){if(this._hanning)return;const t=this.size;this._hanning=new Float32Array(t);let r=0;for(let n=0;n<t;n++){const a=.5*(1-Math.cos(2*Math.PI*n/(t-1)));this._hanning[n]=a,r+=a*a}this._windowSumSq=r}transform(t,r){this.isPowerOfTwo?this.transformRadix2(t,r):this.transformBluestein(t,r)}transformRadix2(t,r){const n=this.size,a=this._rev,o=this._real,i=this._imag;if(t===o)for(let s=0;s<n;s++){const l=a[s];if(s<l){const c=o[s],u=i[s];o[s]=o[l],i[s]=i[l],o[l]=c,i[l]=u}}else for(let s=0;s<n;s++){const l=a[s];o[s]=t[l],i[s]=r?r[l]:0}for(let s=2;s<=n;s*=2){const l=s/2,c=-2*Math.PI/s,u=Math.cos(c),f=Math.sin(c);for(let h=0;h<n;h+=s){let p=1,m=0;for(let v=0;v<l;v++){const x=h+v,y=h+v+l,g=p*o[y]-m*i[y],b=p*i[y]+m*o[y],k=o[x],w=i[x];o[x]=k+g,i[x]=w+b,o[y]=k-g,i[y]=w-b;const S=p*u-m*f,j=p*f+m*u;p=S,m=j}}}}transformBluestein(t,r){const n=this.size,a=this._m,o=this._internalFFT,i=o._real,s=o._imag;i.fill(0),s.fill(0);for(let f=0;f<n;f++){const h=t[f],p=r?r[f]:0,m=this._chirpReal[f],v=this._chirpImag[f];i[f]=h*m-p*v,s[f]=h*v+p*m}o.transformRadix2(i,s);for(let f=0;f<a;f++){const h=o._real[f],p=o._imag[f],m=this._bReal[f],v=this._bImag[f];o._real[f]=h*m-p*v,o._imag[f]=h*v+p*m}const l=o._real,c=o._imag;for(let f=0;f<a;f++)c[f]=-c[f];o.transformRadix2(l,c);const u=1/a;for(let f=0;f<n;f++){const h=o._real[f]*u,p=-o._imag[f]*u,m=this._chirpReal[f],v=this._chirpImag[f];this._real[f]=h*m-p*v,this._imag[f]=h*v+p*m}}calculateSpectrum(t,r,n=!1){const a=this.size;let o=0;for(let u=0;u<a;u++)o+=t[u];const i=o/a;this._scratch||(this._scratch=new Float32Array(a));const s=this._scratch;if(n){this.initHanning();const u=this._hanning;for(let f=0;f<a;f++)s[f]=(t[f]-i)*u[f]}else for(let u=0;u<a;u++)s[u]=t[u]-i;this.transform(s);const l=r.length;let c=1/a;n&&this._windowSumSq>0&&(c=1/this._windowSumSq);for(let u=0;u<l;u++){const f=this._real[u],h=this._imag[u];r[u]+=(f*f+h*h)*c}}}function TQ(e,t,r,n=!1){const a=new Rs(t),o=new Rs(r),i=t*r,s=new Float32Array(i),l=new Float32Array(i);let c=null,u=null;if(n){c=new Float32Array(t);for(let v=0;v<t;v++)c[v]=.5*(1-Math.cos(2*Math.PI*v/(t-1)));u=new Float32Array(r);for(let v=0;v<r;v++)u[v]=.5*(1-Math.cos(2*Math.PI*v/(r-1)))}for(let v=0;v<r;v++){const x=v*t,y=a._real;let g=0;for(let k=0;k<t;k++)g+=e[x+k];const b=g/t;if(c)for(let k=0;k<t;k++)y[k]=(e[x+k]-b)*c[k];else for(let k=0;k<t;k++)y[k]=e[x+k]-b;a.transform(y);for(let k=0;k<t;k++)s[x+k]=a._real[k],l[x+k]=a._imag[k]}for(let v=0;v<t;v++){const x=o._real,y=o._imag;for(let g=0;g<r;g++){const b=g*t+v;let k=s[b],w=l[b];u&&(k*=u[g],w*=u[g]),x[g]=k,y[g]=w}o.transform(x,y);for(let g=0;g<r;g++){const b=g*t+v;s[b]=o._real[g],l[b]=o._imag[g]}}const f=new Float32Array(i);let h=1,p=t,m=r;if(n&&c&&u){p=0;for(let v=0;v<t;v++)p+=c[v]*c[v];m=0;for(let v=0;v<r;v++)m+=u[v]*u[v]}h=1/(p*m);for(let v=0;v<i;v++)f[v]=(s[v]*s[v]+l[v]*l[v])*h;return f}function $Q(e,t,r){const n=new Float32Array(e.length),a=Math.floor(t/2),o=Math.floor(r/2);for(let i=0;i<r;i++)for(let s=0;s<t;s++){const l=(s+a)%t,c=(i+o)%r,u=i*t+s,f=c*t+l;n[f]=e[u]}return n}let Bp=null;async function gv(){if(!Bp)try{const n=(await CQ(()=>import("./joraw-CtTceAiq.js"),[])).default;if(typeof n!="function")throw new Error("JoRaw WASM import failed");const a=new URL("/assets/joraw-BUh50ws_.wasm",import.meta.url).href;Bp=n({locateFile:(o,i)=>o.endsWith("joraw.wasm")?a:i+o})}catch(r){throw console.error("Failed to load joraw.js:",r),r}const e=await Bp,t=e.LibRaw||e.JoRaw;if(!t)throw new Error("JoRaw class not found");return t}const DQ=[[3.2404542,-1.5371385,-.4985314],[-.969266,1.8760108,.041556],[.0556434,-.2040259,1.0572252]],Fp=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055;async function LQ(e){const t=await createImageBitmap(e),r=t.width,n=t.height,a=document.createElement("canvas");a.width=r,a.height=n;const o=a.getContext("2d");if(!o)throw new Error("Failed to create canvas context");o.drawImage(t,0,0);const s=o.getImageData(0,0,r,n).data,l=r*n,c=new Uint16Array(l);for(let f=0;f<n;f++)for(let h=0;h<r;h++){const p=(f*r+h)*4,m=f*r+h,v=f%2===0,x=h%2===0;let y=0;v&&x?y=s[p]:!v&&!x?y=s[p+2]:y=s[p+1],c[m]=y*64}return{previewBlob:await new Promise(f=>a.toBlob(f,"image/png"))||e,analysisData:{data:c,width:r,height:n,bayerPattern:"RGGB",blackLevels:[0,0,0,0],whiteLevel:16320,metadata:{description:"Standard image (non-RAW)"},isThreePlane:!0}}}const RQ=async e=>{const t=await gv(),r=new t;try{await r.open(e,{useCameraWb:!0,outputBps:8,noAutoBright:!0,userQual:3,outputColor:1});const n=await r.imageData();return new Promise((a,o)=>{const i=document.createElement("canvas");i.width=n.width,i.height=n.height;const s=i.getContext("2d");if(!s){o(new Error("Could not create canvas context"));return}const l=s.createImageData(n.width,n.height),c=n.data,u=n.width*n.height;for(let f=0;f<u;f++){const h=f*3,p=f*4;l.data[p]=c[h],l.data[p+1]=c[h+1],l.data[p+2]=c[h+2],l.data[p+3]=255}s.putImageData(l,0,0),i.toBlob(f=>{f?a(f):o(new Error("Canvas to Blob failed"))},"image/jpeg",.85)})}finally{r.delete?r.delete():r.close()}},Pd=async e=>{var n,a,o,i,s,l,c,u,f;const t=await gv(),r=new t;try{if(await r.open(e,{}),typeof r.getRawImage!="function")throw new Error("WASM mismatch");const h=r.getRawImage(),p=await r.metadata(!0);let m=[];if((n=p.color_data)!=null&&n.cblack_rawpy_style)m=p.color_data.cblack_rawpy_style;else if((o=(a=p.color_data)==null?void 0:a.dng_levels)!=null&&o.dng_cblack)m=p.color_data.dng_levels.dng_cblack;else if(((i=p.black_level_per_channel)==null?void 0:i.length)>=4)m=p.black_level_per_channel;else if(((s=p.cblack)==null?void 0:s.length)>=4)m=p.cblack;else if(((c=(l=p.color)==null?void 0:l.cblack)==null?void 0:c.length)>=4)m=p.color.cblack;else{const b=p.black_level||p.color_data&&p.color_data.black||0;m=[b,b,b,b]}const v=[Number(m[0])||0,Number(m[1])||0,Number(m[2])||0,Number(m[3])||0],x=((u=p.idata)==null?void 0:u.filters)||0,y=((f=p.idata)==null?void 0:f.colors)||0,g=x===0&&y===3;return{data:h.data,width:h.width,height:h.height,bayerPattern:p.color_desc||"RGGB",blackLevels:v,whiteLevel:p.white_level||16383,metadata:p,isThreePlane:g}}finally{r.delete?r.delete():r.close()}};async function zp(e){const t=new Uint8Array(e.slice(0)),r=new Uint8Array(e.slice(0)),[n,a]=await Promise.all([RQ(t),Pd(r)]);return{previewBlob:n,analysisData:a}}async function IQ(e){const t=new Uint8Array(e.slice(0));return Pd(t)}const x2=e=>(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e++,e);async function BQ(e,t,r,n=!0){const a=await Pd(new Uint8Array(e)),o=await Pd(new Uint8Array(t));if(a.width!==o.width||a.height!==o.height)throw new Error("Dimension Mismatch");const i=a.width,s=a.height,l=r?x2(i):i,c=r?x2(s):s,u=l*c,f=new Uint16Array(u),h=6e4,p=1.41421356;for(let m=0;m<s;m++){const v=m*i,x=m*l;for(let y=0;y<i;y++){const g=a.data[v+y],b=o.data[v+y];let k=g-b;n&&(k/=p);let w=k+h;w=Math.max(0,Math.min(65535,w)),f[x+y]=Math.round(w)}}return{rawData:f,width:l,height:c,metadata:a.metadata}}function zu(e,t,r,n,a,o,i){const s=Math.max(0,Math.floor(n)),l=Math.max(0,Math.floor(a)),c=Math.min(t,Math.ceil(n+o)),u=Math.min(r,Math.ceil(a+i)),f=[0,0,0,0],h=[0,0,0,0],p=[0,0,0,0];for(let x=l;x<u;x++){const y=x*t,g=x%2;for(let b=s;b<c;b++){const k=b%2,w=e[y+b],S=g*2+k;f[S]+=w,h[S]+=w*w,p[S]++}}const m=[0,0,0,0],v=[0,0,0,0];for(let x=0;x<4;x++)if(p[x]>0){const y=f[x]/p[x];m[x]=y;const b=h[x]/p[x]-y*y;v[x]=Math.sqrt(Math.max(0,b))}return{x:s,y:l,width:c-s,height:u-l,means:m,stdDevs:v,pixelCount:p.reduce((x,y)=>x+y,0)}}function FQ(e,t,r,n,a,o,i,s,l,c,u){if(c<=l)return[];const f=Math.max(0,Math.floor(n)),h=Math.max(0,Math.floor(a)),p=Math.min(t,Math.ceil(n+o)),m=Math.min(r,Math.ceil(a+i)),v=c-l,x=u?Math.floor(v)+1:s,y=v/x,g=[new Uint32Array(x),new Uint32Array(x),new Uint32Array(x),new Uint32Array(x)];for(let k=h;k<m;k++){const w=k*t,S=k%2;for(let j=f;j<p;j++){const _=j%2,P=e[w+j];if(P<l||P>c)continue;const N=S*2+_;let A;u?A=Math.floor(P-l):A=Math.floor((P-l)/y),A<0&&(A=0),A>=x&&(A=x-1),g[N][A]++}}const b=[];for(let k=0;k<x;k++){const w=l+(u?k:k*y);b.push({binStart:w,c0:g[0][k],c1:g[1][k],c2:g[2][k],c3:g[3][k]})}return b}function zQ(e,t,r,n,a,o=!1,i=!1,s={rows:!1,rowGroup:0,cols:!1,colGroup:0}){const l=Math.max(0,Math.floor(n.x)),c=Math.max(0,Math.floor(n.y)),u=Math.min(t,Math.ceil(n.x+n.w)),f=Math.min(r,Math.ceil(n.y+n.h)),h=u-l,p=f-c;if(h<=1||p<=1)return null;let m=0;for(let S=l;S<u;S++)S%2===(a&1)&&m++;let v=0;for(let S=c;S<f;S++)S%2===a>>1&&v++;if(m<4||v<4)return null;const x=new Rs(m),y=new Rs(v),g=new Float32Array(Math.floor(m/2)+1),b=new Float32Array(Math.floor(v/2)+1);let k=0,w=0;for(let S=c;S<f;S++){const j=S%2;if(a>>1!==j||s.rows&&(S>>1&1)!==s.rowGroup)continue;const _=new Float32Array(m);let P=0;const N=S*t;for(let A=l;A<u;A++)A%2===(a&1)&&P<m&&(_[P++]=e[N+A]);x.calculateSpectrum(_,g,i),k++}for(let S=l;S<u;S++){const j=S%2;if((a&1)!==j||s.cols&&(S>>1&1)!==s.colGroup)continue;const _=new Float32Array(v);let P=0;for(let N=c;N<f;N++)N%2===a>>1&&P<v&&(_[P++]=e[N*t+S]);y.calculateSpectrum(_,b,i),w++}if(k>0)for(let S=0;S<g.length;S++)g[S]/=k;if(w>0)for(let S=0;S<b.length;S++)b[S]/=w;return{avgHoriz:Array.from(g),avgVert:Array.from(b)}}function WQ(e,t,r,n,a,o=!1){const i=Math.max(0,Math.floor(n.x)),s=Math.max(0,Math.floor(n.y)),l=Math.min(t,Math.ceil(n.x+n.w)),c=Math.min(r,Math.ceil(n.y+n.h));let u=-1;for(let g=s;g<c;g++)if(g%2===a>>1){u=g;break}if(u===-1)return null;let f=-1;for(let g=i;g<l;g++)if(g%2===(a&1)){f=g;break}if(f===-1)return null;const h=[];for(let g=u;g<c;g+=2){const b=g*t,k=[];for(let w=f;w<l;w+=2)k.push(e[b+w]);h.push(k)}const p=h.length;if(p===0)return null;const m=h[0].length;if(m===0)return null;const v=new Float32Array(m*p);for(let g=0;g<p;g++){const b=h[g];for(let k=0;k<m;k++)v[g*m+k]=b[k]}const x=TQ(v,m,p,o),y=$Q(x,m,p);return{width:m,height:p,data:y}}function UQ(e,t,r,n,a,o,i){const s=[],l=Math.max(0,Math.floor(n.x)),c=Math.max(0,Math.floor(n.y)),u=Math.min(t,Math.ceil(n.x+n.w)),f=Math.min(r,Math.ceil(n.y+n.h)),h=a>>1,p=a&1;for(let g=c;g<f;g++){if(g%2!==h)continue;const b=g*t;for(let k=l;k<u;k++){if(k%2!==p)continue;const w=e[b+k];w>=o&&w<=i&&s.push(w-o)}}if(s.length===0)return null;s.sort((g,b)=>g-b);const m=[s[0]];for(let g=1;g<s.length;g++)s[g]!==s[g-1]&&m.push(s[g]);const v=[],x=[],y={};for(let g=0;g<m.length-1;g++){const b=m[g],w=m[g+1]-b;v.push(w),x.push({x:b,y:w}),y[w]=(y[w]||0)+1}return{uniqueCount:m.length,diffCount:v.length,stepCounts:y,plotData:x}}async function b2(e,t){const r=await gv(),n=new r;try{const a=new Uint8Array(e.slice(0));let o=!1,i=[];if(t.customMatrix&&t.customMatrix.length===9){const h=[[t.customMatrix[0],t.customMatrix[1],t.customMatrix[2]],[t.customMatrix[3],t.customMatrix[4],t.customMatrix[5]],[t.customMatrix[6],t.customMatrix[7],t.customMatrix[8]]],p=EQ(h);if(p){const m=t.wbGains?t.wbGains[0]:1,v=t.wbGains?t.wbGains[1]:1,y=v2(p,[[m,0,0],[0,1,0],[0,0,v]]),g=v2(DQ,y);i=[g[0][0],g[0][1],g[0][2],g[1][0],g[1][1],g[1][2],g[2][0],g[2][1],g[2][2]],o=!0}else throw new Error("Custom Matrix is not invertible.")}const s={outputBps:16,noAutoBright:!0,bright:o?1:Math.pow(2,t.exposure)};t.blackLevel&&t.blackLevel.length===4&&(s.userBlack=0,s.userCblack=t.blackLevel.map(h=>{const p=Math.round(h);return p===0?1:p})),t.demosaicMethod===-1?s.noInterpolation=!0:s.userQual=t.demosaicMethod,o?(s.outputColor=0,s.gamma=[1,1],s.userMul=[1,1,1,1],s.useCameraWb=!1):(s.outputColor=1,s.useCameraWb=!0),await n.open(a,s);const l=await n.imageData(),c=new ImageData(l.width,l.height),u=c.data,f=new Uint16Array(l.data.buffer,l.data.byteOffset,l.data.byteLength/2);if(o&&i.length===9){const h=i,m=Math.pow(2,t.exposure)*.25;for(let v=0;v<f.length;v+=3){const x=f[v]/65535,y=f[v+1]/65535,g=f[v+2]/65535;let b=h[0]*x+h[1]*y+h[2]*g,k=h[3]*x+h[4]*y+h[5]*g,w=h[6]*x+h[7]*y+h[8]*g;b*=m,k*=m,w*=m,b=Math.max(0,Math.min(1,b)),k=Math.max(0,Math.min(1,k)),w=Math.max(0,Math.min(1,w)),b=Fp(b),k=Fp(k),w=Fp(w);const S=v/3*4;u[S]=Math.round(b*255),u[S+1]=Math.round(k*255),u[S+2]=Math.round(w*255),u[S+3]=255}}else for(let h=0;h<f.length;h+=3){const p=h/3*4;u[p]=f[h]>>8,u[p+1]=f[h+1]>>8,u[p+2]=f[h+2]>>8,u[p+3]=255}return c}finally{n.delete?n.delete():n.close()}}const GQ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,zIndex:i,onFocus:s,initialPosition:l,initialInternalState:c,onUpdateState:u})=>{const[f,h]=O.useState((c==null?void 0:c.channelMode)||"All"),[p,m]=O.useState((c==null?void 0:c.minVal)??0),[v,x]=O.useState((c==null?void 0:c.maxVal)??16383),[y,g]=O.useState((c==null?void 0:c.binCount)??100),[b,k]=O.useState((c==null?void 0:c.pointToPoint)??!1),[w,S]=O.useState(!1),[j,_]=O.useState([]),[P,N]=O.useState(null),[A,M]=O.useState(l||{x:100,y:100}),[B,I]=O.useState(!1),D=O.useRef({x:0,y:0});O.useEffect(()=>{u&&u({channelMode:f,minVal:p,maxVal:v,binCount:y,pointToPoint:b})},[f,p,v,y,b]),O.useEffect(()=>{if(!e||!n||!a)return;if(v<=p){N("Invalid range: Max must be greater than Min");return}N(null),S(!0);const W=setTimeout(()=>{try{const ee=FQ(n.data,n.width,n.height,a.x,a.y,a.w,a.h,y,p,v,b);_(ee)}catch(ee){console.error("Histogram calc error:",ee),N("Error calculating histogram")}finally{S(!1)}},50);return()=>clearTimeout(W)},[e,n,a==null?void 0:a.x,a==null?void 0:a.y,a==null?void 0:a.w,a==null?void 0:a.h,y,p,v,b]);const L=W=>{s&&s(),!(W.target.closest("button")||W.target.closest("input")||W.target.closest("select"))&&(I(!0),D.current={x:W.clientX-A.x,y:W.clientY-A.y})};if(O.useEffect(()=>{const W=K=>{B&&M({x:K.clientX-D.current.x,y:K.clientY-D.current.y})},ee=()=>I(!1);return B&&(window.addEventListener("mousemove",W),window.addEventListener("mouseup",ee)),()=>{window.removeEventListener("mousemove",W),window.removeEventListener("mouseup",ee)}},[B]),!e)return null;const F=o?{c0:"Blue",c1:"Green 1",c2:"Green 2",c3:"Red"}:{c0:"Red",c1:"Green 1",c2:"Green 2",c3:"Blue"},$=o?{c0:"#3b82f6",c1:"#22c55e",c2:"#4ade80",c3:"#ef4444"}:{c0:"#ef4444",c1:"#22c55e",c2:"#4ade80",c3:"#3b82f6"},z="step";return d.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl resize-both overflow-hidden min-w-[500px] min-h-[400px] w-[900px] h-[600px]",style:{left:A.x,top:A.y,zIndex:i??100},onMouseDownCapture:s,children:[d.jsxs("div",{className:`flex justify-between items-center p-4 border-b border-gray-200 dark:border-slate-700 flex-shrink-0 bg-white dark:bg-slate-900 select-none ${B?"cursor-grabbing":"cursor-grab"}`,onMouseDown:L,children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 pointer-events-none",children:"ROI Histogram"}),d.jsxs("div",{className:"flex items-center gap-1",children:[r&&d.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:d.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),d.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800/50 flex flex-wrap gap-4 items-center border-b border-gray-200 dark:border-slate-700 text-sm flex-shrink-0 relative z-10",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-semibold",children:"Channel:"}),d.jsxs("select",{value:f,onChange:W=>h(W.target.value),className:"bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-900 dark:text-slate-100 outline-none focus:ring-1 focus:ring-cyan-500",children:[d.jsx("option",{value:"All",children:"All Colors"}),d.jsx("option",{value:"0",children:F.c0}),d.jsx("option",{value:"1",children:F.c1}),d.jsx("option",{value:"2",children:F.c2}),d.jsx("option",{value:"3",children:F.c3})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-semibold",children:"Range (DN):"}),d.jsx("input",{type:"number",value:p,onChange:W=>m(Number(W.target.value)),className:"w-20 px-2 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right"}),d.jsx("span",{className:"text-gray-400",children:"-"}),d.jsx("input",{type:"number",value:v,onChange:W=>x(Number(W.target.value)),className:"w-20 px-2 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right"})]}),d.jsxs("div",{className:"flex items-center gap-4 border-l border-gray-300 dark:border-slate-600 pl-4",children:[d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:b,onChange:W=>k(W.target.checked),className:"w-4 h-4 text-cyan-600 rounded border-gray-300 focus:ring-cyan-500"}),d.jsx("span",{className:"text-gray-700 dark:text-slate-300 select-none",title:"High compute cost",children:"1:1 Point-to-Point"})]}),!b&&d.jsxs("div",{className:"flex items-center gap-2 animate-in fade-in",children:[d.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-semibold",children:"Bins:"}),d.jsx("input",{type:"number",value:y,onChange:W=>g(Math.max(1,Number(W.target.value))),className:"w-16 px-2 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right"})]})]})]}),d.jsxs("div",{className:"flex-1 p-4 relative bg-white dark:bg-slate-900 overflow-hidden min-h-0",children:[d.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-0 pointer-events-none select-none opacity-10 mix-blend-normal dark:mix-blend-plus-lighter",children:d.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:d.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),w&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10 bg-white/50 dark:bg-slate-900/50 backdrop-blur-[1px]",children:d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("div",{className:"w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mb-2"}),d.jsx("span",{className:"text-sm text-cyan-600 dark:text-cyan-400 font-semibold",children:"Calculating Histogram..."})]})}),P?d.jsx("div",{className:"flex items-center justify-center h-full text-red-500 relative z-10",children:P}):d.jsx("div",{className:"relative z-10 w-full h-full",children:d.jsx(gs,{width:"100%",height:"100%",children:d.jsxs(pv,{data:j,children:[d.jsx(vi,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3}),d.jsx(la,{dataKey:"binStart",type:"number",domain:[p,v],tickFormatter:W=>Math.floor(W).toString(),tick:{fill:"#9ca3af",fontSize:12},allowDataOverflow:!0,label:{value:"DN Value",position:"insideBottom",offset:-5,fill:"#9ca3af",fontSize:12}}),d.jsx(ca,{tick:{fill:"#9ca3af",fontSize:12},label:{value:"Count",angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:12}}),d.jsx(Xr,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6"},itemStyle:{fontSize:"12px"},labelFormatter:W=>`DN: ${Math.round(Number(W))}`,formatter:W=>[W,"Count"]}),d.jsx(Wa,{wrapperStyle:{paddingTop:"10px"}}),(f==="All"||f==="0")&&d.jsx(Wr,{type:z,dataKey:"c0",name:F.c0,stroke:$.c0,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(f==="All"||f==="1")&&d.jsx(Wr,{type:z,dataKey:"c1",name:F.c1,stroke:$.c1,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(f==="All"||f==="2")&&d.jsx(Wr,{type:z,dataKey:"c2",name:F.c2,stroke:$.c2,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(f==="All"||f==="3")&&d.jsx(Wr,{type:z,dataKey:"c3",name:F.c3,stroke:$.c3,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1})]})})})]})]})},w2=(e,t,r)=>{const n=e.length,a=["c0_h","c0_v","c1_h","c1_v","c2_h","c2_v","c3_h","c3_v"];if(t>=n||t===0)return r==="extremum"?e.map(s=>{const l={...s};return a.forEach(c=>{l[c]!==void 0&&(l[`${c}_max`]=l[c],l[`${c}_min`]=l[c])}),l}):e;const o=[],i=Math.floor(n/t);for(let s=0;s<n;s+=i){const l=Math.min(s+i,n),c=e.slice(s,l);if(c.length===0)continue;const u={...c[Math.floor(c.length/2)]};a.forEach(f=>{const h=c.map(p=>p[f]).filter(p=>p!==void 0);if(h.length>0)if(r==="extremum"){const p=h.reduce((m,v)=>m+v,0);u[f]=p/h.length,u[`${f}_max`]=Math.max(...h),u[`${f}_min`]=Math.min(...h)}else{let p=h[0];r==="min"?p=Math.min(...h):r==="average"?p=h.reduce((v,x)=>v+x,0)/h.length:p=Math.max(...h),u[f]=p}}),o.push(u)}return o},HQ=(e,t)=>{if(t<=0)return[1];const r=new Array(e);let n=0;for(let a=0;a<e;a++){const o=a-(e-1)/2,i=Math.exp(-(o*o)/(2*t*t));r[a]=i,n+=i}for(let a=0;a<e;a++)r[a]/=n;return r},VQ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,onUpdateROI:i,zIndex:s,onFocus:l,initialPosition:c,initialInternalState:u,onUpdateState:f})=>{const[h,p]=O.useState((u==null?void 0:u.selectedChannel)??0),[m,v]=O.useState(()=>(u==null?void 0:u.yMinExp)||localStorage.getItem("fft_y_min")||"-1"),[x,y]=O.useState(()=>(u==null?void 0:u.yMaxExp)||localStorage.getItem("fft_y_max")||"8"),[g,b]=O.useState(()=>(u==null?void 0:u.poolingMethod)||localStorage.getItem("fft_pooling_method")||"max"),[k,w]=O.useState((u==null?void 0:u.useHanning)??!0),[S,j]=O.useState((u==null?void 0:u.showH)??!0),[_,P]=O.useState((u==null?void 0:u.showV)??!0),[N,A]=O.useState((u==null?void 0:u.interlaceRows)??!1),[M,B]=O.useState((u==null?void 0:u.rowGroup)??0),[I,D]=O.useState((u==null?void 0:u.interlaceCols)??!1),[L,F]=O.useState((u==null?void 0:u.colGroup)??0),[$,z]=O.useState(()=>(u==null?void 0:u.theoSigma)||localStorage.getItem("fft_theo_sigma")||"1.35"),[W,ee]=O.useState(()=>(u==null?void 0:u.theoKernelSize)||localStorage.getItem("fft_theo_ksize")||"3"),[K,q]=O.useState(()=>(u==null?void 0:u.theoNoiseStd)||localStorage.getItem("fft_theo_noise")||"1.0"),[U,fe]=O.useState(()=>(u==null?void 0:u.theoScale)||localStorage.getItem("fft_theo_scale")||"1.0"),[ie,_e]=O.useState(!1),[ce,Z]=O.useState((u==null?void 0:u.intStart)||"0"),[de,ye]=O.useState((u==null?void 0:u.intEnd)||"0.5"),[X,Be]=O.useState({}),[Pe,rt]=O.useState([]),[Ge,dt]=O.useState([]),[xr,Zt]=O.useState(!1),[_r,zt]=O.useState(null),[ir,Wt]=O.useState(!1),[Jt,gt]=O.useState(null),[Hn,Er]=O.useState(!1),[Vn,fr]=O.useState(null),[Jr,_n]=O.useState(c||{x:50,y:50}),[nr,Kn]=O.useState(!1),[Ot,Pn]=O.useState(!1),Pa=O.useRef({x:0,y:0}),fa=o?{c0:"#3b82f6",c1:"#22c55e",c2:"#4ade80",c3:"#ef4444"}:{c0:"#ef4444",c1:"#22c55e",c2:"#4ade80",c3:"#3b82f6"},en=O.useMemo(()=>o?{0:"Blue",1:"Green 1",2:"Green 2",3:"Red"}:{0:"Red",1:"Green 1",2:"Green 2",3:"Blue"},[o]),mt=Q=>{const ge=Q.target.value;b(ge),localStorage.setItem("fft_pooling_method",ge)};O.useEffect(()=>{localStorage.setItem("fft_y_min",m)},[m]),O.useEffect(()=>{localStorage.setItem("fft_y_max",x)},[x]),O.useEffect(()=>{localStorage.setItem("fft_theo_sigma",$)},[$]),O.useEffect(()=>{localStorage.setItem("fft_theo_ksize",W)},[W]),O.useEffect(()=>{localStorage.setItem("fft_theo_noise",K)},[K]),O.useEffect(()=>{localStorage.setItem("fft_theo_scale",U)},[U]),O.useEffect(()=>{f&&f({selectedChannel:h,yMinExp:m,yMaxExp:x,poolingMethod:g,useHanning:k,showH:S,showV:_,interlaceRows:N,rowGroup:M,interlaceCols:I,colGroup:L,theoSigma:$,theoKernelSize:W,theoNoiseStd:K,theoScale:U,intStart:ce,intEnd:de})},[h,m,x,g,k,S,_,N,M,I,L,$,W,K,U,ce,de]),O.useEffect(()=>{if(!e||!n||!a)return;Pn(!1),Zt(!0),zt(null),dt([]),rt([]),gt(null),Be({});const Q=setTimeout(()=>{try{const ge=h===-1?[0,1,2,3]:[h],Ce={};let nt=0;for(const re of ge){const lt=zQ(n.data,n.width,n.height,a,re,!1,k,{rows:N,rowGroup:M,cols:I,colGroup:L});lt&&lt.avgHoriz.length>0&&(Ce[re]=lt,nt=Math.max(nt,lt.avgHoriz.length,lt.avgVert.length))}if(nt===0)throw new Error("Data is empty or ROI is too small.");const Fe=[],$e=.5,yt=1e-10,Je=(re,lt)=>{const ze=re.length-1,Gt=lt/$e*ze,ot=Math.round(Gt),tn=re[Math.min(ot,ze)]||0;return Math.max(tn,yt)};for(let re=0;re<nt;re++){const lt=re/(nt-1)*$e,ze={freq:parseFloat(lt.toFixed(5))};for(const Gt of ge)Ce[Gt]&&(ze[`c${Gt}_h`]=Je(Ce[Gt].avgHoriz,lt),ze[`c${Gt}_v`]=Je(Ce[Gt].avgVert,lt));Fe.push(ze)}rt(Fe);const Ve=w2(Fe,2e3,g);dt(Ve)}catch(ge){console.error("FFT Calculation Failed:",ge),zt(ge.message||"Unknown error during FFT")}finally{Zt(!1)}},50);return()=>clearTimeout(Q)},[e,n,a==null?void 0:a.x,a==null?void 0:a.y,a==null?void 0:a.w,a==null?void 0:a.h,h,g,k,N,M,I,L]);const Y=()=>{!n||!a||(Zt(!0),zt(null),setTimeout(()=>{try{const Q=h===-1?[0,1,2,3]:[h],ge={};let Ce=0;for(const $e of Q){const yt=WQ(n.data,n.width,n.height,a,$e,k);if(yt){const{width:Je,height:Ve,data:re}=yt,lt=Math.floor(Je/2),ze=Math.floor(Ve/2),Gt=Math.min(lt,ze),ot=[];for(let tn=0;tn<Gt;tn++){const rn=re[(ze+tn)*Je+(lt+tn)];ot.push(Math.max(rn,1e-10))}ge[$e]=ot,Ce=Math.max(Ce,Gt)}}if(Ce===0)throw new Error("2D Extraction failed");const nt=[];for(let $e=0;$e<Ce;$e++){const yt=$e/Ce*.5*Math.sqrt(2),Je={freq:parseFloat(yt.toFixed(5))};for(const Ve of Q)ge[Ve]&&ge[Ve][$e]!==void 0&&(Je[`c${Ve}_h`]=ge[Ve][$e]);nt.push(Je)}rt(nt);const Fe=w2(nt,2e3,g);dt(Fe),Pn(!0)}catch(Q){console.error("2D Diag Calc Error:",Q),zt(Q.message),Pn(!1)}finally{Zt(!1)}},50))},He=()=>{const Q=parseFloat(ce),ge=parseFloat(de);if(isNaN(Q)||isNaN(ge))return;const Ce={},nt=h===-1?[0,1,2,3]:[h],Fe=Ge.filter(yt=>yt.freq>=Q&&yt.freq<=ge),$e=Fe.length;if($e===0){Be({});return}nt.forEach(yt=>{let Je=0,Ve=0;Fe.forEach(re=>{const lt=re[`c${yt}_h`],ze=re[`c${yt}_v`];typeof lt=="number"&&(Je+=lt),typeof ze=="number"&&(Ve+=ze)}),Ce[yt]={h:Je/$e,v:Ve/$e,count:$e}}),Be(Ce)},kt=O.useMemo(()=>{const Q=parseFloat($),ge=parseInt(W),Ce=parseFloat(K),nt=parseFloat(U);if(isNaN(Q)||isNaN(ge)||isNaN(Ce)||isNaN(nt)||Ge.length===0)return Ge;const Fe=HQ(ge,Q),$e=Fe.reduce((Ve,re)=>Ve+re*re,0),yt=(ge-1)/2,Je=Ce*Ce*nt;return Ge.map(Ve=>{const re=Ve.freq,lt=2*Math.PI*re;let ze=0,Gt=0;for(let rn=0;rn<ge;rn++){const gn=rn-yt,da=Fe[rn],Xn=-lt*gn;ze+=da*Math.cos(Xn),Gt+=da*Math.sin(Xn)}const ot=ze*ze+Gt*Gt,tn=Je*$e*ot;return{...Ve,theory:Math.max(1e-10,tn)}})},[Ge,$,W,K,U]),br=Q=>{Q&&Q.activeLabel!==void 0&&(Er(!0),fr(Number(Q.activeLabel)),gt(null))},Tr=Q=>{if(Hn&&Vn!==null&&Q&&Q.activeLabel!==void 0){const ge=Number(Q.activeLabel);gt([Math.min(Vn,ge),Math.max(Vn,ge)])}},$r=()=>{Er(!1),fr(null)},St=Q=>{l&&l(),!(Q.target.closest("button")||Q.target.closest("input"))&&(Kn(!0),Pa.current={x:Q.clientX-Jr.x,y:Q.clientY-Jr.y})};O.useEffect(()=>{const Q=Ce=>{nr&&_n({x:Ce.clientX-Pa.current.x,y:Ce.clientY-Pa.current.y})},ge=()=>Kn(!1);return nr&&(window.addEventListener("mousemove",Q),window.addEventListener("mouseup",ge)),()=>{window.removeEventListener("mousemove",Q),window.removeEventListener("mouseup",ge)}},[nr]);const Kt=O.useMemo(()=>{if(!Jt||Pe.length===0)return null;const[Q,ge]=Jt,Ce=Pe.filter($e=>$e.freq>=Q&&$e.freq<=ge);if(Ce.length===0)return null;const nt=h===-1?[0,1,2,3]:[h],Fe={};return nt.forEach($e=>{["h","v"].forEach(yt=>{const Je=`c${$e}_${yt}`;let Ve=0,re=0;for(const lt of Ce){const ze=lt[Je];typeof ze=="number"&&(Ve+=ze,re++)}re>0&&(Fe[`${Je}_sigma`]=Math.sqrt(Ve/re))})}),{count:Ce.length,stats:Fe}},[Jt,Pe,h]),Ut=()=>{let Q=Math.pow(10,parseFloat(m)||-1);const ge=Math.pow(10,parseFloat(x)||8);return Q<=0&&(Q=1e-4),[Q,ge]},wr=()=>{if(Ge.length===0)return;let Q=1/0,ge=-1/0;if(Ge.forEach(Je=>{Je.freq<.01||Je.freq>.49||Object.keys(Je).forEach(Ve=>{if(Ve==="freq"||Ve==="theory")return;const re=Je[Ve];typeof re=="number"&&re>0&&(re<Q&&(Q=re),re>ge&&(ge=re))})}),Q===1/0)return;const Ce=Math.log10(Q),nt=Math.log10(ge),Fe=nt-Ce,yt=(Fe===0?1:Fe)*.1;v((Ce-yt).toFixed(2)),y((nt+yt).toFixed(2))},Nn=(Q,ge)=>{!a||!i||i({...a,x:a.x+Q,y:a.y+ge})},_t=(Q,ge)=>{!a||!i||i({...a,w:Math.max(2,a.w+Q),h:Math.max(2,a.h+ge)})},Pt=()=>(h===-1?[0,1,2,3]:[h]).flatMap(ge=>{const Ce=`c${ge}_h`,nt=`c${ge}_v`,Fe=fa[`c${ge}`],$e=[];return S&&$e.push(d.jsx(Wr,{type:"linear",dataKey:Ce,name:`${en[ge]} (H/Diag)`,stroke:Fe,strokeWidth:1,dot:!1,activeDot:{r:4},isAnimationActive:!1,style:{shapeRendering:"crispEdges"}},`${ge}_h`)),_&&$e.push(d.jsx(Wr,{type:"linear",dataKey:nt,name:`${en[ge]} (V)`,stroke:Fe,strokeWidth:1,strokeDasharray:"3 3",dot:!1,activeDot:{r:4},isAnimationActive:!1,style:{shapeRendering:"crispEdges"}},`${ge}_v`)),$e});return e?d.jsx(d.Fragment,{children:d.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl overflow-hidden resize-both min-w-[600px] min-h-[500px]",style:{left:Jr.x,top:Jr.y,width:"900px",height:"800px",zIndex:s??100},onMouseDownCapture:l,children:[d.jsxs("div",{className:`flex justify-between items-center p-3 border-b border-gray-200 dark:border-slate-700 flex-shrink-0 bg-gray-50 dark:bg-slate-800 z-50 relative select-none ${nr?"cursor-grabbing":"cursor-grab"}`,onMouseDown:St,children:[d.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2 pointer-events-none",children:["Power Spectrum Analysis",d.jsxs("span",{className:"text-xs font-normal bg-white dark:bg-slate-700 px-2 py-1 rounded text-gray-500 border border-gray-200 dark:border-slate-600 shadow-sm",children:["Raw Linear Data ",k?"(Hanning)":"(No Window)"]})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[r&&d.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors",children:d.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors",children:d.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),d.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-800/50 border-b border-gray-200 dark:border-slate-700 flex-shrink-0 flex flex-wrap gap-4 items-center z-40 relative",children:[d.jsxs("div",{className:"flex gap-2 items-center",children:[d.jsx("span",{className:"text-[10px] font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide",children:"Channel"}),d.jsxs("div",{className:"flex bg-white dark:bg-slate-900 rounded-lg p-0.5 border border-gray-200 dark:border-slate-600 shadow-sm",children:[d.jsx("button",{onClick:()=>p(-1),className:`px-2 py-1 rounded text-[10px] font-bold transition-all ${h===-1?"bg-slate-800 text-white shadow-sm":"text-gray-600 dark:text-slate-400 hover:bg-gray-100 dark:hover:bg-slate-800"}`,children:"All"}),[0,1,2,3].map(Q=>d.jsx("button",{onClick:()=>p(Q),className:`px-2 py-1 rounded text-[10px] font-bold transition-all ${h===Q?"bg-cyan-600 text-white shadow-sm":"text-gray-600 dark:text-slate-400 hover:bg-gray-100 dark:hover:bg-slate-800"}`,children:en[Q]},Q))]})]}),d.jsx("div",{className:"flex gap-2 items-center px-3 border-l border-gray-200 dark:border-slate-700",children:d.jsxs("button",{onClick:Y,className:`${Ot?"bg-white dark:bg-slate-200 text-indigo-600 border-indigo-600 shadow-inner":"bg-indigo-600 hover:bg-indigo-500 text-white border-indigo-700 shadow-md"} text-[10px] font-bold py-1.5 px-3 rounded transition-all flex items-center gap-1 active:scale-95 border`,title:"Perform 2D FFT and extract y=x diagonal profile",children:[d.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"2D Diagonal (y=x)"]})}),d.jsxs("div",{className:"flex items-center gap-2 px-3 border-l border-r border-gray-200 dark:border-slate-700",children:[d.jsx("span",{className:"text-[10px] font-bold text-indigo-600 dark:text-indigo-400 uppercase tracking-wide",children:"Model"}),d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("label",{className:"text-[9px] text-gray-400 dark:text-slate-500",children:"KSize"}),d.jsx("input",{type:"number",step:"2",min:"1",value:W,onChange:Q=>ee(Q.target.value),className:"w-10 text-xs bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-600 rounded px-1 text-center outline-none focus:border-indigo-500"})]}),d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("label",{className:"text-[9px] text-gray-400 dark:text-slate-500",children:"Sigma"}),d.jsx("input",{type:"number",step:"0.05",value:$,onChange:Q=>z(Q.target.value),className:"w-12 text-xs bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-600 rounded px-1 text-center outline-none focus:border-indigo-500"})]}),d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("label",{className:"text-[9px] text-gray-400 dark:text-slate-500",children:"Noise()"}),d.jsx("input",{type:"number",step:"0.1",value:K,onChange:Q=>q(Q.target.value),className:"w-10 text-xs bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-600 rounded px-1 text-center outline-none focus:border-indigo-500"})]}),d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("label",{className:"text-[9px] text-gray-400 dark:text-slate-500",children:"Scale"}),d.jsx("input",{type:"number",step:"0.1",value:U,onChange:Q=>fe(Q.target.value),className:"w-10 text-xs bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-600 rounded px-1 text-center outline-none focus:border-indigo-500"})]})]}),d.jsxs("div",{className:"flex gap-1 items-center",children:[d.jsx("span",{className:"text-[10px] font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide",children:"Pool"}),d.jsxs("select",{value:g,onChange:mt,className:"text-[10px] font-bold bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-600 rounded py-1 px-1 text-gray-700 dark:text-slate-300 outline-none focus:ring-1 focus:ring-cyan-500",children:[d.jsx("option",{value:"max",children:"Max"}),d.jsx("option",{value:"min",children:"Min"}),d.jsx("option",{value:"average",children:"Avg"})]})]}),d.jsxs("div",{className:"flex flex-col gap-1 border-l border-gray-200 dark:border-slate-700 pl-2 ml-2",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsxs("label",{className:"text-[9px] text-gray-500 dark:text-slate-400 flex items-center gap-1 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:N,onChange:Q=>A(Q.target.checked),className:"rounded-sm w-3 h-3 text-cyan-600 focus:ring-0"}),"Row Int."]}),N&&d.jsx("button",{onClick:()=>B(Q=>Q===0?1:0),className:"text-[9px] px-1 bg-gray-200 dark:bg-slate-700 text-gray-700 dark:text-slate-300 rounded font-bold w-6 text-center hover:bg-gray-300 dark:hover:bg-slate-600",children:M===0?"G1":"G2"})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsxs("label",{className:"text-[9px] text-gray-500 dark:text-slate-400 flex items-center gap-1 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:I,onChange:Q=>D(Q.target.checked),className:"rounded-sm w-3 h-3 text-cyan-600 focus:ring-0"}),"Col Int."]}),I&&d.jsx("button",{onClick:()=>F(Q=>Q===0?1:0),className:"text-[9px] px-1 bg-gray-200 dark:bg-slate-700 text-gray-700 dark:text-slate-300 rounded font-bold w-6 text-center hover:bg-gray-300 dark:hover:bg-slate-600",children:L===0?"G1":"G2"})]})]}),d.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer select-none bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-600 px-2 py-1 rounded shadow-sm",children:[d.jsx("div",{className:`w-3 h-3 rounded border flex items-center justify-center transition-colors ${k?"bg-fuchsia-600 border-fuchsia-600":"bg-gray-100 dark:bg-slate-800 border-gray-300 dark:border-slate-600"}`,children:k&&d.jsx("svg",{className:"w-2 h-2 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),d.jsx("input",{type:"checkbox",checked:k,onChange:Q=>w(Q.target.checked),className:"hidden"}),d.jsx("span",{className:"text-[10px] font-bold text-gray-700 dark:text-slate-300",children:"Hanning"})]}),d.jsxs("div",{className:"flex gap-2 items-center border-l border-gray-200 dark:border-slate-700 pl-3 ml-2",children:[d.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-600 px-2 py-1 rounded shadow-sm",children:[d.jsx("div",{className:`w-3 h-3 rounded border flex items-center justify-center transition-colors ${S?"bg-cyan-600 border-cyan-600":"bg-gray-100 dark:bg-slate-800 border-gray-300 dark:border-slate-600"}`,children:S&&d.jsx("svg",{className:"w-2 h-2 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),d.jsx("input",{type:"checkbox",checked:S,onChange:Q=>j(Q.target.checked),className:"hidden"}),d.jsx("span",{className:"text-[10px] font-bold text-gray-700 dark:text-slate-300",children:"H"})]}),d.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-600 px-2 py-1 rounded shadow-sm",children:[d.jsx("div",{className:`w-3 h-3 rounded border flex items-center justify-center transition-colors ${_?"bg-cyan-600 border-cyan-600":"bg-gray-100 dark:bg-slate-800 border-gray-300 dark:border-slate-600"}`,children:_&&d.jsx("svg",{className:"w-2 h-2 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),d.jsx("input",{type:"checkbox",checked:_,onChange:Q=>P(Q.target.checked),className:"hidden"}),d.jsx("span",{className:"text-[10px] font-bold text-gray-700 dark:text-slate-300",children:"V"})]})]}),d.jsxs("div",{className:"relative ml-auto",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>_e(!ie),className:`px-2 py-1 rounded text-[10px] font-bold transition-all border ${ie?"bg-emerald-600 text-white border-emerald-600 shadow-md ring-2 ring-emerald-500/30":"bg-white dark:bg-slate-900 text-emerald-600 dark:text-emerald-400 border-emerald-200 dark:border-emerald-800 hover:bg-emerald-50 dark:hover:bg-slate-800"}`,children:" (Integration)"}),i&&d.jsx("button",{onClick:()=>Wt(!ir),className:`px-2 py-1 rounded text-[10px] font-bold transition-all border ${ir?"bg-indigo-600 text-white border-indigo-600 shadow-md ring-2 ring-indigo-500/30":"bg-white dark:bg-slate-900 text-indigo-600 dark:text-indigo-400 border-indigo-200 dark:border-indigo-800 hover:bg-indigo-50 dark:hover:bg-slate-800"}`,children:"ROI"})]}),ie&&d.jsxs("div",{className:"absolute top-8 right-0 z-50 w-80 bg-white dark:bg-slate-900 rounded-xl shadow-2xl border border-gray-200 dark:border-slate-700 p-4 animate-in slide-in-from-top-2",children:[d.jsx("h4",{className:"text-[10px] uppercase font-bold text-emerald-600 dark:text-emerald-400 mb-2 border-b border-gray-100 dark:border-slate-800 pb-1",children:"Discrete Mean (Pooled)"}),d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx("span",{className:"text-[10px] text-gray-500",children:"Range:"}),d.jsx("input",{type:"number",step:"0.01",value:ce,onChange:Q=>Z(Q.target.value),className:"w-16 px-1 py-0.5 text-xs border rounded bg-transparent dark:border-slate-600 dark:text-white"}),d.jsx("span",{className:"text-gray-400",children:"-"}),d.jsx("input",{type:"number",step:"0.01",value:de,onChange:Q=>ye(Q.target.value),className:"w-16 px-1 py-0.5 text-xs border rounded bg-transparent dark:border-slate-600 dark:text-white"}),d.jsx("button",{onClick:He,className:"flex-1 bg-emerald-600 hover:bg-emerald-500 text-white text-[10px] font-bold py-1 rounded",children:"Calculate Avg"})]}),d.jsxs("div",{className:"flex flex-col gap-2 max-h-48 overflow-y-auto",children:[[0,1,2,3].map(Q=>{if(h!==-1&&h!==Q)return null;const ge=X[Q];if(!ge)return null;const Ce=fa[`c${Q}`],nt=en[Q];return d.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800/50 p-2 rounded text-[10px] border border-gray-100 dark:border-slate-800",children:[d.jsxs("div",{className:"flex items-center gap-2 font-bold mb-1",style:{color:Ce},children:[d.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:Ce}}),nt," ",d.jsxs("span",{className:"text-gray-400 font-normal",children:["(",ge.count," pts)"]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-x-2 gap-y-1 text-gray-700 dark:text-slate-300 font-mono",children:[d.jsxs("div",{children:["H Mean: ",d.jsx("span",{className:"font-bold",children:ge.h.toExponential(3)})]}),d.jsxs("div",{children:["V Mean: ",d.jsx("span",{className:"font-bold",children:ge.v.toExponential(3)})]}),d.jsxs("div",{className:"opacity-70",children:["H RMS",Math.sqrt(ge.h).toFixed(3)]}),d.jsxs("div",{className:"opacity-70",children:["V RMS",Math.sqrt(ge.v).toFixed(3)]})]})]},Q)}),Object.keys(X).length===0&&d.jsx("div",{className:"text-center text-gray-400 text-[10px] italic",children:"Click Calculate"})]})]}),ir&&d.jsx("div",{className:"absolute top-8 right-0 z-50 w-64 bg-white dark:bg-slate-900 rounded-xl shadow-2xl border border-gray-200 dark:border-slate-700 p-4 animate-in slide-in-from-top-2",children:d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"text-[10px] uppercase font-bold text-gray-400 dark:text-slate-500 mb-2",children:"Move (Position)"}),d.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[d.jsx("div",{}),d.jsx("button",{onClick:()=>Nn(0,-1),className:"p-2 bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 rounded-md text-gray-700 dark:text-slate-200 transition-colors",children:d.jsx("svg",{className:"w-3 h-3 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 15l7-7 7 7"})})}),d.jsx("div",{}),d.jsx("button",{onClick:()=>Nn(-1,0),className:"p-2 bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 rounded-md text-gray-700 dark:text-slate-200 transition-colors",children:d.jsx("svg",{className:"w-3 h-3 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M15 19l-7-7 7-7"})})}),d.jsx("div",{className:"flex items-center justify-center",children:d.jsx("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full"})}),d.jsx("button",{onClick:()=>Nn(1,0),className:"p-2 bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 rounded-md text-gray-700 dark:text-slate-200 transition-colors",children:d.jsx("svg",{className:"w-3 h-3 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M9 5l7 7-7 7"})})}),d.jsx("div",{}),d.jsx("button",{onClick:()=>Nn(0,1),className:"p-2 bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 rounded-md text-gray-700 dark:text-slate-200 transition-colors",children:d.jsx("svg",{className:"w-3 h-3 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M19 9l-7 7-7-7"})})}),d.jsx("div",{})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-[10px] uppercase font-bold text-gray-400 dark:text-slate-500 mb-2",children:"Resize (Dimensions)"}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"text-[9px] text-center text-gray-500",children:"Width"}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx("button",{onClick:()=>_t(-1,0),className:"flex-1 py-1 bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 rounded text-xs font-mono text-gray-700 dark:text-slate-300",children:"-"}),d.jsx("button",{onClick:()=>_t(1,0),className:"flex-1 py-1 bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 rounded text-xs font-mono text-gray-700 dark:text-slate-300",children:"+"})]})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"text-[9px] text-center text-gray-500",children:"Height"}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx("button",{onClick:()=>_t(0,-1),className:"flex-1 py-1 bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 rounded text-xs font-mono text-gray-700 dark:text-slate-300",children:"-"}),d.jsx("button",{onClick:()=>_t(0,1),className:"flex-1 py-1 bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 rounded text-xs font-mono text-gray-700 dark:text-slate-300",children:"+"})]})]})]})]}),a&&d.jsxs("div",{className:"pt-2 border-t border-gray-100 dark:border-slate-800 text-[10px] font-mono text-gray-500 text-center",children:["X:",Math.round(a.x)," Y:",Math.round(a.y)," W:",Math.round(a.w)," H:",Math.round(a.h)]})]})})]}),d.jsxs("div",{className:"flex gap-2 items-center ml-auto",children:[d.jsx("button",{onClick:wr,className:"px-2 py-1 text-[10px] font-bold bg-cyan-100 text-cyan-700 hover:bg-cyan-200 dark:bg-cyan-900/30 dark:text-cyan-300 dark:hover:bg-cyan-900/50 rounded border border-cyan-200 dark:border-cyan-800/50 transition-colors",title:"Auto-scale Y-Axis",children:"Auto"}),d.jsx("span",{className:"text-[10px] font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide",children:"Y-Axis (Log)"}),d.jsxs("div",{className:"flex items-center bg-white dark:bg-slate-900 rounded-lg border border-gray-200 dark:border-slate-600 shadow-sm overflow-hidden",children:[d.jsx("input",{type:"number",value:m,onChange:Q=>v(Q.target.value),className:"w-10 py-1 text-xs text-center bg-transparent outline-none text-gray-700 dark:text-slate-200 border-r border-gray-200 dark:border-slate-700",placeholder:"Min"}),d.jsx("span",{className:"px-1 text-gray-400 text-[9px] bg-gray-50 dark:bg-slate-800/50 py-1",children:"to"}),d.jsx("input",{type:"number",value:x,onChange:Q=>y(Q.target.value),className:"w-10 py-1 text-xs text-center bg-transparent outline-none text-gray-700 dark:text-slate-200",placeholder:"Max"})]})]})]}),d.jsxs("div",{className:"flex-1 p-4 overflow-hidden flex flex-col gap-2 relative bg-gray-50/30 dark:bg-slate-900/30",children:[Kt&&Jt&&d.jsxs("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 z-50 bg-white/95 dark:bg-slate-800/95 backdrop-blur-md shadow-xl border border-indigo-200 dark:border-indigo-800 rounded-xl p-4 flex flex-col items-center animate-in fade-in slide-in-from-top-4",children:[d.jsxs("div",{className:"flex justify-between items-center w-full border-b border-gray-100 dark:border-slate-700 pb-2 mb-2",children:[d.jsx("h4",{className:"text-xs font-bold uppercase text-indigo-600 dark:text-indigo-400 tracking-wider",children:"Frequency Range Integration"}),d.jsx("button",{onClick:()=>gt(null),className:"text-gray-400 hover:text-red-500 transition-colors ml-4",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsx("div",{className:"text-center mb-3",children:d.jsxs("span",{className:"text-[10px] text-gray-500 dark:text-slate-400 font-mono",children:["[",Jt[0].toFixed(4)," - ",Jt[1].toFixed(4),"] cy/px (",Kt.count," pts)"]})}),d.jsx("div",{className:"grid grid-cols-2 gap-x-8 gap-y-2 text-sm",children:Object.entries(Kt.stats).map(([Q,ge])=>{const Ce=Q.includes("_v"),nt=parseInt(Q.charAt(1)),Fe=en[nt]||`Ch${nt}`,$e=fa[`c${nt}`];return d.jsxs("div",{className:"flex items-center justify-between gap-4",children:[d.jsxs("span",{className:"font-bold flex items-center gap-1.5",children:[d.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:$e}}),d.jsxs("span",{style:{color:$e},children:[Fe," ",Ce?"(V)":"(H)"]})]}),d.jsxs("span",{className:"font-mono font-bold text-gray-700 dark:text-slate-200",children:[" = ",Number(ge).toFixed(4)]})]},Q)})}),d.jsx("div",{className:"mt-2 text-[9px] text-gray-400 dark:text-slate-500 italic",children:"* Assumes white noise within band ( = MeanPower)"})]}),xr&&d.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-50 bg-white/90 dark:bg-slate-900/90 backdrop-blur-[2px]",children:[d.jsx("div",{className:"w-10 h-10 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mb-4"}),d.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold animate-pulse",children:"Computing FFT..."})]}),_r?d.jsx("div",{className:"flex items-center justify-center h-full text-red-500 font-semibold bg-red-50 dark:bg-red-900/10 rounded-xl border border-red-100 dark:border-red-900/20",children:_r}):d.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 rounded-xl p-2 flex flex-col relative z-20 shadow-sm overflow-hidden min-h-0",children:[d.jsx("div",{className:"absolute top-2 left-2 z-20 bg-white/80 dark:bg-slate-900/80 px-2 py-1 rounded border border-gray-200 dark:border-slate-700",children:d.jsx("h3",{className:"text-[10px] font-bold uppercase tracking-wider text-gray-500 dark:text-slate-400",children:"Power Spectrum (Overlay: Real vs Theory)"})}),d.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none select-none opacity-20 z-0 mix-blend-normal dark:mix-blend-plus-lighter",children:d.jsx("svg",{viewBox:"0 0 500 60",className:"w-[512px] h-auto",children:d.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),d.jsx("div",{className:"flex-1 relative z-10",onMouseDown:br,onMouseMove:Tr,onMouseUp:$r,style:{cursor:Hn?"col-resize":"crosshair"},children:d.jsx(gs,{width:"100%",height:"100%",children:d.jsxs(pv,{data:kt,margin:{top:25,right:10,bottom:20,left:0},children:[d.jsx(vi,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),d.jsx(la,{dataKey:"freq",type:"number",domain:[0,.5],tickCount:6,tick:{fill:"#6b7280",fontSize:10},label:{value:"Frequency (cycles/sample)",position:"insideBottom",offset:-10,fill:"#6b7280",fontSize:11}}),d.jsx(ca,{scale:"log",domain:Ut(),allowDataOverflow:!0,tick:{fill:"#6b7280",fontSize:10},tickFormatter:Q=>Number(Q).toExponential(0),label:{value:"Power",angle:-90,position:"insideLeft",fill:"#6b7280",fontSize:10},width:45}),d.jsx(Xr,{contentStyle:{backgroundColor:"rgba(17, 24, 39, 0.95)",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6",fontSize:"12px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},itemStyle:{padding:0},formatter:Q=>[Number(Q).toExponential(4),""],labelFormatter:Q=>`Freq: ${Number(Q).toFixed(5)}`}),d.jsx(Wa,{wrapperStyle:{fontSize:"10px"}}),d.jsx(Wr,{type:"monotone",dataKey:"theory",name:`Theory (=${$}, N=${K})`,stroke:"#6366f1",strokeWidth:2,dot:!1,isAnimationActive:!1,style:{shapeRendering:"geometricPrecision"}}),Pt(),Jt&&d.jsx(tu,{x1:Jt[0],x2:Jt[1],strokeOpacity:.3,fill:"#8884d8",fillOpacity:.15})]})})})]})]})]})}):null},KQ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,zIndex:i,onFocus:s,initialPosition:l,initialInternalState:c,onUpdateState:u})=>{const[f,h]=O.useState((c==null?void 0:c.selectedChannelKey)||"G1"),[p,m]=O.useState((c==null?void 0:c.blackLevel)??0),[v,x]=O.useState((c==null?void 0:c.whiteLevel)??16383),[y,g]=O.useState(null),[b,k]=O.useState(!1),[w,S]=O.useState(null),[j,_]=O.useState(l||{x:150,y:150}),[P,N]=O.useState(!1),A=O.useRef({x:0,y:0});O.useEffect(()=>{u&&u({selectedChannelKey:f,blackLevel:p,whiteLevel:v})},[f,p,v]),O.useEffect(()=>{if(e&&n&&!c){const D=n.blackLevels?Math.floor(n.blackLevels[1]):0;m(D),x(n.whiteLevel||16383),g(null)}},[e,n]);const M=()=>{if(!n||!a)return;S(null),k(!0);const L=(o?{B:0,G1:1,G2:2,R:3}:{R:0,G1:1,G2:2,B:3})[f];setTimeout(()=>{try{const F=UQ(n.data,n.width,n.height,a,L,p,v);F?g(F):(S("No data found in selection with current filters."),g(null))}catch(F){console.error("Analysis failed:",F),S(F.message||"Analysis error")}finally{k(!1)}},50)},B=D=>{s&&s(),!(D.target.closest("button")||D.target.closest("input")||D.target.closest("select"))&&(N(!0),A.current={x:D.clientX-j.x,y:D.clientY-j.y})};if(O.useEffect(()=>{const D=F=>{P&&_({x:F.clientX-A.current.x,y:F.clientY-A.current.y})},L=()=>N(!1);return P&&(window.addEventListener("mousemove",D),window.addEventListener("mouseup",L)),()=>{window.removeEventListener("mousemove",D),window.removeEventListener("mouseup",L)}},[P]),!e)return null;const I=o?["B","G1","G2","R"]:["R","G1","G2","B"];return d.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl resize-both overflow-hidden min-w-[500px] min-h-[400px] w-[900px] h-[700px]",style:{left:j.x,top:j.y,zIndex:i??100},onMouseDownCapture:s,children:[d.jsxs("div",{className:`flex justify-between items-center p-4 border-b border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-900 select-none ${P?"cursor-grabbing":"cursor-grab"}`,onMouseDown:B,children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2 pointer-events-none",children:"Quantization Step Analysis"}),d.jsxs("div",{className:"flex items-center gap-1",children:[r&&d.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:d.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 p-2",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),d.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800/50 border-b border-gray-200 dark:border-slate-700 flex flex-wrap gap-4 items-end flex-shrink-0",children:[d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Channel"}),d.jsx("select",{value:f,onChange:D=>h(D.target.value),className:"bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded px-3 py-1.5 text-sm text-gray-900 dark:text-slate-100 outline-none focus:ring-1 focus:ring-cyan-500 min-w-[80px]",children:I.map(D=>d.jsx("option",{value:D,children:D},D))})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Black Level"}),d.jsx("input",{type:"number",value:p,onChange:D=>m(Number(D.target.value)),className:"w-24 px-3 py-1.5 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-sm text-gray-900 dark:text-slate-100"})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"White Level"}),d.jsx("input",{type:"number",value:v,onChange:D=>x(Number(D.target.value)),className:"w-24 px-3 py-1.5 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-sm text-gray-900 dark:text-slate-100"})]}),d.jsx("button",{onClick:M,disabled:b,className:"mb-0.5 px-5 py-1.5 bg-cyan-600 hover:bg-cyan-500 text-white font-bold rounded shadow-sm hover:shadow transition-colors disabled:opacity-50 text-sm",children:b?"Analyzing...":"Run Analysis"})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 flex flex-col gap-4 bg-white dark:bg-slate-900 min-h-0",children:[w&&d.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded text-sm text-center flex-shrink-0",children:w}),!y&&!b&&!w&&d.jsx("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400 dark:text-slate-500 h-full",children:d.jsx("p",{children:"Configure parameters and click Run Analysis"})}),y&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 flex-shrink-0",children:[d.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700 text-center",children:[d.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 uppercase mb-1",children:"Unique Codes"}),d.jsx("div",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:y.uniqueCount})]}),d.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700 text-center",children:[d.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 uppercase mb-1",children:"Total Diffs"}),d.jsx("div",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:y.diffCount})]})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700 overflow-hidden flex-shrink-0",children:[d.jsx("div",{className:"px-4 py-2 bg-gray-50 dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700 text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Step Distribution"}),d.jsx("div",{className:"p-4 flex flex-wrap gap-x-8 gap-y-2 text-sm font-mono max-h-32 overflow-y-auto",children:Object.entries(y.stepCounts).sort((D,L)=>parseFloat(D[0])-parseFloat(L[0])).map(([D,L])=>d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("span",{className:"text-gray-500 dark:text-slate-400",children:["Step ",D,":"]}),d.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:String(L)})]},D))})]}),d.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 rounded-xl p-2 relative overflow-hidden min-h-[300px]",children:[d.jsx("div",{className:"absolute top-2 left-4 text-xs font-bold text-gray-400 dark:text-slate-500 pointer-events-none z-20 bg-white/80 dark:bg-slate-900/80 px-2 rounded",children:"Step Size vs Code Value"}),d.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-0 pointer-events-none select-none opacity-10 mix-blend-normal dark:mix-blend-plus-lighter",children:d.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:d.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),d.jsx("div",{className:"relative z-10 w-full h-full",children:d.jsx(gs,{width:"100%",height:"100%",children:d.jsxs(pv,{data:y.plotData,margin:{top:20,right:20,bottom:20,left:10},children:[d.jsx(vi,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),d.jsx(la,{dataKey:"x",type:"number",domain:["auto","auto"],tick:{fill:"#9ca3af",fontSize:10},label:{value:"Code Value (Shifted)",position:"insideBottom",offset:-10,fill:"#9ca3af",fontSize:11}}),d.jsx(ca,{tick:{fill:"#9ca3af",fontSize:10},domain:[0,"auto"],allowDataOverflow:!1,label:{value:"Step Size (Delta)",angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:11}}),d.jsx(Xr,{contentStyle:{backgroundColor:"rgba(17, 24, 39, 0.95)",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6",fontSize:"12px"},labelFormatter:D=>`Val: ${D}`,formatter:D=>[D,"Step Size"]}),d.jsx(Wr,{type:"stepAfter",dataKey:"y",stroke:"#0891b2",strokeWidth:1.5,dot:{r:1.5,fill:"#0891b2",strokeWidth:0},activeDot:{r:4},isAnimationActive:!1})]})})})]})]})]})]})},wP=({initialPosition:e={x:20,y:80},children:t,className:r="",onClose:n,zIndex:a,onFocus:o})=>{const[i,s]=O.useState(e),[l,c]=O.useState(!1),[u,f]=O.useState({x:0,y:0}),h=O.useRef(null),p=m=>{o&&o(),!(m.target.closest("button")||m.target.closest("input"))&&(c(!0),f({x:m.clientX-i.x,y:m.clientY-i.y}))};return O.useEffect(()=>{const m=x=>{var y,g;if(l){const b=x.clientX-u.x,k=x.clientY-u.y,w=window.innerWidth-(((y=h.current)==null?void 0:y.offsetWidth)||100),S=window.innerHeight-(((g=h.current)==null?void 0:g.offsetHeight)||100);s({x:Math.max(0,Math.min(b,w)),y:Math.max(0,Math.min(k,S))})}},v=()=>{c(!1)};return l&&(window.addEventListener("mousemove",m),window.addEventListener("mouseup",v)),()=>{window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",v)}},[l,u]),d.jsxs("div",{ref:h,style:{left:i.x,top:i.y,zIndex:a??90},onMouseDownCapture:o,className:`fixed shadow-2xl rounded-xl border border-gray-200 dark:border-slate-700 bg-white/95 dark:bg-slate-900/90 backdrop-blur-md transition-shadow duration-200 ${l?"cursor-grabbing shadow-xl ring-2 ring-cyan-500/30":"shadow-lg"} ${r}`,children:[d.jsx("div",{onMouseDown:p,className:"absolute inset-0 w-full h-8 cursor-grab active:cursor-grabbing z-0",title:"Drag to move"}),d.jsx("div",{className:"relative z-10",children:t})]})},XQ=[{href:"https://y-g-jiang.github.io/LAC.html",text:"",abbr:"LAC",description:""},{href:"https://y-g-jiang.github.io/CCGV.html",text:"adobeIECMF",abbr:"CCGV",description:"acrRAWxy"},{href:"https://y-g-jiang.github.io/JTJS.html",text:"",abbr:"JTJS",description:"CMF/"},{href:"https://y-g-jiang.github.io/CBLD.html",text:"",abbr:"CBLD",description:""},{href:"https://y-g-jiang.github.io/XJZS.html",text:"",abbr:"XJZS",description:""}],qQ=({isOpen:e,onClose:t})=>e?d.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:d.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-3xl rounded-2xl shadow-2xl border border-gray-200 dark:border-slate-700 overflow-hidden flex flex-col max-h-[90vh]",onClick:r=>r.stopPropagation(),children:[d.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"About / Tools"}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-1 rounded hover:bg-gray-200 dark:hover:bg-slate-700",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsxs("div",{className:"p-6 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700",children:[d.jsx("div",{className:"mb-8 p-4 bg-gray-50 dark:bg-slate-800/50 rounded-xl border border-gray-100 dark:border-slate-700 text-center",children:d.jsxs("p",{className:"text-lg text-gray-700 dark:text-slate-300",children:[d.jsx("span",{className:"font-bold mr-2",children:"about:"}),d.jsx("a",{href:"https://y-g-jiang.github.io/JOindex.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline break-all font-mono",children:"https://y-g-jiang.github.io/JOindex.html"})]})}),d.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[d.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 flex-1"}),d.jsx("span",{className:"text-sm font-bold text-gray-400 dark:text-slate-500 uppercase tracking-wider",children:"Tools Collection"}),d.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 flex-1"})]}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:XQ.map(r=>d.jsxs("a",{href:r.href,target:"_blank",rel:"noopener noreferrer",className:"group block p-4 rounded-xl border border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-800/30 hover:bg-gray-50 dark:hover:bg-slate-800 hover:border-cyan-500 dark:hover:border-cyan-500 hover:shadow-md transition-all duration-200 relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-gradient-to-bl from-cyan-500/5 to-transparent -mr-8 -mt-8 rounded-full pointer-events-none group-hover:from-cyan-500/10 transition-colors"}),d.jsxs("div",{className:"flex items-center gap-3 mb-2 relative z-10",children:[d.jsx("span",{className:"px-2 py-1 text-xs font-bold bg-gray-100 dark:bg-slate-700 text-gray-600 dark:text-slate-300 group-hover:bg-cyan-100 dark:group-hover:bg-cyan-900/50 group-hover:text-cyan-700 dark:group-hover:text-cyan-300 rounded transition-colors border border-gray-200 dark:border-slate-600 group-hover:border-cyan-200 dark:group-hover:border-cyan-800",children:r.abbr}),d.jsx("h3",{className:"font-bold text-gray-800 dark:text-slate-200 group-hover:text-cyan-600 dark:group-hover:text-cyan-400 transition-colors",children:r.text})]}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 pl-1 group-hover:text-gray-600 dark:group-hover:text-slate-300 transition-colors relative z-10",children:r.description})]},r.abbr))})]})]})}):null,YQ=({isOpen:e,onClose:t,data:r,fileName:n,warning:a})=>{const[o,i]=O.useState(""),s=u=>{const f=new WeakSet;try{return JSON.stringify(u,(h,p)=>{if(typeof p=="bigint")return p.toString()+"n";if(typeof p=="object"&&p!==null){if(f.has(p))return"[Circular]";if(f.add(p),ArrayBuffer.isView(p))return`[${p.constructor.name}]`}return p})}catch{return"[Unable to serialize object]"}},l=O.useMemo(()=>{if(!r)return[];const u=[],f=(h,p=0)=>{if(p>5)return"...";if(h==null)return String(h);if(h instanceof Date)return h.toLocaleString();if(typeof h=="number")return h.toString();if(typeof h=="string")return h;if(typeof h=="bigint")return h.toString()+"n";if(ArrayBuffer.isView(h))return`<${h.constructor.name} len=${h.length} bytes=${h.byteLength}>`;if(h instanceof ArrayBuffer)return`<ArrayBuffer bytes=${h.byteLength}>`;if(typeof h=="object"){if(Array.isArray(h))return h.length===0?"[]":h.length>20?`[${h.slice(0,10).map(x=>typeof x=="number"?x.toFixed(2):f(x,p+1)).join(", ")}, ... (+${h.length-10} more)]`:`[${h.map(v=>typeof v=="number"?Number.isInteger(v)?v:v.toFixed(4):f(v,p+1)).join(", ")}]`;try{const m=Object.keys(h);return m.length>5?`{Object with ${m.length} keys}`:s(h)}catch{return"<Complex Object>"}}return String(h)};try{if(typeof r!="object")return[{key:"Value",value:String(r)}];Object.keys(r).sort().forEach(p=>{if(p==="MakerNote"||p==="UserComment"||p.includes("Strip")||p.includes("Offset")){u.push({key:p,value:"<Binary/Internal Data>"});return}const m=r[p];u.push({key:p,value:f(m)})})}catch(h){console.error("Error processing EXIF data:",h),u.push({key:"Error",value:"Failed to process metadata structure."})}return u},[r]);if(!e)return null;const c=l.filter(u=>u.key.toLowerCase().includes(o.toLowerCase())||u.value.toLowerCase().includes(o.toLowerCase()));return d.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:d.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-3xl max-h-[90vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700",onClick:u=>u.stopPropagation(),children:[d.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700",children:[d.jsxs("div",{className:"overflow-hidden",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:"EXIF Data"}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1 font-mono truncate",children:n})]}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-2 rounded-full hover:bg-gray-100 dark:hover:bg-slate-800",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a&&d.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 px-4 py-2 border-b border-amber-100 dark:border-amber-800/50 text-center",children:d.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 whitespace-pre-line font-medium leading-relaxed",children:a})}),d.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:d.jsxs("div",{className:"relative",children:[d.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),d.jsx("input",{type:"text",placeholder:"Search tags...",value:o,onChange:u=>i(u.target.value),className:"w-full pl-9 pr-4 py-2 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500 outline-none text-gray-900 dark:text-slate-100 transition-colors placeholder-gray-400"})]})}),d.jsx("div",{className:"overflow-y-auto flex-1 p-0 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700",children:c.length>0?d.jsxs("table",{className:"w-full text-left border-collapse table-fixed",children:[d.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800 sticky top-0 shadow-sm z-10",children:d.jsxs("tr",{children:[d.jsx("th",{className:"py-3 px-5 font-semibold text-xs text-gray-500 dark:text-slate-400 uppercase tracking-wider w-1/3 border-b border-gray-200 dark:border-slate-700",children:"Tag Name"}),d.jsx("th",{className:"py-3 px-5 font-semibold text-xs text-gray-500 dark:text-slate-400 uppercase tracking-wider w-2/3 border-b border-gray-200 dark:border-slate-700",children:"Value"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-800",children:c.map(u=>d.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-800/50 transition-colors group",children:[d.jsx("td",{className:"py-2 px-5 text-sm font-medium text-cyan-600 dark:text-cyan-400 font-mono break-words align-top",children:u.key}),d.jsx("td",{className:"py-2 px-5 text-sm text-gray-700 dark:text-slate-300 font-mono break-words align-top group-hover:text-gray-900 dark:group-hover:text-slate-100",children:u.value})]},u.key))})]}):d.jsx("div",{className:"flex flex-col items-center justify-center h-64 text-gray-400 dark:text-slate-500",children:d.jsxs("p",{children:['No tags found matching "',o,'"']})})}),d.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50 flex justify-end rounded-b-2xl",children:d.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-white rounded-lg text-sm font-semibold transition-colors",children:"Close"})})]})})},QQ=100,Wp=e=>{if(e.length===0)return 0;if(e.length===1)return e[0];if(e.length===2)return .5*(e[0]+e[1]);let t=[...e].sort((r,n)=>r-n);for(;t.length>4;){let r=1/0,n=0;const a=t.length,o=Math.floor(a/2);for(let i=0;i<=a-o;i++){const s=t[i+o-1]-t[i];s<r&&(r=s,n=i)}t=t.slice(n,n+o)}return t.reduce((r,n)=>r+n,0)/t.length},k2=({min:e,max:t,value:r,onChange:n,vertical:a=!1,logScale:o=!1})=>{const i=O.useRef(null),s=O.useRef(null),l=O.useCallback(g=>{const b=o?Math.max(1e-6,e):e,k=o?Math.max(b*1.0001,t):t,w=Math.max(b,Math.min(k,g));if(o){const S=Math.log10(b),j=Math.log10(k);return(Math.log10(w)-S)/(j-S)}return(w-b)/(k-b)},[e,t,o]),c=O.useCallback(g=>{const b=o?Math.max(1e-6,e):e,k=o?Math.max(b*1.0001,t):t;if(o){const w=Math.log10(b),S=Math.log10(k);return Math.pow(10,w+g*(S-w))}return b+g*(k-b)},[e,t,o]),u=(g,b)=>{g.preventDefault(),g.stopPropagation(),s.current=b;const k=S=>{if(!s.current||!i.current)return;const j=i.current.getBoundingClientRect();let _=0;a?_=(j.bottom-S.clientY)/j.height:_=(S.clientX-j.left)/j.width,_=Math.max(0,Math.min(1,_));const P=c(_);if(s.current==="min"){const N=r[1];n([Math.min(P,N),N])}else{const N=r[0];n([N,Math.max(P,N)])}},w=()=>{s.current=null,window.removeEventListener("mousemove",k),window.removeEventListener("mouseup",w)};window.addEventListener("mousemove",k),window.addEventListener("mouseup",w)},f=l(r[0])*100,h=l(r[1])*100,p=a?{left:"50%",top:0,bottom:0,width:"4px",transform:"translateX(-50%)"}:{top:"50%",left:0,right:0,height:"4px",transform:"translateY(-50%)"},m=a?{left:"50%",bottom:`${f}%`,height:`${h-f}%`,width:"4px",transform:"translateX(-50%)"}:{top:"50%",left:`${f}%`,width:`${h-f}%`,height:"4px",transform:"translateY(-50%)"},v="absolute w-3 h-3 bg-white border-2 border-cyan-600 rounded-full shadow-md cursor-pointer hover:scale-125 transition-transform z-10",x=a?{left:"50%",bottom:`${f}%`,transform:"translate(-50%, 50%)"}:{top:"50%",left:`${f}%`,transform:"translate(-50%, -50%)"},y=a?{left:"50%",bottom:`${h}%`,transform:"translate(-50%, 50%)"}:{top:"50%",left:`${h}%`,transform:"translate(-50%, -50%)"};return d.jsxs("div",{ref:i,className:`relative select-none ${a?"h-full w-4 py-2":"w-full h-4 px-2"}`,children:[d.jsx("div",{className:"absolute bg-gray-300 dark:bg-slate-600 rounded-full",style:p}),d.jsx("div",{className:"absolute bg-cyan-500 dark:bg-cyan-400 rounded-full",style:m}),d.jsx("div",{className:v,style:x,onMouseDown:g=>u(g,"min")}),d.jsx("div",{className:v,style:y,onMouseDown:g=>u(g,"max")})]})},ZQ=({isOpen:e,onClose:t,data:r,blackLevel:n,imageHeight:a,isBGGR:o,importedMetadata:i,theme:s,initialCameraModel:l,initialISO:c})=>{const[u,f]=O.useState("Noise"),[h,p]=O.useState(!0),[m,v]=O.useState(null),[x,y]=O.useState("default"),[g,b]=O.useState(!1),[k,w]=O.useState(!1),[S,j]=O.useState({R:!0,G1:!0,G2:!0,B:!0}),[_,P]=O.useState(""),[N,A]=O.useState(""),[M,B]=O.useState(""),[I,D]=O.useState(""),[L,F]=O.useState("10"),[$,z]=O.useState(""),[W,ee]=O.useState("0 0 0 0"),[K,q]=O.useState("0 0 0 0"),[U,fe]=O.useState(!1),[ie,_e]=O.useState(null),[ce,Z]=O.useState(!1),[de,ye]=O.useState(0),[X,Be]=O.useState(()=>localStorage.getItem("ptc_tester_name")||""),[Pe,rt]=O.useState(""),[Ge,dt]=O.useState("");O.useEffect(()=>{localStorage.setItem("ptc_tester_name",X)},[X]);const xr=O.useRef(U),Zt=O.useRef(ce),_r=O.useRef(de);O.useEffect(()=>{xr.current=U,Zt.current=ce,_r.current=de},[U,ce,de]);const[zt,ir]=O.useState(null),[Wt,Jt]=O.useState({min:.01,max:90}),[gt,Hn]=O.useState({readNoise:0,gain:1,prnu:.5}),[Er,Vn]=O.useState(2e6),fr=O.useRef(gt),Jr=O.useRef(Wt),_n=O.useRef(Er);O.useEffect(()=>{fr.current=gt,Jr.current=Wt,_n.current=Er},[gt,Wt,Er]);const[nr,Kn]=O.useState({read:"0",gain:"1.0",prnu:"0.5",rangeMin:"0.01",rangeMax:"90"}),[Ot,Pn]=O.useState({read:!0,shot:!0,prnu:!0,total:!0,fitRange:!0}),[Pa,fa]=O.useState(!1),[en,mt]=O.useState([]),[Y,He]=O.useState(null),[kt,br]=O.useState(""),Tr=O.useMemo(()=>n?n.join(","):"",[n]);O.useEffect(()=>{if(e){let T="0 0 0 0";i&&i.blackLevel?T=i.blackLevel.join(" "):T=n&&n.length===4?n.join(" "):"0 0 0 0",ee(T),q(T);let G="";if(i&&i.height?G=i.height.toString():a&&(G=a.toString()),z(G),G){const J=parseFloat(G);!isNaN(J)&&J>0?F((2309.4/J).toFixed(2)):F("10")}else F("10");_e(null),fe(!1),Z(!1),ye(0),mt([]),He(null),Jt({min:.01,max:90}),Kn({read:"0",gain:"0",prnu:"0",rangeMin:"0.01",rangeMax:"90"}),Hn({readNoise:0,gain:0,prnu:0}),P(""),A(""),B(""),D(""),f("Noise"),ir(null),Vn(2e6),br(""),w(!1),rt(J=>J.trim()===""&&l?l:J),dt(J=>J.trim()===""&&c?c:J)}},[e,Tr,i,a,r,l,c]);const $r=T=>{if(T.key==="Enter"){const G=parseFloat($);if(!isNaN(G)&&G>0){const J=(2309.4/G).toFixed(2);F(J)}T.target.blur()}},St=O.useMemo(()=>{let G=K.trim().split(/[\s,]+/).filter(Boolean).map(Number);for(G.length===1&&(G=[G[0],G[0],G[0],G[0]]);G.length<4;)G.push(0);const J=E=>{switch(E){case"R":return G[0];case"G1":return G[1];case"G2":return G[2];case"B":return G[3];default:return 0}};return r.map(E=>{const le=E.mean-J(E.channel),be=E.std>0?le/E.std:0;return{...E,x:le,std:E.std,snr:be}}).filter(E=>E.std>0)},[r,K]),Kt=O.useMemo(()=>{const T=gt.readNoise,G=T*T;return St.map(J=>{let E=0;if(u==="Noise")E=J.std;else if(u==="SNR")E=J.snr;else if(u==="Linear"){const be=J.std*J.std-G;E=J.x!==0?be/J.x:0}return{...J,y:E}})},[St,u,gt.readNoise]),Ut=O.useMemo(()=>{if(St.length===0)return"G1";const T={R:0,G1:0,G2:0,B:0},G={R:0,G1:0,G2:0,B:0};for(const le of St)T[le.channel]+=le.x,G[le.channel]++;let J="G1",E=-1/0;return Object.keys(T).forEach(le=>{const be=G[le],Se=be>0?T[le]/be:-1/0;Se>E&&(E=Se,J=le)}),J},[St]),wr=O.useCallback(()=>{let T=1/0,G=-1/0;if(St.length===0)return{min:.1,max:1};for(let J=0;J<St.length;J++){const E=St[J].x;h&&E<=0||(E<T&&(T=E),E>G&&(G=E))}return T===1/0?{min:.1,max:1}:{min:T,max:G}},[St,h]),Nn=O.useCallback(()=>{let T=1/0,G=-1/0;if(Kt.length===0)return{min:.1,max:1};for(let J=0;J<Kt.length;J++){const E=Kt[J].y;h&&E<=0||(E<T&&(T=E),E>G&&(G=E))}return T===1/0?{min:.1,max:1}:{min:T*.9,max:G*1.1}},[Kt,h]),{min:_t,max:Pt}=wr(),{min:Q,max:ge}=Nn(),Ce=Pt*(Wt.min/100),nt=Pt*(Wt.max/100),Fe=O.useMemo(()=>{if(!h&&Kt.length===0)return{shot:[],read:[],prnu:[],total:[]};const T=_?parseFloat(_):_t,G=N?parseFloat(N):Pt,J=100,E=Math.max(.1,T),le=Math.max(1,G);if(E>=le)return{shot:[],read:[],prnu:[],total:[]};const be=Math.log10(E),Xe=(Math.log10(le)-be)/J,Ke=gt.readNoise,Te=gt.gain>0?gt.gain:1,Nt=gt.prnu/100,it=[],At=[],Xt=[],oe=[];for(let qe=0;qe<=J;qe++){const ke=Math.pow(10,be+qe*Xe);if(u==="Linear"){const Dt=1/Te,vt=Nt*Nt,Gr=Dt+vt*ke;oe.push({x:ke,y:Gr}),it.push({x:ke,y:Dt}),Xt.push({x:ke,y:vt*ke})}else{const Dt=Ke,vt=Math.sqrt(ke/Te),Gr=Nt*ke,ut=Math.sqrt(Dt*Dt+vt*vt+Gr*Gr);u==="Noise"?(it.push({x:ke,y:vt}),At.push({x:ke,y:Dt}),Xt.push({x:ke,y:Gr}),oe.push({x:ke,y:ut})):(vt>0&&it.push({x:ke,y:ke/vt}),Dt>0&&At.push({x:ke,y:ke/Dt}),Gr>0&&Xt.push({x:ke,y:ke/Gr}),ut>0&&oe.push({x:ke,y:ke/ut}))}}return{shot:it,read:At,prnu:Xt,total:oe}},[Kt,h,_,N,gt,u,_t,Pt]),$e=O.useMemo(()=>{if(u==="Linear")return[];const T=parseFloat(L);if(isNaN(T)||T<=0)return[];const G=_?parseFloat(_):_t,J=N?parseFloat(N):Pt;return u==="SNR"?[{x:G,y:T},{x:J,y:T}]:[{x:G,y:G/T},{x:J,y:J/T}]},[Kt,L,u,_,N,_t,Pt]),yt=O.useCallback((T,G)=>{if(!G||G.length===0)return null;const J=[...G].sort((E,le)=>E.x-le.x);for(let E=0;E<J.length-1;E++){const le=J[E],be=J[E+1];if(le.snr<=T&&be.snr>=T||le.snr>=T&&be.snr<=T){const Se=(T-le.snr)/(be.snr-le.snr);return le.x+Se*(be.x-le.x)}}return null},[]),Je=O.useMemo(()=>{const T=St,G=1e3,J=le=>{if(le.length===0)return[];if(le.length<=G)return le;const be=[...le].sort((Ke,Te)=>Ke.x-Te.x),Se=[],Xe=be.length/G;for(let Ke=0;Ke<G;Ke++){const Te=Math.floor(Ke*Xe),Nt=Math.floor((Ke+1)*Xe),it=be.slice(Te,Nt);if(it.length===0)continue;it.sort((Xt,oe)=>Xt.std-oe.std);const At=Math.floor(it.length/2);Se.push(it[At])}return Se},E={R:[],G1:[],G2:[],B:[]};return T.forEach(le=>{E[le.channel]&&E[le.channel].push(le)}),{R:J(E.R),G1:J(E.G1),G2:J(E.G2),B:J(E.B)}},[St]),Ve=O.useMemo(()=>ie&&gt.gain?ie*gt.gain:null,[ie,gt.gain]),re=O.useMemo(()=>{if(ie===null||ie===0)return null;const T=parseFloat(L);let G=null;if(!isNaN(T)&&T>0){let Se=0,Xe=0;if(["R","G1","G2","B"].forEach(Ke=>{const Te=yt(T,Je[Ke]);Te!==null&&(Se+=Te,Xe++)}),Xe>0){const Ke=Se/Xe;G=Math.log2(ie/Ke)}}const J=parseFloat($);let E=null,le=NaN;if(!isNaN(J)&&J>0){le=16e3/J;let Se=0,Xe=0;if(["R","G1","G2","B"].forEach(Ke=>{const Te=yt(le,Je[Ke]);Te!==null&&(Se+=Te,Xe++)}),Xe>0){const Ke=Se/Xe;E=Math.log2(ie/Ke)}}let be=null;if(!isNaN(J)&&J>0){const Se=yt(le,Je[Ut]);Se!==null&&(be=Math.log2(ie/Se))}return{manualDR:G,ptpDR:E,d55DR:be,manualTarget:T,ptpTarget:le,saturationSignal:ie,dominantChannel:Ut}},[ie,L,$,Je,yt,Ut]),lt=O.useMemo(()=>{if(u==="Linear"||!re||!re.ptpTarget||isNaN(re.ptpTarget))return[];const T=re.ptpTarget,G=_?parseFloat(_):_t,J=N?parseFloat(N):Pt;return u==="SNR"?[{x:G,y:T},{x:J,y:T}]:[{x:G,y:G/T},{x:J,y:J/T}]},[u,re,_,N,_t,Pt]),ze=O.useCallback(()=>{const J=document.createElement("canvas");J.width=2048,J.height=1536;const E=J.getContext("2d");if(!E)return;const le=s==="dark",be=le?"#0f172a":"#ffffff",Se=le?"#ffffff":"#000000",Xe=le?"#475569":"#cbd5e1",Ke=le?"#1e293b":"#f1f5f9",Te=o?{R:"#ef4444",G1:"#22c55e",G2:"#4ade80",B:"#3b82f6"}:{R:"#ef4444",G1:"#22c55e",G2:"#4ade80",B:"#3b82f6"};E.fillStyle=be,E.fillRect(0,0,2048,1536);let Nt=_?parseFloat(_):_t,it=N?parseFloat(N):Pt,At=M?parseFloat(M):Q,Xt=I?parseFloat(I):ge;isNaN(Nt)&&(Nt=.1),isNaN(it)&&(it=1e4),isNaN(At)&&(At=.1),isNaN(Xt)&&(Xt=1e3);const oe={top:80,right:80,bottom:100,left:120},qe=2048-oe.left-oe.right,ke=1536-oe.top-oe.bottom,Dt=te=>{if(h){const ve=Math.log10(Math.max(1e-9,Nt)),we=Math.log10(Math.max(1e-9,it)),Ne=Math.log10(Math.max(1e-9,te));return oe.left+(Ne-ve)/(we-ve)*qe}else return oe.left+(te-Nt)/(it-Nt)*qe},vt=te=>{if(h){const ve=Math.log10(Math.max(1e-9,At)),we=Math.log10(Math.max(1e-9,Xt)),Ne=Math.log10(Math.max(1e-9,te));return oe.top+ke-(Ne-ve)/(we-ve)*ke}else return oe.top+ke-(te-At)/(Xt-At)*ke};if(E.beginPath(),h){const te=(ve,we,Ne)=>{const ht=Math.log10(Math.max(1e-9,ve)),at=Math.log10(Math.max(1e-9,we)),Ye=Math.floor(ht),Le=Math.ceil(at);for(let Me=Ye;Me<=Le;Me++){const Et=Math.pow(10,Me);let Ae=Ne?Dt(Et):vt(Et);(Ne?Ae>=oe.left-1&&Ae<=oe.left+qe+1:Ae>=oe.top-1&&Ae<=oe.top+ke+1)&&(E.lineWidth=1.5,E.strokeStyle=Xe,E.beginPath(),Ne?(E.moveTo(Ae,oe.top),E.lineTo(Ae,oe.top+ke)):(E.moveTo(oe.left,Ae),E.lineTo(oe.left+qe,Ae)),E.stroke()),E.lineWidth=.5,E.strokeStyle=Ke;for(let xt=2;xt<10;xt++){const Lt=xt*Et;Ae=Ne?Dt(Lt):vt(Lt),(Ne?Ae>=oe.left&&Ae<=oe.left+qe:Ae>=oe.top&&Ae<=oe.top+ke)&&(E.beginPath(),Ne?(E.moveTo(Ae,oe.top),E.lineTo(Ae,oe.top+ke)):(E.moveTo(oe.left,Ae),E.lineTo(oe.left+qe,Ae)),E.stroke())}}};te(Nt,it,!0),te(At,Xt,!1)}else{E.strokeStyle=Xe,E.lineWidth=1;for(let te=0;te<=5;te++){const ve=oe.left+qe*te/5;E.beginPath(),E.moveTo(ve,oe.top),E.lineTo(ve,oe.top+ke),E.stroke();const we=oe.top+ke*te/5;E.beginPath(),E.moveTo(oe.left,we),E.lineTo(oe.left+qe,we),E.stroke()}}E.strokeStyle=Se,E.lineWidth=2,E.strokeRect(oe.left,oe.top,qe,ke);const Gr=(te,ve,we)=>{te<oe.left||te>oe.left+qe||ve<oe.top||ve>oe.top+ke||(E.fillStyle=we,E.fillRect(te-1.5,ve-1.5,3,3))},ut=Kt.filter(te=>!(h&&(te.x<=0||te.y<=0)));ut.forEach(te=>{S[te.channel]&&te.channel!==Ut&&Gr(Dt(te.x),vt(te.y),Te[te.channel])}),ut.forEach(te=>{S[te.channel]&&te.channel===Ut&&Gr(Dt(te.x),vt(te.y),Te[te.channel])});const sr=(te,ve,we=[])=>{if(te.length<2)return;E.beginPath(),E.strokeStyle=ve,E.lineWidth=3,E.setLineDash(we);let Ne=!1;for(const ht of te){const at=Dt(ht.x),Ye=vt(ht.y);if(at<oe.left-100||at>oe.left+qe+100||Ye<oe.top-100||Ye>oe.top+ke+100){Ne=!1;continue}Ne?E.lineTo(at,Ye):(E.moveTo(at,Ye),Ne=!0)}E.stroke(),E.setLineDash([])},Hr=le?"#ffffff":"#000000";if(Ot.shot&&sr(Fe.shot,"#94a3b8",[5,5]),Ot.read&&sr(Fe.read,"#f43f5e",[3,3]),Ot.prnu&&sr(Fe.prnu,"#f59e0b",[3,3]),Ot.total&&sr(Fe.total,Hr,[]),$e.length===2){const te="#6366f1";sr($e,te,[4,2]);const ve=$e[1],we=vt(ve.y);we>=oe.top&&we<=oe.top+ke&&(E.fillStyle=te,E.font="bold 20px sans-serif",E.textAlign="right",E.textBaseline="bottom",E.fillText(`M.Tgt=${L}`,oe.left+qe-10,we-8))}if(lt.length===2&&(re!=null&&re.ptpTarget)){const te="#10b981";sr(lt,te,[4,4]);const ve=lt[1],we=vt(ve.y);if(we>=oe.top&&we<=oe.top+ke){E.fillStyle=te,E.font="bold 20px sans-serif",E.textAlign="right",E.textBaseline="bottom";const Ne=re.ptpTarget.toFixed(1),ht=$e.length===2?vt($e[1].y):-100,at=Math.abs(we-ht)<25?25:0;E.fillText(`PTP=${Ne}`,oe.left+qe-10,we-8-at)}}if(Ot.fitRange||ce){const te=(ve,we)=>{const Ne=Dt(ve);Ne>=oe.left&&Ne<=oe.left+qe&&(E.beginPath(),E.strokeStyle=we,E.lineWidth=2,E.setLineDash([8,8]),E.moveTo(Ne,oe.top),E.lineTo(Ne,oe.top+ke),E.stroke(),E.setLineDash([]))};te(Ce,"#22d3ee"),te(nt,"#22d3ee")}if(ie){const te=Dt(ie);te>=oe.left&&te<=oe.left+qe&&(E.strokeStyle="#ef4444",E.lineWidth=3,E.setLineDash([10,10]),E.beginPath(),E.moveTo(te,oe.top),E.lineTo(te,oe.top+ke),E.stroke(),E.setLineDash([]),E.fillStyle="#ef4444",E.font="bold 24px sans-serif",E.textAlign="center",E.fillText("Sat",te,oe.top-10))}E.fillStyle=Se,E.font="28px monospace",E.textAlign="center",E.fillText(Nt.toExponential(1),oe.left,oe.top+ke+40),E.fillText(it.toExponential(1),oe.left+qe,oe.top+ke+40),E.fillText("Signal (DN)",oe.left+qe/2,oe.top+ke+80),E.textAlign="right",E.textBaseline="middle",E.fillText(At.toExponential(1),oe.left-20,oe.top+ke),E.fillText(Xt.toExponential(1),oe.left-20,oe.top),E.save(),E.translate(oe.left-80,oe.top+ke/2),E.rotate(-Math.PI/2),E.textAlign="center",E.fillText(u==="Linear"?"(Var - RN) / Mean":u,0,0),E.restore(),E.save(),E.translate(2048/2,1536/2),E.rotate(-Math.PI/6),E.textAlign="center",E.textBaseline="middle",E.fillStyle=le?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)",E.font="bold 150px sans-serif",E.fillText(" y-g-jiang.github.io",0,0),E.restore(),E.fillStyle=Se,E.font="bold 36px sans-serif",E.textAlign="left",E.textBaseline="top",E.fillText(`PTC Export: ${u} Mode`,oe.left,20),E.font="24px sans-serif",E.fillStyle=le?"#94a3b8":"#64748b",E.fillText(`Points: ${Kt.length} | Sat Channel: ${Ut}`,oe.left,65);const Ma=oe.left+30,nl=oe.top+30,Pi=70,Io=te=>{if(!ie||te<=0)return"--";const ve=gt.readNoise,we=gt.gain,Ne=gt.prnu/100;if(we<=0)return"--";const ht=te*te,at=ve*ve,Ye=1-ht*Ne*Ne,Le=-(ht/we),Me=-(ht*at);let Et=0;if(Math.abs(Ye)<1e-8)Math.abs(Le)>1e-8&&(Et=-Me/Le);else{const Ae=Le*Le-4*Ye*Me;Ae>=0&&(Et=(-Le+Math.sqrt(Ae))/(2*Ye))}return Et>0?Math.log2(ie/Et).toFixed(2)+" EV":"--"},Dh=re!=null&&re.ptpTarget&&!isNaN(re.ptpTarget)?Io(re.ptpTarget):"--",iu=L?Io(parseFloat(L)):"--";E.font="bold 48px monospace",E.textAlign="left",E.textBaseline="top",E.shadowColor=le?"rgba(0,0,0,0.8)":"rgba(255,255,255,0.8)",E.shadowBlur=4,E.shadowOffsetX=1,E.shadowOffsetY=1;const R=(te,ve,we,Ne)=>{const ht=nl+we*Pi;E.fillStyle=Se,E.fillText(te,Ma,ht);const at=E.measureText(te).width;E.fillStyle=Ne||Se,E.fillText(ve,Ma+at,ht)},V=nr.read,ue=parseFloat(nr.gain).toFixed(3),ne=parseFloat(nr.prnu).toFixed(2)+"%";let me=`M.DR@SNR${L}: `;const Ee=parseFloat($);if(!isNaN(Ee)&&Ee>0){const te=(2309.4/Ee).toFixed(2);Math.abs(parseFloat(L)-parseFloat(te))<.05&&(me="8mpSNR=1 DR: ")}R("Tester: ",X||"N/A",0),R("Model : ",Pe||"Unknown",1),R("ISO   : ",Ge||"N/A",2),R("RN/FPN: ",V,3,"#f43f5e"),R("KADC  : ",ue,4,"#06b6d4"),R("PRNU  : ",ne,5,"#f59e0b"),R("PTP DR: ",re!=null&&re.ptpDR?re.ptpDR.toFixed(2)+" EV":"--",6,"#10b981"),R("D55 DR: ",re!=null&&re.d55DR?re.d55DR.toFixed(2)+" EV":"--",7,"#8b5cf6"),R("FWC   : ",Ve?Ve>1e4?(Ve/1e3).toFixed(1)+"k":Math.round(Ve).toString():"--",8,"#f97316"),R(me,re!=null&&re.manualDR?re.manualDR.toFixed(2)+" EV":"--",9,"#06b6d4"),R("PTCFitDR(PTP): ",Dh,10,"#10b981"),R("PTCFitDR(Man): ",iu,11,"#06b6d4"),E.save(),E.textAlign="right",E.textBaseline="bottom",E.fillStyle="#3b82f6",E.font="bold 80px sans-serif",E.shadowColor=le?"rgba(0,0,0,0.8)":"rgba(255,255,255,0.8)",E.shadowBlur=4,E.shadowOffsetX=2,E.shadowOffsetY=2;const Qe=1988,We=1476,et=90;E.fillText("Online",Qe,We),E.fillText("Jiangtherapee",Qe,We-et),E.restore();const je=document.createElement("a");je.download=`ptc_complete_${u}_${Date.now()}.jpg`,je.href=J.toDataURL("image/jpeg",.9),je.click()},[Kt,Ut,S,_,N,M,I,_t,Pt,Q,ge,h,s,u,ie,o,Ot,Fe,Ce,nt,Wt,ce,X,Pe,Ge,re,Ve,L,$e,lt,nr,$]),Gt=O.useMemo(()=>{let T=Kt;if(h&&(T=T.filter(le=>le.y>0&&le.x>0)),x==="top3"){const le=[...T].sort((Se,Xe)=>Xe.x-Se.x),be=Math.max(50,Math.ceil(le.length*.03));T=le.slice(0,be)}const G={R:[],G1:[],G2:[],B:[]};if(T.forEach(le=>{G[le.channel]&&G[le.channel].push(le)}),x==="raw")return G;const J=x==="top3"?500:QQ,E=le=>{if(le.length<=J)return le;const be=[...le].sort((Ke,Te)=>Ke.x-Te.x),Se=[],Xe=be.length/J;for(let Ke=0;Ke<J;Ke++){const Te=Math.floor(Ke*Xe),Nt=Math.floor((Ke+1)*Xe),it=be.slice(Te,Nt);if(it.length===0)continue;it.sort((Xt,oe)=>Xt.y-oe.y);const At=Math.floor(it.length/2);Se.push(it[At])}return Se};return{R:E(G.R),G1:E(G.G1),G2:E(G.G2),B:E(G.B)}},[Kt,x,h]),ot=O.useMemo(()=>{if(St.length<5)return[];const T=St.filter(J=>J.channel===Ut);return[...T.length>20?T:St].sort((J,E)=>J.x-E.x).map(J=>({mean:J.x,std:J.std}))},[St,Ut]),tn=T=>{const G=T.length;if(G===0)return[];const J=T.reduce((qe,ke)=>qe+ke,0)/G,E=T.reduce((qe,ke)=>qe+Math.pow(ke-J,2),0)/(G-1||1),le=Math.sqrt(E);if(le===0)return[{x:J-.001,density:0},{x:J,density:1},{x:J+.001,density:0}];const be=1.06*le*Math.pow(G,-.2),Se=Math.min(...T),Xe=Math.max(...T),Ke=(Xe-Se)*.2||Se*.1,Te=Math.max(0,Se-Ke),Nt=Xe+Ke,it=100,At=(Nt-Te)/(it-1),Xt=qe=>1/Math.sqrt(2*Math.PI)*Math.exp(-.5*qe*qe),oe=[];for(let qe=0;qe<it;qe++){const ke=Te+qe*At;let Dt=0;for(let vt=0;vt<G;vt++)Dt+=Xt((ke-T[vt])/be);Dt/=G*be,oe.push({x:ke,density:Dt})}return oe},rn=O.useCallback((T,G,J,E)=>{if(T.length<5)return{gain:0,prnu:0};const le=T[T.length-1].mean,be=le*(J.min/100),Se=le*(J.max/100),Xe=T.filter(ut=>ut.mean>=be&&ut.mean<=Se);if(Xe.length<5)return{gain:0,prnu:0};ir({nPoints:Xe.length});const Ke=G*G,Te=[],Nt=[];if(Xe.forEach(ut=>{const Hr=ut.std*ut.std-Ke;if(ut.mean>1&&Hr>0){const Ma=ut.mean,nl=Hr/ut.mean;Te.push({x:Ma,y:nl}),Nt.push(ut.mean/Hr)}}),Te.length<5)return{gain:0,prnu:0};const it=[],At=Te.length,Xt=E,oe=At*(At-1)/2;if(oe<=Xt)for(let ut=0;ut<At;ut++)for(let sr=ut+1;sr<At;sr++){const Hr=Te[sr].x-Te[ut].x;Math.abs(Hr)>1e-5&&it.push((Te[sr].y-Te[ut].y)/Hr)}else{const ut=Math.max(1,Math.floor(oe/Xt));for(let sr=0;sr<At;sr++)for(let Hr=sr+1;Hr<At;Hr+=ut){const Ma=Te[Hr].x-Te[sr].x;Math.abs(Ma)>1e-5&&it.push((Te[Hr].y-Te[sr].y)/Ma)}}const qe=Wp(it),ke=Te.map(ut=>ut.y-qe*ut.x),Dt=Wp(ke);let vt=0,Gr=0;if(Dt>1e-6?vt=1/Dt:vt=Wp(Nt),qe>0&&(Gr=Math.sqrt(qe)*100),Nt.length>0){const ut=tn(Nt);mt(ut),He(vt)}else mt([]);return{gain:vt,prnu:Gr}},[]),gn=O.useCallback(T=>{let G=T.read??fr.current.readNoise;const J=T.gRange??Jr.current,E=_n.current;if((T.read!==void 0||T.gRange!==void 0)&&T.gain===void 0&&T.prnu===void 0&&ot.length>0&&G>=0)w(!0),setTimeout(()=>{const be=rn(ot,G,J,E);let Se=fr.current.gain,Xe=fr.current.prnu;be.gain>0&&(Se=be.gain,Xe=be.prnu),Hn({readNoise:G,gain:Se,prnu:Xe}),T.gRange!==void 0&&Jt(T.gRange),Kn(Ke=>{var Te,Nt;return{...Ke,read:G.toString(),gain:Se>0?Se.toFixed(3):"0",prnu:Xe.toFixed(2),rangeMin:(((Te=T.gRange)==null?void 0:Te.min)??Ke.rangeMin).toString(),rangeMax:(((Nt=T.gRange)==null?void 0:Nt.max)??Ke.rangeMax).toString()}}),w(!1)},50);else{let be=T.gain!==void 0?T.gain:fr.current.gain,Se=T.prnu!==void 0?T.prnu:fr.current.prnu;Hn({readNoise:G,gain:be,prnu:Se}),T.gRange!==void 0&&Jt(T.gRange),Kn(Xe=>{var Ke,Te;return{...Xe,read:G.toString(),gain:be>0?be.toFixed(3):"0",prnu:Se.toFixed(2),rangeMin:(((Ke=T.gRange)==null?void 0:Ke.min)??Xe.rangeMin).toString(),rangeMax:(((Te=T.gRange)==null?void 0:Te.max)??Xe.rangeMax).toString()}})}},[ot,rn]),da=`${K}-${r.length}`;O.useEffect(()=>{if(!e||!r||r.length===0)return;const T=Gt[Ut];if(!T||T.length===0||kt===da)return;j({R:Ut==="R",G1:Ut==="G1",G2:Ut==="G2",B:Ut==="B"});const G=[...T].sort((be,Se)=>be.x-Se.x);let J=0;G.length>0&&(J=G[0].std);const E=St.filter(be=>be.channel===Ut);let le=-1/0;for(const be of E)be.x>le&&(le=be.x);le!==-1/0&&_e(le),gn({read:J}),br(da)},[e,r,kt,da,Gt,Ut,gn,St]);const Xn=(T,G)=>{Kn(J=>({...J,[T]:G}))},_i=T=>{let G=parseFloat(nr[T]);isNaN(G)||G<0||gn({[T]:G})},tl=()=>{q(W),br("")},ha=()=>{const T=parseFloat(nr.rangeMin),G=parseFloat(nr.rangeMax);!isNaN(T)&&!isNaN(G)&&T<G&&T>=0&&G<=100&&gn({gRange:{min:T,max:G}})},Na=(T,G)=>{T.key==="Enter"&&(G==="rangeMin"||G==="rangeMax"?ha():_i(G),T.target.blur())};O.useEffect(()=>{ot.length>0&&gn({})},[Er,ot]);const Lo=T=>{j(G=>({...G,[T]:!G[T]}))},Eh=()=>{y(T=>T==="top3"?"default":"top3")},Aa=()=>{x==="raw"?y("default"):b(!0)},Th=()=>{b(!1),y("raw")},ru=(T,G)=>{const J=parseFloat(T),E=parseFloat(G);let le=isNaN(J)?"auto":J,be=isNaN(E)?"auto":E;return h&&typeof le=="number"&&le<=0&&(le="auto"),[le,be]},to=T=>{if(!T||!T.payload)return;const G=T.payload;if(v(G),xr.current&&(_e(G.x),fe(!1)),Zt.current){const J=Jr.current.min,E=Jr.current.max,{max:le}=wr();if(le<=0)return;const be=Math.max(0,Math.min(100,G.x/le*100));if(_r.current===1){const Se=Math.min(be,E-.5);gn({gRange:{min:Se,max:E}}),ye(2)}else if(_r.current===2){const Se=Math.max(be,J+.5);gn({gRange:{min:J,max:Se}}),ye(0),Z(!1)}}},Ro=O.useCallback(T=>{const{cx:G,cy:J,fill:E}=T;return d.jsx("circle",{cx:G,cy:J,r:3,fill:E,stroke:"none",style:{cursor:"pointer"}})},[]),$h=({active:T,payload:G})=>{if(T&&G&&G.length){const J=G[0].payload;return d.jsxs("div",{className:"bg-slate-800 text-white text-xs p-2 rounded border border-slate-600 shadow-xl opacity-90 font-mono z-50",children:[d.jsx("div",{className:"font-bold border-b border-slate-600 pb-1 mb-1",children:J.channel}),d.jsxs("div",{children:["Signal: ",J.x.toFixed(2)]}),d.jsxs("div",{children:[u,": ",J.y.toFixed(4)]}),J.row!==void 0&&J.col!==void 0&&!isNaN(J.row)&&!isNaN(J.col)&&d.jsxs("div",{className:"text-cyan-400 mt-0.5",children:["Loc: Row ",J.row,", Col ",J.col]}),J.filename&&d.jsx("div",{className:"text-gray-400 mt-1 max-w-[200px] truncate",title:J.filename,children:J.filename})]})}return null},rl=T=>{f(T),T==="Linear"&&p(!1)};if(!e)return null;const nu=s==="dark"?"#ffffff":"#000000";let au=u;u==="Linear"&&(au="(Var - RN) / Mean");const ou=W!==K;return d.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in",onClick:T=>{T.stopPropagation()},children:d.jsxs("div",{className:"bg-white dark:bg-slate-900 w-[98vw] max-w-[2200px] h-[95vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700 overflow-hidden relative",onClick:T=>T.stopPropagation(),children:[d.jsx(ni,{isOpen:g,onClose:()=>b(!1),onConfirm:Th,title:"Warning: High Performance Cost",message:"Displaying all data points may cause the browser to freeze or become unresponsive, especially with large datasets. Are you sure you want to continue?",confirmText:"Yes, Show All"}),m&&d.jsxs("div",{className:"absolute top-20 right-8 z-30 bg-white/90 dark:bg-slate-800/90 border border-cyan-500 rounded-xl p-4 shadow-xl backdrop-blur-md max-w-xs animate-in fade-in zoom-in-95 duration-200",children:[d.jsxs("div",{className:"flex justify-between items-start mb-2 border-b border-gray-200 dark:border-slate-700 pb-2",children:[d.jsx("h4",{className:"font-bold text-gray-900 dark:text-white text-sm",children:"Selected Point"}),d.jsx("button",{onClick:()=>v(null),className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsx("div",{className:"space-y-1 text-xs font-mono text-gray-700 dark:text-slate-300",children:d.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1.5",children:[d.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Channel:"}),d.jsx("span",{className:"font-bold",children:m.channel}),d.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Signal (DN):"}),d.jsx("span",{children:m.x.toFixed(4)}),d.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Noise (Std):"}),d.jsx("span",{children:m.std.toFixed(4)}),d.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"SNR:"}),d.jsx("span",{className:"text-purple-600 dark:text-purple-400 font-bold",children:(m.x/m.std).toFixed(2)})]})})]}),Pa&&d.jsx("div",{className:"absolute inset-0 z-40 bg-white/95 dark:bg-slate-900/95 backdrop-blur-sm flex flex-col items-center justify-center p-8 animate-in fade-in zoom-in-95 duration-200",children:d.jsxs("div",{className:"w-full max-w-2xl h-[60vh] bg-gray-50 dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-700 shadow-2xl p-4 flex flex-col relative",children:[d.jsx("button",{onClick:()=>fa(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-red-500 transition-colors",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),d.jsxs("div",{className:"mb-4 text-center",children:[d.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-slate-200",children:"Gain Density Estimation"}),d.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:["HSM Mode: ",d.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:Y==null?void 0:Y.toFixed(4)}),d.jsx("span",{className:"mx-2",children:"|"}),"Data Points: ",en.length>0?"Density Curve Generated":"No Data"]})]}),d.jsx("div",{className:"flex-1 min-h-0",children:en.length>0?d.jsx(gs,{width:"100%",height:"100%",children:d.jsxs(bP,{data:en,margin:{top:10,right:30,left:0,bottom:20},children:[d.jsx(vi,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3,vertical:!1}),d.jsx(la,{dataKey:"x",tickFormatter:T=>T.toFixed(2),tick:{fill:"#9ca3af",fontSize:10},label:{value:"Gain (e/ADU)",position:"insideBottom",offset:-15,fill:"#9ca3af",fontSize:12}}),d.jsx(ca,{tick:{fill:"#9ca3af",fontSize:10}}),d.jsx(Xr,{cursor:{stroke:"rgba(255,255,255,0.2)"},contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6"}}),d.jsx(Rn,{type:"monotone",dataKey:"density",stroke:"#0ea5e9",fill:"#0ea5e9",fillOpacity:.3,strokeWidth:2}),Y!==null&&d.jsx(Zo,{x:Y,stroke:"#ef4444",strokeWidth:2,label:{value:"HSM",fill:"#ef4444",fontSize:10,position:"top"}})]})}):d.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:"No data in selected range"})})]})}),d.jsxs("div",{className:"flex flex-wrap justify-between items-center p-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50 gap-4 flex-shrink-0",children:[d.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2",children:["Photon Transfer Curve",d.jsxs("span",{className:"text-xs font-normal bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-300 px-2 py-0.5 rounded border border-purple-200 dark:border-purple-800",children:[r.length," Pts"]})]}),d.jsxs("div",{className:"flex gap-4 items-center flex-wrap",children:[d.jsxs("button",{onClick:ze,className:"bg-green-600 hover:bg-green-500 text-white font-bold py-1 px-3 rounded text-xs shadow-md transition-all active:scale-95 flex items-center gap-1",title:"Render all points, target lines, and metadata to a high-res JPG",children:[d.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export Complete Result"]}),d.jsxs("div",{className:"flex bg-white dark:bg-slate-700 rounded-lg p-1 border border-gray-200 dark:border-slate-600",children:[d.jsx("button",{onClick:()=>rl("Noise"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${u==="Noise"?"bg-cyan-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"Noise ()"}),d.jsx("button",{onClick:()=>rl("SNR"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${u==="SNR"?"bg-purple-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"SNR"}),d.jsx("button",{onClick:()=>rl("Linear"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${u==="Linear"?"bg-indigo-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"Linear (PTC)"})]}),d.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-600 dark:text-slate-300 cursor-pointer select-none",children:[d.jsx("input",{type:"checkbox",checked:h,onChange:T=>p(T.target.checked),className:"rounded border-gray-300 text-cyan-600 focus:ring-cyan-500 bg-gray-100 dark:bg-slate-700 dark:border-slate-600"}),"Log-Log"]}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors p-1",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-0 border-b border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-sm flex-shrink-0",children:[d.jsxs("div",{className:"lg:col-span-9 p-5 flex flex-col gap-5 border-r border-gray-200 dark:border-slate-700",children:[d.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between text-xs",children:[d.jsxs("div",{className:"flex gap-4 items-center",children:[d.jsxs("div",{className:"flex items-center gap-1.5 bg-gray-50 dark:bg-slate-800 rounded-md p-1 border border-gray-200 dark:border-slate-700",children:[d.jsx("span",{className:"font-bold text-gray-500 dark:text-slate-400 pl-1",children:"X:"}),d.jsx("input",{type:"number",placeholder:"Min",value:_,onChange:T=>P(T.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"}),d.jsx("span",{className:"text-gray-400",children:"-"}),d.jsx("input",{type:"number",placeholder:"Max",value:N,onChange:T=>A(T.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"})]}),d.jsxs("div",{className:"flex items-center gap-1.5 bg-gray-50 dark:bg-slate-800 rounded-md p-1 border border-gray-200 dark:border-slate-700",children:[d.jsx("span",{className:"font-bold text-gray-500 dark:text-slate-400 pl-1",children:"Y:"}),d.jsx("input",{type:"number",placeholder:"Min",value:M,onChange:T=>B(T.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"}),d.jsx("span",{className:"text-gray-400",children:"-"}),d.jsx("input",{type:"number",placeholder:"Max",value:I,onChange:T=>D(T.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"})]}),d.jsx("button",{onClick:()=>{P(""),A(""),B(""),D("")},className:"text-xs text-cyan-600 dark:text-cyan-400 hover:underline",children:"Auto"})]}),d.jsxs("div",{className:"flex items-center gap-1 bg-white dark:bg-slate-700 p-1 rounded-lg border border-gray-200 dark:border-slate-600",children:[d.jsx("button",{onClick:()=>Lo("R"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${S.R?"bg-red-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"R"}),d.jsx("button",{onClick:()=>Lo("G1"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${S.G1?"bg-green-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"G1"}),d.jsx("button",{onClick:()=>Lo("G2"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${S.G2?"bg-green-400 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"G2"}),d.jsx("button",{onClick:()=>Lo("B"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${S.B?"bg-blue-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"B"})]})]}),d.jsxs("div",{className:"flex flex-wrap items-end gap-8",children:[d.jsxs("div",{className:"flex flex-col bg-gray-50 dark:bg-slate-800/50 p-2 rounded border border-gray-100 dark:border-slate-700",children:[d.jsx("span",{className:"text-[9px] uppercase font-bold text-gray-500 dark:text-slate-400 mb-1",children:"Black Level (0,0 0,1 1,0 1,1)"}),d.jsx("input",{type:"text",value:W,onChange:T=>ee(T.target.value),className:"w-32 text-xs px-2 py-1 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded outline-none focus:border-cyan-500 font-mono",placeholder:"0 0 0 0"})]}),d.jsxs("div",{className:"flex flex-col justify-between bg-gray-50 dark:bg-slate-800/50 p-2 rounded border border-gray-100 dark:border-slate-700",children:[d.jsxs("div",{className:"flex justify-between items-center mb-1",children:[d.jsx("span",{className:"text-[9px] uppercase font-bold text-gray-500 dark:text-slate-400 mr-2",children:"Fit Range % (Robust)"}),d.jsx("button",{onClick:()=>{Z(!ce),ye(ce?0:1)},className:`px-1.5 py-0.5 text-[9px] rounded border transition-colors ${ce?"bg-cyan-100 text-cyan-700 border-cyan-300 animate-pulse":"bg-white dark:bg-slate-700 border-gray-300 dark:border-slate-600 text-gray-600 dark:text-slate-300 hover:bg-gray-50"}`,children:ce?de===1?"Pick Min":"Pick Max":"Select"})]}),d.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[d.jsx("input",{type:"number",step:"0.1",value:nr.rangeMin,onChange:T=>Xn("rangeMin",T.target.value),onBlur:ha,onKeyDown:T=>Na(T,"rangeMin"),className:"w-10 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-center font-bold"}),d.jsx("span",{className:"text-gray-400",children:"-"}),d.jsx("input",{type:"number",step:"0.1",value:nr.rangeMax,onChange:T=>Xn("rangeMax",T.target.value),onBlur:ha,onKeyDown:T=>Na(T,"rangeMax"),className:"w-10 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-center font-bold"})]})]}),d.jsxs("div",{className:"flex flex-col bg-indigo-50 dark:bg-indigo-900/20 p-2 rounded border border-indigo-100 dark:border-indigo-800/50",children:[d.jsx("span",{className:"text-[9px] uppercase font-bold text-indigo-600 dark:text-indigo-400 mb-1",children:"DR Params"}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-300",children:"Img H:"}),d.jsx("input",{type:"number",value:$,onChange:T=>z(T.target.value),onKeyDown:$r,placeholder:"Empty",className:"w-14 px-1 py-0.5 bg-white dark:bg-slate-900 border border-indigo-200 dark:border-indigo-800 rounded text-center font-bold text-indigo-700 dark:text-indigo-300 text-xs placeholder:font-normal placeholder:text-gray-300"})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-300",children:"Tgt SNR:"}),d.jsx("input",{type:"number",value:L,onChange:T=>F(T.target.value),className:"w-10 px-1 py-0.5 bg-white dark:bg-slate-900 border border-indigo-200 dark:border-indigo-800 rounded text-center font-bold text-indigo-700 dark:text-indigo-300 text-xs"})]})]})]}),d.jsxs("div",{className:"flex flex-col gap-1 text-[10px] justify-end pb-0.5",children:[d.jsx("button",{onClick:()=>{fe(!U),ie&&_e(null)},disabled:ce,className:`font-bold rounded border shadow-sm transition-all px-3 py-1.5 ${U?"bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400 border-amber-500 animate-pulse":"bg-white dark:bg-slate-800 text-gray-600 dark:text-slate-300 border-gray-300 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:U?"Pick Point":"Select Linear Limit"}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx("button",{onClick:Eh,className:`flex-1 font-bold rounded border shadow-sm transition-all px-2 py-1 ${x==="top3"?"bg-indigo-600 text-white border-indigo-700":"bg-white dark:bg-slate-800 text-gray-600 dark:text-slate-300 border-gray-300 dark:border-slate-600 hover:bg-gray-50"}`,children:"Top 3%"}),d.jsx("button",{onClick:Aa,className:`font-bold rounded border shadow-sm transition-all px-2 py-1 ${x==="raw"?"bg-red-600 text-white border-red-700":"text-red-500 border-red-200 hover:bg-red-50"}`,children:"All"})]})]})]}),d.jsxs("div",{className:"flex flex-wrap gap-4 items-center bg-gray-50/50 dark:bg-slate-800/20 p-2 rounded-lg border border-gray-100 dark:border-slate-800",children:[d.jsx("span",{className:"text-[10px] uppercase font-bold text-gray-400 dark:text-slate-500",children:"Metadata"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",value:X,onChange:T=>Be(T.target.value),placeholder:"Tester Name",className:"w-24 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"}),d.jsx("input",{type:"text",value:Pe,onChange:T=>rt(T.target.value),placeholder:"Camera Model",className:"w-32 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"}),d.jsx("input",{type:"text",value:Ge,onChange:T=>dt(T.target.value),placeholder:"ISO",className:"w-16 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"})]})]}),d.jsxs("div",{className:"flex gap-4 text-[10px] pt-1 justify-center sm:justify-start flex-wrap",children:[d.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[d.jsx("input",{type:"checkbox",checked:Ot.shot,onChange:T=>Pn({...Ot,shot:T.target.checked}),className:"rounded text-gray-500"})," ",d.jsx("span",{className:"text-gray-500",children:"Shot Noise"})]}),d.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[d.jsx("input",{type:"checkbox",checked:Ot.read,onChange:T=>Pn({...Ot,read:T.target.checked}),className:"rounded text-rose-500"})," ",d.jsx("span",{className:"text-rose-500",children:"Read Noise"})]}),d.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[d.jsx("input",{type:"checkbox",checked:Ot.prnu,onChange:T=>Pn({...Ot,prnu:T.target.checked}),className:"rounded text-amber-500"})," ",d.jsx("span",{className:"text-amber-500",children:"PRNU"})]}),d.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[d.jsx("input",{type:"checkbox",checked:Ot.total,onChange:T=>Pn({...Ot,total:T.target.checked}),className:"rounded text-white"})," ",d.jsx("span",{className:"text-gray-900 dark:text-white font-bold",children:"Model"})]})]})]}),d.jsxs("div",{className:"lg:col-span-3 bg-slate-100 dark:bg-slate-800 p-4 flex flex-col justify-center gap-4",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-1 px-1",children:[d.jsxs("h3",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase flex items-center gap-2",children:["Fit Parameters (D55 SAT Channel:",Ut,")",k&&d.jsx("span",{className:"text-orange-500 animate-pulse text-[10px]",children:"Calculating..."})]}),d.jsxs("div",{className:"flex gap-2 items-center",children:[d.jsx("button",{onClick:tl,disabled:k,className:`px-3 py-1 text-white text-[10px] font-bold rounded shadow-sm transition-all flex items-center gap-1 active:scale-95 
                                            ${k?"bg-gray-400 cursor-wait":ou?"bg-orange-500 hover:bg-orange-600 animate-pulse ring-2 ring-orange-400/50":"bg-cyan-600 hover:bg-cyan-500"}
                                        `,title:"Apply Black Level, Auto-detect Read Noise, then Recalculate Fit",children:k?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"w-3 h-3 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Fitting..."]}):d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),"Apply & Calc"]})}),d.jsxs("select",{value:Er,onChange:T=>Vn(Number(T.target.value)),className:"text-[9px] bg-slate-200 dark:bg-slate-700 text-gray-600 dark:text-slate-300 rounded px-1 py-0.5 border-none outline-none cursor-pointer hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors",title:"Number of point-pairs to sample for robust regression (Theil-Sen)",children:[d.jsx("option",{value:1e5,children:"100k Pairs"}),d.jsx("option",{value:5e5,children:"500k Pairs"}),d.jsx("option",{value:2e6,children:"2M Pairs"}),d.jsx("option",{value:5e6,children:"5M Pairs"}),d.jsx("option",{value:1e7,children:"10M Pairs"})]}),zt&&d.jsxs("span",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono",title:"Number of points used in regression",children:["N=",zt.nPoints]})]})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1",children:"rn/fpn"}),d.jsx("input",{type:"text",inputMode:"decimal",value:nr.read,onChange:T=>Xn("read",T.target.value),onBlur:()=>_i("read"),onKeyDown:T=>Na(T,"read"),className:"w-full text-center text-2xl font-light bg-transparent text-rose-500 outline-none border-b border-transparent focus:border-rose-500 transition-colors"})]}),d.jsxs("div",{className:"flex flex-col items-center relative group",children:[d.jsxs("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1 flex items-center gap-1",children:["Kadc (HSM)",d.jsx("button",{onClick:()=>fa(!0),className:"text-[9px] text-cyan-600 dark:text-cyan-400 hover:underline",children:"Dist."})]}),d.jsx("input",{type:"text",inputMode:"decimal",value:nr.gain,onChange:T=>Xn("gain",T.target.value),onBlur:()=>_i("gain"),onKeyDown:T=>Na(T,"gain"),className:"w-full text-center text-2xl font-light bg-transparent text-slate-700 dark:text-slate-200 outline-none border-b border-transparent focus:border-cyan-500 transition-colors"})]}),d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1",children:"PRNU (%)"}),d.jsx("input",{type:"text",inputMode:"decimal",value:nr.prnu,onChange:T=>Xn("prnu",T.target.value),onBlur:()=>_i("prnu"),onKeyDown:T=>Na(T,"prnu"),className:"w-full text-center text-2xl font-light bg-transparent text-amber-500 outline-none border-b border-transparent focus:border-amber-500 transition-colors"})]})]})]}),d.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 w-full"}),d.jsxs("div",{className:"grid grid-cols-2 gap-2 text-center",children:[d.jsxs("div",{className:"flex flex-col justify-center bg-cyan-50 dark:bg-cyan-900/10 p-2 rounded-lg border border-cyan-100 dark:border-cyan-900/30",children:[d.jsxs("h4",{className:"text-[10px] font-bold text-cyan-600 dark:text-cyan-500 uppercase tracking-wide mb-1 truncate",title:`Manual DR at SNR=${(re==null?void 0:re.manualTarget)||L}`,children:["M.DR @ SNR=",(re==null?void 0:re.manualTarget)||L]}),d.jsx("div",{className:"text-base font-bold text-cyan-700 dark:text-cyan-400 whitespace-nowrap",children:re!=null&&re.manualDR?`${re.manualDR.toFixed(2)} EV`:"--"})]}),d.jsxs("div",{className:"flex flex-col justify-center bg-emerald-50 dark:bg-emerald-900/10 p-2 rounded-lg border border-emerald-100 dark:border-emerald-900/30",title:isNaN((re==null?void 0:re.ptpTarget)||NaN)?"Requires Image Height":`Standard Point-to-Point DR (Target SNR = 16000/${$||"H"})`,children:[d.jsx("h4",{className:"text-[10px] font-bold text-emerald-600 dark:text-emerald-500 uppercase tracking-wide mb-1",children:"PTP DR"}),d.jsx("div",{className:"text-base font-bold text-emerald-700 dark:text-emerald-400 whitespace-nowrap",children:re!=null&&re.ptpDR?`${re.ptpDR.toFixed(2)} EV`:"--"})]}),d.jsxs("div",{className:"flex flex-col justify-center bg-purple-50 dark:bg-purple-900/10 p-2 rounded-lg border border-purple-100 dark:border-purple-900/30",title:isNaN((re==null?void 0:re.ptpTarget)||NaN)?"Requires Image Height":`D55 Saturation DR (Target SNR = 16000/${$||"H"} on ${re==null?void 0:re.dominantChannel} Channel)`,children:[d.jsxs("h4",{className:"text-[10px] font-bold text-purple-600 dark:text-purple-400 uppercase tracking-wide mb-1 truncate",children:["D55 DR (",re==null?void 0:re.dominantChannel,")"]}),d.jsx("div",{className:"text-base font-bold text-purple-700 dark:text-purple-400 whitespace-nowrap",children:re!=null&&re.d55DR?`${re.d55DR.toFixed(2)} EV`:"--"})]}),d.jsxs("div",{className:"flex flex-col justify-center bg-orange-50 dark:bg-orange-900/10 p-2 rounded-lg border border-orange-100 dark:border-orange-900/30",children:[d.jsx("h4",{className:"text-[10px] font-bold text-orange-600 dark:text-orange-400 uppercase tracking-wide mb-1",children:"FWC"}),d.jsx("div",{className:"text-base font-bold text-orange-600 dark:text-orange-400 font-mono whitespace-nowrap truncate",title:Ve!==null?`${Math.round(Ve)}`:"",children:Ve!==null?Ve>1e4?`${(Ve/1e3).toFixed(1)}k`:`${Math.round(Ve)}`:"--"})]})]}),ie===null&&d.jsx("div",{className:"text-center text-[10px] text-red-500 animate-pulse font-bold mt-[-10px]",children:"Please select Linear Limit on chart to calc DR"})]})]}),d.jsxs("div",{className:`flex-1 p-4 bg-white dark:bg-slate-900 relative grid grid-cols-[auto_1fr] grid-rows-[1fr_auto] gap-2 ${U||ce?"cursor-crosshair":""}`,children:[d.jsx("div",{className:"row-start-1 col-start-1 h-full",children:d.jsx(k2,{vertical:!0,min:Q,max:ge,value:[M?parseFloat(M):Q,I?parseFloat(I):ge],onChange:([T,G])=>{B(T.toString()),D(G.toString())},logScale:h})}),d.jsxs("div",{className:"row-start-1 col-start-2 relative",children:[Kt.length===0?d.jsx("div",{className:"flex h-full items-center justify-center text-gray-400",children:"No valid data points found."}):d.jsx(gs,{width:"100%",height:"100%",children:d.jsxs(NQ,{margin:{top:20,right:20,bottom:0,left:0},onClick:to,children:[d.jsx("defs",{children:d.jsxs("filter",{id:"glow",height:"300%",width:"300%",x:"-100%",y:"-100%",children:[d.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),d.jsxs("feMerge",{children:[d.jsx("feMergeNode",{in:"coloredBlur"}),d.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),d.jsx(vi,{strokeDasharray:"3 3",stroke:"#374151",opacity:.2}),d.jsx(la,{type:"number",dataKey:"x",name:"Signal",scale:h?"log":"linear",domain:ru(_,N),allowDataOverflow:!0,hide:!0}),d.jsx(ca,{type:"number",dataKey:"y",name:u,scale:h?"log":"linear",domain:ru(M,I),label:{value:au,angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:12},tick:{fill:"#9ca3af",fontSize:10},allowDataOverflow:!0}),d.jsx(Xr,{content:d.jsx($h,{}),cursor:{strokeDasharray:"3 3"}}),ie&&d.jsx(Zo,{x:ie,stroke:"red",strokeDasharray:"3 3",label:{position:"top",value:"Sat",fill:"red",fontSize:10}}),(Ot.fitRange||ce)&&d.jsxs(d.Fragment,{children:[d.jsx(Zo,{x:Ce,stroke:"#22d3ee",strokeDasharray:"5 5",label:{position:"insideTopLeft",value:`Min: ${Wt.min}%`,fill:"#22d3ee",fontSize:9}}),d.jsx(Zo,{x:nt,stroke:"#22d3ee",strokeDasharray:"5 5",label:{position:"insideTopLeft",value:`Max: ${Wt.max}%`,fill:"#22d3ee",fontSize:9}})]}),S.R&&d.jsx(on,{name:"Red",data:Gt.R,fill:"#ef4444",shape:Ro,onClick:to,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-R"),S.G1&&d.jsx(on,{name:"Green 1",data:Gt.G1,fill:"#22c55e",shape:Ro,onClick:to,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-G1"),S.G2&&d.jsx(on,{name:"Green 2",data:Gt.G2,fill:"#4ade80",shape:Ro,onClick:to,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-G2"),S.B&&d.jsx(on,{name:"Blue",data:Gt.B,fill:"#3b82f6",shape:Ro,onClick:to,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-B"),Ot.shot&&Fe.shot.length>0&&d.jsx(on,{name:"Shot Noise (Ideal)",data:Fe.shot,line:{stroke:"#94a3b8",strokeWidth:1,strokeDasharray:"5 5"},shape:()=>d.jsx(d.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-shot"),Ot.read&&Fe.read.length>0&&d.jsx(on,{name:"Read Noise Floor",data:Fe.read,line:{stroke:"#f43f5e",strokeWidth:1,strokeDasharray:"3 3"},shape:()=>d.jsx(d.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-read"),Ot.prnu&&Fe.prnu.length>0&&d.jsx(on,{name:"PRNU (Non-uniformity)",data:Fe.prnu,line:{stroke:"#f59e0b",strokeWidth:1,strokeDasharray:"3 3"},shape:()=>d.jsx(d.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-prnu"),Ot.total&&Fe.total.length>0&&d.jsx(on,{name:"Total Noise Model",data:Fe.total,line:{stroke:nu,strokeWidth:2},shape:()=>d.jsx(d.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-total"),$e.length>0&&d.jsx(on,{name:`Target SNR=${L}`,data:$e,line:{stroke:"#6366f1",strokeWidth:2,strokeDasharray:"4 2"},shape:()=>d.jsx(d.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-target"),lt.length>0&&d.jsx(on,{name:`PTP Target SNR=${re!=null&&re.ptpTarget?re.ptpTarget.toFixed(1):"?"}`,data:lt,line:{stroke:"#10b981",strokeWidth:2,strokeDasharray:"4 4"},shape:()=>d.jsx(d.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-ptp")]})}),d.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 pointer-events-none select-none opacity-25 mix-blend-normal dark:mix-blend-plus-lighter",children:d.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:d.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})})]}),d.jsx("div",{className:"row-start-2 col-start-2 w-full",children:d.jsx(k2,{min:_t,max:Pt,value:[_?parseFloat(_):_t,N?parseFloat(N):Pt],onChange:([T,G])=>{P(T.toString()),A(G.toString())},logScale:h})})]})]})})},JQ=({searchTerm:e,onSearchChange:t,manufacturers:r,selectedManufacturer:n,onManufacturerChange:a,cameras:o,onCameraSelect:i})=>d.jsx("div",{className:"sticky top-4 z-10 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm p-4 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[d.jsxs("div",{className:"relative md:col-span-3",children:[d.jsx("input",{type:"text",placeholder:"Search camera model...",value:e,onChange:s=>t(s.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 text-gray-900 dark:text-slate-200 placeholder-gray-500 dark:placeholder-slate-400"}),d.jsx("svg",{className:"w-5 h-5 text-gray-400 dark:text-slate-400 absolute top-1/2 left-3 transform -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),d.jsx("select",{value:n,onChange:s=>a(s.target.value),className:"w-full md:col-span-1 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-2 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 appearance-none text-gray-900 dark:text-slate-200",children:r.map(s=>d.jsx("option",{value:s,children:s},s))}),d.jsxs("select",{onChange:s=>i(s.target.value),className:"w-full md:col-span-1 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-2 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 appearance-none text-gray-900 dark:text-slate-200",value:"","aria-label":"Jump to camera model",children:[d.jsx("option",{value:"",disabled:!0,children:"Jump to model..."}),o.map(s=>d.jsx("option",{value:s.id,children:s.name},s.id))]})]})}),eZ=({active:e,payload:t,label:r,theme:n})=>{if(e&&t&&t.length){const a=t[0].payload,o=n==="dark"?"bg-slate-800/80 border-slate-600 text-slate-300":"bg-white/90 border-gray-200 text-gray-700";return d.jsxs("div",{className:`${o} backdrop-blur-sm border p-3 rounded-lg shadow-lg`,children:[d.jsx("p",{className:"label font-bold",children:`ISO ${r}`}),d.jsx("div",{className:"mt-2 space-y-1 text-sm",children:d.jsxs(d.Fragment,{children:[d.jsxs("div",{style:{color:"#f87171"},children:["Red: ",a.R_avg.toFixed(2)," (Range: ",a.R_range[0]," - ",a.R_range[1],")"]}),d.jsxs("div",{style:{color:"#4ade80"},children:["Green 1: ",a.G1_avg.toFixed(2)," (Range: ",a.G1_range[0]," - ",a.G1_range[1],")"]}),d.jsxs("div",{style:{color:"#60a5fa"},children:["Blue: ",a.B_avg.toFixed(2)," (Range: ",a.B_range[0]," - ",a.B_range[1],")"]}),d.jsxs("div",{style:{color:"#86efac"},children:["Green 2: ",a.G2_avg.toFixed(2)," (Range: ",a.G2_range[0]," - ",a.G2_range[1],")"]})]})})]})}return null},tZ=({data:e,theme:t="dark"})=>{const r=O.useMemo(()=>!e||e.length===0?[]:[...new Set(e.map(i=>i.iso))].sort((i,s)=>Number(i)-Number(s)),[e]),n=O.useMemo(()=>{if(!e||e.length===0)return[0,4096];const i=e.flatMap(m=>[...m.R_range,...m.G1_range,...m.G2_range,...m.B_range]);if(i.length===0)return[0,4096];let s=Math.min(...i),l=Math.max(...i);const c=.25,u=l-s;if(u<c){const m=c-u;s-=m/2,l+=m/2}const f=(l-s)*.1,h=s-f,p=l+f;return[h,p]},[e]),a=t==="dark"?"#475569":"#e5e7eb",o=t==="dark"?"#94a3b8":"#6b7280";return!e||e.length===0?d.jsx("div",{className:"flex items-center justify-center h-full text-gray-500 dark:text-slate-500",children:d.jsx("p",{children:"No data available for this mode."})}):d.jsx(gs,{width:"100%",height:"100%",children:d.jsxs(bP,{data:e,margin:{top:5,right:20,left:0,bottom:5},children:[d.jsx(vi,{strokeDasharray:"3 3",stroke:a}),d.jsx(la,{dataKey:"iso",type:"number",domain:["dataMin","dataMax"],tick:{fill:o,fontSize:12},scale:"log",allowDuplicatedCategory:!1,ticks:r}),d.jsx(ca,{tick:{fill:o,fontSize:12},domain:n,allowDecimals:!0,tickFormatter:i=>Number(i).toFixed(3)}),d.jsx(Xr,{content:d.jsx(eZ,{theme:t})}),d.jsx(Wa,{wrapperStyle:{fontSize:"14px",color:o}}),d.jsx(Rn,{type:"monotone",dataKey:"R_range",fill:"#f87171",stroke:"none",fillOpacity:.2,name:"Red",legendType:"none"}),d.jsx(Wr,{type:"monotone",dataKey:"R_avg",stroke:"#f87171",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Red"}),d.jsx(Rn,{type:"monotone",dataKey:"G1_range",fill:"#4ade80",stroke:"none",fillOpacity:.2,name:"Green 1",legendType:"none"}),d.jsx(Wr,{type:"monotone",dataKey:"G1_avg",stroke:"#4ade80",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Green 1"}),d.jsx(Rn,{type:"monotone",dataKey:"B_range",fill:"#60a5fa",stroke:"none",fillOpacity:.2,name:"Blue",legendType:"none"}),d.jsx(Wr,{type:"monotone",dataKey:"B_avg",stroke:"#60a5fa",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Blue"}),d.jsx(Rn,{type:"monotone",dataKey:"G2_range",fill:"#86efac",stroke:"none",fillOpacity:.2,name:"Green 2",legendType:"none"}),d.jsx(Wr,{type:"monotone",dataKey:"G2_avg",stroke:"#86efac",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Green 2"})]})})},rZ=C.forwardRef(({camera:e,theme:t="dark"},r)=>{const n=O.useMemo(()=>e.shootingModes.map(f=>f.modeName),[e.shootingModes]),[a,o]=O.useState(n[0]||""),{chartData:i,tableData:s}=O.useMemo(()=>{const f=e.shootingModes.find(m=>m.modeName===a);if(!(f!=null&&f.data))return{chartData:[],tableData:[]};const h=f.data.map(m=>({iso:m.iso,R_range:m.r.range,R_avg:m.r.avg,G1_range:m.g1.range,G1_avg:m.g1.avg,B_range:m.b.range,B_avg:m.b.avg,G2_range:m.g2.range,G2_avg:m.g2.avg})),p=f.data.map(m=>({iso:m.iso,levels:[m.r.avg,m.g1.avg,m.g2.avg,m.b.avg],clipping:m.clipping}));return{chartData:h,tableData:p}},[e.shootingModes,a]),l=`Raw Data (${a})`,c=O.useRef(null),u=O.useRef(null);return O.useEffect(()=>{const f=c.current,h=u.current;if(!f||!h)return;const p=new ResizeObserver(m=>{for(let v of m){const{width:x}=v.contentRect,g=Math.max(8,x/35);h.style.fontSize=`${g}px`}});return p.observe(f),()=>p.disconnect()},[]),d.jsxs("div",{ref:r,className:"bg-white dark:bg-slate-800/50 border border-gray-200 dark:border-slate-700 rounded-xl shadow-lg p-6 flex flex-col gap-6 transform hover:scale-[1.02] hover:border-cyan-500/50 transition-all duration-500 ease-in-out",children:[d.jsxs("div",{className:"border-b border-gray-200 dark:border-slate-700 pb-4",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-slate-100",children:e.name}),d.jsx("p",{className:"text-cyan-600 dark:text-cyan-400",children:e.manufacturer})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-slate-300",children:"Black Level vs. ISO"}),d.jsx("select",{value:a,onChange:f=>o(f.target.value),className:"w-full sm:w-auto bg-gray-50 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-md px-3 py-1 text-sm outline-none focus:ring-2 focus:ring-cyan-500 transition-all duration-300 text-gray-900 dark:text-slate-200","aria-label":`Select shooting mode for ${e.name}`,children:n.map(f=>d.jsx("option",{value:f,children:f},f))})]}),d.jsxs("div",{ref:c,className:"h-64 relative",children:[d.jsx(tZ,{data:i,theme:t},a),d.jsx("div",{className:"absolute top-1/2 left-[52%] transform -translate-x-1/2 -translate-y-1/2 -rotate-30 pointer-events-none",children:d.jsx("p",{ref:u,className:"font-bold text-gray-900/10 dark:text-slate-200/40 whitespace-nowrap",children:" y-g-jiang.github.io"})})]})]}),d.jsxs("div",{className:"overflow-x-auto",children:[d.jsx("div",{className:"flex justify-between items-center mb-4",children:d.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-slate-300",children:l})}),d.jsxs("table",{className:"w-full text-left border-collapse",children:[d.jsx("thead",{className:"bg-gray-100 dark:bg-slate-700/50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-700 dark:text-slate-300",children:"ISO"}),d.jsx("th",{className:"p-3 font-semibold text-sm text-red-500 dark:text-red-400",children:"Red"}),d.jsx("th",{className:"p-3 font-semibold text-sm text-green-600 dark:text-green-400",children:"Green 1"}),d.jsx("th",{className:"p-3 font-semibold text-sm text-blue-500 dark:text-blue-400",children:"Blue"}),d.jsx("th",{className:"p-3 font-semibold text-sm text-green-500 dark:text-green-300",children:"Green 2"})]})}),d.jsx("tbody",{children:s.map(({iso:f,levels:h,clipping:p})=>d.jsxs("tr",{className:"border-b border-gray-200 dark:border-slate-700/50 last:border-b-0",children:[d.jsxs("td",{className:"p-3 font-mono text-gray-700 dark:text-slate-300 whitespace-nowrap",children:[f,p&&d.jsx("span",{className:"ml-3 text-xs font-semibold text-amber-600 dark:text-amber-400 bg-amber-100 dark:bg-amber-900/50 px-2 py-1 rounded-full align-middle",children:"Clipping"})]}),d.jsx("td",{className:"p-3 font-mono text-red-500 dark:text-red-400",children:h[0].toFixed(2)}),d.jsx("td",{className:"p-3 font-mono text-green-600 dark:text-green-400",children:h[1].toFixed(2)}),d.jsx("td",{className:"p-3 font-mono text-blue-500 dark:text-blue-400",children:h[3].toFixed(2)}),d.jsx("td",{className:"p-3 font-mono text-green-500 dark:text-green-300",children:h[2].toFixed(2)})]},f))})]})]})]})}),Ue=(e,t,r)=>({avg:e,range:[t,r]}),xe=(e=255)=>{const t=e+(Math.random()-.5)*2,r=Math.random()*.2+.05;return{avg:t,range:[parseFloat((t-r).toFixed(2)),parseFloat((t+r).toFixed(2))]}},Up=[{id:"olympus-om1",name:"Olympus OM-1",manufacturer:"Olympus",shootingModes:[{modeName:"Single Shot",data:[{iso:200,r:Ue(254.9,254.89,254.91),g1:Ue(254.87,254.86,254.88),b:Ue(254.9,254.89,254.91),g2:Ue(254.87,254.86,254.88)},{iso:400,r:Ue(254.9,254.89,254.91),g1:Ue(254.87,254.86,254.88),b:Ue(254.9,254.89,254.91),g2:Ue(254.87,254.86,254.88),clipping:!0}]},{modeName:"20fps",data:[{iso:200,r:Ue(254.94,254.83,254.96),g1:Ue(254.92,254.81,254.96),b:Ue(254.94,254.83,254.96),g2:Ue(254.93,254.81,254.95)},{iso:400,r:Ue(254.94,254.83,254.96),g1:Ue(254.92,254.81,254.96),b:Ue(254.94,254.83,254.96),g2:Ue(254.93,254.81,254.95),clipping:!0}]},{modeName:"50fps",data:[{iso:200,r:Ue(254.82,254.75,254.94),g1:Ue(254.74,254.68,254.87),b:Ue(254.82,254.75,254.94),g2:Ue(254.75,254.68,254.87)},{iso:400,r:Ue(254.82,254.75,254.94),g1:Ue(254.74,254.68,254.87),b:Ue(254.82,254.75,254.94),g2:Ue(254.75,254.68,254.87),clipping:!0}]}]},{id:"panasonic-g9",name:"Panasonic G9",manufacturer:"Panasonic",shootingModes:[{modeName:"Single Shot",data:[{iso:200,r:Ue(254.9,254.89,254.91),g1:Ue(254.87,254.86,254.88),b:Ue(254.9,254.89,254.91),g2:Ue(254.87,254.86,254.88)},{iso:400,r:Ue(254.9,254.89,254.91),g1:Ue(254.87,254.86,254.88),b:Ue(254.9,254.89,254.91),g2:Ue(254.87,254.86,254.88),clipping:!0}]},{modeName:"30fps",data:[{iso:200,r:Ue(254.94,254.83,254.96),g1:Ue(254.92,254.81,254.96),b:Ue(254.94,254.83,254.96),g2:Ue(254.93,254.81,254.95)},{iso:400,r:Ue(254.94,254.83,254.96),g1:Ue(254.92,254.81,254.96),b:Ue(254.94,254.83,254.96),g2:Ue(254.93,254.81,254.95),clipping:!0}]}]},{id:"virtual-cam-1",name:"Virtual Camera Pro",manufacturer:"Virtual",shootingModes:[{modeName:"Standard",data:[{iso:100,r:xe(255),g1:xe(255),b:xe(255),g2:xe(255)},{iso:200,r:xe(255.2),g1:xe(255.2),b:xe(255.2),g2:xe(255.2)},{iso:400,r:xe(255.5),g1:xe(255.5),b:xe(255.5),g2:xe(255.5)},{iso:800,r:xe(256),g1:xe(256),b:xe(256),g2:xe(256)},{iso:1600,r:xe(257),g1:xe(257),b:xe(257),g2:xe(257),clipping:!0}]},{modeName:"High Speed",data:[{iso:200,r:xe(256),g1:xe(256),b:xe(256),g2:xe(256)},{iso:400,r:xe(256.3),g1:xe(256.3),b:xe(256.3),g2:xe(256.3)},{iso:800,r:xe(256.8),g1:xe(256.8),b:xe(256.8),g2:xe(256.8)},{iso:1600,r:xe(257.5),g1:xe(257.5),b:xe(257.5),g2:xe(257.5),clipping:!0},{iso:3200,r:xe(259),g1:xe(259),b:xe(259),g2:xe(259),clipping:!0}]},{modeName:"Low Light",data:[{iso:800,r:xe(254),g1:xe(254),b:xe(254),g2:xe(254)},{iso:1600,r:xe(254.5),g1:xe(254.5),b:xe(254.5),g2:xe(254.5)},{iso:3200,r:xe(255),g1:xe(255),b:xe(255),g2:xe(255),clipping:!0},{iso:6400,r:xe(256),g1:xe(256),b:xe(256),g2:xe(256),clipping:!0}]}]}],nZ=({isOpen:e,onClose:t,theme:r})=>{const[n,a]=O.useState(""),[o,i]=O.useState("All"),s=O.useMemo(()=>["All",...Array.from(new Set(Up.map(f=>f.manufacturer))).sort()],[]),l=O.useMemo(()=>Up.filter(u=>{const f=u.name.toLowerCase().includes(n.toLowerCase()),h=o==="All"||u.manufacturer===o;return f&&h}),[n,o]),c=u=>{const f=document.getElementById(`camera-${u}`);f&&f.scrollIntoView({behavior:"smooth"})};return e?d.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:d.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-6xl h-[90vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700 overflow-hidden",onClick:u=>u.stopPropagation(),children:[d.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:[d.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2",children:["Camera Black Level Database",d.jsxs("span",{className:"text-xs font-normal bg-cyan-100 dark:bg-cyan-900/30 text-cyan-600 dark:text-cyan-400 px-2 py-0.5 rounded border border-cyan-200 dark:border-cyan-800",children:[Up.length," Models"]})]}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-2 rounded-full hover:bg-gray-100 dark:hover:bg-slate-800",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700 bg-gray-50/50 dark:bg-slate-800/30",children:d.jsx(JQ,{searchTerm:n,onSearchChange:a,manufacturers:s,selectedManufacturer:o,onManufacturerChange:i,cameras:l,onCameraSelect:c})}),d.jsx("div",{className:"flex-1 overflow-y-auto p-6 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700 bg-gray-100 dark:bg-slate-950",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-2 gap-6",children:[l.map(u=>d.jsx("div",{id:`camera-${u.id}`,children:d.jsx(rZ,{camera:u,theme:r})},u.id)),l.length===0&&d.jsx("div",{className:"col-span-full flex flex-col items-center justify-center py-20 text-gray-400 dark:text-slate-600",children:d.jsx("p",{className:"text-lg",children:"No cameras found matching your criteria."})})]})})]})}):null},aZ=({isOpen:e,onClose:t,zIndex:r=150})=>{const[n,a]=O.useState(""),[o,i]=O.useState(""),[s,l]=O.useState(""),[c,u]=O.useState(""),[f,h]=O.useState(null),p=()=>{const m=parseFloat(n),v=parseFloat(o),x=parseFloat(s),y=parseFloat(c);if(isNaN(m)||isNaN(v)||isNaN(x)||isNaN(y)){h(null);return}const g=m,b=v,k=x*x,w=y*y,S=(g+b)/2;if(S<=1e-9){h(0);return}const j=k*w/S,_=Math.sqrt(j);h(_)};return e?d.jsxs(wP,{initialPosition:{x:window.innerWidth/2-160,y:window.innerHeight/2-200},onClose:t,zIndex:r,className:"w-80 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 flex flex-col shadow-2xl",children:[d.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800",children:[d.jsx("h3",{className:"text-sm font-bold text-gray-700 dark:text-slate-200",children:"Cross-Compensation Calc"}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsxs("div",{className:"p-4 flex flex-col gap-3 text-xs",children:[d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"H Mean (Power/Var)"}),d.jsx("input",{type:"number",step:"any",value:n,onChange:m=>a(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"V Mean (Power/Var)"}),d.jsx("input",{type:"number",step:"any",value:o,onChange:m=>i(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"H RMS 0 (Sigma)"}),d.jsx("input",{type:"number",step:"any",value:s,onChange:m=>l(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"V RMS 0 (Sigma)"}),d.jsx("input",{type:"number",step:"any",value:c,onChange:m=>u(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),d.jsx("button",{onClick:p,className:"mt-2 w-full py-2 bg-indigo-600 hover:bg-indigo-500 text-white font-bold rounded shadow transition-colors active:scale-95",children:"Calculate Sigma"}),f!==null&&d.jsxs("div",{className:"mt-2 p-3 bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-200 dark:border-indigo-800 rounded text-center animate-in fade-in slide-in-from-top-1",children:[d.jsx("span",{className:"block text-[10px] uppercase font-bold text-gray-500 dark:text-slate-400 mb-1",children:"Original White Noise Sigma"}),d.jsx("span",{className:"text-lg font-mono font-bold text-indigo-700 dark:text-indigo-300 select-all",children:f.toFixed(5)})]})]})]}):null};function S2(e,t,r){const a=e*t*2,o=8,i=o+a,s="Fake",l="NoiseCam",c="NoiseCam",u=P=>{const N=new Uint8Array(P.length+1);for(let A=0;A<P.length;A++)N[A]=P.charCodeAt(A);return N[P.length]=0,N},f=u(s),h=u(l),p=u(c),m=[{id:254,type:4,count:1,value:0},{id:256,type:4,count:1,value:e},{id:257,type:4,count:1,value:t},{id:258,type:3,count:1,value:16},{id:259,type:3,count:1,value:1},{id:262,type:3,count:1,value:32803},{id:271,type:2,count:f.length,value:f},{id:272,type:2,count:h.length,value:h},{id:273,type:4,count:1,value:o},{id:277,type:3,count:1,value:1},{id:278,type:4,count:1,value:t},{id:279,type:4,count:1,value:a},{id:33421,type:3,count:2,value:[2,2]},{id:33422,type:1,count:4,value:[0,1,1,2]},{id:50706,type:1,count:4,value:[1,4,0,0]},{id:50717,type:2,count:p.length,value:p}],v=2+m.length*12+4;let x=0;const y=m.map(P=>{let N=1;P.type===3&&(N=2),P.type===4&&(N=4);const A=P.count*N,M=A<=4;let B=0;return M||(B=x,x+=A,x%2!==0&&x++),{...P,fits:M,totalBytes:A,extraOffset:B}}),g=i+v,b=g+x,k=new ArrayBuffer(b),w=new DataView(k),S=new Uint8Array(k);w.setUint16(0,18761,!0),w.setUint16(2,42,!0),w.setUint32(4,i,!0);const j=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);S.set(j,o);let _=i;return w.setUint16(_,m.length,!0),_+=2,y.forEach(P=>{if(w.setUint16(_,P.id,!0),w.setUint16(_+2,P.type,!0),w.setUint32(_+4,P.count,!0),P.fits){const N=_+8;Array.isArray(P.value)?P.value.forEach((A,M)=>{P.type===1&&w.setUint8(N+M,A),P.type===3&&w.setUint16(N+M*2,A,!0)}):P.value instanceof Uint8Array||(P.type===3&&w.setUint16(N,P.value,!0),P.type===4&&w.setUint32(N,P.value,!0))}else{const N=g+P.extraOffset;w.setUint32(_+8,N,!0);const A=N;P.value instanceof Uint8Array?S.set(P.value,A):Array.isArray(P.value)&&P.value.forEach((M,B)=>{P.type===1&&w.setUint8(A+B,M),P.type===3&&w.setUint16(A+B*2,M,!0)})}_+=12}),w.setUint32(_,0,!0),k}const oZ="http://localhost:5428",iZ=(e=!1)=>{const[t,r]=O.useState({isConnected:!1,message:"Initializing...",hasDngConverter:!1});return O.useEffect(()=>{if(e){r({isConnected:!1,message:"Bridge Paused",hasDngConverter:!1});return}const n=async()=>{try{const o=new AbortController,i=setTimeout(()=>o.abort(),1e3),s=await fetch(`${oZ}/health`,{method:"GET",signal:o.signal});if(clearTimeout(i),s.ok){const l=await s.json(),c=`Connected (${l.exiftool||"Ready"})`;r(u=>u.isConnected===!0&&u.message===c&&u.version===l.exiftool&&u.hasDngConverter===!!l.dng_converter?u:{isConnected:!0,message:c,version:l.exiftool,hasDngConverter:!!l.dng_converter})}else r(l=>l.isConnected===!1&&l.message==="Service Error"?l:{isConnected:!1,message:"Service Error",hasDngConverter:!1})}catch{r(i=>i.isConnected===!1&&i.message==="Not Detected"?i:{isConnected:!1,message:"Not Detected",hasDngConverter:!1})}};n();const a=setInterval(n,2e3);return()=>clearInterval(a)},[e]),t},sZ="JTR_BlobStore",Oa="raw_files",lZ=1,Ch=()=>new Promise((e,t)=>{const r=indexedDB.open(sZ,lZ);r.onupgradeneeded=n=>{const a=n.target.result;a.objectStoreNames.contains(Oa)||a.createObjectStore(Oa)},r.onsuccess=()=>e(r.result),r.onerror=()=>t(r.error)}),j2=async(e,t)=>{const r=await Ch();return new Promise((n,a)=>{const o=r.transaction(Oa,"readwrite");o.objectStore(Oa).put(t,e),o.oncomplete=()=>n(),o.onerror=()=>a(o.error)})},cZ=async e=>{const t=await Ch();return new Promise((r,n)=>{const i=t.transaction(Oa,"readonly").objectStore(Oa).get(e);i.onsuccess=()=>r(i.result),i.onerror=()=>n(i.error)})},uZ=async()=>{const e=await Ch();return new Promise((t,r)=>{const n=e.transaction(Oa,"readwrite");n.objectStore(Oa).clear(),n.oncomplete=()=>t(),n.onerror=()=>r(n.error)})},kP="jtr_workspace_index",fZ=e=>{try{const t=JSON.stringify(e);localStorage.setItem(kP,t)}catch(t){console.error("Failed to save workspace index",t)}},dZ=()=>{try{const e=localStorage.getItem(kP);return e?JSON.parse(e):null}catch(e){return console.error("Failed to load workspace index",e),null}},hZ=async e=>{const n=(await Ch()).transaction(Oa,"readwrite").objectStore(Oa),a=n.getAllKeys();a.onsuccess=()=>{a.result.forEach(i=>{e.includes(i)||n.delete(i)})}},Rr=1024,O2=(e,t,r)=>{const n=e.width,a=e.height,o=new ImageData(t,r),i=e.data,s=o.data,l=n/t,c=a/r;for(let u=0;u<r;u++){const f=Math.floor(u*c),h=u*t*4,p=f*n*4;for(let m=0;m<t;m++){const x=Math.floor(m*l)*4,y=h+m*4,g=p+x;s[y]=i[g],s[y+1]=i[g+1],s[y+2]=i[g+2],s[y+3]=i[g+3]}}return o},pZ=({stats:e,onClose:t,onMinimize:r,isBGGR:n,onToggleBGGR:a,onOpenWindow:o,displaySettings:i,zIndex:s,onFocus:l})=>{if(!e)return null;const c=!!i.showKadc&&!!i.blackLevel,u=i.blackLevel||[0,0,0,0],f=!!i.subtractBlackLevelFromStats&&!!i.blackLevel,h=(x,y,g)=>{if(!c)return null;const b=y*y;return b<=1e-4?0:(x-g)/b},p=(x,y)=>f?x-u[y]:x,m=()=>{if(!f){alert(`Sub. BL
Please enable 'Sub. BL' in Tools sidebar first.`);return}let x,y,g,b;n?(b=0,y=1,g=2,x=3):(x=0,y=1,g=2,b=3);const k=S=>e.means[S]-u[S],w=S=>e.stdDevs[S];localStorage.setItem("import_signal_r",k(x).toString()),localStorage.setItem("import_signal_g1",k(y).toString()),localStorage.setItem("import_signal_g2",k(g).toString()),localStorage.setItem("import_signal_b",k(b).toString()),localStorage.setItem("import_sigma_r",w(x).toString()),localStorage.setItem("import_sigma_g1",w(y).toString()),localStorage.setItem("import_sigma_g2",w(g).toString()),localStorage.setItem("import_sigma_b",w(b).toString()),window.open("https://y-g-jiang.github.io/XJZS.html","_blank")},v=n?[{name:"B",desc:"(0,0)",mean:p(e.means[0],0),std:e.stdDevs[0],color:"text-blue-500",k:h(e.means[0],e.stdDevs[0],u[0])},{name:"G1",desc:"(0,1)",mean:p(e.means[1],1),std:e.stdDevs[1],color:"text-green-500",k:h(e.means[1],e.stdDevs[1],u[1])},{name:"G2",desc:"(1,0)",mean:p(e.means[2],2),std:e.stdDevs[2],color:"text-green-500",k:h(e.means[2],e.stdDevs[2],u[2])},{name:"R",desc:"(1,1)",mean:p(e.means[3],3),std:e.stdDevs[3],color:"text-red-500",k:h(e.means[3],e.stdDevs[3],u[3])}]:[{name:"R",desc:"(0,0)",mean:p(e.means[0],0),std:e.stdDevs[0],color:"text-red-500",k:h(e.means[0],e.stdDevs[0],u[0])},{name:"G1",desc:"(0,1)",mean:p(e.means[1],1),std:e.stdDevs[1],color:"text-green-500",k:h(e.means[1],e.stdDevs[1],u[1])},{name:"G2",desc:"(1,0)",mean:p(e.means[2],2),std:e.stdDevs[2],color:"text-green-500",k:h(e.means[2],e.stdDevs[2],u[2])},{name:"B",desc:"(1,1)",mean:p(e.means[3],3),std:e.stdDevs[3],color:"text-blue-500",k:h(e.means[3],e.stdDevs[3],u[3])}];return d.jsxs(wP,{className:`${c?"w-80":"w-60"} p-0 overflow-hidden transition-all duration-300`,onClose:t,zIndex:s,onFocus:l,children:[d.jsxs("div",{className:"flex justify-between items-center px-3 py-2 border-b border-gray-100 dark:border-slate-800 bg-gray-50/50 dark:bg-slate-800/50",children:[d.jsxs("h3",{className:"text-xs font-bold text-gray-700 dark:text-slate-300 uppercase tracking-wider flex items-center gap-2",children:["ROI Analysis",d.jsxs("span",{className:"text-[10px] font-normal text-gray-400 bg-gray-200 dark:bg-slate-700 px-1.5 py-0.5 rounded",children:[Math.round(e.width),"",Math.round(e.height)]})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 transition-colors p-1 rounded-md hover:bg-gray-200 dark:hover:bg-slate-700 relative z-20",children:d.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 transition-colors p-1 rounded-md hover:bg-gray-200 dark:hover:bg-slate-700 relative z-20",children:d.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),d.jsxs("div",{className:"p-3",children:[d.jsxs("div",{className:"flex justify-between items-center mb-3",children:[d.jsxs("div",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono leading-tight",children:["X: ",Math.round(e.x),d.jsx("br",{}),"Y: ",Math.round(e.y)]}),d.jsx("button",{onClick:()=>a(!n),className:"text-[10px] font-bold px-2 py-1 rounded bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 text-gray-600 dark:text-slate-300 transition-colors border border-gray-200 dark:border-slate-700 relative z-20",title:"Toggle Bayer Pattern Interpretation",children:n?"BGGR":"RGGB"})]}),d.jsxs("table",{className:"w-full mb-3",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"text-[10px] text-gray-400 dark:text-slate-500 border-b border-gray-100 dark:border-slate-800",children:[d.jsx("th",{className:"text-left pb-1 font-medium",children:"Ch"}),d.jsxs("th",{className:"text-right pb-1 font-medium",children:["Mean",f?"*":""]}),d.jsx("th",{className:"text-right pb-1 font-medium",children:"Std()"}),c&&d.jsx("th",{className:"text-right pb-1 font-medium text-cyan-600 dark:text-cyan-400",children:"K(e/ADU)"})]})}),d.jsx("tbody",{className:"font-mono text-xs",children:v.map((x,y)=>d.jsxs("tr",{className:"group hover:bg-gray-50 dark:hover:bg-slate-800/30 transition-colors",children:[d.jsxs("td",{className:"py-1",children:[d.jsx("span",{className:`font-bold ${x.color}`,children:x.name}),d.jsx("span",{className:"text-[9px] text-gray-300 dark:text-slate-600 ml-1 hidden group-hover:inline",children:x.desc})]}),d.jsx("td",{className:"py-1 text-right text-gray-700 dark:text-slate-200 font-semibold",title:f?"Mean minus Black Level":"Raw Mean",children:x.mean.toFixed(2)}),d.jsx("td",{className:"py-1 text-right text-gray-500 dark:text-slate-400",children:x.std.toFixed(2)}),c&&d.jsx("td",{className:"py-1 text-right text-cyan-600 dark:text-cyan-400 font-bold",children:x.k!==null?x.k.toFixed(3):"-"})]},y))})]}),f&&d.jsx("div",{className:"mb-2 text-[9px] text-gray-400 dark:text-slate-500 text-right italic",children:"* Mean adjusted by Black Level"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:()=>o("histogram"),className:"relative z-20 flex-1 py-1.5 bg-cyan-600 hover:bg-cyan-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Histogram",children:[d.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Hist"]}),d.jsxs("button",{onClick:()=>o("quant"),className:"relative z-20 flex-1 py-1.5 bg-teal-600 hover:bg-teal-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Quantization Steps",children:[d.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"Quant"]}),d.jsxs("button",{onClick:()=>o("fft"),className:"relative z-20 flex-1 py-1.5 bg-purple-600 hover:bg-purple-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Power Spectrum (FFT)",children:[d.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"FFT"]}),d.jsx("button",{onClick:m,className:"relative z-20 flex-1 py-1.5 bg-pink-600 hover:bg-pink-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"Color Noise Analysis (External Tool)",children:"ColorN"})]})]})]})},gZ=()=>{var iu;const[e,t]=O.useState(!0),[r,n]=O.useState("Initializing..."),a=O.useRef(!1),[o,i]=O.useState("dark");O.useEffect(()=>{const R=window.document.documentElement;R.classList.remove(o==="dark"?"light":"dark"),R.classList.add(o)},[o]);const[s,l]=O.useState(!1),[c,u]=O.useState(!1),[f,h]=O.useState(!1),p=iZ(s||c||f),[m,v]=O.useState(!1),[x,y]=O.useState([]),[g,b]=O.useState(-1),k=O.useMemo(()=>x[g],[x,g]),w=(k==null?void 0:k.file)||null,S=(k==null?void 0:k.imageElement)||null,j=(k==null?void 0:k.rawImageData)||null,_=(k==null?void 0:k.rawFileBuffer)||null,P=(k==null?void 0:k.renderedRawImageData)||null,N=(k==null?void 0:k.referenceImageData)||null,A=(k==null?void 0:k.sampledImageData)||null,M=(k==null?void 0:k.exifData)||null,B=(k==null?void 0:k.isThreePlane)||!1,I=(k==null?void 0:k.displaySettings)||{exposure:0,demosaicMethod:3,blackLevel:void 0,wbGains:[1,1],showKadc:!0,subtractBlackLevelFromStats:!0},[D,L]=O.useState(!1),[F,$]=O.useState(null),[z,W]=O.useState(!1),[ee,K]=O.useState(!1),[q,U]=O.useState(null),[fe,ie]=O.useState([]),[_e,ce]=O.useState(100),[Z,de]=O.useState(!0),[ye,X]=O.useState(!1),[Be,Pe]=O.useState(null),[rt,Ge]=O.useState(!1),[dt,xr]=O.useState(!1),[Zt,_r]=O.useState(!1),[zt,ir]=O.useState(!1),[Wt,Jt]=O.useState(!1),[gt,Hn]=O.useState({x:0,y:0}),[Er,Vn]=O.useState(!1),[fr,Jr]=O.useState(!1),[_n,nr]=O.useState(2),[Kn,Ot]=O.useState(1),[Pn,Pa]=O.useState([]),[fa,en]=O.useState(null),[mt,Y]=O.useState(0),[He,kt]=O.useState([]),[br,Tr]=O.useState([]),[$r,St]=O.useState(64),[Kt,Ut]=O.useState(10),[wr,Nn]=O.useState(10),[_t,Pt]=O.useState(4),[Q,ge]=O.useState(1),[Ce,nt]=O.useState(0),[Fe,$e]=O.useState("processed"),[yt,Je]=O.useState(!1),Ve=O.useMemo(()=>I.blackLevel?I.blackLevel:j!=null&&j.blackLevels?[j.blackLevels[0],j.blackLevels[1],j.blackLevels[2],j.blackLevels[3]]:[0,0,0,0],[I.blackLevel,j]),re=(M==null?void 0:M.ImageHeight)||(M==null?void 0:M.ExifImageHeight)||(j==null?void 0:j.height)||0,[lt,ze]=O.useState(null),[Gt,ot]=O.useState(null),[tn,rn]=O.useState({x:0,y:0}),[gn,da]=O.useState(1),[Xn,_i]=O.useState("pan"),tl=O.useRef(null),ha=O.useRef(null);O.useEffect(()=>{(async()=>{if(a.current)return;const V=dZ();if(V&&(n("Restoring layout..."),i(V.theme),de(V.sidebarOpen),V.sessions.length>0)){n(`Restoring ${V.sessions.length} images...`);const ue=[];for(const ne of V.sessions){if(a.current){console.log("Restoration cancelled.");return}await new Promise(me=>setTimeout(me,50));try{const me=await cZ(ne.id);if(me){const Ee={id:ne.id,fileName:ne.fileName,file:null,imageElement:null,rawImageData:null,rawFileBuffer:me,renderedRawImageData:null,referenceImageData:null,sampledImageData:null,exifData:null,isThreePlane:ne.isThreePlane,displaySettings:ne.displaySettings},{previewBlob:Qe,analysisData:We}=await zp(me);let et=null;We&&(et=await b2(me,ne.displaySettings));const je=URL.createObjectURL(Qe),te=new Image;te.src=je,await new Promise(ve=>{te.onload=()=>ve()}),ue.push({...Ee,rawImageData:We,renderedRawImageData:et,previewUrl:je,imageElement:te,exifData:We.metadata})}}catch(me){console.error(`Failed to restore session ${ne.id}`,me)}}if(a.current)return;if(y(ue),V.activeSessionId){const ne=ue.findIndex(me=>me.id===V.activeSessionId);ne>=0?b(ne):ue.length>0&&b(0)}ie(V.windows)}a.current||t(!1)})()},[]);const Na=O.useRef(null),Lo=O.useCallback(()=>{e||(Na.current&&clearTimeout(Na.current),Na.current=window.setTimeout(async()=>{var ue;const R={version:1,timestamp:Date.now(),activeSessionId:((ue=x[g])==null?void 0:ue.id)||null,theme:o,sidebarOpen:Z,sessions:x.map(ne=>({id:ne.id,fileName:ne.fileName,fileType:ne.file?ne.file.type:"application/octet-stream",fileSize:ne.rawFileBuffer?ne.rawFileBuffer.byteLength:0,displaySettings:ne.displaySettings,isThreePlane:ne.isThreePlane})),windows:fe.map(ne=>({id:ne.id,type:ne.type,roi:ne.roi,zIndex:ne.zIndex,initialPosition:ne.initialPosition,sessionId:ne.sessionId,isBGGR:ne.isBGGR,isMinimized:ne.isMinimized||!1,internalState:ne.internalState}))};fZ(R);const V=x.map(ne=>ne.id);hZ(V)},1e3))},[x,fe,g,o,Z,e]);O.useEffect(()=>{Lo()},[Lo]);const Eh=O.useCallback(async()=>{a.current=!0,n("Cleaning up..."),localStorage.removeItem("jtr_workspace_index");try{await uZ()}catch(R){console.error("Failed to clear DB",R)}window.location.reload()},[]),Aa=O.useCallback(R=>{y(V=>V.map((ue,ne)=>ne===g?{...ue,...R}:ue))},[g]),Th=()=>b(R=>Math.min(R+1,x.length-1)),ru=()=>b(R=>Math.max(0,R-1));O.useEffect(()=>{if(j&&F){const R=zu(j.data,j.width,j.height,F.x,F.y,F.width,F.height);$(R)}},[j]);const to=R=>{if(!F||!k)return;const V=Date.now().toString()+Math.random().toString().slice(2,5),ue=Math.max(_e,...fe.map(Ee=>Ee.zIndex),100),ne=fe.length%10*30,me=R==="fft"?{x:50,y:50}:R==="histogram"?{x:100,y:100}:{x:150,y:150};ie(Ee=>[...Ee,{id:V,type:R,roi:{x:F.x,y:F.y,w:F.width,h:F.height},zIndex:ue+1,initialPosition:{x:me.x+ne,y:me.y+ne},sessionId:k.id,isBGGR:z,isMinimized:!1}])},Ro=R=>{ie(V=>V.filter(ue=>ue.id!==R))},$h=R=>{ie(V=>V.map(ue=>ue.id===R?{...ue,isMinimized:!0}:ue))},rl=R=>{ie(V=>V.map(ue=>ue.id===R?{...ue,isMinimized:!1}:ue)),nu(R)},nu=R=>{ie(V=>{const ue=Math.max(_e,...V.map(ne=>ne.zIndex));return V.map(ne=>ne.id===R?{...ne,zIndex:ue+1}:ne)})},au=(R,V)=>{ie(ue=>ue.map(ne=>ne.id===R?{...ne,internalState:{...ne.internalState,...V}}:ne))},ou=()=>{const R=Math.max(_e,...fe.map(V=>V.zIndex));ce(R+1)},T=(R,V)=>{ie(ue=>ue.map(ne=>ne.id===R?{...ne,roi:V}:ne))};O.useEffect(()=>{if(!M)return;const R=M.CFAPattern2||M.CFAPattern;if(R){let V="";Array.isArray(R)?V=R.join(""):typeof R=="string"?V=R.replace(/[\s,]+/g,""):typeof R=="number"&&(V=String(R)),V==="0112"?W(!1):V==="2110"&&W(!0)}},[M]),O.useEffect(()=>{let R;const V=()=>{if(fr&&Wt){const ue=Date.now()/1e3,ne=.55+.45*Math.sin(ue*_n);Ot(ne),R=requestAnimationFrame(V)}else Ot(1)};return fr&&Wt?V():Ot(1),()=>{R&&cancelAnimationFrame(R)}},[fr,Wt,_n]),O.useEffect(()=>{const R=V=>{V.key==="Escape"&&Wt&&(Jt(!1),Hn({x:0,y:0}),Jr(!1))};return window.addEventListener("keydown",R),()=>window.removeEventListener("keydown",R)},[Wt]),O.useEffect(()=>()=>{x.forEach(R=>{R.previewUrl&&URL.revokeObjectURL(R.previewUrl)}),ha.current&&ha.current.terminate()},[]);const G=async(R,V=!0)=>{V&&(rn({x:0,y:0}),da(1),Y(0),kt([]),Tr([]),X(!1),Pe(null),L(!1));let ue=null;if(p.isConnected){const We=new FormData;We.append("file",R);try{const je=await(await fetch("http://localhost:5428/read",{method:"POST",body:We})).json();if(je.success){let te=je.data;Array.isArray(te)&&te.length===1&&(te=te[0]),ue=te}}catch(et){console.warn("Auto Exif fetch failed",et)}}const ne=R.name.toLowerCase().match(/\.(arw|cr2|cr3|dng|nef|orf|raf|rw2|pef|srw|sr2|srf|x3f|erf|mef|mos|mrw|kdc|dcr|iiq|3fr|fff|rwl|nrw|raw|tif|tiff)$/);if(!(["image/jpeg","image/png","image/tiff","image/x-adobe-dng"].includes(R.type)||ne)){ze("Unsupported file type. Please load a JPG, PNG, or a supported RAW file.");return}let Ee={file:R,exifData:ue};if(ne||R.type==="image/x-adobe-dng")try{V?ot("Processing RAW file (this may take a moment)..."):Je(!0);const We=await R.arrayBuffer();Ee.rawFileBuffer=We;const{previewBlob:et,analysisData:je}=await zp(We);Ee.rawImageData=je,Ee.isThreePlane=je.isThreePlane||!1,je.isThreePlane&&V&&L(!0);const te=URL.createObjectURL(et);Ee.previewUrl=te;const ve=new Image;ve.src=te,await new Promise((we,Ne)=>{ve.onload=()=>{Ee.imageElement=ve,we()},ve.onerror=()=>{ze("Could not load the RAW file preview."),we()}})}catch(We){ze(`Failed to process RAW file: ${We.message}`),ot(null),Je(!1);return}else try{ot("Processing image...");const{previewBlob:We,analysisData:et}=await LQ(R);Ee.rawImageData=et,Ee.rawFileBuffer=await R.arrayBuffer(),Ee.isThreePlane=et.isThreePlane||!1;const je=URL.createObjectURL(We);Ee.previewUrl=je;const te=new Image;te.src=je,await new Promise(ve=>{te.onload=()=>{Ee.imageElement=te,ve()},te.onerror=()=>{ze("Could not load the image file."),ve()}})}catch(We){ze(`Failed to process image: ${We.message}`),ot(null);return}const Qe=Date.now().toString()+Math.random();if(Ee.rawFileBuffer&&await j2(Qe,Ee.rawFileBuffer),V){const We={exposure:0,demosaicMethod:3,blackLevel:void 0,wbGains:[1,1],showKadc:!0,subtractBlackLevelFromStats:!0},et={id:Qe,fileName:R.name,file:R,imageElement:null,rawImageData:null,rawFileBuffer:null,renderedRawImageData:null,referenceImageData:null,sampledImageData:null,exifData:null,isThreePlane:!1,displaySettings:We,...Ee};y(je=>{const te=[...je,et];return b(te.length-1),te})}else Aa(Ee);ot(null),Je(!1)},J=async R=>{ot("Converting to DNG...");try{const V=new FormData;V.append("file",R);const ue=await fetch("http://localhost:5428/convert_dng",{method:"POST",body:V}),ne=ue.headers.get("content-type")||"";if(ue.ok)if(ne.includes("application/json")){const me=await ue.json();throw new Error(me.error||"Conversion failed")}else{const me=await ue.blob(),Ee=URL.createObjectURL(me),Qe=document.createElement("a");Qe.href=Ee;const We=R.name,et=We.substring(0,We.lastIndexOf("."))+".dng"||"converted.dng";Qe.download=et,document.body.appendChild(Qe),Qe.click(),document.body.removeChild(Qe),URL.revokeObjectURL(Ee);const je=new File([me],et,{type:"image/x-adobe-dng"});await G(je,!0)}else{const me=await ue.text();throw new Error(`HTTP ${ue.status}: ${me}`)}}catch(V){ot(null),ze(`Conversion Error: ${V.message}`)}},E=(R,V)=>{R&&(V==="direct"?G(R,!0):J(R))},le=async R=>{var ue;const V=(ue=R.target.files)==null?void 0:ue[0];V&&(await G(V,!0),R.target.value="")},be=async(R,V,ue,ne)=>{!R||!V||(ot("Processing Pair Difference (May take a while)..."),ze(null),setTimeout(async()=>{try{const me=await R.arrayBuffer(),Ee=await V.arrayBuffer(),Qe=await BQ(me,Ee,ue,ne),We=S2(Qe.width,Qe.height,Qe.rawData),et=new File([We],`Diff_${R.name}_${V.name}.dng`,{type:"image/x-adobe-dng"});await G(et,!0),to("fft")}catch(me){console.error("Pair Processing Error",me),ze("Pair Processing Failed: "+me.message)}finally{ot(null)}},100))},Se=async()=>{Je(!0);const R=128,V=R,ue=R,ne=V*ue,me=new Uint16Array(ne),Ee=Le=>{const Me=Le/_t+Ce;return Math.sin(2*Math.PI*Me)>=0?1:0},Qe=32,We=Q*.5,et=Math.max(1e-4,Q/Qe);for(let Le=0;Le<ue;Le++){let Me=0;const Ae=Le+.5-We;for(let Lt=0;Lt<Qe;Lt++){const nn=Ae+(Lt+.5)*et;Me+=Ee(nn)}const er=Me/Qe,xt=Math.round(er*65535);for(let Lt=0;Lt<V;Lt++)me[Le*V+Lt]=xt}const je=new ImageData(Rr,Rr),te=Rr/V,ve=Q/2;for(let Le=0;Le<Rr;Le++){const Me=Le/te,Et=Math.floor(Me),Ae=Me-Et,er=Ae>=.5-ve&&Ae<.5+ve;for(let xt=0;xt<Rr;xt++){const Lt=xt/te,nn=Math.floor(Lt),Bo=Lt-nn,su=Bo>=.5-ve&&Bo<.5+ve,an=(Le*Rr+xt)*4;if(nn>=V||Et>=ue){je.data[an]=30,je.data[an+1]=34,je.data[an+2]=40,je.data[an+3]=255;continue}if(er&&su){const Lh=me[Et*V+nn],al=Math.round(Lh/257);je.data[an]=al,je.data[an+1]=al,je.data[an+2]=al,je.data[an+3]=255}else je.data[an]=30,je.data[an+1]=34,je.data[an+2]=40,je.data[an+3]=255}}const we=new ImageData(Rr,Rr),Ne=ue/Rr;for(let Le=0;Le<Rr;Le++){const Me=(Le+.5)*Ne,Ae=Ee(Me)>.5?255:0,er=Le*Rr*4;for(let xt=0;xt<Rr;xt++){const Lt=er+xt*4;we.data[Lt]=Ae,we.data[Lt+1]=Ae,we.data[Lt+2]=Ae,we.data[Lt+3]=255}}const ht=S2(V,ue,me),at=new File([ht],"pattern_test.dng",{type:"image/x-adobe-dng"}),Ye=Date.now().toString();try{const{previewBlob:Le,analysisData:Me}=await zp(ht.slice(0)),Et=await b2(ht.slice(0),I),Ae=O2(Et,Rr,Rr),er=URL.createObjectURL(Le),xt=new Image;xt.src=er,await new Promise(nn=>{xt.onload=()=>nn()}),await j2(Ye,ht);const Lt={file:at,rawFileBuffer:ht,rawImageData:Me,renderedRawImageData:Ae,referenceImageData:we,sampledImageData:je,previewUrl:er,imageElement:xt,isThreePlane:!1,displaySettings:I};(w==null?void 0:w.name)==="pattern_test.dng"?Aa(Lt):(y(nn=>{const Bo={id:Ye,fileName:"pattern_test.dng",file:at,imageElement:xt,rawImageData:Me,rawFileBuffer:ht,renderedRawImageData:Ae,referenceImageData:we,sampledImageData:je,exifData:null,isThreePlane:!1,previewUrl:er,displaySettings:I};return[...nn,Bo]}),b(nn=>x.length))}catch(Le){console.error("Error generating pattern:",Le),ze(`Error generating pattern: ${Le.message}`)}Je(!1),ot(null)},Xe=()=>{Ge(!0)},Ke=()=>{Ge(!1),$e("sampled"),ot("Generating..."),setTimeout(()=>Se(),50)},Te=O.useRef({period:_t,fill:Q,phase:Ce});O.useEffect(()=>{(w==null?void 0:w.name)==="pattern_test.dng"&&(Te.current.period!==_t||Te.current.fill!==Q||Te.current.phase!==Ce)&&(Te.current={period:_t,fill:Q,phase:Ce},Se())},[_t,Q,Ce,w]);const Nt=O.useCallback(R=>{if(Aa({displaySettings:R}),!_)return;Je(!0),ha.current&&ha.current.terminate();const V=new Worker(new URL("/assets/renderWorker-BmmCgTEZ.js",import.meta.url),{type:"module"});ha.current=V,V.onmessage=ue=>{const{success:ne,imageData:me,error:Ee}=ue.data;if(ne){let Qe=me;(w==null?void 0:w.name)==="pattern_test.dng"&&(Qe=O2(me,Rr,Rr)),Aa({renderedRawImageData:Qe})}else ze(Ee||"Unknown worker error");Je(!1),V.terminate(),ha.current=null},V.postMessage({buffer:_.slice(0),settings:R})},[_,w,Aa]);let it=P||S;Fe==="reference"&&N?it=N:Fe==="sampled"&&A&&(it=A);const At=Gt||yt,Xt=R=>{if(tl.current){const V=tl.current,{width:ue,height:ne}=V.getBoundingClientRect(),me=ue/2,Ee=ne/2,Qe=R/gn,We=me-(me-tn.x)*Qe,et=Ee-(Ee-tn.y)*Qe;rn({x:We,y:et})}da(R)},oe=R=>{if(!R)return;if(!j){$(null);return}ee&&K(!1),ou();const V=zu(j.data,j.width,j.height,R.x,R.y,R.w,R.h);$(V)},qe=R=>{U(R),oe(R)},ke=()=>{_i(R=>R==="pan"?"select":"pan")},Dt=R=>{if(mt===0||mt>4)return;const V=[...He,R];kt(V),mt===4?(Gr(V),Y(0)):Y(mt+1)},vt=(R,V,ue,ne)=>{const me=R[0],Ee=R[1],Qe=R[2],We=R[3],et=V/2,je=[];for(let te=0;te<ue;te++){const ve=ue>1?te/(ue-1):.5;for(let we=0;we<ne;we++){const Ne=ne>1?we/(ne-1):.5,ht=me.x*(1-Ne)+Ee.x*Ne,at=me.y*(1-Ne)+Ee.y*Ne,Ye=Qe.x*(1-Ne)+We.x*Ne,Le=Qe.y*(1-Ne)+We.y*Ne,Me=ht*(1-ve)+Ye*ve,Et=at*(1-ve)+Le*ve,Ae=Me-et,er=Et-et;je.push({x:Ae,y:er,w:V,h:V})}}return je},Gr=R=>{j&&(ot("Calculating DR Lab Grid..."),setTimeout(()=>{try{const V=vt(R,$r,Kt,wr);Tr(V);const Ee=[...[`#BlackLevel: ${(I.blackLevel||[0,0,0,0]).join(",")}`,`#ImageHeight: ${j.height}`],"Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std"];V.forEach((te,ve)=>{const we=Math.floor(ve/wr)+1,Ne=ve%wr+1,ht=zu(j.data,j.width,j.height,te.x,te.y,te.w,te.h),at=ht.means,Ye=ht.stdDevs,Le=`${we},${Ne},${at[0].toFixed(4)},${at[1].toFixed(4)},${at[2].toFixed(4)},${at[3].toFixed(4)},${Ye[0].toFixed(4)},${Ye[1].toFixed(4)},${Ye[2].toFixed(4)},${Ye[3].toFixed(4)}`;Ee.push(Le)});const Qe=Ee.join(`
`),We=new Blob([Qe],{type:"text/csv;charset=utf-8;"}),et=URL.createObjectURL(We),je=document.createElement("a");je.setAttribute("href",et),je.setAttribute("download","dr_lab_results.csv"),document.body.appendChild(je),je.click(),document.body.removeChild(je),URL.revokeObjectURL(et),kt([])}catch(V){ze("DR Lab Error: "+V.message)}finally{ot(null)}},100))},ut=async R=>{if(He.length<4&&br.length<1){ze("Please mark the grid on an image first before running batch processing.");return}let V=br;if(V.length===0&&He.length===4&&(V=vt(He,$r,Kt,wr)),V.length===0){ze("No grid definitions found. Mark corners first.");return}ot("Batch Processing...");const ne=(I.blackLevel||[0,0,0,0]).join(","),me=j?j.height:0,Qe=[...[`#BlackLevel: ${ne}`,`#ImageHeight: ${me}`],"Filename,Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std"],We=Array.from(R);try{for(let we=0;we<We.length;we++){const Ne=We[we];ot(`Processing ${we+1}/${We.length}: ${Ne.name}...`);const ht=await Ne.arrayBuffer(),at=await IQ(ht);V.forEach((Ye,Le)=>{const Me=Math.floor(Le/wr)+1,Et=Le%wr+1,Ae=zu(at.data,at.width,at.height,Ye.x,Ye.y,Ye.w,Ye.h),er=Ae.means,xt=Ae.stdDevs,Lt=`${Ne.name},${Me},${Et},${er[0].toFixed(4)},${er[1].toFixed(4)},${er[2].toFixed(4)},${er[3].toFixed(4)},${xt[0].toFixed(4)},${xt[1].toFixed(4)},${xt[2].toFixed(4)},${xt[3].toFixed(4)}`;Qe.push(Lt)})}const et=Qe.join(`
`),je=new Blob([et],{type:"text/csv;charset=utf-8;"}),te=URL.createObjectURL(je),ve=document.createElement("a");ve.href=te,ve.setAttribute("download",`dr_lab_batch_${new Date().getTime()}.csv`),document.body.appendChild(ve),ve.click(),document.body.removeChild(ve),URL.revokeObjectURL(te)}catch(et){console.error("Batch Error",et),ze("Batch Processing Failed: "+et.message)}finally{ot(null)}},sr=()=>{if(!j){ze("Please load an image first.");return}Tr([]),kt([]),Y(1)},Hr=async()=>{if(!w)return;if(p.isConnected?Pe(null):Pe(`JiangBridge Offline
JiangBridge Offline, limited content shown only`),p.isConnected){ot("Reading EXIF (JiangBridge)...");try{const V=new FormData;V.append("file",w);const ue=await fetch("http://localhost:5428/read",{method:"POST",body:V});if(!ue.ok)throw new Error(`Bridge error: ${ue.statusText}`);const ne=await ue.json();if(ne.success){let me=ne.data;Array.isArray(me)&&me.length===1&&(me=me[0]),Aa({exifData:me}),X(!0),ot(null);return}else console.warn("Bridge returned error:",ne.error)}catch(V){console.warn("Bridge fetch failed, falling back to LibRaw:",V)}ot(null)}if(!j){ze("No image data available.");return}const R=j.metadata;if(!R){ze("No metadata found for this image.");return}Aa({exifData:R}),X(!0)},Ma=O.useCallback(async R=>{ot("Parsing CSV files...");const V=[];let ue,ne;try{const me=Array.from(R).map((Ee,Qe)=>new Promise((We,et)=>{const je=new FileReader;je.onload=te=>{var ht;const ve=(ht=te.target)==null?void 0:ht.result;if(!ve)return We();const we=ve.split(`
`);let Ne=-1;for(let at=0;at<we.length;at++){const Ye=we[at].trim();if(Ye){if(Qe===0&&Ye.startsWith("#")){if(Ye.startsWith("#BlackLevel:")){const Me=Ye.replace("#BlackLevel:","").trim().split(/[\s,]+/).map(Number);Me.length>=4&&!Me.some(isNaN)&&(ue=[Me[0],Me[1],Me[2],Me[3]])}else if(Ye.startsWith("#ImageHeight:")){const Le=Ye.replace("#ImageHeight:","").trim(),Me=parseInt(Le);!isNaN(Me)&&Me>0&&(ne=Me)}continue}if(Ye.startsWith("Row")||Ye.startsWith("Filename")){Ne=at+1;break}}}Ne===-1&&(Ne=1);for(let at=Ne;at<we.length;at++){const Ye=we[at].trim();if(!Ye||Ye.startsWith("#"))continue;const Le=Ye.split(",");let Me=0;if(isNaN(Number(Le[0]))&&(Me=1),Le.length<10+Me)continue;const Et=Me===1?Le[0]:Ee.name,Ae=Le.map(Number),er=Ae[0+Me],xt=Ae[1+Me],Lt=Ae[2+Me],nn=Ae[3+Me],Bo=Ae[4+Me],su=Ae[5+Me],an=Ae[6+Me],Lh=Ae[7+Me],al=Ae[8+Me],jP=Ae[9+Me];Lt>0&&V.push({channel:"R",mean:Lt,std:an,filename:Et,row:er,col:xt}),nn>0&&V.push({channel:"G1",mean:nn,std:Lh,filename:Et,row:er,col:xt}),Bo>0&&V.push({channel:"G2",mean:Bo,std:al,filename:Et,row:er,col:xt}),su>0&&V.push({channel:"B",mean:su,std:jP,filename:Et,row:er,col:xt})}We()},je.onerror=et,je.readAsText(Ee)}));await Promise.all(me),Pa(V),en(ue||ne?{blackLevel:ue,height:ne}:null),l(!0)}catch(me){ze("Failed to parse CSV files: "+me.message)}finally{ot(null)}},[]),nl=R=>{R.button===0&&Vn(!0)},Pi=O.useCallback(R=>{Er&&Hn(V=>({x:V.x+R.movementX,y:V.y+R.movementY}))},[Er]),Io=O.useCallback(()=>{Vn(!1)},[]);O.useEffect(()=>(Er?(window.addEventListener("mousemove",Pi),window.addEventListener("mouseup",Io)):(window.removeEventListener("mousemove",Pi),window.removeEventListener("mouseup",Io)),()=>{window.removeEventListener("mousemove",Pi),window.removeEventListener("mouseup",Io)}),[Er,Pi,Io]);const Dh=()=>{if(!_||!w)return;const R=w.name||"pattern_test.dng",V=new Blob([_],{type:"image/x-adobe-dng"}),ue=URL.createObjectURL(V),ne=document.createElement("a");ne.href=ue,ne.download=R,document.body.appendChild(ne),ne.click(),document.body.removeChild(ne),URL.revokeObjectURL(ue)};return e?d.jsxs("div",{className:"flex flex-col h-screen items-center justify-center bg-gray-50 dark:bg-slate-950 text-gray-900 dark:text-slate-200",children:[d.jsx("div",{className:"w-12 h-12 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mb-4"}),d.jsx("h2",{className:"text-xl font-bold animate-pulse",children:r}),d.jsx("p",{className:"text-sm text-gray-500 mt-2 mb-6",children:"Loading stored buffers from database..."}),d.jsx("button",{onClick:Eh,className:"px-6 py-2 bg-red-100 hover:bg-red-200 dark:bg-red-900/30 dark:hover:bg-red-900/50 text-red-700 dark:text-red-300 font-bold rounded-lg transition-colors border border-red-200 dark:border-red-800 text-sm",children:"Abandon Saved Session (Start Fresh)"})]}):d.jsxs("div",{className:"flex flex-col h-screen bg-white dark:bg-slate-950 text-gray-900 dark:text-slate-200 font-sans transition-colors duration-300",children:[d.jsx("div",{className:"p-4 pb-0",children:d.jsx(JA,{onLoadImage:le,onFileSelected:E,onGenerateFakeDng:Xe,fileName:w?w.name:null,hasGeneratedData:!!((w==null?void 0:w.name)==="pattern_test.dng"||N),viewMode:Fe,onSetViewMode:$e,patternPeriod:_t,onPatternPeriodChange:Pt,fillFactor:Q,onFillFactorChange:ge,patternPhase:Ce,onPatternPhaseChange:nt,showPatternControls:(w==null?void 0:w.name)==="pattern_test.dng",onOpenAbout:()=>xr(!0),onShowExif:Hr,bridgeStatus:p,onBridgeClick:()=>v(!0),isDrLabOpen:Zt,onToggleDrLab:()=>{_r(!Zt),Y(0),kt([]),Tr([]),zt&&ir(!1)},isFftLabOpen:zt,onToggleFftLab:()=>{ir(!zt),Zt&&_r(!1)},onGenerateTestPic:()=>Jt(!0),onPTCFilesSelected:Ma,onDownloadDng:Dh,isThreePlane:B,onOpenDatabase:()=>u(!0)})}),d.jsxs("div",{className:"flex flex-1 overflow-hidden p-4 pt-2 gap-4 relative",children:[d.jsxs("div",{className:"flex-1 relative bg-gray-100 dark:bg-slate-900 rounded-2xl border border-gray-200 dark:border-slate-800 shadow-inner overflow-hidden transition-colors duration-300",ref:tl,children:[At&&d.jsxs("div",{className:"absolute bottom-4 right-4 z-50 flex items-center gap-2 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm px-3 py-1.5 rounded-full border border-cyan-500/30 shadow-sm",children:[d.jsx("div",{className:"w-4 h-4 border-2 border-cyan-500 border-t-transparent rounded-full animate-spin"}),d.jsx("span",{className:"text-xs text-cyan-600 dark:text-cyan-400 font-mono",children:Gt||"Processing..."})]}),x.length>1&&d.jsxs("div",{className:"absolute bottom-4 right-20 z-50 flex items-center gap-2 bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm px-3 py-1.5 rounded-lg border border-gray-200 dark:border-slate-700 shadow-lg text-sm font-mono text-gray-700 dark:text-slate-200",children:[d.jsx("button",{onClick:ru,disabled:g<=0,className:"hover:text-cyan-500 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Previous Image",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),d.jsxs("span",{className:"min-w-[3rem] text-center select-none font-bold",children:[g+1," / ",x.length]}),d.jsx("button",{onClick:Th,disabled:g>=x.length-1,className:"hover:text-cyan-500 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Next Image",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),d.jsxs("div",{className:"absolute bottom-4 left-4 z-50 flex flex-col-reverse gap-2 items-start pointer-events-none",children:[ee&&F&&d.jsxs("div",{className:"pointer-events-auto flex items-center gap-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg shadow-lg overflow-hidden animate-in slide-in-from-bottom-2 fade-in",children:[d.jsxs("button",{onClick:()=>K(!1),className:"px-3 py-1.5 text-xs font-bold text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[d.jsx("span",{className:"w-2 h-2 rounded-full bg-cyan-500"}),"ROI Stats"]}),d.jsx("button",{onClick:()=>{K(!1),$(null)},className:"px-2 py-1.5 text-gray-400 hover:text-red-500 hover:bg-gray-100 dark:hover:bg-slate-700 border-l border-gray-200 dark:border-slate-700 transition-colors",children:d.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),fe.filter(R=>R.isMinimized).map(R=>{let V="Window",ue="bg-gray-500";return R.type==="histogram"?(V="Histogram",ue="bg-purple-500"):R.type==="fft"?(V="FFT Spectrum",ue="bg-fuchsia-500"):R.type==="quant"&&(V="Quantization",ue="bg-teal-500"),d.jsxs("div",{className:"pointer-events-auto flex items-center gap-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg shadow-lg overflow-hidden animate-in slide-in-from-bottom-2 fade-in",children:[d.jsxs("button",{onClick:()=>rl(R.id),className:"px-3 py-1.5 text-xs font-bold text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[d.jsx("span",{className:`w-2 h-2 rounded-full ${ue}`}),V]}),d.jsx("button",{onClick:()=>Ro(R.id),className:"px-2 py-1.5 text-gray-400 hover:text-red-500 hover:bg-gray-100 dark:hover:bg-slate-700 border-l border-gray-200 dark:border-slate-700 transition-colors",children:d.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},R.id)})]}),!ee&&d.jsx(pZ,{stats:F,onClose:()=>{$(null),U(null)},onMinimize:()=>K(!0),isBGGR:z,onToggleBGGR:W,onOpenWindow:to,displaySettings:I,zIndex:_e,onFocus:ou}),d.jsx(ni,{isOpen:rt,onClose:()=>Ge(!1),onConfirm:Ke,title:"High Resource Usage Warning",message:"Pattern DNG mode involves high-frequency refreshing and heavy computation. Due to current memory management limitations, repeated use may lead to browser memory overflow or crashes. Please proceed with caution."}),d.jsx(ni,{isOpen:m,onClose:()=>v(!1),onConfirm:()=>{window.open("https://y-g-jiang.github.io/jiangbridge.exe","_blank"),v(!1)},title:"Connect to JiangBridge",confirmText:"Download Bridge App",cancelText:"Cancel",message:d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx("p",{className:"font-bold",children:"JiangBridge"}),d.jsx("p",{className:"text-sm opacity-80",children:'JiangBridge is optional for this webpage, but recommended for full functionality. Simply double-click and run it once after system startup.If the indicator light does not turn green after double-clicking, please consider checking whether the web page is allowed to "View and connect to any device on the network".'})]})}),d.jsx(ni,{isOpen:D,onClose:()=>L(!1),onConfirm:()=>L(!1),title:" 3-Plane / Full Color Detected (/)",confirmText:"I Understand",cancelText:"Dismiss",message:d.jsxs("div",{className:"flex flex-col gap-2 text-left",children:[d.jsx("p",{className:"font-bold text-base",children:"/ (Non-Bayer/3-Plane detected)"}),d.jsx("p",{children:"This image contains 3 fully formed color channels (RGB/YUV), not a single-plane Bayer mosaic."}),d.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm opacity-90 mt-2",children:[d.jsx("li",{children:"Bayer RAW (Optimized for Bayer RAW)."}),d.jsx("li",{children:" (Entering compatibility mode)."}),d.jsx("li",{children:" (Some features like Demosaic selection are disabled)."}),d.jsx("li",{children:"Bayer (Data will be treated as pseudo-Bayer for analysis)."})]})]})}),d.jsx(qQ,{isOpen:dt,onClose:()=>xr(!1)}),d.jsx(YQ,{isOpen:ye,onClose:()=>X(!1),data:M,fileName:w?w.name:"",warning:Be}),d.jsx(ZQ,{isOpen:s,onClose:()=>l(!1),data:Pn,blackLevel:Ve,imageHeight:re,isBGGR:z,importedMetadata:fa||void 0,theme:o,initialCameraModel:(M==null?void 0:M.Model)||"",initialISO:(M==null?void 0:M.ISO)||((iu=M==null?void 0:M.ISOSpeedRatings)==null?void 0:iu.toString())||""}),d.jsx(nZ,{isOpen:c,onClose:()=>u(!1),theme:o}),d.jsx(aZ,{isOpen:f,onClose:()=>h(!1),zIndex:200}),fe.map(R=>{if(R.isMinimized)return null;const V=x.find(me=>me.id===R.sessionId),ue=V==null?void 0:V.rawImageData;if(!ue)return null;const ne={key:R.id,isOpen:!0,onClose:()=>Ro(R.id),onMinimize:()=>$h(R.id),rawImageData:ue,roi:R.roi,isBGGR:R.isBGGR,zIndex:R.zIndex,onFocus:()=>nu(R.id),initialPosition:R.initialPosition,initialInternalState:R.internalState,onUpdateState:me=>au(R.id,me)};return R.type==="histogram"?d.jsx(GQ,{...ne}):R.type==="fft"?d.jsx(VQ,{...ne,onUpdateROI:me=>T(R.id,me)}):R.type==="quant"?d.jsx(KQ,{...ne}):null}),lt&&d.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-white/90 dark:bg-slate-900/90 p-8",children:d.jsxs("div",{className:"max-w-md text-center p-6 bg-white dark:bg-slate-800 rounded-xl border border-red-500/50 shadow-xl",children:[d.jsx("h3",{className:"text-xl font-bold text-red-500 dark:text-red-400 mb-2",children:"Notice"}),d.jsx("p",{className:"text-gray-600 dark:text-slate-300 mb-6 whitespace-pre-wrap",children:lt}),d.jsx("button",{onClick:()=>ze(null),className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 dark:bg-slate-700 dark:hover:bg-slate-600 rounded-lg text-gray-900 dark:text-white transition-colors",children:"Dismiss"})]})}),!it&&!At&&!lt&&d.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-gray-400 dark:text-slate-600 select-none",children:d.jsx("p",{className:"text-lg",children:"Load an image or generate a pattern"})}),d.jsx(eM,{image:it,zoom:gn,pan:tn,onPanChange:rn,onZoomChange:Xt,onSelectionChange:oe,forcedSelection:q,theme:o,touchAction:Xn,isMarking:mt>0,onPointClick:Dt,markers:He,gridRects:br}),d.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-1/2 z-30 pointer-events-none select-none opacity-20 mix-blend-normal dark:mix-blend-plus-lighter",children:d.jsx("svg",{viewBox:"0 0 500 60",className:"w-full h-auto drop-shadow-xl",children:d.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),j&&!mt&&d.jsxs("div",{className:"absolute bottom-4 left-4 z-30 pointer-events-none opacity-50 text-[10px] text-gray-500 dark:text-slate-400",children:["Hold ",d.jsx("b",{children:"Shift"})," + Drag to calculate Raw ROI stats"]}),d.jsx(uM,{zoom:gn,onZoomChange:Xt,onResetView:()=>{da(1),rn({x:0,y:0})},touchAction:Xn,onToggleTouchAction:ke}),!Z&&d.jsx("button",{onClick:()=>de(!0),className:"absolute right-0 top-1/2 -translate-y-1/2 z-50 bg-white dark:bg-slate-900 border-y border-l border-gray-200 dark:border-slate-800 shadow-md p-1.5 rounded-l-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors animate-in fade-in slide-in-from-right-2",title:"Show Tools",children:d.jsx("svg",{className:"w-4 h-4 text-gray-500 dark:text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})})]}),d.jsxs("div",{className:`flex-shrink-0 flex flex-col bg-white dark:bg-slate-900 rounded-2xl border border-gray-200 dark:border-slate-800 shadow-xl overflow-hidden transition-all duration-300 ease-in-out ${Z?"w-80 translate-x-0 opacity-100 ml-0":"w-0 translate-x-20 opacity-0 p-0 border-0 pointer-events-none ml-0"}`,children:[d.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-gray-200 dark:border-slate-800 bg-gray-50/50 dark:bg-slate-800/50 flex-shrink-0",children:[d.jsx("h2",{className:"font-bold text-sm text-gray-700 dark:text-slate-300 uppercase tracking-wide flex items-center gap-2",children:d.jsx("span",{children:"Tools"})}),d.jsx("button",{onClick:()=>de(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-1 rounded hover:bg-gray-200 dark:hover:bg-slate-700",title:"Hide Tools",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),d.jsx("div",{className:"flex-1 overflow-hidden relative",children:d.jsx(rM,{rawImageData:j,displaySettings:I,onApplyDisplaySettings:Nt,onSetSelection:qe,exifData:M,isBridgeConnected:p.isConnected,isDrLabOpen:Zt,drMarkingStep:mt,onStartMarking:sr,onGenerateTestPic:()=>Jt(!0),drRoiSize:$r,onDrRoiSizeChange:St,drGridRows:Kt,onDrGridRowsChange:Ut,drGridCols:wr,onDrGridColsChange:Nn,onBatchDrLab:ut,hasDrMarkers:br.length>0||He.length===4,isFftLabOpen:zt,onProcessPair:be,onOpenCrossCalc:()=>h(!0),isThreePlane:j==null?void 0:j.isThreePlane})})]})]}),Wt&&d.jsxs("div",{className:"fixed inset-0 z-[200] bg-black overflow-hidden",children:[d.jsx("div",{onMouseDown:nl,style:{transform:`translate(${gt.x}px, ${gt.y}px)`,cursor:Er?"grabbing":"grab",opacity:Kn,transition:"opacity 0.1s linear"},className:"w-full h-full flex items-center justify-center",children:d.jsx("img",{src:"/drtest.png",alt:"DR Test",className:"max-w-full max-h-full object-contain pointer-events-none select-none",draggable:!1})}),d.jsxs("div",{className:"absolute top-4 right-4 flex flex-col items-end gap-2 pointer-events-none z-[201]",children:[d.jsx("div",{className:"text-white/50 text-sm bg-black/50 px-3 py-1 rounded backdrop-blur-sm",children:"Press ESC to exit | Drag to move"}),d.jsx("div",{className:"text-white/20 text-xs px-2 select-none",children:"F11 full screen"}),d.jsx("div",{className:"text-red-900/80 text-lg px-2 select-none font-bold mt-4",children:""}),d.jsx("div",{className:"text-red-900/60 text-xs px-2 select-none",children:"Shoot slightly out of focus"})]}),d.jsxs("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 bg-black/60 backdrop-blur-md p-4 rounded-xl border border-gray-700 flex flex-col gap-3 items-center z-[202]",children:[d.jsx("button",{onClick:()=>Jr(!fr),className:`px-4 py-2 rounded-lg font-bold text-sm transition-colors ${fr?"bg-amber-500 text-black hover:bg-amber-400":"bg-gray-700 text-white hover:bg-gray-600"}`,children:fr?"Stop Breathing":"Start Breathing"}),fr&&d.jsxs("div",{className:"flex items-center gap-3 w-64 animate-in fade-in",children:[d.jsx("span",{className:"text-xs text-gray-400 font-bold uppercase",children:"Speed"}),d.jsx("input",{type:"range",min:"0.5",max:"10",step:"0.5",value:_n,onChange:R=>nr(parseFloat(R.target.value)),className:"flex-1 h-1.5 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-amber-500"}),d.jsx("span",{className:"text-xs text-amber-500 w-8 text-right",children:_n.toFixed(1)})]})]})]}),d.jsx(fM,{theme:o,setTheme:i})]})},SP=document.getElementById("root");if(!SP)throw new Error("Could not find root element to mount to");const mZ=Gp.createRoot(SP);mZ.render(d.jsx(C.StrictMode,{children:d.jsx(gZ,{})}));export{CQ as _};
