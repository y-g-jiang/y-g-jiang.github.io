var FP=Object.defineProperty;var zP=(e,t,r)=>t in e?FP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var tn=(e,t,r)=>zP(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var bu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var W2={exports:{}},Fd={},U2={exports:{}},Je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tu=Symbol.for("react.element"),WP=Symbol.for("react.portal"),UP=Symbol.for("react.fragment"),GP=Symbol.for("react.strict_mode"),HP=Symbol.for("react.profiler"),VP=Symbol.for("react.provider"),KP=Symbol.for("react.context"),XP=Symbol.for("react.forward_ref"),YP=Symbol.for("react.suspense"),qP=Symbol.for("react.memo"),ZP=Symbol.for("react.lazy"),Tv=Symbol.iterator;function QP(e){return e===null||typeof e!="object"?null:(e=Tv&&e[Tv]||e["@@iterator"],typeof e=="function"?e:null)}var G2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H2=Object.assign,V2={};function Ys(e,t,r){this.props=e,this.context=t,this.refs=V2,this.updater=r||G2}Ys.prototype.isReactComponent={};Ys.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ys.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function K2(){}K2.prototype=Ys.prototype;function Cm(e,t,r){this.props=e,this.context=t,this.refs=V2,this.updater=r||G2}var Em=Cm.prototype=new K2;Em.constructor=Cm;H2(Em,Ys.prototype);Em.isPureReactComponent=!0;var $v=Array.isArray,X2=Object.prototype.hasOwnProperty,Tm={current:null},Y2={key:!0,ref:!0,__self:!0,__source:!0};function q2(e,t,r){var n,a={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)X2.call(t,n)&&!Y2.hasOwnProperty(n)&&(a[n]=t[n]);var s=arguments.length-2;if(s===1)a.children=r;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)a[n]===void 0&&(a[n]=s[n]);return{$$typeof:tu,type:e,key:o,ref:i,props:a,_owner:Tm.current}}function JP(e,t){return{$$typeof:tu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function $m(e){return typeof e=="object"&&e!==null&&e.$$typeof===tu}function eN(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Dv=/\/+/g;function Qh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?eN(""+e.key):t.toString(36)}function Ju(e,t,r,n,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case tu:case WP:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+Qh(i,0):n,$v(a)?(r="",e!=null&&(r=e.replace(Dv,"$&/")+"/"),Ju(a,t,r,"",function(c){return c})):a!=null&&($m(a)&&(a=JP(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(Dv,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",$v(e))for(var s=0;s<e.length;s++){o=e[s];var l=n+Qh(o,s);i+=Ju(o,t,r,l,a)}else if(l=QP(e),typeof l=="function")for(e=l.call(e),s=0;!(o=e.next()).done;)o=o.value,l=n+Qh(o,s++),i+=Ju(o,t,r,l,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function wu(e,t,r){if(e==null)return e;var n=[],a=0;return Ju(e,n,"","",function(o){return t.call(r,o,a++)}),n}function tN(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ln={current:null},ef={transition:null},rN={ReactCurrentDispatcher:ln,ReactCurrentBatchConfig:ef,ReactCurrentOwner:Tm};function Z2(){throw Error("act(...) is not supported in production builds of React.")}Je.Children={map:wu,forEach:function(e,t,r){wu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return wu(e,function(){t++}),t},toArray:function(e){return wu(e,function(t){return t})||[]},only:function(e){if(!$m(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Je.Component=Ys;Je.Fragment=UP;Je.Profiler=HP;Je.PureComponent=Cm;Je.StrictMode=GP;Je.Suspense=YP;Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rN;Je.act=Z2;Je.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=H2({},e.props),a=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Tm.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)X2.call(t,l)&&!Y2.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];n.children=s}return{$$typeof:tu,type:e.type,key:a,ref:o,props:n,_owner:i}};Je.createContext=function(e){return e={$$typeof:KP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:VP,_context:e},e.Consumer=e};Je.createElement=q2;Je.createFactory=function(e){var t=q2.bind(null,e);return t.type=e,t};Je.createRef=function(){return{current:null}};Je.forwardRef=function(e){return{$$typeof:XP,render:e}};Je.isValidElement=$m;Je.lazy=function(e){return{$$typeof:ZP,_payload:{_status:-1,_result:e},_init:tN}};Je.memo=function(e,t){return{$$typeof:qP,type:e,compare:t===void 0?null:t}};Je.startTransition=function(e){var t=ef.transition;ef.transition={};try{e()}finally{ef.transition=t}};Je.unstable_act=Z2;Je.useCallback=function(e,t){return ln.current.useCallback(e,t)};Je.useContext=function(e){return ln.current.useContext(e)};Je.useDebugValue=function(){};Je.useDeferredValue=function(e){return ln.current.useDeferredValue(e)};Je.useEffect=function(e,t){return ln.current.useEffect(e,t)};Je.useId=function(){return ln.current.useId()};Je.useImperativeHandle=function(e,t,r){return ln.current.useImperativeHandle(e,t,r)};Je.useInsertionEffect=function(e,t){return ln.current.useInsertionEffect(e,t)};Je.useLayoutEffect=function(e,t){return ln.current.useLayoutEffect(e,t)};Je.useMemo=function(e,t){return ln.current.useMemo(e,t)};Je.useReducer=function(e,t,r){return ln.current.useReducer(e,t,r)};Je.useRef=function(e){return ln.current.useRef(e)};Je.useState=function(e){return ln.current.useState(e)};Je.useSyncExternalStore=function(e,t,r){return ln.current.useSyncExternalStore(e,t,r)};Je.useTransition=function(){return ln.current.useTransition()};Je.version="18.3.1";U2.exports=Je;var O=U2.exports;const M=Lt(O);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nN=O,aN=Symbol.for("react.element"),oN=Symbol.for("react.fragment"),iN=Object.prototype.hasOwnProperty,sN=nN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lN={key:!0,ref:!0,__self:!0,__source:!0};function Q2(e,t,r){var n,a={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)iN.call(t,n)&&!lN.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:aN,type:e,key:o,ref:i,props:a,_owner:sN.current}}Fd.Fragment=oN;Fd.jsx=Q2;Fd.jsxs=Q2;W2.exports=Fd;var u=W2.exports,s0={},J2={exports:{}},Dn={},ek={exports:{}},tk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,T){var G=R.length;R.push(T);e:for(;0<G;){var ee=G-1>>>1,Y=R[ee];if(0<a(Y,T))R[ee]=T,R[G]=Y,G=ee;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var T=R[0],G=R.pop();if(G!==T){R[0]=G;e:for(var ee=0,Y=R.length,K=Y>>>1;ee<K;){var H=2*(ee+1)-1,fe=R[H],ce=H+1,Oe=R[ce];if(0>a(fe,G))ce<Y&&0>a(Oe,fe)?(R[ee]=Oe,R[ce]=G,ee=ce):(R[ee]=fe,R[H]=G,ee=H);else if(ce<Y&&0>a(Oe,G))R[ee]=Oe,R[ce]=G,ee=ce;else break e}}return T}function a(R,T){var G=R.sortIndex-T.sortIndex;return G!==0?G:R.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,s=i.now();e.unstable_now=function(){return i.now()-s}}var l=[],c=[],f=1,d=null,h=3,p=!1,m=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(R){for(var T=r(c);T!==null;){if(T.callback===null)n(c);else if(T.startTime<=R)n(c),T.sortIndex=T.expirationTime,t(l,T);else break;T=r(c)}}function S(R){if(v=!1,b(R),!m)if(r(l)!==null)m=!0,I(w);else{var T=r(c);T!==null&&B(S,T.startTime-R)}}function w(R,T){m=!1,v&&(v=!1,y(_),_=-1),p=!0;var G=h;try{for(b(T),d=r(l);d!==null&&(!(d.expirationTime>T)||R&&!N());){var ee=d.callback;if(typeof ee=="function"){d.callback=null,h=d.priorityLevel;var Y=ee(d.expirationTime<=T);T=e.unstable_now(),typeof Y=="function"?d.callback=Y:d===r(l)&&n(l),b(T)}else n(l);d=r(l)}if(d!==null)var K=!0;else{var H=r(c);H!==null&&B(S,H.startTime-T),K=!1}return K}finally{d=null,h=G,p=!1}}var k=!1,j=null,_=-1,P=5,A=-1;function N(){return!(e.unstable_now()-A<P)}function C(){if(j!==null){var R=e.unstable_now();A=R;var T=!0;try{T=j(!0,R)}finally{T?z():(k=!1,j=null)}}else k=!1}var z;if(typeof g=="function")z=function(){g(C)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,L=$.port2;$.port1.onmessage=C,z=function(){L.postMessage(null)}}else z=function(){x(C,0)};function I(R){j=R,k||(k=!0,z())}function B(R,T){_=x(function(){R(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,I(w))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(R){switch(h){case 1:case 2:case 3:var T=3;break;default:T=h}var G=h;h=T;try{return R()}finally{h=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,T){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var G=h;h=R;try{return T()}finally{h=G}},e.unstable_scheduleCallback=function(R,T,G){var ee=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ee+G:ee):G=ee,R){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=G+Y,R={id:f++,callback:T,priorityLevel:R,startTime:G,expirationTime:Y,sortIndex:-1},G>ee?(R.sortIndex=G,t(c,R),r(l)===null&&R===r(c)&&(v?(y(_),_=-1):v=!0,B(S,G-ee))):(R.sortIndex=Y,t(l,R),m||p||(m=!0,I(w))),R},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(R){var T=h;return function(){var G=h;h=T;try{return R.apply(this,arguments)}finally{h=G}}}})(tk);ek.exports=tk;var cN=ek.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uN=O,$n=cN;function oe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rk=new Set,rc={};function Oi(e,t){ps(e,t),ps(e+"Capture",t)}function ps(e,t){for(rc[e]=t,e=0;e<t.length;e++)rk.add(t[e])}var Qa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l0=Object.prototype.hasOwnProperty,fN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Rv={},Lv={};function dN(e){return l0.call(Lv,e)?!0:l0.call(Rv,e)?!1:fN.test(e)?Lv[e]=!0:(Rv[e]=!0,!1)}function hN(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function pN(e,t,r,n){if(t===null||typeof t>"u"||hN(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function cn(e,t,r,n,a,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var zr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){zr[e]=new cn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];zr[t]=new cn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){zr[e]=new cn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){zr[e]=new cn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){zr[e]=new cn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){zr[e]=new cn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){zr[e]=new cn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){zr[e]=new cn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){zr[e]=new cn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Dm=/[\-:]([a-z])/g;function Rm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Dm,Rm);zr[t]=new cn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Dm,Rm);zr[t]=new cn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Dm,Rm);zr[t]=new cn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){zr[e]=new cn(e,1,!1,e.toLowerCase(),null,!1,!1)});zr.xlinkHref=new cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){zr[e]=new cn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Lm(e,t,r,n){var a=zr.hasOwnProperty(t)?zr[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(pN(t,r,a,n)&&(r=null),n||a===null?dN(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var oo=uN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ku=Symbol.for("react.element"),Gi=Symbol.for("react.portal"),Hi=Symbol.for("react.fragment"),Im=Symbol.for("react.strict_mode"),c0=Symbol.for("react.profiler"),nk=Symbol.for("react.provider"),ak=Symbol.for("react.context"),Bm=Symbol.for("react.forward_ref"),u0=Symbol.for("react.suspense"),f0=Symbol.for("react.suspense_list"),Fm=Symbol.for("react.memo"),po=Symbol.for("react.lazy"),ok=Symbol.for("react.offscreen"),Iv=Symbol.iterator;function ml(e){return e===null||typeof e!="object"?null:(e=Iv&&e[Iv]||e["@@iterator"],typeof e=="function"?e:null)}var Jt=Object.assign,Jh;function $l(e){if(Jh===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Jh=t&&t[1]||""}return`
`+Jh+e}var ep=!1;function tp(e,t){if(!e||ep)return"";ep=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),o=n.stack.split(`
`),i=a.length-1,s=o.length-1;1<=i&&0<=s&&a[i]!==o[s];)s--;for(;1<=i&&0<=s;i--,s--)if(a[i]!==o[s]){if(i!==1||s!==1)do if(i--,s--,0>s||a[i]!==o[s]){var l=`
`+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=s);break}}}finally{ep=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?$l(e):""}function gN(e){switch(e.tag){case 5:return $l(e.type);case 16:return $l("Lazy");case 13:return $l("Suspense");case 19:return $l("SuspenseList");case 0:case 2:case 15:return e=tp(e.type,!1),e;case 11:return e=tp(e.type.render,!1),e;case 1:return e=tp(e.type,!0),e;default:return""}}function d0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Hi:return"Fragment";case Gi:return"Portal";case c0:return"Profiler";case Im:return"StrictMode";case u0:return"Suspense";case f0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ak:return(e.displayName||"Context")+".Consumer";case nk:return(e._context.displayName||"Context")+".Provider";case Bm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Fm:return t=e.displayName||null,t!==null?t:d0(e.type)||"Memo";case po:t=e._payload,e=e._init;try{return d0(e(t))}catch{}}return null}function mN(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return d0(t);case 8:return t===Im?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function $o(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ik(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function yN(e){var t=ik(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Su(e){e._valueTracker||(e._valueTracker=yN(e))}function sk(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=ik(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function df(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function h0(e,t){var r=t.checked;return Jt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Bv(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=$o(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function lk(e,t){t=t.checked,t!=null&&Lm(e,"checked",t,!1)}function p0(e,t){lk(e,t);var r=$o(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?g0(e,t.type,r):t.hasOwnProperty("defaultValue")&&g0(e,t.type,$o(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Fv(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function g0(e,t,r){(t!=="number"||df(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Dl=Array.isArray;function os(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+$o(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function m0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(oe(91));return Jt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function zv(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(oe(92));if(Dl(r)){if(1<r.length)throw Error(oe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:$o(r)}}function ck(e,t){var r=$o(t.value),n=$o(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Wv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function uk(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function y0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?uk(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ju,fk=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ju=ju||document.createElement("div"),ju.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ju.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function nc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Bl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vN=["Webkit","ms","Moz","O"];Object.keys(Bl).forEach(function(e){vN.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Bl[t]=Bl[e]})});function dk(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Bl.hasOwnProperty(e)&&Bl[e]?(""+t).trim():t+"px"}function hk(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=dk(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var xN=Jt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function v0(e,t){if(t){if(xN[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(oe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(oe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(oe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(oe(62))}}function x0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var b0=null;function zm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var w0=null,is=null,ss=null;function Uv(e){if(e=au(e)){if(typeof w0!="function")throw Error(oe(280));var t=e.stateNode;t&&(t=Hd(t),w0(e.stateNode,e.type,t))}}function pk(e){is?ss?ss.push(e):ss=[e]:is=e}function gk(){if(is){var e=is,t=ss;if(ss=is=null,Uv(e),t)for(e=0;e<t.length;e++)Uv(t[e])}}function mk(e,t){return e(t)}function yk(){}var rp=!1;function vk(e,t,r){if(rp)return e(t,r);rp=!0;try{return mk(e,t,r)}finally{rp=!1,(is!==null||ss!==null)&&(yk(),gk())}}function ac(e,t){var r=e.stateNode;if(r===null)return null;var n=Hd(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(oe(231,t,typeof r));return r}var k0=!1;if(Qa)try{var yl={};Object.defineProperty(yl,"passive",{get:function(){k0=!0}}),window.addEventListener("test",yl,yl),window.removeEventListener("test",yl,yl)}catch{k0=!1}function bN(e,t,r,n,a,o,i,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(f){this.onError(f)}}var Fl=!1,hf=null,pf=!1,S0=null,wN={onError:function(e){Fl=!0,hf=e}};function kN(e,t,r,n,a,o,i,s,l){Fl=!1,hf=null,bN.apply(wN,arguments)}function SN(e,t,r,n,a,o,i,s,l){if(kN.apply(this,arguments),Fl){if(Fl){var c=hf;Fl=!1,hf=null}else throw Error(oe(198));pf||(pf=!0,S0=c)}}function _i(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function xk(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Gv(e){if(_i(e)!==e)throw Error(oe(188))}function jN(e){var t=e.alternate;if(!t){if(t=_i(e),t===null)throw Error(oe(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var o=a.alternate;if(o===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return Gv(a),e;if(o===n)return Gv(a),t;o=o.sibling}throw Error(oe(188))}if(r.return!==n.return)r=a,n=o;else{for(var i=!1,s=a.child;s;){if(s===r){i=!0,r=a,n=o;break}if(s===n){i=!0,n=a,r=o;break}s=s.sibling}if(!i){for(s=o.child;s;){if(s===r){i=!0,r=o,n=a;break}if(s===n){i=!0,n=o,r=a;break}s=s.sibling}if(!i)throw Error(oe(189))}}if(r.alternate!==n)throw Error(oe(190))}if(r.tag!==3)throw Error(oe(188));return r.stateNode.current===r?e:t}function bk(e){return e=jN(e),e!==null?wk(e):null}function wk(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=wk(e);if(t!==null)return t;e=e.sibling}return null}var kk=$n.unstable_scheduleCallback,Hv=$n.unstable_cancelCallback,ON=$n.unstable_shouldYield,_N=$n.unstable_requestPaint,sr=$n.unstable_now,PN=$n.unstable_getCurrentPriorityLevel,Wm=$n.unstable_ImmediatePriority,Sk=$n.unstable_UserBlockingPriority,gf=$n.unstable_NormalPriority,NN=$n.unstable_LowPriority,jk=$n.unstable_IdlePriority,zd=null,Na=null;function AN(e){if(Na&&typeof Na.onCommitFiberRoot=="function")try{Na.onCommitFiberRoot(zd,e,void 0,(e.current.flags&128)===128)}catch{}}var pa=Math.clz32?Math.clz32:EN,MN=Math.log,CN=Math.LN2;function EN(e){return e>>>=0,e===0?32:31-(MN(e)/CN|0)|0}var Ou=64,_u=4194304;function Rl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mf(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var s=i&~a;s!==0?n=Rl(s):(o&=i,o!==0&&(n=Rl(o)))}else i=r&~a,i!==0?n=Rl(i):o!==0&&(n=Rl(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-pa(t),a=1<<r,n|=e[r],t&=~a;return n}function TN(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $N(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-pa(o),s=1<<i,l=a[i];l===-1?(!(s&r)||s&n)&&(a[i]=TN(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}function j0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ok(){var e=Ou;return Ou<<=1,!(Ou&4194240)&&(Ou=64),e}function np(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ru(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-pa(t),e[t]=r}function DN(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-pa(r),o=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~o}}function Um(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-pa(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var wt=0;function _k(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Pk,Gm,Nk,Ak,Mk,O0=!1,Pu=[],Oo=null,_o=null,Po=null,oc=new Map,ic=new Map,yo=[],RN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vv(e,t){switch(e){case"focusin":case"focusout":Oo=null;break;case"dragenter":case"dragleave":_o=null;break;case"mouseover":case"mouseout":Po=null;break;case"pointerover":case"pointerout":oc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ic.delete(t.pointerId)}}function vl(e,t,r,n,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[a]},t!==null&&(t=au(t),t!==null&&Gm(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function LN(e,t,r,n,a){switch(t){case"focusin":return Oo=vl(Oo,e,t,r,n,a),!0;case"dragenter":return _o=vl(_o,e,t,r,n,a),!0;case"mouseover":return Po=vl(Po,e,t,r,n,a),!0;case"pointerover":var o=a.pointerId;return oc.set(o,vl(oc.get(o)||null,e,t,r,n,a)),!0;case"gotpointercapture":return o=a.pointerId,ic.set(o,vl(ic.get(o)||null,e,t,r,n,a)),!0}return!1}function Ck(e){var t=Qo(e.target);if(t!==null){var r=_i(t);if(r!==null){if(t=r.tag,t===13){if(t=xk(r),t!==null){e.blockedOn=t,Mk(e.priority,function(){Nk(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=_0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);b0=n,r.target.dispatchEvent(n),b0=null}else return t=au(r),t!==null&&Gm(t),e.blockedOn=r,!1;t.shift()}return!0}function Kv(e,t,r){tf(e)&&r.delete(t)}function IN(){O0=!1,Oo!==null&&tf(Oo)&&(Oo=null),_o!==null&&tf(_o)&&(_o=null),Po!==null&&tf(Po)&&(Po=null),oc.forEach(Kv),ic.forEach(Kv)}function xl(e,t){e.blockedOn===t&&(e.blockedOn=null,O0||(O0=!0,$n.unstable_scheduleCallback($n.unstable_NormalPriority,IN)))}function sc(e){function t(a){return xl(a,e)}if(0<Pu.length){xl(Pu[0],e);for(var r=1;r<Pu.length;r++){var n=Pu[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Oo!==null&&xl(Oo,e),_o!==null&&xl(_o,e),Po!==null&&xl(Po,e),oc.forEach(t),ic.forEach(t),r=0;r<yo.length;r++)n=yo[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<yo.length&&(r=yo[0],r.blockedOn===null);)Ck(r),r.blockedOn===null&&yo.shift()}var ls=oo.ReactCurrentBatchConfig,yf=!0;function BN(e,t,r,n){var a=wt,o=ls.transition;ls.transition=null;try{wt=1,Hm(e,t,r,n)}finally{wt=a,ls.transition=o}}function FN(e,t,r,n){var a=wt,o=ls.transition;ls.transition=null;try{wt=4,Hm(e,t,r,n)}finally{wt=a,ls.transition=o}}function Hm(e,t,r,n){if(yf){var a=_0(e,t,r,n);if(a===null)hp(e,t,n,vf,r),Vv(e,n);else if(LN(a,e,t,r,n))n.stopPropagation();else if(Vv(e,n),t&4&&-1<RN.indexOf(e)){for(;a!==null;){var o=au(a);if(o!==null&&Pk(o),o=_0(e,t,r,n),o===null&&hp(e,t,n,vf,r),o===a)break;a=o}a!==null&&n.stopPropagation()}else hp(e,t,n,null,r)}}var vf=null;function _0(e,t,r,n){if(vf=null,e=zm(n),e=Qo(e),e!==null)if(t=_i(e),t===null)e=null;else if(r=t.tag,r===13){if(e=xk(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return vf=e,null}function Ek(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(PN()){case Wm:return 1;case Sk:return 4;case gf:case NN:return 16;case jk:return 536870912;default:return 16}default:return 16}}var bo=null,Vm=null,rf=null;function Tk(){if(rf)return rf;var e,t=Vm,r=t.length,n,a="value"in bo?bo.value:bo.textContent,o=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[o-n];n++);return rf=a.slice(e,1<n?1-n:void 0)}function nf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Nu(){return!0}function Xv(){return!1}function Rn(e){function t(r,n,a,o,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Nu:Xv,this.isPropagationStopped=Xv,this}return Jt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Nu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Nu)},persist:function(){},isPersistent:Nu}),t}var qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Km=Rn(qs),nu=Jt({},qs,{view:0,detail:0}),zN=Rn(nu),ap,op,bl,Wd=Jt({},nu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bl&&(bl&&e.type==="mousemove"?(ap=e.screenX-bl.screenX,op=e.screenY-bl.screenY):op=ap=0,bl=e),ap)},movementY:function(e){return"movementY"in e?e.movementY:op}}),Yv=Rn(Wd),WN=Jt({},Wd,{dataTransfer:0}),UN=Rn(WN),GN=Jt({},nu,{relatedTarget:0}),ip=Rn(GN),HN=Jt({},qs,{animationName:0,elapsedTime:0,pseudoElement:0}),VN=Rn(HN),KN=Jt({},qs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),XN=Rn(KN),YN=Jt({},qs,{data:0}),qv=Rn(YN),qN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ZN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=QN[e])?!!t[e]:!1}function Xm(){return JN}var eA=Jt({},nu,{key:function(e){if(e.key){var t=qN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=nf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ZN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xm,charCode:function(e){return e.type==="keypress"?nf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?nf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tA=Rn(eA),rA=Jt({},Wd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zv=Rn(rA),nA=Jt({},nu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xm}),aA=Rn(nA),oA=Jt({},qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),iA=Rn(oA),sA=Jt({},Wd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lA=Rn(sA),cA=[9,13,27,32],Ym=Qa&&"CompositionEvent"in window,zl=null;Qa&&"documentMode"in document&&(zl=document.documentMode);var uA=Qa&&"TextEvent"in window&&!zl,$k=Qa&&(!Ym||zl&&8<zl&&11>=zl),Qv=" ",Jv=!1;function Dk(e,t){switch(e){case"keyup":return cA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rk(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vi=!1;function fA(e,t){switch(e){case"compositionend":return Rk(t);case"keypress":return t.which!==32?null:(Jv=!0,Qv);case"textInput":return e=t.data,e===Qv&&Jv?null:e;default:return null}}function dA(e,t){if(Vi)return e==="compositionend"||!Ym&&Dk(e,t)?(e=Tk(),rf=Vm=bo=null,Vi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $k&&t.locale!=="ko"?null:t.data;default:return null}}var hA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ex(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hA[e.type]:t==="textarea"}function Lk(e,t,r,n){pk(n),t=xf(t,"onChange"),0<t.length&&(r=new Km("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Wl=null,lc=null;function pA(e){Xk(e,0)}function Ud(e){var t=Yi(e);if(sk(t))return e}function gA(e,t){if(e==="change")return t}var Ik=!1;if(Qa){var sp;if(Qa){var lp="oninput"in document;if(!lp){var tx=document.createElement("div");tx.setAttribute("oninput","return;"),lp=typeof tx.oninput=="function"}sp=lp}else sp=!1;Ik=sp&&(!document.documentMode||9<document.documentMode)}function rx(){Wl&&(Wl.detachEvent("onpropertychange",Bk),lc=Wl=null)}function Bk(e){if(e.propertyName==="value"&&Ud(lc)){var t=[];Lk(t,lc,e,zm(e)),vk(pA,t)}}function mA(e,t,r){e==="focusin"?(rx(),Wl=t,lc=r,Wl.attachEvent("onpropertychange",Bk)):e==="focusout"&&rx()}function yA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ud(lc)}function vA(e,t){if(e==="click")return Ud(t)}function xA(e,t){if(e==="input"||e==="change")return Ud(t)}function bA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ma=typeof Object.is=="function"?Object.is:bA;function cc(e,t){if(ma(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!l0.call(t,a)||!ma(e[a],t[a]))return!1}return!0}function nx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ax(e,t){var r=nx(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=nx(r)}}function Fk(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Fk(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zk(){for(var e=window,t=df();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=df(e.document)}return t}function qm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function wA(e){var t=zk(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Fk(r.ownerDocument.documentElement,r)){if(n!==null&&qm(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,o=Math.min(n.start,a);n=n.end===void 0?o:Math.min(n.end,a),!e.extend&&o>n&&(a=n,n=o,o=a),a=ax(r,o);var i=ax(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var kA=Qa&&"documentMode"in document&&11>=document.documentMode,Ki=null,P0=null,Ul=null,N0=!1;function ox(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;N0||Ki==null||Ki!==df(n)||(n=Ki,"selectionStart"in n&&qm(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ul&&cc(Ul,n)||(Ul=n,n=xf(P0,"onSelect"),0<n.length&&(t=new Km("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ki)))}function Au(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Xi={animationend:Au("Animation","AnimationEnd"),animationiteration:Au("Animation","AnimationIteration"),animationstart:Au("Animation","AnimationStart"),transitionend:Au("Transition","TransitionEnd")},cp={},Wk={};Qa&&(Wk=document.createElement("div").style,"AnimationEvent"in window||(delete Xi.animationend.animation,delete Xi.animationiteration.animation,delete Xi.animationstart.animation),"TransitionEvent"in window||delete Xi.transitionend.transition);function Gd(e){if(cp[e])return cp[e];if(!Xi[e])return e;var t=Xi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Wk)return cp[e]=t[r];return e}var Uk=Gd("animationend"),Gk=Gd("animationiteration"),Hk=Gd("animationstart"),Vk=Gd("transitionend"),Kk=new Map,ix="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ro(e,t){Kk.set(e,t),Oi(t,[e])}for(var up=0;up<ix.length;up++){var fp=ix[up],SA=fp.toLowerCase(),jA=fp[0].toUpperCase()+fp.slice(1);Ro(SA,"on"+jA)}Ro(Uk,"onAnimationEnd");Ro(Gk,"onAnimationIteration");Ro(Hk,"onAnimationStart");Ro("dblclick","onDoubleClick");Ro("focusin","onFocus");Ro("focusout","onBlur");Ro(Vk,"onTransitionEnd");ps("onMouseEnter",["mouseout","mouseover"]);ps("onMouseLeave",["mouseout","mouseover"]);ps("onPointerEnter",["pointerout","pointerover"]);ps("onPointerLeave",["pointerout","pointerover"]);Oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Oi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ll));function sx(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,SN(n,t,void 0,e),e.currentTarget=null}function Xk(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var s=n[i],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&a.isPropagationStopped())break e;sx(a,s,c),o=l}else for(i=0;i<n.length;i++){if(s=n[i],l=s.instance,c=s.currentTarget,s=s.listener,l!==o&&a.isPropagationStopped())break e;sx(a,s,c),o=l}}}if(pf)throw e=S0,pf=!1,S0=null,e}function Ut(e,t){var r=t[T0];r===void 0&&(r=t[T0]=new Set);var n=e+"__bubble";r.has(n)||(Yk(t,e,2,!1),r.add(n))}function dp(e,t,r){var n=0;t&&(n|=4),Yk(r,e,n,t)}var Mu="_reactListening"+Math.random().toString(36).slice(2);function uc(e){if(!e[Mu]){e[Mu]=!0,rk.forEach(function(r){r!=="selectionchange"&&(OA.has(r)||dp(r,!1,e),dp(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Mu]||(t[Mu]=!0,dp("selectionchange",!1,t))}}function Yk(e,t,r,n){switch(Ek(t)){case 1:var a=BN;break;case 4:a=FN;break;default:a=Hm}r=a.bind(null,t,r,e),a=void 0,!k0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function hp(e,t,r,n,a){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var s=n.stateNode.containerInfo;if(s===a||s.nodeType===8&&s.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;i=i.return}for(;s!==null;){if(i=Qo(s),i===null)return;if(l=i.tag,l===5||l===6){n=o=i;continue e}s=s.parentNode}}n=n.return}vk(function(){var c=o,f=zm(r),d=[];e:{var h=Kk.get(e);if(h!==void 0){var p=Km,m=e;switch(e){case"keypress":if(nf(r)===0)break e;case"keydown":case"keyup":p=tA;break;case"focusin":m="focus",p=ip;break;case"focusout":m="blur",p=ip;break;case"beforeblur":case"afterblur":p=ip;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Yv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=UN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=aA;break;case Uk:case Gk:case Hk:p=VN;break;case Vk:p=iA;break;case"scroll":p=zN;break;case"wheel":p=lA;break;case"copy":case"cut":case"paste":p=XN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Zv}var v=(t&4)!==0,x=!v&&e==="scroll",y=v?h!==null?h+"Capture":null:h;v=[];for(var g=c,b;g!==null;){b=g;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,y!==null&&(S=ac(g,y),S!=null&&v.push(fc(g,S,b)))),x)break;g=g.return}0<v.length&&(h=new p(h,m,null,r,f),d.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==b0&&(m=r.relatedTarget||r.fromElement)&&(Qo(m)||m[Ja]))break e;if((p||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=c,m=m?Qo(m):null,m!==null&&(x=_i(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(v=Yv,S="onMouseLeave",y="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(v=Zv,S="onPointerLeave",y="onPointerEnter",g="pointer"),x=p==null?h:Yi(p),b=m==null?h:Yi(m),h=new v(S,g+"leave",p,r,f),h.target=x,h.relatedTarget=b,S=null,Qo(f)===c&&(v=new v(y,g+"enter",m,r,f),v.target=b,v.relatedTarget=x,S=v),x=S,p&&m)t:{for(v=p,y=m,g=0,b=v;b;b=Ii(b))g++;for(b=0,S=y;S;S=Ii(S))b++;for(;0<g-b;)v=Ii(v),g--;for(;0<b-g;)y=Ii(y),b--;for(;g--;){if(v===y||y!==null&&v===y.alternate)break t;v=Ii(v),y=Ii(y)}v=null}else v=null;p!==null&&lx(d,h,p,v,!1),m!==null&&x!==null&&lx(d,x,m,v,!0)}}e:{if(h=c?Yi(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=gA;else if(ex(h))if(Ik)w=xA;else{w=yA;var k=mA}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=vA);if(w&&(w=w(e,c))){Lk(d,w,r,f);break e}k&&k(e,h,c),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&g0(h,"number",h.value)}switch(k=c?Yi(c):window,e){case"focusin":(ex(k)||k.contentEditable==="true")&&(Ki=k,P0=c,Ul=null);break;case"focusout":Ul=P0=Ki=null;break;case"mousedown":N0=!0;break;case"contextmenu":case"mouseup":case"dragend":N0=!1,ox(d,r,f);break;case"selectionchange":if(kA)break;case"keydown":case"keyup":ox(d,r,f)}var j;if(Ym)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Vi?Dk(e,r)&&(_="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&($k&&r.locale!=="ko"&&(Vi||_!=="onCompositionStart"?_==="onCompositionEnd"&&Vi&&(j=Tk()):(bo=f,Vm="value"in bo?bo.value:bo.textContent,Vi=!0)),k=xf(c,_),0<k.length&&(_=new qv(_,e,null,r,f),d.push({event:_,listeners:k}),j?_.data=j:(j=Rk(r),j!==null&&(_.data=j)))),(j=uA?fA(e,r):dA(e,r))&&(c=xf(c,"onBeforeInput"),0<c.length&&(f=new qv("onBeforeInput","beforeinput",null,r,f),d.push({event:f,listeners:c}),f.data=j))}Xk(d,t)})}function fc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function xf(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=ac(e,r),o!=null&&n.unshift(fc(e,o,a)),o=ac(e,t),o!=null&&n.push(fc(e,o,a))),e=e.return}return n}function Ii(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function lx(e,t,r,n,a){for(var o=t._reactName,i=[];r!==null&&r!==n;){var s=r,l=s.alternate,c=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&c!==null&&(s=c,a?(l=ac(r,o),l!=null&&i.unshift(fc(r,l,s))):a||(l=ac(r,o),l!=null&&i.push(fc(r,l,s)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var _A=/\r\n?/g,PA=/\u0000|\uFFFD/g;function cx(e){return(typeof e=="string"?e:""+e).replace(_A,`
`).replace(PA,"")}function Cu(e,t,r){if(t=cx(t),cx(e)!==t&&r)throw Error(oe(425))}function bf(){}var A0=null,M0=null;function C0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var E0=typeof setTimeout=="function"?setTimeout:void 0,NA=typeof clearTimeout=="function"?clearTimeout:void 0,ux=typeof Promise=="function"?Promise:void 0,AA=typeof queueMicrotask=="function"?queueMicrotask:typeof ux<"u"?function(e){return ux.resolve(null).then(e).catch(MA)}:E0;function MA(e){setTimeout(function(){throw e})}function pp(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),sc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);sc(t)}function No(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function fx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Zs=Math.random().toString(36).slice(2),Oa="__reactFiber$"+Zs,dc="__reactProps$"+Zs,Ja="__reactContainer$"+Zs,T0="__reactEvents$"+Zs,CA="__reactListeners$"+Zs,EA="__reactHandles$"+Zs;function Qo(e){var t=e[Oa];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ja]||r[Oa]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=fx(e);e!==null;){if(r=e[Oa])return r;e=fx(e)}return t}e=r,r=e.parentNode}return null}function au(e){return e=e[Oa]||e[Ja],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Yi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(oe(33))}function Hd(e){return e[dc]||null}var $0=[],qi=-1;function Lo(e){return{current:e}}function Vt(e){0>qi||(e.current=$0[qi],$0[qi]=null,qi--)}function zt(e,t){qi++,$0[qi]=e.current,e.current=t}var Do={},Qr=Lo(Do),vn=Lo(!1),hi=Do;function gs(e,t){var r=e.type.contextTypes;if(!r)return Do;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in r)a[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function xn(e){return e=e.childContextTypes,e!=null}function wf(){Vt(vn),Vt(Qr)}function dx(e,t,r){if(Qr.current!==Do)throw Error(oe(168));zt(Qr,t),zt(vn,r)}function qk(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(oe(108,mN(e)||"Unknown",a));return Jt({},r,n)}function kf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Do,hi=Qr.current,zt(Qr,e),zt(vn,vn.current),!0}function hx(e,t,r){var n=e.stateNode;if(!n)throw Error(oe(169));r?(e=qk(e,t,hi),n.__reactInternalMemoizedMergedChildContext=e,Vt(vn),Vt(Qr),zt(Qr,e)):Vt(vn),zt(vn,r)}var za=null,Vd=!1,gp=!1;function Zk(e){za===null?za=[e]:za.push(e)}function TA(e){Vd=!0,Zk(e)}function Io(){if(!gp&&za!==null){gp=!0;var e=0,t=wt;try{var r=za;for(wt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}za=null,Vd=!1}catch(a){throw za!==null&&(za=za.slice(e+1)),kk(Wm,Io),a}finally{wt=t,gp=!1}}return null}var Zi=[],Qi=0,Sf=null,jf=0,Gn=[],Hn=0,pi=null,Wa=1,Ua="";function Ko(e,t){Zi[Qi++]=jf,Zi[Qi++]=Sf,Sf=e,jf=t}function Qk(e,t,r){Gn[Hn++]=Wa,Gn[Hn++]=Ua,Gn[Hn++]=pi,pi=e;var n=Wa;e=Ua;var a=32-pa(n)-1;n&=~(1<<a),r+=1;var o=32-pa(t)+a;if(30<o){var i=a-a%5;o=(n&(1<<i)-1).toString(32),n>>=i,a-=i,Wa=1<<32-pa(t)+a|r<<a|n,Ua=o+e}else Wa=1<<o|r<<a|n,Ua=e}function Zm(e){e.return!==null&&(Ko(e,1),Qk(e,1,0))}function Qm(e){for(;e===Sf;)Sf=Zi[--Qi],Zi[Qi]=null,jf=Zi[--Qi],Zi[Qi]=null;for(;e===pi;)pi=Gn[--Hn],Gn[Hn]=null,Ua=Gn[--Hn],Gn[Hn]=null,Wa=Gn[--Hn],Gn[Hn]=null}var Tn=null,En=null,Kt=!1,fa=null;function Jk(e,t){var r=Vn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function px(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Tn=e,En=No(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Tn=e,En=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=pi!==null?{id:Wa,overflow:Ua}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Vn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Tn=e,En=null,!0):!1;default:return!1}}function D0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function R0(e){if(Kt){var t=En;if(t){var r=t;if(!px(e,t)){if(D0(e))throw Error(oe(418));t=No(r.nextSibling);var n=Tn;t&&px(e,t)?Jk(n,r):(e.flags=e.flags&-4097|2,Kt=!1,Tn=e)}}else{if(D0(e))throw Error(oe(418));e.flags=e.flags&-4097|2,Kt=!1,Tn=e}}}function gx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Tn=e}function Eu(e){if(e!==Tn)return!1;if(!Kt)return gx(e),Kt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!C0(e.type,e.memoizedProps)),t&&(t=En)){if(D0(e))throw eS(),Error(oe(418));for(;t;)Jk(e,t),t=No(t.nextSibling)}if(gx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(oe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){En=No(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}En=null}}else En=Tn?No(e.stateNode.nextSibling):null;return!0}function eS(){for(var e=En;e;)e=No(e.nextSibling)}function ms(){En=Tn=null,Kt=!1}function Jm(e){fa===null?fa=[e]:fa.push(e)}var $A=oo.ReactCurrentBatchConfig;function wl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(oe(309));var n=r.stateNode}if(!n)throw Error(oe(147,e));var a=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var s=a.refs;i===null?delete s[o]:s[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(oe(284));if(!r._owner)throw Error(oe(290,e))}return e}function Tu(e,t){throw e=Object.prototype.toString.call(t),Error(oe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function mx(e){var t=e._init;return t(e._payload)}function tS(e){function t(y,g){if(e){var b=y.deletions;b===null?(y.deletions=[g],y.flags|=16):b.push(g)}}function r(y,g){if(!e)return null;for(;g!==null;)t(y,g),g=g.sibling;return null}function n(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function a(y,g){return y=Eo(y,g),y.index=0,y.sibling=null,y}function o(y,g,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<g?(y.flags|=2,g):b):(y.flags|=2,g)):(y.flags|=1048576,g)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function s(y,g,b,S){return g===null||g.tag!==6?(g=kp(b,y.mode,S),g.return=y,g):(g=a(g,b),g.return=y,g)}function l(y,g,b,S){var w=b.type;return w===Hi?f(y,g,b.props.children,S,b.key):g!==null&&(g.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===po&&mx(w)===g.type)?(S=a(g,b.props),S.ref=wl(y,g,b),S.return=y,S):(S=ff(b.type,b.key,b.props,null,y.mode,S),S.ref=wl(y,g,b),S.return=y,S)}function c(y,g,b,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==b.containerInfo||g.stateNode.implementation!==b.implementation?(g=Sp(b,y.mode,S),g.return=y,g):(g=a(g,b.children||[]),g.return=y,g)}function f(y,g,b,S,w){return g===null||g.tag!==7?(g=li(b,y.mode,S,w),g.return=y,g):(g=a(g,b),g.return=y,g)}function d(y,g,b){if(typeof g=="string"&&g!==""||typeof g=="number")return g=kp(""+g,y.mode,b),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ku:return b=ff(g.type,g.key,g.props,null,y.mode,b),b.ref=wl(y,null,g),b.return=y,b;case Gi:return g=Sp(g,y.mode,b),g.return=y,g;case po:var S=g._init;return d(y,S(g._payload),b)}if(Dl(g)||ml(g))return g=li(g,y.mode,b,null),g.return=y,g;Tu(y,g)}return null}function h(y,g,b,S){var w=g!==null?g.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:s(y,g,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ku:return b.key===w?l(y,g,b,S):null;case Gi:return b.key===w?c(y,g,b,S):null;case po:return w=b._init,h(y,g,w(b._payload),S)}if(Dl(b)||ml(b))return w!==null?null:f(y,g,b,S,null);Tu(y,b)}return null}function p(y,g,b,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(b)||null,s(g,y,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ku:return y=y.get(S.key===null?b:S.key)||null,l(g,y,S,w);case Gi:return y=y.get(S.key===null?b:S.key)||null,c(g,y,S,w);case po:var k=S._init;return p(y,g,b,k(S._payload),w)}if(Dl(S)||ml(S))return y=y.get(b)||null,f(g,y,S,w,null);Tu(g,S)}return null}function m(y,g,b,S){for(var w=null,k=null,j=g,_=g=0,P=null;j!==null&&_<b.length;_++){j.index>_?(P=j,j=null):P=j.sibling;var A=h(y,j,b[_],S);if(A===null){j===null&&(j=P);break}e&&j&&A.alternate===null&&t(y,j),g=o(A,g,_),k===null?w=A:k.sibling=A,k=A,j=P}if(_===b.length)return r(y,j),Kt&&Ko(y,_),w;if(j===null){for(;_<b.length;_++)j=d(y,b[_],S),j!==null&&(g=o(j,g,_),k===null?w=j:k.sibling=j,k=j);return Kt&&Ko(y,_),w}for(j=n(y,j);_<b.length;_++)P=p(j,y,_,b[_],S),P!==null&&(e&&P.alternate!==null&&j.delete(P.key===null?_:P.key),g=o(P,g,_),k===null?w=P:k.sibling=P,k=P);return e&&j.forEach(function(N){return t(y,N)}),Kt&&Ko(y,_),w}function v(y,g,b,S){var w=ml(b);if(typeof w!="function")throw Error(oe(150));if(b=w.call(b),b==null)throw Error(oe(151));for(var k=w=null,j=g,_=g=0,P=null,A=b.next();j!==null&&!A.done;_++,A=b.next()){j.index>_?(P=j,j=null):P=j.sibling;var N=h(y,j,A.value,S);if(N===null){j===null&&(j=P);break}e&&j&&N.alternate===null&&t(y,j),g=o(N,g,_),k===null?w=N:k.sibling=N,k=N,j=P}if(A.done)return r(y,j),Kt&&Ko(y,_),w;if(j===null){for(;!A.done;_++,A=b.next())A=d(y,A.value,S),A!==null&&(g=o(A,g,_),k===null?w=A:k.sibling=A,k=A);return Kt&&Ko(y,_),w}for(j=n(y,j);!A.done;_++,A=b.next())A=p(j,y,_,A.value,S),A!==null&&(e&&A.alternate!==null&&j.delete(A.key===null?_:A.key),g=o(A,g,_),k===null?w=A:k.sibling=A,k=A);return e&&j.forEach(function(C){return t(y,C)}),Kt&&Ko(y,_),w}function x(y,g,b,S){if(typeof b=="object"&&b!==null&&b.type===Hi&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case ku:e:{for(var w=b.key,k=g;k!==null;){if(k.key===w){if(w=b.type,w===Hi){if(k.tag===7){r(y,k.sibling),g=a(k,b.props.children),g.return=y,y=g;break e}}else if(k.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===po&&mx(w)===k.type){r(y,k.sibling),g=a(k,b.props),g.ref=wl(y,k,b),g.return=y,y=g;break e}r(y,k);break}else t(y,k);k=k.sibling}b.type===Hi?(g=li(b.props.children,y.mode,S,b.key),g.return=y,y=g):(S=ff(b.type,b.key,b.props,null,y.mode,S),S.ref=wl(y,g,b),S.return=y,y=S)}return i(y);case Gi:e:{for(k=b.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===b.containerInfo&&g.stateNode.implementation===b.implementation){r(y,g.sibling),g=a(g,b.children||[]),g.return=y,y=g;break e}else{r(y,g);break}else t(y,g);g=g.sibling}g=Sp(b,y.mode,S),g.return=y,y=g}return i(y);case po:return k=b._init,x(y,g,k(b._payload),S)}if(Dl(b))return m(y,g,b,S);if(ml(b))return v(y,g,b,S);Tu(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,g!==null&&g.tag===6?(r(y,g.sibling),g=a(g,b),g.return=y,y=g):(r(y,g),g=kp(b,y.mode,S),g.return=y,y=g),i(y)):r(y,g)}return x}var ys=tS(!0),rS=tS(!1),Of=Lo(null),_f=null,Ji=null,ey=null;function ty(){ey=Ji=_f=null}function ry(e){var t=Of.current;Vt(Of),e._currentValue=t}function L0(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function cs(e,t){_f=e,ey=Ji=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(mn=!0),e.firstContext=null)}function Zn(e){var t=e._currentValue;if(ey!==e)if(e={context:e,memoizedValue:t,next:null},Ji===null){if(_f===null)throw Error(oe(308));Ji=e,_f.dependencies={lanes:0,firstContext:e}}else Ji=Ji.next=e;return t}var Jo=null;function ny(e){Jo===null?Jo=[e]:Jo.push(e)}function nS(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,ny(t)):(r.next=a.next,a.next=r),t.interleaved=r,eo(e,n)}function eo(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var go=!1;function ay(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function aS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ka(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ao(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,at&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,eo(e,r)}return a=n.interleaved,a===null?(t.next=t,ny(n)):(t.next=a.next,a.next=t),n.interleaved=t,eo(e,r)}function af(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Um(e,r)}}function yx(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?a=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?a=o=t:o=o.next=t}else a=o=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Pf(e,t,r,n){var a=e.updateQueue;go=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,s=a.shared.pending;if(s!==null){a.shared.pending=null;var l=s,c=l.next;l.next=null,i===null?o=c:i.next=c,i=l;var f=e.alternate;f!==null&&(f=f.updateQueue,s=f.lastBaseUpdate,s!==i&&(s===null?f.firstBaseUpdate=c:s.next=c,f.lastBaseUpdate=l))}if(o!==null){var d=a.baseState;i=0,f=c=l=null,s=o;do{var h=s.lane,p=s.eventTime;if((n&h)===h){f!==null&&(f=f.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,v=s;switch(h=t,p=r,v.tag){case 1:if(m=v.payload,typeof m=="function"){d=m.call(p,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,h=typeof m=="function"?m.call(p,d,h):m,h==null)break e;d=Jt({},d,h);break e;case 2:go=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},f===null?(c=f=p,l=d):f=f.next=p,i|=h;if(s=s.next,s===null){if(s=a.shared.pending,s===null)break;h=s,s=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(f===null&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=f,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);mi|=i,e.lanes=i,e.memoizedState=d}}function vx(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(oe(191,a));a.call(n)}}}var ou={},Aa=Lo(ou),hc=Lo(ou),pc=Lo(ou);function ei(e){if(e===ou)throw Error(oe(174));return e}function oy(e,t){switch(zt(pc,t),zt(hc,e),zt(Aa,ou),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:y0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=y0(t,e)}Vt(Aa),zt(Aa,t)}function vs(){Vt(Aa),Vt(hc),Vt(pc)}function oS(e){ei(pc.current);var t=ei(Aa.current),r=y0(t,e.type);t!==r&&(zt(hc,e),zt(Aa,r))}function iy(e){hc.current===e&&(Vt(Aa),Vt(hc))}var Zt=Lo(0);function Nf(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var mp=[];function sy(){for(var e=0;e<mp.length;e++)mp[e]._workInProgressVersionPrimary=null;mp.length=0}var of=oo.ReactCurrentDispatcher,yp=oo.ReactCurrentBatchConfig,gi=0,Qt=null,wr=null,Mr=null,Af=!1,Gl=!1,gc=0,DA=0;function Hr(){throw Error(oe(321))}function ly(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ma(e[r],t[r]))return!1;return!0}function cy(e,t,r,n,a,o){if(gi=o,Qt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,of.current=e===null||e.memoizedState===null?BA:FA,e=r(n,a),Gl){o=0;do{if(Gl=!1,gc=0,25<=o)throw Error(oe(301));o+=1,Mr=wr=null,t.updateQueue=null,of.current=zA,e=r(n,a)}while(Gl)}if(of.current=Mf,t=wr!==null&&wr.next!==null,gi=0,Mr=wr=Qt=null,Af=!1,t)throw Error(oe(300));return e}function uy(){var e=gc!==0;return gc=0,e}function ja(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mr===null?Qt.memoizedState=Mr=e:Mr=Mr.next=e,Mr}function Qn(){if(wr===null){var e=Qt.alternate;e=e!==null?e.memoizedState:null}else e=wr.next;var t=Mr===null?Qt.memoizedState:Mr.next;if(t!==null)Mr=t,wr=e;else{if(e===null)throw Error(oe(310));wr=e,e={memoizedState:wr.memoizedState,baseState:wr.baseState,baseQueue:wr.baseQueue,queue:wr.queue,next:null},Mr===null?Qt.memoizedState=Mr=e:Mr=Mr.next=e}return Mr}function mc(e,t){return typeof t=="function"?t(e):t}function vp(e){var t=Qn(),r=t.queue;if(r===null)throw Error(oe(311));r.lastRenderedReducer=e;var n=wr,a=n.baseQueue,o=r.pending;if(o!==null){if(a!==null){var i=a.next;a.next=o.next,o.next=i}n.baseQueue=a=o,r.pending=null}if(a!==null){o=a.next,n=n.baseState;var s=i=null,l=null,c=o;do{var f=c.lane;if((gi&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=d,i=n):l=l.next=d,Qt.lanes|=f,mi|=f}c=c.next}while(c!==null&&c!==o);l===null?i=n:l.next=s,ma(n,t.memoizedState)||(mn=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do o=a.lane,Qt.lanes|=o,mi|=o,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function xp(e){var t=Qn(),r=t.queue;if(r===null)throw Error(oe(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,o=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do o=e(o,i.action),i=i.next;while(i!==a);ma(o,t.memoizedState)||(mn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function iS(){}function sS(e,t){var r=Qt,n=Qn(),a=t(),o=!ma(n.memoizedState,a);if(o&&(n.memoizedState=a,mn=!0),n=n.queue,fy(uS.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Mr!==null&&Mr.memoizedState.tag&1){if(r.flags|=2048,yc(9,cS.bind(null,r,n,a,t),void 0,null),Cr===null)throw Error(oe(349));gi&30||lS(r,t,a)}return a}function lS(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Qt.updateQueue,t===null?(t={lastEffect:null,stores:null},Qt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function cS(e,t,r,n){t.value=r,t.getSnapshot=n,fS(t)&&dS(e)}function uS(e,t,r){return r(function(){fS(t)&&dS(e)})}function fS(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ma(e,r)}catch{return!0}}function dS(e){var t=eo(e,1);t!==null&&ga(t,e,1,-1)}function xx(e){var t=ja();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mc,lastRenderedState:e},t.queue=e,e=e.dispatch=IA.bind(null,Qt,e),[t.memoizedState,e]}function yc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Qt.updateQueue,t===null?(t={lastEffect:null,stores:null},Qt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function hS(){return Qn().memoizedState}function sf(e,t,r,n){var a=ja();Qt.flags|=e,a.memoizedState=yc(1|t,r,void 0,n===void 0?null:n)}function Kd(e,t,r,n){var a=Qn();n=n===void 0?null:n;var o=void 0;if(wr!==null){var i=wr.memoizedState;if(o=i.destroy,n!==null&&ly(n,i.deps)){a.memoizedState=yc(t,r,o,n);return}}Qt.flags|=e,a.memoizedState=yc(1|t,r,o,n)}function bx(e,t){return sf(8390656,8,e,t)}function fy(e,t){return Kd(2048,8,e,t)}function pS(e,t){return Kd(4,2,e,t)}function gS(e,t){return Kd(4,4,e,t)}function mS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yS(e,t,r){return r=r!=null?r.concat([e]):null,Kd(4,4,mS.bind(null,t,e),r)}function dy(){}function vS(e,t){var r=Qn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ly(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function xS(e,t){var r=Qn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ly(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function bS(e,t,r){return gi&21?(ma(r,t)||(r=Ok(),Qt.lanes|=r,mi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,mn=!0),e.memoizedState=r)}function RA(e,t){var r=wt;wt=r!==0&&4>r?r:4,e(!0);var n=yp.transition;yp.transition={};try{e(!1),t()}finally{wt=r,yp.transition=n}}function wS(){return Qn().memoizedState}function LA(e,t,r){var n=Co(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},kS(e))SS(t,r);else if(r=nS(e,t,r,n),r!==null){var a=sn();ga(r,e,n,a),jS(r,t,n)}}function IA(e,t,r){var n=Co(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(kS(e))SS(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,s=o(i,r);if(a.hasEagerState=!0,a.eagerState=s,ma(s,i)){var l=t.interleaved;l===null?(a.next=a,ny(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=nS(e,t,a,n),r!==null&&(a=sn(),ga(r,e,n,a),jS(r,t,n))}}function kS(e){var t=e.alternate;return e===Qt||t!==null&&t===Qt}function SS(e,t){Gl=Af=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function jS(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Um(e,r)}}var Mf={readContext:Zn,useCallback:Hr,useContext:Hr,useEffect:Hr,useImperativeHandle:Hr,useInsertionEffect:Hr,useLayoutEffect:Hr,useMemo:Hr,useReducer:Hr,useRef:Hr,useState:Hr,useDebugValue:Hr,useDeferredValue:Hr,useTransition:Hr,useMutableSource:Hr,useSyncExternalStore:Hr,useId:Hr,unstable_isNewReconciler:!1},BA={readContext:Zn,useCallback:function(e,t){return ja().memoizedState=[e,t===void 0?null:t],e},useContext:Zn,useEffect:bx,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,sf(4194308,4,mS.bind(null,t,e),r)},useLayoutEffect:function(e,t){return sf(4194308,4,e,t)},useInsertionEffect:function(e,t){return sf(4,2,e,t)},useMemo:function(e,t){var r=ja();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ja();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=LA.bind(null,Qt,e),[n.memoizedState,e]},useRef:function(e){var t=ja();return e={current:e},t.memoizedState=e},useState:xx,useDebugValue:dy,useDeferredValue:function(e){return ja().memoizedState=e},useTransition:function(){var e=xx(!1),t=e[0];return e=RA.bind(null,e[1]),ja().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Qt,a=ja();if(Kt){if(r===void 0)throw Error(oe(407));r=r()}else{if(r=t(),Cr===null)throw Error(oe(349));gi&30||lS(n,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,bx(uS.bind(null,n,o,e),[e]),n.flags|=2048,yc(9,cS.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=ja(),t=Cr.identifierPrefix;if(Kt){var r=Ua,n=Wa;r=(n&~(1<<32-pa(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=gc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=DA++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},FA={readContext:Zn,useCallback:vS,useContext:Zn,useEffect:fy,useImperativeHandle:yS,useInsertionEffect:pS,useLayoutEffect:gS,useMemo:xS,useReducer:vp,useRef:hS,useState:function(){return vp(mc)},useDebugValue:dy,useDeferredValue:function(e){var t=Qn();return bS(t,wr.memoizedState,e)},useTransition:function(){var e=vp(mc)[0],t=Qn().memoizedState;return[e,t]},useMutableSource:iS,useSyncExternalStore:sS,useId:wS,unstable_isNewReconciler:!1},zA={readContext:Zn,useCallback:vS,useContext:Zn,useEffect:fy,useImperativeHandle:yS,useInsertionEffect:pS,useLayoutEffect:gS,useMemo:xS,useReducer:xp,useRef:hS,useState:function(){return xp(mc)},useDebugValue:dy,useDeferredValue:function(e){var t=Qn();return wr===null?t.memoizedState=e:bS(t,wr.memoizedState,e)},useTransition:function(){var e=xp(mc)[0],t=Qn().memoizedState;return[e,t]},useMutableSource:iS,useSyncExternalStore:sS,useId:wS,unstable_isNewReconciler:!1};function sa(e,t){if(e&&e.defaultProps){t=Jt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function I0(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Jt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Xd={isMounted:function(e){return(e=e._reactInternals)?_i(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=sn(),a=Co(e),o=Ka(n,a);o.payload=t,r!=null&&(o.callback=r),t=Ao(e,o,a),t!==null&&(ga(t,e,a,n),af(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=sn(),a=Co(e),o=Ka(n,a);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Ao(e,o,a),t!==null&&(ga(t,e,a,n),af(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=sn(),n=Co(e),a=Ka(r,n);a.tag=2,t!=null&&(a.callback=t),t=Ao(e,a,n),t!==null&&(ga(t,e,n,r),af(t,e,n))}};function wx(e,t,r,n,a,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!cc(r,n)||!cc(a,o):!0}function OS(e,t,r){var n=!1,a=Do,o=t.contextType;return typeof o=="object"&&o!==null?o=Zn(o):(a=xn(t)?hi:Qr.current,n=t.contextTypes,o=(n=n!=null)?gs(e,a):Do),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Xd,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function kx(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Xd.enqueueReplaceState(t,t.state,null)}function B0(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},ay(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=Zn(o):(o=xn(t)?hi:Qr.current,a.context=gs(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(I0(e,t,o,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Xd.enqueueReplaceState(a,a.state,null),Pf(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function xs(e,t){try{var r="",n=t;do r+=gN(n),n=n.return;while(n);var a=r}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function bp(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function F0(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var WA=typeof WeakMap=="function"?WeakMap:Map;function _S(e,t,r){r=Ka(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ef||(Ef=!0,q0=n),F0(e,t)},r}function PS(e,t,r){r=Ka(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){F0(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){F0(e,t),typeof n!="function"&&(Mo===null?Mo=new Set([this]):Mo.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Sx(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new WA;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=rM.bind(null,e,t,r),t.then(e,e))}function jx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ox(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ka(-1,1),t.tag=2,Ao(r,t,1))),r.lanes|=1),e)}var UA=oo.ReactCurrentOwner,mn=!1;function nn(e,t,r,n){t.child=e===null?rS(t,null,r,n):ys(t,e.child,r,n)}function _x(e,t,r,n,a){r=r.render;var o=t.ref;return cs(t,a),n=cy(e,t,r,n,o,a),r=uy(),e!==null&&!mn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,to(e,t,a)):(Kt&&r&&Zm(t),t.flags|=1,nn(e,t,n,a),t.child)}function Px(e,t,r,n,a){if(e===null){var o=r.type;return typeof o=="function"&&!by(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,NS(e,t,o,n,a)):(e=ff(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:cc,r(i,n)&&e.ref===t.ref)return to(e,t,a)}return t.flags|=1,e=Eo(o,n),e.ref=t.ref,e.return=t,t.child=e}function NS(e,t,r,n,a){if(e!==null){var o=e.memoizedProps;if(cc(o,n)&&e.ref===t.ref)if(mn=!1,t.pendingProps=n=o,(e.lanes&a)!==0)e.flags&131072&&(mn=!0);else return t.lanes=e.lanes,to(e,t,a)}return z0(e,t,r,n,a)}function AS(e,t,r){var n=t.pendingProps,a=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},zt(ts,An),An|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,zt(ts,An),An|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,zt(ts,An),An|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,zt(ts,An),An|=n;return nn(e,t,a,r),t.child}function MS(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function z0(e,t,r,n,a){var o=xn(r)?hi:Qr.current;return o=gs(t,o),cs(t,a),r=cy(e,t,r,n,o,a),n=uy(),e!==null&&!mn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,to(e,t,a)):(Kt&&n&&Zm(t),t.flags|=1,nn(e,t,r,a),t.child)}function Nx(e,t,r,n,a){if(xn(r)){var o=!0;kf(t)}else o=!1;if(cs(t,a),t.stateNode===null)lf(e,t),OS(t,r,n),B0(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,s=t.memoizedProps;i.props=s;var l=i.context,c=r.contextType;typeof c=="object"&&c!==null?c=Zn(c):(c=xn(r)?hi:Qr.current,c=gs(t,c));var f=r.getDerivedStateFromProps,d=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==n||l!==c)&&kx(t,i,n,c),go=!1;var h=t.memoizedState;i.state=h,Pf(t,n,i,a),l=t.memoizedState,s!==n||h!==l||vn.current||go?(typeof f=="function"&&(I0(t,r,f,n),l=t.memoizedState),(s=go||wx(t,r,s,n,h,l,c))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),i.props=n,i.state=l,i.context=c,n=s):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,aS(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:sa(t.type,s),i.props=c,d=t.pendingProps,h=i.context,l=r.contextType,typeof l=="object"&&l!==null?l=Zn(l):(l=xn(r)?hi:Qr.current,l=gs(t,l));var p=r.getDerivedStateFromProps;(f=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==d||h!==l)&&kx(t,i,n,l),go=!1,h=t.memoizedState,i.state=h,Pf(t,n,i,a);var m=t.memoizedState;s!==d||h!==m||vn.current||go?(typeof p=="function"&&(I0(t,r,p,n),m=t.memoizedState),(c=go||wx(t,r,c,n,h,m,l)||!1)?(f||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,m,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,m,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),i.props=n,i.state=m,i.context=l,n=c):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return W0(e,t,r,n,o,a)}function W0(e,t,r,n,a,o){MS(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&hx(t,r,!1),to(e,t,o);n=t.stateNode,UA.current=t;var s=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=ys(t,e.child,null,o),t.child=ys(t,null,s,o)):nn(e,t,s,o),t.memoizedState=n.state,a&&hx(t,r,!0),t.child}function CS(e){var t=e.stateNode;t.pendingContext?dx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&dx(e,t.context,!1),oy(e,t.containerInfo)}function Ax(e,t,r,n,a){return ms(),Jm(a),t.flags|=256,nn(e,t,r,n),t.child}var U0={dehydrated:null,treeContext:null,retryLane:0};function G0(e){return{baseLanes:e,cachePool:null,transitions:null}}function ES(e,t,r){var n=t.pendingProps,a=Zt.current,o=!1,i=(t.flags&128)!==0,s;if((s=i)||(s=e!==null&&e.memoizedState===null?!1:(a&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),zt(Zt,a&1),e===null)return R0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Zd(i,n,0,null),e=li(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=G0(r),t.memoizedState=U0,e):hy(t,i));if(a=e.memoizedState,a!==null&&(s=a.dehydrated,s!==null))return GA(e,t,i,n,s,a,r);if(o){o=n.fallback,i=t.mode,a=e.child,s=a.sibling;var l={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Eo(a,l),n.subtreeFlags=a.subtreeFlags&14680064),s!==null?o=Eo(s,o):(o=li(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?G0(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=U0,n}return o=e.child,e=o.sibling,n=Eo(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function hy(e,t){return t=Zd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function $u(e,t,r,n){return n!==null&&Jm(n),ys(t,e.child,null,r),e=hy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function GA(e,t,r,n,a,o,i){if(r)return t.flags&256?(t.flags&=-257,n=bp(Error(oe(422))),$u(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,a=t.mode,n=Zd({mode:"visible",children:n.children},a,0,null),o=li(o,a,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&ys(t,e.child,null,i),t.child.memoizedState=G0(i),t.memoizedState=U0,o);if(!(t.mode&1))return $u(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var s=n.dgst;return n=s,o=Error(oe(419)),n=bp(o,n,void 0),$u(e,t,i,n)}if(s=(i&e.childLanes)!==0,mn||s){if(n=Cr,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,eo(e,a),ga(n,e,a,-1))}return xy(),n=bp(Error(oe(421))),$u(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=nM.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,En=No(a.nextSibling),Tn=t,Kt=!0,fa=null,e!==null&&(Gn[Hn++]=Wa,Gn[Hn++]=Ua,Gn[Hn++]=pi,Wa=e.id,Ua=e.overflow,pi=t),t=hy(t,n.children),t.flags|=4096,t)}function Mx(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),L0(e.return,t,r)}function wp(e,t,r,n,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=a)}function TS(e,t,r){var n=t.pendingProps,a=n.revealOrder,o=n.tail;if(nn(e,t,n.children,r),n=Zt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mx(e,r,t);else if(e.tag===19)Mx(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(zt(Zt,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Nf(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),wp(t,!1,a,r,o);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Nf(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}wp(t,!0,r,null,o);break;case"together":wp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function lf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function to(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),mi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(oe(153));if(t.child!==null){for(e=t.child,r=Eo(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Eo(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function HA(e,t,r){switch(t.tag){case 3:CS(t),ms();break;case 5:oS(t);break;case 1:xn(t.type)&&kf(t);break;case 4:oy(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;zt(Of,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(zt(Zt,Zt.current&1),t.flags|=128,null):r&t.child.childLanes?ES(e,t,r):(zt(Zt,Zt.current&1),e=to(e,t,r),e!==null?e.sibling:null);zt(Zt,Zt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return TS(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),zt(Zt,Zt.current),n)break;return null;case 22:case 23:return t.lanes=0,AS(e,t,r)}return to(e,t,r)}var $S,H0,DS,RS;$S=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};H0=function(){};DS=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,ei(Aa.current);var o=null;switch(r){case"input":a=h0(e,a),n=h0(e,n),o=[];break;case"select":a=Jt({},a,{value:void 0}),n=Jt({},n,{value:void 0}),o=[];break;case"textarea":a=m0(e,a),n=m0(e,n),o=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=bf)}v0(r,n);var i;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var s=a[c];for(i in s)s.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(rc.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in n){var l=n[c];if(s=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(i in s)!s.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in l)l.hasOwnProperty(i)&&s[i]!==l[i]&&(r||(r={}),r[i]=l[i])}else r||(o||(o=[]),o.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(rc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ut("scroll",e),o||s===l||(o=[])):(o=o||[]).push(c,l))}r&&(o=o||[]).push("style",r);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};RS=function(e,t,r,n){r!==n&&(t.flags|=4)};function kl(e,t){if(!Kt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Vr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function VA(e,t,r){var n=t.pendingProps;switch(Qm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vr(t),null;case 1:return xn(t.type)&&wf(),Vr(t),null;case 3:return n=t.stateNode,vs(),Vt(vn),Vt(Qr),sy(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Eu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,fa!==null&&(J0(fa),fa=null))),H0(e,t),Vr(t),null;case 5:iy(t);var a=ei(pc.current);if(r=t.type,e!==null&&t.stateNode!=null)DS(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(oe(166));return Vr(t),null}if(e=ei(Aa.current),Eu(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Oa]=t,n[dc]=o,e=(t.mode&1)!==0,r){case"dialog":Ut("cancel",n),Ut("close",n);break;case"iframe":case"object":case"embed":Ut("load",n);break;case"video":case"audio":for(a=0;a<Ll.length;a++)Ut(Ll[a],n);break;case"source":Ut("error",n);break;case"img":case"image":case"link":Ut("error",n),Ut("load",n);break;case"details":Ut("toggle",n);break;case"input":Bv(n,o),Ut("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Ut("invalid",n);break;case"textarea":zv(n,o),Ut("invalid",n)}v0(r,o),a=null;for(var i in o)if(o.hasOwnProperty(i)){var s=o[i];i==="children"?typeof s=="string"?n.textContent!==s&&(o.suppressHydrationWarning!==!0&&Cu(n.textContent,s,e),a=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Cu(n.textContent,s,e),a=["children",""+s]):rc.hasOwnProperty(i)&&s!=null&&i==="onScroll"&&Ut("scroll",n)}switch(r){case"input":Su(n),Fv(n,o,!0);break;case"textarea":Su(n),Wv(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=bf)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=uk(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Oa]=t,e[dc]=n,$S(e,t,!1,!1),t.stateNode=e;e:{switch(i=x0(r,n),r){case"dialog":Ut("cancel",e),Ut("close",e),a=n;break;case"iframe":case"object":case"embed":Ut("load",e),a=n;break;case"video":case"audio":for(a=0;a<Ll.length;a++)Ut(Ll[a],e);a=n;break;case"source":Ut("error",e),a=n;break;case"img":case"image":case"link":Ut("error",e),Ut("load",e),a=n;break;case"details":Ut("toggle",e),a=n;break;case"input":Bv(e,n),a=h0(e,n),Ut("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Jt({},n,{value:void 0}),Ut("invalid",e);break;case"textarea":zv(e,n),a=m0(e,n),Ut("invalid",e);break;default:a=n}v0(r,a),s=a;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?hk(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&fk(e,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&nc(e,l):typeof l=="number"&&nc(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(rc.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ut("scroll",e):l!=null&&Lm(e,o,l,i))}switch(r){case"input":Su(e),Fv(e,n,!1);break;case"textarea":Su(e),Wv(e);break;case"option":n.value!=null&&e.setAttribute("value",""+$o(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?os(e,!!n.multiple,o,!1):n.defaultValue!=null&&os(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=bf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Vr(t),null;case 6:if(e&&t.stateNode!=null)RS(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(oe(166));if(r=ei(pc.current),ei(Aa.current),Eu(t)){if(n=t.stateNode,r=t.memoizedProps,n[Oa]=t,(o=n.nodeValue!==r)&&(e=Tn,e!==null))switch(e.tag){case 3:Cu(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Cu(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Oa]=t,t.stateNode=n}return Vr(t),null;case 13:if(Vt(Zt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Kt&&En!==null&&t.mode&1&&!(t.flags&128))eS(),ms(),t.flags|=98560,o=!1;else if(o=Eu(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(oe(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(oe(317));o[Oa]=t}else ms(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Vr(t),o=!1}else fa!==null&&(J0(fa),fa=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Zt.current&1?kr===0&&(kr=3):xy())),t.updateQueue!==null&&(t.flags|=4),Vr(t),null);case 4:return vs(),H0(e,t),e===null&&uc(t.stateNode.containerInfo),Vr(t),null;case 10:return ry(t.type._context),Vr(t),null;case 17:return xn(t.type)&&wf(),Vr(t),null;case 19:if(Vt(Zt),o=t.memoizedState,o===null)return Vr(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)kl(o,!1);else{if(kr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Nf(e),i!==null){for(t.flags|=128,kl(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return zt(Zt,Zt.current&1|2),t.child}e=e.sibling}o.tail!==null&&sr()>bs&&(t.flags|=128,n=!0,kl(o,!1),t.lanes=4194304)}else{if(!n)if(e=Nf(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),kl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Kt)return Vr(t),null}else 2*sr()-o.renderingStartTime>bs&&r!==1073741824&&(t.flags|=128,n=!0,kl(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=sr(),t.sibling=null,r=Zt.current,zt(Zt,n?r&1|2:r&1),t):(Vr(t),null);case 22:case 23:return vy(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?An&1073741824&&(Vr(t),t.subtreeFlags&6&&(t.flags|=8192)):Vr(t),null;case 24:return null;case 25:return null}throw Error(oe(156,t.tag))}function KA(e,t){switch(Qm(t),t.tag){case 1:return xn(t.type)&&wf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vs(),Vt(vn),Vt(Qr),sy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return iy(t),null;case 13:if(Vt(Zt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(oe(340));ms()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Vt(Zt),null;case 4:return vs(),null;case 10:return ry(t.type._context),null;case 22:case 23:return vy(),null;case 24:return null;default:return null}}var Du=!1,Yr=!1,XA=typeof WeakSet=="function"?WeakSet:Set,we=null;function es(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ar(e,t,n)}else r.current=null}function V0(e,t,r){try{r()}catch(n){ar(e,t,n)}}var Cx=!1;function YA(e,t){if(A0=yf,e=zk(),qm(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,s=-1,l=-1,c=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==r||a!==0&&d.nodeType!==3||(s=i+a),d!==o||n!==0&&d.nodeType!==3||(l=i+n),d.nodeType===3&&(i+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===r&&++c===a&&(s=i),h===o&&++f===n&&(l=i),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(M0={focusedElem:e,selectionRange:r},yf=!1,we=t;we!==null;)if(t=we,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,we=e;else for(;we!==null;){t=we;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,x=m.memoizedState,y=t.stateNode,g=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:sa(t.type,v),x);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(oe(163))}}catch(S){ar(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,we=e;break}we=t.return}return m=Cx,Cx=!1,m}function Hl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&V0(t,r,o)}a=a.next}while(a!==n)}}function Yd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function K0(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function LS(e){var t=e.alternate;t!==null&&(e.alternate=null,LS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Oa],delete t[dc],delete t[T0],delete t[CA],delete t[EA])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function IS(e){return e.tag===5||e.tag===3||e.tag===4}function Ex(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||IS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function X0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=bf));else if(n!==4&&(e=e.child,e!==null))for(X0(e,t,r),e=e.sibling;e!==null;)X0(e,t,r),e=e.sibling}function Y0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Y0(e,t,r),e=e.sibling;e!==null;)Y0(e,t,r),e=e.sibling}var Lr=null,la=!1;function fo(e,t,r){for(r=r.child;r!==null;)BS(e,t,r),r=r.sibling}function BS(e,t,r){if(Na&&typeof Na.onCommitFiberUnmount=="function")try{Na.onCommitFiberUnmount(zd,r)}catch{}switch(r.tag){case 5:Yr||es(r,t);case 6:var n=Lr,a=la;Lr=null,fo(e,t,r),Lr=n,la=a,Lr!==null&&(la?(e=Lr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Lr.removeChild(r.stateNode));break;case 18:Lr!==null&&(la?(e=Lr,r=r.stateNode,e.nodeType===8?pp(e.parentNode,r):e.nodeType===1&&pp(e,r),sc(e)):pp(Lr,r.stateNode));break;case 4:n=Lr,a=la,Lr=r.stateNode.containerInfo,la=!0,fo(e,t,r),Lr=n,la=a;break;case 0:case 11:case 14:case 15:if(!Yr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var o=a,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&V0(r,t,i),a=a.next}while(a!==n)}fo(e,t,r);break;case 1:if(!Yr&&(es(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){ar(r,t,s)}fo(e,t,r);break;case 21:fo(e,t,r);break;case 22:r.mode&1?(Yr=(n=Yr)||r.memoizedState!==null,fo(e,t,r),Yr=n):fo(e,t,r);break;default:fo(e,t,r)}}function Tx(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new XA),t.forEach(function(n){var a=aM.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function oa(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var o=e,i=t,s=i;e:for(;s!==null;){switch(s.tag){case 5:Lr=s.stateNode,la=!1;break e;case 3:Lr=s.stateNode.containerInfo,la=!0;break e;case 4:Lr=s.stateNode.containerInfo,la=!0;break e}s=s.return}if(Lr===null)throw Error(oe(160));BS(o,i,a),Lr=null,la=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){ar(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)FS(t,e),t=t.sibling}function FS(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(oa(t,e),Sa(e),n&4){try{Hl(3,e,e.return),Yd(3,e)}catch(v){ar(e,e.return,v)}try{Hl(5,e,e.return)}catch(v){ar(e,e.return,v)}}break;case 1:oa(t,e),Sa(e),n&512&&r!==null&&es(r,r.return);break;case 5:if(oa(t,e),Sa(e),n&512&&r!==null&&es(r,r.return),e.flags&32){var a=e.stateNode;try{nc(a,"")}catch(v){ar(e,e.return,v)}}if(n&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&lk(a,o),x0(s,i);var c=x0(s,o);for(i=0;i<l.length;i+=2){var f=l[i],d=l[i+1];f==="style"?hk(a,d):f==="dangerouslySetInnerHTML"?fk(a,d):f==="children"?nc(a,d):Lm(a,f,d,c)}switch(s){case"input":p0(a,o);break;case"textarea":ck(a,o);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?os(a,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?os(a,!!o.multiple,o.defaultValue,!0):os(a,!!o.multiple,o.multiple?[]:"",!1))}a[dc]=o}catch(v){ar(e,e.return,v)}}break;case 6:if(oa(t,e),Sa(e),n&4){if(e.stateNode===null)throw Error(oe(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(v){ar(e,e.return,v)}}break;case 3:if(oa(t,e),Sa(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{sc(t.containerInfo)}catch(v){ar(e,e.return,v)}break;case 4:oa(t,e),Sa(e);break;case 13:oa(t,e),Sa(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(my=sr())),n&4&&Tx(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(Yr=(c=Yr)||f,oa(t,e),Yr=c):oa(t,e),Sa(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!f&&e.mode&1)for(we=e,f=e.child;f!==null;){for(d=we=f;we!==null;){switch(h=we,p=h.child,h.tag){case 0:case 11:case 14:case 15:Hl(4,h,h.return);break;case 1:es(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){ar(n,r,v)}}break;case 5:es(h,h.return);break;case 22:if(h.memoizedState!==null){Dx(d);continue}}p!==null?(p.return=h,we=p):Dx(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{a=d.stateNode,c?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=d.stateNode,l=d.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=dk("display",i))}catch(v){ar(e,e.return,v)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){ar(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:oa(t,e),Sa(e),n&4&&Tx(e);break;case 21:break;default:oa(t,e),Sa(e)}}function Sa(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(IS(r)){var n=r;break e}r=r.return}throw Error(oe(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(nc(a,""),n.flags&=-33);var o=Ex(e);Y0(e,o,a);break;case 3:case 4:var i=n.stateNode.containerInfo,s=Ex(e);X0(e,s,i);break;default:throw Error(oe(161))}}catch(l){ar(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function qA(e,t,r){we=e,zS(e)}function zS(e,t,r){for(var n=(e.mode&1)!==0;we!==null;){var a=we,o=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||Du;if(!i){var s=a.alternate,l=s!==null&&s.memoizedState!==null||Yr;s=Du;var c=Yr;if(Du=i,(Yr=l)&&!c)for(we=a;we!==null;)i=we,l=i.child,i.tag===22&&i.memoizedState!==null?Rx(a):l!==null?(l.return=i,we=l):Rx(a);for(;o!==null;)we=o,zS(o),o=o.sibling;we=a,Du=s,Yr=c}$x(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,we=o):$x(e)}}function $x(e){for(;we!==null;){var t=we;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Yr||Yd(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Yr)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:sa(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&vx(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}vx(t,i,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&sc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(oe(163))}Yr||t.flags&512&&K0(t)}catch(h){ar(t,t.return,h)}}if(t===e){we=null;break}if(r=t.sibling,r!==null){r.return=t.return,we=r;break}we=t.return}}function Dx(e){for(;we!==null;){var t=we;if(t===e){we=null;break}var r=t.sibling;if(r!==null){r.return=t.return,we=r;break}we=t.return}}function Rx(e){for(;we!==null;){var t=we;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Yd(4,t)}catch(l){ar(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){ar(t,a,l)}}var o=t.return;try{K0(t)}catch(l){ar(t,o,l)}break;case 5:var i=t.return;try{K0(t)}catch(l){ar(t,i,l)}}}catch(l){ar(t,t.return,l)}if(t===e){we=null;break}var s=t.sibling;if(s!==null){s.return=t.return,we=s;break}we=t.return}}var ZA=Math.ceil,Cf=oo.ReactCurrentDispatcher,py=oo.ReactCurrentOwner,Yn=oo.ReactCurrentBatchConfig,at=0,Cr=null,pr=null,Fr=0,An=0,ts=Lo(0),kr=0,vc=null,mi=0,qd=0,gy=0,Vl=null,gn=null,my=0,bs=1/0,Fa=null,Ef=!1,q0=null,Mo=null,Ru=!1,wo=null,Tf=0,Kl=0,Z0=null,cf=-1,uf=0;function sn(){return at&6?sr():cf!==-1?cf:cf=sr()}function Co(e){return e.mode&1?at&2&&Fr!==0?Fr&-Fr:$A.transition!==null?(uf===0&&(uf=Ok()),uf):(e=wt,e!==0||(e=window.event,e=e===void 0?16:Ek(e.type)),e):1}function ga(e,t,r,n){if(50<Kl)throw Kl=0,Z0=null,Error(oe(185));ru(e,r,n),(!(at&2)||e!==Cr)&&(e===Cr&&(!(at&2)&&(qd|=r),kr===4&&vo(e,Fr)),bn(e,n),r===1&&at===0&&!(t.mode&1)&&(bs=sr()+500,Vd&&Io()))}function bn(e,t){var r=e.callbackNode;$N(e,t);var n=mf(e,e===Cr?Fr:0);if(n===0)r!==null&&Hv(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Hv(r),t===1)e.tag===0?TA(Lx.bind(null,e)):Zk(Lx.bind(null,e)),AA(function(){!(at&6)&&Io()}),r=null;else{switch(_k(n)){case 1:r=Wm;break;case 4:r=Sk;break;case 16:r=gf;break;case 536870912:r=jk;break;default:r=gf}r=YS(r,WS.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function WS(e,t){if(cf=-1,uf=0,at&6)throw Error(oe(327));var r=e.callbackNode;if(us()&&e.callbackNode!==r)return null;var n=mf(e,e===Cr?Fr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=$f(e,n);else{t=n;var a=at;at|=2;var o=GS();(Cr!==e||Fr!==t)&&(Fa=null,bs=sr()+500,si(e,t));do try{eM();break}catch(s){US(e,s)}while(!0);ty(),Cf.current=o,at=a,pr!==null?t=0:(Cr=null,Fr=0,t=kr)}if(t!==0){if(t===2&&(a=j0(e),a!==0&&(n=a,t=Q0(e,a))),t===1)throw r=vc,si(e,0),vo(e,n),bn(e,sr()),r;if(t===6)vo(e,n);else{if(a=e.current.alternate,!(n&30)&&!QA(a)&&(t=$f(e,n),t===2&&(o=j0(e),o!==0&&(n=o,t=Q0(e,o))),t===1))throw r=vc,si(e,0),vo(e,n),bn(e,sr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(oe(345));case 2:Xo(e,gn,Fa);break;case 3:if(vo(e,n),(n&130023424)===n&&(t=my+500-sr(),10<t)){if(mf(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){sn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=E0(Xo.bind(null,e,gn,Fa),t);break}Xo(e,gn,Fa);break;case 4:if(vo(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-pa(n);o=1<<i,i=t[i],i>a&&(a=i),n&=~o}if(n=a,n=sr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ZA(n/1960))-n,10<n){e.timeoutHandle=E0(Xo.bind(null,e,gn,Fa),n);break}Xo(e,gn,Fa);break;case 5:Xo(e,gn,Fa);break;default:throw Error(oe(329))}}}return bn(e,sr()),e.callbackNode===r?WS.bind(null,e):null}function Q0(e,t){var r=Vl;return e.current.memoizedState.isDehydrated&&(si(e,t).flags|=256),e=$f(e,t),e!==2&&(t=gn,gn=r,t!==null&&J0(t)),e}function J0(e){gn===null?gn=e:gn.push.apply(gn,e)}function QA(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],o=a.getSnapshot;a=a.value;try{if(!ma(o(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vo(e,t){for(t&=~gy,t&=~qd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-pa(t),n=1<<r;e[r]=-1,t&=~n}}function Lx(e){if(at&6)throw Error(oe(327));us();var t=mf(e,0);if(!(t&1))return bn(e,sr()),null;var r=$f(e,t);if(e.tag!==0&&r===2){var n=j0(e);n!==0&&(t=n,r=Q0(e,n))}if(r===1)throw r=vc,si(e,0),vo(e,t),bn(e,sr()),r;if(r===6)throw Error(oe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xo(e,gn,Fa),bn(e,sr()),null}function yy(e,t){var r=at;at|=1;try{return e(t)}finally{at=r,at===0&&(bs=sr()+500,Vd&&Io())}}function yi(e){wo!==null&&wo.tag===0&&!(at&6)&&us();var t=at;at|=1;var r=Yn.transition,n=wt;try{if(Yn.transition=null,wt=1,e)return e()}finally{wt=n,Yn.transition=r,at=t,!(at&6)&&Io()}}function vy(){An=ts.current,Vt(ts)}function si(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,NA(r)),pr!==null)for(r=pr.return;r!==null;){var n=r;switch(Qm(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&wf();break;case 3:vs(),Vt(vn),Vt(Qr),sy();break;case 5:iy(n);break;case 4:vs();break;case 13:Vt(Zt);break;case 19:Vt(Zt);break;case 10:ry(n.type._context);break;case 22:case 23:vy()}r=r.return}if(Cr=e,pr=e=Eo(e.current,null),Fr=An=t,kr=0,vc=null,gy=qd=mi=0,gn=Vl=null,Jo!==null){for(t=0;t<Jo.length;t++)if(r=Jo[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=a,n.next=i}r.pending=n}Jo=null}return e}function US(e,t){do{var r=pr;try{if(ty(),of.current=Mf,Af){for(var n=Qt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Af=!1}if(gi=0,Mr=wr=Qt=null,Gl=!1,gc=0,py.current=null,r===null||r.return===null){kr=1,vc=t,pr=null;break}e:{var o=e,i=r.return,s=r,l=t;if(t=Fr,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,f=s,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=jx(i);if(p!==null){p.flags&=-257,Ox(p,i,s,o,t),p.mode&1&&Sx(o,c,t),t=p,l=c;var m=t.updateQueue;if(m===null){var v=new Set;v.add(l),t.updateQueue=v}else m.add(l);break e}else{if(!(t&1)){Sx(o,c,t),xy();break e}l=Error(oe(426))}}else if(Kt&&s.mode&1){var x=jx(i);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Ox(x,i,s,o,t),Jm(xs(l,s));break e}}o=l=xs(l,s),kr!==4&&(kr=2),Vl===null?Vl=[o]:Vl.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=_S(o,l,t);yx(o,y);break e;case 1:s=l;var g=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Mo===null||!Mo.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=PS(o,s,t);yx(o,S);break e}}o=o.return}while(o!==null)}VS(r)}catch(w){t=w,pr===r&&r!==null&&(pr=r=r.return);continue}break}while(!0)}function GS(){var e=Cf.current;return Cf.current=Mf,e===null?Mf:e}function xy(){(kr===0||kr===3||kr===2)&&(kr=4),Cr===null||!(mi&268435455)&&!(qd&268435455)||vo(Cr,Fr)}function $f(e,t){var r=at;at|=2;var n=GS();(Cr!==e||Fr!==t)&&(Fa=null,si(e,t));do try{JA();break}catch(a){US(e,a)}while(!0);if(ty(),at=r,Cf.current=n,pr!==null)throw Error(oe(261));return Cr=null,Fr=0,kr}function JA(){for(;pr!==null;)HS(pr)}function eM(){for(;pr!==null&&!ON();)HS(pr)}function HS(e){var t=XS(e.alternate,e,An);e.memoizedProps=e.pendingProps,t===null?VS(e):pr=t,py.current=null}function VS(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=KA(r,t),r!==null){r.flags&=32767,pr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{kr=6,pr=null;return}}else if(r=VA(r,t,An),r!==null){pr=r;return}if(t=t.sibling,t!==null){pr=t;return}pr=t=e}while(t!==null);kr===0&&(kr=5)}function Xo(e,t,r){var n=wt,a=Yn.transition;try{Yn.transition=null,wt=1,tM(e,t,r,n)}finally{Yn.transition=a,wt=n}return null}function tM(e,t,r,n){do us();while(wo!==null);if(at&6)throw Error(oe(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(oe(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(DN(e,o),e===Cr&&(pr=Cr=null,Fr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ru||(Ru=!0,YS(gf,function(){return us(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Yn.transition,Yn.transition=null;var i=wt;wt=1;var s=at;at|=4,py.current=null,YA(e,r),FS(r,e),wA(M0),yf=!!A0,M0=A0=null,e.current=r,qA(r),_N(),at=s,wt=i,Yn.transition=o}else e.current=r;if(Ru&&(Ru=!1,wo=e,Tf=a),o=e.pendingLanes,o===0&&(Mo=null),AN(r.stateNode),bn(e,sr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Ef)throw Ef=!1,e=q0,q0=null,e;return Tf&1&&e.tag!==0&&us(),o=e.pendingLanes,o&1?e===Z0?Kl++:(Kl=0,Z0=e):Kl=0,Io(),null}function us(){if(wo!==null){var e=_k(Tf),t=Yn.transition,r=wt;try{if(Yn.transition=null,wt=16>e?16:e,wo===null)var n=!1;else{if(e=wo,wo=null,Tf=0,at&6)throw Error(oe(331));var a=at;for(at|=4,we=e.current;we!==null;){var o=we,i=o.child;if(we.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(we=c;we!==null;){var f=we;switch(f.tag){case 0:case 11:case 15:Hl(8,f,o)}var d=f.child;if(d!==null)d.return=f,we=d;else for(;we!==null;){f=we;var h=f.sibling,p=f.return;if(LS(f),f===c){we=null;break}if(h!==null){h.return=p,we=h;break}we=p}}}var m=o.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}we=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,we=i;else e:for(;we!==null;){if(o=we,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Hl(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,we=y;break e}we=o.return}}var g=e.current;for(we=g;we!==null;){i=we;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,we=b;else e:for(i=g;we!==null;){if(s=we,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Yd(9,s)}}catch(w){ar(s,s.return,w)}if(s===i){we=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,we=S;break e}we=s.return}}if(at=a,Io(),Na&&typeof Na.onPostCommitFiberRoot=="function")try{Na.onPostCommitFiberRoot(zd,e)}catch{}n=!0}return n}finally{wt=r,Yn.transition=t}}return!1}function Ix(e,t,r){t=xs(r,t),t=_S(e,t,1),e=Ao(e,t,1),t=sn(),e!==null&&(ru(e,1,t),bn(e,t))}function ar(e,t,r){if(e.tag===3)Ix(e,e,r);else for(;t!==null;){if(t.tag===3){Ix(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Mo===null||!Mo.has(n))){e=xs(r,e),e=PS(t,e,1),t=Ao(t,e,1),e=sn(),t!==null&&(ru(t,1,e),bn(t,e));break}}t=t.return}}function rM(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=sn(),e.pingedLanes|=e.suspendedLanes&r,Cr===e&&(Fr&r)===r&&(kr===4||kr===3&&(Fr&130023424)===Fr&&500>sr()-my?si(e,0):gy|=r),bn(e,t)}function KS(e,t){t===0&&(e.mode&1?(t=_u,_u<<=1,!(_u&130023424)&&(_u=4194304)):t=1);var r=sn();e=eo(e,t),e!==null&&(ru(e,t,r),bn(e,r))}function nM(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),KS(e,r)}function aM(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(oe(314))}n!==null&&n.delete(t),KS(e,r)}var XS;XS=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||vn.current)mn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return mn=!1,HA(e,t,r);mn=!!(e.flags&131072)}else mn=!1,Kt&&t.flags&1048576&&Qk(t,jf,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;lf(e,t),e=t.pendingProps;var a=gs(t,Qr.current);cs(t,r),a=cy(null,t,n,e,a,r);var o=uy();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xn(n)?(o=!0,kf(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,ay(t),a.updater=Xd,t.stateNode=a,a._reactInternals=t,B0(t,n,e,r),t=W0(null,t,n,!0,o,r)):(t.tag=0,Kt&&o&&Zm(t),nn(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(lf(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=iM(n),e=sa(n,e),a){case 0:t=z0(null,t,n,e,r);break e;case 1:t=Nx(null,t,n,e,r);break e;case 11:t=_x(null,t,n,e,r);break e;case 14:t=Px(null,t,n,sa(n.type,e),r);break e}throw Error(oe(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:sa(n,a),z0(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:sa(n,a),Nx(e,t,n,a,r);case 3:e:{if(CS(t),e===null)throw Error(oe(387));n=t.pendingProps,o=t.memoizedState,a=o.element,aS(e,t),Pf(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=xs(Error(oe(423)),t),t=Ax(e,t,n,r,a);break e}else if(n!==a){a=xs(Error(oe(424)),t),t=Ax(e,t,n,r,a);break e}else for(En=No(t.stateNode.containerInfo.firstChild),Tn=t,Kt=!0,fa=null,r=rS(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ms(),n===a){t=to(e,t,r);break e}nn(e,t,n,r)}t=t.child}return t;case 5:return oS(t),e===null&&R0(t),n=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,i=a.children,C0(n,a)?i=null:o!==null&&C0(n,o)&&(t.flags|=32),MS(e,t),nn(e,t,i,r),t.child;case 6:return e===null&&R0(t),null;case 13:return ES(e,t,r);case 4:return oy(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ys(t,null,n,r):nn(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:sa(n,a),_x(e,t,n,a,r);case 7:return nn(e,t,t.pendingProps,r),t.child;case 8:return nn(e,t,t.pendingProps.children,r),t.child;case 12:return nn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,zt(Of,n._currentValue),n._currentValue=i,o!==null)if(ma(o.value,i)){if(o.children===a.children&&!vn.current){t=to(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){i=o.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=Ka(-1,r&-r),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),L0(o.return,r,t),s.lanes|=r;break}l=l.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(oe(341));i.lanes|=r,s=i.alternate,s!==null&&(s.lanes|=r),L0(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}nn(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,cs(t,r),a=Zn(a),n=n(a),t.flags|=1,nn(e,t,n,r),t.child;case 14:return n=t.type,a=sa(n,t.pendingProps),a=sa(n.type,a),Px(e,t,n,a,r);case 15:return NS(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:sa(n,a),lf(e,t),t.tag=1,xn(n)?(e=!0,kf(t)):e=!1,cs(t,r),OS(t,n,a),B0(t,n,a,r),W0(null,t,n,!0,e,r);case 19:return TS(e,t,r);case 22:return AS(e,t,r)}throw Error(oe(156,t.tag))};function YS(e,t){return kk(e,t)}function oM(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(e,t,r,n){return new oM(e,t,r,n)}function by(e){return e=e.prototype,!(!e||!e.isReactComponent)}function iM(e){if(typeof e=="function")return by(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Bm)return 11;if(e===Fm)return 14}return 2}function Eo(e,t){var r=e.alternate;return r===null?(r=Vn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ff(e,t,r,n,a,o){var i=2;if(n=e,typeof e=="function")by(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Hi:return li(r.children,a,o,t);case Im:i=8,a|=8;break;case c0:return e=Vn(12,r,t,a|2),e.elementType=c0,e.lanes=o,e;case u0:return e=Vn(13,r,t,a),e.elementType=u0,e.lanes=o,e;case f0:return e=Vn(19,r,t,a),e.elementType=f0,e.lanes=o,e;case ok:return Zd(r,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nk:i=10;break e;case ak:i=9;break e;case Bm:i=11;break e;case Fm:i=14;break e;case po:i=16,n=null;break e}throw Error(oe(130,e==null?e:typeof e,""))}return t=Vn(i,r,t,a),t.elementType=e,t.type=n,t.lanes=o,t}function li(e,t,r,n){return e=Vn(7,e,n,t),e.lanes=r,e}function Zd(e,t,r,n){return e=Vn(22,e,n,t),e.elementType=ok,e.lanes=r,e.stateNode={isHidden:!1},e}function kp(e,t,r){return e=Vn(6,e,null,t),e.lanes=r,e}function Sp(e,t,r){return t=Vn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function sM(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=np(0),this.expirationTimes=np(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=np(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function wy(e,t,r,n,a,o,i,s,l){return e=new sM(e,t,r,s,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Vn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ay(o),e}function lM(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function qS(e){if(!e)return Do;e=e._reactInternals;e:{if(_i(e)!==e||e.tag!==1)throw Error(oe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(oe(171))}if(e.tag===1){var r=e.type;if(xn(r))return qk(e,r,t)}return t}function ZS(e,t,r,n,a,o,i,s,l){return e=wy(r,n,!0,e,a,o,i,s,l),e.context=qS(null),r=e.current,n=sn(),a=Co(r),o=Ka(n,a),o.callback=t??null,Ao(r,o,a),e.current.lanes=a,ru(e,a,n),bn(e,n),e}function Qd(e,t,r,n){var a=t.current,o=sn(),i=Co(a);return r=qS(r),t.context===null?t.context=r:t.pendingContext=r,t=Ka(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ao(a,t,i),e!==null&&(ga(e,a,i,o),af(e,a,i)),i}function Df(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Bx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ky(e,t){Bx(e,t),(e=e.alternate)&&Bx(e,t)}function cM(){return null}var QS=typeof reportError=="function"?reportError:function(e){console.error(e)};function Sy(e){this._internalRoot=e}Jd.prototype.render=Sy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(oe(409));Qd(e,t,null,null)};Jd.prototype.unmount=Sy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yi(function(){Qd(null,e,null,null)}),t[Ja]=null}};function Jd(e){this._internalRoot=e}Jd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ak();e={blockedOn:null,target:e,priority:t};for(var r=0;r<yo.length&&t!==0&&t<yo[r].priority;r++);yo.splice(r,0,e),r===0&&Ck(e)}};function jy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function eh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Fx(){}function uM(e,t,r,n,a){if(a){if(typeof n=="function"){var o=n;n=function(){var c=Df(i);o.call(c)}}var i=ZS(t,n,e,0,null,!1,!1,"",Fx);return e._reactRootContainer=i,e[Ja]=i.current,uc(e.nodeType===8?e.parentNode:e),yi(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var s=n;n=function(){var c=Df(l);s.call(c)}}var l=wy(e,0,!1,null,null,!1,!1,"",Fx);return e._reactRootContainer=l,e[Ja]=l.current,uc(e.nodeType===8?e.parentNode:e),yi(function(){Qd(t,l,r,n)}),l}function th(e,t,r,n,a){var o=r._reactRootContainer;if(o){var i=o;if(typeof a=="function"){var s=a;a=function(){var l=Df(i);s.call(l)}}Qd(t,i,e,a)}else i=uM(r,t,e,a,n);return Df(i)}Pk=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Rl(t.pendingLanes);r!==0&&(Um(t,r|1),bn(t,sr()),!(at&6)&&(bs=sr()+500,Io()))}break;case 13:yi(function(){var n=eo(e,1);if(n!==null){var a=sn();ga(n,e,1,a)}}),ky(e,1)}};Gm=function(e){if(e.tag===13){var t=eo(e,134217728);if(t!==null){var r=sn();ga(t,e,134217728,r)}ky(e,134217728)}};Nk=function(e){if(e.tag===13){var t=Co(e),r=eo(e,t);if(r!==null){var n=sn();ga(r,e,t,n)}ky(e,t)}};Ak=function(){return wt};Mk=function(e,t){var r=wt;try{return wt=e,t()}finally{wt=r}};w0=function(e,t,r){switch(t){case"input":if(p0(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Hd(n);if(!a)throw Error(oe(90));sk(n),p0(n,a)}}}break;case"textarea":ck(e,r);break;case"select":t=r.value,t!=null&&os(e,!!r.multiple,t,!1)}};mk=yy;yk=yi;var fM={usingClientEntryPoint:!1,Events:[au,Yi,Hd,pk,gk,yy]},Sl={findFiberByHostInstance:Qo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dM={bundleType:Sl.bundleType,version:Sl.version,rendererPackageName:Sl.rendererPackageName,rendererConfig:Sl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=bk(e),e===null?null:e.stateNode},findFiberByHostInstance:Sl.findFiberByHostInstance||cM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lu.isDisabled&&Lu.supportsFiber)try{zd=Lu.inject(dM),Na=Lu}catch{}}Dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fM;Dn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jy(t))throw Error(oe(200));return lM(e,t,null,r)};Dn.createRoot=function(e,t){if(!jy(e))throw Error(oe(299));var r=!1,n="",a=QS;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=wy(e,1,!1,null,null,r,!1,n,a),e[Ja]=t.current,uc(e.nodeType===8?e.parentNode:e),new Sy(t)};Dn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(oe(188)):(e=Object.keys(e).join(","),Error(oe(268,e)));return e=bk(t),e=e===null?null:e.stateNode,e};Dn.flushSync=function(e){return yi(e)};Dn.hydrate=function(e,t,r){if(!eh(t))throw Error(oe(200));return th(null,e,t,!0,r)};Dn.hydrateRoot=function(e,t,r){if(!jy(e))throw Error(oe(405));var n=r!=null&&r.hydratedSources||null,a=!1,o="",i=QS;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=ZS(t,null,e,1,r??null,a,!1,o,i),e[Ja]=t.current,uc(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Jd(t)};Dn.render=function(e,t,r){if(!eh(t))throw Error(oe(200));return th(null,e,t,!1,r)};Dn.unmountComponentAtNode=function(e){if(!eh(e))throw Error(oe(40));return e._reactRootContainer?(yi(function(){th(null,null,e,!1,function(){e._reactRootContainer=null,e[Ja]=null})}),!0):!1};Dn.unstable_batchedUpdates=yy;Dn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!eh(r))throw Error(oe(200));if(e==null||e._reactInternals===void 0)throw Error(oe(38));return th(e,t,r,!1,n)};Dn.version="18.3.1-next-f1338f8080-20240426";function JS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JS)}catch(e){console.error(e)}}JS(),J2.exports=Dn;var hM=J2.exports,zx=hM;s0.createRoot=zx.createRoot,s0.hydrateRoot=zx.hydrateRoot;const ci=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,confirmText:o="I know the risk and insist to continue",cancelText:i="Cancel"})=>e?u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-2xl shadow-2xl border border-amber-500/30 overflow-hidden transform transition-all scale-100",children:[u.jsxs("div",{className:"bg-amber-500/10 p-6 flex flex-col items-center justify-center border-b border-amber-500/20",children:[u.jsx("div",{className:"w-16 h-16 bg-amber-100 dark:bg-amber-900/30 rounded-full flex items-center justify-center mb-4",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-amber-600 dark:text-amber-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),u.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white text-center",children:n})]}),u.jsx("div",{className:"p-6",children:u.jsx("div",{className:"text-gray-600 dark:text-slate-300 text-center text-sm leading-relaxed",children:a})}),u.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800/50 flex gap-3 justify-end border-t border-gray-200 dark:border-slate-800",children:[u.jsx("button",{onClick:t,className:"px-4 py-2 bg-white hover:bg-gray-100 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-700 dark:text-slate-200 font-semibold rounded-lg border border-gray-300 dark:border-slate-600 transition-colors text-sm",children:i}),u.jsx("button",{onClick:r,className:"px-4 py-2 bg-amber-600 hover:bg-amber-700 text-white font-bold rounded-lg shadow-lg shadow-amber-500/20 transition-all active:scale-95 text-sm",children:o})]})]})}):null,pM=({onFileSelected:e,onGenerateFakeDng:t,fileName:r,hasGeneratedData:n,viewMode:a,onSetViewMode:o,patternPeriod:i,onPatternPeriodChange:s,fillFactor:l,onFillFactorChange:c,patternPhase:f,onPatternPhaseChange:d,showPatternControls:h,onOpenAbout:p,onShowExif:m,bridgeStatus:v,onBridgeClick:x,isDrLabOpen:y,onToggleDrLab:g,isFftLabOpen:b,onToggleFftLab:S,onGenerateTestPic:w,onPTCFilesSelected:k,onDownloadDng:j,isThreePlane:_,onOpenDatabase:P})=>{const A=O.useRef(null),N=O.useRef(null),[C,z]=O.useState(!1),[$,L]=O.useState(!1),[I,B]=O.useState(!1),[R,T]=O.useState(!1),[G,ee]=O.useState("direct"),Y=O.useRef(null),K=O.useRef(null);O.useEffect(()=>{const X=le=>{Y.current&&!Y.current.contains(le.target)&&B(!1),K.current&&!K.current.contains(le.target)&&T(!1)};return document.addEventListener("mousedown",X),()=>document.removeEventListener("mousedown",X)},[]);const H=X=>{var le;B(!1),X==="direct"?(ee("direct"),z(!0)):!v.isConnected||!v.hasDngConverter?L(!0):(ee("convert"),(le=A.current)==null||le.click())},fe=()=>{var X;z(!1),(X=A.current)==null||X.click()},ce=X=>{var ve;const le=(ve=X.target.files)==null?void 0:ve[0];le&&e(le,G),X.target.value=""},Oe=X=>{X.target.files&&X.target.files.length>0&&k(X.target.files),X.target.value=""},Se=r==="pattern_test.dng"||(r==null?void 0:r.startsWith("Diff_"));return u.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-4 flex-shrink-0 relative z-50",children:[u.jsx(ci,{isOpen:C,onClose:()=>z(!1),onConfirm:fe,title:"Format Compatibility Warning",confirmText:"Continue",message:u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx("p",{className:"font-bold text-gray-800 dark:text-gray-200 text-base",children:"Adobe DNG ConverterDNG"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Only 4-channel DNG files output by Adobe DNG Converter are fully guaranteed to be supported."}),u.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700",children:[u.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-500 mb-1",children:"Download Adobe DNG Converter:"}),u.jsx("a",{href:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline text-xs break-all",children:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html"})]})]})}),u.jsx(ci,{isOpen:$,onClose:()=>L(!1),onConfirm:()=>L(!1),title:"DNG Converter Missing",confirmText:"OK",cancelText:"Cancel",message:u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx("p",{className:"font-bold text-red-600 dark:text-red-400 text-base",children:"JiangBridge Offline or Adobe DNG Converter not installed (you may have to restart your device after installing ADC to use it here)"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"To use the conversion feature, you must run JiangBridge locally and have Adobe DNG Converter installed on your system."}),u.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700",children:[u.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-500 mb-1",children:"Download Adobe DNG Converter:"}),u.jsx("a",{href:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline text-xs break-all",children:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html"})]})]})}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-500 to-blue-600 dark:from-cyan-400 dark:to-blue-500 text-center sm:text-left",children:"Jiangtherapee Online"}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 hidden lg:block max-w-xs truncate",title:r||"No image loaded",children:r||"No image loaded"}),_&&u.jsx("span",{className:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400 border border-red-200 dark:border-red-800 text-[10px] font-bold px-2 py-1 rounded animate-pulse",children:" 3-PLANE / RGB MODE"})]}),u.jsxs("div",{className:"flex items-center gap-4 flex-wrap justify-end",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{onClick:v.isConnected?void 0:x,className:`px-3 py-1.5 rounded-full text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-sm border ${v.isConnected?"bg-emerald-100 text-emerald-700 border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-400 dark:border-emerald-800 cursor-default":"bg-pink-100 text-pink-600 border-pink-200 dark:bg-pink-900/30 dark:text-pink-400 dark:border-pink-800 hover:bg-pink-200 dark:hover:bg-pink-900/50 cursor-pointer animate-pulse"}`,title:v.isConnected?"Local Bridge Service Connected":"Click to download Jiangbridge",children:[u.jsx("span",{className:`w-2 h-2 rounded-full ${v.isConnected?"bg-emerald-500":"bg-pink-500"}`}),v.isConnected?`JiangBridge Ready ${v.hasDngConverter?"DNG+":""}`:"JiangBridge Offline"]}),y&&u.jsxs("button",{onClick:g,className:"px-3 py-1.5 rounded-full text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-sm border bg-indigo-100 text-indigo-700 border-indigo-200 dark:bg-indigo-900/30 dark:text-indigo-400 dark:border-indigo-800 hover:bg-indigo-200 dark:hover:bg-indigo-900/50 cursor-pointer animate-in fade-in",title:"Click to turn off DR Lab",children:[u.jsx("span",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-pulse"}),"DR Lab On"]}),b&&u.jsxs("button",{onClick:S,className:"px-3 py-1.5 rounded-full text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-sm border bg-fuchsia-100 text-fuchsia-700 border-fuchsia-200 dark:bg-fuchsia-900/30 dark:text-fuchsia-400 dark:border-fuchsia-800 hover:bg-fuchsia-200 dark:hover:bg-fuchsia-900/50 cursor-pointer animate-in fade-in",title:"Click to turn off FFT Lab",children:[u.jsx("span",{className:"w-2 h-2 rounded-full bg-fuchsia-500 animate-pulse"}),"FFT Lab On"]}),n&&u.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-800 rounded-lg p-1 border border-gray-200 dark:border-slate-600 shadow-inner transition-colors duration-300",children:[u.jsx("button",{onClick:()=>o("reference"),className:`px-3 py-1.5 rounded-md text-xs sm:text-sm font-bold transition-all duration-200 ${a==="reference"?"bg-green-500 dark:bg-green-600 text-white shadow-md":"text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,title:"The perfect uniform input",children:"Perfect"}),u.jsx("button",{onClick:()=>o("sampled"),className:`px-3 py-1.5 rounded-md text-xs sm:text-sm font-bold transition-all duration-200 ${a==="sampled"?"bg-blue-500 dark:bg-blue-600 text-white shadow-md":"text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,title:"Sampled Sensor View with Aperture Visualization",children:"Sampled (Sensor)"}),u.jsx("button",{onClick:()=>o("processed"),className:`px-3 py-1.5 rounded-md text-xs sm:text-sm font-bold transition-all duration-200 ${a==="processed"?"bg-purple-500 dark:bg-purple-600 text-white shadow-md":"text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,title:"Demosaiced Result",children:"Result"})]})]}),Se&&u.jsxs("div",{className:"flex items-center gap-2 animate-in fade-in slide-in-from-right-4 duration-300",children:[h&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-50 dark:bg-slate-800/50 p-1.5 rounded-lg border border-gray-200 dark:border-slate-700 transition-colors duration-300",children:[u.jsx("span",{className:"text-[10px] text-gray-500 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Density (Period)"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"range",min:"0.1",max:"10",step:"0.1",value:i,onChange:X=>s(parseFloat(X.target.value)),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-purple-500",title:"Adjust the period of the line pairs in pixels"}),u.jsx("div",{className:"relative",children:u.jsx("input",{type:"number",min:"0.1",max:"100",step:"0.01",value:i,onChange:X=>{const le=parseFloat(X.target.value);isNaN(le)||s(le)},className:"w-16 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-xs font-mono text-purple-600 dark:text-purple-300 text-right focus:outline-none focus:border-purple-500 focus:ring-1 focus:ring-purple-500 transition-colors duration-300"})})]})]}),u.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-50 dark:bg-slate-800/50 p-1.5 rounded-lg border border-gray-200 dark:border-slate-700 transition-colors duration-300",children:[u.jsx("span",{className:"text-[10px] text-gray-500 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Phase"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:f,onChange:X=>d(parseFloat(X.target.value)),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-pink-500",title:"Shift pattern phase (0-1 cycle)"}),u.jsx("div",{className:"relative",children:u.jsx("input",{type:"number",min:"0",max:"1",step:"0.01",value:f,onChange:X=>{const le=parseFloat(X.target.value);isNaN(le)||d(le)},className:"w-12 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-xs font-mono text-pink-600 dark:text-pink-300 text-right focus:outline-none focus:border-pink-500 focus:ring-1 focus:ring-pink-500 transition-colors duration-300"})})]})]}),u.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-50 dark:bg-slate-800/50 p-1.5 rounded-lg border border-gray-200 dark:border-slate-700 transition-colors duration-300",children:[u.jsx("span",{className:"text-[10px] text-gray-500 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Fill Factor"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"range",min:"1",max:"100",step:"1",value:l*100,onChange:X=>c(parseInt(X.target.value)/100),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-green-500",title:"Adjust pixel aperture fill factor %"}),u.jsxs("div",{className:"relative flex items-center",children:[u.jsx("input",{type:"number",min:"1",max:"100",step:"1",value:Math.round(l*100),onChange:X=>{const le=parseInt(X.target.value);isNaN(le)||c(Math.min(100,Math.max(1,le))/100)},className:"w-12 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-xs font-mono text-green-600 dark:text-green-300 text-right focus:outline-none focus:border-green-500 focus:ring-1 focus:ring-green-500 transition-colors duration-300"}),u.jsx("span",{className:"ml-1 text-[10px] text-gray-400 dark:text-slate-500 font-mono",children:"%"})]})]})]})]}),u.jsxs("button",{onClick:j,className:`flex flex-col items-center justify-center p-2 rounded-lg transition-colors group ${r!=null&&r.startsWith("Diff_")?"bg-fuchsia-50 hover:bg-fuchsia-100 dark:bg-fuchsia-900/20 dark:hover:bg-fuchsia-900/40 border-fuchsia-200 dark:border-fuchsia-800":"bg-gray-50 hover:bg-gray-100 dark:bg-slate-800 dark:hover:bg-slate-700 border-gray-200 dark:border-slate-600"} border`,title:r!=null&&r.startsWith("Diff_")?"Export Subtracted Frame as DNG":"Download Synthetic DNG",children:[u.jsx("svg",{className:`w-5 h-5 ${r!=null&&r.startsWith("Diff_")?"text-fuchsia-500 group-hover:text-fuchsia-600":"text-gray-500 dark:text-slate-400 group-hover:text-cyan-600 dark:group-hover:text-cyan-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),u.jsx("span",{className:"text-[8px] font-bold uppercase mt-0.5 opacity-50",children:"DNG"})]})]}),u.jsx("input",{type:"file",ref:A,onChange:ce,className:"hidden",accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),u.jsx("input",{type:"file",ref:N,onChange:Oe,className:"hidden",multiple:!0,accept:".csv"}),u.jsxs("div",{className:"relative inline-block text-left",ref:K,children:[u.jsxs("button",{onClick:()=>T(!R),className:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300 shadow-lg shadow-purple-500/30 text-sm whitespace-nowrap flex items-center gap-2",children:["TEST Tools",u.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${R?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),R&&u.jsx("div",{className:"absolute right-0 mt-2 w-56 rounded-xl bg-white dark:bg-slate-800 shadow-xl ring-1 ring-black ring-opacity-5 focus:outline-none z-50 overflow-hidden origin-top-right transition-all animate-in fade-in slide-in-from-top-2 border border-gray-200 dark:border-slate-700",children:u.jsxs("div",{className:"py-1",children:[u.jsxs("button",{onClick:()=>{T(!1),t()},className:"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[u.jsx("svg",{className:"w-4 h-4 text-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),u.jsx("span",{children:"Generate Pattern DNG"})]}),u.jsxs("button",{onClick:()=>{T(!1),y||g(),b&&S()},className:`w-full text-left px-4 py-3 text-sm transition-colors flex items-center gap-2 border-t border-gray-100 dark:border-slate-700 ${y?"bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 font-bold":"text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700"}`,children:[u.jsx("svg",{className:"w-4 h-4 text-indigo-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),u.jsxs("span",{children:["DR Lab ",y?"(On)":""]})]}),u.jsxs("button",{onClick:()=>{T(!1),b||S(),y&&g()},className:`w-full text-left px-4 py-3 text-sm transition-colors flex items-center gap-2 border-t border-gray-100 dark:border-slate-700 ${b?"bg-fuchsia-50 dark:bg-fuchsia-900/20 text-fuchsia-600 dark:text-fuchsia-400 font-bold":"text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700"}`,children:[u.jsx("svg",{className:"w-4 h-4 text-fuchsia-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),u.jsxs("span",{children:["FFT Lab ",b?"(On)":""]})]}),u.jsxs("button",{onClick:()=>{var X;T(!1),(X=N.current)==null||X.click()},className:"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2 border-t border-gray-100 dark:border-slate-700",children:[u.jsx("svg",{className:"w-4 h-4 text-emerald-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})}),u.jsx("span",{children:"Generate PTC & TargetSNR"})]})]})})]}),u.jsxs("div",{className:"relative inline-block text-left",ref:Y,children:[u.jsxs("button",{onClick:()=>B(!I),className:"bg-cyan-500 hover:bg-cyan-600 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300 shadow-lg shadow-cyan-500/30 text-sm whitespace-nowrap flex items-center gap-2",children:["Load Image",u.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${I?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),I&&u.jsx("div",{className:"absolute right-0 mt-2 w-56 rounded-xl bg-white dark:bg-slate-800 shadow-xl ring-1 ring-black ring-opacity-5 focus:outline-none z-50 overflow-hidden origin-top-right transition-all animate-in fade-in slide-in-from-top-2 border border-gray-200 dark:border-slate-700",children:u.jsxs("div",{className:"py-1",children:[u.jsxs("button",{onClick:()=>H("direct"),className:"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[u.jsx("svg",{className:"w-4 h-4 text-cyan-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),u.jsx("span",{children:"Load Image (Direct)"})]}),u.jsxs("button",{onClick:()=>H("convert"),className:"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2 border-t border-gray-100 dark:border-slate-700",children:[u.jsx("svg",{className:"w-4 h-4 text-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),u.jsx("span",{children:"Convert to Adobe DNG & Load"})]})]})})]}),r&&m&&u.jsxs("button",{onClick:m,className:"bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300 shadow-lg shadow-orange-500/30 text-sm whitespace-nowrap flex items-center gap-1",title:"View EXIF Data",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"EXIF"]}),u.jsx("button",{onClick:p,className:"bg-teal-600 hover:bg-teal-700 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300 shadow-lg shadow-teal-500/30 text-sm whitespace-nowrap",children:"About/Tutorial/Tools"}),u.jsx("a",{href:"https://y-g-jiang.github.io/index.html",target:"_blank",rel:"noopener noreferrer",className:"bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-700 dark:text-slate-100 font-semibold py-2 px-4 rounded-lg transition-colors duration-300 text-sm",children:"Home"})]})]})},gM=({image:e,zoom:t,pan:r,onPanChange:n,onZoomChange:a,onSelectionChange:o,forcedSelection:i,theme:s,touchAction:l="pan",isMarking:c=!1,onPointClick:f,markers:d=[],gridRects:h=[]})=>{var Y;const p=O.useRef(null),m=O.useRef(document.createElement("canvas")),[v,x]=O.useState(!1),[y,g]=O.useState({x:0,y:0}),b=O.useRef(null),S=O.useRef(null),w=O.useRef(null),[k,j]=O.useState(!1),[_,P]=O.useState(null),[A,N]=O.useState(null);O.useEffect(()=>{i!==void 0&&N(i)},[i]);const C=O.useCallback(()=>{const K=p.current,H=K==null?void 0:K.getContext("2d");return{canvas:K,ctx:H}},[]);O.useEffect(()=>{const K=m.current,H=K.getContext("2d");if(!e||!H)return;let fe=0,ce=0;e instanceof ImageData?(fe=e.width,ce=e.height):e instanceof HTMLImageElement&&(fe=e.naturalWidth,ce=e.naturalHeight),!(fe===0||ce===0)&&((K.width!==fe||K.height!==ce)&&(K.width=fe,K.height=ce),e instanceof ImageData?H.putImageData(e,0,0):(H.clearRect(0,0,fe,ce),H.drawImage(e,0,0)))},[e]);const z=O.useCallback(()=>{const{canvas:K,ctx:H}=C();if(!(!K||!H||!e)){if(H.setTransform(1,0,0,1,0,0),H.fillStyle=s==="dark"?"rgb(15, 23, 42)":"rgb(243, 244, 246)",H.fillRect(0,0,K.width,K.height),H.setTransform(t,0,0,t,r.x,r.y),m.current.width>0&&(H.imageSmoothingEnabled=!1,H.drawImage(m.current,0,0)),A){H.strokeStyle="#06b6d4",H.lineWidth=1/t,H.fillStyle="rgba(6, 182, 212, 0.2)",H.beginPath(),H.rect(A.x,A.y,A.w,A.h),H.fill(),H.stroke(),H.save(),H.fillStyle="#fff";const fe=Math.max(10,14/t);H.font=`${fe}px monospace`,H.shadowColor="rgba(0,0,0,0.8)",H.shadowBlur=4,H.shadowOffsetX=1,H.shadowOffsetY=1,H.fillText(`${Math.round(A.w)}x${Math.round(A.h)}`,A.x,A.y-5/t),H.restore()}if(h&&h.length>0){H.save(),H.strokeStyle="#f59e0b",H.lineWidth=1/t,H.globalAlpha=.8,H.beginPath(),h.forEach(Oe=>{H.rect(Oe.x,Oe.y,Oe.w,Oe.h)}),H.stroke();const fe=h[0];H.fillStyle="#f59e0b";const ce=Math.max(10,12/t);H.font=`${ce}px monospace`,H.fillText(`${fe.w}x${fe.h}`,fe.x,fe.y-4/t),H.restore()}if(d&&d.length>0){H.save();const fe=6/t,ce=Math.max(12,16/t);H.font=`bold ${ce}px sans-serif`,H.textAlign="center",H.textBaseline="middle",d.forEach((Oe,Se)=>{H.beginPath(),H.arc(Oe.x,Oe.y,fe,0,2*Math.PI),H.fillStyle="white",H.fill(),H.strokeStyle="#4338ca",H.lineWidth=2/t,H.stroke(),H.fillStyle="#4338ca",H.fillText((Se+1).toString(),Oe.x,Oe.y-12/t)}),H.restore()}}},[C,e,t,r,s,A,d,h]);O.useEffect(()=>{const{canvas:K}=C();if(!K)return;const H=new ResizeObserver(()=>{K.width=K.clientWidth,K.height=K.clientHeight,z()});return H.observe(K),()=>H.disconnect()},[C,z]),O.useEffect(()=>{z()},[z,e,r,t,s,A,d,h]);const $=K=>{const{canvas:H}=C();if(!H)return{x:0,y:0};const fe=H.getBoundingClientRect();return{x:K.clientX-fe.left,y:K.clientY-fe.top}},L=(K,H)=>({x:(K-r.x)/t,y:(H-r.y)/t}),I=K=>{K.preventDefault();const H=$(K);if(c){const fe=L(H.x,H.y);f&&f(fe);return}if(K.shiftKey||l==="select"){j(!0);const fe=L(H.x,H.y),ce={x:Math.floor(fe.x),y:Math.floor(fe.y)};P(ce),N(null),o&&o(null)}else x(!0),g({x:H.x-r.x,y:H.y-r.y})},B=K=>{const H=$(K);if(k&&_){const fe=L(H.x,H.y),ce=Math.floor(fe.x),Oe=Math.floor(fe.y),Se=Math.min(_.x,ce),X=Math.min(_.y,Oe),le=Math.max(_.x,ce),ve=Math.max(_.y,Oe),W=le-Se+1,je=ve-X+1;N({x:Se,y:X,w:W,h:je})}else v&&n({x:H.x-y.x,y:H.y-y.y})},R=()=>{k&&(j(!1),A&&o&&A.w>0&&A.h>0&&o(A)),x(!1)},T=K=>{var H;if(K.touches.length===1){const fe=K.touches[0],ce=(H=p.current)==null?void 0:H.getBoundingClientRect();if(!ce)return;const Oe=fe.clientX-ce.left,Se=fe.clientY-ce.top;if(c){const X=L(Oe,Se);f&&f(X);return}if(l==="select"){const X=L(Oe,Se),le={x:Math.floor(X.x),y:Math.floor(X.y)};P(le),j(!0),N(null),o&&o(null)}else w.current={x:Oe,y:Se},g({x:Oe-r.x,y:Se-r.y}),x(!0)}else if(K.touches.length===2){const fe=Math.hypot(K.touches[0].clientX-K.touches[1].clientX,K.touches[0].clientY-K.touches[1].clientY);b.current=fe,S.current=t,x(!1),j(!1)}},G=K=>{var H;if(K.touches.length===1){const fe=K.touches[0],ce=(H=p.current)==null?void 0:H.getBoundingClientRect();if(!ce)return;const Oe=fe.clientX-ce.left,Se=fe.clientY-ce.top;if(c)return;if(k&&_){const X=L(Oe,Se),le=Math.floor(X.x),ve=Math.floor(X.y),W=Math.min(_.x,le),je=Math.min(_.y,ve),he=Math.max(_.x,le),Ee=Math.max(_.y,ve),Ke=he-W+1,ut=Ee-je+1;N({x:W,y:je,w:Ke,h:ut})}else v&&n({x:Oe-y.x,y:Se-y.y})}else if(K.touches.length===2&&b.current&&S.current&&a){const ce=Math.hypot(K.touches[0].clientX-K.touches[1].clientX,K.touches[0].clientY-K.touches[1].clientY)/b.current;a(S.current*ce)}},ee=()=>{k&&(j(!1),A&&o&&A.w>0&&A.h>0&&o(A)),x(!1),b.current=null,S.current=null,w.current=null};return u.jsx("canvas",{ref:p,className:`w-full h-full block touch-none ${c||k||(Y=window.event)!=null&&Y.shiftKey||l==="select"?"cursor-crosshair":"cursor-grab active:cursor-grabbing"}`,onMouseDown:I,onMouseMove:B,onMouseUp:R,onMouseLeave:R,onTouchStart:T,onTouchMove:G,onTouchEnd:ee,onTouchCancel:ee,tabIndex:0})},Iu=({title:e,children:t})=>u.jsxs("div",{className:"border-b border-gray-200 dark:border-slate-700 transition-colors duration-300",children:[u.jsx("div",{className:"p-4 font-semibold text-gray-800 dark:text-slate-200 bg-gray-50 dark:bg-slate-800/30 border-b border-gray-200 dark:border-slate-800 select-none cursor-default transition-colors duration-300",children:u.jsx("span",{children:e})}),u.jsx("div",{className:"p-4 bg-white dark:bg-slate-900/50 transition-colors duration-300",children:t})]}),mM=[{value:-1,label:"Raw Bayer (Grayscale)"},{value:0,label:"Linear interpolation"},{value:1,label:"VNG (Variable Number of Gradients)"},{value:2,label:"PPG (Patterned Pixel Grouping)"},{value:3,label:"AHD (Adaptive Homogeneity-Directed)"},{value:4,label:"DCB (Demosaicing with Color Back-refinement)"},{value:11,label:"DHT (Modified AHD)"},{value:12,label:"AAHD (Adaptive AHD)"}],jp=({checked:e,onChange:t,label:r})=>u.jsxs("div",{className:"flex items-center justify-between py-2 cursor-pointer group",onClick:()=>t(!e),children:[u.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-slate-300 select-none group-hover:text-gray-900 dark:group-hover:text-slate-200 transition-colors",children:r}),u.jsx("div",{className:`relative w-11 h-6 rounded-full transition-colors duration-200 ease-in-out ${e?"bg-cyan-500 dark:bg-cyan-600":"bg-gray-300 dark:bg-slate-600 group-hover:bg-gray-400 dark:group-hover:bg-slate-500"}`,children:u.jsx("div",{className:`absolute left-1 top-1 bg-white w-4 h-4 rounded-full shadow-md transform transition-transform duration-200 ease-in-out ${e?"translate-x-5":"translate-x-0"}`})})]}),Op=(e,t)=>{if(!e)return null;if(t){const r=e.bayerPattern.toUpperCase(),n=l=>{const c=[];for(let f=0;f<4;f++)r[f]===l&&c.push(f);return c},a=t.BlackLevelRed,o=t.BlackLevelGreen,i=t.BlackLevelBlue;if(a!==void 0&&o!==void 0&&i!==void 0){const l=parseFloat(a),c=parseFloat(o),f=parseFloat(i);if(!isNaN(l)&&!isNaN(c)&&!isNaN(f)){const d=[0,0,0,0];return d.fill(c),n("R").forEach(h=>d[h]=l),n("G").forEach(h=>d[h]=c),n("B").forEach(h=>f),d}}let s=t.BlackLevel;if(s===void 0&&(s=t.BlackLevel2),s!==void 0){let l=[];if(Array.isArray(s)?l=s.map(Number):typeof s=="string"?l=s.trim().split(/\s+/).map(Number):typeof s=="number"&&(l=[s,s,s,s]),l.length===1&&!isNaN(l[0])&&(l=[l[0],l[0],l[0],l[0]]),l.length>=4&&!l.slice(0,4).some(isNaN))return[l[0],l[1],l[2],l[3]]}}return e.blackLevels&&e.blackLevels.length===4?[e.blackLevels[0],e.blackLevels[1],e.blackLevels[2],e.blackLevels[3]]:null},yM=e=>{const{rawImageData:t,displaySettings:r,onApplyDisplaySettings:n,onSetSelection:a,exifData:o,isBridgeConnected:i,isDrLabOpen:s,drMarkingStep:l,onStartMarking:c,onGenerateTestPic:f,drRoiSize:d,onDrRoiSizeChange:h,drGridRows:p,onDrGridRowsChange:m,drGridCols:v,onDrGridColsChange:x,onBatchDrLab:y,hasDrMarkers:g,isFftLabOpen:b,onProcessPair:S,onProcessBatchDiff:w,onProcessStackFft:k,onOpenCrossCalc:j,isThreePlane:_}=e,[P,A]=O.useState(r.exposure.toString()),[N,C]=O.useState(""),[z,$]=O.useState("0 0 0 0"),[L,I]=O.useState("1.0"),[B,R]=O.useState("1.0"),[T,G]=O.useState(r.demosaicMethod),[ee,Y]=O.useState(!!r.showKadc),[K,H]=O.useState(!!r.subtractBlackLevelFromStats),[fe,ce]=O.useState("64"),[Oe,Se]=O.useState(!1),[X,le]=O.useState(!1),[ve,W]=O.useState("0 0 0 0"),[je,he]=O.useState("2840 6303 3935 6303"),[Ee,Ke]=O.useState("780 1720 1101 1720"),[ut,It]=O.useState(!1),[er,_r]=O.useState(!1),[St,Yt]=O.useState("single"),mt=O.useRef(null),Tr=O.useRef(null),At=O.useRef(null),ra=O.useRef(null),[yt,mr]=O.useState(null),[tr,ir]=O.useState(null),[yr,jt]=O.useState(!1),[Xe,Mt]=O.useState(!0),vt=O.useRef(null),cr=O.useRef(null),qt=O.useRef(!1),Jr=O.useRef(null);O.useEffect(()=>{t!==Jr.current&&(qt.current=!1,Jr.current=t)},[t]),O.useEffect(()=>{if(i&&t&&!qt.current){qt.current=!0;const U=Op(t,o),me=U&&U.some(Ve=>Ve>0);if(U&&me){Se(!0);const Ve={...r,blackLevel:U,showKadc:!0,subtractBlackLevelFromStats:!0,exposure:r.exposure,wbGains:r.wbGains||[1,1],demosaicMethod:r.demosaicMethod,renderMode:"standard"};n(Ve)}}},[i,t,o,r,n]),O.useEffect(()=>{if(A(r.exposure.toString()),r.customMatrix?(C(r.customMatrix.join(" ")),Se(!0)):C(""),r.blackLevel&&r.blackLevel.length===4)$(r.blackLevel.join(" "));else{const U=Op(t,o);$(U?U.join(" "):"0 0 0 0")}I(r.wbGains?r.wbGains[0].toString():"1.0"),R(r.wbGains?r.wbGains[1].toString():"1.0"),G(r.demosaicMethod),Y(!!r.showKadc),H(!!r.subtractBlackLevelFromStats),r.advancedZeroDep&&(W(r.advancedZeroDep.bl.join(" ")),he(r.advancedZeroDep.bg.join(" ")),Ke(r.advancedZeroDep.fg.join(" ")),le(!0))},[r,t,o]);const Ct=U=>{A(U)},un=U=>I(U),ft=U=>R(U),Wr=U=>{G(parseInt(U.target.value,10))},fn=U=>{C(U.target.value)},na=()=>{A("0"),G(3),I("1.0"),R("1.0"),Y(!0),H(!0),C(""),Se(!1),le(!1);const U=Op(t,o);$(U?U.join(" "):"0 0 0 0")},Ln=()=>{!t||!a||a({x:0,y:0,w:t.width,h:t.height})},Sn=()=>{if(!t||!a)return;const U=parseInt(fe,10);if(isNaN(U)||U<=0)return;const me=Math.min(U,t.width),Ve=Math.min(U,t.height),Ze=Math.floor((t.width-me)/2),Ae=Math.floor((t.height-Ve)/2);a({x:Ze,y:Ae,w:me,h:Ve})},ur=()=>{const me=z.split(/[\s,]+/).filter(Ve=>Ve.trim()!=="").map(Number);if(me.length===1&&!isNaN(me[0]))return[me[0],me[0],me[0],me[0]];if(me.length>=4&&!me.slice(0,4).some(isNaN))return[me[0],me[1],me[2],me[3]]},Pr=U=>{const me=U.trim().split(/[\s,]+/).map(Number);return me.length===4&&!me.some(isNaN)?me:me.length===1&&!isNaN(me[0])?[me[0],me[0],me[0],me[0]]:null},Nr=()=>{const U={...r},me=parseFloat(P);isNaN(me)||(U.exposure=me);const Ve=parseFloat(L),Ze=parseFloat(B);if(!isNaN(Ve)&&!isNaN(Ze)&&(U.wbGains=[Ve,Ze]),U.demosaicMethod=T,U.renderMode="standard",Oe){const Ae=ur();Ae&&(U.blackLevel=Ae);const Ue=N.trim().replace(/[\s,\n]+/g," ");if(Ue){const rt=Ue.split(" ").map(Number);rt.length===9&&!rt.some(isNaN)?U.customMatrix=rt:alert("Invalid matrix format. Please ensure exactly 9 numeric values (3x3).")}else delete U.customMatrix;U.showKadc=ee,U.subtractBlackLevelFromStats=K}else delete U.customMatrix,delete U.blackLevel,delete U.showKadc,delete U.subtractBlackLevelFromStats;n(U)},$r=()=>{const U={...r},me=ur();me&&(U.blackLevel=me);const Ve=parseFloat(L),Ze=parseFloat(B);!isNaN(Ve)&&!isNaN(Ze)&&(U.wbGains=[Ve,Ze]);const Ae=parseFloat(P);isNaN(Ae)||(U.exposure=Ae),U.renderMode="zero-dependency",n(U)},dn=()=>{const U=Pr(ve),me=Pr(je),Ve=Pr(Ee);if(!U||!me||!Ve){alert("Please enter valid 4-channel numbers for BL, BG, and FG.");return}const Ze={...r,renderMode:"advanced-zero-dep",advancedZeroDep:{bl:U,bg:me,fg:Ve}};n(Ze)},jn=U=>{U.target.files&&U.target.files.length>0&&y&&y(U.target.files,St),U.target.value="",_r(!1)},Wt=async U=>{var Ve;const me=(Ve=U.target.files)==null?void 0:Ve[0];if(me){try{const Ae=(await me.text()).split(`
`),Ue=[];Ue.push("#BlackLevel: 0,0,0,0"),Ue.push("#ImageHeight: 0"),Ue.push("Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std");let rt=1;for(let Dr=0;Dr<Ae.length;Dr++){const In=Ae[Dr].trim();if(!In||In.includes("R_mean")||In.includes("R_std"))continue;const ze=In.split(/\s+/).map(Number);if(ze.length<8||ze.some(isNaN))continue;const On=ze[0],ot=ze[1],co=ze[2],hn=ze[3],Ra=ze[4],aa=ze[5],La=ze[6],dl=ze[7],Ia=[rt,1,On,co,La,Ra,ot,hn,dl,aa].join(",");Ue.push(Ia),rt++}const _t=new Blob([Ue.join(`
`)],{type:"text/csv"}),dt=URL.createObjectURL(_t),pe=document.createElement("a");pe.href=dt,pe.download=me.name.replace(/\.[^/.]+$/,"")+"_converted.csv",document.body.appendChild(pe),pe.click(),document.body.removeChild(pe),URL.revokeObjectURL(dt)}catch(Ze){console.error("Conversion failed",Ze),alert("Failed to convert file. Check format.")}U.target.value=""}},rr=U=>{U.target.files&&U.target.files[0]&&mr(U.target.files[0])},Ot=U=>{U.target.files&&U.target.files[0]&&ir(U.target.files[0])},ne=()=>{yt&&tr&&S&&S(yt,tr,yr,Xe)},_e=U=>{U.target.files&&U.target.files.length>0&&w&&w(U.target.files),U.target.value=""},Re=U=>{U.target.files&&U.target.files.length>0&&k&&k(U.target.files),U.target.value=""},Ne=!!t;return u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsxs("div",{className:"flex-grow overflow-y-auto",children:[_&&u.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-3 border-b border-red-100 dark:border-red-800 text-center animate-pulse",children:[u.jsx("p",{className:"text-xs font-bold text-red-600 dark:text-red-400 uppercase tracking-wide",children:" 3-Plane / Full Color"}),u.jsx("p",{className:"text-[10px] text-red-500/80 dark:text-red-300/70 mt-1",children:"Demosaic disabled. Stats analysis treated as pseudo-Bayer."})]}),b&&u.jsx(Iu,{title:"FFT Lab (Noise Profile)",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"space-y-3 bg-gray-50 dark:bg-slate-800/40 p-3 rounded-xl border border-gray-100 dark:border-slate-800",children:[u.jsxs("h4",{className:"text-[10px] font-bold text-fuchsia-600 dark:text-fuchsia-400 uppercase tracking-widest flex items-center gap-2",children:[u.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-fuchsia-500"}),"1. Pair Difference (Sub)"]}),u.jsx("p",{className:"text-[10px] text-gray-500 dark:text-slate-400",children:"Subtraction between two shots to analyze FPN or Temporal Noise."}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("input",{type:"file",ref:mt,className:"hidden",onChange:rr,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),u.jsx("button",{onClick:()=>{var U;return(U=mt.current)==null?void 0:U.click()},className:`w-full py-2 px-3 rounded-lg border text-[10px] font-bold text-left truncate transition-colors ${yt?"bg-fuchsia-50 dark:bg-fuchsia-900/20 border-fuchsia-300 dark:border-fuchsia-800 text-fuchsia-700 dark:text-fuchsia-300":"bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-600 text-gray-500 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:yt?`A: ${yt.name}`:"Load Image A"}),u.jsx("input",{type:"file",ref:Tr,className:"hidden",onChange:Ot,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),u.jsx("button",{onClick:()=>{var U;return(U=Tr.current)==null?void 0:U.click()},className:`w-full py-2 px-3 rounded-lg border text-[10px] font-bold text-left truncate transition-colors ${tr?"bg-fuchsia-50 dark:bg-fuchsia-900/20 border-fuchsia-300 dark:border-fuchsia-800 text-fuchsia-700 dark:text-fuchsia-300":"bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-600 text-gray-500 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:tr?`B: ${tr.name}`:"Load Image B"})]}),u.jsx("div",{className:"flex flex-col gap-1.5 pt-1",children:u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:Xe,onChange:U=>Mt(U.target.checked),className:"w-3 h-3 text-fuchsia-600 border-gray-300 rounded focus:ring-0"}),u.jsx("span",{className:"text-[10px] text-gray-600 dark:text-slate-300",children:"Normalize (2)"})]})}),u.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[u.jsx("button",{onClick:ne,disabled:!yt||!tr,className:"w-full bg-fuchsia-600 hover:bg-fuchsia-500 disabled:opacity-30 text-white font-bold py-2 rounded shadow transition-all active:scale-95 text-[10px]",children:"Generate Diff & Load"}),u.jsx("input",{type:"file",ref:At,className:"hidden",multiple:!0,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff",onChange:_e}),u.jsxs("button",{onClick:()=>{var U;return(U=At.current)==null?void 0:U.click()},className:"w-full bg-slate-700 hover:bg-slate-600 text-white font-bold py-2 rounded shadow transition-all active:scale-95 text-[10px] flex items-center justify-center gap-1",children:[u.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Batch Diffs (Auto Download)"]})]})]}),u.jsxs("div",{className:"space-y-3 bg-gray-50 dark:bg-slate-800/40 p-3 rounded-xl border border-gray-100 dark:border-slate-800",children:[u.jsxs("h4",{className:"text-[10px] font-bold text-cyan-600 dark:text-cyan-400 uppercase tracking-widest flex items-center gap-2",children:[u.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-cyan-500"}),"2. Stack FFT (Avg PSD)"]}),u.jsx("p",{className:"text-[10px] text-gray-500 dark:text-slate-400",children:"Average Power Spectrum across a sequence for precise single-frame noise floor."}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("input",{type:"file",ref:ra,className:"hidden",multiple:!0,onChange:Re,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),u.jsxs("button",{onClick:()=>{var U;return(U=ra.current)==null?void 0:U.click()},className:"w-full py-3 bg-cyan-600 hover:bg-cyan-500 text-white font-bold rounded-lg shadow-md transition-all active:scale-95 text-[10px] flex items-center justify-center gap-2",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"Select Sequence Files"]})]}),u.jsx("p",{className:"text-[9px] text-center text-gray-400 italic",children:"Loads first frame. Average FFT calculated on ROI selection."})]}),u.jsx("div",{className:"flex flex-col gap-2 pt-2",children:u.jsxs("button",{onClick:j,className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-2 px-4 rounded-lg shadow-md transition-all active:scale-95 text-[10px] flex items-center justify-center gap-2",children:[u.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),"Cross-Compensation Calc"]})})]})}),s&&u.jsx(Iu,{title:"DR Lab Tools",children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("button",{onClick:f,className:"w-full bg-amber-500 hover:bg-amber-600 text-white font-bold py-2 px-4 rounded-lg shadow-md transition-colors text-sm",children:"Generate Test Pic"}),u.jsxs("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-3",children:[u.jsx("h4",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-2",children:"Grid Analysis"}),h&&d!==void 0&&u.jsx("div",{className:"flex items-center justify-between mb-3",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Box Size:"}),u.jsx("input",{type:"number",min:"8",max:"512",step:"2",value:d,onChange:U=>h(parseInt(U.target.value)||64),className:"w-12 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 text-center"}),u.jsx("span",{className:"text-xs text-gray-400",children:"px"})]})}),m&&x&&p!==void 0&&v!==void 0&&u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Layout:"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"number",min:"1",max:"50",value:p,onChange:U=>m(Math.max(1,parseInt(U.target.value)||1)),className:"w-10 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 text-center",title:"Rows"}),u.jsx("span",{className:"text-xs text-gray-400",children:"x"}),u.jsx("input",{type:"number",min:"1",max:"50",value:v,onChange:U=>x(Math.max(1,parseInt(U.target.value)||1)),className:"w-10 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 text-center",title:"Columns"})]})]}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("button",{onClick:c,disabled:!Ne||l!==void 0&&l>0,className:`w-full font-bold py-2 px-4 rounded-lg shadow-md transition-all text-sm ${Ne?l&&l>0?"bg-indigo-100 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300 border-2 border-indigo-500":"bg-indigo-600 hover:bg-indigo-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:l&&l>0?"Marking Active...":"Mark Corners"}),y&&u.jsxs(u.Fragment,{children:[u.jsx("input",{type:"file",ref:vt,className:"hidden",multiple:!0,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff",onChange:jn}),u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>_r(!er),disabled:!g,className:"w-full font-bold py-2 px-4 rounded-lg shadow-md transition-all text-sm bg-emerald-600 hover:bg-emerald-700 disabled:bg-gray-300 disabled:text-gray-500 disabled:cursor-not-allowed text-white flex items-center justify-center gap-2",title:"Process multiple RAWs",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"Reuse Last & Batch"]}),er&&u.jsxs("div",{className:"absolute bottom-full left-0 w-full mb-1 bg-white dark:bg-slate-800 rounded-lg shadow-xl border border-gray-200 dark:border-slate-700 overflow-hidden z-20 flex flex-col animate-in fade-in zoom-in-95 duration-100",children:[u.jsx("button",{className:"px-4 py-2 text-left text-xs hover:bg-gray-100 dark:hover:bg-slate-700 text-gray-700 dark:text-slate-200 border-b border-gray-100 dark:border-slate-700 transition-colors",onClick:()=>{var U;Yt("single"),(U=vt.current)==null||U.click()},children:"1. Independent Frames"}),u.jsx("button",{className:"px-4 py-2 text-left text-xs hover:bg-gray-100 dark:hover:bg-slate-700 text-indigo-600 dark:text-indigo-400 font-bold transition-colors",onClick:()=>{var U;Yt("pair"),(U=vt.current)==null||U.click()},children:"2. Pair Difference (A-B)"})]})]})]}),u.jsxs("div",{className:"pt-2 mt-2 border-t border-gray-100 dark:border-slate-800",children:[u.jsx("input",{type:"file",ref:cr,className:"hidden",accept:".txt",onChange:Wt}),u.jsxs("button",{onClick:()=>{var U;return(U=cr.current)==null?void 0:U.click()},className:"w-full font-bold py-2 px-4 rounded-lg shadow-sm transition-all text-xs bg-slate-100 hover:bg-slate-200 dark:bg-slate-800 dark:hover:bg-slate-700 text-gray-600 dark:text-slate-300 flex items-center justify-center gap-2 border border-gray-300 dark:border-slate-600",title:"Convert legacy TXT format (R_mean R_std ...) to standard CSV",children:[u.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),"Convert Format (.txt  .csv)"]})]})]}),l!==void 0&&l>0&&u.jsx("div",{className:"mt-2 text-center",children:u.jsxs("p",{className:"text-xs text-indigo-600 dark:text-indigo-400 font-bold animate-pulse",children:[l===1&&"Click Top-Left Center",l===2&&"Click Top-Right Center",l===3&&"Click Bottom-Left Center",l===4&&"Click Bottom-Right Center"]})})]})]})}),u.jsx(Iu,{title:"Selection Tools",children:u.jsx("div",{className:"space-y-3",children:u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"Quick Select or Shift+drag"}),u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Size (px):"}),u.jsx("input",{type:"number",min:"1",value:fe,onChange:U=>ce(U.target.value),disabled:!Ne,className:"flex-1 px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("button",{onClick:Sn,disabled:!Ne,className:"px-3 py-1.5 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-slate-200 text-xs font-semibold rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Center Rect"}),u.jsx("button",{onClick:Ln,disabled:!Ne,className:"px-3 py-1.5 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-slate-200 text-xs font-semibold rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Full Image"})]})]})})}),u.jsx(Iu,{title:"Display Controls",children:u.jsxs("div",{className:"space-y-5",children:[u.jsxs("p",{className:"text-gray-500 dark:text-slate-400 text-center text-sm",children:["Adjust parameters and click ",u.jsx("b",{children:"Apply"}),"."]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"exposure",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"Exposure (EV)"}),u.jsx("div",{className:"flex items-center gap-2 mb-2",children:u.jsx("input",{type:"range",min:"-5",max:"5",step:"0.1",disabled:!Ne,value:parseFloat(P)||0,onChange:U=>Ct(U.target.value),className:"w-full h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500 disabled:opacity-50"})}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("input",{id:"exposure",type:"number",step:"0.1",value:P,onChange:U=>Ct(U.target.value),disabled:!Ne,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})})]}),u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"demosaic",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2 flex justify-between",children:[u.jsx("span",{children:"Demosaic Method"}),_&&u.jsx("span",{className:"text-[9px] text-red-500 font-bold bg-red-100 dark:bg-red-900/30 px-1 rounded",children:"DISABLED"})]}),u.jsx("select",{id:"demosaic",value:T,onChange:Wr,disabled:!Ne||_,className:"w-full px-2 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none transition-colors disabled:bg-gray-100 dark:disabled:bg-slate-800/50 disabled:cursor-not-allowed text-sm text-gray-900 dark:text-slate-100",children:mM.map(U=>u.jsx("option",{value:U.value,children:U.label},U.value))}),_&&u.jsx("p",{className:"text-[9px] text-gray-400 mt-1",children:"Full color data detected. Demosaicing skipped."})]}),u.jsx("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-2",children:u.jsx(jp,{checked:Oe,onChange:Se,label:"Advanced Settings"})}),Oe&&u.jsxs("div",{className:"space-y-5 pl-2 border-l-2 border-gray-200 dark:border-slate-700 animate-in slide-in-from-top-2 duration-200",children:[u.jsxs("div",{children:[u.jsx(jp,{checked:ee,onChange:Y,label:"Show Kadc"}),u.jsx("p",{className:"text-[10px] text-gray-400 dark:text-slate-500 mt-1",children:"Requires manual Black Levellinear PTC zoneabsolutely uniform image ."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"White Balance Gains"}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-xs text-red-500 dark:text-red-400 block mb-1",children:"Red"}),u.jsx("input",{type:"number",step:"0.01",value:L,onChange:U=>un(U.target.value),disabled:!Ne,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-red-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-xs text-blue-500 dark:text-blue-400 block mb-1",children:"Blue"}),u.jsx("input",{type:"number",step:"0.01",value:B,onChange:U=>ft(U.target.value),disabled:!Ne,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-blue-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})]})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-end mb-2",children:[u.jsxs("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide flex items-center",children:["Black Level (4-Ch)",u.jsx("span",{className:"ml-1 text-[10px] text-gray-400 dark:text-slate-500 font-normal normal-case",children:"Native"}),u.jsx("button",{onClick:()=>It(!0),className:"ml-2 text-[10px] text-cyan-600 dark:text-cyan-400 hover:text-cyan-700 dark:hover:text-cyan-300 hover:underline cursor-pointer transition-colors",title:"About Black Level Settings",children:"[about]"})]}),u.jsxs("div",{className:"flex items-center gap-1.5",title:"Subtract Black Level from ROI Mean stats (for display)",children:[u.jsx("span",{className:"text-[9px] font-mono text-gray-400 dark:text-slate-500 uppercase tracking-wide",children:"Sub. BL"}),u.jsx("div",{className:`relative w-8 h-4 rounded-full cursor-pointer transition-colors duration-200 ease-in-out ${K?"bg-cyan-500":"bg-gray-300 dark:bg-slate-700"}`,onClick:()=>H(!K),children:u.jsx("div",{className:`absolute top-0.5 left-0.5 bg-white w-3 h-3 rounded-full shadow-sm transform transition-transform duration-200 ${K?"translate-x-4":"translate-x-0"}`})})]})]}),u.jsx("input",{type:"text",value:z,onChange:U=>$(U.target.value),disabled:!Ne,placeholder:"0 0 0 0",className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-xs font-mono text-gray-900 dark:text-slate-100 transition-colors duration-300",title:"Enter 4 values separated by space or comma"}),u.jsx("p",{className:"text-[10px] text-gray-400 dark:text-slate-500 mt-1",children:"Order: (0,0) (0,1) (1,0) (1,1). Spatial: TL, TR, BL, BR."})]}),u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"customMatrix",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:["Custom Color Matrix",u.jsx("span",{className:"block text-[10px] text-gray-400 dark:text-slate-500 font-normal normal-case mt-0.5",children:"XYZ to Camera RGB (3x3, 9 nums)"})]}),u.jsx("textarea",{id:"customMatrix",value:N,onChange:fn,disabled:!Ne,placeholder:"0.66 -0.19 -0.04  -0.46 1.23 0.25  -0.06 0.13 0.65",className:"w-full h-24 px-2 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none transition-colors disabled:bg-gray-100 dark:disabled:bg-slate-800/50 disabled:cursor-not-allowed text-xs font-mono leading-relaxed text-gray-900 dark:text-slate-100"})]})]}),u.jsx("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-2",children:u.jsx(jp,{checked:X,onChange:le,label:" (Scalar Unmixing)"})}),X&&u.jsxs("div",{className:"space-y-4 pl-2 border-l-2 border-indigo-200 dark:border-indigo-900 animate-in slide-in-from-top-2 duration-200",children:[u.jsxs("div",{className:"grid grid-cols-5 gap-1 items-center text-[9px] uppercase font-bold text-gray-400 mb-[-8px]",children:[u.jsx("div",{className:"col-span-1",children:"Param"}),u.jsx("div",{className:"text-center",children:"Ch0(R)"}),u.jsx("div",{className:"text-center",children:"Ch1(G1)"}),u.jsx("div",{className:"text-center",children:"Ch2(B)"}),u.jsx("div",{className:"text-center",children:"Ch3(G2)"})]}),u.jsxs("div",{className:"grid grid-cols-5 gap-2 items-center",children:[u.jsx("span",{className:"text-[10px] font-bold text-red-500",children:"BL:"}),u.jsx("input",{type:"text",value:ve,onChange:U=>W(U.target.value),className:"col-span-4 px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-xs font-mono text-gray-900 dark:text-slate-100"})]}),u.jsxs("div",{className:"grid grid-cols-5 gap-2 items-center",children:[u.jsx("span",{className:"text-[10px] font-bold text-indigo-500",children:"B ():"}),u.jsx("input",{type:"text",value:je,onChange:U=>he(U.target.value),className:"col-span-4 px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-xs font-mono text-gray-900 dark:text-slate-100"})]}),u.jsxs("div",{className:"grid grid-cols-5 gap-2 items-center",children:[u.jsx("span",{className:"text-[10px] font-bold text-emerald-500",children:"F ():"}),u.jsx("input",{type:"text",value:Ee,onChange:U=>Ke(U.target.value),className:"col-span-4 px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-xs font-mono text-gray-900 dark:text-slate-100"})]}),u.jsx("button",{onClick:dn,disabled:!Ne,className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-2 rounded text-[10px] shadow transition-transform active:scale-95",children:"RUN UNMIXING (ADV ZERO-DEP)"}),u.jsx("p",{className:"text-[9px] text-gray-400 italic text-center",children:" + sRGB Gamma "})]}),u.jsxs("div",{className:"pt-4 flex flex-col gap-2",children:[u.jsx("button",{onClick:Nr,disabled:!Ne,className:"w-full text-base bg-cyan-500 hover:bg-cyan-600 dark:bg-cyan-600 dark:hover:bg-cyan-500 disabled:bg-gray-300 dark:disabled:bg-slate-800 disabled:text-gray-500 dark:disabled:text-slate-500 disabled:cursor-not-allowed text-white font-bold py-3 px-3 rounded-lg shadow-lg shadow-cyan-500/20 dark:shadow-cyan-900/20 transition-all active:scale-95",children:"APPLY SETTINGS"}),u.jsxs("button",{onClick:$r,disabled:!Ne,className:"w-full text-xs font-bold bg-slate-700 hover:bg-slate-600 text-white disabled:bg-gray-300 dark:disabled:bg-slate-800 disabled:text-gray-500 transition-colors py-2 rounded-lg flex items-center justify-center gap-1.5 border border-slate-600",title:"Diagnostic Mode. Direct RAW-to-Grayscale mapping using manual Black Level & WB Gains (R/B calibration).",children:[u.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})," (Zero-Dep Grayscale)"]}),u.jsx("button",{onClick:na,disabled:!Ne,className:"w-full text-xs text-gray-400 hover:text-gray-600 dark:text-slate-400 dark:hover:text-slate-200 disabled:text-gray-300 dark:disabled:text-slate-600 transition-colors mt-1",children:"Reset Defaults (Local)"})]})]})})]}),u.jsx(ci,{isOpen:ut,onClose:()=>It(!1),onConfirm:()=>{window.open("https://y-g-jiang.github.io/CBLD.html","_blank"),It(!1)},title:"Black Level Info / ",confirmText:"Visit Database (CBLD)",cancelText:"Close",message:u.jsxs("div",{className:"flex flex-col gap-4 text-left text-sm text-gray-600 dark:text-slate-300",children:[u.jsxs("p",{className:"leading-relaxed",children:["JiangBridge/JiangBridge",u.jsx("a",{href:"https://y-g-jiang.github.io/CBLD.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline mx-1 font-bold",children:"CBLD.html"}),""]}),u.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 w-full"}),u.jsxs("p",{className:"leading-relaxed",children:["Autofills when JiangBridge is detected. If no result is found or JiangBridge is missing, please check the",u.jsx("a",{href:"https://y-g-jiang.github.io/CBLD.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline mx-1 font-bold",children:"Black Level Database"}),"to find your camera model. However, manually capturing a dark frame with identical settings to calculate and input the values is highly recommended for higher decimal precision, as internal tags often lack accuracy."]})]})})]})},vM=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 12H4"})}),xM=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),bM=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h5M4 12a8 8 0 0114.24-5.12M20 20v-5h-5M20 12a8 8 0 01-14.24 5.12"})}),wM=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11"})}),kM=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 4l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})}),eg=.1,tg=16,SM=Math.log(eg),jM=Math.log(tg),OM=({zoom:e,onZoomChange:t,onResetView:r,touchAction:n,onToggleTouchAction:a})=>{const o=c=>{const f=parseFloat(c.target.value),d=Math.exp(f);t(Math.max(eg,Math.min(tg,d)))},i=()=>{t(Math.min(tg,e*1.25))},s=()=>{t(Math.max(eg,e/1.25))},l=Math.log(e);return u.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",onClick:c=>c.stopPropagation(),children:[u.jsx("div",{className:"bg-white/90 dark:bg-slate-800/70 backdrop-blur-sm p-2 rounded-lg border border-gray-200 dark:border-slate-700 flex items-center shadow-lg transition-colors duration-300",children:u.jsx("button",{onClick:a,className:`p-1.5 rounded-md transition-colors flex items-center justify-center ${n==="select"?"bg-cyan-100 text-cyan-600 dark:bg-cyan-900/50 dark:text-cyan-400 ring-2 ring-cyan-500/50":"text-gray-500 dark:text-slate-400 hover:bg-gray-100 dark:hover:bg-slate-700"}`,title:n==="select"?"Mode: Selection (Drag to Select)":"Mode: Pan (Drag to Move)",children:n==="select"?u.jsx(kM,{}):u.jsx(wM,{})})}),u.jsxs("div",{className:"bg-white/90 dark:bg-slate-800/70 backdrop-blur-sm p-2 rounded-lg border border-gray-200 dark:border-slate-700 flex items-center gap-2 text-gray-700 dark:text-slate-300 shadow-lg transition-colors duration-300",children:[u.jsx("button",{onClick:s,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Zoom Out","aria-label":"Zoom Out",children:u.jsx(vM,{})}),u.jsx("input",{type:"range",min:SM,max:jM,step:"0.01",value:l,onChange:o,className:"w-24 sm:w-32 h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500","aria-label":"Zoom slider"}),u.jsx("button",{onClick:i,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Zoom In","aria-label":"Zoom In",children:u.jsx(xM,{})}),u.jsxs("span",{className:"w-16 text-center font-mono text-sm","aria-live":"polite",children:[(e*100).toFixed(0),"%"]}),u.jsx("button",{onClick:r,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Reset View","aria-label":"Reset View",children:u.jsx(bM,{})})]})]})},_M=({theme:e,setTheme:t})=>{const r=()=>{t(e==="light"?"dark":"light")};return u.jsx("button",{onClick:r,className:"fixed bottom-6 right-6 z-50 p-3 rounded-full bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 shadow-lg text-gray-800 dark:text-yellow-400 hover:bg-gray-100 dark:hover:bg-slate-700 transition-all duration-300",title:`Switch to ${e==="light"?"dark":"light"} mode`,children:e==="light"?u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-slate-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}):u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})})})};function ej(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=ej(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function tt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=ej(e))&&(n&&(n+=" "),n+=t);return n}var PM=Array.isArray,kn=PM,NM=typeof bu=="object"&&bu&&bu.Object===Object&&bu,tj=NM,AM=tj,MM=typeof self=="object"&&self&&self.Object===Object&&self,CM=AM||MM||Function("return this")(),Da=CM,EM=Da,TM=EM.Symbol,iu=TM,Wx=iu,rj=Object.prototype,$M=rj.hasOwnProperty,DM=rj.toString,jl=Wx?Wx.toStringTag:void 0;function RM(e){var t=$M.call(e,jl),r=e[jl];try{e[jl]=void 0;var n=!0}catch{}var a=DM.call(e);return n&&(t?e[jl]=r:delete e[jl]),a}var LM=RM,IM=Object.prototype,BM=IM.toString;function FM(e){return BM.call(e)}var zM=FM,Ux=iu,WM=LM,UM=zM,GM="[object Null]",HM="[object Undefined]",Gx=Ux?Ux.toStringTag:void 0;function VM(e){return e==null?e===void 0?HM:GM:Gx&&Gx in Object(e)?WM(e):UM(e)}var io=VM;function KM(e){return e!=null&&typeof e=="object"}var so=KM,XM=io,YM=so,qM="[object Symbol]";function ZM(e){return typeof e=="symbol"||YM(e)&&XM(e)==qM}var Qs=ZM,QM=kn,JM=Qs,eC=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tC=/^\w*$/;function rC(e,t){if(QM(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||JM(e)?!0:tC.test(e)||!eC.test(e)||t!=null&&e in Object(t)}var Oy=rC;function nC(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Bo=nC;const Js=Lt(Bo);var aC=io,oC=Bo,iC="[object AsyncFunction]",sC="[object Function]",lC="[object GeneratorFunction]",cC="[object Proxy]";function uC(e){if(!oC(e))return!1;var t=aC(e);return t==sC||t==lC||t==iC||t==cC}var _y=uC;const He=Lt(_y);var fC=Da,dC=fC["__core-js_shared__"],hC=dC,_p=hC,Hx=function(){var e=/[^.]+$/.exec(_p&&_p.keys&&_p.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function pC(e){return!!Hx&&Hx in e}var gC=pC,mC=Function.prototype,yC=mC.toString;function vC(e){if(e!=null){try{return yC.call(e)}catch{}try{return e+""}catch{}}return""}var nj=vC,xC=_y,bC=gC,wC=Bo,kC=nj,SC=/[\\^$.*+?()[\]{}|]/g,jC=/^\[object .+?Constructor\]$/,OC=Function.prototype,_C=Object.prototype,PC=OC.toString,NC=_C.hasOwnProperty,AC=RegExp("^"+PC.call(NC).replace(SC,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function MC(e){if(!wC(e)||bC(e))return!1;var t=xC(e)?AC:jC;return t.test(kC(e))}var CC=MC;function EC(e,t){return e==null?void 0:e[t]}var TC=EC,$C=CC,DC=TC;function RC(e,t){var r=DC(e,t);return $C(r)?r:void 0}var Pi=RC,LC=Pi,IC=LC(Object,"create"),rh=IC,Vx=rh;function BC(){this.__data__=Vx?Vx(null):{},this.size=0}var FC=BC;function zC(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var WC=zC,UC=rh,GC="__lodash_hash_undefined__",HC=Object.prototype,VC=HC.hasOwnProperty;function KC(e){var t=this.__data__;if(UC){var r=t[e];return r===GC?void 0:r}return VC.call(t,e)?t[e]:void 0}var XC=KC,YC=rh,qC=Object.prototype,ZC=qC.hasOwnProperty;function QC(e){var t=this.__data__;return YC?t[e]!==void 0:ZC.call(t,e)}var JC=QC,eE=rh,tE="__lodash_hash_undefined__";function rE(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=eE&&t===void 0?tE:t,this}var nE=rE,aE=FC,oE=WC,iE=XC,sE=JC,lE=nE;function el(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}el.prototype.clear=aE;el.prototype.delete=oE;el.prototype.get=iE;el.prototype.has=sE;el.prototype.set=lE;var cE=el;function uE(){this.__data__=[],this.size=0}var fE=uE;function dE(e,t){return e===t||e!==e&&t!==t}var Py=dE,hE=Py;function pE(e,t){for(var r=e.length;r--;)if(hE(e[r][0],t))return r;return-1}var nh=pE,gE=nh,mE=Array.prototype,yE=mE.splice;function vE(e){var t=this.__data__,r=gE(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():yE.call(t,r,1),--this.size,!0}var xE=vE,bE=nh;function wE(e){var t=this.__data__,r=bE(t,e);return r<0?void 0:t[r][1]}var kE=wE,SE=nh;function jE(e){return SE(this.__data__,e)>-1}var OE=jE,_E=nh;function PE(e,t){var r=this.__data__,n=_E(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var NE=PE,AE=fE,ME=xE,CE=kE,EE=OE,TE=NE;function tl(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}tl.prototype.clear=AE;tl.prototype.delete=ME;tl.prototype.get=CE;tl.prototype.has=EE;tl.prototype.set=TE;var ah=tl,$E=Pi,DE=Da,RE=$E(DE,"Map"),Ny=RE,Kx=cE,LE=ah,IE=Ny;function BE(){this.size=0,this.__data__={hash:new Kx,map:new(IE||LE),string:new Kx}}var FE=BE;function zE(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var WE=zE,UE=WE;function GE(e,t){var r=e.__data__;return UE(t)?r[typeof t=="string"?"string":"hash"]:r.map}var oh=GE,HE=oh;function VE(e){var t=HE(this,e).delete(e);return this.size-=t?1:0,t}var KE=VE,XE=oh;function YE(e){return XE(this,e).get(e)}var qE=YE,ZE=oh;function QE(e){return ZE(this,e).has(e)}var JE=QE,e5=oh;function t5(e,t){var r=e5(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var r5=t5,n5=FE,a5=KE,o5=qE,i5=JE,s5=r5;function rl(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}rl.prototype.clear=n5;rl.prototype.delete=a5;rl.prototype.get=o5;rl.prototype.has=i5;rl.prototype.set=s5;var Ay=rl,aj=Ay,l5="Expected a function";function My(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(l5);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var i=e.apply(this,n);return r.cache=o.set(a,i)||o,i};return r.cache=new(My.Cache||aj),r}My.Cache=aj;var oj=My;const c5=Lt(oj);var u5=oj,f5=500;function d5(e){var t=u5(e,function(n){return r.size===f5&&r.clear(),n}),r=t.cache;return t}var h5=d5,p5=h5,g5=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,m5=/\\(\\)?/g,y5=p5(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(g5,function(r,n,a,o){t.push(a?o.replace(m5,"$1"):n||r)}),t}),v5=y5;function x5(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var Cy=x5,Xx=iu,b5=Cy,w5=kn,k5=Qs,Yx=Xx?Xx.prototype:void 0,qx=Yx?Yx.toString:void 0;function ij(e){if(typeof e=="string")return e;if(w5(e))return b5(e,ij)+"";if(k5(e))return qx?qx.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var S5=ij,j5=S5;function O5(e){return e==null?"":j5(e)}var sj=O5,_5=kn,P5=Oy,N5=v5,A5=sj;function M5(e,t){return _5(e)?e:P5(e,t)?[e]:N5(A5(e))}var lj=M5,C5=Qs;function E5(e){if(typeof e=="string"||C5(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var ih=E5,T5=lj,$5=ih;function D5(e,t){t=T5(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[$5(t[r++])];return r&&r==n?e:void 0}var Ey=D5,R5=Ey;function L5(e,t,r){var n=e==null?void 0:R5(e,t);return n===void 0?r:n}var cj=L5;const qn=Lt(cj);function I5(e){return e==null}var B5=I5;const Fe=Lt(B5);var F5=io,z5=kn,W5=so,U5="[object String]";function G5(e){return typeof e=="string"||!z5(e)&&W5(e)&&F5(e)==U5}var H5=G5;const vi=Lt(H5);var uj={exports:{}},kt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ty=Symbol.for("react.element"),$y=Symbol.for("react.portal"),sh=Symbol.for("react.fragment"),lh=Symbol.for("react.strict_mode"),ch=Symbol.for("react.profiler"),uh=Symbol.for("react.provider"),fh=Symbol.for("react.context"),V5=Symbol.for("react.server_context"),dh=Symbol.for("react.forward_ref"),hh=Symbol.for("react.suspense"),ph=Symbol.for("react.suspense_list"),gh=Symbol.for("react.memo"),mh=Symbol.for("react.lazy"),K5=Symbol.for("react.offscreen"),fj;fj=Symbol.for("react.module.reference");function ea(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Ty:switch(e=e.type,e){case sh:case ch:case lh:case hh:case ph:return e;default:switch(e=e&&e.$$typeof,e){case V5:case fh:case dh:case mh:case gh:case uh:return e;default:return t}}case $y:return t}}}kt.ContextConsumer=fh;kt.ContextProvider=uh;kt.Element=Ty;kt.ForwardRef=dh;kt.Fragment=sh;kt.Lazy=mh;kt.Memo=gh;kt.Portal=$y;kt.Profiler=ch;kt.StrictMode=lh;kt.Suspense=hh;kt.SuspenseList=ph;kt.isAsyncMode=function(){return!1};kt.isConcurrentMode=function(){return!1};kt.isContextConsumer=function(e){return ea(e)===fh};kt.isContextProvider=function(e){return ea(e)===uh};kt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ty};kt.isForwardRef=function(e){return ea(e)===dh};kt.isFragment=function(e){return ea(e)===sh};kt.isLazy=function(e){return ea(e)===mh};kt.isMemo=function(e){return ea(e)===gh};kt.isPortal=function(e){return ea(e)===$y};kt.isProfiler=function(e){return ea(e)===ch};kt.isStrictMode=function(e){return ea(e)===lh};kt.isSuspense=function(e){return ea(e)===hh};kt.isSuspenseList=function(e){return ea(e)===ph};kt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===sh||e===ch||e===lh||e===hh||e===ph||e===K5||typeof e=="object"&&e!==null&&(e.$$typeof===mh||e.$$typeof===gh||e.$$typeof===uh||e.$$typeof===fh||e.$$typeof===dh||e.$$typeof===fj||e.getModuleId!==void 0)};kt.typeOf=ea;uj.exports=kt;var X5=uj.exports,Y5=io,q5=so,Z5="[object Number]";function Q5(e){return typeof e=="number"||q5(e)&&Y5(e)==Z5}var dj=Q5;const J5=Lt(dj);var eT=dj;function tT(e){return eT(e)&&e!=+e}var rT=tT;const nl=Lt(rT);var ha=function(t){return t===0?0:t>0?1:-1},ti=function(t){return vi(t)&&t.indexOf("%")===t.length-1},se=function(t){return J5(t)&&!nl(t)},nT=function(t){return Fe(t)},Sr=function(t){return se(t)||vi(t)},aT=0,Ni=function(t){var r=++aT;return"".concat(t||"").concat(r)},xi=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!se(t)&&!vi(t))return n;var o;if(ti(t)){var i=t.indexOf("%");o=r*parseFloat(t.slice(0,i))/100}else o=+t;return nl(o)&&(o=n),a&&o>r&&(o=r),o},xo=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},oT=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},lr=function(t,r){return se(t)&&se(r)?function(n){return t+n*(r-t)}:function(){return r}};function Rf(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):qn(n,t))===r})}var iT=function(t){if(!t||!t.length)return null;for(var r=t.length,n=0,a=0,o=0,i=0,s=1/0,l=-1/0,c=0,f=0,d=0;d<r;d++)c=t[d].cx||0,f=t[d].cy||0,n+=c,a+=f,o+=c*f,i+=c*c,s=Math.min(s,c),l=Math.max(l,c);var h=r*i!==n*n?(r*o-n*a)/(r*i-n*n):0;return{xmin:s,xmax:l,a:h,b:(a-h*n)/r}},sT=function(t,r){return se(t)&&se(r)?t-r:vi(t)&&vi(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function fs(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function rg(e){"@babel/helpers - typeof";return rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rg(e)}var lT=["viewBox","children"],cT=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Zx=["points","pathLength"],Pp={svg:lT,polygon:Zx,polyline:Zx},Dy=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Lf=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(O.isValidElement(t)&&(n=t.props),!Js(n))return null;var a={};return Object.keys(n).forEach(function(o){Dy.includes(o)&&(a[o]=r||function(i){return n[o](n,i)})}),a},uT=function(t,r,n){return function(a){return t(r,n,a),null}},xc=function(t,r,n){if(!Js(t)||rg(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(o){var i=t[o];Dy.includes(o)&&typeof i=="function"&&(a||(a={}),a[o]=uT(i,r,n))}),a},fT=["children"],dT=["children"];function Qx(e,t){if(e==null)return{};var r=hT(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hT(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ng(e){"@babel/helpers - typeof";return ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ng(e)}var Jx={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Xa=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},eb=null,Np=null,Ry=function e(t){if(t===eb&&Array.isArray(Np))return Np;var r=[];return O.Children.forEach(t,function(n){Fe(n)||(X5.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Np=r,eb=t,r};function wn(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Xa(a)}):n=[Xa(t)],Ry(e).forEach(function(a){var o=qn(a,"type.displayName")||qn(a,"type.name");n.indexOf(o)!==-1&&r.push(a)}),r}function Mn(e,t){var r=wn(e,t);return r&&r[0]}var tb=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!se(n)||n<=0||!se(a)||a<=0)},pT=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],gT=function(t){return t&&t.type&&vi(t.type)&&pT.indexOf(t.type)>=0},hj=function(t){return t&&ng(t)==="object"&&"clipDot"in t},mT=function(t,r,n,a){var o,i=(o=Pp==null?void 0:Pp[a])!==null&&o!==void 0?o:[];return r.startsWith("data-")||!He(t)&&(a&&i.includes(r)||cT.includes(r))||n&&Dy.includes(r)},We=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(O.isValidElement(t)&&(a=t.props),!Js(a))return null;var o={};return Object.keys(a).forEach(function(i){var s;mT((s=a)===null||s===void 0?void 0:s[i],i,r,n)&&(o[i]=a[i])}),o},ag=function e(t,r){if(t===r)return!0;var n=O.Children.count(t);if(n!==O.Children.count(r))return!1;if(n===0)return!0;if(n===1)return rb(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var o=t[a],i=r[a];if(Array.isArray(o)||Array.isArray(i)){if(!e(o,i))return!1}else if(!rb(o,i))return!1}return!0},rb=function(t,r){if(Fe(t)&&Fe(r))return!0;if(!Fe(t)&&!Fe(r)){var n=t.props||{},a=n.children,o=Qx(n,fT),i=r.props||{},s=i.children,l=Qx(i,dT);return a&&s?fs(o,l)&&ag(a,s):!a&&!s?fs(o,l):!1}return!1},nb=function(t,r){var n=[],a={};return Ry(t).forEach(function(o,i){if(gT(o))n.push(o);else if(o){var s=Xa(o.type),l=r[s]||{},c=l.handler,f=l.once;if(c&&(!f||!a[s])){var d=c(o,s,i);n.push(d),a[s]=!0}}}),n},yT=function(t){var r=t&&t.type;return r&&Jx[r]?Jx[r]:null},vT=function(t,r){return Ry(r).indexOf(t)},xT=["children","width","height","viewBox","className","style","title","desc"];function og(){return og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},og.apply(this,arguments)}function bT(e,t){if(e==null)return{};var r=wT(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wT(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ig(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,o=e.className,i=e.style,s=e.title,l=e.desc,c=bT(e,xT),f=a||{width:r,height:n,x:0,y:0},d=tt("recharts-surface",o);return M.createElement("svg",og({},We(c,!0,"svg"),{className:d,width:r,height:n,style:i,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),M.createElement("title",null,s),M.createElement("desc",null,l),t)}var kT=["children","className"];function sg(){return sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sg.apply(this,arguments)}function ST(e,t){if(e==null)return{};var r=jT(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jT(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ct=M.forwardRef(function(e,t){var r=e.children,n=e.className,a=ST(e,kT),o=tt("recharts-layer",n);return M.createElement("g",sg({className:o},We(a,!0),{ref:t}),r)}),Ya=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o]};function OT(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(a);++n<a;)o[n]=e[n+t];return o}var _T=OT,PT=_T;function NT(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:PT(e,t,r)}var AT=NT,MT="\\ud800-\\udfff",CT="\\u0300-\\u036f",ET="\\ufe20-\\ufe2f",TT="\\u20d0-\\u20ff",$T=CT+ET+TT,DT="\\ufe0e\\ufe0f",RT="\\u200d",LT=RegExp("["+RT+MT+$T+DT+"]");function IT(e){return LT.test(e)}var pj=IT;function BT(e){return e.split("")}var FT=BT,gj="\\ud800-\\udfff",zT="\\u0300-\\u036f",WT="\\ufe20-\\ufe2f",UT="\\u20d0-\\u20ff",GT=zT+WT+UT,HT="\\ufe0e\\ufe0f",VT="["+gj+"]",lg="["+GT+"]",cg="\\ud83c[\\udffb-\\udfff]",KT="(?:"+lg+"|"+cg+")",mj="[^"+gj+"]",yj="(?:\\ud83c[\\udde6-\\uddff]){2}",vj="[\\ud800-\\udbff][\\udc00-\\udfff]",XT="\\u200d",xj=KT+"?",bj="["+HT+"]?",YT="(?:"+XT+"(?:"+[mj,yj,vj].join("|")+")"+bj+xj+")*",qT=bj+xj+YT,ZT="(?:"+[mj+lg+"?",lg,yj,vj,VT].join("|")+")",QT=RegExp(cg+"(?="+cg+")|"+ZT+qT,"g");function JT(e){return e.match(QT)||[]}var e$=JT,t$=FT,r$=pj,n$=e$;function a$(e){return r$(e)?n$(e):t$(e)}var o$=a$,i$=AT,s$=pj,l$=o$,c$=sj;function u$(e){return function(t){t=c$(t);var r=s$(t)?l$(t):void 0,n=r?r[0]:t.charAt(0),a=r?i$(r,1).join(""):t.slice(1);return n[e]()+a}}var f$=u$,d$=f$,h$=d$("toUpperCase"),p$=h$;const yh=Lt(p$);function Ft(e){return function(){return e}}const wj=Math.cos,If=Math.sin,ba=Math.sqrt,Bf=Math.PI,vh=2*Bf,ug=Math.PI,fg=2*ug,Yo=1e-6,g$=fg-Yo;function kj(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function m$(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return kj;const r=10**t;return function(n){this._+=n[0];for(let a=1,o=n.length;a<o;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class y${constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?kj:m$(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,o,i){this._append`C${+t},${+r},${+n},${+a},${this._x1=+o},${this._y1=+i}`}arcTo(t,r,n,a,o){if(t=+t,r=+r,n=+n,a=+a,o=+o,o<0)throw new Error(`negative radius: ${o}`);let i=this._x1,s=this._y1,l=n-t,c=a-r,f=i-t,d=s-r,h=f*f+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Yo)if(!(Math.abs(d*l-c*f)>Yo)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-i,m=a-s,v=l*l+c*c,x=p*p+m*m,y=Math.sqrt(v),g=Math.sqrt(h),b=o*Math.tan((ug-Math.acos((v+h-x)/(2*y*g)))/2),S=b/g,w=b/y;Math.abs(S-1)>Yo&&this._append`L${t+S*f},${r+S*d}`,this._append`A${o},${o},0,0,${+(d*p>f*m)},${this._x1=t+w*l},${this._y1=r+w*c}`}}arc(t,r,n,a,o,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),l=n*Math.sin(a),c=t+s,f=r+l,d=1^i,h=i?a-o:o-a;this._x1===null?this._append`M${c},${f}`:(Math.abs(this._x1-c)>Yo||Math.abs(this._y1-f)>Yo)&&this._append`L${c},${f}`,n&&(h<0&&(h=h%fg+fg),h>g$?this._append`A${n},${n},0,1,${d},${t-s},${r-l}A${n},${n},0,1,${d},${this._x1=c},${this._y1=f}`:h>Yo&&this._append`A${n},${n},0,${+(h>=ug)},${d},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Ly(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new y$(t)}function Iy(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Sj(e){this._context=e}Sj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function xh(e){return new Sj(e)}function jj(e){return e[0]}function Oj(e){return e[1]}function _j(e,t){var r=Ft(!0),n=null,a=xh,o=null,i=Ly(s);e=typeof e=="function"?e:e===void 0?jj:Ft(e),t=typeof t=="function"?t:t===void 0?Oj:Ft(t);function s(l){var c,f=(l=Iy(l)).length,d,h=!1,p;for(n==null&&(o=a(p=i())),c=0;c<=f;++c)!(c<f&&r(d=l[c],c,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(d,c,l),+t(d,c,l));if(p)return o=null,p+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Ft(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Ft(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Ft(!!l),s):r},s.curve=function(l){return arguments.length?(a=l,n!=null&&(o=a(n)),s):a},s.context=function(l){return arguments.length?(l==null?n=o=null:o=a(n=l),s):n},s}function Bu(e,t,r){var n=null,a=Ft(!0),o=null,i=xh,s=null,l=Ly(c);e=typeof e=="function"?e:e===void 0?jj:Ft(+e),t=typeof t=="function"?t:Ft(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?Oj:Ft(+r);function c(d){var h,p,m,v=(d=Iy(d)).length,x,y=!1,g,b=new Array(v),S=new Array(v);for(o==null&&(s=i(g=l())),h=0;h<=v;++h){if(!(h<v&&a(x=d[h],h,d))===y)if(y=!y)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=h-1;m>=p;--m)s.point(b[m],S[m]);s.lineEnd(),s.areaEnd()}y&&(b[h]=+e(x,h,d),S[h]=+t(x,h,d),s.point(n?+n(x,h,d):b[h],r?+r(x,h,d):S[h]))}if(g)return s=null,g+""||null}function f(){return _j().defined(a).curve(i).context(o)}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:Ft(+d),n=null,c):e},c.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Ft(+d),c):e},c.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Ft(+d),c):n},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:Ft(+d),r=null,c):t},c.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Ft(+d),c):t},c.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Ft(+d),c):r},c.lineX0=c.lineY0=function(){return f().x(e).y(t)},c.lineY1=function(){return f().x(e).y(r)},c.lineX1=function(){return f().x(n).y(t)},c.defined=function(d){return arguments.length?(a=typeof d=="function"?d:Ft(!!d),c):a},c.curve=function(d){return arguments.length?(i=d,o!=null&&(s=i(o)),c):i},c.context=function(d){return arguments.length?(d==null?o=s=null:s=i(o=d),c):o},c}class Pj{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function v$(e){return new Pj(e,!0)}function x$(e){return new Pj(e,!1)}const By={draw(e,t){const r=ba(t/Bf);e.moveTo(r,0),e.arc(0,0,r,0,vh)}},b$={draw(e,t){const r=ba(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Nj=ba(1/3),w$=Nj*2,k$={draw(e,t){const r=ba(t/w$),n=r*Nj;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},S$={draw(e,t){const r=ba(t),n=-r/2;e.rect(n,n,r,r)}},j$=.8908130915292852,Aj=If(Bf/10)/If(7*Bf/10),O$=If(vh/10)*Aj,_$=-wj(vh/10)*Aj,P$={draw(e,t){const r=ba(t*j$),n=O$*r,a=_$*r;e.moveTo(0,-r),e.lineTo(n,a);for(let o=1;o<5;++o){const i=vh*o/5,s=wj(i),l=If(i);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*a,l*n+s*a)}e.closePath()}},Ap=ba(3),N$={draw(e,t){const r=-ba(t/(Ap*3));e.moveTo(0,r*2),e.lineTo(-Ap*r,-r),e.lineTo(Ap*r,-r),e.closePath()}},Fn=-.5,zn=ba(3)/2,dg=1/ba(12),A$=(dg/2+1)*3,M$={draw(e,t){const r=ba(t/A$),n=r/2,a=r*dg,o=n,i=r*dg+r,s=-o,l=i;e.moveTo(n,a),e.lineTo(o,i),e.lineTo(s,l),e.lineTo(Fn*n-zn*a,zn*n+Fn*a),e.lineTo(Fn*o-zn*i,zn*o+Fn*i),e.lineTo(Fn*s-zn*l,zn*s+Fn*l),e.lineTo(Fn*n+zn*a,Fn*a-zn*n),e.lineTo(Fn*o+zn*i,Fn*i-zn*o),e.lineTo(Fn*s+zn*l,Fn*l-zn*s),e.closePath()}};function C$(e,t){let r=null,n=Ly(a);e=typeof e=="function"?e:Ft(e||By),t=typeof t=="function"?t:Ft(t===void 0?64:+t);function a(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return a.type=function(o){return arguments.length?(e=typeof o=="function"?o:Ft(o),a):e},a.size=function(o){return arguments.length?(t=typeof o=="function"?o:Ft(+o),a):t},a.context=function(o){return arguments.length?(r=o??null,a):r},a}function Ff(){}function zf(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Mj(e){this._context=e}Mj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function E$(e){return new Mj(e)}function Cj(e){this._context=e}Cj.prototype={areaStart:Ff,areaEnd:Ff,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:zf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function T$(e){return new Cj(e)}function Ej(e){this._context=e}Ej.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:zf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $$(e){return new Ej(e)}function Tj(e){this._context=e}Tj.prototype={areaStart:Ff,areaEnd:Ff,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function D$(e){return new Tj(e)}function ab(e){return e<0?-1:1}function ob(e,t,r){var n=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),s=(o*a+i*n)/(n+a);return(ab(o)+ab(i))*Math.min(Math.abs(o),Math.abs(i),.5*Math.abs(s))||0}function ib(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Mp(e,t,r){var n=e._x0,a=e._y0,o=e._x1,i=e._y1,s=(o-n)/3;e._context.bezierCurveTo(n+s,a+s*t,o-s,i-s*r,o,i)}function Wf(e){this._context=e}Wf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Mp(this,this._t0,ib(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Mp(this,ib(this,r=ob(this,e,t)),r);break;default:Mp(this,this._t0,r=ob(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function $j(e){this._context=new Dj(e)}($j.prototype=Object.create(Wf.prototype)).point=function(e,t){Wf.prototype.point.call(this,t,e)};function Dj(e){this._context=e}Dj.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,o){this._context.bezierCurveTo(t,e,n,r,o,a)}};function R$(e){return new Wf(e)}function L$(e){return new $j(e)}function Rj(e){this._context=e}Rj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=sb(e),a=sb(t),o=0,i=1;i<r;++o,++i)this._context.bezierCurveTo(n[0][o],a[0][o],n[1][o],a[1][o],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function sb(e){var t,r=e.length-1,n,a=new Array(r),o=new Array(r),i=new Array(r);for(a[0]=0,o[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,o[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,o[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/o[t-1],o[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/o[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/o[t];for(o[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-a[t+1];return[a,o]}function I$(e){return new Rj(e)}function bh(e,t){this._context=e,this._t=t}bh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function B$(e){return new bh(e,.5)}function F$(e){return new bh(e,0)}function z$(e){return new bh(e,1)}function ws(e,t){if((i=e.length)>1)for(var r=1,n,a,o=e[t[0]],i,s=o.length;r<i;++r)for(a=o,o=e[t[r]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function hg(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function W$(e,t){return e[t]}function U$(e){const t=[];return t.key=e,t}function G$(){var e=Ft([]),t=hg,r=ws,n=W$;function a(o){var i=Array.from(e.apply(this,arguments),U$),s,l=i.length,c=-1,f;for(const d of o)for(s=0,++c;s<l;++s)(i[s][c]=[0,+n(d,i[s].key,c,o)]).data=d;for(s=0,f=Iy(t(i));s<l;++s)i[f[s]].index=s;return r(i,f),i}return a.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Ft(Array.from(o)),a):e},a.value=function(o){return arguments.length?(n=typeof o=="function"?o:Ft(+o),a):n},a.order=function(o){return arguments.length?(t=o==null?hg:typeof o=="function"?o:Ft(Array.from(o)),a):t},a.offset=function(o){return arguments.length?(r=o??ws,a):r},a}function H$(e,t){if((n=e.length)>0){for(var r,n,a=0,o=e[0].length,i;a<o;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}ws(e,t)}}function V$(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,o=n.length;r<o;++r){for(var i=0,s=0;i<a;++i)s+=e[i][r][1]||0;n[r][1]+=n[r][0]=-s/2}ws(e,t)}}function K$(e,t){if(!(!((i=e.length)>0)||!((o=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,o,i;n<o;++n){for(var s=0,l=0,c=0;s<i;++s){for(var f=e[t[s]],d=f[n][1]||0,h=f[n-1][1]||0,p=(d-h)/2,m=0;m<s;++m){var v=e[t[m]],x=v[n][1]||0,y=v[n-1][1]||0;p+=x-y}l+=d,c+=p*d}a[n-1][1]+=a[n-1][0]=r,l&&(r-=c/l)}a[n-1][1]+=a[n-1][0]=r,ws(e,t)}}function bc(e){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bc(e)}var X$=["type","size","sizeType"];function pg(){return pg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pg.apply(this,arguments)}function lb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lb(Object(r),!0).forEach(function(n){Y$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y$(e,t,r){return t=q$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q$(e){var t=Z$(e,"string");return bc(t)=="symbol"?t:t+""}function Z$(e,t){if(bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q$(e,t){if(e==null)return{};var r=J$(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function J$(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Lj={symbolCircle:By,symbolCross:b$,symbolDiamond:k$,symbolSquare:S$,symbolStar:P$,symbolTriangle:N$,symbolWye:M$},e3=Math.PI/180,t3=function(t){var r="symbol".concat(yh(t));return Lj[r]||By},r3=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*e3;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},n3=function(t,r){Lj["symbol".concat(yh(t))]=r},wh=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,o=a===void 0?64:a,i=t.sizeType,s=i===void 0?"area":i,l=Q$(t,X$),c=cb(cb({},l),{},{type:n,size:o,sizeType:s}),f=function(){var x=t3(n),y=C$().type(x).size(r3(o,s,n));return y()},d=c.className,h=c.cx,p=c.cy,m=We(c,!0);return h===+h&&p===+p&&o===+o?M.createElement("path",pg({},m,{className:tt("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:f()})):null};wh.registerSymbol=n3;function ks(e){"@babel/helpers - typeof";return ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ks(e)}function gg(){return gg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gg.apply(this,arguments)}function ub(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function a3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ub(Object(r),!0).forEach(function(n){wc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ub(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Bj(n.key),n)}}function s3(e,t,r){return t&&i3(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function l3(e,t,r){return t=Uf(t),c3(e,Ij()?Reflect.construct(t,r||[],Uf(e).constructor):t.apply(e,r))}function c3(e,t){if(t&&(ks(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u3(e)}function u3(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ij(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ij=function(){return!!e})()}function Uf(e){return Uf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uf(e)}function f3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mg(e,t)}function mg(e,t){return mg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},mg(e,t)}function wc(e,t,r){return t=Bj(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bj(e){var t=d3(e,"string");return ks(t)=="symbol"?t:t+""}function d3(e,t){if(ks(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Wn=32,Fy=function(e){function t(){return o3(this,t),l3(this,t,arguments)}return f3(t,e),s3(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,o=Wn/2,i=Wn/6,s=Wn/3,l=n.inactive?a:n.color;if(n.type==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:Wn,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Wn,"M").concat(2*s,",").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return M.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Wn/8,"h").concat(Wn,"v").concat(Wn*3/4,"h").concat(-Wn,"z"),className:"recharts-legend-icon"});if(M.isValidElement(n.legendIcon)){var c=a3({},n);return delete c.legendIcon,M.cloneElement(n.legendIcon,c)}return M.createElement(wh,{fill:l,cx:o,cy:o,size:Wn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,o=a.payload,i=a.iconSize,s=a.layout,l=a.formatter,c=a.inactiveColor,f={x:0,y:0,width:Wn,height:Wn},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,m){var v=p.formatter||l,x=tt(wc(wc({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=He(p.value)?null:p.value;Ya(!He(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var g=p.inactive?c:p.color;return M.createElement("li",gg({className:x,style:d,key:"legend-item-".concat(m)},xc(n.props,p,m)),M.createElement(ig,{width:i,height:i,viewBox:f,style:h},n.renderIcon(p)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},v?v(y,p,m):y))})}},{key:"render",value:function(){var n=this.props,a=n.payload,o=n.layout,i=n.align;if(!a||!a.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?i:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(O.PureComponent);wc(Fy,"displayName","Legend");wc(Fy,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var h3=ah;function p3(){this.__data__=new h3,this.size=0}var g3=p3;function m3(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var y3=m3;function v3(e){return this.__data__.get(e)}var x3=v3;function b3(e){return this.__data__.has(e)}var w3=b3,k3=ah,S3=Ny,j3=Ay,O3=200;function _3(e,t){var r=this.__data__;if(r instanceof k3){var n=r.__data__;if(!S3||n.length<O3-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new j3(n)}return r.set(e,t),this.size=r.size,this}var P3=_3,N3=ah,A3=g3,M3=y3,C3=x3,E3=w3,T3=P3;function al(e){var t=this.__data__=new N3(e);this.size=t.size}al.prototype.clear=A3;al.prototype.delete=M3;al.prototype.get=C3;al.prototype.has=E3;al.prototype.set=T3;var Fj=al,$3="__lodash_hash_undefined__";function D3(e){return this.__data__.set(e,$3),this}var R3=D3;function L3(e){return this.__data__.has(e)}var I3=L3,B3=Ay,F3=R3,z3=I3;function Gf(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new B3;++t<r;)this.add(e[t])}Gf.prototype.add=Gf.prototype.push=F3;Gf.prototype.has=z3;var zj=Gf;function W3(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Wj=W3;function U3(e,t){return e.has(t)}var Uj=U3,G3=zj,H3=Wj,V3=Uj,K3=1,X3=2;function Y3(e,t,r,n,a,o){var i=r&K3,s=e.length,l=t.length;if(s!=l&&!(i&&l>s))return!1;var c=o.get(e),f=o.get(t);if(c&&f)return c==t&&f==e;var d=-1,h=!0,p=r&X3?new G3:void 0;for(o.set(e,t),o.set(t,e);++d<s;){var m=e[d],v=t[d];if(n)var x=i?n(v,m,d,t,e,o):n(m,v,d,e,t,o);if(x!==void 0){if(x)continue;h=!1;break}if(p){if(!H3(t,function(y,g){if(!V3(p,g)&&(m===y||a(m,y,r,n,o)))return p.push(g)})){h=!1;break}}else if(!(m===v||a(m,v,r,n,o))){h=!1;break}}return o.delete(e),o.delete(t),h}var Gj=Y3,q3=Da,Z3=q3.Uint8Array,Q3=Z3;function J3(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var e4=J3;function t4(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var zy=t4,fb=iu,db=Q3,r4=Py,n4=Gj,a4=e4,o4=zy,i4=1,s4=2,l4="[object Boolean]",c4="[object Date]",u4="[object Error]",f4="[object Map]",d4="[object Number]",h4="[object RegExp]",p4="[object Set]",g4="[object String]",m4="[object Symbol]",y4="[object ArrayBuffer]",v4="[object DataView]",hb=fb?fb.prototype:void 0,Cp=hb?hb.valueOf:void 0;function x4(e,t,r,n,a,o,i){switch(r){case v4:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case y4:return!(e.byteLength!=t.byteLength||!o(new db(e),new db(t)));case l4:case c4:case d4:return r4(+e,+t);case u4:return e.name==t.name&&e.message==t.message;case h4:case g4:return e==t+"";case f4:var s=a4;case p4:var l=n&i4;if(s||(s=o4),e.size!=t.size&&!l)return!1;var c=i.get(e);if(c)return c==t;n|=s4,i.set(e,t);var f=n4(s(e),s(t),n,a,o,i);return i.delete(e),f;case m4:if(Cp)return Cp.call(e)==Cp.call(t)}return!1}var b4=x4;function w4(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var Hj=w4,k4=Hj,S4=kn;function j4(e,t,r){var n=t(e);return S4(e)?n:k4(n,r(e))}var O4=j4;function _4(e,t){for(var r=-1,n=e==null?0:e.length,a=0,o=[];++r<n;){var i=e[r];t(i,r,e)&&(o[a++]=i)}return o}var P4=_4;function N4(){return[]}var A4=N4,M4=P4,C4=A4,E4=Object.prototype,T4=E4.propertyIsEnumerable,pb=Object.getOwnPropertySymbols,$4=pb?function(e){return e==null?[]:(e=Object(e),M4(pb(e),function(t){return T4.call(e,t)}))}:C4,D4=$4;function R4(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var L4=R4,I4=io,B4=so,F4="[object Arguments]";function z4(e){return B4(e)&&I4(e)==F4}var W4=z4,gb=W4,U4=so,Vj=Object.prototype,G4=Vj.hasOwnProperty,H4=Vj.propertyIsEnumerable,V4=gb(function(){return arguments}())?gb:function(e){return U4(e)&&G4.call(e,"callee")&&!H4.call(e,"callee")},Wy=V4,Hf={exports:{}};function K4(){return!1}var X4=K4;Hf.exports;(function(e,t){var r=Da,n=X4,a=t&&!t.nodeType&&t,o=a&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===a,s=i?r.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||n;e.exports=c})(Hf,Hf.exports);var Kj=Hf.exports,Y4=9007199254740991,q4=/^(?:0|[1-9]\d*)$/;function Z4(e,t){var r=typeof e;return t=t??Y4,!!t&&(r=="number"||r!="symbol"&&q4.test(e))&&e>-1&&e%1==0&&e<t}var Uy=Z4,Q4=9007199254740991;function J4(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Q4}var Gy=J4,eD=io,tD=Gy,rD=so,nD="[object Arguments]",aD="[object Array]",oD="[object Boolean]",iD="[object Date]",sD="[object Error]",lD="[object Function]",cD="[object Map]",uD="[object Number]",fD="[object Object]",dD="[object RegExp]",hD="[object Set]",pD="[object String]",gD="[object WeakMap]",mD="[object ArrayBuffer]",yD="[object DataView]",vD="[object Float32Array]",xD="[object Float64Array]",bD="[object Int8Array]",wD="[object Int16Array]",kD="[object Int32Array]",SD="[object Uint8Array]",jD="[object Uint8ClampedArray]",OD="[object Uint16Array]",_D="[object Uint32Array]",Gt={};Gt[vD]=Gt[xD]=Gt[bD]=Gt[wD]=Gt[kD]=Gt[SD]=Gt[jD]=Gt[OD]=Gt[_D]=!0;Gt[nD]=Gt[aD]=Gt[mD]=Gt[oD]=Gt[yD]=Gt[iD]=Gt[sD]=Gt[lD]=Gt[cD]=Gt[uD]=Gt[fD]=Gt[dD]=Gt[hD]=Gt[pD]=Gt[gD]=!1;function PD(e){return rD(e)&&tD(e.length)&&!!Gt[eD(e)]}var ND=PD;function AD(e){return function(t){return e(t)}}var Xj=AD,Vf={exports:{}};Vf.exports;(function(e,t){var r=tj,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===n,i=o&&r.process,s=function(){try{var l=a&&a.require&&a.require("util").types;return l||i&&i.binding&&i.binding("util")}catch{}}();e.exports=s})(Vf,Vf.exports);var MD=Vf.exports,CD=ND,ED=Xj,mb=MD,yb=mb&&mb.isTypedArray,TD=yb?ED(yb):CD,Yj=TD,$D=L4,DD=Wy,RD=kn,LD=Kj,ID=Uy,BD=Yj,FD=Object.prototype,zD=FD.hasOwnProperty;function WD(e,t){var r=RD(e),n=!r&&DD(e),a=!r&&!n&&LD(e),o=!r&&!n&&!a&&BD(e),i=r||n||a||o,s=i?$D(e.length,String):[],l=s.length;for(var c in e)(t||zD.call(e,c))&&!(i&&(c=="length"||a&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||ID(c,l)))&&s.push(c);return s}var UD=WD,GD=Object.prototype;function HD(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||GD;return e===r}var VD=HD;function KD(e,t){return function(r){return e(t(r))}}var qj=KD,XD=qj,YD=XD(Object.keys,Object),qD=YD,ZD=VD,QD=qD,JD=Object.prototype,eR=JD.hasOwnProperty;function tR(e){if(!ZD(e))return QD(e);var t=[];for(var r in Object(e))eR.call(e,r)&&r!="constructor"&&t.push(r);return t}var rR=tR,nR=_y,aR=Gy;function oR(e){return e!=null&&aR(e.length)&&!nR(e)}var su=oR,iR=UD,sR=rR,lR=su;function cR(e){return lR(e)?iR(e):sR(e)}var kh=cR,uR=O4,fR=D4,dR=kh;function hR(e){return uR(e,dR,fR)}var pR=hR,vb=pR,gR=1,mR=Object.prototype,yR=mR.hasOwnProperty;function vR(e,t,r,n,a,o){var i=r&gR,s=vb(e),l=s.length,c=vb(t),f=c.length;if(l!=f&&!i)return!1;for(var d=l;d--;){var h=s[d];if(!(i?h in t:yR.call(t,h)))return!1}var p=o.get(e),m=o.get(t);if(p&&m)return p==t&&m==e;var v=!0;o.set(e,t),o.set(t,e);for(var x=i;++d<l;){h=s[d];var y=e[h],g=t[h];if(n)var b=i?n(g,y,h,t,e,o):n(y,g,h,e,t,o);if(!(b===void 0?y===g||a(y,g,r,n,o):b)){v=!1;break}x||(x=h=="constructor")}if(v&&!x){var S=e.constructor,w=t.constructor;S!=w&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof w=="function"&&w instanceof w)&&(v=!1)}return o.delete(e),o.delete(t),v}var xR=vR,bR=Pi,wR=Da,kR=bR(wR,"DataView"),SR=kR,jR=Pi,OR=Da,_R=jR(OR,"Promise"),PR=_R,NR=Pi,AR=Da,MR=NR(AR,"Set"),Zj=MR,CR=Pi,ER=Da,TR=CR(ER,"WeakMap"),$R=TR,yg=SR,vg=Ny,xg=PR,bg=Zj,wg=$R,Qj=io,ol=nj,xb="[object Map]",DR="[object Object]",bb="[object Promise]",wb="[object Set]",kb="[object WeakMap]",Sb="[object DataView]",RR=ol(yg),LR=ol(vg),IR=ol(xg),BR=ol(bg),FR=ol(wg),qo=Qj;(yg&&qo(new yg(new ArrayBuffer(1)))!=Sb||vg&&qo(new vg)!=xb||xg&&qo(xg.resolve())!=bb||bg&&qo(new bg)!=wb||wg&&qo(new wg)!=kb)&&(qo=function(e){var t=Qj(e),r=t==DR?e.constructor:void 0,n=r?ol(r):"";if(n)switch(n){case RR:return Sb;case LR:return xb;case IR:return bb;case BR:return wb;case FR:return kb}return t});var zR=qo,Ep=Fj,WR=Gj,UR=b4,GR=xR,jb=zR,Ob=kn,_b=Kj,HR=Yj,VR=1,Pb="[object Arguments]",Nb="[object Array]",Fu="[object Object]",KR=Object.prototype,Ab=KR.hasOwnProperty;function XR(e,t,r,n,a,o){var i=Ob(e),s=Ob(t),l=i?Nb:jb(e),c=s?Nb:jb(t);l=l==Pb?Fu:l,c=c==Pb?Fu:c;var f=l==Fu,d=c==Fu,h=l==c;if(h&&_b(e)){if(!_b(t))return!1;i=!0,f=!1}if(h&&!f)return o||(o=new Ep),i||HR(e)?WR(e,t,r,n,a,o):UR(e,t,l,r,n,a,o);if(!(r&VR)){var p=f&&Ab.call(e,"__wrapped__"),m=d&&Ab.call(t,"__wrapped__");if(p||m){var v=p?e.value():e,x=m?t.value():t;return o||(o=new Ep),a(v,x,r,n,o)}}return h?(o||(o=new Ep),GR(e,t,r,n,a,o)):!1}var YR=XR,qR=YR,Mb=so;function Jj(e,t,r,n,a){return e===t?!0:e==null||t==null||!Mb(e)&&!Mb(t)?e!==e&&t!==t:qR(e,t,r,n,Jj,a)}var Hy=Jj,ZR=Fj,QR=Hy,JR=1,eL=2;function tL(e,t,r,n){var a=r.length,o=a,i=!n;if(e==null)return!o;for(e=Object(e);a--;){var s=r[a];if(i&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<o;){s=r[a];var l=s[0],c=e[l],f=s[1];if(i&&s[2]){if(c===void 0&&!(l in e))return!1}else{var d=new ZR;if(n)var h=n(c,f,l,e,t,d);if(!(h===void 0?QR(f,c,JR|eL,n,d):h))return!1}}return!0}var rL=tL,nL=Bo;function aL(e){return e===e&&!nL(e)}var eO=aL,oL=eO,iL=kh;function sL(e){for(var t=iL(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,oL(a)]}return t}var lL=sL;function cL(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var tO=cL,uL=rL,fL=lL,dL=tO;function hL(e){var t=fL(e);return t.length==1&&t[0][2]?dL(t[0][0],t[0][1]):function(r){return r===e||uL(r,e,t)}}var pL=hL;function gL(e,t){return e!=null&&t in Object(e)}var mL=gL,yL=lj,vL=Wy,xL=kn,bL=Uy,wL=Gy,kL=ih;function SL(e,t,r){t=yL(t,e);for(var n=-1,a=t.length,o=!1;++n<a;){var i=kL(t[n]);if(!(o=e!=null&&r(e,i)))break;e=e[i]}return o||++n!=a?o:(a=e==null?0:e.length,!!a&&wL(a)&&bL(i,a)&&(xL(e)||vL(e)))}var jL=SL,OL=mL,_L=jL;function PL(e,t){return e!=null&&_L(e,t,OL)}var NL=PL,AL=Hy,ML=cj,CL=NL,EL=Oy,TL=eO,$L=tO,DL=ih,RL=1,LL=2;function IL(e,t){return EL(e)&&TL(t)?$L(DL(e),t):function(r){var n=ML(r,e);return n===void 0&&n===t?CL(r,e):AL(t,n,RL|LL)}}var BL=IL;function FL(e){return e}var il=FL;function zL(e){return function(t){return t==null?void 0:t[e]}}var WL=zL,UL=Ey;function GL(e){return function(t){return UL(t,e)}}var HL=GL,VL=WL,KL=HL,XL=Oy,YL=ih;function qL(e){return XL(e)?VL(YL(e)):KL(e)}var ZL=qL,QL=pL,JL=BL,eI=il,tI=kn,rI=ZL;function nI(e){return typeof e=="function"?e:e==null?eI:typeof e=="object"?tI(e)?JL(e[0],e[1]):QL(e):rI(e)}var Fo=nI;function aI(e,t,r,n){for(var a=e.length,o=r+(n?1:-1);n?o--:++o<a;)if(t(e[o],o,e))return o;return-1}var rO=aI;function oI(e){return e!==e}var iI=oI;function sI(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var lI=sI,cI=rO,uI=iI,fI=lI;function dI(e,t,r){return t===t?fI(e,t,r):cI(e,uI,r)}var hI=dI,pI=hI;function gI(e,t){var r=e==null?0:e.length;return!!r&&pI(e,t,0)>-1}var mI=gI;function yI(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var vI=yI;function xI(){}var bI=xI,Tp=Zj,wI=bI,kI=zy,SI=1/0,jI=Tp&&1/kI(new Tp([,-0]))[1]==SI?function(e){return new Tp(e)}:wI,OI=jI,_I=zj,PI=mI,NI=vI,AI=Uj,MI=OI,CI=zy,EI=200;function TI(e,t,r){var n=-1,a=PI,o=e.length,i=!0,s=[],l=s;if(r)i=!1,a=NI;else if(o>=EI){var c=t?null:MI(e);if(c)return CI(c);i=!1,a=AI,l=new _I}else l=t?[]:s;e:for(;++n<o;){var f=e[n],d=t?t(f):f;if(f=r||f!==0?f:0,i&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),s.push(f)}else a(l,d,r)||(l!==s&&l.push(d),s.push(f))}return s}var $I=TI,DI=Fo,RI=$I;function LI(e,t){return e&&e.length?RI(e,DI(t)):[]}var II=LI;const Cb=Lt(II);function nO(e,t,r){return t===!0?Cb(e,r):He(t)?Cb(e,t):e}function Ss(e){"@babel/helpers - typeof";return Ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ss(e)}var BI=["ref"];function Eb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ba(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Eb(Object(r),!0).forEach(function(n){Sh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Eb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oO(n.key),n)}}function zI(e,t,r){return t&&Tb(e.prototype,t),r&&Tb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function WI(e,t,r){return t=Kf(t),UI(e,aO()?Reflect.construct(t,r||[],Kf(e).constructor):t.apply(e,r))}function UI(e,t){if(t&&(Ss(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GI(e)}function GI(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aO=function(){return!!e})()}function Kf(e){return Kf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kf(e)}function HI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kg(e,t)}function kg(e,t){return kg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kg(e,t)}function Sh(e,t,r){return t=oO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oO(e){var t=VI(e,"string");return Ss(t)=="symbol"?t:t+""}function VI(e,t){if(Ss(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ss(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function KI(e,t){if(e==null)return{};var r=XI(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function XI(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function YI(e){return e.value}function qI(e,t){if(M.isValidElement(e))return M.cloneElement(e,t);if(typeof e=="function")return M.createElement(e,t);t.ref;var r=KI(t,BI);return M.createElement(Fy,r)}var $b=1,qa=function(e){function t(){var r;FI(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=WI(this,t,[].concat(a)),Sh(r,"lastBoundingBox",{width:-1,height:-1}),r}return HI(t,e),zI(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>$b||Math.abs(a.height-this.lastBoundingBox.height)>$b)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ba({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,o=a.layout,i=a.align,s=a.verticalAlign,l=a.margin,c=a.chartWidth,f=a.chartHeight,d,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(i==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();d={left:((c||0)-p.width)/2}}else d=i==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var m=this.getBBoxSnapshot();h={top:((f||0)-m.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Ba(Ba({},d),h)}},{key:"render",value:function(){var n=this,a=this.props,o=a.content,i=a.width,s=a.height,l=a.wrapperStyle,c=a.payloadUniqBy,f=a.payload,d=Ba(Ba({position:"absolute",width:i||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return M.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){n.wrapperNode=p}},qI(o,Ba(Ba({},this.props),{},{payload:nO(f,c,YI)})))}}],[{key:"getWithHeight",value:function(n,a){var o=Ba(Ba({},this.defaultProps),n.props),i=o.layout;return i==="vertical"&&se(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||a}:null}}])}(O.PureComponent);Sh(qa,"displayName","Legend");Sh(qa,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Db=iu,ZI=Wy,QI=kn,Rb=Db?Db.isConcatSpreadable:void 0;function JI(e){return QI(e)||ZI(e)||!!(Rb&&e&&e[Rb])}var e6=JI,t6=Hj,r6=e6;function iO(e,t,r,n,a){var o=-1,i=e.length;for(r||(r=r6),a||(a=[]);++o<i;){var s=e[o];t>0&&r(s)?t>1?iO(s,t-1,r,n,a):t6(a,s):n||(a[a.length]=s)}return a}var sO=iO;function n6(e){return function(t,r,n){for(var a=-1,o=Object(t),i=n(t),s=i.length;s--;){var l=i[e?s:++a];if(r(o[l],l,o)===!1)break}return t}}var a6=n6,o6=a6,i6=o6(),s6=i6,l6=s6,c6=kh;function u6(e,t){return e&&l6(e,t,c6)}var lO=u6,f6=su;function d6(e,t){return function(r,n){if(r==null)return r;if(!f6(r))return e(r,n);for(var a=r.length,o=t?a:-1,i=Object(r);(t?o--:++o<a)&&n(i[o],o,i)!==!1;);return r}}var h6=d6,p6=lO,g6=h6,m6=g6(p6),Vy=m6,y6=Vy,v6=su;function x6(e,t){var r=-1,n=v6(e)?Array(e.length):[];return y6(e,function(a,o,i){n[++r]=t(a,o,i)}),n}var cO=x6;function b6(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var w6=b6,Lb=Qs;function k6(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,o=Lb(e),i=t!==void 0,s=t===null,l=t===t,c=Lb(t);if(!s&&!c&&!o&&e>t||o&&i&&l&&!s&&!c||n&&i&&l||!r&&l||!a)return 1;if(!n&&!o&&!c&&e<t||c&&r&&a&&!n&&!o||s&&r&&a||!i&&a||!l)return-1}return 0}var S6=k6,j6=S6;function O6(e,t,r){for(var n=-1,a=e.criteria,o=t.criteria,i=a.length,s=r.length;++n<i;){var l=j6(a[n],o[n]);if(l){if(n>=s)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return e.index-t.index}var _6=O6,$p=Cy,P6=Ey,N6=Fo,A6=cO,M6=w6,C6=Xj,E6=_6,T6=il,$6=kn;function D6(e,t,r){t.length?t=$p(t,function(o){return $6(o)?function(i){return P6(i,o.length===1?o[0]:o)}:o}):t=[T6];var n=-1;t=$p(t,C6(N6));var a=A6(e,function(o,i,s){var l=$p(t,function(c){return c(o)});return{criteria:l,index:++n,value:o}});return M6(a,function(o,i){return E6(o,i,r)})}var R6=D6;function L6(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var I6=L6,B6=I6,Ib=Math.max;function F6(e,t,r){return t=Ib(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,o=Ib(n.length-t,0),i=Array(o);++a<o;)i[a]=n[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=n[a];return s[t]=r(i),B6(e,this,s)}}var z6=F6;function W6(e){return function(){return e}}var U6=W6,G6=Pi,H6=function(){try{var e=G6(Object,"defineProperty");return e({},"",{}),e}catch{}}(),uO=H6,V6=U6,Bb=uO,K6=il,X6=Bb?function(e,t){return Bb(e,"toString",{configurable:!0,enumerable:!1,value:V6(t),writable:!0})}:K6,Y6=X6,q6=800,Z6=16,Q6=Date.now;function J6(e){var t=0,r=0;return function(){var n=Q6(),a=Z6-(n-r);if(r=n,a>0){if(++t>=q6)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var eB=J6,tB=Y6,rB=eB,nB=rB(tB),aB=nB,oB=il,iB=z6,sB=aB;function lB(e,t){return sB(iB(e,t,oB),e+"")}var cB=lB,uB=Py,fB=su,dB=Uy,hB=Bo;function pB(e,t,r){if(!hB(r))return!1;var n=typeof t;return(n=="number"?fB(r)&&dB(t,r.length):n=="string"&&t in r)?uB(r[t],e):!1}var jh=pB,gB=sO,mB=R6,yB=cB,Fb=jh,vB=yB(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Fb(e,t[0],t[1])?t=[]:r>2&&Fb(t[0],t[1],t[2])&&(t=[t[0]]),mB(e,gB(t,1),[])}),xB=vB;const Ky=Lt(xB);function kc(e){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kc(e)}function Sg(){return Sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sg.apply(this,arguments)}function bB(e,t){return jB(e)||SB(e,t)||kB(e,t)||wB()}function wB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kB(e,t){if(e){if(typeof e=="string")return zb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zb(e,t)}}function zb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function SB(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function jB(e){if(Array.isArray(e))return e}function Wb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wb(Object(r),!0).forEach(function(n){OB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OB(e,t,r){return t=_B(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _B(e){var t=PB(e,"string");return kc(t)=="symbol"?t:t+""}function PB(e,t){if(kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NB(e){return Array.isArray(e)&&Sr(e[0])&&Sr(e[1])?e.join(" ~ "):e}var AB=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,o=a===void 0?{}:a,i=t.itemStyle,s=i===void 0?{}:i,l=t.labelStyle,c=l===void 0?{}:l,f=t.payload,d=t.formatter,h=t.itemSorter,p=t.wrapperClassName,m=t.labelClassName,v=t.label,x=t.labelFormatter,y=t.accessibilityLayer,g=y===void 0?!1:y,b=function(){if(f&&f.length){var C={padding:0,margin:0},z=(h?Ky(f,h):f).map(function($,L){if($.type==="none")return null;var I=Dp({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},s),B=$.formatter||d||NB,R=$.value,T=$.name,G=R,ee=T;if(B&&G!=null&&ee!=null){var Y=B(R,T,$,L,f);if(Array.isArray(Y)){var K=bB(Y,2);G=K[0],ee=K[1]}else G=Y}return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:I},Sr(ee)?M.createElement("span",{className:"recharts-tooltip-item-name"},ee):null,Sr(ee)?M.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,M.createElement("span",{className:"recharts-tooltip-item-value"},G),M.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:C},z)}return null},S=Dp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),w=Dp({margin:0},c),k=!Fe(v),j=k?v:"",_=tt("recharts-default-tooltip",p),P=tt("recharts-tooltip-label",m);k&&x&&f!==void 0&&f!==null&&(j=x(v,f));var A=g?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",Sg({className:_,style:S},A),M.createElement("p",{className:P,style:w},M.isValidElement(j)?j:"".concat(j)),b())};function Sc(e){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sc(e)}function zu(e,t,r){return t=MB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MB(e){var t=CB(e,"string");return Sc(t)=="symbol"?t:t+""}function CB(e,t){if(Sc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ol="recharts-tooltip-wrapper",EB={visibility:"hidden"};function TB(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return tt(Ol,zu(zu(zu(zu({},"".concat(Ol,"-right"),se(r)&&t&&se(t.x)&&r>=t.x),"".concat(Ol,"-left"),se(r)&&t&&se(t.x)&&r<t.x),"".concat(Ol,"-bottom"),se(n)&&t&&se(t.y)&&n>=t.y),"".concat(Ol,"-top"),se(n)&&t&&se(t.y)&&n<t.y))}function Ub(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,o=e.position,i=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(o&&se(o[n]))return o[n];var f=r[n]-s-a,d=r[n]+a;if(t[n])return i[n]?f:d;if(i[n]){var h=f,p=l[n];return h<p?Math.max(d,l[n]):Math.max(f,l[n])}var m=d+s,v=l[n]+c;return m>v?Math.max(f,l[n]):Math.max(d,l[n])}function $B(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function DB(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,o=e.reverseDirection,i=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,c,f,d;return i.height>0&&i.width>0&&r?(f=Ub({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.width,viewBox:l,viewBoxDimension:l.width}),d=Ub({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.height,viewBox:l,viewBoxDimension:l.height}),c=$B({translateX:f,translateY:d,useTranslate3d:s})):c=EB,{cssProperties:c,cssClasses:TB({translateX:f,translateY:d,coordinate:r})}}function js(e){"@babel/helpers - typeof";return js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},js(e)}function Gb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gb(Object(r),!0).forEach(function(n){Og(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dO(n.key),n)}}function IB(e,t,r){return t&&LB(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BB(e,t,r){return t=Xf(t),FB(e,fO()?Reflect.construct(t,r||[],Xf(e).constructor):t.apply(e,r))}function FB(e,t){if(t&&(js(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zB(e)}function zB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fO=function(){return!!e})()}function Xf(e){return Xf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xf(e)}function WB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jg(e,t)}function jg(e,t){return jg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},jg(e,t)}function Og(e,t,r){return t=dO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dO(e){var t=UB(e,"string");return js(t)=="symbol"?t:t+""}function UB(e,t){if(js(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(js(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Vb=1,GB=function(e){function t(){var r;RB(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=BB(this,t,[].concat(a)),Og(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Og(r,"handleKeyDown",function(i){if(i.key==="Escape"){var s,l,c,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&c!==void 0?c:0}})}}),r}return WB(t,e),IB(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Vb||Math.abs(n.height-this.state.lastBoundingBox.height)>Vb)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,o=a.active,i=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,c=a.children,f=a.coordinate,d=a.hasPayload,h=a.isAnimationActive,p=a.offset,m=a.position,v=a.reverseDirection,x=a.useTranslate3d,y=a.viewBox,g=a.wrapperStyle,b=DB({allowEscapeViewBox:i,coordinate:f,offsetTopLeft:p,position:m,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:y}),S=b.cssClasses,w=b.cssProperties,k=Hb(Hb({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&d?"visible":"hidden",position:"absolute",top:0,left:0},g);return M.createElement("div",{tabIndex:-1,className:S,style:k,ref:function(_){n.wrapperNode=_}},c)}}])}(O.PureComponent),HB=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},zo={isSsr:HB()};function Os(e){"@babel/helpers - typeof";return Os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Os(e)}function Kb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kb(Object(r),!0).forEach(function(n){Xy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pO(n.key),n)}}function XB(e,t,r){return t&&KB(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function YB(e,t,r){return t=Yf(t),qB(e,hO()?Reflect.construct(t,r||[],Yf(e).constructor):t.apply(e,r))}function qB(e,t){if(t&&(Os(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZB(e)}function ZB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hO=function(){return!!e})()}function Yf(e){return Yf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yf(e)}function QB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_g(e,t)}function _g(e,t){return _g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_g(e,t)}function Xy(e,t,r){return t=pO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pO(e){var t=JB(e,"string");return Os(t)=="symbol"?t:t+""}function JB(e,t){if(Os(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Os(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function e8(e){return e.dataKey}function t8(e,t){return M.isValidElement(e)?M.cloneElement(e,t):typeof e=="function"?M.createElement(e,t):M.createElement(AB,t)}var an=function(e){function t(){return VB(this,t),YB(this,t,arguments)}return QB(t,e),XB(t,[{key:"render",value:function(){var n=this,a=this.props,o=a.active,i=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,c=a.content,f=a.coordinate,d=a.filterNull,h=a.isAnimationActive,p=a.offset,m=a.payload,v=a.payloadUniqBy,x=a.position,y=a.reverseDirection,g=a.useTranslate3d,b=a.viewBox,S=a.wrapperStyle,w=m??[];d&&w.length&&(w=nO(m.filter(function(j){return j.value!=null&&(j.hide!==!0||n.props.includeHidden)}),v,e8));var k=w.length>0;return M.createElement(GB,{allowEscapeViewBox:i,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:f,hasPayload:k,offset:p,position:x,reverseDirection:y,useTranslate3d:g,viewBox:b,wrapperStyle:S},t8(c,Xb(Xb({},this.props),{},{payload:w})))}}])}(O.PureComponent);Xy(an,"displayName","Tooltip");Xy(an,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!zo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var r8=Da,n8=function(){return r8.Date.now()},a8=n8,o8=/\s/;function i8(e){for(var t=e.length;t--&&o8.test(e.charAt(t)););return t}var s8=i8,l8=s8,c8=/^\s+/;function u8(e){return e&&e.slice(0,l8(e)+1).replace(c8,"")}var f8=u8,d8=f8,Yb=Bo,h8=Qs,qb=NaN,p8=/^[-+]0x[0-9a-f]+$/i,g8=/^0b[01]+$/i,m8=/^0o[0-7]+$/i,y8=parseInt;function v8(e){if(typeof e=="number")return e;if(h8(e))return qb;if(Yb(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Yb(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=d8(e);var r=g8.test(e);return r||m8.test(e)?y8(e.slice(2),r?2:8):p8.test(e)?qb:+e}var gO=v8,x8=Bo,Rp=a8,Zb=gO,b8="Expected a function",w8=Math.max,k8=Math.min;function S8(e,t,r){var n,a,o,i,s,l,c=0,f=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(b8);t=Zb(t)||0,x8(r)&&(f=!!r.leading,d="maxWait"in r,o=d?w8(Zb(r.maxWait)||0,t):o,h="trailing"in r?!!r.trailing:h);function p(k){var j=n,_=a;return n=a=void 0,c=k,i=e.apply(_,j),i}function m(k){return c=k,s=setTimeout(y,t),f?p(k):i}function v(k){var j=k-l,_=k-c,P=t-j;return d?k8(P,o-_):P}function x(k){var j=k-l,_=k-c;return l===void 0||j>=t||j<0||d&&_>=o}function y(){var k=Rp();if(x(k))return g(k);s=setTimeout(y,v(k))}function g(k){return s=void 0,h&&n?p(k):(n=a=void 0,i)}function b(){s!==void 0&&clearTimeout(s),c=0,n=l=a=s=void 0}function S(){return s===void 0?i:g(Rp())}function w(){var k=Rp(),j=x(k);if(n=arguments,a=this,l=k,j){if(s===void 0)return m(l);if(d)return clearTimeout(s),s=setTimeout(y,t),p(l)}return s===void 0&&(s=setTimeout(y,t)),i}return w.cancel=b,w.flush=S,w}var j8=S8,O8=j8,_8=Bo,P8="Expected a function";function N8(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(P8);return _8(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),O8(e,t,{leading:n,maxWait:t,trailing:a})}var A8=N8;const mO=Lt(A8);function jc(e){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jc(e)}function Qb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qb(Object(r),!0).forEach(function(n){M8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M8(e,t,r){return t=C8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C8(e){var t=E8(e,"string");return jc(t)=="symbol"?t:t+""}function E8(e,t){if(jc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T8(e,t){return L8(e)||R8(e,t)||D8(e,t)||$8()}function $8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D8(e,t){if(e){if(typeof e=="string")return Jb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jb(e,t)}}function Jb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function R8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function L8(e){if(Array.isArray(e))return e}var _s=O.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,o=e.width,i=o===void 0?"100%":o,s=e.height,l=s===void 0?"100%":s,c=e.minWidth,f=c===void 0?0:c,d=e.minHeight,h=e.maxHeight,p=e.children,m=e.debounce,v=m===void 0?0:m,x=e.id,y=e.className,g=e.onResize,b=e.style,S=b===void 0?{}:b,w=O.useRef(null),k=O.useRef();k.current=g,O.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var j=O.useState({containerWidth:a.width,containerHeight:a.height}),_=T8(j,2),P=_[0],A=_[1],N=O.useCallback(function(z,$){A(function(L){var I=Math.round(z),B=Math.round($);return L.containerWidth===I&&L.containerHeight===B?L:{containerWidth:I,containerHeight:B}})},[]);O.useEffect(function(){var z=function(T){var G,ee=T[0].contentRect,Y=ee.width,K=ee.height;N(Y,K),(G=k.current)===null||G===void 0||G.call(k,Y,K)};v>0&&(z=mO(z,v,{trailing:!0,leading:!1}));var $=new ResizeObserver(z),L=w.current.getBoundingClientRect(),I=L.width,B=L.height;return N(I,B),$.observe(w.current),function(){$.disconnect()}},[N,v]);var C=O.useMemo(function(){var z=P.containerWidth,$=P.containerHeight;if(z<0||$<0)return null;Ya(ti(i)||ti(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,l),Ya(!r||r>0,"The aspect(%s) must be greater than zero.",r);var L=ti(i)?z:i,I=ti(l)?$:l;r&&r>0&&(L?I=L/r:I&&(L=I*r),h&&I>h&&(I=h)),Ya(L>0||I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,I,i,l,f,d,r);var B=!Array.isArray(p)&&Xa(p.type).endsWith("Chart");return M.Children.map(p,function(R){return M.isValidElement(R)?O.cloneElement(R,Wu({width:L,height:I},B?{style:Wu({height:"100%",width:"100%",maxHeight:I,maxWidth:L},R.props.style)}:{})):R})},[r,p,l,h,d,f,P,i]);return M.createElement("div",{id:x?"".concat(x):void 0,className:tt("recharts-responsive-container",y),style:Wu(Wu({},S),{},{width:i,height:l,minWidth:f,minHeight:d,maxHeight:h}),ref:w},C)}),Yy=function(t){return null};Yy.displayName="Cell";function Oc(e){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oc(e)}function e1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e1(Object(r),!0).forEach(function(n){I8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I8(e,t,r){return t=B8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B8(e){var t=F8(e,"string");return Oc(t)=="symbol"?t:t+""}function F8(e,t){if(Oc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bi={widthCache:{},cacheCount:0},z8=2e3,W8={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},t1="recharts_measurement_span";function U8(e){var t=Pg({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Xl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||zo.isSsr)return{width:0,height:0};var n=U8(r),a=JSON.stringify({text:t,copyStyle:n});if(Bi.widthCache[a])return Bi.widthCache[a];try{var o=document.getElementById(t1);o||(o=document.createElement("span"),o.setAttribute("id",t1),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var i=Pg(Pg({},W8),n);Object.assign(o.style,i),o.textContent="".concat(t);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return Bi.widthCache[a]=l,++Bi.cacheCount>z8&&(Bi.cacheCount=0,Bi.widthCache={}),l}catch{return{width:0,height:0}}},G8=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function _c(e){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_c(e)}function qf(e,t){return X8(e)||K8(e,t)||V8(e,t)||H8()}function H8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V8(e,t){if(e){if(typeof e=="string")return r1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r1(e,t)}}function r1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function K8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function X8(e){if(Array.isArray(e))return e}function Y8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Z8(n.key),n)}}function q8(e,t,r){return t&&n1(e.prototype,t),r&&n1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Z8(e){var t=Q8(e,"string");return _c(t)=="symbol"?t:t+""}function Q8(e,t){if(_c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var a1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,o1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,J8=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,eF=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,yO={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},tF=Object.keys(yO),rs="NaN";function rF(e,t){return e*yO[t]}var Uu=function(){function e(t,r){Y8(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!J8.test(r)&&(this.num=NaN,this.unit=""),tF.includes(r)&&(this.num=rF(t,r),this.unit="px")}return q8(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=eF.exec(r))!==null&&n!==void 0?n:[],o=qf(a,3),i=o[1],s=o[2];return new e(parseFloat(i),s??"")}}])}();function vO(e){if(e.includes(rs))return rs;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=a1.exec(t))!==null&&r!==void 0?r:[],a=qf(n,4),o=a[1],i=a[2],s=a[3],l=Uu.parse(o??""),c=Uu.parse(s??""),f=i==="*"?l.multiply(c):l.divide(c);if(f.isNaN())return rs;t=t.replace(a1,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,h=(d=o1.exec(t))!==null&&d!==void 0?d:[],p=qf(h,4),m=p[1],v=p[2],x=p[3],y=Uu.parse(m??""),g=Uu.parse(x??""),b=v==="+"?y.add(g):y.subtract(g);if(b.isNaN())return rs;t=t.replace(o1,b.toString())}return t}var i1=/\(([^()]*)\)/;function nF(e){for(var t=e;t.includes("(");){var r=i1.exec(t),n=qf(r,2),a=n[1];t=t.replace(i1,vO(a))}return t}function aF(e){var t=e.replace(/\s+/g,"");return t=nF(t),t=vO(t),t}function oF(e){try{return aF(e)}catch{return rs}}function Lp(e){var t=oF(e.slice(5,-1));return t===rs?"":t}var iF=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],sF=["dx","dy","angle","className","breakAll"];function Ng(){return Ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ng.apply(this,arguments)}function s1(e,t){if(e==null)return{};var r=lF(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lF(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function l1(e,t){return dF(e)||fF(e,t)||uF(e,t)||cF()}function cF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uF(e,t){if(e){if(typeof e=="string")return c1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c1(e,t)}}function c1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fF(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function dF(e){if(Array.isArray(e))return e}var xO=/[ \f\n\r\t\v\u2028\u2029]+/,bO=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var o=[];Fe(r)||(n?o=r.toString().split(""):o=r.toString().split(xO));var i=o.map(function(l){return{word:l,width:Xl(l,a).width}}),s=n?0:Xl("",a).width;return{wordsWithComputedWidth:i,spaceWidth:s}}catch{return null}},hF=function(t,r,n,a,o){var i=t.maxLines,s=t.children,l=t.style,c=t.breakAll,f=se(i),d=s,h=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L.reduce(function(I,B){var R=B.word,T=B.width,G=I[I.length-1];if(G&&(a==null||o||G.width+T+n<Number(a)))G.words.push(R),G.width+=T+n;else{var ee={words:[R],width:T};I.push(ee)}return I},[])},p=h(r),m=function(L){return L.reduce(function(I,B){return I.width>B.width?I:B})};if(!f)return p;for(var v="",x=function(L){var I=d.slice(0,L),B=bO({breakAll:c,style:l,children:I+v}).wordsWithComputedWidth,R=h(B),T=R.length>i||m(R).width>Number(a);return[T,R]},y=0,g=d.length-1,b=0,S;y<=g&&b<=d.length-1;){var w=Math.floor((y+g)/2),k=w-1,j=x(k),_=l1(j,2),P=_[0],A=_[1],N=x(w),C=l1(N,1),z=C[0];if(!P&&!z&&(y=w+1),P&&z&&(g=w-1),!P&&z){S=A;break}b++}return S||p},u1=function(t){var r=Fe(t)?[]:t.toString().split(xO);return[{words:r}]},pF=function(t){var r=t.width,n=t.scaleToFit,a=t.children,o=t.style,i=t.breakAll,s=t.maxLines;if((r||n)&&!zo.isSsr){var l,c,f=bO({breakAll:i,children:a,style:o});if(f){var d=f.wordsWithComputedWidth,h=f.spaceWidth;l=d,c=h}else return u1(a);return hF({breakAll:i,children:a,maxLines:s,style:o},l,c,r,n)}return u1(a)},f1="#808080",Zf=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,o=a===void 0?0:a,i=t.lineHeight,s=i===void 0?"1em":i,l=t.capHeight,c=l===void 0?"0.71em":l,f=t.scaleToFit,d=f===void 0?!1:f,h=t.textAnchor,p=h===void 0?"start":h,m=t.verticalAnchor,v=m===void 0?"end":m,x=t.fill,y=x===void 0?f1:x,g=s1(t,iF),b=O.useMemo(function(){return pF({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:d,style:g.style,width:g.width})},[g.breakAll,g.children,g.maxLines,d,g.style,g.width]),S=g.dx,w=g.dy,k=g.angle,j=g.className,_=g.breakAll,P=s1(g,sF);if(!Sr(n)||!Sr(o))return null;var A=n+(se(S)?S:0),N=o+(se(w)?w:0),C;switch(v){case"start":C=Lp("calc(".concat(c,")"));break;case"middle":C=Lp("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:C=Lp("calc(".concat(b.length-1," * -").concat(s,")"));break}var z=[];if(d){var $=b[0].width,L=g.width;z.push("scale(".concat((se(L)?L/$:1)/$,")"))}return k&&z.push("rotate(".concat(k,", ").concat(A,", ").concat(N,")")),z.length&&(P.transform=z.join(" ")),M.createElement("text",Ng({},We(P,!0),{x:A,y:N,className:tt("recharts-text",j),textAnchor:p,fill:y.includes("url")?f1:y}),b.map(function(I,B){var R=I.words.join(_?"":" ");return M.createElement("tspan",{x:A,dy:B===0?C:s,key:"".concat(R,"-").concat(B)},R)}))};function To(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function gF(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function qy(e){let t,r,n;e.length!==2?(t=To,r=(s,l)=>To(e(s),l),n=(s,l)=>e(s)-l):(t=e===To||e===gF?e:mF,r=e,n=e);function a(s,l,c=0,f=s.length){if(c<f){if(t(l,l)!==0)return f;do{const d=c+f>>>1;r(s[d],l)<0?c=d+1:f=d}while(c<f)}return c}function o(s,l,c=0,f=s.length){if(c<f){if(t(l,l)!==0)return f;do{const d=c+f>>>1;r(s[d],l)<=0?c=d+1:f=d}while(c<f)}return c}function i(s,l,c=0,f=s.length){const d=a(s,l,c,f-1);return d>c&&n(s[d-1],l)>-n(s[d],l)?d-1:d}return{left:a,center:i,right:o}}function mF(){return 0}function wO(e){return e===null?NaN:+e}function*yF(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const vF=qy(To),lu=vF.right;qy(wO).center;class d1 extends Map{constructor(t,r=wF){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(h1(this,t))}has(t){return super.has(h1(this,t))}set(t,r){return super.set(xF(this,t),r)}delete(t){return super.delete(bF(this,t))}}function h1({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function xF({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function bF({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function wF(e){return e!==null&&typeof e=="object"?e.valueOf():e}function kF(e=To){if(e===To)return kO;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function kO(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const SF=Math.sqrt(50),jF=Math.sqrt(10),OF=Math.sqrt(2);function Qf(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),o=n/Math.pow(10,a),i=o>=SF?10:o>=jF?5:o>=OF?2:1;let s,l,c;return a<0?(c=Math.pow(10,-a)/i,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*i,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=r&&r<2?Qf(e,t,r*2):[s,l,c]}function Ag(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,o,i]=n?Qf(t,e,r):Qf(e,t,r);if(!(o>=a))return[];const s=o-a+1,l=new Array(s);if(n)if(i<0)for(let c=0;c<s;++c)l[c]=(o-c)/-i;else for(let c=0;c<s;++c)l[c]=(o-c)*i;else if(i<0)for(let c=0;c<s;++c)l[c]=(a+c)/-i;else for(let c=0;c<s;++c)l[c]=(a+c)*i;return l}function Mg(e,t,r){return t=+t,e=+e,r=+r,Qf(e,t,r)[2]}function Cg(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Mg(t,e,r):Mg(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function p1(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function g1(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function SO(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?kO:kF(a);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,f=Math.log(l),d=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*d*(l-d)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(t-c*d/l+h)),m=Math.min(n,Math.floor(t+(l-c)*d/l+h));SO(e,t,p,m,a)}const o=e[t];let i=r,s=n;for(_l(e,r,t),a(e[n],o)>0&&_l(e,r,n);i<s;){for(_l(e,i,s),++i,--s;a(e[i],o)<0;)++i;for(;a(e[s],o)>0;)--s}a(e[r],o)===0?_l(e,r,s):(++s,_l(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function _l(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function _F(e,t,r){if(e=Float64Array.from(yF(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return g1(e);if(t>=1)return p1(e);var n,a=(n-1)*t,o=Math.floor(a),i=p1(SO(e,o).subarray(0,o+1)),s=g1(e.subarray(o+1));return i+(s-i)*(a-o)}}function PF(e,t,r=wO){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,o=Math.floor(a),i=+r(e[o],o,e),s=+r(e[o+1],o+1,e);return i+(s-i)*(a-o)}}function NF(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(a);++n<a;)o[n]=e+n*r;return o}function ta(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function lo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Eg=Symbol("implicit");function Zy(){var e=new d1,t=[],r=[],n=Eg;function a(o){let i=e.get(o);if(i===void 0){if(n!==Eg)return n;e.set(o,i=t.push(o)-1)}return r[i%r.length]}return a.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new d1;for(const i of o)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(o){return arguments.length?(r=Array.from(o),a):r.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return Zy(t,r).unknown(n)},ta.apply(a,arguments),a}function Pc(){var e=Zy().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,o,i,s=!1,l=0,c=0,f=.5;delete e.unknown;function d(){var h=t().length,p=a<n,m=p?a:n,v=p?n:a;o=(v-m)/Math.max(1,h-l+c*2),s&&(o=Math.floor(o)),m+=(v-m-o*(h-l))*f,i=o*(1-l),s&&(m=Math.round(m),i=Math.round(i));var x=NF(h).map(function(y){return m+o*y});return r(p?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,d()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,s=!0,d()},e.bandwidth=function(){return i},e.step=function(){return o},e.round=function(h){return arguments.length?(s=!!h,d()):s},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),d()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},e.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),d()):f},e.copy=function(){return Pc(t(),[n,a]).round(s).paddingInner(l).paddingOuter(c).align(f)},ta.apply(d(),arguments)}function jO(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return jO(t())},e}function Yl(){return jO(Pc.apply(null,arguments).paddingInner(1))}function Qy(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function OO(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function cu(){}var Nc=.7,Jf=1/Nc,ds="\\s*([+-]?\\d+)\\s*",Ac="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ma="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",AF=/^#([0-9a-f]{3,8})$/,MF=new RegExp(`^rgb\\(${ds},${ds},${ds}\\)$`),CF=new RegExp(`^rgb\\(${Ma},${Ma},${Ma}\\)$`),EF=new RegExp(`^rgba\\(${ds},${ds},${ds},${Ac}\\)$`),TF=new RegExp(`^rgba\\(${Ma},${Ma},${Ma},${Ac}\\)$`),$F=new RegExp(`^hsl\\(${Ac},${Ma},${Ma}\\)$`),DF=new RegExp(`^hsla\\(${Ac},${Ma},${Ma},${Ac}\\)$`),m1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Qy(cu,Mc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:y1,formatHex:y1,formatHex8:RF,formatHsl:LF,formatRgb:v1,toString:v1});function y1(){return this.rgb().formatHex()}function RF(){return this.rgb().formatHex8()}function LF(){return _O(this).formatHsl()}function v1(){return this.rgb().formatRgb()}function Mc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=AF.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?x1(t):r===3?new yn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Gu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Gu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=MF.exec(e))?new yn(t[1],t[2],t[3],1):(t=CF.exec(e))?new yn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=EF.exec(e))?Gu(t[1],t[2],t[3],t[4]):(t=TF.exec(e))?Gu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=$F.exec(e))?k1(t[1],t[2]/100,t[3]/100,1):(t=DF.exec(e))?k1(t[1],t[2]/100,t[3]/100,t[4]):m1.hasOwnProperty(e)?x1(m1[e]):e==="transparent"?new yn(NaN,NaN,NaN,0):null}function x1(e){return new yn(e>>16&255,e>>8&255,e&255,1)}function Gu(e,t,r,n){return n<=0&&(e=t=r=NaN),new yn(e,t,r,n)}function IF(e){return e instanceof cu||(e=Mc(e)),e?(e=e.rgb(),new yn(e.r,e.g,e.b,e.opacity)):new yn}function Tg(e,t,r,n){return arguments.length===1?IF(e):new yn(e,t,r,n??1)}function yn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Qy(yn,Tg,OO(cu,{brighter(e){return e=e==null?Jf:Math.pow(Jf,e),new yn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Nc:Math.pow(Nc,e),new yn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new yn(ui(this.r),ui(this.g),ui(this.b),ed(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:b1,formatHex:b1,formatHex8:BF,formatRgb:w1,toString:w1}));function b1(){return`#${ri(this.r)}${ri(this.g)}${ri(this.b)}`}function BF(){return`#${ri(this.r)}${ri(this.g)}${ri(this.b)}${ri((isNaN(this.opacity)?1:this.opacity)*255)}`}function w1(){const e=ed(this.opacity);return`${e===1?"rgb(":"rgba("}${ui(this.r)}, ${ui(this.g)}, ${ui(this.b)}${e===1?")":`, ${e})`}`}function ed(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ui(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ri(e){return e=ui(e),(e<16?"0":"")+e.toString(16)}function k1(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new da(e,t,r,n)}function _O(e){if(e instanceof da)return new da(e.h,e.s,e.l,e.opacity);if(e instanceof cu||(e=Mc(e)),!e)return new da;if(e instanceof da)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),o=Math.max(t,r,n),i=NaN,s=o-a,l=(o+a)/2;return s?(t===o?i=(r-n)/s+(r<n)*6:r===o?i=(n-t)/s+2:i=(t-r)/s+4,s/=l<.5?o+a:2-o-a,i*=60):s=l>0&&l<1?0:i,new da(i,s,l,e.opacity)}function FF(e,t,r,n){return arguments.length===1?_O(e):new da(e,t,r,n??1)}function da(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Qy(da,FF,OO(cu,{brighter(e){return e=e==null?Jf:Math.pow(Jf,e),new da(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Nc:Math.pow(Nc,e),new da(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new yn(Ip(e>=240?e-240:e+120,a,n),Ip(e,a,n),Ip(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new da(S1(this.h),Hu(this.s),Hu(this.l),ed(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ed(this.opacity);return`${e===1?"hsl(":"hsla("}${S1(this.h)}, ${Hu(this.s)*100}%, ${Hu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function S1(e){return e=(e||0)%360,e<0?e+360:e}function Hu(e){return Math.max(0,Math.min(1,e||0))}function Ip(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Jy=e=>()=>e;function zF(e,t){return function(r){return e+r*t}}function WF(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function UF(e){return(e=+e)==1?PO:function(t,r){return r-t?WF(t,r,e):Jy(isNaN(t)?r:t)}}function PO(e,t){var r=t-e;return r?zF(e,r):Jy(isNaN(e)?t:e)}const j1=function e(t){var r=UF(t);function n(a,o){var i=r((a=Tg(a)).r,(o=Tg(o)).r),s=r(a.g,o.g),l=r(a.b,o.b),c=PO(a.opacity,o.opacity);return function(f){return a.r=i(f),a.g=s(f),a.b=l(f),a.opacity=c(f),a+""}}return n.gamma=e,n}(1);function GF(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(o){for(a=0;a<r;++a)n[a]=e[a]*(1-o)+t[a]*o;return n}}function HF(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function VF(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),o=new Array(r),i;for(i=0;i<n;++i)a[i]=sl(e[i],t[i]);for(;i<r;++i)o[i]=t[i];return function(s){for(i=0;i<n;++i)o[i]=a[i](s);return o}}function KF(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function td(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function XF(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=sl(e[a],t[a]):n[a]=t[a];return function(o){for(a in r)n[a]=r[a](o);return n}}var $g=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Bp=new RegExp($g.source,"g");function YF(e){return function(){return e}}function qF(e){return function(t){return e(t)+""}}function ZF(e,t){var r=$g.lastIndex=Bp.lastIndex=0,n,a,o,i=-1,s=[],l=[];for(e=e+"",t=t+"";(n=$g.exec(e))&&(a=Bp.exec(t));)(o=a.index)>r&&(o=t.slice(r,o),s[i]?s[i]+=o:s[++i]=o),(n=n[0])===(a=a[0])?s[i]?s[i]+=a:s[++i]=a:(s[++i]=null,l.push({i,x:td(n,a)})),r=Bp.lastIndex;return r<t.length&&(o=t.slice(r),s[i]?s[i]+=o:s[++i]=o),s.length<2?l[0]?qF(l[0].x):YF(t):(t=l.length,function(c){for(var f=0,d;f<t;++f)s[(d=l[f]).i]=d.x(c);return s.join("")})}function sl(e,t){var r=typeof t,n;return t==null||r==="boolean"?Jy(t):(r==="number"?td:r==="string"?(n=Mc(t))?(t=n,j1):ZF:t instanceof Mc?j1:t instanceof Date?KF:HF(t)?GF:Array.isArray(t)?VF:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?XF:td)(e,t)}function ev(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function QF(e,t){t===void 0&&(t=e,e=sl);for(var r=0,n=t.length-1,a=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(a,a=t[++r]);return function(i){var s=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return o[s](i-s)}}function JF(e){return function(){return e}}function rd(e){return+e}var O1=[0,1];function on(e){return e}function Dg(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:JF(isNaN(t)?NaN:.5)}function ez(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function tz(e,t,r){var n=e[0],a=e[1],o=t[0],i=t[1];return a<n?(n=Dg(a,n),o=r(i,o)):(n=Dg(n,a),o=r(o,i)),function(s){return o(n(s))}}function rz(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),o=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=Dg(e[i],e[i+1]),o[i]=r(t[i],t[i+1]);return function(s){var l=lu(e,s,1,n)-1;return o[l](a[l](s))}}function uu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Oh(){var e=O1,t=O1,r=sl,n,a,o,i=on,s,l,c;function f(){var h=Math.min(e.length,t.length);return i!==on&&(i=ez(e[0],e[h-1])),s=h>2?rz:tz,l=c=null,d}function d(h){return h==null||isNaN(h=+h)?o:(l||(l=s(e.map(n),t,r)))(n(i(h)))}return d.invert=function(h){return i(a((c||(c=s(t,e.map(n),td)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,rd),f()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),r=ev,f()},d.clamp=function(h){return arguments.length?(i=h?!0:on,f()):i!==on},d.interpolate=function(h){return arguments.length?(r=h,f()):r},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,p){return n=h,a=p,f()}}function tv(){return Oh()(on,on)}function nz(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function nd(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ps(e){return e=nd(Math.abs(e)),e?e[1]:NaN}function az(e,t){return function(r,n){for(var a=r.length,o=[],i=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),o.push(r.substring(a-=s,a+s)),!((l+=s+1)>n));)s=e[i=(i+1)%e.length];return o.reverse().join(t)}}function oz(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var iz=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Cc(e){if(!(t=iz.exec(e)))throw new Error("invalid format: "+e);var t;return new rv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Cc.prototype=rv.prototype;function rv(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}rv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function sz(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var NO;function lz(e,t){var r=nd(e,t);if(!r)return e+"";var n=r[0],a=r[1],o=a-(NO=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return o===i?n:o>i?n+new Array(o-i+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+nd(e,Math.max(0,t+o-1))[0]}function _1(e,t){var r=nd(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const P1={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:nz,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>_1(e*100,t),r:_1,s:lz,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function N1(e){return e}var A1=Array.prototype.map,M1=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function cz(e){var t=e.grouping===void 0||e.thousands===void 0?N1:az(A1.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?N1:oz(A1.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(d){d=Cc(d);var h=d.fill,p=d.align,m=d.sign,v=d.symbol,x=d.zero,y=d.width,g=d.comma,b=d.precision,S=d.trim,w=d.type;w==="n"?(g=!0,w="g"):P1[w]||(b===void 0&&(b=12),S=!0,w="g"),(x||h==="0"&&p==="=")&&(x=!0,h="0",p="=");var k=v==="$"?r:v==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",j=v==="$"?n:/[%p]/.test(w)?i:"",_=P1[w],P=/[defgprs%]/.test(w);b=b===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function A(N){var C=k,z=j,$,L,I;if(w==="c")z=_(N)+z,N="";else{N=+N;var B=N<0||1/N<0;if(N=isNaN(N)?l:_(Math.abs(N),b),S&&(N=sz(N)),B&&+N==0&&m!=="+"&&(B=!1),C=(B?m==="("?m:s:m==="-"||m==="("?"":m)+C,z=(w==="s"?M1[8+NO/3]:"")+z+(B&&m==="("?")":""),P){for($=-1,L=N.length;++$<L;)if(I=N.charCodeAt($),48>I||I>57){z=(I===46?a+N.slice($+1):N.slice($))+z,N=N.slice(0,$);break}}}g&&!x&&(N=t(N,1/0));var R=C.length+N.length+z.length,T=R<y?new Array(y-R+1).join(h):"";switch(g&&x&&(N=t(T+N,T.length?y-z.length:1/0),T=""),p){case"<":N=C+N+z+T;break;case"=":N=C+T+N+z;break;case"^":N=T.slice(0,R=T.length>>1)+C+N+z+T.slice(R);break;default:N=T+C+N+z;break}return o(N)}return A.toString=function(){return d+""},A}function f(d,h){var p=c((d=Cc(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(Ps(h)/3)))*3,v=Math.pow(10,-m),x=M1[8+m/3];return function(y){return p(v*y)+x}}return{format:c,formatPrefix:f}}var Vu,nv,AO;uz({thousands:",",grouping:[3],currency:["$",""]});function uz(e){return Vu=cz(e),nv=Vu.format,AO=Vu.formatPrefix,Vu}function fz(e){return Math.max(0,-Ps(Math.abs(e)))}function dz(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ps(t)/3)))*3-Ps(Math.abs(e)))}function hz(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ps(t)-Ps(e))+1}function MO(e,t,r,n){var a=Cg(e,t,r),o;switch(n=Cc(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=dz(a,i))&&(n.precision=o),AO(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=hz(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=fz(a))&&(n.precision=o-(n.type==="%")*2);break}}return nv(n)}function Wo(e){var t=e.domain;return e.ticks=function(r){var n=t();return Ag(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return MO(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,o=n.length-1,i=n[a],s=n[o],l,c,f=10;for(s<i&&(c=i,i=s,s=c,c=a,a=o,o=c);f-- >0;){if(c=Mg(i,s,r),c===l)return n[a]=i,n[o]=s,t(n);if(c>0)i=Math.floor(i/c)*c,s=Math.ceil(s/c)*c;else if(c<0)i=Math.ceil(i*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function ad(){var e=tv();return e.copy=function(){return uu(e,ad())},ta.apply(e,arguments),Wo(e)}function CO(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,rd),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return CO(e).unknown(t)},e=arguments.length?Array.from(e,rd):[0,1],Wo(r)}function EO(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],o=e[n],i;return o<a&&(i=r,r=n,n=i,i=a,a=o,o=i),e[r]=t.floor(a),e[n]=t.ceil(o),e}function C1(e){return Math.log(e)}function E1(e){return Math.exp(e)}function pz(e){return-Math.log(-e)}function gz(e){return-Math.exp(-e)}function mz(e){return isFinite(e)?+("1e"+e):e<0?0:e}function yz(e){return e===10?mz:e===Math.E?Math.exp:t=>Math.pow(e,t)}function vz(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function T1(e){return(t,r)=>-e(-t,r)}function av(e){const t=e(C1,E1),r=t.domain;let n=10,a,o;function i(){return a=vz(n),o=yz(n),r()[0]<0?(a=T1(a),o=T1(o),e(pz,gz)):e(C1,E1),t}return t.base=function(s){return arguments.length?(n=+s,i()):n},t.domain=function(s){return arguments.length?(r(s),i()):r()},t.ticks=s=>{const l=r();let c=l[0],f=l[l.length-1];const d=f<c;d&&([c,f]=[f,c]);let h=a(c),p=a(f),m,v;const x=s==null?10:+s;let y=[];if(!(n%1)&&p-h<x){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(m=1;m<n;++m)if(v=h<0?m/o(-h):m*o(h),!(v<c)){if(v>f)break;y.push(v)}}else for(;h<=p;++h)for(m=n-1;m>=1;--m)if(v=h>0?m/o(-h):m*o(h),!(v<c)){if(v>f)break;y.push(v)}y.length*2<x&&(y=Ag(c,f,x))}else y=Ag(h,p,Math.min(p-h,x)).map(o);return d?y.reverse():y},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Cc(l)).precision==null&&(l.trim=!0),l=nv(l)),s===1/0)return l;const c=Math.max(1,n*s/t.ticks().length);return f=>{let d=f/o(Math.round(a(f)));return d*n<n-.5&&(d*=n),d<=c?l(f):""}},t.nice=()=>r(EO(r(),{floor:s=>o(Math.floor(a(s))),ceil:s=>o(Math.ceil(a(s)))})),t}function TO(){const e=av(Oh()).domain([1,10]);return e.copy=()=>uu(e,TO()).base(e.base()),ta.apply(e,arguments),e}function $1(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function D1(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function ov(e){var t=1,r=e($1(t),D1(t));return r.constant=function(n){return arguments.length?e($1(t=+n),D1(t)):t},Wo(r)}function $O(){var e=ov(Oh());return e.copy=function(){return uu(e,$O()).constant(e.constant())},ta.apply(e,arguments)}function R1(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function xz(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function bz(e){return e<0?-e*e:e*e}function iv(e){var t=e(on,on),r=1;function n(){return r===1?e(on,on):r===.5?e(xz,bz):e(R1(r),R1(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Wo(t)}function sv(){var e=iv(Oh());return e.copy=function(){return uu(e,sv()).exponent(e.exponent())},ta.apply(e,arguments),e}function wz(){return sv.apply(null,arguments).exponent(.5)}function L1(e){return Math.sign(e)*e*e}function kz(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function DO(){var e=tv(),t=[0,1],r=!1,n;function a(o){var i=kz(e(o));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(o){return e.invert(L1(o))},a.domain=function(o){return arguments.length?(e.domain(o),a):e.domain()},a.range=function(o){return arguments.length?(e.range((t=Array.from(o,rd)).map(L1)),a):t.slice()},a.rangeRound=function(o){return a.range(o).round(!0)},a.round=function(o){return arguments.length?(r=!!o,a):r},a.clamp=function(o){return arguments.length?(e.clamp(o),a):e.clamp()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return DO(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ta.apply(a,arguments),Wo(a)}function RO(){var e=[],t=[],r=[],n;function a(){var i=0,s=Math.max(1,t.length);for(r=new Array(s-1);++i<s;)r[i-1]=PF(e,i/s);return o}function o(i){return i==null||isNaN(i=+i)?n:t[lu(r,i)]}return o.invertExtent=function(i){var s=t.indexOf(i);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},o.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let s of i)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(To),a()},o.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},o.unknown=function(i){return arguments.length?(n=i,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return RO().domain(e).range(t).unknown(n)},ta.apply(o,arguments)}function LO(){var e=0,t=1,r=1,n=[.5],a=[0,1],o;function i(l){return l!=null&&l<=l?a[lu(n,l,0,r)]:o}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return i}return i.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},i.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,s()):a.slice()},i.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},i.unknown=function(l){return arguments.length&&(o=l),i},i.thresholds=function(){return n.slice()},i.copy=function(){return LO().domain([e,t]).range(a).unknown(o)},ta.apply(Wo(i),arguments)}function IO(){var e=[.5],t=[0,1],r,n=1;function a(o){return o!=null&&o<=o?t[lu(e,o,0,n)]:r}return a.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(o){var i=t.indexOf(o);return[e[i-1],e[i]]},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return IO().domain(e).range(t).unknown(r)},ta.apply(a,arguments)}const Fp=new Date,zp=new Date;function Or(e,t,r,n){function a(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=o=>(e(o=new Date(+o)),o),a.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),a.round=o=>{const i=a(o),s=a.ceil(o);return o-i<s-o?i:s},a.offset=(o,i)=>(t(o=new Date(+o),i==null?1:Math.floor(i)),o),a.range=(o,i,s)=>{const l=[];if(o=a.ceil(o),s=s==null?1:Math.floor(s),!(o<i)||!(s>0))return l;let c;do l.push(c=new Date(+o)),t(o,s),e(o);while(c<o&&o<i);return l},a.filter=o=>Or(i=>{if(i>=i)for(;e(i),!o(i);)i.setTime(i-1)},(i,s)=>{if(i>=i)if(s<0)for(;++s<=0;)for(;t(i,-1),!o(i););else for(;--s>=0;)for(;t(i,1),!o(i););}),r&&(a.count=(o,i)=>(Fp.setTime(+o),zp.setTime(+i),e(Fp),e(zp),Math.floor(r(Fp,zp))),a.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(n?i=>n(i)%o===0:i=>a.count(0,i)%o===0):a)),a}const od=Or(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);od.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Or(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):od);od.range;const Ga=1e3,Kn=Ga*60,Ha=Kn*60,ro=Ha*24,lv=ro*7,I1=ro*30,Wp=ro*365,ni=Or(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ga)},(e,t)=>(t-e)/Ga,e=>e.getUTCSeconds());ni.range;const cv=Or(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ga)},(e,t)=>{e.setTime(+e+t*Kn)},(e,t)=>(t-e)/Kn,e=>e.getMinutes());cv.range;const uv=Or(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Kn)},(e,t)=>(t-e)/Kn,e=>e.getUTCMinutes());uv.range;const fv=Or(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ga-e.getMinutes()*Kn)},(e,t)=>{e.setTime(+e+t*Ha)},(e,t)=>(t-e)/Ha,e=>e.getHours());fv.range;const dv=Or(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ha)},(e,t)=>(t-e)/Ha,e=>e.getUTCHours());dv.range;const fu=Or(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Kn)/ro,e=>e.getDate()-1);fu.range;const _h=Or(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ro,e=>e.getUTCDate()-1);_h.range;const BO=Or(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ro,e=>Math.floor(e/ro));BO.range;function Ai(e){return Or(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Kn)/lv)}const Ph=Ai(0),id=Ai(1),Sz=Ai(2),jz=Ai(3),Ns=Ai(4),Oz=Ai(5),_z=Ai(6);Ph.range;id.range;Sz.range;jz.range;Ns.range;Oz.range;_z.range;function Mi(e){return Or(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/lv)}const Nh=Mi(0),sd=Mi(1),Pz=Mi(2),Nz=Mi(3),As=Mi(4),Az=Mi(5),Mz=Mi(6);Nh.range;sd.range;Pz.range;Nz.range;As.range;Az.range;Mz.range;const hv=Or(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());hv.range;const pv=Or(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());pv.range;const no=Or(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());no.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Or(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});no.range;const ao=Or(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ao.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Or(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ao.range;function FO(e,t,r,n,a,o){const i=[[ni,1,Ga],[ni,5,5*Ga],[ni,15,15*Ga],[ni,30,30*Ga],[o,1,Kn],[o,5,5*Kn],[o,15,15*Kn],[o,30,30*Kn],[a,1,Ha],[a,3,3*Ha],[a,6,6*Ha],[a,12,12*Ha],[n,1,ro],[n,2,2*ro],[r,1,lv],[t,1,I1],[t,3,3*I1],[e,1,Wp]];function s(c,f,d){const h=f<c;h&&([c,f]=[f,c]);const p=d&&typeof d.range=="function"?d:l(c,f,d),m=p?p.range(c,+f+1):[];return h?m.reverse():m}function l(c,f,d){const h=Math.abs(f-c)/d,p=qy(([,,x])=>x).right(i,h);if(p===i.length)return e.every(Cg(c/Wp,f/Wp,d));if(p===0)return od.every(Math.max(Cg(c,f,d),1));const[m,v]=i[h/i[p-1][2]<i[p][2]/h?p-1:p];return m.every(v)}return[s,l]}const[Cz,Ez]=FO(ao,pv,Nh,BO,dv,uv),[Tz,$z]=FO(no,hv,Ph,fu,fv,cv);function Up(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Gp(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Pl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Dz(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,o=e.days,i=e.shortDays,s=e.months,l=e.shortMonths,c=Nl(a),f=Al(a),d=Nl(o),h=Al(o),p=Nl(i),m=Al(i),v=Nl(s),x=Al(s),y=Nl(l),g=Al(l),b={a:B,A:R,b:T,B:G,c:null,d:G1,e:G1,f:a9,g:p9,G:m9,H:t9,I:r9,j:n9,L:zO,m:o9,M:i9,p:ee,q:Y,Q:K1,s:X1,S:s9,u:l9,U:c9,V:u9,w:f9,W:d9,x:null,X:null,y:h9,Y:g9,Z:y9,"%":V1},S={a:K,A:H,b:fe,B:ce,c:null,d:H1,e:H1,f:w9,g:C9,G:T9,H:v9,I:x9,j:b9,L:UO,m:k9,M:S9,p:Oe,q:Se,Q:K1,s:X1,S:j9,u:O9,U:_9,V:P9,w:N9,W:A9,x:null,X:null,y:M9,Y:E9,Z:$9,"%":V1},w={a:A,A:N,b:C,B:z,c:$,d:W1,e:W1,f:Zz,g:z1,G:F1,H:U1,I:U1,j:Kz,L:qz,m:Vz,M:Xz,p:P,q:Hz,Q:Jz,s:e9,S:Yz,u:Fz,U:zz,V:Wz,w:Bz,W:Uz,x:L,X:I,y:z1,Y:F1,Z:Gz,"%":Qz};b.x=k(r,b),b.X=k(n,b),b.c=k(t,b),S.x=k(r,S),S.X=k(n,S),S.c=k(t,S);function k(X,le){return function(ve){var W=[],je=-1,he=0,Ee=X.length,Ke,ut,It;for(ve instanceof Date||(ve=new Date(+ve));++je<Ee;)X.charCodeAt(je)===37&&(W.push(X.slice(he,je)),(ut=B1[Ke=X.charAt(++je)])!=null?Ke=X.charAt(++je):ut=Ke==="e"?" ":"0",(It=le[Ke])&&(Ke=It(ve,ut)),W.push(Ke),he=je+1);return W.push(X.slice(he,je)),W.join("")}}function j(X,le){return function(ve){var W=Pl(1900,void 0,1),je=_(W,X,ve+="",0),he,Ee;if(je!=ve.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(le&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(he=Gp(Pl(W.y,0,1)),Ee=he.getUTCDay(),he=Ee>4||Ee===0?sd.ceil(he):sd(he),he=_h.offset(he,(W.V-1)*7),W.y=he.getUTCFullYear(),W.m=he.getUTCMonth(),W.d=he.getUTCDate()+(W.w+6)%7):(he=Up(Pl(W.y,0,1)),Ee=he.getDay(),he=Ee>4||Ee===0?id.ceil(he):id(he),he=fu.offset(he,(W.V-1)*7),W.y=he.getFullYear(),W.m=he.getMonth(),W.d=he.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),Ee="Z"in W?Gp(Pl(W.y,0,1)).getUTCDay():Up(Pl(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(Ee+5)%7:W.w+W.U*7-(Ee+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,Gp(W)):Up(W)}}function _(X,le,ve,W){for(var je=0,he=le.length,Ee=ve.length,Ke,ut;je<he;){if(W>=Ee)return-1;if(Ke=le.charCodeAt(je++),Ke===37){if(Ke=le.charAt(je++),ut=w[Ke in B1?le.charAt(je++):Ke],!ut||(W=ut(X,ve,W))<0)return-1}else if(Ke!=ve.charCodeAt(W++))return-1}return W}function P(X,le,ve){var W=c.exec(le.slice(ve));return W?(X.p=f.get(W[0].toLowerCase()),ve+W[0].length):-1}function A(X,le,ve){var W=p.exec(le.slice(ve));return W?(X.w=m.get(W[0].toLowerCase()),ve+W[0].length):-1}function N(X,le,ve){var W=d.exec(le.slice(ve));return W?(X.w=h.get(W[0].toLowerCase()),ve+W[0].length):-1}function C(X,le,ve){var W=y.exec(le.slice(ve));return W?(X.m=g.get(W[0].toLowerCase()),ve+W[0].length):-1}function z(X,le,ve){var W=v.exec(le.slice(ve));return W?(X.m=x.get(W[0].toLowerCase()),ve+W[0].length):-1}function $(X,le,ve){return _(X,t,le,ve)}function L(X,le,ve){return _(X,r,le,ve)}function I(X,le,ve){return _(X,n,le,ve)}function B(X){return i[X.getDay()]}function R(X){return o[X.getDay()]}function T(X){return l[X.getMonth()]}function G(X){return s[X.getMonth()]}function ee(X){return a[+(X.getHours()>=12)]}function Y(X){return 1+~~(X.getMonth()/3)}function K(X){return i[X.getUTCDay()]}function H(X){return o[X.getUTCDay()]}function fe(X){return l[X.getUTCMonth()]}function ce(X){return s[X.getUTCMonth()]}function Oe(X){return a[+(X.getUTCHours()>=12)]}function Se(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var le=k(X+="",b);return le.toString=function(){return X},le},parse:function(X){var le=j(X+="",!1);return le.toString=function(){return X},le},utcFormat:function(X){var le=k(X+="",S);return le.toString=function(){return X},le},utcParse:function(X){var le=j(X+="",!0);return le.toString=function(){return X},le}}}var B1={"-":"",_:" ",0:"0"},Er=/^\s*\d+/,Rz=/^%/,Lz=/[\\^$*+?|[\]().{}]/g;function it(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",o=a.length;return n+(o<r?new Array(r-o+1).join(t)+a:a)}function Iz(e){return e.replace(Lz,"\\$&")}function Nl(e){return new RegExp("^(?:"+e.map(Iz).join("|")+")","i")}function Al(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Bz(e,t,r){var n=Er.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Fz(e,t,r){var n=Er.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function zz(e,t,r){var n=Er.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Wz(e,t,r){var n=Er.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Uz(e,t,r){var n=Er.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function F1(e,t,r){var n=Er.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function z1(e,t,r){var n=Er.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Gz(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Hz(e,t,r){var n=Er.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Vz(e,t,r){var n=Er.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function W1(e,t,r){var n=Er.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Kz(e,t,r){var n=Er.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function U1(e,t,r){var n=Er.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Xz(e,t,r){var n=Er.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Yz(e,t,r){var n=Er.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function qz(e,t,r){var n=Er.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Zz(e,t,r){var n=Er.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Qz(e,t,r){var n=Rz.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Jz(e,t,r){var n=Er.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function e9(e,t,r){var n=Er.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function G1(e,t){return it(e.getDate(),t,2)}function t9(e,t){return it(e.getHours(),t,2)}function r9(e,t){return it(e.getHours()%12||12,t,2)}function n9(e,t){return it(1+fu.count(no(e),e),t,3)}function zO(e,t){return it(e.getMilliseconds(),t,3)}function a9(e,t){return zO(e,t)+"000"}function o9(e,t){return it(e.getMonth()+1,t,2)}function i9(e,t){return it(e.getMinutes(),t,2)}function s9(e,t){return it(e.getSeconds(),t,2)}function l9(e){var t=e.getDay();return t===0?7:t}function c9(e,t){return it(Ph.count(no(e)-1,e),t,2)}function WO(e){var t=e.getDay();return t>=4||t===0?Ns(e):Ns.ceil(e)}function u9(e,t){return e=WO(e),it(Ns.count(no(e),e)+(no(e).getDay()===4),t,2)}function f9(e){return e.getDay()}function d9(e,t){return it(id.count(no(e)-1,e),t,2)}function h9(e,t){return it(e.getFullYear()%100,t,2)}function p9(e,t){return e=WO(e),it(e.getFullYear()%100,t,2)}function g9(e,t){return it(e.getFullYear()%1e4,t,4)}function m9(e,t){var r=e.getDay();return e=r>=4||r===0?Ns(e):Ns.ceil(e),it(e.getFullYear()%1e4,t,4)}function y9(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+it(t/60|0,"0",2)+it(t%60,"0",2)}function H1(e,t){return it(e.getUTCDate(),t,2)}function v9(e,t){return it(e.getUTCHours(),t,2)}function x9(e,t){return it(e.getUTCHours()%12||12,t,2)}function b9(e,t){return it(1+_h.count(ao(e),e),t,3)}function UO(e,t){return it(e.getUTCMilliseconds(),t,3)}function w9(e,t){return UO(e,t)+"000"}function k9(e,t){return it(e.getUTCMonth()+1,t,2)}function S9(e,t){return it(e.getUTCMinutes(),t,2)}function j9(e,t){return it(e.getUTCSeconds(),t,2)}function O9(e){var t=e.getUTCDay();return t===0?7:t}function _9(e,t){return it(Nh.count(ao(e)-1,e),t,2)}function GO(e){var t=e.getUTCDay();return t>=4||t===0?As(e):As.ceil(e)}function P9(e,t){return e=GO(e),it(As.count(ao(e),e)+(ao(e).getUTCDay()===4),t,2)}function N9(e){return e.getUTCDay()}function A9(e,t){return it(sd.count(ao(e)-1,e),t,2)}function M9(e,t){return it(e.getUTCFullYear()%100,t,2)}function C9(e,t){return e=GO(e),it(e.getUTCFullYear()%100,t,2)}function E9(e,t){return it(e.getUTCFullYear()%1e4,t,4)}function T9(e,t){var r=e.getUTCDay();return e=r>=4||r===0?As(e):As.ceil(e),it(e.getUTCFullYear()%1e4,t,4)}function $9(){return"+0000"}function V1(){return"%"}function K1(e){return+e}function X1(e){return Math.floor(+e/1e3)}var Fi,HO,VO;D9({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function D9(e){return Fi=Dz(e),HO=Fi.format,Fi.parse,VO=Fi.utcFormat,Fi.utcParse,Fi}function R9(e){return new Date(e)}function L9(e){return e instanceof Date?+e:+new Date(+e)}function gv(e,t,r,n,a,o,i,s,l,c){var f=tv(),d=f.invert,h=f.domain,p=c(".%L"),m=c(":%S"),v=c("%I:%M"),x=c("%I %p"),y=c("%a %d"),g=c("%b %d"),b=c("%B"),S=c("%Y");function w(k){return(l(k)<k?p:s(k)<k?m:i(k)<k?v:o(k)<k?x:n(k)<k?a(k)<k?y:g:r(k)<k?b:S)(k)}return f.invert=function(k){return new Date(d(k))},f.domain=function(k){return arguments.length?h(Array.from(k,L9)):h().map(R9)},f.ticks=function(k){var j=h();return e(j[0],j[j.length-1],k??10)},f.tickFormat=function(k,j){return j==null?w:c(j)},f.nice=function(k){var j=h();return(!k||typeof k.range!="function")&&(k=t(j[0],j[j.length-1],k??10)),k?h(EO(j,k)):f},f.copy=function(){return uu(f,gv(e,t,r,n,a,o,i,s,l,c))},f}function I9(){return ta.apply(gv(Tz,$z,no,hv,Ph,fu,fv,cv,ni,HO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function B9(){return ta.apply(gv(Cz,Ez,ao,pv,Nh,_h,dv,uv,ni,VO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ah(){var e=0,t=1,r,n,a,o,i=on,s=!1,l;function c(d){return d==null||isNaN(d=+d)?l:i(a===0?.5:(d=(o(d)-r)*a,s?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([e,t]=d,r=o(e=+e),n=o(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(d){return arguments.length?(s=!!d,c):s},c.interpolator=function(d){return arguments.length?(i=d,c):i};function f(d){return function(h){var p,m;return arguments.length?([p,m]=h,i=d(p,m),c):[i(0),i(1)]}}return c.range=f(sl),c.rangeRound=f(ev),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return o=d,r=d(e),n=d(t),a=r===n?0:1/(n-r),c}}function Uo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function KO(){var e=Wo(Ah()(on));return e.copy=function(){return Uo(e,KO())},lo.apply(e,arguments)}function XO(){var e=av(Ah()).domain([1,10]);return e.copy=function(){return Uo(e,XO()).base(e.base())},lo.apply(e,arguments)}function YO(){var e=ov(Ah());return e.copy=function(){return Uo(e,YO()).constant(e.constant())},lo.apply(e,arguments)}function mv(){var e=iv(Ah());return e.copy=function(){return Uo(e,mv()).exponent(e.exponent())},lo.apply(e,arguments)}function F9(){return mv.apply(null,arguments).exponent(.5)}function qO(){var e=[],t=on;function r(n){if(n!=null&&!isNaN(n=+n))return t((lu(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(To),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,o)=>_F(e,o/n))},r.copy=function(){return qO(t).domain(e)},lo.apply(r,arguments)}function Mh(){var e=0,t=.5,r=1,n=1,a,o,i,s,l,c=on,f,d=!1,h;function p(v){return isNaN(v=+v)?h:(v=.5+((v=+f(v))-o)*(n*v<n*o?s:l),c(d?Math.max(0,Math.min(1,v)):v))}p.domain=function(v){return arguments.length?([e,t,r]=v,a=f(e=+e),o=f(t=+t),i=f(r=+r),s=a===o?0:.5/(o-a),l=o===i?0:.5/(i-o),n=o<a?-1:1,p):[e,t,r]},p.clamp=function(v){return arguments.length?(d=!!v,p):d},p.interpolator=function(v){return arguments.length?(c=v,p):c};function m(v){return function(x){var y,g,b;return arguments.length?([y,g,b]=x,c=QF(v,[y,g,b]),p):[c(0),c(.5),c(1)]}}return p.range=m(sl),p.rangeRound=m(ev),p.unknown=function(v){return arguments.length?(h=v,p):h},function(v){return f=v,a=v(e),o=v(t),i=v(r),s=a===o?0:.5/(o-a),l=o===i?0:.5/(i-o),n=o<a?-1:1,p}}function ZO(){var e=Wo(Mh()(on));return e.copy=function(){return Uo(e,ZO())},lo.apply(e,arguments)}function QO(){var e=av(Mh()).domain([.1,1,10]);return e.copy=function(){return Uo(e,QO()).base(e.base())},lo.apply(e,arguments)}function JO(){var e=ov(Mh());return e.copy=function(){return Uo(e,JO()).constant(e.constant())},lo.apply(e,arguments)}function yv(){var e=iv(Mh());return e.copy=function(){return Uo(e,yv()).exponent(e.exponent())},lo.apply(e,arguments)}function z9(){return yv.apply(null,arguments).exponent(.5)}const Y1=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Pc,scaleDiverging:ZO,scaleDivergingLog:QO,scaleDivergingPow:yv,scaleDivergingSqrt:z9,scaleDivergingSymlog:JO,scaleIdentity:CO,scaleImplicit:Eg,scaleLinear:ad,scaleLog:TO,scaleOrdinal:Zy,scalePoint:Yl,scalePow:sv,scaleQuantile:RO,scaleQuantize:LO,scaleRadial:DO,scaleSequential:KO,scaleSequentialLog:XO,scaleSequentialPow:mv,scaleSequentialQuantile:qO,scaleSequentialSqrt:F9,scaleSequentialSymlog:YO,scaleSqrt:wz,scaleSymlog:$O,scaleThreshold:IO,scaleTime:I9,scaleUtc:B9,tickFormat:MO},Symbol.toStringTag,{value:"Module"}));var W9=Qs;function U9(e,t,r){for(var n=-1,a=e.length;++n<a;){var o=e[n],i=t(o);if(i!=null&&(s===void 0?i===i&&!W9(i):r(i,s)))var s=i,l=o}return l}var e_=U9;function G9(e,t){return e>t}var H9=G9,V9=e_,K9=H9,X9=il;function Y9(e){return e&&e.length?V9(e,X9,K9):void 0}var q9=Y9;const ko=Lt(q9);function Z9(e,t){return e<t}var Q9=Z9,J9=e_,e7=Q9,t7=il;function r7(e){return e&&e.length?J9(e,t7,e7):void 0}var n7=r7;const Ch=Lt(n7);var a7=Cy,o7=Fo,i7=cO,s7=kn;function l7(e,t){var r=s7(e)?a7:i7;return r(e,o7(t))}var c7=l7,u7=sO,f7=c7;function d7(e,t){return u7(f7(e,t),1)}var h7=d7;const p7=Lt(h7);var g7=Hy;function m7(e,t){return g7(e,t)}var y7=m7;const bi=Lt(y7);var ll=1e9,v7={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},xv,Xt=!0,Jn="[DecimalError] ",fi=Jn+"Invalid argument: ",vv=Jn+"Exponent out of range: ",cl=Math.floor,Zo=Math.pow,x7=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Cn,Ar=1e7,Ht=7,t_=9007199254740991,ld=cl(t_/Ht),ke={};ke.absoluteValue=ke.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ke.comparedTo=ke.cmp=function(e){var t,r,n,a,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===a?0:n>a^o.s<0?1:-1};ke.decimalPlaces=ke.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ht;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ke.dividedBy=ke.div=function(e){return Za(this,new this.constructor(e))};ke.dividedToIntegerBy=ke.idiv=function(e){var t=this,r=t.constructor;return Rt(Za(t,new r(e),0,1),r.precision)};ke.equals=ke.eq=function(e){return!this.cmp(e)};ke.exponent=function(){return gr(this)};ke.greaterThan=ke.gt=function(e){return this.cmp(e)>0};ke.greaterThanOrEqualTo=ke.gte=function(e){return this.cmp(e)>=0};ke.isInteger=ke.isint=function(){return this.e>this.d.length-2};ke.isNegative=ke.isneg=function(){return this.s<0};ke.isPositive=ke.ispos=function(){return this.s>0};ke.isZero=function(){return this.s===0};ke.lessThan=ke.lt=function(e){return this.cmp(e)<0};ke.lessThanOrEqualTo=ke.lte=function(e){return this.cmp(e)<1};ke.logarithm=ke.log=function(e){var t,r=this,n=r.constructor,a=n.precision,o=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Cn))throw Error(Jn+"NaN");if(r.s<1)throw Error(Jn+(r.s?"NaN":"-Infinity"));return r.eq(Cn)?new n(0):(Xt=!1,t=Za(Ec(r,o),Ec(e,o),o),Xt=!0,Rt(t,a))};ke.minus=ke.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?a_(t,e):r_(t,(e.s=-e.s,e))};ke.modulo=ke.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Jn+"NaN");return r.s?(Xt=!1,t=Za(r,e,0,1).times(e),Xt=!0,r.minus(t)):Rt(new n(r),a)};ke.naturalExponential=ke.exp=function(){return n_(this)};ke.naturalLogarithm=ke.ln=function(){return Ec(this)};ke.negated=ke.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ke.plus=ke.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?r_(t,e):a_(t,(e.s=-e.s,e))};ke.precision=ke.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(fi+e);if(t=gr(a)+1,n=a.d.length-1,r=n*Ht+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ke.squareRoot=ke.sqrt=function(){var e,t,r,n,a,o,i,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Jn+"NaN")}for(e=gr(s),Xt=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=_a(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=cl((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=i=r+3;;)if(o=n,n=o.plus(Za(s,o,i+2)).times(.5),_a(o.d).slice(0,i)===(t=_a(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if(Rt(o,r+1,0),o.times(o).eq(s)){n=o;break}}else if(t!="9999")break;i+=4}return Xt=!0,Rt(n,r)};ke.times=ke.mul=function(e){var t,r,n,a,o,i,s,l,c,f=this,d=f.constructor,h=f.d,p=(e=new d(e)).d;if(!f.s||!e.s)return new d(0);for(e.s*=f.s,r=f.e+e.e,l=h.length,c=p.length,l<c&&(o=h,h=p,p=o,i=l,l=c,c=i),o=[],i=l+c,n=i;n--;)o.push(0);for(n=c;--n>=0;){for(t=0,a=l+n;a>n;)s=o[a]+p[n]*h[a-n-1]+t,o[a--]=s%Ar|0,t=s/Ar|0;o[a]=(o[a]+t)%Ar|0}for(;!o[--i];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,Xt?Rt(e,d.precision):e};ke.toDecimalPlaces=ke.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ta(e,0,ll),t===void 0?t=n.rounding:Ta(t,0,8),Rt(r,e+gr(r)+1,t))};ke.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=wi(n,!0):(Ta(e,0,ll),t===void 0?t=a.rounding:Ta(t,0,8),n=Rt(new a(n),e+1,t),r=wi(n,!0,e+1)),r};ke.toFixed=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?wi(a):(Ta(e,0,ll),t===void 0?t=o.rounding:Ta(t,0,8),n=Rt(new o(a),e+gr(a)+1,t),r=wi(n.abs(),!1,e+gr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ke.toInteger=ke.toint=function(){var e=this,t=e.constructor;return Rt(new t(e),gr(e)+1,t.rounding)};ke.toNumber=function(){return+this};ke.toPower=ke.pow=function(e){var t,r,n,a,o,i,s=this,l=s.constructor,c=12,f=+(e=new l(e));if(!e.s)return new l(Cn);if(s=new l(s),!s.s){if(e.s<1)throw Error(Jn+"Infinity");return s}if(s.eq(Cn))return s;if(n=l.precision,e.eq(Cn))return Rt(s,n);if(t=e.e,r=e.d.length-1,i=t>=r,o=s.s,i){if((r=f<0?-f:f)<=t_){for(a=new l(Cn),t=Math.ceil(n/Ht+4),Xt=!1;r%2&&(a=a.times(s),Z1(a.d,t)),r=cl(r/2),r!==0;)s=s.times(s),Z1(s.d,t);return Xt=!0,e.s<0?new l(Cn).div(a):Rt(a,n)}}else if(o<0)throw Error(Jn+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,Xt=!1,a=e.times(Ec(s,n+c)),Xt=!0,a=n_(a),a.s=o,a};ke.toPrecision=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?(r=gr(a),n=wi(a,r<=o.toExpNeg||r>=o.toExpPos)):(Ta(e,1,ll),t===void 0?t=o.rounding:Ta(t,0,8),a=Rt(new o(a),e,t),r=gr(a),n=wi(a,e<=r||r<=o.toExpNeg,e)),n};ke.toSignificantDigits=ke.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ta(e,1,ll),t===void 0?t=n.rounding:Ta(t,0,8)),Rt(new n(r),e,t)};ke.toString=ke.valueOf=ke.val=ke.toJSON=ke[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=gr(e),r=e.constructor;return wi(e,t<=r.toExpNeg||t>=r.toExpPos)};function r_(e,t){var r,n,a,o,i,s,l,c,f=e.constructor,d=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),Xt?Rt(t,d):t;if(l=e.d,c=t.d,i=e.e,a=t.e,l=l.slice(),o=i-a,o){for(o<0?(n=l,o=-o,s=c.length):(n=c,a=i,s=l.length),i=Math.ceil(d/Ht),s=i>s?i+1:s+1,o>s&&(o=s,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(s=l.length,o=c.length,s-o<0&&(o=s,n=c,c=l,l=n),r=0;o;)r=(l[--o]=l[o]+c[o]+r)/Ar|0,l[o]%=Ar;for(r&&(l.unshift(r),++a),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=a,Xt?Rt(t,d):t}function Ta(e,t,r){if(e!==~~e||e<t||e>r)throw Error(fi+e)}function _a(e){var t,r,n,a=e.length-1,o="",i=e[0];if(a>0){for(o+=i,t=1;t<a;t++)n=e[t]+"",r=Ht-n.length,r&&(o+=mo(r)),o+=n;i=e[t],n=i+"",r=Ht-n.length,r&&(o+=mo(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return o+i}var Za=function(){function e(n,a){var o,i=0,s=n.length;for(n=n.slice();s--;)o=n[s]*a+i,n[s]=o%Ar|0,i=o/Ar|0;return i&&n.unshift(i),n}function t(n,a,o,i){var s,l;if(o!=i)l=o>i?1:-1;else for(s=l=0;s<o;s++)if(n[s]!=a[s]){l=n[s]>a[s]?1:-1;break}return l}function r(n,a,o){for(var i=0;o--;)n[o]-=i,i=n[o]<a[o]?1:0,n[o]=i*Ar+n[o]-a[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,o,i){var s,l,c,f,d,h,p,m,v,x,y,g,b,S,w,k,j,_,P=n.constructor,A=n.s==a.s?1:-1,N=n.d,C=a.d;if(!n.s)return new P(n);if(!a.s)throw Error(Jn+"Division by zero");for(l=n.e-a.e,j=C.length,w=N.length,p=new P(A),m=p.d=[],c=0;C[c]==(N[c]||0);)++c;if(C[c]>(N[c]||0)&&--l,o==null?g=o=P.precision:i?g=o+(gr(n)-gr(a))+1:g=o,g<0)return new P(0);if(g=g/Ht+2|0,c=0,j==1)for(f=0,C=C[0],g++;(c<w||f)&&g--;c++)b=f*Ar+(N[c]||0),m[c]=b/C|0,f=b%C|0;else{for(f=Ar/(C[0]+1)|0,f>1&&(C=e(C,f),N=e(N,f),j=C.length,w=N.length),S=j,v=N.slice(0,j),x=v.length;x<j;)v[x++]=0;_=C.slice(),_.unshift(0),k=C[0],C[1]>=Ar/2&&++k;do f=0,s=t(C,v,j,x),s<0?(y=v[0],j!=x&&(y=y*Ar+(v[1]||0)),f=y/k|0,f>1?(f>=Ar&&(f=Ar-1),d=e(C,f),h=d.length,x=v.length,s=t(d,v,h,x),s==1&&(f--,r(d,j<h?_:C,h))):(f==0&&(s=f=1),d=C.slice()),h=d.length,h<x&&d.unshift(0),r(v,d,x),s==-1&&(x=v.length,s=t(C,v,j,x),s<1&&(f++,r(v,j<x?_:C,x))),x=v.length):s===0&&(f++,v=[0]),m[c++]=f,s&&v[0]?v[x++]=N[S]||0:(v=[N[S]],x=1);while((S++<w||v[0]!==void 0)&&g--)}return m[0]||m.shift(),p.e=l,Rt(p,i?o+gr(p)+1:o)}}();function n_(e,t){var r,n,a,o,i,s,l=0,c=0,f=e.constructor,d=f.precision;if(gr(e)>16)throw Error(vv+gr(e));if(!e.s)return new f(Cn);for(Xt=!1,s=d,i=new f(.03125);e.abs().gte(.1);)e=e.times(i),c+=5;for(n=Math.log(Zo(2,c))/Math.LN10*2+5|0,s+=n,r=a=o=new f(Cn),f.precision=s;;){if(a=Rt(a.times(e),s),r=r.times(++l),i=o.plus(Za(a,r,s)),_a(i.d).slice(0,s)===_a(o.d).slice(0,s)){for(;c--;)o=Rt(o.times(o),s);return f.precision=d,t==null?(Xt=!0,Rt(o,d)):o}o=i}}function gr(e){for(var t=e.e*Ht,r=e.d[0];r>=10;r/=10)t++;return t}function Hp(e,t,r){if(t>e.LN10.sd())throw Xt=!0,r&&(e.precision=r),Error(Jn+"LN10 precision limit exceeded");return Rt(new e(e.LN10),t)}function mo(e){for(var t="";e--;)t+="0";return t}function Ec(e,t){var r,n,a,o,i,s,l,c,f,d=1,h=10,p=e,m=p.d,v=p.constructor,x=v.precision;if(p.s<1)throw Error(Jn+(p.s?"NaN":"-Infinity"));if(p.eq(Cn))return new v(0);if(t==null?(Xt=!1,c=x):c=t,p.eq(10))return t==null&&(Xt=!0),Hp(v,c);if(c+=h,v.precision=c,r=_a(m),n=r.charAt(0),o=gr(p),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=_a(p.d),n=r.charAt(0),d++;o=gr(p),n>1?(p=new v("0."+r),o++):p=new v(n+"."+r.slice(1))}else return l=Hp(v,c+2,x).times(o+""),p=Ec(new v(n+"."+r.slice(1)),c-h).plus(l),v.precision=x,t==null?(Xt=!0,Rt(p,x)):p;for(s=i=p=Za(p.minus(Cn),p.plus(Cn),c),f=Rt(p.times(p),c),a=3;;){if(i=Rt(i.times(f),c),l=s.plus(Za(i,new v(a),c)),_a(l.d).slice(0,c)===_a(s.d).slice(0,c))return s=s.times(2),o!==0&&(s=s.plus(Hp(v,c+2,x).times(o+""))),s=Za(s,new v(d),c),v.precision=x,t==null?(Xt=!0,Rt(s,x)):s;s=l,a+=2}}function q1(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=cl(r/Ht),e.d=[],n=(r+1)%Ht,r<0&&(n+=Ht),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Ht;n<a;)e.d.push(+t.slice(n,n+=Ht));t=t.slice(n),n=Ht-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Xt&&(e.e>ld||e.e<-ld))throw Error(vv+r)}else e.s=0,e.e=0,e.d=[0];return e}function Rt(e,t,r){var n,a,o,i,s,l,c,f,d=e.d;for(i=1,o=d[0];o>=10;o/=10)i++;if(n=t-i,n<0)n+=Ht,a=t,c=d[f=0];else{if(f=Math.ceil((n+1)/Ht),o=d.length,f>=o)return e;for(c=o=d[f],i=1;o>=10;o/=10)i++;n%=Ht,a=n-Ht+i}if(r!==void 0&&(o=Zo(10,i-a-1),s=c/o%10|0,l=t<0||d[f+1]!==void 0||c%o,l=r<4?(s||l)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?a>0?c/Zo(10,i-a):0:d[f-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return l?(o=gr(e),d.length=1,t=t-o-1,d[0]=Zo(10,(Ht-t%Ht)%Ht),e.e=cl(-t/Ht)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=f,o=1,f--):(d.length=f+1,o=Zo(10,Ht-n),d[f]=a>0?(c/Zo(10,i-a)%Zo(10,a)|0)*o:0),l)for(;;)if(f==0){(d[0]+=o)==Ar&&(d[0]=1,++e.e);break}else{if(d[f]+=o,d[f]!=Ar)break;d[f--]=0,o=1}for(n=d.length;d[--n]===0;)d.pop();if(Xt&&(e.e>ld||e.e<-ld))throw Error(vv+gr(e));return e}function a_(e,t){var r,n,a,o,i,s,l,c,f,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Xt?Rt(t,p):t;if(l=e.d,d=t.d,n=t.e,c=e.e,l=l.slice(),i=c-n,i){for(f=i<0,f?(r=l,i=-i,s=d.length):(r=d,n=c,s=l.length),a=Math.max(Math.ceil(p/Ht),s)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=l.length,s=d.length,f=a<s,f&&(s=a),a=0;a<s;a++)if(l[a]!=d[a]){f=l[a]<d[a];break}i=0}for(f&&(r=l,l=d,d=r,t.s=-t.s),s=l.length,a=d.length-s;a>0;--a)l[s++]=0;for(a=d.length;a>i;){if(l[--a]<d[a]){for(o=a;o&&l[--o]===0;)l[o]=Ar-1;--l[o],l[a]+=Ar}l[a]-=d[a]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Xt?Rt(t,p):t):new h(0)}function wi(e,t,r){var n,a=gr(e),o=_a(e.d),i=o.length;return t?(r&&(n=r-i)>0?o=o.charAt(0)+"."+o.slice(1)+mo(n):i>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+mo(-a-1)+o,r&&(n=r-i)>0&&(o+=mo(n))):a>=i?(o+=mo(a+1-i),r&&(n=r-a-1)>0&&(o=o+"."+mo(n))):((n=a+1)<i&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(o+="."),o+=mo(n))),e.s<0?"-"+o:o}function Z1(e,t){if(e.length>t)return e.length=t,!0}function o_(e){var t,r,n;function a(o){var i=this;if(!(i instanceof a))return new a(o);if(i.constructor=a,o instanceof a){i.s=o.s,i.e=o.e,i.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(fi+o);if(o>0)i.s=1;else if(o<0)o=-o,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(o===~~o&&o<1e7){i.e=0,i.d=[o];return}return q1(i,o.toString())}else if(typeof o!="string")throw Error(fi+o);if(o.charCodeAt(0)===45?(o=o.slice(1),i.s=-1):i.s=1,x7.test(o))q1(i,o);else throw Error(fi+o)}if(a.prototype=ke,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=o_,a.config=a.set=b7,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function b7(e){if(!e||typeof e!="object")throw Error(Jn+"Object expected");var t,r,n,a=["precision",1,ll,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(cl(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(fi+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(fi+r+": "+n);return this}var xv=o_(v7);Cn=new xv(1);const Nt=xv;function w7(e){return O7(e)||j7(e)||S7(e)||k7()}function k7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S7(e,t){if(e){if(typeof e=="string")return Rg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rg(e,t)}}function j7(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function O7(e){if(Array.isArray(e))return Rg(e)}function Rg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var _7=function(t){return t},i_={},s_=function(t){return t===i_},Q1=function(t){return function r(){return arguments.length===0||arguments.length===1&&s_(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},P7=function e(t,r){return t===1?r:Q1(function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];var i=a.filter(function(s){return s!==i_}).length;return i>=t?r.apply(void 0,a):e(t-i,Q1(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var f=a.map(function(d){return s_(d)?l.shift():d});return r.apply(void 0,w7(f).concat(l))}))})},Eh=function(t){return P7(t.length,t)},Lg=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},N7=Eh(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),A7=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return _7;var a=r.reverse(),o=a[0],i=a.slice(1);return function(){return i.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},Ig=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},l_=function(t){var r=null,n=null;return function(){for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return r&&o.every(function(s,l){return s===r[l]})||(r=o,n=t.apply(void 0,o)),n}};function M7(e){var t;return e===0?t=1:t=Math.floor(new Nt(e).abs().log(10).toNumber())+1,t}function C7(e,t,r){for(var n=new Nt(e),a=0,o=[];n.lt(t)&&a<1e5;)o.push(n.toNumber()),n=n.add(r),a++;return o}var E7=Eh(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),T7=Eh(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),$7=Eh(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Th={rangeStep:C7,getDigitCount:M7,interpolateNumber:E7,uninterpolateNumber:T7,uninterpolateTruncation:$7};function Bg(e){return L7(e)||R7(e)||c_(e)||D7()}function D7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R7(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function L7(e){if(Array.isArray(e))return Fg(e)}function Tc(e,t){return F7(e)||B7(e,t)||c_(e,t)||I7()}function I7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c_(e,t){if(e){if(typeof e=="string")return Fg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fg(e,t)}}function Fg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function B7(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,o=void 0;try{for(var i=e[Symbol.iterator](),s;!(n=(s=i.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(l){a=!0,o=l}finally{try{!n&&i.return!=null&&i.return()}finally{if(a)throw o}}return r}}function F7(e){if(Array.isArray(e))return e}function u_(e){var t=Tc(e,2),r=t[0],n=t[1],a=r,o=n;return r>n&&(a=n,o=r),[a,o]}function f_(e,t,r){if(e.lte(0))return new Nt(0);var n=Th.getDigitCount(e.toNumber()),a=new Nt(10).pow(n),o=e.div(a),i=n!==1?.05:.1,s=new Nt(Math.ceil(o.div(i).toNumber())).add(r).mul(i),l=s.mul(a);return t?l:new Nt(Math.ceil(l))}function z7(e,t,r){var n=1,a=new Nt(e);if(!a.isint()&&r){var o=Math.abs(e);o<1?(n=new Nt(10).pow(Th.getDigitCount(e)-1),a=new Nt(Math.floor(a.div(n).toNumber())).mul(n)):o>1&&(a=new Nt(Math.floor(e)))}else e===0?a=new Nt(Math.floor((t-1)/2)):r||(a=new Nt(Math.floor(e)));var i=Math.floor((t-1)/2),s=A7(N7(function(l){return a.add(new Nt(l-i).mul(n)).toNumber()}),Lg);return s(0,t)}function d_(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Nt(0),tickMin:new Nt(0),tickMax:new Nt(0)};var o=f_(new Nt(t).sub(e).div(r-1),n,a),i;e<=0&&t>=0?i=new Nt(0):(i=new Nt(e).add(t).div(2),i=i.sub(new Nt(i).mod(o)));var s=Math.ceil(i.sub(e).div(o).toNumber()),l=Math.ceil(new Nt(t).sub(i).div(o).toNumber()),c=s+l+1;return c>r?d_(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,s=t>0?s:s+(r-c)),{step:o,tickMin:i.sub(new Nt(s).mul(o)),tickMax:i.add(new Nt(l).mul(o))})}function W7(e){var t=Tc(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),s=u_([r,n]),l=Tc(s,2),c=l[0],f=l[1];if(c===-1/0||f===1/0){var d=f===1/0?[c].concat(Bg(Lg(0,a-1).map(function(){return 1/0}))):[].concat(Bg(Lg(0,a-1).map(function(){return-1/0})),[f]);return r>n?Ig(d):d}if(c===f)return z7(c,a,o);var h=d_(c,f,i,o),p=h.step,m=h.tickMin,v=h.tickMax,x=Th.rangeStep(m,v.add(new Nt(.1).mul(p)),p);return r>n?Ig(x):x}function U7(e,t){var r=Tc(e,2),n=r[0],a=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=u_([n,a]),s=Tc(i,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,a];if(l===c)return[l];var f=Math.max(t,2),d=f_(new Nt(c).sub(l).div(f-1),o,0),h=[].concat(Bg(Th.rangeStep(new Nt(l),new Nt(c).sub(new Nt(.99).mul(d)),d)),[c]);return n>a?Ig(h):h}var G7=l_(W7),H7=l_(U7),V7="Invariant failed";function ki(e,t){throw new Error(V7)}var K7=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ms(e){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ms(e)}function cd(){return cd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cd.apply(this,arguments)}function X7(e,t){return Q7(e)||Z7(e,t)||q7(e,t)||Y7()}function Y7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q7(e,t){if(e){if(typeof e=="string")return J1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J1(e,t)}}function J1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Z7(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function Q7(e){if(Array.isArray(e))return e}function J7(e,t){if(e==null)return{};var r=eW(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function tW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g_(n.key),n)}}function nW(e,t,r){return t&&rW(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aW(e,t,r){return t=ud(t),oW(e,h_()?Reflect.construct(t,r||[],ud(e).constructor):t.apply(e,r))}function oW(e,t){if(t&&(Ms(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iW(e)}function iW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h_=function(){return!!e})()}function ud(e){return ud=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ud(e)}function sW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zg(e,t)}function zg(e,t){return zg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zg(e,t)}function p_(e,t,r){return t=g_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g_(e){var t=lW(e,"string");return Ms(t)=="symbol"?t:t+""}function lW(e,t){if(Ms(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ms(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ul=function(e){function t(){return tW(this,t),aW(this,t,arguments)}return sW(t,e),nW(t,[{key:"render",value:function(){var n=this.props,a=n.offset,o=n.layout,i=n.width,s=n.dataKey,l=n.data,c=n.dataPointFormatter,f=n.xAxis,d=n.yAxis,h=J7(n,K7),p=We(h,!1);this.props.direction==="x"&&f.type!=="number"&&ki();var m=l.map(function(v){var x=c(v,s),y=x.x,g=x.y,b=x.value,S=x.errorVal;if(!S)return null;var w=[],k,j;if(Array.isArray(S)){var _=X7(S,2);k=_[0],j=_[1]}else k=j=S;if(o==="vertical"){var P=f.scale,A=g+a,N=A+i,C=A-i,z=P(b-k),$=P(b+j);w.push({x1:$,y1:N,x2:$,y2:C}),w.push({x1:z,y1:A,x2:$,y2:A}),w.push({x1:z,y1:N,x2:z,y2:C})}else if(o==="horizontal"){var L=d.scale,I=y+a,B=I-i,R=I+i,T=L(b-k),G=L(b+j);w.push({x1:B,y1:G,x2:R,y2:G}),w.push({x1:I,y1:T,x2:I,y2:G}),w.push({x1:B,y1:T,x2:R,y2:T})}return M.createElement(ct,cd({className:"recharts-errorBar",key:"bar-".concat(w.map(function(ee){return"".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))},p),w.map(function(ee){return M.createElement("line",cd({},ee,{key:"line-".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))}))});return M.createElement(ct,{className:"recharts-errorBars"},m)}}])}(M.Component);p_(ul,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});p_(ul,"displayName","ErrorBar");function $c(e){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$c(e)}function ew(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ew(Object(r),!0).forEach(function(n){cW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ew(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cW(e,t,r){return t=uW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uW(e){var t=fW(e,"string");return $c(t)=="symbol"?t:t+""}function fW(e,t){if($c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var m_=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,o=t.legendContent,i=Mn(r,qa);if(!i)return null;var s=qa.defaultProps,l=s!==void 0?Vo(Vo({},s),i.props):{},c;return i.props&&i.props.payload?c=i.props&&i.props.payload:o==="children"?c=(n||[]).reduce(function(f,d){var h=d.item,p=d.props,m=p.sectors||p.data||[];return f.concat(m.map(function(v){return{type:i.props.iconType||h.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):c=(n||[]).map(function(f){var d=f.item,h=d.type.defaultProps,p=h!==void 0?Vo(Vo({},h),d.props):{},m=p.dataKey,v=p.name,x=p.legendType,y=p.hide;return{inactive:y,dataKey:m,type:l.iconType||x||"square",color:bv(d),value:v||m,payload:p}}),Vo(Vo(Vo({},l),qa.getWithHeight(i,a)),{},{payload:c,item:i})};function Dc(e){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dc(e)}function tw(e){return gW(e)||pW(e)||hW(e)||dW()}function dW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hW(e,t){if(e){if(typeof e=="string")return Wg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wg(e,t)}}function pW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gW(e){if(Array.isArray(e))return Wg(e)}function Wg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rw(Object(r),!0).forEach(function(n){hs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hs(e,t,r){return t=mW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mW(e){var t=yW(e,"string");return Dc(t)=="symbol"?t:t+""}function yW(e,t){if(Dc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jr(e,t,r){return Fe(e)||Fe(t)?r:Sr(t)?qn(e,t,r):He(t)?t(e):r}function ql(e,t,r,n){var a=p7(e,function(s){return jr(s,t)});if(r==="number"){var o=a.filter(function(s){return se(s)||parseFloat(s)});return o.length?[Ch(o),ko(o)]:[1/0,-1/0]}var i=n?a.filter(function(s){return!Fe(s)}):a;return i.map(function(s){return Sr(s)||s instanceof Date?s:""})}var vW=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,c=0;c<s;c++){var f=c>0?a[c-1].coordinate:a[s-1].coordinate,d=a[c].coordinate,h=c>=s-1?a[0].coordinate:a[c+1].coordinate,p=void 0;if(ha(d-f)!==ha(h-d)){var m=[];if(ha(h-d)===ha(l[1]-l[0])){p=h;var v=d+l[1]-l[0];m[0]=Math.min(v,(v+f)/2),m[1]=Math.max(v,(v+f)/2)}else{p=f;var x=h+l[1]-l[0];m[0]=Math.min(d,(x+d)/2),m[1]=Math.max(d,(x+d)/2)}var y=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(t>y[0]&&t<=y[1]||t>=m[0]&&t<=m[1]){i=a[c].index;break}}else{var g=Math.min(f,h),b=Math.max(f,h);if(t>(g+d)/2&&t<=(b+d)/2){i=a[c].index;break}}}else for(var S=0;S<s;S++)if(S===0&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<s-1&&t>(n[S].coordinate+n[S-1].coordinate)/2&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S===s-1&&t>(n[S].coordinate+n[S-1].coordinate)/2){i=n[S].index;break}return i},bv=function(t){var r,n=t,a=n.type.displayName,o=(r=t.type)!==null&&r!==void 0&&r.defaultProps?or(or({},t.type.defaultProps),t.props):t.props,i=o.stroke,s=o.fill,l;switch(a){case"Line":l=i;break;case"Area":case"Radar":l=i&&i!=="none"?i:s;break;default:l=s;break}return l},xW=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,o=a===void 0?{}:a;if(!o)return{};for(var i={},s=Object.keys(o),l=0,c=s.length;l<c;l++)for(var f=o[s[l]].stackGroups,d=Object.keys(f),h=0,p=d.length;h<p;h++){var m=f[d[h]],v=m.items,x=m.cateAxisId,y=v.filter(function(j){return Xa(j.type).indexOf("Bar")>=0});if(y&&y.length){var g=y[0].type.defaultProps,b=g!==void 0?or(or({},g),y[0].props):y[0].props,S=b.barSize,w=b[x];i[w]||(i[w]=[]);var k=Fe(S)?r:S;i[w].push({item:y[0],stackList:y.slice(1),barSize:Fe(k)?void 0:xi(k,n,0)})}}return i},bW=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,o=t.sizeList,i=o===void 0?[]:o,s=t.maxBarSize,l=i.length;if(l<1)return null;var c=xi(r,a,0,!0),f,d=[];if(i[0].barSize===+i[0].barSize){var h=!1,p=a/l,m=i.reduce(function(S,w){return S+w.barSize||0},0);m+=(l-1)*c,m>=a&&(m-=(l-1)*c,c=0),m>=a&&p>0&&(h=!0,p*=.9,m=l*p);var v=(a-m)/2>>0,x={offset:v-c,size:0};f=i.reduce(function(S,w){var k={item:w.item,position:{offset:x.offset+x.size+c,size:h?p:w.barSize}},j=[].concat(tw(S),[k]);return x=j[j.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(_){j.push({item:_,position:x})}),j},d)}else{var y=xi(n,a,0,!0);a-2*y-(l-1)*c<=0&&(c=0);var g=(a-2*y-(l-1)*c)/l;g>1&&(g>>=0);var b=s===+s?Math.min(g,s):g;f=i.reduce(function(S,w,k){var j=[].concat(tw(S),[{item:w.item,position:{offset:y+(g+c)*k+(g-b)/2,size:b}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(_){j.push({item:_,position:j[j.length-1].position})}),j},d)}return f},wW=function(t,r,n,a){var o=n.children,i=n.width,s=n.margin,l=i-(s.left||0)-(s.right||0),c=m_({children:o,legendWidth:l});if(c){var f=a||{},d=f.width,h=f.height,p=c.align,m=c.verticalAlign,v=c.layout;if((v==="vertical"||v==="horizontal"&&m==="middle")&&p!=="center"&&se(t[p]))return or(or({},t),{},hs({},p,t[p]+(d||0)));if((v==="horizontal"||v==="vertical"&&p==="center")&&m!=="middle"&&se(t[m]))return or(or({},t),{},hs({},m,t[m]+(h||0)))}return t},kW=function(t,r,n){return Fe(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},y_=function(t,r,n,a,o){var i=r.props.children,s=wn(i,ul).filter(function(c){return kW(a,o,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return t.reduce(function(c,f){var d=jr(f,n);if(Fe(d))return c;var h=Array.isArray(d)?[Ch(d),ko(d)]:[d,d],p=l.reduce(function(m,v){var x=jr(f,v,0),y=h[0]-Math.abs(Array.isArray(x)?x[0]:x),g=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(y,m[0]),Math.max(g,m[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},SW=function(t,r,n,a,o){var i=r.map(function(s){return y_(t,s,n,o,a)}).filter(function(s){return!Fe(s)});return i&&i.length?i.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},v_=function(t,r,n,a,o){var i=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&y_(t,l,c,a)||ql(t,c,n,o)});if(n==="number")return i.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return i.reduce(function(l,c){for(var f=0,d=c.length;f<d;f++)s[c[f]]||(s[c[f]]=!0,l.push(c[f]));return l},[])},x_=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},b_=function(t,r,n,a){if(a)return t.map(function(l){return l.coordinate});var o,i,s=t.map(function(l){return l.coordinate===r&&(o=!0),l.coordinate===n&&(i=!0),l.coordinate});return o||s.push(r),i||s.push(n),s},Va=function(t,r,n){if(!t)return null;var a=t.scale,o=t.duplicateDomain,i=t.type,s=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,c=(r||n)&&i==="category"&&a.bandwidth?a.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?ha(s[0]-s[1])*2*c:c,r&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(d){var h=o?o.indexOf(d):d;return{coordinate:a(h)+c,value:d,offset:c}});return f.filter(function(d){return!nl(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,h){return{coordinate:a(d)+c,value:d,index:h,offset:c}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(d){return{coordinate:a(d)+c,value:d,offset:c}}):a.domain().map(function(d,h){return{coordinate:a(d)+c,value:o?o[d]:d,index:h,offset:c}})},Vp=new WeakMap,Ku=function(t,r){if(typeof r!="function")return t;Vp.has(t)||Vp.set(t,new WeakMap);var n=Vp.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},jW=function(t,r,n){var a=t.scale,o=t.type,i=t.layout,s=t.axisType;if(a==="auto")return i==="radial"&&s==="radiusAxis"?{scale:Pc(),realScaleType:"band"}:i==="radial"&&s==="angleAxis"?{scale:ad(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Yl(),realScaleType:"point"}:o==="category"?{scale:Pc(),realScaleType:"band"}:{scale:ad(),realScaleType:"linear"};if(vi(a)){var l="scale".concat(yh(a));return{scale:(Y1[l]||Yl)(),realScaleType:Y1[l]?l:"point"}}return He(a)?{scale:a}:{scale:Yl(),realScaleType:"point"}},nw=1e-4,OW=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),o=Math.min(a[0],a[1])-nw,i=Math.max(a[0],a[1])+nw,s=t(r[0]),l=t(r[n-1]);(s<o||s>i||l<o||l>i)&&t.domain([r[0],r[n-1]])}},_W=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},PW=function(t,r){if(!r||r.length!==2||!se(r[0])||!se(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),o=[t[0],t[1]];return(!se(t[0])||t[0]<n)&&(o[0]=n),(!se(t[1])||t[1]>a)&&(o[1]=a),o[0]>a&&(o[0]=a),o[1]<n&&(o[1]=n),o},NW=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var o=0,i=0,s=0;s<r;++s){var l=nl(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=o,t[s][n][1]=o+l,o=t[s][n][1]):(t[s][n][0]=i,t[s][n][1]=i+l,i=t[s][n][1])}},AW=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var o=0,i=0;i<r;++i){var s=nl(t[i][n][1])?t[i][n][0]:t[i][n][1];s>=0?(t[i][n][0]=o,t[i][n][1]=o+s,o=t[i][n][1]):(t[i][n][0]=0,t[i][n][1]=0)}},MW={sign:NW,expand:H$,none:ws,silhouette:V$,wiggle:K$,positive:AW},CW=function(t,r,n){var a=r.map(function(s){return s.props.dataKey}),o=MW[n],i=G$().keys(a).value(function(s,l){return+jr(s,l,0)}).order(hg).offset(o);return i(t)},EW=function(t,r,n,a,o,i){if(!t)return null;var s=i?r.reverse():r,l={},c=s.reduce(function(d,h){var p,m=(p=h.type)!==null&&p!==void 0&&p.defaultProps?or(or({},h.type.defaultProps),h.props):h.props,v=m.stackId,x=m.hide;if(x)return d;var y=m[n],g=d[y]||{hasStack:!1,stackGroups:{}};if(Sr(v)){var b=g.stackGroups[v]||{numericAxisId:n,cateAxisId:a,items:[]};b.items.push(h),g.hasStack=!0,g.stackGroups[v]=b}else g.stackGroups[Ni("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return or(or({},d),{},hs({},y,g))},l),f={};return Object.keys(c).reduce(function(d,h){var p=c[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(v,x){var y=p.stackGroups[x];return or(or({},v),{},hs({},x,{numericAxisId:n,cateAxisId:a,items:y.items,stackedData:CW(t,y.items,o)}))},m)}return or(or({},d),{},hs({},h,p))},f)},TW=function(t,r){var n=r.realScaleType,a=r.type,o=r.tickCount,i=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&a==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var c=t.domain();if(!c.length)return null;var f=G7(c,o,s);return t.domain([Ch(f),ko(f)]),{niceTicks:f}}if(o&&a==="number"){var d=t.domain(),h=H7(d,o,s);return{niceTicks:h}}return null};function Cs(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,o=e.index,i=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Fe(a[t.dataKey])){var s=Rf(r,"value",a[t.dataKey]);if(s)return s.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var l=jr(a,Fe(i)?t.dataKey:i);return Fe(l)?null:t.scale(l)}var aw=function(t){var r=t.axis,n=t.ticks,a=t.offset,o=t.bandSize,i=t.entry,s=t.index;if(r.type==="category")return n[s]?n[s].coordinate+a:null;var l=jr(i,r.dataKey,r.domain[s]);return Fe(l)?null:r.scale(l)-o/2+a},$W=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return a<=0&&o>=0?0:o<0?o:a}return n[0]},DW=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?or(or({},t.type.defaultProps),t.props):t.props,o=a.stackId;if(Sr(o)){var i=r[o];if(i){var s=i.items.indexOf(t);return s>=0?i.stackedData[s]:null}}return null},RW=function(t){return t.reduce(function(r,n){return[Ch(n.concat([r[0]]).filter(se)),ko(n.concat([r[1]]).filter(se))]},[1/0,-1/0])},w_=function(t,r,n){return Object.keys(t).reduce(function(a,o){var i=t[o],s=i.stackedData,l=s.reduce(function(c,f){var d=RW(f.slice(r,n+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},ow=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,iw=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ug=function(t,r,n){if(He(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(se(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(ow.test(t[0])){var o=+ow.exec(t[0])[1];a[0]=r[0]-o}else He(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(se(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(iw.test(t[1])){var i=+iw.exec(t[1])[1];a[1]=r[1]+i}else He(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},fd=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var o=Ky(r,function(d){return d.coordinate}),i=1/0,s=1,l=o.length;s<l;s++){var c=o[s],f=o[s-1];i=Math.min((c.coordinate||0)-(f.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},sw=function(t,r,n){return!t||!t.length||bi(t,qn(n,"type.defaultProps.domain"))?r:t},k_=function(t,r){var n=t.type.defaultProps?or(or({},t.type.defaultProps),t.props):t.props,a=n.dataKey,o=n.name,i=n.unit,s=n.formatter,l=n.tooltipType,c=n.chartType,f=n.hide;return or(or({},We(t,!1)),{},{dataKey:a,unit:i,formatter:s,name:o||a,color:bv(t),value:jr(r,a),type:l,payload:r,chartType:c,hide:f})};function Rc(e){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rc(e)}function lw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lw(Object(r),!0).forEach(function(n){LW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LW(e,t,r){return t=IW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IW(e){var t=BW(e,"string");return Rc(t)=="symbol"?t:t+""}function BW(e,t){if(Rc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dd=Math.PI/180,FW=function(t){return t*180/Math.PI},Br=function(t,r,n,a){return{x:t+Math.cos(-dd*a)*n,y:r+Math.sin(-dd*a)*n}},zW=function(t,r){var n=t.x,a=t.y,o=r.x,i=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(a-i,2))},WW=function(t,r){var n=t.x,a=t.y,o=r.cx,i=r.cy,s=zW({x:n,y:a},{x:o,y:i});if(s<=0)return{radius:s};var l=(n-o)/s,c=Math.acos(l);return a>i&&(c=2*Math.PI-c),{radius:s,angle:FW(c),angleInRadian:c}},UW=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),o=Math.floor(n/360),i=Math.min(a,o);return{startAngle:r-i*360,endAngle:n-i*360}},GW=function(t,r){var n=r.startAngle,a=r.endAngle,o=Math.floor(n/360),i=Math.floor(a/360),s=Math.min(o,i);return t+s*360},uw=function(t,r){var n=t.x,a=t.y,o=WW({x:n,y:a},r),i=o.radius,s=o.angle,l=r.innerRadius,c=r.outerRadius;if(i<l||i>c)return!1;if(i===0)return!0;var f=UW(r),d=f.startAngle,h=f.endAngle,p=s,m;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;m=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=d}return m?cw(cw({},r),{},{radius:i,angle:GW(p,r)}):null};function Lc(e){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lc(e)}var HW=["offset"];function VW(e){return qW(e)||YW(e)||XW(e)||KW()}function KW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XW(e,t){if(e){if(typeof e=="string")return Gg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gg(e,t)}}function YW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qW(e){if(Array.isArray(e))return Gg(e)}function Gg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ZW(e,t){if(e==null)return{};var r=QW(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function QW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fw(Object(r),!0).forEach(function(n){JW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JW(e,t,r){return t=eU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eU(e){var t=tU(e,"string");return Lc(t)=="symbol"?t:t+""}function tU(e,t){if(Lc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ic(){return Ic=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ic.apply(this,arguments)}var rU=function(t){var r=t.value,n=t.formatter,a=Fe(t.children)?r:t.children;return He(n)?n(a):a},nU=function(t,r){var n=ha(r-t),a=Math.min(Math.abs(r-t),360);return n*a},aU=function(t,r,n){var a=t.position,o=t.viewBox,i=t.offset,s=t.className,l=o,c=l.cx,f=l.cy,d=l.innerRadius,h=l.outerRadius,p=l.startAngle,m=l.endAngle,v=l.clockWise,x=(d+h)/2,y=nU(p,m),g=y>=0?1:-1,b,S;a==="insideStart"?(b=p+g*i,S=v):a==="insideEnd"?(b=m-g*i,S=!v):a==="end"&&(b=m+g*i,S=v),S=y<=0?S:!S;var w=Br(c,f,x,b),k=Br(c,f,x,b+(S?1:-1)*359),j="M".concat(w.x,",").concat(w.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(S?0:1,`,
    `).concat(k.x,",").concat(k.y),_=Fe(t.id)?Ni("recharts-radial-line-"):t.id;return M.createElement("text",Ic({},n,{dominantBaseline:"central",className:tt("recharts-radial-bar-label",s)}),M.createElement("defs",null,M.createElement("path",{id:_,d:j})),M.createElement("textPath",{xlinkHref:"#".concat(_)},r))},oU=function(t){var r=t.viewBox,n=t.offset,a=t.position,o=r,i=o.cx,s=o.cy,l=o.innerRadius,c=o.outerRadius,f=o.startAngle,d=o.endAngle,h=(f+d)/2;if(a==="outside"){var p=Br(i,s,c+n,h),m=p.x,v=p.y;return{x:m,y:v,textAnchor:m>=i?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"end"};var x=(l+c)/2,y=Br(i,s,x,h),g=y.x,b=y.y;return{x:g,y:b,textAnchor:"middle",verticalAnchor:"middle"}},iU=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,o=t.position,i=r,s=i.x,l=i.y,c=i.width,f=i.height,d=f>=0?1:-1,h=d*a,p=d>0?"end":"start",m=d>0?"start":"end",v=c>=0?1:-1,x=v*a,y=v>0?"end":"start",g=v>0?"start":"end";if(o==="top"){var b={x:s+c/2,y:l-d*a,textAnchor:"middle",verticalAnchor:p};return br(br({},b),n?{height:Math.max(l-n.y,0),width:c}:{})}if(o==="bottom"){var S={x:s+c/2,y:l+f+h,textAnchor:"middle",verticalAnchor:m};return br(br({},S),n?{height:Math.max(n.y+n.height-(l+f),0),width:c}:{})}if(o==="left"){var w={x:s-x,y:l+f/2,textAnchor:y,verticalAnchor:"middle"};return br(br({},w),n?{width:Math.max(w.x-n.x,0),height:f}:{})}if(o==="right"){var k={x:s+c+x,y:l+f/2,textAnchor:g,verticalAnchor:"middle"};return br(br({},k),n?{width:Math.max(n.x+n.width-k.x,0),height:f}:{})}var j=n?{width:c,height:f}:{};return o==="insideLeft"?br({x:s+x,y:l+f/2,textAnchor:g,verticalAnchor:"middle"},j):o==="insideRight"?br({x:s+c-x,y:l+f/2,textAnchor:y,verticalAnchor:"middle"},j):o==="insideTop"?br({x:s+c/2,y:l+h,textAnchor:"middle",verticalAnchor:m},j):o==="insideBottom"?br({x:s+c/2,y:l+f-h,textAnchor:"middle",verticalAnchor:p},j):o==="insideTopLeft"?br({x:s+x,y:l+h,textAnchor:g,verticalAnchor:m},j):o==="insideTopRight"?br({x:s+c-x,y:l+h,textAnchor:y,verticalAnchor:m},j):o==="insideBottomLeft"?br({x:s+x,y:l+f-h,textAnchor:g,verticalAnchor:p},j):o==="insideBottomRight"?br({x:s+c-x,y:l+f-h,textAnchor:y,verticalAnchor:p},j):Js(o)&&(se(o.x)||ti(o.x))&&(se(o.y)||ti(o.y))?br({x:s+xi(o.x,c),y:l+xi(o.y,f),textAnchor:"end",verticalAnchor:"end"},j):br({x:s+c/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},j)},sU=function(t){return"cx"in t&&se(t.cx)};function qr(e){var t=e.offset,r=t===void 0?5:t,n=ZW(e,HW),a=br({offset:r},n),o=a.viewBox,i=a.position,s=a.value,l=a.children,c=a.content,f=a.className,d=f===void 0?"":f,h=a.textBreakAll;if(!o||Fe(s)&&Fe(l)&&!O.isValidElement(c)&&!He(c))return null;if(O.isValidElement(c))return O.cloneElement(c,a);var p;if(He(c)){if(p=O.createElement(c,a),O.isValidElement(p))return p}else p=rU(a);var m=sU(o),v=We(a,!0);if(m&&(i==="insideStart"||i==="insideEnd"||i==="end"))return aU(a,p,v);var x=m?oU(a):iU(a);return M.createElement(Zf,Ic({className:tt("recharts-label",d)},v,x,{breakAll:h}),p)}qr.displayName="Label";var S_=function(t){var r=t.cx,n=t.cy,a=t.angle,o=t.startAngle,i=t.endAngle,s=t.r,l=t.radius,c=t.innerRadius,f=t.outerRadius,d=t.x,h=t.y,p=t.top,m=t.left,v=t.width,x=t.height,y=t.clockWise,g=t.labelViewBox;if(g)return g;if(se(v)&&se(x)){if(se(d)&&se(h))return{x:d,y:h,width:v,height:x};if(se(p)&&se(m))return{x:p,y:m,width:v,height:x}}return se(d)&&se(h)?{x:d,y:h,width:0,height:0}:se(r)&&se(n)?{cx:r,cy:n,startAngle:o||a||0,endAngle:i||a||0,innerRadius:c||0,outerRadius:f||l||s||0,clockWise:y}:t.viewBox?t.viewBox:{}},lU=function(t,r){return t?t===!0?M.createElement(qr,{key:"label-implicit",viewBox:r}):Sr(t)?M.createElement(qr,{key:"label-implicit",viewBox:r,value:t}):O.isValidElement(t)?t.type===qr?O.cloneElement(t,{key:"label-implicit",viewBox:r}):M.createElement(qr,{key:"label-implicit",content:t,viewBox:r}):He(t)?M.createElement(qr,{key:"label-implicit",content:t,viewBox:r}):Js(t)?M.createElement(qr,Ic({viewBox:r},t,{key:"label-implicit"})):null:null},cU=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,o=S_(t),i=wn(a,qr).map(function(l,c){return O.cloneElement(l,{viewBox:r||o,key:"label-".concat(c)})});if(!n)return i;var s=lU(t.label,r||o);return[s].concat(VW(i))};qr.parseViewBox=S_;qr.renderCallByParent=cU;function uU(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var fU=uU;const dU=Lt(fU);function Bc(e){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bc(e)}var hU=["valueAccessor"],pU=["data","dataKey","clockWise","id","textBreakAll"];function gU(e){return xU(e)||vU(e)||yU(e)||mU()}function mU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yU(e,t){if(e){if(typeof e=="string")return Hg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hg(e,t)}}function vU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xU(e){if(Array.isArray(e))return Hg(e)}function Hg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hd(){return hd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hd.apply(this,arguments)}function dw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dw(Object(r),!0).forEach(function(n){bU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bU(e,t,r){return t=wU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wU(e){var t=kU(e,"string");return Bc(t)=="symbol"?t:t+""}function kU(e,t){if(Bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pw(e,t){if(e==null)return{};var r=SU(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function SU(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var jU=function(t){return Array.isArray(t.value)?dU(t.value):t.value};function Ca(e){var t=e.valueAccessor,r=t===void 0?jU:t,n=pw(e,hU),a=n.data,o=n.dataKey,i=n.clockWise,s=n.id,l=n.textBreakAll,c=pw(n,pU);return!a||!a.length?null:M.createElement(ct,{className:"recharts-label-list"},a.map(function(f,d){var h=Fe(o)?r(f,d):jr(f&&f.payload,o),p=Fe(s)?{}:{id:"".concat(s,"-").concat(d)};return M.createElement(qr,hd({},We(f,!0),c,p,{parentViewBox:f.parentViewBox,value:h,textBreakAll:l,viewBox:qr.parseViewBox(Fe(i)?f:hw(hw({},f),{},{clockWise:i})),key:"label-".concat(d),index:d}))}))}Ca.displayName="LabelList";function OU(e,t){return e?e===!0?M.createElement(Ca,{key:"labelList-implicit",data:t}):M.isValidElement(e)||He(e)?M.createElement(Ca,{key:"labelList-implicit",data:t,content:e}):Js(e)?M.createElement(Ca,hd({data:t},e,{key:"labelList-implicit"})):null:null}function _U(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=wn(n,Ca).map(function(i,s){return O.cloneElement(i,{data:t,key:"labelList-".concat(s)})});if(!r)return a;var o=OU(e.label,t);return[o].concat(gU(a))}Ca.renderCallByParent=_U;function Fc(e){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fc(e)}function Vg(){return Vg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vg.apply(this,arguments)}function gw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gw(Object(r),!0).forEach(function(n){PU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PU(e,t,r){return t=NU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NU(e){var t=AU(e,"string");return Fc(t)=="symbol"?t:t+""}function AU(e,t){if(Fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MU=function(t,r){var n=ha(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Xu=function(t){var r=t.cx,n=t.cy,a=t.radius,o=t.angle,i=t.sign,s=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,f=l*(s?1:-1)+a,d=Math.asin(l/f)/dd,h=c?o:o+i*d,p=Br(r,n,f,h),m=Br(r,n,a,h),v=c?o-i*d:o,x=Br(r,n,f*Math.cos(d*dd),v);return{center:p,circleTangency:m,lineTangency:x,theta:d}},j_=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,i=t.startAngle,s=t.endAngle,l=MU(i,s),c=i+l,f=Br(r,n,o,i),d=Br(r,n,o,c),h="M ".concat(f.x,",").concat(f.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(a>0){var p=Br(r,n,a,i),m=Br(r,n,a,c);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},CU=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,i=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,f=t.endAngle,d=ha(f-c),h=Xu({cx:r,cy:n,radius:o,angle:c,sign:d,cornerRadius:i,cornerIsExternal:l}),p=h.circleTangency,m=h.lineTangency,v=h.theta,x=Xu({cx:r,cy:n,radius:o,angle:f,sign:-d,cornerRadius:i,cornerIsExternal:l}),y=x.circleTangency,g=x.lineTangency,b=x.theta,S=l?Math.abs(c-f):Math.abs(c-f)-v-b;if(S<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):j_({cx:r,cy:n,innerRadius:a,outerRadius:o,startAngle:c,endAngle:f});var w="M ".concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(S>180),",").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
  `);if(a>0){var k=Xu({cx:r,cy:n,radius:a,angle:c,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),j=k.circleTangency,_=k.lineTangency,P=k.theta,A=Xu({cx:r,cy:n,radius:a,angle:f,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),N=A.circleTangency,C=A.lineTangency,z=A.theta,$=l?Math.abs(c-f):Math.abs(c-f)-P-z;if($<0&&i===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(a,",").concat(a,",0,").concat(+($>180),",").concat(+(d>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(_.x,",").concat(_.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},EU={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},O_=function(t){var r=mw(mw({},EU),t),n=r.cx,a=r.cy,o=r.innerRadius,i=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,f=r.startAngle,d=r.endAngle,h=r.className;if(i<o||f===d)return null;var p=tt("recharts-sector",h),m=i-o,v=xi(s,m,0,!0),x;return v>0&&Math.abs(f-d)<360?x=CU({cx:n,cy:a,innerRadius:o,outerRadius:i,cornerRadius:Math.min(v,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:f,endAngle:d}):x=j_({cx:n,cy:a,innerRadius:o,outerRadius:i,startAngle:f,endAngle:d}),M.createElement("path",Vg({},We(r,!0),{className:p,d:x,role:"img"}))};function zc(e){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zc(e)}function Kg(){return Kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kg.apply(this,arguments)}function yw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yw(Object(r),!0).forEach(function(n){TU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TU(e,t,r){return t=$U(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $U(e){var t=DU(e,"string");return zc(t)=="symbol"?t:t+""}function DU(e,t){if(zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xw={curveBasisClosed:T$,curveBasisOpen:$$,curveBasis:E$,curveBumpX:v$,curveBumpY:x$,curveLinearClosed:D$,curveLinear:xh,curveMonotoneX:R$,curveMonotoneY:L$,curveNatural:I$,curveStep:B$,curveStepAfter:z$,curveStepBefore:F$},Yu=function(t){return t.x===+t.x&&t.y===+t.y},Ml=function(t){return t.x},Cl=function(t){return t.y},RU=function(t,r){if(He(t))return t;var n="curve".concat(yh(t));return(n==="curveMonotone"||n==="curveBump")&&r?xw["".concat(n).concat(r==="vertical"?"Y":"X")]:xw[n]||xh},LU=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,o=a===void 0?[]:a,i=t.baseLine,s=t.layout,l=t.connectNulls,c=l===void 0?!1:l,f=RU(n,s),d=c?o.filter(function(v){return Yu(v)}):o,h;if(Array.isArray(i)){var p=c?i.filter(function(v){return Yu(v)}):i,m=d.map(function(v,x){return vw(vw({},v),{},{base:p[x]})});return s==="vertical"?h=Bu().y(Cl).x1(Ml).x0(function(v){return v.base.x}):h=Bu().x(Ml).y1(Cl).y0(function(v){return v.base.y}),h.defined(Yu).curve(f),h(m)}return s==="vertical"&&se(i)?h=Bu().y(Cl).x1(Ml).x0(i):se(i)?h=Bu().x(Ml).y1(Cl).y0(i):h=_j().x(Ml).y(Cl),h.defined(Yu).curve(f),h(d)},di=function(t){var r=t.className,n=t.points,a=t.path,o=t.pathRef;if((!n||!n.length)&&!a)return null;var i=n&&n.length?LU(t):a;return O.createElement("path",Kg({},We(t,!1),Lf(t),{className:tt("recharts-curve",r),d:i,ref:o}))},__={exports:{}},IU="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",BU=IU,FU=BU;function P_(){}function N_(){}N_.resetWarningCache=P_;var zU=function(){function e(n,a,o,i,s,l){if(l!==FU){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:N_,resetWarningCache:P_};return r.PropTypes=r,r};__.exports=zU();var WU=__.exports;const gt=Lt(WU),{getOwnPropertyNames:UU,getOwnPropertySymbols:GU}=Object,{hasOwnProperty:HU}=Object.prototype;function Kp(e,t){return function(n,a,o){return e(n,a,o)&&t(n,a,o)}}function qu(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);const{cache:o}=a,i=o.get(r),s=o.get(n);if(i&&s)return i===n&&s===r;o.set(r,n),o.set(n,r);const l=e(r,n,a);return o.delete(r),o.delete(n),l}}function VU(e){return e!=null?e[Symbol.toStringTag]:void 0}function bw(e){return UU(e).concat(GU(e))}const KU=Object.hasOwn||((e,t)=>HU.call(e,t));function Ci(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const XU="__v",YU="__o",qU="_owner",{getOwnPropertyDescriptor:ww,keys:kw}=Object;function ZU(e,t){return e.byteLength===t.byteLength&&pd(new Uint8Array(e),new Uint8Array(t))}function QU(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function JU(e,t){return e.byteLength===t.byteLength&&pd(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function eG(e,t){return Ci(e.getTime(),t.getTime())}function tG(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function rG(e,t){return e===t}function Sw(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),o=e.entries();let i,s,l=0;for(;(i=o.next())&&!i.done;){const c=t.entries();let f=!1,d=0;for(;(s=c.next())&&!s.done;){if(a[d]){d++;continue}const h=i.value,p=s.value;if(r.equals(h[0],p[0],l,d,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){f=a[d]=!0;break}d++}if(!f)return!1;l++}return!0}const nG=Ci;function aG(e,t,r){const n=kw(e);let a=n.length;if(kw(t).length!==a)return!1;for(;a-- >0;)if(!A_(e,t,r,n[a]))return!1;return!0}function El(e,t,r){const n=bw(e);let a=n.length;if(bw(t).length!==a)return!1;let o,i,s;for(;a-- >0;)if(o=n[a],!A_(e,t,r,o)||(i=ww(e,o),s=ww(t,o),(i||s)&&(!i||!s||i.configurable!==s.configurable||i.enumerable!==s.enumerable||i.writable!==s.writable)))return!1;return!0}function oG(e,t){return Ci(e.valueOf(),t.valueOf())}function iG(e,t){return e.source===t.source&&e.flags===t.flags}function jw(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),o=e.values();let i,s;for(;(i=o.next())&&!i.done;){const l=t.values();let c=!1,f=0;for(;(s=l.next())&&!s.done;){if(!a[f]&&r.equals(i.value,s.value,i.value,s.value,e,t,r)){c=a[f]=!0;break}f++}if(!c)return!1}return!0}function pd(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function sG(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function A_(e,t,r,n){return(n===qU||n===YU||n===XU)&&(e.$$typeof||t.$$typeof)?!0:KU(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const lG="[object ArrayBuffer]",cG="[object Arguments]",uG="[object Boolean]",fG="[object DataView]",dG="[object Date]",hG="[object Error]",pG="[object Map]",gG="[object Number]",mG="[object Object]",yG="[object RegExp]",vG="[object Set]",xG="[object String]",bG={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},wG="[object URL]",kG=Object.prototype.toString;function SG({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:a,areFunctionsEqual:o,areMapsEqual:i,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:f,areSetsEqual:d,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:m}){return function(x,y,g){if(x===y)return!0;if(x==null||y==null)return!1;const b=typeof x;if(b!==typeof y)return!1;if(b!=="object")return b==="number"?s(x,y,g):b==="function"?o(x,y,g):!1;const S=x.constructor;if(S!==y.constructor)return!1;if(S===Object)return l(x,y,g);if(Array.isArray(x))return t(x,y,g);if(S===Date)return n(x,y,g);if(S===RegExp)return f(x,y,g);if(S===Map)return i(x,y,g);if(S===Set)return d(x,y,g);const w=kG.call(x);if(w===dG)return n(x,y,g);if(w===yG)return f(x,y,g);if(w===pG)return i(x,y,g);if(w===vG)return d(x,y,g);if(w===mG)return typeof x.then!="function"&&typeof y.then!="function"&&l(x,y,g);if(w===wG)return p(x,y,g);if(w===hG)return a(x,y,g);if(w===cG)return l(x,y,g);if(bG[w])return h(x,y,g);if(w===lG)return e(x,y,g);if(w===fG)return r(x,y,g);if(w===uG||w===gG||w===xG)return c(x,y,g);if(m){let k=m[w];if(!k){const j=VU(x);j&&(k=m[j])}if(k)return k(x,y,g)}return!1}}function jG({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:ZU,areArraysEqual:r?El:QU,areDataViewsEqual:JU,areDatesEqual:eG,areErrorsEqual:tG,areFunctionsEqual:rG,areMapsEqual:r?Kp(Sw,El):Sw,areNumbersEqual:nG,areObjectsEqual:r?El:aG,arePrimitiveWrappersEqual:oG,areRegExpsEqual:iG,areSetsEqual:r?Kp(jw,El):jw,areTypedArraysEqual:r?Kp(pd,El):pd,areUrlsEqual:sG,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const a=qu(n.areArraysEqual),o=qu(n.areMapsEqual),i=qu(n.areObjectsEqual),s=qu(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:i,areSetsEqual:s})}return n}function OG(e){return function(t,r,n,a,o,i,s){return e(t,r,s)}}function _G({circular:e,comparator:t,createState:r,equals:n,strict:a}){if(r)return function(s,l){const{cache:c=e?new WeakMap:void 0,meta:f}=r();return t(s,l,{cache:c,equals:n,meta:f,strict:a})};if(e)return function(s,l){return t(s,l,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const o={cache:void 0,equals:n,meta:void 0,strict:a};return function(s,l){return t(s,l,o)}}const PG=Go();Go({strict:!0});Go({circular:!0});Go({circular:!0,strict:!0});Go({createInternalComparator:()=>Ci});Go({strict:!0,createInternalComparator:()=>Ci});Go({circular:!0,createInternalComparator:()=>Ci});Go({circular:!0,createInternalComparator:()=>Ci,strict:!0});function Go(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:a=!1}=e,o=jG(e),i=SG(o),s=r?r(i):OG(i);return _G({circular:t,comparator:i,createState:n,equals:s,strict:a})}function NG(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function Ow(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(o){r<0&&(r=o),o-r>t?(e(o),r=-1):NG(a)};requestAnimationFrame(n)}function Xg(e){"@babel/helpers - typeof";return Xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xg(e)}function AG(e){return TG(e)||EG(e)||CG(e)||MG()}function MG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CG(e,t){if(e){if(typeof e=="string")return _w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _w(e,t)}}function _w(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function EG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function TG(e){if(Array.isArray(e))return e}function $G(){var e={},t=function(){return null},r=!1,n=function a(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var i=o,s=AG(i),l=s[0],c=s.slice(1);if(typeof l=="number"){Ow(a.bind(null,c),l);return}a(l),Ow(a.bind(null,c));return}Xg(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function Wc(e){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wc(e)}function Pw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pw(Object(r),!0).forEach(function(n){M_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M_(e,t,r){return t=DG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DG(e){var t=RG(e,"string");return Wc(t)==="symbol"?t:String(t)}function RG(e,t){if(Wc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LG=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(o){return a.includes(o)})})},IG=function(t){return t},BG=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Zl=function(t,r){return Object.keys(r).reduce(function(n,a){return Nw(Nw({},n),{},M_({},a,t(a,r[a])))},{})},Aw=function(t,r,n){return t.map(function(a){return"".concat(BG(a)," ").concat(r,"ms ").concat(n)}).join(",")};function FG(e,t){return UG(e)||WG(e,t)||C_(e,t)||zG()}function zG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function UG(e){if(Array.isArray(e))return e}function GG(e){return KG(e)||VG(e)||C_(e)||HG()}function HG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C_(e,t){if(e){if(typeof e=="string")return Yg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yg(e,t)}}function VG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function KG(e){if(Array.isArray(e))return Yg(e)}function Yg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var gd=1e-4,E_=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},T_=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},Mw=function(t,r){return function(n){var a=E_(t,r);return T_(a,n)}},XG=function(t,r){return function(n){var a=E_(t,r),o=[].concat(GG(a.map(function(i,s){return i*s}).slice(1)),[0]);return T_(o,n)}},Cw=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],o=r[1],i=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,o=0,i=1,s=1;break;case"ease":a=.25,o=.1,i=.25,s=1;break;case"ease-in":a=.42,o=0,i=1,s=1;break;case"ease-out":a=.42,o=0,i=.58,s=1;break;case"ease-in-out":a=0,o=0,i=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),f=FG(c,4);a=f[0],o=f[1],i=f[2],s=f[3]}}}var d=Mw(a,i),h=Mw(o,s),p=XG(a,i),m=function(y){return y>1?1:y<0?0:y},v=function(y){for(var g=y>1?1:y,b=g,S=0;S<8;++S){var w=d(b)-g,k=p(b);if(Math.abs(w-g)<gd||k<gd)return h(b);b=m(b-w/k)}return h(b)};return v.isStepper=!1,v},YG=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,o=a===void 0?8:a,i=t.dt,s=i===void 0?17:i,l=function(f,d,h){var p=-(f-d)*n,m=h*o,v=h+(p-m)*s/1e3,x=h*s/1e3+f;return Math.abs(x-d)<gd&&Math.abs(v)<gd?[d,0]:[x,v]};return l.isStepper=!0,l.dt=s,l},qG=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Cw(a);case"spring":return YG();default:if(a.split("(")[0]==="cubic-bezier")return Cw(a)}return typeof a=="function"?a:null};function Uc(e){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uc(e)}function Ew(e){return JG(e)||QG(e)||$_(e)||ZG()}function ZG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function JG(e){if(Array.isArray(e))return Zg(e)}function Tw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tw(Object(r),!0).forEach(function(n){qg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qg(e,t,r){return t=eH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eH(e){var t=tH(e,"string");return Uc(t)==="symbol"?t:String(t)}function tH(e,t){if(Uc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rH(e,t){return oH(e)||aH(e,t)||$_(e,t)||nH()}function nH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $_(e,t){if(e){if(typeof e=="string")return Zg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zg(e,t)}}function Zg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function oH(e){if(Array.isArray(e))return e}var md=function(t,r,n){return t+(r-t)*n},Qg=function(t){var r=t.from,n=t.to;return r!==n},iH=function e(t,r,n){var a=Zl(function(o,i){if(Qg(i)){var s=t(i.from,i.to,i.velocity),l=rH(s,2),c=l[0],f=l[1];return Rr(Rr({},i),{},{from:c,velocity:f})}return i},r);return n<1?Zl(function(o,i){return Qg(i)?Rr(Rr({},i),{},{velocity:md(i.velocity,a[o].velocity,n),from:md(i.from,a[o].from,n)}):i},r):e(t,a,n-1)};const sH=function(e,t,r,n,a){var o=LG(e,t),i=o.reduce(function(x,y){return Rr(Rr({},x),{},qg({},y,[e[y],t[y]]))},{}),s=o.reduce(function(x,y){return Rr(Rr({},x),{},qg({},y,{from:e[y],velocity:0,to:t[y]}))},{}),l=-1,c,f,d=function(){return null},h=function(){return Zl(function(y,g){return g.from},s)},p=function(){return!Object.values(s).filter(Qg).length},m=function(y){c||(c=y);var g=y-c,b=g/r.dt;s=iH(r,s,b),a(Rr(Rr(Rr({},e),t),h())),c=y,p()||(l=requestAnimationFrame(d))},v=function(y){f||(f=y);var g=(y-f)/n,b=Zl(function(w,k){return md.apply(void 0,Ew(k).concat([r(g)]))},i);if(a(Rr(Rr(Rr({},e),t),b)),g<1)l=requestAnimationFrame(d);else{var S=Zl(function(w,k){return md.apply(void 0,Ew(k).concat([r(1)]))},i);a(Rr(Rr(Rr({},e),t),S))}};return d=r.isStepper?m:v,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function Es(e){"@babel/helpers - typeof";return Es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Es(e)}var lH=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function cH(e,t){if(e==null)return{};var r=uH(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uH(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Xp(e){return pH(e)||hH(e)||dH(e)||fH()}function fH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dH(e,t){if(e){if(typeof e=="string")return Jg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jg(e,t)}}function hH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pH(e){if(Array.isArray(e))return Jg(e)}function Jg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ia(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$w(Object(r),!0).forEach(function(n){Il(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$w(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Il(e,t,r){return t=D_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mH(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,D_(n.key),n)}}function yH(e,t,r){return t&&mH(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function D_(e){var t=vH(e,"string");return Es(t)==="symbol"?t:String(t)}function vH(e,t){if(Es(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Es(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&em(e,t)}function em(e,t){return em=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},em(e,t)}function bH(e){var t=wH();return function(){var n=yd(e),a;if(t){var o=yd(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return tm(this,a)}}function tm(e,t){if(t&&(Es(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rm(e)}function rm(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wH(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yd(e){return yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yd(e)}var ya=function(e){xH(r,e);var t=bH(r);function r(n,a){var o;gH(this,r),o=t.call(this,n,a);var i=o.props,s=i.isActive,l=i.attributeName,c=i.from,f=i.to,d=i.steps,h=i.children,p=i.duration;if(o.handleStyleChange=o.handleStyleChange.bind(rm(o)),o.changeStyle=o.changeStyle.bind(rm(o)),!s||p<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:f}),tm(o);if(d&&d.length)o.state={style:d[0].style};else if(c){if(typeof h=="function")return o.state={style:c},tm(o);o.state={style:l?Il({},l,c):c}}else o.state={style:{}};return o}return yH(r,[{key:"componentDidMount",value:function(){var a=this.props,o=a.isActive,i=a.canBegin;this.mounted=!0,!(!o||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var o=this.props,i=o.isActive,s=o.canBegin,l=o.attributeName,c=o.shouldReAnimate,f=o.to,d=o.from,h=this.state.style;if(s){if(!i){var p={style:l?Il({},l,f):f};this.state&&h&&(l&&h[l]!==f||!l&&h!==f)&&this.setState(p);return}if(!(PG(a.to,f)&&a.canBegin&&a.isActive)){var m=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=m||c?d:a.to;if(this.state&&h){var x={style:l?Il({},l,v):v};(l&&h[l]!==v||!l&&h!==v)&&this.setState(x)}this.runAnimation(ia(ia({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var o=this,i=a.from,s=a.to,l=a.duration,c=a.easing,f=a.begin,d=a.onAnimationEnd,h=a.onAnimationStart,p=sH(i,s,qG(c),l,this.changeStyle),m=function(){o.stopJSAnimation=p()};this.manager.start([h,f,m,l,d])}},{key:"runStepAnimation",value:function(a){var o=this,i=a.steps,s=a.begin,l=a.onAnimationStart,c=i[0],f=c.style,d=c.duration,h=d===void 0?0:d,p=function(v,x,y){if(y===0)return v;var g=x.duration,b=x.easing,S=b===void 0?"ease":b,w=x.style,k=x.properties,j=x.onAnimationEnd,_=y>0?i[y-1]:x,P=k||Object.keys(w);if(typeof S=="function"||S==="spring")return[].concat(Xp(v),[o.runJSAnimation.bind(o,{from:_.style,to:w,duration:g,easing:S}),g]);var A=Aw(P,g,S),N=ia(ia(ia({},_.style),w),{},{transition:A});return[].concat(Xp(v),[N,g,j]).filter(IG)};return this.manager.start([l].concat(Xp(i.reduce(p,[f,Math.max(h,s)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=$G());var o=a.begin,i=a.duration,s=a.attributeName,l=a.to,c=a.easing,f=a.onAnimationStart,d=a.onAnimationEnd,h=a.steps,p=a.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var v=s?Il({},s,l):l,x=Aw(Object.keys(v),i,c);m.start([f,o,ia(ia({},v),{},{transition:x}),i,d])}},{key:"render",value:function(){var a=this.props,o=a.children;a.begin;var i=a.duration;a.attributeName,a.easing;var s=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=cH(a,lH),c=O.Children.count(o),f=this.state.style;if(typeof o=="function")return o(f);if(!s||c===0||i<=0)return o;var d=function(p){var m=p.props,v=m.style,x=v===void 0?{}:v,y=m.className,g=O.cloneElement(p,ia(ia({},l),{},{style:ia(ia({},x),f),className:y}));return g};return c===1?d(O.Children.only(o)):M.createElement("div",null,O.Children.map(o,function(h){return d(h)}))}}]),r}(O.PureComponent);ya.displayName="Animate";ya.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ya.propTypes={from:gt.oneOfType([gt.object,gt.string]),to:gt.oneOfType([gt.object,gt.string]),attributeName:gt.string,duration:gt.number,begin:gt.number,easing:gt.oneOfType([gt.string,gt.func]),steps:gt.arrayOf(gt.shape({duration:gt.number.isRequired,style:gt.object.isRequired,easing:gt.oneOfType([gt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),gt.func]),properties:gt.arrayOf("string"),onAnimationEnd:gt.func})),children:gt.oneOfType([gt.node,gt.func]),isActive:gt.bool,canBegin:gt.bool,onAnimationEnd:gt.func,shouldReAnimate:gt.bool,onAnimationStart:gt.func,onAnimationReStart:gt.func};function Gc(e){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gc(e)}function vd(){return vd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vd.apply(this,arguments)}function kH(e,t){return _H(e)||OH(e,t)||jH(e,t)||SH()}function SH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jH(e,t){if(e){if(typeof e=="string")return Dw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dw(e,t)}}function Dw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function OH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function _H(e){if(Array.isArray(e))return e}function Rw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rw(Object(r),!0).forEach(function(n){PH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PH(e,t,r){return t=NH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NH(e){var t=AH(e,"string");return Gc(t)=="symbol"?t:t+""}function AH(e,t){if(Gc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Iw=function(t,r,n,a,o){var i=Math.min(Math.abs(n)/2,Math.abs(a)/2),s=a>=0?1:-1,l=n>=0?1:-1,c=a>=0&&n>=0||a<0&&n<0?1:0,f;if(i>0&&o instanceof Array){for(var d=[0,0,0,0],h=0,p=4;h<p;h++)d[h]=o[h]>i?i:o[h];f="M".concat(t,",").concat(r+s*d[0]),d[0]>0&&(f+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(t+l*d[0],",").concat(r)),f+="L ".concat(t+n-l*d[1],",").concat(r),d[1]>0&&(f+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(r+s*d[1])),f+="L ".concat(t+n,",").concat(r+a-s*d[2]),d[2]>0&&(f+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(t+n-l*d[2],",").concat(r+a)),f+="L ".concat(t+l*d[3],",").concat(r+a),d[3]>0&&(f+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+a-s*d[3])),f+="Z"}else if(i>0&&o===+o&&o>0){var m=Math.min(i,o);f="M ".concat(t,",").concat(r+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+l*m,",").concat(r,`
            L `).concat(t+n-l*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n,",").concat(r+s*m,`
            L `).concat(t+n,",").concat(r+a-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n-l*m,",").concat(r+a,`
            L `).concat(t+l*m,",").concat(r+a,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t,",").concat(r+a-s*m," Z")}else f="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return f},MH=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,o=r.x,i=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(o,o+s),f=Math.max(o,o+s),d=Math.min(i,i+l),h=Math.max(i,i+l);return n>=c&&n<=f&&a>=d&&a<=h}return!1},CH={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wv=function(t){var r=Lw(Lw({},CH),t),n=O.useRef(),a=O.useState(-1),o=kH(a,2),i=o[0],s=o[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&s(S)}catch{}},[]);var l=r.x,c=r.y,f=r.width,d=r.height,h=r.radius,p=r.className,m=r.animationEasing,v=r.animationDuration,x=r.animationBegin,y=r.isAnimationActive,g=r.isUpdateAnimationActive;if(l!==+l||c!==+c||f!==+f||d!==+d||f===0||d===0)return null;var b=tt("recharts-rectangle",p);return g?M.createElement(ya,{canBegin:i>0,from:{width:f,height:d,x:l,y:c},to:{width:f,height:d,x:l,y:c},duration:v,animationEasing:m,isActive:g},function(S){var w=S.width,k=S.height,j=S.x,_=S.y;return M.createElement(ya,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:v,isActive:y,easing:m},M.createElement("path",vd({},We(r,!0),{className:b,d:Iw(j,_,w,k,h),ref:n})))}):M.createElement("path",vd({},We(r,!0),{className:b,d:Iw(l,c,f,d,h)}))};function nm(){return nm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nm.apply(this,arguments)}var $h=function(t){var r=t.cx,n=t.cy,a=t.r,o=t.className,i=tt("recharts-dot",o);return r===+r&&n===+n&&a===+a?O.createElement("circle",nm({},We(t,!1),Lf(t),{className:i,cx:r,cy:n,r:a})):null};function Hc(e){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hc(e)}var EH=["x","y","top","left","width","height","className"];function am(){return am=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},am.apply(this,arguments)}function Bw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bw(Object(r),!0).forEach(function(n){$H(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $H(e,t,r){return t=DH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DH(e){var t=RH(e,"string");return Hc(t)=="symbol"?t:t+""}function RH(e,t){if(Hc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LH(e,t){if(e==null)return{};var r=IH(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function IH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var BH=function(t,r,n,a,o,i){return"M".concat(t,",").concat(o,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(n)},FH=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,o=a===void 0?0:a,i=t.top,s=i===void 0?0:i,l=t.left,c=l===void 0?0:l,f=t.width,d=f===void 0?0:f,h=t.height,p=h===void 0?0:h,m=t.className,v=LH(t,EH),x=TH({x:n,y:o,top:s,left:c,width:d,height:p},v);return!se(n)||!se(o)||!se(d)||!se(p)||!se(s)||!se(c)?null:M.createElement("path",am({},We(x,!0),{className:tt("recharts-cross",m),d:BH(n,o,d,p,s,c)}))},zH=qj,WH=zH(Object.getPrototypeOf,Object),UH=WH,GH=io,HH=UH,VH=so,KH="[object Object]",XH=Function.prototype,YH=Object.prototype,R_=XH.toString,qH=YH.hasOwnProperty,ZH=R_.call(Object);function QH(e){if(!VH(e)||GH(e)!=KH)return!1;var t=HH(e);if(t===null)return!0;var r=qH.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&R_.call(r)==ZH}var JH=QH;const eV=Lt(JH);var tV=io,rV=so,nV="[object Boolean]";function aV(e){return e===!0||e===!1||rV(e)&&tV(e)==nV}var oV=aV;const iV=Lt(oV);function Vc(e){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vc(e)}function xd(){return xd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xd.apply(this,arguments)}function sV(e,t){return fV(e)||uV(e,t)||cV(e,t)||lV()}function lV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cV(e,t){if(e){if(typeof e=="string")return Fw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fw(e,t)}}function Fw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function fV(e){if(Array.isArray(e))return e}function zw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ww(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zw(Object(r),!0).forEach(function(n){dV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dV(e,t,r){return t=hV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hV(e){var t=pV(e,"string");return Vc(t)=="symbol"?t:t+""}function pV(e,t){if(Vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uw=function(t,r,n,a,o){var i=n-a,s;return s="M ".concat(t,",").concat(r),s+="L ".concat(t+n,",").concat(r),s+="L ".concat(t+n-i/2,",").concat(r+o),s+="L ".concat(t+n-i/2-a,",").concat(r+o),s+="L ".concat(t,",").concat(r," Z"),s},gV={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},mV=function(t){var r=Ww(Ww({},gV),t),n=O.useRef(),a=O.useState(-1),o=sV(a,2),i=o[0],s=o[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&s(b)}catch{}},[]);var l=r.x,c=r.y,f=r.upperWidth,d=r.lowerWidth,h=r.height,p=r.className,m=r.animationEasing,v=r.animationDuration,x=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||c!==+c||f!==+f||d!==+d||h!==+h||f===0&&d===0||h===0)return null;var g=tt("recharts-trapezoid",p);return y?M.createElement(ya,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:f,lowerWidth:d,height:h,x:l,y:c},duration:v,animationEasing:m,isActive:y},function(b){var S=b.upperWidth,w=b.lowerWidth,k=b.height,j=b.x,_=b.y;return M.createElement(ya,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:v,easing:m},M.createElement("path",xd({},We(r,!0),{className:g,d:Uw(j,_,S,w,k),ref:n})))}):M.createElement("g",null,M.createElement("path",xd({},We(r,!0),{className:g,d:Uw(l,c,f,d,h)})))},yV=["option","shapeType","propTransformer","activeClassName","isActive"];function Kc(e){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kc(e)}function vV(e,t){if(e==null)return{};var r=xV(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Gw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gw(Object(r),!0).forEach(function(n){bV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bV(e,t,r){return t=wV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wV(e){var t=kV(e,"string");return Kc(t)=="symbol"?t:t+""}function kV(e,t){if(Kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SV(e,t){return bd(bd({},t),e)}function jV(e,t){return e==="symbols"}function Hw(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return M.createElement(wv,r);case"trapezoid":return M.createElement(mV,r);case"sector":return M.createElement(O_,r);case"symbols":if(jV(t))return M.createElement(wh,r);break;default:return null}}function OV(e){return O.isValidElement(e)?e.props:e}function om(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?SV:n,o=e.activeClassName,i=o===void 0?"recharts-active-shape":o,s=e.isActive,l=vV(e,yV),c;if(O.isValidElement(t))c=O.cloneElement(t,bd(bd({},l),OV(t)));else if(He(t))c=t(l);else if(eV(t)&&!iV(t)){var f=a(t,l);c=M.createElement(Hw,{shapeType:r,elementProps:f})}else{var d=l;c=M.createElement(Hw,{shapeType:r,elementProps:d})}return s?M.createElement(ct,{className:i},c):c}function Dh(e,t){return t!=null&&"trapezoids"in e.props}function Rh(e,t){return t!=null&&"sectors"in e.props}function Xc(e,t){return t!=null&&"points"in e.props}function _V(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,o=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&o}function PV(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function NV(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function AV(e,t){var r;return Dh(e,t)?r=_V:Rh(e,t)?r=PV:Xc(e,t)&&(r=NV),r}function MV(e,t){var r;return Dh(e,t)?r="trapezoids":Rh(e,t)?r="sectors":Xc(e,t)&&(r="points"),r}function CV(e,t){if(Dh(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Rh(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Xc(e,t)?t.payload:{}}function EV(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=MV(r,t),o=CV(r,t),i=n.filter(function(l,c){var f=bi(o,l),d=r.props[a].filter(function(m){var v=AV(r,t);return v(m,t)}),h=r.props[a].indexOf(d[d.length-1]),p=c===h;return f&&p}),s=n.indexOf(i[i.length-1]);return s}var TV=Math.ceil,$V=Math.max;function DV(e,t,r,n){for(var a=-1,o=$V(TV((t-e)/(r||1)),0),i=Array(o);o--;)i[n?o:++a]=e,e+=r;return i}var RV=DV,LV=gO,Vw=1/0,IV=17976931348623157e292;function BV(e){if(!e)return e===0?e:0;if(e=LV(e),e===Vw||e===-Vw){var t=e<0?-1:1;return t*IV}return e===e?e:0}var L_=BV,FV=RV,zV=jh,Yp=L_;function WV(e){return function(t,r,n){return n&&typeof n!="number"&&zV(t,r,n)&&(r=n=void 0),t=Yp(t),r===void 0?(r=t,t=0):r=Yp(r),n=n===void 0?t<r?1:-1:Yp(n),FV(t,r,n,e)}}var UV=WV,GV=UV,HV=GV(),VV=HV;const wd=Lt(VV);function Yc(e){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yc(e)}function Kw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kw(Object(r),!0).forEach(function(n){I_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I_(e,t,r){return t=KV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KV(e){var t=XV(e,"string");return Yc(t)=="symbol"?t:t+""}function XV(e,t){if(Yc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YV=["Webkit","Moz","O","ms"],qV=function(t,r){var n=t.replace(/(\w)/,function(o){return o.toUpperCase()}),a=YV.reduce(function(o,i){return Xw(Xw({},o),{},I_({},i+n,r))},{});return a[t]=r,a};function Ts(e){"@babel/helpers - typeof";return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ts(e)}function kd(){return kd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kd.apply(this,arguments)}function Yw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yw(Object(r),!0).forEach(function(n){Nn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,F_(n.key),n)}}function QV(e,t,r){return t&&qw(e.prototype,t),r&&qw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function JV(e,t,r){return t=Sd(t),eK(e,B_()?Reflect.construct(t,r||[],Sd(e).constructor):t.apply(e,r))}function eK(e,t){if(t&&(Ts(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tK(e)}function tK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B_=function(){return!!e})()}function Sd(e){return Sd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sd(e)}function rK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&im(e,t)}function im(e,t){return im=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},im(e,t)}function Nn(e,t,r){return t=F_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F_(e){var t=nK(e,"string");return Ts(t)=="symbol"?t:t+""}function nK(e,t){if(Ts(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ts(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var aK=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,o=t.x,i=t.width,s=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=Yl().domain(wd(0,l)).range([o,o+i-s]),f=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(a),scale:c,scaleValues:f}},Zw=function(t){return t.changedTouches&&!!t.changedTouches.length},$s=function(e){function t(r){var n;return ZV(this,t),n=JV(this,t,[r]),Nn(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Nn(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Nn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,o=a.endIndex,i=a.onDragEnd,s=a.startIndex;i==null||i({endIndex:o,startIndex:s})}),n.detachDragEndListener()}),Nn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Nn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Nn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Nn(n,"handleSlideDragStart",function(a){var o=Zw(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return rK(t,e),QV(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,o=n.endX,i=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,f=c.length-1,d=Math.min(a,o),h=Math.max(a,o),p=t.getIndexInRange(i,d),m=t.getIndexInRange(i,h);return{startIndex:p-p%l,endIndex:m===f?f:m-m%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,o=a.data,i=a.tickFormatter,s=a.dataKey,l=jr(o[n],s,n);return He(i)?i(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,o=a.slideMoveStartX,i=a.startX,s=a.endX,l=this.props,c=l.x,f=l.width,d=l.travellerWidth,h=l.startIndex,p=l.endIndex,m=l.onChange,v=n.pageX-o;v>0?v=Math.min(v,c+f-d-s,c+f-d-i):v<0&&(v=Math.max(v,c-i,c-s));var x=this.getIndex({startX:i+v,endX:s+v});(x.startIndex!==h||x.endIndex!==p)&&m&&m(x),this.setState({startX:i+v,endX:s+v,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var o=Zw(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,o=a.brushMoveStartX,i=a.movingTravellerId,s=a.endX,l=a.startX,c=this.state[i],f=this.props,d=f.x,h=f.width,p=f.travellerWidth,m=f.onChange,v=f.gap,x=f.data,y={startX:this.state.startX,endX:this.state.endX},g=n.pageX-o;g>0?g=Math.min(g,d+h-p-c):g<0&&(g=Math.max(g,d-c)),y[i]=c+g;var b=this.getIndex(y),S=b.startIndex,w=b.endIndex,k=function(){var _=x.length-1;return i==="startX"&&(s>l?S%v===0:w%v===0)||s<l&&w===_||i==="endX"&&(s>l?w%v===0:S%v===0)||s>l&&w===_};this.setState(Nn(Nn({},i,c+g),"brushMoveStartX",n.pageX),function(){m&&k()&&m(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var o=this,i=this.state,s=i.scaleValues,l=i.startX,c=i.endX,f=this.state[a],d=s.indexOf(f);if(d!==-1){var h=d+n;if(!(h===-1||h>=s.length)){var p=s[h];a==="startX"&&p>=c||a==="endX"&&p<=l||this.setState(Nn({},a,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.fill,c=n.stroke;return M.createElement("rect",{stroke:c,fill:l,x:a,y:o,width:i,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.data,c=n.children,f=n.padding,d=O.Children.only(c);return d?M.cloneElement(d,{x:a,y:o,width:i,height:s,margin:f,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var o,i,s=this,l=this.props,c=l.y,f=l.travellerWidth,d=l.height,h=l.traveller,p=l.ariaLabel,m=l.data,v=l.startIndex,x=l.endIndex,y=Math.max(n,this.props.x),g=qp(qp({},We(this.props,!1)),{},{x:y,y:c,width:f,height:d}),b=p||"Min value: ".concat((o=m[v])===null||o===void 0?void 0:o.name,", Max value: ").concat((i=m[x])===null||i===void 0?void 0:i.name);return M.createElement(ct,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),s.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,a))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,g))}},{key:"renderSlide",value:function(n,a){var o=this.props,i=o.y,s=o.height,l=o.stroke,c=o.travellerWidth,f=Math.min(n,a)+c,d=Math.max(Math.abs(a-n)-c,0);return M.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:f,y:i,width:d,height:s})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,o=n.endIndex,i=n.y,s=n.height,l=n.travellerWidth,c=n.stroke,f=this.state,d=f.startX,h=f.endX,p=5,m={pointerEvents:"none",fill:c};return M.createElement(ct,{className:"recharts-brush-texts"},M.createElement(Zf,kd({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-p,y:i+s/2},m),this.getTextOfTick(a)),M.createElement(Zf,kd({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+p,y:i+s/2},m),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,a=n.data,o=n.className,i=n.children,s=n.x,l=n.y,c=n.width,f=n.height,d=n.alwaysShowText,h=this.state,p=h.startX,m=h.endX,v=h.isTextActive,x=h.isSlideMoving,y=h.isTravellerMoving,g=h.isTravellerFocused;if(!a||!a.length||!se(s)||!se(l)||!se(c)||!se(f)||c<=0||f<=0)return null;var b=tt("recharts-brush",o),S=M.Children.count(i)===1,w=qV("userSelect","none");return M.createElement(ct,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(v||x||y||g||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,o=n.y,i=n.width,s=n.height,l=n.stroke,c=Math.floor(o+s/2)-1;return M.createElement(M.Fragment,null,M.createElement("rect",{x:a,y:o,width:i,height:s,fill:l,stroke:"none"}),M.createElement("line",{x1:a+1,y1:c,x2:a+i-1,y2:c,fill:"none",stroke:"#fff"}),M.createElement("line",{x1:a+1,y1:c+2,x2:a+i-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var o;return M.isValidElement(n)?o=M.cloneElement(n,a):He(n)?o=n(a):o=t.renderDefaultTraveller(a),o}},{key:"getDerivedStateFromProps",value:function(n,a){var o=n.data,i=n.width,s=n.x,l=n.travellerWidth,c=n.updateId,f=n.startIndex,d=n.endIndex;if(o!==a.prevData||c!==a.prevUpdateId)return qp({prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:i},o&&o.length?aK({data:o,width:i,x:s,travellerWidth:l,startIndex:f,endIndex:d}):{scale:null,scaleValues:null});if(a.scale&&(i!==a.prevWidth||s!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([s,s+i-l]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:i,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var o=n.length,i=0,s=o-1;s-i>1;){var l=Math.floor((i+s)/2);n[l]>a?s=l:i=l}return a>=n[s]?s:i}}])}(O.PureComponent);Nn($s,"displayName","Brush");Nn($s,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var oK=Vy;function iK(e,t){var r;return oK(e,function(n,a,o){return r=t(n,a,o),!r}),!!r}var sK=iK,lK=Wj,cK=Fo,uK=sK,fK=kn,dK=jh;function hK(e,t,r){var n=fK(e)?lK:uK;return r&&dK(e,t,r)&&(t=void 0),n(e,cK(t))}var pK=hK;const gK=Lt(pK);var Ea=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},Qw=uO;function mK(e,t,r){t=="__proto__"&&Qw?Qw(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var yK=mK,vK=yK,xK=lO,bK=Fo;function wK(e,t){var r={};return t=bK(t),xK(e,function(n,a,o){vK(r,a,t(n,a,o))}),r}var kK=wK;const SK=Lt(kK);function jK(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var OK=jK,_K=Vy;function PK(e,t){var r=!0;return _K(e,function(n,a,o){return r=!!t(n,a,o),r}),r}var NK=PK,AK=OK,MK=NK,CK=Fo,EK=kn,TK=jh;function $K(e,t,r){var n=EK(e)?AK:MK;return r&&TK(e,t,r)&&(t=void 0),n(e,CK(t))}var DK=$K;const z_=Lt(DK);var RK=["x","y"];function qc(e){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qc(e)}function sm(){return sm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sm.apply(this,arguments)}function Jw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jw(Object(r),!0).forEach(function(n){LK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LK(e,t,r){return t=IK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IK(e){var t=BK(e,"string");return qc(t)=="symbol"?t:t+""}function BK(e,t){if(qc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FK(e,t){if(e==null)return{};var r=zK(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function WK(e,t){var r=e.x,n=e.y,a=FK(e,RK),o="".concat(r),i=parseInt(o,10),s="".concat(n),l=parseInt(s,10),c="".concat(t.height||a.height),f=parseInt(c,10),d="".concat(t.width||a.width),h=parseInt(d,10);return Tl(Tl(Tl(Tl(Tl({},t),a),i?{x:i}:{}),l?{y:l}:{}),{},{height:f,width:h,name:t.name,radius:t.radius})}function e2(e){return M.createElement(om,sm({shapeType:"rectangle",propTransformer:WK,activeClassName:"recharts-active-bar"},e))}var UK=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var o=se(n)||nT(n);return o?t(n,a):(o||ki(),r)}},GK=["value","background"],W_;function Ds(e){"@babel/helpers - typeof";return Ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ds(e)}function HK(e,t){if(e==null)return{};var r=VK(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jd(){return jd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jd.apply(this,arguments)}function t2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t2(Object(r),!0).forEach(function(n){So(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,G_(n.key),n)}}function XK(e,t,r){return t&&r2(e.prototype,t),r&&r2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function YK(e,t,r){return t=Od(t),qK(e,U_()?Reflect.construct(t,r||[],Od(e).constructor):t.apply(e,r))}function qK(e,t){if(t&&(Ds(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZK(e)}function ZK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U_=function(){return!!e})()}function Od(e){return Od=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Od(e)}function QK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lm(e,t)}function lm(e,t){return lm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},lm(e,t)}function So(e,t,r){return t=G_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G_(e){var t=JK(e,"string");return Ds(t)=="symbol"?t:t+""}function JK(e,t){if(Ds(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ds(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var du=function(e){function t(){var r;KK(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=YK(this,t,[].concat(a)),So(r,"state",{isAnimationFinished:!1}),So(r,"id",Ni("recharts-bar-")),So(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),i&&i()}),So(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),i&&i()}),r}return QK(t,e),XK(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,o=this.props,i=o.shape,s=o.dataKey,l=o.activeIndex,c=o.activeBar,f=We(this.props,!1);return n&&n.map(function(d,h){var p=h===l,m=p?c:i,v=hr(hr(hr({},f),d),{},{isActive:p,option:m,index:h,dataKey:s,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return M.createElement(ct,jd({className:"recharts-bar-rectangle"},xc(a.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),M.createElement(e2,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,o=a.data,i=a.layout,s=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,f=a.animationEasing,d=a.animationId,h=this.state.prevData;return M.createElement(ya,{begin:l,duration:c,isActive:s,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,v=o.map(function(x,y){var g=h&&h[y];if(g){var b=lr(g.x,x.x),S=lr(g.y,x.y),w=lr(g.width,x.width),k=lr(g.height,x.height);return hr(hr({},x),{},{x:b(m),y:S(m),width:w(m),height:k(m)})}if(i==="horizontal"){var j=lr(0,x.height),_=j(m);return hr(hr({},x),{},{y:x.y+x.height-_,height:_})}var P=lr(0,x.width),A=P(m);return hr(hr({},x),{},{width:A})});return M.createElement(ct,null,n.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,o=n.isAnimationActive,i=this.state.prevData;return o&&a&&a.length&&(!i||!bi(i,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,o=a.data,i=a.dataKey,s=a.activeIndex,l=We(this.props.background,!1);return o.map(function(c,f){c.value;var d=c.background,h=HK(c,GK);if(!d)return null;var p=hr(hr(hr(hr(hr({},h),{},{fill:"#eee"},d),l),xc(n.props,c,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:i,index:f,className:"recharts-bar-background-rectangle"});return M.createElement(e2,jd({key:"background-bar-".concat(f),option:n.props.background,isActive:f===s},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.data,s=o.xAxis,l=o.yAxis,c=o.layout,f=o.children,d=wn(f,ul);if(!d)return null;var h=c==="vertical"?i[0].height/2:i[0].width/2,p=function(x,y){var g=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:g,errorVal:jr(x,y)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return M.createElement(ct,m,d.map(function(v){return M.cloneElement(v,{key:"error-bar-".concat(a,"-").concat(v.props.dataKey),data:i,xAxis:s,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,o=n.data,i=n.className,s=n.xAxis,l=n.yAxis,c=n.left,f=n.top,d=n.width,h=n.height,p=n.isAnimationActive,m=n.background,v=n.id;if(a||!o||!o.length)return null;var x=this.state.isAnimationFinished,y=tt("recharts-bar",i),g=s&&s.allowDataOverflow,b=l&&l.allowDataOverflow,S=g||b,w=Fe(v)?this.id:v;return M.createElement(ct,{className:y},g||b?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(w)},M.createElement("rect",{x:g?c:c-d/2,y:b?f:f-h/2,width:g?d:d*2,height:b?h:h*2}))):null,M.createElement(ct,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(w,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,w),(!p||x)&&Ca.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(O.PureComponent);W_=du;So(du,"displayName","Bar");So(du,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!zo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});So(du,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,o=e.xAxis,i=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,f=e.dataStartIndex,d=e.displayedData,h=e.offset,p=_W(n,r);if(!p)return null;var m=t.layout,v=r.type.defaultProps,x=v!==void 0?hr(hr({},v),r.props):r.props,y=x.dataKey,g=x.children,b=x.minPointSize,S=m==="horizontal"?i:o,w=c?S.scale.domain():null,k=$W({numericAxis:S}),j=wn(g,Yy),_=d.map(function(P,A){var N,C,z,$,L,I;c?N=PW(c[f+A],w):(N=jr(P,y),Array.isArray(N)||(N=[k,N]));var B=UK(b,W_.defaultProps.minPointSize)(N[1],A);if(m==="horizontal"){var R,T=[i.scale(N[0]),i.scale(N[1])],G=T[0],ee=T[1];C=aw({axis:o,ticks:s,bandSize:a,offset:p.offset,entry:P,index:A}),z=(R=ee??G)!==null&&R!==void 0?R:void 0,$=p.size;var Y=G-ee;if(L=Number.isNaN(Y)?0:Y,I={x:C,y:i.y,width:$,height:i.height},Math.abs(B)>0&&Math.abs(L)<Math.abs(B)){var K=ha(L||B)*(Math.abs(B)-Math.abs(L));z-=K,L+=K}}else{var H=[o.scale(N[0]),o.scale(N[1])],fe=H[0],ce=H[1];if(C=fe,z=aw({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:P,index:A}),$=ce-fe,L=p.size,I={x:o.x,y:z,width:o.width,height:L},Math.abs(B)>0&&Math.abs($)<Math.abs(B)){var Oe=ha($||B)*(Math.abs(B)-Math.abs($));$+=Oe}}return hr(hr(hr({},P),{},{x:C,y:z,width:$,height:L,value:c?N:N[1],payload:P,background:I},j&&j[A]&&j[A].props),{},{tooltipPayload:[k_(r,P)],tooltipPosition:{x:C+$/2,y:z+L/2}})});return hr({data:_,layout:m},h)});function Zc(e){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zc(e)}function eX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,H_(n.key),n)}}function tX(e,t,r){return t&&n2(e.prototype,t),r&&n2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ca(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a2(Object(r),!0).forEach(function(n){Lh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lh(e,t,r){return t=H_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H_(e){var t=rX(e,"string");return Zc(t)=="symbol"?t:t+""}function rX(e,t){if(Zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kv=function(t,r,n,a,o){var i=t.width,s=t.height,l=t.layout,c=t.children,f=Object.keys(r),d={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!Mn(c,du);return f.reduce(function(p,m){var v=r[m],x=v.orientation,y=v.domain,g=v.padding,b=g===void 0?{}:g,S=v.mirror,w=v.reversed,k="".concat(x).concat(S?"Mirror":""),j,_,P,A,N;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var C=y[1]-y[0],z=1/0,$=v.categoricalDomain.sort(sT);if($.forEach(function(H,fe){fe>0&&(z=Math.min((H||0)-($[fe-1]||0),z))}),Number.isFinite(z)){var L=z/C,I=v.layout==="vertical"?n.height:n.width;if(v.padding==="gap"&&(j=L*I/2),v.padding==="no-gap"){var B=xi(t.barCategoryGap,L*I),R=L*I/2;j=R-B-(R-B)/I*B}}}a==="xAxis"?_=[n.left+(b.left||0)+(j||0),n.left+n.width-(b.right||0)-(j||0)]:a==="yAxis"?_=l==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(j||0),n.top+n.height-(b.bottom||0)-(j||0)]:_=v.range,w&&(_=[_[1],_[0]]);var T=jW(v,o,h),G=T.scale,ee=T.realScaleType;G.domain(y).range(_),OW(G);var Y=TW(G,ca(ca({},v),{},{realScaleType:ee}));a==="xAxis"?(N=x==="top"&&!S||x==="bottom"&&S,P=n.left,A=d[k]-N*v.height):a==="yAxis"&&(N=x==="left"&&!S||x==="right"&&S,P=d[k]-N*v.width,A=n.top);var K=ca(ca(ca({},v),Y),{},{realScaleType:ee,x:P,y:A,scale:G,width:a==="xAxis"?n.width:v.width,height:a==="yAxis"?n.height:v.height});return K.bandSize=fd(K,Y),!v.hide&&a==="xAxis"?d[k]+=(N?-1:1)*K.height:v.hide||(d[k]+=(N?-1:1)*K.width),ca(ca({},p),{},Lh({},m,K))},{})},V_=function(t,r){var n=t.x,a=t.y,o=r.x,i=r.y;return{x:Math.min(n,o),y:Math.min(a,i),width:Math.abs(o-n),height:Math.abs(i-a)}},nX=function(t){var r=t.x1,n=t.y1,a=t.x2,o=t.y2;return V_({x:r,y:n},{x:a,y:o})},K_=function(){function e(t){eX(this,e),this.scale=t}return tX(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],o=n[n.length-1];return a<=o?r>=a&&r<=o:r>=o&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Lh(K_,"EPS",1e-4);var Sv=function(t){var r=Object.keys(t).reduce(function(n,a){return ca(ca({},n),{},Lh({},a,K_.create(t[a])))},{});return ca(ca({},r),{},{apply:function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=o.bandAware,s=o.position;return SK(a,function(l,c){return r[c].apply(l,{bandAware:i,position:s})})},isInRange:function(a){return z_(a,function(o,i){return r[i].isInRange(o)})}})};function aX(e){return(e%180+180)%180}var oX=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=aX(a),i=o*Math.PI/180,s=Math.atan(n/r),l=i>s&&i<Math.PI-s?n/Math.sin(i):r/Math.cos(i);return Math.abs(l)},iX=Fo,sX=su,lX=kh;function cX(e){return function(t,r,n){var a=Object(t);if(!sX(t)){var o=iX(r);t=lX(t),r=function(s){return o(a[s],s,a)}}var i=e(t,r,n);return i>-1?a[o?t[i]:i]:void 0}}var uX=cX,fX=L_;function dX(e){var t=fX(e),r=t%1;return t===t?r?t-r:t:0}var hX=dX,pX=rO,gX=Fo,mX=hX,yX=Math.max;function vX(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:mX(r);return a<0&&(a=yX(n+a,0)),pX(e,gX(t),a)}var xX=vX,bX=uX,wX=xX,kX=bX(wX),SX=kX;const jX=Lt(SX);var OX=c5(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),jv=O.createContext(void 0),Ov=O.createContext(void 0),X_=O.createContext(void 0),Y_=O.createContext({}),q_=O.createContext(void 0),Z_=O.createContext(0),Q_=O.createContext(0),o2=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,o=r.offset,i=t.clipPathId,s=t.children,l=t.width,c=t.height,f=OX(o);return M.createElement(jv.Provider,{value:n},M.createElement(Ov.Provider,{value:a},M.createElement(Y_.Provider,{value:o},M.createElement(X_.Provider,{value:f},M.createElement(q_.Provider,{value:i},M.createElement(Z_.Provider,{value:c},M.createElement(Q_.Provider,{value:l},s)))))))},_X=function(){return O.useContext(q_)},J_=function(t){var r=O.useContext(jv);r==null&&ki();var n=r[t];return n==null&&ki(),n},PX=function(){var t=O.useContext(jv);return xo(t)},NX=function(){var t=O.useContext(Ov),r=jX(t,function(n){return z_(n.domain,Number.isFinite)});return r||xo(t)},eP=function(t){var r=O.useContext(Ov);r==null&&ki();var n=r[t];return n==null&&ki(),n},AX=function(){var t=O.useContext(X_);return t},MX=function(){return O.useContext(Y_)},_v=function(){return O.useContext(Q_)},Pv=function(){return O.useContext(Z_)};function Rs(e){"@babel/helpers - typeof";return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rs(e)}function CX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rP(n.key),n)}}function TX(e,t,r){return t&&EX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $X(e,t,r){return t=_d(t),DX(e,tP()?Reflect.construct(t,r||[],_d(e).constructor):t.apply(e,r))}function DX(e,t){if(t&&(Rs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RX(e)}function RX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tP=function(){return!!e})()}function _d(e){return _d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_d(e)}function LX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cm(e,t)}function cm(e,t){return cm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cm(e,t)}function i2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function s2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i2(Object(r),!0).forEach(function(n){Nv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nv(e,t,r){return t=rP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rP(e){var t=IX(e,"string");return Rs(t)=="symbol"?t:t+""}function IX(e,t){if(Rs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function BX(e,t){return UX(e)||WX(e,t)||zX(e,t)||FX()}function FX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zX(e,t){if(e){if(typeof e=="string")return l2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l2(e,t)}}function l2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function WX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function UX(e){if(Array.isArray(e))return e}function um(){return um=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},um.apply(this,arguments)}var GX=function(t,r){var n;return M.isValidElement(t)?n=M.cloneElement(t,r):He(t)?n=t(r):n=M.createElement("line",um({},r,{className:"recharts-reference-line-line"})),n},HX=function(t,r,n,a,o,i,s,l,c){var f=o.x,d=o.y,h=o.width,p=o.height;if(n){var m=c.y,v=t.y.apply(m,{position:i});if(Ea(c,"discard")&&!t.y.isInRange(v))return null;var x=[{x:f+h,y:v},{x:f,y:v}];return l==="left"?x.reverse():x}if(r){var y=c.x,g=t.x.apply(y,{position:i});if(Ea(c,"discard")&&!t.x.isInRange(g))return null;var b=[{x:g,y:d+p},{x:g,y:d}];return s==="top"?b.reverse():b}if(a){var S=c.segment,w=S.map(function(k){return t.apply(k,{position:i})});return Ea(c,"discard")&&gK(w,function(k){return!t.isInRange(k)})?null:w}return null};function VX(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,o=e.yAxisId,i=e.shape,s=e.className,l=e.alwaysShow,c=_X(),f=J_(a),d=eP(o),h=AX();if(!c||!h)return null;Ya(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Sv({x:f.scale,y:d.scale}),m=Sr(t),v=Sr(r),x=n&&n.length===2,y=HX(p,m,v,x,h,e.position,f.orientation,d.orientation,e);if(!y)return null;var g=BX(y,2),b=g[0],S=b.x,w=b.y,k=g[1],j=k.x,_=k.y,P=Ea(e,"hidden")?"url(#".concat(c,")"):void 0,A=s2(s2({clipPath:P},We(e,!0)),{},{x1:S,y1:w,x2:j,y2:_});return M.createElement(ct,{className:tt("recharts-reference-line",s)},GX(i,A),qr.renderCallByParent(e,nX({x1:S,y1:w,x2:j,y2:_})))}var ai=function(e){function t(){return CX(this,t),$X(this,t,arguments)}return LX(t,e),TX(t,[{key:"render",value:function(){return M.createElement(VX,this.props)}}])}(M.Component);Nv(ai,"displayName","ReferenceLine");Nv(ai,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function fm(){return fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fm.apply(this,arguments)}function Ls(e){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ls(e)}function c2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function u2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c2(Object(r),!0).forEach(function(n){Ih(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aP(n.key),n)}}function YX(e,t,r){return t&&XX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qX(e,t,r){return t=Pd(t),ZX(e,nP()?Reflect.construct(t,r||[],Pd(e).constructor):t.apply(e,r))}function ZX(e,t){if(t&&(Ls(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QX(e)}function QX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nP=function(){return!!e})()}function Pd(e){return Pd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pd(e)}function JX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dm(e,t)}function dm(e,t){return dm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},dm(e,t)}function Ih(e,t,r){return t=aP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aP(e){var t=eY(e,"string");return Ls(t)=="symbol"?t:t+""}function eY(e,t){if(Ls(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ls(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var tY=function(t){var r=t.x,n=t.y,a=t.xAxis,o=t.yAxis,i=Sv({x:a.scale,y:o.scale}),s=i.apply({x:r,y:n},{bandAware:!0});return Ea(t,"discard")&&!i.isInRange(s)?null:s},Bh=function(e){function t(){return KX(this,t),qX(this,t,arguments)}return JX(t,e),YX(t,[{key:"render",value:function(){var n=this.props,a=n.x,o=n.y,i=n.r,s=n.alwaysShow,l=n.clipPathId,c=Sr(a),f=Sr(o);if(Ya(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!f)return null;var d=tY(this.props);if(!d)return null;var h=d.x,p=d.y,m=this.props,v=m.shape,x=m.className,y=Ea(this.props,"hidden")?"url(#".concat(l,")"):void 0,g=u2(u2({clipPath:y},We(this.props,!0)),{},{cx:h,cy:p});return M.createElement(ct,{className:tt("recharts-reference-dot",x)},t.renderDot(v,g),qr.renderCallByParent(this.props,{x:h-i,y:p-i,width:2*i,height:2*i}))}}])}(M.Component);Ih(Bh,"displayName","ReferenceDot");Ih(Bh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Ih(Bh,"renderDot",function(e,t){var r;return M.isValidElement(e)?r=M.cloneElement(e,t):He(e)?r=e(t):r=M.createElement($h,fm({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function hm(){return hm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hm.apply(this,arguments)}function Is(e){"@babel/helpers - typeof";return Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Is(e)}function f2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function d2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f2(Object(r),!0).forEach(function(n){Fh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iP(n.key),n)}}function aY(e,t,r){return t&&nY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function oY(e,t,r){return t=Nd(t),iY(e,oP()?Reflect.construct(t,r||[],Nd(e).constructor):t.apply(e,r))}function iY(e,t){if(t&&(Is(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sY(e)}function sY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oP=function(){return!!e})()}function Nd(e){return Nd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nd(e)}function lY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pm(e,t)}function pm(e,t){return pm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},pm(e,t)}function Fh(e,t,r){return t=iP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iP(e){var t=cY(e,"string");return Is(t)=="symbol"?t:t+""}function cY(e,t){if(Is(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Is(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var uY=function(t,r,n,a,o){var i=o.x1,s=o.x2,l=o.y1,c=o.y2,f=o.xAxis,d=o.yAxis;if(!f||!d)return null;var h=Sv({x:f.scale,y:d.scale}),p={x:t?h.x.apply(i,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:r?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(c,{position:"end"}):h.y.rangeMax};return Ea(o,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:V_(p,m)},hu=function(e){function t(){return rY(this,t),oY(this,t,arguments)}return lY(t,e),aY(t,[{key:"render",value:function(){var n=this.props,a=n.x1,o=n.x2,i=n.y1,s=n.y2,l=n.className,c=n.alwaysShow,f=n.clipPathId;Ya(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Sr(a),h=Sr(o),p=Sr(i),m=Sr(s),v=this.props.shape;if(!d&&!h&&!p&&!m&&!v)return null;var x=uY(d,h,p,m,this.props);if(!x&&!v)return null;var y=Ea(this.props,"hidden")?"url(#".concat(f,")"):void 0;return M.createElement(ct,{className:tt("recharts-reference-area",l)},t.renderRect(v,d2(d2({clipPath:y},We(this.props,!0)),x)),qr.renderCallByParent(this.props,x))}}])}(M.Component);Fh(hu,"displayName","ReferenceArea");Fh(hu,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Fh(hu,"renderRect",function(e,t){var r;return M.isValidElement(e)?r=M.cloneElement(e,t):He(e)?r=e(t):r=M.createElement(wv,hm({},t,{className:"recharts-reference-area-rect"})),r});function sP(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function fY(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return oX(n,r)}function dY(e,t,r){var n=r==="width",a=e.x,o=e.y,i=e.width,s=e.height;return t===1?{start:n?a:o,end:n?a+i:o+s}:{start:n?a+i:o+s,end:n?a:o}}function Ad(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var o=r();return e*(t-e*o/2-n)>=0&&e*(t+e*o/2-a)<=0}function hY(e,t){return sP(e,t+1)}function pY(e,t,r,n,a){for(var o=(n||[]).slice(),i=t.start,s=t.end,l=0,c=1,f=i,d=function(){var m=n==null?void 0:n[l];if(m===void 0)return{v:sP(n,c)};var v=l,x,y=function(){return x===void 0&&(x=r(m,v)),x},g=m.coordinate,b=l===0||Ad(e,g,y,f,s);b||(l=0,f=i,c+=1),b&&(f=g+e*(y()/2+a),l+=c)},h;c<=o.length;)if(h=d(),h)return h.v;return[]}function Qc(e){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qc(e)}function h2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h2(Object(r),!0).forEach(function(n){gY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gY(e,t,r){return t=mY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mY(e){var t=yY(e,"string");return Qc(t)=="symbol"?t:t+""}function yY(e,t){if(Qc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vY(e,t,r,n,a){for(var o=(n||[]).slice(),i=o.length,s=t.start,l=t.end,c=function(h){var p=o[h],m,v=function(){return m===void 0&&(m=r(p,h)),m};if(h===i-1){var x=e*(p.coordinate+e*v()/2-l);o[h]=p=Xr(Xr({},p),{},{tickCoord:x>0?p.coordinate-x*e:p.coordinate})}else o[h]=p=Xr(Xr({},p),{},{tickCoord:p.coordinate});var y=Ad(e,p.tickCoord,v,s,l);y&&(l=p.tickCoord-e*(v()/2+a),o[h]=Xr(Xr({},p),{},{isShow:!0}))},f=i-1;f>=0;f--)c(f);return o}function xY(e,t,r,n,a,o){var i=(n||[]).slice(),s=i.length,l=t.start,c=t.end;if(o){var f=n[s-1],d=r(f,s-1),h=e*(f.coordinate+e*d/2-c);i[s-1]=f=Xr(Xr({},f),{},{tickCoord:h>0?f.coordinate-h*e:f.coordinate});var p=Ad(e,f.tickCoord,function(){return d},l,c);p&&(c=f.tickCoord-e*(d/2+a),i[s-1]=Xr(Xr({},f),{},{isShow:!0}))}for(var m=o?s-1:s,v=function(g){var b=i[g],S,w=function(){return S===void 0&&(S=r(b,g)),S};if(g===0){var k=e*(b.coordinate-e*w()/2-l);i[g]=b=Xr(Xr({},b),{},{tickCoord:k<0?b.coordinate-k*e:b.coordinate})}else i[g]=b=Xr(Xr({},b),{},{tickCoord:b.coordinate});var j=Ad(e,b.tickCoord,w,l,c);j&&(l=b.tickCoord+e*(w()/2+a),i[g]=Xr(Xr({},b),{},{isShow:!0}))},x=0;x<m;x++)v(x);return i}function Av(e,t,r){var n=e.tick,a=e.ticks,o=e.viewBox,i=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,f=e.unit,d=e.angle;if(!a||!a.length||!n)return[];if(se(l)||zo.isSsr)return hY(a,typeof l=="number"&&se(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",m=f&&p==="width"?Xl(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=function(b,S){var w=He(c)?c(b.value,S):b.value;return p==="width"?fY(Xl(w,{fontSize:t,letterSpacing:r}),m,d):Xl(w,{fontSize:t,letterSpacing:r})[p]},x=a.length>=2?ha(a[1].coordinate-a[0].coordinate):1,y=dY(o,x,p);return l==="equidistantPreserveStart"?pY(x,y,v,a,i):(l==="preserveStart"||l==="preserveStartEnd"?h=xY(x,y,v,a,i,l==="preserveStartEnd"):h=vY(x,y,v,a,i),h.filter(function(g){return g.isShow}))}var bY=["viewBox"],wY=["viewBox"],kY=["ticks"];function Bs(e){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bs(e)}function ns(){return ns=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ns.apply(this,arguments)}function p2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p2(Object(r),!0).forEach(function(n){Mv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zp(e,t){if(e==null)return{};var r=SY(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function SY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cP(n.key),n)}}function OY(e,t,r){return t&&g2(e.prototype,t),r&&g2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _Y(e,t,r){return t=Md(t),PY(e,lP()?Reflect.construct(t,r||[],Md(e).constructor):t.apply(e,r))}function PY(e,t){if(t&&(Bs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NY(e)}function NY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lP=function(){return!!e})()}function Md(e){return Md=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Md(e)}function AY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gm(e,t)}function gm(e,t){return gm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gm(e,t)}function Mv(e,t,r){return t=cP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cP(e){var t=MY(e,"string");return Bs(t)=="symbol"?t:t+""}function MY(e,t){if(Bs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fl=function(e){function t(r){var n;return jY(this,t),n=_Y(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return AY(t,e),OY(t,[{key:"shouldComponentUpdate",value:function(n,a){var o=n.viewBox,i=Zp(n,bY),s=this.props,l=s.viewBox,c=Zp(s,wY);return!fs(o,l)||!fs(i,c)||!fs(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,o=a.x,i=a.y,s=a.width,l=a.height,c=a.orientation,f=a.tickSize,d=a.mirror,h=a.tickMargin,p,m,v,x,y,g,b=d?-1:1,S=n.tickSize||f,w=se(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":p=m=n.coordinate,x=i+ +!d*l,v=x-b*S,g=v-b*h,y=w;break;case"left":v=x=n.coordinate,m=o+ +!d*s,p=m-b*S,y=p-b*h,g=w;break;case"right":v=x=n.coordinate,m=o+ +d*s,p=m+b*S,y=p+b*h,g=w;break;default:p=m=n.coordinate,x=i+ +d*l,v=x+b*S,g=v+b*h,y=w;break}return{line:{x1:p,y1:v,x2:m,y2:x},tick:{x:y,y:g}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,o=n.mirror,i;switch(a){case"left":i=o?"start":"end";break;case"right":i=o?"end":"start";break;default:i="middle";break}return i}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,o=n.mirror,i="end";switch(a){case"left":case"right":i="middle";break;case"top":i=o?"start":"end";break;default:i=o?"end":"start";break}return i}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.orientation,c=n.mirror,f=n.axisLine,d=xr(xr(xr({},We(this.props,!1)),We(f,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);d=xr(xr({},d),{},{x1:a,y1:o+h*s,x2:a+i,y2:o+h*s})}else{var p=+(l==="left"&&!c||l==="right"&&c);d=xr(xr({},d),{},{x1:a+p*i,y1:o,x2:a+p*i,y2:o+s})}return M.createElement("line",ns({},d,{className:tt("recharts-cartesian-axis-line",qn(f,"className"))}))}},{key:"renderTicks",value:function(n,a,o){var i=this,s=this.props,l=s.tickLine,c=s.stroke,f=s.tick,d=s.tickFormatter,h=s.unit,p=Av(xr(xr({},this.props),{},{ticks:n}),a,o),m=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),x=We(this.props,!1),y=We(f,!1),g=xr(xr({},x),{},{fill:"none"},We(l,!1)),b=p.map(function(S,w){var k=i.getTickLineCoord(S),j=k.line,_=k.tick,P=xr(xr(xr(xr({textAnchor:m,verticalAnchor:v},x),{},{stroke:"none",fill:c},y),_),{},{index:w,payload:S,visibleTicksCount:p.length,tickFormatter:d});return M.createElement(ct,ns({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},xc(i.props,S,w)),l&&M.createElement("line",ns({},g,j,{className:tt("recharts-cartesian-axis-tick-line",qn(l,"className"))})),f&&t.renderTickItem(f,P,"".concat(He(d)?d(S.value,w):S.value).concat(h||"")))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,a=this.props,o=a.axisLine,i=a.width,s=a.height,l=a.ticksGenerator,c=a.className,f=a.hide;if(f)return null;var d=this.props,h=d.ticks,p=Zp(d,kY),m=h;return He(l)&&(m=h&&h.length>0?l(this.props):l(p)),i<=0||s<=0||!m||!m.length?null:M.createElement(ct,{className:tt("recharts-cartesian-axis",c),ref:function(x){n.layerReference=x}},o&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),qr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,o){var i,s=tt(a.className,"recharts-cartesian-axis-tick-value");return M.isValidElement(n)?i=M.cloneElement(n,xr(xr({},a),{},{className:s})):He(n)?i=n(xr(xr({},a),{},{className:s})):i=M.createElement(Zf,ns({},a,{className:"recharts-cartesian-axis-tick-value"}),o),i}}])}(O.Component);Mv(fl,"displayName","CartesianAxis");Mv(fl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var CY=["x1","y1","x2","y2","key"],EY=["offset"];function Si(e){"@babel/helpers - typeof";return Si=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Si(e)}function m2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m2(Object(r),!0).forEach(function(n){TY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TY(e,t,r){return t=$Y(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Y(e){var t=DY(e,"string");return Si(t)=="symbol"?t:t+""}function DY(e,t){if(Si(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Si(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oi(){return oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oi.apply(this,arguments)}function y2(e,t){if(e==null)return{};var r=RY(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var LY=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,o=t.y,i=t.width,s=t.height,l=t.ry;return M.createElement("rect",{x:a,y:o,ry:l,width:i,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function uP(e,t){var r;if(M.isValidElement(e))r=M.cloneElement(e,t);else if(He(e))r=e(t);else{var n=t.x1,a=t.y1,o=t.x2,i=t.y2,s=t.key,l=y2(t,CY),c=We(l,!1);c.offset;var f=y2(c,EY);r=M.createElement("line",oi({},f,{x1:n,y1:a,x2:o,y2:i,fill:"none",key:s}))}return r}function IY(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,o=e.horizontalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(s,l){var c=Zr(Zr({},e),{},{x1:t,y1:s,x2:t+r,y2:s,key:"line-".concat(l),index:l});return uP(a,c)});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function BY(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,o=e.verticalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(s,l){var c=Zr(Zr({},e),{},{x1:s,y1:t,x2:s,y2:t+r,key:"line-".concat(l),index:l});return uP(a,c)});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function FY(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,o=e.width,i=e.height,s=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var f=s.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==f[0]&&f.unshift(0);var d=f.map(function(h,p){var m=!f[p+1],v=m?a+i-h:f[p+1]-h;if(v<=0)return null;var x=p%t.length;return M.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:v,width:o,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function zY(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,o=e.x,i=e.y,s=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var f=c.map(function(h){return Math.round(h+o-o)}).sort(function(h,p){return h-p});o!==f[0]&&f.unshift(0);var d=f.map(function(h,p){var m=!f[p+1],v=m?o+s-h:f[p+1]-h;if(v<=0)return null;var x=p%n.length;return M.createElement("rect",{key:"react-".concat(p),x:h,y:i,width:v,height:l,stroke:"none",fill:n[x],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var WY=function(t,r){var n=t.xAxis,a=t.width,o=t.height,i=t.offset;return b_(Av(Zr(Zr(Zr({},fl.defaultProps),n),{},{ticks:Va(n,!0),viewBox:{x:0,y:0,width:a,height:o}})),i.left,i.left+i.width,r)},UY=function(t,r){var n=t.yAxis,a=t.width,o=t.height,i=t.offset;return b_(Av(Zr(Zr(Zr({},fl.defaultProps),n),{},{ticks:Va(n,!0),viewBox:{x:0,y:0,width:a,height:o}})),i.top,i.top+i.height,r)},zi={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function ji(e){var t,r,n,a,o,i,s=_v(),l=Pv(),c=MX(),f=Zr(Zr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:zi.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:zi.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:zi.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:zi.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:zi.vertical,verticalFill:(i=e.verticalFill)!==null&&i!==void 0?i:zi.verticalFill,x:se(e.x)?e.x:c.left,y:se(e.y)?e.y:c.top,width:se(e.width)?e.width:c.width,height:se(e.height)?e.height:c.height}),d=f.x,h=f.y,p=f.width,m=f.height,v=f.syncWithTicks,x=f.horizontalValues,y=f.verticalValues,g=PX(),b=NX();if(!se(p)||p<=0||!se(m)||m<=0||!se(d)||d!==+d||!se(h)||h!==+h)return null;var S=f.verticalCoordinatesGenerator||WY,w=f.horizontalCoordinatesGenerator||UY,k=f.horizontalPoints,j=f.verticalPoints;if((!k||!k.length)&&He(w)){var _=x&&x.length,P=w({yAxis:b?Zr(Zr({},b),{},{ticks:_?x:b.ticks}):void 0,width:s,height:l,offset:c},_?!0:v);Ya(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Si(P),"]")),Array.isArray(P)&&(k=P)}if((!j||!j.length)&&He(S)){var A=y&&y.length,N=S({xAxis:g?Zr(Zr({},g),{},{ticks:A?y:g.ticks}):void 0,width:s,height:l,offset:c},A?!0:v);Ya(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Si(N),"]")),Array.isArray(N)&&(j=N)}return M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(LY,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),M.createElement(IY,oi({},f,{offset:c,horizontalPoints:k,xAxis:g,yAxis:b})),M.createElement(BY,oi({},f,{offset:c,verticalPoints:j,xAxis:g,yAxis:b})),M.createElement(FY,oi({},f,{horizontalPoints:k})),M.createElement(zY,oi({},f,{verticalPoints:j})))}ji.displayName="CartesianGrid";var GY=["type","layout","connectNulls","ref"],HY=["key"];function Fs(e){"@babel/helpers - typeof";return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fs(e)}function v2(e,t){if(e==null)return{};var r=VY(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ql(){return Ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ql.apply(this,arguments)}function x2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x2(Object(r),!0).forEach(function(n){ua(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wi(e){return qY(e)||YY(e)||XY(e)||KY()}function KY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XY(e,t){if(e){if(typeof e=="string")return mm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mm(e,t)}}function YY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qY(e){if(Array.isArray(e))return mm(e)}function mm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ZY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dP(n.key),n)}}function QY(e,t,r){return t&&b2(e.prototype,t),r&&b2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function JY(e,t,r){return t=Cd(t),eq(e,fP()?Reflect.construct(t,r||[],Cd(e).constructor):t.apply(e,r))}function eq(e,t){if(t&&(Fs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tq(e)}function tq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fP=function(){return!!e})()}function Cd(e){return Cd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cd(e)}function rq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ym(e,t)}function ym(e,t){return ym=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ym(e,t)}function ua(e,t,r){return t=dP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dP(e){var t=nq(e,"string");return Fs(t)=="symbol"?t:t+""}function nq(e,t){if(Fs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ir=function(e){function t(){var r;ZY(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=JY(this,t,[].concat(a)),ua(r,"state",{isAnimationFinished:!0,totalLength:0}),ua(r,"generateSimpleStrokeDasharray",function(i,s){return"".concat(s,"px ").concat(i-s,"px")}),ua(r,"getStrokeDasharray",function(i,s,l){var c=l.reduce(function(y,g){return y+g});if(!c)return r.generateSimpleStrokeDasharray(s,i);for(var f=Math.floor(i/c),d=i%c,h=s-i,p=[],m=0,v=0;m<l.length;v+=l[m],++m)if(v+l[m]>d){p=[].concat(Wi(l.slice(0,m)),[d-v]);break}var x=p.length%2===0?[0,h]:[h];return[].concat(Wi(t.repeat(l,f)),Wi(p),x).map(function(y){return"".concat(y,"px")}).join(", ")}),ua(r,"id",Ni("recharts-line-")),ua(r,"pathRef",function(i){r.mainCurve=i}),ua(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),ua(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return rq(t,e),QY(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.points,s=o.xAxis,l=o.yAxis,c=o.layout,f=o.children,d=wn(f,ul);if(!d)return null;var h=function(v,x){return{x:v.x,y:v.y,value:v.value,errorVal:jr(v.payload,x)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return M.createElement(ct,p,d.map(function(m){return M.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:i,xAxis:s,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,o){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,c=s.points,f=s.dataKey,d=We(this.props,!1),h=We(l,!0),p=c.map(function(v,x){var y=Pn(Pn(Pn({key:"dot-".concat(x),r:3},d),h),{},{index:x,cx:v.x,cy:v.y,value:v.value,dataKey:f,payload:v.payload,points:c});return t.renderDotItem(l,y)}),m={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return M.createElement(ct,Ql({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(n,a,o,i){var s=this.props,l=s.type,c=s.layout,f=s.connectNulls;s.ref;var d=v2(s,GY),h=Pn(Pn(Pn({},We(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(o,")"):null,points:n},i),{},{type:l,layout:c,connectNulls:f});return M.createElement(di,Ql({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var o=this,i=this.props,s=i.points,l=i.strokeDasharray,c=i.isAnimationActive,f=i.animationBegin,d=i.animationDuration,h=i.animationEasing,p=i.animationId,m=i.animateNewValues,v=i.width,x=i.height,y=this.state,g=y.prevPoints,b=y.totalLength;return M.createElement(ya,{begin:f,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var w=S.t;if(g){var k=g.length/s.length,j=s.map(function(C,z){var $=Math.floor(z*k);if(g[$]){var L=g[$],I=lr(L.x,C.x),B=lr(L.y,C.y);return Pn(Pn({},C),{},{x:I(w),y:B(w)})}if(m){var R=lr(v*2,C.x),T=lr(x/2,C.y);return Pn(Pn({},C),{},{x:R(w),y:T(w)})}return Pn(Pn({},C),{},{x:C.x,y:C.y})});return o.renderCurveStatically(j,n,a)}var _=lr(0,b),P=_(w),A;if(l){var N="".concat(l).split(/[,\s]+/gim).map(function(C){return parseFloat(C)});A=o.getStrokeDasharray(P,b,N)}else A=o.generateSimpleStrokeDasharray(b,P);return o.renderCurveStatically(s,n,a,{strokeDasharray:A})})}},{key:"renderCurve",value:function(n,a){var o=this.props,i=o.points,s=o.isAnimationActive,l=this.state,c=l.prevPoints,f=l.totalLength;return s&&i&&i.length&&(!c&&f>0||!bi(c,i))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(i,n,a)}},{key:"render",value:function(){var n,a=this.props,o=a.hide,i=a.dot,s=a.points,l=a.className,c=a.xAxis,f=a.yAxis,d=a.top,h=a.left,p=a.width,m=a.height,v=a.isAnimationActive,x=a.id;if(o||!s||!s.length)return null;var y=this.state.isAnimationFinished,g=s.length===1,b=tt("recharts-line",l),S=c&&c.allowDataOverflow,w=f&&f.allowDataOverflow,k=S||w,j=Fe(x)?this.id:x,_=(n=We(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=_.r,A=P===void 0?3:P,N=_.strokeWidth,C=N===void 0?2:N,z=hj(i)?i:{},$=z.clipDot,L=$===void 0?!0:$,I=A*2+C;return M.createElement(ct,{className:b},S||w?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(j)},M.createElement("rect",{x:S?h:h-p/2,y:w?d:d-m/2,width:S?p:p*2,height:w?m:m*2})),!L&&M.createElement("clipPath",{id:"clipPath-dots-".concat(j)},M.createElement("rect",{x:h-I/2,y:d-I/2,width:p+I,height:m+I}))):null,!g&&this.renderCurve(k,j),this.renderErrorBar(k,j),(g||i)&&this.renderDots(k,L,j),(!v||y)&&Ca.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var o=n.length%2!==0?[].concat(Wi(n),[0]):n,i=[],s=0;s<a;++s)i=[].concat(Wi(i),Wi(o));return i}},{key:"renderDotItem",value:function(n,a){var o;if(M.isValidElement(n))o=M.cloneElement(n,a);else if(He(n))o=n(a);else{var i=a.key,s=v2(a,HY),l=tt("recharts-line-dot",typeof n!="boolean"?n.className:"");o=M.createElement($h,Ql({key:i},s,{className:l}))}return o}}])}(O.PureComponent);ua(Ir,"displayName","Line");ua(Ir,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!zo.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ua(Ir,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,i=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,f=t.layout,d=l.map(function(h,p){var m=jr(h,i);return f==="horizontal"?{x:Cs({axis:r,ticks:a,bandSize:s,entry:h,index:p}),y:Fe(m)?null:n.scale(m),value:m,payload:h}:{x:Fe(m)?null:r.scale(m),y:Cs({axis:n,ticks:o,bandSize:s,entry:h,index:p}),value:m,payload:h}});return Pn({points:d,layout:f},c)});var aq=["layout","type","stroke","connectNulls","isRange","ref"],oq=["key"],hP;function zs(e){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zs(e)}function pP(e,t){if(e==null)return{};var r=iq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ii(){return ii=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ii.apply(this,arguments)}function w2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ho(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w2(Object(r),!0).forEach(function(n){Pa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mP(n.key),n)}}function lq(e,t,r){return t&&k2(e.prototype,t),r&&k2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cq(e,t,r){return t=Ed(t),uq(e,gP()?Reflect.construct(t,r||[],Ed(e).constructor):t.apply(e,r))}function uq(e,t){if(t&&(zs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fq(e)}function fq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gP=function(){return!!e})()}function Ed(e){return Ed=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ed(e)}function dq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vm(e,t)}function vm(e,t){return vm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},vm(e,t)}function Pa(e,t,r){return t=mP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mP(e){var t=hq(e,"string");return zs(t)=="symbol"?t:t+""}function hq(e,t){if(zs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Xn=function(e){function t(){var r;sq(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=cq(this,t,[].concat(a)),Pa(r,"state",{isAnimationFinished:!0}),Pa(r,"id",Ni("recharts-area-")),Pa(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),He(i)&&i()}),Pa(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),He(i)&&i()}),r}return dq(t,e),lq(t,[{key:"renderDots",value:function(n,a,o){var i=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(i&&!s)return null;var l=this.props,c=l.dot,f=l.points,d=l.dataKey,h=We(this.props,!1),p=We(c,!0),m=f.map(function(x,y){var g=ho(ho(ho({key:"dot-".concat(y),r:3},h),p),{},{index:y,cx:x.x,cy:x.y,dataKey:d,value:x.value,payload:x.payload,points:f});return t.renderDotItem(c,g)}),v={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return M.createElement(ct,ii({className:"recharts-area-dots"},v),m)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,o=a.baseLine,i=a.points,s=a.strokeWidth,l=i[0].x,c=i[i.length-1].x,f=n*Math.abs(l-c),d=ko(i.map(function(h){return h.y||0}));return se(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(ko(o.map(function(h){return h.y||0})),d)),se(d)?M.createElement("rect",{x:l<c?l:l-f,y:0,width:f,height:Math.floor(d+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,o=a.baseLine,i=a.points,s=a.strokeWidth,l=i[0].y,c=i[i.length-1].y,f=n*Math.abs(l-c),d=ko(i.map(function(h){return h.x||0}));return se(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(ko(o.map(function(h){return h.x||0})),d)),se(d)?M.createElement("rect",{x:0,y:l<c?l:l-f,width:d+(s?parseInt("".concat(s),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,o,i){var s=this.props,l=s.layout,c=s.type,f=s.stroke,d=s.connectNulls,h=s.isRange;s.ref;var p=pP(s,aq);return M.createElement(ct,{clipPath:o?"url(#clipPath-".concat(i,")"):null},M.createElement(di,ii({},We(p,!0),{points:n,connectNulls:d,type:c,baseLine:a,layout:l,stroke:"none",className:"recharts-area-area"})),f!=="none"&&M.createElement(di,ii({},We(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:n})),f!=="none"&&h&&M.createElement(di,ii({},We(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var o=this,i=this.props,s=i.points,l=i.baseLine,c=i.isAnimationActive,f=i.animationBegin,d=i.animationDuration,h=i.animationEasing,p=i.animationId,m=this.state,v=m.prevPoints,x=m.prevBaseLine;return M.createElement(ya,{begin:f,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var g=y.t;if(v){var b=v.length/s.length,S=s.map(function(_,P){var A=Math.floor(P*b);if(v[A]){var N=v[A],C=lr(N.x,_.x),z=lr(N.y,_.y);return ho(ho({},_),{},{x:C(g),y:z(g)})}return _}),w;if(se(l)&&typeof l=="number"){var k=lr(x,l);w=k(g)}else if(Fe(l)||nl(l)){var j=lr(x,0);w=j(g)}else w=l.map(function(_,P){var A=Math.floor(P*b);if(x[A]){var N=x[A],C=lr(N.x,_.x),z=lr(N.y,_.y);return ho(ho({},_),{},{x:C(g),y:z(g)})}return _});return o.renderAreaStatically(S,w,n,a)}return M.createElement(ct,null,M.createElement("defs",null,M.createElement("clipPath",{id:"animationClipPath-".concat(a)},o.renderClipRect(g))),M.createElement(ct,{clipPath:"url(#animationClipPath-".concat(a,")")},o.renderAreaStatically(s,l,n,a)))})}},{key:"renderArea",value:function(n,a){var o=this.props,i=o.points,s=o.baseLine,l=o.isAnimationActive,c=this.state,f=c.prevPoints,d=c.prevBaseLine,h=c.totalLength;return l&&i&&i.length&&(!f&&h>0||!bi(f,i)||!bi(d,s))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(i,s,n,a)}},{key:"render",value:function(){var n,a=this.props,o=a.hide,i=a.dot,s=a.points,l=a.className,c=a.top,f=a.left,d=a.xAxis,h=a.yAxis,p=a.width,m=a.height,v=a.isAnimationActive,x=a.id;if(o||!s||!s.length)return null;var y=this.state.isAnimationFinished,g=s.length===1,b=tt("recharts-area",l),S=d&&d.allowDataOverflow,w=h&&h.allowDataOverflow,k=S||w,j=Fe(x)?this.id:x,_=(n=We(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=_.r,A=P===void 0?3:P,N=_.strokeWidth,C=N===void 0?2:N,z=hj(i)?i:{},$=z.clipDot,L=$===void 0?!0:$,I=A*2+C;return M.createElement(ct,{className:b},S||w?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(j)},M.createElement("rect",{x:S?f:f-p/2,y:w?c:c-m/2,width:S?p:p*2,height:w?m:m*2})),!L&&M.createElement("clipPath",{id:"clipPath-dots-".concat(j)},M.createElement("rect",{x:f-I/2,y:c-I/2,width:p+I,height:m+I}))):null,g?null:this.renderArea(k,j),(i||g)&&this.renderDots(k,L,j),(!v||y)&&Ca.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(O.PureComponent);hP=Xn;Pa(Xn,"displayName","Area");Pa(Xn,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!zo.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Pa(Xn,"getBaseValue",function(e,t,r,n){var a=e.layout,o=e.baseValue,i=t.props.baseValue,s=i??o;if(se(s)&&typeof s=="number")return s;var l=a==="horizontal"?n:r,c=l.scale.domain();if(l.type==="number"){var f=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return s==="dataMin"?d:s==="dataMax"||f<0?f:Math.max(Math.min(c[0],c[1]),0)}return s==="dataMin"?c[0]:s==="dataMax"?c[1]:c[0]});Pa(Xn,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,o=e.xAxisTicks,i=e.yAxisTicks,s=e.bandSize,l=e.dataKey,c=e.stackedData,f=e.dataStartIndex,d=e.displayedData,h=e.offset,p=t.layout,m=c&&c.length,v=hP.getBaseValue(t,r,n,a),x=p==="horizontal",y=!1,g=d.map(function(S,w){var k;m?k=c[f+w]:(k=jr(S,l),Array.isArray(k)?y=!0:k=[v,k]);var j=k[1]==null||m&&jr(S,l)==null;return x?{x:Cs({axis:n,ticks:o,bandSize:s,entry:S,index:w}),y:j?null:a.scale(k[1]),value:k,payload:S}:{x:j?null:n.scale(k[1]),y:Cs({axis:a,ticks:i,bandSize:s,entry:S,index:w}),value:k,payload:S}}),b;return m||y?b=g.map(function(S){var w=Array.isArray(S.value)?S.value[0]:null;return x?{x:S.x,y:w!=null&&S.y!=null?a.scale(w):null}:{x:w!=null?n.scale(w):null,y:S.y}}):b=x?a.scale(v):n.scale(v),ho({points:g,baseLine:b,layout:p,isRange:y},h)});Pa(Xn,"renderDotItem",function(e,t){var r;if(M.isValidElement(e))r=M.cloneElement(e,t);else if(He(e))r=e(t);else{var n=tt("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,o=pP(t,oq);r=M.createElement($h,ii({},o,{key:a,className:n}))}return r});function Ws(e){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ws(e)}function pq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xP(n.key),n)}}function mq(e,t,r){return t&&gq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yq(e,t,r){return t=Td(t),vq(e,yP()?Reflect.construct(t,r||[],Td(e).constructor):t.apply(e,r))}function vq(e,t){if(t&&(Ws(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xq(e)}function xq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yP=function(){return!!e})()}function Td(e){return Td=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Td(e)}function bq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xm(e,t)}function xm(e,t){return xm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xm(e,t)}function vP(e,t,r){return t=xP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xP(e){var t=wq(e,"string");return Ws(t)=="symbol"?t:t+""}function wq(e,t){if(Ws(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ws(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zh=function(e){function t(){return pq(this,t),yq(this,t,arguments)}return bq(t,e),mq(t,[{key:"render",value:function(){return null}}])}(O.Component);vP(zh,"displayName","ZAxis");vP(zh,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var kq=["option","isActive"];function Jl(){return Jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jl.apply(this,arguments)}function Sq(e,t){if(e==null)return{};var r=jq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Oq(e){var t=e.option,r=e.isActive,n=Sq(e,kq);return typeof t=="string"?O.createElement(om,Jl({option:O.createElement(wh,Jl({type:t},n)),isActive:r,shapeType:"symbols"},n)):O.createElement(om,Jl({option:t,isActive:r,shapeType:"symbols"},n))}function Us(e){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Us(e)}function ec(){return ec=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ec.apply(this,arguments)}function S2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Un(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S2(Object(r),!0).forEach(function(n){jo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wP(n.key),n)}}function Pq(e,t,r){return t&&j2(e.prototype,t),r&&j2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nq(e,t,r){return t=$d(t),Aq(e,bP()?Reflect.construct(t,r||[],$d(e).constructor):t.apply(e,r))}function Aq(e,t){if(t&&(Us(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mq(e)}function Mq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bP=function(){return!!e})()}function $d(e){return $d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$d(e)}function Cq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bm(e,t)}function bm(e,t){return bm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bm(e,t)}function jo(e,t,r){return t=wP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wP(e){var t=Eq(e,"string");return Us(t)=="symbol"?t:t+""}function Eq(e,t){if(Us(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Us(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var rn=function(e){function t(){var r;_q(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=Nq(this,t,[].concat(a)),jo(r,"state",{isAnimationFinished:!1}),jo(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),jo(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),jo(r,"id",Ni("recharts-scatter-")),r}return Cq(t,e),Pq(t,[{key:"renderSymbolsStatically",value:function(n){var a=this,o=this.props,i=o.shape,s=o.activeShape,l=o.activeIndex,c=We(this.props,!1);return n.map(function(f,d){var h=l===d,p=h?s:i,m=Un(Un({},c),f);return M.createElement(ct,ec({className:"recharts-scatter-symbol",key:"symbol-".concat(f==null?void 0:f.cx,"-").concat(f==null?void 0:f.cy,"-").concat(f==null?void 0:f.size,"-").concat(d)},xc(a.props,f,d),{role:"img"}),M.createElement(Oq,ec({option:p,isActive:h,key:"symbol-".concat(d)},m)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,a=this.props,o=a.points,i=a.isAnimationActive,s=a.animationBegin,l=a.animationDuration,c=a.animationEasing,f=a.animationId,d=this.state.prevPoints;return M.createElement(ya,{begin:s,duration:l,isActive:i,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var p=h.t,m=o.map(function(v,x){var y=d&&d[x];if(y){var g=lr(y.cx,v.cx),b=lr(y.cy,v.cy),S=lr(y.size,v.size);return Un(Un({},v),{},{cx:g(p),cy:b(p),size:S(p)})}var w=lr(0,v.size);return Un(Un({},v),{},{size:w(p)})});return M.createElement(ct,null,n.renderSymbolsStatically(m))})}},{key:"renderSymbols",value:function(){var n=this.props,a=n.points,o=n.isAnimationActive,i=this.state.prevPoints;return o&&a&&a.length&&(!i||!bi(i,a))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(a)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,i=a.xAxis,s=a.yAxis,l=a.children,c=wn(l,ul);return c?c.map(function(f,d){var h=f.props,p=h.direction,m=h.dataKey;return M.cloneElement(f,{key:"".concat(p,"-").concat(m,"-").concat(o[d]),data:o,xAxis:i,yAxis:s,layout:p==="x"?"vertical":"horizontal",dataPointFormatter:function(x,y){return{x:x.cx,y:x.cy,value:p==="x"?+x.node.x:+x.node.y,errorVal:jr(x,y)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,a=n.points,o=n.line,i=n.lineType,s=n.lineJointType,l=We(this.props,!1),c=We(o,!1),f,d;if(i==="joint")f=a.map(function(b){return{x:b.cx,y:b.cy}});else if(i==="fitting"){var h=iT(a),p=h.xmin,m=h.xmax,v=h.a,x=h.b,y=function(S){return v*S+x};f=[{x:p,y:y(p)},{x:m,y:y(m)}]}var g=Un(Un(Un({},l),{},{fill:"none",stroke:l&&l.fill},c),{},{points:f});return M.isValidElement(o)?d=M.cloneElement(o,g):He(o)?d=o(g):d=M.createElement(di,ec({},g,{type:s})),M.createElement(ct,{className:"recharts-scatter-line",key:"recharts-scatter-line"},d)}},{key:"render",value:function(){var n=this.props,a=n.hide,o=n.points,i=n.line,s=n.className,l=n.xAxis,c=n.yAxis,f=n.left,d=n.top,h=n.width,p=n.height,m=n.id,v=n.isAnimationActive;if(a||!o||!o.length)return null;var x=this.state.isAnimationFinished,y=tt("recharts-scatter",s),g=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,S=g||b,w=Fe(m)?this.id:m;return M.createElement(ct,{className:y,clipPath:S?"url(#clipPath-".concat(w,")"):null},g||b?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(w)},M.createElement("rect",{x:g?f:f-h/2,y:b?d:d-p/2,width:g?h:h*2,height:b?p:p*2}))):null,i&&this.renderLine(),this.renderErrorBar(),M.createElement(ct,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!v||x)&&Ca.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}}])}(O.PureComponent);jo(rn,"displayName","Scatter");jo(rn,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!zo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});jo(rn,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,n=e.zAxis,a=e.item,o=e.displayedData,i=e.xAxisTicks,s=e.yAxisTicks,l=e.offset,c=a.props.tooltipType,f=wn(a.props.children,Yy),d=Fe(t.dataKey)?a.props.dataKey:t.dataKey,h=Fe(r.dataKey)?a.props.dataKey:r.dataKey,p=n&&n.dataKey,m=n?n.range:zh.defaultProps.range,v=m&&m[0],x=t.scale.bandwidth?t.scale.bandwidth():0,y=r.scale.bandwidth?r.scale.bandwidth():0,g=o.map(function(b,S){var w=jr(b,d),k=jr(b,h),j=!Fe(p)&&jr(b,p)||"-",_=[{name:Fe(t.dataKey)?a.props.name:t.name||t.dataKey,unit:t.unit||"",value:w,payload:b,dataKey:d,type:c},{name:Fe(r.dataKey)?a.props.name:r.name||r.dataKey,unit:r.unit||"",value:k,payload:b,dataKey:h,type:c}];j!=="-"&&_.push({name:n.name||n.dataKey,unit:n.unit||"",value:j,payload:b,dataKey:p,type:c});var P=Cs({axis:t,ticks:i,bandSize:x,entry:b,index:S,dataKey:d}),A=Cs({axis:r,ticks:s,bandSize:y,entry:b,index:S,dataKey:h}),N=j!=="-"?n.scale(j):v,C=Math.sqrt(Math.max(N,0)/Math.PI);return Un(Un({},b),{},{cx:P,cy:A,x:P-C,y:A-C,xAxis:t,yAxis:r,zAxis:n,width:2*C,height:2*C,size:N,node:{x:w,y:k,z:j},tooltipPayload:_,tooltipPosition:{x:P,y:A},payload:b},f&&f[S]&&f[S].props)});return Un({points:g},l)});function Gs(e){"@babel/helpers - typeof";return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gs(e)}function Tq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jP(n.key),n)}}function Dq(e,t,r){return t&&$q(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rq(e,t,r){return t=Dd(t),Lq(e,kP()?Reflect.construct(t,r||[],Dd(e).constructor):t.apply(e,r))}function Lq(e,t){if(t&&(Gs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Iq(e)}function Iq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kP=function(){return!!e})()}function Dd(e){return Dd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dd(e)}function Bq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wm(e,t)}function wm(e,t){return wm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wm(e,t)}function SP(e,t,r){return t=jP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jP(e){var t=Fq(e,"string");return Gs(t)=="symbol"?t:t+""}function Fq(e,t){if(Gs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function km(){return km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},km.apply(this,arguments)}function zq(e){var t=e.xAxisId,r=_v(),n=Pv(),a=J_(t);return a==null?null:O.createElement(fl,km({},a,{className:tt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(i){return Va(i,!0)}}))}var va=function(e){function t(){return Tq(this,t),Rq(this,t,arguments)}return Bq(t,e),Dq(t,[{key:"render",value:function(){return O.createElement(zq,this.props)}}])}(O.Component);SP(va,"displayName","XAxis");SP(va,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Hs(e){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hs(e)}function Wq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PP(n.key),n)}}function Gq(e,t,r){return t&&Uq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hq(e,t,r){return t=Rd(t),Vq(e,OP()?Reflect.construct(t,r||[],Rd(e).constructor):t.apply(e,r))}function Vq(e,t){if(t&&(Hs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kq(e)}function Kq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OP=function(){return!!e})()}function Rd(e){return Rd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rd(e)}function Xq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sm(e,t)}function Sm(e,t){return Sm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Sm(e,t)}function _P(e,t,r){return t=PP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PP(e){var t=Yq(e,"string");return Hs(t)=="symbol"?t:t+""}function Yq(e,t){if(Hs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function jm(){return jm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jm.apply(this,arguments)}var qq=function(t){var r=t.yAxisId,n=_v(),a=Pv(),o=eP(r);return o==null?null:O.createElement(fl,jm({},o,{className:tt("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(s){return Va(s,!0)}}))},xa=function(e){function t(){return Wq(this,t),Hq(this,t,arguments)}return Xq(t,e),Gq(t,[{key:"render",value:function(){return O.createElement(qq,this.props)}}])}(O.Component);_P(xa,"displayName","YAxis");_P(xa,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function O2(e){return eZ(e)||Jq(e)||Qq(e)||Zq()}function Zq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qq(e,t){if(e){if(typeof e=="string")return Om(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Om(e,t)}}function Jq(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eZ(e){if(Array.isArray(e))return Om(e)}function Om(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var _m=function(t,r,n,a,o){var i=wn(t,ai),s=wn(t,Bh),l=[].concat(O2(i),O2(s)),c=wn(t,hu),f="".concat(a,"Id"),d=a[0],h=r;if(l.length&&(h=l.reduce(function(v,x){if(x.props[f]===n&&Ea(x.props,"extendDomain")&&se(x.props[d])){var y=x.props[d];return[Math.min(v[0],y),Math.max(v[1],y)]}return v},h)),c.length){var p="".concat(d,"1"),m="".concat(d,"2");h=c.reduce(function(v,x){if(x.props[f]===n&&Ea(x.props,"extendDomain")&&se(x.props[p])&&se(x.props[m])){var y=x.props[p],g=x.props[m];return[Math.min(v[0],y,g),Math.max(v[1],y,g)]}return v},h)}return o&&o.length&&(h=o.reduce(function(v,x){return se(x)?[Math.min(v[0],x),Math.max(v[1],x)]:v},h)),h},NP={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,c,f){this.fn=l,this.context=c,this.once=f||!1}function o(l,c,f,d,h){if(typeof f!="function")throw new TypeError("The listener must be a function");var p=new a(f,d||l,h),m=r?r+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function i(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],f,d;if(this._eventsCount===0)return c;for(d in f=this._events)t.call(f,d)&&c.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},s.prototype.listeners=function(c){var f=r?r+c:c,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,m=new Array(p);h<p;h++)m[h]=d[h].fn;return m},s.prototype.listenerCount=function(c){var f=r?r+c:c,d=this._events[f];return d?d.fn?1:d.length:0},s.prototype.emit=function(c,f,d,h,p,m){var v=r?r+c:c;if(!this._events[v])return!1;var x=this._events[v],y=arguments.length,g,b;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),y){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,f),!0;case 3:return x.fn.call(x.context,f,d),!0;case 4:return x.fn.call(x.context,f,d,h),!0;case 5:return x.fn.call(x.context,f,d,h,p),!0;case 6:return x.fn.call(x.context,f,d,h,p,m),!0}for(b=1,g=new Array(y-1);b<y;b++)g[b-1]=arguments[b];x.fn.apply(x.context,g)}else{var S=x.length,w;for(b=0;b<S;b++)switch(x[b].once&&this.removeListener(c,x[b].fn,void 0,!0),y){case 1:x[b].fn.call(x[b].context);break;case 2:x[b].fn.call(x[b].context,f);break;case 3:x[b].fn.call(x[b].context,f,d);break;case 4:x[b].fn.call(x[b].context,f,d,h);break;default:if(!g)for(w=1,g=new Array(y-1);w<y;w++)g[w-1]=arguments[w];x[b].fn.apply(x[b].context,g)}}return!0},s.prototype.on=function(c,f,d){return o(this,c,f,d,!1)},s.prototype.once=function(c,f,d){return o(this,c,f,d,!0)},s.prototype.removeListener=function(c,f,d,h){var p=r?r+c:c;if(!this._events[p])return this;if(!f)return i(this,p),this;var m=this._events[p];if(m.fn)m.fn===f&&(!h||m.once)&&(!d||m.context===d)&&i(this,p);else{for(var v=0,x=[],y=m.length;v<y;v++)(m[v].fn!==f||h&&!m[v].once||d&&m[v].context!==d)&&x.push(m[v]);x.length?this._events[p]=x.length===1?x[0]:x:i(this,p)}return this},s.prototype.removeAllListeners=function(c){var f;return c?(f=r?r+c:c,this._events[f]&&i(this,f)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(NP);var tZ=NP.exports;const rZ=Lt(tZ);var Qp=new rZ,Jp="recharts.syncMouseEvents";function Jc(e){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jc(e)}function nZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AP(n.key),n)}}function oZ(e,t,r){return t&&aZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function e0(e,t,r){return t=AP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AP(e){var t=iZ(e,"string");return Jc(t)=="symbol"?t:t+""}function iZ(e,t){if(Jc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var sZ=function(){function e(){nZ(this,e),e0(this,"activeIndex",0),e0(this,"coordinateList",[]),e0(this,"layout","horizontal")}return oZ(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,o=a===void 0?null:a,i=r.container,s=i===void 0?null:i,l=r.layout,c=l===void 0?null:l,f=r.offset,d=f===void 0?null:f,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),o=a.x,i=a.y,s=a.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=o+l+c,h=i+this.offset.top+s/2+f;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function lZ(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&se(n)&&se(a))return!0}return!1}function cZ(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function MP(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,o=e.endAngle,i=Br(t,r,n,a),s=Br(t,r,n,o);return{points:[i,s],cx:t,cy:r,radius:n,startAngle:a,endAngle:o}}function uZ(e,t,r){var n,a,o,i;if(e==="horizontal")n=t.x,o=n,a=r.top,i=r.top+r.height;else if(e==="vertical")a=t.y,i=a,n=r.left,o=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,c=t.innerRadius,f=t.outerRadius,d=t.angle,h=Br(s,l,c,d),p=Br(s,l,f,d);n=h.x,a=h.y,o=p.x,i=p.y}else return MP(t);return[{x:n,y:a},{x:o,y:i}]}function eu(e){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eu(e)}function _2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_2(Object(r),!0).forEach(function(n){fZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fZ(e,t,r){return t=dZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dZ(e){var t=hZ(e,"string");return eu(t)=="symbol"?t:t+""}function hZ(e,t){if(eu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pZ(e){var t,r,n=e.element,a=e.tooltipEventType,o=e.isActive,i=e.activeCoordinate,s=e.activePayload,l=e.offset,c=e.activeTooltipIndex,f=e.tooltipAxisBandSize,d=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!o||!i||h!=="ScatterChart"&&a!=="axis")return null;var m,v=di;if(h==="ScatterChart")m=i,v=FH;else if(h==="BarChart")m=cZ(d,i,l,f),v=wv;else if(d==="radial"){var x=MP(i),y=x.cx,g=x.cy,b=x.radius,S=x.startAngle,w=x.endAngle;m={cx:y,cy:g,startAngle:S,endAngle:w,innerRadius:b,outerRadius:b},v=O_}else m={points:uZ(d,i,l)},v=di;var k=Zu(Zu(Zu(Zu({stroke:"#ccc",pointerEvents:"none"},l),m),We(p,!1)),{},{payload:s,payloadIndex:c,className:tt("recharts-tooltip-cursor",p.className)});return O.isValidElement(p)?O.cloneElement(p,k):O.createElement(v,k)}var gZ=["item"],mZ=["children","className","width","height","style","compact","title","desc"];function Vs(e){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vs(e)}function as(){return as=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},as.apply(this,arguments)}function P2(e,t){return xZ(e)||vZ(e,t)||EP(e,t)||yZ()}function yZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vZ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function xZ(e){if(Array.isArray(e))return e}function N2(e,t){if(e==null)return{};var r=bZ(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TP(n.key),n)}}function SZ(e,t,r){return t&&kZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jZ(e,t,r){return t=Ld(t),OZ(e,CP()?Reflect.construct(t,r||[],Ld(e).constructor):t.apply(e,r))}function OZ(e,t){if(t&&(Vs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Z(e)}function _Z(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CP=function(){return!!e})()}function Ld(e){return Ld=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ld(e)}function PZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pm(e,t)}function Pm(e,t){return Pm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Pm(e,t)}function Ks(e){return MZ(e)||AZ(e)||EP(e)||NZ()}function NZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EP(e,t){if(e){if(typeof e=="string")return Nm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Nm(e,t)}}function AZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function MZ(e){if(Array.isArray(e))return Nm(e)}function Nm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function A2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A2(Object(r),!0).forEach(function(n){$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $e(e,t,r){return t=TP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TP(e){var t=CZ(e,"string");return Vs(t)=="symbol"?t:t+""}function CZ(e,t){if(Vs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EZ={xAxis:["bottom","top"],yAxis:["left","right"]},TZ={width:"100%",height:"100%"},$P={x:0,y:0};function Qu(e){return e}var $Z=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},DZ=function(t,r,n,a){var o=r.find(function(f){return f&&f.index===n});if(o){if(t==="horizontal")return{x:o.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:o.coordinate};if(t==="centric"){var i=o.coordinate,s=a.radius;return Z(Z(Z({},a),Br(a.cx,a.cy,s,i)),{},{angle:i,radius:s})}var l=o.coordinate,c=a.angle;return Z(Z(Z({},a),Br(a.cx,a.cy,l,c)),{},{angle:c,radius:l})}return $P},Wh=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,o=r.dataEndIndex,i=(n??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(Ks(s),Ks(c)):s},[]);return i.length>0?i:t&&t.length&&se(a)&&se(o)?t.slice(a,o+1):[]};function DP(e){return e==="number"?[0,"auto"]:void 0}var Am=function(t,r,n,a){var o=t.graphicalItems,i=t.tooltipAxis,s=Wh(r,t);return n<0||!o||!o.length||n>=s.length?null:o.reduce(function(l,c){var f,d=(f=c.props.data)!==null&&f!==void 0?f:r;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(i.dataKey&&!i.allowDuplicatedCategory){var p=d===void 0?s:d;h=Rf(p,i.dataKey,a)}else h=d&&d[n]||s[n];return h?[].concat(Ks(l),[k_(c,h)]):l},[])},M2=function(t,r,n,a){var o=a||{x:t.chartX,y:t.chartY},i=$Z(o,n),s=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,f=vW(i,s,c,l);if(f>=0&&c){var d=c[f]&&c[f].value,h=Am(t,r,f,d),p=DZ(n,s,f,o);return{activeTooltipIndex:f,activeLabel:d,activePayload:h,activeCoordinate:p}}return null},RZ=function(t,r){var n=r.axes,a=r.graphicalItems,o=r.axisType,i=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,f=t.layout,d=t.children,h=t.stackOffset,p=x_(f,o);return n.reduce(function(m,v){var x,y=v.type.defaultProps!==void 0?Z(Z({},v.type.defaultProps),v.props):v.props,g=y.type,b=y.dataKey,S=y.allowDataOverflow,w=y.allowDuplicatedCategory,k=y.scale,j=y.ticks,_=y.includeHidden,P=y[i];if(m[P])return m;var A=Wh(t.data,{graphicalItems:a.filter(function(Y){var K,H=i in Y.props?Y.props[i]:(K=Y.type.defaultProps)===null||K===void 0?void 0:K[i];return H===P}),dataStartIndex:l,dataEndIndex:c}),N=A.length,C,z,$;lZ(y.domain,S,g)&&(C=Ug(y.domain,null,S),p&&(g==="number"||k!=="auto")&&($=ql(A,b,"category")));var L=DP(g);if(!C||C.length===0){var I,B=(I=y.domain)!==null&&I!==void 0?I:L;if(b){if(C=ql(A,b,g),g==="category"&&p){var R=oT(C);w&&R?(z=C,C=wd(0,N)):w||(C=sw(B,C,v).reduce(function(Y,K){return Y.indexOf(K)>=0?Y:[].concat(Ks(Y),[K])},[]))}else if(g==="category")w?C=C.filter(function(Y){return Y!==""&&!Fe(Y)}):C=sw(B,C,v).reduce(function(Y,K){return Y.indexOf(K)>=0||K===""||Fe(K)?Y:[].concat(Ks(Y),[K])},[]);else if(g==="number"){var T=SW(A,a.filter(function(Y){var K,H,fe=i in Y.props?Y.props[i]:(K=Y.type.defaultProps)===null||K===void 0?void 0:K[i],ce="hide"in Y.props?Y.props.hide:(H=Y.type.defaultProps)===null||H===void 0?void 0:H.hide;return fe===P&&(_||!ce)}),b,o,f);T&&(C=T)}p&&(g==="number"||k!=="auto")&&($=ql(A,b,"category"))}else p?C=wd(0,N):s&&s[P]&&s[P].hasStack&&g==="number"?C=h==="expand"?[0,1]:w_(s[P].stackGroups,l,c):C=v_(A,a.filter(function(Y){var K=i in Y.props?Y.props[i]:Y.type.defaultProps[i],H="hide"in Y.props?Y.props.hide:Y.type.defaultProps.hide;return K===P&&(_||!H)}),g,f,!0);if(g==="number")C=_m(d,C,P,o,j),B&&(C=Ug(B,C,S));else if(g==="category"&&B){var G=B,ee=C.every(function(Y){return G.indexOf(Y)>=0});ee&&(C=G)}}return Z(Z({},m),{},$e({},P,Z(Z({},y),{},{axisType:o,domain:C,categoricalDomain:$,duplicateDomain:z,originalDomain:(x=y.domain)!==null&&x!==void 0?x:L,isCategorical:p,layout:f})))},{})},LZ=function(t,r){var n=r.graphicalItems,a=r.Axis,o=r.axisType,i=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,f=t.layout,d=t.children,h=Wh(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),p=h.length,m=x_(f,o),v=-1;return n.reduce(function(x,y){var g=y.type.defaultProps!==void 0?Z(Z({},y.type.defaultProps),y.props):y.props,b=g[i],S=DP("number");if(!x[b]){v++;var w;return m?w=wd(0,p):s&&s[b]&&s[b].hasStack?(w=w_(s[b].stackGroups,l,c),w=_m(d,w,b,o)):(w=Ug(S,v_(h,n.filter(function(k){var j,_,P=i in k.props?k.props[i]:(j=k.type.defaultProps)===null||j===void 0?void 0:j[i],A="hide"in k.props?k.props.hide:(_=k.type.defaultProps)===null||_===void 0?void 0:_.hide;return P===b&&!A}),"number",f),a.defaultProps.allowDataOverflow),w=_m(d,w,b,o)),Z(Z({},x),{},$e({},b,Z(Z({axisType:o},a.defaultProps),{},{hide:!0,orientation:qn(EZ,"".concat(o,".").concat(v%2),null),domain:w,originalDomain:S,isCategorical:m,layout:f})))}return x},{})},IZ=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,o=r.AxisComp,i=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,f=t.children,d="".concat(a,"Id"),h=wn(f,o),p={};return h&&h.length?p=RZ(t,{axes:h,graphicalItems:i,axisType:a,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):i&&i.length&&(p=LZ(t,{Axis:o,graphicalItems:i,axisType:a,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),p},BZ=function(t){var r=xo(t),n=Va(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Ky(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:fd(r,n)}},C2=function(t){var r=t.children,n=t.defaultShowTooltip,a=Mn(r,$s),o=0,i=0;return t.data&&t.data.length!==0&&(i=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(o=a.props.startIndex),a.props.endIndex>=0&&(i=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!n}},FZ=function(t){return!t||!t.length?!1:t.some(function(r){var n=Xa(r&&r.type);return n&&n.indexOf("Bar")>=0})},E2=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},zZ=function(t,r){var n=t.props,a=t.graphicalItems,o=t.xAxisMap,i=o===void 0?{}:o,s=t.yAxisMap,l=s===void 0?{}:s,c=n.width,f=n.height,d=n.children,h=n.margin||{},p=Mn(d,$s),m=Mn(d,qa),v=Object.keys(l).reduce(function(w,k){var j=l[k],_=j.orientation;return!j.mirror&&!j.hide?Z(Z({},w),{},$e({},_,w[_]+j.width)):w},{left:h.left||0,right:h.right||0}),x=Object.keys(i).reduce(function(w,k){var j=i[k],_=j.orientation;return!j.mirror&&!j.hide?Z(Z({},w),{},$e({},_,qn(w,"".concat(_))+j.height)):w},{top:h.top||0,bottom:h.bottom||0}),y=Z(Z({},x),v),g=y.bottom;p&&(y.bottom+=p.props.height||$s.defaultProps.height),m&&r&&(y=wW(y,a,n,r));var b=c-y.left-y.right,S=f-y.top-y.bottom;return Z(Z({brushBottom:g},y),{},{width:Math.max(b,0),height:Math.max(S,0)})},WZ=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Cv=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,o=a===void 0?"axis":a,i=t.validateTooltipEventTypes,s=i===void 0?["axis"]:i,l=t.axisComponents,c=t.legendContent,f=t.formatAxisMap,d=t.defaultProps,h=function(y,g){var b=g.graphicalItems,S=g.stackGroups,w=g.offset,k=g.updateId,j=g.dataStartIndex,_=g.dataEndIndex,P=y.barSize,A=y.layout,N=y.barGap,C=y.barCategoryGap,z=y.maxBarSize,$=E2(A),L=$.numericAxisName,I=$.cateAxisName,B=FZ(b),R=[];return b.forEach(function(T,G){var ee=Wh(y.data,{graphicalItems:[T],dataStartIndex:j,dataEndIndex:_}),Y=T.type.defaultProps!==void 0?Z(Z({},T.type.defaultProps),T.props):T.props,K=Y.dataKey,H=Y.maxBarSize,fe=Y["".concat(L,"Id")],ce=Y["".concat(I,"Id")],Oe={},Se=l.reduce(function(St,Yt){var mt=g["".concat(Yt.axisType,"Map")],Tr=Y["".concat(Yt.axisType,"Id")];mt&&mt[Tr]||Yt.axisType==="zAxis"||ki();var At=mt[Tr];return Z(Z({},St),{},$e($e({},Yt.axisType,At),"".concat(Yt.axisType,"Ticks"),Va(At)))},Oe),X=Se[I],le=Se["".concat(I,"Ticks")],ve=S&&S[fe]&&S[fe].hasStack&&DW(T,S[fe].stackGroups),W=Xa(T.type).indexOf("Bar")>=0,je=fd(X,le),he=[],Ee=B&&xW({barSize:P,stackGroups:S,totalSize:WZ(Se,I)});if(W){var Ke,ut,It=Fe(H)?z:H,er=(Ke=(ut=fd(X,le,!0))!==null&&ut!==void 0?ut:It)!==null&&Ke!==void 0?Ke:0;he=bW({barGap:N,barCategoryGap:C,bandSize:er!==je?er:je,sizeList:Ee[ce],maxBarSize:It}),er!==je&&(he=he.map(function(St){return Z(Z({},St),{},{position:Z(Z({},St.position),{},{offset:St.position.offset-er/2})})}))}var _r=T&&T.type&&T.type.getComposedData;_r&&R.push({props:Z(Z({},_r(Z(Z({},Se),{},{displayedData:ee,props:y,dataKey:K,item:T,bandSize:je,barPosition:he,offset:w,stackedData:ve,layout:A,dataStartIndex:j,dataEndIndex:_}))),{},$e($e($e({key:T.key||"item-".concat(G)},L,Se[L]),I,Se[I]),"animationId",k)),childIndex:vT(T,y.children),item:T})}),R},p=function(y,g){var b=y.props,S=y.dataStartIndex,w=y.dataEndIndex,k=y.updateId;if(!tb({props:b}))return null;var j=b.children,_=b.layout,P=b.stackOffset,A=b.data,N=b.reverseStackOrder,C=E2(_),z=C.numericAxisName,$=C.cateAxisName,L=wn(j,n),I=EW(A,L,"".concat(z,"Id"),"".concat($,"Id"),P,N),B=l.reduce(function(Y,K){var H="".concat(K.axisType,"Map");return Z(Z({},Y),{},$e({},H,IZ(b,Z(Z({},K),{},{graphicalItems:L,stackGroups:K.axisType===z&&I,dataStartIndex:S,dataEndIndex:w}))))},{}),R=zZ(Z(Z({},B),{},{props:b,graphicalItems:L}),g==null?void 0:g.legendBBox);Object.keys(B).forEach(function(Y){B[Y]=f(b,B[Y],R,Y.replace("Map",""),r)});var T=B["".concat($,"Map")],G=BZ(T),ee=h(b,Z(Z({},B),{},{dataStartIndex:S,dataEndIndex:w,updateId:k,graphicalItems:L,stackGroups:I,offset:R}));return Z(Z({formattedGraphicalItems:ee,graphicalItems:L,offset:R,stackGroups:I},G),B)},m=function(x){function y(g){var b,S,w;return wZ(this,y),w=jZ(this,y,[g]),$e(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),$e(w,"accessibilityManager",new sZ),$e(w,"handleLegendBBoxUpdate",function(k){if(k){var j=w.state,_=j.dataStartIndex,P=j.dataEndIndex,A=j.updateId;w.setState(Z({legendBBox:k},p({props:w.props,dataStartIndex:_,dataEndIndex:P,updateId:A},Z(Z({},w.state),{},{legendBBox:k}))))}}),$e(w,"handleReceiveSyncEvent",function(k,j,_){if(w.props.syncId===k){if(_===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(j)}}),$e(w,"handleBrushChange",function(k){var j=k.startIndex,_=k.endIndex;if(j!==w.state.dataStartIndex||_!==w.state.dataEndIndex){var P=w.state.updateId;w.setState(function(){return Z({dataStartIndex:j,dataEndIndex:_},p({props:w.props,dataStartIndex:j,dataEndIndex:_,updateId:P},w.state))}),w.triggerSyncEvent({dataStartIndex:j,dataEndIndex:_})}}),$e(w,"handleMouseEnter",function(k){var j=w.getMouseInfo(k);if(j){var _=Z(Z({},j),{},{isTooltipActive:!0});w.setState(_),w.triggerSyncEvent(_);var P=w.props.onMouseEnter;He(P)&&P(_,k)}}),$e(w,"triggeredAfterMouseMove",function(k){var j=w.getMouseInfo(k),_=j?Z(Z({},j),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(_),w.triggerSyncEvent(_);var P=w.props.onMouseMove;He(P)&&P(_,k)}),$e(w,"handleItemMouseEnter",function(k){w.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),$e(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),$e(w,"handleMouseMove",function(k){k.persist(),w.throttleTriggeredAfterMouseMove(k)}),$e(w,"handleMouseLeave",function(k){w.throttleTriggeredAfterMouseMove.cancel();var j={isTooltipActive:!1};w.setState(j),w.triggerSyncEvent(j);var _=w.props.onMouseLeave;He(_)&&_(j,k)}),$e(w,"handleOuterEvent",function(k){var j=yT(k),_=qn(w.props,"".concat(j));if(j&&He(_)){var P,A;/.*touch.*/i.test(j)?A=w.getMouseInfo(k.changedTouches[0]):A=w.getMouseInfo(k),_((P=A)!==null&&P!==void 0?P:{},k)}}),$e(w,"handleClick",function(k){var j=w.getMouseInfo(k);if(j){var _=Z(Z({},j),{},{isTooltipActive:!0});w.setState(_),w.triggerSyncEvent(_);var P=w.props.onClick;He(P)&&P(_,k)}}),$e(w,"handleMouseDown",function(k){var j=w.props.onMouseDown;if(He(j)){var _=w.getMouseInfo(k);j(_,k)}}),$e(w,"handleMouseUp",function(k){var j=w.props.onMouseUp;if(He(j)){var _=w.getMouseInfo(k);j(_,k)}}),$e(w,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),$e(w,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&w.handleMouseDown(k.changedTouches[0])}),$e(w,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&w.handleMouseUp(k.changedTouches[0])}),$e(w,"handleDoubleClick",function(k){var j=w.props.onDoubleClick;if(He(j)){var _=w.getMouseInfo(k);j(_,k)}}),$e(w,"handleContextMenu",function(k){var j=w.props.onContextMenu;if(He(j)){var _=w.getMouseInfo(k);j(_,k)}}),$e(w,"triggerSyncEvent",function(k){w.props.syncId!==void 0&&Qp.emit(Jp,w.props.syncId,k,w.eventEmitterSymbol)}),$e(w,"applySyncEvent",function(k){var j=w.props,_=j.layout,P=j.syncMethod,A=w.state.updateId,N=k.dataStartIndex,C=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)w.setState(Z({dataStartIndex:N,dataEndIndex:C},p({props:w.props,dataStartIndex:N,dataEndIndex:C,updateId:A},w.state)));else if(k.activeTooltipIndex!==void 0){var z=k.chartX,$=k.chartY,L=k.activeTooltipIndex,I=w.state,B=I.offset,R=I.tooltipTicks;if(!B)return;if(typeof P=="function")L=P(R,k);else if(P==="value"){L=-1;for(var T=0;T<R.length;T++)if(R[T].value===k.activeLabel){L=T;break}}var G=Z(Z({},B),{},{x:B.left,y:B.top}),ee=Math.min(z,G.x+G.width),Y=Math.min($,G.y+G.height),K=R[L]&&R[L].value,H=Am(w.state,w.props.data,L),fe=R[L]?{x:_==="horizontal"?R[L].coordinate:ee,y:_==="horizontal"?Y:R[L].coordinate}:$P;w.setState(Z(Z({},k),{},{activeLabel:K,activeCoordinate:fe,activePayload:H,activeTooltipIndex:L}))}else w.setState(k)}),$e(w,"renderCursor",function(k){var j,_=w.state,P=_.isTooltipActive,A=_.activeCoordinate,N=_.activePayload,C=_.offset,z=_.activeTooltipIndex,$=_.tooltipAxisBandSize,L=w.getTooltipEventType(),I=(j=k.props.active)!==null&&j!==void 0?j:P,B=w.props.layout,R=k.key||"_recharts-cursor";return M.createElement(pZ,{key:R,activeCoordinate:A,activePayload:N,activeTooltipIndex:z,chartName:r,element:k,isActive:I,layout:B,offset:C,tooltipAxisBandSize:$,tooltipEventType:L})}),$e(w,"renderPolarAxis",function(k,j,_){var P=qn(k,"type.axisType"),A=qn(w.state,"".concat(P,"Map")),N=k.type.defaultProps,C=N!==void 0?Z(Z({},N),k.props):k.props,z=A&&A[C["".concat(P,"Id")]];return O.cloneElement(k,Z(Z({},z),{},{className:tt(P,z.className),key:k.key||"".concat(j,"-").concat(_),ticks:Va(z,!0)}))}),$e(w,"renderPolarGrid",function(k){var j=k.props,_=j.radialLines,P=j.polarAngles,A=j.polarRadius,N=w.state,C=N.radiusAxisMap,z=N.angleAxisMap,$=xo(C),L=xo(z),I=L.cx,B=L.cy,R=L.innerRadius,T=L.outerRadius;return O.cloneElement(k,{polarAngles:Array.isArray(P)?P:Va(L,!0).map(function(G){return G.coordinate}),polarRadius:Array.isArray(A)?A:Va($,!0).map(function(G){return G.coordinate}),cx:I,cy:B,innerRadius:R,outerRadius:T,key:k.key||"polar-grid",radialLines:_})}),$e(w,"renderLegend",function(){var k=w.state.formattedGraphicalItems,j=w.props,_=j.children,P=j.width,A=j.height,N=w.props.margin||{},C=P-(N.left||0)-(N.right||0),z=m_({children:_,formattedGraphicalItems:k,legendWidth:C,legendContent:c});if(!z)return null;var $=z.item,L=N2(z,gZ);return O.cloneElement($,Z(Z({},L),{},{chartWidth:P,chartHeight:A,margin:N,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),$e(w,"renderTooltip",function(){var k,j=w.props,_=j.children,P=j.accessibilityLayer,A=Mn(_,an);if(!A)return null;var N=w.state,C=N.isTooltipActive,z=N.activeCoordinate,$=N.activePayload,L=N.activeLabel,I=N.offset,B=(k=A.props.active)!==null&&k!==void 0?k:C;return O.cloneElement(A,{viewBox:Z(Z({},I),{},{x:I.left,y:I.top}),active:B,label:L,payload:B?$:[],coordinate:z,accessibilityLayer:P})}),$e(w,"renderBrush",function(k){var j=w.props,_=j.margin,P=j.data,A=w.state,N=A.offset,C=A.dataStartIndex,z=A.dataEndIndex,$=A.updateId;return O.cloneElement(k,{key:k.key||"_recharts-brush",onChange:Ku(w.handleBrushChange,k.props.onChange),data:P,x:se(k.props.x)?k.props.x:N.left,y:se(k.props.y)?k.props.y:N.top+N.height+N.brushBottom-(_.bottom||0),width:se(k.props.width)?k.props.width:N.width,startIndex:C,endIndex:z,updateId:"brush-".concat($)})}),$e(w,"renderReferenceElement",function(k,j,_){if(!k)return null;var P=w,A=P.clipPathId,N=w.state,C=N.xAxisMap,z=N.yAxisMap,$=N.offset,L=k.type.defaultProps||{},I=k.props,B=I.xAxisId,R=B===void 0?L.xAxisId:B,T=I.yAxisId,G=T===void 0?L.yAxisId:T;return O.cloneElement(k,{key:k.key||"".concat(j,"-").concat(_),xAxis:C[R],yAxis:z[G],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:A})}),$e(w,"renderActivePoints",function(k){var j=k.item,_=k.activePoint,P=k.basePoint,A=k.childIndex,N=k.isRange,C=[],z=j.props.key,$=j.item.type.defaultProps!==void 0?Z(Z({},j.item.type.defaultProps),j.item.props):j.item.props,L=$.activeDot,I=$.dataKey,B=Z(Z({index:A,dataKey:I,cx:_.x,cy:_.y,r:4,fill:bv(j.item),strokeWidth:2,stroke:"#fff",payload:_.payload,value:_.value},We(L,!1)),Lf(L));return C.push(y.renderActiveDot(L,B,"".concat(z,"-activePoint-").concat(A))),P?C.push(y.renderActiveDot(L,Z(Z({},B),{},{cx:P.x,cy:P.y}),"".concat(z,"-basePoint-").concat(A))):N&&C.push(null),C}),$e(w,"renderGraphicChild",function(k,j,_){var P=w.filterFormatItem(k,j,_);if(!P)return null;var A=w.getTooltipEventType(),N=w.state,C=N.isTooltipActive,z=N.tooltipAxis,$=N.activeTooltipIndex,L=N.activeLabel,I=w.props.children,B=Mn(I,an),R=P.props,T=R.points,G=R.isRange,ee=R.baseLine,Y=P.item.type.defaultProps!==void 0?Z(Z({},P.item.type.defaultProps),P.item.props):P.item.props,K=Y.activeDot,H=Y.hide,fe=Y.activeBar,ce=Y.activeShape,Oe=!!(!H&&C&&B&&(K||fe||ce)),Se={};A!=="axis"&&B&&B.props.trigger==="click"?Se={onClick:Ku(w.handleItemMouseEnter,k.props.onClick)}:A!=="axis"&&(Se={onMouseLeave:Ku(w.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:Ku(w.handleItemMouseEnter,k.props.onMouseEnter)});var X=O.cloneElement(k,Z(Z({},P.props),Se));function le(Yt){return typeof z.dataKey=="function"?z.dataKey(Yt.payload):null}if(Oe)if($>=0){var ve,W;if(z.dataKey&&!z.allowDuplicatedCategory){var je=typeof z.dataKey=="function"?le:"payload.".concat(z.dataKey.toString());ve=Rf(T,je,L),W=G&&ee&&Rf(ee,je,L)}else ve=T==null?void 0:T[$],W=G&&ee&&ee[$];if(ce||fe){var he=k.props.activeIndex!==void 0?k.props.activeIndex:$;return[O.cloneElement(k,Z(Z(Z({},P.props),Se),{},{activeIndex:he})),null,null]}if(!Fe(ve))return[X].concat(Ks(w.renderActivePoints({item:P,activePoint:ve,basePoint:W,childIndex:$,isRange:G})))}else{var Ee,Ke=(Ee=w.getItemByXY(w.state.activeCoordinate))!==null&&Ee!==void 0?Ee:{graphicalItem:X},ut=Ke.graphicalItem,It=ut.item,er=It===void 0?k:It,_r=ut.childIndex,St=Z(Z(Z({},P.props),Se),{},{activeIndex:_r});return[O.cloneElement(er,St),null,null]}return G?[X,null,null]:[X,null]}),$e(w,"renderCustomized",function(k,j,_){return O.cloneElement(k,Z(Z({key:"recharts-customized-".concat(_)},w.props),w.state))}),$e(w,"renderMap",{CartesianGrid:{handler:Qu,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:Qu},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:Qu},YAxis:{handler:Qu},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((b=g.id)!==null&&b!==void 0?b:Ni("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=mO(w.triggeredAfterMouseMove,(S=g.throttleDelay)!==null&&S!==void 0?S:1e3/60),w.state={},w}return PZ(y,x),SZ(y,[{key:"componentDidMount",value:function(){var b,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,S=b.children,w=b.data,k=b.height,j=b.layout,_=Mn(S,an);if(_){var P=_.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,N=Am(this.state,w,P,A),C=this.state.tooltipTicks[P].coordinate,z=(this.state.offset.top+k)/2,$=j==="horizontal",L=$?{x:C,y:z}:{y:C,x:z},I=this.state.formattedGraphicalItems.find(function(R){var T=R.item;return T.type.name==="Scatter"});I&&(L=Z(Z({},L),I.props.points[P].tooltipPosition),N=I.props.points[P].tooltipPayload);var B={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:A,activePayload:N,activeCoordinate:L};this.setState(B),this.renderCursor(_),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var w,k;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(b){ag([Mn(b.children,an)],[Mn(this.props.children,an)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Mn(this.props.children,an);if(b&&typeof b.props.shared=="boolean"){var S=b.props.shared?"axis":"item";return s.indexOf(S)>=0?S:o}return o}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var S=this.container,w=S.getBoundingClientRect(),k=G8(w),j={chartX:Math.round(b.pageX-k.left),chartY:Math.round(b.pageY-k.top)},_=w.width/S.offsetWidth||1,P=this.inRange(j.chartX,j.chartY,_);if(!P)return null;var A=this.state,N=A.xAxisMap,C=A.yAxisMap,z=this.getTooltipEventType(),$=M2(this.state,this.props.data,this.props.layout,P);if(z!=="axis"&&N&&C){var L=xo(N).scale,I=xo(C).scale,B=L&&L.invert?L.invert(j.chartX):null,R=I&&I.invert?I.invert(j.chartY):null;return Z(Z({},j),{},{xValue:B,yValue:R},$)}return $?Z(Z({},j),$):null}},{key:"inRange",value:function(b,S){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,j=b/w,_=S/w;if(k==="horizontal"||k==="vertical"){var P=this.state.offset,A=j>=P.left&&j<=P.left+P.width&&_>=P.top&&_<=P.top+P.height;return A?{x:j,y:_}:null}var N=this.state,C=N.angleAxisMap,z=N.radiusAxisMap;if(C&&z){var $=xo(C);return uw({x:j,y:_},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,S=this.getTooltipEventType(),w=Mn(b,an),k={};w&&S==="axis"&&(w.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var j=Lf(this.props,this.handleOuterEvent);return Z(Z({},j),k)}},{key:"addListener",value:function(){Qp.on(Jp,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Qp.removeListener(Jp,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,S,w){for(var k=this.state.formattedGraphicalItems,j=0,_=k.length;j<_;j++){var P=k[j];if(P.item===b||P.props.key===b.key||S===Xa(P.item.type)&&w===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,S=this.state.offset,w=S.left,k=S.top,j=S.height,_=S.width;return M.createElement("defs",null,M.createElement("clipPath",{id:b},M.createElement("rect",{x:w,y:k,height:j,width:_})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(S,w){var k=P2(w,2),j=k[0],_=k[1];return Z(Z({},S),{},$e({},j,_.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(S,w){var k=P2(w,2),j=k[0],_=k[1];return Z(Z({},S),{},$e({},j,_.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[b])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(b){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[b])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(b){var S=this.state,w=S.formattedGraphicalItems,k=S.activeItem;if(w&&w.length)for(var j=0,_=w.length;j<_;j++){var P=w[j],A=P.props,N=P.item,C=N.type.defaultProps!==void 0?Z(Z({},N.type.defaultProps),N.props):N.props,z=Xa(N.type);if(z==="Bar"){var $=(A.data||[]).find(function(R){return MH(b,R)});if($)return{graphicalItem:P,payload:$}}else if(z==="RadialBar"){var L=(A.data||[]).find(function(R){return uw(b,R)});if(L)return{graphicalItem:P,payload:L}}else if(Dh(P,k)||Rh(P,k)||Xc(P,k)){var I=EV({graphicalItem:P,activeTooltipItem:k,itemData:C.data}),B=C.activeIndex===void 0?I:C.activeIndex;return{graphicalItem:Z(Z({},P),{},{childIndex:B}),payload:Xc(P,k)?C.data[I]:P.props.data[I]}}}return null}},{key:"render",value:function(){var b=this;if(!tb(this))return null;var S=this.props,w=S.children,k=S.className,j=S.width,_=S.height,P=S.style,A=S.compact,N=S.title,C=S.desc,z=N2(S,mZ),$=We(z,!1);if(A)return M.createElement(o2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement(ig,as({},$,{width:j,height:_,title:N,desc:C}),this.renderClipPath(),nb(w,this.renderMap)));if(this.props.accessibilityLayer){var L,I;$.tabIndex=(L=this.props.tabIndex)!==null&&L!==void 0?L:0,$.role=(I=this.props.role)!==null&&I!==void 0?I:"application",$.onKeyDown=function(R){b.accessibilityManager.keyboardEvent(R)},$.onFocus=function(){b.accessibilityManager.focus()}}var B=this.parseEventsOfWrapper();return M.createElement(o2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement("div",as({className:tt("recharts-wrapper",k),style:Z({position:"relative",cursor:"default",width:j,height:_},P)},B,{ref:function(T){b.container=T}}),M.createElement(ig,as({},$,{width:j,height:_,title:N,desc:C,style:TZ}),this.renderClipPath(),nb(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(O.Component);$e(m,"displayName",r),$e(m,"defaultProps",Z({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),$e(m,"getDerivedStateFromProps",function(x,y){var g=x.dataKey,b=x.data,S=x.children,w=x.width,k=x.height,j=x.layout,_=x.stackOffset,P=x.margin,A=y.dataStartIndex,N=y.dataEndIndex;if(y.updateId===void 0){var C=C2(x);return Z(Z(Z({},C),{},{updateId:0},p(Z(Z({props:x},C),{},{updateId:0}),y)),{},{prevDataKey:g,prevData:b,prevWidth:w,prevHeight:k,prevLayout:j,prevStackOffset:_,prevMargin:P,prevChildren:S})}if(g!==y.prevDataKey||b!==y.prevData||w!==y.prevWidth||k!==y.prevHeight||j!==y.prevLayout||_!==y.prevStackOffset||!fs(P,y.prevMargin)){var z=C2(x),$={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},L=Z(Z({},M2(y,b,j)),{},{updateId:y.updateId+1}),I=Z(Z(Z({},z),$),L);return Z(Z(Z({},I),p(Z({props:x},I),y)),{},{prevDataKey:g,prevData:b,prevWidth:w,prevHeight:k,prevLayout:j,prevStackOffset:_,prevMargin:P,prevChildren:S})}if(!ag(S,y.prevChildren)){var B,R,T,G,ee=Mn(S,$s),Y=ee&&(B=(R=ee.props)===null||R===void 0?void 0:R.startIndex)!==null&&B!==void 0?B:A,K=ee&&(T=(G=ee.props)===null||G===void 0?void 0:G.endIndex)!==null&&T!==void 0?T:N,H=Y!==A||K!==N,fe=!Fe(b),ce=fe&&!H?y.updateId:y.updateId+1;return Z(Z({updateId:ce},p(Z(Z({props:x},y),{},{updateId:ce,dataStartIndex:Y,dataEndIndex:K}),y)),{},{prevChildren:S,dataStartIndex:Y,dataEndIndex:K})}return null}),$e(m,"renderActiveDot",function(x,y,g){var b;return O.isValidElement(x)?b=O.cloneElement(x,y):He(x)?b=x(y):b=M.createElement($h,y),M.createElement(ct,{className:"recharts-active-dot",key:g},b)});var v=O.forwardRef(function(y,g){return M.createElement(m,as({},y,{ref:g}))});return v.displayName=m.displayName,v},Ev=Cv({chartName:"LineChart",GraphicalChild:Ir,axisComponents:[{axisType:"xAxis",AxisComp:va},{axisType:"yAxis",AxisComp:xa}],formatAxisMap:kv}),UZ=Cv({chartName:"ScatterChart",GraphicalChild:rn,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:va},{axisType:"yAxis",AxisComp:xa},{axisType:"zAxis",AxisComp:zh}],formatAxisMap:kv}),RP=Cv({chartName:"AreaChart",GraphicalChild:Xn,axisComponents:[{axisType:"xAxis",AxisComp:va},{axisType:"yAxis",AxisComp:xa}],formatAxisMap:kv});const GZ="modulepreload",HZ=function(e){return"/"+e},T2={},VZ=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),s=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=HZ(l),l in T2)return;T2[l]=!0;const c=l.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${f}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":GZ,c||(d.as="script"),d.crossOrigin="",d.href=l,s&&d.setAttribute("nonce",s),document.head.appendChild(d),c)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(i){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i}return a.then(i=>{for(const s of i||[])s.status==="rejected"&&o(s.reason);return t().catch(o)})};function KZ(e){const[[t,r,n],[a,o,i],[s,l,c]]=e,f=t*(o*c-i*l)-r*(a*c-i*s)+n*(a*l-o*s);if(Math.abs(f)<1e-10)return null;const d=1/f;return[[(o*c-i*l)*d,(n*l-r*c)*d,(r*i-n*o)*d],[(i*s-a*c)*d,(t*c-n*s)*d,(n*a-t*i)*d],[(a*l-o*s)*d,(r*s-t*l)*d,(t*o-r*a)*d]]}function $2(e,t){const r=[[0,0,0],[0,0,0],[0,0,0]];for(let n=0;n<3;n++)for(let a=0;a<3;a++)for(let o=0;o<3;o++)r[n][a]+=e[n][o]*t[o][a];return r}class Xs{constructor(t){tn(this,"size");tn(this,"isPowerOfTwo");tn(this,"_real");tn(this,"_imag");tn(this,"_scratch",null);tn(this,"_rev",null);tn(this,"_m",0);tn(this,"_internalFFT",null);tn(this,"_chirpReal",null);tn(this,"_chirpImag",null);tn(this,"_bReal",null);tn(this,"_bImag",null);tn(this,"_hanning",null);tn(this,"_windowSumSq",0);this.size=t,this.isPowerOfTwo=(t&t-1)===0&&t>0,this._real=new Float32Array(t),this._imag=new Float32Array(t),this.isPowerOfTwo?this.initRadix2():this.initBluestein()}initRadix2(){const t=this.size,r=Math.log2(t);this._rev=new Uint32Array(t);for(let n=0;n<t;n++){let a=0,o=n;for(let i=0;i<r;i++)a=a<<1|o&1,o>>>=1;this._rev[n]=a}}initBluestein(){const t=this.size;this._m=Math.pow(2,Math.ceil(Math.log2(2*t-1))),this._internalFFT=new Xs(this._m),this._chirpReal=new Float32Array(t),this._chirpImag=new Float32Array(t);for(let a=0;a<t;a++){const o=-Math.PI*(a*a)/t;this._chirpReal[a]=Math.cos(o),this._chirpImag[a]=Math.sin(o)}const r=new Float32Array(this._m),n=new Float32Array(this._m);for(let a=0;a<t;a++)r[a]=this._chirpReal[a],n[a]=-this._chirpImag[a];for(let a=1;a<t;a++)r[this._m-a]=r[a],n[this._m-a]=n[a];this._internalFFT.transform(r,n),this._bReal=new Float32Array(this._internalFFT._real),this._bImag=new Float32Array(this._internalFFT._imag)}initHanning(){if(this._hanning)return;const t=this.size;this._hanning=new Float32Array(t);let r=0;for(let n=0;n<t;n++){const a=.5*(1-Math.cos(2*Math.PI*n/(t-1)));this._hanning[n]=a,r+=a*a}this._windowSumSq=r}transform(t,r){this.isPowerOfTwo?this.transformRadix2(t,r):this.transformBluestein(t,r)}transformRadix2(t,r){const n=this.size,a=this._rev,o=this._real,i=this._imag;if(t===o)for(let s=0;s<n;s++){const l=a[s];if(s<l){const c=o[s],f=i[s];o[s]=o[l],i[s]=i[l],o[l]=c,i[l]=f}}else for(let s=0;s<n;s++){const l=a[s];o[s]=t[l],i[s]=r?r[l]:0}for(let s=2;s<=n;s*=2){const l=s/2,c=-2*Math.PI/s,f=Math.cos(c),d=Math.sin(c);for(let h=0;h<n;h+=s){let p=1,m=0;for(let v=0;v<l;v++){const x=h+v,y=h+v+l,g=p*o[y]-m*i[y],b=p*i[y]+m*o[y],S=o[x],w=i[x];o[x]=S+g,i[x]=w+b,o[y]=S-g,i[y]=w-b;const k=p*f-m*d,j=p*d+m*f;p=k,m=j}}}}transformBluestein(t,r){const n=this.size,a=this._m,o=this._internalFFT,i=o._real,s=o._imag;i.fill(0),s.fill(0);for(let d=0;d<n;d++){const h=t[d],p=r?r[d]:0,m=this._chirpReal[d],v=this._chirpImag[d];i[d]=h*m-p*v,s[d]=h*v+p*m}o.transformRadix2(i,s);for(let d=0;d<a;d++){const h=o._real[d],p=o._imag[d],m=this._bReal[d],v=this._bImag[d];o._real[d]=h*m-p*v,o._imag[d]=h*v+p*m}const l=o._real,c=o._imag;for(let d=0;d<a;d++)c[d]=-c[d];o.transformRadix2(l,c);const f=1/a;for(let d=0;d<n;d++){const h=o._real[d]*f,p=-o._imag[d]*f,m=this._chirpReal[d],v=this._chirpImag[d];this._real[d]=h*m-p*v,this._imag[d]=h*v+p*m}}calculateSpectrum(t,r,n=!1){const a=this.size;let o=0;for(let f=0;f<a;f++)o+=t[f];const i=o/a;this._scratch||(this._scratch=new Float32Array(a));const s=this._scratch;if(n){this.initHanning();const f=this._hanning;for(let d=0;d<a;d++)s[d]=(t[d]-i)*f[d]}else for(let f=0;f<a;f++)s[f]=t[f]-i;this.transform(s);const l=r.length;let c=1/a;n&&this._windowSumSq>0&&(c=1/this._windowSumSq);for(let f=0;f<l;f++){const d=this._real[f],h=this._imag[f];r[f]+=(d*d+h*h)*c}}}function XZ(e,t,r,n=!1){const a=new Xs(t),o=new Xs(r),i=t*r,s=new Float32Array(i),l=new Float32Array(i);let c=null,f=null;if(n){c=new Float32Array(t);for(let v=0;v<t;v++)c[v]=.5*(1-Math.cos(2*Math.PI*v/(t-1)));f=new Float32Array(r);for(let v=0;v<r;v++)f[v]=.5*(1-Math.cos(2*Math.PI*v/(r-1)))}for(let v=0;v<r;v++){const x=v*t,y=a._real;let g=0;for(let S=0;S<t;S++)g+=e[x+S];const b=g/t;if(c)for(let S=0;S<t;S++)y[S]=(e[x+S]-b)*c[S];else for(let S=0;S<t;S++)y[S]=e[x+S]-b;a.transform(y);for(let S=0;S<t;S++)s[x+S]=a._real[S],l[x+S]=a._imag[S]}for(let v=0;v<t;v++){const x=o._real,y=o._imag;for(let g=0;g<r;g++){const b=g*t+v;let S=s[b],w=l[b];f&&(S*=f[g],w*=f[g]),x[g]=S,y[g]=w}o.transform(x,y);for(let g=0;g<r;g++){const b=g*t+v;s[b]=o._real[g],l[b]=o._imag[g]}}const d=new Float32Array(i);let h=1,p=t,m=r;if(n&&c&&f){p=0;for(let v=0;v<t;v++)p+=c[v]*c[v];m=0;for(let v=0;v<r;v++)m+=f[v]*f[v]}h=1/(p*m);for(let v=0;v<i;v++)d[v]=(s[v]*s[v]+l[v]*l[v])*h;return d}function YZ(e,t,r){const n=new Float32Array(e.length),a=Math.floor(t/2),o=Math.floor(r/2);for(let i=0;i<r;i++)for(let s=0;s<t;s++){const l=(s+a)%t,c=(i+o)%r,f=i*t+s,d=c*t+l;n[d]=e[f]}return n}let t0=null;async function Uh(){if(!t0)try{const n=(await VZ(()=>import("./joraw-DxmtQQcJ.js"),[])).default;if(typeof n!="function")throw new Error("JoRaw WASM import failed");const a=new URL("/assets/joraw-BUh50ws_.wasm",import.meta.url).href;t0=n({locateFile:(o,i)=>o.endsWith("joraw.wasm")?a:i+o})}catch(r){throw console.error("Failed to load joraw.js:",r),r}const e=await t0,t=e.LibRaw||e.JoRaw;if(!t)throw new Error("JoRaw class not found");return t}const qZ=[[3.2404542,-1.5371385,-.4985314],[-.969266,1.8760108,.041556],[.0556434,-.2040259,1.0572252]],tc=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055;async function ZZ(e){const t=await createImageBitmap(e),r=t.width,n=t.height,a=document.createElement("canvas");a.width=r,a.height=n;const o=a.getContext("2d");if(!o)throw new Error("Failed to create canvas context");o.drawImage(t,0,0);const s=o.getImageData(0,0,r,n).data,l=r*n,c=new Uint16Array(l);for(let d=0;d<n;d++)for(let h=0;h<r;h++){const p=(d*r+h)*4,m=d*r+h,v=d%2===0,x=h%2===0;let y=0;v&&x?y=s[p]:!v&&!x?y=s[p+2]:y=s[p+1],c[m]=y*64}return{previewBlob:await new Promise(d=>a.toBlob(d,"image/png"))||e,analysisData:{data:c,width:r,height:n,bayerPattern:"RGGB",blackLevels:[0,0,0,0],whiteLevel:16320,metadata:{description:"Standard image (non-RAW)"},isThreePlane:!0}}}const QZ=async e=>{const t=await Uh(),r=new t;try{await r.open(e,{useCameraWb:!0,outputBps:8,noAutoBright:!0,userQual:3,outputColor:1});const n=await r.imageData();return new Promise((a,o)=>{const i=document.createElement("canvas");i.width=n.width,i.height=n.height;const s=i.getContext("2d");if(!s){o(new Error("Could not create canvas context"));return}const l=s.createImageData(n.width,n.height),c=n.data,f=n.width*n.height;for(let d=0;d<f;d++){const h=d*3,p=d*4;l.data[p]=c[h],l.data[p+1]=c[h+1],l.data[p+2]=c[h+2],l.data[p+3]=255}s.putImageData(l,0,0),i.toBlob(d=>{d?a(d):o(new Error("Canvas to Blob failed"))},"image/jpeg",.85)})}finally{r.delete?r.delete():r.close()}},Id=async e=>{var n,a,o,i,s,l,c,f,d;const t=await Uh(),r=new t;try{if(await r.open(e,{}),typeof r.getRawImage!="function")throw new Error("WASM mismatch");const h=r.getRawImage(),p=new Uint16Array(h.data),m=await r.metadata(!0);let v=[];if((n=m.color_data)!=null&&n.cblack_rawpy_style)v=m.color_data.cblack_rawpy_style;else if((o=(a=m.color_data)==null?void 0:a.dng_levels)!=null&&o.dng_cblack)v=m.color_data.dng_levels.dng_cblack;else if(((i=m.black_level_per_channel)==null?void 0:i.length)>=4)v=m.black_level_per_channel;else if(((s=m.cblack)==null?void 0:s.length)>=4)v=m.cblack;else if(((c=(l=m.color)==null?void 0:l.cblack)==null?void 0:c.length)>=4)v=m.color.cblack;else{const S=m.black_level||m.color_data&&m.color_data.black||0;v=[S,S,S,S]}const x=[Number(v[0])||0,Number(v[1])||0,Number(v[2])||0,Number(v[3])||0],y=((f=m.idata)==null?void 0:f.filters)||0,g=((d=m.idata)==null?void 0:d.colors)||0,b=y===0&&g===3;return{data:p,width:h.width,height:h.height,bayerPattern:m.color_desc||"RGGB",blackLevels:x,whiteLevel:m.white_level||16383,metadata:m,isThreePlane:b}}finally{r.delete?r.delete():r.close()}};async function r0(e){const t=new Uint8Array(e.slice(0)),r=new Uint8Array(e.slice(0)),[n,a]=await Promise.all([QZ(t),Id(r)]);return{previewBlob:n,analysisData:a}}async function Bd(e){const t=new Uint8Array(e.slice(0));return Id(t)}const D2=e=>(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e++,e);async function n0(e,t,r,n=!0){const a=await Id(new Uint8Array(e)),o=await Id(new Uint8Array(t));if(a.width!==o.width||a.height!==o.height)throw new Error("Dimension Mismatch");const i=a.width,s=a.height,l=r?D2(i):i,c=r?D2(s):s,f=l*c,d=new Uint16Array(f),h=6e4,p=1.41421356;for(let m=0;m<s;m++){const v=m*i,x=m*l;for(let y=0;y<i;y++){const g=a.data[v+y],b=o.data[v+y];let S=g-b;n&&(S/=p);let w=S+h;w=Math.max(0,Math.min(65535,w)),d[x+y]=Math.round(w)}}return{rawData:d,width:l,height:c,metadata:a.metadata}}function Ui(e,t,r,n,a,o,i){const s=Math.max(0,Math.floor(n)),l=Math.max(0,Math.floor(a)),c=Math.min(t,Math.ceil(n+o)),f=Math.min(r,Math.ceil(a+i)),d=[0,0,0,0],h=[0,0,0,0],p=[0,0,0,0];for(let x=l;x<f;x++){const y=x*t,g=x%2;for(let b=s;b<c;b++){const S=b%2,w=e[y+b],k=g*2+S;d[k]+=w,h[k]+=w*w,p[k]++}}const m=[0,0,0,0],v=[0,0,0,0];for(let x=0;x<4;x++)if(p[x]>0){const y=d[x]/p[x];m[x]=y;const b=h[x]/p[x]-y*y;v[x]=Math.sqrt(Math.max(0,b))}return{x:s,y:l,width:c-s,height:f-l,means:m,stdDevs:v,pixelCount:p.reduce((x,y)=>x+y,0)}}function R2(e,t,r,n,a,o,i=0,s=0){const l=Math.max(0,Math.floor(n.x)),c=Math.max(0,Math.floor(n.y)),f=Math.min(t,Math.ceil(n.x+n.w)),d=Math.min(r,Math.ceil(n.y+n.h)),h=a>>1,p=a&1,m=(o>>1)+i,v=(o&1)+s;let x=0,y=0,g=0;for(let _=c;_<d-2;_+=2)for(let P=l;P<f-2;P+=2){const A=(_+h)*t+(P+p),N=(_+m)*t+(P+v);_+m>=r||P+v>=t||(x+=e[A],y+=e[N],g++)}if(g<2)return{sumCov:0,sumVar1:0,sumVar2:0,n:0};const b=x/g,S=y/g;let w=0,k=0,j=0;for(let _=c;_<d-2;_+=2)for(let P=l;P<f-2;P+=2){const A=(_+h)*t+(P+p),N=(_+m)*t+(P+v);if(_+m>=r||P+v>=t)continue;const C=e[A],z=e[N],$=C-b,L=z-S;w+=$*L,k+=$*$,j+=L*L}return{sumCov:w,sumVar1:k,sumVar2:j,n:g}}function JZ(e){if(e.n<2)return 0;const t=Math.sqrt(e.sumVar1*e.sumVar2);return t===0?0:e.sumCov/t}function eQ(e,t,r,n,a,o,i,s,l,c,f){if(c<=l)return[];const d=Math.max(0,Math.floor(n)),h=Math.max(0,Math.floor(a)),p=Math.min(t,Math.ceil(n+o)),m=Math.min(r,Math.ceil(a+i)),v=c-l,x=f?Math.floor(v)+1:s,y=v/x,g=[new Uint32Array(x),new Uint32Array(x),new Uint32Array(x),new Uint32Array(x)];for(let S=h;S<m;S++){const w=S*t,k=S%2;for(let j=d;j<p;j++){const _=j%2,P=e[w+j];if(P<l||P>c)continue;const A=k*2+_;let N;f?N=Math.floor(P-l):N=Math.floor((P-l)/y),N<0&&(N=0),N>=x&&(N=x-1),g[A][N]++}}const b=[];for(let S=0;S<x;S++){const w=l+(f?S:S*y);b.push({binStart:w,c0:g[0][S],c1:g[1][S],c2:g[2][S],c3:g[3][S]})}return b}function tQ(e,t,r,n,a,o=!1,i=!1,s={rows:!1,rowGroup:0,cols:!1,colGroup:0},l=!0,c=1){const f=Math.max(0,Math.floor(n.x)),d=Math.max(0,Math.floor(n.y)),h=Math.min(t,Math.ceil(n.x+n.w)),p=Math.min(r,Math.ceil(n.y+n.h)),m=h-f,v=p-d;if(m<=1||v<=1)return null;let x=0;for(let N=f;N<h;N++)N%2===(a&1)&&x++;let y=0;for(let N=d;N<p;N++)N%2===a>>1&&y++;if(x<4||y<4)return null;const g=Math.max(1,c),b=Math.floor(2*x/(g+1)),S=Math.floor(2*y/(g+1));if(b<4||S<4)return null;const w=new Xs(b),k=new Xs(S),j=new Float32Array(Math.floor(b/2)+1),_=new Float32Array(Math.floor(S/2)+1);let P=0,A=0;for(let N=d;N<p;N++){const C=N%2;if(a>>1!==C||s.rows&&(N>>1&1)!==s.rowGroup)continue;const z=N*t,$=new Float32Array(x);let L=0;for(let I=f;I<h;I++)I%2===(a&1)&&L<x&&($[L++]=e[z+I]);for(let I=0;I<g;I++){const B=Math.floor(I*b/2);if(B+b>x)break;const R=$.slice(B,B+b);w.calculateSpectrum(R,j,i),P++}if(!l)break}for(let N=f;N<h;N++){const C=N%2;if((a&1)!==C||s.cols&&(N>>1&1)!==s.rowGroup)continue;const z=new Float32Array(y);let $=0;for(let L=d;L<p;L++)L%2===a>>1&&$<y&&(z[$++]=e[L*t+N]);for(let L=0;L<g;L++){const I=Math.floor(L*S/2);if(I+S>y)break;const B=z.slice(I,I+S);k.calculateSpectrum(B,_,i),A++}if(!l)break}if(P>0)for(let N=0;N<j.length;N++)j[N]/=P;if(A>0)for(let N=0;N<_.length;N++)_[N]/=A;return{avgHoriz:Array.from(j),avgVert:Array.from(_),sampleCount:{h:P,v:A}}}function rQ(e,t,r,n,a,o=!1){const i=Math.max(0,Math.floor(n.x)),s=Math.max(0,Math.floor(n.y)),l=Math.min(t,Math.ceil(n.x+n.w)),c=Math.min(r,Math.ceil(n.y+n.h));let f=-1;for(let g=s;g<c;g++)if(g%2===a>>1){f=g;break}if(f===-1)return null;let d=-1;for(let g=i;g<l;g++)if(g%2===(a&1)){d=g;break}if(d===-1)return null;const h=[];for(let g=f;g<c;g+=2){const b=g*t,S=[];for(let w=d;w<l;w+=2)S.push(e[b+w]);h.push(S)}const p=h.length;if(p===0)return null;const m=h[0].length;if(m===0)return null;const v=new Float32Array(m*p);for(let g=0;g<p;g++){const b=h[g];for(let S=0;S<m;S++)v[g*m+S]=b[S]}const x=XZ(v,m,p,o),y=YZ(x,m,p);return{width:m,height:p,data:y}}function nQ(e,t,r,n,a,o,i){const{x:s,y:l,w:c,h:f}=n,d=[],h=Math.max(0,Math.floor(s)),p=Math.max(0,Math.floor(l)),m=Math.min(t,Math.ceil(s+c)),v=Math.min(r,Math.ceil(l+f)),x=a>>1,y=a&1;for(let k=p;k<v;k++){if(k%2!==x)continue;const j=k*t;for(let _=h;_<m;_++){if(_%2!==y)continue;const P=e[j+_];P>=o&&P<=i&&d.push(P-o)}}if(d.length===0)return null;d.sort((k,j)=>k-j);const g=[d[0]];for(let k=1;k<d.length;k++)d[k]!==d[k-1]&&g.push(d[k]);const b=[],S=[],w={};for(let k=0;k<g.length-1;k++){const j=g[k],P=g[k+1]-j;b.push(P),S.push({x:j,y:P}),w[P]=(w[P]||0)+1}return{uniqueCount:g.length,diffCount:b.length,stepCounts:w,plotData:S}}async function L2(e,t){const r=await Uh(),n=new r;try{const a=new Uint8Array(e.slice(0));let o=!1,i=[];if(t.customMatrix&&t.customMatrix.length===9){const h=[[t.customMatrix[0],t.customMatrix[1],t.customMatrix[2]],[t.customMatrix[3],t.customMatrix[4],t.customMatrix[5]],[t.customMatrix[6],t.customMatrix[7],t.customMatrix[8]]],p=KZ(h);if(p){const m=t.wbGains?t.wbGains[0]:1,v=t.wbGains?t.wbGains[1]:1,y=$2(p,[[m,0,0],[0,1,0],[0,0,v]]),g=$2(qZ,y);i=[g[0][0],g[0][1],g[0][2],g[1][0],g[1][1],g[1][2],g[2][0],g[2][1],g[2][2]],o=!0}else throw new Error("Custom Matrix is not invertible.")}const s={outputBps:16,noAutoBright:!0,bright:o?1:Math.pow(2,t.exposure)};t.blackLevel&&t.blackLevel.length===4&&(s.userBlack=0,s.userCblack=t.blackLevel.map(h=>{const p=Math.round(h);return p===0?1:p})),t.demosaicMethod===-1?s.noInterpolation=!0:s.userQual=t.demosaicMethod,o?(s.outputColor=0,s.gamma=[1,1],s.userMul=[1,1,1,1],s.useCameraWb=!1):(s.outputColor=1,s.useCameraWb=!0),await n.open(a,s);const l=await n.imageData(),c=new ImageData(l.width,l.height),f=c.data,d=new Uint16Array(l.data.buffer,l.data.byteOffset,l.data.byteLength/2);if(o&&i.length===9){const h=i,m=Math.pow(2,t.exposure)*.25;for(let v=0;v<d.length;v+=3){const x=d[v]/65535,y=d[v+1]/65535,g=d[v+2]/65535;let b=h[0]*x+h[1]*y+h[2]*g,S=h[3]*x+h[4]*y+h[5]*g,w=h[6]*x+h[7]*y+h[8]*g;b*=m,S*=m,w*=m,b=Math.max(0,Math.min(1,b)),S=Math.max(0,Math.min(1,S)),w=Math.max(0,Math.min(1,w)),b=tc(b),S=tc(S),w=tc(w);const k=v/3*4;f[k]=Math.round(b*255),f[k+1]=Math.round(S*255),f[k+2]=Math.round(w*255),f[k+3]=255}}else for(let h=0;h<d.length;h+=3){const p=h/3*4;f[p]=d[h]>>8,f[p+1]=d[h+1]>>8,f[p+2]=d[h+2]>>8,f[p+3]=255}return c}finally{n.delete?n.delete():n.close()}}async function aQ(e,t,r=!1,n=!1){const a=await Uh(),o=new a;try{if(t.renderMode==="zero-dependency"||t.renderMode==="advanced-zero-dep"){await o.open(new Uint8Array(e));const i=await o.metadata(!0),s=(i==null?void 0:i.white_level)||16383,l=o.getRawImage(),{width:c,height:f,data:d}=l,h=new Uint16Array(c*f),p=Math.pow(2,t.exposure);if(t.renderMode==="advanced-zero-dep"&&t.advancedZeroDep){const{bl:m,bg:v,fg:x}=t.advancedZeroDep,y=(v[1]+v[3])/2,g=(x[1]+x[3])/2;for(let b=0;b<f;b++){const S=b%2;for(let w=0;w<c;w++){const k=w%2;let j=0;!S&&!k?j=0:!S&&k?j=1:S&&!k?j=3:j=2;const _=d[b*c+w],P=m[j],A=v[j],N=x[j],C=Math.max(_-P,0),z=N-A||1e-9,$=(C-A)/z;let L;$<0?L=C*(y/Math.max(A,1e-9)):$>1?L=C*(g/Math.max(N,1e-9)):L=(1-$)*y+$*g,L*=p;const I=Math.max(0,Math.min(1,L/s)),B=n?tc(I):I;h[b*c+w]=Math.round(B*65535)}}}else{const m=t.blackLevel||[0,0,0,0],v=t.wbGains?t.wbGains[0]:1,x=t.wbGains?t.wbGains[1]:1;for(let y=0;y<f;y++){const g=y%2;for(let b=0;b<c;b++){const S=b%2,w=g*2+S,k=d[y*c+b],j=m[w];let _=k-j;w===0?_*=v:w===3&&(_*=x),_*=p;const P=Math.max(0,Math.min(1,_/(r?s-j:s))),A=n?tc(P):P;h[y*c+b]=Math.round(A*65535)}}}return{data:h,width:c,height:f,channels:1}}else{const i=new Uint8Array(e.slice(0)),s={outputBps:16,noAutoBright:!r,bright:1,outputColor:n?1:0,useCameraWb:!0};t.blackLevel&&t.blackLevel.length===4&&(s.userBlack=0,s.userCblack=t.blackLevel.map(d=>Math.max(1,Math.round(d)))),t.demosaicMethod===-1?s.noInterpolation=!0:s.userQual=t.demosaicMethod,await o.open(i,s);const l=await o.imageData(),c=new Uint16Array(l.data.buffer,l.data.byteOffset,l.data.byteLength/2),f=Math.pow(2,t.exposure);if(f!==1)for(let d=0;d<c.length;d++)c[d]=Math.max(0,Math.min(65535,Math.round(c[d]*f)));return{data:c,width:l.width,height:l.height,channels:3}}}finally{o.delete?o.delete():o.close()}}const oQ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,zIndex:i,onFocus:s,initialPosition:l,initialInternalState:c,onUpdateState:f})=>{const[d,h]=O.useState((c==null?void 0:c.channelMode)||"All"),[p,m]=O.useState((c==null?void 0:c.minVal)??0),[v,x]=O.useState((c==null?void 0:c.maxVal)??16383),[y,g]=O.useState((c==null?void 0:c.binCount)??100),[b,S]=O.useState((c==null?void 0:c.pointToPoint)??!1),[w,k]=O.useState((c==null?void 0:c.showTheo)??!1),[j,_]=O.useState((c==null?void 0:c.theoMean)??"512"),[P,A]=O.useState((c==null?void 0:c.theoSigma)??"10"),[N,C]=O.useState((c==null?void 0:c.theoAmp)??"1000"),[z,$]=O.useState(!1),[L,I]=O.useState([]),[B,R]=O.useState(null),[T,G]=O.useState(l||{x:100,y:100}),[ee,Y]=O.useState(!1),K=O.useRef({x:0,y:0});O.useEffect(()=>{f&&f({channelMode:d,minVal:p,maxVal:v,binCount:y,pointToPoint:b,showTheo:w,theoMean:j,theoSigma:P,theoAmp:N})},[d,p,v,y,b,w,j,P,N]),O.useEffect(()=>{if(!e||!n||!a)return;if(v<=p){R("Invalid range: Max must be greater than Min");return}R(null),$(!0);const W=setTimeout(()=>{try{const je=eQ(n.data,n.width,n.height,a.x,a.y,a.w,a.h,y,p,v,b);I(je)}catch(je){console.error("Histogram calc error:",je),R("Error calculating histogram")}finally{$(!1)}},50);return()=>clearTimeout(W)},[e,n,a==null?void 0:a.x,a==null?void 0:a.y,a==null?void 0:a.w,a==null?void 0:a.h,y,p,v,b]);const H=O.useMemo(()=>{if(!w)return L;const W=parseFloat(j),je=parseFloat(P),he=parseFloat(N);return isNaN(W)||isNaN(je)||isNaN(he)||je<=0?L:L.map(Ee=>{const Ke=Ee.binStart,ut=-Math.pow(Ke-W,2)/(2*Math.pow(je,2)),It=he*Math.exp(ut);return{...Ee,theory:It}})},[L,w,j,P,N]),fe=()=>{if(L.length===0)return;let W=0,je=0;if(L.forEach(he=>{const Ee=Math.max(he.c0||0,he.c1||0,he.c2||0,he.c3||0);Ee>W&&(W=Ee,je=he.binStart)}),_(je.toFixed(2)),C(W.toString()),parseFloat(P)===0||isNaN(parseFloat(P))){const he=v-p;A((he/20).toFixed(2))}},ce=(W,je,he)=>{s&&s(),!(he.closest("button")||he.closest("input")||he.closest("select"))&&(Y(!0),K.current={x:W-T.x,y:je-T.y})},Oe=W=>{ce(W.clientX,W.clientY,W.target)},Se=W=>{const je=W.touches[0];ce(je.clientX,je.clientY,W.target)};if(O.useEffect(()=>{const W=he=>{if(ee){const Ee="touches"in he?he.touches[0].clientX:he.clientX,Ke="touches"in he?he.touches[0].clientY:he.clientY;G({x:Ee-K.current.x,y:Ke-K.current.y})}},je=()=>Y(!1);return ee&&(window.addEventListener("mousemove",W),window.addEventListener("mouseup",je),window.addEventListener("touchmove",W,{passive:!1}),window.addEventListener("touchend",je)),()=>{window.removeEventListener("mousemove",W),window.removeEventListener("mouseup",je),window.removeEventListener("touchmove",W),window.removeEventListener("touchend",je)}},[ee]),!e)return null;const X=o?{c0:"Blue",c1:"Green 1",c2:"Green 2",c3:"Red"}:{c0:"Red",c1:"Green 1",c2:"Green 2",c3:"Blue"},le=o?{c0:"#3b82f6",c1:"#22c55e",c2:"#4ade80",c3:"#ef4444"}:{c0:"#ef4444",c1:"#22c55e",c2:"#4ade80",c3:"#3b82f6"},ve="step";return u.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl resize-both overflow-hidden min-w-[500px] min-h-[400px] w-[900px] h-[650px]",style:{left:T.x,top:T.y,zIndex:i??100},onMouseDownCapture:s,children:[u.jsxs("div",{className:`flex justify-between items-center p-4 border-b border-gray-200 dark:border-slate-700 flex-shrink-0 bg-white dark:bg-slate-900 select-none touch-none ${ee?"cursor-grabbing":"cursor-grab"}`,onMouseDown:Oe,onTouchStart:Se,children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 pointer-events-none",children:"ROI Histogram"}),u.jsxs("div",{className:"flex items-center gap-1",children:[r&&u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-800/50 flex flex-wrap gap-x-6 gap-y-3 items-center border-b border-gray-200 dark:border-slate-700 text-xs flex-shrink-0 relative z-10",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-bold uppercase tracking-tight",children:"Channel:"}),u.jsxs("select",{value:d,onChange:W=>h(W.target.value),className:"bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-900 dark:text-slate-100 outline-none focus:ring-1 focus:ring-cyan-500",children:[u.jsx("option",{value:"All",children:"All Colors"}),u.jsx("option",{value:"0",children:X.c0}),u.jsx("option",{value:"1",children:X.c1}),u.jsx("option",{value:"2",children:X.c2}),u.jsx("option",{value:"3",children:X.c3})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-bold uppercase tracking-tight",children:"Range:"}),u.jsx("input",{type:"number",value:p,onChange:W=>m(Number(W.target.value)),className:"w-16 px-1.5 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right font-mono"}),u.jsx("span",{className:"text-gray-400",children:"-"}),u.jsx("input",{type:"number",value:v,onChange:W=>x(Number(W.target.value)),className:"w-16 px-1.5 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right font-mono"})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:b,onChange:W=>S(W.target.checked),className:"w-3.5 h-3.5 text-cyan-600 rounded border-gray-300 focus:ring-cyan-500"}),u.jsx("span",{className:"text-gray-700 dark:text-slate-300 select-none font-semibold",children:"PTP"})]}),!b&&u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"Bins:"}),u.jsx("input",{type:"number",value:y,onChange:W=>g(Math.max(1,Number(W.target.value))),className:"w-12 px-1.5 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right font-mono"})]})]}),u.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700"}),u.jsxs("div",{className:`flex items-center gap-3 p-1.5 rounded-lg border transition-all ${w?"bg-amber-50/30 dark:bg-amber-900/10 border-amber-200/50 dark:border-amber-800/50":"bg-transparent border-transparent"}`,children:[u.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:w,onChange:W=>k(W.target.checked),className:"w-3.5 h-3.5 text-amber-500 rounded border-gray-300 focus:ring-amber-500 bg-white dark:bg-slate-700"}),u.jsx("span",{className:`font-bold uppercase tracking-tight ${w?"text-amber-600 dark:text-amber-400":"text-gray-400"}`,children:"Theoretical Bell"})]}),w&&u.jsxs("div",{className:"flex items-center gap-2 animate-in fade-in slide-in-from-left-2 duration-200",children:[u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("span",{className:"text-[8px] text-gray-400 uppercase font-bold",children:"Mean()"}),u.jsx("input",{type:"text",value:j,onChange:W=>_(W.target.value),className:"w-14 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center text-[10px] py-0.5 outline-none focus:border-amber-500"})]}),u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("span",{className:"text-[8px] text-gray-400 uppercase font-bold",children:"Sigma()"}),u.jsx("input",{type:"text",value:P,onChange:W=>A(W.target.value),className:"w-12 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center text-[10px] py-0.5 outline-none focus:border-amber-500"})]}),u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("span",{className:"text-[8px] text-gray-400 uppercase font-bold",children:"Scale(A)"}),u.jsx("input",{type:"text",value:N,onChange:W=>C(W.target.value),className:"w-16 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center text-[10px] py-0.5 outline-none focus:border-amber-500"})]}),u.jsx("button",{onClick:fe,className:"mt-3 px-2 py-0.5 bg-amber-600 hover:bg-amber-500 text-white text-[9px] font-bold rounded shadow-sm active:scale-95 transition-all",title:"Set Mean and Amplitude based on current peak",children:"AUTO FIT"})]})]})]}),u.jsxs("div",{className:"flex-1 p-4 relative bg-white dark:bg-slate-900 overflow-hidden min-h-0",children:[u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-0 pointer-events-none select-none opacity-10 mix-blend-normal dark:mix-blend-plus-lighter",children:u.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),z&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-20 bg-white/50 dark:bg-slate-900/50 backdrop-blur-[1px]",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("div",{className:"w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mb-2"}),u.jsx("span",{className:"text-sm text-cyan-600 dark:text-cyan-400 font-semibold",children:"Calculating Histogram..."})]})}),B?u.jsx("div",{className:"flex items-center justify-center h-full text-red-500 relative z-10",children:B}):u.jsx("div",{className:"relative z-10 w-full h-full",children:u.jsx(_s,{width:"100%",height:"100%",children:u.jsxs(Ev,{data:H,children:[u.jsx(ji,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3}),u.jsx(va,{dataKey:"binStart",type:"number",domain:[p,v],tickFormatter:W=>Math.floor(W).toString(),tick:{fill:"#9ca3af",fontSize:12},allowDataOverflow:!0,label:{value:"DN Value",position:"insideBottom",offset:-5,fill:"#9ca3af",fontSize:12}}),u.jsx(xa,{tick:{fill:"#9ca3af",fontSize:12},label:{value:"Count",angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:12}}),u.jsx(an,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6"},itemStyle:{fontSize:"12px"},labelFormatter:W=>`DN: ${Math.round(Number(W))}`,formatter:(W,je)=>[Math.round(W),je]}),u.jsx(qa,{wrapperStyle:{paddingTop:"10px"}}),w&&u.jsx(Ir,{type:"monotone",dataKey:"theory",name:"Ideal Bell (Gaussian)",stroke:"#f59e0b",strokeWidth:2.5,strokeDasharray:"5 5",dot:!1,isAnimationActive:!1}),(d==="All"||d==="0")&&u.jsx(Ir,{type:ve,dataKey:"c0",name:X.c0,stroke:le.c0,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(d==="All"||d==="1")&&u.jsx(Ir,{type:ve,dataKey:"c1",name:X.c1,stroke:le.c1,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(d==="All"||d==="2")&&u.jsx(Ir,{type:ve,dataKey:"c2",name:X.c2,stroke:le.c2,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(d==="All"||d==="3")&&u.jsx(Ir,{type:ve,dataKey:"c3",name:X.c3,stroke:le.c3,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1})]})})})]})]})},Gh=({initialPosition:e={x:20,y:80},children:t,className:r="",onClose:n,zIndex:a,onFocus:o})=>{const[i,s]=O.useState(e),[l,c]=O.useState(!1),[f,d]=O.useState({x:0,y:0}),h=O.useRef(null),p=(x,y,g)=>{o&&o(),!(g.closest("button")||g.closest("input"))&&(c(!0),d({x:x-i.x,y:y-i.y}))},m=x=>{p(x.clientX,x.clientY,x.target)},v=x=>{const y=x.touches[0];p(y.clientX,y.clientY,x.target)};return O.useEffect(()=>{const x=g=>{var b,S;if(l){g.cancelable&&g.preventDefault();const w="touches"in g?g.touches[0].clientX:g.clientX,k="touches"in g?g.touches[0].clientY:g.clientY,j=w-f.x,_=k-f.y,P=window.innerWidth-(((b=h.current)==null?void 0:b.offsetWidth)||100),A=window.innerHeight-(((S=h.current)==null?void 0:S.offsetHeight)||100);s({x:Math.max(0,Math.min(j,P)),y:Math.max(0,Math.min(_,A))})}},y=()=>{c(!1)};return l&&(window.addEventListener("mousemove",x),window.addEventListener("mouseup",y),window.addEventListener("touchmove",x,{passive:!1}),window.addEventListener("touchend",y)),()=>{window.removeEventListener("mousemove",x),window.removeEventListener("mouseup",y),window.removeEventListener("touchmove",x),window.removeEventListener("touchend",y)}},[l,f]),u.jsxs("div",{ref:h,style:{left:i.x,top:i.y,zIndex:a??90},onMouseDownCapture:o,className:`fixed shadow-2xl rounded-xl border border-gray-200 dark:border-slate-700 bg-white/95 dark:bg-slate-900/90 backdrop-blur-md transition-shadow duration-200 ${l?"cursor-grabbing shadow-xl ring-2 ring-cyan-500/30":"shadow-lg"} ${r}`,children:[u.jsx("div",{onMouseDown:m,onTouchStart:v,className:"absolute inset-0 w-full h-8 cursor-grab active:cursor-grabbing z-0 touch-none",title:"Drag to move"}),u.jsx("div",{className:"relative z-10 pointer-events-none",children:u.jsx("div",{className:"pointer-events-auto",children:t})})]})},iQ=({isOpen:e,onClose:t,rawImageData:r,roi:n,selectedChannel:a,channelName:o,zIndex:i,onFocus:s,initialPosition:l})=>{const c=O.useRef(null),[f,d]=O.useState(!1),[h,p]=O.useState(null),[m,v]=O.useState(null),[x,y]=O.useState(!0),[g,b]=O.useState(!0),[S,w]=O.useState("-1"),[k,j]=O.useState("8"),[_,P]=O.useState(64),[A,N]=O.useState(45),[C,z]=O.useState(60),$=O.useRef(!1),L=O.useRef({x:0,y:0});O.useEffect(()=>{!e||!r||!n||(d(!0),v(null),setTimeout(()=>{try{const T=rQ(r.data,r.width,r.height,n,a,g);T?p(T):v("Could not extract valid data from ROI.")}catch(T){console.error("2D FFT Error",T),v("Calculation Error: "+T.message)}finally{d(!1)}},50))},[e,r,n,a,g]),O.useEffect(()=>{if(!h||!c.current)return;const T=c.current,G=T.getContext("2d");if(!G)return;const ee=T.width,Y=T.height;G.clearRect(0,0,ee,Y),G.fillStyle="#0f172a",G.fillRect(0,0,ee,Y);const K=h.width,H=h.height,fe=h.data,ce=Math.pow(10,parseFloat(S)||-1),Oe=Math.pow(10,parseFloat(k)||8);let Se=ce,X=Oe;x&&(Se=Math.log10(Math.max(1e-10,ce)),X=Math.log10(Math.max(1e-10,Oe)));const le=X-Se||1,ve=ee/2,W=Y/2+50,je=Math.min(ee,Y)*.4,he=.6,Ee=A*Math.PI/180,Ke=C*Math.PI/180,ut=Math.cos(Ee),It=Math.sin(Ee),er=Math.cos(Ke),_r=Math.sin(Ke),St=(Xe,Mt,vt)=>{const cr=Xe*ut-Mt*It,qt=Xe*It+Mt*ut,Jr=qt*er-vt*_r,Ct=qt*_r+vt*er;return{x:ve+cr*je,y:W-Jr*je,depth:Ct}},Yt=Math.max(16,_),mt=Math.max(1,Math.floor(K/Yt)),Tr=Math.max(1,Math.floor(H/Yt)),At=(Xe,Mt)=>{let vt=fe[Mt*K+Xe];return x&&(vt=Math.log10(Math.max(1e-10,vt))),vt=Math.max(Se,Math.min(X,vt)),(vt-Se)/le},ra=Xe=>`hsl(${(1-Xe)*240}, 80%, 50%)`,yt=[];for(let Xe=0;Xe<H-Tr;Xe+=Tr)for(let Mt=0;Mt<K-mt;Mt+=mt){const vt=Mt,cr=Xe,qt=Mt+mt,Jr=Xe,Ct=Mt+mt,un=Xe+Tr,ft=Mt,Wr=Xe+Tr,fn=At(vt,cr),na=At(qt,Jr),Ln=At(Ct,un),Sn=At(ft,Wr),ur=(fn+na+Ln+Sn)/4,Pr=St(vt/(K-1)-.5,cr/(H-1)-.5,fn*he),Nr=St(qt/(K-1)-.5,Jr/(H-1)-.5,na*he),$r=St(Ct/(K-1)-.5,un/(H-1)-.5,Ln*he),dn=St(ft/(K-1)-.5,Wr/(H-1)-.5,Sn*he),jn=(Pr.depth+Nr.depth+$r.depth+dn.depth)/4;yt.push({pts:[{x:Pr.x,y:Pr.y},{x:Nr.x,y:Nr.y},{x:$r.x,y:$r.y},{x:dn.x,y:dn.y}],avgDepth:jn,avgZ:ur})}yt.sort((Xe,Mt)=>Xe.avgDepth-Mt.avgDepth),G.lineWidth=.5,yt.forEach(Xe=>{G.fillStyle=ra(Xe.avgZ),G.beginPath(),G.moveTo(Xe.pts[0].x,Xe.pts[0].y),G.lineTo(Xe.pts[1].x,Xe.pts[1].y),G.lineTo(Xe.pts[2].x,Xe.pts[2].y),G.lineTo(Xe.pts[3].x,Xe.pts[3].y),G.closePath(),G.fill()}),G.fillStyle="#aaa",G.font="10px monospace";const mr=St(-.5,-.5,0),tr=St(.5,-.5,0),ir=St(-.5,.5,0),yr=St(.5,.5,0);G.strokeStyle="#666",G.beginPath(),G.moveTo(mr.x,mr.y),G.lineTo(tr.x,tr.y),G.lineTo(yr.x,yr.y),G.lineTo(ir.x,ir.y),G.closePath(),G.stroke(),G.fillText("0",mr.x-10,mr.y+10),G.fillText("Fx",tr.x+5,tr.y),G.fillText("Fy",ir.x-15,ir.y);const jt=St(-.5,-.5,he);G.strokeStyle="#fff",G.beginPath(),G.moveTo(mr.x,mr.y),G.lineTo(jt.x,jt.y),G.stroke(),G.fillText(`10^${k}`,jt.x-25,jt.y),G.fillText(`10^${S}`,mr.x-25,mr.y)},[h,x,A,C,S,k,_]);const I=T=>{$.current=!0,L.current={x:T.clientX,y:T.clientY}},B=T=>{if(!$.current)return;const G=T.clientX-L.current.x,ee=T.clientY-L.current.y;N(Y=>Y-G*.5),z(Y=>Math.max(0,Math.min(90,Y+ee*.5))),L.current={x:T.clientX,y:T.clientY}},R=()=>{$.current=!1};return e?u.jsxs(Gh,{initialPosition:l||{x:100,y:100},onClose:t,zIndex:i,onFocus:s,className:"w-[700px] h-[600px] bg-slate-900 border border-slate-700 flex flex-col overflow-hidden shadow-2xl",children:[u.jsxs("div",{className:"flex justify-between items-center px-4 py-2 border-b border-slate-700 bg-slate-800",children:[u.jsxs("h3",{className:"text-sm font-bold text-slate-200 flex items-center gap-2",children:["2D FFT Power Spectrum - ",o,h&&u.jsxs("span",{className:"text-[10px] font-normal text-slate-400 bg-slate-700 px-2 py-0.5 rounded",children:[h.width,"x",h.height," (Chirp-Z)"]})]}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("button",{onClick:t,className:"text-slate-400 hover:text-red-400 transition-colors",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})})]}),u.jsxs("div",{className:"p-3 bg-slate-800/80 flex flex-wrap gap-4 text-xs items-center border-b border-slate-700",children:[u.jsxs("div",{className:"flex items-center gap-2 bg-slate-900 px-2 py-1 rounded border border-slate-600",children:[u.jsx("span",{className:"text-slate-400 font-bold",children:"Range (10^x):"}),u.jsx("input",{type:"number",value:S,onChange:T=>w(T.target.value),className:"w-10 bg-transparent text-slate-200 text-center border-b border-slate-600 focus:border-cyan-500 outline-none"}),u.jsx("span",{className:"text-slate-500",children:"to"}),u.jsx("input",{type:"number",value:k,onChange:T=>j(T.target.value),className:"w-10 bg-transparent text-slate-200 text-center border-b border-slate-600 focus:border-cyan-500 outline-none"})]}),u.jsxs("div",{className:"flex items-center gap-2 bg-slate-900 px-2 py-1 rounded border border-slate-600",children:[u.jsx("span",{className:"text-slate-400 font-bold",children:"Density:"}),u.jsx("input",{type:"range",min:"16",max:"128",step:"16",value:_,onChange:T=>P(Number(T.target.value)),className:"w-20 h-1.5 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"}),u.jsx("span",{className:"text-slate-300 w-6 text-right",children:_})]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none text-slate-300 hover:text-white",children:[u.jsx("input",{type:"checkbox",checked:x,onChange:T=>y(T.target.checked),className:"rounded bg-slate-700 border-slate-600 accent-cyan-500"}),"Log Z"]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none text-slate-300 hover:text-white",children:[u.jsx("input",{type:"checkbox",checked:g,onChange:T=>b(T.target.checked),className:"rounded bg-slate-700 border-slate-600 accent-fuchsia-500"}),"Hanning"]})]}),u.jsxs("div",{className:"flex-1 relative bg-slate-900 cursor-move",children:[f&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-900/80 z-20 backdrop-blur-sm",children:u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx("div",{className:"w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin"}),u.jsx("span",{className:"text-cyan-400 font-bold animate-pulse text-sm",children:"Computing full-size 2D FFT..."})]})}),m&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-900/80 z-20 text-red-400 p-4 text-center",children:m}),u.jsx("canvas",{ref:c,width:700,height:500,className:"w-full h-full block",onMouseDown:I,onMouseMove:B,onMouseUp:R,onMouseLeave:R}),u.jsx("div",{className:"absolute bottom-2 right-2 text-[9px] text-slate-600 pointer-events-none",children:"Drag to Rotate"})]})]}):null},sQ=.5,Mm=1e-10,I2=(e,t)=>{const r=e.length-1;if(r<0)return Mm;const n=t/sQ*r,a=Math.round(n),o=e[Math.min(Math.max(0,a),r)]||0;return Math.max(o,Mm)},lQ=(e,t)=>{if(t<=0)return[1];const r=new Array(e);let n=0;for(let a=0;a<e;a++){const o=a-(e-1)/2,i=Math.exp(-(o*o)/(2*t*t));r[a]=i,n+=i}for(let a=0;a<e;a++)r[a]/=n;return r},cQ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,onUpdateROI:i,zIndex:s,onFocus:l,initialPosition:c,initialInternalState:f,onUpdateState:d,stackFiles:h})=>{const[p,m]=O.useState((f==null?void 0:f.selectedChannel)??0),[v,x]=O.useState(()=>(f==null?void 0:f.yMinExp)||localStorage.getItem("fft_y_min")||"1.73"),[y,g]=O.useState(()=>(f==null?void 0:f.yMaxExp)||localStorage.getItem("fft_y_max")||"8.00"),[b,S]=O.useState((f==null?void 0:f.useHanning)??!0),[w,k]=O.useState((f==null?void 0:f.doAverage)??!0),[j,_]=O.useState((f==null?void 0:f.welchSegments)??1),[P,A]=O.useState((f==null?void 0:f.showH)??!0),[N,C]=O.useState((f==null?void 0:f.showV)??!0),[z,$]=O.useState((f==null?void 0:f.interlaceRows)??!1),[L,I]=O.useState((f==null?void 0:f.rowGroup)??0),[B,R]=O.useState((f==null?void 0:f.interlaceCols)??!1),[T,G]=O.useState((f==null?void 0:f.colGroup)??0),[ee,Y]=O.useState(()=>(f==null?void 0:f.theoSigma)||localStorage.getItem("fft_theo_sigma")||"0.00"),[K,H]=O.useState(()=>(f==null?void 0:f.theoKernelSize)||localStorage.getItem("fft_theo_ksize")||"3"),[fe,ce]=O.useState(()=>(f==null?void 0:f.theoNoiseStd)||localStorage.getItem("fft_theo_noise")||"7.5"),[Oe,Se]=O.useState(()=>(f==null?void 0:f.theoScale)||localStorage.getItem("fft_theo_scale")||"1.0"),[X,le]=O.useState((f==null?void 0:f.intStart)||"0"),[ve,W]=O.useState((f==null?void 0:f.intEnd)||"0.5"),[je,he]=O.useState(!1),[Ee,Ke]=O.useState([]),[ut,It]=O.useState(!1),[er,_r]=O.useState(0),[St,Yt]=O.useState(null),[mt,Tr]=O.useState(!1),[At,ra]=O.useState(!1),[yt,mr]=O.useState(null),[tr,ir]=O.useState(!1),[yr,jt]=O.useState(null),[Xe,Mt]=O.useState(c||{x:50,y:50}),[vt,cr]=O.useState(!1),[qt,Jr]=O.useState(null),[Ct,un]=O.useState({}),ft=O.useRef({x:0,y:0}),Wr=o?{c0:"#3b82f6",c1:"#22c55e",c2:"#4ade80",c3:"#ef4444"}:{c0:"#ef4444",c1:"#22c55e",c2:"#4ade80",c3:"#3b82f6"},fn=O.useMemo(()=>o?{0:"Blue",1:"Green 1",2:"Green 2",3:"Red"}:{0:"Red",1:"Green 1",2:"Green 2",3:"Blue"},[o]);O.useEffect(()=>{localStorage.setItem("fft_y_min",v),localStorage.setItem("fft_y_max",y),localStorage.setItem("fft_theo_sigma",ee),localStorage.setItem("fft_theo_ksize",K),localStorage.setItem("fft_theo_noise",fe),localStorage.setItem("fft_theo_scale",Oe)},[v,y,ee,K,fe,Oe]),O.useEffect(()=>{if(!e||!n||!a)return;It(!0),Yt(null),_r(0);const ne=setTimeout(async()=>{try{const _e=p===-1?[0,1,2,3]:[p],Re=h&&h.length>1?h:[null],Ne=Re.length,U={};let me={h:0,v:0};for(let Ae=0;Ae<Ne;Ae++){_r(Ae+1);let Ue;if(Re[Ae]){const rt=await Re[Ae].arrayBuffer();Ue=await Bd(rt)}else Ue=n;for(const rt of _e){const _t=tQ(Ue.data,Ue.width,Ue.height,a,rt,!1,b,{rows:z,rowGroup:L,cols:B,colGroup:T},w,j);_t&&(U[rt]||(U[rt]={h:new Array(_t.avgHoriz.length).fill(0),v:new Array(_t.avgVert.length).fill(0)}),_t.avgHoriz.forEach((dt,pe)=>U[rt].h[pe]+=dt/Ne),_t.avgVert.forEach((dt,pe)=>U[rt].v[pe]+=dt/Ne),me=_t.sampleCount)}}if(Object.keys(U).length===0)throw new Error("ROI too small or no data found.");const Ve=1024,Ze=[];for(let Ae=0;Ae<Ve;Ae++){const Ue=Ae/(Ve-1)*.5,rt={freq:parseFloat(Ue.toFixed(6))};for(const _t of _e)U[_t]&&(rt[`c${_t}_h`]=I2(U[_t].h,Ue),rt[`c${_t}_v`]=I2(U[_t].v,Ue));Ze.push(rt)}Jr(me),Ke(Ze)}catch(_e){console.error("FFT Loop Failed:",_e),Yt(_e.message||"Unknown error during FFT processing")}finally{It(!1)}},100);return()=>clearTimeout(ne)},[e,n,a==null?void 0:a.x,a==null?void 0:a.y,a==null?void 0:a.w,a==null?void 0:a.h,p,b,w,j,z,L,B,T,h]);const na=()=>{const ne=parseFloat(X),_e=parseFloat(ve);if(isNaN(ne)||isNaN(_e))return;const Re={},Ne=p===-1?[0,1,2,3]:[p],U=Ee.filter(me=>me.freq>=ne&&me.freq<=_e);if(U.length===0){un({});return}Ne.forEach(me=>{let Ve=0,Ze=0;U.forEach(Ae=>{const Ue=Ae[`c${me}_h`],rt=Ae[`c${me}_v`];typeof Ue=="number"&&(Ve+=Ue),typeof rt=="number"&&(Ze+=rt)}),Re[me]={h:Ve/U.length,v:Ze/U.length,count:U.length}}),un(Re)},Ln=O.useMemo(()=>{const ne=parseFloat(ee),_e=parseInt(K),Re=parseFloat(fe),Ne=parseFloat(Oe);if(isNaN(ne)||isNaN(_e)||isNaN(Re)||isNaN(Ne)||Ee.length===0)return Ee;const U=lQ(_e,ne),me=U.reduce((Ae,Ue)=>Ae+Ue*Ue,0),Ve=(_e-1)/2,Ze=Re*Re*Ne;return Ee.map(Ae=>{const Ue=Ae.freq,rt=2*Math.PI*Ue;let _t=0,dt=0;for(let Dr=0;Dr<_e;Dr++){const In=Dr-Ve,ze=U[Dr],On=-rt*In;_t+=ze*Math.cos(On),dt+=ze*Math.sin(On)}const pe=_t*_t+dt*dt;return{...Ae,theory:Math.max(Mm,Ze*me*pe)}})},[Ee,ee,K,fe,Oe]),Sn=ne=>{ne&&ne.activeLabel!==void 0&&(ir(!0),jt(Number(ne.activeLabel)),mr(null))},ur=ne=>{if(tr&&yr!==null&&ne&&ne.activeLabel!==void 0){const _e=Number(ne.activeLabel);mr([Math.min(yr,_e),Math.max(yr,_e)])}},Pr=()=>ir(!1),Nr=(ne,_e,Re)=>{l&&l(),!(Re.closest("button")||Re.closest("input"))&&(cr(!0),ft.current={x:ne-Xe.x,y:_e-Xe.y})},$r=ne=>{Nr(ne.clientX,ne.clientY,ne.target)},dn=ne=>{const _e=ne.touches[0];Nr(_e.clientX,_e.clientY,ne.target)};O.useEffect(()=>{const ne=Re=>{if(vt){const Ne="touches"in Re?Re.touches[0].clientX:Re.clientX,U="touches"in Re?Re.touches[0].clientY:Re.clientY;Mt({x:Ne-ft.current.x,y:U-ft.current.y})}},_e=()=>cr(!1);return vt&&(window.addEventListener("mousemove",ne),window.addEventListener("mouseup",_e),window.addEventListener("touchmove",ne,{passive:!1}),window.addEventListener("touchend",_e)),()=>{window.removeEventListener("mousemove",ne),window.removeEventListener("mouseup",_e),window.removeEventListener("touchmove",ne),window.removeEventListener("touchend",_e)}},[vt]);const jn=O.useMemo(()=>{if(!yt||Ee.length===0)return null;const[ne,_e]=yt,Re=Ee.filter(me=>me.freq>=ne&&me.freq<=_e);if(Re.length===0)return null;const Ne=p===-1?[0,1,2,3]:[p],U={};return Ne.forEach(me=>{["h","v"].forEach(Ve=>{const Ze=`c${me}_${Ve}`;let Ae=0,Ue=0;for(const rt of Re){const _t=rt[Ze];typeof _t=="number"&&(Ae+=_t,Ue++)}Ue>0&&(U[`${Ze}_sigma`]=Math.sqrt(Ae/Ue))})}),{count:Re.length,stats:U}},[yt,Ee,p]),Wt=()=>{if(Ee.length===0)return;let ne=1/0,_e=-1/0;if(Ee.forEach(Ve=>{Ve.freq<.01||Ve.freq>.49||Object.keys(Ve).forEach(Ze=>{if(Ze==="freq"||Ze==="theory")return;const Ae=Ve[Ze];typeof Ae=="number"&&Ae>0&&(Ae<ne&&(ne=Ae),Ae>_e&&(_e=Ae))})}),ne===1/0)return;const Re=Math.log10(ne),Ne=Math.log10(_e),U=Ne-Re,me=(U===0?1:U)*.1;x((Re-me).toFixed(2)),g((Ne+me).toFixed(2))},rr=(ne,_e)=>{a&&i&&i({...a,x:a.x+ne,y:a.y+_e})},Ot=(ne,_e)=>{a&&i&&i({...a,w:Math.max(2,a.w+ne),h:Math.max(2,a.h+_e)})};return e?u.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl overflow-hidden resize-both min-w-[750px] min-h-[500px]",style:{left:Xe.x,top:Xe.y,width:"1000px",height:"850px",zIndex:s??100},onMouseDownCapture:l,children:[u.jsxs("div",{className:`flex justify-between items-center p-3 border-b border-gray-200 dark:border-slate-700 flex-shrink-0 bg-gray-50 dark:bg-slate-800 z-50 relative select-none touch-none ${vt?"cursor-grabbing":"cursor-grab"}`,onMouseDown:$r,onTouchStart:dn,children:[u.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2 pointer-events-none",children:["Power Spectrum Analysis",u.jsx("span",{className:"text-[10px] font-normal bg-white dark:bg-slate-700 px-2 py-1 rounded text-gray-500 border border-gray-200 dark:border-slate-600 shadow-sm",children:h&&h.length>1?`Stack Avg (${h.length} frames)`:"Single Mode"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[r&&u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsxs("div",{className:"flex flex-col bg-gray-50 dark:bg-slate-900/80 border-b border-gray-200 dark:border-slate-800 flex-shrink-0 z-40 relative px-4 py-3 gap-3 overflow-x-auto",children:[u.jsxs("div",{className:"flex items-center gap-6",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-[10px] font-bold text-gray-500 dark:text-slate-400 uppercase tracking-widest",children:"Channel"}),u.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-800 rounded-lg p-0.5 border border-gray-200 dark:border-slate-700 shadow-inner",children:[u.jsx("button",{onClick:()=>m(-1),className:`px-3 py-1 rounded text-[10px] font-bold transition-all ${p===-1?"bg-slate-700 text-white shadow-md":"text-gray-500 dark:text-slate-500 hover:bg-white dark:hover:bg-slate-700"}`,children:"All"}),[0,1,2,3].map(ne=>u.jsx("button",{onClick:()=>m(ne),className:`px-3 py-1 rounded text-[10px] font-bold transition-all ${p===ne?"bg-cyan-600 text-white shadow-md":"text-gray-500 dark:text-slate-500 hover:bg-white dark:hover:bg-slate-700"}`,children:fn[ne]},ne))]})]}),u.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700 mx-2"}),u.jsxs("button",{onClick:()=>he(!0),className:"flex items-center gap-1.5 px-4 py-1.5 bg-indigo-600 hover:bg-indigo-500 text-white text-[10px] font-bold rounded-lg shadow-lg shadow-indigo-500/30 transition-all active:scale-95 group border border-indigo-400/30",children:[u.jsx("svg",{className:"w-3.5 h-3.5 group-hover:animate-pulse",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"2D Diagonal"]}),u.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700 mx-2"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-400 uppercase tracking-widest",children:"Model"}),u.jsx("div",{className:"flex gap-2",children:[{label:"KSize",val:K,set:H,w:"w-10"},{label:"Sigma",val:ee,set:Y,w:"w-12"},{label:"Noise()",val:fe,set:ce,w:"w-12"},{label:"Scale",val:Oe,set:Se,w:"w-12"}].map(ne=>u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("label",{className:"text-[8px] text-gray-400 dark:text-slate-500 uppercase font-bold mb-0.5",children:ne.label}),u.jsx("input",{type:"text",value:ne.val,onChange:_e=>ne.set(_e.target.value),className:`${ne.w} text-[11px] bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded px-1.5 py-0.5 text-center text-gray-900 dark:text-slate-100 outline-none focus:border-indigo-500 shadow-sm`})]},ne.label))})]})]}),u.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[u.jsxs("div",{className:"flex items-center gap-3 mr-2",children:[u.jsx("span",{className:"text-[10px] font-bold text-fuchsia-600 dark:text-fuchsia-500 uppercase tracking-widest",children:"Welch"}),u.jsx("input",{type:"range",min:"1",max:"16",step:"1",value:j,onChange:ne=>_(parseInt(ne.target.value)),className:"w-24 h-1.5 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-fuchsia-500"}),u.jsx("span",{className:"text-[10px] font-mono text-fuchsia-600 dark:text-fuchsia-400 w-4 font-bold",children:j})]}),u.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700"}),u.jsxs("div",{className:"flex flex-col gap-1 px-2",children:[u.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer text-[10px] text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 select-none",children:[u.jsx("input",{type:"checkbox",checked:z,onChange:ne=>$(ne.target.checked),className:"w-3 h-3 rounded text-cyan-600 border-gray-300 dark:border-slate-700 bg-white dark:bg-slate-800"})," Row Int."]}),u.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer text-[10px] text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 select-none",children:[u.jsx("input",{type:"checkbox",checked:B,onChange:ne=>R(ne.target.checked),className:"w-3 h-3 rounded text-cyan-600 border-gray-300 dark:border-slate-700 bg-white dark:bg-slate-800"})," Col Int."]})]}),u.jsxs("div",{className:"flex flex-col gap-1.5 bg-gray-100 dark:bg-slate-800/60 p-1.5 rounded-lg border border-gray-200 dark:border-slate-700",children:[u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[u.jsx("div",{className:`w-3.5 h-3.5 rounded-md border flex items-center justify-center transition-colors ${b?"bg-fuchsia-600 border-fuchsia-600":"bg-white dark:bg-slate-900 border-gray-300 dark:border-slate-600"}`,children:b&&u.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:4,children:u.jsx("path",{d:"M5 13l4 4L19 7"})})}),u.jsx("input",{type:"checkbox",checked:b,onChange:ne=>S(ne.target.checked),className:"hidden"}),u.jsx("span",{className:"text-[10px] font-bold text-gray-700 dark:text-slate-300",children:"Hanning"})]}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[u.jsx("div",{className:`w-3.5 h-3.5 rounded-md border flex items-center justify-center transition-colors ${w?"bg-cyan-600 border-cyan-600":"bg-white dark:bg-slate-900 border-gray-300 dark:border-slate-600"}`,children:w&&u.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:4,children:u.jsx("path",{d:"M5 13l4 4L19 7"})})}),u.jsx("input",{type:"checkbox",checked:w,onChange:ne=>k(ne.target.checked),className:"hidden"}),u.jsx("span",{className:"text-[10px] font-bold text-gray-700 dark:text-slate-300",children:"Average"})]})]}),u.jsxs("div",{className:"flex gap-2 bg-gray-100 dark:bg-slate-800 p-1 rounded-lg border border-gray-200 dark:border-slate-700",children:[u.jsxs("button",{onClick:()=>A(!P),className:`px-2.5 py-1 rounded-md border text-[11px] font-bold transition-all flex items-center gap-1.5 ${P?"bg-cyan-900/40 text-cyan-400 border-cyan-500 shadow-[0_0_8px_rgba(6,182,212,0.3)]":"bg-white dark:bg-slate-900 text-gray-400 border-gray-300 dark:border-slate-700"}`,children:[u.jsx("div",{className:`w-2 h-2 rounded-full ${P?"bg-cyan-400":"bg-gray-400"}`})," H"]}),u.jsxs("button",{onClick:()=>C(!N),className:`px-2.5 py-1 rounded-md border text-[11px] font-bold transition-all flex items-center gap-1.5 ${N?"bg-cyan-900/40 text-cyan-400 border-cyan-500 shadow-[0_0_8px_rgba(6,182,212,0.3)]":"bg-white dark:bg-slate-900 text-gray-400 border-gray-300 dark:border-slate-700"}`,children:[u.jsx("div",{className:`w-2 h-2 rounded-full ${P?"bg-cyan-400":"bg-gray-400"}`})," V"]})]}),u.jsxs("div",{className:"ml-auto flex gap-2",children:[u.jsx("button",{onClick:()=>ra(!At),className:`px-3 py-1.5 rounded-lg text-[10px] font-bold transition-all border ${At?"bg-emerald-600 text-white border-emerald-600 shadow-md":"bg-white dark:bg-slate-900 text-emerald-600 dark:text-emerald-400 border-emerald-200 dark:border-emerald-800 hover:bg-emerald-50"}`,children:""}),u.jsx("button",{onClick:()=>Tr(!mt),className:`px-3 py-1.5 rounded-lg text-[10px] font-bold transition-all border ${mt?"bg-indigo-600 text-white border-indigo-600 shadow-md":"bg-white dark:bg-slate-900 text-indigo-600 dark:text-indigo-400 border-indigo-200 dark:border-indigo-800 hover:bg-indigo-50"}`,children:"ROI"})]})]}),u.jsxs("div",{className:"flex items-center gap-4 justify-end border-t border-gray-200 dark:border-slate-800/50 pt-2.5",children:[u.jsx("button",{onClick:Wt,className:"px-4 py-1 text-[10px] font-bold bg-cyan-600/10 text-cyan-600 dark:text-cyan-400 hover:bg-cyan-600/20 rounded-md border border-cyan-500/30 transition-all uppercase tracking-widest shadow-sm",children:"Auto"}),u.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-gray-500 dark:text-slate-400 uppercase",children:["Y-AXIS (LOG)",u.jsxs("div",{className:"flex items-center bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-md overflow-hidden shadow-sm",children:[u.jsx("input",{type:"text",value:v,onChange:ne=>x(ne.target.value),className:"w-14 px-2 py-1 bg-transparent text-center outline-none text-gray-900 dark:text-slate-100 border-r border-gray-200 dark:border-slate-700"}),u.jsx("span",{className:"px-2 text-gray-400",children:"to"}),u.jsx("input",{type:"text",value:y,onChange:ne=>g(ne.target.value),className:"w-14 px-2 py-1 bg-transparent text-center outline-none text-gray-900 dark:text-slate-100"})]})]})]})]}),u.jsxs("div",{className:"flex-1 p-4 overflow-hidden flex flex-col gap-2 relative bg-gray-50/30 dark:bg-slate-900/30",children:[u.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none z-[50] select-none opacity-10",children:u.jsx("svg",{viewBox:"0 0 500 100",className:"w-3/4 h-auto drop-shadow-lg",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"24",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),ut&&u.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-[55] bg-white/90 dark:bg-slate-900/90 backdrop-blur-[2px]",children:[u.jsx("div",{className:"w-10 h-10 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mb-4"}),u.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:"Computing FFT Stack..."}),h&&h.length>1&&u.jsxs("span",{className:"text-xs text-gray-500 mt-2 font-mono",children:["Processing frame ",er," / ",h.length]})]}),St?u.jsx("div",{className:"flex items-center justify-center h-full text-red-500 font-semibold",children:St}):u.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-950 border border-gray-200 dark:border-slate-800 rounded-xl p-2 flex flex-col relative z-20 shadow-xl overflow-hidden",children:[u.jsx("div",{className:"flex-1 relative z-10",onMouseDown:Sn,onMouseMove:ur,onMouseUp:Pr,style:{cursor:tr?"col-resize":"crosshair"},children:u.jsx(_s,{width:"100%",height:"100%",children:u.jsxs(Ev,{data:Ln,margin:{top:10,right:10,bottom:20,left:0},children:[u.jsx(ji,{strokeDasharray:"3 3",stroke:"#374151",opacity:.08}),u.jsx(va,{dataKey:"freq",type:"number",domain:[0,.5],tickCount:6,tick:{fill:"#6b7280",fontSize:10},label:{value:"Frequency (cy/px)",position:"insideBottom",offset:-10,fill:"#6b7280",fontSize:11}}),u.jsx(xa,{scale:"log",domain:[Math.pow(10,parseFloat(v)),Math.pow(10,parseFloat(y))],allowDataOverflow:!0,tick:{fill:"#6b7280",fontSize:10},tickFormatter:ne=>Number(ne).toExponential(0),width:45}),u.jsx(an,{contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.95)",border:"1px solid #334155",color:"#f3f4f6",fontSize:"11px",borderRadius:"8px"},formatter:ne=>[Number(ne).toExponential(3),""],labelFormatter:ne=>`Freq: ${Number(ne).toFixed(4)}`}),u.jsx(qa,{wrapperStyle:{fontSize:"10px"}}),u.jsx(Ir,{type:"monotone",dataKey:"theory",name:"Theory Model",stroke:"#6366f1",strokeWidth:2,dot:!1,isAnimationActive:!1}),[0,1,2,3].flatMap(ne=>{if(p!==-1&&p!==ne)return[];const _e=`c${ne}_h`,Re=`c${ne}_v`,Ne=Wr[`c${ne}`],U=[];return P&&U.push(u.jsx(Ir,{type:"linear",dataKey:_e,name:`${fn[ne]} (H)`,stroke:Ne,strokeWidth:1,dot:!1,isAnimationActive:!1},`${ne}_h`)),N&&U.push(u.jsx(Ir,{type:"linear",dataKey:Re,name:`${fn[ne]} (V)`,stroke:Ne,strokeWidth:1,strokeDasharray:"3 3",dot:!1,isAnimationActive:!1},`${ne}_v`)),U}),yt&&u.jsx(hu,{x1:yt[0],x2:yt[1],fill:"#8884d8",fillOpacity:.15})]})})}),jn&&yt&&u.jsxs("div",{className:"absolute bottom-12 left-12 bg-slate-900/90 backdrop-blur-md p-3 rounded-lg border border-indigo-500/50 shadow-2xl z-30 text-[10px] font-mono text-slate-100",children:[u.jsxs("div",{className:"text-indigo-400 font-bold mb-1 border-b border-indigo-500/30 pb-1",children:["Range: ",yt[0].toFixed(3),"-",yt[1].toFixed(3)]}),Object.entries(jn.stats).map(([ne,_e])=>u.jsxs("div",{className:"flex justify-between gap-4",children:[u.jsxs("span",{className:"text-slate-400",children:[ne,":"]}),u.jsx("span",{className:"font-bold text-cyan-400",children:_e.toFixed(5)})]},ne))]})]})]}),At&&u.jsxs("div",{className:"absolute top-48 right-8 z-[55] w-72 bg-white dark:bg-slate-900 rounded-xl shadow-2xl border border-gray-200 dark:border-slate-700 p-4 animate-in slide-in-from-top-2",children:[u.jsx("h4",{className:"text-[10px] uppercase font-bold text-emerald-600 dark:text-emerald-400 mb-2 border-b border-gray-100 dark:border-slate-800 pb-1",children:"Range Averaging"}),u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx("input",{type:"number",step:"0.01",value:X,onChange:ne=>le(ne.target.value),className:"w-16 px-1 py-0.5 text-xs border rounded bg-transparent dark:border-slate-600 dark:text-white"}),u.jsx("span",{className:"text-gray-400",children:"-"}),u.jsx("input",{type:"number",step:"0.01",value:ve,onChange:ne=>W(ne.target.value),className:"w-16 px-1 py-0.5 text-xs border rounded bg-transparent dark:border-slate-600 dark:text-white"}),u.jsx("button",{onClick:na,className:"flex-1 bg-emerald-600 text-white text-[10px] font-bold py-1 rounded",children:"Avg"})]}),u.jsx("div",{className:"flex flex-col gap-2 max-h-48 overflow-y-auto",children:[0,1,2,3].map(ne=>{const _e=Ct[ne];if(!_e)return null;const Re=Wr[`c${ne}`];return u.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800/50 p-2 rounded text-[10px] border border-gray-100 dark:border-slate-800",children:[u.jsxs("div",{className:"flex items-center gap-2 font-bold mb-1",style:{color:Re},children:[fn[ne]," ",u.jsxs("span",{className:"text-gray-400 font-normal",children:["(",_e.count," pts)"]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-x-2 text-gray-700 dark:text-slate-300 font-mono",children:[u.jsxs("div",{children:["H: ",_e.h.toExponential(3)]}),u.jsxs("div",{children:["V: ",_e.v.toExponential(3)]})]})]},ne)})})]}),mt&&u.jsx("div",{className:"absolute top-48 right-8 z-[55] w-56 bg-white dark:bg-slate-900 rounded-xl shadow-2xl border border-gray-200 dark:border-slate-700 p-4 animate-in slide-in-from-top-2",children:u.jsxs("div",{className:"flex flex-col gap-3",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"text-[9px] uppercase font-bold text-gray-400 mb-1",children:"Move"}),u.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[u.jsx("div",{}),u.jsx("button",{onClick:()=>rr(0,-1),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),u.jsx("div",{}),u.jsx("button",{onClick:()=>rr(-1,0),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),u.jsx("div",{}),u.jsx("button",{onClick:()=>rr(1,0),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),u.jsx("div",{}),u.jsx("button",{onClick:()=>rr(0,1),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),u.jsx("div",{})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-[9px] uppercase font-bold text-gray-400 mb-1",children:"Size"}),u.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[u.jsx("button",{onClick:()=>Ot(2,0),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"W+"}),u.jsx("button",{onClick:()=>Ot(-2,0),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"W-"}),u.jsx("button",{onClick:()=>Ot(0,2),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"H+"}),u.jsx("button",{onClick:()=>Ot(0,-2),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"H-"})]})]})]})}),u.jsx(iQ,{isOpen:je,onClose:()=>he(!1),rawImageData:n,roi:a,selectedChannel:p===-1?0:p,channelName:p===-1?"Red (Default)":fn[p],zIndex:s?s+2:102,onFocus:l})]}):null},uQ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,zIndex:i,onFocus:s,initialPosition:l,initialInternalState:c,onUpdateState:f})=>{const[d,h]=O.useState((c==null?void 0:c.selectedChannelKey)||"G1"),[p,m]=O.useState((c==null?void 0:c.blackLevel)??0),[v,x]=O.useState((c==null?void 0:c.whiteLevel)??16383),[y,g]=O.useState(null),[b,S]=O.useState(!1),[w,k]=O.useState(null),[j,_]=O.useState(l||{x:150,y:150}),[P,A]=O.useState(!1),N=O.useRef({x:0,y:0});O.useEffect(()=>{f&&f({selectedChannelKey:d,blackLevel:p,whiteLevel:v})},[d,p,v]),O.useEffect(()=>{if(e&&n&&!c){const B=n.blackLevels?Math.floor(n.blackLevels[1]):0;m(B),x(n.whiteLevel||16383),g(null)}},[e,n]);const C=()=>{if(!n||!a)return;k(null),S(!0);const R=(o?{B:0,G1:1,G2:2,R:3}:{R:0,G1:1,G2:2,B:3})[d];setTimeout(()=>{try{const T=nQ(n.data,n.width,n.height,a,R,p,v);T?g(T):(k("No data found in selection with current filters."),g(null))}catch(T){console.error("Analysis failed:",T),k(T.message||"Analysis error")}finally{S(!1)}},50)},z=(B,R,T)=>{s&&s(),!(T.closest("button")||T.closest("input")||T.closest("select"))&&(A(!0),N.current={x:B-j.x,y:R-j.y})},$=B=>{z(B.clientX,B.clientY,B.target)},L=B=>{const R=B.touches[0];z(R.clientX,R.clientY,B.target)};if(O.useEffect(()=>{const B=T=>{if(P){const G="touches"in T?T.touches[0].clientX:T.clientX,ee="touches"in T?T.touches[0].clientY:T.clientY;_({x:G-N.current.x,y:ee-N.current.y})}},R=()=>A(!1);return P&&(window.addEventListener("mousemove",B),window.addEventListener("mouseup",R),window.addEventListener("touchmove",B,{passive:!1}),window.addEventListener("touchend",R)),()=>{window.removeEventListener("mousemove",B),window.removeEventListener("mouseup",R),window.removeEventListener("touchmove",B),window.removeEventListener("touchend",R)}},[P]),!e)return null;const I=o?["B","G1","G2","R"]:["R","G1","G2","B"];return u.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl resize-both overflow-hidden min-w-[500px] min-h-[400px] w-[900px] h-[700px]",style:{left:j.x,top:j.y,zIndex:i??100},onMouseDownCapture:s,children:[u.jsxs("div",{className:`flex justify-between items-center p-4 border-b border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-900 select-none touch-none ${P?"cursor-grabbing":"cursor-grab"}`,onMouseDown:$,onTouchStart:L,children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2 pointer-events-none",children:"Quantization Step Analysis"}),u.jsxs("div",{className:"flex items-center gap-1",children:[r&&u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 p-2",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800/50 border-b border-gray-200 dark:border-slate-700 flex flex-wrap gap-4 items-end flex-shrink-0",children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Channel"}),u.jsx("select",{value:d,onChange:B=>h(B.target.value),className:"bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded px-3 py-1.5 text-sm text-gray-900 dark:text-slate-100 outline-none focus:ring-1 focus:ring-cyan-500 min-w-[80px]",children:I.map(B=>u.jsx("option",{value:B,children:B},B))})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Black Level"}),u.jsx("input",{type:"number",value:p,onChange:B=>m(Number(B.target.value)),className:"w-24 px-3 py-1.5 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-sm text-gray-900 dark:text-slate-100"})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"White Level"}),u.jsx("input",{type:"number",value:v,onChange:B=>x(Number(B.target.value)),className:"w-24 px-3 py-1.5 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-sm text-gray-900 dark:text-slate-100"})]}),u.jsx("button",{onClick:C,disabled:b,className:"mb-0.5 px-5 py-1.5 bg-cyan-600 hover:bg-cyan-500 text-white font-bold rounded shadow-sm hover:shadow transition-colors disabled:opacity-50 text-sm",children:b?"Analyzing...":"Run Analysis"})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-4 flex flex-col gap-4 bg-white dark:bg-slate-900 min-h-0",children:[w&&u.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded text-sm text-center flex-shrink-0",children:w}),!y&&!b&&!w&&u.jsx("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400 dark:text-slate-500 h-full",children:u.jsx("p",{children:"Configure parameters and click Run Analysis"})}),y&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 flex-shrink-0",children:[u.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700 text-center",children:[u.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 uppercase mb-1",children:"Unique Codes"}),u.jsx("div",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:y.uniqueCount})]}),u.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700 text-center",children:[u.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 uppercase mb-1",children:"Total Diffs"}),u.jsx("div",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:y.diffCount})]})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700 overflow-hidden flex-shrink-0",children:[u.jsx("div",{className:"px-4 py-2 bg-gray-50 dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700 text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Step Distribution"}),u.jsx("div",{className:"p-4 flex flex-wrap gap-x-8 gap-y-2 text-sm font-mono max-h-32 overflow-y-auto",children:Object.entries(y.stepCounts).sort((B,R)=>parseFloat(B[0])-parseFloat(R[0])).map(([B,R])=>u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("span",{className:"text-gray-500 dark:text-slate-400",children:["Step ",B,":"]}),u.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:String(R)})]},B))})]}),u.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 rounded-xl p-2 relative overflow-hidden min-h-[300px]",children:[u.jsx("div",{className:"absolute top-2 left-4 text-xs font-bold text-gray-400 dark:text-slate-500 pointer-events-none z-20 bg-white/80 dark:bg-slate-900/80 px-2 rounded",children:"Step Size vs Code Value"}),u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-0 pointer-events-none select-none opacity-10 mix-blend-normal dark:mix-blend-plus-lighter",children:u.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),u.jsx("div",{className:"relative z-10 w-full h-full",children:u.jsx(_s,{width:"100%",height:"100%",children:u.jsxs(Ev,{data:y.plotData,margin:{top:20,right:20,bottom:20,left:10},children:[u.jsx(ji,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),u.jsx(va,{dataKey:"x",type:"number",domain:["auto","auto"],tick:{fill:"#9ca3af",fontSize:10},label:{value:"Code Value (Shifted)",position:"insideBottom",offset:-10,fill:"#9ca3af",fontSize:11}}),u.jsx(xa,{tick:{fill:"#9ca3af",fontSize:10},domain:[0,"auto"],allowDataOverflow:!1,label:{value:"Step Size (Delta)",angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:11}}),u.jsx(an,{contentStyle:{backgroundColor:"rgba(17, 24, 39, 0.95)",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6",fontSize:"12px"},labelFormatter:B=>`Val: ${B}`,formatter:B=>[B,"Step Size"]}),u.jsx(Ir,{type:"stepAfter",dataKey:"y",stroke:"#0891b2",strokeWidth:1.5,dot:{r:1.5,fill:"#0891b2",strokeWidth:0},activeDot:{r:4},isAnimationActive:!1})]})})})]})]})]})]})},fQ=({isOpen:e,onClose:t,rawImageData:r,roi:n,isBGGR:a,zIndex:o,onFocus:i,initialPosition:s,stackFiles:l})=>{const[c,f]=O.useState("cross"),[d,h]=O.useState("R"),[p,m]=O.useState("B"),[v,x]=O.useState("H"),[y,g]=O.useState(null),[b,S]=O.useState(!1),[w,k]=O.useState(0),[j,_]=O.useState(0),[P,A]=O.useState("single"),N=a?{B:0,G1:1,G2:2,R:3}:{R:0,G1:1,G2:2,B:3},C=a?["B","G1","G2","R"]:["R","G1","G2","B"],z=async $=>{if(!r||!n)return;S(!0),A($),k(0),g(null);let L=N[d],I=c==="cross"?N[p]:L,B=0,R=0;c==="self"&&(v==="H"?R=2:B=2),setTimeout(async()=>{try{let T={sumCov:0,sumVar1:0,sumVar2:0,n:0};if($==="single")T=R2(r.data,r.width,r.height,n,L,I,B,R);else if(l&&l.length>0)for(let G=0;G<l.length;G++){k(G+1);const ee=await l[G].arrayBuffer(),Y=await Bd(ee),K=R2(Y.data,Y.width,Y.height,n,L,I,B,R);T.sumCov+=K.sumCov,T.sumVar1+=K.sumVar1,T.sumVar2+=K.sumVar2,T.n+=K.n}_(T.n),g(JZ(T))}catch(T){console.error("Pearson calculation failed",T),alert("Calculation error: "+T.message)}finally{S(!1)}},50)};return e?u.jsxs(Gh,{initialPosition:s||{x:200,y:200},onClose:t,zIndex:o,onFocus:i,className:"w-80 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 flex flex-col shadow-2xl overflow-hidden",children:[u.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800",children:[u.jsxs("h3",{className:"text-sm font-bold text-gray-700 dark:text-slate-200 flex items-center gap-2",children:["Pearson Correlation",u.jsx("span",{className:"text-[10px] font-normal bg-white dark:bg-slate-700 px-1.5 py-0.5 rounded border border-gray-200 dark:border-slate-600",children:"r"})]}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"p-4 flex flex-col gap-4",children:[u.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-800 p-1 rounded-lg border border-gray-200 dark:border-slate-700",children:[u.jsx("button",{onClick:()=>f("cross"),className:`flex-1 py-1 text-[10px] font-bold rounded transition-all ${c==="cross"?"bg-indigo-600 text-white shadow":"text-gray-500 dark:text-slate-400 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:"Cross-Channel"}),u.jsx("button",{onClick:()=>f("self"),className:`flex-1 py-1 text-[10px] font-bold rounded transition-all ${c==="self"?"bg-indigo-600 text-white shadow":"text-gray-500 dark:text-slate-400 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:"Self-Adjacent"})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"flex-1 flex flex-col gap-1",children:[u.jsx("label",{className:"text-[9px] uppercase font-bold text-gray-400",children:c==="cross"?"Channel 1":"Channel"}),u.jsx("select",{value:d,onChange:$=>h($.target.value),className:"bg-gray-100 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded px-2 py-1.5 text-xs text-gray-700 dark:text-slate-200 outline-none focus:ring-1 focus:ring-indigo-500",children:C.map($=>u.jsx("option",{value:$,children:$},$))})]}),u.jsx("div",{className:"text-gray-300 dark:text-slate-600 mt-4 font-mono",children:c==="cross"?"":""}),u.jsxs("div",{className:"flex-1 flex flex-col gap-1",children:[u.jsx("label",{className:"text-[9px] uppercase font-bold text-gray-400",children:c==="cross"?"Channel 2":"Direction"}),c==="cross"?u.jsx("select",{value:p,onChange:$=>m($.target.value),className:"bg-gray-100 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded px-2 py-1.5 text-xs text-gray-700 dark:text-slate-200 outline-none focus:ring-1 focus:ring-indigo-500",children:C.map($=>u.jsx("option",{value:$,children:$},$))}):u.jsxs("div",{className:"flex h-[28px] bg-gray-100 dark:bg-slate-800 rounded border border-gray-200 dark:border-slate-700 p-0.5",children:[u.jsx("button",{onClick:()=>x("H"),className:`flex-1 text-[9px] font-bold rounded ${v==="H"?"bg-slate-300 dark:bg-slate-600 text-indigo-600 dark:text-indigo-400":"text-gray-400"}`,children:"Horiz"}),u.jsx("button",{onClick:()=>x("V"),className:`flex-1 text-[9px] font-bold rounded ${v==="V"?"bg-slate-300 dark:bg-slate-600 text-indigo-600 dark:text-indigo-400":"text-gray-400"}`,children:"Vert"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[u.jsx("button",{onClick:()=>z("single"),disabled:b,className:"w-full py-2 bg-indigo-600 hover:bg-indigo-500 disabled:bg-gray-400 text-white font-bold rounded shadow-md transition-all active:scale-95 text-xs",children:b&&P==="single"?"Calculating...":"Calc Current Frame"}),l&&l.length>0&&u.jsxs("button",{onClick:()=>z("stack"),disabled:b,className:"w-full py-2 bg-emerald-600 hover:bg-emerald-500 disabled:bg-gray-400 text-white font-bold rounded shadow-md transition-all active:scale-95 text-xs flex flex-col items-center justify-center",children:[u.jsx("span",{children:"Calc Stack Concatenated"}),b&&P==="stack"&&u.jsxs("span",{className:"text-[9px] font-normal opacity-80",children:["Progress: ",w," / ",l.length]})]})]}),y!==null&&u.jsxs("div",{className:"mt-2 p-4 bg-gray-50 dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700 text-center animate-in fade-in slide-in-from-top-2",children:[u.jsxs("div",{className:"text-[10px] uppercase font-bold text-gray-400 dark:text-slate-500 mb-1",children:[c==="cross"?"Cross-Channel":`Self-Adj (${v})`," r"]}),u.jsx("div",{className:"text-2xl font-mono font-bold text-indigo-600 dark:text-indigo-400 select-all",style:{fontSize:"24px"},children:y.toFixed(5)}),u.jsxs("div",{className:"text-[9px] text-gray-400 mt-2 font-mono",children:["N = ",j.toLocaleString()," pairs"]}),u.jsx("div",{className:"mt-3 text-[10px] font-bold",children:Math.abs(y)>.5?u.jsx("span",{className:"text-red-500",children:"Significant Correlation"}):Math.abs(y)>.1?u.jsx("span",{className:"text-amber-500",children:"Weak Correlation"}):u.jsx("span",{className:"text-emerald-500",children:"Near-Zero (Uncorrelated)"})})]})]}),u.jsx("div",{className:"p-3 bg-gray-50/50 dark:bg-slate-800/30 text-[9px] text-gray-400 dark:text-slate-600 italic border-t border-gray-100 dark:border-slate-800",children:c==="cross"?"Comparing two color channels in the same Bayer 2x2 cells.":`Comparing pixel (r,c) with (r${v==="V"?"+2":""}, c${v==="H"?"+2":""}) in the same channel.`})]}):null},dQ=[{href:"https://y-g-jiang.github.io/CBLD.html",text:" (Primary Source)",abbr:"CBLD",description:"ISO",highlight:!0},{href:"https://y-G-jiang.github.io/LAC.html",text:"",abbr:"LAC",description:""},{href:"https://y-G-jiang.github.io/CCGV.html",text:"adobeIECMF",abbr:"CCGV",description:"acrRAWxy"},{href:"https://y-G-jiang.github.io/JTJS.html",text:"",abbr:"JTJS",description:"CMF/"},{href:"https://y-G-jiang.github.io/XJZS.html",text:"",abbr:"XJZS",description:""}],hQ=({isOpen:e,onClose:t})=>e?u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-3xl rounded-2xl shadow-2xl border border-gray-200 dark:border-slate-700 overflow-hidden flex flex-col max-h-[90vh]",onClick:r=>r.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"About / Tools"}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-1 rounded hover:bg-gray-200 dark:hover:bg-slate-700",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"p-6 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700",children:[u.jsx("div",{className:"mb-8 p-4 bg-gray-50 dark:bg-slate-800/50 rounded-xl border border-gray-100 dark:border-slate-700 text-center",children:u.jsxs("p",{className:"text-lg text-gray-700 dark:text-slate-300",children:[u.jsx("span",{className:"font-bold mr-2",children:"about:"}),u.jsx("a",{href:"https://y-g-jiang.github.io/JOindex.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline break-all font-mono",children:"https://y-g-jiang.github.io/JOindex.html"})]})}),u.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[u.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 flex-1"}),u.jsx("span",{className:"text-sm font-bold text-gray-400 dark:text-slate-500 uppercase tracking-wider",children:"Primary Resources"}),u.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 flex-1"})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:dQ.map(r=>u.jsxs("a",{href:r.href,target:"_blank",rel:"noopener noreferrer",className:`group block p-4 rounded-xl border transition-all duration-200 relative overflow-hidden ${r.highlight?"border-cyan-500 dark:border-cyan-400 bg-cyan-50/30 dark:bg-cyan-900/10 shadow-lg scale-[1.02] ring-2 ring-cyan-500/20":"border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-800/30 hover:bg-gray-50 dark:hover:bg-slate-800 hover:border-cyan-500"}`,children:[u.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-gradient-to-bl from-cyan-500/5 to-transparent -mr-8 -mt-8 rounded-full pointer-events-none group-hover:from-cyan-500/10 transition-colors"}),u.jsxs("div",{className:"flex items-center gap-3 mb-2 relative z-10",children:[u.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded transition-colors border ${r.highlight?"bg-cyan-600 text-white border-cyan-500":"bg-gray-100 dark:bg-slate-700 text-gray-600 dark:text-slate-300 border-gray-200 dark:border-slate-600 group-hover:border-cyan-200"}`,children:r.abbr}),u.jsx("h3",{className:`font-bold transition-colors ${r.highlight?"text-cyan-700 dark:text-cyan-300":"text-gray-800 dark:text-slate-200 group-hover:text-cyan-600"}`,children:r.text})]}),u.jsx("p",{className:`text-xs pl-1 transition-colors relative z-10 ${r.highlight?"text-cyan-600/80 dark:text-cyan-400/80":"text-gray-500 dark:text-slate-400"}`,children:r.description})]},r.abbr))})]})]})}):null,pQ=({isOpen:e,onClose:t,data:r,fileName:n,warning:a})=>{const[o,i]=O.useState(""),s=f=>{const d=new WeakSet;try{return JSON.stringify(f,(h,p)=>{if(typeof p=="bigint")return p.toString()+"n";if(typeof p=="object"&&p!==null){if(d.has(p))return"[Circular]";if(d.add(p),ArrayBuffer.isView(p))return`[${p.constructor.name}]`}return p})}catch{return"[Unable to serialize object]"}},l=O.useMemo(()=>{if(!r)return[];const f=[],d=(h,p=0)=>{if(p>5)return"...";if(h==null)return String(h);if(h instanceof Date)return h.toLocaleString();if(typeof h=="number")return h.toString();if(typeof h=="string")return h;if(typeof h=="bigint")return h.toString()+"n";if(ArrayBuffer.isView(h))return`<${h.constructor.name} len=${h.length} bytes=${h.byteLength}>`;if(h instanceof ArrayBuffer)return`<ArrayBuffer bytes=${h.byteLength}>`;if(typeof h=="object"){if(Array.isArray(h))return h.length===0?"[]":h.length>20?`[${h.slice(0,10).map(x=>typeof x=="number"?x.toFixed(2):d(x,p+1)).join(", ")}, ... (+${h.length-10} more)]`:`[${h.map(v=>typeof v=="number"?Number.isInteger(v)?v:v.toFixed(4):d(v,p+1)).join(", ")}]`;try{const m=Object.keys(h);return m.length>5?`{Object with ${m.length} keys}`:s(h)}catch{return"<Complex Object>"}}return String(h)};try{if(typeof r!="object")return[{key:"Value",value:String(r)}];Object.keys(r).sort().forEach(p=>{if(p==="MakerNote"||p==="UserComment"||p.includes("Strip")||p.includes("Offset")){f.push({key:p,value:"<Binary/Internal Data>"});return}const m=r[p];f.push({key:p,value:d(m)})})}catch(h){console.error("Error processing EXIF data:",h),f.push({key:"Error",value:"Failed to process metadata structure."})}return f},[r]);if(!e)return null;const c=l.filter(f=>f.key.toLowerCase().includes(o.toLowerCase())||f.value.toLowerCase().includes(o.toLowerCase()));return u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-3xl max-h-[90vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700",onClick:f=>f.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700",children:[u.jsxs("div",{className:"overflow-hidden",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:"EXIF Data"}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1 font-mono truncate",children:n})]}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-2 rounded-full hover:bg-gray-100 dark:hover:bg-slate-800",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a&&u.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 px-4 py-2 border-b border-amber-100 dark:border-amber-800/50 text-center",children:u.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 whitespace-pre-line font-medium leading-relaxed",children:a})}),u.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:u.jsxs("div",{className:"relative",children:[u.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),u.jsx("input",{type:"text",placeholder:"Search tags...",value:o,onChange:f=>i(f.target.value),className:"w-full pl-9 pr-4 py-2 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500 outline-none text-gray-900 dark:text-slate-100 transition-colors placeholder-gray-400"})]})}),u.jsx("div",{className:"overflow-y-auto flex-1 p-0 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700",children:c.length>0?u.jsxs("table",{className:"w-full text-left border-collapse table-fixed",children:[u.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800 sticky top-0 shadow-sm z-10",children:u.jsxs("tr",{children:[u.jsx("th",{className:"py-3 px-5 font-semibold text-xs text-gray-500 dark:text-slate-400 uppercase tracking-wider w-1/3 border-b border-gray-200 dark:border-slate-700",children:"Tag Name"}),u.jsx("th",{className:"py-3 px-5 font-semibold text-xs text-gray-500 dark:text-slate-400 uppercase tracking-wider w-2/3 border-b border-gray-200 dark:border-slate-700",children:"Value"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-800",children:c.map(f=>u.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-800/50 transition-colors group",children:[u.jsx("td",{className:"py-2 px-5 text-sm font-medium text-cyan-600 dark:text-cyan-400 font-mono break-words align-top",children:f.key}),u.jsx("td",{className:"py-2 px-5 text-sm text-gray-700 dark:text-slate-300 font-mono break-words align-top group-hover:text-gray-900 dark:group-hover:text-slate-100",children:f.value})]},f.key))})]}):u.jsx("div",{className:"flex flex-col items-center justify-center h-64 text-gray-400 dark:text-slate-500",children:u.jsxs("p",{children:['No tags found matching "',o,'"']})})}),u.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50 flex justify-end rounded-b-2xl",children:u.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-white rounded-lg text-sm font-semibold transition-colors",children:"Close"})})]})})},gQ=100,a0=e=>{if(e.length===0)return 0;if(e.length===1)return e[0];if(e.length===2)return .5*(e[0]+e[1]);let t=[...e].sort((r,n)=>r-n);for(;t.length>4;){let r=1/0,n=0;const a=t.length,o=Math.floor(a/2);for(let i=0;i<=a-o;i++){const s=t[i+o-1]-t[i];s<r&&(r=s,n=i)}t=t.slice(n,n+o)}return t.reduce((r,n)=>r+n,0)/t.length},B2=({min:e,max:t,value:r,onChange:n,vertical:a=!1,logScale:o=!1})=>{const i=O.useRef(null),s=O.useRef(null),l=O.useCallback(g=>{const b=o?Math.max(1e-6,e):e,S=o?Math.max(b*1.0001,t):t,w=Math.max(b,Math.min(S,g));if(o){const k=Math.log10(b),j=Math.log10(S);return(Math.log10(w)-k)/(j-k)}return(w-b)/(S-b)},[e,t,o]),c=O.useCallback(g=>{const b=o?Math.max(1e-6,e):e,S=o?Math.max(b*1.0001,t):t;if(o){const w=Math.log10(b),k=Math.log10(S);return Math.pow(10,w+g*(k-w))}return b+g*(S-b)},[e,t,o]),f=(g,b)=>{g.preventDefault(),g.stopPropagation(),s.current=b;const S=k=>{if(!s.current||!i.current)return;const j=i.current.getBoundingClientRect();let _=0;a?_=(j.bottom-k.clientY)/j.height:_=(k.clientX-j.left)/j.width,_=Math.max(0,Math.min(1,_));const P=c(_);if(s.current==="min"){const A=r[1];n([Math.min(P,A),A])}else{const A=r[0];n([A,Math.max(P,A)])}},w=()=>{s.current=null,window.removeEventListener("mousemove",S),window.removeEventListener("mouseup",w)};window.addEventListener("mousemove",S),window.addEventListener("mouseup",w)},d=l(r[0])*100,h=l(r[1])*100,p=a?{left:"50%",top:0,bottom:0,width:"4px",transform:"translateX(-50%)"}:{top:"50%",left:0,right:0,height:"4px",transform:"translateY(-50%)"},m=a?{left:"50%",bottom:`${d}%`,height:`${h-d}%`,width:"4px",transform:"translateX(-50%)"}:{top:"50%",left:`${d}%`,width:`${h-d}%`,height:"4px",transform:"translateY(-50%)"},v="absolute w-3 h-3 bg-white border-2 border-cyan-600 rounded-full shadow-md cursor-pointer hover:scale-125 transition-transform z-10",x=a?{left:"50%",bottom:`${d}%`,transform:"translate(-50%, 50%)"}:{top:"50%",left:`${d}%`,transform:"translate(-50%, -50%)"},y=a?{left:"50%",bottom:`${h}%`,transform:"translate(-50%, 50%)"}:{top:"50%",left:`${h}%`,transform:"translate(-50%, -50%)"};return u.jsxs("div",{ref:i,className:`relative select-none ${a?"h-full w-4 py-2":"w-full h-4 px-2"}`,children:[u.jsx("div",{className:"absolute bg-gray-300 dark:bg-slate-600 rounded-full",style:p}),u.jsx("div",{className:"absolute bg-cyan-500 dark:bg-cyan-400 rounded-full",style:m}),u.jsx("div",{className:v,style:x,onMouseDown:g=>f(g,"min")}),u.jsx("div",{className:v,style:y,onMouseDown:g=>f(g,"max")})]})},mQ=({isOpen:e,onClose:t,data:r,blackLevel:n,imageHeight:a,isBGGR:o,importedMetadata:i,theme:s,initialCameraModel:l,initialISO:c})=>{const[f,d]=O.useState("Noise"),[h,p]=O.useState(!0),[m,v]=O.useState(null),[x,y]=O.useState("default"),[g,b]=O.useState(!1),[S,w]=O.useState(!1),[k,j]=O.useState({R:!0,G1:!0,G2:!0,B:!0}),[_,P]=O.useState(""),[A,N]=O.useState(""),[C,z]=O.useState(""),[$,L]=O.useState(""),[I,B]=O.useState("10"),[R,T]=O.useState(""),[G,ee]=O.useState("0 0 0 0"),[Y,K]=O.useState("0 0 0 0"),[H,fe]=O.useState(!1),[ce,Oe]=O.useState(null),[Se,X]=O.useState(!1),[le,ve]=O.useState(0),[W,je]=O.useState([]),[he,Ee]=O.useState(""),[Ke,ut]=O.useState(""),It=()=>{const D=parseFloat(he),q=parseFloat(Ke);!isNaN(D)&&!isNaN(q)&&(je([...W,{id:Date.now(),x:D,y:q}]),Ee(""),ut(""))},[er,_r]=O.useState(()=>localStorage.getItem("ptc_tester_name")||""),[St,Yt]=O.useState(""),[mt,Tr]=O.useState("");O.useEffect(()=>{localStorage.setItem("ptc_tester_name",er)},[er]);const At=O.useRef(H),ra=O.useRef(Se),yt=O.useRef(le);O.useEffect(()=>{At.current=H,ra.current=Se,yt.current=le},[H,Se,le]);const[mr,tr]=O.useState(null),[ir,yr]=O.useState({min:.01,max:90}),[jt,Xe]=O.useState({readNoise:0,gain:1,prnu:.5}),[Mt,vt]=O.useState(2e6),cr=O.useRef(jt),qt=O.useRef(ir),Jr=O.useRef(Mt);O.useEffect(()=>{cr.current=jt,qt.current=ir,Jr.current=Mt},[jt,ir,Mt]);const[Ct,un]=O.useState({read:"0",gain:"1.0",prnu:"0.5",rangeMin:"0.01",rangeMax:"90"}),[ft,Wr]=O.useState({read:!0,shot:!0,prnu:!0,total:!0,fitRange:!0}),[fn,na]=O.useState(!1),[Ln,Sn]=O.useState([]),[ur,Pr]=O.useState(null),[Nr,$r]=O.useState(""),dn=O.useMemo(()=>n?n.join(","):"",[n]);O.useEffect(()=>{if(e){let D="0 0 0 0";i&&i.blackLevel?D=i.blackLevel.join(" "):D=n&&n.length===4?n.join(" "):"0 0 0 0",ee(D),K(D);let q="";if(i&&i.height?q=i.height.toString():a&&(q=a.toString()),T(q),q){const Q=parseFloat(q);!isNaN(Q)&&Q>0?B((2309.4/Q).toFixed(2)):B("10")}else B("10");Oe(null),fe(!1),X(!1),ve(0),Sn([]),Pr(null),yr({min:.01,max:90}),un({read:"0",gain:"0",prnu:"0",rangeMin:"0.01",rangeMax:"90"}),Xe({readNoise:0,gain:0,prnu:0}),P(""),N(""),z(""),L(""),d("Noise"),tr(null),vt(2e6),$r(""),w(!1),je([]),Yt(Q=>Q.trim()===""&&l?l:Q),Tr(Q=>Q.trim()===""&&c?c:Q)}},[e,dn,i,a,r,l,c]);const jn=D=>{if(D.key==="Enter"){const q=parseFloat(R);if(!isNaN(q)&&q>0){const Q=(2309.4/q).toFixed(2);B(Q)}D.target.blur()}},Wt=O.useMemo(()=>{let q=Y.trim().split(/[\s,]+/).filter(Boolean).map(Number);for(q.length===1&&(q=[q[0],q[0],q[0],q[0]]);q.length<4;)q.push(0);const Q=E=>{switch(E){case"R":return q[0];case"G1":return q[1];case"G2":return q[2];case"B":return q[3];default:return 0}};return r.map(E=>{const ie=E.mean-Q(E.channel),Me=E.std>0?ie/E.std:0;return{...E,x:ie,std:E.std,snr:Me}}).filter(E=>E.std>0)},[r,Y]),rr=O.useMemo(()=>{const D=jt.readNoise,q=D*D;return Wt.map(Q=>{let E=0;if(f==="Noise")E=Q.std;else if(f==="SNR")E=Q.snr;else if(f==="Linear"){const Me=Q.std*Q.std-q;E=Q.x!==0?Me/Q.x:0}return{...Q,y:E}})},[Wt,f,jt.readNoise]),Ot=O.useMemo(()=>{if(Wt.length===0)return"G1";const D={R:0,G1:0,G2:0,B:0},q={R:0,G1:0,G2:0,B:0};for(const ie of Wt)D[ie.channel]+=ie.x,q[ie.channel]++;let Q="G1",E=-1/0;return Object.keys(D).forEach(ie=>{const Me=q[ie],Te=Me>0?D[ie]/Me:-1/0;Te>E&&(E=Te,Q=ie)}),Q},[Wt]),ne=O.useCallback(()=>{let D=1/0,q=-1/0;if(Wt.length===0)return{min:.1,max:1};for(let Q=0;Q<Wt.length;Q++){const E=Wt[Q].x;h&&E<=0||(E<D&&(D=E),E>q&&(q=E))}return D===1/0?{min:.1,max:1}:{min:D,max:q}},[Wt,h]),_e=O.useCallback(()=>{let D=1/0,q=-1/0;if(rr.length===0)return{min:.1,max:1};for(let Q=0;Q<rr.length;Q++){const E=rr[Q].y;h&&E<=0||(E<D&&(D=E),E>q&&(q=E))}return D===1/0?{min:.1,max:1}:{min:D*.9,max:q*1.1}},[rr,h]),{min:Re,max:Ne}=ne(),{min:U,max:me}=_e(),Ve=Ne*(ir.min/100),Ze=Ne*(ir.max/100),Ae=O.useMemo(()=>{if(!h&&rr.length===0)return{shot:[],read:[],prnu:[],total:[]};const D=_?parseFloat(_):Re,q=A?parseFloat(A):Ne,Q=100,E=Math.max(.1,D),ie=Math.max(1,q);if(E>=ie)return{shot:[],read:[],prnu:[],total:[]};const Me=Math.log10(E),Qe=(Math.log10(ie)-Me)/Q,Ye=jt.readNoise,Ge=jt.gain>0?jt.gain:1,Et=jt.prnu/100,st=[],Bt=[],nr=[],ae=[];for(let qe=0;qe<=Q;qe++){const Pe=Math.pow(10,Me+qe*Qe);if(f==="Linear"){const Tt=1/Ge,ht=Et*Et,Ur=Tt+ht*Pe;ae.push({x:Pe,y:Ur}),st.push({x:Pe,y:Tt}),nr.push({x:Pe,y:ht*Pe})}else{const Tt=Ye,ht=Math.sqrt(Pe/Ge),Ur=Et*Pe,lt=Math.sqrt(Tt*Tt+ht*ht+Ur*Ur);f==="Noise"?(st.push({x:Pe,y:ht}),Bt.push({x:Pe,y:Tt}),nr.push({x:Pe,y:Ur}),ae.push({x:Pe,y:lt})):(ht>0&&st.push({x:Pe,y:Pe/ht}),Tt>0&&Bt.push({x:Pe,y:Pe/Tt}),Ur>0&&nr.push({x:Pe,y:Pe/Ur}),lt>0&&ae.push({x:Pe,y:Pe/lt}))}}return{shot:st,read:Bt,prnu:nr,total:ae}},[rr,h,_,A,jt,f,Re,Ne]),Ue=O.useMemo(()=>{if(f==="Linear")return[];const D=parseFloat(I);if(isNaN(D)||D<=0)return[];const q=_?parseFloat(_):Re,Q=A?parseFloat(A):Ne;return f==="SNR"?[{x:q,y:D},{x:Q,y:D}]:[{x:q,y:q/D},{x:Q,y:Q/D}]},[rr,I,f,_,A,Re,Ne]),rt=O.useCallback((D,q)=>{if(!q||q.length===0)return null;const Q=[...q].sort((E,ie)=>E.x-ie.x);for(let E=0;E<Q.length-1;E++){const ie=Q[E],Me=Q[E+1];if(ie.snr<=D&&Me.snr>=D||ie.snr>=D&&Me.snr<=D){const Te=(D-ie.snr)/(Me.snr-ie.snr);return ie.x+Te*(Me.x-ie.x)}}return null},[]),_t=O.useMemo(()=>{const D=Wt,q=1e3,Q=ie=>{if(ie.length===0)return[];if(ie.length<=q)return ie;const Me=[...ie].sort((Ye,Ge)=>Ye.x-Ge.x),Te=[],Qe=Me.length/q;for(let Ye=0;Ye<q;Ye++){const Ge=Math.floor(Ye*Qe),Et=Math.floor((Ye+1)*Qe),st=Me.slice(Ge,Et);if(st.length===0)continue;st.sort((nr,ae)=>nr.std-ae.std);const Bt=Math.floor(st.length/2);Te.push(st[Bt])}return Te},E={R:[],G1:[],G2:[],B:[]};return D.forEach(ie=>{E[ie.channel]&&E[ie.channel].push(ie)}),{R:Q(E.R),G1:Q(E.G1),G2:Q(E.G2),B:Q(E.B)}},[Wt]),dt=O.useMemo(()=>ce&&jt.gain?ce*jt.gain:null,[ce,jt.gain]),pe=O.useMemo(()=>{if(ce===null||ce===0)return null;const D=parseFloat(I);let q=null;if(!isNaN(D)&&D>0){let Te=0,Qe=0;if(["R","G1","G2","B"].forEach(Ye=>{const Ge=rt(D,_t[Ye]);Ge!==null&&(Te+=Ge,Qe++)}),Qe>0){const Ye=Te/Qe;q=Math.log2(ce/Ye)}}const Q=parseFloat(R);let E=null,ie=NaN;if(!isNaN(Q)&&Q>0){ie=16e3/Q;let Te=0,Qe=0;if(["R","G1","G2","B"].forEach(Ye=>{const Ge=rt(ie,_t[Ye]);Ge!==null&&(Te+=Ge,Qe++)}),Qe>0){const Ye=Te/Qe;E=Math.log2(ce/Ye)}}let Me=null;if(!isNaN(Q)&&Q>0){const Te=rt(ie,_t[Ot]);Te!==null&&(Me=Math.log2(ce/Te))}return{manualDR:q,ptpDR:E,d55DR:Me,manualTarget:D,ptpTarget:ie,saturationSignal:ce,dominantChannel:Ot}},[ce,I,R,_t,rt,Ot]),Dr=O.useMemo(()=>{if(f==="Linear"||!pe||!pe.ptpTarget||isNaN(pe.ptpTarget))return[];const D=pe.ptpTarget,q=_?parseFloat(_):Re,Q=A?parseFloat(A):Ne;return f==="SNR"?[{x:q,y:D},{x:Q,y:D}]:[{x:q,y:q/D},{x:Q,y:Q/D}]},[f,pe,_,A,Re,Ne]),In=O.useCallback(()=>{const Q=document.createElement("canvas");Q.width=2048,Q.height=1536;const E=Q.getContext("2d");if(!E)return;const ie=s==="dark",Me=ie?"#0f172a":"#ffffff",Te=ie?"#ffffff":"#000000",Qe=ie?"#475569":"#cbd5e1",Ye=ie?"#1e293b":"#f1f5f9",Ge=o?{R:"#ef4444",G1:"#22c55e",G2:"#4ade80",B:"#3b82f6"}:{R:"#ef4444",G1:"#22c55e",G2:"#4ade80",B:"#3b82f6"};E.fillStyle=Me,E.fillRect(0,0,2048,1536);let Et=_?parseFloat(_):Re,st=A?parseFloat(A):Ne,Bt=C?parseFloat(C):U,nr=$?parseFloat($):me;isNaN(Et)&&(Et=.1),isNaN(st)&&(st=1e4),isNaN(Bt)&&(Bt=.1),isNaN(nr)&&(nr=1e3);const ae={top:80,right:80,bottom:100,left:120},qe=2048-ae.left-ae.right,Pe=1536-ae.top-ae.bottom,Tt=J=>{if(h){const ge=Math.log10(Math.max(1e-9,Et)),ue=Math.log10(Math.max(1e-9,st)),de=Math.log10(Math.max(1e-9,J));return ae.left+(de-ge)/(ue-ge)*qe}else return ae.left+(J-Et)/(st-Et)*qe},ht=J=>{if(h){const ge=Math.log10(Math.max(1e-9,Bt)),ue=Math.log10(Math.max(1e-9,nr)),de=Math.log10(Math.max(1e-9,J));return ae.top+Pe-(de-ge)/(ue-ge)*Pe}else return ae.top+Pe-(J-Bt)/(nr-Bt)*Pe};if(E.beginPath(),h){const J=(ge,ue,de)=>{const be=Math.log10(Math.max(1e-9,ge)),Ce=Math.log10(Math.max(1e-9,ue)),Le=Math.floor(be),nt=Math.ceil(Ce);for(let et=Le;et<=nt;et++){const pt=Math.pow(10,et);let Ie=de?Tt(pt):ht(pt);(de?Ie>=ae.left-1&&Ie<=ae.left+qe+1:Ie>=ae.top-1&&Ie<=ae.top+Pe+1)&&(E.lineWidth=1.5,E.strokeStyle=Qe,E.beginPath(),de?(E.moveTo(Ie,ae.top),E.lineTo(Ie,ae.top+Pe)):(E.moveTo(ae.left,Ie),E.lineTo(ae.left+qe,Ie)),E.stroke()),E.lineWidth=.5,E.strokeStyle=Ye;for(let Be=2;Be<10;Be++){const De=Be*pt;Ie=de?Tt(De):ht(De),(de?Ie>=ae.left&&Ie<=ae.left+qe:Ie>=ae.top&&Ie<=ae.top+Pe)&&(E.beginPath(),de?(E.moveTo(Ie,ae.top),E.lineTo(Ie,ae.top+Pe)):(E.moveTo(ae.left,Ie),E.lineTo(ae.left+qe,Ie)),E.stroke())}}};J(Et,st,!0),J(Bt,nr,!1)}else{E.strokeStyle=Qe,E.lineWidth=1;for(let J=0;J<=5;J++){const ge=ae.left+qe*J/5;E.beginPath(),E.moveTo(ge,ae.top),E.lineTo(ge,ae.top+Pe),E.stroke();const ue=ae.top+Pe*J/5;E.beginPath(),E.moveTo(ae.left,ue),E.lineTo(ae.left+qe,ue),E.stroke()}}E.strokeStyle=Te,E.lineWidth=2,E.strokeRect(ae.left,ae.top,qe,Pe);const Ur=(J,ge,ue)=>{J<ae.left||J>ae.left+qe||ge<ae.top||ge>ae.top+Pe||(E.fillStyle=ue,E.fillRect(J-1.5,ge-1.5,3,3))},lt=rr.filter(J=>!(h&&(J.x<=0||J.y<=0)));lt.forEach(J=>{k[J.channel]&&J.channel!==Ot&&Ur(Tt(J.x),ht(J.y),Ge[J.channel])}),lt.forEach(J=>{k[J.channel]&&J.channel===Ot&&Ur(Tt(J.x),ht(J.y),Ge[J.channel])}),W.forEach(J=>{const ge=Tt(J.x),ue=ht(J.y);if(ge<ae.left||ge>ae.left+qe||ue<ae.top||ue>ae.top+Pe)return;E.strokeStyle="#d946ef",E.lineWidth=2.5;const de=6;E.beginPath(),E.moveTo(ge-de,ue-de),E.lineTo(ge+de,ue+de),E.moveTo(ge+de,ue-de),E.lineTo(ge-de,ue+de),E.stroke()});const fr=(J,ge,ue=[])=>{if(J.length<2)return;E.beginPath(),E.strokeStyle=ge,E.lineWidth=3,E.setLineDash(ue);let de=!1;for(const be of J){const Ce=Tt(be.x),Le=ht(be.y);if(Ce<ae.left-100||Ce>ae.left+qe+100||Le<ae.top-100||Le>ae.top+Pe+100){de=!1;continue}de?E.lineTo(Ce,Le):(E.moveTo(Ce,Le),de=!0)}E.stroke(),E.setLineDash([])},en=ie?"#ffffff":"#000000";if(ft.shot&&fr(Ae.shot,"#94a3b8",[5,5]),ft.read&&fr(Ae.read,"#f43f5e",[3,3]),ft.prnu&&fr(Ae.prnu,"#f59e0b",[3,3]),ft.total&&fr(Ae.total,en,[]),Ue.length===2){const J="#6366f1";fr(Ue,J,[4,2]);const ge=Ue[1],ue=ht(ge.y);ue>=ae.top&&ue<=ae.top+Pe&&(E.fillStyle=J,E.font="bold 20px sans-serif",E.textAlign="right",E.textBaseline="bottom",E.fillText(`M.Tgt=${I}`,ae.left+qe-10,ue-8))}if(Dr.length===2&&(pe!=null&&pe.ptpTarget)){const J="#10b981";fr(Dr,J,[4,4]);const ge=Dr[1],ue=ht(ge.y);if(ue>=ae.top&&ue<=ae.top+Pe){E.fillStyle=J,E.font="bold 20px sans-serif",E.textAlign="right",E.textBaseline="bottom";const de=pe.ptpTarget.toFixed(1),be=Ue.length===2?ht(Ue[1].y):-100,Ce=Math.abs(ue-be)<25?25:0;E.fillText(`PTP=${de}`,ae.left+qe-10,ue-8-Ce)}}if(ft.fitRange||Se){const J=(ge,ue)=>{const de=Tt(ge);de>=ae.left&&de<=ae.left+qe&&(E.beginPath(),E.strokeStyle=ue,E.lineWidth=2,E.setLineDash([8,8]),E.moveTo(de,ae.top),E.lineTo(de,ae.top+Pe),E.stroke(),E.setLineDash([]))};J(Ve,"#22d3ee"),J(Ze,"#22d3ee")}if(ce){const J=Tt(ce);J>=ae.left&&J<=ae.left+qe&&(E.strokeStyle="#ef4444",E.lineWidth=3,E.setLineDash([10,10]),E.beginPath(),E.moveTo(J,ae.top),E.lineTo(J,ae.top+Pe),E.stroke(),E.setLineDash([]),E.fillStyle="#ef4444",E.font="bold 24px sans-serif",E.textAlign="center",E.fillText("Sat",J,ae.top-10))}E.fillStyle=Te,E.font="28px monospace",E.textAlign="center",E.fillText(Et.toExponential(1),ae.left,ae.top+Pe+40),E.fillText(st.toExponential(1),ae.left+qe,ae.top+Pe+40),E.fillText("Signal (DN)",ae.left+qe/2,ae.top+Pe+80),E.textAlign="right",E.textBaseline="middle",E.fillText(Bt.toExponential(1),ae.left-20,ae.top+Pe),E.fillText(nr.toExponential(1),ae.left-20,ae.top),E.save(),E.translate(ae.left-80,ae.top+Pe/2),E.rotate(-Math.PI/2),E.textAlign="center",E.fillText(f==="Linear"?"(Var - RN) / Mean":f,0,0),E.restore(),E.save(),E.translate(2048/2,1536/2),E.rotate(-Math.PI/6),E.textAlign="center",E.textBaseline="middle",E.fillStyle=ie?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)",E.font="bold 150px sans-serif",E.fillText(" y-g-jiang.github.io",0,0),E.restore(),E.fillStyle=Te,E.font="bold 36px sans-serif",E.textAlign="left",E.textBaseline="top",E.fillText(`PTC Export: ${f} Mode`,ae.left,20),E.font="24px sans-serif",E.fillStyle=ie?"#94a3b8":"#64748b",E.fillText(`Points: ${rr.length} | Sat Channel: ${Ot}`,ae.left,65);const wa=ae.left+30,pl=ae.top+30,Xh=70,xu=J=>{if(!ce||J<=0)return"--";const ge=jt.readNoise,ue=jt.gain,de=jt.prnu/100;if(ue<=0)return"--";const be=J*J,Ce=ge*ge,Le=1-be*de*de,nt=-(be/ue),et=-(be*Ce);let pt=0;if(Math.abs(Le)<1e-8)Math.abs(nt)>1e-8&&(pt=-et/nt);else{const Ie=nt*nt-4*Le*et;Ie>=0&&(pt=(-nt+Math.sqrt(Ie))/(2*Le))}return pt>0?Math.log2(ce/pt).toFixed(2)+" EV":"--"},Yh=pe!=null&&pe.ptpTarget&&!isNaN(pe.ptpTarget)?xu(pe.ptpTarget):"--",qh=I?xu(parseFloat(I)):"--";E.font="bold 48px monospace",E.textAlign="left",E.textBaseline="top",E.shadowColor=ie?"rgba(0,0,0,0.8)":"rgba(255,255,255,0.8)",E.shadowBlur=4,E.shadowOffsetX=1,E.shadowOffsetY=1;const pn=(J,ge,ue,de)=>{const be=pl+ue*Xh;E.fillStyle=Te,E.fillText(J,wa,be);const Ce=E.measureText(J).width;E.fillStyle=de||Te,E.fillText(ge,wa+Ce,be)},Di=Ct.read,Ri=parseFloat(Ct.gain).toFixed(3),Zh=parseFloat(Ct.prnu).toFixed(2)+"%";let gl=`M.DR@SNR${I}: `;const F=parseFloat(R);if(!isNaN(F)&&F>0){const J=(2309.4/F).toFixed(2);Math.abs(parseFloat(I)-parseFloat(J))<.05&&(gl="8mpSNR=1 DR: ")}pn("Tester: ",er||"N/A",0),pn("Model : ",St||"Unknown",1),pn("ISO   : ",mt||"N/A",2),pn("RN/FPN: ",Di,3,"#f43f5e"),pn("KADC  : ",Ri,4,"#06b6d4"),pn("PRNU  : ",Zh,5,"#f59e0b"),pn("PTP DR: ",pe!=null&&pe.ptpDR?pe.ptpDR.toFixed(2)+" EV":"--",6,"#10b981"),pn("D55 DR: ",pe!=null&&pe.d55DR?pe.d55DR.toFixed(2)+" EV":"--",7,"#8b5cf6"),pn("FWC   : ",dt?dt>1e4?(dt/1e3).toFixed(1)+"k":Math.round(dt).toString():"--",8,"#f97316"),pn(gl,pe!=null&&pe.manualDR?pe.manualDR.toFixed(2)+" EV":"--",9,"#06b6d4"),pn("PTCFitDR(PTP): ",Yh,10,"#10b981"),pn("PTCFitDR(Man): ",qh,11,"#06b6d4"),E.save(),E.textAlign="right",E.textBaseline="bottom",E.fillStyle="#3b82f6",E.font="bold 80px sans-serif",E.shadowColor=ie?"rgba(0,0,0,0.8)":"rgba(255,255,255,0.8)",E.shadowBlur=4,E.shadowOffsetX=2,E.shadowOffsetY=2;const V=1988,te=1476,re=90;E.fillText("Online",V,te),E.fillText("Jiangtherapee",V,te-re),E.restore();const xe=document.createElement("a");xe.download=`ptc_complete_${f}_${Date.now()}.jpg`,xe.href=Q.toDataURL("image/jpeg",.9),xe.click()},[rr,Ot,k,_,A,C,$,Re,Ne,U,me,h,s,f,ce,o,ft,Ae,Ve,Ze,ir,Se,er,St,mt,pe,dt,I,Ue,Dr,Ct,R,W]),ze=O.useMemo(()=>{let D=rr;if(h&&(D=D.filter(ie=>ie.y>0&&ie.x>0)),x==="top3"){const ie=[...D].sort((Te,Qe)=>Qe.x-Te.x),Me=Math.max(50,Math.ceil(ie.length*.03));D=ie.slice(0,Me)}const q={R:[],G1:[],G2:[],B:[]};if(D.forEach(ie=>{q[ie.channel]&&q[ie.channel].push(ie)}),x==="raw")return q;const Q=x==="top3"?500:gQ,E=ie=>{if(ie.length<=Q)return ie;const Me=[...ie].sort((Ye,Ge)=>Ye.x-Ge.x),Te=[],Qe=Me.length/Q;for(let Ye=0;Ye<Q;Ye++){const Ge=Math.floor(Ye*Qe),Et=Math.floor((Ye+1)*Qe),st=Me.slice(Ge,Et);if(st.length===0)continue;st.sort((nr,ae)=>nr.y-ae.y);const Bt=Math.floor(st.length/2);Te.push(st[Bt])}return Te};return{R:E(q.R),G1:E(q.G1),G2:E(q.G2),B:E(q.B)}},[rr,x,h]),On=O.useMemo(()=>{if(Wt.length<5)return[];const D=Wt.filter(Q=>Q.channel===Ot);return[...D.length>20?D:Wt].sort((Q,E)=>Q.x-E.x).map(Q=>({mean:Q.x,std:Q.std}))},[Wt,Ot]),ot=D=>{const q=D.length;if(q===0)return[];const Q=D.reduce((qe,Pe)=>qe+Pe,0)/q,E=D.reduce((qe,Pe)=>qe+Math.pow(Pe-Q,2),0)/(q-1||1),ie=Math.sqrt(E);if(ie===0)return[{x:Q-.001,density:0},{x:Q,density:1},{x:Q+.001,density:0}];const Me=1.06*ie*Math.pow(q,-.2),Te=Math.min(...D),Qe=Math.max(...D),Ye=(Qe-Te)*.2||Te*.1,Ge=Math.max(0,Te-Ye),Et=Qe+Ye,st=100,Bt=(Et-Ge)/(st-1),nr=qe=>1/Math.sqrt(2*Math.PI)*Math.exp(-.5*qe*qe),ae=[];for(let qe=0;qe<st;qe++){const Pe=Ge+qe*Bt;let Tt=0;for(let ht=0;ht<q;ht++)Tt+=nr((Pe-D[ht])/Me);Tt/=q*Me,ae.push({x:Pe,density:Tt})}return ae},co=O.useCallback((D,q,Q,E)=>{if(D.length<5)return{gain:0,prnu:0};const ie=D[D.length-1].mean,Me=ie*(Q.min/100),Te=ie*(Q.max/100),Qe=D.filter(lt=>lt.mean>=Me&&lt.mean<=Te);if(Qe.length<5)return{gain:0,prnu:0};tr({nPoints:Qe.length});const Ye=q*q,Ge=[],Et=[];if(Qe.forEach(lt=>{const en=lt.std*lt.std-Ye;if(lt.mean>1&&en>0){const wa=lt.mean,pl=en/lt.mean;Ge.push({x:wa,y:pl}),Et.push(lt.mean/en)}}),Ge.length<5)return{gain:0,prnu:0};const st=[],Bt=Ge.length,nr=E,ae=Bt*(Bt-1)/2;if(ae<=nr)for(let lt=0;lt<Bt;lt++)for(let fr=lt+1;fr<Bt;fr++){const en=Ge[fr].x-Ge[lt].x;Math.abs(en)>1e-5&&st.push((Ge[fr].y-Ge[lt].y)/en)}else{const lt=Math.max(1,Math.floor(ae/nr));for(let fr=0;fr<Bt;fr++)for(let en=fr+1;en<Bt;en+=lt){const wa=Ge[en].x-Ge[fr].x;Math.abs(wa)>1e-5&&st.push((Ge[en].y-Ge[fr].y)/wa)}}const qe=a0(st),Pe=Ge.map(lt=>lt.y-qe*lt.x),Tt=a0(Pe);let ht=0,Ur=0;if(Tt>1e-6?ht=1/Tt:ht=a0(Et),qe>0&&(Ur=Math.sqrt(qe)*100),Et.length>0){const lt=ot(Et);Sn(lt),Pr(ht)}else Sn([]);return{gain:ht,prnu:Ur}},[]),hn=O.useCallback(D=>{let q=D.read??cr.current.readNoise;const Q=D.gRange??qt.current,E=Jr.current;if((D.read!==void 0||D.gRange!==void 0)&&D.gain===void 0&&D.prnu===void 0&&On.length>0&&q>=0)w(!0),setTimeout(()=>{const Me=co(On,q,Q,E);let Te=cr.current.gain,Qe=cr.current.prnu;Me.gain>0&&(Te=Me.gain,Qe=Me.prnu),Xe({readNoise:q,gain:Te,prnu:Qe}),D.gRange!==void 0&&yr(D.gRange),un(Ye=>{var Ge,Et;return{...Ye,read:q.toString(),gain:Te>0?Te.toFixed(3):"0",prnu:Qe.toFixed(2),rangeMin:(((Ge=D.gRange)==null?void 0:Ge.min)??Ye.rangeMin).toString(),rangeMax:(((Et=D.gRange)==null?void 0:Et.max)??Ye.rangeMax).toString()}}),w(!1)},50);else{let Me=D.gain!==void 0?D.gain:cr.current.gain,Te=D.prnu!==void 0?D.prnu:cr.current.prnu;Xe({readNoise:q,gain:Me,prnu:Te}),D.gRange!==void 0&&yr(D.gRange),un(Qe=>{var Ye,Ge;return{...Qe,read:q.toString(),gain:Me>0?Me.toFixed(3):"0",prnu:Te.toFixed(2),rangeMin:(((Ye=D.gRange)==null?void 0:Ye.min)??Qe.rangeMin).toString(),rangeMax:(((Ge=D.gRange)==null?void 0:Ge.max)??Qe.rangeMax).toString()}})}},[On,co]),Ra=`${Y}-${r.length}`;O.useEffect(()=>{if(!e||!r||r.length===0)return;const D=ze[Ot];if(!D||D.length===0||Nr===Ra)return;j({R:Ot==="R",G1:Ot==="G1",G2:Ot==="G2",B:Ot==="B"});const q=[...D].sort((Me,Te)=>Me.x-Te.x);let Q=0;q.length>0&&(Q=q[0].std);const E=Wt.filter(Me=>Me.channel===Ot);let ie=-1/0;for(const Me of E)Me.x>ie&&(ie=Me.x);ie!==-1/0&&Oe(ie),hn({read:Q}),$r(Ra)},[e,r,Nr,Ra,ze,Ot,hn,Wt]);const aa=(D,q)=>{un(Q=>({...Q,[D]:q}))},La=D=>{let q=parseFloat(Ct[D]);isNaN(q)||q<0||hn({[D]:q})},dl=()=>{K(G),$r("")},Ia=()=>{const D=parseFloat(Ct.rangeMin),q=parseFloat(Ct.rangeMax);!isNaN(D)&&!isNaN(q)&&D<q&&D>=0&&q<=100&&hn({gRange:{min:D,max:q}})},Bn=(D,q)=>{D.key==="Enter"&&(q==="rangeMin"||q==="rangeMax"?Ia():La(q),D.target.blur())};O.useEffect(()=>{On.length>0&&hn({})},[Mt,On]);const Ei=D=>{j(q=>({...q,[D]:!q[D]}))},pu=()=>{y(D=>D==="top3"?"default":"top3")},hl=()=>{x==="raw"?y("default"):b(!0)},gu=()=>{b(!1),y("raw")},mu=(D,q)=>{const Q=parseFloat(D),E=parseFloat(q);let ie=isNaN(Q)?"auto":Q,Me=isNaN(E)?"auto":E;return h&&typeof ie=="number"&&ie<=0&&(ie="auto"),[ie,Me]},_n=D=>{if(!D||!D.payload)return;const q=D.payload;if(v(q),At.current&&(Oe(q.x),fe(!1)),ra.current){const Q=qt.current.min,E=qt.current.max,{max:ie}=ne();if(ie<=0)return;const Me=Math.max(0,Math.min(100,q.x/ie*100));if(yt.current===1){const Te=Math.min(Me,E-.5);hn({gRange:{min:Te,max:E}}),ve(2)}else if(yt.current===2){const Te=Math.max(Me,Q+.5);hn({gRange:{min:Q,max:Te}}),ve(0),X(!1)}}},Ti=O.useCallback(D=>{const{cx:q,cy:Q,fill:E}=D;return u.jsx("circle",{cx:q,cy:Q,r:3,fill:E,stroke:"none",style:{cursor:"pointer"}})},[]),Vh=({active:D,payload:q})=>{if(D&&q&&q.length){const Q=q[0].payload;return u.jsxs("div",{className:"bg-slate-800 text-white text-xs p-2 rounded border border-slate-600 shadow-xl opacity-90 font-mono z-50",children:[u.jsx("div",{className:"font-bold border-b border-slate-600 pb-1 mb-1",children:Q.channel}),u.jsxs("div",{children:["Signal: ",Q.x.toFixed(2)]}),u.jsxs("div",{children:[f,": ",Q.y.toFixed(4)]}),Q.row!==void 0&&Q.col!==void 0&&!isNaN(Q.row)&&!isNaN(Q.col)&&u.jsxs("div",{className:"text-cyan-400 mt-0.5",children:["Loc: Row ",Q.row,", Col ",Q.col]}),Q.filename&&u.jsx("div",{className:"text-gray-400 mt-1 max-w-[200px] truncate",title:Q.filename,children:Q.filename})]})}return null},$i=D=>{d(D),D==="Linear"&&p(!1)};if(!e)return null;const yu=s==="dark"?"#ffffff":"#000000";let vu=f;f==="Linear"&&(vu="(Var - RN) / Mean");const Kh=G!==Y;return u.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in",onClick:D=>{D.stopPropagation()},children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-[98vw] max-w-[2200px] h-[95vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700 overflow-hidden relative",onClick:D=>D.stopPropagation(),children:[u.jsx(ci,{isOpen:g,onClose:()=>b(!1),onConfirm:gu,title:"Warning: High Performance Cost",message:"Displaying all data points may cause the browser to freeze or become unresponsive, especially with large datasets. Are you sure you want to continue?",confirmText:"Yes, Show All"}),m&&u.jsxs("div",{className:"absolute top-20 right-8 z-30 bg-white/90 dark:bg-slate-800/90 border border-cyan-500 rounded-xl p-4 shadow-xl backdrop-blur-md max-w-xs animate-in fade-in zoom-in-95 duration-200",children:[u.jsxs("div",{className:"flex justify-between items-start mb-2 border-b border-gray-200 dark:border-slate-700 pb-2",children:[u.jsx("h4",{className:"font-bold text-gray-900 dark:text-white text-sm",children:"Selected Point"}),u.jsx("button",{onClick:()=>v(null),className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("div",{className:"space-y-1 text-xs font-mono text-gray-700 dark:text-slate-300",children:u.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1.5",children:[u.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Channel:"}),u.jsx("span",{className:"font-bold",children:m.channel}),u.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Signal (DN):"}),u.jsx("span",{children:m.x.toFixed(4)}),u.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Noise (Std):"}),u.jsx("span",{children:m.std.toFixed(4)}),u.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"SNR:"}),u.jsx("span",{className:"text-purple-600 dark:text-purple-400 font-bold",children:(m.x/m.std).toFixed(2)})]})})]}),fn&&u.jsx("div",{className:"absolute inset-0 z-40 bg-white/95 dark:bg-slate-900/95 backdrop-blur-sm flex flex-col items-center justify-center p-8 animate-in fade-in zoom-in-95 duration-200",children:u.jsxs("div",{className:"w-full max-w-2xl h-[60vh] bg-gray-50 dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-700 shadow-2xl p-4 flex flex-col relative",children:[u.jsx("button",{onClick:()=>na(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-red-500 transition-colors",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),u.jsxs("div",{className:"mb-4 text-center",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-slate-200",children:"Gain Density Estimation"}),u.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:["HSM Mode: ",u.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:ur==null?void 0:ur.toFixed(4)}),u.jsx("span",{className:"mx-2",children:"|"}),"Data Points: ",Ln.length>0?"Density Curve Generated":"No Data"]})]}),u.jsx("div",{className:"flex-1 min-h-0",children:Ln.length>0?u.jsx(_s,{width:"100%",height:"100%",children:u.jsxs(RP,{data:Ln,margin:{top:10,right:30,left:0,bottom:20},children:[u.jsx(ji,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3,vertical:!1}),u.jsx(va,{dataKey:"x",tickFormatter:D=>D.toFixed(2),tick:{fill:"#9ca3af",fontSize:10},label:{value:"Gain (e/ADU)",position:"insideBottom",offset:-15,fill:"#9ca3af",fontSize:12}}),u.jsx(xa,{tick:{fill:"#9ca3af",fontSize:10}}),u.jsx(an,{cursor:{stroke:"rgba(255,255,255,0.2)"},contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6"}}),u.jsx(Xn,{type:"monotone",dataKey:"density",stroke:"#0ea5e9",fill:"#0ea5e9",fillOpacity:.3,strokeWidth:2}),ur!==null&&u.jsx(ai,{x:ur,stroke:"#ef4444",strokeWidth:2,label:{value:"HSM",fill:"#ef4444",fontSize:10,position:"top"}})]})}):u.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:"No data in selected range"})})]})}),u.jsxs("div",{className:"flex flex-wrap justify-between items-center p-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50 gap-4 flex-shrink-0",children:[u.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2",children:["Photon Transfer Curve",u.jsxs("span",{className:"text-xs font-normal bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-300 px-2 py-0.5 rounded border border-purple-200 dark:border-purple-800",children:[r.length," Pts"]})]}),u.jsxs("div",{className:"flex gap-4 items-center flex-wrap",children:[u.jsxs("button",{onClick:In,className:"bg-green-600 hover:bg-green-500 text-white font-bold py-1 px-3 rounded text-xs shadow-md transition-all active:scale-95 flex items-center gap-1",title:"Render all points, target lines, and metadata to a high-res JPG",children:[u.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export Complete Result"]}),u.jsxs("div",{className:"flex bg-white dark:bg-slate-700 rounded-lg p-1 border border-gray-200 dark:border-slate-600",children:[u.jsx("button",{onClick:()=>$i("Noise"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${f==="Noise"?"bg-cyan-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"Noise ()"}),u.jsx("button",{onClick:()=>$i("SNR"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${f==="SNR"?"bg-purple-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"SNR"}),u.jsx("button",{onClick:()=>$i("Linear"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${f==="Linear"?"bg-indigo-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"Linear (PTC)"})]}),u.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-600 dark:text-slate-300 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:h,onChange:D=>p(D.target.checked),className:"rounded border-gray-300 text-cyan-600 focus:ring-cyan-500 bg-gray-100 dark:bg-slate-700 dark:border-slate-600"}),"Log-Log"]}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors p-1",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-0 border-b border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-sm flex-shrink-0",children:[u.jsxs("div",{className:"lg:col-span-9 p-5 flex flex-col gap-5 border-r border-gray-200 dark:border-slate-700",children:[u.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between text-xs",children:[u.jsxs("div",{className:"flex gap-4 items-center",children:[u.jsxs("div",{className:"flex items-center gap-1.5 bg-gray-50 dark:bg-slate-800 rounded-md p-1 border border-gray-200 dark:border-slate-700",children:[u.jsx("span",{className:"font-bold text-gray-500 dark:text-slate-400 pl-1",children:"X:"}),u.jsx("input",{type:"number",placeholder:"Min",value:_,onChange:D=>P(D.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"}),u.jsx("span",{className:"text-gray-400",children:"-"}),u.jsx("input",{type:"number",placeholder:"Max",value:A,onChange:D=>N(D.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"})]}),u.jsxs("div",{className:"flex items-center gap-1.5 bg-gray-50 dark:bg-slate-800 rounded-md p-1 border border-gray-200 dark:border-slate-700",children:[u.jsx("span",{className:"font-bold text-gray-500 dark:text-slate-400 pl-1",children:"Y:"}),u.jsx("input",{type:"number",placeholder:"Min",value:C,onChange:D=>z(D.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"}),u.jsx("span",{className:"text-gray-400",children:"-"}),u.jsx("input",{type:"number",placeholder:"Max",value:$,onChange:D=>L(D.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"})]}),u.jsx("button",{onClick:()=>{P(""),N(""),z(""),L("")},className:"text-xs text-cyan-600 dark:text-cyan-400 hover:underline",children:"Auto"})]}),u.jsxs("div",{className:"flex items-center gap-1 bg-white dark:bg-slate-700 p-1 rounded-lg border border-gray-200 dark:border-slate-600",children:[u.jsx("button",{onClick:()=>Ei("R"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${k.R?"bg-red-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"R"}),u.jsx("button",{onClick:()=>Ei("G1"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${k.G1?"bg-green-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"G1"}),u.jsx("button",{onClick:()=>Ei("G2"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${k.G2?"bg-green-400 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"G2"}),u.jsx("button",{onClick:()=>Ei("B"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${k.B?"bg-blue-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"B"})]})]}),u.jsxs("div",{className:"flex flex-wrap items-end gap-8",children:[u.jsxs("div",{className:"flex flex-col bg-gray-50 dark:bg-slate-800/50 p-2 rounded border border-gray-100 dark:border-slate-700",children:[u.jsx("span",{className:"text-[9px] uppercase font-bold text-gray-500 dark:text-slate-400 mb-1",children:"Black Level (0,0 0,1 1,0 1,1)"}),u.jsx("input",{type:"text",value:G,onChange:D=>ee(D.target.value),className:"w-32 text-xs px-2 py-1 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded outline-none focus:border-cyan-500 font-mono",placeholder:"0 0 0 0"})]}),u.jsxs("div",{className:"flex flex-col justify-between bg-gray-50 dark:bg-slate-800/50 p-2 rounded border border-gray-100 dark:border-slate-700",children:[u.jsxs("div",{className:"flex justify-between items-center mb-1",children:[u.jsx("span",{className:"text-[9px] uppercase font-bold text-gray-500 dark:text-slate-400 mr-2",children:"Fit Range % (Robust)"}),u.jsx("button",{onClick:()=>{X(!Se),ve(Se?0:1)},className:`px-1.5 py-0.5 text-[9px] rounded border transition-colors ${Se?"bg-cyan-100 text-cyan-700 border-cyan-300 animate-pulse":"bg-white dark:bg-slate-700 border-gray-300 dark:border-slate-600 text-gray-600 dark:text-slate-300 hover:bg-gray-50"}`,children:Se?le===1?"Pick Min":"Pick Max":"Select"})]}),u.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[u.jsx("input",{type:"number",step:"0.1",value:Ct.rangeMin,onChange:D=>aa("rangeMin",D.target.value),onBlur:Ia,onKeyDown:D=>Bn(D,"rangeMin"),className:"w-10 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-center font-bold"}),u.jsx("span",{className:"text-gray-400",children:"-"}),u.jsx("input",{type:"number",step:"0.1",value:Ct.rangeMax,onChange:D=>aa("rangeMax",D.target.value),onBlur:Ia,onKeyDown:D=>Bn(D,"rangeMax"),className:"w-10 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-center font-bold"})]})]}),u.jsxs("div",{className:"flex flex-col bg-indigo-50 dark:bg-indigo-900/20 p-2 rounded border border-indigo-100 dark:border-indigo-800/50",children:[u.jsx("span",{className:"text-[9px] uppercase font-bold text-indigo-600 dark:text-indigo-400 mb-1",children:"DR Params"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-300",children:"Img H:"}),u.jsx("input",{type:"number",value:R,onChange:D=>T(D.target.value),onKeyDown:jn,placeholder:"Empty",className:"w-14 px-1 py-0.5 bg-white dark:bg-slate-900 border border-indigo-200 dark:border-indigo-800 rounded text-center font-bold text-indigo-700 dark:text-indigo-300 text-xs placeholder:font-normal placeholder:text-gray-300"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-300",children:"Tgt SNR:"}),u.jsx("input",{type:"number",value:I,onChange:D=>B(D.target.value),className:"w-10 px-1 py-0.5 bg-white dark:bg-slate-900 border border-indigo-200 dark:border-indigo-800 rounded text-center font-bold text-indigo-700 dark:text-indigo-300 text-xs"})]})]})]}),u.jsxs("div",{className:"flex flex-col gap-1 text-[10px] justify-end pb-0.5",children:[u.jsx("button",{onClick:()=>{fe(!H),ce&&Oe(null)},disabled:Se,className:`font-bold rounded border shadow-sm transition-all px-3 py-1.5 ${H?"bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400 border-amber-500 animate-pulse":"bg-white dark:bg-slate-800 text-gray-600 dark:text-slate-300 border-gray-300 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:H?"Pick Point":"Select Linear Limit"}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{onClick:pu,className:`flex-1 font-bold rounded border shadow-sm transition-all px-2 py-1 ${x==="top3"?"bg-indigo-600 text-white border-indigo-700":"bg-white dark:bg-slate-800 text-gray-600 dark:text-slate-300 border-gray-300 dark:border-slate-600 hover:bg-gray-50"}`,children:"Top 3%"}),u.jsx("button",{onClick:hl,className:`font-bold rounded border shadow-sm transition-all px-2 py-1 ${x==="raw"?"bg-red-600 text-white border-red-700":"text-red-500 border-red-200 hover:bg-red-50"}`,children:"All"})]})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-4 items-center bg-gray-50/50 dark:bg-slate-800/20 p-2 rounded-lg border border-gray-100 dark:border-slate-800",children:[u.jsx("span",{className:"text-[10px] uppercase font-bold text-gray-400 dark:text-slate-500",children:"Metadata"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",value:er,onChange:D=>_r(D.target.value),placeholder:"Tester Name",className:"w-24 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"}),u.jsx("input",{type:"text",value:St,onChange:D=>Yt(D.target.value),placeholder:"Camera Model",className:"w-32 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"}),u.jsx("input",{type:"text",value:mt,onChange:D=>Tr(D.target.value),placeholder:"ISO",className:"w-16 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-4 items-center bg-fuchsia-50/50 dark:bg-fuchsia-900/10 p-2 rounded-lg border border-fuchsia-100 dark:border-fuchsia-900/30",children:[u.jsx("span",{className:"text-[10px] uppercase font-bold text-fuchsia-500 dark:text-fuchsia-400",children:"Markers"}),u.jsxs("div",{className:"flex gap-2 items-center",children:[u.jsx("input",{type:"number",value:he,onChange:D=>Ee(D.target.value),placeholder:"X (Signal)",className:"w-20 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 outline-none focus:border-fuchsia-500 transition-colors"}),u.jsx("input",{type:"number",value:Ke,onChange:D=>ut(D.target.value),placeholder:"Y (Value)",className:"w-20 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 outline-none focus:border-fuchsia-500 transition-colors"}),u.jsx("button",{onClick:It,className:"px-3 py-1 bg-fuchsia-600 hover:bg-fuchsia-500 text-white text-xs font-bold rounded shadow-sm transition-colors active:scale-95",children:"+"}),W.length>0&&u.jsx("button",{onClick:()=>je([]),className:"px-2 py-1 bg-gray-200 dark:bg-slate-700 hover:bg-red-500 hover:text-white text-gray-600 dark:text-slate-300 text-xs font-bold rounded shadow-sm transition-colors active:scale-95",children:"Clr"})]}),u.jsxs("div",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono",children:[W.length," pts"]})]}),u.jsxs("div",{className:"flex gap-4 text-[10px] pt-1 justify-center sm:justify-start flex-wrap",children:[u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:ft.shot,onChange:D=>Wr({...ft,shot:D.target.checked}),className:"rounded text-gray-500"})," ",u.jsx("span",{className:"text-gray-500",children:"Shot Noise"})]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:ft.read,onChange:D=>Wr({...ft,read:D.target.checked}),className:"rounded text-rose-500"})," ",u.jsx("span",{className:"text-rose-500",children:"Read Noise"})]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:ft.prnu,onChange:D=>Wr({...ft,prnu:D.target.checked}),className:"rounded text-amber-500"})," ",u.jsx("span",{className:"text-amber-500",children:"PRNU"})]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:ft.total,onChange:D=>Wr({...ft,total:D.target.checked}),className:"rounded text-white"})," ",u.jsx("span",{className:"text-gray-900 dark:text-white font-bold",children:"Model"})]})]})]}),u.jsxs("div",{className:"lg:col-span-3 bg-slate-100 dark:bg-slate-800 p-4 flex flex-col justify-center gap-4",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center mb-1 px-1",children:[u.jsxs("h3",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase flex items-center gap-2",children:["Fit Parameters (D55 SAT Channel:",Ot,")",S&&u.jsx("span",{className:"text-orange-500 animate-pulse text-[10px]",children:"Calculating..."})]}),u.jsxs("div",{className:"flex gap-2 items-center",children:[u.jsx("button",{onClick:dl,disabled:S,className:`px-3 py-1 text-white text-[10px] font-bold rounded shadow-sm transition-all flex items-center gap-1 active:scale-95 
                                            ${S?"bg-gray-400 cursor-wait":Kh?"bg-orange-500 hover:bg-orange-600 animate-pulse ring-2 ring-orange-400/50":"bg-cyan-600 hover:bg-cyan-500"}
                                        `,title:"Apply Black Level, Auto-detect Read Noise, then Recalculate Fit",children:S?u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"w-3 h-3 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Fitting..."]}):u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),"Apply & Calc"]})}),u.jsxs("select",{value:Mt,onChange:D=>vt(Number(D.target.value)),className:"text-[9px] bg-slate-200 dark:bg-slate-700 text-gray-600 dark:text-slate-300 rounded px-1 py-0.5 border-none outline-none cursor-pointer hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors",title:"Number of point-pairs to sample for robust regression (Theil-Sen)",children:[u.jsx("option",{value:1e5,children:"100k Pairs"}),u.jsx("option",{value:5e5,children:"500k Pairs"}),u.jsx("option",{value:2e6,children:"2M Pairs"}),u.jsx("option",{value:5e6,children:"5M Pairs"}),u.jsx("option",{value:1e7,children:"10M Pairs"})]}),mr&&u.jsxs("span",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono",title:"Number of points used in regression",children:["N=",mr.nPoints]})]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1",children:"rn/fpn"}),u.jsx("input",{type:"text",inputMode:"decimal",value:Ct.read,onChange:D=>aa("read",D.target.value),onBlur:()=>La("read"),onKeyDown:D=>Bn(D,"read"),className:"w-full text-center text-2xl font-light bg-transparent text-rose-500 outline-none border-b border-transparent focus:border-rose-500 transition-colors"})]}),u.jsxs("div",{className:"flex flex-col items-center relative group",children:[u.jsxs("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1 flex items-center gap-1",children:["Kadc (HSM)",u.jsx("button",{onClick:()=>na(!0),className:"text-[9px] text-cyan-600 dark:text-cyan-400 hover:underline",children:"Dist."})]}),u.jsx("input",{type:"text",inputMode:"decimal",value:Ct.gain,onChange:D=>aa("gain",D.target.value),onBlur:()=>La("gain"),onKeyDown:D=>Bn(D,"gain"),className:"w-full text-center text-2xl font-light bg-transparent text-slate-700 dark:text-slate-200 outline-none border-b border-transparent focus:border-cyan-500 transition-colors"})]}),u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1",children:"PRNU (%)"}),u.jsx("input",{type:"text",inputMode:"decimal",value:Ct.prnu,onChange:D=>aa("prnu",D.target.value),onBlur:()=>La("prnu"),onKeyDown:D=>Bn(D,"prnu"),className:"w-full text-center text-2xl font-light bg-transparent text-amber-500 outline-none border-b border-transparent focus:border-amber-500 transition-colors"})]})]})]}),u.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 w-full"}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 text-center",children:[u.jsxs("div",{className:"flex flex-col justify-center bg-cyan-50 dark:bg-cyan-900/10 p-2 rounded-lg border border-cyan-100 dark:border-cyan-900/30",children:[u.jsxs("h4",{className:"text-[10px] font-bold text-cyan-600 dark:text-cyan-500 uppercase tracking-wide mb-1 truncate",title:`Manual DR at SNR=${(pe==null?void 0:pe.manualTarget)||I}`,children:["M.DR @ SNR=",(pe==null?void 0:pe.manualTarget)||I]}),u.jsx("div",{className:"text-base font-bold text-cyan-700 dark:text-cyan-400 whitespace-nowrap",children:pe!=null&&pe.manualDR?`${pe.manualDR.toFixed(2)} EV`:"--"})]}),u.jsxs("div",{className:"flex flex-col justify-center bg-emerald-50 dark:bg-emerald-900/10 p-2 rounded-lg border border-emerald-100 dark:border-emerald-900/30",title:isNaN((pe==null?void 0:pe.ptpTarget)||NaN)?"Requires Image Height":`Standard Point-to-Point DR (Target SNR = 16000/${R||"H"})`,children:[u.jsx("h4",{className:"text-[10px] font-bold text-emerald-600 dark:text-emerald-500 uppercase tracking-wide mb-1",children:"PTP DR"}),u.jsx("div",{className:"text-base font-bold text-emerald-700 dark:text-emerald-400 whitespace-nowrap",children:pe!=null&&pe.ptpDR?`${pe.ptpDR.toFixed(2)} EV`:"--"})]}),u.jsxs("div",{className:"flex flex-col justify-center bg-purple-50 dark:bg-purple-900/10 p-2 rounded-lg border border-purple-100 dark:border-purple-900/30",title:isNaN((pe==null?void 0:pe.ptpTarget)||NaN)?"Requires Image Height":`D55 Saturation DR (Target SNR = 16000/${R||"H"} on ${pe==null?void 0:pe.dominantChannel} Channel)`,children:[u.jsxs("h4",{className:"text-[10px] font-bold text-purple-600 dark:text-purple-400 uppercase tracking-wide mb-1 truncate",children:["D55 DR (",pe==null?void 0:pe.dominantChannel,")"]}),u.jsx("div",{className:"text-base font-bold text-purple-700 dark:text-purple-400 whitespace-nowrap",children:pe!=null&&pe.d55DR?`${pe.d55DR.toFixed(2)} EV`:"--"})]}),u.jsxs("div",{className:"flex flex-col justify-center bg-orange-50 dark:bg-orange-900/10 p-2 rounded-lg border border-orange-100 dark:border-orange-900/30",children:[u.jsx("h4",{className:"text-[10px] font-bold text-orange-600 dark:text-orange-400 uppercase tracking-wide mb-1",children:"FWC"}),u.jsx("div",{className:"text-base font-bold text-orange-600 dark:text-orange-400 font-mono whitespace-nowrap truncate",title:dt!==null?`${Math.round(dt)}`:"",children:dt!==null?dt>1e4?`${(dt/1e3).toFixed(1)}k`:`${Math.round(dt)}`:"--"})]})]}),ce===null&&u.jsx("div",{className:"text-center text-[10px] text-red-500 animate-pulse font-bold mt-[-10px]",children:"Please select Linear Limit on chart to calc DR"})]})]}),u.jsxs("div",{className:`flex-1 p-4 bg-white dark:bg-slate-900 relative grid grid-cols-[auto_1fr] grid-rows-[1fr_auto] gap-2 ${H||Se?"cursor-crosshair":""}`,children:[u.jsx("div",{className:"row-start-1 col-start-1 h-full",children:u.jsx(B2,{vertical:!0,min:U,max:me,value:[C?parseFloat(C):U,$?parseFloat($):me],onChange:([D,q])=>{z(D.toString()),L(q.toString())},logScale:h})}),u.jsxs("div",{className:"row-start-1 col-start-2 relative",children:[rr.length===0?u.jsx("div",{className:"flex h-full items-center justify-center text-gray-400",children:"No valid data points found."}):u.jsx(_s,{width:"100%",height:"100%",children:u.jsxs(UZ,{margin:{top:20,right:20,bottom:0,left:0},onClick:_n,children:[u.jsx("defs",{children:u.jsxs("filter",{id:"glow",height:"300%",width:"300%",x:"-100%",y:"-100%",children:[u.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),u.jsxs("feMerge",{children:[u.jsx("feMergeNode",{in:"coloredBlur"}),u.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),u.jsx(ji,{strokeDasharray:"3 3",stroke:"#374151",opacity:.2}),u.jsx(va,{type:"number",dataKey:"x",name:"Signal",scale:h?"log":"linear",domain:mu(_,A),allowDataOverflow:!0,hide:!0}),u.jsx(xa,{type:"number",dataKey:"y",name:f,scale:h?"log":"linear",domain:mu(C,$),label:{value:vu,angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:12},tick:{fill:"#9ca3af",fontSize:10},allowDataOverflow:!0}),u.jsx(an,{content:u.jsx(Vh,{}),cursor:{strokeDasharray:"3 3"}}),ce&&u.jsx(ai,{x:ce,stroke:"red",strokeDasharray:"3 3",label:{position:"top",value:"Sat",fill:"red",fontSize:10}}),(ft.fitRange||Se)&&u.jsxs(u.Fragment,{children:[u.jsx(ai,{x:Ve,stroke:"#22d3ee",strokeDasharray:"5 5",label:{position:"insideTopLeft",value:`Min: ${ir.min}%`,fill:"#22d3ee",fontSize:9}}),u.jsx(ai,{x:Ze,stroke:"#22d3ee",strokeDasharray:"5 5",label:{position:"insideTopLeft",value:`Max: ${ir.max}%`,fill:"#22d3ee",fontSize:9}})]}),k.R&&u.jsx(rn,{name:"Red",data:ze.R,fill:"#ef4444",shape:Ti,onClick:_n,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-R"),k.G1&&u.jsx(rn,{name:"Green 1",data:ze.G1,fill:"#22c55e",shape:Ti,onClick:_n,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-G1"),k.G2&&u.jsx(rn,{name:"Green 2",data:ze.G2,fill:"#4ade80",shape:Ti,onClick:_n,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-G2"),k.B&&u.jsx(rn,{name:"Blue",data:ze.B,fill:"#3b82f6",shape:Ti,onClick:_n,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-B"),ft.shot&&Ae.shot.length>0&&u.jsx(rn,{name:"Shot Noise (Ideal)",data:Ae.shot,line:{stroke:"#94a3b8",strokeWidth:1,strokeDasharray:"5 5"},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-shot"),ft.read&&Ae.read.length>0&&u.jsx(rn,{name:"Read Noise Floor",data:Ae.read,line:{stroke:"#f43f5e",strokeWidth:1,strokeDasharray:"3 3"},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-read"),ft.prnu&&Ae.prnu.length>0&&u.jsx(rn,{name:"PRNU (Non-uniformity)",data:Ae.prnu,line:{stroke:"#f59e0b",strokeWidth:1,strokeDasharray:"3 3"},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-prnu"),ft.total&&Ae.total.length>0&&u.jsx(rn,{name:"Total Noise Model",data:Ae.total,line:{stroke:yu,strokeWidth:2},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-total"),Ue.length>0&&u.jsx(rn,{name:`Target SNR=${I}`,data:Ue,line:{stroke:"#6366f1",strokeWidth:2,strokeDasharray:"4 2"},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-target"),Dr.length>0&&u.jsx(rn,{name:`PTP Target SNR=${pe!=null&&pe.ptpTarget?pe.ptpTarget.toFixed(1):"?"}`,data:Dr,line:{stroke:"#10b981",strokeWidth:2,strokeDasharray:"4 4"},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-ptp"),W.length>0&&u.jsx(rn,{name:"Manual Markers",data:W,fill:"#d946ef",shape:"star",legendType:"star"},"manual-points")]})}),u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 pointer-events-none select-none opacity-25 mix-blend-normal dark:mix-blend-plus-lighter",children:u.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})})]}),u.jsx("div",{className:"row-start-2 col-start-2 w-full",children:u.jsx(B2,{min:Re,max:Ne,value:[_?parseFloat(_):Re,A?parseFloat(A):Ne],onChange:([D,q])=>{P(D.toString()),N(q.toString())},logScale:h})})]})]})})},yQ=({searchTerm:e,onSearchChange:t,manufacturers:r,selectedManufacturer:n,onManufacturerChange:a,cameras:o,onCameraSelect:i})=>u.jsx("div",{className:"sticky top-4 z-10 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm p-4 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[u.jsxs("div",{className:"relative md:col-span-3",children:[u.jsx("input",{type:"text",placeholder:"Search camera model...",value:e,onChange:s=>t(s.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 text-gray-900 dark:text-slate-200 placeholder-gray-500 dark:placeholder-slate-400"}),u.jsx("svg",{className:"w-5 h-5 text-gray-400 dark:text-slate-400 absolute top-1/2 left-3 transform -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),u.jsx("select",{value:n,onChange:s=>a(s.target.value),className:"w-full md:col-span-1 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-2 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 appearance-none text-gray-900 dark:text-slate-200",children:r.map(s=>u.jsx("option",{value:s,children:s},s))}),u.jsxs("select",{onChange:s=>i(s.target.value),className:"w-full md:col-span-1 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-2 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 appearance-none text-gray-900 dark:text-slate-200",value:"","aria-label":"Jump to camera model",children:[u.jsx("option",{value:"",disabled:!0,children:"Jump to model..."}),o.map(s=>u.jsx("option",{value:s.id,children:s.name},s.id))]})]})}),vQ=({active:e,payload:t,label:r,theme:n})=>{if(e&&t&&t.length){const a=t[0].payload,o=n==="dark"?"bg-slate-800/80 border-slate-600 text-slate-300":"bg-white/90 border-gray-200 text-gray-700";return u.jsxs("div",{className:`${o} backdrop-blur-sm border p-3 rounded-lg shadow-lg`,children:[u.jsx("p",{className:"label font-bold",children:`ISO ${r}`}),u.jsx("div",{className:"mt-2 space-y-1 text-sm",children:u.jsxs(u.Fragment,{children:[u.jsxs("div",{style:{color:"#f87171"},children:["Red: ",a.R_avg.toFixed(2)," (Range: ",a.R_range[0]," - ",a.R_range[1],")"]}),u.jsxs("div",{style:{color:"#4ade80"},children:["Green 1: ",a.G1_avg.toFixed(2)," (Range: ",a.G1_range[0]," - ",a.G1_range[1],")"]}),u.jsxs("div",{style:{color:"#60a5fa"},children:["Blue: ",a.B_avg.toFixed(2)," (Range: ",a.B_range[0]," - ",a.B_range[1],")"]}),u.jsxs("div",{style:{color:"#86efac"},children:["Green 2: ",a.G2_avg.toFixed(2)," (Range: ",a.G2_range[0]," - ",a.G2_range[1],")"]})]})})]})}return null},xQ=({data:e,theme:t="dark"})=>{const r=O.useMemo(()=>!e||e.length===0?[]:[...new Set(e.map(i=>i.iso))].sort((i,s)=>Number(i)-Number(s)),[e]),n=O.useMemo(()=>{if(!e||e.length===0)return[0,4096];const i=e.flatMap(m=>[...m.R_range,...m.G1_range,...m.G2_range,...m.B_range]);if(i.length===0)return[0,4096];let s=Math.min(...i),l=Math.max(...i);const c=.25,f=l-s;if(f<c){const m=c-f;s-=m/2,l+=m/2}const d=(l-s)*.1,h=s-d,p=l+d;return[h,p]},[e]),a=t==="dark"?"#475569":"#e5e7eb",o=t==="dark"?"#94a3b8":"#6b7280";return!e||e.length===0?u.jsx("div",{className:"flex items-center justify-center h-full text-gray-500 dark:text-slate-500",children:u.jsx("p",{children:"No data available for this mode."})}):u.jsx(_s,{width:"100%",height:"100%",children:u.jsxs(RP,{data:e,margin:{top:5,right:20,left:0,bottom:5},children:[u.jsx(ji,{strokeDasharray:"3 3",stroke:a}),u.jsx(va,{dataKey:"iso",type:"number",domain:["dataMin","dataMax"],tick:{fill:o,fontSize:12},scale:"log",allowDuplicatedCategory:!1,ticks:r}),u.jsx(xa,{tick:{fill:o,fontSize:12},domain:n,allowDecimals:!0,tickFormatter:i=>Number(i).toFixed(3)}),u.jsx(an,{content:u.jsx(vQ,{theme:t})}),u.jsx(qa,{wrapperStyle:{fontSize:"14px",color:o}}),u.jsx(Xn,{type:"monotone",dataKey:"R_range",fill:"#f87171",stroke:"none",fillOpacity:.2,name:"Red",legendType:"none"}),u.jsx(Ir,{type:"monotone",dataKey:"R_avg",stroke:"#f87171",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Red"}),u.jsx(Xn,{type:"monotone",dataKey:"G1_range",fill:"#4ade80",stroke:"none",fillOpacity:.2,name:"Green 1",legendType:"none"}),u.jsx(Ir,{type:"monotone",dataKey:"G1_avg",stroke:"#4ade80",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Green 1"}),u.jsx(Xn,{type:"monotone",dataKey:"B_range",fill:"#60a5fa",stroke:"none",fillOpacity:.2,name:"Blue",legendType:"none"}),u.jsx(Ir,{type:"monotone",dataKey:"B_avg",stroke:"#60a5fa",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Blue"}),u.jsx(Xn,{type:"monotone",dataKey:"G2_range",fill:"#86efac",stroke:"none",fillOpacity:.2,name:"Green 2",legendType:"none"}),u.jsx(Ir,{type:"monotone",dataKey:"G2_avg",stroke:"#86efac",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Green 2"})]})})},bQ=M.forwardRef(({camera:e,theme:t="dark"},r)=>{const n=O.useMemo(()=>e.shootingModes.map(d=>d.modeName),[e.shootingModes]),[a,o]=O.useState(n[0]||""),{chartData:i,tableData:s}=O.useMemo(()=>{const d=e.shootingModes.find(m=>m.modeName===a);if(!(d!=null&&d.data))return{chartData:[],tableData:[]};const h=d.data.map(m=>({iso:m.iso,R_range:m.r.range,R_avg:m.r.avg,G1_range:m.g1.range,G1_avg:m.g1.avg,B_range:m.b.range,B_avg:m.b.avg,G2_range:m.g2.range,G2_avg:m.g2.avg})),p=d.data.map(m=>({iso:m.iso,levels:[m.r.avg,m.g1.avg,m.g2.avg,m.b.avg],clipping:m.clipping}));return{chartData:h,tableData:p}},[e.shootingModes,a]),l=`Raw Data (${a})`,c=O.useRef(null),f=O.useRef(null);return O.useEffect(()=>{const d=c.current,h=f.current;if(!d||!h)return;const p=new ResizeObserver(m=>{for(let v of m){const{width:x}=v.contentRect,g=Math.max(8,x/35);h.style.fontSize=`${g}px`}});return p.observe(d),()=>p.disconnect()},[]),u.jsxs("div",{ref:r,className:"bg-white dark:bg-slate-800/50 border border-gray-200 dark:border-slate-700 rounded-xl shadow-lg p-6 flex flex-col gap-6 transform hover:scale-[1.02] hover:border-cyan-500/50 transition-all duration-500 ease-in-out",children:[u.jsxs("div",{className:"border-b border-gray-200 dark:border-slate-700 pb-4",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-slate-100",children:e.name}),u.jsx("p",{className:"text-cyan-600 dark:text-cyan-400",children:e.manufacturer})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-slate-300",children:"Black Level vs. ISO"}),u.jsx("select",{value:a,onChange:d=>o(d.target.value),className:"w-full sm:w-auto bg-gray-50 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-md px-3 py-1 text-sm outline-none focus:ring-2 focus:ring-cyan-500 transition-all duration-300 text-gray-900 dark:text-slate-200","aria-label":`Select shooting mode for ${e.name}`,children:n.map(d=>u.jsx("option",{value:d,children:d},d))})]}),u.jsxs("div",{ref:c,className:"h-64 relative",children:[u.jsx(xQ,{data:i,theme:t},a),u.jsx("div",{className:"absolute top-1/2 left-[52%] transform -translate-x-1/2 -translate-y-1/2 -rotate-30 pointer-events-none",children:u.jsx("p",{ref:f,className:"font-bold text-gray-900/10 dark:text-slate-200/40 whitespace-nowrap",children:" y-g-jiang.github.io"})})]})]}),u.jsxs("div",{className:"overflow-x-auto",children:[u.jsx("div",{className:"flex justify-between items-center mb-4",children:u.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-slate-300",children:l})}),u.jsxs("table",{className:"w-full text-left border-collapse",children:[u.jsx("thead",{className:"bg-gray-100 dark:bg-slate-700/50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"p-3 font-semibold text-sm text-gray-700 dark:text-slate-300",children:"ISO"}),u.jsx("th",{className:"p-3 font-semibold text-sm text-red-500 dark:text-red-400",children:"Red"}),u.jsx("th",{className:"p-3 font-semibold text-sm text-green-600 dark:text-green-400",children:"Green 1"}),u.jsx("th",{className:"p-3 font-semibold text-sm text-blue-500 dark:text-blue-400",children:"Blue"}),u.jsx("th",{className:"p-3 font-semibold text-sm text-green-500 dark:text-green-300",children:"Green 2"})]})}),u.jsx("tbody",{children:s.map(({iso:d,levels:h,clipping:p})=>u.jsxs("tr",{className:"border-b border-gray-200 dark:border-slate-700/50 last:border-b-0",children:[u.jsxs("td",{className:"p-3 font-mono text-gray-700 dark:text-slate-300 whitespace-nowrap",children:[d,p&&u.jsx("span",{className:"ml-3 text-xs font-semibold text-amber-600 dark:text-amber-400 bg-amber-100 dark:bg-amber-900/50 px-2 py-1 rounded-full align-middle",children:"Clipping"})]}),u.jsx("td",{className:"p-3 font-mono text-red-500 dark:text-red-400",children:h[0].toFixed(2)}),u.jsx("td",{className:"p-3 font-mono text-green-600 dark:text-green-400",children:h[1].toFixed(2)}),u.jsx("td",{className:"p-3 font-mono text-blue-500 dark:text-blue-400",children:h[3].toFixed(2)}),u.jsx("td",{className:"p-3 font-mono text-green-500 dark:text-green-300",children:h[2].toFixed(2)})]},d))})]})]})]})}),ye=(e,t,r)=>({avg:e,range:[t,r]}),o0=[{id:"sony-a7r2",name:"Sony ILCE-7RM2 (A7R II)",manufacturer:"Sony",shootingModes:[{modeName:"Still (Mechanical Shutter)",data:[{iso:100,r:ye(512.1,511.95,512.25),g1:ye(512.05,511.9,512.2),b:ye(512.12,511.98,512.28),g2:ye(512.06,511.92,512.22)},{iso:200,r:ye(512.15,512,512.3),g1:ye(512.1,511.95,512.25),b:ye(512.18,512.05,512.35),g2:ye(512.12,511.98,512.28)},{iso:400,r:ye(512.25,512.1,512.45),g1:ye(512.2,512.05,512.4),b:ye(512.3,512.15,512.5),g2:ye(512.22,512.08,512.42)},{iso:800,r:ye(512.5,512.2,512.8),g1:ye(512.45,512.15,512.75),b:ye(512.55,512.25,512.85),g2:ye(512.48,512.18,512.78)},{iso:1600,r:ye(513.1,512.8,513.4),g1:ye(513.05,512.75,513.35),b:ye(513.15,512.85,513.45),g2:ye(513.08,512.78,513.38)}]}]},{id:"sony-a7c",name:"Sony ILCE-7C",manufacturer:"Sony",shootingModes:[{modeName:"Still (Mechanical)",data:[{iso:100,r:ye(512.02,511.98,512.05),g1:ye(512.01,511.97,512.04),b:ye(512.03,511.99,512.06),g2:ye(512.01,511.97,512.04)},{iso:640,r:ye(512.15,512.05,512.25),g1:ye(512.12,512.02,512.22),b:ye(512.18,512.08,512.28),g2:ye(512.13,512.03,512.23)}]}]},{id:"canon-r5",name:"Canon EOS R5",manufacturer:"Canon",shootingModes:[{modeName:"Mechanical Shutter",data:[{iso:100,r:ye(512,511.8,512.2),g1:ye(512,511.8,512.2),b:ye(512,511.8,512.2),g2:ye(512,511.8,512.2)},{iso:400,r:ye(512,511.7,512.3),g1:ye(512,511.7,512.3),b:ye(512,511.7,512.3),g2:ye(512,511.7,512.3)},{iso:1600,r:ye(512.2,511.5,512.8),g1:ye(512.2,511.5,512.8),b:ye(512.2,511.5,512.8),g2:ye(512.2,511.5,512.8)}]}]},{id:"canon-r6",name:"Canon EOS R6",manufacturer:"Canon",shootingModes:[{modeName:"Mechanical Shutter",data:[{iso:100,r:ye(511.95,511.8,512.1),g1:ye(511.95,511.8,512.1),b:ye(511.95,511.8,512.1),g2:ye(511.95,511.8,512.1)},{iso:800,r:ye(512.1,511.9,512.3),g1:ye(512.1,511.9,512.3),b:ye(512.1,511.9,512.3),g2:ye(512.1,511.9,512.3)}]}]},{id:"nikon-z9",name:"Nikon Z9",manufacturer:"Nikon",shootingModes:[{modeName:"Electronic Shutter",data:[{iso:64,r:ye(400,399.9,400.1),g1:ye(400,399.9,400.1),b:ye(400,399.9,400.1),g2:ye(400,399.9,400.1)},{iso:100,r:ye(400,399.9,400.1),g1:ye(400,399.9,400.1),b:ye(400,399.9,400.1),g2:ye(400,399.9,400.1)}]}]},{id:"nikon-z6-2",name:"Nikon Z 6II",manufacturer:"Nikon",shootingModes:[{modeName:"Still (Lossless)",data:[{iso:100,r:ye(400.1,399.8,400.3),g1:ye(400.1,399.8,400.3),b:ye(400.1,399.8,400.3),g2:ye(400.1,399.8,400.3)},{iso:800,r:ye(400.3,399.5,401.1),g1:ye(400.3,399.5,401.1),b:ye(400.3,399.5,401.1),g2:ye(400.3,399.5,401.1)}]}]},{id:"fujifilm-xt4",name:"Fujifilm X-T4",manufacturer:"Fujifilm",shootingModes:[{modeName:"Still (RAF)",data:[{iso:160,r:ye(1024,1023.8,1024.2),g1:ye(1024,1023.8,1024.2),b:ye(1024,1023.8,1024.2),g2:ye(1024,1023.8,1024.2)},{iso:800,r:ye(1024.2,1023.5,1025),g1:ye(1024.2,1023.5,1025),b:ye(1024.2,1023.5,1025),g2:ye(1024.2,1023.5,1025)}]}]}],wQ=({isOpen:e,onClose:t,theme:r})=>{const[n,a]=O.useState(""),[o,i]=O.useState("All"),s=O.useMemo(()=>["All",...Array.from(new Set(o0.map(d=>d.manufacturer))).sort()],[]),l=O.useMemo(()=>o0.filter(f=>{const d=f.name.toLowerCase().includes(n.toLowerCase()),h=o==="All"||f.manufacturer===o;return d&&h}),[n,o]),c=f=>{const d=document.getElementById(`camera-${f}`);d&&d.scrollIntoView({behavior:"smooth"})};return e?u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-6xl h-[90vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700 overflow-hidden",onClick:f=>f.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:[u.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2",children:["Camera Black Level Database",u.jsxs("span",{className:"text-xs font-normal bg-cyan-100 dark:bg-cyan-900/30 text-cyan-600 dark:text-cyan-400 px-2 py-0.5 rounded border border-cyan-200 dark:border-cyan-800",children:[o0.length," Models"]})]}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-2 rounded-full hover:bg-gray-100 dark:hover:bg-slate-800",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700 bg-gray-50/50 dark:bg-slate-800/30",children:u.jsx(yQ,{searchTerm:n,onSearchChange:a,manufacturers:s,selectedManufacturer:o,onManufacturerChange:i,cameras:l,onCameraSelect:c})}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700 bg-gray-100 dark:bg-slate-950",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-2 gap-6",children:[l.map(f=>u.jsx("div",{id:`camera-${f.id}`,children:u.jsx(bQ,{camera:f,theme:r})},f.id)),l.length===0&&u.jsx("div",{className:"col-span-full flex flex-col items-center justify-center py-20 text-gray-400 dark:text-slate-600",children:u.jsx("p",{className:"text-lg",children:"No cameras found matching your criteria."})})]})})]})}):null},kQ=({isOpen:e,onClose:t,zIndex:r=150})=>{const[n,a]=O.useState(""),[o,i]=O.useState(""),[s,l]=O.useState(""),[c,f]=O.useState(""),[d,h]=O.useState(null),p=()=>{const m=parseFloat(n),v=parseFloat(o),x=parseFloat(s),y=parseFloat(c);if(isNaN(m)||isNaN(v)||isNaN(x)||isNaN(y)){h(null);return}const g=m,b=v,S=x*x,w=y*y,k=(g+b)/2;if(k<=1e-9){h(0);return}const j=S*w/k,_=Math.sqrt(j);h(_)};return e?u.jsxs(Gh,{initialPosition:{x:window.innerWidth/2-160,y:window.innerHeight/2-200},onClose:t,zIndex:r,className:"w-80 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 flex flex-col shadow-2xl",children:[u.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800",children:[u.jsx("h3",{className:"text-sm font-bold text-gray-700 dark:text-slate-200",children:"Cross-Compensation Calc"}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"p-4 flex flex-col gap-3 text-xs",children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"H Mean (Power/Var)"}),u.jsx("input",{type:"number",step:"any",value:n,onChange:m=>a(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"V Mean (Power/Var)"}),u.jsx("input",{type:"number",step:"any",value:o,onChange:m=>i(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"H RMS 0 (Sigma)"}),u.jsx("input",{type:"number",step:"any",value:s,onChange:m=>l(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"V RMS 0 (Sigma)"}),u.jsx("input",{type:"number",step:"any",value:c,onChange:m=>f(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),u.jsx("button",{onClick:p,className:"mt-2 w-full py-2 bg-indigo-600 hover:bg-indigo-500 text-white font-bold rounded shadow transition-colors active:scale-95",children:"Calculate Sigma"}),d!==null&&u.jsxs("div",{className:"mt-2 p-3 bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-200 dark:border-indigo-800 rounded text-center animate-in fade-in slide-in-from-top-1",children:[u.jsx("span",{className:"block text-[10px] uppercase font-bold text-gray-500 dark:text-slate-400 mb-1",children:"Original White Noise Sigma"}),u.jsx("span",{className:"text-lg font-mono font-bold text-indigo-700 dark:text-indigo-300 select-all",children:d.toFixed(5)})]})]})]}):null};function i0(e,t,r){const a=e*t*2,o=8,i=o+a,s="Fake",l="NoiseCam",c="NoiseCam",f=P=>{const A=new Uint8Array(P.length+1);for(let N=0;N<P.length;N++)A[N]=P.charCodeAt(N);return A[P.length]=0,A},d=f(s),h=f(l),p=f(c),m=[{id:254,type:4,count:1,value:0},{id:256,type:4,count:1,value:e},{id:257,type:4,count:1,value:t},{id:258,type:3,count:1,value:16},{id:259,type:3,count:1,value:1},{id:262,type:3,count:1,value:32803},{id:271,type:2,count:d.length,value:d},{id:272,type:2,count:h.length,value:h},{id:273,type:4,count:1,value:o},{id:277,type:3,count:1,value:1},{id:278,type:4,count:1,value:t},{id:279,type:4,count:1,value:a},{id:33421,type:3,count:2,value:[2,2]},{id:33422,type:1,count:4,value:[0,1,1,2]},{id:50706,type:1,count:4,value:[1,4,0,0]},{id:50717,type:2,count:p.length,value:p}],v=2+m.length*12+4;let x=0;const y=m.map(P=>{let A=1;P.type===3&&(A=2),P.type===4&&(A=4);const N=P.count*A,C=N<=4;let z=0;return C||(z=x,x+=N,x%2!==0&&x++),{...P,fits:C,totalBytes:N,extraOffset:z}}),g=i+v,b=g+x,S=new ArrayBuffer(b),w=new DataView(S),k=new Uint8Array(S);w.setUint16(0,18761,!0),w.setUint16(2,42,!0),w.setUint32(4,i,!0);const j=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);k.set(j,o);let _=i;return w.setUint16(_,m.length,!0),_+=2,y.forEach(P=>{if(w.setUint16(_,P.id,!0),w.setUint16(_+2,P.type,!0),w.setUint32(_+4,P.count,!0),P.fits){const A=_+8;Array.isArray(P.value)?P.value.forEach((N,C)=>{P.type===1&&w.setUint8(A+C,N),P.type===3&&w.setUint16(A+C*2,N,!0)}):P.value instanceof Uint8Array||(P.type===3&&w.setUint16(A,P.value,!0),P.type===4&&w.setUint32(A,P.value,!0))}else{const A=g+P.extraOffset;w.setUint32(_+8,A,!0);const N=A;P.value instanceof Uint8Array?k.set(P.value,N):Array.isArray(P.value)&&P.value.forEach((C,z)=>{P.type===1&&w.setUint8(N+z,C),P.type===3&&w.setUint16(N+z*2,C,!0)})}_+=12}),w.setUint32(_,0,!0),S}function SQ(e,t,r,n=3){const o=r.byteLength,i=8,s=i+o,l=[{id:256,type:4,count:1,value:e},{id:257,type:4,count:1,value:t},{id:258,type:3,count:n,value:n===1?16:[16,16,16]},{id:259,type:3,count:1,value:1},{id:262,type:3,count:1,value:n===1?1:2},{id:273,type:4,count:1,value:i},{id:277,type:3,count:1,value:n},{id:278,type:4,count:1,value:t},{id:279,type:4,count:1,value:o}],c=2+l.length*12+4;let f=0;const d=l.map(g=>{let b=g.type===3?2:4;const S=g.count*b,w=S<=4;let k=0;return w||(k=f,f+=S),{...g,fits:w,totalBytes:S,extraOffset:k}}),h=s+c+f,p=new ArrayBuffer(h),m=new DataView(p),v=new Uint8Array(p);m.setUint16(0,18761,!0),m.setUint16(2,42,!0),m.setUint32(4,s,!0),v.set(new Uint8Array(r.buffer,r.byteOffset,r.byteLength),i);let x=s;m.setUint16(x,l.length,!0),x+=2;const y=s+c;return d.forEach(g=>{if(m.setUint16(x,g.id,!0),m.setUint16(x+2,g.type,!0),m.setUint32(x+4,g.count,!0),g.fits)Array.isArray(g.value)||(g.type===3?m.setUint16(x+8,g.value,!0):m.setUint32(x+8,g.value,!0));else{const b=y+g.extraOffset;m.setUint32(x+8,b,!0),Array.isArray(g.value)&&g.value.forEach((S,w)=>{m.setUint16(b+w*2,S,!0)})}x+=12}),m.setUint32(x,0,!0),p}const jQ="http://localhost:5428",OQ=(e=!1)=>{const[t,r]=O.useState({isConnected:!1,message:"Initializing...",hasDngConverter:!1});return O.useEffect(()=>{if(e){r({isConnected:!1,message:"Bridge Paused",hasDngConverter:!1});return}const n=async()=>{try{const o=new AbortController,i=setTimeout(()=>o.abort(),1e3),s=await fetch(`${jQ}/health`,{method:"GET",signal:o.signal});if(clearTimeout(i),s.ok){const l=await s.json(),c=`Connected (${l.exiftool||"Ready"})`;r(f=>f.isConnected===!0&&f.message===c&&f.version===l.exiftool&&f.hasDngConverter===!!l.dng_converter?f:{isConnected:!0,message:c,version:l.exiftool,hasDngConverter:!!l.dng_converter})}else r(l=>l.isConnected===!1&&l.message==="Service Error"?l:{isConnected:!1,message:"Service Error",hasDngConverter:!1})}catch{r(i=>i.isConnected===!1&&i.message==="Not Detected"?i:{isConnected:!1,message:"Not Detected",hasDngConverter:!1})}};n();const a=setInterval(n,2e3);return()=>clearInterval(a)},[e]),t},_Q="JTR_BlobStore",$a="raw_files",PQ=1,Hh=()=>new Promise((e,t)=>{const r=indexedDB.open(_Q,PQ);r.onupgradeneeded=n=>{const a=n.target.result;a.objectStoreNames.contains($a)||a.createObjectStore($a)},r.onsuccess=()=>e(r.result),r.onerror=()=>t(r.error)}),F2=async(e,t)=>{const r=await Hh();return new Promise((n,a)=>{const o=r.transaction($a,"readwrite");o.objectStore($a).put(t,e),o.oncomplete=()=>n(),o.onerror=()=>a(o.error)})},NQ=async e=>{const t=await Hh();return new Promise((r,n)=>{const i=t.transaction($a,"readonly").objectStore($a).get(e);i.onsuccess=()=>r(i.result),i.onerror=()=>n(i.error)})},AQ=async()=>{const e=await Hh();return new Promise((t,r)=>{const n=e.transaction($a,"readwrite");n.objectStore($a).clear(),n.oncomplete=()=>t(),n.onerror=()=>r(n.error)})},LP="jtr_workspace_index",MQ=e=>{try{const t=JSON.stringify(e);localStorage.setItem(LP,t)}catch(t){console.error("Failed to save workspace index",t)}},CQ=()=>{try{const e=localStorage.getItem(LP);return e?JSON.parse(e):null}catch(e){return console.error("Failed to load workspace index",e),null}},EQ=async e=>{const n=(await Hh()).transaction($a,"readwrite").objectStore($a),a=n.getAllKeys();a.onsuccess=()=>{a.result.forEach(i=>{e.includes(i)||n.delete(i)})}},Kr=1024,z2=(e,t,r)=>{const n=e.width,a=e.height,o=new ImageData(t,r),i=e.data,s=o.data,l=n/t,c=a/r;for(let f=0;f<r;f++){const d=Math.floor(f*c),h=f*t*4,p=d*n*4;for(let m=0;m<t;m++){const x=Math.floor(m*l)*4,y=h+m*4,g=p+x;s[y]=i[g],s[y+1]=i[g+1],s[y+2]=i[g+2],s[y+3]=i[g+3]}}return o},TQ=({stats:e,onClose:t,onMinimize:r,isBGGR:n,onToggleBGGR:a,onOpenWindow:o,displaySettings:i,zIndex:s,onFocus:l})=>{if(!e)return null;const c=!!i.showKadc&&!!i.blackLevel,f=i.blackLevel||[0,0,0,0],d=!!i.subtractBlackLevelFromStats&&!!i.blackLevel,h=(x,y,g)=>{if(!c)return null;const b=y*y;return b<=1e-4?0:(x-g)/b},p=(x,y)=>d?x-f[y]:x,m=()=>{if(!d){alert(`Sub. BL
Please enable 'Sub. BL' in Tools sidebar first.`);return}let x,y,g,b;n?(b=0,y=1,g=2,x=3):(x=0,y=1,g=2,b=3);const S=k=>e.means[k]-f[k],w=k=>e.stdDevs[k];localStorage.setItem("import_signal_r",S(x).toString()),localStorage.setItem("import_signal_g1",S(y).toString()),localStorage.setItem("import_signal_g2",S(g).toString()),localStorage.setItem("import_signal_b",S(b).toString()),localStorage.setItem("import_sigma_r",w(x).toString()),localStorage.setItem("import_sigma_g1",w(y).toString()),localStorage.setItem("import_sigma_g2",w(g).toString()),localStorage.setItem("import_sigma_b",w(b).toString()),window.open("https://y-g-jiang.github.io/XJZS.html","_blank")},v=n?[{name:"B",desc:"(0,0)",mean:p(e.means[0],0),std:e.stdDevs[0],color:"text-blue-500",k:h(e.means[0],e.stdDevs[0],f[0])},{name:"G1",desc:"(0,1)",mean:p(e.means[1],1),std:e.stdDevs[1],color:"text-green-500",k:h(e.means[1],e.stdDevs[1],f[1])},{name:"G2",desc:"(1,0)",mean:p(e.means[2],2),std:e.stdDevs[2],color:"text-green-500",k:h(e.means[2],e.stdDevs[2],f[2])},{name:"R",desc:"(1,1)",mean:p(e.means[3],3),std:e.stdDevs[3],color:"text-red-500",k:h(e.means[3],e.stdDevs[3],f[3])}]:[{name:"R",desc:"(0,0)",mean:p(e.means[0],0),std:e.stdDevs[0],color:"text-red-500",k:h(e.means[0],e.stdDevs[0],f[0])},{name:"G1",desc:"(0,1)",mean:p(e.means[1],1),std:e.stdDevs[1],color:"text-green-500",k:h(e.means[1],e.stdDevs[1],f[1])},{name:"G2",desc:"(1,0)",mean:p(e.means[2],2),std:e.stdDevs[2],color:"text-green-500",k:h(e.means[2],e.stdDevs[2],f[2])},{name:"B",desc:"(1,1)",mean:p(e.means[3],3),std:e.stdDevs[3],color:"text-blue-500",k:h(e.means[3],e.stdDevs[3],f[3])}];return u.jsxs(Gh,{className:`${c?"w-80":"w-60"} p-0 overflow-hidden transition-all duration-300`,onClose:t,zIndex:s,onFocus:l,children:[u.jsxs("div",{className:"flex justify-between items-center px-3 py-2 border-b border-gray-100 dark:border-slate-800 bg-gray-50/50 dark:bg-slate-800/50",children:[u.jsxs("h3",{className:"text-xs font-bold text-gray-700 dark:text-slate-300 uppercase tracking-wider flex items-center gap-2",children:["ROI Analysis",u.jsxs("span",{className:"text-[10px] font-normal text-gray-400 bg-gray-200 dark:bg-slate-700 px-1.5 py-0.5 rounded",children:[Math.round(e.width),"",Math.round(e.height)]})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 transition-colors p-1 rounded-md hover:bg-gray-200 dark:hover:bg-slate-700 relative z-20",children:u.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 transition-colors p-1 rounded-md hover:bg-gray-200 dark:hover:bg-slate-700 relative z-20",children:u.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsxs("div",{className:"p-3",children:[u.jsxs("div",{className:"flex justify-between items-center mb-3",children:[u.jsxs("div",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono leading-tight",children:["X: ",Math.round(e.x),u.jsx("br",{}),"Y: ",Math.round(e.y)]}),u.jsx("button",{onClick:()=>a(!n),className:"text-[10px] font-bold px-2 py-1 rounded bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 text-gray-600 dark:text-slate-300 transition-colors border border-gray-200 dark:border-slate-700 relative z-20",title:"Toggle Bayer Pattern Interpretation",children:n?"BGGR":"RGGB"})]}),u.jsxs("table",{className:"w-full mb-3",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-[10px] text-gray-400 dark:text-slate-500 border-b border-gray-100 dark:border-slate-800",children:[u.jsx("th",{className:"text-left pb-1 font-medium",children:"Ch"}),u.jsxs("th",{className:"text-right pb-1 font-medium",children:["Mean",d?"*":""]}),u.jsx("th",{className:"text-right pb-1 font-medium",children:"Std()"}),c&&u.jsx("th",{className:"text-right pb-1 font-medium text-cyan-600 dark:text-cyan-400",children:"K(e/ADU)"})]})}),u.jsx("tbody",{className:"font-mono text-xs",children:v.map((x,y)=>u.jsxs("tr",{className:"group hover:bg-gray-50 dark:hover:bg-slate-800/30 transition-colors",children:[u.jsxs("td",{className:"py-1",children:[u.jsx("span",{className:`font-bold ${x.color}`,children:x.name}),u.jsx("span",{className:"text-[9px] text-gray-300 dark:text-slate-600 ml-1 hidden group-hover:inline",children:x.desc})]}),u.jsx("td",{className:"py-1 text-right text-gray-700 dark:text-slate-200 font-semibold",title:d?"Mean minus Black Level":"Raw Mean",children:x.mean.toFixed(2)}),u.jsx("td",{className:"py-1 text-right text-gray-500 dark:text-slate-400",children:x.std.toFixed(2)}),c&&u.jsx("td",{className:"py-1 text-right text-cyan-600 dark:text-cyan-400 font-bold",children:x.k!==null?x.k.toFixed(3):"-"})]},y))})]}),d&&u.jsx("div",{className:"mb-2 text-[9px] text-gray-400 dark:text-slate-500 text-right italic",children:"* Mean adjusted by Black Level"}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx("button",{onClick:()=>o("histogram"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-cyan-600 hover:bg-cyan-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Histogram",children:"Hist"}),u.jsx("button",{onClick:()=>o("quant"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-teal-600 hover:bg-teal-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Quantization Steps",children:"Quant"}),u.jsx("button",{onClick:()=>o("fft"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-purple-600 hover:bg-purple-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Power Spectrum (FFT)",children:"FFT"}),u.jsx("button",{onClick:()=>o("pearson"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-indigo-600 hover:bg-indigo-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"Pearson Correlation Analysis",children:"PCC"}),u.jsx("button",{onClick:m,className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-pink-600 hover:bg-pink-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"Color Noise Analysis (External Tool)",children:"ColorN"})]})]})]})},$Q=()=>{var gl;const[e,t]=O.useState(!0),[r,n]=O.useState("Initializing..."),a=O.useRef(!1),[o,i]=O.useState("dark");O.useEffect(()=>{const F=window.document.documentElement;F.classList.remove(o==="dark"?"light":"dark"),F.classList.add(o)},[o]);const[s,l]=O.useState(!1),[c,f]=O.useState(!1),[d,h]=O.useState(!1),p=OQ(s||c||d),[m,v]=O.useState(!1),[x,y]=O.useState([]),[g,b]=O.useState(-1),[S,w]=O.useState([]),k=O.useMemo(()=>x[g],[x,g]),j=(k==null?void 0:k.file)||null,_=(k==null?void 0:k.imageElement)||null,P=(k==null?void 0:k.rawImageData)||null,A=(k==null?void 0:k.rawFileBuffer)||null,N=(k==null?void 0:k.renderedRawImageData)||null,C=(k==null?void 0:k.referenceImageData)||null,z=(k==null?void 0:k.sampledImageData)||null,$=(k==null?void 0:k.exifData)||null,L=(k==null?void 0:k.isThreePlane)||!1,I=(k==null?void 0:k.displaySettings)||{exposure:0,demosaicMethod:3,blackLevel:void 0,wbGains:[1,1],showKadc:!0,subtractBlackLevelFromStats:!0},[B,R]=O.useState(!1),[T,G]=O.useState(null),[ee,Y]=O.useState(!1),[K,H]=O.useState(!1),[fe,ce]=O.useState(null),[Oe,Se]=O.useState([]),[X,le]=O.useState(100),[ve,W]=O.useState(!0),[je,he]=O.useState(!1),[Ee,Ke]=O.useState(null),[ut,It]=O.useState(!1),[er,_r]=O.useState(!1),[St,Yt]=O.useState(!1),[mt,Tr]=O.useState(!1),[At,ra]=O.useState(!1),[yt,mr]=O.useState(!1),[tr,ir]=O.useState(!1),[yr,jt]=O.useState(!1),[Xe,Mt]=O.useState({x:0,y:0}),[vt,cr]=O.useState(!1),[qt,Jr]=O.useState(!1),[Ct,un]=O.useState(2),[ft,Wr]=O.useState(1),[fn,na]=O.useState([]),[Ln,Sn]=O.useState(null),[ur,Pr]=O.useState(0),[Nr,$r]=O.useState([]),[dn,jn]=O.useState([]),[Wt,rr]=O.useState(64),[Ot,ne]=O.useState(10),[_e,Re]=O.useState(10),[Ne,U]=O.useState(4),[me,Ve]=O.useState(1),[Ze,Ae]=O.useState(0),[Ue,rt]=O.useState("processed"),[_t,dt]=O.useState(!1),pe=O.useMemo(()=>I.blackLevel?I.blackLevel:P!=null&&P.blackLevels?[P.blackLevels[0],P.blackLevels[1],P.blackLevels[2],P.blackLevels[3]]:[0,0,0,0],[I.blackLevel,P]),Dr=($==null?void 0:$.ImageHeight)||($==null?void 0:$.ExifImageHeight)||(P==null?void 0:P.height)||0,[In,ze]=O.useState(null),[On,ot]=O.useState(null),[co,hn]=O.useState({x:0,y:0}),[Ra,aa]=O.useState(1),[La,dl]=O.useState("pan"),Ia=O.useRef(null),Bn=O.useRef(null),Ei=O.useCallback(async()=>{if(!A||!k)return;Yt(!1);const F=mt,V=At;ot(`Rendering 16-bit TIFF (${F?"Stretched":"Native DN"} | ${V?"sRGB":"Linear"})...`);try{const te=await aQ(A.slice(0),I,F,V),re=SQ(te.width,te.height,te.data,te.channels),xe=new Blob([re],{type:"image/tiff"}),J=URL.createObjectURL(xe),ge=document.createElement("a"),ue=k.fileName||"rendered",de=ue.substring(0,ue.lastIndexOf("."))||ue,be=[F?"stretch":"native",V?"srgb":"linear"].join("_");ge.href=J,ge.download=`${de}_${be}.tif`,document.body.appendChild(ge),ge.click(),document.body.removeChild(ge),URL.revokeObjectURL(J)}catch(te){ze("TIFF Export Failed: "+te.message)}finally{ot(null)}},[A,k,I,mt,At]),pu=O.useCallback(()=>{!A||!k||Yt(!0)},[A,k]);O.useEffect(()=>{const F=V=>{(V.ctrlKey||V.metaKey)&&V.key.toLowerCase()==="s"&&(V.preventDefault(),pu())};return window.addEventListener("keydown",F),()=>window.removeEventListener("keydown",F)},[pu]),O.useEffect(()=>{(async()=>{if(a.current)return;const V=CQ();if(V&&(n("Restoring layout..."),i(V.theme),W(V.sidebarOpen),V.sessions.length>0)){n(`Restoring ${V.sessions.length} images...`);const te=[];for(const re of V.sessions){if(a.current){console.log("Restoration cancelled.");return}await new Promise(xe=>setTimeout(xe,50));try{const xe=await NQ(re.id);if(xe){const J={id:re.id,fileName:re.fileName,file:null,imageElement:null,rawImageData:null,rawFileBuffer:xe,renderedRawImageData:null,referenceImageData:null,sampledImageData:null,exifData:null,isThreePlane:re.isThreePlane,displaySettings:re.displaySettings},{previewBlob:ge,analysisData:ue}=await r0(xe);let de=null;ue&&(de=await L2(xe,re.displaySettings));const be=URL.createObjectURL(ge),Ce=new Image;Ce.src=be,await new Promise(Le=>{Ce.onload=()=>Le()}),te.push({...J,rawImageData:ue,renderedRawImageData:de,previewUrl:be,imageElement:Ce,exifData:ue.metadata})}}catch(xe){console.error(`Failed to restore session ${re.id}`,xe)}}if(a.current)return;if(y(te),V.activeSessionId){const re=te.findIndex(xe=>xe.id===V.activeSessionId);re>=0?b(re):te.length>0&&b(0)}Se(V.windows)}a.current||t(!1)})()},[]);const hl=O.useRef(null),gu=O.useCallback(()=>{e||(hl.current&&clearTimeout(hl.current),hl.current=window.setTimeout(async()=>{var te;const F={version:1,timestamp:Date.now(),activeSessionId:((te=x[g])==null?void 0:te.id)||null,theme:o,sidebarOpen:ve,sessions:x.map(re=>({id:re.id,fileName:re.fileName,fileType:re.file?re.file.type:"application/octet-stream",fileSize:re.rawFileBuffer?re.rawFileBuffer.byteLength:0,displaySettings:re.displaySettings,isThreePlane:re.isThreePlane})),windows:Oe.map(re=>({id:re.id,type:re.type,roi:re.roi,zIndex:re.zIndex,initialPosition:re.initialPosition,sessionId:re.sessionId,isBGGR:re.isBGGR,isMinimized:re.isMinimized||!1,internalState:re.internalState}))};MQ(F);const V=x.map(re=>re.id);EQ(V)},1e3))},[x,Oe,g,o,ve,e]);O.useEffect(()=>{gu()},[gu]);const mu=O.useCallback(async()=>{a.current=!0,n("Cleaning up..."),localStorage.removeItem("jtr_workspace_index");try{await AQ()}catch(F){console.error("Failed to clear DB",F)}window.location.reload()},[]),_n=O.useCallback(F=>{y(V=>V.map((te,re)=>re===g?{...te,...F}:te))},[g]),Ti=()=>b(F=>Math.min(F+1,x.length-1)),Vh=()=>b(F=>Math.max(0,F-1));O.useEffect(()=>{if(P&&T){const F=Ui(P.data,P.width,P.height,T.x,T.y,T.width,T.height);G(F)}},[P]);const $i=F=>{if(!T||!k)return;const V=Date.now().toString()+Math.random().toString().slice(2,5),te=Math.max(X,...Oe.map(J=>J.zIndex),100),re=Oe.length%10*30,xe=F==="fft"?{x:50,y:50}:F==="histogram"?{x:100,y:100}:{x:150,y:150};Se(J=>[...J,{id:V,type:F,roi:{x:T.x,y:T.y,w:T.width,h:T.height},zIndex:te+1,initialPosition:{x:xe.x+re,y:xe.y+re},sessionId:k.id,isBGGR:ee,isMinimized:!1,stackFiles:(F==="fft"||F==="pearson")&&S.length>0?S:void 0}])},yu=F=>{Se(V=>V.filter(te=>te.id!==F))},vu=F=>{Se(V=>V.map(te=>te.id===F?{...te,isMinimized:!0}:te))},Kh=F=>{Se(V=>V.map(te=>te.id===F?{...te,isMinimized:!1}:te)),D(F)},D=F=>{Se(V=>{const te=Math.max(X,...V.map(re=>re.zIndex));return V.map(re=>re.id===F?{...re,zIndex:te+1}:re)})},q=(F,V)=>{Se(te=>te.map(re=>re.id===F?{...re,internalState:{...re.internalState,...V}}:re))},Q=()=>{const F=Math.max(X,...Oe.map(V=>V.zIndex));le(F+1)},E=(F,V)=>{Se(te=>te.map(re=>re.id===F?{...re,roi:V}:re))};O.useEffect(()=>{if(!$)return;const F=$.CFAPattern2||$.CFAPattern;if(F){let V="";Array.isArray(F)?V=F.join(""):typeof F=="string"?V=F.replace(/[\s,]+/g,""):typeof F=="number"&&(V=String(F)),V==="0112"?Y(!1):V==="2110"&&Y(!0)}},[$]),O.useEffect(()=>{let F;const V=()=>{if(qt&&yr){const te=Date.now()/1e3,re=.55+.45*Math.sin(te*Ct);Wr(re),F=requestAnimationFrame(V)}else Wr(1)};return qt&&yr?V():Wr(1),()=>{F&&cancelAnimationFrame(F)}},[qt,yr,Ct]),O.useEffect(()=>{const F=V=>{V.key==="Escape"&&yr&&(jt(!1),Mt({x:0,y:0}),Jr(!1))};return window.addEventListener("keydown",F),()=>window.removeEventListener("keydown",F)},[yr]),O.useEffect(()=>()=>{x.forEach(F=>{F.previewUrl&&URL.revokeObjectURL(F.previewUrl)}),Bn.current&&Bn.current.terminate()},[]);const ie=async(F,V=!0)=>{V&&(hn({x:0,y:0}),aa(1),Pr(0),$r([]),jn([]),he(!1),Ke(null),R(!1));let te=null;if(p.isConnected){const ue=new FormData;ue.append("file",F);try{const be=await(await fetch("http://localhost:5428/read",{method:"POST",body:ue})).json();if(be.success){let Ce=be.data;Array.isArray(Ce)&&Ce.length===1&&(Ce=Ce[0]),te=Ce}}catch(de){console.warn("Auto Exif fetch failed",de)}}const re=F.name.toLowerCase().match(/\.(arw|cr2|cr3|dng|nef|orf|raf|rw2|pef|srw|sr2|srf|x3f|erf|mef|mos|mrw|kdc|dcr|iiq|3fr|fff|rwl|nrw|raw|tif|tiff)$/);if(!(["image/jpeg","image/png","image/tiff","image/x-adobe-dng"].includes(F.type)||re)){ze("Unsupported file type. Please load a JPG, PNG, or a supported RAW file.");return}let J={file:F,exifData:te};if(re||F.type==="image/x-adobe-dng")try{V?ot("Processing RAW file (this may take a moment)..."):dt(!0);const ue=await F.arrayBuffer();J.rawFileBuffer=ue;const{previewBlob:de,analysisData:be}=await r0(ue);J.rawImageData=be,J.isThreePlane=be.isThreePlane||!1,be.isThreePlane&&V&&R(!0);const Ce=URL.createObjectURL(de);J.previewUrl=Ce;const Le=new Image;Le.src=Ce,await new Promise((nt,et)=>{Le.onload=()=>{J.imageElement=Le,nt()},Le.onerror=()=>{ze("Could not load the RAW file preview."),nt()}})}catch(ue){ze(`Failed to process RAW file: ${ue.message}`),ot(null),dt(!1);return}else try{ot("Processing image...");const{previewBlob:ue,analysisData:de}=await ZZ(F);J.rawImageData=de,J.rawFileBuffer=await F.arrayBuffer(),J.isThreePlane=de.isThreePlane||!1;const be=URL.createObjectURL(ue);J.previewUrl=be;const Ce=new Image;Ce.src=be,await new Promise(Le=>{Ce.onload=()=>{J.imageElement=Ce,Le()},Ce.onerror=()=>{ze("Could not load the image file."),Le()}})}catch(ue){ze(`Failed to process image: ${ue.message}`),ot(null);return}const ge=Date.now().toString()+Math.random();if(J.rawFileBuffer&&await F2(ge,J.rawFileBuffer),V){const ue={exposure:0,demosaicMethod:3,blackLevel:void 0,wbGains:[1,1],showKadc:!0,subtractBlackLevelFromStats:!0},de={id:ge,fileName:F.name,file:F,imageElement:null,rawImageData:null,rawFileBuffer:null,renderedRawImageData:null,referenceImageData:null,sampledImageData:null,exifData:null,isThreePlane:!1,displaySettings:ue,...J};y(be=>{const Ce=[...be,de];return b(Ce.length-1),Ce})}else _n(J);ot(null),dt(!1)},Me=async F=>{ot("Converting to DNG...");try{const V=new FormData;V.append("file",F);const te=await fetch("http://localhost:5428/convert_dng",{method:"POST",body:V}),re=te.headers.get("content-type")||"";if(te.ok)if(re.includes("application/json")){const xe=await te.json();throw new Error(xe.error||"Conversion failed")}else{const xe=await te.blob(),J=URL.createObjectURL(xe),ge=document.createElement("a");ge.href=J;const ue=F.name,de=ue.substring(0,ue.lastIndexOf("."))+".dng"||"converted.dng";ge.download=de,document.body.appendChild(ge),ge.click(),document.body.removeChild(ge),URL.revokeObjectURL(J);const be=new File([xe],de,{type:"image/x-adobe-dng"});await ie(be,!0)}else{const xe=await te.text();throw new Error(`HTTP ${te.status}: ${xe}`)}}catch(V){ot(null),ze(`Conversion Error: ${V.message}`)}},Te=(F,V)=>{F&&(V==="direct"?ie(F,!0):Me(F))},Qe=async F=>{var te;const V=(te=F.target.files)==null?void 0:te[0];V&&(await ie(V,!0),F.target.value="")},Ye=async(F,V,te,re)=>{!F||!V||(ot("Processing Pair Difference (May take a while)..."),ze(null),setTimeout(async()=>{try{const xe=await F.arrayBuffer(),J=await V.arrayBuffer(),ge=await n0(xe,J,te,re),ue=i0(ge.width,ge.height,ge.rawData),de=new File([ue],`Diff_${F.name}_${V.name}.dng`,{type:"image/x-adobe-dng"});await ie(de,!0),$i("fft")}catch(xe){console.error("Pair Processing Error",xe),ze("Pair Processing Failed: "+xe.message)}finally{ot(null)}},100))},Ge=async F=>{if(F.length<2){ze("Need at least 2 files for Batch Diff.");return}ot(`Batch Processing 0/${Math.floor(F.length/2)} pairs...`);const V=Array.from(F).sort((te,re)=>te.name.localeCompare(re.name,void 0,{numeric:!0}));try{for(let te=0;te<V.length-1;te+=2){const re=V[te],xe=V[te+1];ot(`Batch Processing Pair ${Math.floor(te/2)+1}/${Math.floor(V.length/2)}: ${re.name} & ${xe.name}`);const J=await re.arrayBuffer(),ge=await xe.arrayBuffer(),ue=await n0(J,ge,!1,!1),de=i0(ue.width,ue.height,ue.rawData),be=new Blob([de],{type:"image/x-adobe-dng"}),Ce=URL.createObjectURL(be),Le=document.createElement("a");Le.href=Ce,Le.download=`Diff_${re.name}_${xe.name}.dng`,document.body.appendChild(Le),Le.click(),document.body.removeChild(Le),URL.revokeObjectURL(Ce)}}catch(te){console.error("FFT Batch Error",te),ze("Batch Processing Failed: "+te.message)}finally{ot(null)}},Et=async F=>{if(F.length<1)return;const V=Array.from(F).sort((te,re)=>te.name.localeCompare(re.name,void 0,{numeric:!0}));w(V),await ie(V[0],!0)},st=async()=>{dt(!0);const F=128,V=F,te=F,re=V*te,xe=new Uint16Array(re),J=Be=>{const De=Be/Ne+Ze;return Math.sin(2*Math.PI*De)>=0?1:0},ge=32,ue=me*.5,de=Math.max(1e-4,me/ge);for(let Be=0;Be<te;Be++){let De=0;const bt=Be+.5-ue;for(let Pt=0;Pt<ge;Pt++){const Gr=bt+(Pt+.5)*de;De+=J(Gr)}const $t=De/ge,Dt=Math.round($t*65535);for(let Pt=0;Pt<V;Pt++)xe[Be*V+Pt]=Dt}const be=new ImageData(Kr,Kr),Ce=Kr/V,Le=me/2;for(let Be=0;Be<Kr;Be++){const De=Be/Ce,dr=Math.floor(De),bt=De-dr,$t=bt>=.5-Le&&bt<.5+Le;for(let Dt=0;Dt<Kr;Dt++){const Pt=Dt/Ce,Gr=Math.floor(Pt),ka=Pt-Gr,Li=ka>=.5-Le&&ka<.5+Le,vr=(Be*Kr+Dt)*4;if(Gr>=V||dr>=te){be.data[vr]=30,be.data[vr+1]=34,be.data[vr+2]=40,be.data[vr+3]=255;continue}if($t&&Li){const uo=xe[dr*V+Gr],Ho=Math.round(uo/257);be.data[vr]=Ho,be.data[vr+1]=Ho,be.data[vr+2]=Ho,be.data[vr+3]=255}else be.data[vr]=30,be.data[vr+1]=34,be.data[vr+2]=40,be.data[vr+3]=255}}const nt=new ImageData(Kr,Kr),et=te/Kr;for(let Be=0;Be<Kr;Be++){const De=(Be+.5)*et,bt=J(De)>.5?255:0,$t=Be*Kr*4;for(let Dt=0;Dt<Kr;Dt++){const Pt=$t+Dt*4;nt.data[Pt]=bt,nt.data[Pt+1]=bt,nt.data[Pt+2]=bt,nt.data[Pt+3]=255}}const pt=i0(V,te,xe),Ie=new File([pt],"pattern_test.dng",{type:"image/x-adobe-dng"}),xt=Date.now().toString();try{const{previewBlob:Be,analysisData:De}=await r0(pt.slice(0)),dr=await L2(pt.slice(0),I),bt=z2(dr,Kr,Kr),$t=URL.createObjectURL(Be),Dt=new Image;Dt.src=$t,await new Promise(Gr=>{Dt.onload=()=>Gr()}),await F2(xt,pt);const Pt={id:xt,fileName:"pattern_test.dng",file:Ie,imageElement:Dt,rawImageData:De,rawFileBuffer:pt,renderedRawImageData:bt,referenceImageData:nt,sampledImageData:be,exifData:null,isThreePlane:!1,previewUrl:$t,displaySettings:I};(j==null?void 0:j.name)==="pattern_test.dng"?_n(Pt):y(Gr=>{const ka=[...Gr,Pt];return b(ka.length-1),ka})}catch(Be){console.error("Error generating pattern:",Be),ze(`Error generating pattern: ${Be.message}`)}dt(!1),ot(null)},Bt=()=>{It(!0)},nr=()=>{It(!1),rt("sampled"),ot("Generating..."),setTimeout(()=>st(),50)},ae=O.useRef({period:Ne,fill:me,phase:Ze});O.useEffect(()=>{(j==null?void 0:j.name)==="pattern_test.dng"&&(ae.current.period!==Ne||ae.current.fill!==me||ae.current.phase!==Ze)&&(ae.current={period:Ne,fill:me,phase:Ze},st())},[Ne,me,Ze,j]);const qe=O.useCallback(F=>{if(_n({displaySettings:F}),!A)return;dt(!0),Bn.current&&Bn.current.terminate();const V=new Worker(new URL("/assets/renderWorker-DUAyyiA5.js",import.meta.url),{type:"module"});Bn.current=V,V.onmessage=te=>{const{success:re,imageData:xe,error:J}=te.data;if(re){let ge=xe;(j==null?void 0:j.name)==="pattern_test.dng"&&(ge=z2(xe,Kr,Kr)),_n({renderedRawImageData:ge})}else ze(J||"Unknown worker error");dt(!1),V.terminate(),Bn.current=null},V.postMessage({buffer:A.slice(0),settings:F})},[A,j,_n]);let Pe=N||_;Ue==="reference"&&C?Pe=C:Ue==="sampled"&&z&&(Pe=z);const Tt=On||_t,ht=F=>{if(Ia.current){const V=Ia.current,{width:te,height:re}=V.getBoundingClientRect(),xe=te/2,J=re/2,ge=F/Ra,ue=xe-(xe-co.x)*ge,de=J-(J-co.y)*ge;hn({x:ue,y:de})}aa(F)},Ur=F=>{if(!F)return;if(!P){G(null);return}K&&H(!1),Q();const V=Ui(P.data,P.width,P.height,F.x,F.y,F.w,F.h);G(V)},lt=F=>{ce(F),Ur(F)},fr=()=>{dl(F=>F==="pan"?"select":"pan")},en=F=>{if(ur===0||ur>4)return;const V=[...Nr,F];$r(V),ur===4?(pl(V),Pr(0)):Pr(ur+1)},wa=(F,V,te,re)=>{const xe=F[0],J=F[1],ge=F[2],ue=F[3],de=V/2,be=[];for(let Ce=0;Ce<te;Ce++){const Le=te>1?Ce/(te-1):.5;for(let nt=0;nt<re;nt++){const et=re>1?nt/(re-1):.5,pt=xe.x*(1-et)+J.x*et,Ie=xe.y*(1-et)+J.y*et,xt=ge.x*(1-et)+ue.x*et,Be=ge.y*(1-et)+ue.y*et,De=pt*(1-Le)+xt*Le,dr=Ie*(1-Le)+Be*Le,bt=De-de,$t=dr-de;be.push({x:bt,y:$t,w:V,h:V})}}return be},pl=F=>{P&&(ot("Calculating DR Lab Grid..."),setTimeout(()=>{try{const V=wa(F,Wt,Ot,_e);jn(V);const J=[...[`#BlackLevel: ${(I.blackLevel||[0,0,0,0]).join(",")}`,`#ImageHeight: ${P.height}`],"Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std"];V.forEach((Ce,Le)=>{const nt=Math.floor(Le/_e)+1,et=Le%_e+1,pt=Ui(P.data,P.width,P.height,Ce.x,Ce.y,Ce.w,Ce.h),Ie=pt.means,xt=pt.stdDevs,Be=`${nt},${et},${Ie[0].toFixed(4)},${Ie[1].toFixed(4)},${Ie[2].toFixed(4)},${Ie[3].toFixed(4)},${xt[0].toFixed(4)},${xt[1].toFixed(4)},${xt[2].toFixed(4)},${xt[3].toFixed(4)}`;J.push(Be)});const ge=J.join(`
`),ue=new Blob([ge],{type:"text/csv;charset=utf-8;"}),de=URL.createObjectURL(ue),be=document.createElement("a");be.setAttribute("href",de),be.setAttribute("download","dr_lab_results.csv"),document.body.appendChild(be),be.click(),document.body.removeChild(be),URL.revokeObjectURL(de),$r([])}catch(V){ze("DR Lab Error: "+V.message)}finally{ot(null)}},100))},Xh=async(F,V)=>{if(Nr.length<4&&dn.length<1){ze("Please mark the grid on an image first before running batch processing.");return}let te=dn;if(te.length===0&&Nr.length===4&&(te=wa(Nr,Wt,Ot,_e)),te.length===0){ze("No grid definitions found. Mark corners first.");return}ot(V==="pair"?"Batch Pair Difference (Sigma = Diff/sqrt(2))":"Batch Processing...");const xe=(I.blackLevel||[0,0,0,0]).join(","),J=P?P.height:0,ue=[...[`#BlackLevel: ${xe}`,`#ImageHeight: ${J}`,V==="pair"?"#Mode: Pair Difference (Sigma = Diff/sqrt(2))":"#Mode: Independent"],"Filename,Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std"],de=Array.from(F).sort((be,Ce)=>be.name.localeCompare(Ce.name,void 0,{numeric:!0}));if(V==="pair"&&de.length<2){ze("Need at least 2 files for Pair processing."),ot(null);return}try{if(V==="single")for(let et=0;et<de.length;et++){const pt=de[et];ot(`Processing ${et+1}/${de.length}: ${pt.name}...`);const Ie=await pt.arrayBuffer(),xt=await Bd(Ie);te.forEach((Be,De)=>{const dr=Math.floor(De/_e)+1,bt=De%_e+1,$t=Ui(xt.data,xt.width,xt.height,Be.x,Be.y,Be.w,Be.h),Dt=$t.means,Pt=$t.stdDevs,Gr=`${pt.name},${dr},${bt},${Dt[0].toFixed(4)},${Dt[1].toFixed(4)},${Dt[2].toFixed(4)},${Dt[3].toFixed(4)},${Pt[0].toFixed(4)},${Pt[1].toFixed(4)},${Pt[2].toFixed(4)},${Pt[3].toFixed(4)}`;ue.push(Gr)})}else for(let et=0;et<de.length-1;et+=2){const pt=de[et],Ie=de[et+1],xt=`${pt.name} & ${Ie.name}`;ot(`Processing Pair ${Math.floor(et/2)+1}/${Math.floor(de.length/2)}: ${pt.name} & ${Ie.name}...`);const Be=await pt.arrayBuffer(),De=await Bd(Be),dr=await Ie.arrayBuffer(),bt=await n0(Be,dr,!1,!0);te.forEach(($t,Dt)=>{const Pt=Math.floor(Dt/_e)+1,Gr=Dt%_e+1,ka=Ui(De.data,De.width,De.height,$t.x,$t.y,$t.w,$t.h),Li=Ui(bt.rawData,bt.width,bt.height,$t.x,$t.y,$t.w,$t.h),vr=ka.means,uo=Li.stdDevs,Ho=`${xt},${Pt},${Gr},${vr[0].toFixed(4)},${vr[1].toFixed(4)},${vr[2].toFixed(4)},${vr[3].toFixed(4)},${uo[0].toFixed(4)},${uo[1].toFixed(4)},${uo[2].toFixed(4)},${uo[3].toFixed(4)}`;ue.push(Ho)})}const be=ue.join(`
`),Ce=new Blob([be],{type:"text/csv;charset=utf-8;"}),Le=URL.createObjectURL(Ce),nt=document.createElement("a");nt.href=Le,nt.setAttribute("download",`dr_lab_batch_${V}_${new Date().getTime()}.csv`),document.body.appendChild(nt),nt.click(),document.body.removeChild(nt),URL.revokeObjectURL(Le)}catch(be){console.error("Batch Error",be),ze("Batch Processing Failed: "+be.message)}finally{ot(null)}},xu=()=>{if(!P){ze("Please load an image first.");return}jn([]),$r([]),Pr(1)},Yh=async()=>{if(!j)return;if(p.isConnected?Ke(null):Ke(`JiangBridge Offline
JiangBridge Offline, limited content shown only`),p.isConnected){ot("Reading EXIF (JiangBridge)...");try{const V=new FormData;V.append("file",j);const te=await fetch("http://localhost:5428/read",{method:"POST",body:V});if(!te.ok)throw new Error(`Bridge error: ${te.statusText}`);const re=await te.json();if(re.success){let xe=re.data;Array.isArray(xe)&&xe.length===1&&(xe=xe[0]),_n({exifData:xe}),he(!0),ot(null);return}else console.warn("Bridge returned error:",re.error)}catch(V){console.warn("Bridge fetch failed, falling back to LibRaw:",V)}ot(null)}if(!P){ze("No image data available.");return}const F=P.metadata;if(!F){ze("No metadata found for this image.");return}_n({exifData:F}),he(!0)},qh=O.useCallback(async F=>{ot("Parsing CSV files...");const V=[];let te,re;try{const xe=Array.from(F).map((J,ge)=>new Promise((ue,de)=>{const be=new FileReader;be.onload=Ce=>{var pt;const Le=(pt=Ce.target)==null?void 0:pt.result;if(!Le)return ue();const nt=Le.split(`
`);let et=-1;for(let Ie=0;Ie<nt.length;Ie++){const xt=nt[Ie].trim();if(xt){if(ge===0&&xt.startsWith("#")){if(xt.startsWith("#BlackLevel:")){const De=xt.replace("#BlackLevel:","").trim().split(/[\s,]+/).map(Number);De.length>=4&&!De.some(isNaN)&&(te=[De[0],De[1],De[2],De[3]])}else if(xt.startsWith("#ImageHeight:")){const Be=xt.replace("#ImageHeight:","").trim(),De=parseInt(Be);!isNaN(De)&&De>0&&(re=De)}continue}if(xt.startsWith("Row")||xt.startsWith("Filename")){et=Ie+1;break}}}et===-1&&(et=1);for(let Ie=et;Ie<nt.length;Ie++){const xt=nt[Ie].trim();if(!xt||xt.startsWith("#"))continue;const Be=xt.split(",");let De=0;if(isNaN(Number(Be[0]))&&(De=1),Be.length<10+De)continue;const dr=De===1?Be[0]:J.name,bt=Be.map(Number),$t=bt[0+De],Dt=bt[1+De],Pt=bt[2+De],Gr=bt[3+De],ka=bt[4+De],Li=bt[5+De],vr=bt[6+De],uo=bt[7+De],Ho=bt[8+De],BP=bt[9+De];Pt>0&&V.push({channel:"R",mean:Pt,std:vr,filename:dr,row:$t,col:Dt}),Gr>0&&V.push({channel:"G1",mean:Gr,std:uo,filename:dr,row:$t,col:Dt}),ka>0&&V.push({channel:"G2",mean:ka,std:Ho,filename:dr,row:$t,col:Dt}),Li>0&&V.push({channel:"B",mean:Li,std:BP,filename:dr,row:$t,col:Dt})}ue()},be.onerror=de,be.readAsText(J)}));await Promise.all(xe),na(V),Sn(te||re?{blackLevel:te,height:re}:null),l(!0)}catch(xe){ze("Failed to parse CSV files: "+xe.message)}finally{ot(null)}},[]),pn=F=>{F.button===0&&cr(!0)},Di=O.useCallback(F=>{vt&&Mt(V=>({x:V.x+F.movementX,y:V.y+F.movementY}))},[vt]),Ri=O.useCallback(()=>{cr(!1)},[]);O.useEffect(()=>(vt?(window.addEventListener("mousemove",Di),window.addEventListener("mouseup",Ri)):(window.removeEventListener("mousemove",Di),window.removeEventListener("mouseup",Ri)),()=>{window.removeEventListener("mousemove",Di),window.removeEventListener("mouseup",Ri)}),[vt,Di,Ri]);const Zh=()=>{if(!A||!j)return;const F=j.name||"pattern_test.dng",V=new Blob([A],{type:"image/x-adobe-dng"}),te=URL.createObjectURL(V),re=document.createElement("a");re.href=te,re.download=F,document.body.appendChild(re),re.click(),document.body.removeChild(re),URL.revokeObjectURL(te)};return e?u.jsxs("div",{className:"flex flex-col h-screen items-center justify-center bg-gray-50 dark:bg-slate-950 text-gray-900 dark:text-slate-200",children:[u.jsx("div",{className:"w-12 h-12 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mb-4"}),u.jsx("h2",{className:"text-xl font-bold animate-pulse",children:r}),u.jsx("p",{className:"text-sm text-gray-500 mt-2 mb-6",children:"Loading stored buffers from database..."}),u.jsx("button",{onClick:mu,className:"px-6 py-2 bg-red-100 hover:bg-red-200 dark:bg-red-900/30 dark:hover:bg-red-900/50 text-red-700 dark:text-red-300 font-bold rounded-lg transition-colors border border-red-200 dark:border-red-800 text-sm",children:"Abandon Saved Session (Start Fresh)"})]}):u.jsxs("div",{className:"flex flex-col h-screen bg-white dark:bg-slate-950 text-gray-900 dark:text-slate-200 font-sans transition-colors duration-300 overflow-hidden",children:[u.jsx("div",{className:"p-4 pb-0 flex-shrink-0",children:u.jsx(pM,{onLoadImage:Qe,onFileSelected:Te,onGenerateFakeDng:Bt,fileName:j?j.name:null,hasGeneratedData:(j==null?void 0:j.name)==="pattern_test.dng",viewMode:Ue,onSetViewMode:rt,patternPeriod:Ne,onPatternPeriodChange:U,fillFactor:me,onFillFactorChange:Ve,patternPhase:Ze,onPatternPhaseChange:Ae,showPatternControls:(j==null?void 0:j.name)==="pattern_test.dng",onOpenAbout:()=>_r(!0),onShowExif:Yh,bridgeStatus:p,onBridgeClick:()=>v(!0),isDrLabOpen:yt,onToggleDrLab:()=>{mr(!yt),Pr(0),$r([]),jn([]),tr&&ir(!1)},isFftLabOpen:tr,onToggleFftLab:()=>{ir(!tr),yt&&mr(!1)},onGenerateTestPic:()=>jt(!0),onPTCFilesSelected:qh,onDownloadDng:Zh,isThreePlane:L,onOpenDatabase:()=>f(!0)})}),u.jsxs("div",{className:"flex flex-1 overflow-hidden p-4 pt-2 gap-4 relative",children:[u.jsxs("div",{className:"flex-1 relative bg-gray-100 dark:bg-slate-900 rounded-2xl border border-gray-200 dark:border-slate-800 shadow-inner overflow-hidden transition-colors duration-300",ref:Ia,children:[Tt&&u.jsxs("div",{className:"absolute bottom-4 right-4 z-50 flex items-center gap-2 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm px-3 py-1.5 rounded-full border border-cyan-500/30 shadow-sm",children:[u.jsx("div",{className:"w-4 h-4 border-2 border-cyan-500 border-t-transparent rounded-full animate-spin"}),u.jsx("span",{className:"text-xs text-cyan-600 dark:text-cyan-400 font-mono",children:On||"Processing..."})]}),x.length>1&&u.jsxs("div",{className:"absolute bottom-4 right-20 z-50 flex items-center gap-2 bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm px-3 py-1.5 rounded-lg border border-gray-200 dark:border-slate-700 shadow-lg text-sm font-mono text-gray-700 dark:text-slate-200",children:[u.jsx("button",{onClick:Vh,disabled:g<=0,className:"hover:text-cyan-500 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Previous Image",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),u.jsxs("span",{className:"min-w-[3rem] text-center select-none font-bold",children:[g+1," / ",x.length]}),u.jsx("button",{onClick:Ti,disabled:g>=x.length-1,className:"hover:text-cyan-500 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Next Image",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),u.jsxs("div",{className:"absolute bottom-4 left-4 z-50 flex flex-col-reverse gap-2 items-start pointer-events-none",children:[K&&T&&u.jsxs("div",{className:"pointer-events-auto flex items-center gap-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg shadow-lg overflow-hidden animate-in slide-in-from-bottom-2 fade-in",children:[u.jsxs("button",{onClick:()=>H(!1),className:"px-3 py-1.5 text-xs font-bold text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[u.jsx("span",{className:"w-2 h-2 rounded-full bg-cyan-500"}),"ROI Stats"]}),u.jsx("button",{onClick:()=>{H(!1),G(null)},className:"px-2 py-1.5 text-gray-400 hover:text-red-500 hover:bg-gray-100 dark:hover:bg-slate-700 border-l border-gray-200 dark:border-slate-700 transition-colors",children:u.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),Oe.filter(F=>F.isMinimized).map(F=>{let V="Window",te="bg-gray-500";return F.type==="histogram"?(V="Histogram",te="bg-purple-500"):F.type==="fft"?(V="FFT Spectrum",te="bg-fuchsia-500"):F.type==="quant"?(V="Quantization",te="bg-teal-500"):F.type==="pearson"&&(V="Pearson",te="bg-indigo-500"),u.jsxs("div",{className:"pointer-events-auto flex items-center gap-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg shadow-lg overflow-hidden animate-in slide-in-from-bottom-2 fade-in",children:[u.jsxs("button",{onClick:()=>Kh(F.id),className:"px-3 py-1.5 text-xs font-bold text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[u.jsx("span",{className:`w-2 h-2 rounded-full ${te}`}),V]}),u.jsx("button",{onClick:()=>yu(F.id),className:"px-2 py-1.5 text-gray-400 hover:text-red-500 hover:bg-gray-100 dark:hover:bg-slate-700 border-l border-gray-200 dark:border-slate-700 transition-colors",children:u.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},F.id)})]}),!K&&u.jsx(TQ,{stats:T,onClose:()=>{G(null),ce(null)},onMinimize:()=>H(!0),isBGGR:ee,onToggleBGGR:Y,onOpenWindow:$i,displaySettings:I,zIndex:X,onFocus:Q}),u.jsx(hQ,{isOpen:er,onClose:()=>_r(!1)}),u.jsx(pQ,{isOpen:je,onClose:()=>he(!1),data:$,fileName:j?j.name:"",warning:Ee}),u.jsx(mQ,{isOpen:s,onClose:()=>l(!1),data:fn,blackLevel:pe,imageHeight:Dr,isBGGR:ee,importedMetadata:Ln||void 0,theme:o,initialCameraModel:($==null?void 0:$.Model)||"",initialISO:($==null?void 0:$.ISO)||((gl=$==null?void 0:$.ISOSpeedRatings)==null?void 0:gl.toString())||""}),u.jsx(wQ,{isOpen:c,onClose:()=>f(!1),theme:o}),u.jsx(kQ,{isOpen:d,onClose:()=>h(!1),zIndex:200}),u.jsx(ci,{isOpen:ut,onClose:()=>It(!1),onConfirm:nr,title:"High Resource Usage Warning",confirmText:"I know the risk and insist to continue",message:u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("p",{children:"Patter DNG mode involves high-frequency refreshing and heavy computation. Due to current memory management limitations, repeated use may lead to browser memory overflow or crashes. Please proceed with caution."}),u.jsx("p",{className:"text-xs text-gray-500"})]})}),u.jsx(ci,{isOpen:m,onClose:()=>v(!1),onConfirm:()=>{window.open("https://y-g-jiang.github.io/jiangbridge.exe","_blank"),v(!1)},title:"JiangBridge Connection / ",confirmText:"Download Bridge App",cancelText:"Cancel",message:u.jsxs("div",{className:"flex flex-col gap-4 text-left",children:[u.jsx("p",{className:"font-bold text-gray-800 dark:text-gray-200",children:"JiangBridge"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:'JiangBridge is optional for this webpage, but recommended for full functionality. Simply double-click and run it once after system startup. If the indicator light does not turn green after double-clicking, please consider checking whether the web page is allowed to "View and connect to any device on the network".'})]})}),u.jsx(ci,{isOpen:St,onClose:()=>Yt(!1),onConfirm:Ei,title:"Export 16-bit TIFF Options",confirmText:"Confirm Export",message:u.jsxs("div",{className:"flex flex-col gap-4 text-left",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-gray-50 dark:bg-slate-800/80 p-4 rounded-xl border border-gray-200 dark:border-slate-700",children:[u.jsxs("div",{className:"flex flex-col items-center gap-3",children:[u.jsxs("div",{className:"flex flex-col items-center text-center",children:[u.jsx("span",{className:"font-bold text-xs text-gray-800 dark:text-slate-200",children:"Stretch ()"}),u.jsx("span",{className:"text-[9px] text-gray-500 dark:text-slate-400 mt-0.5",children:"Map [0, White] to [0, 65535]"})]}),u.jsx("div",{onClick:()=>Tr(!mt),className:`relative w-12 h-6 rounded-full transition-colors cursor-pointer ${mt?"bg-cyan-500":"bg-gray-300 dark:bg-slate-600"}`,children:u.jsx("div",{className:`absolute top-1 left-1 w-4 h-4 bg-white rounded-full shadow-sm transition-transform ${mt?"translate-x-6":""}`})})]}),u.jsxs("div",{className:"flex flex-col items-center gap-3",children:[u.jsxs("div",{className:"flex flex-col items-center text-center",children:[u.jsx("span",{className:"font-bold text-xs text-gray-800 dark:text-slate-200",children:"sRGB Gamma"}),u.jsx("span",{className:"text-[9px] text-gray-500 dark:text-slate-400 mt-0.5",children:"Apply non-linear contrast"})]}),u.jsx("div",{onClick:()=>ra(!At),className:`relative w-12 h-6 rounded-full transition-colors cursor-pointer ${At?"bg-purple-500":"bg-gray-300 dark:bg-slate-600"}`,children:u.jsx("div",{className:`absolute top-1 left-1 w-4 h-4 bg-white rounded-full shadow-sm transition-transform ${At?"translate-x-6":""}`})})]})]}),u.jsxs("div",{className:"p-3 rounded-lg bg-indigo-50 dark:bg-indigo-900/20 text-[11px] text-indigo-700 dark:text-indigo-300 italic border border-indigo-100 dark:border-indigo-800 text-center",children:[mt&&!At&&"Mode: Stretched Linear. Histogram preserved but range expanded.",!mt&&At&&"Mode: Native DN + sRGB. Best for analyzing raw distribution contrast.",mt&&At&&"Mode: Ready-to-Use. Conventional 16-bit development.",!mt&&!At&&"Mode: Native Linear. Pure physical sensor DN values."]})]})}),Oe.map(F=>{if(F.isMinimized)return null;const V=x.find(xe=>xe.id===F.sessionId),te=V==null?void 0:V.rawImageData;if(!te)return null;const re={key:F.id,isOpen:!0,onClose:()=>yu(F.id),onMinimize:()=>vu(F.id),rawImageData:te,roi:F.roi,isBGGR:F.isBGGR,zIndex:F.zIndex,onFocus:()=>D(F.id),initialPosition:F.initialPosition,initialInternalState:F.internalState,onUpdateState:xe=>q(F.id,xe),stackFiles:F.stackFiles};return F.type==="histogram"?u.jsx(oQ,{...re}):F.type==="fft"?u.jsx(cQ,{...re,onUpdateROI:xe=>E(F.id,xe)}):F.type==="quant"?u.jsx(uQ,{...re}):F.type==="pearson"?u.jsx(fQ,{...re}):null}),In&&u.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-white/90 dark:bg-slate-900/90 p-8",children:u.jsxs("div",{className:"max-w-md text-center p-6 bg-white dark:bg-slate-800 rounded-xl border border-red-500/50 shadow-xl",children:[u.jsx("h3",{className:"text-xl font-bold text-red-500 dark:text-red-400 mb-2",children:"Notice"}),u.jsx("p",{className:"text-gray-600 dark:text-slate-300 mb-6 whitespace-pre-wrap",children:In}),u.jsx("button",{onClick:()=>ze(null),className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 dark:bg-slate-700 dark:hover:bg-slate-600 rounded-lg text-gray-900 dark:text-white transition-colors",children:"Dismiss"})]})}),!Pe&&!Tt&&!In&&u.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-gray-400 dark:text-slate-600 select-none",children:u.jsx("p",{className:"text-lg",children:"Load an image or generate a pattern"})}),u.jsx(gM,{image:Pe,zoom:Ra,pan:co,onPanChange:hn,onZoomChange:ht,onSelectionChange:Ur,forcedSelection:fe,theme:o,touchAction:La,isMarking:ur>0,onPointClick:en,markers:Nr,gridRects:dn}),u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-1/2 z-30 pointer-events-none select-none opacity-20 mix-blend-normal dark:mix-blend-plus-lighter",children:u.jsx("svg",{viewBox:"0 0 500 60",className:"w-full h-auto drop-shadow-xl",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),P&&!ur&&u.jsxs("div",{className:"absolute bottom-4 left-4 z-30 pointer-events-none opacity-50 text-[10px] text-gray-500 dark:text-slate-400",children:["Hold ",u.jsx("b",{children:"Shift"})," + Drag to calculate Raw ROI stats"]}),u.jsx(OM,{zoom:Ra,onZoomChange:ht,onResetView:()=>{aa(1),hn({x:0,y:0})},touchAction:La,onToggleTouchAction:fr}),!ve&&u.jsx("button",{onClick:()=>W(!0),className:"absolute right-0 top-1/2 -translate-y-1/2 z-50 bg-white dark:bg-slate-900 border-y border-l border-gray-200 dark:border-slate-800 shadow-md p-1.5 rounded-l-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors animate-in fade-in slide-in-from-right-2",title:"Show Tools",children:u.jsx("svg",{className:"w-4 h-4 text-gray-500 dark:text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})})]}),u.jsxs("div",{className:`flex-shrink-0 flex flex-col bg-white dark:bg-slate-900 rounded-2xl border border-gray-200 dark:border-slate-800 shadow-xl overflow-hidden transition-all duration-300 ease-in-out ${ve?"w-80 translate-x-0 opacity-100 ml-0":"w-0 translate-x-20 opacity-0 p-0 border-0 pointer-events-none ml-0"}`,children:[u.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-gray-200 dark:border-slate-800 bg-gray-50/50 dark:bg-slate-800/50 flex-shrink-0",children:[u.jsx("h2",{className:"font-bold text-sm text-gray-700 dark:text-slate-300 uppercase tracking-wide flex items-center gap-2",children:u.jsx("span",{children:"Tools"})}),u.jsx("button",{onClick:()=>W(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-1 rounded hover:bg-gray-200 dark:hover:bg-slate-700",title:"Hide Tools",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),u.jsx("div",{className:"flex-1 overflow-hidden relative",children:u.jsx(yM,{rawImageData:P,displaySettings:I,onApplyDisplaySettings:qe,onSetSelection:lt,exifData:$,isBridgeConnected:p.isConnected,isDrLabOpen:yt,drMarkingStep:ur,onStartMarking:xu,onGenerateTestPic:()=>jt(!0),drRoiSize:Wt,onDrRoiSizeChange:rr,drGridRows:Ot,onDrGridRowsChange:ne,drGridCols:_e,onDrGridColsChange:Re,onBatchDrLab:Xh,hasDrMarkers:dn.length>0||Nr.length===4,isFftLabOpen:tr,onProcessPair:Ye,onProcessBatchDiff:Ge,onProcessStackFft:Et,onOpenCrossCalc:()=>h(!0),isThreePlane:P==null?void 0:P.isThreePlane})})]})]}),yr&&u.jsxs("div",{className:"fixed inset-0 z-[200] bg-black overflow-hidden",children:[u.jsx("div",{onMouseDown:pn,style:{transform:`translate(${Xe.x}px, ${Xe.y}px)`,cursor:vt?"grabbing":"grab",opacity:ft,transition:"opacity 0.1s linear"},className:"w-full h-full flex items-center justify-center",children:u.jsx("img",{src:"/drtest.png",alt:"DR Test",className:"max-w-full max-h-full object-contain pointer-none select-none",draggable:!1})}),u.jsxs("div",{className:"absolute top-4 right-4 flex flex-col items-end gap-2 pointer-events-none z-[201]",children:[u.jsx("div",{className:"text-white/50 text-sm bg-black/50 px-3 py-1 rounded backdrop-blur-sm",children:"Press ESC to exit | Drag to move"}),u.jsx("div",{className:"text-white/20 text-xs px-2 select-none",children:"F11 full screen"}),u.jsx("div",{className:"text-red-900/80 text-lg px-2 select-none font-bold mt-4",children:""}),u.jsx("div",{className:"text-red-900/60 text-xs px-2 select-none",children:"Shoot slightly out of focus"})]}),u.jsxs("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 bg-black/60 backdrop-blur-md p-4 rounded-xl border border-gray-700 flex flex-col gap-3 items-center z-[202]",children:[u.jsx("button",{onClick:()=>Jr(!qt),className:`px-4 py-2 rounded-lg font-bold text-sm transition-colors ${qt?"bg-amber-500 text-black hover:bg-amber-400":"bg-gray-700 text-white hover:bg-gray-600"}`,children:qt?"Stop Breathing":"Start Breathing"}),qt&&u.jsxs("div",{className:"flex items-center gap-3 w-64 animate-in fade-in",children:[u.jsx("span",{className:"text-xs text-gray-400 font-bold uppercase",children:"Speed"}),u.jsx("input",{type:"range",min:"0.5",max:"10",step:"0.5",value:Ct,onChange:F=>un(parseFloat(F.target.value)),className:"flex-1 h-1.5 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-amber-500"}),u.jsx("span",{className:"text-xs text-amber-500 w-8 text-right",children:Ct.toFixed(1)})]})]})]}),u.jsx(_M,{theme:o,setTheme:i})]})},IP=document.getElementById("root");if(!IP)throw new Error("Could not find root element to mount to");const DQ=s0.createRoot(IP);DQ.render(u.jsx(M.StrictMode,{children:u.jsx($Q,{})}));export{VZ as _};
