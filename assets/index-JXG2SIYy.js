var AP=Object.defineProperty;var CP=(e,t,r)=>t in e?AP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var _n=(e,t,r)=>CP(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var Ku=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ft(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var wk={exports:{}},yh={},kk={exports:{}},nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pu=Symbol.for("react.element"),TP=Symbol.for("react.portal"),EP=Symbol.for("react.fragment"),$P=Symbol.for("react.strict_mode"),RP=Symbol.for("react.profiler"),DP=Symbol.for("react.provider"),LP=Symbol.for("react.context"),IP=Symbol.for("react.forward_ref"),BP=Symbol.for("react.suspense"),FP=Symbol.for("react.memo"),zP=Symbol.for("react.lazy"),cx=Symbol.iterator;function UP(e){return e===null||typeof e!="object"?null:(e=cx&&e[cx]||e["@@iterator"],typeof e=="function"?e:null)}var jk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Sk=Object.assign,_k={};function bl(e,t,r){this.props=e,this.context=t,this.refs=_k,this.updater=r||jk}bl.prototype.isReactComponent={};bl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};bl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Nk(){}Nk.prototype=bl.prototype;function ay(e,t,r){this.props=e,this.context=t,this.refs=_k,this.updater=r||jk}var oy=ay.prototype=new Nk;oy.constructor=ay;Sk(oy,bl.prototype);oy.isPureReactComponent=!0;var ux=Array.isArray,Ok=Object.prototype.hasOwnProperty,iy={current:null},Pk={key:!0,ref:!0,__self:!0,__source:!0};function Mk(e,t,r){var n,a={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)Ok.call(t,n)&&!Pk.hasOwnProperty(n)&&(a[n]=t[n]);var s=arguments.length-2;if(s===1)a.children=r;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];a.children=l}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)a[n]===void 0&&(a[n]=s[n]);return{$$typeof:Pu,type:e,key:o,ref:i,props:a,_owner:iy.current}}function GP(e,t){return{$$typeof:Pu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function sy(e){return typeof e=="object"&&e!==null&&e.$$typeof===Pu}function WP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var fx=/\/+/g;function P0(e,t){return typeof e=="object"&&e!==null&&e.key!=null?WP(""+e.key):t.toString(36)}function Mf(e,t,r,n,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Pu:case TP:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+P0(i,0):n,ux(a)?(r="",e!=null&&(r=e.replace(fx,"$&/")+"/"),Mf(a,t,r,"",function(u){return u})):a!=null&&(sy(a)&&(a=GP(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(fx,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",ux(e))for(var s=0;s<e.length;s++){o=e[s];var l=n+P0(o,s);i+=Mf(o,t,r,l,a)}else if(l=UP(e),typeof l=="function")for(e=l.call(e),s=0;!(o=e.next()).done;)o=o.value,l=n+P0(o,s++),i+=Mf(o,t,r,l,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Yu(e,t,r){if(e==null)return e;var n=[],a=0;return Mf(e,n,"","",function(o){return t.call(r,o,a++)}),n}function HP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var An={current:null},Af={transition:null},VP={ReactCurrentDispatcher:An,ReactCurrentBatchConfig:Af,ReactCurrentOwner:iy};function Ak(){throw Error("act(...) is not supported in production builds of React.")}nt.Children={map:Yu,forEach:function(e,t,r){Yu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Yu(e,function(){t++}),t},toArray:function(e){return Yu(e,function(t){return t})||[]},only:function(e){if(!sy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};nt.Component=bl;nt.Fragment=EP;nt.Profiler=RP;nt.PureComponent=ay;nt.StrictMode=$P;nt.Suspense=BP;nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VP;nt.act=Ak;nt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Sk({},e.props),a=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=iy.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)Ok.call(t,l)&&!Pk.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];n.children=s}return{$$typeof:Pu,type:e.type,key:a,ref:o,props:n,_owner:i}};nt.createContext=function(e){return e={$$typeof:LP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:DP,_context:e},e.Consumer=e};nt.createElement=Mk;nt.createFactory=function(e){var t=Mk.bind(null,e);return t.type=e,t};nt.createRef=function(){return{current:null}};nt.forwardRef=function(e){return{$$typeof:IP,render:e}};nt.isValidElement=sy;nt.lazy=function(e){return{$$typeof:zP,_payload:{_status:-1,_result:e},_init:HP}};nt.memo=function(e,t){return{$$typeof:FP,type:e,compare:t===void 0?null:t}};nt.startTransition=function(e){var t=Af.transition;Af.transition={};try{e()}finally{Af.transition=t}};nt.unstable_act=Ak;nt.useCallback=function(e,t){return An.current.useCallback(e,t)};nt.useContext=function(e){return An.current.useContext(e)};nt.useDebugValue=function(){};nt.useDeferredValue=function(e){return An.current.useDeferredValue(e)};nt.useEffect=function(e,t){return An.current.useEffect(e,t)};nt.useId=function(){return An.current.useId()};nt.useImperativeHandle=function(e,t,r){return An.current.useImperativeHandle(e,t,r)};nt.useInsertionEffect=function(e,t){return An.current.useInsertionEffect(e,t)};nt.useLayoutEffect=function(e,t){return An.current.useLayoutEffect(e,t)};nt.useMemo=function(e,t){return An.current.useMemo(e,t)};nt.useReducer=function(e,t,r){return An.current.useReducer(e,t,r)};nt.useRef=function(e){return An.current.useRef(e)};nt.useState=function(e){return An.current.useState(e)};nt.useSyncExternalStore=function(e,t,r){return An.current.useSyncExternalStore(e,t,r)};nt.useTransition=function(){return An.current.useTransition()};nt.version="18.3.1";kk.exports=nt;var S=kk.exports;const F=Ft(S);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XP=S,KP=Symbol.for("react.element"),YP=Symbol.for("react.fragment"),qP=Object.prototype.hasOwnProperty,ZP=XP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,QP={key:!0,ref:!0,__self:!0,__source:!0};function Ck(e,t,r){var n,a={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)qP.call(t,n)&&!QP.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:KP,type:e,key:o,ref:i,props:a,_owner:ZP.current}}yh.Fragment=YP;yh.jsx=Ck;yh.jsxs=Ck;wk.exports=yh;var c=wk.exports,Ep={},Tk={exports:{}},ea={},Ek={exports:{}},$k={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,B){var z=E.length;E.push(B);e:for(;0<z;){var te=z-1>>>1,Q=E[te];if(0<a(Q,B))E[te]=B,E[z]=Q,z=te;else break e}}function r(E){return E.length===0?null:E[0]}function n(E){if(E.length===0)return null;var B=E[0],z=E.pop();if(z!==B){E[0]=z;e:for(var te=0,Q=E.length,R=Q>>>1;te<R;){var J=2*(te+1)-1,q=E[J],$=J+1,ne=E[$];if(0>a(q,z))$<Q&&0>a(ne,q)?(E[te]=ne,E[$]=z,te=$):(E[te]=q,E[J]=z,te=J);else if($<Q&&0>a(ne,z))E[te]=ne,E[$]=z,te=$;else break e}}return B}function a(E,B){var z=E.sortIndex-B.sortIndex;return z!==0?z:E.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,s=i.now();e.unstable_now=function(){return i.now()-s}}var l=[],u=[],d=1,f=null,h=3,p=!1,m=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(E){for(var B=r(u);B!==null;){if(B.callback===null)n(u);else if(B.startTime<=E)n(u),B.sortIndex=B.expirationTime,t(l,B);else break;B=r(u)}}function j(E){if(x=!1,v(E),!m)if(r(l)!==null)m=!0,U(b);else{var B=r(u);B!==null&&P(j,B.startTime-E)}}function b(E,B){m=!1,x&&(x=!1,y(_),_=-1),p=!0;var z=h;try{for(v(B),f=r(l);f!==null&&(!(f.expirationTime>B)||E&&!T());){var te=f.callback;if(typeof te=="function"){f.callback=null,h=f.priorityLevel;var Q=te(f.expirationTime<=B);B=e.unstable_now(),typeof Q=="function"?f.callback=Q:f===r(l)&&n(l),v(B)}else n(l);f=r(l)}if(f!==null)var R=!0;else{var J=r(u);J!==null&&P(j,J.startTime-B),R=!1}return R}finally{f=null,h=z,p=!1}}var k=!1,N=null,_=-1,O=5,A=-1;function T(){return!(e.unstable_now()-A<O)}function M(){if(N!==null){var E=e.unstable_now();A=E;var B=!0;try{B=N(!0,E)}finally{B?C():(k=!1,N=null)}}else k=!1}var C;if(typeof g=="function")C=function(){g(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,D=I.port2;I.port1.onmessage=M,C=function(){D.postMessage(null)}}else C=function(){w(M,0)};function U(E){N=E,k||(k=!0,C())}function P(E,B){_=w(function(){E(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,U(b))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(E){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var z=h;h=B;try{return E()}finally{h=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,B){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var z=h;h=E;try{return B()}finally{h=z}},e.unstable_scheduleCallback=function(E,B,z){var te=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?te+z:te):z=te,E){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=z+Q,E={id:d++,callback:B,priorityLevel:E,startTime:z,expirationTime:Q,sortIndex:-1},z>te?(E.sortIndex=z,t(u,E),r(l)===null&&E===r(u)&&(x?(y(_),_=-1):x=!0,P(j,z-te))):(E.sortIndex=Q,t(l,E),m||p||(m=!0,U(b))),E},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(E){var B=h;return function(){var z=h;h=B;try{return E.apply(this,arguments)}finally{h=z}}}})($k);Ek.exports=$k;var JP=Ek.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eM=S,Jn=JP;function le(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Rk=new Set,Pc={};function es(e,t){zs(e,t),zs(e+"Capture",t)}function zs(e,t){for(Pc[e]=t,e=0;e<t.length;e++)Rk.add(t[e])}var bo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$p=Object.prototype.hasOwnProperty,tM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dx={},hx={};function rM(e){return $p.call(hx,e)?!0:$p.call(dx,e)?!1:tM.test(e)?hx[e]=!0:(dx[e]=!0,!1)}function nM(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function aM(e,t,r,n){if(t===null||typeof t>"u"||nM(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Cn(e,t,r,n,a,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var on={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){on[e]=new Cn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];on[t]=new Cn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){on[e]=new Cn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){on[e]=new Cn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){on[e]=new Cn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){on[e]=new Cn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){on[e]=new Cn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){on[e]=new Cn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){on[e]=new Cn(e,5,!1,e.toLowerCase(),null,!1,!1)});var ly=/[\-:]([a-z])/g;function cy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ly,cy);on[t]=new Cn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ly,cy);on[t]=new Cn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ly,cy);on[t]=new Cn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){on[e]=new Cn(e,1,!1,e.toLowerCase(),null,!1,!1)});on.xlinkHref=new Cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){on[e]=new Cn(e,1,!1,e.toLowerCase(),null,!0,!0)});function uy(e,t,r,n){var a=on.hasOwnProperty(t)?on[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(aM(t,r,a,n)&&(r=null),n||a===null?rM(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Oo=eM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qu=Symbol.for("react.element"),ms=Symbol.for("react.portal"),ys=Symbol.for("react.fragment"),fy=Symbol.for("react.strict_mode"),Rp=Symbol.for("react.profiler"),Dk=Symbol.for("react.provider"),Lk=Symbol.for("react.context"),dy=Symbol.for("react.forward_ref"),Dp=Symbol.for("react.suspense"),Lp=Symbol.for("react.suspense_list"),hy=Symbol.for("react.memo"),Io=Symbol.for("react.lazy"),Ik=Symbol.for("react.offscreen"),px=Symbol.iterator;function zl(e){return e===null||typeof e!="object"?null:(e=px&&e[px]||e["@@iterator"],typeof e=="function"?e:null)}var fr=Object.assign,M0;function oc(e){if(M0===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);M0=t&&t[1]||""}return`
`+M0+e}var A0=!1;function C0(e,t){if(!e||A0)return"";A0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),o=n.stack.split(`
`),i=a.length-1,s=o.length-1;1<=i&&0<=s&&a[i]!==o[s];)s--;for(;1<=i&&0<=s;i--,s--)if(a[i]!==o[s]){if(i!==1||s!==1)do if(i--,s--,0>s||a[i]!==o[s]){var l=`
`+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=s);break}}}finally{A0=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?oc(e):""}function oM(e){switch(e.tag){case 5:return oc(e.type);case 16:return oc("Lazy");case 13:return oc("Suspense");case 19:return oc("SuspenseList");case 0:case 2:case 15:return e=C0(e.type,!1),e;case 11:return e=C0(e.type.render,!1),e;case 1:return e=C0(e.type,!0),e;default:return""}}function Ip(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ys:return"Fragment";case ms:return"Portal";case Rp:return"Profiler";case fy:return"StrictMode";case Dp:return"Suspense";case Lp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Lk:return(e.displayName||"Context")+".Consumer";case Dk:return(e._context.displayName||"Context")+".Provider";case dy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case hy:return t=e.displayName||null,t!==null?t:Ip(e.type)||"Memo";case Io:t=e._payload,e=e._init;try{return Ip(e(t))}catch{}}return null}function iM(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ip(t);case 8:return t===fy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ii(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Bk(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function sM(e){var t=Bk(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Zu(e){e._valueTracker||(e._valueTracker=sM(e))}function Fk(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Bk(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Uf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Bp(e,t){var r=t.checked;return fr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function gx(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ii(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function zk(e,t){t=t.checked,t!=null&&uy(e,"checked",t,!1)}function Fp(e,t){zk(e,t);var r=ii(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?zp(e,t.type,r):t.hasOwnProperty("defaultValue")&&zp(e,t.type,ii(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function mx(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function zp(e,t,r){(t!=="number"||Uf(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ic=Array.isArray;function Cs(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ii(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Up(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(le(91));return fr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function yx(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(le(92));if(ic(r)){if(1<r.length)throw Error(le(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ii(r)}}function Uk(e,t){var r=ii(t.value),n=ii(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function vx(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Gk(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Gk(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qu,Wk=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qu=Qu||document.createElement("div"),Qu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Mc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var fc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lM=["Webkit","ms","Moz","O"];Object.keys(fc).forEach(function(e){lM.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fc[t]=fc[e]})});function Hk(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||fc.hasOwnProperty(e)&&fc[e]?(""+t).trim():t+"px"}function Vk(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=Hk(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var cM=fr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wp(e,t){if(t){if(cM[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(le(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(le(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(le(61))}if(t.style!=null&&typeof t.style!="object")throw Error(le(62))}}function Hp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vp=null;function py(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xp=null,Ts=null,Es=null;function xx(e){if(e=Cu(e)){if(typeof Xp!="function")throw Error(le(280));var t=e.stateNode;t&&(t=kh(t),Xp(e.stateNode,e.type,t))}}function Xk(e){Ts?Es?Es.push(e):Es=[e]:Ts=e}function Kk(){if(Ts){var e=Ts,t=Es;if(Es=Ts=null,xx(e),t)for(e=0;e<t.length;e++)xx(t[e])}}function Yk(e,t){return e(t)}function qk(){}var T0=!1;function Zk(e,t,r){if(T0)return e(t,r);T0=!0;try{return Yk(e,t,r)}finally{T0=!1,(Ts!==null||Es!==null)&&(qk(),Kk())}}function Ac(e,t){var r=e.stateNode;if(r===null)return null;var n=kh(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(le(231,t,typeof r));return r}var Kp=!1;if(bo)try{var Ul={};Object.defineProperty(Ul,"passive",{get:function(){Kp=!0}}),window.addEventListener("test",Ul,Ul),window.removeEventListener("test",Ul,Ul)}catch{Kp=!1}function uM(e,t,r,n,a,o,i,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var dc=!1,Gf=null,Wf=!1,Yp=null,fM={onError:function(e){dc=!0,Gf=e}};function dM(e,t,r,n,a,o,i,s,l){dc=!1,Gf=null,uM.apply(fM,arguments)}function hM(e,t,r,n,a,o,i,s,l){if(dM.apply(this,arguments),dc){if(dc){var u=Gf;dc=!1,Gf=null}else throw Error(le(198));Wf||(Wf=!0,Yp=u)}}function ts(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Qk(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function bx(e){if(ts(e)!==e)throw Error(le(188))}function pM(e){var t=e.alternate;if(!t){if(t=ts(e),t===null)throw Error(le(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var o=a.alternate;if(o===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return bx(a),e;if(o===n)return bx(a),t;o=o.sibling}throw Error(le(188))}if(r.return!==n.return)r=a,n=o;else{for(var i=!1,s=a.child;s;){if(s===r){i=!0,r=a,n=o;break}if(s===n){i=!0,n=a,r=o;break}s=s.sibling}if(!i){for(s=o.child;s;){if(s===r){i=!0,r=o,n=a;break}if(s===n){i=!0,n=o,r=a;break}s=s.sibling}if(!i)throw Error(le(189))}}if(r.alternate!==n)throw Error(le(190))}if(r.tag!==3)throw Error(le(188));return r.stateNode.current===r?e:t}function Jk(e){return e=pM(e),e!==null?ej(e):null}function ej(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ej(e);if(t!==null)return t;e=e.sibling}return null}var tj=Jn.unstable_scheduleCallback,wx=Jn.unstable_cancelCallback,gM=Jn.unstable_shouldYield,mM=Jn.unstable_requestPaint,wr=Jn.unstable_now,yM=Jn.unstable_getCurrentPriorityLevel,gy=Jn.unstable_ImmediatePriority,rj=Jn.unstable_UserBlockingPriority,Hf=Jn.unstable_NormalPriority,vM=Jn.unstable_LowPriority,nj=Jn.unstable_IdlePriority,vh=null,Va=null;function xM(e){if(Va&&typeof Va.onCommitFiberRoot=="function")try{Va.onCommitFiberRoot(vh,e,void 0,(e.current.flags&128)===128)}catch{}}var Ta=Math.clz32?Math.clz32:kM,bM=Math.log,wM=Math.LN2;function kM(e){return e>>>=0,e===0?32:31-(bM(e)/wM|0)|0}var Ju=64,ef=4194304;function sc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Vf(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var s=i&~a;s!==0?n=sc(s):(o&=i,o!==0&&(n=sc(o)))}else i=r&~a,i!==0?n=sc(i):o!==0&&(n=sc(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ta(t),a=1<<r,n|=e[r],t&=~a;return n}function jM(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function SM(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Ta(o),s=1<<i,l=a[i];l===-1?(!(s&r)||s&n)&&(a[i]=jM(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}function qp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function aj(){var e=Ju;return Ju<<=1,!(Ju&4194240)&&(Ju=64),e}function E0(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Mu(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ta(t),e[t]=r}function _M(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Ta(r),o=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~o}}function my(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ta(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Mt=0;function oj(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ij,yy,sj,lj,cj,Zp=!1,tf=[],qo=null,Zo=null,Qo=null,Cc=new Map,Tc=new Map,zo=[],NM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kx(e,t){switch(e){case"focusin":case"focusout":qo=null;break;case"dragenter":case"dragleave":Zo=null;break;case"mouseover":case"mouseout":Qo=null;break;case"pointerover":case"pointerout":Cc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tc.delete(t.pointerId)}}function Gl(e,t,r,n,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[a]},t!==null&&(t=Cu(t),t!==null&&yy(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function OM(e,t,r,n,a){switch(t){case"focusin":return qo=Gl(qo,e,t,r,n,a),!0;case"dragenter":return Zo=Gl(Zo,e,t,r,n,a),!0;case"mouseover":return Qo=Gl(Qo,e,t,r,n,a),!0;case"pointerover":var o=a.pointerId;return Cc.set(o,Gl(Cc.get(o)||null,e,t,r,n,a)),!0;case"gotpointercapture":return o=a.pointerId,Tc.set(o,Gl(Tc.get(o)||null,e,t,r,n,a)),!0}return!1}function uj(e){var t=Mi(e.target);if(t!==null){var r=ts(t);if(r!==null){if(t=r.tag,t===13){if(t=Qk(r),t!==null){e.blockedOn=t,cj(e.priority,function(){sj(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Qp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Vp=n,r.target.dispatchEvent(n),Vp=null}else return t=Cu(r),t!==null&&yy(t),e.blockedOn=r,!1;t.shift()}return!0}function jx(e,t,r){Cf(e)&&r.delete(t)}function PM(){Zp=!1,qo!==null&&Cf(qo)&&(qo=null),Zo!==null&&Cf(Zo)&&(Zo=null),Qo!==null&&Cf(Qo)&&(Qo=null),Cc.forEach(jx),Tc.forEach(jx)}function Wl(e,t){e.blockedOn===t&&(e.blockedOn=null,Zp||(Zp=!0,Jn.unstable_scheduleCallback(Jn.unstable_NormalPriority,PM)))}function Ec(e){function t(a){return Wl(a,e)}if(0<tf.length){Wl(tf[0],e);for(var r=1;r<tf.length;r++){var n=tf[r];n.blockedOn===e&&(n.blockedOn=null)}}for(qo!==null&&Wl(qo,e),Zo!==null&&Wl(Zo,e),Qo!==null&&Wl(Qo,e),Cc.forEach(t),Tc.forEach(t),r=0;r<zo.length;r++)n=zo[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<zo.length&&(r=zo[0],r.blockedOn===null);)uj(r),r.blockedOn===null&&zo.shift()}var $s=Oo.ReactCurrentBatchConfig,Xf=!0;function MM(e,t,r,n){var a=Mt,o=$s.transition;$s.transition=null;try{Mt=1,vy(e,t,r,n)}finally{Mt=a,$s.transition=o}}function AM(e,t,r,n){var a=Mt,o=$s.transition;$s.transition=null;try{Mt=4,vy(e,t,r,n)}finally{Mt=a,$s.transition=o}}function vy(e,t,r,n){if(Xf){var a=Qp(e,t,r,n);if(a===null)G0(e,t,n,Kf,r),kx(e,n);else if(OM(a,e,t,r,n))n.stopPropagation();else if(kx(e,n),t&4&&-1<NM.indexOf(e)){for(;a!==null;){var o=Cu(a);if(o!==null&&ij(o),o=Qp(e,t,r,n),o===null&&G0(e,t,n,Kf,r),o===a)break;a=o}a!==null&&n.stopPropagation()}else G0(e,t,n,null,r)}}var Kf=null;function Qp(e,t,r,n){if(Kf=null,e=py(n),e=Mi(e),e!==null)if(t=ts(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Qk(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kf=e,null}function fj(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yM()){case gy:return 1;case rj:return 4;case Hf:case vM:return 16;case nj:return 536870912;default:return 16}default:return 16}}var Wo=null,xy=null,Tf=null;function dj(){if(Tf)return Tf;var e,t=xy,r=t.length,n,a="value"in Wo?Wo.value:Wo.textContent,o=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[o-n];n++);return Tf=a.slice(e,1<n?1-n:void 0)}function Ef(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function rf(){return!0}function Sx(){return!1}function ta(e){function t(r,n,a,o,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?rf:Sx,this.isPropagationStopped=Sx,this}return fr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=rf)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=rf)},persist:function(){},isPersistent:rf}),t}var wl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},by=ta(wl),Au=fr({},wl,{view:0,detail:0}),CM=ta(Au),$0,R0,Hl,xh=fr({},Au,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hl&&(Hl&&e.type==="mousemove"?($0=e.screenX-Hl.screenX,R0=e.screenY-Hl.screenY):R0=$0=0,Hl=e),$0)},movementY:function(e){return"movementY"in e?e.movementY:R0}}),_x=ta(xh),TM=fr({},xh,{dataTransfer:0}),EM=ta(TM),$M=fr({},Au,{relatedTarget:0}),D0=ta($M),RM=fr({},wl,{animationName:0,elapsedTime:0,pseudoElement:0}),DM=ta(RM),LM=fr({},wl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),IM=ta(LM),BM=fr({},wl,{data:0}),Nx=ta(BM),FM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GM(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=UM[e])?!!t[e]:!1}function wy(){return GM}var WM=fr({},Au,{key:function(e){if(e.key){var t=FM[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ef(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zM[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wy,charCode:function(e){return e.type==="keypress"?Ef(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ef(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),HM=ta(WM),VM=fr({},xh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ox=ta(VM),XM=fr({},Au,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wy}),KM=ta(XM),YM=fr({},wl,{propertyName:0,elapsedTime:0,pseudoElement:0}),qM=ta(YM),ZM=fr({},xh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),QM=ta(ZM),JM=[9,13,27,32],ky=bo&&"CompositionEvent"in window,hc=null;bo&&"documentMode"in document&&(hc=document.documentMode);var eA=bo&&"TextEvent"in window&&!hc,hj=bo&&(!ky||hc&&8<hc&&11>=hc),Px=" ",Mx=!1;function pj(e,t){switch(e){case"keyup":return JM.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gj(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vs=!1;function tA(e,t){switch(e){case"compositionend":return gj(t);case"keypress":return t.which!==32?null:(Mx=!0,Px);case"textInput":return e=t.data,e===Px&&Mx?null:e;default:return null}}function rA(e,t){if(vs)return e==="compositionend"||!ky&&pj(e,t)?(e=dj(),Tf=xy=Wo=null,vs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return hj&&t.locale!=="ko"?null:t.data;default:return null}}var nA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ax(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!nA[e.type]:t==="textarea"}function mj(e,t,r,n){Xk(n),t=Yf(t,"onChange"),0<t.length&&(r=new by("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var pc=null,$c=null;function aA(e){Oj(e,0)}function bh(e){var t=ws(e);if(Fk(t))return e}function oA(e,t){if(e==="change")return t}var yj=!1;if(bo){var L0;if(bo){var I0="oninput"in document;if(!I0){var Cx=document.createElement("div");Cx.setAttribute("oninput","return;"),I0=typeof Cx.oninput=="function"}L0=I0}else L0=!1;yj=L0&&(!document.documentMode||9<document.documentMode)}function Tx(){pc&&(pc.detachEvent("onpropertychange",vj),$c=pc=null)}function vj(e){if(e.propertyName==="value"&&bh($c)){var t=[];mj(t,$c,e,py(e)),Zk(aA,t)}}function iA(e,t,r){e==="focusin"?(Tx(),pc=t,$c=r,pc.attachEvent("onpropertychange",vj)):e==="focusout"&&Tx()}function sA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bh($c)}function lA(e,t){if(e==="click")return bh(t)}function cA(e,t){if(e==="input"||e==="change")return bh(t)}function uA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $a=typeof Object.is=="function"?Object.is:uA;function Rc(e,t){if($a(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!$p.call(t,a)||!$a(e[a],t[a]))return!1}return!0}function Ex(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $x(e,t){var r=Ex(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ex(r)}}function xj(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?xj(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bj(){for(var e=window,t=Uf();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Uf(e.document)}return t}function jy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function fA(e){var t=bj(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&xj(r.ownerDocument.documentElement,r)){if(n!==null&&jy(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,o=Math.min(n.start,a);n=n.end===void 0?o:Math.min(n.end,a),!e.extend&&o>n&&(a=n,n=o,o=a),a=$x(r,o);var i=$x(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dA=bo&&"documentMode"in document&&11>=document.documentMode,xs=null,Jp=null,gc=null,eg=!1;function Rx(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;eg||xs==null||xs!==Uf(n)||(n=xs,"selectionStart"in n&&jy(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),gc&&Rc(gc,n)||(gc=n,n=Yf(Jp,"onSelect"),0<n.length&&(t=new by("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=xs)))}function nf(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var bs={animationend:nf("Animation","AnimationEnd"),animationiteration:nf("Animation","AnimationIteration"),animationstart:nf("Animation","AnimationStart"),transitionend:nf("Transition","TransitionEnd")},B0={},wj={};bo&&(wj=document.createElement("div").style,"AnimationEvent"in window||(delete bs.animationend.animation,delete bs.animationiteration.animation,delete bs.animationstart.animation),"TransitionEvent"in window||delete bs.transitionend.transition);function wh(e){if(B0[e])return B0[e];if(!bs[e])return e;var t=bs[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in wj)return B0[e]=t[r];return e}var kj=wh("animationend"),jj=wh("animationiteration"),Sj=wh("animationstart"),_j=wh("transitionend"),Nj=new Map,Dx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function li(e,t){Nj.set(e,t),es(t,[e])}for(var F0=0;F0<Dx.length;F0++){var z0=Dx[F0],hA=z0.toLowerCase(),pA=z0[0].toUpperCase()+z0.slice(1);li(hA,"on"+pA)}li(kj,"onAnimationEnd");li(jj,"onAnimationIteration");li(Sj,"onAnimationStart");li("dblclick","onDoubleClick");li("focusin","onFocus");li("focusout","onBlur");li(_j,"onTransitionEnd");zs("onMouseEnter",["mouseout","mouseover"]);zs("onMouseLeave",["mouseout","mouseover"]);zs("onPointerEnter",["pointerout","pointerover"]);zs("onPointerLeave",["pointerout","pointerover"]);es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));es("onBeforeInput",["compositionend","keypress","textInput","paste"]);es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gA=new Set("cancel close invalid load scroll toggle".split(" ").concat(lc));function Lx(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,hM(n,t,void 0,e),e.currentTarget=null}function Oj(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var s=n[i],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&a.isPropagationStopped())break e;Lx(a,s,u),o=l}else for(i=0;i<n.length;i++){if(s=n[i],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&a.isPropagationStopped())break e;Lx(a,s,u),o=l}}}if(Wf)throw e=Yp,Wf=!1,Yp=null,e}function Xt(e,t){var r=t[og];r===void 0&&(r=t[og]=new Set);var n=e+"__bubble";r.has(n)||(Pj(t,e,2,!1),r.add(n))}function U0(e,t,r){var n=0;t&&(n|=4),Pj(r,e,n,t)}var af="_reactListening"+Math.random().toString(36).slice(2);function Dc(e){if(!e[af]){e[af]=!0,Rk.forEach(function(r){r!=="selectionchange"&&(gA.has(r)||U0(r,!1,e),U0(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[af]||(t[af]=!0,U0("selectionchange",!1,t))}}function Pj(e,t,r,n){switch(fj(t)){case 1:var a=MM;break;case 4:a=AM;break;default:a=vy}r=a.bind(null,t,r,e),a=void 0,!Kp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function G0(e,t,r,n,a){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var s=n.stateNode.containerInfo;if(s===a||s.nodeType===8&&s.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;i=i.return}for(;s!==null;){if(i=Mi(s),i===null)return;if(l=i.tag,l===5||l===6){n=o=i;continue e}s=s.parentNode}}n=n.return}Zk(function(){var u=o,d=py(r),f=[];e:{var h=Nj.get(e);if(h!==void 0){var p=by,m=e;switch(e){case"keypress":if(Ef(r)===0)break e;case"keydown":case"keyup":p=HM;break;case"focusin":m="focus",p=D0;break;case"focusout":m="blur",p=D0;break;case"beforeblur":case"afterblur":p=D0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=_x;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=EM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=KM;break;case kj:case jj:case Sj:p=DM;break;case _j:p=qM;break;case"scroll":p=CM;break;case"wheel":p=QM;break;case"copy":case"cut":case"paste":p=IM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Ox}var x=(t&4)!==0,w=!x&&e==="scroll",y=x?h!==null?h+"Capture":null:h;x=[];for(var g=u,v;g!==null;){v=g;var j=v.stateNode;if(v.tag===5&&j!==null&&(v=j,y!==null&&(j=Ac(g,y),j!=null&&x.push(Lc(g,j,v)))),w)break;g=g.return}0<x.length&&(h=new p(h,m,null,r,d),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==Vp&&(m=r.relatedTarget||r.fromElement)&&(Mi(m)||m[wo]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=u,m=m?Mi(m):null,m!==null&&(w=ts(m),m!==w||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(x=_x,j="onMouseLeave",y="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(x=Ox,j="onPointerLeave",y="onPointerEnter",g="pointer"),w=p==null?h:ws(p),v=m==null?h:ws(m),h=new x(j,g+"leave",p,r,d),h.target=w,h.relatedTarget=v,j=null,Mi(d)===u&&(x=new x(y,g+"enter",m,r,d),x.target=v,x.relatedTarget=w,j=x),w=j,p&&m)t:{for(x=p,y=m,g=0,v=x;v;v=us(v))g++;for(v=0,j=y;j;j=us(j))v++;for(;0<g-v;)x=us(x),g--;for(;0<v-g;)y=us(y),v--;for(;g--;){if(x===y||y!==null&&x===y.alternate)break t;x=us(x),y=us(y)}x=null}else x=null;p!==null&&Ix(f,h,p,x,!1),m!==null&&w!==null&&Ix(f,w,m,x,!0)}}e:{if(h=u?ws(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var b=oA;else if(Ax(h))if(yj)b=cA;else{b=sA;var k=iA}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=lA);if(b&&(b=b(e,u))){mj(f,b,r,d);break e}k&&k(e,h,u),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&zp(h,"number",h.value)}switch(k=u?ws(u):window,e){case"focusin":(Ax(k)||k.contentEditable==="true")&&(xs=k,Jp=u,gc=null);break;case"focusout":gc=Jp=xs=null;break;case"mousedown":eg=!0;break;case"contextmenu":case"mouseup":case"dragend":eg=!1,Rx(f,r,d);break;case"selectionchange":if(dA)break;case"keydown":case"keyup":Rx(f,r,d)}var N;if(ky)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else vs?pj(e,r)&&(_="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(hj&&r.locale!=="ko"&&(vs||_!=="onCompositionStart"?_==="onCompositionEnd"&&vs&&(N=dj()):(Wo=d,xy="value"in Wo?Wo.value:Wo.textContent,vs=!0)),k=Yf(u,_),0<k.length&&(_=new Nx(_,e,null,r,d),f.push({event:_,listeners:k}),N?_.data=N:(N=gj(r),N!==null&&(_.data=N)))),(N=eA?tA(e,r):rA(e,r))&&(u=Yf(u,"onBeforeInput"),0<u.length&&(d=new Nx("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=N))}Oj(f,t)})}function Lc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Yf(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=Ac(e,r),o!=null&&n.unshift(Lc(e,o,a)),o=Ac(e,t),o!=null&&n.push(Lc(e,o,a))),e=e.return}return n}function us(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ix(e,t,r,n,a){for(var o=t._reactName,i=[];r!==null&&r!==n;){var s=r,l=s.alternate,u=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&u!==null&&(s=u,a?(l=Ac(r,o),l!=null&&i.unshift(Lc(r,l,s))):a||(l=Ac(r,o),l!=null&&i.push(Lc(r,l,s)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var mA=/\r\n?/g,yA=/\u0000|\uFFFD/g;function Bx(e){return(typeof e=="string"?e:""+e).replace(mA,`
`).replace(yA,"")}function of(e,t,r){if(t=Bx(t),Bx(e)!==t&&r)throw Error(le(425))}function qf(){}var tg=null,rg=null;function ng(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ag=typeof setTimeout=="function"?setTimeout:void 0,vA=typeof clearTimeout=="function"?clearTimeout:void 0,Fx=typeof Promise=="function"?Promise:void 0,xA=typeof queueMicrotask=="function"?queueMicrotask:typeof Fx<"u"?function(e){return Fx.resolve(null).then(e).catch(bA)}:ag;function bA(e){setTimeout(function(){throw e})}function W0(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Ec(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Ec(t)}function Jo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function zx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var kl=Math.random().toString(36).slice(2),Ga="__reactFiber$"+kl,Ic="__reactProps$"+kl,wo="__reactContainer$"+kl,og="__reactEvents$"+kl,wA="__reactListeners$"+kl,kA="__reactHandles$"+kl;function Mi(e){var t=e[Ga];if(t)return t;for(var r=e.parentNode;r;){if(t=r[wo]||r[Ga]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=zx(e);e!==null;){if(r=e[Ga])return r;e=zx(e)}return t}e=r,r=e.parentNode}return null}function Cu(e){return e=e[Ga]||e[wo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ws(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(le(33))}function kh(e){return e[Ic]||null}var ig=[],ks=-1;function ci(e){return{current:e}}function qt(e){0>ks||(e.current=ig[ks],ig[ks]=null,ks--)}function Wt(e,t){ks++,ig[ks]=e.current,e.current=t}var si={},mn=ci(si),Ln=ci(!1),Ui=si;function Us(e,t){var r=e.type.contextTypes;if(!r)return si;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in r)a[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function In(e){return e=e.childContextTypes,e!=null}function Zf(){qt(Ln),qt(mn)}function Ux(e,t,r){if(mn.current!==si)throw Error(le(168));Wt(mn,t),Wt(Ln,r)}function Mj(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(le(108,iM(e)||"Unknown",a));return fr({},r,n)}function Qf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||si,Ui=mn.current,Wt(mn,e),Wt(Ln,Ln.current),!0}function Gx(e,t,r){var n=e.stateNode;if(!n)throw Error(le(169));r?(e=Mj(e,t,Ui),n.__reactInternalMemoizedMergedChildContext=e,qt(Ln),qt(mn),Wt(mn,e)):qt(Ln),Wt(Ln,r)}var lo=null,jh=!1,H0=!1;function Aj(e){lo===null?lo=[e]:lo.push(e)}function jA(e){jh=!0,Aj(e)}function ui(){if(!H0&&lo!==null){H0=!0;var e=0,t=Mt;try{var r=lo;for(Mt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}lo=null,jh=!1}catch(a){throw lo!==null&&(lo=lo.slice(e+1)),tj(gy,ui),a}finally{Mt=t,H0=!1}}return null}var js=[],Ss=0,Jf=null,ed=0,sa=[],la=0,Gi=null,co=1,uo="";function Si(e,t){js[Ss++]=ed,js[Ss++]=Jf,Jf=e,ed=t}function Cj(e,t,r){sa[la++]=co,sa[la++]=uo,sa[la++]=Gi,Gi=e;var n=co;e=uo;var a=32-Ta(n)-1;n&=~(1<<a),r+=1;var o=32-Ta(t)+a;if(30<o){var i=a-a%5;o=(n&(1<<i)-1).toString(32),n>>=i,a-=i,co=1<<32-Ta(t)+a|r<<a|n,uo=o+e}else co=1<<o|r<<a|n,uo=e}function Sy(e){e.return!==null&&(Si(e,1),Cj(e,1,0))}function _y(e){for(;e===Jf;)Jf=js[--Ss],js[Ss]=null,ed=js[--Ss],js[Ss]=null;for(;e===Gi;)Gi=sa[--la],sa[la]=null,uo=sa[--la],sa[la]=null,co=sa[--la],sa[la]=null}var Qn=null,Zn=null,Qt=!1,Ma=null;function Tj(e,t){var r=ca(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Wx(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Qn=e,Zn=Jo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Qn=e,Zn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Gi!==null?{id:co,overflow:uo}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ca(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Qn=e,Zn=null,!0):!1;default:return!1}}function sg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function lg(e){if(Qt){var t=Zn;if(t){var r=t;if(!Wx(e,t)){if(sg(e))throw Error(le(418));t=Jo(r.nextSibling);var n=Qn;t&&Wx(e,t)?Tj(n,r):(e.flags=e.flags&-4097|2,Qt=!1,Qn=e)}}else{if(sg(e))throw Error(le(418));e.flags=e.flags&-4097|2,Qt=!1,Qn=e}}}function Hx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qn=e}function sf(e){if(e!==Qn)return!1;if(!Qt)return Hx(e),Qt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ng(e.type,e.memoizedProps)),t&&(t=Zn)){if(sg(e))throw Ej(),Error(le(418));for(;t;)Tj(e,t),t=Jo(t.nextSibling)}if(Hx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(le(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Zn=Jo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Zn=null}}else Zn=Qn?Jo(e.stateNode.nextSibling):null;return!0}function Ej(){for(var e=Zn;e;)e=Jo(e.nextSibling)}function Gs(){Zn=Qn=null,Qt=!1}function Ny(e){Ma===null?Ma=[e]:Ma.push(e)}var SA=Oo.ReactCurrentBatchConfig;function Vl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(le(309));var n=r.stateNode}if(!n)throw Error(le(147,e));var a=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var s=a.refs;i===null?delete s[o]:s[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(le(284));if(!r._owner)throw Error(le(290,e))}return e}function lf(e,t){throw e=Object.prototype.toString.call(t),Error(le(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Vx(e){var t=e._init;return t(e._payload)}function $j(e){function t(y,g){if(e){var v=y.deletions;v===null?(y.deletions=[g],y.flags|=16):v.push(g)}}function r(y,g){if(!e)return null;for(;g!==null;)t(y,g),g=g.sibling;return null}function n(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function a(y,g){return y=ni(y,g),y.index=0,y.sibling=null,y}function o(y,g,v){return y.index=v,e?(v=y.alternate,v!==null?(v=v.index,v<g?(y.flags|=2,g):v):(y.flags|=2,g)):(y.flags|=1048576,g)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function s(y,g,v,j){return g===null||g.tag!==6?(g=Q0(v,y.mode,j),g.return=y,g):(g=a(g,v),g.return=y,g)}function l(y,g,v,j){var b=v.type;return b===ys?d(y,g,v.props.children,j,v.key):g!==null&&(g.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Io&&Vx(b)===g.type)?(j=a(g,v.props),j.ref=Vl(y,g,v),j.return=y,j):(j=Ff(v.type,v.key,v.props,null,y.mode,j),j.ref=Vl(y,g,v),j.return=y,j)}function u(y,g,v,j){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=J0(v,y.mode,j),g.return=y,g):(g=a(g,v.children||[]),g.return=y,g)}function d(y,g,v,j,b){return g===null||g.tag!==7?(g=Ii(v,y.mode,j,b),g.return=y,g):(g=a(g,v),g.return=y,g)}function f(y,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Q0(""+g,y.mode,v),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case qu:return v=Ff(g.type,g.key,g.props,null,y.mode,v),v.ref=Vl(y,null,g),v.return=y,v;case ms:return g=J0(g,y.mode,v),g.return=y,g;case Io:var j=g._init;return f(y,j(g._payload),v)}if(ic(g)||zl(g))return g=Ii(g,y.mode,v,null),g.return=y,g;lf(y,g)}return null}function h(y,g,v,j){var b=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return b!==null?null:s(y,g,""+v,j);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case qu:return v.key===b?l(y,g,v,j):null;case ms:return v.key===b?u(y,g,v,j):null;case Io:return b=v._init,h(y,g,b(v._payload),j)}if(ic(v)||zl(v))return b!==null?null:d(y,g,v,j,null);lf(y,v)}return null}function p(y,g,v,j,b){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(v)||null,s(g,y,""+j,b);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case qu:return y=y.get(j.key===null?v:j.key)||null,l(g,y,j,b);case ms:return y=y.get(j.key===null?v:j.key)||null,u(g,y,j,b);case Io:var k=j._init;return p(y,g,v,k(j._payload),b)}if(ic(j)||zl(j))return y=y.get(v)||null,d(g,y,j,b,null);lf(g,j)}return null}function m(y,g,v,j){for(var b=null,k=null,N=g,_=g=0,O=null;N!==null&&_<v.length;_++){N.index>_?(O=N,N=null):O=N.sibling;var A=h(y,N,v[_],j);if(A===null){N===null&&(N=O);break}e&&N&&A.alternate===null&&t(y,N),g=o(A,g,_),k===null?b=A:k.sibling=A,k=A,N=O}if(_===v.length)return r(y,N),Qt&&Si(y,_),b;if(N===null){for(;_<v.length;_++)N=f(y,v[_],j),N!==null&&(g=o(N,g,_),k===null?b=N:k.sibling=N,k=N);return Qt&&Si(y,_),b}for(N=n(y,N);_<v.length;_++)O=p(N,y,_,v[_],j),O!==null&&(e&&O.alternate!==null&&N.delete(O.key===null?_:O.key),g=o(O,g,_),k===null?b=O:k.sibling=O,k=O);return e&&N.forEach(function(T){return t(y,T)}),Qt&&Si(y,_),b}function x(y,g,v,j){var b=zl(v);if(typeof b!="function")throw Error(le(150));if(v=b.call(v),v==null)throw Error(le(151));for(var k=b=null,N=g,_=g=0,O=null,A=v.next();N!==null&&!A.done;_++,A=v.next()){N.index>_?(O=N,N=null):O=N.sibling;var T=h(y,N,A.value,j);if(T===null){N===null&&(N=O);break}e&&N&&T.alternate===null&&t(y,N),g=o(T,g,_),k===null?b=T:k.sibling=T,k=T,N=O}if(A.done)return r(y,N),Qt&&Si(y,_),b;if(N===null){for(;!A.done;_++,A=v.next())A=f(y,A.value,j),A!==null&&(g=o(A,g,_),k===null?b=A:k.sibling=A,k=A);return Qt&&Si(y,_),b}for(N=n(y,N);!A.done;_++,A=v.next())A=p(N,y,_,A.value,j),A!==null&&(e&&A.alternate!==null&&N.delete(A.key===null?_:A.key),g=o(A,g,_),k===null?b=A:k.sibling=A,k=A);return e&&N.forEach(function(M){return t(y,M)}),Qt&&Si(y,_),b}function w(y,g,v,j){if(typeof v=="object"&&v!==null&&v.type===ys&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case qu:e:{for(var b=v.key,k=g;k!==null;){if(k.key===b){if(b=v.type,b===ys){if(k.tag===7){r(y,k.sibling),g=a(k,v.props.children),g.return=y,y=g;break e}}else if(k.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Io&&Vx(b)===k.type){r(y,k.sibling),g=a(k,v.props),g.ref=Vl(y,k,v),g.return=y,y=g;break e}r(y,k);break}else t(y,k);k=k.sibling}v.type===ys?(g=Ii(v.props.children,y.mode,j,v.key),g.return=y,y=g):(j=Ff(v.type,v.key,v.props,null,y.mode,j),j.ref=Vl(y,g,v),j.return=y,y=j)}return i(y);case ms:e:{for(k=v.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){r(y,g.sibling),g=a(g,v.children||[]),g.return=y,y=g;break e}else{r(y,g);break}else t(y,g);g=g.sibling}g=J0(v,y.mode,j),g.return=y,y=g}return i(y);case Io:return k=v._init,w(y,g,k(v._payload),j)}if(ic(v))return m(y,g,v,j);if(zl(v))return x(y,g,v,j);lf(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(r(y,g.sibling),g=a(g,v),g.return=y,y=g):(r(y,g),g=Q0(v,y.mode,j),g.return=y,y=g),i(y)):r(y,g)}return w}var Ws=$j(!0),Rj=$j(!1),td=ci(null),rd=null,_s=null,Oy=null;function Py(){Oy=_s=rd=null}function My(e){var t=td.current;qt(td),e._currentValue=t}function cg(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Rs(e,t){rd=e,Oy=_s=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Rn=!0),e.firstContext=null)}function pa(e){var t=e._currentValue;if(Oy!==e)if(e={context:e,memoizedValue:t,next:null},_s===null){if(rd===null)throw Error(le(308));_s=e,rd.dependencies={lanes:0,firstContext:e}}else _s=_s.next=e;return t}var Ai=null;function Ay(e){Ai===null?Ai=[e]:Ai.push(e)}function Dj(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Ay(t)):(r.next=a.next,a.next=r),t.interleaved=r,ko(e,n)}function ko(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Bo=!1;function Cy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lj(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function go(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ei(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,dt&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,ko(e,r)}return a=n.interleaved,a===null?(t.next=t,Ay(n)):(t.next=a.next,a.next=t),n.interleaved=t,ko(e,r)}function $f(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,my(e,r)}}function Xx(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?a=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?a=o=t:o=o.next=t}else a=o=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function nd(e,t,r,n){var a=e.updateQueue;Bo=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,s=a.shared.pending;if(s!==null){a.shared.pending=null;var l=s,u=l.next;l.next=null,i===null?o=u:i.next=u,i=l;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==i&&(s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=l))}if(o!==null){var f=a.baseState;i=0,d=u=l=null,s=o;do{var h=s.lane,p=s.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,x=s;switch(h=t,p=r,x.tag){case 1:if(m=x.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=x.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=fr({},f,h);break e;case 2:Bo=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=p,l=f):d=d.next=p,i|=h;if(s=s.next,s===null){if(s=a.shared.pending,s===null)break;h=s,s=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(l=f),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);Hi|=i,e.lanes=i,e.memoizedState=f}}function Kx(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(le(191,a));a.call(n)}}}var Tu={},Xa=ci(Tu),Bc=ci(Tu),Fc=ci(Tu);function Ci(e){if(e===Tu)throw Error(le(174));return e}function Ty(e,t){switch(Wt(Fc,t),Wt(Bc,e),Wt(Xa,Tu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Gp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Gp(t,e)}qt(Xa),Wt(Xa,t)}function Hs(){qt(Xa),qt(Bc),qt(Fc)}function Ij(e){Ci(Fc.current);var t=Ci(Xa.current),r=Gp(t,e.type);t!==r&&(Wt(Bc,e),Wt(Xa,r))}function Ey(e){Bc.current===e&&(qt(Xa),qt(Bc))}var cr=ci(0);function ad(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var V0=[];function $y(){for(var e=0;e<V0.length;e++)V0[e]._workInProgressVersionPrimary=null;V0.length=0}var Rf=Oo.ReactCurrentDispatcher,X0=Oo.ReactCurrentBatchConfig,Wi=0,ur=null,Dr=null,Xr=null,od=!1,mc=!1,zc=0,_A=0;function un(){throw Error(le(321))}function Ry(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!$a(e[r],t[r]))return!1;return!0}function Dy(e,t,r,n,a,o){if(Wi=o,ur=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Rf.current=e===null||e.memoizedState===null?MA:AA,e=r(n,a),mc){o=0;do{if(mc=!1,zc=0,25<=o)throw Error(le(301));o+=1,Xr=Dr=null,t.updateQueue=null,Rf.current=CA,e=r(n,a)}while(mc)}if(Rf.current=id,t=Dr!==null&&Dr.next!==null,Wi=0,Xr=Dr=ur=null,od=!1,t)throw Error(le(300));return e}function Ly(){var e=zc!==0;return zc=0,e}function Ua(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xr===null?ur.memoizedState=Xr=e:Xr=Xr.next=e,Xr}function ga(){if(Dr===null){var e=ur.alternate;e=e!==null?e.memoizedState:null}else e=Dr.next;var t=Xr===null?ur.memoizedState:Xr.next;if(t!==null)Xr=t,Dr=e;else{if(e===null)throw Error(le(310));Dr=e,e={memoizedState:Dr.memoizedState,baseState:Dr.baseState,baseQueue:Dr.baseQueue,queue:Dr.queue,next:null},Xr===null?ur.memoizedState=Xr=e:Xr=Xr.next=e}return Xr}function Uc(e,t){return typeof t=="function"?t(e):t}function K0(e){var t=ga(),r=t.queue;if(r===null)throw Error(le(311));r.lastRenderedReducer=e;var n=Dr,a=n.baseQueue,o=r.pending;if(o!==null){if(a!==null){var i=a.next;a.next=o.next,o.next=i}n.baseQueue=a=o,r.pending=null}if(a!==null){o=a.next,n=n.baseState;var s=i=null,l=null,u=o;do{var d=u.lane;if((Wi&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,i=n):l=l.next=f,ur.lanes|=d,Hi|=d}u=u.next}while(u!==null&&u!==o);l===null?i=n:l.next=s,$a(n,t.memoizedState)||(Rn=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do o=a.lane,ur.lanes|=o,Hi|=o,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Y0(e){var t=ga(),r=t.queue;if(r===null)throw Error(le(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,o=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do o=e(o,i.action),i=i.next;while(i!==a);$a(o,t.memoizedState)||(Rn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function Bj(){}function Fj(e,t){var r=ur,n=ga(),a=t(),o=!$a(n.memoizedState,a);if(o&&(n.memoizedState=a,Rn=!0),n=n.queue,Iy(Gj.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Xr!==null&&Xr.memoizedState.tag&1){if(r.flags|=2048,Gc(9,Uj.bind(null,r,n,a,t),void 0,null),Yr===null)throw Error(le(349));Wi&30||zj(r,t,a)}return a}function zj(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ur.updateQueue,t===null?(t={lastEffect:null,stores:null},ur.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Uj(e,t,r,n){t.value=r,t.getSnapshot=n,Wj(t)&&Hj(e)}function Gj(e,t,r){return r(function(){Wj(t)&&Hj(e)})}function Wj(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!$a(e,r)}catch{return!0}}function Hj(e){var t=ko(e,1);t!==null&&Ea(t,e,1,-1)}function Yx(e){var t=Ua();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uc,lastRenderedState:e},t.queue=e,e=e.dispatch=PA.bind(null,ur,e),[t.memoizedState,e]}function Gc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ur.updateQueue,t===null?(t={lastEffect:null,stores:null},ur.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Vj(){return ga().memoizedState}function Df(e,t,r,n){var a=Ua();ur.flags|=e,a.memoizedState=Gc(1|t,r,void 0,n===void 0?null:n)}function Sh(e,t,r,n){var a=ga();n=n===void 0?null:n;var o=void 0;if(Dr!==null){var i=Dr.memoizedState;if(o=i.destroy,n!==null&&Ry(n,i.deps)){a.memoizedState=Gc(t,r,o,n);return}}ur.flags|=e,a.memoizedState=Gc(1|t,r,o,n)}function qx(e,t){return Df(8390656,8,e,t)}function Iy(e,t){return Sh(2048,8,e,t)}function Xj(e,t){return Sh(4,2,e,t)}function Kj(e,t){return Sh(4,4,e,t)}function Yj(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qj(e,t,r){return r=r!=null?r.concat([e]):null,Sh(4,4,Yj.bind(null,t,e),r)}function By(){}function Zj(e,t){var r=ga();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ry(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Qj(e,t){var r=ga();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ry(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Jj(e,t,r){return Wi&21?($a(r,t)||(r=aj(),ur.lanes|=r,Hi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Rn=!0),e.memoizedState=r)}function NA(e,t){var r=Mt;Mt=r!==0&&4>r?r:4,e(!0);var n=X0.transition;X0.transition={};try{e(!1),t()}finally{Mt=r,X0.transition=n}}function eS(){return ga().memoizedState}function OA(e,t,r){var n=ri(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},tS(e))rS(t,r);else if(r=Dj(e,t,r,n),r!==null){var a=Mn();Ea(r,e,n,a),nS(r,t,n)}}function PA(e,t,r){var n=ri(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(tS(e))rS(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,s=o(i,r);if(a.hasEagerState=!0,a.eagerState=s,$a(s,i)){var l=t.interleaved;l===null?(a.next=a,Ay(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=Dj(e,t,a,n),r!==null&&(a=Mn(),Ea(r,e,n,a),nS(r,t,n))}}function tS(e){var t=e.alternate;return e===ur||t!==null&&t===ur}function rS(e,t){mc=od=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function nS(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,my(e,r)}}var id={readContext:pa,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useInsertionEffect:un,useLayoutEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useMutableSource:un,useSyncExternalStore:un,useId:un,unstable_isNewReconciler:!1},MA={readContext:pa,useCallback:function(e,t){return Ua().memoizedState=[e,t===void 0?null:t],e},useContext:pa,useEffect:qx,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Df(4194308,4,Yj.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Df(4194308,4,e,t)},useInsertionEffect:function(e,t){return Df(4,2,e,t)},useMemo:function(e,t){var r=Ua();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ua();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=OA.bind(null,ur,e),[n.memoizedState,e]},useRef:function(e){var t=Ua();return e={current:e},t.memoizedState=e},useState:Yx,useDebugValue:By,useDeferredValue:function(e){return Ua().memoizedState=e},useTransition:function(){var e=Yx(!1),t=e[0];return e=NA.bind(null,e[1]),Ua().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ur,a=Ua();if(Qt){if(r===void 0)throw Error(le(407));r=r()}else{if(r=t(),Yr===null)throw Error(le(349));Wi&30||zj(n,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,qx(Gj.bind(null,n,o,e),[e]),n.flags|=2048,Gc(9,Uj.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Ua(),t=Yr.identifierPrefix;if(Qt){var r=uo,n=co;r=(n&~(1<<32-Ta(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=zc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=_A++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},AA={readContext:pa,useCallback:Zj,useContext:pa,useEffect:Iy,useImperativeHandle:qj,useInsertionEffect:Xj,useLayoutEffect:Kj,useMemo:Qj,useReducer:K0,useRef:Vj,useState:function(){return K0(Uc)},useDebugValue:By,useDeferredValue:function(e){var t=ga();return Jj(t,Dr.memoizedState,e)},useTransition:function(){var e=K0(Uc)[0],t=ga().memoizedState;return[e,t]},useMutableSource:Bj,useSyncExternalStore:Fj,useId:eS,unstable_isNewReconciler:!1},CA={readContext:pa,useCallback:Zj,useContext:pa,useEffect:Iy,useImperativeHandle:qj,useInsertionEffect:Xj,useLayoutEffect:Kj,useMemo:Qj,useReducer:Y0,useRef:Vj,useState:function(){return Y0(Uc)},useDebugValue:By,useDeferredValue:function(e){var t=ga();return Dr===null?t.memoizedState=e:Jj(t,Dr.memoizedState,e)},useTransition:function(){var e=Y0(Uc)[0],t=ga().memoizedState;return[e,t]},useMutableSource:Bj,useSyncExternalStore:Fj,useId:eS,unstable_isNewReconciler:!1};function _a(e,t){if(e&&e.defaultProps){t=fr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ug(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:fr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var _h={isMounted:function(e){return(e=e._reactInternals)?ts(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Mn(),a=ri(e),o=go(n,a);o.payload=t,r!=null&&(o.callback=r),t=ei(e,o,a),t!==null&&(Ea(t,e,a,n),$f(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Mn(),a=ri(e),o=go(n,a);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=ei(e,o,a),t!==null&&(Ea(t,e,a,n),$f(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Mn(),n=ri(e),a=go(r,n);a.tag=2,t!=null&&(a.callback=t),t=ei(e,a,n),t!==null&&(Ea(t,e,n,r),$f(t,e,n))}};function Zx(e,t,r,n,a,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!Rc(r,n)||!Rc(a,o):!0}function aS(e,t,r){var n=!1,a=si,o=t.contextType;return typeof o=="object"&&o!==null?o=pa(o):(a=In(t)?Ui:mn.current,n=t.contextTypes,o=(n=n!=null)?Us(e,a):si),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=_h,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function Qx(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&_h.enqueueReplaceState(t,t.state,null)}function fg(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Cy(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=pa(o):(o=In(t)?Ui:mn.current,a.context=Us(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(ug(e,t,o,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&_h.enqueueReplaceState(a,a.state,null),nd(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Vs(e,t){try{var r="",n=t;do r+=oM(n),n=n.return;while(n);var a=r}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function q0(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function dg(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var TA=typeof WeakMap=="function"?WeakMap:Map;function oS(e,t,r){r=go(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ld||(ld=!0,kg=n),dg(e,t)},r}function iS(e,t,r){r=go(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){dg(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){dg(e,t),typeof n!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Jx(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new TA;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=VA.bind(null,e,t,r),t.then(e,e))}function eb(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function tb(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=go(-1,1),t.tag=2,ei(r,t,1))),r.lanes|=1),e)}var EA=Oo.ReactCurrentOwner,Rn=!1;function On(e,t,r,n){t.child=e===null?Rj(t,null,r,n):Ws(t,e.child,r,n)}function rb(e,t,r,n,a){r=r.render;var o=t.ref;return Rs(t,a),n=Dy(e,t,r,n,o,a),r=Ly(),e!==null&&!Rn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,jo(e,t,a)):(Qt&&r&&Sy(t),t.flags|=1,On(e,t,n,a),t.child)}function nb(e,t,r,n,a){if(e===null){var o=r.type;return typeof o=="function"&&!Xy(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,sS(e,t,o,n,a)):(e=Ff(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:Rc,r(i,n)&&e.ref===t.ref)return jo(e,t,a)}return t.flags|=1,e=ni(o,n),e.ref=t.ref,e.return=t,t.child=e}function sS(e,t,r,n,a){if(e!==null){var o=e.memoizedProps;if(Rc(o,n)&&e.ref===t.ref)if(Rn=!1,t.pendingProps=n=o,(e.lanes&a)!==0)e.flags&131072&&(Rn=!0);else return t.lanes=e.lanes,jo(e,t,a)}return hg(e,t,r,n,a)}function lS(e,t,r){var n=t.pendingProps,a=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wt(Os,Kn),Kn|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Wt(Os,Kn),Kn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Wt(Os,Kn),Kn|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Wt(Os,Kn),Kn|=n;return On(e,t,a,r),t.child}function cS(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function hg(e,t,r,n,a){var o=In(r)?Ui:mn.current;return o=Us(t,o),Rs(t,a),r=Dy(e,t,r,n,o,a),n=Ly(),e!==null&&!Rn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,jo(e,t,a)):(Qt&&n&&Sy(t),t.flags|=1,On(e,t,r,a),t.child)}function ab(e,t,r,n,a){if(In(r)){var o=!0;Qf(t)}else o=!1;if(Rs(t,a),t.stateNode===null)Lf(e,t),aS(t,r,n),fg(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,s=t.memoizedProps;i.props=s;var l=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=pa(u):(u=In(r)?Ui:mn.current,u=Us(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==n||l!==u)&&Qx(t,i,n,u),Bo=!1;var h=t.memoizedState;i.state=h,nd(t,n,i,a),l=t.memoizedState,s!==n||h!==l||Ln.current||Bo?(typeof d=="function"&&(ug(t,r,d,n),l=t.memoizedState),(s=Bo||Zx(t,r,s,n,h,l,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),i.props=n,i.state=l,i.context=u,n=s):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Lj(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:_a(t.type,s),i.props=u,f=t.pendingProps,h=i.context,l=r.contextType,typeof l=="object"&&l!==null?l=pa(l):(l=In(r)?Ui:mn.current,l=Us(t,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==f||h!==l)&&Qx(t,i,n,l),Bo=!1,h=t.memoizedState,i.state=h,nd(t,n,i,a);var m=t.memoizedState;s!==f||h!==m||Ln.current||Bo?(typeof p=="function"&&(ug(t,r,p,n),m=t.memoizedState),(u=Bo||Zx(t,r,u,n,h,m,l)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,m,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,m,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),i.props=n,i.state=m,i.context=l,n=u):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return pg(e,t,r,n,o,a)}function pg(e,t,r,n,a,o){cS(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&Gx(t,r,!1),jo(e,t,o);n=t.stateNode,EA.current=t;var s=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Ws(t,e.child,null,o),t.child=Ws(t,null,s,o)):On(e,t,s,o),t.memoizedState=n.state,a&&Gx(t,r,!0),t.child}function uS(e){var t=e.stateNode;t.pendingContext?Ux(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ux(e,t.context,!1),Ty(e,t.containerInfo)}function ob(e,t,r,n,a){return Gs(),Ny(a),t.flags|=256,On(e,t,r,n),t.child}var gg={dehydrated:null,treeContext:null,retryLane:0};function mg(e){return{baseLanes:e,cachePool:null,transitions:null}}function fS(e,t,r){var n=t.pendingProps,a=cr.current,o=!1,i=(t.flags&128)!==0,s;if((s=i)||(s=e!==null&&e.memoizedState===null?!1:(a&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Wt(cr,a&1),e===null)return lg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Ph(i,n,0,null),e=Ii(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=mg(r),t.memoizedState=gg,e):Fy(t,i));if(a=e.memoizedState,a!==null&&(s=a.dehydrated,s!==null))return $A(e,t,i,n,s,a,r);if(o){o=n.fallback,i=t.mode,a=e.child,s=a.sibling;var l={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=ni(a,l),n.subtreeFlags=a.subtreeFlags&14680064),s!==null?o=ni(s,o):(o=Ii(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?mg(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=gg,n}return o=e.child,e=o.sibling,n=ni(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Fy(e,t){return t=Ph({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function cf(e,t,r,n){return n!==null&&Ny(n),Ws(t,e.child,null,r),e=Fy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $A(e,t,r,n,a,o,i){if(r)return t.flags&256?(t.flags&=-257,n=q0(Error(le(422))),cf(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,a=t.mode,n=Ph({mode:"visible",children:n.children},a,0,null),o=Ii(o,a,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&Ws(t,e.child,null,i),t.child.memoizedState=mg(i),t.memoizedState=gg,o);if(!(t.mode&1))return cf(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var s=n.dgst;return n=s,o=Error(le(419)),n=q0(o,n,void 0),cf(e,t,i,n)}if(s=(i&e.childLanes)!==0,Rn||s){if(n=Yr,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,ko(e,a),Ea(n,e,a,-1))}return Vy(),n=q0(Error(le(421))),cf(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=XA.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,Zn=Jo(a.nextSibling),Qn=t,Qt=!0,Ma=null,e!==null&&(sa[la++]=co,sa[la++]=uo,sa[la++]=Gi,co=e.id,uo=e.overflow,Gi=t),t=Fy(t,n.children),t.flags|=4096,t)}function ib(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),cg(e.return,t,r)}function Z0(e,t,r,n,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=a)}function dS(e,t,r){var n=t.pendingProps,a=n.revealOrder,o=n.tail;if(On(e,t,n.children,r),n=cr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ib(e,r,t);else if(e.tag===19)ib(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Wt(cr,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&ad(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Z0(t,!1,a,r,o);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&ad(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Z0(t,!0,r,null,o);break;case"together":Z0(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Lf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function jo(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Hi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(le(153));if(t.child!==null){for(e=t.child,r=ni(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ni(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function RA(e,t,r){switch(t.tag){case 3:uS(t),Gs();break;case 5:Ij(t);break;case 1:In(t.type)&&Qf(t);break;case 4:Ty(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Wt(td,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Wt(cr,cr.current&1),t.flags|=128,null):r&t.child.childLanes?fS(e,t,r):(Wt(cr,cr.current&1),e=jo(e,t,r),e!==null?e.sibling:null);Wt(cr,cr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return dS(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Wt(cr,cr.current),n)break;return null;case 22:case 23:return t.lanes=0,lS(e,t,r)}return jo(e,t,r)}var hS,yg,pS,gS;hS=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};yg=function(){};pS=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Ci(Xa.current);var o=null;switch(r){case"input":a=Bp(e,a),n=Bp(e,n),o=[];break;case"select":a=fr({},a,{value:void 0}),n=fr({},n,{value:void 0}),o=[];break;case"textarea":a=Up(e,a),n=Up(e,n),o=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=qf)}Wp(r,n);var i;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var s=a[u];for(i in s)s.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Pc.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var l=n[u];if(s=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(i in s)!s.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in l)l.hasOwnProperty(i)&&s[i]!==l[i]&&(r||(r={}),r[i]=l[i])}else r||(o||(o=[]),o.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Pc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Xt("scroll",e),o||s===l||(o=[])):(o=o||[]).push(u,l))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};gS=function(e,t,r,n){r!==n&&(t.flags|=4)};function Xl(e,t){if(!Qt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function fn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function DA(e,t,r){var n=t.pendingProps;switch(_y(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(t),null;case 1:return In(t.type)&&Zf(),fn(t),null;case 3:return n=t.stateNode,Hs(),qt(Ln),qt(mn),$y(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(sf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ma!==null&&(_g(Ma),Ma=null))),yg(e,t),fn(t),null;case 5:Ey(t);var a=Ci(Fc.current);if(r=t.type,e!==null&&t.stateNode!=null)pS(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(le(166));return fn(t),null}if(e=Ci(Xa.current),sf(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Ga]=t,n[Ic]=o,e=(t.mode&1)!==0,r){case"dialog":Xt("cancel",n),Xt("close",n);break;case"iframe":case"object":case"embed":Xt("load",n);break;case"video":case"audio":for(a=0;a<lc.length;a++)Xt(lc[a],n);break;case"source":Xt("error",n);break;case"img":case"image":case"link":Xt("error",n),Xt("load",n);break;case"details":Xt("toggle",n);break;case"input":gx(n,o),Xt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Xt("invalid",n);break;case"textarea":yx(n,o),Xt("invalid",n)}Wp(r,o),a=null;for(var i in o)if(o.hasOwnProperty(i)){var s=o[i];i==="children"?typeof s=="string"?n.textContent!==s&&(o.suppressHydrationWarning!==!0&&of(n.textContent,s,e),a=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&of(n.textContent,s,e),a=["children",""+s]):Pc.hasOwnProperty(i)&&s!=null&&i==="onScroll"&&Xt("scroll",n)}switch(r){case"input":Zu(n),mx(n,o,!0);break;case"textarea":Zu(n),vx(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=qf)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Gk(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Ga]=t,e[Ic]=n,hS(e,t,!1,!1),t.stateNode=e;e:{switch(i=Hp(r,n),r){case"dialog":Xt("cancel",e),Xt("close",e),a=n;break;case"iframe":case"object":case"embed":Xt("load",e),a=n;break;case"video":case"audio":for(a=0;a<lc.length;a++)Xt(lc[a],e);a=n;break;case"source":Xt("error",e),a=n;break;case"img":case"image":case"link":Xt("error",e),Xt("load",e),a=n;break;case"details":Xt("toggle",e),a=n;break;case"input":gx(e,n),a=Bp(e,n),Xt("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=fr({},n,{value:void 0}),Xt("invalid",e);break;case"textarea":yx(e,n),a=Up(e,n),Xt("invalid",e);break;default:a=n}Wp(r,a),s=a;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?Vk(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Wk(e,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Mc(e,l):typeof l=="number"&&Mc(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Pc.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Xt("scroll",e):l!=null&&uy(e,o,l,i))}switch(r){case"input":Zu(e),mx(e,n,!1);break;case"textarea":Zu(e),vx(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ii(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Cs(e,!!n.multiple,o,!1):n.defaultValue!=null&&Cs(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=qf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return fn(t),null;case 6:if(e&&t.stateNode!=null)gS(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(le(166));if(r=Ci(Fc.current),Ci(Xa.current),sf(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ga]=t,(o=n.nodeValue!==r)&&(e=Qn,e!==null))switch(e.tag){case 3:of(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&of(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ga]=t,t.stateNode=n}return fn(t),null;case 13:if(qt(cr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Qt&&Zn!==null&&t.mode&1&&!(t.flags&128))Ej(),Gs(),t.flags|=98560,o=!1;else if(o=sf(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(le(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(le(317));o[Ga]=t}else Gs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;fn(t),o=!1}else Ma!==null&&(_g(Ma),Ma=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||cr.current&1?Lr===0&&(Lr=3):Vy())),t.updateQueue!==null&&(t.flags|=4),fn(t),null);case 4:return Hs(),yg(e,t),e===null&&Dc(t.stateNode.containerInfo),fn(t),null;case 10:return My(t.type._context),fn(t),null;case 17:return In(t.type)&&Zf(),fn(t),null;case 19:if(qt(cr),o=t.memoizedState,o===null)return fn(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)Xl(o,!1);else{if(Lr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=ad(e),i!==null){for(t.flags|=128,Xl(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Wt(cr,cr.current&1|2),t.child}e=e.sibling}o.tail!==null&&wr()>Xs&&(t.flags|=128,n=!0,Xl(o,!1),t.lanes=4194304)}else{if(!n)if(e=ad(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Xl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Qt)return fn(t),null}else 2*wr()-o.renderingStartTime>Xs&&r!==1073741824&&(t.flags|=128,n=!0,Xl(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=wr(),t.sibling=null,r=cr.current,Wt(cr,n?r&1|2:r&1),t):(fn(t),null);case 22:case 23:return Hy(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Kn&1073741824&&(fn(t),t.subtreeFlags&6&&(t.flags|=8192)):fn(t),null;case 24:return null;case 25:return null}throw Error(le(156,t.tag))}function LA(e,t){switch(_y(t),t.tag){case 1:return In(t.type)&&Zf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Hs(),qt(Ln),qt(mn),$y(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ey(t),null;case 13:if(qt(cr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(le(340));Gs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return qt(cr),null;case 4:return Hs(),null;case 10:return My(t.type._context),null;case 22:case 23:return Hy(),null;case 24:return null;default:return null}}var uf=!1,pn=!1,IA=typeof WeakSet=="function"?WeakSet:Set,je=null;function Ns(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){hr(e,t,n)}else r.current=null}function vg(e,t,r){try{r()}catch(n){hr(e,t,n)}}var sb=!1;function BA(e,t){if(tg=Xf,e=bj(),jy(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,s=-1,l=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(s=i+a),f!==o||n!==0&&f.nodeType!==3||(l=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===a&&(s=i),h===o&&++d===n&&(l=i),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(rg={focusedElem:e,selectionRange:r},Xf=!1,je=t;je!==null;)if(t=je,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,je=e;else for(;je!==null;){t=je;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var x=m.memoizedProps,w=m.memoizedState,y=t.stateNode,g=y.getSnapshotBeforeUpdate(t.elementType===t.type?x:_a(t.type,x),w);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(le(163))}}catch(j){hr(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,je=e;break}je=t.return}return m=sb,sb=!1,m}function yc(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&vg(t,r,o)}a=a.next}while(a!==n)}}function Nh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function xg(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function mS(e){var t=e.alternate;t!==null&&(e.alternate=null,mS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ga],delete t[Ic],delete t[og],delete t[wA],delete t[kA])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function yS(e){return e.tag===5||e.tag===3||e.tag===4}function lb(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||yS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=qf));else if(n!==4&&(e=e.child,e!==null))for(bg(e,t,r),e=e.sibling;e!==null;)bg(e,t,r),e=e.sibling}function wg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(wg(e,t,r),e=e.sibling;e!==null;)wg(e,t,r),e=e.sibling}var tn=null,Na=!1;function Do(e,t,r){for(r=r.child;r!==null;)vS(e,t,r),r=r.sibling}function vS(e,t,r){if(Va&&typeof Va.onCommitFiberUnmount=="function")try{Va.onCommitFiberUnmount(vh,r)}catch{}switch(r.tag){case 5:pn||Ns(r,t);case 6:var n=tn,a=Na;tn=null,Do(e,t,r),tn=n,Na=a,tn!==null&&(Na?(e=tn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):tn.removeChild(r.stateNode));break;case 18:tn!==null&&(Na?(e=tn,r=r.stateNode,e.nodeType===8?W0(e.parentNode,r):e.nodeType===1&&W0(e,r),Ec(e)):W0(tn,r.stateNode));break;case 4:n=tn,a=Na,tn=r.stateNode.containerInfo,Na=!0,Do(e,t,r),tn=n,Na=a;break;case 0:case 11:case 14:case 15:if(!pn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var o=a,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&vg(r,t,i),a=a.next}while(a!==n)}Do(e,t,r);break;case 1:if(!pn&&(Ns(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){hr(r,t,s)}Do(e,t,r);break;case 21:Do(e,t,r);break;case 22:r.mode&1?(pn=(n=pn)||r.memoizedState!==null,Do(e,t,r),pn=n):Do(e,t,r);break;default:Do(e,t,r)}}function cb(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new IA),t.forEach(function(n){var a=KA.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function ja(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var o=e,i=t,s=i;e:for(;s!==null;){switch(s.tag){case 5:tn=s.stateNode,Na=!1;break e;case 3:tn=s.stateNode.containerInfo,Na=!0;break e;case 4:tn=s.stateNode.containerInfo,Na=!0;break e}s=s.return}if(tn===null)throw Error(le(160));vS(o,i,a),tn=null,Na=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(u){hr(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)xS(t,e),t=t.sibling}function xS(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ja(t,e),za(e),n&4){try{yc(3,e,e.return),Nh(3,e)}catch(x){hr(e,e.return,x)}try{yc(5,e,e.return)}catch(x){hr(e,e.return,x)}}break;case 1:ja(t,e),za(e),n&512&&r!==null&&Ns(r,r.return);break;case 5:if(ja(t,e),za(e),n&512&&r!==null&&Ns(r,r.return),e.flags&32){var a=e.stateNode;try{Mc(a,"")}catch(x){hr(e,e.return,x)}}if(n&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&zk(a,o),Hp(s,i);var u=Hp(s,o);for(i=0;i<l.length;i+=2){var d=l[i],f=l[i+1];d==="style"?Vk(a,f):d==="dangerouslySetInnerHTML"?Wk(a,f):d==="children"?Mc(a,f):uy(a,d,f,u)}switch(s){case"input":Fp(a,o);break;case"textarea":Uk(a,o);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Cs(a,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?Cs(a,!!o.multiple,o.defaultValue,!0):Cs(a,!!o.multiple,o.multiple?[]:"",!1))}a[Ic]=o}catch(x){hr(e,e.return,x)}}break;case 6:if(ja(t,e),za(e),n&4){if(e.stateNode===null)throw Error(le(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(x){hr(e,e.return,x)}}break;case 3:if(ja(t,e),za(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ec(t.containerInfo)}catch(x){hr(e,e.return,x)}break;case 4:ja(t,e),za(e);break;case 13:ja(t,e),za(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(Gy=wr())),n&4&&cb(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(pn=(u=pn)||d,ja(t,e),pn=u):ja(t,e),za(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(je=e,d=e.child;d!==null;){for(f=je=d;je!==null;){switch(h=je,p=h.child,h.tag){case 0:case 11:case 14:case 15:yc(4,h,h.return);break;case 1:Ns(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(x){hr(n,r,x)}}break;case 5:Ns(h,h.return);break;case 22:if(h.memoizedState!==null){fb(f);continue}}p!==null?(p.return=h,je=p):fb(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=Hk("display",i))}catch(x){hr(e,e.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){hr(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ja(t,e),za(e),n&4&&cb(e);break;case 21:break;default:ja(t,e),za(e)}}function za(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(yS(r)){var n=r;break e}r=r.return}throw Error(le(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Mc(a,""),n.flags&=-33);var o=lb(e);wg(e,o,a);break;case 3:case 4:var i=n.stateNode.containerInfo,s=lb(e);bg(e,s,i);break;default:throw Error(le(161))}}catch(l){hr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function FA(e,t,r){je=e,bS(e)}function bS(e,t,r){for(var n=(e.mode&1)!==0;je!==null;){var a=je,o=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||uf;if(!i){var s=a.alternate,l=s!==null&&s.memoizedState!==null||pn;s=uf;var u=pn;if(uf=i,(pn=l)&&!u)for(je=a;je!==null;)i=je,l=i.child,i.tag===22&&i.memoizedState!==null?db(a):l!==null?(l.return=i,je=l):db(a);for(;o!==null;)je=o,bS(o),o=o.sibling;je=a,uf=s,pn=u}ub(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,je=o):ub(e)}}function ub(e){for(;je!==null;){var t=je;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:pn||Nh(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!pn)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:_a(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Kx(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Kx(t,i,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ec(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(le(163))}pn||t.flags&512&&xg(t)}catch(h){hr(t,t.return,h)}}if(t===e){je=null;break}if(r=t.sibling,r!==null){r.return=t.return,je=r;break}je=t.return}}function fb(e){for(;je!==null;){var t=je;if(t===e){je=null;break}var r=t.sibling;if(r!==null){r.return=t.return,je=r;break}je=t.return}}function db(e){for(;je!==null;){var t=je;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Nh(4,t)}catch(l){hr(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){hr(t,a,l)}}var o=t.return;try{xg(t)}catch(l){hr(t,o,l)}break;case 5:var i=t.return;try{xg(t)}catch(l){hr(t,i,l)}}}catch(l){hr(t,t.return,l)}if(t===e){je=null;break}var s=t.sibling;if(s!==null){s.return=t.return,je=s;break}je=t.return}}var zA=Math.ceil,sd=Oo.ReactCurrentDispatcher,zy=Oo.ReactCurrentOwner,da=Oo.ReactCurrentBatchConfig,dt=0,Yr=null,Or=null,an=0,Kn=0,Os=ci(0),Lr=0,Wc=null,Hi=0,Oh=0,Uy=0,vc=null,$n=null,Gy=0,Xs=1/0,so=null,ld=!1,kg=null,ti=null,ff=!1,Ho=null,cd=0,xc=0,jg=null,If=-1,Bf=0;function Mn(){return dt&6?wr():If!==-1?If:If=wr()}function ri(e){return e.mode&1?dt&2&&an!==0?an&-an:SA.transition!==null?(Bf===0&&(Bf=aj()),Bf):(e=Mt,e!==0||(e=window.event,e=e===void 0?16:fj(e.type)),e):1}function Ea(e,t,r,n){if(50<xc)throw xc=0,jg=null,Error(le(185));Mu(e,r,n),(!(dt&2)||e!==Yr)&&(e===Yr&&(!(dt&2)&&(Oh|=r),Lr===4&&Uo(e,an)),Bn(e,n),r===1&&dt===0&&!(t.mode&1)&&(Xs=wr()+500,jh&&ui()))}function Bn(e,t){var r=e.callbackNode;SM(e,t);var n=Vf(e,e===Yr?an:0);if(n===0)r!==null&&wx(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&wx(r),t===1)e.tag===0?jA(hb.bind(null,e)):Aj(hb.bind(null,e)),xA(function(){!(dt&6)&&ui()}),r=null;else{switch(oj(n)){case 1:r=gy;break;case 4:r=rj;break;case 16:r=Hf;break;case 536870912:r=nj;break;default:r=Hf}r=PS(r,wS.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function wS(e,t){if(If=-1,Bf=0,dt&6)throw Error(le(327));var r=e.callbackNode;if(Ds()&&e.callbackNode!==r)return null;var n=Vf(e,e===Yr?an:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ud(e,n);else{t=n;var a=dt;dt|=2;var o=jS();(Yr!==e||an!==t)&&(so=null,Xs=wr()+500,Li(e,t));do try{WA();break}catch(s){kS(e,s)}while(!0);Py(),sd.current=o,dt=a,Or!==null?t=0:(Yr=null,an=0,t=Lr)}if(t!==0){if(t===2&&(a=qp(e),a!==0&&(n=a,t=Sg(e,a))),t===1)throw r=Wc,Li(e,0),Uo(e,n),Bn(e,wr()),r;if(t===6)Uo(e,n);else{if(a=e.current.alternate,!(n&30)&&!UA(a)&&(t=ud(e,n),t===2&&(o=qp(e),o!==0&&(n=o,t=Sg(e,o))),t===1))throw r=Wc,Li(e,0),Uo(e,n),Bn(e,wr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(le(345));case 2:_i(e,$n,so);break;case 3:if(Uo(e,n),(n&130023424)===n&&(t=Gy+500-wr(),10<t)){if(Vf(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Mn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ag(_i.bind(null,e,$n,so),t);break}_i(e,$n,so);break;case 4:if(Uo(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-Ta(n);o=1<<i,i=t[i],i>a&&(a=i),n&=~o}if(n=a,n=wr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*zA(n/1960))-n,10<n){e.timeoutHandle=ag(_i.bind(null,e,$n,so),n);break}_i(e,$n,so);break;case 5:_i(e,$n,so);break;default:throw Error(le(329))}}}return Bn(e,wr()),e.callbackNode===r?wS.bind(null,e):null}function Sg(e,t){var r=vc;return e.current.memoizedState.isDehydrated&&(Li(e,t).flags|=256),e=ud(e,t),e!==2&&(t=$n,$n=r,t!==null&&_g(t)),e}function _g(e){$n===null?$n=e:$n.push.apply($n,e)}function UA(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],o=a.getSnapshot;a=a.value;try{if(!$a(o(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Uo(e,t){for(t&=~Uy,t&=~Oh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ta(t),n=1<<r;e[r]=-1,t&=~n}}function hb(e){if(dt&6)throw Error(le(327));Ds();var t=Vf(e,0);if(!(t&1))return Bn(e,wr()),null;var r=ud(e,t);if(e.tag!==0&&r===2){var n=qp(e);n!==0&&(t=n,r=Sg(e,n))}if(r===1)throw r=Wc,Li(e,0),Uo(e,t),Bn(e,wr()),r;if(r===6)throw Error(le(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_i(e,$n,so),Bn(e,wr()),null}function Wy(e,t){var r=dt;dt|=1;try{return e(t)}finally{dt=r,dt===0&&(Xs=wr()+500,jh&&ui())}}function Vi(e){Ho!==null&&Ho.tag===0&&!(dt&6)&&Ds();var t=dt;dt|=1;var r=da.transition,n=Mt;try{if(da.transition=null,Mt=1,e)return e()}finally{Mt=n,da.transition=r,dt=t,!(dt&6)&&ui()}}function Hy(){Kn=Os.current,qt(Os)}function Li(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,vA(r)),Or!==null)for(r=Or.return;r!==null;){var n=r;switch(_y(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Zf();break;case 3:Hs(),qt(Ln),qt(mn),$y();break;case 5:Ey(n);break;case 4:Hs();break;case 13:qt(cr);break;case 19:qt(cr);break;case 10:My(n.type._context);break;case 22:case 23:Hy()}r=r.return}if(Yr=e,Or=e=ni(e.current,null),an=Kn=t,Lr=0,Wc=null,Uy=Oh=Hi=0,$n=vc=null,Ai!==null){for(t=0;t<Ai.length;t++)if(r=Ai[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=a,n.next=i}r.pending=n}Ai=null}return e}function kS(e,t){do{var r=Or;try{if(Py(),Rf.current=id,od){for(var n=ur.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}od=!1}if(Wi=0,Xr=Dr=ur=null,mc=!1,zc=0,zy.current=null,r===null||r.return===null){Lr=1,Wc=t,Or=null;break}e:{var o=e,i=r.return,s=r,l=t;if(t=an,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=eb(i);if(p!==null){p.flags&=-257,tb(p,i,s,o,t),p.mode&1&&Jx(o,u,t),t=p,l=u;var m=t.updateQueue;if(m===null){var x=new Set;x.add(l),t.updateQueue=x}else m.add(l);break e}else{if(!(t&1)){Jx(o,u,t),Vy();break e}l=Error(le(426))}}else if(Qt&&s.mode&1){var w=eb(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),tb(w,i,s,o,t),Ny(Vs(l,s));break e}}o=l=Vs(l,s),Lr!==4&&(Lr=2),vc===null?vc=[o]:vc.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=oS(o,l,t);Xx(o,y);break e;case 1:s=l;var g=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ti===null||!ti.has(v)))){o.flags|=65536,t&=-t,o.lanes|=t;var j=iS(o,s,t);Xx(o,j);break e}}o=o.return}while(o!==null)}_S(r)}catch(b){t=b,Or===r&&r!==null&&(Or=r=r.return);continue}break}while(!0)}function jS(){var e=sd.current;return sd.current=id,e===null?id:e}function Vy(){(Lr===0||Lr===3||Lr===2)&&(Lr=4),Yr===null||!(Hi&268435455)&&!(Oh&268435455)||Uo(Yr,an)}function ud(e,t){var r=dt;dt|=2;var n=jS();(Yr!==e||an!==t)&&(so=null,Li(e,t));do try{GA();break}catch(a){kS(e,a)}while(!0);if(Py(),dt=r,sd.current=n,Or!==null)throw Error(le(261));return Yr=null,an=0,Lr}function GA(){for(;Or!==null;)SS(Or)}function WA(){for(;Or!==null&&!gM();)SS(Or)}function SS(e){var t=OS(e.alternate,e,Kn);e.memoizedProps=e.pendingProps,t===null?_S(e):Or=t,zy.current=null}function _S(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=LA(r,t),r!==null){r.flags&=32767,Or=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Lr=6,Or=null;return}}else if(r=DA(r,t,Kn),r!==null){Or=r;return}if(t=t.sibling,t!==null){Or=t;return}Or=t=e}while(t!==null);Lr===0&&(Lr=5)}function _i(e,t,r){var n=Mt,a=da.transition;try{da.transition=null,Mt=1,HA(e,t,r,n)}finally{da.transition=a,Mt=n}return null}function HA(e,t,r,n){do Ds();while(Ho!==null);if(dt&6)throw Error(le(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(le(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(_M(e,o),e===Yr&&(Or=Yr=null,an=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ff||(ff=!0,PS(Hf,function(){return Ds(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=da.transition,da.transition=null;var i=Mt;Mt=1;var s=dt;dt|=4,zy.current=null,BA(e,r),xS(r,e),fA(rg),Xf=!!tg,rg=tg=null,e.current=r,FA(r),mM(),dt=s,Mt=i,da.transition=o}else e.current=r;if(ff&&(ff=!1,Ho=e,cd=a),o=e.pendingLanes,o===0&&(ti=null),xM(r.stateNode),Bn(e,wr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(ld)throw ld=!1,e=kg,kg=null,e;return cd&1&&e.tag!==0&&Ds(),o=e.pendingLanes,o&1?e===jg?xc++:(xc=0,jg=e):xc=0,ui(),null}function Ds(){if(Ho!==null){var e=oj(cd),t=da.transition,r=Mt;try{if(da.transition=null,Mt=16>e?16:e,Ho===null)var n=!1;else{if(e=Ho,Ho=null,cd=0,dt&6)throw Error(le(331));var a=dt;for(dt|=4,je=e.current;je!==null;){var o=je,i=o.child;if(je.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(je=u;je!==null;){var d=je;switch(d.tag){case 0:case 11:case 15:yc(8,d,o)}var f=d.child;if(f!==null)f.return=d,je=f;else for(;je!==null;){d=je;var h=d.sibling,p=d.return;if(mS(d),d===u){je=null;break}if(h!==null){h.return=p,je=h;break}je=p}}}var m=o.alternate;if(m!==null){var x=m.child;if(x!==null){m.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}je=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,je=i;else e:for(;je!==null;){if(o=je,o.flags&2048)switch(o.tag){case 0:case 11:case 15:yc(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,je=y;break e}je=o.return}}var g=e.current;for(je=g;je!==null;){i=je;var v=i.child;if(i.subtreeFlags&2064&&v!==null)v.return=i,je=v;else e:for(i=g;je!==null;){if(s=je,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Nh(9,s)}}catch(b){hr(s,s.return,b)}if(s===i){je=null;break e}var j=s.sibling;if(j!==null){j.return=s.return,je=j;break e}je=s.return}}if(dt=a,ui(),Va&&typeof Va.onPostCommitFiberRoot=="function")try{Va.onPostCommitFiberRoot(vh,e)}catch{}n=!0}return n}finally{Mt=r,da.transition=t}}return!1}function pb(e,t,r){t=Vs(r,t),t=oS(e,t,1),e=ei(e,t,1),t=Mn(),e!==null&&(Mu(e,1,t),Bn(e,t))}function hr(e,t,r){if(e.tag===3)pb(e,e,r);else for(;t!==null;){if(t.tag===3){pb(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ti===null||!ti.has(n))){e=Vs(r,e),e=iS(t,e,1),t=ei(t,e,1),e=Mn(),t!==null&&(Mu(t,1,e),Bn(t,e));break}}t=t.return}}function VA(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Mn(),e.pingedLanes|=e.suspendedLanes&r,Yr===e&&(an&r)===r&&(Lr===4||Lr===3&&(an&130023424)===an&&500>wr()-Gy?Li(e,0):Uy|=r),Bn(e,t)}function NS(e,t){t===0&&(e.mode&1?(t=ef,ef<<=1,!(ef&130023424)&&(ef=4194304)):t=1);var r=Mn();e=ko(e,t),e!==null&&(Mu(e,t,r),Bn(e,r))}function XA(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),NS(e,r)}function KA(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(le(314))}n!==null&&n.delete(t),NS(e,r)}var OS;OS=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ln.current)Rn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Rn=!1,RA(e,t,r);Rn=!!(e.flags&131072)}else Rn=!1,Qt&&t.flags&1048576&&Cj(t,ed,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Lf(e,t),e=t.pendingProps;var a=Us(t,mn.current);Rs(t,r),a=Dy(null,t,n,e,a,r);var o=Ly();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,In(n)?(o=!0,Qf(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Cy(t),a.updater=_h,t.stateNode=a,a._reactInternals=t,fg(t,n,e,r),t=pg(null,t,n,!0,o,r)):(t.tag=0,Qt&&o&&Sy(t),On(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Lf(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=qA(n),e=_a(n,e),a){case 0:t=hg(null,t,n,e,r);break e;case 1:t=ab(null,t,n,e,r);break e;case 11:t=rb(null,t,n,e,r);break e;case 14:t=nb(null,t,n,_a(n.type,e),r);break e}throw Error(le(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:_a(n,a),hg(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:_a(n,a),ab(e,t,n,a,r);case 3:e:{if(uS(t),e===null)throw Error(le(387));n=t.pendingProps,o=t.memoizedState,a=o.element,Lj(e,t),nd(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=Vs(Error(le(423)),t),t=ob(e,t,n,r,a);break e}else if(n!==a){a=Vs(Error(le(424)),t),t=ob(e,t,n,r,a);break e}else for(Zn=Jo(t.stateNode.containerInfo.firstChild),Qn=t,Qt=!0,Ma=null,r=Rj(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Gs(),n===a){t=jo(e,t,r);break e}On(e,t,n,r)}t=t.child}return t;case 5:return Ij(t),e===null&&lg(t),n=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,i=a.children,ng(n,a)?i=null:o!==null&&ng(n,o)&&(t.flags|=32),cS(e,t),On(e,t,i,r),t.child;case 6:return e===null&&lg(t),null;case 13:return fS(e,t,r);case 4:return Ty(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ws(t,null,n,r):On(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:_a(n,a),rb(e,t,n,a,r);case 7:return On(e,t,t.pendingProps,r),t.child;case 8:return On(e,t,t.pendingProps.children,r),t.child;case 12:return On(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,Wt(td,n._currentValue),n._currentValue=i,o!==null)if($a(o.value,i)){if(o.children===a.children&&!Ln.current){t=jo(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){i=o.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=go(-1,r&-r),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),cg(o.return,r,t),s.lanes|=r;break}l=l.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(le(341));i.lanes|=r,s=i.alternate,s!==null&&(s.lanes|=r),cg(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}On(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Rs(t,r),a=pa(a),n=n(a),t.flags|=1,On(e,t,n,r),t.child;case 14:return n=t.type,a=_a(n,t.pendingProps),a=_a(n.type,a),nb(e,t,n,a,r);case 15:return sS(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:_a(n,a),Lf(e,t),t.tag=1,In(n)?(e=!0,Qf(t)):e=!1,Rs(t,r),aS(t,n,a),fg(t,n,a,r),pg(null,t,n,!0,e,r);case 19:return dS(e,t,r);case 22:return lS(e,t,r)}throw Error(le(156,t.tag))};function PS(e,t){return tj(e,t)}function YA(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ca(e,t,r,n){return new YA(e,t,r,n)}function Xy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qA(e){if(typeof e=="function")return Xy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===dy)return 11;if(e===hy)return 14}return 2}function ni(e,t){var r=e.alternate;return r===null?(r=ca(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ff(e,t,r,n,a,o){var i=2;if(n=e,typeof e=="function")Xy(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case ys:return Ii(r.children,a,o,t);case fy:i=8,a|=8;break;case Rp:return e=ca(12,r,t,a|2),e.elementType=Rp,e.lanes=o,e;case Dp:return e=ca(13,r,t,a),e.elementType=Dp,e.lanes=o,e;case Lp:return e=ca(19,r,t,a),e.elementType=Lp,e.lanes=o,e;case Ik:return Ph(r,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Dk:i=10;break e;case Lk:i=9;break e;case dy:i=11;break e;case hy:i=14;break e;case Io:i=16,n=null;break e}throw Error(le(130,e==null?e:typeof e,""))}return t=ca(i,r,t,a),t.elementType=e,t.type=n,t.lanes=o,t}function Ii(e,t,r,n){return e=ca(7,e,n,t),e.lanes=r,e}function Ph(e,t,r,n){return e=ca(22,e,n,t),e.elementType=Ik,e.lanes=r,e.stateNode={isHidden:!1},e}function Q0(e,t,r){return e=ca(6,e,null,t),e.lanes=r,e}function J0(e,t,r){return t=ca(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ZA(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=E0(0),this.expirationTimes=E0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=E0(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Ky(e,t,r,n,a,o,i,s,l){return e=new ZA(e,t,r,s,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=ca(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cy(o),e}function QA(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ms,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function MS(e){if(!e)return si;e=e._reactInternals;e:{if(ts(e)!==e||e.tag!==1)throw Error(le(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(In(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(le(171))}if(e.tag===1){var r=e.type;if(In(r))return Mj(e,r,t)}return t}function AS(e,t,r,n,a,o,i,s,l){return e=Ky(r,n,!0,e,a,o,i,s,l),e.context=MS(null),r=e.current,n=Mn(),a=ri(r),o=go(n,a),o.callback=t??null,ei(r,o,a),e.current.lanes=a,Mu(e,a,n),Bn(e,n),e}function Mh(e,t,r,n){var a=t.current,o=Mn(),i=ri(a);return r=MS(r),t.context===null?t.context=r:t.pendingContext=r,t=go(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ei(a,t,i),e!==null&&(Ea(e,a,i,o),$f(e,a,i)),i}function fd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function gb(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Yy(e,t){gb(e,t),(e=e.alternate)&&gb(e,t)}function JA(){return null}var CS=typeof reportError=="function"?reportError:function(e){console.error(e)};function qy(e){this._internalRoot=e}Ah.prototype.render=qy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(le(409));Mh(e,t,null,null)};Ah.prototype.unmount=qy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vi(function(){Mh(null,e,null,null)}),t[wo]=null}};function Ah(e){this._internalRoot=e}Ah.prototype.unstable_scheduleHydration=function(e){if(e){var t=lj();e={blockedOn:null,target:e,priority:t};for(var r=0;r<zo.length&&t!==0&&t<zo[r].priority;r++);zo.splice(r,0,e),r===0&&uj(e)}};function Zy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ch(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function mb(){}function eC(e,t,r,n,a){if(a){if(typeof n=="function"){var o=n;n=function(){var u=fd(i);o.call(u)}}var i=AS(t,n,e,0,null,!1,!1,"",mb);return e._reactRootContainer=i,e[wo]=i.current,Dc(e.nodeType===8?e.parentNode:e),Vi(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var s=n;n=function(){var u=fd(l);s.call(u)}}var l=Ky(e,0,!1,null,null,!1,!1,"",mb);return e._reactRootContainer=l,e[wo]=l.current,Dc(e.nodeType===8?e.parentNode:e),Vi(function(){Mh(t,l,r,n)}),l}function Th(e,t,r,n,a){var o=r._reactRootContainer;if(o){var i=o;if(typeof a=="function"){var s=a;a=function(){var l=fd(i);s.call(l)}}Mh(t,i,e,a)}else i=eC(r,t,e,a,n);return fd(i)}ij=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=sc(t.pendingLanes);r!==0&&(my(t,r|1),Bn(t,wr()),!(dt&6)&&(Xs=wr()+500,ui()))}break;case 13:Vi(function(){var n=ko(e,1);if(n!==null){var a=Mn();Ea(n,e,1,a)}}),Yy(e,1)}};yy=function(e){if(e.tag===13){var t=ko(e,134217728);if(t!==null){var r=Mn();Ea(t,e,134217728,r)}Yy(e,134217728)}};sj=function(e){if(e.tag===13){var t=ri(e),r=ko(e,t);if(r!==null){var n=Mn();Ea(r,e,t,n)}Yy(e,t)}};lj=function(){return Mt};cj=function(e,t){var r=Mt;try{return Mt=e,t()}finally{Mt=r}};Xp=function(e,t,r){switch(t){case"input":if(Fp(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=kh(n);if(!a)throw Error(le(90));Fk(n),Fp(n,a)}}}break;case"textarea":Uk(e,r);break;case"select":t=r.value,t!=null&&Cs(e,!!r.multiple,t,!1)}};Yk=Wy;qk=Vi;var tC={usingClientEntryPoint:!1,Events:[Cu,ws,kh,Xk,Kk,Wy]},Kl={findFiberByHostInstance:Mi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rC={bundleType:Kl.bundleType,version:Kl.version,rendererPackageName:Kl.rendererPackageName,rendererConfig:Kl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Oo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Jk(e),e===null?null:e.stateNode},findFiberByHostInstance:Kl.findFiberByHostInstance||JA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var df=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!df.isDisabled&&df.supportsFiber)try{vh=df.inject(rC),Va=df}catch{}}ea.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tC;ea.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zy(t))throw Error(le(200));return QA(e,t,null,r)};ea.createRoot=function(e,t){if(!Zy(e))throw Error(le(299));var r=!1,n="",a=CS;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Ky(e,1,!1,null,null,r,!1,n,a),e[wo]=t.current,Dc(e.nodeType===8?e.parentNode:e),new qy(t)};ea.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(le(188)):(e=Object.keys(e).join(","),Error(le(268,e)));return e=Jk(t),e=e===null?null:e.stateNode,e};ea.flushSync=function(e){return Vi(e)};ea.hydrate=function(e,t,r){if(!Ch(t))throw Error(le(200));return Th(null,e,t,!0,r)};ea.hydrateRoot=function(e,t,r){if(!Zy(e))throw Error(le(405));var n=r!=null&&r.hydratedSources||null,a=!1,o="",i=CS;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=AS(t,null,e,1,r??null,a,!1,o,i),e[wo]=t.current,Dc(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Ah(t)};ea.render=function(e,t,r){if(!Ch(t))throw Error(le(200));return Th(null,e,t,!1,r)};ea.unmountComponentAtNode=function(e){if(!Ch(e))throw Error(le(40));return e._reactRootContainer?(Vi(function(){Th(null,null,e,!1,function(){e._reactRootContainer=null,e[wo]=null})}),!0):!1};ea.unstable_batchedUpdates=Wy;ea.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ch(r))throw Error(le(200));if(e==null||e._reactInternals===void 0)throw Error(le(38));return Th(e,t,r,!1,n)};ea.version="18.3.1-next-f1338f8080-20240426";function TS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(TS)}catch(e){console.error(e)}}TS(),Tk.exports=ea;var nC=Tk.exports,yb=nC;Ep.createRoot=yb.createRoot,Ep.hydrateRoot=yb.hydrateRoot;const ai=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,confirmText:o="I know the risk and insist to continue",cancelText:i="Cancel"})=>e?c.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:c.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-2xl shadow-2xl border border-amber-500/30 overflow-hidden transform transition-all scale-100",children:[c.jsxs("div",{className:"bg-amber-500/10 p-6 flex flex-col items-center justify-center border-b border-amber-500/20",children:[c.jsx("div",{className:"w-16 h-16 bg-amber-100 dark:bg-amber-900/30 rounded-full flex items-center justify-center mb-4",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-amber-600 dark:text-amber-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white text-center",children:n})]}),c.jsx("div",{className:"p-6",children:c.jsx("div",{className:"text-gray-600 dark:text-slate-300 text-center text-sm leading-relaxed",children:a})}),c.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800/50 flex gap-3 justify-end border-t border-gray-200 dark:border-slate-800",children:[c.jsx("button",{onClick:t,className:"px-4 py-2 bg-white hover:bg-gray-100 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-700 dark:text-slate-200 font-semibold rounded-lg border border-gray-300 dark:border-slate-600 transition-colors text-sm",children:i}),c.jsx("button",{onClick:r,className:"px-4 py-2 bg-amber-600 hover:bg-amber-700 text-white font-bold rounded-lg shadow-lg shadow-amber-500/20 transition-all active:scale-95 text-sm",children:o})]})]})}):null,aC=({onFileSelected:e,onGenerateFakeDng:t,fileName:r,hasGeneratedData:n,viewMode:a,onSetViewMode:o,patternPeriod:i,onPatternPeriodChange:s,fillFactor:l,onFillFactorChange:u,patternPhase:d,onPatternPhaseChange:f,showPatternControls:h,onOpenAbout:p,onShowExif:m,bridgeStatus:x,onBridgeClick:w,isDrLabOpen:y,onToggleDrLab:g,isColorLabOpen:v,onToggleColorLab:j,isFftLabOpen:b,onToggleFftLab:k,isSfrLabOpen:N,onToggleSfrLab:_,onGenerateTestPic:O,onPTCFilesSelected:A,onDownloadDng:T,isThreePlane:M,onOpenDatabase:C,isSidebarOpen:I,onToggleSidebar:D,stretchMultiplier:U,onStretchMultiplierChange:P,onStretchDngExport:E,isRawLoaded:B})=>{const z=S.useRef(null),te=S.useRef(null),[Q,R]=S.useState(!1),[J,q]=S.useState(!1),[$,ne]=S.useState(!1),[ce,Y]=S.useState(!1),[ue,he]=S.useState("direct"),K=S.useRef(null),Pe=S.useRef(null);S.useEffect(()=>{const ge=xe=>{K.current&&!K.current.contains(xe.target)&&ne(!1),Pe.current&&!Pe.current.contains(xe.target)&&Y(!1)};return document.addEventListener("mousedown",ge),()=>document.removeEventListener("mousedown",ge)},[]);const ke=ge=>{var xe;ne(!1),ge==="direct"?(he("direct"),R(!0)):!x.isConnected||!x.hasDngConverter?q(!0):(he("convert"),(xe=z.current)==null||xe.click())},oe=()=>{var ge;R(!1),(ge=z.current)==null||ge.click()},we=ge=>{var Ie;const xe=(Ie=ge.target.files)==null?void 0:Ie[0];xe&&e(xe,ue),ge.target.value=""},ve=ge=>{ge.target.files&&ge.target.files.length>0&&A(ge.target.files),ge.target.value=""},Ke=r==="pattern_test.dng"||(r==null?void 0:r.startsWith("Diff_"));return c.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-4 flex-shrink-0 relative z-50 font-mono",children:[c.jsx(ai,{isOpen:Q,onClose:()=>R(!1),onConfirm:oe,title:"Format Compatibility Warning",confirmText:"Continue",message:c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx("p",{className:"font-bold text-gray-800 dark:text-gray-200 text-base",children:"Adobe DNG ConverterDNG"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Only 4-channel DNG files output by Adobe DNG Converter are fully guaranteed to be supported."}),c.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 border border-gray-400 dark:border-slate-600",children:[c.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-500 mb-1",children:"Download Adobe DNG Converter:"}),c.jsx("a",{href:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline text-xs break-all",children:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html"})]})]})}),c.jsx(ai,{isOpen:J,onClose:()=>q(!1),onConfirm:()=>q(!1),title:"DNG Converter Missing",confirmText:"OK",cancelText:"Cancel",message:c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx("p",{className:"font-bold text-red-600 dark:text-red-400 text-base",children:"JiangBridge Offline or Adobe DNG Converter not installed (you may have to restart your device after installing ADC to use it here)"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"To use the conversion feature, you must run JiangBridge locally and have Adobe DNG Converter installed on your system."}),c.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 border border-gray-400 dark:border-slate-600",children:[c.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-500 mb-1",children:"Download Adobe DNG Converter:"}),c.jsx("a",{href:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline text-xs break-all",children:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html"})]})]})}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-black dark:text-white text-center sm:text-left tracking-tight border-2 border-black dark:border-white px-2 py-1 bg-white dark:bg-black",children:"Jiangtherapee_Online"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400 hidden lg:block max-w-xs truncate font-bold",title:r||"No image loaded",children:r||"No_Image_Loaded"}),M&&c.jsx("span",{className:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400 border-2 border-red-500 dark:border-red-800 text-[10px] font-bold px-2 py-1 animate-pulse",children:" 3-PLANE / RGB MODE"})]}),c.jsxs("div",{className:"flex items-center gap-4 flex-wrap justify-end",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[B&&c.jsxs("div",{className:"flex items-center bg-white dark:bg-black border-2 border-black dark:border-gray-500 p-1 gap-2 shadow-[2px_2px_0px_black]",children:[c.jsx("span",{className:"text-[10px] font-bold text-gray-500 dark:text-gray-400 uppercase ml-1",children:"Stretch"}),c.jsx("input",{type:"text",value:U,onChange:ge=>P(ge.target.value),className:"w-12 px-1 text-center bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-700 text-xs font-mono text-cyan-600 dark:text-cyan-400 focus:outline-none",title:"Multiplier for code values (data, BL, WL)"}),c.jsx("button",{onClick:E,className:"bg-cyan-600 hover:bg-cyan-500 text-white font-bold py-1 px-3 text-[10px] border border-black transition-all active:scale-95 whitespace-nowrap",title:"Stretch current RAW data to 16-bit and export as DNG",children:"Export 16bit DNG"})]}),c.jsxs("button",{onClick:x.isConnected?void 0:w,className:`px-3 py-1.5 text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-[2px_2px_0px_black] border-2 border-black dark:border-gray-500 ${x.isConnected?"bg-emerald-100 text-emerald-900 border-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-400 dark:border-emerald-600 cursor-default":"bg-pink-100 text-pink-900 border-pink-800 dark:bg-pink-900/30 dark:text-pink-400 dark:border-pink-600 hover:bg-pink-200 dark:hover:bg-pink-900/50 cursor-pointer animate-pulse"}`,title:x.isConnected?"Local Bridge Service Connected":"Click to download Jiangbridge",children:[c.jsx("span",{className:`w-2 h-2 ${x.isConnected?"bg-emerald-600":"bg-pink-600"}`}),x.isConnected?`JiangBridge Ready ${x.hasDngConverter?"DNG+":""}`:"JiangBridge Offline"]}),y&&c.jsxs("button",{onClick:g,className:"px-3 py-1.5 text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-[2px_2px_0px_black] border-2 border-indigo-800 bg-indigo-100 text-indigo-900 dark:bg-indigo-900/30 dark:text-indigo-400 dark:border-indigo-600 hover:bg-indigo-200 dark:hover:bg-indigo-900/50 cursor-pointer animate-in fade-in",title:"Click to turn off DR Lab",children:[c.jsx("span",{className:"w-2 h-2 bg-indigo-600 animate-pulse"}),"DR Lab On"]}),v&&c.jsxs("button",{onClick:j,className:"px-3 py-1.5 text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-[2px_2px_0px_black] border-2 border-yellow-800 bg-yellow-100 text-yellow-900 dark:bg-yellow-900/30 dark:text-yellow-400 dark:border-yellow-600 hover:bg-yellow-200 dark:hover:bg-yellow-900/50 cursor-pointer animate-in fade-in",title:"Click to turn off Color Lab",children:[c.jsx("span",{className:"w-2 h-2 bg-yellow-500 animate-pulse"}),"Color Lab On"]}),b&&c.jsxs("button",{onClick:k,className:"px-3 py-1.5 text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-[2px_2px_0px_black] border-2 border-fuchsia-800 bg-fuchsia-100 text-fuchsia-900 dark:bg-fuchsia-900/30 dark:text-fuchsia-400 dark:border-fuchsia-600 hover:bg-fuchsia-200 dark:hover:bg-fuchsia-900/50 cursor-pointer animate-in fade-in",title:"Click to turn off FFT Lab",children:[c.jsx("span",{className:"w-2 h-2 bg-fuchsia-600 animate-pulse"}),"FFT Lab On"]}),N&&c.jsxs("button",{onClick:_,className:"px-3 py-1.5 text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-[2px_2px_0px_black] border-2 border-orange-800 bg-orange-100 text-orange-900 dark:bg-orange-900/30 dark:text-orange-400 dark:border-orange-600 hover:bg-orange-200 dark:hover:bg-orange-900/50 cursor-pointer animate-in fade-in",title:"Click to turn off SFR Lab",children:[c.jsx("span",{className:"w-2 h-2 bg-orange-600 animate-pulse"}),"SFR Lab On"]}),n&&c.jsxs("div",{className:"flex bg-gray-200 dark:bg-slate-800 p-1 border-2 border-black dark:border-gray-500 shadow-inner transition-colors duration-300 gap-1",children:[c.jsx("button",{onClick:()=>o("reference"),className:`px-3 py-1.5 text-xs sm:text-sm font-bold transition-all duration-200 border-2 ${a==="reference"?"bg-green-600 text-white border-black":"bg-gray-100 text-black border-transparent hover:bg-gray-300"}`,title:"The perfect uniform input",children:"Perfect"}),c.jsx("button",{onClick:()=>o("sampled"),className:`px-3 py-1.5 text-xs sm:text-sm font-bold transition-all duration-200 border-2 ${a==="sampled"?"bg-blue-600 text-white border-black":"bg-gray-100 text-black border-transparent hover:bg-gray-300"}`,title:"Sampled Sensor View with Aperture Visualization",children:"Sampled (Sensor)"}),c.jsx("button",{onClick:()=>o("processed"),className:`px-3 py-1.5 text-xs sm:text-sm font-bold transition-all duration-200 border-2 ${a==="processed"?"bg-purple-600 text-white border-black":"bg-gray-100 text-black border-transparent hover:bg-gray-300"}`,title:"Demosaiced Result",children:"Result"})]})]}),Ke&&c.jsxs("div",{className:"flex items-center gap-2 animate-in fade-in slide-in-from-right-4 duration-300",children:[h&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-100 dark:bg-slate-800/50 p-1.5 border border-gray-400 dark:border-slate-600 transition-colors duration-300",children:[c.jsx("span",{className:"text-[10px] text-gray-600 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Density (Period)"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"range",min:"0.1",max:"10",step:"0.1",value:i,onChange:ge=>s(parseFloat(ge.target.value)),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 appearance-none cursor-pointer accent-purple-500 border border-black",title:"Adjust the period of the line pairs in pixels"}),c.jsx("div",{className:"relative",children:c.jsx("input",{type:"number",min:"0.1",max:"100",step:"0.01",value:i,onChange:ge=>{const xe=parseFloat(ge.target.value);isNaN(xe)||s(xe)},className:"w-16 bg-white dark:bg-slate-900 border border-gray-400 dark:border-slate-600 px-1 py-0.5 text-xs font-mono text-purple-700 dark:text-purple-300 text-right focus:outline-none focus:border-purple-500 focus:ring-1 focus:ring-purple-500 transition-colors duration-300"})})]})]}),c.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-100 dark:bg-slate-800/50 p-1.5 border border-gray-400 dark:border-slate-600 transition-colors duration-300",children:[c.jsx("span",{className:"text-[10px] text-gray-600 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Phase"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:d,onChange:ge=>f(parseFloat(ge.target.value)),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 appearance-none cursor-pointer accent-pink-500 border border-black",title:"Shift pattern phase (0-1 cycle)"}),c.jsx("div",{className:"relative",children:c.jsx("input",{type:"number",min:"0",max:"1",step:"0.01",value:d,onChange:ge=>{const xe=parseFloat(ge.target.value);isNaN(xe)||f(xe)},className:"w-12 bg-white dark:bg-slate-900 border border-gray-400 dark:border-slate-600 px-1 py-0.5 text-xs font-mono text-pink-700 dark:text-pink-300 text-right focus:outline-none focus:border-pink-500 focus:ring-1 focus:ring-pink-500 transition-colors duration-300"})})]})]}),c.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-100 dark:bg-slate-800/50 p-1.5 border border-gray-400 dark:border-slate-600 transition-colors duration-300",children:[c.jsx("span",{className:"text-[10px] text-gray-600 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Fill Factor"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"range",min:"1",max:"100",step:"1",value:l*100,onChange:ge=>u(parseInt(ge.target.value)/100),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 appearance-none cursor-pointer accent-green-500 border border-black",title:"Adjust pixel aperture fill factor %"}),c.jsxs("div",{className:"relative flex items-center",children:[c.jsx("input",{type:"number",min:"1",max:"100",step:"1",value:Math.round(l*100),onChange:ge=>{const xe=parseInt(ge.target.value);isNaN(xe)||u(Math.min(100,Math.max(1,xe))/100)},className:"w-12 bg-white dark:bg-slate-900 border border-gray-400 dark:border-slate-600 px-1 py-0.5 text-xs font-mono text-green-700 dark:text-green-300 text-right focus:outline-none focus:border-green-500 focus:ring-1 focus:ring-green-500 transition-colors duration-300"}),c.jsx("span",{className:"ml-1 text-[10px] text-gray-500 dark:text-slate-500 font-mono",children:"%"})]})]})]})]}),c.jsxs("button",{onClick:T,className:`flex flex-col items-center justify-center p-2 transition-colors group border-2 border-black dark:border-gray-500 shadow-[2px_2px_0px_black] active:translate-x-[2px] active:translate-y-[2px] active:shadow-none ${r!=null&&r.startsWith("Diff_")?"bg-fuchsia-100 hover:bg-fuchsia-200 dark:bg-fuchsia-900/40 dark:hover:bg-fuchsia-900/60":"bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700"}`,title:r!=null&&r.startsWith("Diff_")?"Export Subtracted Frame as DNG":"Download Synthetic DNG",children:[c.jsx("svg",{className:`w-5 h-5 ${r!=null&&r.startsWith("Diff_")?"text-fuchsia-600 group-hover:text-fuchsia-800":"text-gray-600 dark:text-slate-400 group-hover:text-black dark:group-hover:text-white"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),c.jsx("span",{className:"text-[8px] font-bold uppercase mt-0.5 opacity-70",children:"DNG"})]})]}),c.jsx("input",{type:"file",ref:z,onChange:we,className:"hidden",accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),c.jsx("input",{type:"file",ref:te,onChange:ve,className:"hidden",multiple:!0,accept:".csv"}),c.jsxs("div",{className:"relative inline-block text-left",ref:Pe,children:[c.jsxs("button",{onClick:()=>Y(!ce),className:"bg-purple-700 hover:bg-purple-600 text-white font-bold py-2 px-4 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] active:translate-x-[2px] active:translate-y-[2px] active:shadow-[2px_2px_0px_black] transition-all duration-100 text-sm whitespace-nowrap flex items-center gap-2",children:["TEST Tools",c.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${ce?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),ce&&c.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-slate-800 shadow-[8px_8px_0px_rgba(0,0,0,0.5)] ring-1 ring-black ring-opacity-5 focus:outline-none z-50 overflow-hidden origin-top-right transition-all animate-in fade-in slide-in-from-top-2 border-2 border-black dark:border-gray-500",children:c.jsxs("div",{className:"py-1",children:[c.jsxs("button",{onClick:()=>{Y(!1),t()},className:"w-full text-left px-4 py-3 text-sm text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors flex items-center gap-2 border-b border-gray-300 dark:border-gray-600",children:[c.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),c.jsx("span",{children:"Generate Pattern DNG"})]}),c.jsxs("button",{onClick:()=>{Y(!1),y||g(),b&&k(),v&&j&&j(),N&&_&&_()},className:`w-full text-left px-4 py-3 text-sm transition-colors flex items-center gap-2 border-b border-gray-300 dark:border-gray-600 ${y?"bg-indigo-100 dark:bg-indigo-900/40 text-indigo-800 dark:text-indigo-300 font-bold":"text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:[c.jsx("svg",{className:"w-4 h-4 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),c.jsxs("span",{children:["DR Lab ",y?"(On)":""]})]}),c.jsxs("button",{onClick:()=>{Y(!1),j&&!v&&j(),y&&g(),b&&k(),N&&_&&_()},className:`w-full text-left px-4 py-3 text-sm transition-colors flex items-center gap-2 border-b border-gray-300 dark:border-gray-600 ${v?"bg-yellow-100 dark:bg-yellow-900/40 text-yellow-800 dark:text-yellow-300 font-bold":"text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:[c.jsx("svg",{className:"w-4 h-4 text-yellow-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"})}),c.jsxs("span",{children:["Color Lab ",v?"(On)":""]})]}),c.jsxs("button",{onClick:()=>{Y(!1),_&&!N&&_(),y&&g(),b&&k(),v&&j&&j()},className:`w-full text-left px-4 py-3 text-sm transition-colors flex items-center gap-2 border-b border-gray-300 dark:border-gray-600 ${N?"bg-orange-100 dark:bg-orange-900/40 text-orange-800 dark:text-orange-300 font-bold":"text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:[c.jsx("svg",{className:"w-4 h-4 text-orange-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),c.jsxs("span",{children:["SFR Lab ",N?"(On)":""]})]}),c.jsxs("button",{onClick:()=>{Y(!1),b||k(),y&&g(),v&&j&&j(),N&&_&&_()},className:`w-full text-left px-4 py-3 text-sm transition-colors flex items-center gap-2 border-b border-gray-300 dark:border-gray-600 ${b?"bg-fuchsia-100 dark:bg-fuchsia-900/40 text-fuchsia-800 dark:text-fuchsia-300 font-bold":"text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:[c.jsx("svg",{className:"w-4 h-4 text-fuchsia-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2m0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),c.jsxs("span",{children:["FFT Lab ",b?"(On)":""]})]}),c.jsxs("button",{onClick:()=>{var ge;Y(!1),(ge=te.current)==null||ge.click()},className:"w-full text-left px-4 py-3 text-sm text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[c.jsx("svg",{className:"w-4 h-4 text-emerald-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})}),c.jsx("span",{children:"Generate PTC & TargetSNR"})]})]})})]}),c.jsxs("div",{className:"relative inline-block text-left",ref:K,children:[c.jsxs("button",{onClick:()=>ne(!$),className:"bg-cyan-700 hover:bg-cyan-600 text-white font-bold py-2 px-4 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] active:translate-x-[2px] active:translate-y-[2px] active:shadow-[2px_2px_0px_black] transition-all duration-100 text-sm whitespace-nowrap flex items-center gap-2",children:["Load Image",c.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${$?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),$&&c.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-slate-800 shadow-[8px_8px_0px_rgba(0,0,0,0.5)] ring-1 ring-black ring-opacity-5 focus:outline-none z-50 overflow-hidden origin-top-right transition-all animate-in fade-in slide-in-from-top-2 border-2 border-black dark:border-gray-500",children:c.jsxs("div",{className:"py-1",children:[c.jsxs("button",{onClick:()=>ke("direct"),className:"w-full text-left px-4 py-3 text-sm text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors flex items-center gap-2 border-b border-gray-300 dark:border-gray-600",children:[c.jsx("svg",{className:"w-4 h-4 text-cyan-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),c.jsx("span",{children:"Load Image (Direct)"})]}),c.jsxs("button",{onClick:()=>ke("convert"),className:"w-full text-left px-4 py-3 text-sm text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[c.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),c.jsx("span",{children:"Convert to Adobe DNG & Load"})]})]})})]}),r&&m&&c.jsxs("button",{onClick:m,className:"bg-orange-600 hover:bg-orange-500 text-white font-bold py-2 px-4 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] active:translate-x-[2px] active:translate-y-[2px] active:shadow-[2px_2px_0px_black] transition-all duration-100 text-sm whitespace-nowrap flex items-center gap-1",title:"View EXIF Data",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"EXIF"]}),c.jsx("button",{onClick:p,className:"bg-teal-700 hover:bg-teal-600 text-white font-bold py-2 px-4 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] active:translate-x-[2px] active:translate-y-[2px] active:shadow-[2px_2px_0px_black] transition-all duration-100 text-sm whitespace-nowrap",children:"About/Tutorial/Tools"}),c.jsx("a",{href:"https://y-g-jiang.github.io/index.html",target:"_blank",rel:"noopener noreferrer",className:"bg-gray-300 hover:bg-gray-200 dark:bg-slate-700 dark:hover:bg-slate-600 text-black dark:text-white font-bold py-2 px-4 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] active:translate-x-[2px] active:translate-y-[2px] active:shadow-[2px_2px_0px_black] transition-all duration-100 text-sm no-underline",children:"Home"}),c.jsxs("button",{onClick:D,className:`bg-slate-700 hover:bg-slate-600 text-white font-bold py-2 px-3 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] active:translate-x-[2px] active:translate-y-[2px] active:shadow-[2px_2px_0px_black] transition-all duration-100 text-sm whitespace-nowrap flex items-center gap-2 ${I?"":"ring-2 ring-cyan-500 ring-offset-2 dark:ring-offset-black"}`,title:I?"Hide Control Panel":"Show Control Panel",children:[c.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:I?c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"}):c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})}),c.jsx("span",{className:"hidden sm:inline",children:I?"Hide Panel":"Show Panel"})]})]})]})},oC=({image:e,zoom:t,pan:r,onPanChange:n,onZoomChange:a,onSelectionChange:o,forcedSelection:i,theme:s,touchAction:l="pan",isMarking:u=!1,onPointClick:d,markers:f=[],gridRects:h=[],colorLabPoints:p=[],colorLabRects:m=[]})=>{var J;const x=S.useRef(null),w=S.useRef(document.createElement("canvas")),[y,g]=S.useState(!1),[v,j]=S.useState({x:0,y:0}),b=S.useRef(null),k=S.useRef(null),N=S.useRef(null),[_,O]=S.useState(!1),[A,T]=S.useState(null),[M,C]=S.useState(null);S.useEffect(()=>{i!==void 0&&C(i)},[i]);const I=S.useCallback(()=>{const q=x.current,$=q==null?void 0:q.getContext("2d");return{canvas:q,ctx:$}},[]);S.useEffect(()=>{const q=w.current,$=q.getContext("2d");if(!e||!$)return;let ne=0,ce=0;e instanceof ImageData?(ne=e.width,ce=e.height):e instanceof HTMLImageElement&&(ne=e.naturalWidth,ce=e.naturalHeight),!(ne===0||ce===0)&&((q.width!==ne||q.height!==ce)&&(q.width=ne,q.height=ce),e instanceof ImageData?$.putImageData(e,0,0):($.clearRect(0,0,ne,ce),$.drawImage(e,0,0)))},[e]);const D=S.useCallback(()=>{const{canvas:q,ctx:$}=I();if(!(!q||!$||!e)){if($.setTransform(1,0,0,1,0,0),$.fillStyle=s==="dark"?"rgb(15, 23, 42)":"rgb(243, 244, 246)",$.fillRect(0,0,q.width,q.height),$.setTransform(t,0,0,t,r.x,r.y),w.current.width>0&&($.imageSmoothingEnabled=!1,$.drawImage(w.current,0,0)),M){$.strokeStyle="#06b6d4",$.lineWidth=1/t,$.fillStyle="rgba(6, 182, 212, 0.2)",$.beginPath(),$.rect(M.x,M.y,M.w,M.h),$.fill(),$.stroke(),$.save(),$.fillStyle="#fff";const ne=Math.max(10,14/t);$.font=`${ne}px monospace`,$.shadowColor="rgba(0,0,0,0.8)",$.shadowBlur=4,$.shadowOffsetX=1,$.shadowOffsetY=1,$.fillText(`${Math.round(M.w)}x${Math.round(M.h)}`,M.x,M.y-5/t),$.restore()}if(h&&h.length>0){$.save(),$.strokeStyle="#f59e0b",$.lineWidth=1/t,$.globalAlpha=.8,$.beginPath(),h.forEach(Y=>{$.rect(Y.x,Y.y,Y.w,Y.h)}),$.stroke();const ne=h[0];$.fillStyle="#f59e0b";const ce=Math.max(10,12/t);$.font=`${ce}px monospace`,$.fillText(`${ne.w}x${ne.h}`,ne.x,ne.y-4/t),$.restore()}if(f&&f.length>0){$.save();const ne=6/t,ce=Math.max(12,16/t);$.font=`bold ${ce}px sans-serif`,$.textAlign="center",$.textBaseline="middle",f.forEach((Y,ue)=>{$.beginPath(),$.arc(Y.x,Y.y,ne,0,2*Math.PI),$.fillStyle="white",$.fill(),$.strokeStyle="#4338ca",$.lineWidth=2/t,$.stroke(),$.fillStyle="#4338ca",$.fillText((ue+1).toString(),Y.x,Y.y-12/t)}),$.restore()}if(p&&p.length>0){$.save();const ne=5/t,ce=Math.max(10,14/t);$.font=`bold ${ce}px sans-serif`,$.textAlign="center",$.textBaseline="middle",p.forEach((Y,ue)=>{$.fillStyle="yellow",$.fillRect(Y.x-ne,Y.y-ne,ne*2,ne*2),$.strokeStyle="black",$.lineWidth=1/t,$.strokeRect(Y.x-ne,Y.y-ne,ne*2,ne*2),$.fillStyle="yellow",$.shadowColor="black",$.shadowBlur=2,$.fillText((ue+1).toString(),Y.x,Y.y-10/t)}),$.restore()}if(m&&m.length>0){if($.save(),$.strokeStyle="yellow",$.lineWidth=1/t,$.globalAlpha=.9,$.beginPath(),m.forEach(ne=>{$.rect(ne.x,ne.y,ne.w,ne.h)}),$.stroke(),m[0]){const ne=m[0];$.fillStyle="yellow",$.shadowColor="black",$.shadowBlur=3;const ce=Math.max(10,12/t);$.font=`${ce}px monospace`,$.fillText(`${Math.round(ne.w)}x${Math.round(ne.h)}`,ne.x,ne.y-4/t)}$.restore()}}},[I,e,t,r,s,M,f,h,p,m]);S.useEffect(()=>{const{canvas:q}=I();if(!q)return;const $=new ResizeObserver(()=>{q.width=q.clientWidth,q.height=q.clientHeight,D()});return $.observe(q),()=>$.disconnect()},[I,D]),S.useEffect(()=>{D()},[D,e,r,t,s,M,f,h,p,m]);const U=q=>{const{canvas:$}=I();if(!$)return{x:0,y:0};const ne=$.getBoundingClientRect();return{x:q.clientX-ne.left,y:q.clientY-ne.top}},P=(q,$)=>({x:(q-r.x)/t,y:($-r.y)/t}),E=q=>{q.preventDefault();const $=U(q);if(u){const ne=P($.x,$.y);d&&d(ne);return}if(q.shiftKey||l==="select"){O(!0);const ne=P($.x,$.y),ce={x:Math.floor(ne.x),y:Math.floor(ne.y)};T(ce),C(null),o&&o(null)}else g(!0),j({x:$.x-r.x,y:$.y-r.y})},B=q=>{const $=U(q);if(_&&A){const ne=P($.x,$.y),ce=Math.floor(ne.x),Y=Math.floor(ne.y),ue=Math.min(A.x,ce),he=Math.min(A.y,Y),K=Math.max(A.x,ce),Pe=Math.max(A.y,Y),ke=K-ue+1,oe=Pe-he+1;C({x:ue,y:he,w:ke,h:oe})}else y&&n({x:$.x-v.x,y:$.y-v.y})},z=()=>{_&&(O(!1),M&&o&&M.w>0&&M.h>0&&o(M)),g(!1)},te=q=>{var $;if(q.touches.length===1){const ne=q.touches[0],ce=($=x.current)==null?void 0:$.getBoundingClientRect();if(!ce)return;const Y=ne.clientX-ce.left,ue=ne.clientY-ce.top;if(u){const he=P(Y,ue);d&&d(he);return}if(l==="select"){const he=P(Y,ue),K={x:Math.floor(he.x),y:Math.floor(he.y)};T(K),O(!0),C(null),o&&o(null)}else N.current={x:Y,y:ue},j({x:Y-r.x,y:ue-r.y}),g(!0)}else if(q.touches.length===2){const ne=Math.hypot(q.touches[0].clientX-q.touches[1].clientX,q.touches[0].clientY-q.touches[1].clientY);b.current=ne,k.current=t,g(!1),O(!1)}},Q=q=>{var $;if(q.touches.length===1){const ne=q.touches[0],ce=($=x.current)==null?void 0:$.getBoundingClientRect();if(!ce)return;const Y=ne.clientX-ce.left,ue=ne.clientY-ce.top;if(u)return;if(_&&A){const he=P(Y,ue),K=Math.floor(he.x),Pe=Math.floor(he.y),ke=Math.min(A.x,K),oe=Math.min(A.y,Pe),we=Math.max(A.x,K),ve=Math.max(A.y,Pe),Ke=we-ke+1,ge=ve-oe+1;C({x:ke,y:oe,w:Ke,h:ge})}else y&&n({x:Y-v.x,y:ue-v.y})}else if(q.touches.length===2&&b.current&&k.current&&a){const ce=Math.hypot(q.touches[0].clientX-q.touches[1].clientX,q.touches[0].clientY-q.touches[1].clientY)/b.current;a(k.current*ce)}},R=()=>{_&&(O(!1),M&&o&&M.w>0&&M.h>0&&o(M)),g(!1),b.current=null,k.current=null,N.current=null};return c.jsx("canvas",{ref:x,className:`w-full h-full block touch-none ${u||_||(J=window.event)!=null&&J.shiftKey||l==="select"?"cursor-crosshair":"cursor-grab active:cursor-grabbing"}`,onMouseDown:E,onMouseMove:B,onMouseUp:z,onMouseLeave:z,onTouchStart:te,onTouchMove:Q,onTouchEnd:R,onTouchCancel:R,tabIndex:0})},fs=({title:e,children:t})=>c.jsxs("div",{className:"border-b border-gray-200 dark:border-slate-700 transition-colors duration-300",children:[c.jsx("div",{className:"p-4 font-semibold text-gray-800 dark:text-slate-200 bg-gray-50 dark:bg-slate-800/30 border-b border-gray-200 dark:border-slate-800 select-none cursor-default transition-colors duration-300",children:c.jsx("span",{children:e})}),c.jsx("div",{className:"p-4 bg-white dark:bg-slate-900/50 transition-colors duration-300",children:t})]}),iC=[{value:-1,label:"Raw Bayer (Grayscale)"},{value:0,label:"Linear interpolation"},{value:1,label:"VNG (Variable Number of Gradients)"},{value:2,label:"PPG (Patterned Pixel Grouping)"},{value:3,label:"AHD (Adaptive Homogeneity-Directed)"},{value:4,label:"DCB (Demosaicing with Color Back-refinement)"},{value:11,label:"DHT (Modified AHD)"},{value:12,label:"AAHD (Adaptive AHD)"}],hf=({checked:e,onChange:t,label:r})=>c.jsxs("div",{className:"flex items-center justify-between py-2 cursor-pointer group",onClick:()=>t(!e),children:[c.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-slate-300 select-none group-hover:text-gray-900 dark:group-hover:text-slate-200 transition-colors",children:r}),c.jsx("div",{className:`relative w-11 h-6 rounded-full transition-colors duration-200 ease-in-out ${e?"bg-cyan-500 dark:bg-cyan-600":"bg-gray-300 dark:bg-slate-600 group-hover:bg-gray-400 dark:group-hover:bg-slate-500"}`,children:c.jsx("div",{className:`absolute left-1 top-1 bg-white w-4 h-4 rounded-full shadow-md transform transition-transform duration-200 ease-in-out ${e?"translate-x-5":"translate-x-0"}`})})]}),vb=(e,t)=>{if(!e)return null;if(t){const r=e.bayerPattern.toUpperCase(),n=l=>{const u=[];for(let d=0;d<4;d++)r[d]===l&&u.push(d);return u},a=t.BlackLevelRed,o=t.BlackLevelGreen,i=t.BlackLevelBlue;if(a!==void 0&&o!==void 0&&i!==void 0){const l=parseFloat(a),u=parseFloat(o),d=parseFloat(i);if(!isNaN(l)&&!isNaN(u)&&!isNaN(d)){const f=[0,0,0,0];return f.fill(u),n("R").forEach(h=>f[h]=l),n("G").forEach(h=>f[h]=u),n("B").forEach(h=>d),f}}let s=t.BlackLevel;if(s===void 0&&(s=t.BlackLevel2),s!==void 0){let l=[];if(Array.isArray(s)?l=s.map(Number):typeof s=="string"?l=s.trim().split(/\s+/).map(Number):typeof s=="number"&&(l=[s,s,s,s]),l.length===1&&!isNaN(l[0])&&(l=[l[0],l[0],l[0],l[0]]),l.length>=4&&!l.slice(0,4).some(isNaN))return[l[0],l[1],l[2],l[3]]}}return e.blackLevels&&e.blackLevels.length===4?[e.blackLevels[0],e.blackLevels[1],e.blackLevels[2],e.blackLevels[3]]:null},sC=e=>{const{rawImageData:t,displaySettings:r,onApplyDisplaySettings:n,onSetSelection:a,exifData:o,isBridgeConnected:i,isDrLabOpen:s,drMarkingStep:l,onStartMarking:u,onGenerateTestPic:d,drRoiSize:f,onDrRoiSizeChange:h,drGridRows:p,onDrGridRowsChange:m,drGridCols:x,onDrGridColsChange:w,onBatchDrLab:y,hasDrMarkers:g,isFftLabOpen:v,onProcessPair:j,onProcessBatchDiff:b,onProcessStackFft:k,onOpenCrossCalc:N,isThreePlane:_,onToggleXTrans:O,xtransPhase:A,onXTransPhaseChange:T,isXTransConverted:M,onCommand:C,isColorLabOpen:I,colorLabMarkingStep:D,onStartColorLabMarking:U,isSfrLabOpen:P,roiStats:E,onOpenDngExport:B}=e,z=!!t,te=!!(t!=null&&t.isXTrans),Q=!!O,[R,J]=S.useState(r.exposure.toString()),[q,$]=S.useState(""),[ne,ce]=S.useState("0 0 0 0"),[Y,ue]=S.useState("1.0"),[he,K]=S.useState("1.0"),[Pe,ke]=S.useState(r.demosaicMethod),[oe,we]=S.useState(!!r.showKadc),[ve,Ke]=S.useState(!!r.subtractBlackLevelFromStats),[ge,xe]=S.useState("64"),[Ie,it]=S.useState(!1),[bt,gr]=S.useState(!1),[lt,er]=S.useState("0 0 0 0"),[Ue,Ht]=S.useState("2840 6303 3935 6303"),[Rt,tr]=S.useState("780 1720 1101 1720"),[jr,yt]=S.useState(!1),[Ge,ct]=S.useState(!1),[Nt,rr]=S.useState(!1),[nr,Zr]=S.useState("single"),Ct=S.useRef(null),yn=S.useRef(null),wt=S.useRef(null),vn=S.useRef(null),[zr,La]=S.useState(null),[Dt,sn]=S.useState(null),[mr,Tn]=S.useState(!1),[Ur,Sr]=S.useState(!0),xn=S.useRef(null),xa=S.useRef(null);S.useEffect(()=>{if(J(r.exposure.toString()),r.customMatrix?($(r.customMatrix.join(" ")),it(!0)):$(""),r.blackLevel&&r.blackLevel.length===4)ce(r.blackLevel.join(" "));else{const X=vb(t,o);ce(X?X.join(" "):"0 0 0 0")}ue(r.wbGains?r.wbGains[0].toString():"1.0"),K(r.wbGains?r.wbGains[1].toString():"1.0"),ke(r.demosaicMethod),we(!!r.showKadc),Ke(!!r.subtractBlackLevelFromStats),r.advancedZeroDep&&(er(r.advancedZeroDep.bl.join(" ")),Ht(r.advancedZeroDep.bg.join(" ")),tr(r.advancedZeroDep.fg.join(" ")),gr(!0))},[r,t,o]);const Zt=X=>J(X),ar=X=>ue(X),zt=X=>K(X),ie=X=>ke(parseInt(X.target.value,10)),Ce=X=>$(X.target.value),ze=()=>{J("0"),ke(3),ue("1.0"),K("1.0"),we(!0),Ke(!0),$(""),it(!1),gr(!1);const X=vb(t,o);ce(X?X.join(" "):"0 0 0 0")},et=()=>{!t||!a||(a({x:0,y:0,w:t.width,h:t.height}),C==null||C("sel full"))},Qe=()=>{if(!t||!a)return;const X=parseInt(ge,10);if(isNaN(X)||X<=0)return;const Oe=Math.min(X,t.width),ut=Math.min(X,t.height),ln=Math.floor((t.width-Oe)/2),vr=Math.floor((t.height-ut)/2);a({x:ln,y:vr,w:Oe,h:ut}),C==null||C(`sel center ${X}`)},kt=()=>{const Oe=ne.split(/[\s,]+/).filter(ut=>ut.trim()!=="").map(Number);if(Oe.length===1&&!isNaN(Oe[0]))return[Oe[0],Oe[0],Oe[0],Oe[0]];if(Oe.length>=4&&!Oe.slice(0,4).some(isNaN))return[Oe[0],Oe[1],Oe[2],Oe[3]]},or=X=>{const Oe=X.trim().split(/[\s,]+/).map(Number);return Oe.length===4&&!Oe.some(isNaN)?Oe:Oe.length===1&&!isNaN(Oe[0])?[Oe[0],Oe[0],Oe[0],Oe[0]]:null},yr=()=>{C&&(R!=="0"&&C(`ev ${R}`),(Y!=="1.0"||he!=="1.0")&&C(`wb ${Y} ${he}`),ne!=="0 0 0 0"&&C(`bl ${ne}`),Pe!==3&&C(`demo ${Pe}`),q.trim().length>0&&C(`matrix ${q.replace(/\s+/g," ")}`),C("render"));const X={...r},Oe=parseFloat(R);isNaN(Oe)||(X.exposure=Oe);const ut=parseFloat(Y),ln=parseFloat(he);if(!isNaN(ut)&&!isNaN(ln)&&(X.wbGains=[ut,ln]),X.demosaicMethod=Pe,X.renderMode="standard",Ie){const vr=kt();vr&&(X.blackLevel=vr);const Cr=q.trim().replace(/[\s,\n]+/g," ");if(Cr){const sr=Cr.split(" ").map(Number);sr.length===9&&!sr.some(isNaN)?X.customMatrix=sr:alert("Invalid matrix format. Please ensure exactly 9 numeric values (3x3).")}else delete X.customMatrix;X.showKadc=oe,X.subtractBlackLevelFromStats=ve}else delete X.customMatrix,delete X.blackLevel,delete X.showKadc,delete X.subtractBlackLevelFromStats;n(X)},Fe=()=>{ct(!0)},st=X=>{C&&(R!=="0"&&C(`ev ${R}`),(Y!=="1.0"||he!=="1.0")&&C(`wb ${Y} ${he}`),ne!=="0 0 0 0"&&C(`bl ${ne}`),C(X==="bilinear"?"render zero color":"render zero"));const Oe={...r},ut=kt();ut&&(Oe.blackLevel=ut);const ln=parseFloat(Y),vr=parseFloat(he);!isNaN(ln)&&!isNaN(vr)&&(Oe.wbGains=[ln,vr]);const Cr=parseFloat(R);if(isNaN(Cr)||(Oe.exposure=Cr),X==="bilinear"){const sr=q.trim().replace(/[\s,\n]+/g," ");if(sr){const ro=sr.split(" ").map(Number);ro.length===9&&!ro.some(isNaN)&&(Oe.customMatrix=ro)}}Oe.renderMode=X==="mosaic"?"zero-dependency":"zero-dep-color",ct(!1),n(Oe)},Lt=()=>{const X=or(lt),Oe=or(Ue),ut=or(Rt);if(!X||!Oe||!ut){alert("Please enter valid 4-channel numbers for BL, BG, and FG.");return}C&&(R!=="0"&&C(`ev ${R}`),C(`render unmix ${X.join(" ")} ${Oe.join(" ")} ${ut.join(" ")}`));const ln={...r,renderMode:"advanced-zero-dep",advancedZeroDep:{bl:X,bg:Oe,fg:ut}};n(ln)},Tt=()=>{if(E){const X=E.means,Oe=[X[0],X[1],X[3],X[2]].map(ut=>ut.toFixed(1));Ht(Oe.join(" "))}else alert("Please select an ROI on the image first.")},ir=()=>{if(E){const X=E.means,Oe=[X[0],X[1],X[3],X[2]].map(ut=>ut.toFixed(1));tr(Oe.join(" "))}else alert("Please select an ROI on the image first.")},pe=X=>{X.target.files&&X.target.files.length>0&&y&&(y(X.target.files,nr),C==null||C(`drlab batch ${nr}`)),X.target.value="",rr(!1)},Ar=async X=>{var ut;const Oe=(ut=X.target.files)==null?void 0:ut[0];if(Oe){try{const vr=(await Oe.text()).split(`
`),Cr=[];Cr.push("#BlackLevel: 0,0,0,0"),Cr.push("#ImageHeight: 0"),Cr.push("Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std");let sr=1;for(let Ia=0;Ia<vr.length;Ia++){const Wn=vr[Ia].trim();if(!Wn||Wn.includes("R_mean")||Wn.includes("R_std"))continue;const Jr=Wn.split(/\s+/).map(Number);if(Jr.length<8||Jr.some(isNaN))continue;const ka=[sr,1,Jr[0],Jr[2],Jr[6],Jr[4],Jr[1],Jr[3],Jr[7],Jr[5]].join(",");Cr.push(ka),sr++}const ro=new Blob([Cr.join(`
`)],{type:"text/csv"}),wa=URL.createObjectURL(ro),no=document.createElement("a");no.href=wa,no.download=Oe.name.replace(/\.[^/.]+$/,"")+"_converted.csv",document.body.appendChild(no),no.click(),document.body.removeChild(no),URL.revokeObjectURL(wa)}catch(ln){console.error("Conversion failed",ln),alert("Failed to convert file.")}X.target.value=""}},ba=X=>{X.target.files&&X.target.files[0]&&(La(X.target.files[0]),C==null||C("fft load a"))},Qr=X=>{X.target.files&&X.target.files[0]&&(sn(X.target.files[0]),C==null||C("fft load b"))},bn=()=>{zr&&Dt&&j&&(j(zr,Dt,mr,Ur),C==null||C("fft run"))},Co=X=>{X.target.files&&X.target.files.length>0&&b&&(b(X.target.files),C==null||C("fft batch")),X.target.value=""},To=X=>{X.target.files&&X.target.files.length>0&&k&&(k(X.target.files),C==null||C("fft stack")),X.target.value=""},ra=!!M;return c.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-black",children:[c.jsxs("div",{className:"flex-grow overflow-y-auto",children:[_&&c.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-3 border-b border-red-100 dark:border-red-800 text-center animate-pulse",children:[c.jsx("p",{className:"text-xs font-bold text-red-600 dark:text-red-400 uppercase tracking-wide",children:" 3-Plane / Full Color"}),c.jsx("p",{className:"text-[10px] text-red-500/80 dark:text-red-300/70 mt-1",children:"Demosaic disabled. Stats analysis treated as pseudo-Bayer."})]}),te&&!M&&c.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-3 border-b border-amber-100 dark:border-amber-800 text-center",children:[c.jsx("p",{className:"text-xs font-bold text-amber-600 dark:text-amber-400 uppercase tracking-wide",children:" X-Trans Native (Unsupported)"}),c.jsx("p",{className:"text-[10px] text-amber-600/80 dark:text-amber-300/70 mt-1 text-left leading-tight px-1",children:"Currently reading raw 6x6 pattern as Bayer. Stats will be incorrect. Please enable Pseudo-Bayer conversion below."})]}),M&&c.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 p-3 border-b border-emerald-100 dark:border-emerald-800 text-center",children:[c.jsx("p",{className:"text-xs font-bold text-emerald-600 dark:text-emerald-400 uppercase tracking-wide",children:" X-Trans Pseudo-Bayer"}),c.jsx("p",{className:"text-[10px] text-emerald-600/80 dark:text-emerald-300/70 mt-1 text-left leading-tight px-1",children:"Converted 6x6  2x2 RGGB (Subsampled). Demosaic & Analysis fully supported."})]}),P&&c.jsx(fs,{title:"SFR Lab Tools (Scalar Unmixing)",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 p-3 rounded border border-orange-200 dark:border-orange-800",children:[c.jsx("h4",{className:"text-[10px] font-bold text-orange-600 dark:text-orange-400 uppercase mb-2",children:"Analyze ROI"}),c.jsx("p",{className:"text-[10px] text-gray-500 dark:text-slate-400 mb-2",children:"Select an edge on the main canvas and click analyze. Use the pop-up modal to view ESF/LSF/MTF."}),c.jsx("div",{className:"text-center text-xs font-bold text-orange-500",children:"(ROI Analysis Window is Active)"})]}),c.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 w-full"}),c.jsx(hf,{checked:bt,onChange:gr,label:" (Scalar Unmixing)"}),bt&&c.jsxs("div",{className:"space-y-4 pl-2 border-l-2 border-indigo-200 dark:border-indigo-900 animate-in slide-in-from-top-2 duration-200",children:[c.jsxs("div",{className:"grid grid-cols-5 gap-1 items-center text-[9px] uppercase font-bold text-gray-400 mb-[-8px]",children:[c.jsx("div",{className:"col-span-1",children:"Param"}),c.jsx("div",{className:"text-center",children:"Ch0(R)"}),c.jsx("div",{className:"text-center",children:"Ch1(G1)"}),c.jsx("div",{className:"text-center",children:"Ch2(B)"}),c.jsx("div",{className:"text-center",children:"Ch3(G2)"})]}),c.jsxs("div",{className:"grid grid-cols-5 gap-2 items-center",children:[c.jsx("span",{className:"text-[10px] font-bold text-red-500",children:"BL:"}),c.jsx("input",{type:"text",value:lt,onChange:X=>er(X.target.value),className:"col-span-4 px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-xs font-mono text-gray-900 dark:text-slate-100"})]}),c.jsxs("div",{className:"grid grid-cols-5 gap-2 items-center",children:[c.jsx("span",{className:"text-[10px] font-bold text-indigo-500",children:"B ():"}),c.jsxs("div",{className:"col-span-4 flex gap-1",children:[c.jsx("input",{type:"text",value:Ue,onChange:X=>Ht(X.target.value),className:"flex-1 px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-xs font-mono text-gray-900 dark:text-slate-100"}),c.jsx("button",{onClick:Tt,className:"px-2 bg-gray-200 dark:bg-slate-700 hover:bg-gray-300 dark:hover:bg-slate-600 text-[9px] rounded font-bold transition-colors",title:"Fill with current ROI mean stats (Raw DN)",children:"Pick"})]})]}),c.jsxs("div",{className:"grid grid-cols-5 gap-2 items-center",children:[c.jsx("span",{className:"text-[10px] font-bold text-emerald-500",children:"F ():"}),c.jsxs("div",{className:"col-span-4 flex gap-1",children:[c.jsx("input",{type:"text",value:Rt,onChange:X=>tr(X.target.value),className:"flex-1 px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-xs font-mono text-gray-900 dark:text-slate-100"}),c.jsx("button",{onClick:ir,className:"px-2 bg-gray-200 dark:bg-slate-700 hover:bg-gray-300 dark:hover:bg-slate-600 text-[9px] rounded font-bold transition-colors",title:"Fill with current ROI mean stats (Raw DN)",children:"Pick"})]})]}),c.jsx("button",{onClick:Lt,disabled:!z,className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-2 rounded text-[10px] shadow transition-transform active:scale-95",children:"RUN UNMIXING (ADV ZERO-DEP)"}),c.jsx("p",{className:"text-[9px] text-gray-400 italic text-center",children:" + sRGB Gamma "})]})]})}),v&&c.jsx(fs,{title:"FFT Lab (Noise Profile)",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"space-y-3 bg-gray-50 dark:bg-slate-800/40 p-3 rounded-xl border border-gray-100 dark:border-slate-800",children:[c.jsxs("h4",{className:"text-[10px] font-bold text-fuchsia-600 dark:text-fuchsia-400 uppercase tracking-widest flex items-center gap-2",children:[c.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-fuchsia-500"})," 1. Pair Difference (Sub)"]}),c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx("input",{type:"file",ref:Ct,className:"hidden",onChange:ba,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),c.jsx("button",{onClick:()=>{var X;return(X=Ct.current)==null?void 0:X.click()},className:`w-full py-2 px-3 rounded-lg border text-[10px] font-bold text-left truncate transition-colors ${zr?"bg-fuchsia-55 dark:bg-fuchsia-900/20 border-fuchsia-300 dark:border-fuchsia-800 text-fuchsia-700 dark:text-fuchsia-300":"bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-600 text-gray-500 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:zr?`A: ${zr.name}`:"Load Image A"}),c.jsx("input",{type:"file",ref:yn,className:"hidden",onChange:Qr,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),c.jsx("button",{onClick:()=>{var X;return(X=yn.current)==null?void 0:X.click()},className:`w-full py-2 px-3 rounded-lg border text-[10px] font-bold text-left truncate transition-colors ${Dt?"bg-fuchsia-55 dark:bg-fuchsia-900/20 border-fuchsia-300 dark:border-fuchsia-800 text-fuchsia-700 dark:text-fuchsia-300":"bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-600 text-gray-500 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:Dt?`B: ${Dt.name}`:"Load Image B"})]}),c.jsx("div",{className:"flex flex-col gap-1.5 pt-1",children:c.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:Ur,onChange:X=>Sr(X.target.checked),className:"w-3 h-3 text-fuchsia-600 border-gray-300 rounded focus:ring-0"}),c.jsx("span",{className:"text-[10px] text-gray-600 dark:text-slate-300",children:"Normalize (2)"})]})}),c.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[c.jsx("button",{onClick:bn,disabled:!zr||!Dt,className:"w-full bg-fuchsia-600 hover:bg-fuchsia-500 disabled:opacity-30 text-white font-bold py-2 rounded shadow transition-all active:scale-95 text-[10px]",children:"Generate Diff & Load"}),c.jsx("input",{type:"file",ref:wt,className:"hidden",multiple:!0,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff",onChange:Co}),c.jsx("button",{onClick:()=>{var X;return(X=wt.current)==null?void 0:X.click()},className:"w-full bg-slate-700 hover:bg-slate-600 text-white font-bold py-2 rounded shadow transition-all active:scale-95 text-[10px] flex items-center justify-center gap-1",children:"Batch Diffs (Auto Download)"})]})]}),c.jsxs("div",{className:"space-y-3 bg-gray-50 dark:bg-slate-800/40 p-3 rounded-xl border border-gray-100 dark:border-slate-800",children:[c.jsxs("h4",{className:"text-[10px] font-bold text-cyan-600 dark:text-cyan-400 uppercase tracking-widest flex items-center gap-2",children:[c.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-cyan-500"})," 2. Stack FFT (Avg PSD)"]}),c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx("input",{type:"file",ref:vn,className:"hidden",multiple:!0,onChange:To,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),c.jsx("button",{onClick:()=>{var X;return(X=vn.current)==null?void 0:X.click()},className:"w-full py-3 bg-cyan-600 hover:bg-cyan-500 text-white font-bold rounded-lg shadow-md transition-all active:scale-95 text-[10px] flex items-center justify-center gap-2",children:"Select Sequence Files"})]})]}),c.jsx("div",{className:"flex flex-col gap-2 pt-2",children:c.jsx("button",{onClick:()=>{N==null||N(),C==null||C("crosscalc")},className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-2 px-4 rounded-lg shadow-md transition-all active:scale-95 text-[10px] flex items-center justify-center gap-2",children:"Cross-Compensation Calc"})})]})}),s&&c.jsx(fs,{title:"DR Lab Tools",children:c.jsxs("div",{className:"space-y-4",children:[c.jsx("button",{onClick:()=>{d==null||d(),C==null||C("gen test")},className:"w-full bg-amber-500 hover:bg-amber-600 text-white font-bold py-2 px-4 rounded-lg shadow-md transition-colors text-sm",children:"Generate Test Pic"}),c.jsxs("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-3",children:[c.jsx("h4",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-2",children:"Grid Analysis"}),h&&f!==void 0&&c.jsx("div",{className:"flex items-center justify-between mb-3",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Box Size:"}),c.jsx("input",{type:"number",min:"8",max:"512",step:"2",value:f,onChange:X=>h(parseInt(X.target.value)||64),className:"w-12 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 text-center"}),c.jsx("span",{className:"text-xs text-gray-400",children:"px"})]})}),m&&w&&p!==void 0&&x!==void 0&&c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Layout:"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"number",min:"1",max:"50",value:p,onChange:X=>m(Math.max(1,parseInt(X.target.value)||1)),className:"w-10 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md outline-none text-sm text-center",title:"Rows"}),c.jsx("span",{className:"text-xs text-gray-400",children:"x"}),c.jsx("input",{type:"number",min:"1",max:"50",value:x,onChange:X=>w(Math.max(1,parseInt(X.target.value)||1)),className:"w-10 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md outline-none text-sm text-center",title:"Columns"})]})]}),c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx("button",{onClick:()=>{u==null||u(),C==null||C("mark")},disabled:!z||l!==void 0&&l>0,className:`w-full font-bold py-2 px-4 rounded-lg shadow-md transition-all text-sm ${z?l&&l>0?"bg-indigo-100 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300 border-2 border-indigo-500":"bg-indigo-600 hover:bg-indigo-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:l&&l>0?"Marking Active...":"Mark Corners"}),y&&c.jsxs(c.Fragment,{children:[c.jsx("input",{type:"file",ref:xn,className:"hidden",multiple:!0,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff",onChange:pe}),c.jsxs("div",{className:"relative",children:[c.jsx("button",{onClick:()=>rr(!Nt),disabled:!g,className:"w-full font-bold py-2 px-4 rounded-lg shadow-md transition-all text-sm bg-emerald-600 hover:bg-emerald-700 disabled:bg-gray-300 disabled:text-gray-500 disabled:cursor-not-allowed text-white flex items-center justify-center gap-2",children:"Reuse Last & Batch"}),Nt&&c.jsxs("div",{className:"absolute bottom-full left-0 w-full mb-1 bg-white dark:bg-slate-800 rounded-lg shadow-xl border border-gray-200 dark:border-slate-700 overflow-hidden z-20 flex flex-col animate-in fade-in zoom-in-95 duration-100",children:[c.jsx("button",{className:"px-4 py-2 text-left text-xs hover:bg-gray-100 dark:hover:bg-slate-700 text-gray-700 dark:text-slate-200 border-b border-gray-100 dark:border-slate-700",onClick:()=>{var X;Zr("single"),(X=xn.current)==null||X.click()},children:"1. Independent Frames"}),c.jsx("button",{className:"px-4 py-2 text-left text-xs hover:bg-gray-100 dark:hover:bg-slate-700 text-indigo-600 dark:text-indigo-400 font-bold",onClick:()=>{var X;Zr("pair"),(X=xn.current)==null||X.click()},children:"2. Pair Difference (A-B)"})]})]})]}),c.jsxs("div",{className:"pt-2 mt-2 border-t border-gray-100 dark:border-slate-800",children:[c.jsx("input",{type:"file",ref:xa,className:"hidden",accept:".txt",onChange:Ar}),c.jsx("button",{onClick:()=>{var X;return(X=xa.current)==null?void 0:X.click()},className:"w-full font-bold py-2 px-4 rounded-lg shadow-sm transition-all text-xs bg-slate-100 hover:bg-slate-200 dark:bg-slate-800 dark:hover:bg-slate-700 text-gray-600 dark:text-slate-300 flex items-center justify-center gap-2 border border-gray-300 dark:border-slate-600",children:"Convert Format (.txt  .csv)"})]})]}),l!==void 0&&l>0&&c.jsx("div",{className:"mt-2 text-center",children:c.jsxs("p",{className:"text-xs text-indigo-600 dark:text-indigo-400 font-bold animate-pulse",children:[l===1&&"Click Top-Left Center",l===2&&"Click Top-Right Center",l===3&&"Click Bottom-Left Center",l===4&&"Click Bottom-Right Center"]})})]})]})}),I&&c.jsx(fs,{title:"Color Lab Tools",children:c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"text-sm text-gray-600 dark:text-slate-300 mb-2",children:"Calibrate colors using a standard ColorChecker 24 chart."}),c.jsx("button",{onClick:()=>{U==null||U(),C==null||C("cl mark")},disabled:!z||D!==void 0&&D>0,className:`w-full font-bold py-2 px-4 rounded-lg shadow-md transition-all text-sm ${z?D&&D>0?"bg-yellow-100 dark:bg-yellow-900 text-yellow-700 dark:text-yellow-300 border-2 border-yellow-500":"bg-yellow-600 hover:bg-yellow-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:D&&D>0?"Marking Active...":"Mark 24-Patch Chart"}),D!==void 0&&D>0&&c.jsx("div",{className:"mt-2 text-center",children:c.jsxs("p",{className:"text-xs text-yellow-600 dark:text-yellow-400 font-bold animate-pulse",children:[D===1&&"Click Top-Left (Brown)",D===2&&"Click Top-Right (Cyanish)",D===3&&"Click Bottom-Left (White)",D===4&&"Click Bottom-Right (Black)"]})})]})}),c.jsx(fs,{title:"Selection Tools",children:c.jsx("div",{className:"space-y-3",children:c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"Quick Select or Shift+drag"}),c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Size (px):"}),c.jsx("input",{type:"number",min:"1",value:ge,onChange:X=>xe(X.target.value),disabled:!z,className:"flex-1 px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsx("button",{onClick:Qe,disabled:!z,className:"px-3 py-1.5 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-slate-200 text-xs font-semibold rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Center Rect"}),c.jsx("button",{onClick:et,disabled:!z,className:"px-3 py-1.5 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-slate-200 text-xs font-semibold rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Full Image"})]})]})})}),c.jsx(fs,{title:"Display Controls",children:c.jsxs("div",{className:"space-y-5",children:[c.jsxs("p",{className:"text-gray-500 dark:text-slate-400 text-center text-sm",children:["Adjust parameters and click ",c.jsx("b",{children:"Apply"}),"."]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"exposure",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"Exposure (EV)"}),c.jsx("div",{className:"flex items-center gap-2 mb-2",children:c.jsx("input",{type:"range",min:"-5",max:"5",step:"0.1",disabled:!z,value:parseFloat(R)||0,onChange:X=>Zt(X.target.value),className:"w-full h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500 disabled:opacity-50"})}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("input",{id:"exposure",type:"number",step:"0.1",value:R,onChange:X=>Zt(X.target.value),disabled:!z,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})})]}),c.jsxs("div",{children:[c.jsxs("label",{htmlFor:"demosaic",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2 flex justify-between",children:[c.jsx("span",{children:"Demosaic Method"}),(_||(t==null?void 0:t.isXTrans))&&c.jsx("span",{className:"text-[9px] text-red-500 font-bold bg-red-100 dark:bg-red-900/30 px-1 rounded",children:"DISABLED"})]}),c.jsx("select",{id:"demosaic",value:Pe,onChange:ie,disabled:!z||_||(t==null?void 0:t.isXTrans),className:"w-full px-2 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none transition-colors disabled:bg-gray-100 dark:disabled:bg-slate-800/50 disabled:cursor-not-allowed text-sm text-gray-900 dark:text-slate-100",children:iC.map(X=>c.jsx("option",{value:X.value,children:X.label},X.value))}),_&&c.jsx("p",{className:"text-[9px] text-gray-400 mt-1",children:"Full color data detected. Demosaicing skipped."}),(t==null?void 0:t.isXTrans)&&c.jsx("p",{className:"text-[9px] text-amber-500 mt-1",children:"X-Trans detected. Please enable Pseudo-Bayer below."})]}),Q&&c.jsxs("div",{className:"border-t border-gray-100 dark:border-slate-800 pt-2",children:[c.jsx(hf,{checked:!!ra,onChange:X=>{O&&O(X),C==null||C(`xtrans ${X?"on":"off"}`)},label:"Force X-Trans (6x6 -> 2x2)"}),ra&&A&&T&&c.jsxs("div",{className:"mt-2 pl-2 border-l-2 border-emerald-500/50 bg-emerald-50/20 dark:bg-emerald-900/10 p-2 rounded",children:[c.jsx("label",{className:"text-[9px] font-bold text-gray-500 dark:text-slate-400 uppercase block mb-1",children:"Phase Offset (Fine Tune)"}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-[9px] text-gray-400",children:"X (0-5)"}),c.jsx("input",{type:"number",min:"0",max:"5",value:A.x,onChange:X=>{const Oe=Math.min(5,Math.max(0,parseInt(X.target.value)||0));T({x:Oe}),C==null||C(`xtrans phase ${Oe} ${A.y}`)},className:"w-full text-xs px-1 py-0.5 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-center outline-none focus:border-cyan-500"})]}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-[9px] text-gray-400",children:"Y (0-5)"}),c.jsx("input",{type:"number",min:"0",max:"5",value:A.y,onChange:X=>{const Oe=Math.min(5,Math.max(0,parseInt(X.target.value)||0));T({y:Oe}),C==null||C(`xtrans phase ${A.x} ${Oe}`)},className:"w-full text-xs px-1 py-0.5 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-center outline-none focus:border-cyan-500"})]})]})]})]}),c.jsx("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-2",children:c.jsx(hf,{checked:Ie,onChange:it,label:"Advanced Settings"})}),Ie&&c.jsxs("div",{className:"space-y-5 pl-2 border-l-2 border-gray-200 dark:border-slate-700 animate-in slide-in-from-top-2 duration-200",children:[c.jsxs("div",{children:[c.jsx(hf,{checked:oe,onChange:we,label:"Show Kadc"}),c.jsx("p",{className:"text-[10px] text-gray-400 dark:text-slate-500 mt-1",children:"Requires manual Black Levellinear PTC zoneabsolutely uniform image ."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"White Balance Gains"}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-xs text-red-500 dark:text-red-400 block mb-1",children:"Red"}),c.jsx("input",{type:"number",step:"0.01",value:Y,onChange:X=>ar(X.target.value),disabled:!z,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-red-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-xs text-blue-500 dark:text-blue-400 block mb-1",children:"Blue"}),c.jsx("input",{type:"number",step:"0.01",value:he,onChange:X=>zt(X.target.value),disabled:!z,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-blue-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})]})]})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-end mb-2",children:[c.jsxs("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide flex items-center",children:["Black Level (4-Ch)",c.jsx("span",{className:"ml-1 text-[10px] text-gray-400 dark:text-slate-500 font-normal normal-case",children:"Native"}),c.jsx("button",{onClick:()=>yt(!0),className:"ml-2 text-[10px] text-cyan-600 dark:text-cyan-400 hover:text-cyan-700 dark:hover:text-cyan-300 hover:underline cursor-pointer transition-colors",title:"About Black Level Settings",children:"[about]"})]}),c.jsxs("div",{className:"flex items-center gap-1.5",title:"Subtract Black Level from ROI Mean stats (for display)",children:[c.jsx("span",{className:"text-[9px] font-mono text-gray-400 dark:text-slate-500 uppercase tracking-wide",children:"Sub. BL"}),c.jsx("div",{className:`relative w-8 h-4 rounded-full cursor-pointer transition-colors duration-200 ease-in-out ${ve?"bg-cyan-500":"bg-gray-300 dark:bg-slate-700"}`,onClick:()=>Ke(!ve),children:c.jsx("div",{className:`absolute top-0.5 left-0.5 bg-white w-3 h-3 rounded-full shadow-sm transform transition-transform duration-200 ${ve?"translate-x-4":"translate-x-0"}`})})]})]}),c.jsx("input",{type:"text",value:ne,onChange:X=>ce(X.target.value),disabled:!z,placeholder:"0 0 0 0",className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-xs font-mono text-gray-900 dark:text-slate-100 transition-colors duration-300",title:"Enter 4 values separated by space or comma"}),c.jsx("p",{className:"text-[10px] text-gray-400 dark:text-slate-500 mt-1",children:"Order: (0,0) (0,1) (1,0) (1,1). Spatial: TL, TR, BL, BR."})]}),c.jsxs("div",{children:[c.jsxs("label",{htmlFor:"customMatrix",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:["Custom Color Matrix",c.jsx("span",{className:"block text-[10px] text-gray-400 dark:text-slate-500 font-normal normal-case mt-0.5",children:"XYZ to Camera RGB (3x3, 9 nums)"})]}),c.jsx("textarea",{id:"customMatrix",value:q,onChange:Ce,disabled:!z,placeholder:"0.66 -0.19 -0.04  -0.46 1.23 0.25  -0.06 0.13 0.65",className:"w-full h-24 px-2 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none transition-colors disabled:bg-gray-100 dark:disabled:bg-slate-800/50 disabled:cursor-not-allowed text-xs font-mono leading-relaxed text-gray-900 dark:text-slate-100"})]})]}),c.jsxs("div",{className:"pt-4 flex flex-col gap-2",children:[c.jsx("button",{onClick:yr,disabled:!z,className:"w-full text-base bg-cyan-500 hover:bg-cyan-600 dark:bg-cyan-600 dark:hover:bg-cyan-500 disabled:bg-gray-300 dark:disabled:bg-slate-800 disabled:text-gray-500 dark:disabled:text-slate-500 disabled:cursor-not-allowed text-white font-bold py-3 px-3 rounded-lg shadow-lg shadow-cyan-500/20 dark:shadow-cyan-900/20 transition-all active:scale-95",children:""}),c.jsxs("button",{onClick:Fe,disabled:!z,className:"w-full text-xs font-bold bg-slate-700 hover:bg-slate-600 text-white disabled:bg-gray-300 dark:disabled:bg-slate-800 disabled:text-gray-500 transition-colors py-2 rounded-lg flex items-center justify-center gap-1.5 border border-slate-600",title:"Diagnostic Mode. Direct RAW-to-Grayscale mapping using manual Black Level & WB Gains (R/B calibration).",children:[c.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"",c.jsx("br",{}),"CM"]}),c.jsxs("button",{onClick:()=>B==null?void 0:B(),disabled:!z,className:"w-full text-sm font-bold bg-indigo-600 hover:bg-indigo-500 text-white disabled:bg-gray-300 dark:disabled:bg-slate-800 disabled:text-gray-500 transition-all py-3 rounded-lg flex items-center justify-center gap-1.5 border-2 border-black shadow-[4px_4px_0px_black] active:translate-x-1 active:translate-y-1 active:shadow-none",title:"Manual Lab Workstation: 16-bit Bit Shift and Manual DNG Container Packaging",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"Generate 16bit DNG"]}),c.jsx("button",{onClick:ze,disabled:!z,className:"w-full text-xs text-gray-400 hover:text-gray-600 dark:text-slate-400 dark:hover:text-slate-200 disabled:text-gray-300 dark:disabled:text-slate-600 transition-colors mt-1",children:"Reset Defaults (Local)"})]})]})})]}),c.jsx(ai,{isOpen:jr,onClose:()=>yt(!1),onConfirm:()=>{window.open("https://y-g-jiang.github.io/CBLD.html","_blank"),yt(!1)},title:"Black Level Info / ",confirmText:"Visit Database (CBLD)",cancelText:"Close",message:c.jsxs("div",{className:"flex flex-col gap-4 text-left text-sm text-gray-600 dark:text-slate-300",children:[c.jsxs("p",{className:"leading-relaxed",children:["JiangBridge/JiangBridge",c.jsx("a",{href:"https://y-g-jiang.github.io/CBLD.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline mx-1 font-bold",children:"CBLD.html"}),""]}),c.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 w-full"}),c.jsxs("p",{className:"leading-relaxed",children:["Autofills when JiangBridge is detected. If no result is found or JiangBridge is missing, please check the ",c.jsx("a",{href:"https://y-g-jiang.github.io/CBLD.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline mx-1 font-bold",children:"Black Level Database"}),"to find your camera model. However, manually capturing a dark frame with identical settings to calculate and input the values is highly recommended for higher decimal precision, as internal tags often lack accuracy."]})]})}),c.jsx(ai,{isOpen:Ge,onClose:()=>ct(!1),onConfirm:()=>{},title:"Select Zero-Dependency Mode",confirmText:"",cancelText:"",message:c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx("div",{className:"text-gray-600 dark:text-slate-300 text-left text-sm leading-relaxed mb-2",children:"Select how you want to visualize the raw data without full JOraw processing."}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[c.jsxs("button",{onClick:()=>st("mosaic"),className:"flex flex-col items-center justify-center p-4 bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 border-2 border-transparent hover:border-gray-400 dark:hover:border-slate-500 rounded-xl transition-all group",children:[c.jsx("div",{className:"w-12 h-12 bg-gray-300 dark:bg-slate-600 rounded-full flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:c.jsx("svg",{className:"w-6 h-6 text-gray-600 dark:text-slate-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),c.jsx("h4",{className:"font-bold text-gray-800 dark:text-slate-200 mb-1",children:"Mosaic (Gray)"}),c.jsx("p",{className:"text-[10px] text-gray-500 dark:text-slate-400 text-center",children:"Original Bayer pattern. No demosaic. 1:1 pixel mapping. Pure DN visualization."})]}),c.jsxs("button",{onClick:()=>st("bilinear"),className:"flex flex-col items-center justify-center p-4 bg-indigo-50 hover:bg-indigo-100 dark:bg-indigo-900/20 dark:hover:bg-indigo-900/40 border-2 border-transparent hover:border-indigo-400 rounded-xl transition-all group",children:[c.jsx("div",{className:"w-12 h-12 bg-indigo-200 dark:bg-indigo-800 rounded-full flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:c.jsx("svg",{className:"w-6 h-6 text-indigo-700 dark:text-indigo-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"})})}),c.jsx("h4",{className:"font-bold text-indigo-800 dark:text-indigo-300 mb-1",children:"Bilinear (Color)"}),c.jsx("p",{className:"text-[10px] text-indigo-600/80 dark:text-indigo-400/80 text-center",children:"Basic JS Demosaic + Matrix + Gamma. Bypass JOraw pipeline."})]})]}),c.jsx("button",{onClick:()=>ct(!1),className:"mt-2 w-full py-2 text-xs font-bold text-gray-500 hover:text-gray-700 dark:text-slate-400 dark:hover:text-slate-200 transition-colors",children:"Cancel"})]})})]})},lC=S.forwardRef((e,t)=>{const{rawImageData:r,displaySettings:n,onApplyDisplaySettings:a,onSetSelection:o,onStartMarking:i,onGenerateTestPic:s,onBatchDrLab:l,onProcessPair:u,onProcessBatchDiff:d,onProcessStackFft:f,onOpenCrossCalc:h,onToggleXTrans:p,onXTransPhaseChange:m}=e,[x,w]=S.useState([{id:"init",type:"info",text:'Jiangtherapee CLI v1.0. Type "help" for commands.'}]),[y,g]=S.useState(""),[v,j]=S.useState([]),[b,k]=S.useState(-1),N=S.useRef(null),_=S.useRef(null),O=S.useRef(null),A=S.useRef(null),T=S.useRef(null),M=S.useRef(null),C=S.useRef(null),I=S.useRef(null);S.useRef(null);const D=S.useRef({...n});S.useEffect(()=>{D.current={...n}},[n.exposure,n.demosaicMethod]);const U=S.useRef({fileA:null,fileB:null});S.useLayoutEffect(()=>{N.current&&(N.current.scrollTop=N.current.scrollHeight)},[x]);const P=(R,J="out")=>{w(q=>[...q,{id:Date.now().toString()+Math.random(),type:J,text:R}])};S.useImperativeHandle(t,()=>({log:(R,J="in")=>{const q=J;let $=R;J==="in"&&!R.startsWith(">")&&($=`> ${R}`),P($,q)}}));const E=S.useRef(null);S.useEffect(()=>{if(e.roiStats&&e.roiStats!==E.current){const R=e.roiStats,J=Math.round(R.x),q=Math.round(R.y),$=Math.round(R.width),ne=Math.round(R.height);P(`> sel ${J} ${q} ${$} ${ne}`,"in");const ce=e.isBGGR?[{name:"B",idx:0},{name:"G1",idx:1},{name:"G2",idx:2},{name:"R",idx:3}]:[{name:"R",idx:0},{name:"G1",idx:1},{name:"G2",idx:2},{name:"B",idx:3}],Y=c.jsxs("div",{className:"font-mono text-xs mt-1 mb-2",children:[c.jsxs("div",{className:"text-gray-400 mb-1",children:["Region Stats [",J,", ",q,", ",$,"x",ne,"]:"]}),c.jsxs("div",{className:"grid grid-cols-[30px_1fr_1fr] gap-x-2 border-b border-gray-700 pb-1 mb-1 text-gray-500 font-bold",children:[c.jsx("div",{children:"Ch"}),c.jsx("div",{className:"text-right",children:"Mean"}),c.jsx("div",{className:"text-right",children:"StdDev"})]}),ce.map(ue=>c.jsxs("div",{className:"grid grid-cols-[30px_1fr_1fr] gap-x-2 hover:bg-gray-900",children:[c.jsx("div",{className:ue.name==="R"?"text-red-500":ue.name==="B"?"text-blue-500":"text-green-500",children:ue.name}),c.jsx("div",{className:"text-right text-gray-300",children:R.means[ue.idx].toFixed(2)}),c.jsx("div",{className:"text-right text-gray-400",children:R.stdDevs[ue.idx].toFixed(2)})]},ue.name))]});P(Y,"out"),E.current=R}},[e.roiStats,e.isBGGR]);const B=R=>{var ne,ce,Y,ue,he,K,Pe;const J=R.trim().split(/\s+/),q=J[0].toLowerCase(),$=J.slice(1);switch(q){case"help":P("Available Commands:","info"),P("  ev <val>          Set Exposure (e.g. ev 1.5)","info"),P("  wb <r> <b>        Set WB Gains","info"),P("  bl <r> <g>...     Set Black Level (1 or 4 vals)","info"),P("  demo <id>         Demosaic (0=Lin, 3=AHD, -1=Raw)","info"),P("  matrix <n1..n9>   Set Custom Color Matrix","info"),P("  xtrans <on|off>   Force X-Trans Mode","info"),P("  xtrans phase <x> <y>  Set X-Trans Phase","info"),P("  render            Apply settings & Render","info"),P("  render zero       Zero-Dependency Render","info"),P("  render unmix      Advanced Unmixing Render","info"),P("  sel <full|center> Select ROI","info"),P("  sel <x> <y> <w> <h> Select ROI manually","info"),P("  mark              Start DR Lab Corner Marking","info"),P("  gen test          Generate Test Pattern","info"),P("  fft load <a>      Load FFT Pair Image A","info"),P("  fft load <b>      Load FFT Pair Image B","info"),P("  fft run           Run FFT Pair Diff","info"),P("  cls               Clear Screen","info");break;case"cls":case"clear":w([]);break;case"ev":case"exposure":if($.length<1){P(`Current EV: ${D.current.exposure}`,"info");return}const ke=parseFloat($[0]);if(isNaN(ke)){P("Invalid EV value","err");return}D.current.exposure=ke,P(`EV set to ${ke} (run 'render' to apply)`);break;case"wb":if($.length<2){P("Usage: wb <red_gain> <blue_gain>","err");return}const oe=parseFloat($[0]),we=parseFloat($[1]);if(isNaN(oe)||isNaN(we)){P("Invalid gains","err");return}D.current.wbGains=[oe,we],P(`WB set to R:${oe} B:${we}`);break;case"bl":case"black":if($.length===0){P(`Current BL: ${((ne=D.current.blackLevel)==null?void 0:ne.join(" "))||"Auto"}`,"info");return}let ve=$.map(Number);if(ve.some(isNaN)){P("Invalid numbers","err");return}if(ve.length===1&&(ve=[ve[0],ve[0],ve[0],ve[0]]),ve.length<4){P("Need 1 or 4 values","err");return}D.current.blackLevel=[ve[0],ve[1],ve[2],ve[3]],D.current.subtractBlackLevelFromStats=!0,D.current.showKadc=!0,P(`Black Level set: ${ve.slice(0,4).join(" ")}`);break;case"demo":case"demosaic":if($.length===0){P("Usage: demo <id> (0=Lin, 1=VNG, 2=PPG, 3=AHD, 4=DCB, 11=DHT, 12=AAHD, -1=Raw)","info");return}const Ke=parseInt($[0]);if(isNaN(Ke)){P("Invalid method ID","err");return}D.current.demosaicMethod=Ke,P(`Demosaic set to ID ${Ke}`);break;case"matrix":if($.length!==9){P("Usage: matrix m1 m2 m3 m4 m5 m6 m7 m8 m9 (3x3)","err");return}const ge=$.map(Number);if(ge.some(isNaN)){P("Invalid matrix values","err");return}D.current.customMatrix=ge,P("Custom Color Matrix set.");break;case"xtrans":if($[0]==="on"||$[0]==="true")p?(p(!0),P("X-Trans conversion ON")):P("Feature not available","err");else if($[0]==="off"||$[0]==="false")p?(p(!1),P("X-Trans conversion OFF")):P("Feature not available","err");else if($[0]==="phase"){if($.length<3){P("Usage: xtrans phase <x> <y>","err");return}const xe=parseInt($[1]),Ie=parseInt($[2]);m&&(m({x:xe,y:Ie}),P(`X-Trans Phase set to (${xe}, ${Ie})`))}else P("Usage: xtrans <on|off> OR xtrans phase <x> <y>","err");break;case"render":case"apply":if($[0]==="zero"){const xe=$[1]==="color"?"zero-dep-color":"zero-dependency";D.current.renderMode=xe,P(`Rendering Zero-Dependency (${xe})...`)}else if($[0]==="unmix"){if($.length<13){P("Usage: render unmix <4xBL> <4xBG> <4xFG>","err");return}const xe=$.slice(1).map(Number);if(xe.some(isNaN)){P("Invalid params","err");return}D.current.renderMode="advanced-zero-dep",D.current.advancedZeroDep={bl:[xe[0],xe[1],xe[2],xe[3]],bg:[xe[4],xe[5],xe[6],xe[7]],fg:[xe[8],xe[9],xe[10],xe[11]]},P("Rendering Advanced Unmix...")}else D.current.renderMode="standard",P("Rendering Standard Pipeline...");a({...D.current});break;case"sel":case"select":if(!r||!o){P("No image loaded","err");return}if($[0]==="full")o({x:0,y:0,w:r.width,h:r.height});else if($[0]==="center"){const xe=parseInt($[1])||64,Ie=Math.floor((r.width-xe)/2),it=Math.floor((r.height-xe)/2);o({x:Ie,y:it,w:xe,h:xe})}else if($.length===4){const[xe,Ie,it,bt]=$.map(Number);if([xe,Ie,it,bt].some(isNaN)){P("Invalid coordinates","err");return}o({x:xe,y:Ie,w:it,h:bt})}else P("Usage: sel full | sel center <size> | sel <x> <y> <w> <h>","err");break;case"mark":i&&(i(),P("Interactive marking started. Click 4 corners on canvas."));break;case"gen":($[0]==="test"||$[0]==="pattern")&&s&&(s(),P("Generated Test Pattern"));break;case"drlab":if($[0]==="config"){const[xe,Ie,it]=$.slice(1).map(Number);e.onDrRoiSizeChange&&e.onDrRoiSizeChange(xe||64),e.onDrGridRowsChange&&e.onDrGridRowsChange(Ie||10),e.onDrGridColsChange&&e.onDrGridColsChange(it||10),P(`DR Grid Configured: Size=${xe}, Grid=${Ie}x${it}`)}else $[0]==="batch"&&($[1]==="pair"?(P("Select file pairs for DR Lab..."),(ce=A.current)==null||ce.click()):(P("Select single files for DR Lab..."),(Y=O.current)==null||Y.click()));break;case"fft":$[0]==="load"?$[1]==="a"?(ue=T.current)==null||ue.click():$[1]==="b"?(he=M.current)==null||he.click():P("Usage: fft load <a|b>","err"):$[0]==="run"?U.current.fileA&&U.current.fileB&&u?(P(`Processing Pair: ${U.current.fileA.name} - ${U.current.fileB.name}`),u(U.current.fileA,U.current.fileB,!1,!0)):P("Load both A and B first","err"):$[0]==="stack"?(P("Select files for Stack FFT..."),(K=C.current)==null||K.click()):$[0]==="batch"&&(P("Select files for Batch Diff...","info"),(Pe=I.current)==null||Pe.click());break;case"crosscalc":h&&(h(),P("Opened Cross-Calculator"));break;default:P(`Unknown command: ${q}`,"err")}},z=R=>{if(R.key==="Enter"){const J=y.trim();if(!J)return;P(`> ${J}`,"in"),J.split(";").forEach($=>{$.trim()&&B($.trim())}),j($=>[...$,J]),k(-1),g("")}else if(R.key==="ArrowUp"){if(R.preventDefault(),v.length>0){const J=b===-1?v.length-1:Math.max(0,b-1);k(J),g(v[J])}}else if(R.key==="ArrowDown")if(R.preventDefault(),b!==-1){const J=Math.min(v.length-1,b+1);k(J),g(v[J])}else g("")},te=(R,J)=>{R.target.files&&R.target.files.length>0&&l&&(P(`Batch processing ${R.target.files.length} files in ${J} mode...`),l(R.target.files,J)),R.target.value=""},Q=(R,J)=>{var $;const q=($=R.target.files)==null?void 0:$[0];q&&(J==="A"?U.current.fileA=q:U.current.fileB=q,P(`Loaded ${J}: ${q.name}`)),R.target.value=""};return c.jsxs("div",{className:"flex flex-col h-full bg-black text-green-500 font-mono text-sm border-l-4 border-gray-700 p-2 shadow-2xl",children:[c.jsxs("div",{className:"border-b border-green-800 pb-2 mb-2 flex justify-between items-end select-none",children:[c.jsx("h2",{className:"text-xl font-bold tracking-widest",children:"TERMINAL"}),c.jsx("div",{className:"text-[10px] text-green-700",children:"JIANGTHERAPEE_CLI_V1"})]}),c.jsx("div",{ref:N,className:"flex-grow overflow-y-auto overflow-x-hidden break-words mb-2 pr-1 scrollbar-thin scrollbar-thumb-green-900 scrollbar-track-black",children:x.map(R=>c.jsxs("div",{className:`mb-1 ${R.type==="in"?"opacity-50":""} ${R.type==="err"?"text-red-500":""} ${R.type==="info"?"text-cyan-400":""}`,children:[R.type!=="in"&&typeof R.text=="string"&&!R.text.startsWith(">")&&c.jsx("span",{className:"mr-2 opacity-50",children:">"}),R.text]},R.id))}),c.jsxs("div",{className:"relative flex items-center border-t border-green-800 pt-2",children:[c.jsx("span",{className:"text-green-500 mr-2 animate-pulse font-bold",children:">"}),c.jsx("input",{ref:_,type:"text",value:y,onChange:R=>g(R.target.value),onKeyDown:z,autoFocus:!0,className:"w-full bg-transparent border-none outline-none text-green-400 placeholder-green-900",placeholder:"Enter command (e.g. 'help')",spellCheck:!1,autoComplete:"off"})]}),c.jsx("input",{type:"file",ref:O,className:"hidden",multiple:!0,onChange:R=>te(R,"single")}),c.jsx("input",{type:"file",ref:A,className:"hidden",multiple:!0,onChange:R=>te(R,"pair")}),c.jsx("input",{type:"file",ref:T,className:"hidden",onChange:R=>Q(R,"A")}),c.jsx("input",{type:"file",ref:M,className:"hidden",onChange:R=>Q(R,"B")}),c.jsx("input",{type:"file",ref:C,className:"hidden",multiple:!0,onChange:R=>{e.onProcessStackFft&&R.target.files&&(P(`Loading ${R.target.files.length} frames for Stack FFT...`),e.onProcessStackFft(R.target.files)),R.target.value=""}}),c.jsx("input",{type:"file",ref:I,className:"hidden",multiple:!0,onChange:R=>{e.onProcessBatchDiff&&R.target.files&&(P("Starting Batch Diff..."),e.onProcessBatchDiff(R.target.files)),R.target.value=""}})]})}),cC=(e,t)=>{if(!e)return null;if(t){const r=e.bayerPattern.toUpperCase(),n=l=>{const u=[];for(let d=0;d<4;d++)r[d]===l&&u.push(d);return u},a=t.BlackLevelRed,o=t.BlackLevelGreen,i=t.BlackLevelBlue;if(a!==void 0&&o!==void 0&&i!==void 0){const l=parseFloat(a),u=parseFloat(o),d=parseFloat(i);if(!isNaN(l)&&!isNaN(u)&&!isNaN(d)){const f=[0,0,0,0];return f.fill(u),n("R").forEach(h=>f[h]=l),n("G").forEach(h=>f[h]=u),n("B").forEach(h=>d),f}}let s=t.BlackLevel;if(s===void 0&&(s=t.BlackLevel2),s!==void 0){let l=[];if(Array.isArray(s)?l=s.map(Number):typeof s=="string"?l=s.trim().split(/\s+/).map(Number):typeof s=="number"&&(l=[s,s,s,s]),l.length===1&&!isNaN(l[0])&&(l=[l[0],l[0],l[0],l[0]]),l.length>=4&&!l.slice(0,4).some(isNaN))return[l[0],l[1],l[2],l[3]]}}return e.blackLevels&&e.blackLevels.length===4?[e.blackLevels[0],e.blackLevels[1],e.blackLevels[2],e.blackLevels[3]]:null},uC=e=>{const[t,r]=S.useState("gui"),{rawImageData:n,exifData:a,isBridgeConnected:o,displaySettings:i,onApplyDisplaySettings:s}=e,l=S.useRef(null),u=S.useRef(!1),d=S.useRef(null);S.useEffect(()=>{n!==d.current&&(u.current=!1,d.current=n)},[n]),S.useEffect(()=>{var h;if(o&&n&&!u.current){u.current=!0;const p=cC(n,a),m=p&&p.some(x=>x>0);if(p&&m){console.log("[AutoApply] Detected Black Levels via Bridge:",p),(h=l.current)==null||h.log(`Auto-detected BL: ${p.join(" ")}`,"info");const x={...i,blackLevel:p,showKadc:!0,subtractBlackLevelFromStats:!0,exposure:i.exposure,wbGains:i.wbGains||[1,1],demosaicMethod:i.demosaicMethod,renderMode:"standard"};s(x)}}},[o,n,a,i,s]);const f=h=>{l.current&&l.current.log(h,"in")};return c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsxs("div",{className:"flex bg-gray-200 dark:bg-gray-800 p-1 border-b border-gray-300 dark:border-gray-700 flex-shrink-0",children:[c.jsx("button",{onClick:()=>r("gui"),className:`flex-1 py-1 text-xs font-bold uppercase tracking-wider transition-colors border-r border-gray-300 dark:border-gray-700 ${t==="gui"?"bg-white dark:bg-black shadow-inner text-cyan-600 dark:text-cyan-400":"bg-gray-200 dark:bg-gray-900 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"GUI"}),c.jsx("button",{onClick:()=>r("terminal"),className:`flex-1 py-1 text-xs font-bold uppercase tracking-wider transition-colors ${t==="terminal"?"bg-black text-green-500 shadow-inner":"bg-gray-200 dark:bg-gray-900 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"Terminal"})]}),c.jsxs("div",{className:"flex-grow overflow-hidden relative",children:[c.jsx("div",{className:`h-full w-full ${t==="gui"?"block":"hidden"}`,children:c.jsx(sC,{...e,onCommand:f})}),c.jsx("div",{className:`h-full w-full ${t==="terminal"?"block":"hidden"}`,children:c.jsx(lC,{...e,ref:l})})]})]})},fC=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 12H4"})}),dC=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),hC=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h5M4 12a8 8 0 0114.24-5.12M20 20v-5h-5M20 12a8 8 0 01-14.24 5.12"})}),pC=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11"})}),gC=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 4l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})}),Ng=.1,Og=16,mC=Math.log(Ng),yC=Math.log(Og),vC=({zoom:e,onZoomChange:t,onResetView:r,touchAction:n,onToggleTouchAction:a})=>{const o=u=>{const d=parseFloat(u.target.value),f=Math.exp(d);t(Math.max(Ng,Math.min(Og,f)))},i=()=>{t(Math.min(Og,e*1.25))},s=()=>{t(Math.max(Ng,e/1.25))},l=Math.log(e);return c.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",onClick:u=>u.stopPropagation(),children:[c.jsx("div",{className:"bg-white/90 dark:bg-slate-800/70 backdrop-blur-sm p-2 rounded-lg border border-gray-200 dark:border-slate-700 flex items-center shadow-lg transition-colors duration-300",children:c.jsx("button",{onClick:a,className:`p-1.5 rounded-md transition-colors flex items-center justify-center ${n==="select"?"bg-cyan-100 text-cyan-600 dark:bg-cyan-900/50 dark:text-cyan-400 ring-2 ring-cyan-500/50":"text-gray-500 dark:text-slate-400 hover:bg-gray-100 dark:hover:bg-slate-700"}`,title:n==="select"?"Mode: Selection (Drag to Select)":"Mode: Pan (Drag to Move)",children:n==="select"?c.jsx(gC,{}):c.jsx(pC,{})})}),c.jsxs("div",{className:"bg-white/90 dark:bg-slate-800/70 backdrop-blur-sm p-2 rounded-lg border border-gray-200 dark:border-slate-700 flex items-center gap-2 text-gray-700 dark:text-slate-300 shadow-lg transition-colors duration-300",children:[c.jsx("button",{onClick:s,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Zoom Out","aria-label":"Zoom Out",children:c.jsx(fC,{})}),c.jsx("input",{type:"range",min:mC,max:yC,step:"0.01",value:l,onChange:o,className:"w-24 sm:w-32 h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500","aria-label":"Zoom slider"}),c.jsx("button",{onClick:i,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Zoom In","aria-label":"Zoom In",children:c.jsx(dC,{})}),c.jsxs("span",{className:"w-16 text-center font-mono text-sm","aria-live":"polite",children:[(e*100).toFixed(0),"%"]}),c.jsx("button",{onClick:r,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Reset View","aria-label":"Reset View",children:c.jsx(hC,{})})]})]})},xC=({theme:e,setTheme:t})=>{const r=()=>{t(e==="light"?"dark":"light")};return c.jsx("button",{onClick:r,className:"fixed bottom-6 right-6 z-50 p-3 rounded-full bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 shadow-lg text-gray-800 dark:text-yellow-400 hover:bg-gray-100 dark:hover:bg-slate-700 transition-all duration-300",title:`Switch to ${e==="light"?"dark":"light"} mode`,children:e==="light"?c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-slate-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}):c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})})})};function ES(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=ES(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ot(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=ES(e))&&(n&&(n+=" "),n+=t);return n}var bC=Array.isArray,Gn=bC,wC=typeof Ku=="object"&&Ku&&Ku.Object===Object&&Ku,$S=wC,kC=$S,jC=typeof self=="object"&&self&&self.Object===Object&&self,SC=kC||jC||Function("return this")(),to=SC,_C=to,NC=_C.Symbol,Eu=NC,xb=Eu,RS=Object.prototype,OC=RS.hasOwnProperty,PC=RS.toString,Yl=xb?xb.toStringTag:void 0;function MC(e){var t=OC.call(e,Yl),r=e[Yl];try{e[Yl]=void 0;var n=!0}catch{}var a=PC.call(e);return n&&(t?e[Yl]=r:delete e[Yl]),a}var AC=MC,CC=Object.prototype,TC=CC.toString;function EC(e){return TC.call(e)}var $C=EC,bb=Eu,RC=AC,DC=$C,LC="[object Null]",IC="[object Undefined]",wb=bb?bb.toStringTag:void 0;function BC(e){return e==null?e===void 0?IC:LC:wb&&wb in Object(e)?RC(e):DC(e)}var Po=BC;function FC(e){return e!=null&&typeof e=="object"}var Mo=FC,zC=Po,UC=Mo,GC="[object Symbol]";function WC(e){return typeof e=="symbol"||UC(e)&&zC(e)==GC}var jl=WC,HC=Gn,VC=jl,XC=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,KC=/^\w*$/;function YC(e,t){if(HC(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||VC(e)?!0:KC.test(e)||!XC.test(e)||t!=null&&e in Object(t)}var Qy=YC;function qC(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var fi=qC;const Sl=Ft(fi);var ZC=Po,QC=fi,JC="[object AsyncFunction]",e5="[object Function]",t5="[object GeneratorFunction]",r5="[object Proxy]";function n5(e){if(!QC(e))return!1;var t=ZC(e);return t==e5||t==t5||t==JC||t==r5}var Jy=n5;const Xe=Ft(Jy);var a5=to,o5=a5["__core-js_shared__"],i5=o5,ep=i5,kb=function(){var e=/[^.]+$/.exec(ep&&ep.keys&&ep.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function s5(e){return!!kb&&kb in e}var l5=s5,c5=Function.prototype,u5=c5.toString;function f5(e){if(e!=null){try{return u5.call(e)}catch{}try{return e+""}catch{}}return""}var DS=f5,d5=Jy,h5=l5,p5=fi,g5=DS,m5=/[\\^$.*+?()[\]{}|]/g,y5=/^\[object .+?Constructor\]$/,v5=Function.prototype,x5=Object.prototype,b5=v5.toString,w5=x5.hasOwnProperty,k5=RegExp("^"+b5.call(w5).replace(m5,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function j5(e){if(!p5(e)||h5(e))return!1;var t=d5(e)?k5:y5;return t.test(g5(e))}var S5=j5;function _5(e,t){return e==null?void 0:e[t]}var N5=_5,O5=S5,P5=N5;function M5(e,t){var r=P5(e,t);return O5(r)?r:void 0}var rs=M5,A5=rs,C5=A5(Object,"create"),Eh=C5,jb=Eh;function T5(){this.__data__=jb?jb(null):{},this.size=0}var E5=T5;function $5(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var R5=$5,D5=Eh,L5="__lodash_hash_undefined__",I5=Object.prototype,B5=I5.hasOwnProperty;function F5(e){var t=this.__data__;if(D5){var r=t[e];return r===L5?void 0:r}return B5.call(t,e)?t[e]:void 0}var z5=F5,U5=Eh,G5=Object.prototype,W5=G5.hasOwnProperty;function H5(e){var t=this.__data__;return U5?t[e]!==void 0:W5.call(t,e)}var V5=H5,X5=Eh,K5="__lodash_hash_undefined__";function Y5(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=X5&&t===void 0?K5:t,this}var q5=Y5,Z5=E5,Q5=R5,J5=z5,eT=V5,tT=q5;function _l(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}_l.prototype.clear=Z5;_l.prototype.delete=Q5;_l.prototype.get=J5;_l.prototype.has=eT;_l.prototype.set=tT;var rT=_l;function nT(){this.__data__=[],this.size=0}var aT=nT;function oT(e,t){return e===t||e!==e&&t!==t}var ev=oT,iT=ev;function sT(e,t){for(var r=e.length;r--;)if(iT(e[r][0],t))return r;return-1}var $h=sT,lT=$h,cT=Array.prototype,uT=cT.splice;function fT(e){var t=this.__data__,r=lT(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():uT.call(t,r,1),--this.size,!0}var dT=fT,hT=$h;function pT(e){var t=this.__data__,r=hT(t,e);return r<0?void 0:t[r][1]}var gT=pT,mT=$h;function yT(e){return mT(this.__data__,e)>-1}var vT=yT,xT=$h;function bT(e,t){var r=this.__data__,n=xT(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var wT=bT,kT=aT,jT=dT,ST=gT,_T=vT,NT=wT;function Nl(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Nl.prototype.clear=kT;Nl.prototype.delete=jT;Nl.prototype.get=ST;Nl.prototype.has=_T;Nl.prototype.set=NT;var Rh=Nl,OT=rs,PT=to,MT=OT(PT,"Map"),tv=MT,Sb=rT,AT=Rh,CT=tv;function TT(){this.size=0,this.__data__={hash:new Sb,map:new(CT||AT),string:new Sb}}var ET=TT;function $T(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var RT=$T,DT=RT;function LT(e,t){var r=e.__data__;return DT(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Dh=LT,IT=Dh;function BT(e){var t=IT(this,e).delete(e);return this.size-=t?1:0,t}var FT=BT,zT=Dh;function UT(e){return zT(this,e).get(e)}var GT=UT,WT=Dh;function HT(e){return WT(this,e).has(e)}var VT=HT,XT=Dh;function KT(e,t){var r=XT(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var YT=KT,qT=ET,ZT=FT,QT=GT,JT=VT,eE=YT;function Ol(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ol.prototype.clear=qT;Ol.prototype.delete=ZT;Ol.prototype.get=QT;Ol.prototype.has=JT;Ol.prototype.set=eE;var rv=Ol,LS=rv,tE="Expected a function";function nv(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(tE);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var i=e.apply(this,n);return r.cache=o.set(a,i)||o,i};return r.cache=new(nv.Cache||LS),r}nv.Cache=LS;var IS=nv;const rE=Ft(IS);var nE=IS,aE=500;function oE(e){var t=nE(e,function(n){return r.size===aE&&r.clear(),n}),r=t.cache;return t}var iE=oE,sE=iE,lE=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,cE=/\\(\\)?/g,uE=sE(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(lE,function(r,n,a,o){t.push(a?o.replace(cE,"$1"):n||r)}),t}),fE=uE;function dE(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var av=dE,_b=Eu,hE=av,pE=Gn,gE=jl,Nb=_b?_b.prototype:void 0,Ob=Nb?Nb.toString:void 0;function BS(e){if(typeof e=="string")return e;if(pE(e))return hE(e,BS)+"";if(gE(e))return Ob?Ob.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var mE=BS,yE=mE;function vE(e){return e==null?"":yE(e)}var FS=vE,xE=Gn,bE=Qy,wE=fE,kE=FS;function jE(e,t){return xE(e)?e:bE(e,t)?[e]:wE(kE(e))}var zS=jE,SE=jl;function _E(e){if(typeof e=="string"||SE(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Lh=_E,NE=zS,OE=Lh;function PE(e,t){t=NE(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[OE(t[r++])];return r&&r==n?e:void 0}var ov=PE,ME=ov;function AE(e,t,r){var n=e==null?void 0:ME(e,t);return n===void 0?r:n}var US=AE;const ha=Ft(US);function CE(e){return e==null}var TE=CE;const We=Ft(TE);var EE=Po,$E=Gn,RE=Mo,DE="[object String]";function LE(e){return typeof e=="string"||!$E(e)&&RE(e)&&EE(e)==DE}var IE=LE;const Xi=Ft(IE);var GS={exports:{}},At={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv=Symbol.for("react.element"),sv=Symbol.for("react.portal"),Ih=Symbol.for("react.fragment"),Bh=Symbol.for("react.strict_mode"),Fh=Symbol.for("react.profiler"),zh=Symbol.for("react.provider"),Uh=Symbol.for("react.context"),BE=Symbol.for("react.server_context"),Gh=Symbol.for("react.forward_ref"),Wh=Symbol.for("react.suspense"),Hh=Symbol.for("react.suspense_list"),Vh=Symbol.for("react.memo"),Xh=Symbol.for("react.lazy"),FE=Symbol.for("react.offscreen"),WS;WS=Symbol.for("react.module.reference");function ya(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case iv:switch(e=e.type,e){case Ih:case Fh:case Bh:case Wh:case Hh:return e;default:switch(e=e&&e.$$typeof,e){case BE:case Uh:case Gh:case Xh:case Vh:case zh:return e;default:return t}}case sv:return t}}}At.ContextConsumer=Uh;At.ContextProvider=zh;At.Element=iv;At.ForwardRef=Gh;At.Fragment=Ih;At.Lazy=Xh;At.Memo=Vh;At.Portal=sv;At.Profiler=Fh;At.StrictMode=Bh;At.Suspense=Wh;At.SuspenseList=Hh;At.isAsyncMode=function(){return!1};At.isConcurrentMode=function(){return!1};At.isContextConsumer=function(e){return ya(e)===Uh};At.isContextProvider=function(e){return ya(e)===zh};At.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===iv};At.isForwardRef=function(e){return ya(e)===Gh};At.isFragment=function(e){return ya(e)===Ih};At.isLazy=function(e){return ya(e)===Xh};At.isMemo=function(e){return ya(e)===Vh};At.isPortal=function(e){return ya(e)===sv};At.isProfiler=function(e){return ya(e)===Fh};At.isStrictMode=function(e){return ya(e)===Bh};At.isSuspense=function(e){return ya(e)===Wh};At.isSuspenseList=function(e){return ya(e)===Hh};At.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ih||e===Fh||e===Bh||e===Wh||e===Hh||e===FE||typeof e=="object"&&e!==null&&(e.$$typeof===Xh||e.$$typeof===Vh||e.$$typeof===zh||e.$$typeof===Uh||e.$$typeof===Gh||e.$$typeof===WS||e.getModuleId!==void 0)};At.typeOf=ya;GS.exports=At;var zE=GS.exports,UE=Po,GE=Mo,WE="[object Number]";function HE(e){return typeof e=="number"||GE(e)&&UE(e)==WE}var HS=HE;const VE=Ft(HS);var XE=HS;function KE(e){return XE(e)&&e!=+e}var YE=KE;const Pl=Ft(YE);var Ca=function(t){return t===0?0:t>0?1:-1},Ti=function(t){return Xi(t)&&t.indexOf("%")===t.length-1},fe=function(t){return VE(t)&&!Pl(t)},qE=function(t){return We(t)},Ir=function(t){return fe(t)||Xi(t)},ZE=0,ns=function(t){var r=++ZE;return"".concat(t||"").concat(r)},Ki=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!fe(t)&&!Xi(t))return n;var o;if(Ti(t)){var i=t.indexOf("%");o=r*parseFloat(t.slice(0,i))/100}else o=+t;return Pl(o)&&(o=n),a&&o>r&&(o=r),o},Go=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},QE=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},kr=function(t,r){return fe(t)&&fe(r)?function(n){return t+n*(r-t)}:function(){return r}};function dd(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):ha(n,t))===r})}var JE=function(t){if(!t||!t.length)return null;for(var r=t.length,n=0,a=0,o=0,i=0,s=1/0,l=-1/0,u=0,d=0,f=0;f<r;f++)u=t[f].cx||0,d=t[f].cy||0,n+=u,a+=d,o+=u*d,i+=u*u,s=Math.min(s,u),l=Math.max(l,u);var h=r*i!==n*n?(r*o-n*a)/(r*i-n*n):0;return{xmin:s,xmax:l,a:h,b:(a-h*n)/r}},e4=function(t,r){return fe(t)&&fe(r)?t-r:Xi(t)&&Xi(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Ls(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Pg(e){"@babel/helpers - typeof";return Pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pg(e)}var t4=["viewBox","children"],r4=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Pb=["points","pathLength"],tp={svg:t4,polygon:Pb,polyline:Pb},lv=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],hd=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(S.isValidElement(t)&&(n=t.props),!Sl(n))return null;var a={};return Object.keys(n).forEach(function(o){lv.includes(o)&&(a[o]=r||function(i){return n[o](n,i)})}),a},n4=function(t,r,n){return function(a){return t(r,n,a),null}},Hc=function(t,r,n){if(!Sl(t)||Pg(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(o){var i=t[o];lv.includes(o)&&typeof i=="function"&&(a||(a={}),a[o]=n4(i,r,n))}),a},a4=["children"],o4=["children"];function Mb(e,t){if(e==null)return{};var r=i4(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function i4(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Mg(e){"@babel/helpers - typeof";return Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mg(e)}var Ab={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},mo=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Cb=null,rp=null,cv=function e(t){if(t===Cb&&Array.isArray(rp))return rp;var r=[];return S.Children.forEach(t,function(n){We(n)||(zE.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),rp=r,Cb=t,r};function Fn(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return mo(a)}):n=[mo(t)],cv(e).forEach(function(a){var o=ha(a,"type.displayName")||ha(a,"type.name");n.indexOf(o)!==-1&&r.push(a)}),r}function Yn(e,t){var r=Fn(e,t);return r&&r[0]}var Tb=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!fe(n)||n<=0||!fe(a)||a<=0)},s4=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],l4=function(t){return t&&t.type&&Xi(t.type)&&s4.indexOf(t.type)>=0},VS=function(t){return t&&Mg(t)==="object"&&"clipDot"in t},c4=function(t,r,n,a){var o,i=(o=tp==null?void 0:tp[a])!==null&&o!==void 0?o:[];return r.startsWith("data-")||!Xe(t)&&(a&&i.includes(r)||r4.includes(r))||n&&lv.includes(r)},Ve=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(S.isValidElement(t)&&(a=t.props),!Sl(a))return null;var o={};return Object.keys(a).forEach(function(i){var s;c4((s=a)===null||s===void 0?void 0:s[i],i,r,n)&&(o[i]=a[i])}),o},Ag=function e(t,r){if(t===r)return!0;var n=S.Children.count(t);if(n!==S.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Eb(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var o=t[a],i=r[a];if(Array.isArray(o)||Array.isArray(i)){if(!e(o,i))return!1}else if(!Eb(o,i))return!1}return!0},Eb=function(t,r){if(We(t)&&We(r))return!0;if(!We(t)&&!We(r)){var n=t.props||{},a=n.children,o=Mb(n,a4),i=r.props||{},s=i.children,l=Mb(i,o4);return a&&s?Ls(o,l)&&Ag(a,s):!a&&!s?Ls(o,l):!1}return!1},$b=function(t,r){var n=[],a={};return cv(t).forEach(function(o,i){if(l4(o))n.push(o);else if(o){var s=mo(o.type),l=r[s]||{},u=l.handler,d=l.once;if(u&&(!d||!a[s])){var f=u(o,s,i);n.push(f),a[s]=!0}}}),n},u4=function(t){var r=t&&t.type;return r&&Ab[r]?Ab[r]:null},f4=function(t,r){return cv(r).indexOf(t)},d4=["children","width","height","viewBox","className","style","title","desc"];function Cg(){return Cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cg.apply(this,arguments)}function h4(e,t){if(e==null)return{};var r=p4(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function p4(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Tg(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,o=e.className,i=e.style,s=e.title,l=e.desc,u=h4(e,d4),d=a||{width:r,height:n,x:0,y:0},f=ot("recharts-surface",o);return F.createElement("svg",Cg({},Ve(u,!0,"svg"),{className:f,width:r,height:n,style:i,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),F.createElement("title",null,s),F.createElement("desc",null,l),t)}var g4=["children","className"];function Eg(){return Eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eg.apply(this,arguments)}function m4(e,t){if(e==null)return{};var r=y4(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function y4(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var xt=F.forwardRef(function(e,t){var r=e.children,n=e.className,a=m4(e,g4),o=ot("recharts-layer",n);return F.createElement("g",Eg({className:o},Ve(a,!0),{ref:t}),r)}),yo=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o]};function v4(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(a);++n<a;)o[n]=e[n+t];return o}var x4=v4,b4=x4;function w4(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:b4(e,t,r)}var k4=w4,j4="\\ud800-\\udfff",S4="\\u0300-\\u036f",_4="\\ufe20-\\ufe2f",N4="\\u20d0-\\u20ff",O4=S4+_4+N4,P4="\\ufe0e\\ufe0f",M4="\\u200d",A4=RegExp("["+M4+j4+O4+P4+"]");function C4(e){return A4.test(e)}var XS=C4;function T4(e){return e.split("")}var E4=T4,KS="\\ud800-\\udfff",$4="\\u0300-\\u036f",R4="\\ufe20-\\ufe2f",D4="\\u20d0-\\u20ff",L4=$4+R4+D4,I4="\\ufe0e\\ufe0f",B4="["+KS+"]",$g="["+L4+"]",Rg="\\ud83c[\\udffb-\\udfff]",F4="(?:"+$g+"|"+Rg+")",YS="[^"+KS+"]",qS="(?:\\ud83c[\\udde6-\\uddff]){2}",ZS="[\\ud800-\\udbff][\\udc00-\\udfff]",z4="\\u200d",QS=F4+"?",JS="["+I4+"]?",U4="(?:"+z4+"(?:"+[YS,qS,ZS].join("|")+")"+JS+QS+")*",G4=JS+QS+U4,W4="(?:"+[YS+$g+"?",$g,qS,ZS,B4].join("|")+")",H4=RegExp(Rg+"(?="+Rg+")|"+W4+G4,"g");function V4(e){return e.match(H4)||[]}var X4=V4,K4=E4,Y4=XS,q4=X4;function Z4(e){return Y4(e)?q4(e):K4(e)}var Q4=Z4,J4=k4,e$=XS,t$=Q4,r$=FS;function n$(e){return function(t){t=r$(t);var r=e$(t)?t$(t):void 0,n=r?r[0]:t.charAt(0),a=r?J4(r,1).join(""):t.slice(1);return n[e]()+a}}var a$=n$,o$=a$,i$=o$("toUpperCase"),s$=i$;const Kh=Ft(s$);function Gt(e){return function(){return e}}const e_=Math.cos,pd=Math.sin,Da=Math.sqrt,gd=Math.PI,Yh=2*gd,Dg=Math.PI,Lg=2*Dg,Ni=1e-6,l$=Lg-Ni;function t_(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function c$(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return t_;const r=10**t;return function(n){this._+=n[0];for(let a=1,o=n.length;a<o;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class u${constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?t_:c$(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,o,i){this._append`C${+t},${+r},${+n},${+a},${this._x1=+o},${this._y1=+i}`}arcTo(t,r,n,a,o){if(t=+t,r=+r,n=+n,a=+a,o=+o,o<0)throw new Error(`negative radius: ${o}`);let i=this._x1,s=this._y1,l=n-t,u=a-r,d=i-t,f=s-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Ni)if(!(Math.abs(f*l-u*d)>Ni)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-i,m=a-s,x=l*l+u*u,w=p*p+m*m,y=Math.sqrt(x),g=Math.sqrt(h),v=o*Math.tan((Dg-Math.acos((x+h-w)/(2*y*g)))/2),j=v/g,b=v/y;Math.abs(j-1)>Ni&&this._append`L${t+j*d},${r+j*f}`,this._append`A${o},${o},0,0,${+(f*p>d*m)},${this._x1=t+b*l},${this._y1=r+b*u}`}}arc(t,r,n,a,o,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),l=n*Math.sin(a),u=t+s,d=r+l,f=1^i,h=i?a-o:o-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Ni||Math.abs(this._y1-d)>Ni)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Lg+Lg),h>l$?this._append`A${n},${n},0,1,${f},${t-s},${r-l}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Ni&&this._append`A${n},${n},0,${+(h>=Dg)},${f},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function uv(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new u$(t)}function fv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function r_(e){this._context=e}r_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function qh(e){return new r_(e)}function n_(e){return e[0]}function a_(e){return e[1]}function o_(e,t){var r=Gt(!0),n=null,a=qh,o=null,i=uv(s);e=typeof e=="function"?e:e===void 0?n_:Gt(e),t=typeof t=="function"?t:t===void 0?a_:Gt(t);function s(l){var u,d=(l=fv(l)).length,f,h=!1,p;for(n==null&&(o=a(p=i())),u=0;u<=d;++u)!(u<d&&r(f=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(f,u,l),+t(f,u,l));if(p)return o=null,p+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Gt(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Gt(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Gt(!!l),s):r},s.curve=function(l){return arguments.length?(a=l,n!=null&&(o=a(n)),s):a},s.context=function(l){return arguments.length?(l==null?n=o=null:o=a(n=l),s):n},s}function pf(e,t,r){var n=null,a=Gt(!0),o=null,i=qh,s=null,l=uv(u);e=typeof e=="function"?e:e===void 0?n_:Gt(+e),t=typeof t=="function"?t:Gt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?a_:Gt(+r);function u(f){var h,p,m,x=(f=fv(f)).length,w,y=!1,g,v=new Array(x),j=new Array(x);for(o==null&&(s=i(g=l())),h=0;h<=x;++h){if(!(h<x&&a(w=f[h],h,f))===y)if(y=!y)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=h-1;m>=p;--m)s.point(v[m],j[m]);s.lineEnd(),s.areaEnd()}y&&(v[h]=+e(w,h,f),j[h]=+t(w,h,f),s.point(n?+n(w,h,f):v[h],r?+r(w,h,f):j[h]))}if(g)return s=null,g+""||null}function d(){return o_().defined(a).curve(i).context(o)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Gt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Gt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Gt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Gt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Gt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Gt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Gt(!!f),u):a},u.curve=function(f){return arguments.length?(i=f,o!=null&&(s=i(o)),u):i},u.context=function(f){return arguments.length?(f==null?o=s=null:s=i(o=f),u):o},u}class i_{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function f$(e){return new i_(e,!0)}function d$(e){return new i_(e,!1)}const dv={draw(e,t){const r=Da(t/gd);e.moveTo(r,0),e.arc(0,0,r,0,Yh)}},h$={draw(e,t){const r=Da(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},s_=Da(1/3),p$=s_*2,g$={draw(e,t){const r=Da(t/p$),n=r*s_;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},m$={draw(e,t){const r=Da(t),n=-r/2;e.rect(n,n,r,r)}},y$=.8908130915292852,l_=pd(gd/10)/pd(7*gd/10),v$=pd(Yh/10)*l_,x$=-e_(Yh/10)*l_,b$={draw(e,t){const r=Da(t*y$),n=v$*r,a=x$*r;e.moveTo(0,-r),e.lineTo(n,a);for(let o=1;o<5;++o){const i=Yh*o/5,s=e_(i),l=pd(i);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*a,l*n+s*a)}e.closePath()}},np=Da(3),w$={draw(e,t){const r=-Da(t/(np*3));e.moveTo(0,r*2),e.lineTo(-np*r,-r),e.lineTo(np*r,-r),e.closePath()}},na=-.5,aa=Da(3)/2,Ig=1/Da(12),k$=(Ig/2+1)*3,j$={draw(e,t){const r=Da(t/k$),n=r/2,a=r*Ig,o=n,i=r*Ig+r,s=-o,l=i;e.moveTo(n,a),e.lineTo(o,i),e.lineTo(s,l),e.lineTo(na*n-aa*a,aa*n+na*a),e.lineTo(na*o-aa*i,aa*o+na*i),e.lineTo(na*s-aa*l,aa*s+na*l),e.lineTo(na*n+aa*a,na*a-aa*n),e.lineTo(na*o+aa*i,na*i-aa*o),e.lineTo(na*s+aa*l,na*l-aa*s),e.closePath()}};function S$(e,t){let r=null,n=uv(a);e=typeof e=="function"?e:Gt(e||dv),t=typeof t=="function"?t:Gt(t===void 0?64:+t);function a(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return a.type=function(o){return arguments.length?(e=typeof o=="function"?o:Gt(o),a):e},a.size=function(o){return arguments.length?(t=typeof o=="function"?o:Gt(+o),a):t},a.context=function(o){return arguments.length?(r=o??null,a):r},a}function md(){}function yd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function c_(e){this._context=e}c_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:yd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:yd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _$(e){return new c_(e)}function u_(e){this._context=e}u_.prototype={areaStart:md,areaEnd:md,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:yd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function N$(e){return new u_(e)}function f_(e){this._context=e}f_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:yd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function O$(e){return new f_(e)}function d_(e){this._context=e}d_.prototype={areaStart:md,areaEnd:md,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function P$(e){return new d_(e)}function Rb(e){return e<0?-1:1}function Db(e,t,r){var n=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),s=(o*a+i*n)/(n+a);return(Rb(o)+Rb(i))*Math.min(Math.abs(o),Math.abs(i),.5*Math.abs(s))||0}function Lb(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function ap(e,t,r){var n=e._x0,a=e._y0,o=e._x1,i=e._y1,s=(o-n)/3;e._context.bezierCurveTo(n+s,a+s*t,o-s,i-s*r,o,i)}function vd(e){this._context=e}vd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ap(this,this._t0,Lb(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ap(this,Lb(this,r=Db(this,e,t)),r);break;default:ap(this,this._t0,r=Db(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function h_(e){this._context=new p_(e)}(h_.prototype=Object.create(vd.prototype)).point=function(e,t){vd.prototype.point.call(this,t,e)};function p_(e){this._context=e}p_.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,o){this._context.bezierCurveTo(t,e,n,r,o,a)}};function M$(e){return new vd(e)}function A$(e){return new h_(e)}function g_(e){this._context=e}g_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Ib(e),a=Ib(t),o=0,i=1;i<r;++o,++i)this._context.bezierCurveTo(n[0][o],a[0][o],n[1][o],a[1][o],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Ib(e){var t,r=e.length-1,n,a=new Array(r),o=new Array(r),i=new Array(r);for(a[0]=0,o[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,o[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,o[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/o[t-1],o[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/o[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/o[t];for(o[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-a[t+1];return[a,o]}function C$(e){return new g_(e)}function Zh(e,t){this._context=e,this._t=t}Zh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function T$(e){return new Zh(e,.5)}function E$(e){return new Zh(e,0)}function $$(e){return new Zh(e,1)}function Ks(e,t){if((i=e.length)>1)for(var r=1,n,a,o=e[t[0]],i,s=o.length;r<i;++r)for(a=o,o=e[t[r]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Bg(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function R$(e,t){return e[t]}function D$(e){const t=[];return t.key=e,t}function L$(){var e=Gt([]),t=Bg,r=Ks,n=R$;function a(o){var i=Array.from(e.apply(this,arguments),D$),s,l=i.length,u=-1,d;for(const f of o)for(s=0,++u;s<l;++s)(i[s][u]=[0,+n(f,i[s].key,u,o)]).data=f;for(s=0,d=fv(t(i));s<l;++s)i[d[s]].index=s;return r(i,d),i}return a.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Gt(Array.from(o)),a):e},a.value=function(o){return arguments.length?(n=typeof o=="function"?o:Gt(+o),a):n},a.order=function(o){return arguments.length?(t=o==null?Bg:typeof o=="function"?o:Gt(Array.from(o)),a):t},a.offset=function(o){return arguments.length?(r=o??Ks,a):r},a}function I$(e,t){if((n=e.length)>0){for(var r,n,a=0,o=e[0].length,i;a<o;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}Ks(e,t)}}function B$(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,o=n.length;r<o;++r){for(var i=0,s=0;i<a;++i)s+=e[i][r][1]||0;n[r][1]+=n[r][0]=-s/2}Ks(e,t)}}function F$(e,t){if(!(!((i=e.length)>0)||!((o=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,o,i;n<o;++n){for(var s=0,l=0,u=0;s<i;++s){for(var d=e[t[s]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,m=0;m<s;++m){var x=e[t[m]],w=x[n][1]||0,y=x[n-1][1]||0;p+=w-y}l+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,l&&(r-=u/l)}a[n-1][1]+=a[n-1][0]=r,Ks(e,t)}}function Vc(e){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vc(e)}var z$=["type","size","sizeType"];function Fg(){return Fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fg.apply(this,arguments)}function Bb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bb(Object(r),!0).forEach(function(n){U$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U$(e,t,r){return t=G$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G$(e){var t=W$(e,"string");return Vc(t)=="symbol"?t:t+""}function W$(e,t){if(Vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H$(e,t){if(e==null)return{};var r=V$(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function V$(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var m_={symbolCircle:dv,symbolCross:h$,symbolDiamond:g$,symbolSquare:m$,symbolStar:b$,symbolTriangle:w$,symbolWye:j$},X$=Math.PI/180,K$=function(t){var r="symbol".concat(Kh(t));return m_[r]||dv},Y$=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*X$;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},q$=function(t,r){m_["symbol".concat(Kh(t))]=r},Qh=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,o=a===void 0?64:a,i=t.sizeType,s=i===void 0?"area":i,l=H$(t,z$),u=Fb(Fb({},l),{},{type:n,size:o,sizeType:s}),d=function(){var w=K$(n),y=S$().type(w).size(Y$(o,s,n));return y()},f=u.className,h=u.cx,p=u.cy,m=Ve(u,!0);return h===+h&&p===+p&&o===+o?F.createElement("path",Fg({},m,{className:ot("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};Qh.registerSymbol=q$;function Ys(e){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ys(e)}function zg(){return zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zg.apply(this,arguments)}function zb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Z$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zb(Object(r),!0).forEach(function(n){Xc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v_(n.key),n)}}function e3(e,t,r){return t&&J$(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function t3(e,t,r){return t=xd(t),r3(e,y_()?Reflect.construct(t,r||[],xd(e).constructor):t.apply(e,r))}function r3(e,t){if(t&&(Ys(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n3(e)}function n3(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y_=function(){return!!e})()}function xd(e){return xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xd(e)}function a3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ug(e,t)}function Ug(e,t){return Ug=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ug(e,t)}function Xc(e,t,r){return t=v_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v_(e){var t=o3(e,"string");return Ys(t)=="symbol"?t:t+""}function o3(e,t){if(Ys(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ys(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var oa=32,hv=function(e){function t(){return Q$(this,t),t3(this,t,arguments)}return a3(t,e),e3(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,o=oa/2,i=oa/6,s=oa/3,l=n.inactive?a:n.color;if(n.type==="plainline")return F.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:oa,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return F.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(oa,"M").concat(2*s,",").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return F.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(oa/8,"h").concat(oa,"v").concat(oa*3/4,"h").concat(-oa,"z"),className:"recharts-legend-icon"});if(F.isValidElement(n.legendIcon)){var u=Z$({},n);return delete u.legendIcon,F.cloneElement(n.legendIcon,u)}return F.createElement(Qh,{fill:l,cx:o,cy:o,size:oa,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,o=a.payload,i=a.iconSize,s=a.layout,l=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:oa,height:oa},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,m){var x=p.formatter||l,w=ot(Xc(Xc({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=Xe(p.value)?null:p.value;yo(!Xe(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var g=p.inactive?u:p.color;return F.createElement("li",zg({className:w,style:f,key:"legend-item-".concat(m)},Hc(n.props,p,m)),F.createElement(Tg,{width:i,height:i,viewBox:d,style:h},n.renderIcon(p)),F.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},x?x(y,p,m):y))})}},{key:"render",value:function(){var n=this.props,a=n.payload,o=n.layout,i=n.align;if(!a||!a.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?i:"left"};return F.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(S.PureComponent);Xc(hv,"displayName","Legend");Xc(hv,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var i3=Rh;function s3(){this.__data__=new i3,this.size=0}var l3=s3;function c3(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var u3=c3;function f3(e){return this.__data__.get(e)}var d3=f3;function h3(e){return this.__data__.has(e)}var p3=h3,g3=Rh,m3=tv,y3=rv,v3=200;function x3(e,t){var r=this.__data__;if(r instanceof g3){var n=r.__data__;if(!m3||n.length<v3-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new y3(n)}return r.set(e,t),this.size=r.size,this}var b3=x3,w3=Rh,k3=l3,j3=u3,S3=d3,_3=p3,N3=b3;function Ml(e){var t=this.__data__=new w3(e);this.size=t.size}Ml.prototype.clear=k3;Ml.prototype.delete=j3;Ml.prototype.get=S3;Ml.prototype.has=_3;Ml.prototype.set=N3;var x_=Ml,O3="__lodash_hash_undefined__";function P3(e){return this.__data__.set(e,O3),this}var M3=P3;function A3(e){return this.__data__.has(e)}var C3=A3,T3=rv,E3=M3,$3=C3;function bd(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new T3;++t<r;)this.add(e[t])}bd.prototype.add=bd.prototype.push=E3;bd.prototype.has=$3;var b_=bd;function R3(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var w_=R3;function D3(e,t){return e.has(t)}var k_=D3,L3=b_,I3=w_,B3=k_,F3=1,z3=2;function U3(e,t,r,n,a,o){var i=r&F3,s=e.length,l=t.length;if(s!=l&&!(i&&l>s))return!1;var u=o.get(e),d=o.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&z3?new L3:void 0;for(o.set(e,t),o.set(t,e);++f<s;){var m=e[f],x=t[f];if(n)var w=i?n(x,m,f,t,e,o):n(m,x,f,e,t,o);if(w!==void 0){if(w)continue;h=!1;break}if(p){if(!I3(t,function(y,g){if(!B3(p,g)&&(m===y||a(m,y,r,n,o)))return p.push(g)})){h=!1;break}}else if(!(m===x||a(m,x,r,n,o))){h=!1;break}}return o.delete(e),o.delete(t),h}var j_=U3,G3=to,W3=G3.Uint8Array,H3=W3;function V3(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var X3=V3;function K3(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var pv=K3,Ub=Eu,Gb=H3,Y3=ev,q3=j_,Z3=X3,Q3=pv,J3=1,eR=2,tR="[object Boolean]",rR="[object Date]",nR="[object Error]",aR="[object Map]",oR="[object Number]",iR="[object RegExp]",sR="[object Set]",lR="[object String]",cR="[object Symbol]",uR="[object ArrayBuffer]",fR="[object DataView]",Wb=Ub?Ub.prototype:void 0,op=Wb?Wb.valueOf:void 0;function dR(e,t,r,n,a,o,i){switch(r){case fR:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case uR:return!(e.byteLength!=t.byteLength||!o(new Gb(e),new Gb(t)));case tR:case rR:case oR:return Y3(+e,+t);case nR:return e.name==t.name&&e.message==t.message;case iR:case lR:return e==t+"";case aR:var s=Z3;case sR:var l=n&J3;if(s||(s=Q3),e.size!=t.size&&!l)return!1;var u=i.get(e);if(u)return u==t;n|=eR,i.set(e,t);var d=q3(s(e),s(t),n,a,o,i);return i.delete(e),d;case cR:if(op)return op.call(e)==op.call(t)}return!1}var hR=dR;function pR(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var S_=pR,gR=S_,mR=Gn;function yR(e,t,r){var n=t(e);return mR(e)?n:gR(n,r(e))}var vR=yR;function xR(e,t){for(var r=-1,n=e==null?0:e.length,a=0,o=[];++r<n;){var i=e[r];t(i,r,e)&&(o[a++]=i)}return o}var bR=xR;function wR(){return[]}var kR=wR,jR=bR,SR=kR,_R=Object.prototype,NR=_R.propertyIsEnumerable,Hb=Object.getOwnPropertySymbols,OR=Hb?function(e){return e==null?[]:(e=Object(e),jR(Hb(e),function(t){return NR.call(e,t)}))}:SR,PR=OR;function MR(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var AR=MR,CR=Po,TR=Mo,ER="[object Arguments]";function $R(e){return TR(e)&&CR(e)==ER}var RR=$R,Vb=RR,DR=Mo,__=Object.prototype,LR=__.hasOwnProperty,IR=__.propertyIsEnumerable,BR=Vb(function(){return arguments}())?Vb:function(e){return DR(e)&&LR.call(e,"callee")&&!IR.call(e,"callee")},gv=BR,wd={exports:{}};function FR(){return!1}var zR=FR;wd.exports;(function(e,t){var r=to,n=zR,a=t&&!t.nodeType&&t,o=a&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===a,s=i?r.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||n;e.exports=u})(wd,wd.exports);var N_=wd.exports,UR=9007199254740991,GR=/^(?:0|[1-9]\d*)$/;function WR(e,t){var r=typeof e;return t=t??UR,!!t&&(r=="number"||r!="symbol"&&GR.test(e))&&e>-1&&e%1==0&&e<t}var mv=WR,HR=9007199254740991;function VR(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=HR}var yv=VR,XR=Po,KR=yv,YR=Mo,qR="[object Arguments]",ZR="[object Array]",QR="[object Boolean]",JR="[object Date]",eD="[object Error]",tD="[object Function]",rD="[object Map]",nD="[object Number]",aD="[object Object]",oD="[object RegExp]",iD="[object Set]",sD="[object String]",lD="[object WeakMap]",cD="[object ArrayBuffer]",uD="[object DataView]",fD="[object Float32Array]",dD="[object Float64Array]",hD="[object Int8Array]",pD="[object Int16Array]",gD="[object Int32Array]",mD="[object Uint8Array]",yD="[object Uint8ClampedArray]",vD="[object Uint16Array]",xD="[object Uint32Array]",Kt={};Kt[fD]=Kt[dD]=Kt[hD]=Kt[pD]=Kt[gD]=Kt[mD]=Kt[yD]=Kt[vD]=Kt[xD]=!0;Kt[qR]=Kt[ZR]=Kt[cD]=Kt[QR]=Kt[uD]=Kt[JR]=Kt[eD]=Kt[tD]=Kt[rD]=Kt[nD]=Kt[aD]=Kt[oD]=Kt[iD]=Kt[sD]=Kt[lD]=!1;function bD(e){return YR(e)&&KR(e.length)&&!!Kt[XR(e)]}var wD=bD;function kD(e){return function(t){return e(t)}}var O_=kD,kd={exports:{}};kd.exports;(function(e,t){var r=$S,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===n,i=o&&r.process,s=function(){try{var l=a&&a.require&&a.require("util").types;return l||i&&i.binding&&i.binding("util")}catch{}}();e.exports=s})(kd,kd.exports);var jD=kd.exports,SD=wD,_D=O_,Xb=jD,Kb=Xb&&Xb.isTypedArray,ND=Kb?_D(Kb):SD,P_=ND,OD=AR,PD=gv,MD=Gn,AD=N_,CD=mv,TD=P_,ED=Object.prototype,$D=ED.hasOwnProperty;function RD(e,t){var r=MD(e),n=!r&&PD(e),a=!r&&!n&&AD(e),o=!r&&!n&&!a&&TD(e),i=r||n||a||o,s=i?OD(e.length,String):[],l=s.length;for(var u in e)(t||$D.call(e,u))&&!(i&&(u=="length"||a&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||CD(u,l)))&&s.push(u);return s}var DD=RD,LD=Object.prototype;function ID(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||LD;return e===r}var BD=ID;function FD(e,t){return function(r){return e(t(r))}}var M_=FD,zD=M_,UD=zD(Object.keys,Object),GD=UD,WD=BD,HD=GD,VD=Object.prototype,XD=VD.hasOwnProperty;function KD(e){if(!WD(e))return HD(e);var t=[];for(var r in Object(e))XD.call(e,r)&&r!="constructor"&&t.push(r);return t}var YD=KD,qD=Jy,ZD=yv;function QD(e){return e!=null&&ZD(e.length)&&!qD(e)}var $u=QD,JD=DD,eL=YD,tL=$u;function rL(e){return tL(e)?JD(e):eL(e)}var Jh=rL,nL=vR,aL=PR,oL=Jh;function iL(e){return nL(e,oL,aL)}var sL=iL,Yb=sL,lL=1,cL=Object.prototype,uL=cL.hasOwnProperty;function fL(e,t,r,n,a,o){var i=r&lL,s=Yb(e),l=s.length,u=Yb(t),d=u.length;if(l!=d&&!i)return!1;for(var f=l;f--;){var h=s[f];if(!(i?h in t:uL.call(t,h)))return!1}var p=o.get(e),m=o.get(t);if(p&&m)return p==t&&m==e;var x=!0;o.set(e,t),o.set(t,e);for(var w=i;++f<l;){h=s[f];var y=e[h],g=t[h];if(n)var v=i?n(g,y,h,t,e,o):n(y,g,h,e,t,o);if(!(v===void 0?y===g||a(y,g,r,n,o):v)){x=!1;break}w||(w=h=="constructor")}if(x&&!w){var j=e.constructor,b=t.constructor;j!=b&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof b=="function"&&b instanceof b)&&(x=!1)}return o.delete(e),o.delete(t),x}var dL=fL,hL=rs,pL=to,gL=hL(pL,"DataView"),mL=gL,yL=rs,vL=to,xL=yL(vL,"Promise"),bL=xL,wL=rs,kL=to,jL=wL(kL,"Set"),A_=jL,SL=rs,_L=to,NL=SL(_L,"WeakMap"),OL=NL,Gg=mL,Wg=tv,Hg=bL,Vg=A_,Xg=OL,C_=Po,Al=DS,qb="[object Map]",PL="[object Object]",Zb="[object Promise]",Qb="[object Set]",Jb="[object WeakMap]",e1="[object DataView]",ML=Al(Gg),AL=Al(Wg),CL=Al(Hg),TL=Al(Vg),EL=Al(Xg),Oi=C_;(Gg&&Oi(new Gg(new ArrayBuffer(1)))!=e1||Wg&&Oi(new Wg)!=qb||Hg&&Oi(Hg.resolve())!=Zb||Vg&&Oi(new Vg)!=Qb||Xg&&Oi(new Xg)!=Jb)&&(Oi=function(e){var t=C_(e),r=t==PL?e.constructor:void 0,n=r?Al(r):"";if(n)switch(n){case ML:return e1;case AL:return qb;case CL:return Zb;case TL:return Qb;case EL:return Jb}return t});var $L=Oi,ip=x_,RL=j_,DL=hR,LL=dL,t1=$L,r1=Gn,n1=N_,IL=P_,BL=1,a1="[object Arguments]",o1="[object Array]",gf="[object Object]",FL=Object.prototype,i1=FL.hasOwnProperty;function zL(e,t,r,n,a,o){var i=r1(e),s=r1(t),l=i?o1:t1(e),u=s?o1:t1(t);l=l==a1?gf:l,u=u==a1?gf:u;var d=l==gf,f=u==gf,h=l==u;if(h&&n1(e)){if(!n1(t))return!1;i=!0,d=!1}if(h&&!d)return o||(o=new ip),i||IL(e)?RL(e,t,r,n,a,o):DL(e,t,l,r,n,a,o);if(!(r&BL)){var p=d&&i1.call(e,"__wrapped__"),m=f&&i1.call(t,"__wrapped__");if(p||m){var x=p?e.value():e,w=m?t.value():t;return o||(o=new ip),a(x,w,r,n,o)}}return h?(o||(o=new ip),LL(e,t,r,n,a,o)):!1}var UL=zL,GL=UL,s1=Mo;function T_(e,t,r,n,a){return e===t?!0:e==null||t==null||!s1(e)&&!s1(t)?e!==e&&t!==t:GL(e,t,r,n,T_,a)}var vv=T_,WL=x_,HL=vv,VL=1,XL=2;function KL(e,t,r,n){var a=r.length,o=a,i=!n;if(e==null)return!o;for(e=Object(e);a--;){var s=r[a];if(i&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<o;){s=r[a];var l=s[0],u=e[l],d=s[1];if(i&&s[2]){if(u===void 0&&!(l in e))return!1}else{var f=new WL;if(n)var h=n(u,d,l,e,t,f);if(!(h===void 0?HL(d,u,VL|XL,n,f):h))return!1}}return!0}var YL=KL,qL=fi;function ZL(e){return e===e&&!qL(e)}var E_=ZL,QL=E_,JL=Jh;function e6(e){for(var t=JL(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,QL(a)]}return t}var t6=e6;function r6(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var $_=r6,n6=YL,a6=t6,o6=$_;function i6(e){var t=a6(e);return t.length==1&&t[0][2]?o6(t[0][0],t[0][1]):function(r){return r===e||n6(r,e,t)}}var s6=i6;function l6(e,t){return e!=null&&t in Object(e)}var c6=l6,u6=zS,f6=gv,d6=Gn,h6=mv,p6=yv,g6=Lh;function m6(e,t,r){t=u6(t,e);for(var n=-1,a=t.length,o=!1;++n<a;){var i=g6(t[n]);if(!(o=e!=null&&r(e,i)))break;e=e[i]}return o||++n!=a?o:(a=e==null?0:e.length,!!a&&p6(a)&&h6(i,a)&&(d6(e)||f6(e)))}var y6=m6,v6=c6,x6=y6;function b6(e,t){return e!=null&&x6(e,t,v6)}var w6=b6,k6=vv,j6=US,S6=w6,_6=Qy,N6=E_,O6=$_,P6=Lh,M6=1,A6=2;function C6(e,t){return _6(e)&&N6(t)?O6(P6(e),t):function(r){var n=j6(r,e);return n===void 0&&n===t?S6(r,e):k6(t,n,M6|A6)}}var T6=C6;function E6(e){return e}var Cl=E6;function $6(e){return function(t){return t==null?void 0:t[e]}}var R6=$6,D6=ov;function L6(e){return function(t){return D6(t,e)}}var I6=L6,B6=R6,F6=I6,z6=Qy,U6=Lh;function G6(e){return z6(e)?B6(U6(e)):F6(e)}var W6=G6,H6=s6,V6=T6,X6=Cl,K6=Gn,Y6=W6;function q6(e){return typeof e=="function"?e:e==null?X6:typeof e=="object"?K6(e)?V6(e[0],e[1]):H6(e):Y6(e)}var di=q6;function Z6(e,t,r,n){for(var a=e.length,o=r+(n?1:-1);n?o--:++o<a;)if(t(e[o],o,e))return o;return-1}var R_=Z6;function Q6(e){return e!==e}var J6=Q6;function eI(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var tI=eI,rI=R_,nI=J6,aI=tI;function oI(e,t,r){return t===t?aI(e,t,r):rI(e,nI,r)}var iI=oI,sI=iI;function lI(e,t){var r=e==null?0:e.length;return!!r&&sI(e,t,0)>-1}var cI=lI;function uI(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var fI=uI;function dI(){}var hI=dI,sp=A_,pI=hI,gI=pv,mI=1/0,yI=sp&&1/gI(new sp([,-0]))[1]==mI?function(e){return new sp(e)}:pI,vI=yI,xI=b_,bI=cI,wI=fI,kI=k_,jI=vI,SI=pv,_I=200;function NI(e,t,r){var n=-1,a=bI,o=e.length,i=!0,s=[],l=s;if(r)i=!1,a=wI;else if(o>=_I){var u=t?null:jI(e);if(u)return SI(u);i=!1,a=kI,l=new xI}else l=t?[]:s;e:for(;++n<o;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,i&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),s.push(d)}else a(l,f,r)||(l!==s&&l.push(f),s.push(d))}return s}var OI=NI,PI=di,MI=OI;function AI(e,t){return e&&e.length?MI(e,PI(t)):[]}var CI=AI;const l1=Ft(CI);function D_(e,t,r){return t===!0?l1(e,r):Xe(t)?l1(e,t):e}function qs(e){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qs(e)}var TI=["ref"];function c1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c1(Object(r),!0).forEach(function(n){e0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,I_(n.key),n)}}function $I(e,t,r){return t&&u1(e.prototype,t),r&&u1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function RI(e,t,r){return t=jd(t),DI(e,L_()?Reflect.construct(t,r||[],jd(e).constructor):t.apply(e,r))}function DI(e,t){if(t&&(qs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LI(e)}function LI(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L_=function(){return!!e})()}function jd(e){return jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jd(e)}function II(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kg(e,t)}function Kg(e,t){return Kg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Kg(e,t)}function e0(e,t,r){return t=I_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I_(e){var t=BI(e,"string");return qs(t)=="symbol"?t:t+""}function BI(e,t){if(qs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function FI(e,t){if(e==null)return{};var r=zI(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zI(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function UI(e){return e.value}function GI(e,t){if(F.isValidElement(e))return F.cloneElement(e,t);if(typeof e=="function")return F.createElement(e,t);t.ref;var r=FI(t,TI);return F.createElement(hv,r)}var f1=1,Ka=function(e){function t(){var r;EI(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=RI(this,t,[].concat(a)),e0(r,"lastBoundingBox",{width:-1,height:-1}),r}return II(t,e),$I(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>f1||Math.abs(a.height-this.lastBoundingBox.height)>f1)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?oo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,o=a.layout,i=a.align,s=a.verticalAlign,l=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(i==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=i==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var m=this.getBBoxSnapshot();h={top:((d||0)-m.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return oo(oo({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,o=a.content,i=a.width,s=a.height,l=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=oo(oo({position:"absolute",width:i||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return F.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},GI(o,oo(oo({},this.props),{},{payload:D_(d,u,UI)})))}}],[{key:"getWithHeight",value:function(n,a){var o=oo(oo({},this.defaultProps),n.props),i=o.layout;return i==="vertical"&&fe(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||a}:null}}])}(S.PureComponent);e0(Ka,"displayName","Legend");e0(Ka,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var d1=Eu,WI=gv,HI=Gn,h1=d1?d1.isConcatSpreadable:void 0;function VI(e){return HI(e)||WI(e)||!!(h1&&e&&e[h1])}var XI=VI,KI=S_,YI=XI;function B_(e,t,r,n,a){var o=-1,i=e.length;for(r||(r=YI),a||(a=[]);++o<i;){var s=e[o];t>0&&r(s)?t>1?B_(s,t-1,r,n,a):KI(a,s):n||(a[a.length]=s)}return a}var F_=B_;function qI(e){return function(t,r,n){for(var a=-1,o=Object(t),i=n(t),s=i.length;s--;){var l=i[e?s:++a];if(r(o[l],l,o)===!1)break}return t}}var ZI=qI,QI=ZI,JI=QI(),eB=JI,tB=eB,rB=Jh;function nB(e,t){return e&&tB(e,t,rB)}var z_=nB,aB=$u;function oB(e,t){return function(r,n){if(r==null)return r;if(!aB(r))return e(r,n);for(var a=r.length,o=t?a:-1,i=Object(r);(t?o--:++o<a)&&n(i[o],o,i)!==!1;);return r}}var iB=oB,sB=z_,lB=iB,cB=lB(sB),xv=cB,uB=xv,fB=$u;function dB(e,t){var r=-1,n=fB(e)?Array(e.length):[];return uB(e,function(a,o,i){n[++r]=t(a,o,i)}),n}var U_=dB;function hB(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var pB=hB,p1=jl;function gB(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,o=p1(e),i=t!==void 0,s=t===null,l=t===t,u=p1(t);if(!s&&!u&&!o&&e>t||o&&i&&l&&!s&&!u||n&&i&&l||!r&&l||!a)return 1;if(!n&&!o&&!u&&e<t||u&&r&&a&&!n&&!o||s&&r&&a||!i&&a||!l)return-1}return 0}var mB=gB,yB=mB;function vB(e,t,r){for(var n=-1,a=e.criteria,o=t.criteria,i=a.length,s=r.length;++n<i;){var l=yB(a[n],o[n]);if(l){if(n>=s)return l;var u=r[n];return l*(u=="desc"?-1:1)}}return e.index-t.index}var xB=vB,lp=av,bB=ov,wB=di,kB=U_,jB=pB,SB=O_,_B=xB,NB=Cl,OB=Gn;function PB(e,t,r){t.length?t=lp(t,function(o){return OB(o)?function(i){return bB(i,o.length===1?o[0]:o)}:o}):t=[NB];var n=-1;t=lp(t,SB(wB));var a=kB(e,function(o,i,s){var l=lp(t,function(u){return u(o)});return{criteria:l,index:++n,value:o}});return jB(a,function(o,i){return _B(o,i,r)})}var MB=PB;function AB(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var CB=AB,TB=CB,g1=Math.max;function EB(e,t,r){return t=g1(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,o=g1(n.length-t,0),i=Array(o);++a<o;)i[a]=n[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=n[a];return s[t]=r(i),TB(e,this,s)}}var $B=EB;function RB(e){return function(){return e}}var DB=RB,LB=rs,IB=function(){try{var e=LB(Object,"defineProperty");return e({},"",{}),e}catch{}}(),G_=IB,BB=DB,m1=G_,FB=Cl,zB=m1?function(e,t){return m1(e,"toString",{configurable:!0,enumerable:!1,value:BB(t),writable:!0})}:FB,UB=zB,GB=800,WB=16,HB=Date.now;function VB(e){var t=0,r=0;return function(){var n=HB(),a=WB-(n-r);if(r=n,a>0){if(++t>=GB)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var XB=VB,KB=UB,YB=XB,qB=YB(KB),ZB=qB,QB=Cl,JB=$B,e8=ZB;function t8(e,t){return e8(JB(e,t,QB),e+"")}var r8=t8,n8=ev,a8=$u,o8=mv,i8=fi;function s8(e,t,r){if(!i8(r))return!1;var n=typeof t;return(n=="number"?a8(r)&&o8(t,r.length):n=="string"&&t in r)?n8(r[t],e):!1}var t0=s8,l8=F_,c8=MB,u8=r8,y1=t0,f8=u8(function(e,t){if(e==null)return[];var r=t.length;return r>1&&y1(e,t[0],t[1])?t=[]:r>2&&y1(t[0],t[1],t[2])&&(t=[t[0]]),c8(e,l8(t,1),[])}),d8=f8;const bv=Ft(d8);function Kc(e){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kc(e)}function Yg(){return Yg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yg.apply(this,arguments)}function h8(e,t){return y8(e)||m8(e,t)||g8(e,t)||p8()}function p8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g8(e,t){if(e){if(typeof e=="string")return v1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v1(e,t)}}function v1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}function y8(e){if(Array.isArray(e))return e}function x1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x1(Object(r),!0).forEach(function(n){v8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v8(e,t,r){return t=x8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x8(e){var t=b8(e,"string");return Kc(t)=="symbol"?t:t+""}function b8(e,t){if(Kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w8(e){return Array.isArray(e)&&Ir(e[0])&&Ir(e[1])?e.join(" ~ "):e}var k8=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,o=a===void 0?{}:a,i=t.itemStyle,s=i===void 0?{}:i,l=t.labelStyle,u=l===void 0?{}:l,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,m=t.labelClassName,x=t.label,w=t.labelFormatter,y=t.accessibilityLayer,g=y===void 0?!1:y,v=function(){if(d&&d.length){var M={padding:0,margin:0},C=(h?bv(d,h):d).map(function(I,D){if(I.type==="none")return null;var U=cp({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},s),P=I.formatter||f||w8,E=I.value,B=I.name,z=E,te=B;if(P&&z!=null&&te!=null){var Q=P(E,B,I,D,d);if(Array.isArray(Q)){var R=h8(Q,2);z=R[0],te=R[1]}else z=Q}return F.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:U},Ir(te)?F.createElement("span",{className:"recharts-tooltip-item-name"},te):null,Ir(te)?F.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,F.createElement("span",{className:"recharts-tooltip-item-value"},z),F.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return F.createElement("ul",{className:"recharts-tooltip-item-list",style:M},C)}return null},j=cp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),b=cp({margin:0},u),k=!We(x),N=k?x:"",_=ot("recharts-default-tooltip",p),O=ot("recharts-tooltip-label",m);k&&w&&d!==void 0&&d!==null&&(N=w(x,d));var A=g?{role:"status","aria-live":"assertive"}:{};return F.createElement("div",Yg({className:_,style:j},A),F.createElement("p",{className:O,style:b},F.isValidElement(N)?N:"".concat(N)),v())};function Yc(e){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yc(e)}function mf(e,t,r){return t=j8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j8(e){var t=S8(e,"string");return Yc(t)=="symbol"?t:t+""}function S8(e,t){if(Yc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ql="recharts-tooltip-wrapper",_8={visibility:"hidden"};function N8(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return ot(ql,mf(mf(mf(mf({},"".concat(ql,"-right"),fe(r)&&t&&fe(t.x)&&r>=t.x),"".concat(ql,"-left"),fe(r)&&t&&fe(t.x)&&r<t.x),"".concat(ql,"-bottom"),fe(n)&&t&&fe(t.y)&&n>=t.y),"".concat(ql,"-top"),fe(n)&&t&&fe(t.y)&&n<t.y))}function b1(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,o=e.position,i=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,u=e.viewBoxDimension;if(o&&fe(o[n]))return o[n];var d=r[n]-s-a,f=r[n]+a;if(t[n])return i[n]?d:f;if(i[n]){var h=d,p=l[n];return h<p?Math.max(f,l[n]):Math.max(d,l[n])}var m=f+s,x=l[n]+u;return m>x?Math.max(d,l[n]):Math.max(f,l[n])}function O8(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function P8(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,o=e.reverseDirection,i=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,u,d,f;return i.height>0&&i.width>0&&r?(d=b1({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.width,viewBox:l,viewBoxDimension:l.width}),f=b1({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.height,viewBox:l,viewBoxDimension:l.height}),u=O8({translateX:d,translateY:f,useTranslate3d:s})):u=_8,{cssProperties:u,cssClasses:N8({translateX:d,translateY:f,coordinate:r})}}function Zs(e){"@babel/helpers - typeof";return Zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zs(e)}function w1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function k1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w1(Object(r),!0).forEach(function(n){Zg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,H_(n.key),n)}}function C8(e,t,r){return t&&A8(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function T8(e,t,r){return t=Sd(t),E8(e,W_()?Reflect.construct(t,r||[],Sd(e).constructor):t.apply(e,r))}function E8(e,t){if(t&&(Zs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $8(e)}function $8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W_=function(){return!!e})()}function Sd(e){return Sd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sd(e)}function R8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qg(e,t)}function qg(e,t){return qg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qg(e,t)}function Zg(e,t,r){return t=H_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H_(e){var t=D8(e,"string");return Zs(t)=="symbol"?t:t+""}function D8(e,t){if(Zs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var j1=1,L8=function(e){function t(){var r;M8(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=T8(this,t,[].concat(a)),Zg(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Zg(r,"handleKeyDown",function(i){if(i.key==="Escape"){var s,l,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return R8(t,e),C8(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>j1||Math.abs(n.height-this.state.lastBoundingBox.height)>j1)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,o=a.active,i=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,m=a.position,x=a.reverseDirection,w=a.useTranslate3d,y=a.viewBox,g=a.wrapperStyle,v=P8({allowEscapeViewBox:i,coordinate:d,offsetTopLeft:p,position:m,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:y}),j=v.cssClasses,b=v.cssProperties,k=k1(k1({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},g);return F.createElement("div",{tabIndex:-1,className:j,style:k,ref:function(_){n.wrapperNode=_}},u)}}])}(S.PureComponent),I8=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},hi={isSsr:I8()};function Qs(e){"@babel/helpers - typeof";return Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qs(e)}function S1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S1(Object(r),!0).forEach(function(n){wv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function B8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,X_(n.key),n)}}function z8(e,t,r){return t&&F8(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function U8(e,t,r){return t=_d(t),G8(e,V_()?Reflect.construct(t,r||[],_d(e).constructor):t.apply(e,r))}function G8(e,t){if(t&&(Qs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W8(e)}function W8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V_=function(){return!!e})()}function _d(e){return _d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_d(e)}function H8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qg(e,t)}function Qg(e,t){return Qg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Qg(e,t)}function wv(e,t,r){return t=X_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X_(e){var t=V8(e,"string");return Qs(t)=="symbol"?t:t+""}function V8(e,t){if(Qs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function X8(e){return e.dataKey}function K8(e,t){return F.isValidElement(e)?F.cloneElement(e,t):typeof e=="function"?F.createElement(e,t):F.createElement(k8,t)}var Kr=function(e){function t(){return B8(this,t),U8(this,t,arguments)}return H8(t,e),z8(t,[{key:"render",value:function(){var n=this,a=this.props,o=a.active,i=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,m=a.payload,x=a.payloadUniqBy,w=a.position,y=a.reverseDirection,g=a.useTranslate3d,v=a.viewBox,j=a.wrapperStyle,b=m??[];f&&b.length&&(b=D_(m.filter(function(N){return N.value!=null&&(N.hide!==!0||n.props.includeHidden)}),x,X8));var k=b.length>0;return F.createElement(L8,{allowEscapeViewBox:i,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:d,hasPayload:k,offset:p,position:w,reverseDirection:y,useTranslate3d:g,viewBox:v,wrapperStyle:j},K8(u,_1(_1({},this.props),{},{payload:b})))}}])}(S.PureComponent);wv(Kr,"displayName","Tooltip");wv(Kr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!hi.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Y8=to,q8=function(){return Y8.Date.now()},Z8=q8,Q8=/\s/;function J8(e){for(var t=e.length;t--&&Q8.test(e.charAt(t)););return t}var eF=J8,tF=eF,rF=/^\s+/;function nF(e){return e&&e.slice(0,tF(e)+1).replace(rF,"")}var aF=nF,oF=aF,N1=fi,iF=jl,O1=NaN,sF=/^[-+]0x[0-9a-f]+$/i,lF=/^0b[01]+$/i,cF=/^0o[0-7]+$/i,uF=parseInt;function fF(e){if(typeof e=="number")return e;if(iF(e))return O1;if(N1(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=N1(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=oF(e);var r=lF.test(e);return r||cF.test(e)?uF(e.slice(2),r?2:8):sF.test(e)?O1:+e}var K_=fF,dF=fi,up=Z8,P1=K_,hF="Expected a function",pF=Math.max,gF=Math.min;function mF(e,t,r){var n,a,o,i,s,l,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(hF);t=P1(t)||0,dF(r)&&(d=!!r.leading,f="maxWait"in r,o=f?pF(P1(r.maxWait)||0,t):o,h="trailing"in r?!!r.trailing:h);function p(k){var N=n,_=a;return n=a=void 0,u=k,i=e.apply(_,N),i}function m(k){return u=k,s=setTimeout(y,t),d?p(k):i}function x(k){var N=k-l,_=k-u,O=t-N;return f?gF(O,o-_):O}function w(k){var N=k-l,_=k-u;return l===void 0||N>=t||N<0||f&&_>=o}function y(){var k=up();if(w(k))return g(k);s=setTimeout(y,x(k))}function g(k){return s=void 0,h&&n?p(k):(n=a=void 0,i)}function v(){s!==void 0&&clearTimeout(s),u=0,n=l=a=s=void 0}function j(){return s===void 0?i:g(up())}function b(){var k=up(),N=w(k);if(n=arguments,a=this,l=k,N){if(s===void 0)return m(l);if(f)return clearTimeout(s),s=setTimeout(y,t),p(l)}return s===void 0&&(s=setTimeout(y,t)),i}return b.cancel=v,b.flush=j,b}var yF=mF,vF=yF,xF=fi,bF="Expected a function";function wF(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(bF);return xF(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),vF(e,t,{leading:n,maxWait:t,trailing:a})}var kF=wF;const Y_=Ft(kF);function qc(e){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qc(e)}function M1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M1(Object(r),!0).forEach(function(n){jF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jF(e,t,r){return t=SF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SF(e){var t=_F(e,"string");return qc(t)=="symbol"?t:t+""}function _F(e,t){if(qc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NF(e,t){return AF(e)||MF(e,t)||PF(e,t)||OF()}function OF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PF(e,t){if(e){if(typeof e=="string")return A1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A1(e,t)}}function A1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function MF(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}function AF(e){if(Array.isArray(e))return e}var vo=S.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,o=e.width,i=o===void 0?"100%":o,s=e.height,l=s===void 0?"100%":s,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,m=e.debounce,x=m===void 0?0:m,w=e.id,y=e.className,g=e.onResize,v=e.style,j=v===void 0?{}:v,b=S.useRef(null),k=S.useRef();k.current=g,S.useImperativeHandle(t,function(){return Object.defineProperty(b.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),b.current},configurable:!0})});var N=S.useState({containerWidth:a.width,containerHeight:a.height}),_=NF(N,2),O=_[0],A=_[1],T=S.useCallback(function(C,I){A(function(D){var U=Math.round(C),P=Math.round(I);return D.containerWidth===U&&D.containerHeight===P?D:{containerWidth:U,containerHeight:P}})},[]);S.useEffect(function(){var C=function(B){var z,te=B[0].contentRect,Q=te.width,R=te.height;T(Q,R),(z=k.current)===null||z===void 0||z.call(k,Q,R)};x>0&&(C=Y_(C,x,{trailing:!0,leading:!1}));var I=new ResizeObserver(C),D=b.current.getBoundingClientRect(),U=D.width,P=D.height;return T(U,P),I.observe(b.current),function(){I.disconnect()}},[T,x]);var M=S.useMemo(function(){var C=O.containerWidth,I=O.containerHeight;if(C<0||I<0)return null;yo(Ti(i)||Ti(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,l),yo(!r||r>0,"The aspect(%s) must be greater than zero.",r);var D=Ti(i)?C:i,U=Ti(l)?I:l;r&&r>0&&(D?U=D/r:U&&(D=U*r),h&&U>h&&(U=h)),yo(D>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,U,i,l,d,f,r);var P=!Array.isArray(p)&&mo(p.type).endsWith("Chart");return F.Children.map(p,function(E){return F.isValidElement(E)?S.cloneElement(E,yf({width:D,height:U},P?{style:yf({height:"100%",width:"100%",maxHeight:U,maxWidth:D},E.props.style)}:{})):E})},[r,p,l,h,f,d,O,i]);return F.createElement("div",{id:w?"".concat(w):void 0,className:ot("recharts-responsive-container",y),style:yf(yf({},j),{},{width:i,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:b},M)}),kv=function(t){return null};kv.displayName="Cell";function Zc(e){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zc(e)}function C1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C1(Object(r),!0).forEach(function(n){CF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CF(e,t,r){return t=TF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TF(e){var t=EF(e,"string");return Zc(t)=="symbol"?t:t+""}function EF(e,t){if(Zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ds={widthCache:{},cacheCount:0},$F=2e3,RF={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},T1="recharts_measurement_span";function DF(e){var t=Jg({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var bc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||hi.isSsr)return{width:0,height:0};var n=DF(r),a=JSON.stringify({text:t,copyStyle:n});if(ds.widthCache[a])return ds.widthCache[a];try{var o=document.getElementById(T1);o||(o=document.createElement("span"),o.setAttribute("id",T1),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var i=Jg(Jg({},RF),n);Object.assign(o.style,i),o.textContent="".concat(t);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return ds.widthCache[a]=l,++ds.cacheCount>$F&&(ds.cacheCount=0,ds.widthCache={}),l}catch{return{width:0,height:0}}},LF=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Qc(e){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qc(e)}function Nd(e,t){return zF(e)||FF(e,t)||BF(e,t)||IF()}function IF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BF(e,t){if(e){if(typeof e=="string")return E1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E1(e,t)}}function E1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function FF(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}function zF(e){if(Array.isArray(e))return e}function UF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WF(n.key),n)}}function GF(e,t,r){return t&&$1(e.prototype,t),r&&$1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function WF(e){var t=HF(e,"string");return Qc(t)=="symbol"?t:t+""}function HF(e,t){if(Qc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var R1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,D1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,VF=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,XF=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,q_={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},KF=Object.keys(q_),Ps="NaN";function YF(e,t){return e*q_[t]}var vf=function(){function e(t,r){UF(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!VF.test(r)&&(this.num=NaN,this.unit=""),KF.includes(r)&&(this.num=YF(t,r),this.unit="px")}return GF(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=XF.exec(r))!==null&&n!==void 0?n:[],o=Nd(a,3),i=o[1],s=o[2];return new e(parseFloat(i),s??"")}}])}();function Z_(e){if(e.includes(Ps))return Ps;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=R1.exec(t))!==null&&r!==void 0?r:[],a=Nd(n,4),o=a[1],i=a[2],s=a[3],l=vf.parse(o??""),u=vf.parse(s??""),d=i==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return Ps;t=t.replace(R1,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=D1.exec(t))!==null&&f!==void 0?f:[],p=Nd(h,4),m=p[1],x=p[2],w=p[3],y=vf.parse(m??""),g=vf.parse(w??""),v=x==="+"?y.add(g):y.subtract(g);if(v.isNaN())return Ps;t=t.replace(D1,v.toString())}return t}var L1=/\(([^()]*)\)/;function qF(e){for(var t=e;t.includes("(");){var r=L1.exec(t),n=Nd(r,2),a=n[1];t=t.replace(L1,Z_(a))}return t}function ZF(e){var t=e.replace(/\s+/g,"");return t=qF(t),t=Z_(t),t}function QF(e){try{return ZF(e)}catch{return Ps}}function fp(e){var t=QF(e.slice(5,-1));return t===Ps?"":t}var JF=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],e9=["dx","dy","angle","className","breakAll"];function em(){return em=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},em.apply(this,arguments)}function I1(e,t){if(e==null)return{};var r=t9(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function t9(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function B1(e,t){return o9(e)||a9(e,t)||n9(e,t)||r9()}function r9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n9(e,t){if(e){if(typeof e=="string")return F1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F1(e,t)}}function F1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a9(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}function o9(e){if(Array.isArray(e))return e}var Q_=/[ \f\n\r\t\v\u2028\u2029]+/,J_=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var o=[];We(r)||(n?o=r.toString().split(""):o=r.toString().split(Q_));var i=o.map(function(l){return{word:l,width:bc(l,a).width}}),s=n?0:bc("",a).width;return{wordsWithComputedWidth:i,spaceWidth:s}}catch{return null}},i9=function(t,r,n,a,o){var i=t.maxLines,s=t.children,l=t.style,u=t.breakAll,d=fe(i),f=s,h=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce(function(U,P){var E=P.word,B=P.width,z=U[U.length-1];if(z&&(a==null||o||z.width+B+n<Number(a)))z.words.push(E),z.width+=B+n;else{var te={words:[E],width:B};U.push(te)}return U},[])},p=h(r),m=function(D){return D.reduce(function(U,P){return U.width>P.width?U:P})};if(!d)return p;for(var x="",w=function(D){var U=f.slice(0,D),P=J_({breakAll:u,style:l,children:U+x}).wordsWithComputedWidth,E=h(P),B=E.length>i||m(E).width>Number(a);return[B,E]},y=0,g=f.length-1,v=0,j;y<=g&&v<=f.length-1;){var b=Math.floor((y+g)/2),k=b-1,N=w(k),_=B1(N,2),O=_[0],A=_[1],T=w(b),M=B1(T,1),C=M[0];if(!O&&!C&&(y=b+1),O&&C&&(g=b-1),!O&&C){j=A;break}v++}return j||p},z1=function(t){var r=We(t)?[]:t.toString().split(Q_);return[{words:r}]},s9=function(t){var r=t.width,n=t.scaleToFit,a=t.children,o=t.style,i=t.breakAll,s=t.maxLines;if((r||n)&&!hi.isSsr){var l,u,d=J_({breakAll:i,children:a,style:o});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,u=h}else return z1(a);return i9({breakAll:i,children:a,maxLines:s,style:o},l,u,r,n)}return z1(a)},U1="#808080",Od=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,o=a===void 0?0:a,i=t.lineHeight,s=i===void 0?"1em":i,l=t.capHeight,u=l===void 0?"0.71em":l,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,m=t.verticalAnchor,x=m===void 0?"end":m,w=t.fill,y=w===void 0?U1:w,g=I1(t,JF),v=S.useMemo(function(){return s9({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width})},[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),j=g.dx,b=g.dy,k=g.angle,N=g.className,_=g.breakAll,O=I1(g,e9);if(!Ir(n)||!Ir(o))return null;var A=n+(fe(j)?j:0),T=o+(fe(b)?b:0),M;switch(x){case"start":M=fp("calc(".concat(u,")"));break;case"middle":M=fp("calc(".concat((v.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:M=fp("calc(".concat(v.length-1," * -").concat(s,")"));break}var C=[];if(f){var I=v[0].width,D=g.width;C.push("scale(".concat((fe(D)?D/I:1)/I,")"))}return k&&C.push("rotate(".concat(k,", ").concat(A,", ").concat(T,")")),C.length&&(O.transform=C.join(" ")),F.createElement("text",em({},Ve(O,!0),{x:A,y:T,className:ot("recharts-text",N),textAnchor:p,fill:y.includes("url")?U1:y}),v.map(function(U,P){var E=U.words.join(_?"":" ");return F.createElement("tspan",{x:A,dy:P===0?M:s,key:"".concat(E,"-").concat(P)},E)}))};function oi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function l9(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function jv(e){let t,r,n;e.length!==2?(t=oi,r=(s,l)=>oi(e(s),l),n=(s,l)=>e(s)-l):(t=e===oi||e===l9?e:c9,r=e,n=e);function a(s,l,u=0,d=s.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;r(s[f],l)<0?u=f+1:d=f}while(u<d)}return u}function o(s,l,u=0,d=s.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;r(s[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function i(s,l,u=0,d=s.length){const f=a(s,l,u,d-1);return f>u&&n(s[f-1],l)>-n(s[f],l)?f-1:f}return{left:a,center:i,right:o}}function c9(){return 0}function eN(e){return e===null?NaN:+e}function*u9(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const f9=jv(oi),Ru=f9.right;jv(eN).center;class G1 extends Map{constructor(t,r=p9){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(W1(this,t))}has(t){return super.has(W1(this,t))}set(t,r){return super.set(d9(this,t),r)}delete(t){return super.delete(h9(this,t))}}function W1({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function d9({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function h9({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function p9(e){return e!==null&&typeof e=="object"?e.valueOf():e}function g9(e=oi){if(e===oi)return tN;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function tN(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const m9=Math.sqrt(50),y9=Math.sqrt(10),v9=Math.sqrt(2);function Pd(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),o=n/Math.pow(10,a),i=o>=m9?10:o>=y9?5:o>=v9?2:1;let s,l,u;return a<0?(u=Math.pow(10,-a)/i,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,a)*i,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=r&&r<2?Pd(e,t,r*2):[s,l,u]}function tm(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,o,i]=n?Pd(t,e,r):Pd(e,t,r);if(!(o>=a))return[];const s=o-a+1,l=new Array(s);if(n)if(i<0)for(let u=0;u<s;++u)l[u]=(o-u)/-i;else for(let u=0;u<s;++u)l[u]=(o-u)*i;else if(i<0)for(let u=0;u<s;++u)l[u]=(a+u)/-i;else for(let u=0;u<s;++u)l[u]=(a+u)*i;return l}function rm(e,t,r){return t=+t,e=+e,r=+r,Pd(e,t,r)[2]}function nm(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?rm(t,e,r):rm(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function H1(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function V1(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function rN(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?tN:g9(a);n>r;){if(n-r>600){const l=n-r+1,u=t-r+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/l+h)),m=Math.min(n,Math.floor(t+(l-u)*f/l+h));rN(e,t,p,m,a)}const o=e[t];let i=r,s=n;for(Zl(e,r,t),a(e[n],o)>0&&Zl(e,r,n);i<s;){for(Zl(e,i,s),++i,--s;a(e[i],o)<0;)++i;for(;a(e[s],o)>0;)--s}a(e[r],o)===0?Zl(e,r,s):(++s,Zl(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function Zl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function x9(e,t,r){if(e=Float64Array.from(u9(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return V1(e);if(t>=1)return H1(e);var n,a=(n-1)*t,o=Math.floor(a),i=H1(rN(e,o).subarray(0,o+1)),s=V1(e.subarray(o+1));return i+(s-i)*(a-o)}}function b9(e,t,r=eN){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,o=Math.floor(a),i=+r(e[o],o,e),s=+r(e[o+1],o+1,e);return i+(s-i)*(a-o)}}function w9(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(a);++n<a;)o[n]=e+n*r;return o}function va(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ao(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const am=Symbol("implicit");function Sv(){var e=new G1,t=[],r=[],n=am;function a(o){let i=e.get(o);if(i===void 0){if(n!==am)return n;e.set(o,i=t.push(o)-1)}return r[i%r.length]}return a.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new G1;for(const i of o)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(o){return arguments.length?(r=Array.from(o),a):r.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return Sv(t,r).unknown(n)},va.apply(a,arguments),a}function Jc(){var e=Sv().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,o,i,s=!1,l=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=a<n,m=p?a:n,x=p?n:a;o=(x-m)/Math.max(1,h-l+u*2),s&&(o=Math.floor(o)),m+=(x-m-o*(h-l))*d,i=o*(1-l),s&&(m=Math.round(m),i=Math.round(i));var w=w9(h).map(function(y){return m+o*y});return r(p?w.reverse():w)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,s=!0,f()},e.bandwidth=function(){return i},e.step=function(){return o},e.round=function(h){return arguments.length?(s=!!h,f()):s},e.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Jc(t(),[n,a]).round(s).paddingInner(l).paddingOuter(u).align(d)},va.apply(f(),arguments)}function nN(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return nN(t())},e}function wc(){return nN(Jc.apply(null,arguments).paddingInner(1))}function _v(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function aN(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Du(){}var eu=.7,Md=1/eu,Is="\\s*([+-]?\\d+)\\s*",tu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ya="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",k9=/^#([0-9a-f]{3,8})$/,j9=new RegExp(`^rgb\\(${Is},${Is},${Is}\\)$`),S9=new RegExp(`^rgb\\(${Ya},${Ya},${Ya}\\)$`),_9=new RegExp(`^rgba\\(${Is},${Is},${Is},${tu}\\)$`),N9=new RegExp(`^rgba\\(${Ya},${Ya},${Ya},${tu}\\)$`),O9=new RegExp(`^hsl\\(${tu},${Ya},${Ya}\\)$`),P9=new RegExp(`^hsla\\(${tu},${Ya},${Ya},${tu}\\)$`),X1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_v(Du,ru,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:K1,formatHex:K1,formatHex8:M9,formatHsl:A9,formatRgb:Y1,toString:Y1});function K1(){return this.rgb().formatHex()}function M9(){return this.rgb().formatHex8()}function A9(){return oN(this).formatHsl()}function Y1(){return this.rgb().formatRgb()}function ru(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=k9.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?q1(t):r===3?new Dn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?xf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?xf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=j9.exec(e))?new Dn(t[1],t[2],t[3],1):(t=S9.exec(e))?new Dn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=_9.exec(e))?xf(t[1],t[2],t[3],t[4]):(t=N9.exec(e))?xf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=O9.exec(e))?J1(t[1],t[2]/100,t[3]/100,1):(t=P9.exec(e))?J1(t[1],t[2]/100,t[3]/100,t[4]):X1.hasOwnProperty(e)?q1(X1[e]):e==="transparent"?new Dn(NaN,NaN,NaN,0):null}function q1(e){return new Dn(e>>16&255,e>>8&255,e&255,1)}function xf(e,t,r,n){return n<=0&&(e=t=r=NaN),new Dn(e,t,r,n)}function C9(e){return e instanceof Du||(e=ru(e)),e?(e=e.rgb(),new Dn(e.r,e.g,e.b,e.opacity)):new Dn}function om(e,t,r,n){return arguments.length===1?C9(e):new Dn(e,t,r,n??1)}function Dn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}_v(Dn,om,aN(Du,{brighter(e){return e=e==null?Md:Math.pow(Md,e),new Dn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?eu:Math.pow(eu,e),new Dn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Dn(Bi(this.r),Bi(this.g),Bi(this.b),Ad(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Z1,formatHex:Z1,formatHex8:T9,formatRgb:Q1,toString:Q1}));function Z1(){return`#${Ei(this.r)}${Ei(this.g)}${Ei(this.b)}`}function T9(){return`#${Ei(this.r)}${Ei(this.g)}${Ei(this.b)}${Ei((isNaN(this.opacity)?1:this.opacity)*255)}`}function Q1(){const e=Ad(this.opacity);return`${e===1?"rgb(":"rgba("}${Bi(this.r)}, ${Bi(this.g)}, ${Bi(this.b)}${e===1?")":`, ${e})`}`}function Ad(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Bi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ei(e){return e=Bi(e),(e<16?"0":"")+e.toString(16)}function J1(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Aa(e,t,r,n)}function oN(e){if(e instanceof Aa)return new Aa(e.h,e.s,e.l,e.opacity);if(e instanceof Du||(e=ru(e)),!e)return new Aa;if(e instanceof Aa)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),o=Math.max(t,r,n),i=NaN,s=o-a,l=(o+a)/2;return s?(t===o?i=(r-n)/s+(r<n)*6:r===o?i=(n-t)/s+2:i=(t-r)/s+4,s/=l<.5?o+a:2-o-a,i*=60):s=l>0&&l<1?0:i,new Aa(i,s,l,e.opacity)}function E9(e,t,r,n){return arguments.length===1?oN(e):new Aa(e,t,r,n??1)}function Aa(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}_v(Aa,E9,aN(Du,{brighter(e){return e=e==null?Md:Math.pow(Md,e),new Aa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?eu:Math.pow(eu,e),new Aa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Dn(dp(e>=240?e-240:e+120,a,n),dp(e,a,n),dp(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Aa(ew(this.h),bf(this.s),bf(this.l),Ad(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ad(this.opacity);return`${e===1?"hsl(":"hsla("}${ew(this.h)}, ${bf(this.s)*100}%, ${bf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ew(e){return e=(e||0)%360,e<0?e+360:e}function bf(e){return Math.max(0,Math.min(1,e||0))}function dp(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Nv=e=>()=>e;function $9(e,t){return function(r){return e+r*t}}function R9(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function D9(e){return(e=+e)==1?iN:function(t,r){return r-t?R9(t,r,e):Nv(isNaN(t)?r:t)}}function iN(e,t){var r=t-e;return r?$9(e,r):Nv(isNaN(e)?t:e)}const tw=function e(t){var r=D9(t);function n(a,o){var i=r((a=om(a)).r,(o=om(o)).r),s=r(a.g,o.g),l=r(a.b,o.b),u=iN(a.opacity,o.opacity);return function(d){return a.r=i(d),a.g=s(d),a.b=l(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function L9(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(o){for(a=0;a<r;++a)n[a]=e[a]*(1-o)+t[a]*o;return n}}function I9(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function B9(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),o=new Array(r),i;for(i=0;i<n;++i)a[i]=Tl(e[i],t[i]);for(;i<r;++i)o[i]=t[i];return function(s){for(i=0;i<n;++i)o[i]=a[i](s);return o}}function F9(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Cd(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function z9(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Tl(e[a],t[a]):n[a]=t[a];return function(o){for(a in r)n[a]=r[a](o);return n}}var im=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hp=new RegExp(im.source,"g");function U9(e){return function(){return e}}function G9(e){return function(t){return e(t)+""}}function W9(e,t){var r=im.lastIndex=hp.lastIndex=0,n,a,o,i=-1,s=[],l=[];for(e=e+"",t=t+"";(n=im.exec(e))&&(a=hp.exec(t));)(o=a.index)>r&&(o=t.slice(r,o),s[i]?s[i]+=o:s[++i]=o),(n=n[0])===(a=a[0])?s[i]?s[i]+=a:s[++i]=a:(s[++i]=null,l.push({i,x:Cd(n,a)})),r=hp.lastIndex;return r<t.length&&(o=t.slice(r),s[i]?s[i]+=o:s[++i]=o),s.length<2?l[0]?G9(l[0].x):U9(t):(t=l.length,function(u){for(var d=0,f;d<t;++d)s[(f=l[d]).i]=f.x(u);return s.join("")})}function Tl(e,t){var r=typeof t,n;return t==null||r==="boolean"?Nv(t):(r==="number"?Cd:r==="string"?(n=ru(t))?(t=n,tw):W9:t instanceof ru?tw:t instanceof Date?F9:I9(t)?L9:Array.isArray(t)?B9:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?z9:Cd)(e,t)}function Ov(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function H9(e,t){t===void 0&&(t=e,e=Tl);for(var r=0,n=t.length-1,a=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(a,a=t[++r]);return function(i){var s=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return o[s](i-s)}}function V9(e){return function(){return e}}function Td(e){return+e}var rw=[0,1];function Pn(e){return e}function sm(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:V9(isNaN(t)?NaN:.5)}function X9(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function K9(e,t,r){var n=e[0],a=e[1],o=t[0],i=t[1];return a<n?(n=sm(a,n),o=r(i,o)):(n=sm(n,a),o=r(o,i)),function(s){return o(n(s))}}function Y9(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),o=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=sm(e[i],e[i+1]),o[i]=r(t[i],t[i+1]);return function(s){var l=Ru(e,s,1,n)-1;return o[l](a[l](s))}}function Lu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function r0(){var e=rw,t=rw,r=Tl,n,a,o,i=Pn,s,l,u;function d(){var h=Math.min(e.length,t.length);return i!==Pn&&(i=X9(e[0],e[h-1])),s=h>2?Y9:K9,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=s(e.map(n),t,r)))(n(i(h)))}return f.invert=function(h){return i(a((u||(u=s(t,e.map(n),Cd)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Td),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=Ov,d()},f.clamp=function(h){return arguments.length?(i=h?!0:Pn,d()):i!==Pn},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,p){return n=h,a=p,d()}}function Pv(){return r0()(Pn,Pn)}function q9(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ed(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Js(e){return e=Ed(Math.abs(e)),e?e[1]:NaN}function Z9(e,t){return function(r,n){for(var a=r.length,o=[],i=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),o.push(r.substring(a-=s,a+s)),!((l+=s+1)>n));)s=e[i=(i+1)%e.length];return o.reverse().join(t)}}function Q9(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var J9=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function nu(e){if(!(t=J9.exec(e)))throw new Error("invalid format: "+e);var t;return new Mv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}nu.prototype=Mv.prototype;function Mv(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Mv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ez(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var $d;function tz(e,t){var r=Ed(e,t);if(!r)return $d=void 0,e.toPrecision(t);var n=r[0],a=r[1],o=a-($d=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return o===i?n:o>i?n+new Array(o-i+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Ed(e,Math.max(0,t+o-1))[0]}function nw(e,t){var r=Ed(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const aw={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:q9,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>nw(e*100,t),r:nw,s:tz,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ow(e){return e}var iw=Array.prototype.map,sw=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function rz(e){var t=e.grouping===void 0||e.thousands===void 0?ow:Z9(iw.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?ow:Q9(iw.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f,h){f=nu(f);var p=f.fill,m=f.align,x=f.sign,w=f.symbol,y=f.zero,g=f.width,v=f.comma,j=f.precision,b=f.trim,k=f.type;k==="n"?(v=!0,k="g"):aw[k]||(j===void 0&&(j=12),b=!0,k="g"),(y||p==="0"&&m==="=")&&(y=!0,p="0",m="=");var N=(h&&h.prefix!==void 0?h.prefix:"")+(w==="$"?r:w==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():""),_=(w==="$"?n:/[%p]/.test(k)?i:"")+(h&&h.suffix!==void 0?h.suffix:""),O=aw[k],A=/[defgprs%]/.test(k);j=j===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function T(M){var C=N,I=_,D,U,P;if(k==="c")I=O(M)+I,M="";else{M=+M;var E=M<0||1/M<0;if(M=isNaN(M)?l:O(Math.abs(M),j),b&&(M=ez(M)),E&&+M==0&&x!=="+"&&(E=!1),C=(E?x==="("?x:s:x==="-"||x==="("?"":x)+C,I=(k==="s"&&!isNaN(M)&&$d!==void 0?sw[8+$d/3]:"")+I+(E&&x==="("?")":""),A){for(D=-1,U=M.length;++D<U;)if(P=M.charCodeAt(D),48>P||P>57){I=(P===46?a+M.slice(D+1):M.slice(D))+I,M=M.slice(0,D);break}}}v&&!y&&(M=t(M,1/0));var B=C.length+M.length+I.length,z=B<g?new Array(g-B+1).join(p):"";switch(v&&y&&(M=t(z+M,z.length?g-I.length:1/0),z=""),m){case"<":M=C+M+I+z;break;case"=":M=C+z+M+I;break;case"^":M=z.slice(0,B=z.length>>1)+C+M+I+z.slice(B);break;default:M=z+C+M+I;break}return o(M)}return T.toString=function(){return f+""},T}function d(f,h){var p=Math.max(-8,Math.min(8,Math.floor(Js(h)/3)))*3,m=Math.pow(10,-p),x=u((f=nu(f),f.type="f",f),{suffix:sw[8+p/3]});return function(w){return x(m*w)}}return{format:u,formatPrefix:d}}var wf,Av,sN;nz({thousands:",",grouping:[3],currency:["$",""]});function nz(e){return wf=rz(e),Av=wf.format,sN=wf.formatPrefix,wf}function az(e){return Math.max(0,-Js(Math.abs(e)))}function oz(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Js(t)/3)))*3-Js(Math.abs(e)))}function iz(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Js(t)-Js(e))+1}function lN(e,t,r,n){var a=nm(e,t,r),o;switch(n=nu(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=oz(a,i))&&(n.precision=o),sN(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=iz(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=az(a))&&(n.precision=o-(n.type==="%")*2);break}}return Av(n)}function pi(e){var t=e.domain;return e.ticks=function(r){var n=t();return tm(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return lN(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,o=n.length-1,i=n[a],s=n[o],l,u,d=10;for(s<i&&(u=i,i=s,s=u,u=a,a=o,o=u);d-- >0;){if(u=rm(i,s,r),u===l)return n[a]=i,n[o]=s,t(n);if(u>0)i=Math.floor(i/u)*u,s=Math.ceil(s/u)*u;else if(u<0)i=Math.ceil(i*u)/u,s=Math.floor(s*u)/u;else break;l=u}return e},e}function Rd(){var e=Pv();return e.copy=function(){return Lu(e,Rd())},va.apply(e,arguments),pi(e)}function cN(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Td),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return cN(e).unknown(t)},e=arguments.length?Array.from(e,Td):[0,1],pi(r)}function uN(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],o=e[n],i;return o<a&&(i=r,r=n,n=i,i=a,a=o,o=i),e[r]=t.floor(a),e[n]=t.ceil(o),e}function lw(e){return Math.log(e)}function cw(e){return Math.exp(e)}function sz(e){return-Math.log(-e)}function lz(e){return-Math.exp(-e)}function cz(e){return isFinite(e)?+("1e"+e):e<0?0:e}function uz(e){return e===10?cz:e===Math.E?Math.exp:t=>Math.pow(e,t)}function fz(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function uw(e){return(t,r)=>-e(-t,r)}function Cv(e){const t=e(lw,cw),r=t.domain;let n=10,a,o;function i(){return a=fz(n),o=uz(n),r()[0]<0?(a=uw(a),o=uw(o),e(sz,lz)):e(lw,cw),t}return t.base=function(s){return arguments.length?(n=+s,i()):n},t.domain=function(s){return arguments.length?(r(s),i()):r()},t.ticks=s=>{const l=r();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),p=a(d),m,x;const w=s==null?10:+s;let y=[];if(!(n%1)&&p-h<w){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(m=1;m<n;++m)if(x=h<0?m/o(-h):m*o(h),!(x<u)){if(x>d)break;y.push(x)}}else for(;h<=p;++h)for(m=n-1;m>=1;--m)if(x=h>0?m/o(-h):m*o(h),!(x<u)){if(x>d)break;y.push(x)}y.length*2<w&&(y=tm(u,d,w))}else y=tm(h,p,Math.min(p-h,w)).map(o);return f?y.reverse():y},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=nu(l)).precision==null&&(l.trim=!0),l=Av(l)),s===1/0)return l;const u=Math.max(1,n*s/t.ticks().length);return d=>{let f=d/o(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?l(d):""}},t.nice=()=>r(uN(r(),{floor:s=>o(Math.floor(a(s))),ceil:s=>o(Math.ceil(a(s)))})),t}function fN(){const e=Cv(r0()).domain([1,10]);return e.copy=()=>Lu(e,fN()).base(e.base()),va.apply(e,arguments),e}function fw(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function dw(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Tv(e){var t=1,r=e(fw(t),dw(t));return r.constant=function(n){return arguments.length?e(fw(t=+n),dw(t)):t},pi(r)}function dN(){var e=Tv(r0());return e.copy=function(){return Lu(e,dN()).constant(e.constant())},va.apply(e,arguments)}function hw(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function dz(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function hz(e){return e<0?-e*e:e*e}function Ev(e){var t=e(Pn,Pn),r=1;function n(){return r===1?e(Pn,Pn):r===.5?e(dz,hz):e(hw(r),hw(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},pi(t)}function $v(){var e=Ev(r0());return e.copy=function(){return Lu(e,$v()).exponent(e.exponent())},va.apply(e,arguments),e}function pz(){return $v.apply(null,arguments).exponent(.5)}function pw(e){return Math.sign(e)*e*e}function gz(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function hN(){var e=Pv(),t=[0,1],r=!1,n;function a(o){var i=gz(e(o));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(o){return e.invert(pw(o))},a.domain=function(o){return arguments.length?(e.domain(o),a):e.domain()},a.range=function(o){return arguments.length?(e.range((t=Array.from(o,Td)).map(pw)),a):t.slice()},a.rangeRound=function(o){return a.range(o).round(!0)},a.round=function(o){return arguments.length?(r=!!o,a):r},a.clamp=function(o){return arguments.length?(e.clamp(o),a):e.clamp()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return hN(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},va.apply(a,arguments),pi(a)}function pN(){var e=[],t=[],r=[],n;function a(){var i=0,s=Math.max(1,t.length);for(r=new Array(s-1);++i<s;)r[i-1]=b9(e,i/s);return o}function o(i){return i==null||isNaN(i=+i)?n:t[Ru(r,i)]}return o.invertExtent=function(i){var s=t.indexOf(i);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},o.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let s of i)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(oi),a()},o.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},o.unknown=function(i){return arguments.length?(n=i,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return pN().domain(e).range(t).unknown(n)},va.apply(o,arguments)}function gN(){var e=0,t=1,r=1,n=[.5],a=[0,1],o;function i(l){return l!=null&&l<=l?a[Ru(n,l,0,r)]:o}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return i}return i.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},i.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,s()):a.slice()},i.invertExtent=function(l){var u=a.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},i.unknown=function(l){return arguments.length&&(o=l),i},i.thresholds=function(){return n.slice()},i.copy=function(){return gN().domain([e,t]).range(a).unknown(o)},va.apply(pi(i),arguments)}function mN(){var e=[.5],t=[0,1],r,n=1;function a(o){return o!=null&&o<=o?t[Ru(e,o,0,n)]:r}return a.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(o){var i=t.indexOf(o);return[e[i-1],e[i]]},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return mN().domain(e).range(t).unknown(r)},va.apply(a,arguments)}const pp=new Date,gp=new Date;function Fr(e,t,r,n){function a(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=o=>(e(o=new Date(+o)),o),a.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),a.round=o=>{const i=a(o),s=a.ceil(o);return o-i<s-o?i:s},a.offset=(o,i)=>(t(o=new Date(+o),i==null?1:Math.floor(i)),o),a.range=(o,i,s)=>{const l=[];if(o=a.ceil(o),s=s==null?1:Math.floor(s),!(o<i)||!(s>0))return l;let u;do l.push(u=new Date(+o)),t(o,s),e(o);while(u<o&&o<i);return l},a.filter=o=>Fr(i=>{if(i>=i)for(;e(i),!o(i);)i.setTime(i-1)},(i,s)=>{if(i>=i)if(s<0)for(;++s<=0;)for(;t(i,-1),!o(i););else for(;--s>=0;)for(;t(i,1),!o(i););}),r&&(a.count=(o,i)=>(pp.setTime(+o),gp.setTime(+i),e(pp),e(gp),Math.floor(r(pp,gp))),a.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(n?i=>n(i)%o===0:i=>a.count(0,i)%o===0):a)),a}const Dd=Fr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Dd.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Fr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Dd);Dd.range;const fo=1e3,ua=fo*60,ho=ua*60,So=ho*24,Rv=So*7,gw=So*30,mp=So*365,$i=Fr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*fo)},(e,t)=>(t-e)/fo,e=>e.getUTCSeconds());$i.range;const Dv=Fr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*fo)},(e,t)=>{e.setTime(+e+t*ua)},(e,t)=>(t-e)/ua,e=>e.getMinutes());Dv.range;const Lv=Fr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ua)},(e,t)=>(t-e)/ua,e=>e.getUTCMinutes());Lv.range;const Iv=Fr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*fo-e.getMinutes()*ua)},(e,t)=>{e.setTime(+e+t*ho)},(e,t)=>(t-e)/ho,e=>e.getHours());Iv.range;const Bv=Fr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ho)},(e,t)=>(t-e)/ho,e=>e.getUTCHours());Bv.range;const Iu=Fr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ua)/So,e=>e.getDate()-1);Iu.range;const n0=Fr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/So,e=>e.getUTCDate()-1);n0.range;const yN=Fr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/So,e=>Math.floor(e/So));yN.range;function as(e){return Fr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ua)/Rv)}const a0=as(0),Ld=as(1),mz=as(2),yz=as(3),el=as(4),vz=as(5),xz=as(6);a0.range;Ld.range;mz.range;yz.range;el.range;vz.range;xz.range;function os(e){return Fr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Rv)}const o0=os(0),Id=os(1),bz=os(2),wz=os(3),tl=os(4),kz=os(5),jz=os(6);o0.range;Id.range;bz.range;wz.range;tl.range;kz.range;jz.range;const Fv=Fr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Fv.range;const zv=Fr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());zv.range;const _o=Fr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());_o.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Fr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});_o.range;const No=Fr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());No.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Fr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});No.range;function vN(e,t,r,n,a,o){const i=[[$i,1,fo],[$i,5,5*fo],[$i,15,15*fo],[$i,30,30*fo],[o,1,ua],[o,5,5*ua],[o,15,15*ua],[o,30,30*ua],[a,1,ho],[a,3,3*ho],[a,6,6*ho],[a,12,12*ho],[n,1,So],[n,2,2*So],[r,1,Rv],[t,1,gw],[t,3,3*gw],[e,1,mp]];function s(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:l(u,d,f),m=p?p.range(u,+d+1):[];return h?m.reverse():m}function l(u,d,f){const h=Math.abs(d-u)/f,p=jv(([,,w])=>w).right(i,h);if(p===i.length)return e.every(nm(u/mp,d/mp,f));if(p===0)return Dd.every(Math.max(nm(u,d,f),1));const[m,x]=i[h/i[p-1][2]<i[p][2]/h?p-1:p];return m.every(x)}return[s,l]}const[Sz,_z]=vN(No,zv,o0,yN,Bv,Lv),[Nz,Oz]=vN(_o,Fv,a0,Iu,Iv,Dv);function yp(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function vp(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ql(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Pz(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,o=e.days,i=e.shortDays,s=e.months,l=e.shortMonths,u=Jl(a),d=ec(a),f=Jl(o),h=ec(o),p=Jl(i),m=ec(i),x=Jl(s),w=ec(s),y=Jl(l),g=ec(l),v={a:P,A:E,b:B,B:z,c:null,d:ww,e:ww,f:Zz,g:s7,G:c7,H:Kz,I:Yz,j:qz,L:xN,m:Qz,M:Jz,p:te,q:Q,Q:Sw,s:_w,S:e7,u:t7,U:r7,V:n7,w:a7,W:o7,x:null,X:null,y:i7,Y:l7,Z:u7,"%":jw},j={a:R,A:J,b:q,B:$,c:null,d:kw,e:kw,f:p7,g:S7,G:N7,H:f7,I:d7,j:h7,L:wN,m:g7,M:m7,p:ne,q:ce,Q:Sw,s:_w,S:y7,u:v7,U:x7,V:b7,w:w7,W:k7,x:null,X:null,y:j7,Y:_7,Z:O7,"%":jw},b={a:A,A:T,b:M,B:C,c:I,d:xw,e:xw,f:Wz,g:vw,G:yw,H:bw,I:bw,j:Fz,L:Gz,m:Bz,M:zz,p:O,q:Iz,Q:Vz,s:Xz,S:Uz,u:Ez,U:$z,V:Rz,w:Tz,W:Dz,x:D,X:U,y:vw,Y:yw,Z:Lz,"%":Hz};v.x=k(r,v),v.X=k(n,v),v.c=k(t,v),j.x=k(r,j),j.X=k(n,j),j.c=k(t,j);function k(Y,ue){return function(he){var K=[],Pe=-1,ke=0,oe=Y.length,we,ve,Ke;for(he instanceof Date||(he=new Date(+he));++Pe<oe;)Y.charCodeAt(Pe)===37&&(K.push(Y.slice(ke,Pe)),(ve=mw[we=Y.charAt(++Pe)])!=null?we=Y.charAt(++Pe):ve=we==="e"?" ":"0",(Ke=ue[we])&&(we=Ke(he,ve)),K.push(we),ke=Pe+1);return K.push(Y.slice(ke,Pe)),K.join("")}}function N(Y,ue){return function(he){var K=Ql(1900,void 0,1),Pe=_(K,Y,he+="",0),ke,oe;if(Pe!=he.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(ue&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(ke=vp(Ql(K.y,0,1)),oe=ke.getUTCDay(),ke=oe>4||oe===0?Id.ceil(ke):Id(ke),ke=n0.offset(ke,(K.V-1)*7),K.y=ke.getUTCFullYear(),K.m=ke.getUTCMonth(),K.d=ke.getUTCDate()+(K.w+6)%7):(ke=yp(Ql(K.y,0,1)),oe=ke.getDay(),ke=oe>4||oe===0?Ld.ceil(ke):Ld(ke),ke=Iu.offset(ke,(K.V-1)*7),K.y=ke.getFullYear(),K.m=ke.getMonth(),K.d=ke.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),oe="Z"in K?vp(Ql(K.y,0,1)).getUTCDay():yp(Ql(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(oe+5)%7:K.w+K.U*7-(oe+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,vp(K)):yp(K)}}function _(Y,ue,he,K){for(var Pe=0,ke=ue.length,oe=he.length,we,ve;Pe<ke;){if(K>=oe)return-1;if(we=ue.charCodeAt(Pe++),we===37){if(we=ue.charAt(Pe++),ve=b[we in mw?ue.charAt(Pe++):we],!ve||(K=ve(Y,he,K))<0)return-1}else if(we!=he.charCodeAt(K++))return-1}return K}function O(Y,ue,he){var K=u.exec(ue.slice(he));return K?(Y.p=d.get(K[0].toLowerCase()),he+K[0].length):-1}function A(Y,ue,he){var K=p.exec(ue.slice(he));return K?(Y.w=m.get(K[0].toLowerCase()),he+K[0].length):-1}function T(Y,ue,he){var K=f.exec(ue.slice(he));return K?(Y.w=h.get(K[0].toLowerCase()),he+K[0].length):-1}function M(Y,ue,he){var K=y.exec(ue.slice(he));return K?(Y.m=g.get(K[0].toLowerCase()),he+K[0].length):-1}function C(Y,ue,he){var K=x.exec(ue.slice(he));return K?(Y.m=w.get(K[0].toLowerCase()),he+K[0].length):-1}function I(Y,ue,he){return _(Y,t,ue,he)}function D(Y,ue,he){return _(Y,r,ue,he)}function U(Y,ue,he){return _(Y,n,ue,he)}function P(Y){return i[Y.getDay()]}function E(Y){return o[Y.getDay()]}function B(Y){return l[Y.getMonth()]}function z(Y){return s[Y.getMonth()]}function te(Y){return a[+(Y.getHours()>=12)]}function Q(Y){return 1+~~(Y.getMonth()/3)}function R(Y){return i[Y.getUTCDay()]}function J(Y){return o[Y.getUTCDay()]}function q(Y){return l[Y.getUTCMonth()]}function $(Y){return s[Y.getUTCMonth()]}function ne(Y){return a[+(Y.getUTCHours()>=12)]}function ce(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var ue=k(Y+="",v);return ue.toString=function(){return Y},ue},parse:function(Y){var ue=N(Y+="",!1);return ue.toString=function(){return Y},ue},utcFormat:function(Y){var ue=k(Y+="",j);return ue.toString=function(){return Y},ue},utcParse:function(Y){var ue=N(Y+="",!0);return ue.toString=function(){return Y},ue}}}var mw={"-":"",_:" ",0:"0"},qr=/^\s*\d+/,Mz=/^%/,Az=/[\\^$*+?|[\]().{}]/g;function mt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",o=a.length;return n+(o<r?new Array(r-o+1).join(t)+a:a)}function Cz(e){return e.replace(Az,"\\$&")}function Jl(e){return new RegExp("^(?:"+e.map(Cz).join("|")+")","i")}function ec(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Tz(e,t,r){var n=qr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Ez(e,t,r){var n=qr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function $z(e,t,r){var n=qr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Rz(e,t,r){var n=qr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Dz(e,t,r){var n=qr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function yw(e,t,r){var n=qr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function vw(e,t,r){var n=qr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Lz(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Iz(e,t,r){var n=qr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Bz(e,t,r){var n=qr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function xw(e,t,r){var n=qr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Fz(e,t,r){var n=qr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function bw(e,t,r){var n=qr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function zz(e,t,r){var n=qr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Uz(e,t,r){var n=qr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Gz(e,t,r){var n=qr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Wz(e,t,r){var n=qr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Hz(e,t,r){var n=Mz.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Vz(e,t,r){var n=qr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Xz(e,t,r){var n=qr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function ww(e,t){return mt(e.getDate(),t,2)}function Kz(e,t){return mt(e.getHours(),t,2)}function Yz(e,t){return mt(e.getHours()%12||12,t,2)}function qz(e,t){return mt(1+Iu.count(_o(e),e),t,3)}function xN(e,t){return mt(e.getMilliseconds(),t,3)}function Zz(e,t){return xN(e,t)+"000"}function Qz(e,t){return mt(e.getMonth()+1,t,2)}function Jz(e,t){return mt(e.getMinutes(),t,2)}function e7(e,t){return mt(e.getSeconds(),t,2)}function t7(e){var t=e.getDay();return t===0?7:t}function r7(e,t){return mt(a0.count(_o(e)-1,e),t,2)}function bN(e){var t=e.getDay();return t>=4||t===0?el(e):el.ceil(e)}function n7(e,t){return e=bN(e),mt(el.count(_o(e),e)+(_o(e).getDay()===4),t,2)}function a7(e){return e.getDay()}function o7(e,t){return mt(Ld.count(_o(e)-1,e),t,2)}function i7(e,t){return mt(e.getFullYear()%100,t,2)}function s7(e,t){return e=bN(e),mt(e.getFullYear()%100,t,2)}function l7(e,t){return mt(e.getFullYear()%1e4,t,4)}function c7(e,t){var r=e.getDay();return e=r>=4||r===0?el(e):el.ceil(e),mt(e.getFullYear()%1e4,t,4)}function u7(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+mt(t/60|0,"0",2)+mt(t%60,"0",2)}function kw(e,t){return mt(e.getUTCDate(),t,2)}function f7(e,t){return mt(e.getUTCHours(),t,2)}function d7(e,t){return mt(e.getUTCHours()%12||12,t,2)}function h7(e,t){return mt(1+n0.count(No(e),e),t,3)}function wN(e,t){return mt(e.getUTCMilliseconds(),t,3)}function p7(e,t){return wN(e,t)+"000"}function g7(e,t){return mt(e.getUTCMonth()+1,t,2)}function m7(e,t){return mt(e.getUTCMinutes(),t,2)}function y7(e,t){return mt(e.getUTCSeconds(),t,2)}function v7(e){var t=e.getUTCDay();return t===0?7:t}function x7(e,t){return mt(o0.count(No(e)-1,e),t,2)}function kN(e){var t=e.getUTCDay();return t>=4||t===0?tl(e):tl.ceil(e)}function b7(e,t){return e=kN(e),mt(tl.count(No(e),e)+(No(e).getUTCDay()===4),t,2)}function w7(e){return e.getUTCDay()}function k7(e,t){return mt(Id.count(No(e)-1,e),t,2)}function j7(e,t){return mt(e.getUTCFullYear()%100,t,2)}function S7(e,t){return e=kN(e),mt(e.getUTCFullYear()%100,t,2)}function _7(e,t){return mt(e.getUTCFullYear()%1e4,t,4)}function N7(e,t){var r=e.getUTCDay();return e=r>=4||r===0?tl(e):tl.ceil(e),mt(e.getUTCFullYear()%1e4,t,4)}function O7(){return"+0000"}function jw(){return"%"}function Sw(e){return+e}function _w(e){return Math.floor(+e/1e3)}var hs,jN,SN;P7({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function P7(e){return hs=Pz(e),jN=hs.format,hs.parse,SN=hs.utcFormat,hs.utcParse,hs}function M7(e){return new Date(e)}function A7(e){return e instanceof Date?+e:+new Date(+e)}function Uv(e,t,r,n,a,o,i,s,l,u){var d=Pv(),f=d.invert,h=d.domain,p=u(".%L"),m=u(":%S"),x=u("%I:%M"),w=u("%I %p"),y=u("%a %d"),g=u("%b %d"),v=u("%B"),j=u("%Y");function b(k){return(l(k)<k?p:s(k)<k?m:i(k)<k?x:o(k)<k?w:n(k)<k?a(k)<k?y:g:r(k)<k?v:j)(k)}return d.invert=function(k){return new Date(f(k))},d.domain=function(k){return arguments.length?h(Array.from(k,A7)):h().map(M7)},d.ticks=function(k){var N=h();return e(N[0],N[N.length-1],k??10)},d.tickFormat=function(k,N){return N==null?b:u(N)},d.nice=function(k){var N=h();return(!k||typeof k.range!="function")&&(k=t(N[0],N[N.length-1],k??10)),k?h(uN(N,k)):d},d.copy=function(){return Lu(d,Uv(e,t,r,n,a,o,i,s,l,u))},d}function C7(){return va.apply(Uv(Nz,Oz,_o,Fv,a0,Iu,Iv,Dv,$i,jN).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function T7(){return va.apply(Uv(Sz,_z,No,zv,o0,n0,Bv,Lv,$i,SN).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function i0(){var e=0,t=1,r,n,a,o,i=Pn,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:i(a===0?.5:(f=(o(f)-r)*a,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=o(e=+e),n=o(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(i=f,u):i};function d(f){return function(h){var p,m;return arguments.length?([p,m]=h,i=f(p,m),u):[i(0),i(1)]}}return u.range=d(Tl),u.rangeRound=d(Ov),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function gi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function _N(){var e=pi(i0()(Pn));return e.copy=function(){return gi(e,_N())},Ao.apply(e,arguments)}function NN(){var e=Cv(i0()).domain([1,10]);return e.copy=function(){return gi(e,NN()).base(e.base())},Ao.apply(e,arguments)}function ON(){var e=Tv(i0());return e.copy=function(){return gi(e,ON()).constant(e.constant())},Ao.apply(e,arguments)}function Gv(){var e=Ev(i0());return e.copy=function(){return gi(e,Gv()).exponent(e.exponent())},Ao.apply(e,arguments)}function E7(){return Gv.apply(null,arguments).exponent(.5)}function PN(){var e=[],t=Pn;function r(n){if(n!=null&&!isNaN(n=+n))return t((Ru(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(oi),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,o)=>x9(e,o/n))},r.copy=function(){return PN(t).domain(e)},Ao.apply(r,arguments)}function s0(){var e=0,t=.5,r=1,n=1,a,o,i,s,l,u=Pn,d,f=!1,h;function p(x){return isNaN(x=+x)?h:(x=.5+((x=+d(x))-o)*(n*x<n*o?s:l),u(f?Math.max(0,Math.min(1,x)):x))}p.domain=function(x){return arguments.length?([e,t,r]=x,a=d(e=+e),o=d(t=+t),i=d(r=+r),s=a===o?0:.5/(o-a),l=o===i?0:.5/(i-o),n=o<a?-1:1,p):[e,t,r]},p.clamp=function(x){return arguments.length?(f=!!x,p):f},p.interpolator=function(x){return arguments.length?(u=x,p):u};function m(x){return function(w){var y,g,v;return arguments.length?([y,g,v]=w,u=H9(x,[y,g,v]),p):[u(0),u(.5),u(1)]}}return p.range=m(Tl),p.rangeRound=m(Ov),p.unknown=function(x){return arguments.length?(h=x,p):h},function(x){return d=x,a=x(e),o=x(t),i=x(r),s=a===o?0:.5/(o-a),l=o===i?0:.5/(i-o),n=o<a?-1:1,p}}function MN(){var e=pi(s0()(Pn));return e.copy=function(){return gi(e,MN())},Ao.apply(e,arguments)}function AN(){var e=Cv(s0()).domain([.1,1,10]);return e.copy=function(){return gi(e,AN()).base(e.base())},Ao.apply(e,arguments)}function CN(){var e=Tv(s0());return e.copy=function(){return gi(e,CN()).constant(e.constant())},Ao.apply(e,arguments)}function Wv(){var e=Ev(s0());return e.copy=function(){return gi(e,Wv()).exponent(e.exponent())},Ao.apply(e,arguments)}function $7(){return Wv.apply(null,arguments).exponent(.5)}const Nw=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Jc,scaleDiverging:MN,scaleDivergingLog:AN,scaleDivergingPow:Wv,scaleDivergingSqrt:$7,scaleDivergingSymlog:CN,scaleIdentity:cN,scaleImplicit:am,scaleLinear:Rd,scaleLog:fN,scaleOrdinal:Sv,scalePoint:wc,scalePow:$v,scaleQuantile:pN,scaleQuantize:gN,scaleRadial:hN,scaleSequential:_N,scaleSequentialLog:NN,scaleSequentialPow:Gv,scaleSequentialQuantile:PN,scaleSequentialSqrt:E7,scaleSequentialSymlog:ON,scaleSqrt:pz,scaleSymlog:dN,scaleThreshold:mN,scaleTime:C7,scaleUtc:T7,tickFormat:lN},Symbol.toStringTag,{value:"Module"}));var R7=jl;function D7(e,t,r){for(var n=-1,a=e.length;++n<a;){var o=e[n],i=t(o);if(i!=null&&(s===void 0?i===i&&!R7(i):r(i,s)))var s=i,l=o}return l}var TN=D7;function L7(e,t){return e>t}var I7=L7,B7=TN,F7=I7,z7=Cl;function U7(e){return e&&e.length?B7(e,z7,F7):void 0}var G7=U7;const Vo=Ft(G7);function W7(e,t){return e<t}var H7=W7,V7=TN,X7=H7,K7=Cl;function Y7(e){return e&&e.length?V7(e,K7,X7):void 0}var q7=Y7;const l0=Ft(q7);var Z7=av,Q7=di,J7=U_,eU=Gn;function tU(e,t){var r=eU(e)?Z7:J7;return r(e,Q7(t))}var rU=tU,nU=F_,aU=rU;function oU(e,t){return nU(aU(e,t),1)}var iU=oU;const sU=Ft(iU);var lU=vv;function cU(e,t){return lU(e,t)}var uU=cU;const Yi=Ft(uU);var El=1e9,fU={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Vv,Jt=!0,ma="[DecimalError] ",Fi=ma+"Invalid argument: ",Hv=ma+"Exponent out of range: ",$l=Math.floor,Pi=Math.pow,dU=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,qn,Vr=1e7,Yt=7,EN=9007199254740991,Bd=$l(EN/Yt),Se={};Se.absoluteValue=Se.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Se.comparedTo=Se.cmp=function(e){var t,r,n,a,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===a?0:n>a^o.s<0?1:-1};Se.decimalPlaces=Se.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Yt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Se.dividedBy=Se.div=function(e){return xo(this,new this.constructor(e))};Se.dividedToIntegerBy=Se.idiv=function(e){var t=this,r=t.constructor;return Bt(xo(t,new r(e),0,1),r.precision)};Se.equals=Se.eq=function(e){return!this.cmp(e)};Se.exponent=function(){return Mr(this)};Se.greaterThan=Se.gt=function(e){return this.cmp(e)>0};Se.greaterThanOrEqualTo=Se.gte=function(e){return this.cmp(e)>=0};Se.isInteger=Se.isint=function(){return this.e>this.d.length-2};Se.isNegative=Se.isneg=function(){return this.s<0};Se.isPositive=Se.ispos=function(){return this.s>0};Se.isZero=function(){return this.s===0};Se.lessThan=Se.lt=function(e){return this.cmp(e)<0};Se.lessThanOrEqualTo=Se.lte=function(e){return this.cmp(e)<1};Se.logarithm=Se.log=function(e){var t,r=this,n=r.constructor,a=n.precision,o=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(qn))throw Error(ma+"NaN");if(r.s<1)throw Error(ma+(r.s?"NaN":"-Infinity"));return r.eq(qn)?new n(0):(Jt=!1,t=xo(au(r,o),au(e,o),o),Jt=!0,Bt(t,a))};Se.minus=Se.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?DN(t,e):$N(t,(e.s=-e.s,e))};Se.modulo=Se.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(ma+"NaN");return r.s?(Jt=!1,t=xo(r,e,0,1).times(e),Jt=!0,r.minus(t)):Bt(new n(r),a)};Se.naturalExponential=Se.exp=function(){return RN(this)};Se.naturalLogarithm=Se.ln=function(){return au(this)};Se.negated=Se.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Se.plus=Se.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?$N(t,e):DN(t,(e.s=-e.s,e))};Se.precision=Se.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Fi+e);if(t=Mr(a)+1,n=a.d.length-1,r=n*Yt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Se.squareRoot=Se.sqrt=function(){var e,t,r,n,a,o,i,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(ma+"NaN")}for(e=Mr(s),Jt=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=Wa(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=$l((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=i=r+3;;)if(o=n,n=o.plus(xo(s,o,i+2)).times(.5),Wa(o.d).slice(0,i)===(t=Wa(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if(Bt(o,r+1,0),o.times(o).eq(s)){n=o;break}}else if(t!="9999")break;i+=4}return Jt=!0,Bt(n,r)};Se.times=Se.mul=function(e){var t,r,n,a,o,i,s,l,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,l=h.length,u=p.length,l<u&&(o=h,h=p,p=o,i=l,l=u,u=i),o=[],i=l+u,n=i;n--;)o.push(0);for(n=u;--n>=0;){for(t=0,a=l+n;a>n;)s=o[a]+p[n]*h[a-n-1]+t,o[a--]=s%Vr|0,t=s/Vr|0;o[a]=(o[a]+t)%Vr|0}for(;!o[--i];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,Jt?Bt(e,f.precision):e};Se.toDecimalPlaces=Se.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ja(e,0,El),t===void 0?t=n.rounding:Ja(t,0,8),Bt(r,e+Mr(r)+1,t))};Se.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=qi(n,!0):(Ja(e,0,El),t===void 0?t=a.rounding:Ja(t,0,8),n=Bt(new a(n),e+1,t),r=qi(n,!0,e+1)),r};Se.toFixed=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?qi(a):(Ja(e,0,El),t===void 0?t=o.rounding:Ja(t,0,8),n=Bt(new o(a),e+Mr(a)+1,t),r=qi(n.abs(),!1,e+Mr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Se.toInteger=Se.toint=function(){var e=this,t=e.constructor;return Bt(new t(e),Mr(e)+1,t.rounding)};Se.toNumber=function(){return+this};Se.toPower=Se.pow=function(e){var t,r,n,a,o,i,s=this,l=s.constructor,u=12,d=+(e=new l(e));if(!e.s)return new l(qn);if(s=new l(s),!s.s){if(e.s<1)throw Error(ma+"Infinity");return s}if(s.eq(qn))return s;if(n=l.precision,e.eq(qn))return Bt(s,n);if(t=e.e,r=e.d.length-1,i=t>=r,o=s.s,i){if((r=d<0?-d:d)<=EN){for(a=new l(qn),t=Math.ceil(n/Yt+4),Jt=!1;r%2&&(a=a.times(s),Pw(a.d,t)),r=$l(r/2),r!==0;)s=s.times(s),Pw(s.d,t);return Jt=!0,e.s<0?new l(qn).div(a):Bt(a,n)}}else if(o<0)throw Error(ma+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,Jt=!1,a=e.times(au(s,n+u)),Jt=!0,a=RN(a),a.s=o,a};Se.toPrecision=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?(r=Mr(a),n=qi(a,r<=o.toExpNeg||r>=o.toExpPos)):(Ja(e,1,El),t===void 0?t=o.rounding:Ja(t,0,8),a=Bt(new o(a),e,t),r=Mr(a),n=qi(a,e<=r||r<=o.toExpNeg,e)),n};Se.toSignificantDigits=Se.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ja(e,1,El),t===void 0?t=n.rounding:Ja(t,0,8)),Bt(new n(r),e,t)};Se.toString=Se.valueOf=Se.val=Se.toJSON=Se[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Mr(e),r=e.constructor;return qi(e,t<=r.toExpNeg||t>=r.toExpPos)};function $N(e,t){var r,n,a,o,i,s,l,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Jt?Bt(t,f):t;if(l=e.d,u=t.d,i=e.e,a=t.e,l=l.slice(),o=i-a,o){for(o<0?(n=l,o=-o,s=u.length):(n=u,a=i,s=l.length),i=Math.ceil(f/Yt),s=i>s?i+1:s+1,o>s&&(o=s,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,n=u,u=l,l=n),r=0;o;)r=(l[--o]=l[o]+u[o]+r)/Vr|0,l[o]%=Vr;for(r&&(l.unshift(r),++a),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=a,Jt?Bt(t,f):t}function Ja(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Fi+e)}function Wa(e){var t,r,n,a=e.length-1,o="",i=e[0];if(a>0){for(o+=i,t=1;t<a;t++)n=e[t]+"",r=Yt-n.length,r&&(o+=Fo(r)),o+=n;i=e[t],n=i+"",r=Yt-n.length,r&&(o+=Fo(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return o+i}var xo=function(){function e(n,a){var o,i=0,s=n.length;for(n=n.slice();s--;)o=n[s]*a+i,n[s]=o%Vr|0,i=o/Vr|0;return i&&n.unshift(i),n}function t(n,a,o,i){var s,l;if(o!=i)l=o>i?1:-1;else for(s=l=0;s<o;s++)if(n[s]!=a[s]){l=n[s]>a[s]?1:-1;break}return l}function r(n,a,o){for(var i=0;o--;)n[o]-=i,i=n[o]<a[o]?1:0,n[o]=i*Vr+n[o]-a[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,o,i){var s,l,u,d,f,h,p,m,x,w,y,g,v,j,b,k,N,_,O=n.constructor,A=n.s==a.s?1:-1,T=n.d,M=a.d;if(!n.s)return new O(n);if(!a.s)throw Error(ma+"Division by zero");for(l=n.e-a.e,N=M.length,b=T.length,p=new O(A),m=p.d=[],u=0;M[u]==(T[u]||0);)++u;if(M[u]>(T[u]||0)&&--l,o==null?g=o=O.precision:i?g=o+(Mr(n)-Mr(a))+1:g=o,g<0)return new O(0);if(g=g/Yt+2|0,u=0,N==1)for(d=0,M=M[0],g++;(u<b||d)&&g--;u++)v=d*Vr+(T[u]||0),m[u]=v/M|0,d=v%M|0;else{for(d=Vr/(M[0]+1)|0,d>1&&(M=e(M,d),T=e(T,d),N=M.length,b=T.length),j=N,x=T.slice(0,N),w=x.length;w<N;)x[w++]=0;_=M.slice(),_.unshift(0),k=M[0],M[1]>=Vr/2&&++k;do d=0,s=t(M,x,N,w),s<0?(y=x[0],N!=w&&(y=y*Vr+(x[1]||0)),d=y/k|0,d>1?(d>=Vr&&(d=Vr-1),f=e(M,d),h=f.length,w=x.length,s=t(f,x,h,w),s==1&&(d--,r(f,N<h?_:M,h))):(d==0&&(s=d=1),f=M.slice()),h=f.length,h<w&&f.unshift(0),r(x,f,w),s==-1&&(w=x.length,s=t(M,x,N,w),s<1&&(d++,r(x,N<w?_:M,w))),w=x.length):s===0&&(d++,x=[0]),m[u++]=d,s&&x[0]?x[w++]=T[j]||0:(x=[T[j]],w=1);while((j++<b||x[0]!==void 0)&&g--)}return m[0]||m.shift(),p.e=l,Bt(p,i?o+Mr(p)+1:o)}}();function RN(e,t){var r,n,a,o,i,s,l=0,u=0,d=e.constructor,f=d.precision;if(Mr(e)>16)throw Error(Hv+Mr(e));if(!e.s)return new d(qn);for(Jt=!1,s=f,i=new d(.03125);e.abs().gte(.1);)e=e.times(i),u+=5;for(n=Math.log(Pi(2,u))/Math.LN10*2+5|0,s+=n,r=a=o=new d(qn),d.precision=s;;){if(a=Bt(a.times(e),s),r=r.times(++l),i=o.plus(xo(a,r,s)),Wa(i.d).slice(0,s)===Wa(o.d).slice(0,s)){for(;u--;)o=Bt(o.times(o),s);return d.precision=f,t==null?(Jt=!0,Bt(o,f)):o}o=i}}function Mr(e){for(var t=e.e*Yt,r=e.d[0];r>=10;r/=10)t++;return t}function xp(e,t,r){if(t>e.LN10.sd())throw Jt=!0,r&&(e.precision=r),Error(ma+"LN10 precision limit exceeded");return Bt(new e(e.LN10),t)}function Fo(e){for(var t="";e--;)t+="0";return t}function au(e,t){var r,n,a,o,i,s,l,u,d,f=1,h=10,p=e,m=p.d,x=p.constructor,w=x.precision;if(p.s<1)throw Error(ma+(p.s?"NaN":"-Infinity"));if(p.eq(qn))return new x(0);if(t==null?(Jt=!1,u=w):u=t,p.eq(10))return t==null&&(Jt=!0),xp(x,u);if(u+=h,x.precision=u,r=Wa(m),n=r.charAt(0),o=Mr(p),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Wa(p.d),n=r.charAt(0),f++;o=Mr(p),n>1?(p=new x("0."+r),o++):p=new x(n+"."+r.slice(1))}else return l=xp(x,u+2,w).times(o+""),p=au(new x(n+"."+r.slice(1)),u-h).plus(l),x.precision=w,t==null?(Jt=!0,Bt(p,w)):p;for(s=i=p=xo(p.minus(qn),p.plus(qn),u),d=Bt(p.times(p),u),a=3;;){if(i=Bt(i.times(d),u),l=s.plus(xo(i,new x(a),u)),Wa(l.d).slice(0,u)===Wa(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(xp(x,u+2,w).times(o+""))),s=xo(s,new x(f),u),x.precision=w,t==null?(Jt=!0,Bt(s,w)):s;s=l,a+=2}}function Ow(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=$l(r/Yt),e.d=[],n=(r+1)%Yt,r<0&&(n+=Yt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Yt;n<a;)e.d.push(+t.slice(n,n+=Yt));t=t.slice(n),n=Yt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Jt&&(e.e>Bd||e.e<-Bd))throw Error(Hv+r)}else e.s=0,e.e=0,e.d=[0];return e}function Bt(e,t,r){var n,a,o,i,s,l,u,d,f=e.d;for(i=1,o=f[0];o>=10;o/=10)i++;if(n=t-i,n<0)n+=Yt,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Yt),o=f.length,d>=o)return e;for(u=o=f[d],i=1;o>=10;o/=10)i++;n%=Yt,a=n-Yt+i}if(r!==void 0&&(o=Pi(10,i-a-1),s=u/o%10|0,l=t<0||f[d+1]!==void 0||u%o,l=r<4?(s||l)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?a>0?u/Pi(10,i-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(o=Mr(e),f.length=1,t=t-o-1,f[0]=Pi(10,(Yt-t%Yt)%Yt),e.e=$l(-t/Yt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,o=1,d--):(f.length=d+1,o=Pi(10,Yt-n),f[d]=a>0?(u/Pi(10,i-a)%Pi(10,a)|0)*o:0),l)for(;;)if(d==0){(f[0]+=o)==Vr&&(f[0]=1,++e.e);break}else{if(f[d]+=o,f[d]!=Vr)break;f[d--]=0,o=1}for(n=f.length;f[--n]===0;)f.pop();if(Jt&&(e.e>Bd||e.e<-Bd))throw Error(Hv+Mr(e));return e}function DN(e,t){var r,n,a,o,i,s,l,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Jt?Bt(t,p):t;if(l=e.d,f=t.d,n=t.e,u=e.e,l=l.slice(),i=u-n,i){for(d=i<0,d?(r=l,i=-i,s=f.length):(r=f,n=u,s=l.length),a=Math.max(Math.ceil(p/Yt),s)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=l.length,s=f.length,d=a<s,d&&(s=a),a=0;a<s;a++)if(l[a]!=f[a]){d=l[a]<f[a];break}i=0}for(d&&(r=l,l=f,f=r,t.s=-t.s),s=l.length,a=f.length-s;a>0;--a)l[s++]=0;for(a=f.length;a>i;){if(l[--a]<f[a]){for(o=a;o&&l[--o]===0;)l[o]=Vr-1;--l[o],l[a]+=Vr}l[a]-=f[a]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Jt?Bt(t,p):t):new h(0)}function qi(e,t,r){var n,a=Mr(e),o=Wa(e.d),i=o.length;return t?(r&&(n=r-i)>0?o=o.charAt(0)+"."+o.slice(1)+Fo(n):i>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+Fo(-a-1)+o,r&&(n=r-i)>0&&(o+=Fo(n))):a>=i?(o+=Fo(a+1-i),r&&(n=r-a-1)>0&&(o=o+"."+Fo(n))):((n=a+1)<i&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(o+="."),o+=Fo(n))),e.s<0?"-"+o:o}function Pw(e,t){if(e.length>t)return e.length=t,!0}function LN(e){var t,r,n;function a(o){var i=this;if(!(i instanceof a))return new a(o);if(i.constructor=a,o instanceof a){i.s=o.s,i.e=o.e,i.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Fi+o);if(o>0)i.s=1;else if(o<0)o=-o,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(o===~~o&&o<1e7){i.e=0,i.d=[o];return}return Ow(i,o.toString())}else if(typeof o!="string")throw Error(Fi+o);if(o.charCodeAt(0)===45?(o=o.slice(1),i.s=-1):i.s=1,dU.test(o))Ow(i,o);else throw Error(Fi+o)}if(a.prototype=Se,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=LN,a.config=a.set=hU,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function hU(e){if(!e||typeof e!="object")throw Error(ma+"Object expected");var t,r,n,a=["precision",1,El,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if($l(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Fi+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Fi+r+": "+n);return this}var Vv=LN(fU);qn=new Vv(1);const $t=Vv;function pU(e){return vU(e)||yU(e)||mU(e)||gU()}function gU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mU(e,t){if(e){if(typeof e=="string")return lm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lm(e,t)}}function yU(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function vU(e){if(Array.isArray(e))return lm(e)}function lm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var xU=function(t){return t},IN={},BN=function(t){return t===IN},Mw=function(t){return function r(){return arguments.length===0||arguments.length===1&&BN(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},bU=function e(t,r){return t===1?r:Mw(function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];var i=a.filter(function(s){return s!==IN}).length;return i>=t?r.apply(void 0,a):e(t-i,Mw(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var d=a.map(function(f){return BN(f)?l.shift():f});return r.apply(void 0,pU(d).concat(l))}))})},c0=function(t){return bU(t.length,t)},cm=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},wU=c0(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),kU=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return xU;var a=r.reverse(),o=a[0],i=a.slice(1);return function(){return i.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},um=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},FN=function(t){var r=null,n=null;return function(){for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return r&&o.every(function(s,l){return s===r[l]})||(r=o,n=t.apply(void 0,o)),n}};function jU(e){var t;return e===0?t=1:t=Math.floor(new $t(e).abs().log(10).toNumber())+1,t}function SU(e,t,r){for(var n=new $t(e),a=0,o=[];n.lt(t)&&a<1e5;)o.push(n.toNumber()),n=n.add(r),a++;return o}var _U=c0(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),NU=c0(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),OU=c0(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const u0={rangeStep:SU,getDigitCount:jU,interpolateNumber:_U,uninterpolateNumber:NU,uninterpolateTruncation:OU};function fm(e){return AU(e)||MU(e)||zN(e)||PU()}function PU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MU(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function AU(e){if(Array.isArray(e))return dm(e)}function ou(e,t){return EU(e)||TU(e,t)||zN(e,t)||CU()}function CU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zN(e,t){if(e){if(typeof e=="string")return dm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dm(e,t)}}function dm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TU(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,o=void 0;try{for(var i=e[Symbol.iterator](),s;!(n=(s=i.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(l){a=!0,o=l}finally{try{!n&&i.return!=null&&i.return()}finally{if(a)throw o}}return r}}function EU(e){if(Array.isArray(e))return e}function UN(e){var t=ou(e,2),r=t[0],n=t[1],a=r,o=n;return r>n&&(a=n,o=r),[a,o]}function GN(e,t,r){if(e.lte(0))return new $t(0);var n=u0.getDigitCount(e.toNumber()),a=new $t(10).pow(n),o=e.div(a),i=n!==1?.05:.1,s=new $t(Math.ceil(o.div(i).toNumber())).add(r).mul(i),l=s.mul(a);return t?l:new $t(Math.ceil(l))}function $U(e,t,r){var n=1,a=new $t(e);if(!a.isint()&&r){var o=Math.abs(e);o<1?(n=new $t(10).pow(u0.getDigitCount(e)-1),a=new $t(Math.floor(a.div(n).toNumber())).mul(n)):o>1&&(a=new $t(Math.floor(e)))}else e===0?a=new $t(Math.floor((t-1)/2)):r||(a=new $t(Math.floor(e)));var i=Math.floor((t-1)/2),s=kU(wU(function(l){return a.add(new $t(l-i).mul(n)).toNumber()}),cm);return s(0,t)}function WN(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new $t(0),tickMin:new $t(0),tickMax:new $t(0)};var o=GN(new $t(t).sub(e).div(r-1),n,a),i;e<=0&&t>=0?i=new $t(0):(i=new $t(e).add(t).div(2),i=i.sub(new $t(i).mod(o)));var s=Math.ceil(i.sub(e).div(o).toNumber()),l=Math.ceil(new $t(t).sub(i).div(o).toNumber()),u=s+l+1;return u>r?WN(e,t,r,n,a+1):(u<r&&(l=t>0?l+(r-u):l,s=t>0?s:s+(r-u)),{step:o,tickMin:i.sub(new $t(s).mul(o)),tickMax:i.add(new $t(l).mul(o))})}function RU(e){var t=ou(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),s=UN([r,n]),l=ou(s,2),u=l[0],d=l[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(fm(cm(0,a-1).map(function(){return 1/0}))):[].concat(fm(cm(0,a-1).map(function(){return-1/0})),[d]);return r>n?um(f):f}if(u===d)return $U(u,a,o);var h=WN(u,d,i,o),p=h.step,m=h.tickMin,x=h.tickMax,w=u0.rangeStep(m,x.add(new $t(.1).mul(p)),p);return r>n?um(w):w}function DU(e,t){var r=ou(e,2),n=r[0],a=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=UN([n,a]),s=ou(i,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[n,a];if(l===u)return[l];var d=Math.max(t,2),f=GN(new $t(u).sub(l).div(d-1),o,0),h=[].concat(fm(u0.rangeStep(new $t(l),new $t(u).sub(new $t(.99).mul(f)),f)),[u]);return n>a?um(h):h}var LU=FN(RU),IU=FN(DU),BU="Invariant failed";function Zi(e,t){throw new Error(BU)}var FU=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function rl(e){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rl(e)}function Fd(){return Fd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fd.apply(this,arguments)}function zU(e,t){return HU(e)||WU(e,t)||GU(e,t)||UU()}function UU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GU(e,t){if(e){if(typeof e=="string")return Aw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Aw(e,t)}}function Aw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function WU(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}function HU(e){if(Array.isArray(e))return e}function VU(e,t){if(e==null)return{};var r=XU(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function XU(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function KU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XN(n.key),n)}}function qU(e,t,r){return t&&YU(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZU(e,t,r){return t=zd(t),QU(e,HN()?Reflect.construct(t,r||[],zd(e).constructor):t.apply(e,r))}function QU(e,t){if(t&&(rl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JU(e)}function JU(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HN=function(){return!!e})()}function zd(e){return zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zd(e)}function eG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hm(e,t)}function hm(e,t){return hm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hm(e,t)}function VN(e,t,r){return t=XN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XN(e){var t=tG(e,"string");return rl(t)=="symbol"?t:t+""}function tG(e,t){if(rl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Rl=function(e){function t(){return KU(this,t),ZU(this,t,arguments)}return eG(t,e),qU(t,[{key:"render",value:function(){var n=this.props,a=n.offset,o=n.layout,i=n.width,s=n.dataKey,l=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=VU(n,FU),p=Ve(h,!1);this.props.direction==="x"&&d.type!=="number"&&Zi();var m=l.map(function(x){var w=u(x,s),y=w.x,g=w.y,v=w.value,j=w.errorVal;if(!j)return null;var b=[],k,N;if(Array.isArray(j)){var _=zU(j,2);k=_[0],N=_[1]}else k=N=j;if(o==="vertical"){var O=d.scale,A=g+a,T=A+i,M=A-i,C=O(v-k),I=O(v+N);b.push({x1:I,y1:T,x2:I,y2:M}),b.push({x1:C,y1:A,x2:I,y2:A}),b.push({x1:C,y1:T,x2:C,y2:M})}else if(o==="horizontal"){var D=f.scale,U=y+a,P=U-i,E=U+i,B=D(v-k),z=D(v+N);b.push({x1:P,y1:z,x2:E,y2:z}),b.push({x1:U,y1:B,x2:U,y2:z}),b.push({x1:P,y1:B,x2:E,y2:B})}return F.createElement(xt,Fd({className:"recharts-errorBar",key:"bar-".concat(b.map(function(te){return"".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))},p),b.map(function(te){return F.createElement("line",Fd({},te,{key:"line-".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))}))});return F.createElement(xt,{className:"recharts-errorBars"},m)}}])}(F.Component);VN(Rl,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});VN(Rl,"displayName","ErrorBar");function iu(e){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iu(e)}function Cw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cw(Object(r),!0).forEach(function(n){rG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rG(e,t,r){return t=nG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nG(e){var t=aG(e,"string");return iu(t)=="symbol"?t:t+""}function aG(e,t){if(iu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KN=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,o=t.legendContent,i=Yn(r,Ka);if(!i)return null;var s=Ka.defaultProps,l=s!==void 0?wi(wi({},s),i.props):{},u;return i.props&&i.props.payload?u=i.props&&i.props.payload:o==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,m=p.sectors||p.data||[];return d.concat(m.map(function(x){return{type:i.props.iconType||h.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?wi(wi({},h),f.props):{},m=p.dataKey,x=p.name,w=p.legendType,y=p.hide;return{inactive:y,dataKey:m,type:l.iconType||w||"square",color:Xv(f),value:x||m,payload:p}}),wi(wi(wi({},l),Ka.getWithHeight(i,a)),{},{payload:u,item:i})};function su(e){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},su(e)}function Tw(e){return lG(e)||sG(e)||iG(e)||oG()}function oG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iG(e,t){if(e){if(typeof e=="string")return pm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pm(e,t)}}function sG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lG(e){if(Array.isArray(e))return pm(e)}function pm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ew(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ew(Object(r),!0).forEach(function(n){Bs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ew(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bs(e,t,r){return t=cG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cG(e){var t=uG(e,"string");return su(t)=="symbol"?t:t+""}function uG(e,t){if(su(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Br(e,t,r){return We(e)||We(t)?r:Ir(t)?ha(e,t,r):Xe(t)?t(e):r}function kc(e,t,r,n){var a=sU(e,function(s){return Br(s,t)});if(r==="number"){var o=a.filter(function(s){return fe(s)||parseFloat(s)});return o.length?[l0(o),Vo(o)]:[1/0,-1/0]}var i=n?a.filter(function(s){return!We(s)}):a;return i.map(function(s){return Ir(s)||s instanceof Date?s:""})}var fG=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var d=u>0?a[u-1].coordinate:a[s-1].coordinate,f=a[u].coordinate,h=u>=s-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(Ca(f-d)!==Ca(h-f)){var m=[];if(Ca(h-f)===Ca(l[1]-l[0])){p=h;var x=f+l[1]-l[0];m[0]=Math.min(x,(x+d)/2),m[1]=Math.max(x,(x+d)/2)}else{p=d;var w=h+l[1]-l[0];m[0]=Math.min(f,(w+f)/2),m[1]=Math.max(f,(w+f)/2)}var y=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>y[0]&&t<=y[1]||t>=m[0]&&t<=m[1]){i=a[u].index;break}}else{var g=Math.min(d,h),v=Math.max(d,h);if(t>(g+f)/2&&t<=(v+f)/2){i=a[u].index;break}}}else for(var j=0;j<s;j++)if(j===0&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j>0&&j<s-1&&t>(n[j].coordinate+n[j-1].coordinate)/2&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j===s-1&&t>(n[j].coordinate+n[j-1].coordinate)/2){i=n[j].index;break}return i},Xv=function(t){var r,n=t,a=n.type.displayName,o=(r=t.type)!==null&&r!==void 0&&r.defaultProps?pr(pr({},t.type.defaultProps),t.props):t.props,i=o.stroke,s=o.fill,l;switch(a){case"Line":l=i;break;case"Area":case"Radar":l=i&&i!=="none"?i:s;break;default:l=s;break}return l},dG=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,o=a===void 0?{}:a;if(!o)return{};for(var i={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var d=o[s[l]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var m=d[f[h]],x=m.items,w=m.cateAxisId,y=x.filter(function(N){return mo(N.type).indexOf("Bar")>=0});if(y&&y.length){var g=y[0].type.defaultProps,v=g!==void 0?pr(pr({},g),y[0].props):y[0].props,j=v.barSize,b=v[w];i[b]||(i[b]=[]);var k=We(j)?r:j;i[b].push({item:y[0],stackList:y.slice(1),barSize:We(k)?void 0:Ki(k,n,0)})}}return i},hG=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,o=t.sizeList,i=o===void 0?[]:o,s=t.maxBarSize,l=i.length;if(l<1)return null;var u=Ki(r,a,0,!0),d,f=[];if(i[0].barSize===+i[0].barSize){var h=!1,p=a/l,m=i.reduce(function(j,b){return j+b.barSize||0},0);m+=(l-1)*u,m>=a&&(m-=(l-1)*u,u=0),m>=a&&p>0&&(h=!0,p*=.9,m=l*p);var x=(a-m)/2>>0,w={offset:x-u,size:0};d=i.reduce(function(j,b){var k={item:b.item,position:{offset:w.offset+w.size+u,size:h?p:b.barSize}},N=[].concat(Tw(j),[k]);return w=N[N.length-1].position,b.stackList&&b.stackList.length&&b.stackList.forEach(function(_){N.push({item:_,position:w})}),N},f)}else{var y=Ki(n,a,0,!0);a-2*y-(l-1)*u<=0&&(u=0);var g=(a-2*y-(l-1)*u)/l;g>1&&(g>>=0);var v=s===+s?Math.min(g,s):g;d=i.reduce(function(j,b,k){var N=[].concat(Tw(j),[{item:b.item,position:{offset:y+(g+u)*k+(g-v)/2,size:v}}]);return b.stackList&&b.stackList.length&&b.stackList.forEach(function(_){N.push({item:_,position:N[N.length-1].position})}),N},f)}return d},pG=function(t,r,n,a){var o=n.children,i=n.width,s=n.margin,l=i-(s.left||0)-(s.right||0),u=KN({children:o,legendWidth:l});if(u){var d=a||{},f=d.width,h=d.height,p=u.align,m=u.verticalAlign,x=u.layout;if((x==="vertical"||x==="horizontal"&&m==="middle")&&p!=="center"&&fe(t[p]))return pr(pr({},t),{},Bs({},p,t[p]+(f||0)));if((x==="horizontal"||x==="vertical"&&p==="center")&&m!=="middle"&&fe(t[m]))return pr(pr({},t),{},Bs({},m,t[m]+(h||0)))}return t},gG=function(t,r,n){return We(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},YN=function(t,r,n,a,o){var i=r.props.children,s=Fn(i,Rl).filter(function(u){return gG(a,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Br(d,n);if(We(f))return u;var h=Array.isArray(f)?[l0(f),Vo(f)]:[f,f],p=l.reduce(function(m,x){var w=Br(d,x,0),y=h[0]-Math.abs(Array.isArray(w)?w[0]:w),g=h[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(y,m[0]),Math.max(g,m[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},mG=function(t,r,n,a,o){var i=r.map(function(s){return YN(t,s,n,o,a)}).filter(function(s){return!We(s)});return i&&i.length?i.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},qN=function(t,r,n,a,o){var i=r.map(function(l){var u=l.props.dataKey;return n==="number"&&u&&YN(t,l,u,a)||kc(t,u,n,o)});if(n==="number")return i.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return i.reduce(function(l,u){for(var d=0,f=u.length;d<f;d++)s[u[d]]||(s[u[d]]=!0,l.push(u[d]));return l},[])},ZN=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},QN=function(t,r,n,a){if(a)return t.map(function(l){return l.coordinate});var o,i,s=t.map(function(l){return l.coordinate===r&&(o=!0),l.coordinate===n&&(i=!0),l.coordinate});return o||s.push(r),i||s.push(n),s},po=function(t,r,n){if(!t)return null;var a=t.scale,o=t.duplicateDomain,i=t.type,s=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&i==="category"&&a.bandwidth?a.bandwidth()/l:0;if(u=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Ca(s[0]-s[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!Pl(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:o?o[f]:f,index:h,offset:u}})},bp=new WeakMap,kf=function(t,r){if(typeof r!="function")return t;bp.has(t)||bp.set(t,new WeakMap);var n=bp.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},yG=function(t,r,n){var a=t.scale,o=t.type,i=t.layout,s=t.axisType;if(a==="auto")return i==="radial"&&s==="radiusAxis"?{scale:Jc(),realScaleType:"band"}:i==="radial"&&s==="angleAxis"?{scale:Rd(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:wc(),realScaleType:"point"}:o==="category"?{scale:Jc(),realScaleType:"band"}:{scale:Rd(),realScaleType:"linear"};if(Xi(a)){var l="scale".concat(Kh(a));return{scale:(Nw[l]||wc)(),realScaleType:Nw[l]?l:"point"}}return Xe(a)?{scale:a}:{scale:wc(),realScaleType:"point"}},$w=1e-4,vG=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),o=Math.min(a[0],a[1])-$w,i=Math.max(a[0],a[1])+$w,s=t(r[0]),l=t(r[n-1]);(s<o||s>i||l<o||l>i)&&t.domain([r[0],r[n-1]])}},xG=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},bG=function(t,r){if(!r||r.length!==2||!fe(r[0])||!fe(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),o=[t[0],t[1]];return(!fe(t[0])||t[0]<n)&&(o[0]=n),(!fe(t[1])||t[1]>a)&&(o[1]=a),o[0]>a&&(o[0]=a),o[1]<n&&(o[1]=n),o},wG=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var o=0,i=0,s=0;s<r;++s){var l=Pl(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=o,t[s][n][1]=o+l,o=t[s][n][1]):(t[s][n][0]=i,t[s][n][1]=i+l,i=t[s][n][1])}},kG=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var o=0,i=0;i<r;++i){var s=Pl(t[i][n][1])?t[i][n][0]:t[i][n][1];s>=0?(t[i][n][0]=o,t[i][n][1]=o+s,o=t[i][n][1]):(t[i][n][0]=0,t[i][n][1]=0)}},jG={sign:wG,expand:I$,none:Ks,silhouette:B$,wiggle:F$,positive:kG},SG=function(t,r,n){var a=r.map(function(s){return s.props.dataKey}),o=jG[n],i=L$().keys(a).value(function(s,l){return+Br(s,l,0)}).order(Bg).offset(o);return i(t)},_G=function(t,r,n,a,o,i){if(!t)return null;var s=i?r.reverse():r,l={},u=s.reduce(function(f,h){var p,m=(p=h.type)!==null&&p!==void 0&&p.defaultProps?pr(pr({},h.type.defaultProps),h.props):h.props,x=m.stackId,w=m.hide;if(w)return f;var y=m[n],g=f[y]||{hasStack:!1,stackGroups:{}};if(Ir(x)){var v=g.stackGroups[x]||{numericAxisId:n,cateAxisId:a,items:[]};v.items.push(h),g.hasStack=!0,g.stackGroups[x]=v}else g.stackGroups[ns("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return pr(pr({},f),{},Bs({},y,g))},l),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(x,w){var y=p.stackGroups[w];return pr(pr({},x),{},Bs({},w,{numericAxisId:n,cateAxisId:a,items:y.items,stackedData:SG(t,y.items,o)}))},m)}return pr(pr({},f),{},Bs({},h,p))},d)},NG=function(t,r){var n=r.realScaleType,a=r.type,o=r.tickCount,i=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&a==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=LU(u,o,s);return t.domain([l0(d),Vo(d)]),{niceTicks:d}}if(o&&a==="number"){var f=t.domain(),h=IU(f,o,s);return{niceTicks:h}}return null};function nl(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,o=e.index,i=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!We(a[t.dataKey])){var s=dd(r,"value",a[t.dataKey]);if(s)return s.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var l=Br(a,We(i)?t.dataKey:i);return We(l)?null:t.scale(l)}var Rw=function(t){var r=t.axis,n=t.ticks,a=t.offset,o=t.bandSize,i=t.entry,s=t.index;if(r.type==="category")return n[s]?n[s].coordinate+a:null;var l=Br(i,r.dataKey,r.domain[s]);return We(l)?null:r.scale(l)-o/2+a},OG=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return a<=0&&o>=0?0:o<0?o:a}return n[0]},PG=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?pr(pr({},t.type.defaultProps),t.props):t.props,o=a.stackId;if(Ir(o)){var i=r[o];if(i){var s=i.items.indexOf(t);return s>=0?i.stackedData[s]:null}}return null},MG=function(t){return t.reduce(function(r,n){return[l0(n.concat([r[0]]).filter(fe)),Vo(n.concat([r[1]]).filter(fe))]},[1/0,-1/0])},JN=function(t,r,n){return Object.keys(t).reduce(function(a,o){var i=t[o],s=i.stackedData,l=s.reduce(function(u,d){var f=MG(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},Dw=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Lw=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gm=function(t,r,n){if(Xe(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(fe(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(Dw.test(t[0])){var o=+Dw.exec(t[0])[1];a[0]=r[0]-o}else Xe(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(fe(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(Lw.test(t[1])){var i=+Lw.exec(t[1])[1];a[1]=r[1]+i}else Xe(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Ud=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var o=bv(r,function(f){return f.coordinate}),i=1/0,s=1,l=o.length;s<l;s++){var u=o[s],d=o[s-1];i=Math.min((u.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},Iw=function(t,r,n){return!t||!t.length||Yi(t,ha(n,"type.defaultProps.domain"))?r:t},eO=function(t,r){var n=t.type.defaultProps?pr(pr({},t.type.defaultProps),t.props):t.props,a=n.dataKey,o=n.name,i=n.unit,s=n.formatter,l=n.tooltipType,u=n.chartType,d=n.hide;return pr(pr({},Ve(t,!1)),{},{dataKey:a,unit:i,formatter:s,name:o||a,color:Xv(t),value:Br(r,a),type:l,payload:r,chartType:u,hide:d})};function lu(e){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lu(e)}function Bw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bw(Object(r),!0).forEach(function(n){AG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AG(e,t,r){return t=CG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CG(e){var t=TG(e,"string");return lu(t)=="symbol"?t:t+""}function TG(e,t){if(lu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gd=Math.PI/180,EG=function(t){return t*180/Math.PI},nn=function(t,r,n,a){return{x:t+Math.cos(-Gd*a)*n,y:r+Math.sin(-Gd*a)*n}},$G=function(t,r){var n=t.x,a=t.y,o=r.x,i=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(a-i,2))},RG=function(t,r){var n=t.x,a=t.y,o=r.cx,i=r.cy,s=$G({x:n,y:a},{x:o,y:i});if(s<=0)return{radius:s};var l=(n-o)/s,u=Math.acos(l);return a>i&&(u=2*Math.PI-u),{radius:s,angle:EG(u),angleInRadian:u}},DG=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),o=Math.floor(n/360),i=Math.min(a,o);return{startAngle:r-i*360,endAngle:n-i*360}},LG=function(t,r){var n=r.startAngle,a=r.endAngle,o=Math.floor(n/360),i=Math.floor(a/360),s=Math.min(o,i);return t+s*360},zw=function(t,r){var n=t.x,a=t.y,o=RG({x:n,y:a},r),i=o.radius,s=o.angle,l=r.innerRadius,u=r.outerRadius;if(i<l||i>u)return!1;if(i===0)return!0;var d=DG(r),f=d.startAngle,h=d.endAngle,p=s,m;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}return m?Fw(Fw({},r),{},{radius:i,angle:LG(p,r)}):null};function cu(e){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cu(e)}var IG=["offset"];function BG(e){return GG(e)||UG(e)||zG(e)||FG()}function FG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zG(e,t){if(e){if(typeof e=="string")return mm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mm(e,t)}}function UG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function GG(e){if(Array.isArray(e))return mm(e)}function mm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function WG(e,t){if(e==null)return{};var r=HG(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function HG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Uw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uw(Object(r),!0).forEach(function(n){VG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VG(e,t,r){return t=XG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XG(e){var t=KG(e,"string");return cu(t)=="symbol"?t:t+""}function KG(e,t){if(cu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uu(){return uu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uu.apply(this,arguments)}var YG=function(t){var r=t.value,n=t.formatter,a=We(t.children)?r:t.children;return Xe(n)?n(a):a},qG=function(t,r){var n=Ca(r-t),a=Math.min(Math.abs(r-t),360);return n*a},ZG=function(t,r,n){var a=t.position,o=t.viewBox,i=t.offset,s=t.className,l=o,u=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,m=l.endAngle,x=l.clockWise,w=(f+h)/2,y=qG(p,m),g=y>=0?1:-1,v,j;a==="insideStart"?(v=p+g*i,j=x):a==="insideEnd"?(v=m-g*i,j=!x):a==="end"&&(v=m+g*i,j=x),j=y<=0?j:!j;var b=nn(u,d,w,v),k=nn(u,d,w,v+(j?1:-1)*359),N="M".concat(b.x,",").concat(b.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(j?0:1,`,
    `).concat(k.x,",").concat(k.y),_=We(t.id)?ns("recharts-radial-line-"):t.id;return F.createElement("text",uu({},n,{dominantBaseline:"central",className:ot("recharts-radial-bar-label",s)}),F.createElement("defs",null,F.createElement("path",{id:_,d:N})),F.createElement("textPath",{xlinkHref:"#".concat(_)},r))},QG=function(t){var r=t.viewBox,n=t.offset,a=t.position,o=r,i=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,d=o.startAngle,f=o.endAngle,h=(d+f)/2;if(a==="outside"){var p=nn(i,s,u+n,h),m=p.x,x=p.y;return{x:m,y:x,textAnchor:m>=i?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"end"};var w=(l+u)/2,y=nn(i,s,w,h),g=y.x,v=y.y;return{x:g,y:v,textAnchor:"middle",verticalAnchor:"middle"}},JG=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,o=t.position,i=r,s=i.x,l=i.y,u=i.width,d=i.height,f=d>=0?1:-1,h=f*a,p=f>0?"end":"start",m=f>0?"start":"end",x=u>=0?1:-1,w=x*a,y=x>0?"end":"start",g=x>0?"start":"end";if(o==="top"){var v={x:s+u/2,y:l-f*a,textAnchor:"middle",verticalAnchor:p};return Rr(Rr({},v),n?{height:Math.max(l-n.y,0),width:u}:{})}if(o==="bottom"){var j={x:s+u/2,y:l+d+h,textAnchor:"middle",verticalAnchor:m};return Rr(Rr({},j),n?{height:Math.max(n.y+n.height-(l+d),0),width:u}:{})}if(o==="left"){var b={x:s-w,y:l+d/2,textAnchor:y,verticalAnchor:"middle"};return Rr(Rr({},b),n?{width:Math.max(b.x-n.x,0),height:d}:{})}if(o==="right"){var k={x:s+u+w,y:l+d/2,textAnchor:g,verticalAnchor:"middle"};return Rr(Rr({},k),n?{width:Math.max(n.x+n.width-k.x,0),height:d}:{})}var N=n?{width:u,height:d}:{};return o==="insideLeft"?Rr({x:s+w,y:l+d/2,textAnchor:g,verticalAnchor:"middle"},N):o==="insideRight"?Rr({x:s+u-w,y:l+d/2,textAnchor:y,verticalAnchor:"middle"},N):o==="insideTop"?Rr({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:m},N):o==="insideBottom"?Rr({x:s+u/2,y:l+d-h,textAnchor:"middle",verticalAnchor:p},N):o==="insideTopLeft"?Rr({x:s+w,y:l+h,textAnchor:g,verticalAnchor:m},N):o==="insideTopRight"?Rr({x:s+u-w,y:l+h,textAnchor:y,verticalAnchor:m},N):o==="insideBottomLeft"?Rr({x:s+w,y:l+d-h,textAnchor:g,verticalAnchor:p},N):o==="insideBottomRight"?Rr({x:s+u-w,y:l+d-h,textAnchor:y,verticalAnchor:p},N):Sl(o)&&(fe(o.x)||Ti(o.x))&&(fe(o.y)||Ti(o.y))?Rr({x:s+Ki(o.x,u),y:l+Ki(o.y,d),textAnchor:"end",verticalAnchor:"end"},N):Rr({x:s+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},N)},eW=function(t){return"cx"in t&&fe(t.cx)};function rn(e){var t=e.offset,r=t===void 0?5:t,n=WG(e,IG),a=Rr({offset:r},n),o=a.viewBox,i=a.position,s=a.value,l=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!o||We(s)&&We(l)&&!S.isValidElement(u)&&!Xe(u))return null;if(S.isValidElement(u))return S.cloneElement(u,a);var p;if(Xe(u)){if(p=S.createElement(u,a),S.isValidElement(p))return p}else p=YG(a);var m=eW(o),x=Ve(a,!0);if(m&&(i==="insideStart"||i==="insideEnd"||i==="end"))return ZG(a,p,x);var w=m?QG(a):JG(a);return F.createElement(Od,uu({className:ot("recharts-label",f)},x,w,{breakAll:h}),p)}rn.displayName="Label";var tO=function(t){var r=t.cx,n=t.cy,a=t.angle,o=t.startAngle,i=t.endAngle,s=t.r,l=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,m=t.left,x=t.width,w=t.height,y=t.clockWise,g=t.labelViewBox;if(g)return g;if(fe(x)&&fe(w)){if(fe(f)&&fe(h))return{x:f,y:h,width:x,height:w};if(fe(p)&&fe(m))return{x:p,y:m,width:x,height:w}}return fe(f)&&fe(h)?{x:f,y:h,width:0,height:0}:fe(r)&&fe(n)?{cx:r,cy:n,startAngle:o||a||0,endAngle:i||a||0,innerRadius:u||0,outerRadius:d||l||s||0,clockWise:y}:t.viewBox?t.viewBox:{}},tW=function(t,r){return t?t===!0?F.createElement(rn,{key:"label-implicit",viewBox:r}):Ir(t)?F.createElement(rn,{key:"label-implicit",viewBox:r,value:t}):S.isValidElement(t)?t.type===rn?S.cloneElement(t,{key:"label-implicit",viewBox:r}):F.createElement(rn,{key:"label-implicit",content:t,viewBox:r}):Xe(t)?F.createElement(rn,{key:"label-implicit",content:t,viewBox:r}):Sl(t)?F.createElement(rn,uu({viewBox:r},t,{key:"label-implicit"})):null:null},rW=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,o=tO(t),i=Fn(a,rn).map(function(l,u){return S.cloneElement(l,{viewBox:r||o,key:"label-".concat(u)})});if(!n)return i;var s=tW(t.label,r||o);return[s].concat(BG(i))};rn.parseViewBox=tO;rn.renderCallByParent=rW;function nW(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var aW=nW;const oW=Ft(aW);function fu(e){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fu(e)}var iW=["valueAccessor"],sW=["data","dataKey","clockWise","id","textBreakAll"];function lW(e){return dW(e)||fW(e)||uW(e)||cW()}function cW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uW(e,t){if(e){if(typeof e=="string")return ym(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ym(e,t)}}function fW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dW(e){if(Array.isArray(e))return ym(e)}function ym(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wd(){return Wd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wd.apply(this,arguments)}function Gw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ww(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gw(Object(r),!0).forEach(function(n){hW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hW(e,t,r){return t=pW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pW(e){var t=gW(e,"string");return fu(t)=="symbol"?t:t+""}function gW(e,t){if(fu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hw(e,t){if(e==null)return{};var r=mW(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var yW=function(t){return Array.isArray(t.value)?oW(t.value):t.value};function qa(e){var t=e.valueAccessor,r=t===void 0?yW:t,n=Hw(e,iW),a=n.data,o=n.dataKey,i=n.clockWise,s=n.id,l=n.textBreakAll,u=Hw(n,sW);return!a||!a.length?null:F.createElement(xt,{className:"recharts-label-list"},a.map(function(d,f){var h=We(o)?r(d,f):Br(d&&d.payload,o),p=We(s)?{}:{id:"".concat(s,"-").concat(f)};return F.createElement(rn,Wd({},Ve(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:rn.parseViewBox(We(i)?d:Ww(Ww({},d),{},{clockWise:i})),key:"label-".concat(f),index:f}))}))}qa.displayName="LabelList";function vW(e,t){return e?e===!0?F.createElement(qa,{key:"labelList-implicit",data:t}):F.isValidElement(e)||Xe(e)?F.createElement(qa,{key:"labelList-implicit",data:t,content:e}):Sl(e)?F.createElement(qa,Wd({data:t},e,{key:"labelList-implicit"})):null:null}function xW(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Fn(n,qa).map(function(i,s){return S.cloneElement(i,{data:t,key:"labelList-".concat(s)})});if(!r)return a;var o=vW(e.label,t);return[o].concat(lW(a))}qa.renderCallByParent=xW;function du(e){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},du(e)}function vm(){return vm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vm.apply(this,arguments)}function Vw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vw(Object(r),!0).forEach(function(n){bW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bW(e,t,r){return t=wW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wW(e){var t=kW(e,"string");return du(t)=="symbol"?t:t+""}function kW(e,t){if(du(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jW=function(t,r){var n=Ca(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},jf=function(t){var r=t.cx,n=t.cy,a=t.radius,o=t.angle,i=t.sign,s=t.isExternal,l=t.cornerRadius,u=t.cornerIsExternal,d=l*(s?1:-1)+a,f=Math.asin(l/d)/Gd,h=u?o:o+i*f,p=nn(r,n,d,h),m=nn(r,n,a,h),x=u?o-i*f:o,w=nn(r,n,d*Math.cos(f*Gd),x);return{center:p,circleTangency:m,lineTangency:w,theta:f}},rO=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,i=t.startAngle,s=t.endAngle,l=jW(i,s),u=i+l,d=nn(r,n,o,i),f=nn(r,n,o,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=nn(r,n,a,i),m=nn(r,n,a,u);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},SW=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,i=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Ca(d-u),h=jf({cx:r,cy:n,radius:o,angle:u,sign:f,cornerRadius:i,cornerIsExternal:l}),p=h.circleTangency,m=h.lineTangency,x=h.theta,w=jf({cx:r,cy:n,radius:o,angle:d,sign:-f,cornerRadius:i,cornerIsExternal:l}),y=w.circleTangency,g=w.lineTangency,v=w.theta,j=l?Math.abs(u-d):Math.abs(u-d)-x-v;if(j<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):rO({cx:r,cy:n,innerRadius:a,outerRadius:o,startAngle:u,endAngle:d});var b="M ".concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(j>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
  `);if(a>0){var k=jf({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),N=k.circleTangency,_=k.lineTangency,O=k.theta,A=jf({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),T=A.circleTangency,M=A.lineTangency,C=A.theta,I=l?Math.abs(u-d):Math.abs(u-d)-O-C;if(I<0&&i===0)return"".concat(b,"L").concat(r,",").concat(n,"Z");b+="L".concat(M.x,",").concat(M.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(I>180),",").concat(+(f>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,"Z")}else b+="L".concat(r,",").concat(n,"Z");return b},_W={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},nO=function(t){var r=Xw(Xw({},_W),t),n=r.cx,a=r.cy,o=r.innerRadius,i=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(i<o||d===f)return null;var p=ot("recharts-sector",h),m=i-o,x=Ki(s,m,0,!0),w;return x>0&&Math.abs(d-f)<360?w=SW({cx:n,cy:a,innerRadius:o,outerRadius:i,cornerRadius:Math.min(x,m/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):w=rO({cx:n,cy:a,innerRadius:o,outerRadius:i,startAngle:d,endAngle:f}),F.createElement("path",vm({},Ve(r,!0),{className:p,d:w,role:"img"}))};function hu(e){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hu(e)}function xm(){return xm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xm.apply(this,arguments)}function Kw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kw(Object(r),!0).forEach(function(n){NW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NW(e,t,r){return t=OW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OW(e){var t=PW(e,"string");return hu(t)=="symbol"?t:t+""}function PW(e,t){if(hu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qw={curveBasisClosed:N$,curveBasisOpen:O$,curveBasis:_$,curveBumpX:f$,curveBumpY:d$,curveLinearClosed:P$,curveLinear:qh,curveMonotoneX:M$,curveMonotoneY:A$,curveNatural:C$,curveStep:T$,curveStepAfter:$$,curveStepBefore:E$},Sf=function(t){return t.x===+t.x&&t.y===+t.y},tc=function(t){return t.x},rc=function(t){return t.y},MW=function(t,r){if(Xe(t))return t;var n="curve".concat(Kh(t));return(n==="curveMonotone"||n==="curveBump")&&r?qw["".concat(n).concat(r==="vertical"?"Y":"X")]:qw[n]||qh},AW=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,o=a===void 0?[]:a,i=t.baseLine,s=t.layout,l=t.connectNulls,u=l===void 0?!1:l,d=MW(n,s),f=u?o.filter(function(x){return Sf(x)}):o,h;if(Array.isArray(i)){var p=u?i.filter(function(x){return Sf(x)}):i,m=f.map(function(x,w){return Yw(Yw({},x),{},{base:p[w]})});return s==="vertical"?h=pf().y(rc).x1(tc).x0(function(x){return x.base.x}):h=pf().x(tc).y1(rc).y0(function(x){return x.base.y}),h.defined(Sf).curve(d),h(m)}return s==="vertical"&&fe(i)?h=pf().y(rc).x1(tc).x0(i):fe(i)?h=pf().x(tc).y1(rc).y0(i):h=o_().x(tc).y(rc),h.defined(Sf).curve(d),h(f)},zi=function(t){var r=t.className,n=t.points,a=t.path,o=t.pathRef;if((!n||!n.length)&&!a)return null;var i=n&&n.length?AW(t):a;return S.createElement("path",xm({},Ve(t,!1),hd(t),{className:ot("recharts-curve",r),d:i,ref:o}))},aO={exports:{}},CW="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",TW=CW,EW=TW;function oO(){}function iO(){}iO.resetWarningCache=oO;var $W=function(){function e(n,a,o,i,s,l){if(l!==EW){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:iO,resetWarningCache:oO};return r.PropTypes=r,r};aO.exports=$W();var RW=aO.exports;const _t=Ft(RW),{getOwnPropertyNames:DW,getOwnPropertySymbols:LW}=Object,{hasOwnProperty:IW}=Object.prototype;function wp(e,t){return function(n,a,o){return e(n,a,o)&&t(n,a,o)}}function _f(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);const{cache:o}=a,i=o.get(r),s=o.get(n);if(i&&s)return i===n&&s===r;o.set(r,n),o.set(n,r);const l=e(r,n,a);return o.delete(r),o.delete(n),l}}function BW(e){return e!=null?e[Symbol.toStringTag]:void 0}function Zw(e){return DW(e).concat(LW(e))}const FW=Object.hasOwn||((e,t)=>IW.call(e,t));function is(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const zW="__v",UW="__o",GW="_owner",{getOwnPropertyDescriptor:Qw,keys:Jw}=Object;function WW(e,t){return e.byteLength===t.byteLength&&Hd(new Uint8Array(e),new Uint8Array(t))}function HW(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function VW(e,t){return e.byteLength===t.byteLength&&Hd(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function XW(e,t){return is(e.getTime(),t.getTime())}function KW(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function YW(e,t){return e===t}function e2(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),o=e.entries();let i,s,l=0;for(;(i=o.next())&&!i.done;){const u=t.entries();let d=!1,f=0;for(;(s=u.next())&&!s.done;){if(a[f]){f++;continue}const h=i.value,p=s.value;if(r.equals(h[0],p[0],l,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;l++}return!0}const qW=is;function ZW(e,t,r){const n=Jw(e);let a=n.length;if(Jw(t).length!==a)return!1;for(;a-- >0;)if(!sO(e,t,r,n[a]))return!1;return!0}function nc(e,t,r){const n=Zw(e);let a=n.length;if(Zw(t).length!==a)return!1;let o,i,s;for(;a-- >0;)if(o=n[a],!sO(e,t,r,o)||(i=Qw(e,o),s=Qw(t,o),(i||s)&&(!i||!s||i.configurable!==s.configurable||i.enumerable!==s.enumerable||i.writable!==s.writable)))return!1;return!0}function QW(e,t){return is(e.valueOf(),t.valueOf())}function JW(e,t){return e.source===t.source&&e.flags===t.flags}function t2(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),o=e.values();let i,s;for(;(i=o.next())&&!i.done;){const l=t.values();let u=!1,d=0;for(;(s=l.next())&&!s.done;){if(!a[d]&&r.equals(i.value,s.value,i.value,s.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function Hd(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function eH(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function sO(e,t,r,n){return(n===GW||n===UW||n===zW)&&(e.$$typeof||t.$$typeof)?!0:FW(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const tH="[object ArrayBuffer]",rH="[object Arguments]",nH="[object Boolean]",aH="[object DataView]",oH="[object Date]",iH="[object Error]",sH="[object Map]",lH="[object Number]",cH="[object Object]",uH="[object RegExp]",fH="[object Set]",dH="[object String]",hH={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},pH="[object URL]",gH=Object.prototype.toString;function mH({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:a,areFunctionsEqual:o,areMapsEqual:i,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:m}){return function(w,y,g){if(w===y)return!0;if(w==null||y==null)return!1;const v=typeof w;if(v!==typeof y)return!1;if(v!=="object")return v==="number"?s(w,y,g):v==="function"?o(w,y,g):!1;const j=w.constructor;if(j!==y.constructor)return!1;if(j===Object)return l(w,y,g);if(Array.isArray(w))return t(w,y,g);if(j===Date)return n(w,y,g);if(j===RegExp)return d(w,y,g);if(j===Map)return i(w,y,g);if(j===Set)return f(w,y,g);const b=gH.call(w);if(b===oH)return n(w,y,g);if(b===uH)return d(w,y,g);if(b===sH)return i(w,y,g);if(b===fH)return f(w,y,g);if(b===cH)return typeof w.then!="function"&&typeof y.then!="function"&&l(w,y,g);if(b===pH)return p(w,y,g);if(b===iH)return a(w,y,g);if(b===rH)return l(w,y,g);if(hH[b])return h(w,y,g);if(b===tH)return e(w,y,g);if(b===aH)return r(w,y,g);if(b===nH||b===lH||b===dH)return u(w,y,g);if(m){let k=m[b];if(!k){const N=BW(w);N&&(k=m[N])}if(k)return k(w,y,g)}return!1}}function yH({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:WW,areArraysEqual:r?nc:HW,areDataViewsEqual:VW,areDatesEqual:XW,areErrorsEqual:KW,areFunctionsEqual:YW,areMapsEqual:r?wp(e2,nc):e2,areNumbersEqual:qW,areObjectsEqual:r?nc:ZW,arePrimitiveWrappersEqual:QW,areRegExpsEqual:JW,areSetsEqual:r?wp(t2,nc):t2,areTypedArraysEqual:r?wp(Hd,nc):Hd,areUrlsEqual:eH,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const a=_f(n.areArraysEqual),o=_f(n.areMapsEqual),i=_f(n.areObjectsEqual),s=_f(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:i,areSetsEqual:s})}return n}function vH(e){return function(t,r,n,a,o,i,s){return e(t,r,s)}}function xH({circular:e,comparator:t,createState:r,equals:n,strict:a}){if(r)return function(s,l){const{cache:u=e?new WeakMap:void 0,meta:d}=r();return t(s,l,{cache:u,equals:n,meta:d,strict:a})};if(e)return function(s,l){return t(s,l,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const o={cache:void 0,equals:n,meta:void 0,strict:a};return function(s,l){return t(s,l,o)}}const bH=mi();mi({strict:!0});mi({circular:!0});mi({circular:!0,strict:!0});mi({createInternalComparator:()=>is});mi({strict:!0,createInternalComparator:()=>is});mi({circular:!0,createInternalComparator:()=>is});mi({circular:!0,createInternalComparator:()=>is,strict:!0});function mi(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:a=!1}=e,o=yH(e),i=mH(o),s=r?r(i):vH(i);return xH({circular:t,comparator:i,createState:n,equals:s,strict:a})}function wH(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function r2(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(o){r<0&&(r=o),o-r>t?(e(o),r=-1):wH(a)};requestAnimationFrame(n)}function bm(e){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bm(e)}function kH(e){return NH(e)||_H(e)||SH(e)||jH()}function jH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SH(e,t){if(e){if(typeof e=="string")return n2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n2(e,t)}}function n2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _H(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function NH(e){if(Array.isArray(e))return e}function OH(){var e={},t=function(){return null},r=!1,n=function a(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var i=o,s=kH(i),l=s[0],u=s.slice(1);if(typeof l=="number"){r2(a.bind(null,u),l);return}a(l),r2(a.bind(null,u));return}bm(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function pu(e){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pu(e)}function a2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function o2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a2(Object(r),!0).forEach(function(n){lO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lO(e,t,r){return t=PH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PH(e){var t=MH(e,"string");return pu(t)==="symbol"?t:String(t)}function MH(e,t){if(pu(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AH=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(o){return a.includes(o)})})},CH=function(t){return t},TH=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},jc=function(t,r){return Object.keys(r).reduce(function(n,a){return o2(o2({},n),{},lO({},a,t(a,r[a])))},{})},i2=function(t,r,n){return t.map(function(a){return"".concat(TH(a)," ").concat(r,"ms ").concat(n)}).join(",")};function EH(e,t){return DH(e)||RH(e,t)||cO(e,t)||$H()}function $H(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}function DH(e){if(Array.isArray(e))return e}function LH(e){return FH(e)||BH(e)||cO(e)||IH()}function IH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cO(e,t){if(e){if(typeof e=="string")return wm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wm(e,t)}}function BH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function FH(e){if(Array.isArray(e))return wm(e)}function wm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Vd=1e-4,uO=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},fO=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},s2=function(t,r){return function(n){var a=uO(t,r);return fO(a,n)}},zH=function(t,r){return function(n){var a=uO(t,r),o=[].concat(LH(a.map(function(i,s){return i*s}).slice(1)),[0]);return fO(o,n)}},l2=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],o=r[1],i=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,o=0,i=1,s=1;break;case"ease":a=.25,o=.1,i=.25,s=1;break;case"ease-in":a=.42,o=0,i=1,s=1;break;case"ease-out":a=.42,o=0,i=.58,s=1;break;case"ease-in-out":a=0,o=0,i=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),d=EH(u,4);a=d[0],o=d[1],i=d[2],s=d[3]}}}var f=s2(a,i),h=s2(o,s),p=zH(a,i),m=function(y){return y>1?1:y<0?0:y},x=function(y){for(var g=y>1?1:y,v=g,j=0;j<8;++j){var b=f(v)-g,k=p(v);if(Math.abs(b-g)<Vd||k<Vd)return h(v);v=m(v-b/k)}return h(v)};return x.isStepper=!1,x},UH=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,o=a===void 0?8:a,i=t.dt,s=i===void 0?17:i,l=function(d,f,h){var p=-(d-f)*n,m=h*o,x=h+(p-m)*s/1e3,w=h*s/1e3+d;return Math.abs(w-f)<Vd&&Math.abs(x)<Vd?[f,0]:[w,x]};return l.isStepper=!0,l.dt=s,l},GH=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return l2(a);case"spring":return UH();default:if(a.split("(")[0]==="cubic-bezier")return l2(a)}return typeof a=="function"?a:null};function gu(e){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gu(e)}function c2(e){return VH(e)||HH(e)||dO(e)||WH()}function WH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function VH(e){if(Array.isArray(e))return jm(e)}function u2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function en(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u2(Object(r),!0).forEach(function(n){km(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function km(e,t,r){return t=XH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XH(e){var t=KH(e,"string");return gu(t)==="symbol"?t:String(t)}function KH(e,t){if(gu(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YH(e,t){return QH(e)||ZH(e,t)||dO(e,t)||qH()}function qH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dO(e,t){if(e){if(typeof e=="string")return jm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jm(e,t)}}function jm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ZH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}function QH(e){if(Array.isArray(e))return e}var Xd=function(t,r,n){return t+(r-t)*n},Sm=function(t){var r=t.from,n=t.to;return r!==n},JH=function e(t,r,n){var a=jc(function(o,i){if(Sm(i)){var s=t(i.from,i.to,i.velocity),l=YH(s,2),u=l[0],d=l[1];return en(en({},i),{},{from:u,velocity:d})}return i},r);return n<1?jc(function(o,i){return Sm(i)?en(en({},i),{},{velocity:Xd(i.velocity,a[o].velocity,n),from:Xd(i.from,a[o].from,n)}):i},r):e(t,a,n-1)};const eV=function(e,t,r,n,a){var o=AH(e,t),i=o.reduce(function(w,y){return en(en({},w),{},km({},y,[e[y],t[y]]))},{}),s=o.reduce(function(w,y){return en(en({},w),{},km({},y,{from:e[y],velocity:0,to:t[y]}))},{}),l=-1,u,d,f=function(){return null},h=function(){return jc(function(y,g){return g.from},s)},p=function(){return!Object.values(s).filter(Sm).length},m=function(y){u||(u=y);var g=y-u,v=g/r.dt;s=JH(r,s,v),a(en(en(en({},e),t),h())),u=y,p()||(l=requestAnimationFrame(f))},x=function(y){d||(d=y);var g=(y-d)/n,v=jc(function(b,k){return Xd.apply(void 0,c2(k).concat([r(g)]))},i);if(a(en(en(en({},e),t),v)),g<1)l=requestAnimationFrame(f);else{var j=jc(function(b,k){return Xd.apply(void 0,c2(k).concat([r(1)]))},i);a(en(en(en({},e),t),j))}};return f=r.isStepper?m:x,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function al(e){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},al(e)}var tV=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function rV(e,t){if(e==null)return{};var r=nV(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nV(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function kp(e){return sV(e)||iV(e)||oV(e)||aV()}function aV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oV(e,t){if(e){if(typeof e=="string")return _m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _m(e,t)}}function iV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sV(e){if(Array.isArray(e))return _m(e)}function _m(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f2(Object(r),!0).forEach(function(n){cc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cc(e,t,r){return t=hO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hO(n.key),n)}}function uV(e,t,r){return t&&cV(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hO(e){var t=fV(e,"string");return al(t)==="symbol"?t:String(t)}function fV(e,t){if(al(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(al(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nm(e,t)}function Nm(e,t){return Nm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Nm(e,t)}function hV(e){var t=pV();return function(){var n=Kd(e),a;if(t){var o=Kd(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Om(this,a)}}function Om(e,t){if(t&&(al(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pm(e)}function Pm(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pV(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Kd(e){return Kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kd(e)}var Ra=function(e){dV(r,e);var t=hV(r);function r(n,a){var o;lV(this,r),o=t.call(this,n,a);var i=o.props,s=i.isActive,l=i.attributeName,u=i.from,d=i.to,f=i.steps,h=i.children,p=i.duration;if(o.handleStyleChange=o.handleStyleChange.bind(Pm(o)),o.changeStyle=o.changeStyle.bind(Pm(o)),!s||p<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:d}),Om(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof h=="function")return o.state={style:u},Om(o);o.state={style:l?cc({},l,u):u}}else o.state={style:{}};return o}return uV(r,[{key:"componentDidMount",value:function(){var a=this.props,o=a.isActive,i=a.canBegin;this.mounted=!0,!(!o||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var o=this.props,i=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,d=o.to,f=o.from,h=this.state.style;if(s){if(!i){var p={style:l?cc({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(p);return}if(!(bH(a.to,d)&&a.canBegin&&a.isActive)){var m=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=m||u?f:a.to;if(this.state&&h){var w={style:l?cc({},l,x):x};(l&&h[l]!==x||!l&&h!==x)&&this.setState(w)}this.runAnimation(Sa(Sa({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var o=this,i=a.from,s=a.to,l=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=eV(i,s,GH(u),l,this.changeStyle),m=function(){o.stopJSAnimation=p()};this.manager.start([h,d,m,l,f])}},{key:"runStepAnimation",value:function(a){var o=this,i=a.steps,s=a.begin,l=a.onAnimationStart,u=i[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(x,w,y){if(y===0)return x;var g=w.duration,v=w.easing,j=v===void 0?"ease":v,b=w.style,k=w.properties,N=w.onAnimationEnd,_=y>0?i[y-1]:w,O=k||Object.keys(b);if(typeof j=="function"||j==="spring")return[].concat(kp(x),[o.runJSAnimation.bind(o,{from:_.style,to:b,duration:g,easing:j}),g]);var A=i2(O,g,j),T=Sa(Sa(Sa({},_.style),b),{},{transition:A});return[].concat(kp(x),[T,g,N]).filter(CH)};return this.manager.start([l].concat(kp(i.reduce(p,[d,Math.max(h,s)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=OH());var o=a.begin,i=a.duration,s=a.attributeName,l=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var x=s?cc({},s,l):l,w=i2(Object.keys(x),i,u);m.start([d,o,Sa(Sa({},x),{},{transition:w}),i,f])}},{key:"render",value:function(){var a=this.props,o=a.children;a.begin;var i=a.duration;a.attributeName,a.easing;var s=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=rV(a,tV),u=S.Children.count(o),d=this.state.style;if(typeof o=="function")return o(d);if(!s||u===0||i<=0)return o;var f=function(p){var m=p.props,x=m.style,w=x===void 0?{}:x,y=m.className,g=S.cloneElement(p,Sa(Sa({},l),{},{style:Sa(Sa({},w),d),className:y}));return g};return u===1?f(S.Children.only(o)):F.createElement("div",null,S.Children.map(o,function(h){return f(h)}))}}]),r}(S.PureComponent);Ra.displayName="Animate";Ra.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ra.propTypes={from:_t.oneOfType([_t.object,_t.string]),to:_t.oneOfType([_t.object,_t.string]),attributeName:_t.string,duration:_t.number,begin:_t.number,easing:_t.oneOfType([_t.string,_t.func]),steps:_t.arrayOf(_t.shape({duration:_t.number.isRequired,style:_t.object.isRequired,easing:_t.oneOfType([_t.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),_t.func]),properties:_t.arrayOf("string"),onAnimationEnd:_t.func})),children:_t.oneOfType([_t.node,_t.func]),isActive:_t.bool,canBegin:_t.bool,onAnimationEnd:_t.func,shouldReAnimate:_t.bool,onAnimationStart:_t.func,onAnimationReStart:_t.func};function mu(e){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mu(e)}function Yd(){return Yd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yd.apply(this,arguments)}function gV(e,t){return xV(e)||vV(e,t)||yV(e,t)||mV()}function mV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yV(e,t){if(e){if(typeof e=="string")return d2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d2(e,t)}}function d2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}function xV(e){if(Array.isArray(e))return e}function h2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function p2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h2(Object(r),!0).forEach(function(n){bV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bV(e,t,r){return t=wV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wV(e){var t=kV(e,"string");return mu(t)=="symbol"?t:t+""}function kV(e,t){if(mu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var g2=function(t,r,n,a,o){var i=Math.min(Math.abs(n)/2,Math.abs(a)/2),s=a>=0?1:-1,l=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(i>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=o[h]>i?i:o[h];d="M".concat(t,",").concat(r+s*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+l*f[0],",").concat(r)),d+="L ".concat(t+n-l*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+s*f[1])),d+="L ".concat(t+n,",").concat(r+a-s*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-l*f[2],",").concat(r+a)),d+="L ".concat(t+l*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-s*f[3])),d+="Z"}else if(i>0&&o===+o&&o>0){var m=Math.min(i,o);d="M ".concat(t,",").concat(r+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+l*m,",").concat(r,`
            L `).concat(t+n-l*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+n,",").concat(r+s*m,`
            L `).concat(t+n,",").concat(r+a-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+n-l*m,",").concat(r+a,`
            L `).concat(t+l*m,",").concat(r+a,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t,",").concat(r+a-s*m," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},jV=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,o=r.x,i=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),d=Math.max(o,o+s),f=Math.min(i,i+l),h=Math.max(i,i+l);return n>=u&&n<=d&&a>=f&&a<=h}return!1},SV={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Kv=function(t){var r=p2(p2({},SV),t),n=S.useRef(),a=S.useState(-1),o=gV(a,2),i=o[0],s=o[1];S.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&s(j)}catch{}},[]);var l=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,m=r.animationEasing,x=r.animationDuration,w=r.animationBegin,y=r.isAnimationActive,g=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var v=ot("recharts-rectangle",p);return g?F.createElement(Ra,{canBegin:i>0,from:{width:d,height:f,x:l,y:u},to:{width:d,height:f,x:l,y:u},duration:x,animationEasing:m,isActive:g},function(j){var b=j.width,k=j.height,N=j.x,_=j.y;return F.createElement(Ra,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:x,isActive:y,easing:m},F.createElement("path",Yd({},Ve(r,!0),{className:v,d:g2(N,_,b,k,h),ref:n})))}):F.createElement("path",Yd({},Ve(r,!0),{className:v,d:g2(l,u,d,f,h)}))};function Mm(){return Mm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mm.apply(this,arguments)}var f0=function(t){var r=t.cx,n=t.cy,a=t.r,o=t.className,i=ot("recharts-dot",o);return r===+r&&n===+n&&a===+a?S.createElement("circle",Mm({},Ve(t,!1),hd(t),{className:i,cx:r,cy:n,r:a})):null};function yu(e){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yu(e)}var _V=["x","y","top","left","width","height","className"];function Am(){return Am=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Am.apply(this,arguments)}function m2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function NV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m2(Object(r),!0).forEach(function(n){OV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OV(e,t,r){return t=PV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PV(e){var t=MV(e,"string");return yu(t)=="symbol"?t:t+""}function MV(e,t){if(yu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AV(e,t){if(e==null)return{};var r=CV(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function CV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var TV=function(t,r,n,a,o,i){return"M".concat(t,",").concat(o,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(n)},EV=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,o=a===void 0?0:a,i=t.top,s=i===void 0?0:i,l=t.left,u=l===void 0?0:l,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,m=t.className,x=AV(t,_V),w=NV({x:n,y:o,top:s,left:u,width:f,height:p},x);return!fe(n)||!fe(o)||!fe(f)||!fe(p)||!fe(s)||!fe(u)?null:F.createElement("path",Am({},Ve(w,!0),{className:ot("recharts-cross",m),d:TV(n,o,f,p,s,u)}))},$V=M_,RV=$V(Object.getPrototypeOf,Object),DV=RV,LV=Po,IV=DV,BV=Mo,FV="[object Object]",zV=Function.prototype,UV=Object.prototype,pO=zV.toString,GV=UV.hasOwnProperty,WV=pO.call(Object);function HV(e){if(!BV(e)||LV(e)!=FV)return!1;var t=IV(e);if(t===null)return!0;var r=GV.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&pO.call(r)==WV}var VV=HV;const XV=Ft(VV);var KV=Po,YV=Mo,qV="[object Boolean]";function ZV(e){return e===!0||e===!1||YV(e)&&KV(e)==qV}var QV=ZV;const JV=Ft(QV);function vu(e){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vu(e)}function qd(){return qd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qd.apply(this,arguments)}function eX(e,t){return aX(e)||nX(e,t)||rX(e,t)||tX()}function tX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rX(e,t){if(e){if(typeof e=="string")return y2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y2(e,t)}}function y2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}function aX(e){if(Array.isArray(e))return e}function v2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function x2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v2(Object(r),!0).forEach(function(n){oX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oX(e,t,r){return t=iX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iX(e){var t=sX(e,"string");return vu(t)=="symbol"?t:t+""}function sX(e,t){if(vu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var b2=function(t,r,n,a,o){var i=n-a,s;return s="M ".concat(t,",").concat(r),s+="L ".concat(t+n,",").concat(r),s+="L ".concat(t+n-i/2,",").concat(r+o),s+="L ".concat(t+n-i/2-a,",").concat(r+o),s+="L ".concat(t,",").concat(r," Z"),s},lX={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cX=function(t){var r=x2(x2({},lX),t),n=S.useRef(),a=S.useState(-1),o=eX(a,2),i=o[0],s=o[1];S.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var v=n.current.getTotalLength();v&&s(v)}catch{}},[]);var l=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,m=r.animationEasing,x=r.animationDuration,w=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var g=ot("recharts-trapezoid",p);return y?F.createElement(Ra,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:u},duration:x,animationEasing:m,isActive:y},function(v){var j=v.upperWidth,b=v.lowerWidth,k=v.height,N=v.x,_=v.y;return F.createElement(Ra,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:x,easing:m},F.createElement("path",qd({},Ve(r,!0),{className:g,d:b2(N,_,j,b,k),ref:n})))}):F.createElement("g",null,F.createElement("path",qd({},Ve(r,!0),{className:g,d:b2(l,u,d,f,h)})))},uX=["option","shapeType","propTransformer","activeClassName","isActive"];function xu(e){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xu(e)}function fX(e,t){if(e==null)return{};var r=dX(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dX(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function w2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w2(Object(r),!0).forEach(function(n){hX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hX(e,t,r){return t=pX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pX(e){var t=gX(e,"string");return xu(t)=="symbol"?t:t+""}function gX(e,t){if(xu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mX(e,t){return Zd(Zd({},t),e)}function yX(e,t){return e==="symbols"}function k2(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return F.createElement(Kv,r);case"trapezoid":return F.createElement(cX,r);case"sector":return F.createElement(nO,r);case"symbols":if(yX(t))return F.createElement(Qh,r);break;default:return null}}function vX(e){return S.isValidElement(e)?e.props:e}function Cm(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?mX:n,o=e.activeClassName,i=o===void 0?"recharts-active-shape":o,s=e.isActive,l=fX(e,uX),u;if(S.isValidElement(t))u=S.cloneElement(t,Zd(Zd({},l),vX(t)));else if(Xe(t))u=t(l);else if(XV(t)&&!JV(t)){var d=a(t,l);u=F.createElement(k2,{shapeType:r,elementProps:d})}else{var f=l;u=F.createElement(k2,{shapeType:r,elementProps:f})}return s?F.createElement(xt,{className:i},u):u}function d0(e,t){return t!=null&&"trapezoids"in e.props}function h0(e,t){return t!=null&&"sectors"in e.props}function bu(e,t){return t!=null&&"points"in e.props}function xX(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,o=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&o}function bX(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function wX(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function kX(e,t){var r;return d0(e,t)?r=xX:h0(e,t)?r=bX:bu(e,t)&&(r=wX),r}function jX(e,t){var r;return d0(e,t)?r="trapezoids":h0(e,t)?r="sectors":bu(e,t)&&(r="points"),r}function SX(e,t){if(d0(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(h0(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return bu(e,t)?t.payload:{}}function _X(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=jX(r,t),o=SX(r,t),i=n.filter(function(l,u){var d=Yi(o,l),f=r.props[a].filter(function(m){var x=kX(r,t);return x(m,t)}),h=r.props[a].indexOf(f[f.length-1]),p=u===h;return d&&p}),s=n.indexOf(i[i.length-1]);return s}var NX=Math.ceil,OX=Math.max;function PX(e,t,r,n){for(var a=-1,o=OX(NX((t-e)/(r||1)),0),i=Array(o);o--;)i[n?o:++a]=e,e+=r;return i}var MX=PX,AX=K_,j2=1/0,CX=17976931348623157e292;function TX(e){if(!e)return e===0?e:0;if(e=AX(e),e===j2||e===-j2){var t=e<0?-1:1;return t*CX}return e===e?e:0}var gO=TX,EX=MX,$X=t0,jp=gO;function RX(e){return function(t,r,n){return n&&typeof n!="number"&&$X(t,r,n)&&(r=n=void 0),t=jp(t),r===void 0?(r=t,t=0):r=jp(r),n=n===void 0?t<r?1:-1:jp(n),EX(t,r,n,e)}}var DX=RX,LX=DX,IX=LX(),BX=IX;const Qd=Ft(BX);function wu(e){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wu(e)}function S2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S2(Object(r),!0).forEach(function(n){mO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mO(e,t,r){return t=FX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FX(e){var t=zX(e,"string");return wu(t)=="symbol"?t:t+""}function zX(e,t){if(wu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UX=["Webkit","Moz","O","ms"],GX=function(t,r){var n=t.replace(/(\w)/,function(o){return o.toUpperCase()}),a=UX.reduce(function(o,i){return _2(_2({},o),{},mO({},i+n,r))},{});return a[t]=r,a};function ol(e){"@babel/helpers - typeof";return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ol(e)}function Jd(){return Jd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jd.apply(this,arguments)}function N2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N2(Object(r),!0).forEach(function(n){Xn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vO(n.key),n)}}function HX(e,t,r){return t&&O2(e.prototype,t),r&&O2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function VX(e,t,r){return t=eh(t),XX(e,yO()?Reflect.construct(t,r||[],eh(e).constructor):t.apply(e,r))}function XX(e,t){if(t&&(ol(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KX(e)}function KX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yO=function(){return!!e})()}function eh(e){return eh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},eh(e)}function YX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tm(e,t)}function Tm(e,t){return Tm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Tm(e,t)}function Xn(e,t,r){return t=vO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vO(e){var t=qX(e,"string");return ol(t)=="symbol"?t:t+""}function qX(e,t){if(ol(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ol(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ZX=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,o=t.x,i=t.width,s=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,u=wc().domain(Qd(0,l)).range([o,o+i-s]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},P2=function(t){return t.changedTouches&&!!t.changedTouches.length},il=function(e){function t(r){var n;return WX(this,t),n=VX(this,t,[r]),Xn(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Xn(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Xn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,o=a.endIndex,i=a.onDragEnd,s=a.startIndex;i==null||i({endIndex:o,startIndex:s})}),n.detachDragEndListener()}),Xn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Xn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Xn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Xn(n,"handleSlideDragStart",function(a){var o=P2(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return YX(t,e),HX(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,o=n.endX,i=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,d=u.length-1,f=Math.min(a,o),h=Math.max(a,o),p=t.getIndexInRange(i,f),m=t.getIndexInRange(i,h);return{startIndex:p-p%l,endIndex:m===d?d:m-m%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,o=a.data,i=a.tickFormatter,s=a.dataKey,l=Br(o[n],s,n);return Xe(i)?i(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,o=a.slideMoveStartX,i=a.startX,s=a.endX,l=this.props,u=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,m=l.onChange,x=n.pageX-o;x>0?x=Math.min(x,u+d-f-s,u+d-f-i):x<0&&(x=Math.max(x,u-i,u-s));var w=this.getIndex({startX:i+x,endX:s+x});(w.startIndex!==h||w.endIndex!==p)&&m&&m(w),this.setState({startX:i+x,endX:s+x,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var o=P2(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,o=a.brushMoveStartX,i=a.movingTravellerId,s=a.endX,l=a.startX,u=this.state[i],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,m=d.onChange,x=d.gap,w=d.data,y={startX:this.state.startX,endX:this.state.endX},g=n.pageX-o;g>0?g=Math.min(g,f+h-p-u):g<0&&(g=Math.max(g,f-u)),y[i]=u+g;var v=this.getIndex(y),j=v.startIndex,b=v.endIndex,k=function(){var _=w.length-1;return i==="startX"&&(s>l?j%x===0:b%x===0)||s<l&&b===_||i==="endX"&&(s>l?b%x===0:j%x===0)||s>l&&b===_};this.setState(Xn(Xn({},i,u+g),"brushMoveStartX",n.pageX),function(){m&&k()&&m(v)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var o=this,i=this.state,s=i.scaleValues,l=i.startX,u=i.endX,d=this.state[a],f=s.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=s.length)){var p=s[h];a==="startX"&&p>=u||a==="endX"&&p<=l||this.setState(Xn({},a,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.fill,u=n.stroke;return F.createElement("rect",{stroke:u,fill:l,x:a,y:o,width:i,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.data,u=n.children,d=n.padding,f=S.Children.only(u);return f?F.cloneElement(f,{x:a,y:o,width:i,height:s,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var o,i,s=this,l=this.props,u=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,m=l.data,x=l.startIndex,w=l.endIndex,y=Math.max(n,this.props.x),g=Sp(Sp({},Ve(this.props,!1)),{},{x:y,y:u,width:d,height:f}),v=p||"Min value: ".concat((o=m[x])===null||o===void 0?void 0:o.name,", Max value: ").concat((i=m[w])===null||i===void 0?void 0:i.name);return F.createElement(xt,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(b){["ArrowLeft","ArrowRight"].includes(b.key)&&(b.preventDefault(),b.stopPropagation(),s.handleTravellerMoveKeyboard(b.key==="ArrowRight"?1:-1,a))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,g))}},{key:"renderSlide",value:function(n,a){var o=this.props,i=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return F.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:i,width:f,height:s})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,o=n.endIndex,i=n.y,s=n.height,l=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,m={pointerEvents:"none",fill:u};return F.createElement(xt,{className:"recharts-brush-texts"},F.createElement(Od,Jd({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:i+s/2},m),this.getTextOfTick(a)),F.createElement(Od,Jd({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:i+s/2},m),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,a=n.data,o=n.className,i=n.children,s=n.x,l=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,m=h.endX,x=h.isTextActive,w=h.isSlideMoving,y=h.isTravellerMoving,g=h.isTravellerFocused;if(!a||!a.length||!fe(s)||!fe(l)||!fe(u)||!fe(d)||u<=0||d<=0)return null;var v=ot("recharts-brush",o),j=F.Children.count(i)===1,b=GX("userSelect","none");return F.createElement(xt,{className:v,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:b},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(x||w||y||g||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,o=n.y,i=n.width,s=n.height,l=n.stroke,u=Math.floor(o+s/2)-1;return F.createElement(F.Fragment,null,F.createElement("rect",{x:a,y:o,width:i,height:s,fill:l,stroke:"none"}),F.createElement("line",{x1:a+1,y1:u,x2:a+i-1,y2:u,fill:"none",stroke:"#fff"}),F.createElement("line",{x1:a+1,y1:u+2,x2:a+i-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var o;return F.isValidElement(n)?o=F.cloneElement(n,a):Xe(n)?o=n(a):o=t.renderDefaultTraveller(a),o}},{key:"getDerivedStateFromProps",value:function(n,a){var o=n.data,i=n.width,s=n.x,l=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(o!==a.prevData||u!==a.prevUpdateId)return Sp({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:i},o&&o.length?ZX({data:o,width:i,x:s,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(i!==a.prevWidth||s!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([s,s+i-l]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:i,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var o=n.length,i=0,s=o-1;s-i>1;){var l=Math.floor((i+s)/2);n[l]>a?s=l:i=l}return a>=n[s]?s:i}}])}(S.PureComponent);Xn(il,"displayName","Brush");Xn(il,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var QX=xv;function JX(e,t){var r;return QX(e,function(n,a,o){return r=t(n,a,o),!r}),!!r}var eK=JX,tK=w_,rK=di,nK=eK,aK=Gn,oK=t0;function iK(e,t,r){var n=aK(e)?tK:nK;return r&&oK(e,t,r)&&(t=void 0),n(e,rK(t))}var sK=iK;const lK=Ft(sK);var Za=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},M2=G_;function cK(e,t,r){t=="__proto__"&&M2?M2(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var uK=cK,fK=uK,dK=z_,hK=di;function pK(e,t){var r={};return t=hK(t),dK(e,function(n,a,o){fK(r,a,t(n,a,o))}),r}var gK=pK;const mK=Ft(gK);function yK(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var vK=yK,xK=xv;function bK(e,t){var r=!0;return xK(e,function(n,a,o){return r=!!t(n,a,o),r}),r}var wK=bK,kK=vK,jK=wK,SK=di,_K=Gn,NK=t0;function OK(e,t,r){var n=_K(e)?kK:jK;return r&&NK(e,t,r)&&(t=void 0),n(e,SK(t))}var PK=OK;const xO=Ft(PK);var MK=["x","y"];function ku(e){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ku(e)}function Em(){return Em=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Em.apply(this,arguments)}function A2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ac(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A2(Object(r),!0).forEach(function(n){AK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AK(e,t,r){return t=CK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CK(e){var t=TK(e,"string");return ku(t)=="symbol"?t:t+""}function TK(e,t){if(ku(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ku(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EK(e,t){if(e==null)return{};var r=$K(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $K(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function RK(e,t){var r=e.x,n=e.y,a=EK(e,MK),o="".concat(r),i=parseInt(o,10),s="".concat(n),l=parseInt(s,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return ac(ac(ac(ac(ac({},t),a),i?{x:i}:{}),l?{y:l}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function C2(e){return F.createElement(Cm,Em({shapeType:"rectangle",propTransformer:RK,activeClassName:"recharts-active-bar"},e))}var DK=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var o=fe(n)||qE(n);return o?t(n,a):(o||Zi(),r)}},LK=["value","background"],bO;function sl(e){"@babel/helpers - typeof";return sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sl(e)}function IK(e,t){if(e==null)return{};var r=BK(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function BK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function th(){return th=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},th.apply(this,arguments)}function T2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T2(Object(r),!0).forEach(function(n){Xo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kO(n.key),n)}}function zK(e,t,r){return t&&E2(e.prototype,t),r&&E2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function UK(e,t,r){return t=rh(t),GK(e,wO()?Reflect.construct(t,r||[],rh(e).constructor):t.apply(e,r))}function GK(e,t){if(t&&(sl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WK(e)}function WK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wO=function(){return!!e})()}function rh(e){return rh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rh(e)}function HK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$m(e,t)}function $m(e,t){return $m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$m(e,t)}function Xo(e,t,r){return t=kO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kO(e){var t=VK(e,"string");return sl(t)=="symbol"?t:t+""}function VK(e,t){if(sl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Bu=function(e){function t(){var r;FK(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=UK(this,t,[].concat(a)),Xo(r,"state",{isAnimationFinished:!1}),Xo(r,"id",ns("recharts-bar-")),Xo(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),i&&i()}),Xo(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),i&&i()}),r}return HK(t,e),zK(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,o=this.props,i=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,d=Ve(this.props,!1);return n&&n.map(function(f,h){var p=h===l,m=p?u:i,x=Nr(Nr(Nr({},d),f),{},{isActive:p,option:m,index:h,dataKey:s,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return F.createElement(xt,th({className:"recharts-bar-rectangle"},Hc(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),F.createElement(C2,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,o=a.data,i=a.layout,s=a.isAnimationActive,l=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return F.createElement(Ra,{begin:l,duration:u,isActive:s,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,x=o.map(function(w,y){var g=h&&h[y];if(g){var v=kr(g.x,w.x),j=kr(g.y,w.y),b=kr(g.width,w.width),k=kr(g.height,w.height);return Nr(Nr({},w),{},{x:v(m),y:j(m),width:b(m),height:k(m)})}if(i==="horizontal"){var N=kr(0,w.height),_=N(m);return Nr(Nr({},w),{},{y:w.y+w.height-_,height:_})}var O=kr(0,w.width),A=O(m);return Nr(Nr({},w),{},{width:A})});return F.createElement(xt,null,n.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,o=n.isAnimationActive,i=this.state.prevData;return o&&a&&a.length&&(!i||!Yi(i,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,o=a.data,i=a.dataKey,s=a.activeIndex,l=Ve(this.props.background,!1);return o.map(function(u,d){u.value;var f=u.background,h=IK(u,LK);if(!f)return null;var p=Nr(Nr(Nr(Nr(Nr({},h),{},{fill:"#eee"},f),l),Hc(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:i,index:d,className:"recharts-bar-background-rectangle"});return F.createElement(C2,th({key:"background-bar-".concat(d),option:n.props.background,isActive:d===s},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,d=o.children,f=Fn(d,Rl);if(!f)return null;var h=u==="vertical"?i[0].height/2:i[0].width/2,p=function(w,y){var g=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:g,errorVal:Br(w,y)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return F.createElement(xt,m,f.map(function(x){return F.cloneElement(x,{key:"error-bar-".concat(a,"-").concat(x.props.dataKey),data:i,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,o=n.data,i=n.className,s=n.xAxis,l=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,m=n.background,x=n.id;if(a||!o||!o.length)return null;var w=this.state.isAnimationFinished,y=ot("recharts-bar",i),g=s&&s.allowDataOverflow,v=l&&l.allowDataOverflow,j=g||v,b=We(x)?this.id:x;return F.createElement(xt,{className:y},g||v?F.createElement("defs",null,F.createElement("clipPath",{id:"clipPath-".concat(b)},F.createElement("rect",{x:g?u:u-f/2,y:v?d:d-h/2,width:g?f:f*2,height:v?h:h*2}))):null,F.createElement(xt,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(b,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,b),(!p||w)&&qa.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(S.PureComponent);bO=Bu;Xo(Bu,"displayName","Bar");Xo(Bu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!hi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Xo(Bu,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,o=e.xAxis,i=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=xG(n,r);if(!p)return null;var m=t.layout,x=r.type.defaultProps,w=x!==void 0?Nr(Nr({},x),r.props):r.props,y=w.dataKey,g=w.children,v=w.minPointSize,j=m==="horizontal"?i:o,b=u?j.scale.domain():null,k=OG({numericAxis:j}),N=Fn(g,kv),_=f.map(function(O,A){var T,M,C,I,D,U;u?T=bG(u[d+A],b):(T=Br(O,y),Array.isArray(T)||(T=[k,T]));var P=DK(v,bO.defaultProps.minPointSize)(T[1],A);if(m==="horizontal"){var E,B=[i.scale(T[0]),i.scale(T[1])],z=B[0],te=B[1];M=Rw({axis:o,ticks:s,bandSize:a,offset:p.offset,entry:O,index:A}),C=(E=te??z)!==null&&E!==void 0?E:void 0,I=p.size;var Q=z-te;if(D=Number.isNaN(Q)?0:Q,U={x:M,y:i.y,width:I,height:i.height},Math.abs(P)>0&&Math.abs(D)<Math.abs(P)){var R=Ca(D||P)*(Math.abs(P)-Math.abs(D));C-=R,D+=R}}else{var J=[o.scale(T[0]),o.scale(T[1])],q=J[0],$=J[1];if(M=q,C=Rw({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:O,index:A}),I=$-q,D=p.size,U={x:o.x,y:C,width:o.width,height:D},Math.abs(P)>0&&Math.abs(I)<Math.abs(P)){var ne=Ca(I||P)*(Math.abs(P)-Math.abs(I));I+=ne}}return Nr(Nr(Nr({},O),{},{x:M,y:C,width:I,height:D,value:u?T:T[1],payload:O,background:U},N&&N[A]&&N[A].props),{},{tooltipPayload:[eO(r,O)],tooltipPosition:{x:M+I/2,y:C+D/2}})});return Nr({data:_,layout:m},h)});function ju(e){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ju(e)}function XK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jO(n.key),n)}}function KK(e,t,r){return t&&$2(e.prototype,t),r&&$2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function R2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Oa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R2(Object(r),!0).forEach(function(n){p0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p0(e,t,r){return t=jO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jO(e){var t=YK(e,"string");return ju(t)=="symbol"?t:t+""}function YK(e,t){if(ju(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yv=function(t,r,n,a,o){var i=t.width,s=t.height,l=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!Yn(u,Bu);return d.reduce(function(p,m){var x=r[m],w=x.orientation,y=x.domain,g=x.padding,v=g===void 0?{}:g,j=x.mirror,b=x.reversed,k="".concat(w).concat(j?"Mirror":""),N,_,O,A,T;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var M=y[1]-y[0],C=1/0,I=x.categoricalDomain.sort(e4);if(I.forEach(function(J,q){q>0&&(C=Math.min((J||0)-(I[q-1]||0),C))}),Number.isFinite(C)){var D=C/M,U=x.layout==="vertical"?n.height:n.width;if(x.padding==="gap"&&(N=D*U/2),x.padding==="no-gap"){var P=Ki(t.barCategoryGap,D*U),E=D*U/2;N=E-P-(E-P)/U*P}}}a==="xAxis"?_=[n.left+(v.left||0)+(N||0),n.left+n.width-(v.right||0)-(N||0)]:a==="yAxis"?_=l==="horizontal"?[n.top+n.height-(v.bottom||0),n.top+(v.top||0)]:[n.top+(v.top||0)+(N||0),n.top+n.height-(v.bottom||0)-(N||0)]:_=x.range,b&&(_=[_[1],_[0]]);var B=yG(x,o,h),z=B.scale,te=B.realScaleType;z.domain(y).range(_),vG(z);var Q=NG(z,Oa(Oa({},x),{},{realScaleType:te}));a==="xAxis"?(T=w==="top"&&!j||w==="bottom"&&j,O=n.left,A=f[k]-T*x.height):a==="yAxis"&&(T=w==="left"&&!j||w==="right"&&j,O=f[k]-T*x.width,A=n.top);var R=Oa(Oa(Oa({},x),Q),{},{realScaleType:te,x:O,y:A,scale:z,width:a==="xAxis"?n.width:x.width,height:a==="yAxis"?n.height:x.height});return R.bandSize=Ud(R,Q),!x.hide&&a==="xAxis"?f[k]+=(T?-1:1)*R.height:x.hide||(f[k]+=(T?-1:1)*R.width),Oa(Oa({},p),{},p0({},m,R))},{})},SO=function(t,r){var n=t.x,a=t.y,o=r.x,i=r.y;return{x:Math.min(n,o),y:Math.min(a,i),width:Math.abs(o-n),height:Math.abs(i-a)}},qK=function(t){var r=t.x1,n=t.y1,a=t.x2,o=t.y2;return SO({x:r,y:n},{x:a,y:o})},_O=function(){function e(t){XK(this,e),this.scale=t}return KK(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],o=n[n.length-1];return a<=o?r>=a&&r<=o:r>=o&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();p0(_O,"EPS",1e-4);var qv=function(t){var r=Object.keys(t).reduce(function(n,a){return Oa(Oa({},n),{},p0({},a,_O.create(t[a])))},{});return Oa(Oa({},r),{},{apply:function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=o.bandAware,s=o.position;return mK(a,function(l,u){return r[u].apply(l,{bandAware:i,position:s})})},isInRange:function(a){return xO(a,function(o,i){return r[i].isInRange(o)})}})};function ZK(e){return(e%180+180)%180}var QK=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=ZK(a),i=o*Math.PI/180,s=Math.atan(n/r),l=i>s&&i<Math.PI-s?n/Math.sin(i):r/Math.cos(i);return Math.abs(l)},JK=di,eY=$u,tY=Jh;function rY(e){return function(t,r,n){var a=Object(t);if(!eY(t)){var o=JK(r);t=tY(t),r=function(s){return o(a[s],s,a)}}var i=e(t,r,n);return i>-1?a[o?t[i]:i]:void 0}}var nY=rY,aY=gO;function oY(e){var t=aY(e),r=t%1;return t===t?r?t-r:t:0}var iY=oY,sY=R_,lY=di,cY=iY,uY=Math.max;function fY(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:cY(r);return a<0&&(a=uY(n+a,0)),sY(e,lY(t),a)}var dY=fY,hY=nY,pY=dY,gY=hY(pY),mY=gY;const yY=Ft(mY);var vY=rE(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Zv=S.createContext(void 0),Qv=S.createContext(void 0),NO=S.createContext(void 0),OO=S.createContext({}),PO=S.createContext(void 0),MO=S.createContext(0),AO=S.createContext(0),D2=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,o=r.offset,i=t.clipPathId,s=t.children,l=t.width,u=t.height,d=vY(o);return F.createElement(Zv.Provider,{value:n},F.createElement(Qv.Provider,{value:a},F.createElement(OO.Provider,{value:o},F.createElement(NO.Provider,{value:d},F.createElement(PO.Provider,{value:i},F.createElement(MO.Provider,{value:u},F.createElement(AO.Provider,{value:l},s)))))))},xY=function(){return S.useContext(PO)},CO=function(t){var r=S.useContext(Zv);r==null&&Zi();var n=r[t];return n==null&&Zi(),n},bY=function(){var t=S.useContext(Zv);return Go(t)},wY=function(){var t=S.useContext(Qv),r=yY(t,function(n){return xO(n.domain,Number.isFinite)});return r||Go(t)},TO=function(t){var r=S.useContext(Qv);r==null&&Zi();var n=r[t];return n==null&&Zi(),n},kY=function(){var t=S.useContext(NO);return t},jY=function(){return S.useContext(OO)},Jv=function(){return S.useContext(AO)},ex=function(){return S.useContext(MO)};function ll(e){"@babel/helpers - typeof";return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ll(e)}function SY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _Y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$O(n.key),n)}}function NY(e,t,r){return t&&_Y(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function OY(e,t,r){return t=nh(t),PY(e,EO()?Reflect.construct(t,r||[],nh(e).constructor):t.apply(e,r))}function PY(e,t){if(t&&(ll(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MY(e)}function MY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EO=function(){return!!e})()}function nh(e){return nh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nh(e)}function AY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rm(e,t)}function Rm(e,t){return Rm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Rm(e,t)}function L2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function I2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L2(Object(r),!0).forEach(function(n){tx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tx(e,t,r){return t=$O(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $O(e){var t=CY(e,"string");return ll(t)=="symbol"?t:t+""}function CY(e,t){if(ll(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ll(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function TY(e,t){return DY(e)||RY(e,t)||$Y(e,t)||EY()}function EY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Y(e,t){if(e){if(typeof e=="string")return B2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B2(e,t)}}function B2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function RY(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}function DY(e){if(Array.isArray(e))return e}function Dm(){return Dm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dm.apply(this,arguments)}var LY=function(t,r){var n;return F.isValidElement(t)?n=F.cloneElement(t,r):Xe(t)?n=t(r):n=F.createElement("line",Dm({},r,{className:"recharts-reference-line-line"})),n},IY=function(t,r,n,a,o,i,s,l,u){var d=o.x,f=o.y,h=o.width,p=o.height;if(n){var m=u.y,x=t.y.apply(m,{position:i});if(Za(u,"discard")&&!t.y.isInRange(x))return null;var w=[{x:d+h,y:x},{x:d,y:x}];return l==="left"?w.reverse():w}if(r){var y=u.x,g=t.x.apply(y,{position:i});if(Za(u,"discard")&&!t.x.isInRange(g))return null;var v=[{x:g,y:f+p},{x:g,y:f}];return s==="top"?v.reverse():v}if(a){var j=u.segment,b=j.map(function(k){return t.apply(k,{position:i})});return Za(u,"discard")&&lK(b,function(k){return!t.isInRange(k)})?null:b}return null};function BY(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,o=e.yAxisId,i=e.shape,s=e.className,l=e.alwaysShow,u=xY(),d=CO(a),f=TO(o),h=kY();if(!u||!h)return null;yo(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=qv({x:d.scale,y:f.scale}),m=Ir(t),x=Ir(r),w=n&&n.length===2,y=IY(p,m,x,w,h,e.position,d.orientation,f.orientation,e);if(!y)return null;var g=TY(y,2),v=g[0],j=v.x,b=v.y,k=g[1],N=k.x,_=k.y,O=Za(e,"hidden")?"url(#".concat(u,")"):void 0,A=I2(I2({clipPath:O},Ve(e,!0)),{},{x1:j,y1:b,x2:N,y2:_});return F.createElement(xt,{className:ot("recharts-reference-line",s)},LY(i,A),rn.renderCallByParent(e,qK({x1:j,y1:b,x2:N,y2:_})))}var Ko=function(e){function t(){return SY(this,t),OY(this,t,arguments)}return AY(t,e),NY(t,[{key:"render",value:function(){return F.createElement(BY,this.props)}}])}(F.Component);tx(Ko,"displayName","ReferenceLine");tx(Ko,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Lm(){return Lm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lm.apply(this,arguments)}function cl(e){"@babel/helpers - typeof";return cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cl(e)}function F2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function z2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F2(Object(r),!0).forEach(function(n){g0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DO(n.key),n)}}function UY(e,t,r){return t&&zY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function GY(e,t,r){return t=ah(t),WY(e,RO()?Reflect.construct(t,r||[],ah(e).constructor):t.apply(e,r))}function WY(e,t){if(t&&(cl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HY(e)}function HY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RO=function(){return!!e})()}function ah(e){return ah=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ah(e)}function VY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Im(e,t)}function Im(e,t){return Im=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Im(e,t)}function g0(e,t,r){return t=DO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DO(e){var t=XY(e,"string");return cl(t)=="symbol"?t:t+""}function XY(e,t){if(cl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var KY=function(t){var r=t.x,n=t.y,a=t.xAxis,o=t.yAxis,i=qv({x:a.scale,y:o.scale}),s=i.apply({x:r,y:n},{bandAware:!0});return Za(t,"discard")&&!i.isInRange(s)?null:s},Fu=function(e){function t(){return FY(this,t),GY(this,t,arguments)}return VY(t,e),UY(t,[{key:"render",value:function(){var n=this.props,a=n.x,o=n.y,i=n.r,s=n.alwaysShow,l=n.clipPathId,u=Ir(a),d=Ir(o);if(yo(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=KY(this.props);if(!f)return null;var h=f.x,p=f.y,m=this.props,x=m.shape,w=m.className,y=Za(this.props,"hidden")?"url(#".concat(l,")"):void 0,g=z2(z2({clipPath:y},Ve(this.props,!0)),{},{cx:h,cy:p});return F.createElement(xt,{className:ot("recharts-reference-dot",w)},t.renderDot(x,g),rn.renderCallByParent(this.props,{x:h-i,y:p-i,width:2*i,height:2*i}))}}])}(F.Component);g0(Fu,"displayName","ReferenceDot");g0(Fu,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});g0(Fu,"renderDot",function(e,t){var r;return F.isValidElement(e)?r=F.cloneElement(e,t):Xe(e)?r=e(t):r=F.createElement(f0,Lm({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Bm(){return Bm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bm.apply(this,arguments)}function ul(e){"@babel/helpers - typeof";return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ul(e)}function U2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function G2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U2(Object(r),!0).forEach(function(n){m0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IO(n.key),n)}}function ZY(e,t,r){return t&&qY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function QY(e,t,r){return t=oh(t),JY(e,LO()?Reflect.construct(t,r||[],oh(e).constructor):t.apply(e,r))}function JY(e,t){if(t&&(ul(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eq(e)}function eq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LO=function(){return!!e})()}function oh(e){return oh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},oh(e)}function tq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fm(e,t)}function Fm(e,t){return Fm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Fm(e,t)}function m0(e,t,r){return t=IO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IO(e){var t=rq(e,"string");return ul(t)=="symbol"?t:t+""}function rq(e,t){if(ul(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ul(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var nq=function(t,r,n,a,o){var i=o.x1,s=o.x2,l=o.y1,u=o.y2,d=o.xAxis,f=o.yAxis;if(!d||!f)return null;var h=qv({x:d.scale,y:f.scale}),p={x:t?h.x.apply(i,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:r?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Za(o,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:SO(p,m)},zu=function(e){function t(){return YY(this,t),QY(this,t,arguments)}return tq(t,e),ZY(t,[{key:"render",value:function(){var n=this.props,a=n.x1,o=n.x2,i=n.y1,s=n.y2,l=n.className,u=n.alwaysShow,d=n.clipPathId;yo(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Ir(a),h=Ir(o),p=Ir(i),m=Ir(s),x=this.props.shape;if(!f&&!h&&!p&&!m&&!x)return null;var w=nq(f,h,p,m,this.props);if(!w&&!x)return null;var y=Za(this.props,"hidden")?"url(#".concat(d,")"):void 0;return F.createElement(xt,{className:ot("recharts-reference-area",l)},t.renderRect(x,G2(G2({clipPath:y},Ve(this.props,!0)),w)),rn.renderCallByParent(this.props,w))}}])}(F.Component);m0(zu,"displayName","ReferenceArea");m0(zu,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});m0(zu,"renderRect",function(e,t){var r;return F.isValidElement(e)?r=F.cloneElement(e,t):Xe(e)?r=e(t):r=F.createElement(Kv,Bm({},t,{className:"recharts-reference-area-rect"})),r});function BO(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function aq(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return QK(n,r)}function oq(e,t,r){var n=r==="width",a=e.x,o=e.y,i=e.width,s=e.height;return t===1?{start:n?a:o,end:n?a+i:o+s}:{start:n?a+i:o+s,end:n?a:o}}function ih(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var o=r();return e*(t-e*o/2-n)>=0&&e*(t+e*o/2-a)<=0}function iq(e,t){return BO(e,t+1)}function sq(e,t,r,n,a){for(var o=(n||[]).slice(),i=t.start,s=t.end,l=0,u=1,d=i,f=function(){var m=n==null?void 0:n[l];if(m===void 0)return{v:BO(n,u)};var x=l,w,y=function(){return w===void 0&&(w=r(m,x)),w},g=m.coordinate,v=l===0||ih(e,g,y,d,s);v||(l=0,d=i,u+=1),v&&(d=g+e*(y()/2+a),l+=u)},h;u<=o.length;)if(h=f(),h)return h.v;return[]}function Su(e){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Su(e)}function W2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W2(Object(r),!0).forEach(function(n){lq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lq(e,t,r){return t=cq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cq(e){var t=uq(e,"string");return Su(t)=="symbol"?t:t+""}function uq(e,t){if(Su(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fq(e,t,r,n,a){for(var o=(n||[]).slice(),i=o.length,s=t.start,l=t.end,u=function(h){var p=o[h],m,x=function(){return m===void 0&&(m=r(p,h)),m};if(h===i-1){var w=e*(p.coordinate+e*x()/2-l);o[h]=p=hn(hn({},p),{},{tickCoord:w>0?p.coordinate-w*e:p.coordinate})}else o[h]=p=hn(hn({},p),{},{tickCoord:p.coordinate});var y=ih(e,p.tickCoord,x,s,l);y&&(l=p.tickCoord-e*(x()/2+a),o[h]=hn(hn({},p),{},{isShow:!0}))},d=i-1;d>=0;d--)u(d);return o}function dq(e,t,r,n,a,o){var i=(n||[]).slice(),s=i.length,l=t.start,u=t.end;if(o){var d=n[s-1],f=r(d,s-1),h=e*(d.coordinate+e*f/2-u);i[s-1]=d=hn(hn({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=ih(e,d.tickCoord,function(){return f},l,u);p&&(u=d.tickCoord-e*(f/2+a),i[s-1]=hn(hn({},d),{},{isShow:!0}))}for(var m=o?s-1:s,x=function(g){var v=i[g],j,b=function(){return j===void 0&&(j=r(v,g)),j};if(g===0){var k=e*(v.coordinate-e*b()/2-l);i[g]=v=hn(hn({},v),{},{tickCoord:k<0?v.coordinate-k*e:v.coordinate})}else i[g]=v=hn(hn({},v),{},{tickCoord:v.coordinate});var N=ih(e,v.tickCoord,b,l,u);N&&(l=v.tickCoord+e*(b()/2+a),i[g]=hn(hn({},v),{},{isShow:!0}))},w=0;w<m;w++)x(w);return i}function rx(e,t,r){var n=e.tick,a=e.ticks,o=e.viewBox,i=e.minTickGap,s=e.orientation,l=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(fe(l)||hi.isSsr)return iq(a,typeof l=="number"&&fe(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",m=d&&p==="width"?bc(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=function(v,j){var b=Xe(u)?u(v.value,j):v.value;return p==="width"?aq(bc(b,{fontSize:t,letterSpacing:r}),m,f):bc(b,{fontSize:t,letterSpacing:r})[p]},w=a.length>=2?Ca(a[1].coordinate-a[0].coordinate):1,y=oq(o,w,p);return l==="equidistantPreserveStart"?sq(w,y,x,a,i):(l==="preserveStart"||l==="preserveStartEnd"?h=dq(w,y,x,a,i,l==="preserveStartEnd"):h=fq(w,y,x,a,i),h.filter(function(g){return g.isShow}))}var hq=["viewBox"],pq=["viewBox"],gq=["ticks"];function fl(e){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fl(e)}function Ms(){return Ms=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ms.apply(this,arguments)}function H2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H2(Object(r),!0).forEach(function(n){nx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _p(e,t){if(e==null)return{};var r=mq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zO(n.key),n)}}function vq(e,t,r){return t&&V2(e.prototype,t),r&&V2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function xq(e,t,r){return t=sh(t),bq(e,FO()?Reflect.construct(t,r||[],sh(e).constructor):t.apply(e,r))}function bq(e,t){if(t&&(fl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wq(e)}function wq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FO=function(){return!!e})()}function sh(e){return sh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sh(e)}function kq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zm(e,t)}function zm(e,t){return zm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zm(e,t)}function nx(e,t,r){return t=zO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zO(e){var t=jq(e,"string");return fl(t)=="symbol"?t:t+""}function jq(e,t){if(fl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Dl=function(e){function t(r){var n;return yq(this,t),n=xq(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return kq(t,e),vq(t,[{key:"shouldComponentUpdate",value:function(n,a){var o=n.viewBox,i=_p(n,hq),s=this.props,l=s.viewBox,u=_p(s,pq);return!Ls(o,l)||!Ls(i,u)||!Ls(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,o=a.x,i=a.y,s=a.width,l=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,p,m,x,w,y,g,v=f?-1:1,j=n.tickSize||d,b=fe(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=m=n.coordinate,w=i+ +!f*l,x=w-v*j,g=x-v*h,y=b;break;case"left":x=w=n.coordinate,m=o+ +!f*s,p=m-v*j,y=p-v*h,g=b;break;case"right":x=w=n.coordinate,m=o+ +f*s,p=m+v*j,y=p+v*h,g=b;break;default:p=m=n.coordinate,w=i+ +f*l,x=w+v*j,g=x+v*h,y=b;break}return{line:{x1:p,y1:x,x2:m,y2:w},tick:{x:y,y:g}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,o=n.mirror,i;switch(a){case"left":i=o?"start":"end";break;case"right":i=o?"end":"start";break;default:i="middle";break}return i}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,o=n.mirror,i="end";switch(a){case"left":case"right":i="middle";break;case"top":i=o?"start":"end";break;default:i=o?"end":"start";break}return i}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.orientation,u=n.mirror,d=n.axisLine,f=$r($r($r({},Ve(this.props,!1)),Ve(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=$r($r({},f),{},{x1:a,y1:o+h*s,x2:a+i,y2:o+h*s})}else{var p=+(l==="left"&&!u||l==="right"&&u);f=$r($r({},f),{},{x1:a+p*i,y1:o,x2:a+p*i,y2:o+s})}return F.createElement("line",Ms({},f,{className:ot("recharts-cartesian-axis-line",ha(d,"className"))}))}},{key:"renderTicks",value:function(n,a,o){var i=this,s=this.props,l=s.tickLine,u=s.stroke,d=s.tick,f=s.tickFormatter,h=s.unit,p=rx($r($r({},this.props),{},{ticks:n}),a,o),m=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),w=Ve(this.props,!1),y=Ve(d,!1),g=$r($r({},w),{},{fill:"none"},Ve(l,!1)),v=p.map(function(j,b){var k=i.getTickLineCoord(j),N=k.line,_=k.tick,O=$r($r($r($r({textAnchor:m,verticalAnchor:x},w),{},{stroke:"none",fill:u},y),_),{},{index:b,payload:j,visibleTicksCount:p.length,tickFormatter:f});return F.createElement(xt,Ms({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},Hc(i.props,j,b)),l&&F.createElement("line",Ms({},g,N,{className:ot("recharts-cartesian-axis-tick-line",ha(l,"className"))})),d&&t.renderTickItem(d,O,"".concat(Xe(f)?f(j.value,b):j.value).concat(h||"")))});return F.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var n=this,a=this.props,o=a.axisLine,i=a.width,s=a.height,l=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,p=_p(f,gq),m=h;return Xe(l)&&(m=h&&h.length>0?l(this.props):l(p)),i<=0||s<=0||!m||!m.length?null:F.createElement(xt,{className:ot("recharts-cartesian-axis",u),ref:function(w){n.layerReference=w}},o&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),rn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,o){var i,s=ot(a.className,"recharts-cartesian-axis-tick-value");return F.isValidElement(n)?i=F.cloneElement(n,$r($r({},a),{},{className:s})):Xe(n)?i=n($r($r({},a),{},{className:s})):i=F.createElement(Od,Ms({},a,{className:"recharts-cartesian-axis-tick-value"}),o),i}}])}(S.Component);nx(Dl,"displayName","CartesianAxis");nx(Dl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Sq=["x1","y1","x2","y2","key"],_q=["offset"];function Qi(e){"@babel/helpers - typeof";return Qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qi(e)}function X2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X2(Object(r),!0).forEach(function(n){Nq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nq(e,t,r){return t=Oq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oq(e){var t=Pq(e,"string");return Qi(t)=="symbol"?t:t+""}function Pq(e,t){if(Qi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ri(){return Ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ri.apply(this,arguments)}function K2(e,t){if(e==null)return{};var r=Mq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Mq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Aq=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,o=t.y,i=t.width,s=t.height,l=t.ry;return F.createElement("rect",{x:a,y:o,ry:l,width:i,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function UO(e,t){var r;if(F.isValidElement(e))r=F.cloneElement(e,t);else if(Xe(e))r=e(t);else{var n=t.x1,a=t.y1,o=t.x2,i=t.y2,s=t.key,l=K2(t,Sq),u=Ve(l,!1);u.offset;var d=K2(u,_q);r=F.createElement("line",Ri({},d,{x1:n,y1:a,x2:o,y2:i,fill:"none",key:s}))}return r}function Cq(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,o=e.horizontalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(s,l){var u=gn(gn({},e),{},{x1:t,y1:s,x2:t+r,y2:s,key:"line-".concat(l),index:l});return UO(a,u)});return F.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function Tq(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,o=e.verticalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(s,l){var u=gn(gn({},e),{},{x1:s,y1:t,x2:s,y2:t+r,key:"line-".concat(l),index:l});return UO(a,u)});return F.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function Eq(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,o=e.width,i=e.height,s=e.horizontalPoints,l=e.horizontal,u=l===void 0?!0:l;if(!u||!t||!t.length)return null;var d=s.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],x=m?a+i-h:d[p+1]-h;if(x<=0)return null;var w=p%t.length;return F.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:x,width:o,stroke:"none",fill:t[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return F.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function $q(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,o=e.x,i=e.y,s=e.width,l=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+o-o)}).sort(function(h,p){return h-p});o!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],x=m?o+s-h:d[p+1]-h;if(x<=0)return null;var w=p%n.length;return F.createElement("rect",{key:"react-".concat(p),x:h,y:i,width:x,height:l,stroke:"none",fill:n[w],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return F.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Rq=function(t,r){var n=t.xAxis,a=t.width,o=t.height,i=t.offset;return QN(rx(gn(gn(gn({},Dl.defaultProps),n),{},{ticks:po(n,!0),viewBox:{x:0,y:0,width:a,height:o}})),i.left,i.left+i.width,r)},Dq=function(t,r){var n=t.yAxis,a=t.width,o=t.height,i=t.offset;return QN(rx(gn(gn(gn({},Dl.defaultProps),n),{},{ticks:po(n,!0),viewBox:{x:0,y:0,width:a,height:o}})),i.top,i.top+i.height,r)},ps={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Qa(e){var t,r,n,a,o,i,s=Jv(),l=ex(),u=jY(),d=gn(gn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:ps.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:ps.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:ps.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:ps.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:ps.vertical,verticalFill:(i=e.verticalFill)!==null&&i!==void 0?i:ps.verticalFill,x:fe(e.x)?e.x:u.left,y:fe(e.y)?e.y:u.top,width:fe(e.width)?e.width:u.width,height:fe(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,m=d.height,x=d.syncWithTicks,w=d.horizontalValues,y=d.verticalValues,g=bY(),v=wY();if(!fe(p)||p<=0||!fe(m)||m<=0||!fe(f)||f!==+f||!fe(h)||h!==+h)return null;var j=d.verticalCoordinatesGenerator||Rq,b=d.horizontalCoordinatesGenerator||Dq,k=d.horizontalPoints,N=d.verticalPoints;if((!k||!k.length)&&Xe(b)){var _=w&&w.length,O=b({yAxis:v?gn(gn({},v),{},{ticks:_?w:v.ticks}):void 0,width:s,height:l,offset:u},_?!0:x);yo(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Qi(O),"]")),Array.isArray(O)&&(k=O)}if((!N||!N.length)&&Xe(j)){var A=y&&y.length,T=j({xAxis:g?gn(gn({},g),{},{ticks:A?y:g.ticks}):void 0,width:s,height:l,offset:u},A?!0:x);yo(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Qi(T),"]")),Array.isArray(T)&&(N=T)}return F.createElement("g",{className:"recharts-cartesian-grid"},F.createElement(Aq,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),F.createElement(Cq,Ri({},d,{offset:u,horizontalPoints:k,xAxis:g,yAxis:v})),F.createElement(Tq,Ri({},d,{offset:u,verticalPoints:N,xAxis:g,yAxis:v})),F.createElement(Eq,Ri({},d,{horizontalPoints:k})),F.createElement($q,Ri({},d,{verticalPoints:N})))}Qa.displayName="CartesianGrid";var Lq=["type","layout","connectNulls","ref"],Iq=["key"];function dl(e){"@babel/helpers - typeof";return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dl(e)}function Y2(e,t){if(e==null)return{};var r=Bq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Bq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Sc(){return Sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sc.apply(this,arguments)}function q2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q2(Object(r),!0).forEach(function(n){Pa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gs(e){return Gq(e)||Uq(e)||zq(e)||Fq()}function Fq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zq(e,t){if(e){if(typeof e=="string")return Um(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Um(e,t)}}function Uq(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Gq(e){if(Array.isArray(e))return Um(e)}function Um(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WO(n.key),n)}}function Hq(e,t,r){return t&&Z2(e.prototype,t),r&&Z2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vq(e,t,r){return t=lh(t),Xq(e,GO()?Reflect.construct(t,r||[],lh(e).constructor):t.apply(e,r))}function Xq(e,t){if(t&&(dl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kq(e)}function Kq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GO=function(){return!!e})()}function lh(e){return lh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lh(e)}function Yq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gm(e,t)}function Gm(e,t){return Gm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Gm(e,t)}function Pa(e,t,r){return t=WO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WO(e){var t=qq(e,"string");return dl(t)=="symbol"?t:t+""}function qq(e,t){if(dl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Pr=function(e){function t(){var r;Wq(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=Vq(this,t,[].concat(a)),Pa(r,"state",{isAnimationFinished:!0,totalLength:0}),Pa(r,"generateSimpleStrokeDasharray",function(i,s){return"".concat(s,"px ").concat(i-s,"px")}),Pa(r,"getStrokeDasharray",function(i,s,l){var u=l.reduce(function(y,g){return y+g});if(!u)return r.generateSimpleStrokeDasharray(s,i);for(var d=Math.floor(i/u),f=i%u,h=s-i,p=[],m=0,x=0;m<l.length;x+=l[m],++m)if(x+l[m]>f){p=[].concat(gs(l.slice(0,m)),[f-x]);break}var w=p.length%2===0?[0,h]:[h];return[].concat(gs(t.repeat(l,d)),gs(p),w).map(function(y){return"".concat(y,"px")}).join(", ")}),Pa(r,"id",ns("recharts-line-")),Pa(r,"pathRef",function(i){r.mainCurve=i}),Pa(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Pa(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Yq(t,e),Hq(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.points,s=o.xAxis,l=o.yAxis,u=o.layout,d=o.children,f=Fn(d,Rl);if(!f)return null;var h=function(x,w){return{x:x.x,y:x.y,value:x.value,errorVal:Br(x.payload,w)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return F.createElement(xt,p,f.map(function(m){return F.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:i,xAxis:s,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,o){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,d=s.dataKey,f=Ve(this.props,!1),h=Ve(l,!0),p=u.map(function(x,w){var y=Vn(Vn(Vn({key:"dot-".concat(w),r:3},f),h),{},{index:w,cx:x.x,cy:x.y,value:x.value,dataKey:d,payload:x.payload,points:u});return t.renderDotItem(l,y)}),m={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return F.createElement(xt,Sc({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(n,a,o,i){var s=this.props,l=s.type,u=s.layout,d=s.connectNulls;s.ref;var f=Y2(s,Lq),h=Vn(Vn(Vn({},Ve(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(o,")"):null,points:n},i),{},{type:l,layout:u,connectNulls:d});return F.createElement(zi,Sc({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var o=this,i=this.props,s=i.points,l=i.strokeDasharray,u=i.isAnimationActive,d=i.animationBegin,f=i.animationDuration,h=i.animationEasing,p=i.animationId,m=i.animateNewValues,x=i.width,w=i.height,y=this.state,g=y.prevPoints,v=y.totalLength;return F.createElement(Ra,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var b=j.t;if(g){var k=g.length/s.length,N=s.map(function(M,C){var I=Math.floor(C*k);if(g[I]){var D=g[I],U=kr(D.x,M.x),P=kr(D.y,M.y);return Vn(Vn({},M),{},{x:U(b),y:P(b)})}if(m){var E=kr(x*2,M.x),B=kr(w/2,M.y);return Vn(Vn({},M),{},{x:E(b),y:B(b)})}return Vn(Vn({},M),{},{x:M.x,y:M.y})});return o.renderCurveStatically(N,n,a)}var _=kr(0,v),O=_(b),A;if(l){var T="".concat(l).split(/[,\s]+/gim).map(function(M){return parseFloat(M)});A=o.getStrokeDasharray(O,v,T)}else A=o.generateSimpleStrokeDasharray(v,O);return o.renderCurveStatically(s,n,a,{strokeDasharray:A})})}},{key:"renderCurve",value:function(n,a){var o=this.props,i=o.points,s=o.isAnimationActive,l=this.state,u=l.prevPoints,d=l.totalLength;return s&&i&&i.length&&(!u&&d>0||!Yi(u,i))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(i,n,a)}},{key:"render",value:function(){var n,a=this.props,o=a.hide,i=a.dot,s=a.points,l=a.className,u=a.xAxis,d=a.yAxis,f=a.top,h=a.left,p=a.width,m=a.height,x=a.isAnimationActive,w=a.id;if(o||!s||!s.length)return null;var y=this.state.isAnimationFinished,g=s.length===1,v=ot("recharts-line",l),j=u&&u.allowDataOverflow,b=d&&d.allowDataOverflow,k=j||b,N=We(w)?this.id:w,_=(n=Ve(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},O=_.r,A=O===void 0?3:O,T=_.strokeWidth,M=T===void 0?2:T,C=VS(i)?i:{},I=C.clipDot,D=I===void 0?!0:I,U=A*2+M;return F.createElement(xt,{className:v},j||b?F.createElement("defs",null,F.createElement("clipPath",{id:"clipPath-".concat(N)},F.createElement("rect",{x:j?h:h-p/2,y:b?f:f-m/2,width:j?p:p*2,height:b?m:m*2})),!D&&F.createElement("clipPath",{id:"clipPath-dots-".concat(N)},F.createElement("rect",{x:h-U/2,y:f-U/2,width:p+U,height:m+U}))):null,!g&&this.renderCurve(k,N),this.renderErrorBar(k,N),(g||i)&&this.renderDots(k,D,N),(!x||y)&&qa.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var o=n.length%2!==0?[].concat(gs(n),[0]):n,i=[],s=0;s<a;++s)i=[].concat(gs(i),gs(o));return i}},{key:"renderDotItem",value:function(n,a){var o;if(F.isValidElement(n))o=F.cloneElement(n,a);else if(Xe(n))o=n(a);else{var i=a.key,s=Y2(a,Iq),l=ot("recharts-line-dot",typeof n!="boolean"?n.className:"");o=F.createElement(f0,Sc({key:i},s,{className:l}))}return o}}])}(S.PureComponent);Pa(Pr,"displayName","Line");Pa(Pr,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!hi.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Pa(Pr,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,i=e.dataKey,s=e.bandSize,l=e.displayedData,u=e.offset,d=t.layout,f=l.map(function(h,p){var m=Br(h,i);return d==="horizontal"?{x:nl({axis:r,ticks:a,bandSize:s,entry:h,index:p}),y:We(m)?null:n.scale(m),value:m,payload:h}:{x:We(m)?null:r.scale(m),y:nl({axis:n,ticks:o,bandSize:s,entry:h,index:p}),value:m,payload:h}});return Vn({points:f,layout:d},u)});var Zq=["layout","type","stroke","connectNulls","isRange","ref"],Qq=["key"],HO;function hl(e){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hl(e)}function VO(e,t){if(e==null)return{};var r=Jq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Jq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Di(){return Di=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Di.apply(this,arguments)}function Q2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q2(Object(r),!0).forEach(function(n){Ha(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KO(n.key),n)}}function tZ(e,t,r){return t&&J2(e.prototype,t),r&&J2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function rZ(e,t,r){return t=ch(t),nZ(e,XO()?Reflect.construct(t,r||[],ch(e).constructor):t.apply(e,r))}function nZ(e,t){if(t&&(hl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aZ(e)}function aZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XO=function(){return!!e})()}function ch(e){return ch=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ch(e)}function oZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wm(e,t)}function Wm(e,t){return Wm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Wm(e,t)}function Ha(e,t,r){return t=KO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KO(e){var t=iZ(e,"string");return hl(t)=="symbol"?t:t+""}function iZ(e,t){if(hl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fa=function(e){function t(){var r;eZ(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=rZ(this,t,[].concat(a)),Ha(r,"state",{isAnimationFinished:!0}),Ha(r,"id",ns("recharts-area-")),Ha(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Xe(i)&&i()}),Ha(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Xe(i)&&i()}),r}return oZ(t,e),tZ(t,[{key:"renderDots",value:function(n,a,o){var i=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(i&&!s)return null;var l=this.props,u=l.dot,d=l.points,f=l.dataKey,h=Ve(this.props,!1),p=Ve(u,!0),m=d.map(function(w,y){var g=Lo(Lo(Lo({key:"dot-".concat(y),r:3},h),p),{},{index:y,cx:w.x,cy:w.y,dataKey:f,value:w.value,payload:w.payload,points:d});return t.renderDotItem(u,g)}),x={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return F.createElement(xt,Di({className:"recharts-area-dots"},x),m)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,o=a.baseLine,i=a.points,s=a.strokeWidth,l=i[0].x,u=i[i.length-1].x,d=n*Math.abs(l-u),f=Vo(i.map(function(h){return h.y||0}));return fe(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(Vo(o.map(function(h){return h.y||0})),f)),fe(f)?F.createElement("rect",{x:l<u?l:l-d,y:0,width:d,height:Math.floor(f+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,o=a.baseLine,i=a.points,s=a.strokeWidth,l=i[0].y,u=i[i.length-1].y,d=n*Math.abs(l-u),f=Vo(i.map(function(h){return h.x||0}));return fe(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(Vo(o.map(function(h){return h.x||0})),f)),fe(f)?F.createElement("rect",{x:0,y:l<u?l:l-d,width:f+(s?parseInt("".concat(s),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,o,i){var s=this.props,l=s.layout,u=s.type,d=s.stroke,f=s.connectNulls,h=s.isRange;s.ref;var p=VO(s,Zq);return F.createElement(xt,{clipPath:o?"url(#clipPath-".concat(i,")"):null},F.createElement(zi,Di({},Ve(p,!0),{points:n,connectNulls:f,type:u,baseLine:a,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&F.createElement(zi,Di({},Ve(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&F.createElement(zi,Di({},Ve(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var o=this,i=this.props,s=i.points,l=i.baseLine,u=i.isAnimationActive,d=i.animationBegin,f=i.animationDuration,h=i.animationEasing,p=i.animationId,m=this.state,x=m.prevPoints,w=m.prevBaseLine;return F.createElement(Ra,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var g=y.t;if(x){var v=x.length/s.length,j=s.map(function(_,O){var A=Math.floor(O*v);if(x[A]){var T=x[A],M=kr(T.x,_.x),C=kr(T.y,_.y);return Lo(Lo({},_),{},{x:M(g),y:C(g)})}return _}),b;if(fe(l)&&typeof l=="number"){var k=kr(w,l);b=k(g)}else if(We(l)||Pl(l)){var N=kr(w,0);b=N(g)}else b=l.map(function(_,O){var A=Math.floor(O*v);if(w[A]){var T=w[A],M=kr(T.x,_.x),C=kr(T.y,_.y);return Lo(Lo({},_),{},{x:M(g),y:C(g)})}return _});return o.renderAreaStatically(j,b,n,a)}return F.createElement(xt,null,F.createElement("defs",null,F.createElement("clipPath",{id:"animationClipPath-".concat(a)},o.renderClipRect(g))),F.createElement(xt,{clipPath:"url(#animationClipPath-".concat(a,")")},o.renderAreaStatically(s,l,n,a)))})}},{key:"renderArea",value:function(n,a){var o=this.props,i=o.points,s=o.baseLine,l=o.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return l&&i&&i.length&&(!d&&h>0||!Yi(d,i)||!Yi(f,s))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(i,s,n,a)}},{key:"render",value:function(){var n,a=this.props,o=a.hide,i=a.dot,s=a.points,l=a.className,u=a.top,d=a.left,f=a.xAxis,h=a.yAxis,p=a.width,m=a.height,x=a.isAnimationActive,w=a.id;if(o||!s||!s.length)return null;var y=this.state.isAnimationFinished,g=s.length===1,v=ot("recharts-area",l),j=f&&f.allowDataOverflow,b=h&&h.allowDataOverflow,k=j||b,N=We(w)?this.id:w,_=(n=Ve(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},O=_.r,A=O===void 0?3:O,T=_.strokeWidth,M=T===void 0?2:T,C=VS(i)?i:{},I=C.clipDot,D=I===void 0?!0:I,U=A*2+M;return F.createElement(xt,{className:v},j||b?F.createElement("defs",null,F.createElement("clipPath",{id:"clipPath-".concat(N)},F.createElement("rect",{x:j?d:d-p/2,y:b?u:u-m/2,width:j?p:p*2,height:b?m:m*2})),!D&&F.createElement("clipPath",{id:"clipPath-dots-".concat(N)},F.createElement("rect",{x:d-U/2,y:u-U/2,width:p+U,height:m+U}))):null,g?null:this.renderArea(k,N),(i||g)&&this.renderDots(k,D,N),(!x||y)&&qa.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(S.PureComponent);HO=fa;Ha(fa,"displayName","Area");Ha(fa,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!hi.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Ha(fa,"getBaseValue",function(e,t,r,n){var a=e.layout,o=e.baseValue,i=t.props.baseValue,s=i??o;if(fe(s)&&typeof s=="number")return s;var l=a==="horizontal"?n:r,u=l.scale.domain();if(l.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return s==="dataMin"?f:s==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]});Ha(fa,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,o=e.xAxisTicks,i=e.yAxisTicks,s=e.bandSize,l=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=t.layout,m=u&&u.length,x=HO.getBaseValue(t,r,n,a),w=p==="horizontal",y=!1,g=f.map(function(j,b){var k;m?k=u[d+b]:(k=Br(j,l),Array.isArray(k)?y=!0:k=[x,k]);var N=k[1]==null||m&&Br(j,l)==null;return w?{x:nl({axis:n,ticks:o,bandSize:s,entry:j,index:b}),y:N?null:a.scale(k[1]),value:k,payload:j}:{x:N?null:n.scale(k[1]),y:nl({axis:a,ticks:i,bandSize:s,entry:j,index:b}),value:k,payload:j}}),v;return m||y?v=g.map(function(j){var b=Array.isArray(j.value)?j.value[0]:null;return w?{x:j.x,y:b!=null&&j.y!=null?a.scale(b):null}:{x:b!=null?n.scale(b):null,y:j.y}}):v=w?a.scale(x):n.scale(x),Lo({points:g,baseLine:v,layout:p,isRange:y},h)});Ha(fa,"renderDotItem",function(e,t){var r;if(F.isValidElement(e))r=F.cloneElement(e,t);else if(Xe(e))r=e(t);else{var n=ot("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,o=VO(t,Qq);r=F.createElement(f0,Di({},o,{key:a,className:n}))}return r});function pl(e){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pl(e)}function sZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZO(n.key),n)}}function cZ(e,t,r){return t&&lZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uZ(e,t,r){return t=uh(t),fZ(e,YO()?Reflect.construct(t,r||[],uh(e).constructor):t.apply(e,r))}function fZ(e,t){if(t&&(pl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dZ(e)}function dZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YO=function(){return!!e})()}function uh(e){return uh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uh(e)}function hZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hm(e,t)}function Hm(e,t){return Hm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Hm(e,t)}function qO(e,t,r){return t=ZO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZO(e){var t=pZ(e,"string");return pl(t)=="symbol"?t:t+""}function pZ(e,t){if(pl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var y0=function(e){function t(){return sZ(this,t),uZ(this,t,arguments)}return hZ(t,e),cZ(t,[{key:"render",value:function(){return null}}])}(S.Component);qO(y0,"displayName","ZAxis");qO(y0,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var gZ=["option","isActive"];function _c(){return _c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_c.apply(this,arguments)}function mZ(e,t){if(e==null)return{};var r=yZ(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function vZ(e){var t=e.option,r=e.isActive,n=mZ(e,gZ);return typeof t=="string"?S.createElement(Cm,_c({option:S.createElement(Qh,_c({type:t},n)),isActive:r,shapeType:"symbols"},n)):S.createElement(Cm,_c({option:t,isActive:r,shapeType:"symbols"},n))}function gl(e){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gl(e)}function Nc(){return Nc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nc.apply(this,arguments)}function ek(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ia(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ek(Object(r),!0).forEach(function(n){Yo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ek(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JO(n.key),n)}}function bZ(e,t,r){return t&&tk(e.prototype,t),r&&tk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wZ(e,t,r){return t=fh(t),kZ(e,QO()?Reflect.construct(t,r||[],fh(e).constructor):t.apply(e,r))}function kZ(e,t){if(t&&(gl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jZ(e)}function jZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QO=function(){return!!e})()}function fh(e){return fh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fh(e)}function SZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vm(e,t)}function Vm(e,t){return Vm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Vm(e,t)}function Yo(e,t,r){return t=JO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JO(e){var t=_Z(e,"string");return gl(t)=="symbol"?t:t+""}function _Z(e,t){if(gl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Nn=function(e){function t(){var r;xZ(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=wZ(this,t,[].concat(a)),Yo(r,"state",{isAnimationFinished:!1}),Yo(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),Yo(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),Yo(r,"id",ns("recharts-scatter-")),r}return SZ(t,e),bZ(t,[{key:"renderSymbolsStatically",value:function(n){var a=this,o=this.props,i=o.shape,s=o.activeShape,l=o.activeIndex,u=Ve(this.props,!1);return n.map(function(d,f){var h=l===f,p=h?s:i,m=ia(ia({},u),d);return F.createElement(xt,Nc({className:"recharts-scatter-symbol",key:"symbol-".concat(d==null?void 0:d.cx,"-").concat(d==null?void 0:d.cy,"-").concat(d==null?void 0:d.size,"-").concat(f)},Hc(a.props,d,f),{role:"img"}),F.createElement(vZ,Nc({option:p,isActive:h,key:"symbol-".concat(f)},m)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,a=this.props,o=a.points,i=a.isAnimationActive,s=a.animationBegin,l=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state.prevPoints;return F.createElement(Ra,{begin:s,duration:l,isActive:i,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var p=h.t,m=o.map(function(x,w){var y=f&&f[w];if(y){var g=kr(y.cx,x.cx),v=kr(y.cy,x.cy),j=kr(y.size,x.size);return ia(ia({},x),{},{cx:g(p),cy:v(p),size:j(p)})}var b=kr(0,x.size);return ia(ia({},x),{},{size:b(p)})});return F.createElement(xt,null,n.renderSymbolsStatically(m))})}},{key:"renderSymbols",value:function(){var n=this.props,a=n.points,o=n.isAnimationActive,i=this.state.prevPoints;return o&&a&&a.length&&(!i||!Yi(i,a))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(a)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,i=a.xAxis,s=a.yAxis,l=a.children,u=Fn(l,Rl);return u?u.map(function(d,f){var h=d.props,p=h.direction,m=h.dataKey;return F.cloneElement(d,{key:"".concat(p,"-").concat(m,"-").concat(o[f]),data:o,xAxis:i,yAxis:s,layout:p==="x"?"vertical":"horizontal",dataPointFormatter:function(w,y){return{x:w.cx,y:w.cy,value:p==="x"?+w.node.x:+w.node.y,errorVal:Br(w,y)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,a=n.points,o=n.line,i=n.lineType,s=n.lineJointType,l=Ve(this.props,!1),u=Ve(o,!1),d,f;if(i==="joint")d=a.map(function(v){return{x:v.cx,y:v.cy}});else if(i==="fitting"){var h=JE(a),p=h.xmin,m=h.xmax,x=h.a,w=h.b,y=function(j){return x*j+w};d=[{x:p,y:y(p)},{x:m,y:y(m)}]}var g=ia(ia(ia({},l),{},{fill:"none",stroke:l&&l.fill},u),{},{points:d});return F.isValidElement(o)?f=F.cloneElement(o,g):Xe(o)?f=o(g):f=F.createElement(zi,Nc({},g,{type:s})),F.createElement(xt,{className:"recharts-scatter-line",key:"recharts-scatter-line"},f)}},{key:"render",value:function(){var n=this.props,a=n.hide,o=n.points,i=n.line,s=n.className,l=n.xAxis,u=n.yAxis,d=n.left,f=n.top,h=n.width,p=n.height,m=n.id,x=n.isAnimationActive;if(a||!o||!o.length)return null;var w=this.state.isAnimationFinished,y=ot("recharts-scatter",s),g=l&&l.allowDataOverflow,v=u&&u.allowDataOverflow,j=g||v,b=We(m)?this.id:m;return F.createElement(xt,{className:y,clipPath:j?"url(#clipPath-".concat(b,")"):null},g||v?F.createElement("defs",null,F.createElement("clipPath",{id:"clipPath-".concat(b)},F.createElement("rect",{x:g?d:d-h/2,y:v?f:f-p/2,width:g?h:h*2,height:v?p:p*2}))):null,i&&this.renderLine(),this.renderErrorBar(),F.createElement(xt,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!x||w)&&qa.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}}])}(S.PureComponent);Yo(Nn,"displayName","Scatter");Yo(Nn,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!hi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});Yo(Nn,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,n=e.zAxis,a=e.item,o=e.displayedData,i=e.xAxisTicks,s=e.yAxisTicks,l=e.offset,u=a.props.tooltipType,d=Fn(a.props.children,kv),f=We(t.dataKey)?a.props.dataKey:t.dataKey,h=We(r.dataKey)?a.props.dataKey:r.dataKey,p=n&&n.dataKey,m=n?n.range:y0.defaultProps.range,x=m&&m[0],w=t.scale.bandwidth?t.scale.bandwidth():0,y=r.scale.bandwidth?r.scale.bandwidth():0,g=o.map(function(v,j){var b=Br(v,f),k=Br(v,h),N=!We(p)&&Br(v,p)||"-",_=[{name:We(t.dataKey)?a.props.name:t.name||t.dataKey,unit:t.unit||"",value:b,payload:v,dataKey:f,type:u},{name:We(r.dataKey)?a.props.name:r.name||r.dataKey,unit:r.unit||"",value:k,payload:v,dataKey:h,type:u}];N!=="-"&&_.push({name:n.name||n.dataKey,unit:n.unit||"",value:N,payload:v,dataKey:p,type:u});var O=nl({axis:t,ticks:i,bandSize:w,entry:v,index:j,dataKey:f}),A=nl({axis:r,ticks:s,bandSize:y,entry:v,index:j,dataKey:h}),T=N!=="-"?n.scale(N):x,M=Math.sqrt(Math.max(T,0)/Math.PI);return ia(ia({},v),{},{cx:O,cy:A,x:O-M,y:A-M,xAxis:t,yAxis:r,zAxis:n,width:2*M,height:2*M,size:T,node:{x:b,y:k,z:N},tooltipPayload:_,tooltipPosition:{x:O,y:A},payload:v},d&&d[j]&&d[j].props)});return ia({points:g},l)});function ml(e){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ml(e)}function NZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rP(n.key),n)}}function PZ(e,t,r){return t&&OZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function MZ(e,t,r){return t=dh(t),AZ(e,eP()?Reflect.construct(t,r||[],dh(e).constructor):t.apply(e,r))}function AZ(e,t){if(t&&(ml(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CZ(e)}function CZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eP=function(){return!!e})()}function dh(e){return dh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dh(e)}function TZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xm(e,t)}function Xm(e,t){return Xm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Xm(e,t)}function tP(e,t,r){return t=rP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rP(e){var t=EZ(e,"string");return ml(t)=="symbol"?t:t+""}function EZ(e,t){if(ml(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ml(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Km(){return Km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Km.apply(this,arguments)}function $Z(e){var t=e.xAxisId,r=Jv(),n=ex(),a=CO(t);return a==null?null:S.createElement(Dl,Km({},a,{className:ot("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(i){return po(i,!0)}}))}var zn=function(e){function t(){return NZ(this,t),MZ(this,t,arguments)}return TZ(t,e),PZ(t,[{key:"render",value:function(){return S.createElement($Z,this.props)}}])}(S.Component);tP(zn,"displayName","XAxis");tP(zn,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function yl(e){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yl(e)}function RZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oP(n.key),n)}}function LZ(e,t,r){return t&&DZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function IZ(e,t,r){return t=hh(t),BZ(e,nP()?Reflect.construct(t,r||[],hh(e).constructor):t.apply(e,r))}function BZ(e,t){if(t&&(yl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FZ(e)}function FZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nP=function(){return!!e})()}function hh(e){return hh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hh(e)}function zZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ym(e,t)}function Ym(e,t){return Ym=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ym(e,t)}function aP(e,t,r){return t=oP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oP(e){var t=UZ(e,"string");return yl(t)=="symbol"?t:t+""}function UZ(e,t){if(yl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function qm(){return qm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qm.apply(this,arguments)}var GZ=function(t){var r=t.yAxisId,n=Jv(),a=ex(),o=TO(r);return o==null?null:S.createElement(Dl,qm({},o,{className:ot("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(s){return po(s,!0)}}))},Un=function(e){function t(){return RZ(this,t),IZ(this,t,arguments)}return zZ(t,e),LZ(t,[{key:"render",value:function(){return S.createElement(GZ,this.props)}}])}(S.Component);aP(Un,"displayName","YAxis");aP(Un,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function rk(e){return XZ(e)||VZ(e)||HZ(e)||WZ()}function WZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HZ(e,t){if(e){if(typeof e=="string")return Zm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zm(e,t)}}function VZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function XZ(e){if(Array.isArray(e))return Zm(e)}function Zm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Qm=function(t,r,n,a,o){var i=Fn(t,Ko),s=Fn(t,Fu),l=[].concat(rk(i),rk(s)),u=Fn(t,zu),d="".concat(a,"Id"),f=a[0],h=r;if(l.length&&(h=l.reduce(function(x,w){if(w.props[d]===n&&Za(w.props,"extendDomain")&&fe(w.props[f])){var y=w.props[f];return[Math.min(x[0],y),Math.max(x[1],y)]}return x},h)),u.length){var p="".concat(f,"1"),m="".concat(f,"2");h=u.reduce(function(x,w){if(w.props[d]===n&&Za(w.props,"extendDomain")&&fe(w.props[p])&&fe(w.props[m])){var y=w.props[p],g=w.props[m];return[Math.min(x[0],y,g),Math.max(x[1],y,g)]}return x},h)}return o&&o.length&&(h=o.reduce(function(x,w){return fe(w)?[Math.min(x[0],w),Math.max(x[1],w)]:x},h)),h},iP={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function o(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||l,h),m=r?r+u:u;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function i(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},s.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},s.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,d,f,h,p,m){var x=r?r+u:u;if(!this._events[x])return!1;var w=this._events[x],y=arguments.length,g,v;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),y){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,d),!0;case 3:return w.fn.call(w.context,d,f),!0;case 4:return w.fn.call(w.context,d,f,h),!0;case 5:return w.fn.call(w.context,d,f,h,p),!0;case 6:return w.fn.call(w.context,d,f,h,p,m),!0}for(v=1,g=new Array(y-1);v<y;v++)g[v-1]=arguments[v];w.fn.apply(w.context,g)}else{var j=w.length,b;for(v=0;v<j;v++)switch(w[v].once&&this.removeListener(u,w[v].fn,void 0,!0),y){case 1:w[v].fn.call(w[v].context);break;case 2:w[v].fn.call(w[v].context,d);break;case 3:w[v].fn.call(w[v].context,d,f);break;case 4:w[v].fn.call(w[v].context,d,f,h);break;default:if(!g)for(b=1,g=new Array(y-1);b<y;b++)g[b-1]=arguments[b];w[v].fn.apply(w[v].context,g)}}return!0},s.prototype.on=function(u,d,f){return o(this,u,d,f,!1)},s.prototype.once=function(u,d,f){return o(this,u,d,f,!0)},s.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return i(this,p),this;var m=this._events[p];if(m.fn)m.fn===d&&(!h||m.once)&&(!f||m.context===f)&&i(this,p);else{for(var x=0,w=[],y=m.length;x<y;x++)(m[x].fn!==d||h&&!m[x].once||f&&m[x].context!==f)&&w.push(m[x]);w.length?this._events[p]=w.length===1?w[0]:w:i(this,p)}return this},s.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&i(this,d)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(iP);var KZ=iP.exports;const YZ=Ft(KZ);var Np=new YZ,Op="recharts.syncMouseEvents";function _u(e){"@babel/helpers - typeof";return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_u(e)}function qZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sP(n.key),n)}}function QZ(e,t,r){return t&&ZZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pp(e,t,r){return t=sP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sP(e){var t=JZ(e,"string");return _u(t)=="symbol"?t:t+""}function JZ(e,t){if(_u(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_u(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var eQ=function(){function e(){qZ(this,e),Pp(this,"activeIndex",0),Pp(this,"coordinateList",[]),Pp(this,"layout","horizontal")}return QZ(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,o=a===void 0?null:a,i=r.container,s=i===void 0?null:i,l=r.layout,u=l===void 0?null:l,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),o=a.x,i=a.y,s=a.height,l=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=o+l+u,h=i+this.offset.top+s/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function tQ(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&fe(n)&&fe(a))return!0}return!1}function rQ(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function lP(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,o=e.endAngle,i=nn(t,r,n,a),s=nn(t,r,n,o);return{points:[i,s],cx:t,cy:r,radius:n,startAngle:a,endAngle:o}}function nQ(e,t,r){var n,a,o,i;if(e==="horizontal")n=t.x,o=n,a=r.top,i=r.top+r.height;else if(e==="vertical")a=t.y,i=a,n=r.left,o=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=nn(s,l,u,f),p=nn(s,l,d,f);n=h.x,a=h.y,o=p.x,i=p.y}else return lP(t);return[{x:n,y:a},{x:o,y:i}]}function Nu(e){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nu(e)}function nk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nk(Object(r),!0).forEach(function(n){aQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aQ(e,t,r){return t=oQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oQ(e){var t=iQ(e,"string");return Nu(t)=="symbol"?t:t+""}function iQ(e,t){if(Nu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sQ(e){var t,r,n=e.element,a=e.tooltipEventType,o=e.isActive,i=e.activeCoordinate,s=e.activePayload,l=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!o||!i||h!=="ScatterChart"&&a!=="axis")return null;var m,x=zi;if(h==="ScatterChart")m=i,x=EV;else if(h==="BarChart")m=rQ(f,i,l,d),x=Kv;else if(f==="radial"){var w=lP(i),y=w.cx,g=w.cy,v=w.radius,j=w.startAngle,b=w.endAngle;m={cx:y,cy:g,startAngle:j,endAngle:b,innerRadius:v,outerRadius:v},x=nO}else m={points:nQ(f,i,l)},x=zi;var k=Nf(Nf(Nf(Nf({stroke:"#ccc",pointerEvents:"none"},l),m),Ve(p,!1)),{},{payload:s,payloadIndex:u,className:ot("recharts-tooltip-cursor",p.className)});return S.isValidElement(p)?S.cloneElement(p,k):S.createElement(x,k)}var lQ=["item"],cQ=["children","className","width","height","style","compact","title","desc"];function vl(e){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vl(e)}function As(){return As=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},As.apply(this,arguments)}function ak(e,t){return dQ(e)||fQ(e,t)||uP(e,t)||uQ()}function uQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}function dQ(e){if(Array.isArray(e))return e}function ok(e,t){if(e==null)return{};var r=hQ(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function pQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fP(n.key),n)}}function mQ(e,t,r){return t&&gQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yQ(e,t,r){return t=ph(t),vQ(e,cP()?Reflect.construct(t,r||[],ph(e).constructor):t.apply(e,r))}function vQ(e,t){if(t&&(vl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xQ(e)}function xQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cP=function(){return!!e})()}function ph(e){return ph=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ph(e)}function bQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jm(e,t)}function Jm(e,t){return Jm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Jm(e,t)}function xl(e){return jQ(e)||kQ(e)||uP(e)||wQ()}function wQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uP(e,t){if(e){if(typeof e=="string")return ey(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ey(e,t)}}function kQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jQ(e){if(Array.isArray(e))return ey(e)}function ey(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ik(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ik(Object(r),!0).forEach(function(n){Le(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ik(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Le(e,t,r){return t=fP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fP(e){var t=SQ(e,"string");return vl(t)=="symbol"?t:t+""}function SQ(e,t){if(vl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _Q={xAxis:["bottom","top"],yAxis:["left","right"]},NQ={width:"100%",height:"100%"},dP={x:0,y:0};function Of(e){return e}var OQ=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},PQ=function(t,r,n,a){var o=r.find(function(d){return d&&d.index===n});if(o){if(t==="horizontal")return{x:o.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:o.coordinate};if(t==="centric"){var i=o.coordinate,s=a.radius;return ee(ee(ee({},a),nn(a.cx,a.cy,s,i)),{},{angle:i,radius:s})}var l=o.coordinate,u=a.angle;return ee(ee(ee({},a),nn(a.cx,a.cy,l,u)),{},{angle:u,radius:l})}return dP},v0=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,o=r.dataEndIndex,i=(n??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(xl(s),xl(u)):s},[]);return i.length>0?i:t&&t.length&&fe(a)&&fe(o)?t.slice(a,o+1):[]};function hP(e){return e==="number"?[0,"auto"]:void 0}var ty=function(t,r,n,a){var o=t.graphicalItems,i=t.tooltipAxis,s=v0(r,t);return n<0||!o||!o.length||n>=s.length?null:o.reduce(function(l,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(i.dataKey&&!i.allowDuplicatedCategory){var p=f===void 0?s:f;h=dd(p,i.dataKey,a)}else h=f&&f[n]||s[n];return h?[].concat(xl(l),[eO(u,h)]):l},[])},sk=function(t,r,n,a){var o=a||{x:t.chartX,y:t.chartY},i=OQ(o,n),s=t.orderedTooltipTicks,l=t.tooltipAxis,u=t.tooltipTicks,d=fG(i,s,u,l);if(d>=0&&u){var f=u[d]&&u[d].value,h=ty(t,r,d,f),p=PQ(n,s,d,o);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},MQ=function(t,r){var n=r.axes,a=r.graphicalItems,o=r.axisType,i=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=ZN(d,o);return n.reduce(function(m,x){var w,y=x.type.defaultProps!==void 0?ee(ee({},x.type.defaultProps),x.props):x.props,g=y.type,v=y.dataKey,j=y.allowDataOverflow,b=y.allowDuplicatedCategory,k=y.scale,N=y.ticks,_=y.includeHidden,O=y[i];if(m[O])return m;var A=v0(t.data,{graphicalItems:a.filter(function(Q){var R,J=i in Q.props?Q.props[i]:(R=Q.type.defaultProps)===null||R===void 0?void 0:R[i];return J===O}),dataStartIndex:l,dataEndIndex:u}),T=A.length,M,C,I;tQ(y.domain,j,g)&&(M=gm(y.domain,null,j),p&&(g==="number"||k!=="auto")&&(I=kc(A,v,"category")));var D=hP(g);if(!M||M.length===0){var U,P=(U=y.domain)!==null&&U!==void 0?U:D;if(v){if(M=kc(A,v,g),g==="category"&&p){var E=QE(M);b&&E?(C=M,M=Qd(0,T)):b||(M=Iw(P,M,x).reduce(function(Q,R){return Q.indexOf(R)>=0?Q:[].concat(xl(Q),[R])},[]))}else if(g==="category")b?M=M.filter(function(Q){return Q!==""&&!We(Q)}):M=Iw(P,M,x).reduce(function(Q,R){return Q.indexOf(R)>=0||R===""||We(R)?Q:[].concat(xl(Q),[R])},[]);else if(g==="number"){var B=mG(A,a.filter(function(Q){var R,J,q=i in Q.props?Q.props[i]:(R=Q.type.defaultProps)===null||R===void 0?void 0:R[i],$="hide"in Q.props?Q.props.hide:(J=Q.type.defaultProps)===null||J===void 0?void 0:J.hide;return q===O&&(_||!$)}),v,o,d);B&&(M=B)}p&&(g==="number"||k!=="auto")&&(I=kc(A,v,"category"))}else p?M=Qd(0,T):s&&s[O]&&s[O].hasStack&&g==="number"?M=h==="expand"?[0,1]:JN(s[O].stackGroups,l,u):M=qN(A,a.filter(function(Q){var R=i in Q.props?Q.props[i]:Q.type.defaultProps[i],J="hide"in Q.props?Q.props.hide:Q.type.defaultProps.hide;return R===O&&(_||!J)}),g,d,!0);if(g==="number")M=Qm(f,M,O,o,N),P&&(M=gm(P,M,j));else if(g==="category"&&P){var z=P,te=M.every(function(Q){return z.indexOf(Q)>=0});te&&(M=z)}}return ee(ee({},m),{},Le({},O,ee(ee({},y),{},{axisType:o,domain:M,categoricalDomain:I,duplicateDomain:C,originalDomain:(w=y.domain)!==null&&w!==void 0?w:D,isCategorical:p,layout:d})))},{})},AQ=function(t,r){var n=r.graphicalItems,a=r.Axis,o=r.axisType,i=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=v0(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:u}),p=h.length,m=ZN(d,o),x=-1;return n.reduce(function(w,y){var g=y.type.defaultProps!==void 0?ee(ee({},y.type.defaultProps),y.props):y.props,v=g[i],j=hP("number");if(!w[v]){x++;var b;return m?b=Qd(0,p):s&&s[v]&&s[v].hasStack?(b=JN(s[v].stackGroups,l,u),b=Qm(f,b,v,o)):(b=gm(j,qN(h,n.filter(function(k){var N,_,O=i in k.props?k.props[i]:(N=k.type.defaultProps)===null||N===void 0?void 0:N[i],A="hide"in k.props?k.props.hide:(_=k.type.defaultProps)===null||_===void 0?void 0:_.hide;return O===v&&!A}),"number",d),a.defaultProps.allowDataOverflow),b=Qm(f,b,v,o)),ee(ee({},w),{},Le({},v,ee(ee({axisType:o},a.defaultProps),{},{hide:!0,orientation:ha(_Q,"".concat(o,".").concat(x%2),null),domain:b,originalDomain:j,isCategorical:m,layout:d})))}return w},{})},CQ=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,o=r.AxisComp,i=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=Fn(d,o),p={};return h&&h.length?p=MQ(t,{axes:h,graphicalItems:i,axisType:a,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):i&&i.length&&(p=AQ(t,{Axis:o,graphicalItems:i,axisType:a,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),p},TQ=function(t){var r=Go(t),n=po(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:bv(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Ud(r,n)}},lk=function(t){var r=t.children,n=t.defaultShowTooltip,a=Yn(r,il),o=0,i=0;return t.data&&t.data.length!==0&&(i=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(o=a.props.startIndex),a.props.endIndex>=0&&(i=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!n}},EQ=function(t){return!t||!t.length?!1:t.some(function(r){var n=mo(r&&r.type);return n&&n.indexOf("Bar")>=0})},ck=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},$Q=function(t,r){var n=t.props,a=t.graphicalItems,o=t.xAxisMap,i=o===void 0?{}:o,s=t.yAxisMap,l=s===void 0?{}:s,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=Yn(f,il),m=Yn(f,Ka),x=Object.keys(l).reduce(function(b,k){var N=l[k],_=N.orientation;return!N.mirror&&!N.hide?ee(ee({},b),{},Le({},_,b[_]+N.width)):b},{left:h.left||0,right:h.right||0}),w=Object.keys(i).reduce(function(b,k){var N=i[k],_=N.orientation;return!N.mirror&&!N.hide?ee(ee({},b),{},Le({},_,ha(b,"".concat(_))+N.height)):b},{top:h.top||0,bottom:h.bottom||0}),y=ee(ee({},w),x),g=y.bottom;p&&(y.bottom+=p.props.height||il.defaultProps.height),m&&r&&(y=pG(y,a,n,r));var v=u-y.left-y.right,j=d-y.top-y.bottom;return ee(ee({brushBottom:g},y),{},{width:Math.max(v,0),height:Math.max(j,0)})},RQ=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},ax=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,o=a===void 0?"axis":a,i=t.validateTooltipEventTypes,s=i===void 0?["axis"]:i,l=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(y,g){var v=g.graphicalItems,j=g.stackGroups,b=g.offset,k=g.updateId,N=g.dataStartIndex,_=g.dataEndIndex,O=y.barSize,A=y.layout,T=y.barGap,M=y.barCategoryGap,C=y.maxBarSize,I=ck(A),D=I.numericAxisName,U=I.cateAxisName,P=EQ(v),E=[];return v.forEach(function(B,z){var te=v0(y.data,{graphicalItems:[B],dataStartIndex:N,dataEndIndex:_}),Q=B.type.defaultProps!==void 0?ee(ee({},B.type.defaultProps),B.props):B.props,R=Q.dataKey,J=Q.maxBarSize,q=Q["".concat(D,"Id")],$=Q["".concat(U,"Id")],ne={},ce=l.reduce(function(Ie,it){var bt=g["".concat(it.axisType,"Map")],gr=Q["".concat(it.axisType,"Id")];bt&&bt[gr]||it.axisType==="zAxis"||Zi();var lt=bt[gr];return ee(ee({},Ie),{},Le(Le({},it.axisType,lt),"".concat(it.axisType,"Ticks"),po(lt)))},ne),Y=ce[U],ue=ce["".concat(U,"Ticks")],he=j&&j[q]&&j[q].hasStack&&PG(B,j[q].stackGroups),K=mo(B.type).indexOf("Bar")>=0,Pe=Ud(Y,ue),ke=[],oe=P&&dG({barSize:O,stackGroups:j,totalSize:RQ(ce,U)});if(K){var we,ve,Ke=We(J)?C:J,ge=(we=(ve=Ud(Y,ue,!0))!==null&&ve!==void 0?ve:Ke)!==null&&we!==void 0?we:0;ke=hG({barGap:T,barCategoryGap:M,bandSize:ge!==Pe?ge:Pe,sizeList:oe[$],maxBarSize:Ke}),ge!==Pe&&(ke=ke.map(function(Ie){return ee(ee({},Ie),{},{position:ee(ee({},Ie.position),{},{offset:Ie.position.offset-ge/2})})}))}var xe=B&&B.type&&B.type.getComposedData;xe&&E.push({props:ee(ee({},xe(ee(ee({},ce),{},{displayedData:te,props:y,dataKey:R,item:B,bandSize:Pe,barPosition:ke,offset:b,stackedData:he,layout:A,dataStartIndex:N,dataEndIndex:_}))),{},Le(Le(Le({key:B.key||"item-".concat(z)},D,ce[D]),U,ce[U]),"animationId",k)),childIndex:f4(B,y.children),item:B})}),E},p=function(y,g){var v=y.props,j=y.dataStartIndex,b=y.dataEndIndex,k=y.updateId;if(!Tb({props:v}))return null;var N=v.children,_=v.layout,O=v.stackOffset,A=v.data,T=v.reverseStackOrder,M=ck(_),C=M.numericAxisName,I=M.cateAxisName,D=Fn(N,n),U=_G(A,D,"".concat(C,"Id"),"".concat(I,"Id"),O,T),P=l.reduce(function(Q,R){var J="".concat(R.axisType,"Map");return ee(ee({},Q),{},Le({},J,CQ(v,ee(ee({},R),{},{graphicalItems:D,stackGroups:R.axisType===C&&U,dataStartIndex:j,dataEndIndex:b}))))},{}),E=$Q(ee(ee({},P),{},{props:v,graphicalItems:D}),g==null?void 0:g.legendBBox);Object.keys(P).forEach(function(Q){P[Q]=d(v,P[Q],E,Q.replace("Map",""),r)});var B=P["".concat(I,"Map")],z=TQ(B),te=h(v,ee(ee({},P),{},{dataStartIndex:j,dataEndIndex:b,updateId:k,graphicalItems:D,stackGroups:U,offset:E}));return ee(ee({formattedGraphicalItems:te,graphicalItems:D,offset:E,stackGroups:U},z),P)},m=function(w){function y(g){var v,j,b;return pQ(this,y),b=yQ(this,y,[g]),Le(b,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Le(b,"accessibilityManager",new eQ),Le(b,"handleLegendBBoxUpdate",function(k){if(k){var N=b.state,_=N.dataStartIndex,O=N.dataEndIndex,A=N.updateId;b.setState(ee({legendBBox:k},p({props:b.props,dataStartIndex:_,dataEndIndex:O,updateId:A},ee(ee({},b.state),{},{legendBBox:k}))))}}),Le(b,"handleReceiveSyncEvent",function(k,N,_){if(b.props.syncId===k){if(_===b.eventEmitterSymbol&&typeof b.props.syncMethod!="function")return;b.applySyncEvent(N)}}),Le(b,"handleBrushChange",function(k){var N=k.startIndex,_=k.endIndex;if(N!==b.state.dataStartIndex||_!==b.state.dataEndIndex){var O=b.state.updateId;b.setState(function(){return ee({dataStartIndex:N,dataEndIndex:_},p({props:b.props,dataStartIndex:N,dataEndIndex:_,updateId:O},b.state))}),b.triggerSyncEvent({dataStartIndex:N,dataEndIndex:_})}}),Le(b,"handleMouseEnter",function(k){var N=b.getMouseInfo(k);if(N){var _=ee(ee({},N),{},{isTooltipActive:!0});b.setState(_),b.triggerSyncEvent(_);var O=b.props.onMouseEnter;Xe(O)&&O(_,k)}}),Le(b,"triggeredAfterMouseMove",function(k){var N=b.getMouseInfo(k),_=N?ee(ee({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};b.setState(_),b.triggerSyncEvent(_);var O=b.props.onMouseMove;Xe(O)&&O(_,k)}),Le(b,"handleItemMouseEnter",function(k){b.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),Le(b,"handleItemMouseLeave",function(){b.setState(function(){return{isTooltipActive:!1}})}),Le(b,"handleMouseMove",function(k){k.persist(),b.throttleTriggeredAfterMouseMove(k)}),Le(b,"handleMouseLeave",function(k){b.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};b.setState(N),b.triggerSyncEvent(N);var _=b.props.onMouseLeave;Xe(_)&&_(N,k)}),Le(b,"handleOuterEvent",function(k){var N=u4(k),_=ha(b.props,"".concat(N));if(N&&Xe(_)){var O,A;/.*touch.*/i.test(N)?A=b.getMouseInfo(k.changedTouches[0]):A=b.getMouseInfo(k),_((O=A)!==null&&O!==void 0?O:{},k)}}),Le(b,"handleClick",function(k){var N=b.getMouseInfo(k);if(N){var _=ee(ee({},N),{},{isTooltipActive:!0});b.setState(_),b.triggerSyncEvent(_);var O=b.props.onClick;Xe(O)&&O(_,k)}}),Le(b,"handleMouseDown",function(k){var N=b.props.onMouseDown;if(Xe(N)){var _=b.getMouseInfo(k);N(_,k)}}),Le(b,"handleMouseUp",function(k){var N=b.props.onMouseUp;if(Xe(N)){var _=b.getMouseInfo(k);N(_,k)}}),Le(b,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&b.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),Le(b,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&b.handleMouseDown(k.changedTouches[0])}),Le(b,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&b.handleMouseUp(k.changedTouches[0])}),Le(b,"handleDoubleClick",function(k){var N=b.props.onDoubleClick;if(Xe(N)){var _=b.getMouseInfo(k);N(_,k)}}),Le(b,"handleContextMenu",function(k){var N=b.props.onContextMenu;if(Xe(N)){var _=b.getMouseInfo(k);N(_,k)}}),Le(b,"triggerSyncEvent",function(k){b.props.syncId!==void 0&&Np.emit(Op,b.props.syncId,k,b.eventEmitterSymbol)}),Le(b,"applySyncEvent",function(k){var N=b.props,_=N.layout,O=N.syncMethod,A=b.state.updateId,T=k.dataStartIndex,M=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)b.setState(ee({dataStartIndex:T,dataEndIndex:M},p({props:b.props,dataStartIndex:T,dataEndIndex:M,updateId:A},b.state)));else if(k.activeTooltipIndex!==void 0){var C=k.chartX,I=k.chartY,D=k.activeTooltipIndex,U=b.state,P=U.offset,E=U.tooltipTicks;if(!P)return;if(typeof O=="function")D=O(E,k);else if(O==="value"){D=-1;for(var B=0;B<E.length;B++)if(E[B].value===k.activeLabel){D=B;break}}var z=ee(ee({},P),{},{x:P.left,y:P.top}),te=Math.min(C,z.x+z.width),Q=Math.min(I,z.y+z.height),R=E[D]&&E[D].value,J=ty(b.state,b.props.data,D),q=E[D]?{x:_==="horizontal"?E[D].coordinate:te,y:_==="horizontal"?Q:E[D].coordinate}:dP;b.setState(ee(ee({},k),{},{activeLabel:R,activeCoordinate:q,activePayload:J,activeTooltipIndex:D}))}else b.setState(k)}),Le(b,"renderCursor",function(k){var N,_=b.state,O=_.isTooltipActive,A=_.activeCoordinate,T=_.activePayload,M=_.offset,C=_.activeTooltipIndex,I=_.tooltipAxisBandSize,D=b.getTooltipEventType(),U=(N=k.props.active)!==null&&N!==void 0?N:O,P=b.props.layout,E=k.key||"_recharts-cursor";return F.createElement(sQ,{key:E,activeCoordinate:A,activePayload:T,activeTooltipIndex:C,chartName:r,element:k,isActive:U,layout:P,offset:M,tooltipAxisBandSize:I,tooltipEventType:D})}),Le(b,"renderPolarAxis",function(k,N,_){var O=ha(k,"type.axisType"),A=ha(b.state,"".concat(O,"Map")),T=k.type.defaultProps,M=T!==void 0?ee(ee({},T),k.props):k.props,C=A&&A[M["".concat(O,"Id")]];return S.cloneElement(k,ee(ee({},C),{},{className:ot(O,C.className),key:k.key||"".concat(N,"-").concat(_),ticks:po(C,!0)}))}),Le(b,"renderPolarGrid",function(k){var N=k.props,_=N.radialLines,O=N.polarAngles,A=N.polarRadius,T=b.state,M=T.radiusAxisMap,C=T.angleAxisMap,I=Go(M),D=Go(C),U=D.cx,P=D.cy,E=D.innerRadius,B=D.outerRadius;return S.cloneElement(k,{polarAngles:Array.isArray(O)?O:po(D,!0).map(function(z){return z.coordinate}),polarRadius:Array.isArray(A)?A:po(I,!0).map(function(z){return z.coordinate}),cx:U,cy:P,innerRadius:E,outerRadius:B,key:k.key||"polar-grid",radialLines:_})}),Le(b,"renderLegend",function(){var k=b.state.formattedGraphicalItems,N=b.props,_=N.children,O=N.width,A=N.height,T=b.props.margin||{},M=O-(T.left||0)-(T.right||0),C=KN({children:_,formattedGraphicalItems:k,legendWidth:M,legendContent:u});if(!C)return null;var I=C.item,D=ok(C,lQ);return S.cloneElement(I,ee(ee({},D),{},{chartWidth:O,chartHeight:A,margin:T,onBBoxUpdate:b.handleLegendBBoxUpdate}))}),Le(b,"renderTooltip",function(){var k,N=b.props,_=N.children,O=N.accessibilityLayer,A=Yn(_,Kr);if(!A)return null;var T=b.state,M=T.isTooltipActive,C=T.activeCoordinate,I=T.activePayload,D=T.activeLabel,U=T.offset,P=(k=A.props.active)!==null&&k!==void 0?k:M;return S.cloneElement(A,{viewBox:ee(ee({},U),{},{x:U.left,y:U.top}),active:P,label:D,payload:P?I:[],coordinate:C,accessibilityLayer:O})}),Le(b,"renderBrush",function(k){var N=b.props,_=N.margin,O=N.data,A=b.state,T=A.offset,M=A.dataStartIndex,C=A.dataEndIndex,I=A.updateId;return S.cloneElement(k,{key:k.key||"_recharts-brush",onChange:kf(b.handleBrushChange,k.props.onChange),data:O,x:fe(k.props.x)?k.props.x:T.left,y:fe(k.props.y)?k.props.y:T.top+T.height+T.brushBottom-(_.bottom||0),width:fe(k.props.width)?k.props.width:T.width,startIndex:M,endIndex:C,updateId:"brush-".concat(I)})}),Le(b,"renderReferenceElement",function(k,N,_){if(!k)return null;var O=b,A=O.clipPathId,T=b.state,M=T.xAxisMap,C=T.yAxisMap,I=T.offset,D=k.type.defaultProps||{},U=k.props,P=U.xAxisId,E=P===void 0?D.xAxisId:P,B=U.yAxisId,z=B===void 0?D.yAxisId:B;return S.cloneElement(k,{key:k.key||"".concat(N,"-").concat(_),xAxis:M[E],yAxis:C[z],viewBox:{x:I.left,y:I.top,width:I.width,height:I.height},clipPathId:A})}),Le(b,"renderActivePoints",function(k){var N=k.item,_=k.activePoint,O=k.basePoint,A=k.childIndex,T=k.isRange,M=[],C=N.props.key,I=N.item.type.defaultProps!==void 0?ee(ee({},N.item.type.defaultProps),N.item.props):N.item.props,D=I.activeDot,U=I.dataKey,P=ee(ee({index:A,dataKey:U,cx:_.x,cy:_.y,r:4,fill:Xv(N.item),strokeWidth:2,stroke:"#fff",payload:_.payload,value:_.value},Ve(D,!1)),hd(D));return M.push(y.renderActiveDot(D,P,"".concat(C,"-activePoint-").concat(A))),O?M.push(y.renderActiveDot(D,ee(ee({},P),{},{cx:O.x,cy:O.y}),"".concat(C,"-basePoint-").concat(A))):T&&M.push(null),M}),Le(b,"renderGraphicChild",function(k,N,_){var O=b.filterFormatItem(k,N,_);if(!O)return null;var A=b.getTooltipEventType(),T=b.state,M=T.isTooltipActive,C=T.tooltipAxis,I=T.activeTooltipIndex,D=T.activeLabel,U=b.props.children,P=Yn(U,Kr),E=O.props,B=E.points,z=E.isRange,te=E.baseLine,Q=O.item.type.defaultProps!==void 0?ee(ee({},O.item.type.defaultProps),O.item.props):O.item.props,R=Q.activeDot,J=Q.hide,q=Q.activeBar,$=Q.activeShape,ne=!!(!J&&M&&P&&(R||q||$)),ce={};A!=="axis"&&P&&P.props.trigger==="click"?ce={onClick:kf(b.handleItemMouseEnter,k.props.onClick)}:A!=="axis"&&(ce={onMouseLeave:kf(b.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:kf(b.handleItemMouseEnter,k.props.onMouseEnter)});var Y=S.cloneElement(k,ee(ee({},O.props),ce));function ue(it){return typeof C.dataKey=="function"?C.dataKey(it.payload):null}if(ne)if(I>=0){var he,K;if(C.dataKey&&!C.allowDuplicatedCategory){var Pe=typeof C.dataKey=="function"?ue:"payload.".concat(C.dataKey.toString());he=dd(B,Pe,D),K=z&&te&&dd(te,Pe,D)}else he=B==null?void 0:B[I],K=z&&te&&te[I];if($||q){var ke=k.props.activeIndex!==void 0?k.props.activeIndex:I;return[S.cloneElement(k,ee(ee(ee({},O.props),ce),{},{activeIndex:ke})),null,null]}if(!We(he))return[Y].concat(xl(b.renderActivePoints({item:O,activePoint:he,basePoint:K,childIndex:I,isRange:z})))}else{var oe,we=(oe=b.getItemByXY(b.state.activeCoordinate))!==null&&oe!==void 0?oe:{graphicalItem:Y},ve=we.graphicalItem,Ke=ve.item,ge=Ke===void 0?k:Ke,xe=ve.childIndex,Ie=ee(ee(ee({},O.props),ce),{},{activeIndex:xe});return[S.cloneElement(ge,Ie),null,null]}return z?[Y,null,null]:[Y,null]}),Le(b,"renderCustomized",function(k,N,_){return S.cloneElement(k,ee(ee({key:"recharts-customized-".concat(_)},b.props),b.state))}),Le(b,"renderMap",{CartesianGrid:{handler:Of,once:!0},ReferenceArea:{handler:b.renderReferenceElement},ReferenceLine:{handler:Of},ReferenceDot:{handler:b.renderReferenceElement},XAxis:{handler:Of},YAxis:{handler:Of},Brush:{handler:b.renderBrush,once:!0},Bar:{handler:b.renderGraphicChild},Line:{handler:b.renderGraphicChild},Area:{handler:b.renderGraphicChild},Radar:{handler:b.renderGraphicChild},RadialBar:{handler:b.renderGraphicChild},Scatter:{handler:b.renderGraphicChild},Pie:{handler:b.renderGraphicChild},Funnel:{handler:b.renderGraphicChild},Tooltip:{handler:b.renderCursor,once:!0},PolarGrid:{handler:b.renderPolarGrid,once:!0},PolarAngleAxis:{handler:b.renderPolarAxis},PolarRadiusAxis:{handler:b.renderPolarAxis},Customized:{handler:b.renderCustomized}}),b.clipPathId="".concat((v=g.id)!==null&&v!==void 0?v:ns("recharts"),"-clip"),b.throttleTriggeredAfterMouseMove=Y_(b.triggeredAfterMouseMove,(j=g.throttleDelay)!==null&&j!==void 0?j:1e3/60),b.state={},b}return bQ(y,w),mQ(y,[{key:"componentDidMount",value:function(){var v,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(v=this.props.margin.left)!==null&&v!==void 0?v:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var v=this.props,j=v.children,b=v.data,k=v.height,N=v.layout,_=Yn(j,Kr);if(_){var O=_.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,T=ty(this.state,b,O,A),M=this.state.tooltipTicks[O].coordinate,C=(this.state.offset.top+k)/2,I=N==="horizontal",D=I?{x:M,y:C}:{y:M,x:C},U=this.state.formattedGraphicalItems.find(function(E){var B=E.item;return B.type.name==="Scatter"});U&&(D=ee(ee({},D),U.props.points[O].tooltipPosition),T=U.props.points[O].tooltipPayload);var P={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:A,activePayload:T,activeCoordinate:D};this.setState(P),this.renderCursor(_),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(v,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==v.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==v.margin){var b,k;this.accessibilityManager.setDetails({offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(v){Ag([Yn(v.children,Kr)],[Yn(this.props.children,Kr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var v=Yn(this.props.children,Kr);if(v&&typeof v.props.shared=="boolean"){var j=v.props.shared?"axis":"item";return s.indexOf(j)>=0?j:o}return o}},{key:"getMouseInfo",value:function(v){if(!this.container)return null;var j=this.container,b=j.getBoundingClientRect(),k=LF(b),N={chartX:Math.round(v.pageX-k.left),chartY:Math.round(v.pageY-k.top)},_=b.width/j.offsetWidth||1,O=this.inRange(N.chartX,N.chartY,_);if(!O)return null;var A=this.state,T=A.xAxisMap,M=A.yAxisMap,C=this.getTooltipEventType(),I=sk(this.state,this.props.data,this.props.layout,O);if(C!=="axis"&&T&&M){var D=Go(T).scale,U=Go(M).scale,P=D&&D.invert?D.invert(N.chartX):null,E=U&&U.invert?U.invert(N.chartY):null;return ee(ee({},N),{},{xValue:P,yValue:E},I)}return I?ee(ee({},N),I):null}},{key:"inRange",value:function(v,j){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,N=v/b,_=j/b;if(k==="horizontal"||k==="vertical"){var O=this.state.offset,A=N>=O.left&&N<=O.left+O.width&&_>=O.top&&_<=O.top+O.height;return A?{x:N,y:_}:null}var T=this.state,M=T.angleAxisMap,C=T.radiusAxisMap;if(M&&C){var I=Go(M);return zw({x:N,y:_},I)}return null}},{key:"parseEventsOfWrapper",value:function(){var v=this.props.children,j=this.getTooltipEventType(),b=Yn(v,Kr),k={};b&&j==="axis"&&(b.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=hd(this.props,this.handleOuterEvent);return ee(ee({},N),k)}},{key:"addListener",value:function(){Np.on(Op,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Np.removeListener(Op,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(v,j,b){for(var k=this.state.formattedGraphicalItems,N=0,_=k.length;N<_;N++){var O=k[N];if(O.item===v||O.props.key===v.key||j===mo(O.item.type)&&b===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var v=this.clipPathId,j=this.state.offset,b=j.left,k=j.top,N=j.height,_=j.width;return F.createElement("defs",null,F.createElement("clipPath",{id:v},F.createElement("rect",{x:b,y:k,height:N,width:_})))}},{key:"getXScales",value:function(){var v=this.state.xAxisMap;return v?Object.entries(v).reduce(function(j,b){var k=ak(b,2),N=k[0],_=k[1];return ee(ee({},j),{},Le({},N,_.scale))},{}):null}},{key:"getYScales",value:function(){var v=this.state.yAxisMap;return v?Object.entries(v).reduce(function(j,b){var k=ak(b,2),N=k[0],_=k[1];return ee(ee({},j),{},Le({},N,_.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(v){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[v])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(v){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[v])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(v){var j=this.state,b=j.formattedGraphicalItems,k=j.activeItem;if(b&&b.length)for(var N=0,_=b.length;N<_;N++){var O=b[N],A=O.props,T=O.item,M=T.type.defaultProps!==void 0?ee(ee({},T.type.defaultProps),T.props):T.props,C=mo(T.type);if(C==="Bar"){var I=(A.data||[]).find(function(E){return jV(v,E)});if(I)return{graphicalItem:O,payload:I}}else if(C==="RadialBar"){var D=(A.data||[]).find(function(E){return zw(v,E)});if(D)return{graphicalItem:O,payload:D}}else if(d0(O,k)||h0(O,k)||bu(O,k)){var U=_X({graphicalItem:O,activeTooltipItem:k,itemData:M.data}),P=M.activeIndex===void 0?U:M.activeIndex;return{graphicalItem:ee(ee({},O),{},{childIndex:P}),payload:bu(O,k)?M.data[U]:O.props.data[U]}}}return null}},{key:"render",value:function(){var v=this;if(!Tb(this))return null;var j=this.props,b=j.children,k=j.className,N=j.width,_=j.height,O=j.style,A=j.compact,T=j.title,M=j.desc,C=ok(j,cQ),I=Ve(C,!1);if(A)return F.createElement(D2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},F.createElement(Tg,As({},I,{width:N,height:_,title:T,desc:M}),this.renderClipPath(),$b(b,this.renderMap)));if(this.props.accessibilityLayer){var D,U;I.tabIndex=(D=this.props.tabIndex)!==null&&D!==void 0?D:0,I.role=(U=this.props.role)!==null&&U!==void 0?U:"application",I.onKeyDown=function(E){v.accessibilityManager.keyboardEvent(E)},I.onFocus=function(){v.accessibilityManager.focus()}}var P=this.parseEventsOfWrapper();return F.createElement(D2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},F.createElement("div",As({className:ot("recharts-wrapper",k),style:ee({position:"relative",cursor:"default",width:N,height:_},O)},P,{ref:function(B){v.container=B}}),F.createElement(Tg,As({},I,{width:N,height:_,title:T,desc:M,style:NQ}),this.renderClipPath(),$b(b,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(S.Component);Le(m,"displayName",r),Le(m,"defaultProps",ee({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Le(m,"getDerivedStateFromProps",function(w,y){var g=w.dataKey,v=w.data,j=w.children,b=w.width,k=w.height,N=w.layout,_=w.stackOffset,O=w.margin,A=y.dataStartIndex,T=y.dataEndIndex;if(y.updateId===void 0){var M=lk(w);return ee(ee(ee({},M),{},{updateId:0},p(ee(ee({props:w},M),{},{updateId:0}),y)),{},{prevDataKey:g,prevData:v,prevWidth:b,prevHeight:k,prevLayout:N,prevStackOffset:_,prevMargin:O,prevChildren:j})}if(g!==y.prevDataKey||v!==y.prevData||b!==y.prevWidth||k!==y.prevHeight||N!==y.prevLayout||_!==y.prevStackOffset||!Ls(O,y.prevMargin)){var C=lk(w),I={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},D=ee(ee({},sk(y,v,N)),{},{updateId:y.updateId+1}),U=ee(ee(ee({},C),I),D);return ee(ee(ee({},U),p(ee({props:w},U),y)),{},{prevDataKey:g,prevData:v,prevWidth:b,prevHeight:k,prevLayout:N,prevStackOffset:_,prevMargin:O,prevChildren:j})}if(!Ag(j,y.prevChildren)){var P,E,B,z,te=Yn(j,il),Q=te&&(P=(E=te.props)===null||E===void 0?void 0:E.startIndex)!==null&&P!==void 0?P:A,R=te&&(B=(z=te.props)===null||z===void 0?void 0:z.endIndex)!==null&&B!==void 0?B:T,J=Q!==A||R!==T,q=!We(v),$=q&&!J?y.updateId:y.updateId+1;return ee(ee({updateId:$},p(ee(ee({props:w},y),{},{updateId:$,dataStartIndex:Q,dataEndIndex:R}),y)),{},{prevChildren:j,dataStartIndex:Q,dataEndIndex:R})}return null}),Le(m,"renderActiveDot",function(w,y,g){var v;return S.isValidElement(w)?v=S.cloneElement(w,y):Xe(w)?v=w(y):v=F.createElement(f0,y),F.createElement(xt,{className:"recharts-active-dot",key:g},v)});var x=S.forwardRef(function(y,g){return F.createElement(m,As({},y,{ref:g}))});return x.displayName=m.displayName,x},Fs=ax({chartName:"LineChart",GraphicalChild:Pr,axisComponents:[{axisType:"xAxis",AxisComp:zn},{axisType:"yAxis",AxisComp:Un}],formatAxisMap:Yv}),DQ=ax({chartName:"ScatterChart",GraphicalChild:Nn,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:zn},{axisType:"yAxis",AxisComp:Un},{axisType:"zAxis",AxisComp:y0}],formatAxisMap:Yv}),pP=ax({chartName:"AreaChart",GraphicalChild:fa,axisComponents:[{axisType:"xAxis",AxisComp:zn},{axisType:"yAxis",AxisComp:Un}],formatAxisMap:Yv});const LQ="modulepreload",IQ=function(e){return"/"+e},uk={},BQ=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),s=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=IQ(l),l in uk)return;uk[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":LQ,u||(f.as="script"),f.crossOrigin="",f.href=l,s&&f.setAttribute("nonce",s),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(i){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i}return a.then(i=>{for(const s of i||[])s.status==="rejected"&&o(s.reason);return t().catch(o)})};function gP(e){const[[t,r,n],[a,o,i],[s,l,u]]=e,d=t*(o*u-i*l)-r*(a*u-i*s)+n*(a*l-o*s);if(Math.abs(d)<1e-10)return null;const f=1/d;return[[(o*u-i*l)*f,(n*l-r*u)*f,(r*i-n*o)*f],[(i*s-a*u)*f,(t*u-n*s)*f,(n*a-t*i)*f],[(a*l-o*s)*f,(r*s-t*l)*f,(t*o-r*a)*f]]}function fk(e,t){const r=[[0,0,0],[0,0,0],[0,0,0]];for(let n=0;n<3;n++)for(let a=0;a<3;a++)for(let o=0;o<3;o++)r[n][a]+=e[n][o]*t[o][a];return r}class Ji{constructor(t){_n(this,"size");_n(this,"isPowerOfTwo");_n(this,"_real");_n(this,"_imag");_n(this,"_scratch",null);_n(this,"_rev",null);_n(this,"_m",0);_n(this,"_internalFFT",null);_n(this,"_chirpReal",null);_n(this,"_chirpImag",null);_n(this,"_bReal",null);_n(this,"_bImag",null);_n(this,"_hanning",null);_n(this,"_windowSumSq",0);this.size=t,this.isPowerOfTwo=(t&t-1)===0&&t>0,this._real=new Float32Array(t),this._imag=new Float32Array(t),this.isPowerOfTwo?this.initRadix2():this.initBluestein()}initRadix2(){const t=this.size,r=Math.log2(t);this._rev=new Uint32Array(t);for(let n=0;n<t;n++){let a=0,o=n;for(let i=0;i<r;i++)a=a<<1|o&1,o>>>=1;this._rev[n]=a}}initBluestein(){const t=this.size;this._m=Math.pow(2,Math.ceil(Math.log2(2*t-1))),this._internalFFT=new Ji(this._m),this._chirpReal=new Float32Array(t),this._chirpImag=new Float32Array(t);for(let a=0;a<t;a++){const o=-Math.PI*(a*a)/t;this._chirpReal[a]=Math.cos(o),this._chirpImag[a]=Math.sin(o)}const r=new Float32Array(this._m),n=new Float32Array(this._m);for(let a=0;a<t;a++)r[a]=this._chirpReal[a],n[a]=-this._chirpImag[a];for(let a=1;a<t;a++)r[this._m-a]=r[a],n[this._m-a]=n[a];this._internalFFT.transform(r,n),this._bReal=new Float32Array(this._internalFFT._real),this._bImag=new Float32Array(this._internalFFT._imag)}initHanning(){if(this._hanning)return;const t=this.size;this._hanning=new Float32Array(t);let r=0;for(let n=0;n<t;n++){const a=.5*(1-Math.cos(2*Math.PI*n/(t-1)));this._hanning[n]=a,r+=a*a}this._windowSumSq=r}transform(t,r){this.isPowerOfTwo?this.transformRadix2(t,r):this.transformBluestein(t,r)}transformRadix2(t,r){const n=this.size,a=this._rev,o=this._real,i=this._imag;if(t===o)for(let s=0;s<n;s++){const l=a[s];if(s<l){const u=o[s],d=i[s];o[s]=o[l],i[s]=i[l],o[l]=u,i[l]=d}}else for(let s=0;s<n;s++){const l=a[s];o[s]=t[l],i[s]=r?r[l]:0}for(let s=2;s<=n;s*=2){const l=s/2,u=-2*Math.PI/s,d=Math.cos(u),f=Math.sin(u);for(let h=0;h<n;h+=s){let p=1,m=0;for(let x=0;x<l;x++){const w=h+x,y=h+x+l,g=p*o[y]-m*i[y],v=p*i[y]+m*o[y],j=o[w],b=i[w];o[w]=j+g,i[w]=b+v,o[y]=j-g,i[y]=b-v;const k=p*d-m*f,N=p*f+m*d;p=k,m=N}}}}transformBluestein(t,r){const n=this.size,a=this._m,o=this._internalFFT,i=o._real,s=o._imag;i.fill(0),s.fill(0);for(let f=0;f<n;f++){const h=t[f],p=r?r[f]:0,m=this._chirpReal[f],x=this._chirpImag[f];i[f]=h*m-p*x,s[f]=h*x+p*m}o.transformRadix2(i,s);for(let f=0;f<a;f++){const h=o._real[f],p=o._imag[f],m=this._bReal[f],x=this._bImag[f];o._real[f]=h*m-p*x,o._imag[f]=h*x+p*m}const l=o._real,u=o._imag;for(let f=0;f<a;f++)u[f]=-u[f];o.transformRadix2(l,u);const d=1/a;for(let f=0;f<n;f++){const h=o._real[f]*d,p=-o._imag[f]*d,m=this._chirpReal[f],x=this._chirpImag[f];this._real[f]=h*m-p*x,this._imag[f]=h*x+p*m}}calculateSpectrum(t,r,n=!1){const a=this.size;let o=0;for(let d=0;d<a;d++)o+=t[d];const i=o/a;this._scratch||(this._scratch=new Float32Array(a));const s=this._scratch;if(n){this.initHanning();const d=this._hanning;for(let f=0;f<a;f++)s[f]=(t[f]-i)*d[f]}else for(let d=0;d<a;d++)s[d]=t[d]-i;this.transform(s);const l=r.length;let u=1/a;n&&this._windowSumSq>0&&(u=1/this._windowSumSq);for(let d=0;d<l;d++){const f=this._real[d],h=this._imag[d];r[d]+=(f*f+h*h)*u}}}function FQ(e,t,r,n=!1){const a=new Ji(t),o=new Ji(r),i=t*r,s=new Float32Array(i),l=new Float32Array(i);let u=null,d=null;if(n){u=new Float32Array(t);for(let x=0;x<t;x++)u[x]=.5*(1-Math.cos(2*Math.PI*x/(t-1)));d=new Float32Array(r);for(let x=0;x<r;x++)d[x]=.5*(1-Math.cos(2*Math.PI*x/(r-1)))}for(let x=0;x<r;x++){const w=x*t,y=a._real;let g=0;for(let j=0;j<t;j++)g+=e[w+j];const v=g/t;if(u)for(let j=0;j<t;j++)y[j]=(e[w+j]-v)*u[j];else for(let j=0;j<t;j++)y[j]=e[w+j]-v;a.transform(y);for(let j=0;j<t;j++)s[w+j]=a._real[j],l[w+j]=a._imag[j]}for(let x=0;x<t;x++){const w=o._real,y=o._imag;for(let g=0;g<r;g++){const v=g*t+x;let j=s[v],b=l[v];d&&(j*=d[g],b*=d[g]),w[g]=j,y[g]=b}o.transform(w,y);for(let g=0;g<r;g++){const v=g*t+x;s[v]=o._real[g],l[v]=o._imag[g]}}const f=new Float32Array(i);let h=1,p=t,m=r;if(n&&u&&d){p=0;for(let x=0;x<t;x++)p+=u[x]*u[x];m=0;for(let x=0;x<r;x++)m+=d[x]*d[x]}h=1/(p*m);for(let x=0;x<i;x++)f[x]=(s[x]*s[x]+l[x]*l[x])*h;return f}function zQ(e,t,r){const n=new Float32Array(e.length),a=Math.floor(t/2),o=Math.floor(r/2);for(let i=0;i<r;i++)for(let s=0;s<t;s++){const l=(s+a)%t,u=(i+o)%r,d=i*t+s,f=u*t+l;n[f]=e[d]}return n}function uc(e,t,r,n=[0,0,0,0],a=65535,o="RGGB"){const s=e*t*2,l=8,u=l+s,d="Fake",f="StretchedNoiseCam",h="StretchedNoiseCam",p=C=>{const I=new Uint8Array(C.length+1);for(let D=0;D<C.length;D++)I[D]=C.charCodeAt(D);return I[C.length]=0,I},m=p(d),x=p(f),w=p(h),y=C=>{const I=[0,0,0,0],D={R:0,G:1,B:2},U=C.toUpperCase();for(let P=0;P<4;P++)I[P]=D[U[P]]??1;return I},g=[{id:254,type:4,count:1,value:0},{id:256,type:4,count:1,value:e},{id:257,type:4,count:1,value:t},{id:258,type:3,count:1,value:16},{id:259,type:3,count:1,value:1},{id:262,type:3,count:1,value:32803},{id:271,type:2,count:m.length,value:m},{id:272,type:2,count:x.length,value:x},{id:273,type:4,count:1,value:l},{id:277,type:3,count:1,value:1},{id:278,type:4,count:1,value:t},{id:279,type:4,count:1,value:s},{id:33421,type:3,count:2,value:[2,2]},{id:33422,type:1,count:4,value:y(o)},{id:50706,type:1,count:4,value:[1,4,0,0]},{id:50714,type:3,count:4,value:n.map(C=>Math.round(C))},{id:50715,type:4,count:1,value:Math.round(a)},{id:50717,type:2,count:w.length,value:w}],v=2+g.length*12+4;let j=0;const b=g.map(C=>{let I=1;C.type===3&&(I=2),C.type===4&&(I=4);const D=C.count*I,U=D<=4;let P=0;return U||(P=j,j+=D,j%2!==0&&j++),{...C,fits:U,totalBytes:D,extraOffset:P}}),k=u+v,N=k+j,_=new ArrayBuffer(N),O=new DataView(_),A=new Uint8Array(_);O.setUint16(0,18761,!0),O.setUint16(2,42,!0),O.setUint32(4,u,!0);const T=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);A.set(T,l);let M=u;return O.setUint16(M,g.length,!0),M+=2,b.forEach(C=>{if(O.setUint16(M,C.id,!0),O.setUint16(M+2,C.type,!0),O.setUint32(M+4,C.count,!0),C.fits){const I=M+8;Array.isArray(C.value)?C.value.forEach((D,U)=>{C.type===1&&O.setUint8(I+U,D),C.type===3&&O.setUint16(I+U*2,D,!0)}):(C.type===3&&O.setUint16(I,C.value,!0),C.type===4&&O.setUint32(I,C.value,!0))}else{const I=k+C.extraOffset;O.setUint32(M+8,I,!0),C.value instanceof Uint8Array?A.set(C.value,I):Array.isArray(C.value)&&C.value.forEach((D,U)=>{C.type===1&&O.setUint8(I+U,D),C.type===3&&O.setUint16(I+U*2,D,!0)})}M+=12}),O.setUint32(M,0,!0),_}let Mp=null;async function Uu(){if(!Mp)try{const n=(await BQ(()=>import("./joraw-xf6iAeGd.js"),[])).default;if(typeof n!="function")throw new Error("JoRaw WASM import failed");const a=new URL("/assets/joraw-BUh50ws_.wasm",import.meta.url).href;Mp=n({locateFile:(o,i)=>o.endsWith("joraw.wasm")?a:i+o})}catch(r){throw console.error("Failed to load joraw.js:",r),r}const e=await Mp,t=e.LibRaw||e.JoRaw;if(!t)throw new Error("JoRaw class not found");return t}const UQ=[[3.2404542,-1.5371385,-.4985314],[-.969266,1.8760108,.041556],[.0556434,-.2040259,1.0572252]],Oc=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055;async function Pf(e,t=0,r=0){const n=await Uu(),a=new n;try{await a.open(new Uint8Array(e));const o=a.getRawImage(),i=new Uint16Array(o.data),s=o.width,l=o.height,u=Math.floor((s-t)/6)*2,d=Math.floor((l-r)/6)*2;if(u<=0||d<=0)throw new Error("Image too small for X-Trans subsampling with current phase.");const f=new Uint16Array(u*d);for(let p=0;p<d/2;p++){const m=p*6+r;if(m+3>=l)break;const x=m*s,w=(m+3)*s,y=p*2,g=y*u,v=(y+1)*u;for(let j=0;j<u/2;j++){const b=j*6+t;if(b+1>=s)break;const k=j*2;f[g+k]=i[x+b+1],f[g+k+1]=i[x+b+0],f[v+k]=i[w+b+0],f[v+k+1]=i[w+b+1]}}return{dngBuffer:uc(u,d,f),width:u,height:d}}finally{a.delete?a.delete():a.close()}}async function GQ(e){const t=await createImageBitmap(e),r=t.width,n=t.height,a=document.createElement("canvas");a.width=r,a.height=n;const o=a.getContext("2d");if(!o)throw new Error("Failed to create canvas context");o.drawImage(t,0,0);const s=o.getImageData(0,0,r,n).data,l=r*n,u=new Uint16Array(l);for(let f=0;f<n;f++)for(let h=0;h<r;h++){const p=(f*r+h)*4,m=f*r+h,x=f%2===0,w=h%2===0;let y=0;x&&w?y=s[p]:!x&&!w?y=s[p+2]:y=s[p+1],u[m]=y*64}return{previewBlob:await new Promise(f=>a.toBlob(f,"image/png"))||e,analysisData:{data:u,width:r,height:n,bayerPattern:"RGGB",blackLevels:[0,0,0,0],whiteLevel:16320,metadata:{description:"Standard image (non-RAW)"},isThreePlane:!0}}}const WQ=async e=>{const t=await Uu(),r=new t;try{await r.open(e,{useCameraWb:!0,outputBps:8,noAutoBright:!0,userQual:3,outputColor:1});const n=await r.imageData();return new Promise((a,o)=>{const i=document.createElement("canvas");i.width=n.width,i.height=n.height;const s=i.getContext("2d");if(!s){o(new Error("Could not create canvas context"));return}const l=s.createImageData(n.width,n.height),u=n.data,d=n.width*n.height;for(let f=0;f<d;f++){const h=f*3,p=f*4;l.data[p]=u[h],l.data[p+1]=u[h+1],l.data[p+2]=u[h+2],l.data[p+3]=255}s.putImageData(l,0,0),i.toBlob(f=>{f?a(f):o(new Error("Canvas to Blob failed"))},"image/jpeg",.85)})}finally{r.delete?r.delete():r.close()}},gh=async e=>{var n,a,o,i,s,l,u,d,f;const t=await Uu(),r=new t;try{if(await r.open(e,{}),typeof r.getRawImage!="function")throw new Error("WASM mismatch");const h=r.getRawImage();let p=new Uint16Array(h.data);const m=await r.metadata(!0),x=((n=m.idata)==null?void 0:n.filters)||0,w=((a=m.idata)==null?void 0:a.colors)||0,y=x===0&&w===3,g=x===9;let v=[];if((o=m.color_data)!=null&&o.cblack_rawpy_style)v=m.color_data.cblack_rawpy_style;else if((s=(i=m.color_data)==null?void 0:i.dng_levels)!=null&&s.dng_cblack)v=m.color_data.dng_levels.dng_cblack;else if(((l=m.black_level_per_channel)==null?void 0:l.length)>=4)v=m.black_level_per_channel;else if(((u=m.cblack)==null?void 0:u.length)>=4)v=m.cblack;else if(((f=(d=m.color)==null?void 0:d.cblack)==null?void 0:f.length)>=4)v=m.color.cblack;else{const b=m.black_level||m.color_data&&m.color_data.black||0;v=[b,b,b,b]}const j=[Number(v[0])||0,Number(v[1])||0,Number(v[2])||0,Number(v[3])||0];return{data:p,width:h.width,height:h.height,bayerPattern:m.color_desc||"RGGB",blackLevels:j,whiteLevel:m.white_level||16383,metadata:m,isThreePlane:y,isXTrans:g}}finally{r.delete?r.delete():r.close()}};async function ki(e){const t=new Uint8Array(e.slice(0)),r=new Uint8Array(e.slice(0)),[n,a]=await Promise.all([WQ(t),gh(r)]);return{previewBlob:n,analysisData:a}}async function mh(e){const t=new Uint8Array(e);return gh(t)}const dk=e=>(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e++,e);async function Ap(e,t,r,n=!0){const a=await gh(new Uint8Array(e)),o=await gh(new Uint8Array(t));if(a.width!==o.width||a.height!==o.height)throw new Error("Dimension Mismatch");const i=a.width,s=a.height,l=r?dk(i):i,u=r?dk(s):s,d=l*u,f=new Uint16Array(d),h=6e4,p=1.41421356;for(let m=0;m<s;m++){const x=m*i,w=m*l;for(let y=0;y<i;y++){const g=a.data[x+y],v=o.data[x+y];let j=g-v;n&&(j/=p);let b=j+h;b=Math.max(0,Math.min(65535,b)),f[w+y]=Math.round(b)}}return{rawData:f,width:l,height:u,metadata:a.metadata}}function ji(e,t,r,n,a,o,i){const s=Math.max(0,Math.floor(n)),l=Math.max(0,Math.floor(a)),u=Math.min(t,Math.ceil(n+o)),d=Math.min(r,Math.ceil(a+i)),f=[0,0,0,0],h=[0,0,0,0],p=[0,0,0,0];for(let w=l;w<d;w++){const y=w*t,g=w%2;for(let v=s;v<u;v++){const j=v%2,b=e[y+v],k=g*2+j;f[k]+=b,h[k]+=b*b,p[k]++}}const m=[0,0,0,0],x=[0,0,0,0];for(let w=0;w<4;w++)if(p[w]>0){const y=f[w]/p[w];m[w]=y;const v=h[w]/p[w]-y*y;x[w]=Math.sqrt(Math.max(0,v))}return{x:s,y:l,width:u-s,height:d-l,means:m,stdDevs:x,pixelCount:p.reduce((w,y)=>w+y,0)}}function hk(e,t,r,n,a,o,i=0,s=0){const l=Math.max(0,Math.floor(n.x)),u=Math.max(0,Math.floor(n.y)),d=Math.min(t,Math.ceil(n.x+n.w)),f=Math.min(r,Math.ceil(n.y+n.h)),h=a>>1,p=a&1,m=(o>>1)+i,x=(o&1)+s;let w=0,y=0,g=0;for(let _=u;_<f-2;_+=2)for(let O=l;O<d-2;O+=2){const A=(_+h)*t+(O+p),T=(_+m)*t+(O+x);_+m>=r||O+x>=t||(w+=e[A],y+=e[T],g++)}if(g<2)return{sumCov:0,sumVar1:0,sumVar2:0,n:0};const v=w/g,j=y/g;let b=0,k=0,N=0;for(let _=u;_<f-2;_+=2)for(let O=l;O<d-2;O+=2){const A=(_+h)*t+(O+p),T=(_+m)*t+(O+x);if(_+m>=r||O+x>=t)continue;const M=e[A],C=e[T],I=M-v,D=C-j;b+=I*D,k+=I*I,N+=D*D}return{sumCov:b,sumVar1:k,sumVar2:N,n:g}}function HQ(e){if(e.n<2)return 0;const t=Math.sqrt(e.sumVar1*e.sumVar2);return t===0?0:e.sumCov/t}function VQ(e,t,r,n,a,o,i,s,l,u,d){if(u<=l)return[];const f=Math.max(0,Math.floor(n)),h=Math.max(0,Math.floor(a)),p=Math.min(t,Math.ceil(n+o)),m=Math.min(r,Math.ceil(a+i)),x=u-l,w=d?Math.floor(x)+1:s,y=x/w,g=[new Uint32Array(w),new Uint32Array(w),new Uint32Array(w),new Uint32Array(w)];for(let j=h;j<m;j++){const b=j*t,k=j%2;for(let N=f;N<p;N++){const _=N%2,O=e[b+N];if(O<l||O>u)continue;const A=k*2+_;let T;d?T=Math.floor(O-l):T=Math.floor((O-l)/y),T<0&&(T=0),T>=w&&(T=w-1),g[A][T]++}}const v=[];for(let j=0;j<w;j++){const b=l+(d?j:j*y);v.push({binStart:b,c0:g[0][j],c1:g[1][j],c2:g[2][j],c3:g[3][j]})}return v}function XQ(e,t,r,n,a,o=!1,i=!1,s={rows:!1,rowGroup:0,cols:!1,colGroup:0},l=!0,u=1){const d=Math.max(0,Math.floor(n.x)),f=Math.max(0,Math.floor(n.y)),h=Math.min(t,Math.ceil(n.x+n.w)),p=Math.min(r,Math.ceil(n.y+n.h)),m=h-d,x=p-f;if(m<=1||x<=1)return null;let w=0;for(let T=d;T<h;T++)T%2===(a&1)&&w++;let y=0;for(let T=f;T<p;T++)T%2===a>>1&&y++;if(w<4||y<4)return null;const g=Math.max(1,u),v=Math.floor(2*w/(g+1)),j=Math.floor(2*y/(g+1));if(v<4||j<4)return null;const b=new Ji(v),k=new Ji(j),N=new Float32Array(Math.floor(v/2)+1),_=new Float32Array(Math.floor(j/2)+1);let O=0,A=0;for(let T=f;T<p;T++){const M=T%2;if(a>>1!==M||s.rows&&(T>>1&1)!==s.rowGroup)continue;const C=T*t,I=new Float32Array(w);let D=0;for(let U=d;U<h;U++)U%2===(a&1)&&D<w&&(I[D++]=e[C+U]);for(let U=0;U<g;U++){const P=Math.floor(U*v/2);if(P+v>w)break;const E=I.slice(P,P+v);b.calculateSpectrum(E,N,i),O++}if(!l)break}for(let T=d;T<h;T++){const M=T%2;if((a&1)!==M||s.cols&&(T>>1&1)!==s.rowGroup)continue;const C=new Float32Array(y);let I=0;for(let D=f;D<p;D++)D%2===a>>1&&I<y&&(C[I++]=e[D*t+T]);for(let D=0;D<g;D++){const U=Math.floor(D*j/2);if(U+j>y)break;const P=C.slice(U,U+j);k.calculateSpectrum(P,_,i),A++}if(!l)break}if(O>0)for(let T=0;T<N.length;T++)N[T]/=O;if(A>0)for(let T=0;T<_.length;T++)_[T]/=A;return{avgHoriz:Array.from(N),avgVert:Array.from(_),sampleCount:{h:O,v:A}}}function KQ(e,t,r,n,a,o=!1){const i=Math.max(0,Math.floor(n.x)),s=Math.max(0,Math.floor(n.y)),l=Math.min(t,Math.ceil(n.x+n.w)),u=Math.min(r,Math.ceil(n.y+n.h));let d=-1;for(let g=s;g<u;g++)if(g%2===a>>1){d=g;break}if(d===-1)return null;let f=-1;for(let g=i;g<l;g++)if(g%2===(a&1)){f=g;break}if(f===-1)return null;const h=[];for(let g=d;g<u;g+=2){const v=g*t,j=[];for(let b=f;b<l;b+=2)j.push(e[v+b]);h.push(j)}const p=h.length;if(p===0)return null;const m=h[0].length;if(m===0)return null;const x=new Float32Array(m*p);for(let g=0;g<p;g++){const v=h[g];for(let j=0;j<m;j++)x[g*m+j]=v[j]}const w=FQ(x,m,p,o),y=zQ(w,m,p);return{width:m,height:p,data:y}}function YQ(e,t,r,n,a,o,i){const{x:s,y:l,w:u,h:d}=n,f=[],h=Math.max(0,Math.floor(s)),p=Math.max(0,Math.floor(l)),m=Math.min(t,Math.ceil(s+u)),x=Math.min(r,Math.ceil(l+d)),w=a>>1,y=a&1;for(let k=p;k<x;k++){if(k%2!==w)continue;const N=k*t;for(let _=h;_<m;_++){if(_%2!==y)continue;const O=e[N+_];O>=o&&O<=i&&f.push(O-o)}}if(f.length===0)return null;f.sort((k,N)=>k-N);const g=[f[0]];for(let k=1;k<f.length;k++)f[k]!==f[k-1]&&g.push(f[k]);const v=[],j=[],b={};for(let k=0;k<g.length-1;k++){const N=g[k],O=g[k+1]-N;v.push(O),j.push({x:N,y:O}),b[O]=(b[O]||0)+1}return{uniqueCount:g.length,diffCount:v.length,stepCounts:b,plotData:j}}function mP(e,t,r){if(!r.advancedZeroDep)throw new Error("Unmixing settings not found in DisplaySettings.");const{bl:n,bg:a,fg:o}=r.advancedZeroDep,{data:i,width:s,whiteLevel:l}=e,u=a.map((v,j)=>Math.max(0,v-n[j])),d=o.map((v,j)=>Math.max(0,v-n[j])),f=(u[1]+u[3])/2,h=(d[1]+d[3])/2,p=Math.floor(t.x),m=Math.floor(t.y),x=Math.floor(t.w),w=Math.floor(t.h),y=Math.pow(2,r.exposure),g=new Uint16Array(x*w);for(let v=0;v<w;v++){const j=m+v;if(j<0||j>=e.height)continue;const b=j%2,k=j*s,N=v*x;for(let _=0;_<x;_++){const O=p+_;if(O<0||O>=s)continue;const A=O%2;let T=0;!b&&!A?T=0:!b&&A?T=1:b&&!A?T=3:T=2;const M=i[k+O],C=n[T],I=u[T],D=d[T],U=Math.max(M-C,0),P=D-I||1e-9,E=(U-I)/P;let B;E<0?B=U*(f/Math.max(I,1e-9)):E>1?B=U*(h/Math.max(D,1e-9)):B=(1-E)*f+E*h,B*=y,g[N+_]=Math.max(0,Math.min(65535,Math.round(B)))}}return{data:g,width:x,height:w}}async function pk(e,t){const r=await Uu(),n=new r;try{const a=new Uint8Array(e.slice(0));let o=!1,i=[];if(t.customMatrix&&t.customMatrix.length===9){const h=[[t.customMatrix[0],t.customMatrix[1],t.customMatrix[2]],[t.customMatrix[3],t.customMatrix[4],t.customMatrix[5]],[t.customMatrix[6],t.customMatrix[7],t.customMatrix[8]]],p=gP(h);if(p){const m=t.wbGains?t.wbGains[0]:1,x=t.wbGains?t.wbGains[1]:1,y=fk(p,[[m,0,0],[0,1,0],[0,0,x]]),g=fk(UQ,y);i=[g[0][0],g[0][1],g[0][2],g[1][0],g[1][1],g[1][2],g[2][0],g[2][1],g[2][2]],o=!0}else throw new Error("Custom Matrix is not invertible.")}const s={outputBps:16,noAutoBright:!0,bright:o?1:Math.pow(2,t.exposure)};t.blackLevel&&t.blackLevel.length===4&&(s.userBlack=0,s.userCblack=t.blackLevel.map(h=>{const p=Math.round(h);return p===0?1:p})),t.demosaicMethod===-1?s.noInterpolation=!0:s.userQual=t.demosaicMethod,o?(s.outputColor=0,s.gamma=[1,1],s.userMul=[1,1,1,1],s.useCameraWb=!1):(s.outputColor=1,s.useCameraWb=!0),await n.open(a,s);const l=await n.imageData(),u=new ImageData(l.width,l.height),d=u.data,f=new Uint16Array(l.data.buffer,l.data.byteOffset,l.data.byteLength/2);if(o&&i.length===9){const h=i,m=Math.pow(2,t.exposure)*.25;for(let x=0;x<f.length;x+=3){const w=f[x]/65535,y=f[x+1]/65535,g=f[x+2]/65535;let v=h[0]*w+h[1]*y+h[2]*g,j=h[3]*w+h[4]*y+h[5]*g,b=h[6]*w+h[7]*y+h[8]*g;v*=m,j*=m,b*=m,v=Math.max(0,Math.min(1,v)),j=Math.max(0,Math.min(1,j)),b=Math.max(0,Math.min(1,b)),v=Oc(v),j=Oc(j),b=Oc(b);const k=x/3*4;d[k]=Math.round(v*255),d[k+1]=Math.round(j*255),d[k+2]=Math.round(b*255),d[k+3]=255}}else for(let h=0;h<f.length;h+=3){const p=h/3*4;d[p]=f[h]>>8,d[p+1]=f[h+1]>>8,d[p+2]=f[h+2]>>8,d[p+3]=255}return u}finally{n.delete?n.delete():n.close()}}async function qQ(e,t,r=!1,n=!1){const a=await Uu(),o=new a;try{if(t.renderMode==="zero-dependency"||t.renderMode==="advanced-zero-dep"){await o.open(new Uint8Array(e));const i=await o.metadata(!0),s=(i==null?void 0:i.white_level)||16383,l=o.getRawImage(),{width:u,height:d,data:f}=l,h=new Uint16Array(u*d),p=Math.pow(2,t.exposure);if(t.renderMode==="advanced-zero-dep"&&t.advancedZeroDep){const{bl:m,bg:x,fg:w}=t.advancedZeroDep,y=x.map((b,k)=>Math.max(0,b-m[k])),g=w.map((b,k)=>Math.max(0,b-m[k])),v=(y[1]+y[3])/2,j=(g[1]+g[3])/2;for(let b=0;b<d;b++){const k=b%2;for(let N=0;N<u;N++){const _=N%2;let O=0;!k&&!_?O=0:!k&&_?O=1:k&&!_?O=3:O=2;const A=f[b*u+N],T=m[O],M=y[O],C=g[O],I=Math.max(A-T,0),D=C-M||1e-9,U=(I-M)/D;let P;U<0?P=I*(v/Math.max(M,1e-9)):U>1?P=I*(j/Math.max(C,1e-9)):P=(1-U)*v+U*j,P*=p;let E;if(n){const B=Math.max(0,Math.min(1,P/65535));E=Oc(B)*65535}else E=P;h[b*u+N]=Math.round(Math.max(0,Math.min(65535,E)))}}}else{const m=t.blackLevel||[0,0,0,0],x=t.wbGains?t.wbGains[0]:1,w=t.wbGains?t.wbGains[1]:1;for(let y=0;y<d;y++){const g=y%2;for(let v=0;v<u;v++){const j=v%2,b=g*2+j,k=f[y*u+v],N=m[b];let _=k-N;b===0?_*=x:b===3&&(_*=w),_*=p;const O=Math.max(0,Math.min(1,_/(r?s-N:s))),A=n?Oc(O):O;h[y*u+v]=Math.round(A*65535)}}}return{data:h,width:u,height:d,channels:1}}else{const i=new Uint8Array(e.slice(0)),s={outputBps:16,noAutoBright:!r,bright:1,outputColor:n?1:0,useCameraWb:!0};t.blackLevel&&t.blackLevel.length===4&&(s.userBlack=0,s.userCblack=t.blackLevel.map(f=>Math.max(1,Math.round(f)))),t.demosaicMethod===-1?s.noInterpolation=!0:s.userQual=t.demosaicMethod,await o.open(i,s);const l=await o.imageData(),u=new Uint16Array(l.data.buffer,l.data.byteOffset,l.data.byteLength/2),d=Math.pow(2,t.exposure);if(d!==1)for(let f=0;f<u.length;f++)u[f]=Math.max(0,Math.min(65535,Math.round(u[f]*d)));return{data:u,width:l.width,height:l.height,channels:3}}}finally{o.delete?o.delete():o.close()}}const io=(e,t)=>{const r=localStorage.getItem(e);return r===null?t:typeof t=="boolean"?r==="true":typeof t=="number"?Number(r):r},ZQ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,zIndex:i,onFocus:s,initialPosition:l,initialInternalState:u,onUpdateState:d,stackFiles:f})=>{const[h,p]=S.useState(()=>(u==null?void 0:u.channelMode)??io("hist_mode","All")),[m,x]=S.useState(()=>(u==null?void 0:u.minVal)??io("hist_min",0)),[w,y]=S.useState(()=>(u==null?void 0:u.maxVal)??io("hist_max",16383)),[g,v]=S.useState(()=>(u==null?void 0:u.binCount)??io("hist_bins",100)),[j,b]=S.useState(()=>(u==null?void 0:u.pointToPoint)??io("hist_ptp",!1)),[k,N]=S.useState(()=>(u==null?void 0:u.showTheo)??io("hist_show_theo",!1)),[_,O]=S.useState(()=>(u==null?void 0:u.theoMean)??io("hist_theo_mean","512")),[A,T]=S.useState(()=>(u==null?void 0:u.theoSigma)??io("hist_theo_sigma","10")),[M,C]=S.useState(()=>(u==null?void 0:u.theoAmp)??io("hist_theo_amp","1000")),[I,D]=S.useState(!1),[U,P]=S.useState(0),[E,B]=S.useState([]),[z,te]=S.useState(null),[Q,R]=S.useState(l||{x:100,y:100}),[J,q]=S.useState(!1),$=S.useRef({x:0,y:0});S.useEffect(()=>{localStorage.setItem("hist_mode",h),localStorage.setItem("hist_min",String(m)),localStorage.setItem("hist_max",String(w)),localStorage.setItem("hist_bins",String(g)),localStorage.setItem("hist_ptp",String(j)),localStorage.setItem("hist_show_theo",String(k)),localStorage.setItem("hist_theo_mean",_),localStorage.setItem("hist_theo_sigma",A),localStorage.setItem("hist_theo_amp",M),d&&d({channelMode:h,minVal:m,maxVal:w,binCount:g,pointToPoint:j,showTheo:k,theoMean:_,theoSigma:A,theoAmp:M})},[h,m,w,g,j,k,_,A,M]),S.useEffect(()=>{if(!e||!a||!n&&(!f||f.length===0))return;if(w<=m){te("Invalid range: Max must be greater than Min");return}te(null),D(!0),P(0);const oe=new AbortController,we=[],Ke=setTimeout(async()=>{try{let ge=[];if(f&&f.length>1){const xe=Math.min(f.length,navigator.hardwareConcurrency||4);for(let lt=0;lt<xe;lt++){const er=new Worker(new URL("/assets/histogramWorker-By4HuKAV.js",import.meta.url),{type:"module"});we.push(er)}let Ie=0,it=0;const bt=[],gr=async lt=>{for(;Ie<f.length;){if(oe.signal.aborted)return;const er=Ie++,Ue=f[er];try{const Ht=await Ue.arrayBuffer();await new Promise((Rt,tr)=>{lt.onmessage=jr=>{const{success:yt,hist:Ge,error:ct}=jr.data;yt?(bt.push(Ge),it++,P(it),Rt()):(console.error(`Error processing ${Ue.name}:`,ct),Rt())},lt.onerror=jr=>{console.error("Worker Error",jr),Rt()},lt.postMessage({buffer:Ht,roi:a,binCount:g,minVal:m,maxVal:w,pointToPoint:j},[Ht])})}catch(Ht){console.error("File Read Error",Ht)}}};if(await Promise.all(we.map(lt=>gr(lt))),we.forEach(lt=>lt.terminate()),we.length=0,bt.length>0){ge=bt[0];for(let lt=1;lt<bt.length;lt++){const er=bt[lt];for(let Ue=0;Ue<er.length;Ue++)ge[Ue]&&(ge[Ue].c0+=er[Ue].c0,ge[Ue].c1+=er[Ue].c1,ge[Ue].c2+=er[Ue].c2,ge[Ue].c3+=er[Ue].c3)}}}else n&&(ge=VQ(n.data,n.width,n.height,a.x,a.y,a.w,a.h,g,m,w,j));oe.signal.aborted||B(ge)}catch(ge){console.error("Histogram calc error:",ge),te("Error calculating histogram")}finally{oe.signal.aborted||D(!1)}},50);return()=>{clearTimeout(Ke),oe.abort(),we.length>0&&(console.log(`Terminating ${we.length} active histogram workers...`),we.forEach(ge=>ge.terminate()))}},[e,n,a==null?void 0:a.x,a==null?void 0:a.y,a==null?void 0:a.w,a==null?void 0:a.h,g,m,w,j,f]);const ne=S.useMemo(()=>{if(!k)return E;const oe=parseFloat(_),we=parseFloat(A),ve=parseFloat(M);return isNaN(oe)||isNaN(we)||isNaN(ve)||we<=0?E:E.map(Ke=>{const ge=Ke.binStart,xe=-Math.pow(ge-oe,2)/(2*Math.pow(we,2)),Ie=ve*Math.exp(xe);return{...Ke,theory:Ie}})},[E,k,_,A,M]),ce=()=>{if(E.length===0)return;let oe=0,we=0;if(E.forEach(ve=>{const Ke=Math.max(ve.c0||0,ve.c1||0,ve.c2||0,ve.c3||0);Ke>oe&&(oe=Ke,we=ve.binStart)}),O(we.toFixed(2)),C(oe.toString()),parseFloat(A)===0||isNaN(parseFloat(A))){const ve=w-m;T((ve/20).toFixed(2))}},Y=(oe,we,ve)=>{s&&s(),!(ve.closest("button")||ve.closest("input")||ve.closest("select"))&&(q(!0),$.current={x:oe-Q.x,y:we-Q.y})},ue=oe=>{Y(oe.clientX,oe.clientY,oe.target)},he=oe=>{const we=oe.touches[0];Y(we.clientX,we.clientY,oe.target)};if(S.useEffect(()=>{const oe=ve=>{if(J){const Ke="touches"in ve?ve.touches[0].clientX:ve.clientX,ge="touches"in ve?ve.touches[0].clientY:ve.clientY;R({x:Ke-$.current.x,y:ge-$.current.y})}},we=()=>q(!1);return J&&(window.addEventListener("mousemove",oe),window.addEventListener("mouseup",we),window.addEventListener("touchmove",oe,{passive:!1}),window.addEventListener("touchend",we)),()=>{window.removeEventListener("mousemove",oe),window.removeEventListener("mouseup",we),window.removeEventListener("touchmove",oe),window.removeEventListener("touchend",we)}},[J]),!e)return null;const K=o?{c0:"Blue",c1:"Green 1",c2:"Green 2",c3:"Red"}:{c0:"Red",c1:"Green 1",c2:"Green 2",c3:"Blue"},Pe=o?{c0:"#3b82f6",c1:"#22c55e",c2:"#4ade80",c3:"#ef4444"}:{c0:"#ef4444",c1:"#22c55e",c2:"#4ade80",c3:"#3b82f6"},ke="step";return c.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl resize-both overflow-hidden min-w-[500px] min-h-[400px] w-[900px] h-[650px]",style:{left:Q.x,top:Q.y,zIndex:i??100},onMouseDownCapture:s,children:[c.jsxs("div",{className:`flex justify-between items-center p-4 border-b border-gray-200 dark:border-slate-700 flex-shrink-0 bg-white dark:bg-slate-900 select-none touch-none ${J?"cursor-grabbing":"cursor-grab"}`,onMouseDown:ue,onTouchStart:he,children:[c.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 pointer-events-none flex items-center gap-2",children:["ROI Histogram",f&&f.length>1&&c.jsxs("span",{className:"text-[10px] font-normal bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 px-2 py-0.5 rounded border border-purple-200 dark:border-purple-800 shadow-sm",children:["Stack Count: ",f.length]})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[r&&c.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),c.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-800/50 flex flex-wrap gap-x-6 gap-y-3 items-center border-b border-gray-200 dark:border-slate-700 text-xs flex-shrink-0 relative z-10",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-bold uppercase tracking-tight",children:"Channel:"}),c.jsxs("select",{value:h,onChange:oe=>p(oe.target.value),className:"bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-900 dark:text-slate-100 outline-none focus:ring-1 focus:ring-cyan-500",children:[c.jsx("option",{value:"All",children:"All Colors"}),c.jsx("option",{value:"0",children:K.c0}),c.jsx("option",{value:"1",children:K.c1}),c.jsx("option",{value:"2",children:K.c2}),c.jsx("option",{value:"3",children:K.c3})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-bold uppercase tracking-tight",children:"Range:"}),c.jsx("input",{type:"number",value:m,onChange:oe=>x(Number(oe.target.value)),className:"w-16 px-1.5 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right font-mono"}),c.jsx("span",{className:"text-gray-400",children:"-"}),c.jsx("input",{type:"number",value:w,onChange:oe=>y(Number(oe.target.value)),className:"w-16 px-1.5 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right font-mono"})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:j,onChange:oe=>b(oe.target.checked),className:"w-3.5 h-3.5 text-cyan-600 rounded border-gray-300 focus:ring-cyan-500"}),c.jsx("span",{className:"text-gray-700 dark:text-slate-300 select-none font-semibold",children:"PTP"})]}),!j&&c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"Bins:"}),c.jsx("input",{type:"number",value:g,onChange:oe=>v(Math.max(1,Number(oe.target.value))),className:"w-12 px-1.5 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right font-mono"})]})]}),c.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700"}),c.jsxs("div",{className:`flex items-center gap-3 p-1.5 rounded-lg border transition-all ${k?"bg-amber-50/30 dark:bg-amber-900/10 border-amber-200/50 dark:border-amber-800/50":"bg-transparent border-transparent"}`,children:[c.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer select-none",children:[c.jsx("input",{type:"checkbox",checked:k,onChange:oe=>N(oe.target.checked),className:"w-3.5 h-3.5 text-amber-500 rounded border-gray-300 focus:ring-amber-500 bg-white dark:bg-slate-700"}),c.jsx("span",{className:`font-bold uppercase tracking-tight ${k?"text-amber-600 dark:text-amber-400":"text-gray-400"}`,children:"Theoretical Bell"})]}),k&&c.jsxs("div",{className:"flex items-center gap-2 animate-in fade-in slide-in-from-left-2 duration-200",children:[c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("span",{className:"text-[8px] text-gray-400 uppercase font-bold",children:"Mean()"}),c.jsx("input",{type:"text",value:_,onChange:oe=>O(oe.target.value),className:"w-14 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center text-[10px] py-0.5 outline-none focus:border-amber-500"})]}),c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("span",{className:"text-[8px] text-gray-400 uppercase font-bold",children:"Sigma()"}),c.jsx("input",{type:"text",value:A,onChange:oe=>T(oe.target.value),className:"w-12 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center text-[10px] py-0.5 outline-none focus:border-amber-500"})]}),c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("span",{className:"text-[8px] text-gray-400 uppercase font-bold",children:"Scale(A)"}),c.jsx("input",{type:"text",value:M,onChange:oe=>C(oe.target.value),className:"w-16 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center text-[10px] py-0.5 outline-none focus:border-amber-500"})]}),c.jsx("button",{onClick:ce,className:"mt-3 px-2 py-0.5 bg-amber-600 hover:bg-amber-500 text-white text-[9px] font-bold rounded shadow-sm active:scale-95 transition-all",title:"Set Mean and Amplitude based on current peak",children:"AUTO FIT"})]})]})]}),c.jsxs("div",{className:"flex-1 p-4 relative bg-white dark:bg-slate-900 overflow-hidden min-h-0",children:[c.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-0 pointer-events-none select-none opacity-10 mix-blend-normal dark:mix-blend-plus-lighter",children:c.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:c.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),I&&c.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-20 bg-white/50 dark:bg-slate-900/50 backdrop-blur-[1px]",children:[c.jsx("div",{className:"w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mb-2"}),c.jsx("span",{className:"text-sm text-cyan-600 dark:text-cyan-400 font-semibold",children:f&&f.length>1?`Stacking Histogram... ${U}/${f.length}`:"Calculating Histogram..."})]}),z?c.jsx("div",{className:"flex items-center justify-center h-full text-red-500 relative z-10",children:z}):c.jsx("div",{className:"relative z-10 w-full h-full",children:c.jsx(vo,{width:"100%",height:"100%",children:c.jsxs(Fs,{data:ne,children:[c.jsx(Qa,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3}),c.jsx(zn,{dataKey:"binStart",type:"number",domain:[m,w],tickFormatter:oe=>Math.floor(oe).toString(),tick:{fill:"#9ca3af",fontSize:12},allowDataOverflow:!0,label:{value:"DN Value",position:"insideBottom",offset:-5,fill:"#9ca3af",fontSize:12}}),c.jsx(Un,{tick:{fill:"#9ca3af",fontSize:12},label:{value:"Count",angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:12}}),c.jsx(Kr,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6"},itemStyle:{fontSize:"12px"},labelFormatter:oe=>`DN: ${Math.round(Number(oe))}`,formatter:(oe,we)=>[Math.round(oe),we]}),c.jsx(Ka,{wrapperStyle:{paddingTop:"10px"}}),k&&c.jsx(Pr,{type:"monotone",dataKey:"theory",name:"Ideal Bell (Gaussian)",stroke:"#f59e0b",strokeWidth:2.5,strokeDasharray:"5 5",dot:!1,isAnimationActive:!1}),(h==="All"||h==="0")&&c.jsx(Pr,{type:ke,dataKey:"c0",name:K.c0,stroke:Pe.c0,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(h==="All"||h==="1")&&c.jsx(Pr,{type:ke,dataKey:"c1",name:K.c1,stroke:Pe.c1,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(h==="All"||h==="2")&&c.jsx(Pr,{type:ke,dataKey:"c2",name:K.c2,stroke:Pe.c2,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(h==="All"||h==="3")&&c.jsx(Pr,{type:ke,dataKey:"c3",name:K.c3,stroke:Pe.c3,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1})]})})})]})]})},Ll=({initialPosition:e={x:20,y:80},children:t,className:r="",onClose:n,zIndex:a,onFocus:o})=>{const[i,s]=S.useState(e),[l,u]=S.useState(!1),[d,f]=S.useState({x:0,y:0}),h=S.useRef(null),p=(w,y,g)=>{o&&o(),!(g.closest("button")||g.closest("input"))&&(u(!0),f({x:w-i.x,y:y-i.y}))},m=w=>{p(w.clientX,w.clientY,w.target)},x=w=>{const y=w.touches[0];p(y.clientX,y.clientY,w.target)};return S.useEffect(()=>{const w=g=>{var v,j;if(l){g.cancelable&&g.preventDefault();const b="touches"in g?g.touches[0].clientX:g.clientX,k="touches"in g?g.touches[0].clientY:g.clientY,N=b-d.x,_=k-d.y,O=window.innerWidth-(((v=h.current)==null?void 0:v.offsetWidth)||100),A=window.innerHeight-(((j=h.current)==null?void 0:j.offsetHeight)||100);s({x:Math.max(0,Math.min(N,O)),y:Math.max(0,Math.min(_,A))})}},y=()=>{u(!1)};return l&&(window.addEventListener("mousemove",w),window.addEventListener("mouseup",y),window.addEventListener("touchmove",w,{passive:!1}),window.addEventListener("touchend",y)),()=>{window.removeEventListener("mousemove",w),window.removeEventListener("mouseup",y),window.removeEventListener("touchmove",w),window.removeEventListener("touchend",y)}},[l,d]),c.jsxs("div",{ref:h,style:{left:i.x,top:i.y,zIndex:a??90},onMouseDownCapture:o,className:`fixed border-2 border-black dark:border-gray-500 bg-white dark:bg-black shadow-[8px_8px_0px_rgba(0,0,0,0.5)] dark:shadow-[8px_8px_0px_rgba(255,255,255,0.2)] transition-shadow duration-200 ${l?"cursor-grabbing shadow-[4px_4px_0px_rgba(0,0,0,0.5)]":""} ${r}`,children:[c.jsx("div",{onMouseDown:m,onTouchStart:x,className:"absolute inset-0 w-full h-8 cursor-grab active:cursor-grabbing z-0 touch-none bg-gray-200 dark:bg-gray-800 border-b-2 border-black dark:border-gray-500",title:"Drag to move"}),c.jsx("div",{className:"relative z-10 pointer-events-none",children:c.jsx("div",{className:"pointer-events-auto",children:t})})]})},QQ=({isOpen:e,onClose:t,rawImageData:r,roi:n,selectedChannel:a,channelName:o,zIndex:i,onFocus:s,initialPosition:l})=>{const u=S.useRef(null),[d,f]=S.useState(!1),[h,p]=S.useState(null),[m,x]=S.useState(null),[w,y]=S.useState(!0),[g,v]=S.useState(!0),[j,b]=S.useState("-1"),[k,N]=S.useState("8"),[_,O]=S.useState(64),[A,T]=S.useState(45),[M,C]=S.useState(60),I=S.useRef(!1),D=S.useRef({x:0,y:0});S.useEffect(()=>{!e||!r||!n||(f(!0),x(null),setTimeout(()=>{try{const B=KQ(r.data,r.width,r.height,n,a,g);B?p(B):x("Could not extract valid data from ROI.")}catch(B){console.error("2D FFT Error",B),x("Calculation Error: "+B.message)}finally{f(!1)}},50))},[e,r,n,a,g]),S.useEffect(()=>{if(!h||!u.current)return;const B=u.current,z=B.getContext("2d");if(!z)return;const te=B.width,Q=B.height;z.clearRect(0,0,te,Q),z.fillStyle="#0f172a",z.fillRect(0,0,te,Q);const R=h.width,J=h.height,q=h.data,$=Math.pow(10,parseFloat(j)||-1),ne=Math.pow(10,parseFloat(k)||8);let ce=$,Y=ne;w&&(ce=Math.log10(Math.max(1e-10,$)),Y=Math.log10(Math.max(1e-10,ne)));const ue=Y-ce||1,he=te/2,K=Q/2+50,Pe=Math.min(te,Q)*.4,ke=.6,oe=A*Math.PI/180,we=M*Math.PI/180,ve=Math.cos(oe),Ke=Math.sin(oe),ge=Math.cos(we),xe=Math.sin(we),Ie=(Ge,ct,Nt)=>{const rr=Ge*ve-ct*Ke,nr=Ge*Ke+ct*ve,Zr=nr*ge-Nt*xe,Ct=nr*xe+Nt*ge;return{x:he+rr*Pe,y:K-Zr*Pe,depth:Ct}},it=Math.max(16,_),bt=Math.max(1,Math.floor(R/it)),gr=Math.max(1,Math.floor(J/it)),lt=(Ge,ct)=>{let Nt=q[ct*R+Ge];return w&&(Nt=Math.log10(Math.max(1e-10,Nt))),Nt=Math.max(ce,Math.min(Y,Nt)),(Nt-ce)/ue},er=Ge=>`hsl(${(1-Ge)*240}, 80%, 50%)`,Ue=[];for(let Ge=0;Ge<J-gr;Ge+=gr)for(let ct=0;ct<R-bt;ct+=bt){const Nt=ct,rr=Ge,nr=ct+bt,Zr=Ge,Ct=ct+bt,yn=Ge+gr,wt=ct,vn=Ge+gr,zr=lt(Nt,rr),La=lt(nr,Zr),Dt=lt(Ct,yn),sn=lt(wt,vn),mr=(zr+La+Dt+sn)/4,Tn=Ie(Nt/(R-1)-.5,rr/(J-1)-.5,zr*ke),Ur=Ie(nr/(R-1)-.5,Zr/(J-1)-.5,La*ke),Sr=Ie(Ct/(R-1)-.5,yn/(J-1)-.5,Dt*ke),xn=Ie(wt/(R-1)-.5,vn/(J-1)-.5,sn*ke),xa=(Tn.depth+Ur.depth+Sr.depth+xn.depth)/4;Ue.push({pts:[{x:Tn.x,y:Tn.y},{x:Ur.x,y:Ur.y},{x:Sr.x,y:Sr.y},{x:xn.x,y:xn.y}],avgDepth:xa,avgZ:mr})}Ue.sort((Ge,ct)=>Ge.avgDepth-ct.avgDepth),z.lineWidth=.5,Ue.forEach(Ge=>{z.fillStyle=er(Ge.avgZ),z.beginPath(),z.moveTo(Ge.pts[0].x,Ge.pts[0].y),z.lineTo(Ge.pts[1].x,Ge.pts[1].y),z.lineTo(Ge.pts[2].x,Ge.pts[2].y),z.lineTo(Ge.pts[3].x,Ge.pts[3].y),z.closePath(),z.fill()}),z.fillStyle="#aaa",z.font="10px monospace";const Ht=Ie(-.5,-.5,0),Rt=Ie(.5,-.5,0),tr=Ie(-.5,.5,0),jr=Ie(.5,.5,0);z.strokeStyle="#666",z.beginPath(),z.moveTo(Ht.x,Ht.y),z.lineTo(Rt.x,Rt.y),z.lineTo(jr.x,jr.y),z.lineTo(tr.x,tr.y),z.closePath(),z.stroke(),z.fillText("0",Ht.x-10,Ht.y+10),z.fillText("Fx",Rt.x+5,Rt.y),z.fillText("Fy",tr.x-15,tr.y);const yt=Ie(-.5,-.5,ke);z.strokeStyle="#fff",z.beginPath(),z.moveTo(Ht.x,Ht.y),z.lineTo(yt.x,yt.y),z.stroke(),z.fillText(`10^${k}`,yt.x-25,yt.y),z.fillText(`10^${j}`,Ht.x-25,Ht.y)},[h,w,A,M,j,k,_]);const U=B=>{I.current=!0,D.current={x:B.clientX,y:B.clientY}},P=B=>{if(!I.current)return;const z=B.clientX-D.current.x,te=B.clientY-D.current.y;T(Q=>Q-z*.5),C(Q=>Math.max(0,Math.min(90,Q+te*.5))),D.current={x:B.clientX,y:B.clientY}},E=()=>{I.current=!1};return e?c.jsxs(Ll,{initialPosition:l||{x:100,y:100},onClose:t,zIndex:i,onFocus:s,className:"w-[700px] h-[600px] bg-slate-900 border border-slate-700 flex flex-col overflow-hidden shadow-2xl",children:[c.jsxs("div",{className:"flex justify-between items-center px-4 py-2 border-b border-slate-700 bg-slate-800",children:[c.jsxs("h3",{className:"text-sm font-bold text-slate-200 flex items-center gap-2",children:["2D FFT Power Spectrum - ",o,h&&c.jsxs("span",{className:"text-[10px] font-normal text-slate-400 bg-slate-700 px-2 py-0.5 rounded",children:[h.width,"x",h.height," (Chirp-Z)"]})]}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("button",{onClick:t,className:"text-slate-400 hover:text-red-400 transition-colors",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})})]}),c.jsxs("div",{className:"p-3 bg-slate-800/80 flex flex-wrap gap-4 text-xs items-center border-b border-slate-700",children:[c.jsxs("div",{className:"flex items-center gap-2 bg-slate-900 px-2 py-1 rounded border border-slate-600",children:[c.jsx("span",{className:"text-slate-400 font-bold",children:"Range (10^x):"}),c.jsx("input",{type:"number",value:j,onChange:B=>b(B.target.value),className:"w-10 bg-transparent text-slate-200 text-center border-b border-slate-600 focus:border-cyan-500 outline-none"}),c.jsx("span",{className:"text-slate-500",children:"to"}),c.jsx("input",{type:"number",value:k,onChange:B=>N(B.target.value),className:"w-10 bg-transparent text-slate-200 text-center border-b border-slate-600 focus:border-cyan-500 outline-none"})]}),c.jsxs("div",{className:"flex items-center gap-2 bg-slate-900 px-2 py-1 rounded border border-slate-600",children:[c.jsx("span",{className:"text-slate-400 font-bold",children:"Density:"}),c.jsx("input",{type:"range",min:"16",max:"128",step:"16",value:_,onChange:B=>O(Number(B.target.value)),className:"w-20 h-1.5 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"}),c.jsx("span",{className:"text-slate-300 w-6 text-right",children:_})]}),c.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none text-slate-300 hover:text-white",children:[c.jsx("input",{type:"checkbox",checked:w,onChange:B=>y(B.target.checked),className:"rounded bg-slate-700 border-slate-600 accent-cyan-500"}),"Log Z"]}),c.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none text-slate-300 hover:text-white",children:[c.jsx("input",{type:"checkbox",checked:g,onChange:B=>v(B.target.checked),className:"rounded bg-slate-700 border-slate-600 accent-fuchsia-500"}),"Hanning"]})]}),c.jsxs("div",{className:"flex-1 relative bg-slate-900 cursor-move",children:[d&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-900/80 z-20 backdrop-blur-sm",children:c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx("div",{className:"w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin"}),c.jsx("span",{className:"text-cyan-400 font-bold animate-pulse text-sm",children:"Computing full-size 2D FFT..."})]})}),m&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-900/80 z-20 text-red-400 p-4 text-center",children:m}),c.jsx("canvas",{ref:u,width:700,height:500,className:"w-full h-full block",onMouseDown:U,onMouseMove:P,onMouseUp:E,onMouseLeave:E}),c.jsx("div",{className:"absolute bottom-2 right-2 text-[9px] text-slate-600 pointer-events-none",children:"Drag to Rotate"})]})]}):null},JQ=.5,ry=1e-10,gk=(e,t)=>{const r=e.length-1;if(r<0)return ry;const n=t/JQ*r,a=Math.round(n),o=e[Math.min(Math.max(0,a),r)]||0;return Math.max(o,ry)},eJ=(e,t)=>{if(t<=0)return[1];const r=new Array(e);let n=0;for(let a=0;a<e;a++){const o=a-(e-1)/2,i=Math.exp(-(o*o)/(2*t*t));r[a]=i,n+=i}for(let a=0;a<e;a++)r[a]/=n;return r},tJ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,onUpdateROI:i,zIndex:s,onFocus:l,initialPosition:u,initialInternalState:d,onUpdateState:f,stackFiles:h})=>{const[p,m]=S.useState((d==null?void 0:d.selectedChannel)??0),[x,w]=S.useState(()=>(d==null?void 0:d.yMinExp)||localStorage.getItem("fft_y_min")||"1.73"),[y,g]=S.useState(()=>(d==null?void 0:d.yMaxExp)||localStorage.getItem("fft_y_max")||"8.00"),[v,j]=S.useState((d==null?void 0:d.useHanning)??!0),[b,k]=S.useState((d==null?void 0:d.doAverage)??!0),[N,_]=S.useState((d==null?void 0:d.welchSegments)??1),[O,A]=S.useState((d==null?void 0:d.showH)??!0),[T,M]=S.useState((d==null?void 0:d.showV)??!0),[C,I]=S.useState((d==null?void 0:d.interlaceRows)??!1),[D,U]=S.useState((d==null?void 0:d.rowGroup)??0),[P,E]=S.useState((d==null?void 0:d.interlaceCols)??!1),[B,z]=S.useState((d==null?void 0:d.colGroup)??0),[te,Q]=S.useState(()=>(d==null?void 0:d.theoSigma)||localStorage.getItem("fft_theo_sigma")||"0.00"),[R,J]=S.useState(()=>(d==null?void 0:d.theoKernelSize)||localStorage.getItem("fft_theo_ksize")||"3"),[q,$]=S.useState(()=>(d==null?void 0:d.theoNoiseStd)||localStorage.getItem("fft_theo_noise")||"7.5"),[ne,ce]=S.useState(()=>(d==null?void 0:d.theoScale)||localStorage.getItem("fft_theo_scale")||"1.0"),[Y,ue]=S.useState((d==null?void 0:d.intStart)||"0"),[he,K]=S.useState((d==null?void 0:d.intEnd)||"0.5"),[Pe,ke]=S.useState(!1),[oe,we]=S.useState([]),[ve,Ke]=S.useState(!1),[ge,xe]=S.useState(0),[Ie,it]=S.useState(null),[bt,gr]=S.useState(!1),[lt,er]=S.useState(!1),[Ue,Ht]=S.useState(null),[Rt,tr]=S.useState(!1),[jr,yt]=S.useState(null),[Ge,ct]=S.useState(u||{x:50,y:50}),[Nt,rr]=S.useState(!1),[nr,Zr]=S.useState(null),[Ct,yn]=S.useState({}),wt=S.useRef({x:0,y:0}),vn=o?{c0:"#3b82f6",c1:"#22c55e",c2:"#4ade80",c3:"#ef4444"}:{c0:"#ef4444",c1:"#22c55e",c2:"#4ade80",c3:"#3b82f6"},zr=S.useMemo(()=>o?{0:"Blue",1:"Green 1",2:"Green 2",3:"Red"}:{0:"Red",1:"Green 1",2:"Green 2",3:"Blue"},[o]);S.useEffect(()=>{localStorage.setItem("fft_y_min",x),localStorage.setItem("fft_y_max",y),localStorage.setItem("fft_theo_sigma",te),localStorage.setItem("fft_theo_ksize",R),localStorage.setItem("fft_theo_noise",q),localStorage.setItem("fft_theo_scale",ne)},[x,y,te,R,q,ne]),S.useEffect(()=>{if(!e||!n||!a)return;Ke(!0),it(null),xe(0);const ie=setTimeout(async()=>{try{const Ce=p===-1?[0,1,2,3]:[p],ze=h&&h.length>1?h:[null],et=ze.length,Qe={};let kt={h:0,v:0};for(let Fe=0;Fe<et;Fe++){xe(Fe+1);let st;if(ze[Fe]){const Lt=await ze[Fe].arrayBuffer();st=await mh(Lt)}else st=n;for(const Lt of Ce){const Tt=XQ(st.data,st.width,st.height,a,Lt,!1,v,{rows:C,rowGroup:D,cols:P,colGroup:B},b,N);Tt&&(Qe[Lt]||(Qe[Lt]={h:new Array(Tt.avgHoriz.length).fill(0),v:new Array(Tt.avgVert.length).fill(0)}),Tt.avgHoriz.forEach((ir,pe)=>Qe[Lt].h[pe]+=ir/et),Tt.avgVert.forEach((ir,pe)=>Qe[Lt].v[pe]+=ir/et),kt=Tt.sampleCount)}}if(Object.keys(Qe).length===0)throw new Error("ROI too small or no data found.");const or=1024,yr=[];for(let Fe=0;Fe<or;Fe++){const st=Fe/(or-1)*.5,Lt={freq:parseFloat(st.toFixed(6))};for(const Tt of Ce)Qe[Tt]&&(Lt[`c${Tt}_h`]=gk(Qe[Tt].h,st),Lt[`c${Tt}_v`]=gk(Qe[Tt].v,st));yr.push(Lt)}Zr(kt),we(yr)}catch(Ce){console.error("FFT Loop Failed:",Ce),it(Ce.message||"Unknown error during FFT processing")}finally{Ke(!1)}},100);return()=>clearTimeout(ie)},[e,n,a==null?void 0:a.x,a==null?void 0:a.y,a==null?void 0:a.w,a==null?void 0:a.h,p,v,b,N,C,D,P,B,h]);const La=()=>{const ie=parseFloat(Y),Ce=parseFloat(he);if(isNaN(ie)||isNaN(Ce))return;const ze={},et=p===-1?[0,1,2,3]:[p],Qe=oe.filter(kt=>kt.freq>=ie&&kt.freq<=Ce);if(Qe.length===0){yn({});return}et.forEach(kt=>{let or=0,yr=0;Qe.forEach(Fe=>{const st=Fe[`c${kt}_h`],Lt=Fe[`c${kt}_v`];typeof st=="number"&&(or+=st),typeof Lt=="number"&&(yr+=Lt)}),ze[kt]={h:or/Qe.length,v:yr/Qe.length,count:Qe.length}}),yn(ze)},Dt=S.useMemo(()=>{const ie=parseFloat(te),Ce=parseInt(R),ze=parseFloat(q),et=parseFloat(ne);if(isNaN(ie)||isNaN(Ce)||isNaN(ze)||isNaN(et)||oe.length===0)return oe;const Qe=eJ(Ce,ie),kt=Qe.reduce((Fe,st)=>Fe+st*st,0),or=(Ce-1)/2,yr=ze*ze*et;return oe.map(Fe=>{const st=Fe.freq,Lt=2*Math.PI*st;let Tt=0,ir=0;for(let Ar=0;Ar<Ce;Ar++){const ba=Ar-or,Qr=Qe[Ar],bn=-Lt*ba;Tt+=Qr*Math.cos(bn),ir+=Qr*Math.sin(bn)}const pe=Tt*Tt+ir*ir;return{...Fe,theory:Math.max(ry,yr*kt*pe)}})},[oe,te,R,q,ne]),sn=ie=>{ie&&ie.activeLabel!==void 0&&(tr(!0),yt(Number(ie.activeLabel)),Ht(null))},mr=ie=>{if(Rt&&jr!==null&&ie&&ie.activeLabel!==void 0){const Ce=Number(ie.activeLabel);Ht([Math.min(jr,Ce),Math.max(jr,Ce)])}},Tn=()=>tr(!1),Ur=(ie,Ce,ze)=>{l&&l(),!(ze.closest("button")||ze.closest("input"))&&(rr(!0),wt.current={x:ie-Ge.x,y:Ce-Ge.y})},Sr=ie=>{Ur(ie.clientX,ie.clientY,ie.target)},xn=ie=>{const Ce=ie.touches[0];Ur(Ce.clientX,Ce.clientY,ie.target)};S.useEffect(()=>{const ie=ze=>{if(Nt){const et="touches"in ze?ze.touches[0].clientX:ze.clientX,Qe="touches"in ze?ze.touches[0].clientY:ze.clientY;ct({x:et-wt.current.x,y:Qe-wt.current.y})}},Ce=()=>rr(!1);return Nt&&(window.addEventListener("mousemove",ie),window.addEventListener("mouseup",Ce),window.addEventListener("touchmove",ie,{passive:!1}),window.addEventListener("touchend",Ce)),()=>{window.removeEventListener("mousemove",ie),window.removeEventListener("mouseup",Ce),window.removeEventListener("touchmove",ie),window.removeEventListener("touchend",Ce)}},[Nt]);const xa=S.useMemo(()=>{if(!Ue||oe.length===0)return null;const[ie,Ce]=Ue,ze=oe.filter(kt=>kt.freq>=ie&&kt.freq<=Ce);if(ze.length===0)return null;const et=p===-1?[0,1,2,3]:[p],Qe={};return et.forEach(kt=>{["h","v"].forEach(or=>{const yr=`c${kt}_${or}`;let Fe=0,st=0;for(const Lt of ze){const Tt=Lt[yr];typeof Tt=="number"&&(Fe+=Tt,st++)}st>0&&(Qe[`${yr}_sigma`]=Math.sqrt(Fe/st))})}),{count:ze.length,stats:Qe}},[Ue,oe,p]),Zt=()=>{if(oe.length===0)return;let ie=1/0,Ce=-1/0;if(oe.forEach(or=>{or.freq<.01||or.freq>.49||Object.keys(or).forEach(yr=>{if(yr==="freq"||yr==="theory")return;const Fe=or[yr];typeof Fe=="number"&&Fe>0&&(Fe<ie&&(ie=Fe),Fe>Ce&&(Ce=Fe))})}),ie===1/0)return;const ze=Math.log10(ie),et=Math.log10(Ce),Qe=et-ze,kt=(Qe===0?1:Qe)*.1;w((ze-kt).toFixed(2)),g((et+kt).toFixed(2))},ar=(ie,Ce)=>{a&&i&&i({...a,x:a.x+ie,y:a.y+Ce})},zt=(ie,Ce)=>{a&&i&&i({...a,w:Math.max(2,a.w+ie),h:Math.max(2,a.h+Ce)})};return e?c.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl overflow-hidden resize-both min-w-[750px] min-h-[500px]",style:{left:Ge.x,top:Ge.y,width:"1000px",height:"850px",zIndex:s??100},onMouseDownCapture:l,children:[c.jsxs("div",{className:`flex justify-between items-center p-3 border-b border-gray-200 dark:border-slate-700 flex-shrink-0 bg-gray-50 dark:bg-slate-800 z-50 relative select-none touch-none ${Nt?"cursor-grabbing":"cursor-grab"}`,onMouseDown:Sr,onTouchStart:xn,children:[c.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2 pointer-events-none",children:["Power Spectrum Analysis",c.jsx("span",{className:"text-[10px] font-normal bg-white dark:bg-slate-700 px-2 py-1 rounded text-gray-500 border border-gray-200 dark:border-slate-600 shadow-sm",children:h&&h.length>1?`Stack Avg (${h.length} frames)`:"Single Mode"})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[r&&c.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),c.jsxs("div",{className:"flex flex-col bg-gray-50 dark:bg-slate-900/80 border-b border-gray-200 dark:border-slate-800 flex-shrink-0 z-40 relative px-4 py-3 gap-3 overflow-x-auto",children:[c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-[10px] font-bold text-gray-500 dark:text-slate-400 uppercase tracking-widest",children:"Channel"}),c.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-800 rounded-lg p-0.5 border border-gray-200 dark:border-slate-700 shadow-inner",children:[c.jsx("button",{onClick:()=>m(-1),className:`px-3 py-1 rounded text-[10px] font-bold transition-all ${p===-1?"bg-slate-700 text-white shadow-md":"text-gray-500 dark:text-slate-500 hover:bg-white dark:hover:bg-slate-700"}`,children:"All"}),[0,1,2,3].map(ie=>c.jsx("button",{onClick:()=>m(ie),className:`px-3 py-1 rounded text-[10px] font-bold transition-all ${p===ie?"bg-cyan-600 text-white shadow-md":"text-gray-500 dark:text-slate-500 hover:bg-white dark:hover:bg-slate-700"}`,children:zr[ie]},ie))]})]}),c.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700 mx-2"}),c.jsxs("button",{onClick:()=>ke(!0),className:"flex items-center gap-1.5 px-4 py-1.5 bg-indigo-600 hover:bg-indigo-500 text-white text-[10px] font-bold rounded-lg shadow-lg shadow-indigo-500/30 transition-all active:scale-95 group border border-indigo-400/30",children:[c.jsx("svg",{className:"w-3.5 h-3.5 group-hover:animate-pulse",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"2D Diagonal"]}),c.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700 mx-2"}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-400 uppercase tracking-widest",children:"Model"}),c.jsx("div",{className:"flex gap-2",children:[{label:"KSize",val:R,set:J,w:"w-10"},{label:"Sigma",val:te,set:Q,w:"w-12"},{label:"Noise()",val:q,set:$,w:"w-12"},{label:"Scale",val:ne,set:ce,w:"w-12"}].map(ie=>c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("label",{className:"text-[8px] text-gray-400 dark:text-slate-500 uppercase font-bold mb-0.5",children:ie.label}),c.jsx("input",{type:"text",value:ie.val,onChange:Ce=>ie.set(Ce.target.value),className:`${ie.w} text-[11px] bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded px-1.5 py-0.5 text-center text-gray-900 dark:text-slate-100 outline-none focus:border-indigo-500 shadow-sm`})]},ie.label))})]})]}),c.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[c.jsxs("div",{className:"flex items-center gap-3 mr-2",children:[c.jsx("span",{className:"text-[10px] font-bold text-fuchsia-600 dark:text-fuchsia-500 uppercase tracking-widest",children:"Welch"}),c.jsx("input",{type:"range",min:"1",max:"16",step:"1",value:N,onChange:ie=>_(parseInt(ie.target.value)),className:"w-24 h-1.5 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-fuchsia-500"}),c.jsx("span",{className:"text-[10px] font-mono text-fuchsia-600 dark:text-fuchsia-400 w-4 font-bold",children:N})]}),c.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700"}),c.jsxs("div",{className:"flex flex-col gap-1 px-2",children:[c.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer text-[10px] text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 select-none",children:[c.jsx("input",{type:"checkbox",checked:C,onChange:ie=>I(ie.target.checked),className:"w-3 h-3 rounded text-cyan-600 border-gray-300 dark:border-slate-700 bg-white dark:bg-slate-800"})," Row Int."]}),c.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer text-[10px] text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 select-none",children:[c.jsx("input",{type:"checkbox",checked:P,onChange:ie=>E(ie.target.checked),className:"w-3 h-3 rounded text-cyan-600 border-gray-300 dark:border-slate-700 bg-white dark:bg-slate-800"})," Col Int."]})]}),c.jsxs("div",{className:"flex flex-col gap-1.5 bg-gray-100 dark:bg-slate-800/60 p-1.5 rounded-lg border border-gray-200 dark:border-slate-700",children:[c.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[c.jsx("div",{className:`w-3.5 h-3.5 rounded-md border flex items-center justify-center transition-colors ${v?"bg-fuchsia-600 border-fuchsia-600":"bg-white dark:bg-slate-900 border-gray-300 dark:border-slate-600"}`,children:v&&c.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:4,children:c.jsx("path",{d:"M5 13l4 4L19 7"})})}),c.jsx("input",{type:"checkbox",checked:v,onChange:ie=>j(ie.target.checked),className:"hidden"}),c.jsx("span",{className:"text-[10px] font-bold text-gray-700 dark:text-slate-300",children:"Hanning"})]}),c.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[c.jsx("div",{className:`w-3.5 h-3.5 rounded-md border flex items-center justify-center transition-colors ${b?"bg-cyan-600 border-cyan-600":"bg-white dark:bg-slate-900 border-gray-300 dark:border-slate-600"}`,children:b&&c.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:4,children:c.jsx("path",{d:"M5 13l4 4L19 7"})})}),c.jsx("input",{type:"checkbox",checked:b,onChange:ie=>k(ie.target.checked),className:"hidden"}),c.jsx("span",{className:"text-[10px] font-bold text-gray-700 dark:text-slate-300",children:"Average"})]})]}),c.jsxs("div",{className:"flex gap-2 bg-gray-100 dark:bg-slate-800 p-1 rounded-lg border border-gray-200 dark:border-slate-700",children:[c.jsxs("button",{onClick:()=>A(!O),className:`px-2.5 py-1 rounded-md border text-[11px] font-bold transition-all flex items-center gap-1.5 ${O?"bg-cyan-900/40 text-cyan-400 border-cyan-500 shadow-[0_0_8px_rgba(6,182,212,0.3)]":"bg-white dark:bg-slate-900 text-gray-400 border-gray-300 dark:border-slate-700"}`,children:[c.jsx("div",{className:`w-2 h-2 rounded-full ${O?"bg-cyan-400":"bg-gray-400"}`})," H"]}),c.jsxs("button",{onClick:()=>M(!T),className:`px-2.5 py-1 rounded-md border text-[11px] font-bold transition-all flex items-center gap-1.5 ${T?"bg-cyan-900/40 text-cyan-400 border-cyan-500 shadow-[0_0_8px_rgba(6,182,212,0.3)]":"bg-white dark:bg-slate-900 text-gray-400 border-gray-300 dark:border-slate-700"}`,children:[c.jsx("div",{className:`w-2 h-2 rounded-full ${O?"bg-cyan-400":"bg-gray-400"}`})," V"]})]}),c.jsxs("div",{className:"ml-auto flex gap-2",children:[c.jsx("button",{onClick:()=>er(!lt),className:`px-3 py-1.5 rounded-lg text-[10px] font-bold transition-all border ${lt?"bg-emerald-600 text-white border-emerald-600 shadow-md":"bg-white dark:bg-slate-900 text-emerald-600 dark:text-emerald-400 border-emerald-200 dark:border-emerald-800 hover:bg-emerald-50"}`,children:""}),c.jsx("button",{onClick:()=>gr(!bt),className:`px-3 py-1.5 rounded-lg text-[10px] font-bold transition-all border ${bt?"bg-indigo-600 text-white border-indigo-600 shadow-md":"bg-white dark:bg-slate-900 text-indigo-600 dark:text-indigo-400 border-indigo-200 dark:border-indigo-800 hover:bg-indigo-50"}`,children:"ROI"})]})]}),c.jsxs("div",{className:"flex items-center gap-4 justify-end border-t border-gray-200 dark:border-slate-800/50 pt-2.5",children:[c.jsx("button",{onClick:Zt,className:"px-4 py-1 text-[10px] font-bold bg-cyan-600/10 text-cyan-600 dark:text-cyan-400 hover:bg-cyan-600/20 rounded-md border border-cyan-500/30 transition-all uppercase tracking-widest shadow-sm",children:"Auto"}),c.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-gray-500 dark:text-slate-400 uppercase",children:["Y-AXIS (LOG)",c.jsxs("div",{className:"flex items-center bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-md overflow-hidden shadow-sm",children:[c.jsx("input",{type:"text",value:x,onChange:ie=>w(ie.target.value),className:"w-14 px-2 py-1 bg-transparent text-center outline-none text-gray-900 dark:text-slate-100 border-r border-gray-200 dark:border-slate-700"}),c.jsx("span",{className:"px-2 text-gray-400",children:"to"}),c.jsx("input",{type:"text",value:y,onChange:ie=>g(ie.target.value),className:"w-14 px-2 py-1 bg-transparent text-center outline-none text-gray-900 dark:text-slate-100"})]})]})]})]}),c.jsxs("div",{className:"flex-1 p-4 overflow-hidden flex flex-col gap-2 relative bg-gray-50/30 dark:bg-slate-900/30",children:[c.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none z-[50] select-none opacity-10",children:c.jsx("svg",{viewBox:"0 0 500 100",className:"w-3/4 h-auto drop-shadow-lg",children:c.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"24",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),ve&&c.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-[55] bg-white/90 dark:bg-slate-900/90 backdrop-blur-[2px]",children:[c.jsx("div",{className:"w-10 h-10 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mb-4"}),c.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:"Computing FFT Stack..."}),h&&h.length>1&&c.jsxs("span",{className:"text-xs text-gray-500 mt-2 font-mono",children:["Processing frame ",ge," / ",h.length]})]}),Ie?c.jsx("div",{className:"flex items-center justify-center h-full text-red-500 font-semibold",children:Ie}):c.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-950 border border-gray-200 dark:border-slate-800 rounded-xl p-2 flex flex-col relative z-20 shadow-xl overflow-hidden",children:[c.jsx("div",{className:"flex-1 relative z-10",onMouseDown:sn,onMouseMove:mr,onMouseUp:Tn,style:{cursor:Rt?"col-resize":"crosshair"},children:c.jsx(vo,{width:"100%",height:"100%",children:c.jsxs(Fs,{data:Dt,margin:{top:10,right:10,bottom:20,left:0},children:[c.jsx(Qa,{strokeDasharray:"3 3",stroke:"#374151",opacity:.08}),c.jsx(zn,{dataKey:"freq",type:"number",domain:[0,.5],tickCount:6,tick:{fill:"#6b7280",fontSize:10},label:{value:"Frequency (cy/px)",position:"insideBottom",offset:-10,fill:"#6b7280",fontSize:11}}),c.jsx(Un,{scale:"log",domain:[Math.pow(10,parseFloat(x)),Math.pow(10,parseFloat(y))],allowDataOverflow:!0,tick:{fill:"#6b7280",fontSize:10},tickFormatter:ie=>Number(ie).toExponential(0),width:45}),c.jsx(Kr,{contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.95)",border:"1px solid #334155",color:"#f3f4f6",fontSize:"11px",borderRadius:"8px"},formatter:ie=>[Number(ie).toExponential(3),""],labelFormatter:ie=>`Freq: ${Number(ie).toFixed(4)}`}),c.jsx(Ka,{wrapperStyle:{fontSize:"10px"}}),c.jsx(Pr,{type:"monotone",dataKey:"theory",name:"Theory Model",stroke:"#6366f1",strokeWidth:2,dot:!1,isAnimationActive:!1}),[0,1,2,3].flatMap(ie=>{if(p!==-1&&p!==ie)return[];const Ce=`c${ie}_h`,ze=`c${ie}_v`,et=vn[`c${ie}`],Qe=[];return O&&Qe.push(c.jsx(Pr,{type:"linear",dataKey:Ce,name:`${zr[ie]} (H)`,stroke:et,strokeWidth:1,dot:!1,isAnimationActive:!1},`${ie}_h`)),T&&Qe.push(c.jsx(Pr,{type:"linear",dataKey:ze,name:`${zr[ie]} (V)`,stroke:et,strokeWidth:1,strokeDasharray:"3 3",dot:!1,isAnimationActive:!1},`${ie}_v`)),Qe}),Ue&&c.jsx(zu,{x1:Ue[0],x2:Ue[1],fill:"#8884d8",fillOpacity:.15})]})})}),xa&&Ue&&c.jsxs("div",{className:"absolute bottom-12 left-12 bg-slate-900/90 backdrop-blur-md p-3 rounded-lg border border-indigo-500/50 shadow-2xl z-30 text-[10px] font-mono text-slate-100",children:[c.jsxs("div",{className:"text-indigo-400 font-bold mb-1 border-b border-indigo-500/30 pb-1",children:["Range: ",Ue[0].toFixed(3),"-",Ue[1].toFixed(3)]}),Object.entries(xa.stats).map(([ie,Ce])=>c.jsxs("div",{className:"flex justify-between gap-4",children:[c.jsxs("span",{className:"text-slate-400",children:[ie,":"]}),c.jsx("span",{className:"font-bold text-cyan-400",children:Ce.toFixed(5)})]},ie))]})]})]}),lt&&c.jsxs("div",{className:"absolute top-48 right-8 z-[55] w-72 bg-white dark:bg-slate-900 rounded-xl shadow-2xl border border-gray-200 dark:border-slate-700 p-4 animate-in slide-in-from-top-2",children:[c.jsx("h4",{className:"text-[10px] uppercase font-bold text-emerald-600 dark:text-emerald-400 mb-2 border-b border-gray-100 dark:border-slate-800 pb-1",children:"Range Averaging"}),c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx("input",{type:"number",step:"0.01",value:Y,onChange:ie=>ue(ie.target.value),className:"w-16 px-1 py-0.5 text-xs border rounded bg-transparent dark:border-slate-600 dark:text-white"}),c.jsx("span",{className:"text-gray-400",children:"-"}),c.jsx("input",{type:"number",step:"0.01",value:he,onChange:ie=>K(ie.target.value),className:"w-16 px-1 py-0.5 text-xs border rounded bg-transparent dark:border-slate-600 dark:text-white"}),c.jsx("button",{onClick:La,className:"flex-1 bg-emerald-600 text-white text-[10px] font-bold py-1 rounded",children:"Avg"})]}),c.jsx("div",{className:"flex flex-col gap-2 max-h-48 overflow-y-auto",children:[0,1,2,3].map(ie=>{const Ce=Ct[ie];if(!Ce)return null;const ze=vn[`c${ie}`];return c.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800/50 p-2 rounded text-[10px] border border-gray-100 dark:border-slate-800",children:[c.jsxs("div",{className:"flex items-center gap-2 font-bold mb-1",style:{color:ze},children:[zr[ie]," ",c.jsxs("span",{className:"text-gray-400 font-normal",children:["(",Ce.count," pts)"]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-x-2 text-gray-700 dark:text-slate-300 font-mono",children:[c.jsxs("div",{children:["H: ",Ce.h.toExponential(3)]}),c.jsxs("div",{children:["V: ",Ce.v.toExponential(3)]})]})]},ie)})})]}),bt&&c.jsx("div",{className:"absolute top-48 right-8 z-[55] w-56 bg-white dark:bg-slate-900 rounded-xl shadow-2xl border border-gray-200 dark:border-slate-700 p-4 animate-in slide-in-from-top-2",children:c.jsxs("div",{className:"flex flex-col gap-3",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-[9px] uppercase font-bold text-gray-400 mb-1",children:"Move"}),c.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[c.jsx("div",{}),c.jsx("button",{onClick:()=>ar(0,-1),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),c.jsx("div",{}),c.jsx("button",{onClick:()=>ar(-1,0),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),c.jsx("div",{}),c.jsx("button",{onClick:()=>ar(1,0),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),c.jsx("div",{}),c.jsx("button",{onClick:()=>ar(0,1),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),c.jsx("div",{})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-[9px] uppercase font-bold text-gray-400 mb-1",children:"Size"}),c.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[c.jsx("button",{onClick:()=>zt(2,0),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"W+"}),c.jsx("button",{onClick:()=>zt(-2,0),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"W-"}),c.jsx("button",{onClick:()=>zt(0,2),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"H+"}),c.jsx("button",{onClick:()=>zt(0,-2),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"H-"})]})]})]})}),c.jsx(QQ,{isOpen:Pe,onClose:()=>ke(!1),rawImageData:n,roi:a,selectedChannel:p===-1?0:p,channelName:p===-1?"Red (Default)":zr[p],zIndex:s?s+2:102,onFocus:l})]}):null},rJ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,zIndex:i,onFocus:s,initialPosition:l,initialInternalState:u,onUpdateState:d})=>{const[f,h]=S.useState((u==null?void 0:u.selectedChannelKey)||"G1"),[p,m]=S.useState((u==null?void 0:u.blackLevel)??0),[x,w]=S.useState((u==null?void 0:u.whiteLevel)??16383),[y,g]=S.useState(null),[v,j]=S.useState(!1),[b,k]=S.useState(null),[N,_]=S.useState(l||{x:150,y:150}),[O,A]=S.useState(!1),T=S.useRef({x:0,y:0});S.useEffect(()=>{d&&d({selectedChannelKey:f,blackLevel:p,whiteLevel:x})},[f,p,x]),S.useEffect(()=>{if(e&&n&&!u){const P=n.blackLevels?Math.floor(n.blackLevels[1]):0;m(P),w(n.whiteLevel||16383),g(null)}},[e,n]);const M=()=>{if(!n||!a)return;k(null),j(!0);const E=(o?{B:0,G1:1,G2:2,R:3}:{R:0,G1:1,G2:2,B:3})[f];setTimeout(()=>{try{const B=YQ(n.data,n.width,n.height,a,E,p,x);B?g(B):(k("No data found in selection with current filters."),g(null))}catch(B){console.error("Analysis failed:",B),k(B.message||"Analysis error")}finally{j(!1)}},50)},C=(P,E,B)=>{s&&s(),!(B.closest("button")||B.closest("input")||B.closest("select"))&&(A(!0),T.current={x:P-N.x,y:E-N.y})},I=P=>{C(P.clientX,P.clientY,P.target)},D=P=>{const E=P.touches[0];C(E.clientX,E.clientY,P.target)};if(S.useEffect(()=>{const P=B=>{if(O){const z="touches"in B?B.touches[0].clientX:B.clientX,te="touches"in B?B.touches[0].clientY:B.clientY;_({x:z-T.current.x,y:te-T.current.y})}},E=()=>A(!1);return O&&(window.addEventListener("mousemove",P),window.addEventListener("mouseup",E),window.addEventListener("touchmove",P,{passive:!1}),window.addEventListener("touchend",E)),()=>{window.removeEventListener("mousemove",P),window.removeEventListener("mouseup",E),window.removeEventListener("touchmove",P),window.removeEventListener("touchend",E)}},[O]),!e)return null;const U=o?["B","G1","G2","R"]:["R","G1","G2","B"];return c.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl resize-both overflow-hidden min-w-[500px] min-h-[400px] w-[900px] h-[700px]",style:{left:N.x,top:N.y,zIndex:i??100},onMouseDownCapture:s,children:[c.jsxs("div",{className:`flex justify-between items-center p-4 border-b border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-900 select-none touch-none ${O?"cursor-grabbing":"cursor-grab"}`,onMouseDown:I,onTouchStart:D,children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2 pointer-events-none",children:"Quantization Step Analysis"}),c.jsxs("div",{className:"flex items-center gap-1",children:[r&&c.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 p-2",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),c.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800/50 border-b border-gray-200 dark:border-slate-700 flex flex-wrap gap-4 items-end flex-shrink-0",children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Channel"}),c.jsx("select",{value:f,onChange:P=>h(P.target.value),className:"bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded px-3 py-1.5 text-sm text-gray-900 dark:text-slate-100 outline-none focus:ring-1 focus:ring-cyan-500 min-w-[80px]",children:U.map(P=>c.jsx("option",{value:P,children:P},P))})]}),c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Black Level"}),c.jsx("input",{type:"number",value:p,onChange:P=>m(Number(P.target.value)),className:"w-24 px-3 py-1.5 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-sm text-gray-900 dark:text-slate-100"})]}),c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"White Level"}),c.jsx("input",{type:"number",value:x,onChange:P=>w(Number(P.target.value)),className:"w-24 px-3 py-1.5 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-sm text-gray-900 dark:text-slate-100"})]}),c.jsx("button",{onClick:M,disabled:v,className:"mb-0.5 px-5 py-1.5 bg-cyan-600 hover:bg-cyan-500 text-white font-bold rounded shadow-sm hover:shadow transition-colors disabled:opacity-50 text-sm",children:v?"Analyzing...":"Run Analysis"})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-4 flex flex-col gap-4 bg-white dark:bg-slate-900 min-h-0",children:[b&&c.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded text-sm text-center flex-shrink-0",children:b}),!y&&!v&&!b&&c.jsx("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400 dark:text-slate-500 h-full",children:c.jsx("p",{children:"Configure parameters and click Run Analysis"})}),y&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 flex-shrink-0",children:[c.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700 text-center",children:[c.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 uppercase mb-1",children:"Unique Codes"}),c.jsx("div",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:y.uniqueCount})]}),c.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700 text-center",children:[c.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 uppercase mb-1",children:"Total Diffs"}),c.jsx("div",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:y.diffCount})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700 overflow-hidden flex-shrink-0",children:[c.jsx("div",{className:"px-4 py-2 bg-gray-50 dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700 text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Step Distribution"}),c.jsx("div",{className:"p-4 flex flex-wrap gap-x-8 gap-y-2 text-sm font-mono max-h-32 overflow-y-auto",children:Object.entries(y.stepCounts).sort((P,E)=>parseFloat(P[0])-parseFloat(E[0])).map(([P,E])=>c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("span",{className:"text-gray-500 dark:text-slate-400",children:["Step ",P,":"]}),c.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:String(E)})]},P))})]}),c.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 rounded-xl p-2 relative overflow-hidden min-h-[300px]",children:[c.jsx("div",{className:"absolute top-2 left-4 text-xs font-bold text-gray-400 dark:text-slate-500 pointer-events-none z-20 bg-white/80 dark:bg-slate-900/80 px-2 rounded",children:"Step Size vs Code Value"}),c.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-0 pointer-events-none select-none opacity-10 mix-blend-normal dark:mix-blend-plus-lighter",children:c.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:c.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),c.jsx("div",{className:"relative z-10 w-full h-full",children:c.jsx(vo,{width:"100%",height:"100%",children:c.jsxs(Fs,{data:y.plotData,margin:{top:20,right:20,bottom:20,left:10},children:[c.jsx(Qa,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),c.jsx(zn,{dataKey:"x",type:"number",domain:["auto","auto"],tick:{fill:"#9ca3af",fontSize:10},label:{value:"Code Value (Shifted)",position:"insideBottom",offset:-10,fill:"#9ca3af",fontSize:11}}),c.jsx(Un,{tick:{fill:"#9ca3af",fontSize:10},domain:[0,"auto"],allowDataOverflow:!1,label:{value:"Step Size (Delta)",angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:11}}),c.jsx(Kr,{contentStyle:{backgroundColor:"rgba(17, 24, 39, 0.95)",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6",fontSize:"12px"},labelFormatter:P=>`Val: ${P}`,formatter:P=>[P,"Step Size"]}),c.jsx(Pr,{type:"stepAfter",dataKey:"y",stroke:"#0891b2",strokeWidth:1.5,dot:{r:1.5,fill:"#0891b2",strokeWidth:0},activeDot:{r:4},isAnimationActive:!1})]})})})]})]})]})]})},nJ=({isOpen:e,onClose:t,rawImageData:r,roi:n,isBGGR:a,zIndex:o,onFocus:i,initialPosition:s,stackFiles:l})=>{const[u,d]=S.useState("cross"),[f,h]=S.useState("R"),[p,m]=S.useState("B"),[x,w]=S.useState("H"),[y,g]=S.useState(null),[v,j]=S.useState(!1),[b,k]=S.useState(0),[N,_]=S.useState(0),[O,A]=S.useState("single"),T=a?{B:0,G1:1,G2:2,R:3}:{R:0,G1:1,G2:2,B:3},M=a?["B","G1","G2","R"]:["R","G1","G2","B"],C=async I=>{if(!r||!n)return;j(!0),A(I),k(0),g(null);let D=T[f],U=u==="cross"?T[p]:D,P=0,E=0;u==="self"&&(x==="H"?E=2:P=2),setTimeout(async()=>{try{let B={sumCov:0,sumVar1:0,sumVar2:0,n:0};if(I==="single")B=hk(r.data,r.width,r.height,n,D,U,P,E);else if(l&&l.length>0)for(let z=0;z<l.length;z++){k(z+1);const te=await l[z].arrayBuffer(),Q=await mh(te),R=hk(Q.data,Q.width,Q.height,n,D,U,P,E);B.sumCov+=R.sumCov,B.sumVar1+=R.sumVar1,B.sumVar2+=R.sumVar2,B.n+=R.n}_(B.n),g(HQ(B))}catch(B){console.error("Pearson calculation failed",B),alert("Calculation error: "+B.message)}finally{j(!1)}},50)};return e?c.jsxs(Ll,{initialPosition:s||{x:200,y:200},onClose:t,zIndex:o,onFocus:i,className:"w-80 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 flex flex-col shadow-2xl overflow-hidden",children:[c.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800",children:[c.jsxs("h3",{className:"text-sm font-bold text-gray-700 dark:text-slate-200 flex items-center gap-2",children:["Pearson Correlation",c.jsx("span",{className:"text-[10px] font-normal bg-white dark:bg-slate-700 px-1.5 py-0.5 rounded border border-gray-200 dark:border-slate-600",children:"r"})]}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsxs("div",{className:"p-4 flex flex-col gap-4",children:[c.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-800 p-1 rounded-lg border border-gray-200 dark:border-slate-700",children:[c.jsx("button",{onClick:()=>d("cross"),className:`flex-1 py-1 text-[10px] font-bold rounded transition-all ${u==="cross"?"bg-indigo-600 text-white shadow":"text-gray-500 dark:text-slate-400 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:"Cross-Channel"}),c.jsx("button",{onClick:()=>d("self"),className:`flex-1 py-1 text-[10px] font-bold rounded transition-all ${u==="self"?"bg-indigo-600 text-white shadow":"text-gray-500 dark:text-slate-400 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:"Self-Adjacent"})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"flex-1 flex flex-col gap-1",children:[c.jsx("label",{className:"text-[9px] uppercase font-bold text-gray-400",children:u==="cross"?"Channel 1":"Channel"}),c.jsx("select",{value:f,onChange:I=>h(I.target.value),className:"bg-gray-100 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded px-2 py-1.5 text-xs text-gray-700 dark:text-slate-200 outline-none focus:ring-1 focus:ring-indigo-500",children:M.map(I=>c.jsx("option",{value:I,children:I},I))})]}),c.jsx("div",{className:"text-gray-300 dark:text-slate-600 mt-4 font-mono",children:u==="cross"?"":""}),c.jsxs("div",{className:"flex-1 flex flex-col gap-1",children:[c.jsx("label",{className:"text-[9px] uppercase font-bold text-gray-400",children:u==="cross"?"Channel 2":"Direction"}),u==="cross"?c.jsx("select",{value:p,onChange:I=>m(I.target.value),className:"bg-gray-100 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded px-2 py-1.5 text-xs text-gray-700 dark:text-slate-200 outline-none focus:ring-1 focus:ring-indigo-500",children:M.map(I=>c.jsx("option",{value:I,children:I},I))}):c.jsxs("div",{className:"flex h-[28px] bg-gray-100 dark:bg-slate-800 rounded border border-gray-200 dark:border-slate-700 p-0.5",children:[c.jsx("button",{onClick:()=>w("H"),className:`flex-1 text-[9px] font-bold rounded ${x==="H"?"bg-slate-300 dark:bg-slate-600 text-indigo-600 dark:text-indigo-400":"text-gray-400"}`,children:"Horiz"}),c.jsx("button",{onClick:()=>w("V"),className:`flex-1 text-[9px] font-bold rounded ${x==="V"?"bg-slate-300 dark:bg-slate-600 text-indigo-600 dark:text-indigo-400":"text-gray-400"}`,children:"Vert"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[c.jsx("button",{onClick:()=>C("single"),disabled:v,className:"w-full py-2 bg-indigo-600 hover:bg-indigo-500 disabled:bg-gray-400 text-white font-bold rounded shadow-md transition-all active:scale-95 text-xs",children:v&&O==="single"?"Calculating...":"Calc Current Frame"}),l&&l.length>0&&c.jsxs("button",{onClick:()=>C("stack"),disabled:v,className:"w-full py-2 bg-emerald-600 hover:bg-emerald-500 disabled:bg-gray-400 text-white font-bold rounded shadow-md transition-all active:scale-95 text-xs flex flex-col items-center justify-center",children:[c.jsx("span",{children:"Calc Stack Concatenated"}),v&&O==="stack"&&c.jsxs("span",{className:"text-[9px] font-normal opacity-80",children:["Progress: ",b," / ",l.length]})]})]}),y!==null&&c.jsxs("div",{className:"mt-2 p-4 bg-gray-50 dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700 text-center animate-in fade-in slide-in-from-top-2",children:[c.jsxs("div",{className:"text-[10px] uppercase font-bold text-gray-400 dark:text-slate-500 mb-1",children:[u==="cross"?"Cross-Channel":`Self-Adj (${x})`," r"]}),c.jsx("div",{className:"text-2xl font-mono font-bold text-indigo-600 dark:text-indigo-400 select-all",style:{fontSize:"24px"},children:y.toFixed(5)}),c.jsxs("div",{className:"text-[9px] text-gray-400 mt-2 font-mono",children:["N = ",N.toLocaleString()," pairs"]}),c.jsx("div",{className:"mt-3 text-[10px] font-bold",children:Math.abs(y)>.5?c.jsx("span",{className:"text-red-500",children:"Significant Correlation"}):Math.abs(y)>.1?c.jsx("span",{className:"text-amber-500",children:"Weak Correlation"}):c.jsx("span",{className:"text-emerald-500",children:"Near-Zero (Uncorrelated)"})})]})]}),c.jsx("div",{className:"p-3 bg-gray-50/50 dark:bg-slate-800/30 text-[9px] text-gray-400 dark:text-slate-600 italic border-t border-gray-100 dark:border-slate-800",children:u==="cross"?"Comparing two color channels in the same Bayer 2x2 cells.":`Comparing pixel (r,c) with (r${x==="V"?"+2":""}, c${x==="H"?"+2":""}) in the same channel.`})]}):null},aJ=[{href:"https://y-g-jiang.github.io/CBLD.html",text:" (Primary Source)",abbr:"CBLD",description:"ISO",highlight:!0},{href:"https://y-G-jiang.github.io/LAC.html",text:"",abbr:"LAC",description:""},{href:"https://y-G-jiang.github.io/CCGV.html",text:"adobeIECMF",abbr:"CCGV",description:"acrRAWxy"},{href:"https://y-G-jiang.github.io/JTJS.html",text:"",abbr:"JTJS",description:"CMF/"},{href:"https://y-G-jiang.github.io/XJZS.html",text:"",abbr:"XJZS",description:""}],oJ=["5","9","0","8","2","1","4","7","3","6"],mk=e=>!e||e==="--"?"--":String(e).split("").map(t=>{const r=parseInt(t);return isNaN(r)?t:oJ[r]}).join(""),iJ=({isOpen:e,onClose:t})=>{const[r,n]=S.useState({pv:"--",uv:"--"});return S.useEffect(()=>{if(e){const a=()=>{const i=document.getElementById("vercount_value_site_pv"),s=document.getElementById("vercount_value_site_uv");i&&s&&n({pv:i.innerText||"--",uv:s.innerText||"--"})};a();const o=setTimeout(a,1e3);return()=>clearTimeout(o)}},[e]),e?c.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:c.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-3xl rounded-2xl shadow-2xl border border-gray-200 dark:border-slate-700 overflow-hidden flex flex-col max-h-[90vh]",onClick:a=>a.stopPropagation(),children:[c.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"About / Tools"}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-1 rounded hover:bg-gray-200 dark:hover:bg-slate-700",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsxs("div",{className:"p-6 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700 relative",children:[c.jsx("div",{className:"mb-8 p-4 bg-gray-50 dark:bg-slate-800/50 rounded-xl border border-gray-100 dark:border-slate-700 text-center",children:c.jsxs("p",{className:"text-lg text-gray-700 dark:text-slate-300",children:[c.jsx("span",{className:"font-bold mr-2",children:"about:"}),c.jsx("a",{href:"https://y-g-jiang.github.io/JOindex.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline break-all font-mono",children:"https://y-g-jiang.github.io/JOindex.html"})]})}),c.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[c.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 flex-1"}),c.jsx("span",{className:"text-sm font-bold text-gray-400 dark:text-slate-500 uppercase tracking-wider",children:"Primary Resources"}),c.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 flex-1"})]}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-8",children:aJ.map(a=>c.jsxs("a",{href:a.href,target:"_blank",rel:"noopener noreferrer",className:`group block p-4 rounded-xl border transition-all duration-200 relative overflow-hidden ${a.highlight?"border-cyan-500 dark:border-cyan-400 bg-cyan-50/30 dark:bg-cyan-900/10 shadow-lg scale-[1.02] ring-2 ring-cyan-500/20":"border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-800/30 hover:bg-gray-50 dark:hover:bg-slate-800 hover:border-cyan-500"}`,children:[c.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-gradient-to-bl from-cyan-500/5 to-transparent -mr-8 -mt-8 rounded-full pointer-events-none group-hover:from-cyan-500/10 transition-colors"}),c.jsxs("div",{className:"flex items-center gap-3 mb-2 relative z-10",children:[c.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded transition-colors border ${a.highlight?"bg-cyan-600 text-white border-cyan-500":"bg-gray-100 dark:bg-slate-700 text-gray-600 dark:text-slate-300 border-gray-200 dark:border-slate-600 group-hover:border-cyan-200"}`,children:a.abbr}),c.jsx("h3",{className:`font-bold transition-colors ${a.highlight?"text-cyan-700 dark:text-cyan-300":"text-gray-800 dark:text-slate-200 group-hover:text-cyan-600"}`,children:a.text})]}),c.jsx("p",{className:`text-xs pl-1 transition-colors relative z-10 ${a.highlight?"text-cyan-600/80 dark:text-cyan-400/80":"text-gray-500 dark:text-slate-400"}`,children:a.description})]},a.abbr))}),c.jsx("div",{className:"flex justify-end mt-4",children:c.jsx("div",{className:"bg-gray-50 dark:bg-slate-900/50 rounded border border-gray-200 dark:border-slate-800 p-1.5 opacity-40 hover:opacity-100 transition-opacity cursor-default select-none group",children:c.jsxs("div",{className:"font-mono text-[10px] text-gray-400 dark:text-slate-600 leading-tight text-right flex flex-col",children:[c.jsx("span",{className:"group-hover:text-indigo-400 transition-colors",children:mk(r.pv)}),c.jsx("span",{className:"group-hover:text-emerald-400 transition-colors",children:mk(r.uv)})]})})})]})]})}):null},sJ=({isOpen:e,onClose:t,data:r,fileName:n,warning:a})=>{const[o,i]=S.useState(""),s=d=>{const f=new WeakSet;try{return JSON.stringify(d,(h,p)=>{if(typeof p=="bigint")return p.toString()+"n";if(typeof p=="object"&&p!==null){if(f.has(p))return"[Circular]";if(f.add(p),ArrayBuffer.isView(p))return`[${p.constructor.name}]`}return p})}catch{return"[Unable to serialize object]"}},l=S.useMemo(()=>{if(!r)return[];const d=[],f=(h,p=0)=>{if(p>5)return"...";if(h==null)return String(h);if(h instanceof Date)return h.toLocaleString();if(typeof h=="number")return h.toString();if(typeof h=="string")return h;if(typeof h=="bigint")return h.toString()+"n";if(ArrayBuffer.isView(h))return`<${h.constructor.name} len=${h.length} bytes=${h.byteLength}>`;if(h instanceof ArrayBuffer)return`<ArrayBuffer bytes=${h.byteLength}>`;if(typeof h=="object"){if(Array.isArray(h))return h.length===0?"[]":h.length>20?`[${h.slice(0,10).map(w=>typeof w=="number"?w.toFixed(2):f(w,p+1)).join(", ")}, ... (+${h.length-10} more)]`:`[${h.map(x=>typeof x=="number"?Number.isInteger(x)?x:x.toFixed(4):f(x,p+1)).join(", ")}]`;try{const m=Object.keys(h);return m.length>5?`{Object with ${m.length} keys}`:s(h)}catch{return"<Complex Object>"}}return String(h)};try{if(typeof r!="object")return[{key:"Value",value:String(r)}];Object.keys(r).sort().forEach(p=>{if(p==="MakerNote"||p==="UserComment"||p.includes("Strip")||p.includes("Offset")){d.push({key:p,value:"<Binary/Internal Data>"});return}const m=r[p];d.push({key:p,value:f(m)})})}catch(h){console.error("Error processing EXIF data:",h),d.push({key:"Error",value:"Failed to process metadata structure."})}return d},[r]);if(!e)return null;const u=l.filter(d=>d.key.toLowerCase().includes(o.toLowerCase())||d.value.toLowerCase().includes(o.toLowerCase()));return c.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:c.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-3xl max-h-[90vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700",onClick:d=>d.stopPropagation(),children:[c.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700",children:[c.jsxs("div",{className:"overflow-hidden",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:"EXIF Data"}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1 font-mono truncate",children:n})]}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-2 rounded-full hover:bg-gray-100 dark:hover:bg-slate-800",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a&&c.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 px-4 py-2 border-b border-amber-100 dark:border-amber-800/50 text-center",children:c.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 whitespace-pre-line font-medium leading-relaxed",children:a})}),c.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:c.jsxs("div",{className:"relative",children:[c.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),c.jsx("input",{type:"text",placeholder:"Search tags...",value:o,onChange:d=>i(d.target.value),className:"w-full pl-9 pr-4 py-2 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500 outline-none text-gray-900 dark:text-slate-100 transition-colors placeholder-gray-400"})]})}),c.jsx("div",{className:"overflow-y-auto flex-1 p-0 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700",children:u.length>0?c.jsxs("table",{className:"w-full text-left border-collapse table-fixed",children:[c.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800 sticky top-0 shadow-sm z-10",children:c.jsxs("tr",{children:[c.jsx("th",{className:"py-3 px-5 font-semibold text-xs text-gray-500 dark:text-slate-400 uppercase tracking-wider w-1/3 border-b border-gray-200 dark:border-slate-700",children:"Tag Name"}),c.jsx("th",{className:"py-3 px-5 font-semibold text-xs text-gray-500 dark:text-slate-400 uppercase tracking-wider w-2/3 border-b border-gray-200 dark:border-slate-700",children:"Value"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-800",children:u.map(d=>c.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-800/50 transition-colors group",children:[c.jsx("td",{className:"py-2 px-5 text-sm font-medium text-cyan-600 dark:text-cyan-400 font-mono break-words align-top",children:d.key}),c.jsx("td",{className:"py-2 px-5 text-sm text-gray-700 dark:text-slate-300 font-mono break-words align-top group-hover:text-gray-900 dark:group-hover:text-slate-100",children:d.value})]},d.key))})]}):c.jsx("div",{className:"flex flex-col items-center justify-center h-64 text-gray-400 dark:text-slate-500",children:c.jsxs("p",{children:['No tags found matching "',o,'"']})})}),c.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50 flex justify-end rounded-b-2xl",children:c.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-white rounded-lg text-sm font-semibold transition-colors",children:"Close"})})]})})},lJ=100,Cp=e=>{if(e.length===0)return 0;if(e.length===1)return e[0];if(e.length===2)return .5*(e[0]+e[1]);let t=[...e].sort((r,n)=>r-n);for(;t.length>4;){let r=1/0,n=0;const a=t.length,o=Math.floor(a/2);for(let i=0;i<=a-o;i++){const s=t[i+o-1]-t[i];s<r&&(r=s,n=i)}t=t.slice(n,n+o)}return t.reduce((r,n)=>r+n,0)/t.length},yk=({min:e,max:t,value:r,onChange:n,vertical:a=!1,logScale:o=!1})=>{const i=S.useRef(null),s=S.useRef(null),l=S.useCallback(g=>{const v=o?Math.max(1e-6,e):e,j=o?Math.max(v*1.0001,t):t,b=Math.max(v,Math.min(j,g));if(o){const k=Math.log10(v),N=Math.log10(j);return(Math.log10(b)-k)/(N-k)}return(b-v)/(j-v)},[e,t,o]),u=S.useCallback(g=>{const v=o?Math.max(1e-6,e):e,j=o?Math.max(v*1.0001,t):t;if(o){const b=Math.log10(v),k=Math.log10(j);return Math.pow(10,b+g*(k-b))}return v+g*(j-v)},[e,t,o]),d=(g,v)=>{g.preventDefault(),g.stopPropagation(),s.current=v;const j=k=>{if(!s.current||!i.current)return;const N=i.current.getBoundingClientRect();let _=0;a?_=(N.bottom-k.clientY)/N.height:_=(k.clientX-N.left)/N.width,_=Math.max(0,Math.min(1,_));const O=u(_);if(s.current==="min"){const A=r[1];n([Math.min(O,A),A])}else{const A=r[0];n([A,Math.max(O,A)])}},b=()=>{s.current=null,window.removeEventListener("mousemove",j),window.removeEventListener("mouseup",b)};window.addEventListener("mousemove",j),window.addEventListener("mouseup",b)},f=l(r[0])*100,h=l(r[1])*100,p=a?{left:"50%",top:0,bottom:0,width:"4px",transform:"translateX(-50%)"}:{top:"50%",left:0,right:0,height:"4px",transform:"translateY(-50%)"},m=a?{left:"50%",bottom:`${f}%`,height:`${h-f}%`,width:"4px",transform:"translateX(-50%)"}:{top:"50%",left:`${f}%`,width:`${h-f}%`,height:"4px",transform:"translateY(-50%)"},x="absolute w-3 h-3 bg-white border-2 border-cyan-600 rounded-full shadow-md cursor-pointer hover:scale-125 transition-transform z-10",w=a?{left:"50%",bottom:`${f}%`,transform:"translate(-50%, 50%)"}:{top:"50%",left:`${f}%`,transform:"translate(-50%, -50%)"},y=a?{left:"50%",bottom:`${h}%`,transform:"translate(-50%, 50%)"}:{top:"50%",left:`${h}%`,transform:"translate(-50%, -50%)"};return c.jsxs("div",{ref:i,className:`relative select-none ${a?"h-full w-4 py-2":"w-full h-4 px-2"}`,children:[c.jsx("div",{className:"absolute bg-gray-300 dark:bg-slate-600 rounded-full",style:p}),c.jsx("div",{className:"absolute bg-cyan-500 dark:bg-cyan-400 rounded-full",style:m}),c.jsx("div",{className:x,style:w,onMouseDown:g=>d(g,"min")}),c.jsx("div",{className:x,style:y,onMouseDown:g=>d(g,"max")})]})},cJ=({isOpen:e,onClose:t,data:r,blackLevel:n,imageHeight:a,isBGGR:o,importedMetadata:i,theme:s,initialCameraModel:l,initialISO:u})=>{const[d,f]=S.useState("Noise"),[h,p]=S.useState(!0),[m,x]=S.useState(null),[w,y]=S.useState("default"),[g,v]=S.useState(!1),[j,b]=S.useState(!1),[k,N]=S.useState({R:!0,G1:!0,G2:!0,B:!0}),[_,O]=S.useState(""),[A,T]=S.useState(""),[M,C]=S.useState(""),[I,D]=S.useState(""),[U,P]=S.useState("10"),[E,B]=S.useState(""),[z,te]=S.useState("0 0 0 0"),[Q,R]=S.useState("0 0 0 0"),[J,q]=S.useState(!1),[$,ne]=S.useState(null),[ce,Y]=S.useState(!1),[ue,he]=S.useState(0),[K,Pe]=S.useState([]),[ke,oe]=S.useState(""),[we,ve]=S.useState(""),Ke=()=>{const G=parseFloat(ke),H=parseFloat(we);!isNaN(G)&&!isNaN(H)&&(Pe([...K,{id:Date.now(),x:G,y:H}]),oe(""),ve(""))},[ge,xe]=S.useState(()=>localStorage.getItem("ptc_tester_name")||""),[Ie,it]=S.useState(""),[bt,gr]=S.useState("");S.useEffect(()=>{localStorage.setItem("ptc_tester_name",ge)},[ge]);const lt=S.useRef(J),er=S.useRef(ce),Ue=S.useRef(ue);S.useEffect(()=>{lt.current=J,er.current=ce,Ue.current=ue},[J,ce,ue]);const[Ht,Rt]=S.useState(null),[tr,jr]=S.useState({min:.01,max:90}),[yt,Ge]=S.useState({readNoise:0,gain:1,prnu:.5}),[ct,Nt]=S.useState(2e6),rr=S.useRef(yt),nr=S.useRef(tr),Zr=S.useRef(ct);S.useEffect(()=>{rr.current=yt,nr.current=tr,Zr.current=ct},[yt,tr,ct]);const[Ct,yn]=S.useState({read:"0",gain:"1.0",prnu:"0.5",rangeMin:"0.01",rangeMax:"90"}),[wt,vn]=S.useState({read:!0,shot:!0,prnu:!0,total:!0,fitRange:!0}),[zr,La]=S.useState(!1),[Dt,sn]=S.useState([]),[mr,Tn]=S.useState(null),[Ur,Sr]=S.useState(""),xn=S.useMemo(()=>n?n.join(","):"",[n]);S.useEffect(()=>{if(e){let G="0 0 0 0";i&&i.blackLevel?G=i.blackLevel.join(" "):G=n&&n.length===4?n.join(" "):"0 0 0 0",te(G),R(G);let H="";if(i&&i.height?H=i.height.toString():a&&(H=a.toString()),B(H),H){const L=parseFloat(H);!isNaN(L)&&L>0?P((2309.4/L).toFixed(2)):P("10")}else P("10");ne(null),q(!1),Y(!1),he(0),sn([]),Tn(null),jr({min:.01,max:90}),yn({read:"0",gain:"0",prnu:"0",rangeMin:"0.01",rangeMax:"90"});const ae={readNoise:0,gain:0,prnu:0};Ge(ae),rr.current=ae,O(""),T(""),C(""),D(""),f("Noise"),Rt(null),Nt(2e6),Sr(""),b(!1),Pe([]),it(L=>L.trim()===""&&l?l:L),gr(L=>L.trim()===""&&u?u:L)}},[e,xn,i,a,r,l,u]);const xa=G=>{if(G.key==="Enter"){const H=parseFloat(E);if(!isNaN(H)&&H>0){const ae=(2309.4/H).toFixed(2);P(ae)}G.target.blur()}},Zt=S.useMemo(()=>{let H=Q.trim().split(/[\s,]+/).filter(Boolean).map(Number);for(H.length===1&&(H=[H[0],H[0],H[0],H[0]]);H.length<4;)H.push(0);const ae=L=>{switch(L){case"R":return H[0];case"G1":return H[1];case"G2":return H[2];case"B":return H[3];default:return 0}};return r.map(L=>{const de=L.mean-ae(L.channel),Ae=L.std>0?de/L.std:0;return{...L,x:de,std:L.std,snr:Ae}}).filter(L=>L.std>0)},[r,Q]),ar=S.useMemo(()=>{const G=yt.readNoise,H=G*G;return Zt.map(ae=>{let L=0;if(d==="Noise")L=ae.std;else if(d==="SNR")L=ae.snr;else if(d==="Linear"){const Ae=ae.std*ae.std-H;L=ae.x!==0?Ae/ae.x:0}return{...ae,y:L}})},[Zt,d,yt.readNoise]),zt=S.useMemo(()=>{if(Zt.length===0)return"G1";const G={R:0,G1:0,G2:0,B:0},H={R:0,G1:0,G2:0,B:0};for(const de of Zt)G[de.channel]+=de.x,H[de.channel]++;let ae="G1",L=-1/0;return Object.keys(G).forEach(de=>{const Ae=H[de],De=Ae>0?G[de]/Ae:-1/0;De>L&&(L=De,ae=de)}),ae},[Zt]),ie=S.useCallback(()=>{let G=1/0,H=-1/0;if(Zt.length===0)return{min:.1,max:1};for(let ae=0;ae<Zt.length;ae++){const L=Zt[ae].x;h&&L<=0||(L<G&&(G=L),L>H&&(H=L))}return G===1/0?{min:.1,max:1}:{min:G,max:H}},[Zt,h]),Ce=S.useCallback(()=>{let G=1/0,H=-1/0;if(ar.length===0)return{min:.1,max:1};for(let ae=0;ae<ar.length;ae++){const L=ar[ae].y;h&&L<=0||(L<G&&(G=L),L>H&&(H=L))}return G===1/0?{min:.1,max:1}:{min:G*.9,max:H*1.1}},[ar,h]),{min:ze,max:et}=ie(),{min:Qe,max:kt}=Ce(),or=et*(tr.min/100),yr=et*(tr.max/100),Fe=S.useMemo(()=>{if(!h&&ar.length===0)return{shot:[],read:[],prnu:[],total:[]};const G=_?parseFloat(_):ze,H=A?parseFloat(A):et,ae=100,L=Math.max(.1,G),de=Math.max(1,H);if(L>=de)return{shot:[],read:[],prnu:[],total:[]};const Ae=Math.log10(L),Je=(Math.log10(de)-Ae)/ae,Ye=yt.readNoise,Be=yt.gain>0?yt.gain:1,It=yt.prnu/100,vt=[],Ut=[],dr=[],se=[];for(let qe=0;qe<=ae;qe++){const Te=Math.pow(10,Ae+qe*Je);if(d==="Linear"){const ft=1/Be,Ot=It*It,wn=ft+Ot*Te;se.push({x:Te,y:wn}),vt.push({x:Te,y:ft}),dr.push({x:Te,y:Ot*Te})}else{const ft=Ye,Ot=Math.sqrt(Te/Be),wn=It*Te,ht=Math.sqrt(ft*ft+Ot*Ot+wn*wn);d==="Noise"?(vt.push({x:Te,y:Ot}),Ut.push({x:Te,y:ft}),dr.push({x:Te,y:wn}),se.push({x:Te,y:ht})):(Ot>0&&vt.push({x:Te,y:Te/Ot}),ft>0&&Ut.push({x:Te,y:Te/ft}),wn>0&&dr.push({x:Te,y:Te/wn}),ht>0&&se.push({x:Te,y:Te/ht}))}}return{shot:vt,read:Ut,prnu:dr,total:se}},[ar,h,_,A,yt,d,ze,et]),st=S.useMemo(()=>{if(d==="Linear")return[];const G=parseFloat(U);if(isNaN(G)||G<=0)return[];const H=_?parseFloat(_):ze,ae=A?parseFloat(A):et;return d==="SNR"?[{x:H,y:G},{x:ae,y:G}]:[{x:H,y:H/G},{x:ae,y:ae/G}]},[ar,U,d,_,A,ze,et]),Lt=S.useCallback((G,H)=>{if(!H||H.length===0)return null;const ae=[...H].sort((L,de)=>L.x-de.x);for(let L=0;L<ae.length-1;L++){const de=ae[L],Ae=ae[L+1];if(de.snr<=G&&Ae.snr>=G||de.snr>=G&&Ae.snr<=G){const De=(G-de.snr)/(Ae.snr-de.snr);return de.x+De*(Ae.x-de.x)}}return null},[]),Tt=S.useMemo(()=>{const G=Zt,H=1e3,ae=de=>{if(de.length===0)return[];if(de.length<=H)return de;const Ae=[...de].sort((Ye,Be)=>Ye.x-Be.x),De=[],Je=Ae.length/H;for(let Ye=0;Ye<H;Ye++){const Be=Math.floor(Ye*Je),It=Math.floor((Ye+1)*Je),vt=Ae.slice(Be,It);if(vt.length===0)continue;vt.sort((dr,se)=>dr.std-se.std);const Ut=Math.floor(vt.length/2);De.push(vt[Ut])}return De},L={R:[],G1:[],G2:[],B:[]};return G.forEach(de=>{L[de.channel]&&L[de.channel].push(de)}),{R:ae(L.R),G1:ae(L.G1),G2:ae(L.G2),B:ae(L.B)}},[Zt]),ir=S.useMemo(()=>$&&yt.gain?$*yt.gain:null,[$,yt.gain]),pe=S.useMemo(()=>{if($===null||$===0)return null;const G=parseFloat(U);let H=null;if(!isNaN(G)&&G>0){let De=0,Je=0;if(["R","G1","G2","B"].forEach(Ye=>{const Be=Lt(G,Tt[Ye]);Be!==null&&(De+=Be,Je++)}),Je>0){const Ye=De/Je;H=Math.log2($/Ye)}}const ae=parseFloat(E);let L=null,de=NaN;if(!isNaN(ae)&&ae>0){de=16e3/ae;let De=0,Je=0;if(["R","G1","G2","B"].forEach(Ye=>{const Be=Lt(de,Tt[Ye]);Be!==null&&(De+=Be,Je++)}),Je>0){const Ye=De/Je;L=Math.log2($/Ye)}}let Ae=null;if(!isNaN(ae)&&ae>0){const De=Lt(de,Tt[zt]);De!==null&&(Ae=Math.log2($/De))}return{manualDR:H,ptpDR:L,d55DR:Ae,manualTarget:G,ptpTarget:de,saturationSignal:$,dominantChannel:zt}},[$,U,E,Tt,Lt,zt]),Ar=S.useMemo(()=>{if(d==="Linear"||!pe||!pe.ptpTarget||isNaN(pe.ptpTarget))return[];const G=pe.ptpTarget,H=_?parseFloat(_):ze,ae=A?parseFloat(A):et;return d==="SNR"?[{x:H,y:G},{x:ae,y:G}]:[{x:H,y:H/G},{x:ae,y:ae/G}]},[d,pe,_,A,ze,et]),ba=S.useCallback(()=>{const ae=document.createElement("canvas");ae.width=2048,ae.height=1536;const L=ae.getContext("2d");if(!L)return;const de=s==="dark",Ae=de?"#0f172a":"#ffffff",De=de?"#ffffff":"#000000",Je=de?"#475569":"#cbd5e1",Ye=de?"#1e293b":"#f1f5f9",Be=o?{R:"#ef4444",G1:"#22c55e",G2:"#4ade80",B:"#3b82f6"}:{R:"#ef4444",G1:"#22c55e",G2:"#4ade80",B:"#3b82f6"};L.fillStyle=Ae,L.fillRect(0,0,2048,1536);let It=_?parseFloat(_):ze,vt=A?parseFloat(A):et,Ut=M?parseFloat(M):Qe,dr=I?parseFloat(I):kt;isNaN(It)&&(It=.1),isNaN(vt)&&(vt=1e4),isNaN(Ut)&&(Ut=.1),isNaN(dr)&&(dr=1e3);const se={top:80,right:80,bottom:100,left:120},qe=2048-se.left-se.right,Te=1536-se.top-se.bottom,ft=_e=>{if(h){const at=Math.log10(Math.max(1e-9,It)),tt=Math.log10(Math.max(1e-9,vt)),rt=Math.log10(Math.max(1e-9,_e));return se.left+(rt-at)/(tt-at)*qe}else return se.left+(_e-It)/(vt-It)*qe},Ot=_e=>{if(h){const at=Math.log10(Math.max(1e-9,Ut)),tt=Math.log10(Math.max(1e-9,dr)),rt=Math.log10(Math.max(1e-9,_e));return se.top+Te-(rt-at)/(tt-at)*Te}else return se.top+Te-(_e-Ut)/(dr-Ut)*Te};if(L.beginPath(),h){const _e=(at,tt,rt)=>{const Gr=Math.log10(Math.max(1e-9,at)),jn=Math.log10(Math.max(1e-9,tt)),Hn=Math.floor(Gr),Ba=Math.ceil(jn);for(let $o=Hn;$o<=Ba;$o++){const Fa=Math.pow(10,$o);let lr=rt?ft(Fa):Ot(Fa);(rt?lr>=se.left-1&&lr<=se.left+qe+1:lr>=se.top-1&&lr<=se.top+Te+1)&&(L.lineWidth=1.5,L.strokeStyle=Je,L.beginPath(),rt?(L.moveTo(lr,se.top),L.lineTo(lr,se.top+Te)):(L.moveTo(se.left,lr),L.lineTo(se.left+qe,lr)),L.stroke()),L.lineWidth=.5,L.strokeStyle=Ye;for(let Fl=2;Fl<10;Fl++){const Hu=Fl*Fa;lr=rt?ft(Hu):Ot(Hu),(rt?lr>=se.left&&lr<=se.left+qe:lr>=se.top&&lr<=se.top+Te)&&(L.beginPath(),rt?(L.moveTo(lr,se.top),L.lineTo(lr,se.top+Te)):(L.moveTo(se.left,lr),L.lineTo(se.left+qe,lr)),L.stroke())}}};_e(It,vt,!0),_e(Ut,dr,!1)}else{L.strokeStyle=Je,L.lineWidth=1;for(let _e=0;_e<=5;_e++){const at=se.left+qe*_e/5;L.beginPath(),L.moveTo(at,se.top),L.lineTo(at,se.top+Te),L.stroke();const tt=se.top+Te*_e/5;L.beginPath(),L.moveTo(se.left,tt),L.lineTo(se.left+qe,tt),L.stroke()}}L.strokeStyle=De,L.lineWidth=2,L.strokeRect(se.left,se.top,qe,Te);const wn=(_e,at,tt)=>{_e<se.left||_e>se.left+qe||at<se.top||at>se.top+Te||(L.fillStyle=tt,L.fillRect(_e-1.5,at-1.5,3,3))},ht=ar.filter(_e=>!(h&&(_e.x<=0||_e.y<=0)));ht.forEach(_e=>{k[_e.channel]&&_e.channel!==zt&&wn(ft(_e.x),Ot(_e.y),Be[_e.channel])}),ht.forEach(_e=>{k[_e.channel]&&_e.channel===zt&&wn(ft(_e.x),Ot(_e.y),Be[_e.channel])}),K.forEach(_e=>{const at=ft(_e.x),tt=Ot(_e.y);if(at<se.left||at>se.left+qe||tt<se.top||tt>se.top+Te)return;L.strokeStyle="#d946ef",L.lineWidth=2.5;const rt=6;L.beginPath(),L.moveTo(at-rt,tt-rt),L.lineTo(at+rt,tt+rt),L.moveTo(at+rt,tt-rt),L.lineTo(at-rt,tt+rt),L.stroke()});const xr=(_e,at,tt=[])=>{if(_e.length<2)return;L.beginPath(),L.strokeStyle=at,L.lineWidth=3,L.setLineDash(tt);let rt=!1;for(const Gr of _e){const jn=ft(Gr.x),Hn=Ot(Gr.y);if(jn<se.left-100||jn>se.left+qe+100||Hn<se.top-100||Hn>se.top+Te+100){rt=!1;continue}rt?L.lineTo(jn,Hn):(L.moveTo(jn,Hn),rt=!0)}L.stroke(),L.setLineDash([])},kn=de?"#ffffff":"#000000";if(wt.shot&&xr(Fe.shot,"#94a3b8",[5,5]),wt.read&&xr(Fe.read,"#f43f5e",[3,3]),wt.prnu&&xr(Fe.prnu,"#f59e0b",[3,3]),wt.total&&xr(Fe.total,kn,[]),st.length===2){const _e="#6366f1";xr(st,_e,[4,2]);const at=st[1],tt=Ot(at.y);tt>=se.top&&tt<=se.top+Te&&(L.fillStyle=_e,L.font="bold 20px sans-serif",L.textAlign="right",L.textBaseline="bottom",L.fillText(`M.Tgt=${U}`,se.left+qe-10,tt-8))}if(Ar.length===2&&(pe!=null&&pe.ptpTarget)){const _e="#10b981";xr(Ar,_e,[4,4]);const at=Ar[1],tt=Ot(at.y);if(tt>=se.top&&tt<=se.top+Te){L.fillStyle=_e,L.font="bold 20px sans-serif",L.textAlign="right",L.textBaseline="bottom";const rt=pe.ptpTarget.toFixed(1),Gr=st.length===2?Ot(st[1].y):-100,jn=Math.abs(tt-Gr)<25?25:0;L.fillText(`PTP=${rt}`,se.left+qe-10,tt-8-jn)}}if(wt.fitRange||ce){const _e=(at,tt)=>{const rt=ft(at);rt>=se.left&&rt<=se.left+qe&&(L.beginPath(),L.strokeStyle=tt,L.lineWidth=2,L.setLineDash([8,8]),L.moveTo(rt,se.top),L.lineTo(rt,se.top+Te),L.stroke(),L.setLineDash([]))};_e(or,"#22d3ee"),_e(yr,"#22d3ee")}if($){const _e=ft($);_e>=se.left&&_e<=se.left+qe&&(L.strokeStyle="#ef4444",L.lineWidth=3,L.setLineDash([10,10]),L.beginPath(),L.moveTo(_e,se.top),L.lineTo(_e,se.top+Te),L.stroke(),L.setLineDash([]),L.fillStyle="#ef4444",L.font="bold 24px sans-serif",L.textAlign="center",L.fillText("Sat",_e,se.top-10))}L.fillStyle=De,L.font="28px monospace",L.textAlign="center",L.fillText(It.toExponential(1),se.left,se.top+Te+40),L.fillText(vt.toExponential(1),se.left+qe,se.top+Te+40),L.fillText("Signal (DN)",se.left+qe/2,se.top+Te+80),L.textAlign="right",L.textBaseline="middle",L.fillText(Ut.toExponential(1),se.left-20,se.top+Te),L.fillText(dr.toExponential(1),se.left-20,se.top),L.save(),L.translate(se.left-80,se.top+Te/2),L.rotate(-Math.PI/2),L.textAlign="center",L.fillText(d==="Linear"?"(Var - RN) / Mean":d,0,0),L.restore(),L.save(),L.translate(2048/2,1536/2),L.rotate(-Math.PI/6),L.textAlign="center",L.textBaseline="middle",L.fillStyle=de?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)",L.font="bold 150px sans-serif",L.fillText(" y-g-jiang.github.io",0,0),L.restore(),L.fillStyle=De,L.font="bold 36px sans-serif",L.textAlign="left",L.textBaseline="top",L.fillText(`PTC Export: ${d} Mode`,se.left,20),L.font="24px sans-serif",L.fillStyle=de?"#94a3b8":"#64748b",L.fillText(`Points: ${ar.length} | Sat Channel: ${zt}`,se.left,65);const ao=se.left+30,ls=se.top+30,w0=70,cs=_e=>{if(!$||_e<=0)return"--";const at=yt.readNoise,tt=yt.gain,rt=yt.prnu/100;if(tt<=0)return"--";const Gr=_e*_e,jn=at*at,Hn=1-Gr*rt*rt,Ba=-(Gr/tt),$o=-(Gr*jn);let Fa=0;if(Math.abs(Hn)<1e-8)Math.abs(Ba)>1e-8&&(Fa=-$o/Ba);else{const lr=Ba*Ba-4*Hn*$o;lr>=0&&(Fa=(-Ba+Math.sqrt(lr))/(2*Hn))}return Fa>0?Math.log2($/Fa).toFixed(2)+" EV":"--"},k0=pe!=null&&pe.ptpTarget&&!isNaN(pe.ptpTarget)?cs(pe.ptpTarget):"--",vi=U?cs(parseFloat(U)):"--";L.font="bold 48px monospace",L.textAlign="left",L.textBaseline="top",L.shadowColor=de?"rgba(0,0,0,0.8)":"rgba(255,255,255,0.8)",L.shadowBlur=4,L.shadowOffsetX=1,L.shadowOffsetY=1;const En=(_e,at,tt,rt)=>{const Gr=ls+tt*w0;L.fillStyle=De,L.fillText(_e,ao,Gr);const jn=L.measureText(_e).width;L.fillStyle=rt||De,L.fillText(at,ao+jn,Gr)},j0=Ct.read,S0=parseFloat(Ct.gain).toFixed(3),_0=parseFloat(Ct.prnu).toFixed(2)+"%";let Gu=`M.DR@SNR${U}: `;const Il=parseFloat(E);if(!isNaN(Il)&&Il>0){const _e=(2309.4/Il).toFixed(2);Math.abs(parseFloat(U)-parseFloat(_e))<.05&&(Gu="8mpSNR=1 DR: ")}En("Tester: ",ge||"N/A",0),En("Model : ",Ie||"Unknown",1),En("ISO   : ",bt||"N/A",2),En("RN/FPN: ",j0,3,"#f43f5e"),En("KADC  : ",S0,4,"#06b6d4"),En("PRNU  : ",_0,5,"#f59e0b"),En("PTP DR: ",pe!=null&&pe.ptpDR?pe.ptpDR.toFixed(2)+" EV":"--",6,"#10b981"),En("D55 DR: ",pe!=null&&pe.d55DR?pe.d55DR.toFixed(2)+" EV":"--",7,"#8b5cf6"),En("FWC   : ",ir?ir>1e4?(ir/1e3).toFixed(1)+"k":Math.round(ir).toString():"--",8,"#f97316"),En(Gu,pe!=null&&pe.manualDR?pe.manualDR.toFixed(2)+" EV":"--",9,"#06b6d4"),En("PTCFitDR(PTP): ",k0,10,"#10b981"),En("PTCFitDR(Man): ",vi,11,"#06b6d4"),L.save(),L.textAlign="right",L.textBaseline="bottom",L.fillStyle="#3b82f6",L.font="bold 80px sans-serif",L.shadowColor=de?"rgba(0,0,0,0.8)":"rgba(255,255,255,0.8)",L.shadowBlur=4,L.shadowOffsetX=2,L.shadowOffsetY=2;const Bl=1988,Wu=1476,N0=90;L.fillText("Online",Bl,Wu),L.fillText("Jiangtherapee",Bl,Wu-N0),L.restore();const Eo=document.createElement("a");Eo.download=`ptc_complete_${d}_${Date.now()}.jpg`,Eo.href=ae.toDataURL("image/jpeg",.9),Eo.click()},[ar,zt,k,_,A,M,I,ze,et,Qe,kt,h,s,d,$,o,wt,Fe,or,yr,tr,ce,ge,Ie,bt,pe,ir,U,st,Ar,Ct,E,K]),Qr=S.useMemo(()=>{let G=ar;if(h&&(G=G.filter(de=>de.y>0&&de.x>0)),w==="top3"){const de=[...G].sort((De,Je)=>Je.x-De.x),Ae=Math.max(50,Math.ceil(de.length*.03));G=de.slice(0,Ae)}const H={R:[],G1:[],G2:[],B:[]};if(G.forEach(de=>{H[de.channel]&&H[de.channel].push(de)}),w==="raw")return H;const ae=w==="top3"?500:lJ,L=de=>{if(de.length<=ae)return de;const Ae=[...de].sort((Ye,Be)=>Ye.x-Be.x),De=[],Je=Ae.length/ae;for(let Ye=0;Ye<ae;Ye++){const Be=Math.floor(Ye*Je),It=Math.floor((Ye+1)*Je),vt=Ae.slice(Be,It);if(vt.length===0)continue;vt.sort((dr,se)=>dr.y-se.y);const Ut=Math.floor(vt.length/2);De.push(vt[Ut])}return De};return{R:L(H.R),G1:L(H.G1),G2:L(H.G2),B:L(H.B)}},[ar,w,h]),bn=S.useMemo(()=>{if(Zt.length<5)return[];const G=Zt.filter(ae=>ae.channel===zt);return[...G.length>20?G:Zt].sort((ae,L)=>ae.x-L.x).map(ae=>({mean:ae.x,std:ae.std}))},[Zt,zt]),Co=G=>{const H=G.length;if(H===0)return[];const ae=G.reduce((qe,Te)=>qe+Te,0)/H,L=G.reduce((qe,Te)=>qe+Math.pow(Te-ae,2),0)/(H-1||1),de=Math.sqrt(L);if(de===0)return[{x:ae-.001,density:0},{x:ae,density:1},{x:ae+.001,density:0}];const Ae=1.06*de*Math.pow(H,-.2),De=Math.min(...G),Je=Math.max(...G),Ye=(Je-De)*.2||De*.1,Be=Math.max(0,De-Ye),It=Je+Ye,vt=100,Ut=(It-Be)/(vt-1),dr=qe=>1/Math.sqrt(2*Math.PI)*Math.exp(-.5*qe*qe),se=[];for(let qe=0;qe<vt;qe++){const Te=Be+qe*Ut;let ft=0;for(let Ot=0;Ot<H;Ot++)ft+=dr((Te-G[Ot])/Ae);ft/=H*Ae,se.push({x:Te,density:ft})}return se},To=S.useCallback((G,H,ae,L)=>{if(G.length<5)return{gain:0,prnu:0};const de=G[G.length-1].mean,Ae=de*(ae.min/100),De=de*(ae.max/100),Je=G.filter(ht=>ht.mean>=Ae&&ht.mean<=De);if(Je.length<5)return{gain:0,prnu:0};Rt({nPoints:Je.length});const Ye=H*H,Be=[],It=[];if(Je.forEach(ht=>{const kn=ht.std*ht.std-Ye;if(ht.mean>1&&kn>0){const ao=ht.mean,ls=kn/ht.mean;Be.push({x:ao,y:ls}),It.push(ht.mean/kn)}}),Be.length<5)return{gain:0,prnu:0};const vt=[],Ut=Be.length,dr=L,se=Ut*(Ut-1)/2;if(se<=dr)for(let ht=0;ht<Ut;ht++)for(let xr=ht+1;xr<Ut;xr++){const kn=Be[xr].x-Be[ht].x;Math.abs(kn)>1e-5&&vt.push((Be[xr].y-Be[ht].y)/kn)}else{const ht=Math.max(1,Math.floor(se/dr));for(let xr=0;xr<Ut;xr++)for(let kn=xr+1;kn<Ut;kn+=ht){const ao=Be[kn].x-Be[xr].x;Math.abs(ao)>1e-5&&vt.push((Be[kn].y-Be[xr].y)/ao)}}const qe=Cp(vt),Te=Be.map(ht=>ht.y-qe*ht.x),ft=Cp(Te);let Ot=0,wn=0;if(ft>1e-6?Ot=1/ft:Ot=Cp(It),qe>0&&(wn=Math.sqrt(qe)*100),It.length>0){const ht=Co(It);sn(ht),Tn(Ot)}else sn([]);return{gain:Ot,prnu:wn}},[]),ra=S.useCallback(G=>{let H=G.read??rr.current.readNoise;const ae=G.gRange??nr.current,L=Zr.current;if((G.read!==void 0||G.gRange!==void 0)&&G.gain===void 0&&G.prnu===void 0&&bn.length>0&&H>=0)b(!0),setTimeout(()=>{const Ae=To(bn,H,ae,L);let De=rr.current.gain,Je=rr.current.prnu;Ae.gain>0&&(De=Ae.gain,Je=Ae.prnu),Ge({readNoise:H,gain:De,prnu:Je}),G.gRange!==void 0&&jr(G.gRange),yn(Ye=>{var Be,It;return{...Ye,read:H.toString(),gain:De>0?De.toFixed(3):"0",prnu:Je.toFixed(2),rangeMin:(((Be=G.gRange)==null?void 0:Be.min)??Ye.rangeMin).toString(),rangeMax:(((It=G.gRange)==null?void 0:It.max)??Ye.rangeMax).toString()}}),b(!1)},50);else{let Ae=G.gain!==void 0?G.gain:rr.current.gain,De=G.prnu!==void 0?G.prnu:rr.current.prnu;Ge({readNoise:H,gain:Ae,prnu:De}),G.gRange!==void 0&&jr(G.gRange),yn(Je=>{var Ye,Be;return{...Je,read:H.toString(),gain:Ae>0?Ae.toFixed(3):"0",prnu:De.toFixed(2),rangeMin:(((Ye=G.gRange)==null?void 0:Ye.min)??Je.rangeMin).toString(),rangeMax:(((Be=G.gRange)==null?void 0:Be.max)??Je.rangeMax).toString()}})}},[bn,To]),X=`${Q}-${r.length}`;S.useEffect(()=>{if(!e||!r||r.length===0)return;const G=Qr[zt];if(!G||G.length===0||Ur===X)return;N({R:zt==="R",G1:zt==="G1",G2:zt==="G2",B:zt==="B"});const H=[...G].sort((Ae,De)=>Ae.x-De.x);let ae=0;H.length>0&&(ae=H[0].std);const L=Zt.filter(Ae=>Ae.channel===zt);let de=-1/0;for(const Ae of L)Ae.x>de&&(de=Ae.x);de!==-1/0&&ne(de),ra({read:ae}),Sr(X)},[e,r,Ur,X,Qr,zt,ra,Zt]);const Oe=(G,H)=>{yn(ae=>({...ae,[G]:H}))},ut=G=>{let H=parseFloat(Ct[G]);isNaN(H)||H<0||ra({[G]:H})},ln=()=>{R(z),Sr("")},vr=()=>{const G=parseFloat(Ct.rangeMin),H=parseFloat(Ct.rangeMax);!isNaN(G)&&!isNaN(H)&&G<H&&G>=0&&H<=100&&ra({gRange:{min:G,max:H}})},Cr=(G,H)=>{G.key==="Enter"&&(H==="rangeMin"||H==="rangeMax"?vr():ut(H),G.target.blur())};S.useEffect(()=>{e&&bn.length>0&&ra({})},[e,ct,bn]);const sr=G=>{N(H=>({...H,[G]:!H[G]}))},ro=()=>{y(G=>G==="top3"?"default":"top3")},wa=()=>{w==="raw"?y("default"):v(!0)},no=()=>{v(!1),y("raw")},Ia=(G,H)=>{const ae=parseFloat(G),L=parseFloat(H);let de=isNaN(ae)?"auto":ae,Ae=isNaN(L)?"auto":L;return h&&typeof de=="number"&&de<=0&&(de="auto"),[de,Ae]},Wn=G=>{if(!G||!G.payload)return;const H=G.payload;if(x(H),lt.current&&(ne(H.x),q(!1)),er.current){const ae=nr.current.min,L=nr.current.max,{max:de}=ie();if(de<=0)return;const Ae=Math.max(0,Math.min(100,H.x/de*100));if(Ue.current===1){const De=Math.min(Ae,L-.5);ra({gRange:{min:De,max:L}}),he(2)}else if(Ue.current===2){const De=Math.max(Ae,ae+.5);ra({gRange:{min:ae,max:De}}),he(0),Y(!1)}}},Jr=S.useCallback(G=>{const{cx:H,cy:ae,fill:L}=G;return c.jsx("circle",{cx:H,cy:ae,r:3,fill:L,stroke:"none",style:{cursor:"pointer"}})},[]),ka=({active:G,payload:H})=>{if(G&&H&&H.length){const ae=H[0].payload;return c.jsxs("div",{className:"bg-slate-800 text-white text-xs p-2 rounded border border-slate-600 shadow-xl opacity-90 font-mono z-50",children:[c.jsx("div",{className:"font-bold border-b border-slate-600 pb-1 mb-1",children:ae.channel}),c.jsxs("div",{children:["Signal: ",ae.x.toFixed(2)]}),c.jsxs("div",{children:[d,": ",ae.y.toFixed(4)]}),ae.row!==void 0&&ae.col!==void 0&&!isNaN(ae.row)&&!isNaN(ae.col)&&c.jsxs("div",{className:"text-cyan-400 mt-0.5",children:["Loc: Row ",ae.row,", Col ",ae.col]}),ae.filename&&c.jsx("div",{className:"text-gray-400 mt-1 max-w-[200px] truncate",title:ae.filename,children:ae.filename})]})}return null},yi=G=>{f(G),G==="Linear"&&p(!1)};if(!e)return null;const b0=s==="dark"?"#ffffff":"#000000";let ss=d;d==="Linear"&&(ss="(Var - RN) / Mean");const Et=z!==Q;return c.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in",onClick:G=>{G.stopPropagation()},children:c.jsxs("div",{className:"bg-white dark:bg-slate-900 w-[98vw] max-w-[2200px] h-[95vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700 overflow-hidden relative",onClick:G=>G.stopPropagation(),children:[c.jsx(ai,{isOpen:g,onClose:()=>v(!1),onConfirm:no,title:"Warning: High Performance Cost",message:"Displaying all data points may cause the browser to freeze or become unresponsive, especially with large datasets. Are you sure you want to continue?",confirmText:"Yes, Show All"}),m&&c.jsxs("div",{className:"absolute top-20 right-8 z-30 bg-white/90 dark:bg-slate-800/90 border border-cyan-500 rounded-xl p-4 shadow-xl backdrop-blur-md max-w-xs animate-in fade-in zoom-in-95 duration-200",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2 border-b border-gray-200 dark:border-slate-700 pb-2",children:[c.jsx("h4",{className:"font-bold text-gray-900 dark:text-white text-sm",children:"Selected Point"}),c.jsx("button",{onClick:()=>x(null),className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsx("div",{className:"space-y-1 text-xs font-mono text-gray-700 dark:text-slate-300",children:c.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1.5",children:[c.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Channel:"}),c.jsx("span",{className:"font-bold",children:m.channel}),c.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Signal (DN):"}),c.jsx("span",{children:m.x.toFixed(4)}),c.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Noise (Std):"}),c.jsx("span",{children:m.std.toFixed(4)}),c.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"SNR:"}),c.jsx("span",{className:"text-purple-600 dark:text-purple-400 font-bold",children:(m.x/m.std).toFixed(2)})]})})]}),zr&&c.jsx("div",{className:"absolute inset-0 z-40 bg-white/95 dark:bg-slate-900/95 backdrop-blur-sm flex flex-col items-center justify-center p-8 animate-in fade-in zoom-in-95 duration-200",children:c.jsxs("div",{className:"w-full max-w-2xl h-[60vh] bg-gray-50 dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-700 shadow-2xl p-4 flex flex-col relative",children:[c.jsx("button",{onClick:()=>La(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-red-500 transition-colors",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),c.jsxs("div",{className:"mb-4 text-center",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-slate-200",children:"Gain Density Estimation"}),c.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:["HSM Mode: ",c.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:mr==null?void 0:mr.toFixed(4)}),c.jsx("span",{className:"mx-2",children:"|"}),"Data Points: ",Dt.length>0?"Density Curve Generated":"No Data"]})]}),c.jsx("div",{className:"flex-1 min-h-0",children:Dt.length>0?c.jsx(vo,{width:"100%",height:"100%",children:c.jsxs(pP,{data:Dt,margin:{top:10,right:30,left:0,bottom:20},children:[c.jsx(Qa,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3,vertical:!1}),c.jsx(zn,{dataKey:"x",tickFormatter:G=>G.toFixed(2),tick:{fill:"#9ca3af",fontSize:10},label:{value:"Gain (e/ADU)",position:"insideBottom",offset:-15,fill:"#9ca3af",fontSize:12}}),c.jsx(Un,{tick:{fill:"#9ca3af",fontSize:10}}),c.jsx(Kr,{cursor:{stroke:"rgba(255,255,255,0.2)"},contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6"}}),c.jsx(fa,{type:"monotone",dataKey:"density",stroke:"#0ea5e9",fill:"#0ea5e9",fillOpacity:.3,strokeWidth:2}),mr!==null&&c.jsx(Ko,{x:mr,stroke:"#ef4444",strokeWidth:2,label:{value:"HSM",fill:"#ef4444",fontSize:10,position:"top"}})]})}):c.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:"No data in selected range"})})]})}),c.jsxs("div",{className:"flex flex-wrap justify-between items-center p-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50 gap-4 flex-shrink-0",children:[c.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2",children:["Photon Transfer Curve",c.jsxs("span",{className:"text-xs font-normal bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-300 px-2 py-0.5 rounded border border-purple-200 dark:border-purple-800",children:[r.length," Pts"]})]}),c.jsxs("div",{className:"flex gap-4 items-center flex-wrap",children:[c.jsxs("button",{onClick:ba,className:"bg-green-600 hover:bg-green-500 text-white font-bold py-1 px-3 rounded text-xs shadow-md transition-all active:scale-95 flex items-center gap-1",title:"Render all points, target lines, and metadata to a high-res JPG",children:[c.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export Complete Result"]}),c.jsxs("div",{className:"flex bg-white dark:bg-slate-700 rounded-lg p-1 border border-gray-200 dark:border-slate-600",children:[c.jsx("button",{onClick:()=>yi("Noise"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${d==="Noise"?"bg-cyan-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"Noise ()"}),c.jsx("button",{onClick:()=>yi("SNR"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${d==="SNR"?"bg-purple-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"SNR"}),c.jsx("button",{onClick:()=>yi("Linear"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${d==="Linear"?"bg-indigo-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"Linear (PTC)"})]}),c.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-600 dark:text-slate-300 cursor-pointer select-none",children:[c.jsx("input",{type:"checkbox",checked:h,onChange:G=>p(G.target.checked),className:"rounded border-gray-300 text-cyan-600 focus:ring-cyan-500 bg-gray-100 dark:bg-slate-700 dark:border-slate-600"}),"Log-Log"]}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors p-1",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-0 border-b border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-sm flex-shrink-0",children:[c.jsxs("div",{className:"lg:col-span-9 p-5 flex flex-col gap-5 border-r border-gray-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between text-xs",children:[c.jsxs("div",{className:"flex gap-4 items-center",children:[c.jsxs("div",{className:"flex items-center gap-1.5 bg-gray-50 dark:bg-slate-800 rounded-md p-1 border border-gray-200 dark:border-slate-700",children:[c.jsx("span",{className:"font-bold text-gray-500 dark:text-slate-400 pl-1",children:"X:"}),c.jsx("input",{type:"number",placeholder:"Min",value:_,onChange:G=>O(G.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"}),c.jsx("span",{className:"text-gray-400",children:"-"}),c.jsx("input",{type:"number",placeholder:"Max",value:A,onChange:G=>T(G.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"})]}),c.jsxs("div",{className:"flex items-center gap-1.5 bg-gray-50 dark:bg-slate-800 rounded-md p-1 border border-gray-200 dark:border-slate-700",children:[c.jsx("span",{className:"font-bold text-gray-500 dark:text-slate-400 pl-1",children:"Y:"}),c.jsx("input",{type:"number",placeholder:"Min",value:M,onChange:G=>C(G.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"}),c.jsx("span",{className:"text-gray-400",children:"-"}),c.jsx("input",{type:"number",placeholder:"Max",value:I,onChange:G=>D(G.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"})]}),c.jsx("button",{onClick:()=>{O(""),T(""),C(""),D("")},className:"text-xs text-cyan-600 dark:text-cyan-400 hover:underline",children:"Auto"})]}),c.jsxs("div",{className:"flex items-center gap-1 bg-white dark:bg-slate-700 p-1 rounded-lg border border-gray-200 dark:border-slate-600",children:[c.jsx("button",{onClick:()=>sr("R"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${k.R?"bg-red-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"R"}),c.jsx("button",{onClick:()=>sr("G1"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${k.G1?"bg-green-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"G1"}),c.jsx("button",{onClick:()=>sr("G2"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${k.G2?"bg-green-400 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"G2"}),c.jsx("button",{onClick:()=>sr("B"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${k.B?"bg-blue-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"B"})]})]}),c.jsxs("div",{className:"flex flex-wrap items-end gap-8",children:[c.jsxs("div",{className:"flex flex-col bg-gray-50 dark:bg-slate-800/50 p-2 rounded border border-gray-100 dark:border-slate-700",children:[c.jsx("span",{className:"text-[9px] uppercase font-bold text-gray-500 dark:text-slate-400 mb-1",children:"Black Level (0,0 0,1 1,0 1,1)"}),c.jsx("input",{type:"text",value:z,onChange:G=>te(G.target.value),className:"w-32 text-xs px-2 py-1 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded outline-none focus:border-cyan-500 font-mono",placeholder:"0 0 0 0"})]}),c.jsxs("div",{className:"flex flex-col justify-between bg-gray-50 dark:bg-slate-800/50 p-2 rounded border border-gray-100 dark:border-slate-700",children:[c.jsxs("div",{className:"flex justify-between items-center mb-1",children:[c.jsx("span",{className:"text-[9px] uppercase font-bold text-gray-500 dark:text-slate-400 mr-2",children:"Fit Range % (Robust)"}),c.jsx("button",{onClick:()=>{Y(!ce),he(ce?0:1)},className:`px-1.5 py-0.5 text-[9px] rounded border transition-colors ${ce?"bg-cyan-100 text-cyan-700 border-cyan-300 animate-pulse":"bg-white dark:bg-slate-700 border-gray-300 dark:border-slate-600 text-gray-600 dark:text-slate-300 hover:bg-gray-50"}`,children:ce?ue===1?"Pick Min":"Pick Max":"Select"})]}),c.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[c.jsx("input",{type:"number",step:"0.1",value:Ct.rangeMin,onChange:G=>Oe("rangeMin",G.target.value),onBlur:vr,onKeyDown:G=>Cr(G,"rangeMin"),className:"w-10 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-center font-bold"}),c.jsx("span",{className:"text-gray-400",children:"-"}),c.jsx("input",{type:"number",step:"0.1",value:Ct.rangeMax,onChange:G=>Oe("rangeMax",G.target.value),onBlur:vr,onKeyDown:G=>Cr(G,"rangeMax"),className:"w-10 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-center font-bold"})]})]}),c.jsxs("div",{className:"flex flex-col bg-indigo-50 dark:bg-indigo-900/20 p-2 rounded border border-indigo-100 dark:border-indigo-800/50",children:[c.jsx("span",{className:"text-[9px] uppercase font-bold text-indigo-600 dark:text-indigo-400 mb-1",children:"DR Params"}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-300",children:"Img H:"}),c.jsx("input",{type:"number",value:E,onChange:G=>B(G.target.value),onKeyDown:xa,placeholder:"Empty",className:"w-14 px-1 py-0.5 bg-white dark:bg-slate-900 border border-indigo-200 dark:border-indigo-800 rounded text-center font-bold text-indigo-700 dark:text-indigo-300 text-xs placeholder:font-normal placeholder:text-gray-300"})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-300",children:"Tgt SNR:"}),c.jsx("input",{type:"number",value:U,onChange:G=>P(G.target.value),className:"w-10 px-1 py-0.5 bg-white dark:bg-slate-900 border border-indigo-200 dark:border-indigo-800 rounded text-center font-bold text-indigo-700 dark:text-indigo-300 text-xs"})]})]})]}),c.jsxs("div",{className:"flex flex-col gap-1 text-[10px] justify-end pb-0.5",children:[c.jsx("button",{onClick:()=>{q(!J),$&&ne(null)},disabled:ce,className:`font-bold rounded border shadow-sm transition-all px-3 py-1.5 ${J?"bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400 border-amber-500 animate-pulse":"bg-white dark:bg-slate-800 text-gray-600 dark:text-slate-300 border-gray-300 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:J?"Pick Point":"Select Linear Limit"}),c.jsxs("div",{className:"flex gap-1",children:[c.jsx("button",{onClick:ro,className:`flex-1 font-bold rounded border shadow-sm transition-all px-2 py-1 ${w==="top3"?"bg-indigo-600 text-white border-indigo-700":"bg-white dark:bg-slate-800 text-gray-600 dark:text-slate-300 border-gray-300 dark:border-slate-600 hover:bg-gray-50"}`,children:"Top 3%"}),c.jsx("button",{onClick:wa,className:`font-bold rounded border shadow-sm transition-all px-2 py-1 ${w==="raw"?"bg-red-600 text-white border-red-700":"text-red-500 border-red-200 hover:bg-red-50"}`,children:"All"})]})]})]}),c.jsxs("div",{className:"flex flex-wrap gap-4 items-center bg-gray-50/50 dark:bg-slate-800/20 p-2 rounded-lg border border-gray-100 dark:border-slate-800",children:[c.jsx("span",{className:"text-[10px] uppercase font-bold text-gray-400 dark:text-slate-500",children:"Metadata"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",value:ge,onChange:G=>xe(G.target.value),placeholder:"Tester Name",className:"w-24 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"}),c.jsx("input",{type:"text",value:Ie,onChange:G=>it(G.target.value),placeholder:"Camera Model",className:"w-32 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"}),c.jsx("input",{type:"text",value:bt,onChange:G=>gr(G.target.value),placeholder:"ISO",className:"w-16 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"})]})]}),c.jsxs("div",{className:"flex flex-wrap gap-4 items-center bg-fuchsia-50/50 dark:bg-fuchsia-900/10 p-2 rounded-lg border border-fuchsia-100 dark:border-fuchsia-900/30",children:[c.jsx("span",{className:"text-[10px] uppercase font-bold text-fuchsia-500 dark:text-fuchsia-400",children:"Markers"}),c.jsxs("div",{className:"flex gap-2 items-center",children:[c.jsx("input",{type:"number",value:ke,onChange:G=>oe(G.target.value),placeholder:"X (Signal)",className:"w-20 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 outline-none focus:border-fuchsia-500 transition-colors"}),c.jsx("input",{type:"number",value:we,onChange:G=>ve(G.target.value),placeholder:"Y (Value)",className:"w-20 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 outline-none focus:border-fuchsia-500 transition-colors"}),c.jsx("button",{onClick:Ke,className:"px-3 py-1 bg-fuchsia-600 hover:bg-fuchsia-500 text-white text-xs font-bold rounded shadow-sm transition-colors active:scale-95",children:"+"}),K.length>0&&c.jsx("button",{onClick:()=>Pe([]),className:"px-2 py-1 bg-gray-200 dark:bg-slate-700 hover:bg-red-500 hover:text-white text-gray-600 dark:text-slate-300 text-xs font-bold rounded shadow-sm transition-colors active:scale-95",children:"Clr"})]}),c.jsxs("div",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono",children:[K.length," pts"]})]}),c.jsxs("div",{className:"flex gap-4 text-[10px] pt-1 justify-center sm:justify-start flex-wrap",children:[c.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[c.jsx("input",{type:"checkbox",checked:wt.shot,onChange:G=>vn({...wt,shot:G.target.checked}),className:"rounded text-gray-500"})," ",c.jsx("span",{className:"text-gray-500",children:"Shot Noise"})]}),c.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[c.jsx("input",{type:"checkbox",checked:wt.read,onChange:G=>vn({...wt,read:G.target.checked}),className:"rounded text-rose-500"})," ",c.jsx("span",{className:"text-rose-500",children:"Read Noise"})]}),c.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[c.jsx("input",{type:"checkbox",checked:wt.prnu,onChange:G=>vn({...wt,prnu:G.target.checked}),className:"rounded text-amber-500"})," ",c.jsx("span",{className:"text-amber-500",children:"PRNU"})]}),c.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[c.jsx("input",{type:"checkbox",checked:wt.total,onChange:G=>vn({...wt,total:G.target.checked}),className:"rounded text-white"})," ",c.jsx("span",{className:"text-gray-900 dark:text-white font-bold",children:"Model"})]})]})]}),c.jsxs("div",{className:"lg:col-span-3 bg-slate-100 dark:bg-slate-800 p-4 flex flex-col justify-center gap-4",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-1 px-1",children:[c.jsxs("h3",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase flex items-center gap-2",children:["Fit Parameters (D55 SAT Channel:",zt,")",j&&c.jsx("span",{className:"text-orange-500 animate-pulse text-[10px]",children:"Calculating..."})]}),c.jsxs("div",{className:"flex gap-2 items-center",children:[c.jsx("button",{onClick:ln,disabled:j,className:`px-3 py-1 text-white text-[10px] font-bold rounded shadow-sm transition-all flex items-center gap-1 active:scale-95 
                                            ${j?"bg-gray-400 cursor-wait":Et?"bg-orange-500 hover:bg-orange-600 animate-pulse ring-2 ring-orange-400/50":"bg-cyan-600 hover:bg-cyan-500"}
                                        `,title:"Apply Black Level, Auto-detect Read Noise, then Recalculate Fit",children:j?c.jsxs(c.Fragment,{children:[c.jsxs("svg",{className:"w-3 h-3 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Fitting..."]}):c.jsxs(c.Fragment,{children:[c.jsxs("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),"Apply & Calc"]})}),c.jsxs("select",{value:ct,onChange:G=>Nt(Number(G.target.value)),className:"text-[9px] bg-slate-200 dark:bg-slate-700 text-gray-600 dark:text-slate-300 rounded px-1 py-0.5 border-none outline-none cursor-pointer hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors",title:"Number of point-pairs to sample for robust regression (Theil-Sen)",children:[c.jsx("option",{value:1e5,children:"100k Pairs"}),c.jsx("option",{value:5e5,children:"500k Pairs"}),c.jsx("option",{value:2e6,children:"2M Pairs"}),c.jsx("option",{value:5e6,children:"5M Pairs"}),c.jsx("option",{value:1e7,children:"10M Pairs"})]}),Ht&&c.jsxs("span",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono",title:"Number of points used in regression",children:["N=",Ht.nPoints]})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1",children:"rn/fpn"}),c.jsx("input",{type:"text",inputMode:"decimal",value:Ct.read,onChange:G=>Oe("read",G.target.value),onBlur:()=>ut("read"),onKeyDown:G=>Cr(G,"read"),className:"w-full text-center text-2xl font-light bg-transparent text-rose-500 outline-none border-b border-transparent focus:border-rose-500 transition-colors"})]}),c.jsxs("div",{className:"flex flex-col items-center relative group",children:[c.jsxs("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1 flex items-center gap-1",children:["Kadc (HSM)",c.jsx("button",{onClick:()=>La(!0),className:"text-[9px] text-cyan-600 dark:text-cyan-400 hover:underline",children:"Dist."})]}),c.jsx("input",{type:"text",inputMode:"decimal",value:Ct.gain,onChange:G=>Oe("gain",G.target.value),onBlur:()=>ut("gain"),onKeyDown:G=>Cr(G,"gain"),className:"w-full text-center text-2xl font-light bg-transparent text-slate-700 dark:text-slate-200 outline-none border-b border-transparent focus:border-cyan-500 transition-colors"})]}),c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1",children:"PRNU (%)"}),c.jsx("input",{type:"text",inputMode:"decimal",value:Ct.prnu,onChange:G=>Oe("prnu",G.target.value),onBlur:()=>ut("prnu"),onKeyDown:G=>Cr(G,"prnu"),className:"w-full text-center text-2xl font-light bg-transparent text-amber-500 outline-none border-b border-transparent focus:border-amber-500 transition-colors"})]})]})]}),c.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 w-full"}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-center",children:[c.jsxs("div",{className:"flex flex-col justify-center bg-cyan-50 dark:bg-cyan-900/10 p-2 rounded-lg border border-cyan-100 dark:border-cyan-900/30",children:[c.jsxs("h4",{className:"text-[10px] font-bold text-cyan-600 dark:text-cyan-500 uppercase tracking-wide mb-1 truncate",title:`Manual DR at SNR=${(pe==null?void 0:pe.manualTarget)||U}`,children:["M.DR @ SNR=",(pe==null?void 0:pe.manualTarget)||U]}),c.jsx("div",{className:"text-base font-bold text-cyan-700 dark:text-cyan-400 whitespace-nowrap",children:pe!=null&&pe.manualDR?`${pe.manualDR.toFixed(2)} EV`:"--"})]}),c.jsxs("div",{className:"flex flex-col justify-center bg-emerald-50 dark:bg-emerald-900/10 p-2 rounded-lg border border-emerald-100 dark:border-emerald-900/30",title:isNaN((pe==null?void 0:pe.ptpTarget)||NaN)?"Requires Image Height":`Standard Point-to-Point DR (Target SNR = 16000/${E||"H"})`,children:[c.jsx("h4",{className:"text-[10px] font-bold text-emerald-600 dark:text-emerald-500 uppercase tracking-wide mb-1",children:"PTP DR"}),c.jsx("div",{className:"text-base font-bold text-emerald-700 dark:text-emerald-400 whitespace-nowrap",children:pe!=null&&pe.ptpDR?`${pe.ptpDR.toFixed(2)} EV`:"--"})]}),c.jsxs("div",{className:"flex flex-col justify-center bg-purple-50 dark:bg-purple-900/10 p-2 rounded-lg border border-purple-100 dark:border-purple-900/30",title:isNaN((pe==null?void 0:pe.ptpTarget)||NaN)?"Requires Image Height":`D55 Saturation DR (Target SNR = 16000/${E||"H"} on ${pe==null?void 0:pe.dominantChannel} Channel)`,children:[c.jsxs("h4",{className:"text-[10px] font-bold text-purple-600 dark:text-purple-400 uppercase tracking-wide mb-1 truncate",children:["D55 DR (",pe==null?void 0:pe.dominantChannel,")"]}),c.jsx("div",{className:"text-base font-bold text-purple-700 dark:text-purple-400 whitespace-nowrap",children:pe!=null&&pe.d55DR?`${pe.d55DR.toFixed(2)} EV`:"--"})]}),c.jsxs("div",{className:"flex flex-col justify-center bg-orange-50 dark:bg-orange-900/10 p-2 rounded-lg border border-orange-100 dark:border-orange-900/30",children:[c.jsx("h4",{className:"text-[10px] font-bold text-orange-600 dark:text-orange-400 uppercase tracking-wide mb-1",children:"FWC"}),c.jsx("div",{className:"text-base font-bold text-orange-600 dark:text-orange-400 font-mono whitespace-nowrap truncate",title:ir!==null?`${Math.round(ir)}`:"",children:ir!==null?ir>1e4?`${(ir/1e3).toFixed(1)}k`:`${Math.round(ir)}`:"--"})]})]}),$===null&&c.jsx("div",{className:"text-center text-[10px] text-red-500 animate-pulse font-bold mt-[-10px]",children:"Please select Linear Limit on chart to calc DR"})]})]}),c.jsxs("div",{className:`flex-1 p-4 bg-white dark:bg-slate-900 relative grid grid-cols-[auto_1fr] grid-rows-[1fr_auto] gap-2 ${J||ce?"cursor-crosshair":""}`,children:[c.jsx("div",{className:"row-start-1 col-start-1 h-full",children:c.jsx(yk,{vertical:!0,min:Qe,max:kt,value:[M?parseFloat(M):Qe,I?parseFloat(I):kt],onChange:([G,H])=>{C(G.toString()),D(H.toString())},logScale:h})}),c.jsxs("div",{className:"row-start-1 col-start-2 relative",children:[ar.length===0?c.jsx("div",{className:"flex h-full items-center justify-center text-gray-400",children:"No valid data points found."}):c.jsx(vo,{width:"100%",height:"100%",children:c.jsxs(DQ,{margin:{top:20,right:20,bottom:0,left:0},onClick:Wn,children:[c.jsx("defs",{children:c.jsxs("filter",{id:"glow",height:"300%",width:"300%",x:"-100%",y:"-100%",children:[c.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),c.jsxs("feMerge",{children:[c.jsx("feMergeNode",{in:"coloredBlur"}),c.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),c.jsx(Qa,{strokeDasharray:"3 3",stroke:"#374151",opacity:.2}),c.jsx(zn,{type:"number",dataKey:"x",name:"Signal",scale:h?"log":"linear",domain:Ia(_,A),allowDataOverflow:!0,hide:!0}),c.jsx(Un,{type:"number",dataKey:"y",name:d,scale:h?"log":"linear",domain:Ia(M,I),label:{value:ss,angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:12},tick:{fill:"#9ca3af",fontSize:10},allowDataOverflow:!0}),c.jsx(Kr,{content:c.jsx(ka,{}),cursor:{strokeDasharray:"3 3"}}),$&&c.jsx(Ko,{x:$,stroke:"red",strokeDasharray:"3 3",label:{position:"top",value:"Sat",fill:"red",fontSize:10}}),(wt.fitRange||ce)&&c.jsxs(c.Fragment,{children:[c.jsx(Ko,{x:or,stroke:"#22d3ee",strokeDasharray:"5 5",label:{position:"insideTopLeft",value:`Min: ${tr.min}%`,fill:"#22d3ee",fontSize:9}}),c.jsx(Ko,{x:yr,stroke:"#22d3ee",strokeDasharray:"5 5",label:{position:"insideTopLeft",value:`Max: ${tr.max}%`,fill:"#22d3ee",fontSize:9}})]}),k.R&&c.jsx(Nn,{name:"Red",data:Qr.R,fill:"#ef4444",shape:Jr,onClick:Wn,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-R"),k.G1&&c.jsx(Nn,{name:"Green 1",data:Qr.G1,fill:"#22c55e",shape:Jr,onClick:Wn,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-G1"),k.G2&&c.jsx(Nn,{name:"Green 2",data:Qr.G2,fill:"#4ade80",shape:Jr,onClick:Wn,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-G2"),k.B&&c.jsx(Nn,{name:"Blue",data:Qr.B,fill:"#3b82f6",shape:Jr,onClick:Wn,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-B"),wt.shot&&Fe.shot.length>0&&c.jsx(Nn,{name:"Shot Noise (Ideal)",data:Fe.shot,line:{stroke:"#94a3b8",strokeWidth:1,strokeDasharray:"5 5"},shape:()=>c.jsx(c.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-shot"),wt.read&&Fe.read.length>0&&c.jsx(Nn,{name:"Read Noise Floor",data:Fe.read,line:{stroke:"#f43f5e",strokeWidth:1,strokeDasharray:"3 3"},shape:()=>c.jsx(c.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-read"),wt.prnu&&Fe.prnu.length>0&&c.jsx(Nn,{name:"PRNU (Non-uniformity)",data:Fe.prnu,line:{stroke:"#f59e0b",strokeWidth:1,strokeDasharray:"3 3"},shape:()=>c.jsx(c.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-prnu"),wt.total&&Fe.total.length>0&&c.jsx(Nn,{name:"Total Noise Model",data:Fe.total,line:{stroke:b0,strokeWidth:2},shape:()=>c.jsx(c.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-total"),st.length>0&&c.jsx(Nn,{name:`Target SNR=${U}`,data:st,line:{stroke:"#6366f1",strokeWidth:2,strokeDasharray:"4 2"},shape:()=>c.jsx(c.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-target"),Ar.length>0&&c.jsx(Nn,{name:`PTP Target SNR=${pe!=null&&pe.ptpTarget?pe.ptpTarget.toFixed(1):"?"}`,data:Ar,line:{stroke:"#10b981",strokeWidth:2,strokeDasharray:"4 4"},shape:()=>c.jsx(c.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-ptp"),K.length>0&&c.jsx(Nn,{name:"Manual Markers",data:K,fill:"#d946ef",shape:"star",legendType:"star"},"manual-points")]})}),c.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 pointer-events-none select-none opacity-25 mix-blend-normal dark:mix-blend-plus-lighter",children:c.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:c.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})})]}),c.jsx("div",{className:"row-start-2 col-start-2 w-full",children:c.jsx(yk,{min:ze,max:et,value:[_?parseFloat(_):ze,A?parseFloat(A):et],onChange:([G,H])=>{O(G.toString()),T(H.toString())},logScale:h})})]})]})})},uJ=({searchTerm:e,onSearchChange:t,manufacturers:r,selectedManufacturer:n,onManufacturerChange:a,cameras:o,onCameraSelect:i})=>c.jsx("div",{className:"sticky top-4 z-10 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm p-4 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[c.jsxs("div",{className:"relative md:col-span-3",children:[c.jsx("input",{type:"text",placeholder:"Search camera model...",value:e,onChange:s=>t(s.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 text-gray-900 dark:text-slate-200 placeholder-gray-500 dark:placeholder-slate-400"}),c.jsx("svg",{className:"w-5 h-5 text-gray-400 dark:text-slate-400 absolute top-1/2 left-3 transform -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),c.jsx("select",{value:n,onChange:s=>a(s.target.value),className:"w-full md:col-span-1 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-2 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 appearance-none text-gray-900 dark:text-slate-200",children:r.map(s=>c.jsx("option",{value:s,children:s},s))}),c.jsxs("select",{onChange:s=>i(s.target.value),className:"w-full md:col-span-1 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-2 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 appearance-none text-gray-900 dark:text-slate-200",value:"","aria-label":"Jump to camera model",children:[c.jsx("option",{value:"",disabled:!0,children:"Jump to model..."}),o.map(s=>c.jsx("option",{value:s.id,children:s.name},s.id))]})]})}),fJ=({active:e,payload:t,label:r,theme:n})=>{if(e&&t&&t.length){const a=t[0].payload,o=n==="dark"?"bg-slate-800/80 border-slate-600 text-slate-300":"bg-white/90 border-gray-200 text-gray-700";return c.jsxs("div",{className:`${o} backdrop-blur-sm border p-3 rounded-lg shadow-lg`,children:[c.jsx("p",{className:"label font-bold",children:`ISO ${r}`}),c.jsx("div",{className:"mt-2 space-y-1 text-sm",children:c.jsxs(c.Fragment,{children:[c.jsxs("div",{style:{color:"#f87171"},children:["Red: ",a.R_avg.toFixed(2)," (Range: ",a.R_range[0]," - ",a.R_range[1],")"]}),c.jsxs("div",{style:{color:"#4ade80"},children:["Green 1: ",a.G1_avg.toFixed(2)," (Range: ",a.G1_range[0]," - ",a.G1_range[1],")"]}),c.jsxs("div",{style:{color:"#60a5fa"},children:["Blue: ",a.B_avg.toFixed(2)," (Range: ",a.B_range[0]," - ",a.B_range[1],")"]}),c.jsxs("div",{style:{color:"#86efac"},children:["Green 2: ",a.G2_avg.toFixed(2)," (Range: ",a.G2_range[0]," - ",a.G2_range[1],")"]})]})})]})}return null},dJ=({data:e,theme:t="dark"})=>{const r=S.useMemo(()=>!e||e.length===0?[]:[...new Set(e.map(i=>i.iso))].sort((i,s)=>Number(i)-Number(s)),[e]),n=S.useMemo(()=>{if(!e||e.length===0)return[0,4096];const i=e.flatMap(m=>[...m.R_range,...m.G1_range,...m.G2_range,...m.B_range]);if(i.length===0)return[0,4096];let s=Math.min(...i),l=Math.max(...i);const u=.25,d=l-s;if(d<u){const m=u-d;s-=m/2,l+=m/2}const f=(l-s)*.1,h=s-f,p=l+f;return[h,p]},[e]),a=t==="dark"?"#475569":"#e5e7eb",o=t==="dark"?"#94a3b8":"#6b7280";return!e||e.length===0?c.jsx("div",{className:"flex items-center justify-center h-full text-gray-500 dark:text-slate-500",children:c.jsx("p",{children:"No data available for this mode."})}):c.jsx(vo,{width:"100%",height:"100%",children:c.jsxs(pP,{data:e,margin:{top:5,right:20,left:0,bottom:5},children:[c.jsx(Qa,{strokeDasharray:"3 3",stroke:a}),c.jsx(zn,{dataKey:"iso",type:"number",domain:["dataMin","dataMax"],tick:{fill:o,fontSize:12},scale:"log",allowDuplicatedCategory:!1,ticks:r}),c.jsx(Un,{tick:{fill:o,fontSize:12},domain:n,allowDecimals:!0,tickFormatter:i=>Number(i).toFixed(3)}),c.jsx(Kr,{content:c.jsx(fJ,{theme:t})}),c.jsx(Ka,{wrapperStyle:{fontSize:"14px",color:o}}),c.jsx(fa,{type:"monotone",dataKey:"R_range",fill:"#f87171",stroke:"none",fillOpacity:.2,name:"Red",legendType:"none"}),c.jsx(Pr,{type:"monotone",dataKey:"R_avg",stroke:"#f87171",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Red"}),c.jsx(fa,{type:"monotone",dataKey:"G1_range",fill:"#4ade80",stroke:"none",fillOpacity:.2,name:"Green 1",legendType:"none"}),c.jsx(Pr,{type:"monotone",dataKey:"G1_avg",stroke:"#4ade80",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Green 1"}),c.jsx(fa,{type:"monotone",dataKey:"B_range",fill:"#60a5fa",stroke:"none",fillOpacity:.2,name:"Blue",legendType:"none"}),c.jsx(Pr,{type:"monotone",dataKey:"B_avg",stroke:"#60a5fa",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Blue"}),c.jsx(fa,{type:"monotone",dataKey:"G2_range",fill:"#86efac",stroke:"none",fillOpacity:.2,name:"Green 2",legendType:"none"}),c.jsx(Pr,{type:"monotone",dataKey:"G2_avg",stroke:"#86efac",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Green 2"})]})})},hJ=F.forwardRef(({camera:e,theme:t="dark"},r)=>{const n=S.useMemo(()=>e.shootingModes.map(f=>f.modeName),[e.shootingModes]),[a,o]=S.useState(n[0]||""),{chartData:i,tableData:s}=S.useMemo(()=>{const f=e.shootingModes.find(m=>m.modeName===a);if(!(f!=null&&f.data))return{chartData:[],tableData:[]};const h=f.data.map(m=>({iso:m.iso,R_range:m.r.range,R_avg:m.r.avg,G1_range:m.g1.range,G1_avg:m.g1.avg,B_range:m.b.range,B_avg:m.b.avg,G2_range:m.g2.range,G2_avg:m.g2.avg})),p=f.data.map(m=>({iso:m.iso,levels:[m.r.avg,m.g1.avg,m.g2.avg,m.b.avg],clipping:m.clipping}));return{chartData:h,tableData:p}},[e.shootingModes,a]),l=`Raw Data (${a})`,u=S.useRef(null),d=S.useRef(null);return S.useEffect(()=>{const f=u.current,h=d.current;if(!f||!h)return;const p=new ResizeObserver(m=>{for(let x of m){const{width:w}=x.contentRect,g=Math.max(8,w/35);h.style.fontSize=`${g}px`}});return p.observe(f),()=>p.disconnect()},[]),c.jsxs("div",{ref:r,className:"bg-white dark:bg-slate-800/50 border border-gray-200 dark:border-slate-700 rounded-xl shadow-lg p-6 flex flex-col gap-6 transform hover:scale-[1.02] hover:border-cyan-500/50 transition-all duration-500 ease-in-out",children:[c.jsxs("div",{className:"border-b border-gray-200 dark:border-slate-700 pb-4",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-slate-100",children:e.name}),c.jsx("p",{className:"text-cyan-600 dark:text-cyan-400",children:e.manufacturer})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-slate-300",children:"Black Level vs. ISO"}),c.jsx("select",{value:a,onChange:f=>o(f.target.value),className:"w-full sm:w-auto bg-gray-50 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-md px-3 py-1 text-sm outline-none focus:ring-2 focus:ring-cyan-500 transition-all duration-300 text-gray-900 dark:text-slate-200","aria-label":`Select shooting mode for ${e.name}`,children:n.map(f=>c.jsx("option",{value:f,children:f},f))})]}),c.jsxs("div",{ref:u,className:"h-64 relative",children:[c.jsx(dJ,{data:i,theme:t},a),c.jsx("div",{className:"absolute top-1/2 left-[52%] transform -translate-x-1/2 -translate-y-1/2 -rotate-30 pointer-events-none",children:c.jsx("p",{ref:d,className:"font-bold text-gray-900/10 dark:text-slate-200/40 whitespace-nowrap",children:" y-g-jiang.github.io"})})]})]}),c.jsxs("div",{className:"overflow-x-auto",children:[c.jsx("div",{className:"flex justify-between items-center mb-4",children:c.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-slate-300",children:l})}),c.jsxs("table",{className:"w-full text-left border-collapse",children:[c.jsx("thead",{className:"bg-gray-100 dark:bg-slate-700/50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-3 font-semibold text-sm text-gray-700 dark:text-slate-300",children:"ISO"}),c.jsx("th",{className:"p-3 font-semibold text-sm text-red-500 dark:text-red-400",children:"Red"}),c.jsx("th",{className:"p-3 font-semibold text-sm text-green-600 dark:text-green-400",children:"Green 1"}),c.jsx("th",{className:"p-3 font-semibold text-sm text-blue-500 dark:text-blue-400",children:"Blue"}),c.jsx("th",{className:"p-3 font-semibold text-sm text-green-500 dark:text-green-300",children:"Green 2"})]})}),c.jsx("tbody",{children:s.map(({iso:f,levels:h,clipping:p})=>c.jsxs("tr",{className:"border-b border-gray-200 dark:border-slate-700/50 last:border-b-0",children:[c.jsxs("td",{className:"p-3 font-mono text-gray-700 dark:text-slate-300 whitespace-nowrap",children:[f,p&&c.jsx("span",{className:"ml-3 text-xs font-semibold text-amber-600 dark:text-amber-400 bg-amber-100 dark:bg-amber-900/50 px-2 py-1 rounded-full align-middle",children:"Clipping"})]}),c.jsx("td",{className:"p-3 font-mono text-red-500 dark:text-red-400",children:h[0].toFixed(2)}),c.jsx("td",{className:"p-3 font-mono text-green-600 dark:text-green-400",children:h[1].toFixed(2)}),c.jsx("td",{className:"p-3 font-mono text-blue-500 dark:text-blue-400",children:h[3].toFixed(2)}),c.jsx("td",{className:"p-3 font-mono text-green-500 dark:text-green-300",children:h[2].toFixed(2)})]},f))})]})]})]})}),ye=(e,t,r)=>({avg:e,range:[t,r]}),Tp=[{id:"sony-a7r2",name:"Sony ILCE-7RM2 (A7R II)",manufacturer:"Sony",shootingModes:[{modeName:"Still (Mechanical Shutter)",data:[{iso:100,r:ye(512.1,511.95,512.25),g1:ye(512.05,511.9,512.2),b:ye(512.12,511.98,512.28),g2:ye(512.06,511.92,512.22)},{iso:200,r:ye(512.15,512,512.3),g1:ye(512.1,511.95,512.25),b:ye(512.18,512.05,512.35),g2:ye(512.12,511.98,512.28)},{iso:400,r:ye(512.25,512.1,512.45),g1:ye(512.2,512.05,512.4),b:ye(512.3,512.15,512.5),g2:ye(512.22,512.08,512.42)},{iso:800,r:ye(512.5,512.2,512.8),g1:ye(512.45,512.15,512.75),b:ye(512.55,512.25,512.85),g2:ye(512.48,512.18,512.78)},{iso:1600,r:ye(513.1,512.8,513.4),g1:ye(513.05,512.75,513.35),b:ye(513.15,512.85,513.45),g2:ye(513.08,512.78,513.38)}]}]},{id:"sony-a7c",name:"Sony ILCE-7C",manufacturer:"Sony",shootingModes:[{modeName:"Still (Mechanical)",data:[{iso:100,r:ye(512.02,511.98,512.05),g1:ye(512.01,511.97,512.04),b:ye(512.03,511.99,512.06),g2:ye(512.01,511.97,512.04)},{iso:640,r:ye(512.15,512.05,512.25),g1:ye(512.12,512.02,512.22),b:ye(512.18,512.08,512.28),g2:ye(512.13,512.03,512.23)}]}]},{id:"canon-r5",name:"Canon EOS R5",manufacturer:"Canon",shootingModes:[{modeName:"Mechanical Shutter",data:[{iso:100,r:ye(512,511.8,512.2),g1:ye(512,511.8,512.2),b:ye(512,511.8,512.2),g2:ye(512,511.8,512.2)},{iso:400,r:ye(512,511.7,512.3),g1:ye(512,511.7,512.3),b:ye(512,511.7,512.3),g2:ye(512,511.7,512.3)},{iso:1600,r:ye(512.2,511.5,512.8),g1:ye(512.2,511.5,512.8),b:ye(512.2,511.5,512.8),g2:ye(512.2,511.5,512.8)}]}]},{id:"canon-r6",name:"Canon EOS R6",manufacturer:"Canon",shootingModes:[{modeName:"Mechanical Shutter",data:[{iso:100,r:ye(511.95,511.8,512.1),g1:ye(511.95,511.8,512.1),b:ye(511.95,511.8,512.1),g2:ye(511.95,511.8,512.1)},{iso:800,r:ye(512.1,511.9,512.3),g1:ye(512.1,511.9,512.3),b:ye(512.1,511.9,512.3),g2:ye(512.1,511.9,512.3)}]}]},{id:"nikon-z9",name:"Nikon Z9",manufacturer:"Nikon",shootingModes:[{modeName:"Electronic Shutter",data:[{iso:64,r:ye(400,399.9,400.1),g1:ye(400,399.9,400.1),b:ye(400,399.9,400.1),g2:ye(400,399.9,400.1)},{iso:100,r:ye(400,399.9,400.1),g1:ye(400,399.9,400.1),b:ye(400,399.9,400.1),g2:ye(400,399.9,400.1)}]}]},{id:"nikon-z6-2",name:"Nikon Z 6II",manufacturer:"Nikon",shootingModes:[{modeName:"Still (Lossless)",data:[{iso:100,r:ye(400.1,399.8,400.3),g1:ye(400.1,399.8,400.3),b:ye(400.1,399.8,400.3),g2:ye(400.1,399.8,400.3)},{iso:800,r:ye(400.3,399.5,401.1),g1:ye(400.3,399.5,401.1),b:ye(400.3,399.5,401.1),g2:ye(400.3,399.5,401.1)}]}]},{id:"fujifilm-xt4",name:"Fujifilm X-T4",manufacturer:"Fujifilm",shootingModes:[{modeName:"Still (RAF)",data:[{iso:160,r:ye(1024,1023.8,1024.2),g1:ye(1024,1023.8,1024.2),b:ye(1024,1023.8,1024.2),g2:ye(1024,1023.8,1024.2)},{iso:800,r:ye(1024.2,1023.5,1025),g1:ye(1024.2,1023.5,1025),b:ye(1024.2,1023.5,1025),g2:ye(1024.2,1023.5,1025)}]}]}],pJ=({isOpen:e,onClose:t,theme:r})=>{const[n,a]=S.useState(""),[o,i]=S.useState("All"),s=S.useMemo(()=>["All",...Array.from(new Set(Tp.map(f=>f.manufacturer))).sort()],[]),l=S.useMemo(()=>Tp.filter(d=>{const f=d.name.toLowerCase().includes(n.toLowerCase()),h=o==="All"||d.manufacturer===o;return f&&h}),[n,o]),u=d=>{const f=document.getElementById(`camera-${d}`);f&&f.scrollIntoView({behavior:"smooth"})};return e?c.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:c.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-6xl h-[90vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700 overflow-hidden",onClick:d=>d.stopPropagation(),children:[c.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:[c.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2",children:["Camera Black Level Database",c.jsxs("span",{className:"text-xs font-normal bg-cyan-100 dark:bg-cyan-900/30 text-cyan-600 dark:text-cyan-400 px-2 py-0.5 rounded border border-cyan-200 dark:border-cyan-800",children:[Tp.length," Models"]})]}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-2 rounded-full hover:bg-gray-100 dark:hover:bg-slate-800",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700 bg-gray-50/50 dark:bg-slate-800/30",children:c.jsx(uJ,{searchTerm:n,onSearchChange:a,manufacturers:s,selectedManufacturer:o,onManufacturerChange:i,cameras:l,onCameraSelect:u})}),c.jsx("div",{className:"flex-1 overflow-y-auto p-6 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700 bg-gray-100 dark:bg-slate-950",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-2 gap-6",children:[l.map(d=>c.jsx("div",{id:`camera-${d.id}`,children:c.jsx(hJ,{camera:d,theme:r})},d.id)),l.length===0&&c.jsx("div",{className:"col-span-full flex flex-col items-center justify-center py-20 text-gray-400 dark:text-slate-600",children:c.jsx("p",{className:"text-lg",children:"No cameras found matching your criteria."})})]})})]})}):null},gJ=({isOpen:e,onClose:t,zIndex:r=150})=>{const[n,a]=S.useState(""),[o,i]=S.useState(""),[s,l]=S.useState(""),[u,d]=S.useState(""),[f,h]=S.useState(null),p=()=>{const m=parseFloat(n),x=parseFloat(o),w=parseFloat(s),y=parseFloat(u);if(isNaN(m)||isNaN(x)||isNaN(w)||isNaN(y)){h(null);return}const g=m,v=x,j=w*w,b=y*y,k=(g+v)/2;if(k<=1e-9){h(0);return}const N=j*b/k,_=Math.sqrt(N);h(_)};return e?c.jsxs(Ll,{initialPosition:{x:window.innerWidth/2-160,y:window.innerHeight/2-200},onClose:t,zIndex:r,className:"w-80 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 flex flex-col shadow-2xl",children:[c.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800",children:[c.jsx("h3",{className:"text-sm font-bold text-gray-700 dark:text-slate-200",children:"Cross-Compensation Calc"}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsxs("div",{className:"p-4 flex flex-col gap-3 text-xs",children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"H Mean (Power/Var)"}),c.jsx("input",{type:"number",step:"any",value:n,onChange:m=>a(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"V Mean (Power/Var)"}),c.jsx("input",{type:"number",step:"any",value:o,onChange:m=>i(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"H RMS 0 (Sigma)"}),c.jsx("input",{type:"number",step:"any",value:s,onChange:m=>l(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"V RMS 0 (Sigma)"}),c.jsx("input",{type:"number",step:"any",value:u,onChange:m=>d(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),c.jsx("button",{onClick:p,className:"mt-2 w-full py-2 bg-indigo-600 hover:bg-indigo-500 text-white font-bold rounded shadow transition-colors active:scale-95",children:"Calculate Sigma"}),f!==null&&c.jsxs("div",{className:"mt-2 p-3 bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-200 dark:border-indigo-800 rounded text-center animate-in fade-in slide-in-from-top-1",children:[c.jsx("span",{className:"block text-[10px] uppercase font-bold text-gray-500 dark:text-slate-400 mb-1",children:"Original White Noise Sigma"}),c.jsx("span",{className:"text-lg font-mono font-bold text-indigo-700 dark:text-indigo-300 select-all",children:f.toFixed(5)})]})]})]}):null},ny=[[.1725,.0838,.0576],[.5481,.2985,.217],[.1103,.1968,.3359],[.1038,.1502,.0521],[.2244,.2177,.4302],[.1232,.519,.4044],[.7168,.199,.0271],[.065,.1063,.3924],[.5417,.0884,.1203],[.1042,.0438,.1396],[.3547,.5078,.0482],[.7805,.3541,.0215],[.0234,.0492,.2916],[.0653,.3019,.0645],[.4294,.0319,.0402],[.8568,.5754,.0079],[.5032,.0889,.3055],[0,.249,.383],[.9163,.9155,.8705],[.5819,.5911,.5839],[.3552,.361,.359],[.1876,.1924,.1917],[.0871,.0901,.0908],[.0321,.0319,.0326]],mJ=[[3.2404542,-1.5371385,-.4985314],[-.969266,1.8760108,.041556],[.0556434,-.2040259,1.0572252]];function yJ(e,t,r,n,a,o,i=.5){const u=[],d=Math.max(.1,Math.min(.9,i)),f=Math.hypot(t.x-e.x,t.y-e.y),h=Math.hypot(n.x-r.x,n.y-r.y),p=Math.hypot(r.x-e.x,r.y-e.y),m=Math.hypot(n.x-t.x,n.y-t.y),x=(f+h)/2/5,w=(p+m)/2/3,y=x*d,g=w*d;for(let v=0;v<4;v++)for(let j=0;j<6;j++){const b=j/5,k=v/3,N=(1-b)*(1-k)*e.x+b*(1-k)*t.x+(1-b)*k*r.x+b*k*n.x,_=(1-b)*(1-k)*e.y+b*(1-k)*t.y+(1-b)*k*r.y+b*k*n.y;u.push({x:N-y/2,y:_-g/2,w:y,h:g})}return u}function yP(e){e.length;const t=e[0].length;return Array(t).fill(0).map((r,n)=>e.map(a=>a[n]))}function zf(e,t){const r=e.length,n=e[0].length,a=t.length,o=t[0].length;if(n!==a)throw new Error("Matrix dimensions mismatch");const i=Array(r).fill(0).map(()=>Array(o).fill(0));for(let s=0;s<r;s++)for(let l=0;l<o;l++)for(let u=0;u<n;u++)i[s][l]+=e[s][u]*t[u][l];return i}function vJ(e,t){const r=yP(e),n=zf(r,e);for(let u=0;u<3;u++)n[u][u]+=1e-9;const a=[[n[0][0],n[0][1],n[0][2]],[n[1][0],n[1][1],n[1][2]],[n[2][0],n[2][1],n[2][2]]],o=gP(a);if(!o)throw new Error("Singular Matrix (Check Input Data)");const i=[[o[0][0],o[0][1],o[0][2]],[o[1][0],o[1][1],o[1][2]],[o[2][0],o[2][1],o[2][2]]],s=zf(r,t);return zf(i,s)}function xJ(e){const t=e.length,r=e.map((n,a)=>[...n,...Array(t).fill(0).map((o,i)=>a===i?1:0)]);for(let n=0;n<t;n++){let a=n;for(let s=n+1;s<t;s++)Math.abs(r[s][n])>Math.abs(r[a][n])&&(a=s);const o=r[n];r[n]=r[a],r[a]=o;const i=r[n][n];if(Math.abs(i)<1e-12)throw new Error("Singular Matrix");for(let s=n;s<2*t;s++)r[n][s]/=i;for(let s=0;s<t;s++)if(s!==n){const l=r[s][n];for(let u=n;u<2*t;u++)r[s][u]-=l*r[n][u]}}return r.map(n=>n.slice(t))}function bJ(e,t,r){const n=[...e].sort((x,w)=>x.id-w.id);if(n.length!==24)throw new Error("Requires exactly 24 patches");const a=[];n.forEach(x=>{const w=x.rawMeans,y=[w[0]-t[0],w[1]-t[1],w[2]-t[2],w[3]-t[3]];let g,v,j;r?(j=y[0],v=(y[1]+y[2])/2,g=y[3]):(g=y[0],v=(y[1]+y[2])/2,j=y[3]),g=Math.max(0,g),v=Math.max(0,v),j=Math.max(0,j),a.push([g,v,j])});const i=a[18],s=(i[0]+i[1]+i[2])/3,l=1/Math.max(1e-9,s),u=a.map(x=>[x[0]*l,x[1]*l,x[2]*l]),f=vJ(u,ny),h=yP(f);let p;try{p=xJ(h)}catch{throw new Error("CCM Inversion Failed. Input data might be too dark or clipped.")}return{matrix:zf(p,mJ)}}const wJ=({isOpen:e,onClose:t,patchStats:r,initialIsBGGR:n,zIndex:a=200,sizeRatio:o,onSizeChange:i})=>{const[s,l]=S.useState(n),[u,d]=S.useState(["0","0","0","0"]),[f,h]=S.useState(null),[p,m]=S.useState(null);if(S.useEffect(()=>{if(e&&r&&r.length===24){const k=r[23].rawMeans;u[0]==="0"&&u[1]==="0"&&d([k[0].toFixed(2),k[1].toFixed(2),k[2].toFixed(2),k[3].toFixed(2)])}},[e,r]),S.useEffect(()=>{if(!e||!r||r.length!==24)return;const b=u.map(k=>parseFloat(k));if(!b.some(isNaN))try{const k=bJ(r,b,s);h(k),m(null)}catch(k){m(k.message)}},[e,r,s,u]),!e)return null;const x=(b,k)=>{d(N=>{const _=[...N];return _[b]=k,_})},w=b=>{navigator.clipboard.writeText(b)},y=b=>b?b.map(k=>k.map(N=>N.toFixed(4))):[],g=f?y(f.matrix).flat().join(" "):"",v=s?["B","G1","G2","R"]:["R","G1","G2","B"],j=s?["text-blue-500","text-green-500","text-green-500","text-red-500"]:["text-red-500","text-green-500","text-green-500","text-blue-500"];return c.jsxs(Ll,{initialPosition:{x:window.innerWidth/2-200,y:100},onClose:t,zIndex:a,className:"w-[500px] bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 flex flex-col shadow-2xl rounded-xl overflow-hidden",children:[c.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800",children:[c.jsxs("h3",{className:"text-sm font-bold text-gray-800 dark:text-slate-100 flex items-center gap-2",children:[c.jsx("span",{className:"w-2 h-2 rounded-full bg-yellow-500"}),"Color Lab Result"]}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsxs("div",{className:"p-5 flex flex-col gap-5",children:[c.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex justify-between items-center mb-1",children:[c.jsx("span",{className:"text-[10px] font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Patch Sampling Size"}),c.jsxs("span",{className:"text-xs font-mono font-bold text-cyan-600 dark:text-cyan-400",children:[Math.round(o*100),"%"]})]}),c.jsx("input",{type:"range",min:"0.1",max:"0.9",step:"0.05",value:o,onChange:b=>i(parseFloat(b.target.value)),className:"w-full h-1.5 bg-gray-300 dark:bg-slate-600 rounded-lg appearance-none cursor-pointer accent-cyan-500"})]}),c.jsx("div",{className:"flex justify-center",children:c.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-800 p-1 rounded-lg border border-gray-200 dark:border-slate-700",children:[c.jsx("button",{onClick:()=>l(!1),className:`px-4 py-1.5 text-xs font-bold rounded transition-all ${s?"text-gray-500 dark:text-slate-400 hover:text-gray-700":"bg-white dark:bg-slate-600 text-indigo-600 dark:text-indigo-300 shadow-sm"}`,children:"RGGB Mode"}),c.jsx("button",{onClick:()=>l(!0),className:`px-4 py-1.5 text-xs font-bold rounded transition-all ${s?"bg-white dark:bg-slate-600 text-indigo-600 dark:text-indigo-300 shadow-sm":"text-gray-500 dark:text-slate-400 hover:text-gray-700"}`,children:"BGGR Mode"})]})}),c.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800/50 p-3 rounded-lg border border-gray-100 dark:border-slate-700",children:[c.jsx("h4",{className:"text-[10px] font-bold text-gray-400 dark:text-slate-500 uppercase mb-2",children:"Input Black Levels ()"}),c.jsx("div",{className:"grid grid-cols-4 gap-2",children:[0,1,2,3].map(b=>c.jsxs("div",{className:"flex flex-col",children:[c.jsx("label",{className:`text-[10px] font-bold mb-1 ${j[b]}`,children:v[b]}),c.jsx("input",{type:"number",step:"0.01",value:u[b],onChange:k=>x(b,k.target.value),className:"w-full px-2 py-1 text-sm font-mono border border-gray-300 dark:border-slate-600 rounded bg-white dark:bg-slate-900 text-gray-900 dark:text-slate-100 outline-none focus:ring-1 focus:ring-yellow-500"})]},b))})]}),p?c.jsx("div",{className:"text-red-500 text-sm text-center bg-red-50 dark:bg-red-900/20 p-2 rounded",children:p}):f?c.jsx(c.Fragment,{children:c.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800/50 p-3 rounded-lg border border-gray-100 dark:border-slate-700",children:[c.jsx("h4",{className:"text-[10px] font-bold text-gray-400 dark:text-slate-500 uppercase mb-2",children:"Calculated Color Matrix (XYZ  Camera RGB)"}),c.jsx("div",{className:"font-mono text-xs text-gray-700 dark:text-slate-300 grid grid-rows-3 gap-1 mb-3",children:y(f.matrix).map((b,k)=>c.jsxs("div",{className:"flex justify-between bg-white dark:bg-slate-900 px-2 py-1 rounded",children:[c.jsx("span",{className:"text-red-500/80 w-1/3 text-right",children:b[0]}),c.jsx("span",{className:"text-green-500/80 w-1/3 text-right",children:b[1]}),c.jsx("span",{className:"text-blue-500/80 w-1/3 text-right",children:b[2]})]},k))}),c.jsx("button",{onClick:()=>w(g),className:"w-full py-1.5 bg-indigo-600 hover:bg-indigo-500 text-white text-xs font-bold rounded shadow transition-transform active:scale-95 flex items-center justify-center gap-2",children:"Copy Matrix String (for customMatrix)"})]})}):c.jsx("div",{className:"text-gray-400 text-sm text-center",children:"Calculating..."})]})]})},Ou=.25;function kJ(e,t){const r=e.length;let n=0,a=0,o=0,i=0;for(let l=0;l<r;l++)n+=e[l],a+=t[l],o+=e[l]*t[l],i+=e[l]*e[l];const s=r*i-n*n;return{slope:(r*o-n*a)/s,intercept:(a*i-n*o)/s}}function jJ(e){const t=e.length,r=new Array(t).fill(0),n=[22,-67,-58,0,58,67,-22],a=252*Ou;for(let o=0;o<t;o++){let i=0;for(let s=0;s<7;s++){let l=o-3+s;l<0&&(l=0),l>=t&&(l=t-1),i+=e[l]*n[s]}r[o]=i/a}return r}function vk(e,t,r,n){const a=Math.floor(n.x),o=Math.floor(n.y),i=Math.floor(n.w),s=Math.floor(n.h);if(i<8||s<8)return null;let l=[];for(let P=0;P<s;P++){const E=[],B=(o+P)*t;for(let z=0;z<i;z++)E.push(e[B+a+z]);l.push(E)}let u=0,d=0;for(let P=1;P<s-1;P+=2)for(let E=1;E<i-1;E+=2)u+=Math.abs(l[P][E+1]-l[P][E-1]),d+=Math.abs(l[P+1][E]-l[P-1][E]);let f=i,h=s,p=l;if(d>u){p=Array(i).fill(0).map(()=>Array(s).fill(0));for(let P=0;P<s;P++)for(let E=0;E<i;E++)p[E][s-1-P]=l[P][E];f=s,h=i}const m=[],x=[];for(let P=0;P<h;P++){const E=p[P],B=E.map((Q,R)=>R===0?0:Math.abs(Q-E[R-1])),z=Math.max(...B),te=B.indexOf(z);if(z>1){const Q=Math.max(0,te-3),R=Math.min(f,te+4);let J=0,q=0;for(let $=Q;$<R;$++)J+=B[$],q+=$*B[$];J>0&&(m.push(q/J),x.push(P))}}if(m.length<h*.4)return null;const{slope:w,intercept:y}=kJ(x,m),g=Math.cos(Math.atan(w)),v=[],j=[];for(let P=0;P<h;P++){const E=w*P+y;for(let B=0;B<f;B++)v.push((B-E)*g),j.push(p[P][B])}const b=Array.from(v.keys()).sort((P,E)=>v[P]-v[E]),k=b.map(P=>v[P]),N=b.map(P=>j[P]),_=k[0],O=k[k.length-1],A=Math.floor((O-_)/Ou),T=new Array(A).fill(0),M=new Array(A).fill(0);for(let P=0;P<k.length;P++){const E=Math.floor((k[P]-_)/Ou);E>=0&&E<A&&(T[E]+=N[P],M[E]++)}let C=N[0];for(let P=0;P<A;P++)M[P]>0?(T[P]/=M[P],C=T[P]):T[P]=C;const I=T.slice(0,10).reduce((P,E)=>P+E,0)/10,D=T.slice(-10).reduce((P,E)=>P+E,0)/10;if(I>D){const P=Math.max(...T),E=Math.min(...T);for(let B=0;B<T.length;B++)T[B]=P-T[B]+E}const U=jJ(T);return{esf:T,lsfFull:U}}function SJ(e,t,r){if(e.length===0)return null;const n=4096,a=new Ji(n),o=Math.round(t/Ou),i=r?1e3/r:1,s=new Float32Array(501);for(let m=0;m<=500;m++)s[m]=m/500*i;const l=new Float32Array(501).fill(0);let u=0,d=[],f=[];for(const m of e){const x=m.lsfFull;let w=0,y=-1/0;for(let O=0;O<x.length;O++)x[O]>y&&(y=x[O],w=O);const g=Math.max(0,w-o),v=Math.min(x.length,w+o),j=x.slice(g,v);if(j.length<8)continue;d.length===0&&(d=j,f=m.esf);const b=new Float32Array(n).fill(0);for(let O=0;O<j.length;O++){const A=.54-.46*Math.cos(2*Math.PI*O/(j.length-1));b[O]=j[O]*A}a.transform(b);const k=[],N=[];for(let O=0;O<=n/2;O++){const A=Math.sqrt(a._real[O]**2+a._imag[O]**2);k.push(A),N.push(O/(n*Ou)*i)}const _=k[0];if(_>0){for(let O=0;O<=500;O++){const A=s[O];l[O]+=_J(A,N,k)/_}u++}}if(u===0)return null;const h=Array.from(l).map(m=>m/u);let p=null;for(let m=0;m<h.length-1;m++)if(h[m]>=.5&&h[m+1]<.5){p=s[m]+(.5-h[m])*(s[m+1]-s[m])/(h[m+1]-h[m]);break}return{esf:f,lsf:[],lsfCropped:d,mtf:h,freqs:Array.from(s),mtf50:p}}function _J(e,t,r){if(e<=t[0])return r[0];if(e>=t[t.length-1])return r[r.length-1];let n=0;for(;e>t[n+1];)n++;const a=(e-t[n])/(t[n+1]-t[n]);return r[n]+a*(r[n+1]-r[n])}const NJ=({isOpen:e,onClose:t,rawImageData:r,roi:n,zIndex:a=110,onFocus:o,displaySettings:i})=>{const[s,l]=S.useState([]),[u,d]=S.useState(""),[f,h]=S.useState(""),[p,m]=S.useState(12),[x,w]=S.useState(1),[y,g]=S.useState(null),[v,j]=S.useState({x:100,y:50}),[b,k]=S.useState({w:1e3,h:800}),[N,_]=S.useState(!1),[O,A]=S.useState(!1),T=S.useRef({x:0,y:0}),M=S.useRef({w:0,h:0}),C=()=>{if(!(!r||!n))try{let R;if((i==null?void 0:i.renderMode)==="advanced-zero-dep"&&i.advancedZeroDep){const J=mP(r,n,i);R=vk(J.data,J.width,J.height,{x:0,y:0,w:J.width,h:J.height})}else R=vk(r.data,r.width,r.height,n);R?l(J=>[...J,R]):alert("Could not detect valid edge in selection. Make sure it contains a transition.")}catch(R){console.error(R),alert("Error processing ROI")}},I=()=>{l([]),g(null),w(1)},D=()=>{if(!y)return;const R=parseFloat(u),$=`data:text/csv;charset=utf-8,Frequency (${!isNaN(R)&&R>0?"lp/mm":"cy/px"}),MTF
`+y.freqs.map((Y,ue)=>`${Y.toFixed(6)},${y.mtf[ue].toFixed(6)}`).join(`
`),ne=encodeURI($),ce=document.createElement("a");ce.setAttribute("href",ne),ce.setAttribute("download",`sfr_data_${Date.now()}.csv`),document.body.appendChild(ce),ce.click(),document.body.removeChild(ce)};S.useEffect(()=>{if(s.length===0){g(null);return}const R=parseFloat(u),J=!isNaN(R)&&R>0?R:null,q=SJ(s,p,J);g(q)},[s,p,u]),S.useEffect(()=>{e&&s.length===0&&n&&r&&C()},[e]);const U=R=>{o&&o(),!(R.target.closest("button")||R.target.closest("input"))&&(_(!0),T.current={x:R.clientX-v.x,y:R.clientY-v.y})},P=R=>{R.stopPropagation(),R.preventDefault(),A(!0),T.current={x:R.clientX,y:R.clientY},M.current={w:b.w,h:b.h}};S.useEffect(()=>{const R=q=>{if(N)j({x:q.clientX-T.current.x,y:q.clientY-T.current.y});else if(O){const $=q.clientX-T.current.x,ne=q.clientY-T.current.y;k({w:Math.max(600,M.current.w+$),h:Math.max(500,M.current.h+ne)})}},J=()=>{_(!1),A(!1)};return(N||O)&&(window.addEventListener("mousemove",R),window.addEventListener("mouseup",J)),()=>{window.removeEventListener("mousemove",R),window.removeEventListener("mouseup",J)}},[N,O]);const E=S.useMemo(()=>{if(!(y!=null&&y.mtf50)||!f)return null;const R=parseFloat(f);if(isNaN(R)||R<=0)return null;let J=y.mtf50;const q=parseFloat(u);return!isNaN(q)&&q>0&&(J=y.mtf50*(q/1e3)),J*2*R},[y,f,u]);if(!e)return null;const B=y?y.lsfCropped.map((R,J)=>({x:J,y:R})):[],z=y?y.esf.map((R,J)=>({x:J,y:R})):[],te=y?y.mtf.map((R,J)=>({freq:y.freqs[J],mtf:R})).filter(R=>R.freq<=(parseFloat(u)?200:1)):[],Q=u?"lp/mm":"cy/px";return c.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl overflow-hidden",style:{left:v.x,top:v.y,width:b.w,height:b.h,zIndex:a??100},onMouseDownCapture:o,children:[c.jsxs("div",{className:`flex justify-between items-center px-4 py-2 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800 select-none ${N?"cursor-grabbing":"cursor-grab"}`,onMouseDown:U,children:[c.jsxs("h3",{className:"text-sm font-bold text-orange-600 dark:text-orange-400 flex items-center gap-2 pointer-events-none",children:["SFR Expert (Edge Method)",c.jsxs("span",{className:"text-xs bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 px-2 py-0.5 rounded border border-orange-200 dark:border-orange-800",children:[s.length," ROI",s.length!==1?"s":""]}),(i==null?void 0:i.renderMode)==="advanced-zero-dep"&&c.jsx("span",{className:"text-xs font-bold bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 px-2 py-0.5 rounded border border-indigo-200 dark:border-indigo-800 animate-pulse",children:"Linear Unmixing Active"})]}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsxs("div",{className:"p-3 bg-gray-50/50 dark:bg-slate-800/30 border-b border-gray-200 dark:border-slate-700 flex items-center gap-4 flex-wrap text-xs flex-shrink-0",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-bold text-gray-500 dark:text-slate-400",children:"Pixel Pitch (m):"}),c.jsx("input",{type:"number",value:u,onChange:R=>d(R.target.value),placeholder:"Default (cy/px)",className:"w-20 px-2 py-1 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded outline-none focus:border-orange-500"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-bold text-gray-500 dark:text-slate-400",children:"Image Height:"}),c.jsx("input",{type:"number",value:f,onChange:R=>h(R.target.value),placeholder:"px",className:"w-16 px-2 py-1 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded outline-none focus:border-orange-500"})]}),c.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-[150px]",children:[c.jsxs("span",{className:"font-bold text-gray-500 dark:text-slate-400 whitespace-nowrap",children:["Radius (px): ",p.toFixed(1)]}),c.jsx("input",{type:"range",min:"2",max:"50",step:"0.5",value:p,onChange:R=>m(parseFloat(R.target.value)),className:"w-full h-1.5 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-orange-500"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:C,className:"px-3 py-1.5 bg-orange-600 hover:bg-orange-500 text-white font-bold rounded shadow-sm transition-transform active:scale-95",children:"Add Current ROI"}),c.jsx("button",{onClick:D,disabled:!y,className:"px-3 py-1.5 bg-indigo-600 hover:bg-indigo-500 disabled:bg-gray-300 disabled:text-gray-500 text-white font-bold rounded shadow-sm transition-transform active:scale-95",children:"Export CSV"}),c.jsx("button",{onClick:I,className:"px-3 py-1.5 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-600 dark:text-slate-300 font-bold rounded transition-colors",children:"Clear"})]})]}),c.jsxs("div",{className:"flex-1 p-4 overflow-hidden flex flex-col gap-4 bg-white dark:bg-slate-950",children:[c.jsxs("div",{className:"h-[35%] min-h-[180px] flex gap-4",children:[c.jsxs("div",{className:"flex-1 bg-gray-50 dark:bg-slate-900/50 border border-gray-200 dark:border-slate-800 rounded-xl p-2 relative flex flex-col",children:[c.jsx("h4",{className:"text-[10px] font-bold text-gray-500 dark:text-slate-400 absolute top-2 left-3 z-10 bg-white/80 dark:bg-slate-900/80 px-1 rounded",children:"ESF"}),c.jsx("div",{className:"flex-1 min-h-0 w-full",children:c.jsx(vo,{width:"100%",height:"100%",children:c.jsxs(Fs,{data:z,children:[c.jsx(Qa,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),c.jsx(zn,{dataKey:"x",hide:!0}),c.jsx(Un,{hide:!0,domain:["auto","auto"]}),c.jsx(Kr,{contentStyle:{fontSize:"10px"}}),c.jsx(Pr,{type:"monotone",dataKey:"y",stroke:"#3b82f6",strokeWidth:1,dot:!1,isAnimationActive:!1})]})})})]}),c.jsxs("div",{className:"flex-1 bg-gray-50 dark:bg-slate-900/50 border border-gray-200 dark:border-slate-800 rounded-xl p-2 relative flex flex-col",children:[c.jsxs("div",{className:"absolute top-2 left-3 z-10 flex items-center gap-3",children:[c.jsxs("h4",{className:"text-[10px] font-bold text-gray-500 dark:text-slate-400 bg-white/80 dark:bg-slate-900/80 px-1 rounded",children:["LSF ",x>1?`(x${x.toFixed(0)})`:""]}),c.jsxs("div",{className:"flex items-center gap-1 bg-white/80 dark:bg-slate-900/80 px-1 rounded border border-gray-200 dark:border-slate-700",children:[c.jsx("span",{className:"text-[9px] text-gray-400 font-bold",children:"Zoom"}),c.jsx("input",{type:"range",min:"1",max:"50",step:"1",value:x,onChange:R=>w(parseFloat(R.target.value)),className:"w-16 h-1 bg-gray-300 dark:bg-slate-600 rounded-lg appearance-none cursor-pointer accent-red-500",title:"Vertical Zoom to observe noise floor"})]})]}),c.jsx("div",{className:"flex-1 min-h-0 w-full",children:c.jsx(vo,{width:"100%",height:"100%",children:c.jsxs(Fs,{data:B,children:[c.jsx(Qa,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),c.jsx(Ko,{y:0,stroke:"#9ca3af",strokeOpacity:.5,strokeDasharray:"3 3"}),c.jsx(zn,{dataKey:"x",hide:!0}),c.jsx(Un,{hide:!1,width:30,tick:{fontSize:9,fill:"#888"},domain:[R=>R,R=>R/x],allowDataOverflow:!0,tickFormatter:R=>R.toFixed(3)}),c.jsx(Kr,{contentStyle:{fontSize:"10px"},formatter:R=>[R.toFixed(5),"Amplitude"]}),c.jsx(Pr,{type:"monotone",dataKey:"y",stroke:"#ef4444",strokeWidth:2,dot:!1,isAnimationActive:!1})]})})})]})]}),c.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-800 rounded-xl p-2 relative flex flex-col min-h-[250px]",children:[c.jsxs("div",{className:"flex justify-between items-start px-2 mb-1",children:[c.jsx("h4",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"MTF / Spatial Frequency Response"}),c.jsxs("div",{className:"flex gap-4 items-center",children:[(y==null?void 0:y.mtf50)&&c.jsxs("div",{className:"text-sm font-bold text-gray-600 dark:text-slate-300",children:["MTF50 = ",c.jsxs("span",{className:"text-orange-600 dark:text-orange-400",children:[y.mtf50.toFixed(2)," ",Q]})]}),E!==null&&c.jsxs("div",{className:"text-lg font-bold text-white bg-orange-500 px-3 py-0.5 rounded shadow-lg animate-in fade-in",children:[Math.round(E)," LW/PH"]})]})]}),c.jsxs("div",{className:"flex-1 relative min-h-0 w-full",children:[c.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 pointer-events-none select-none opacity-10",children:c.jsx("svg",{viewBox:"0 0 400 60",className:"w-[40rem] h-auto",children:c.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"24",fontWeight:"bold",children:" y-g-jiang.github.io"})})}),c.jsx(vo,{width:"100%",height:"100%",children:c.jsxs(Fs,{data:te,margin:{top:10,right:30,left:10,bottom:20},children:[c.jsx(Qa,{strokeDasharray:"3 3",stroke:"#374151",opacity:.15}),c.jsx(zn,{dataKey:"freq",type:"number",tick:{fontSize:10,fill:"#9ca3af"},label:{value:`Frequency (${Q})`,position:"insideBottom",offset:-10,fontSize:11,fill:"#9ca3af"}}),c.jsx(Un,{domain:[0,1.1],tick:{fontSize:10,fill:"#9ca3af"},label:{value:"MTF",angle:-90,position:"insideLeft",fontSize:11,fill:"#9ca3af"}}),c.jsx(Kr,{contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.9)",border:"none",color:"#fff",fontSize:"11px",borderRadius:"4px"},labelFormatter:R=>`Freq: ${Number(R).toFixed(3)}`,formatter:R=>[R.toFixed(4),"MTF"]}),c.jsx(Ka,{verticalAlign:"top",height:20}),c.jsx(Pr,{type:"monotone",dataKey:"mtf",name:"SFR",stroke:"#000000",strokeWidth:2,className:"dark:stroke-white",dot:!1,isAnimationActive:!1}),(y==null?void 0:y.mtf50)&&c.jsx(Fu,{x:y.mtf50,y:.5,r:4,fill:"#f97316",stroke:"none",children:c.jsx(rn,{value:"MTF50",position:"top",fill:"#f97316",fontSize:10,fontWeight:"bold"})})]})})]})]})]}),c.jsx("div",{className:"absolute bottom-0 right-0 w-4 h-4 cursor-nwse-resize z-50 bg-gray-300 dark:bg-slate-600 rounded-tl hover:bg-orange-500 transition-colors",onMouseDown:P})]})},OJ=`
import struct
import numpy as np

class Type:
    Short = (3,2); Long = (4,4); Rational = (5,8); Ascii = (2,1); Byte = (1,1)
    Undefined = (7,1); Srational = (10,8); IFD = (13,4)

class Tag:
    NewSubfileType = (254, Type.Long); ImageWidth = (256, Type.Long); ImageLength = (257, Type.Long)
    BitsPerSample = (258, Type.Short); Compression = (259, Type.Short)
    PhotometricInterpretation = (262, Type.Short); Make = (271, Type.Ascii); Model = (272, Type.Ascii)
    StripOffsets = (273, Type.Long); Orientation = (274, Type.Short); SamplesPerPixel = (277, Type.Short)
    RowsPerStrip = (278, Type.Short); StripByteCounts = (279, Type.Long)
    CFARepeatPatternDim = (33421, Type.Short); CFAPattern = (33422, Type.Byte)
    DNGVersion = (50706, Type.Byte); UniqueCameraModel = (50708, Type.Ascii)
    BlackLevel = (50714, Type.Short); WhiteLevel = (50717, Type.Short)
    ColorMatrix1 = (50721, Type.Srational); CalibrationIlluminant1 = (50778, Type.Short)
    BlackLevelRepeatDim = (50713, Type.Short)

class Compression: Uncompressed = 1
class PhotometricInterpretation: Color_Filter_Array = 32803
class CFAPattern: BGGR=[2,1,1,0]; GBRG=[1,2,0,1]; GRBG=[1,0,2,1]; RGGB=[0,1,1,2]

class dngTag(object):
    def __init__(self, tagType, value=[]):
        self.TagId = tagType[0]
        self.DataType = tagType[1]
        self.DataCount = len(value) if not isinstance(value, str) else len(value) + 1
        self.Value = self._pack_value(tagType[1], value)
        self.DataLength = len(self.Value)
        self.selfContained = (self.DataLength <= 4)
        self.DataOffset = 0

    def _pack_value(self, dtype, value):
        tid = dtype[0]
        if tid == 1: return struct.pack('<%sB' % len(value), *value)
        elif tid == 3: return struct.pack('<%sH' % len(value), *value)
        elif tid == 4: return struct.pack('<%sL' % len(value), *value)
        elif tid == 2: return struct.pack('<%ss' % len(value), value.encode("ascii")) + b'\\x00'
        elif tid == 5 or tid == 10: 
            flat = [item for sublist in value for item in sublist]
            fmt = 'L' if tid == 5 else 'l'
            return struct.pack('<%s%s' % (len(flat), fmt), *flat)
        return b''

    def write_directory(self, buf, offset):
        if self.selfContained:
            val = self.Value + b'\\x00' * (4 - len(self.Value))
            struct.pack_into("<HHI4s", buf, offset, self.TagId, self.DataType[0], self.DataCount, val)
        else:
            struct.pack_into("<HHII", buf, offset, self.TagId, self.DataType[0], self.DataCount, self.DataOffset)

    def write_data(self, buf):
        if not self.selfContained:
            struct.pack_into(f"<{len(self.Value)}s", buf, self.DataOffset, self.Value)

def convert_to_dng(raw_bytes, width, height, cfa_str, black_level_list, shift, cm_flat):
    # 1. Pixel Data Processing
    # Ensure raw_bytes is a bytes-like object
    raw_data = np.frombuffer(raw_bytes, dtype=np.uint16).copy()
    if shift > 0:
        raw_data = raw_data.astype(np.uint32) * (1 << shift)
        raw_data = np.clip(raw_data, 0, 65535).astype(np.uint16)

    # 2. Metadata Preparation
    white_level = 65019
    # Format Color Matrix for Srational (Value, Denominator)
    color_matrix = [[int(x * 10000), 10000] for x in cm_flat]

    cfa_map = {"BGGR": CFAPattern.BGGR, "GBRG": CFAPattern.GBRG, "GRBG": CFAPattern.GRBG, "RGGB": CFAPattern.RGGB}
    
    tags = [
        dngTag(Tag.NewSubfileType, [0]),
        dngTag(Tag.ImageWidth, [width]),
        dngTag(Tag.ImageLength, [height]),
        dngTag(Tag.BitsPerSample, [16]), 
        dngTag(Tag.Compression, [Compression.Uncompressed]),
        dngTag(Tag.PhotometricInterpretation, [PhotometricInterpretation.Color_Filter_Array]),
        dngTag(Tag.Make, "JO-Workstation"),
        dngTag(Tag.Model, "Manual-16bit"),
        dngTag(Tag.SamplesPerPixel, [1]),
        dngTag(Tag.RowsPerStrip, [height]), 
        dngTag(Tag.CFARepeatPatternDim, [2, 2]),
        dngTag(Tag.CFAPattern, cfa_map.get(cfa_str.upper(), CFAPattern.RGGB)),
        dngTag(Tag.BlackLevelRepeatDim, [2, 2]),
        dngTag(Tag.BlackLevel, [int(x) for x in black_level_list]),
        dngTag(Tag.WhiteLevel, [white_level]),
        dngTag(Tag.ColorMatrix1, color_matrix),
        dngTag(Tag.CalibrationIlluminant1, [21]),
        dngTag(Tag.DNGVersion, [1, 4, 0, 0]),
        dngTag(Tag.UniqueCameraModel, "Generic 16bit Raw")
    ]
    
    pixel_bytes = raw_data.tobytes()
    tags.append(dngTag(Tag.StripOffsets, [0])) 
    tags.append(dngTag(Tag.StripByteCounts, [len(pixel_bytes)]))
    tags.sort(key=lambda x: x.TagId)
    
    ifd_size = 2 + (len(tags) * 12) + 4
    current_data_offset = 8 + ifd_size
    
    for tag in tags:
        if not tag.selfContained:
            tag.DataOffset = current_data_offset
            current_data_offset = (current_data_offset + tag.DataLength + 3) & 0xFFFFFFFC
            
    img_offset = current_data_offset
    for tag in tags:
        if tag.TagId == Tag.StripOffsets[0]:
            tag.Value = struct.pack('<L', img_offset)
            break
            
    buf = bytearray(img_offset + len(pixel_bytes))
    struct.pack_into("<ccbbI", buf, 0, b'I', b'I', 0x2A, 0x00, 8)
    struct.pack_into("<H", buf, 8, len(tags))
    
    offset = 10
    for tag in tags:
        tag.write_directory(buf, offset)
        offset += 12
        
    struct.pack_into("<I", buf, offset, 0)
    for tag in tags:
        tag.write_data(buf)
        
    buf[img_offset:img_offset+len(pixel_bytes)] = pixel_bytes
    return bytes(buf)
`,PJ=({isOpen:e,onClose:t,rawImageData:r,fileName:n,zIndex:a=200,onFocus:o})=>{const[i,s]=S.useState(!0),[l,u]=S.useState(!1),d=S.useRef(null),[f,h]=S.useState(4),[p,m]=S.useState(""),[x,w]=S.useState("");S.useEffect(()=>{e&&!d.current&&(async()=>{try{const v=await window.loadPyodide();await v.loadPackage("numpy"),await v.runPythonAsync(OJ),d.current=v,s(!1)}catch(v){console.error("Pyodide Init Failed",v)}})()},[e]),S.useEffect(()=>{if(e&&r){const g=r.whiteLevel;g>1e4?h(2):g>3e3?h(4):g>6e4&&h(0)}},[e,r]);const y=async()=>{if(!(!r||!d.current)){u(!0);try{const g=d.current,v=p.trim()?p.trim().split(/\s+/).map(Number):[0,0,0,0];if(v.length===1&&!isNaN(v[0])&&v.push(v[0],v[0],v[0]),v.length<4)for(;v.length<4;)v.push(0);const j=x.trim()?x.trim().split(/[\s,\n]+/).map(Number):[1,0,0,0,1,0,0,0,1];if(j.length!==9)throw new Error("Color Matrix must contain exactly 9 numeric values.");const b=r.bayerPattern||"RGGB";g.globals.set("js_raw_bytes",new Uint8Array(r.data.buffer,r.data.byteOffset,r.data.byteLength)),g.globals.set("js_width",r.width),g.globals.set("js_height",r.height),g.globals.set("js_cfa",b),g.globals.set("js_bl_list",v),g.globals.set("js_shift",f),g.globals.set("js_cm_flat",j);const k=await g.runPythonAsync(`
                convert_to_dng(
                    js_raw_bytes.to_py(), 
                    js_width, 
                    js_height, 
                    js_cfa, 
                    js_bl_list.to_py(), 
                    js_shift, 
                    js_cm_flat.to_py()
                )
            `),N=k.toJs();k.destroy();const _=new Blob([N],{type:"image/x-adobe-dng"}),O=URL.createObjectURL(_),A=document.createElement("a");A.href=O;const T=n.substring(0,n.lastIndexOf("."))||"image";A.download=`${T}_16bit_manual.dng`,document.body.appendChild(A),A.click(),document.body.removeChild(A),URL.revokeObjectURL(O)}catch(g){console.error(g),alert("Export Failed: "+g.message)}finally{u(!1)}}};return e?c.jsxs(Ll,{initialPosition:{x:window.innerWidth/2-250,y:150},onClose:t,zIndex:a,onFocus:o,className:"w-[500px] bg-white dark:bg-black border-2 border-black dark:border-white shadow-2xl rounded-none flex flex-col font-mono",children:[c.jsxs("div",{className:"flex justify-between items-center px-4 py-2 border-b-2 border-black dark:border-gray-500 bg-gray-200 dark:bg-gray-800",children:[c.jsx("h3",{className:"text-sm font-bold text-black dark:text-white uppercase tracking-widest",children:"16-bit DNG Workstation"}),c.jsx("button",{onClick:t,className:"text-black dark:text-white hover:text-red-600 transition-colors",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsx("div",{className:"p-6 flex flex-col gap-6",children:i?c.jsxs("div",{className:"flex flex-col items-center justify-center py-10 gap-4",children:[c.jsx("div",{className:"w-8 h-8 border-4 border-black dark:border-white border-t-transparent animate-spin"}),c.jsx("p",{className:"text-xs font-bold text-gray-500 animate-pulse",children:"Initializing Python Kernel (Joraw+NumPy)..."})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"text-[10px] font-bold text-gray-500 dark:text-gray-400 uppercase",children:"Width (Read Only)"}),c.jsx("input",{type:"text",readOnly:!0,value:(r==null?void 0:r.width)||0,className:"w-full bg-gray-100 dark:bg-gray-900 border border-black dark:border-gray-600 px-2 py-1 text-sm text-gray-400"})]}),c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"text-[10px] font-bold text-gray-500 dark:text-gray-400 uppercase",children:"Height (Read Only)"}),c.jsx("input",{type:"text",readOnly:!0,value:(r==null?void 0:r.height)||0,className:"w-full bg-gray-100 dark:bg-gray-900 border border-black dark:border-gray-600 px-2 py-1 text-sm text-gray-400"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"text-[10px] font-bold text-cyan-600 dark:text-cyan-400 uppercase",children:"Bit Shift ()"}),c.jsx("input",{type:"number",value:f,onChange:g=>h(parseInt(g.target.value)||0),className:"w-full bg-white dark:bg-gray-800 border-2 border-black dark:border-gray-500 px-2 py-1 text-sm font-bold"}),c.jsx("span",{className:"text-[8px] text-gray-400 mt-0.5",children:"4 = 12bit (x16) | 2 = 14bit (x4)"})]}),c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"text-[10px] font-bold text-indigo-600 dark:text-indigo-400 uppercase",children:"16bit Black Level"}),c.jsx("input",{type:"text",value:p,onChange:g=>m(g.target.value),placeholder:"R G1 B G2 (Empty = 0)",className:"w-full bg-white dark:bg-gray-800 border-2 border-black dark:border-gray-500 px-2 py-1 text-sm font-bold font-mono placeholder:font-normal placeholder:text-gray-400"})]})]}),c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"text-[10px] font-bold text-gray-500 dark:text-gray-400 uppercase",children:"Color Matrix (XYZ to Raw - 9 Values)"}),c.jsx("textarea",{value:x,onChange:g=>w(g.target.value),placeholder:"e.g. 0.94 -0.39 -0.07 -0.28 1.09 0.22 -0.01 0.09 0.57",className:"w-full h-20 bg-white dark:bg-gray-800 border-2 border-black dark:border-gray-500 px-2 py-1 text-xs font-mono resize-none placeholder:font-normal placeholder:text-gray-400"}),c.jsx("span",{className:"text-[8px] text-gray-400 mt-0.5",children:"Enter 9 numbers separated by space or comma."})]}),c.jsx("button",{onClick:y,disabled:l,className:`w-full py-4 text-sm font-bold uppercase tracking-widest transition-all shadow-[4px_4px_0px_black] active:shadow-none active:translate-x-1 active:translate-y-1 ${l?"bg-gray-400 cursor-wait":"bg-cyan-600 hover:bg-cyan-500 text-white border-2 border-black"}`,children:l?"Processing Kernel...":"Convert & Download DNG"})]})})]}):null};function MJ(e,t,r,n=3){const o=r.byteLength,i=8,s=i+o,l=[{id:256,type:4,count:1,value:e},{id:257,type:4,count:1,value:t},{id:258,type:3,count:n,value:n===1?16:[16,16,16]},{id:259,type:3,count:1,value:1},{id:262,type:3,count:1,value:n===1?1:2},{id:273,type:4,count:1,value:i},{id:277,type:3,count:1,value:n},{id:278,type:4,count:1,value:t},{id:279,type:4,count:1,value:o}],u=2+l.length*12+4;let d=0;const f=l.map(g=>{let v=g.type===3?2:4;const j=g.count*v,b=j<=4;let k=0;return b||(k=d,d+=j),{...g,fits:b,totalBytes:j,extraOffset:k}}),h=s+u+d,p=new ArrayBuffer(h),m=new DataView(p),x=new Uint8Array(p);m.setUint16(0,18761,!0),m.setUint16(2,42,!0),m.setUint32(4,s,!0),x.set(new Uint8Array(r.buffer,r.byteOffset,r.byteLength),i);let w=s;m.setUint16(w,l.length,!0),w+=2;const y=s+u;return f.forEach(g=>{if(m.setUint16(w,g.id,!0),m.setUint16(w+2,g.type,!0),m.setUint32(w+4,g.count,!0),g.fits)Array.isArray(g.value)||(g.type===3?m.setUint16(w+8,g.value,!0):m.setUint32(w+8,g.value,!0));else{const v=y+g.extraOffset;m.setUint32(w+8,v,!0),Array.isArray(g.value)&&g.value.forEach((j,b)=>{m.setUint16(v+b*2,j,!0)})}w+=12}),m.setUint32(w,0,!0),p}const AJ="http://localhost:5428",CJ=(e=!1)=>{const[t,r]=S.useState({isConnected:!1,message:"Initializing...",hasDngConverter:!1});return S.useEffect(()=>{if(e){r({isConnected:!1,message:"Bridge Paused",hasDngConverter:!1});return}const n=async()=>{try{const o=new AbortController,i=setTimeout(()=>o.abort(),1e3),s=await fetch(`${AJ}/health`,{method:"GET",signal:o.signal});if(clearTimeout(i),s.ok){const l=await s.json(),u=`Connected (${l.exiftool||"Ready"})`;r(d=>d.isConnected===!0&&d.message===u&&d.version===l.exiftool&&d.hasDngConverter===!!l.dng_converter?d:{isConnected:!0,message:u,version:l.exiftool,hasDngConverter:!!l.dng_converter})}else r(l=>l.isConnected===!1&&l.message==="Service Error"?l:{isConnected:!1,message:"Service Error",hasDngConverter:!1})}catch{r(i=>i.isConnected===!1&&i.message==="Not Detected"?i:{isConnected:!1,message:"Not Detected",hasDngConverter:!1})}};n();const a=setInterval(n,2e3);return()=>clearInterval(a)},[e]),t},TJ="JTR_BlobStore",eo="raw_files",EJ=1,x0=()=>new Promise((e,t)=>{const r=indexedDB.open(TJ,EJ);r.onupgradeneeded=n=>{const a=n.target.result;a.objectStoreNames.contains(eo)||a.createObjectStore(eo)},r.onsuccess=()=>e(r.result),r.onerror=()=>t(r.error)}),xk=async(e,t)=>{const r=await x0();return new Promise((n,a)=>{const o=r.transaction(eo,"readwrite");o.objectStore(eo).put(t,e),o.oncomplete=()=>n(),o.onerror=()=>a(o.error)})},$J=async e=>{const t=await x0();return new Promise((r,n)=>{const i=t.transaction(eo,"readonly").objectStore(eo).get(e);i.onsuccess=()=>r(i.result),i.onerror=()=>n(i.error)})},RJ=async()=>{const e=await x0();return new Promise((t,r)=>{const n=e.transaction(eo,"readwrite");n.objectStore(eo).clear(),n.oncomplete=()=>t(),n.onerror=()=>r(n.error)})},vP="jtr_workspace_index",DJ=e=>{try{const t=JSON.stringify(e);localStorage.setItem(vP,t)}catch(t){console.error("Failed to save workspace index",t)}},LJ=()=>{try{const e=localStorage.getItem(vP);return e?JSON.parse(e):null}catch(e){return console.error("Failed to load workspace index",e),null}},IJ=async e=>{const n=(await x0()).transaction(eo,"readwrite").objectStore(eo),a=n.getAllKeys();a.onsuccess=()=>{a.result.forEach(i=>{e.includes(i)||n.delete(i)})}},dn=1024,bk=(e,t,r)=>{const n=e.width,a=e.height,o=new ImageData(t,r),i=e.data,s=o.data,l=n/t,u=a/r;for(let d=0;d<r;d++){const f=Math.floor(d*u),h=d*t*4,p=f*n*4;for(let m=0;m<t;m++){const w=Math.floor(m*l)*4,y=h+m*4,g=p+w;s[y]=i[g],s[y+1]=i[g+1],s[y+2]=i[g+2],s[y+3]=i[g+3]}}return o},BJ=({stats:e,onClose:t,onMinimize:r,isBGGR:n,onToggleBGGR:a,onOpenWindow:o,displaySettings:i,zIndex:s,onFocus:l,rawImageData:u})=>{if(!e)return null;const d=!!i.showKadc&&!!i.blackLevel,f=i.blackLevel||[0,0,0,0],h=!!i.subtractBlackLevelFromStats&&!!i.blackLevel,p=S.useMemo(()=>{if(!e||!u||!i.advancedZeroDep||i.renderMode!=="advanced-zero-dep")return null;try{const{x:v,y:j,width:b,height:k}=e,N=mP(u,{x:v,y:j,w:b,h:k},i),_=[0,0,0,0],O=[0,0,0,0],A=Math.floor(j),T=Math.floor(v);for(let M=0;M<N.height;M++){const C=M*N.width;for(let I=0;I<N.width;I++){const D=N.data[C+I],U=A+M,P=T+I,E=U%2,B=P%2,z=E*2+B;_[z]+=D,O[z]++}}return _.map((M,C)=>O[C]>0?M/O[C]:0)}catch(v){return console.error("Unmix calc error",v),null}},[e,u,i]),m=(v,j,b)=>{if(!d)return null;const k=j*j;return k<=1e-4?0:(v-b)/k},x=(v,j)=>h?v-f[j]:v,w=()=>{if(!h){alert(`Sub. BL
Please enable 'Sub. BL' in Tools sidebar first.`);return}let v,j,b,k;n?(k=0,j=1,b=2,v=3):(v=0,j=1,b=2,k=3);const N=O=>e.means[O]-f[O],_=O=>e.stdDevs[O];localStorage.setItem("import_signal_r",N(v).toString()),localStorage.setItem("import_signal_g1",N(j).toString()),localStorage.setItem("import_signal_g2",N(b).toString()),localStorage.setItem("import_signal_b",N(k).toString()),localStorage.setItem("import_sigma_r",_(v).toString()),localStorage.setItem("import_sigma_g1",_(j).toString()),localStorage.setItem("import_sigma_g2",_(b).toString()),localStorage.setItem("import_sigma_b",_(k).toString()),window.open("https://y-g-jiang.github.io/XJZS.html","_blank")},y=n?[{name:"B",desc:"(0,0)",mean:x(e.means[0],0),std:e.stdDevs[0],color:"text-blue-500",k:m(e.means[0],e.stdDevs[0],f[0]),unmixed:p?p[0]:null},{name:"G1",desc:"(0,1)",mean:x(e.means[1],1),std:e.stdDevs[1],color:"text-green-500",k:m(e.means[1],e.stdDevs[1],f[1]),unmixed:p?p[1]:null},{name:"G2",desc:"(1,0)",mean:x(e.means[2],2),std:e.stdDevs[2],color:"text-green-500",k:m(e.means[2],e.stdDevs[2],f[2]),unmixed:p?p[2]:null},{name:"R",desc:"(1,1)",mean:x(e.means[3],3),std:e.stdDevs[3],color:"text-red-500",k:m(e.means[3],e.stdDevs[3],f[3]),unmixed:p?p[3]:null}]:[{name:"R",desc:"(0,0)",mean:x(e.means[0],0),std:e.stdDevs[0],color:"text-red-500",k:m(e.means[0],e.stdDevs[0],f[0]),unmixed:p?p[0]:null},{name:"G1",desc:"(0,1)",mean:x(e.means[1],1),std:e.stdDevs[1],color:"text-green-500",k:m(e.means[1],e.stdDevs[1],f[1]),unmixed:p?p[1]:null},{name:"G2",desc:"(1,0)",mean:x(e.means[2],2),std:e.stdDevs[2],color:"text-green-500",k:m(e.means[2],e.stdDevs[2],f[2]),unmixed:p?p[2]:null},{name:"B",desc:"(1,1)",mean:x(e.means[3],3),std:e.stdDevs[3],color:"text-blue-500",k:m(e.means[3],e.stdDevs[3],f[3]),unmixed:p?p[3]:null}],g=p?"w-96":d?"w-80":"w-60";return c.jsxs(Ll,{className:`${g} p-0 overflow-hidden transition-all duration-300 bg-white dark:bg-black border-2 border-black dark:border-white shadow-[4px_4px_0px_rgba(0,0,0,0.5)] dark:shadow-[4px_4px_0px_rgba(255,255,255,0.2)]`,onClose:t,zIndex:s,onFocus:l,initialPosition:{x:20,y:80},children:[c.jsxs("div",{className:"flex justify-between items-center px-3 py-2 border-b border-gray-100 dark:border-slate-800 bg-gray-50/50 dark:bg-slate-800/50 select-none",children:[c.jsxs("h3",{className:"text-xs font-bold text-gray-700 dark:text-slate-300 uppercase tracking-wider flex items-center gap-2",children:["ROI Analysis",c.jsxs("span",{className:"text-[10px] font-normal text-gray-400 bg-gray-200 dark:bg-slate-700 px-1.5 py-0.5 rounded",children:[Math.round(e.width),"",Math.round(e.height)]})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 transition-colors p-1 rounded-md hover:bg-gray-200 dark:hover:bg-slate-700 relative z-20",children:c.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 transition-colors p-1 rounded-md hover:bg-gray-200 dark:hover:bg-slate-700 relative z-20",children:c.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),c.jsxs("div",{className:"p-3",children:[c.jsxs("div",{className:"flex justify-between items-center mb-3",children:[c.jsxs("div",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono leading-tight",children:["X: ",Math.round(e.x),c.jsx("br",{}),"Y: ",Math.round(e.y)]}),c.jsx("button",{onClick:()=>a(!n),className:"text-[10px] font-bold px-2 py-1 rounded bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 text-gray-600 dark:text-slate-300 transition-colors border border-gray-200 dark:border-slate-700 relative z-20",title:"Toggle Bayer Pattern Interpretation",children:n?"BGGR":"RGGB"})]}),c.jsxs("table",{className:"w-full mb-3",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"text-[10px] text-gray-400 dark:text-slate-500 border-b border-gray-100 dark:border-slate-800",children:[c.jsx("th",{className:"text-left pb-1 font-medium",children:"Ch"}),c.jsxs("th",{className:"text-right pb-1 font-medium",children:["Mean",h?"*":""]}),c.jsx("th",{className:"text-right pb-1 font-medium",children:"Std()"}),d&&c.jsx("th",{className:"text-right pb-1 font-medium text-cyan-600 dark:text-cyan-400",children:"K"}),p&&c.jsx("th",{className:"text-right pb-1 font-medium text-indigo-600 dark:text-indigo-400",children:"Unmix"})]})}),c.jsx("tbody",{className:"font-mono text-xs",children:y.map((v,j)=>c.jsxs("tr",{className:"group hover:bg-gray-50 dark:hover:bg-slate-800/30 transition-colors",children:[c.jsxs("td",{className:"py-1",children:[c.jsx("span",{className:`font-bold ${v.color}`,children:v.name}),c.jsx("span",{className:"text-[9px] text-gray-300 dark:text-slate-600 ml-1 hidden group-hover:inline",children:v.desc})]}),c.jsx("td",{className:"py-1 text-right text-gray-700 dark:text-slate-200 font-semibold",title:h?"Mean minus Black Level":"Raw Mean",children:v.mean.toFixed(2)}),c.jsx("td",{className:"py-1 text-right text-gray-500 dark:text-slate-400",children:v.std.toFixed(2)}),d&&c.jsx("td",{className:"py-1 text-right text-cyan-600 dark:text-cyan-400 font-bold",children:v.k!==null?v.k.toFixed(3):"-"}),p&&c.jsx("td",{className:"py-1 text-right text-indigo-600 dark:text-indigo-400 font-bold",children:v.unmixed!==null?v.unmixed.toFixed(1):"-"})]},j))})]}),h&&c.jsx("div",{className:"mb-2 text-[9px] text-gray-400 dark:text-slate-500 text-right italic",children:"* Mean adjusted by Black Level"}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx("button",{onClick:()=>o("histogram"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-cyan-600 hover:bg-cyan-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Histogram",children:"Hist"}),c.jsx("button",{onClick:()=>o("quant"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-teal-600 hover:bg-teal-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Quantization Steps",children:"Quant"}),c.jsx("button",{onClick:()=>o("fft"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-purple-600 hover:bg-purple-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Power Spectrum (FFT)",children:"FFT"}),c.jsx("button",{onClick:()=>o("pearson"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-indigo-600 hover:bg-indigo-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"Pearson Correlation Analysis",children:"PCC"}),c.jsx("button",{onClick:w,className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-pink-600 hover:bg-pink-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"Color Noise Analysis (External Tool)",children:"ColorN"})]})]})]})},FJ=()=>{var lx;const[e,t]=S.useState(!0),[r,n]=S.useState("Initializing..."),a=S.useRef(!1),[o,i]=S.useState("dark");S.useEffect(()=>{const W=window.document.documentElement;W.classList.remove(o==="dark"?"light":"dark"),W.classList.add(o)},[o]);const[s,l]=S.useState(!1),[u,d]=S.useState(!1),[f,h]=S.useState(!1),[p,m]=S.useState(!1),x=CJ(s||u||f),[w,y]=S.useState(!1),[g,v]=S.useState([]),[j,b]=S.useState(-1),[k,N]=S.useState([]),_=S.useMemo(()=>g[j],[g,j]),O=S.useRef(null);S.useEffect(()=>{O.current=_||null},[_]);const A=(_==null?void 0:_.file)||null,T=(_==null?void 0:_.imageElement)||null,M=(_==null?void 0:_.rawImageData)||null,C=(_==null?void 0:_.rawFileBuffer)||null,I=(_==null?void 0:_.renderedRawImageData)||null,D=(_==null?void 0:_.referenceImageData)||null,U=(_==null?void 0:_.sampledImageData)||null,P=(_==null?void 0:_.exifData)||null,E=(_==null?void 0:_.isThreePlane)||!1,B=(_==null?void 0:_.xtransPhase)||{x:0,y:0},z=(_==null?void 0:_.displaySettings)||{exposure:0,demosaicMethod:3,blackLevel:void 0,wbGains:[1,1],showKadc:!0,subtractBlackLevelFromStats:!0},[te,Q]=S.useState(!1),[R,J]=S.useState(null),[q,$]=S.useState(!1),[ne,ce]=S.useState(!1),[Y,ue]=S.useState(null),[he,K]=S.useState([]),[Pe,ke]=S.useState(100),[oe,we]=S.useState(!0),[ve,Ke]=S.useState(!1),[ge,xe]=S.useState(null),[Ie,it]=S.useState(!1),[bt,gr]=S.useState(!1),[lt,er]=S.useState(!1),[Ue,Ht]=S.useState(!1),[Rt,tr]=S.useState(!1),[jr,yt]=S.useState("1.0"),[Ge,ct]=S.useState(!1),[Nt,rr]=S.useState(!1),[nr,Zr]=S.useState(!1),[Ct,yn]=S.useState(!1),[wt,vn]=S.useState({x:0,y:0}),[zr,La]=S.useState(!1),[Dt,sn]=S.useState(!1),[mr,Tn]=S.useState([]),[Ur,Sr]=S.useState(0),[xn,xa]=S.useState(null),[Zt,ar]=S.useState(!1),[zt,ie]=S.useState([]),[Ce,ze]=S.useState(.5),[et,Qe]=S.useState(!1),[kt,or]=S.useState(2),[yr,Fe]=S.useState(1),[st,Lt]=S.useState([]),[Tt,ir]=S.useState(null),[pe,Ar]=S.useState(0),[ba,Qr]=S.useState([]),[bn,Co]=S.useState([]),[To,ra]=S.useState(64),[X,Oe]=S.useState(10),[ut,ln]=S.useState(10),[vr,Cr]=S.useState(4),[sr,ro]=S.useState(1),[wa,no]=S.useState(0),[Ia,Wn]=S.useState("processed"),[Jr,ka]=S.useState(!1),yi=S.useMemo(()=>z.blackLevel?z.blackLevel:M!=null&&M.blackLevels?[M.blackLevels[0],M.blackLevels[1],M.blackLevels[2],M.blackLevels[3]]:[0,0,0,0],[z.blackLevel,M]),b0=(P==null?void 0:P.ImageHeight)||(P==null?void 0:P.ExifImageHeight)||(M==null?void 0:M.height)||0,[ss,Et]=S.useState(null),[G,H]=S.useState(null),[ae,L]=S.useState({x:0,y:0}),[de,Ae]=S.useState(1),[De,Je]=S.useState("pan"),Ye=S.useRef(null),Be=S.useRef(null),It=S.useCallback(async()=>{if(!C||!_)return;er(!1);const W=Ue,V=Rt;H(`Rendering 16-bit TIFF (${W?"Stretched":"Native DN"} | ${V?"sRGB":"Linear"})...`);try{const Z=await qQ(C.slice(0),z,W,V),re=MJ(Z.width,Z.height,Z.data,Z.channels),be=new Blob([re],{type:"image/tiff"}),me=URL.createObjectURL(be),Ee=document.createElement("a"),Me=_.fileName||"rendered",$e=Me.substring(0,Me.lastIndexOf("."))||Me,Ne=[W?"stretch":"native",V?"srgb":"linear"].join("_");Ee.href=me,Ee.download=`${$e}_${Ne}.tif`,document.body.appendChild(Ee),Ee.click(),document.body.removeChild(Ee),URL.revokeObjectURL(me)}catch(Z){Et("TIFF Export Failed: "+Z.message)}finally{H(null)}},[C,_,z,Ue,Rt]),vt=S.useCallback(()=>{!C||!_||er(!0)},[C,_]),Ut=S.useCallback(async()=>{if(!M||!_)return;const W=parseFloat(jr);if(isNaN(W)||W<=0){Et("Invalid multiplier for stretch.");return}H(`Stretching DNG by ${W}x...`);try{await new Promise(jt=>setTimeout(jt,50));const{width:V,height:Z,data:re,blackLevels:be,whiteLevel:me,bayerPattern:Ee}=M,Me=new Uint16Array(re.length);for(let jt=0;jt<re.length;jt++)Me[jt]=Math.min(65535,Math.round(re[jt]*W));const $e=yi.map(jt=>jt*W),Ne=me*W,Re=uc(V,Z,Me,$e,Ne,Ee),Ze=new Blob([Re],{type:"image/x-adobe-dng"}),pt=URL.createObjectURL(Ze),gt=document.createElement("a");gt.href=pt;const Wr=(_.fileName||"image.dng").replace(/\.[^/.]+$/,"");gt.download=`${Wr}_stretched_${W}x.dng`,document.body.appendChild(gt),gt.click(),document.body.removeChild(gt),URL.revokeObjectURL(pt),dr(`Successfully exported stretched DNG: ${W}x`,"info")}catch(V){Et(`Stretch Export Failed: ${V.message}`)}finally{H(null)}},[M,_,jr,yi]),dr=(W,V="info")=>{console.log(`[App] ${W}`)};S.useEffect(()=>{const W=V=>{(V.ctrlKey||V.metaKey)&&V.key.toLowerCase()==="s"&&(V.preventDefault(),vt())};return window.addEventListener("keydown",W),()=>window.removeEventListener("keydown",W)},[vt]),S.useEffect(()=>{(async()=>{if(a.current)return;const V=LJ();if(V&&(n("Restoring layout..."),i(V.theme),we(V.sidebarOpen),V.sessions.length>0)){n(`Restoring ${V.sessions.length} images...`);const Z=[];for(const re of V.sessions){if(a.current){console.log("Restoration cancelled.");return}await new Promise(be=>setTimeout(be,50));try{const be=await $J(re.id);if(be){const me={id:re.id,fileName:re.fileName,file:null,imageElement:null,rawImageData:null,rawFileBuffer:be,renderedRawImageData:null,referenceImageData:null,sampledImageData:null,exifData:null,isThreePlane:re.isThreePlane,displaySettings:re.displaySettings,originalRawFileBuffer:null,isXTransOriginal:!1,isXTransConverted:!1,xtransPhase:{x:0,y:0}},{previewBlob:Ee,analysisData:Me}=await ki(be);let $e=null;Me&&($e=await pk(be,re.displaySettings));const Ne=URL.createObjectURL(Ee),Re=new Image;Re.src=Ne,await new Promise(Ze=>{Re.onload=()=>Ze()}),Z.push({...me,rawImageData:Me,renderedRawImageData:$e,previewUrl:Ne,imageElement:Re,exifData:Me.metadata})}}catch(be){console.error(`Failed to restore session ${re.id}`,be)}}if(a.current)return;if(v(Z),V.activeSessionId){const re=Z.findIndex(be=>be.id===V.activeSessionId);re>=0?b(re):Z.length>0&&b(0)}K(V.windows)}a.current||t(!1)})()},[]);const se=S.useRef(null),qe=S.useCallback(()=>{e||(se.current&&clearTimeout(se.current),se.current=window.setTimeout(async()=>{var Z;const W={version:1,timestamp:Date.now(),activeSessionId:((Z=g[j])==null?void 0:Z.id)||null,theme:o,sidebarOpen:oe,sessions:g.map(re=>({id:re.id,fileName:re.fileName,fileType:re.file?re.file.type:"application/octet-stream",fileSize:re.rawFileBuffer?re.rawFileBuffer.byteLength:0,displaySettings:re.displaySettings,isThreePlane:re.isThreePlane})),windows:he.map(re=>({id:re.id,type:re.type,roi:re.roi,zIndex:re.zIndex,initialPosition:re.initialPosition,sessionId:re.sessionId,isBGGR:re.isBGGR,isMinimized:re.isMinimized||!1,internalState:re.internalState}))};DJ(W);const V=g.map(re=>re.id);IJ(V)},1e3))},[g,he,j,o,oe,e]);S.useEffect(()=>{qe()},[qe]);const Te=S.useCallback(async()=>{a.current=!0,n("Cleaning up..."),localStorage.removeItem("jtr_workspace_index");try{await RJ()}catch(W){console.error("Failed to clear DB",W)}window.location.reload()},[]),ft=S.useCallback(W=>{v(V=>V.map((Z,re)=>re===j?{...Z,...W}:Z))},[j]),Ot=()=>b(W=>Math.min(W+1,g.length-1)),wn=()=>b(W=>Math.max(0,W-1));S.useEffect(()=>{if(M&&R){const W=ji(M.data,M.width,M.height,R.x,R.y,R.width,R.height);J(W)}},[M]);const ht=W=>{if(!R||!_)return;const V=Date.now().toString()+Math.random().toString().slice(2,5),Z=Math.max(Pe,...he.map(me=>me.zIndex),100),re=he.length%10*30,be=W==="fft"?{x:50,y:50}:W==="histogram"?{x:100,y:100}:{x:150,y:150};K(me=>[...me,{id:V,type:W,roi:{x:R.x,y:R.y,w:R.width,h:R.height},zIndex:Z+1,initialPosition:{x:be.x+re,y:be.y+re},sessionId:_.id,isBGGR:q,isMinimized:!1,stackFiles:(W==="fft"||W==="pearson"||W==="histogram")&&k.length>0?k:void 0}])},xr=W=>{K(V=>V.filter(Z=>Z.id!==W))},kn=W=>{K(V=>V.map(Z=>Z.id===W?{...Z,isMinimized:!0}:Z))},ao=W=>{K(V=>V.map(Z=>Z.id===W?{...Z,isMinimized:!1}:Z)),ls(W)},ls=W=>{K(V=>{const Z=Math.max(Pe,...V.map(re=>re.zIndex));return V.map(re=>re.id===W?{...re,zIndex:Z+1}:re)})},w0=(W,V)=>{K(Z=>Z.map(re=>re.id===W?{...re,internalState:{...re.internalState,...V}}:re))},cs=()=>{const W=Math.max(Pe,...he.map(V=>V.zIndex));ke(W+1)},k0=(W,V)=>{K(Z=>Z.map(re=>re.id===W?{...re,roi:V}:re))};S.useEffect(()=>{if(!P)return;const W=P.CFAPattern2||P.CFAPattern;if(W){let V="";Array.isArray(W)?V=W.join(""):typeof W=="string"?V=W.replace(/[\s,]+/g,""):typeof W=="number"&&(V=String(W)),V==="0112"?$(!1):V==="2110"&&$(!0)}},[P]),S.useEffect(()=>{let W;const V=()=>{if(et&&Ct){const Z=Date.now()/1e3,re=.55+.45*Math.sin(Z*kt);Fe(re),W=requestAnimationFrame(V)}else Fe(1)};return et&&Ct?V():Fe(1),()=>{W&&cancelAnimationFrame(W)}},[et,Ct,kt]),S.useEffect(()=>{const W=V=>{V.key==="Escape"&&Ct&&(yn(!1),vn({x:0,y:0}),Qe(!1))};return window.addEventListener("keydown",W),()=>window.removeEventListener("keydown",W)},[Ct]),S.useEffect(()=>()=>{g.forEach(W=>{W.previewUrl&&URL.revokeObjectURL(W.previewUrl)}),Be.current&&Be.current.terminate()},[]);const vi=async(W,V=!0)=>{V&&(L({x:0,y:0}),Ae(1),Ar(0),Qr([]),Co([]),Ke(!1),xe(null),Q(!1),sn(!1),Tn([]),ie([]),Sr(0));let Z=null;if(x.isConnected){const Me=new FormData;Me.append("file",W);try{const Ne=await(await fetch("http://localhost:5428/read",{method:"POST",body:Me})).json();if(Ne.success){let Re=Ne.data;Array.isArray(Re)&&Re.length===1&&(Re=Re[0]),Z=Re}}catch($e){console.warn("Auto Exif fetch failed",$e)}}const re=W.name.toLowerCase().match(/\.(arw|cr2|cr3|dng|nef|orf|raf|rw2|pef|srw|sr2|srf|x3f|erf|mef|mos|mrw|kdc|dcr|iiq|3fr|fff|rwl|nrw|raw|tif|tiff)$/);if(!(["image/jpeg","image/png","image/tiff","image/x-adobe-dng"].includes(W.type)||re)){Et("Unsupported file type. Please load a JPG, PNG, or a supported RAW file.");return}let me={file:W,exifData:Z};if(re||W.type==="image/x-adobe-dng")try{V?H("Processing RAW file (this may take a moment)..."):ka(!0);const Me=await W.arrayBuffer();me.rawFileBuffer=Me;const{previewBlob:$e,analysisData:Ne}=await ki(Me);me.rawImageData=Ne,me.isThreePlane=Ne.isThreePlane||!1,Ne.isThreePlane&&V&&Q(!0);let Re=!1,Ze=null,pt=!1;if(Ne.isXTrans){pt=!0,Ze=Me;const Wr=(await Pf(Me,0,0)).dngBuffer,jt=await ki(Wr);me.rawFileBuffer=Wr,me.rawImageData=jt.analysisData,me.previewUrl=URL.createObjectURL(jt.previewBlob),Re=!0}else me.previewUrl=URL.createObjectURL($e);me.originalRawFileBuffer=Ze,me.isXTransOriginal=pt,me.isXTransConverted=Re,me.xtransPhase={x:0,y:0};const gt=new Image;gt.src=me.previewUrl||"",await new Promise((Tr,Wr)=>{gt.onload=()=>{me.imageElement=gt,Tr()},gt.onerror=()=>{Tr()}})}catch(Me){Et(`Failed to process RAW file: ${Me.message}`),H(null),ka(!1);return}else try{H("Processing image...");const{previewBlob:Me,analysisData:$e}=await GQ(W);me.rawImageData=$e,me.rawFileBuffer=await W.arrayBuffer(),me.isThreePlane=$e.isThreePlane||!1,me.isXTransOriginal=!1,me.isXTransConverted=!1,me.originalRawFileBuffer=null;const Ne=URL.createObjectURL(Me);me.previewUrl=Ne;const Re=new Image;Re.src=Ne,await new Promise(Ze=>{Re.onload=()=>{me.imageElement=Re,Ze()},Re.onerror=()=>{Et("Could not load the image file."),Ze()}})}catch(Me){Et(`Failed to process image: ${Me.message}`),H(null);return}const Ee=Date.now().toString()+Math.random();if(me.rawFileBuffer&&await xk(Ee,me.rawFileBuffer),V){const Me={exposure:0,demosaicMethod:3,blackLevel:void 0,wbGains:[1,1],showKadc:!0,subtractBlackLevelFromStats:!0},$e={id:Ee,fileName:W.name,file:W,imageElement:null,rawImageData:null,rawFileBuffer:null,renderedRawImageData:null,referenceImageData:null,sampledImageData:null,exifData:null,isThreePlane:!1,displaySettings:Me,originalRawFileBuffer:null,isXTransOriginal:!1,isXTransConverted:!1,xtransPhase:{x:0,y:0},...me};v(Ne=>{const Re=[...Ne,$e];return b(Re.length-1),Re})}else ft(me);H(null),ka(!1)},En=async W=>{H("Converting to DNG...");try{const V=new FormData;V.append("file",W);const Z=await fetch("http://localhost:5428/convert_dng",{method:"POST",body:V}),re=Z.headers.get("content-type")||"";if(Z.ok)if(re.includes("application/json")){const be=await Z.json();throw new Error(be.error||"Conversion failed")}else{const be=await Z.blob(),me=URL.createObjectURL(be),Ee=document.createElement("a");Ee.href=me;const Me=W.name,$e=Me.substring(0,Me.lastIndexOf("."))+".dng"||"converted.dng";Ee.download=$e,document.body.appendChild(Ee),Ee.click(),document.body.removeChild(Ee),URL.revokeObjectURL(me);const Ne=new File([be],$e,{type:"image/x-adobe-dng"});await vi(Ne,!0)}else{const be=await Z.text();throw new Error(`HTTP ${Z.status}: ${be}`)}}catch(V){H(null),Et(`Conversion Error: ${V.message}`)}},j0=(W,V)=>{W&&(V==="direct"?vi(W,!0):En(W))},S0=async W=>{var Z;const V=(Z=W.target.files)==null?void 0:Z[0];V&&(await vi(V,!0),W.target.value="")},_0=async(W,V,Z,re)=>{!W||!V||(H("Processing Pair Difference (May take a while)..."),Et(null),setTimeout(async()=>{try{const be=await W.arrayBuffer(),me=await V.arrayBuffer(),Ee=await Ap(be,me,Z,re),Me=uc(Ee.width,Ee.height,Ee.rawData),$e=new File([Me],`Diff_${W.name}_${V.name}.dng`,{type:"image/x-adobe-dng"});await vi($e,!0),ht("fft")}catch(be){console.error("Pair Processing Error",be),Et("Pair Processing Failed: "+be.message)}finally{H(null)}},100))},Gu=async W=>{if(W.length<2){Et("Need at least 2 files for Batch Diff.");return}H(`Batch Processing 0/${Math.floor(W.length/2)} pairs...`);const V=Array.from(W).sort((Z,re)=>Z.name.localeCompare(re.name,void 0,{numeric:!0}));try{for(let Z=0;Z<V.length-1;Z+=2){const re=V[Z],be=V[Z+1];H(`Batch Processing Pair ${Math.floor(Z/2)+1}/${Math.floor(V.length/2)}: ${re.name} & ${be.name}`);const me=await re.arrayBuffer(),Ee=await be.arrayBuffer(),Me=await Ap(me,Ee,!1,!1),$e=uc(Me.width,Me.height,Me.rawData),Ne=new Blob([$e],{type:"image/x-adobe-dng"}),Re=URL.createObjectURL(Ne),Ze=document.createElement("a");Ze.href=Re,Ze.download=`Diff_${re.name}_${be.name}.dng`,document.body.appendChild(Ze),Ze.click(),document.body.removeChild(Ze),URL.revokeObjectURL(Re)}}catch(Z){console.error("FFT Batch Error",Z),Et("Batch Processing Failed: "+Z.message)}finally{H(null)}},Il=async W=>{if(W.length<1)return;const V=Array.from(W).sort((Z,re)=>Z.name.localeCompare(re.name,void 0,{numeric:!0}));N(V),await vi(V[0],!0)},Bl=async()=>{ka(!0);const W=128,V=W,Z=W,re=V*Z,be=new Uint16Array(re),me=He=>{const St=He/vr+wa;return Math.sin(2*Math.PI*St)>=0?1:0},Ee=32,Me=sr*.5,$e=Math.max(1e-4,sr/Ee);for(let He=0;He<Z;He++){let St=0;const br=He+.5-Me;for(let Vt=0;Vt<Ee;Vt++){const Sn=br+(Vt+.5)*$e;St+=me(Sn)}const Hr=St/Ee,Pt=Math.round(Hr*65535);for(let Vt=0;Vt<V;Vt++)be[He*V+Vt]=Pt}const Ne=new ImageData(dn,dn),Re=dn/V,Ze=sr/2;for(let He=0;He<dn;He++){const St=He/Re,_r=Math.floor(St),br=St-_r,Hr=br>=.5-Ze&&br<.5+Ze;for(let Pt=0;Pt<dn;Pt++){const Vt=Pt/Re,Sn=Math.floor(Vt),cn=Vt-Sn,xi=cn>=.5-Ze&&cn<.5+Ze,Er=(He*dn+Pt)*4;if(Sn>=V||_r>=Z){Ne.data[Er]=30,Ne.data[Er+1]=34,Ne.data[Er+2]=40,Ne.data[Er+3]=255;continue}if(Hr&&xi){const Ro=be[_r*V+Sn],bi=Math.round(Ro/257);Ne.data[Er]=bi,Ne.data[Er+1]=bi,Ne.data[Er+2]=bi,Ne.data[Er+3]=255}else Ne.data[Er]=30,Ne.data[Er+1]=34,Ne.data[Er+2]=40,Ne.data[Er+3]=255}}const pt=new ImageData(dn,dn),gt=Z/dn;for(let He=0;He<dn;He++){const St=(He+.5)*gt,br=me(St)>.5?255:0,Hr=He*dn*4;for(let Pt=0;Pt<dn;Pt++){const Vt=Hr+Pt*4;pt.data[Vt]=br,pt.data[Vt+1]=br,pt.data[Vt+2]=br,pt.data[Vt+3]=255}}const Tr=uc(V,Z,be),Wr=new File([Tr],"pattern_test.dng",{type:"image/x-adobe-dng"}),jt=Date.now().toString();try{const{previewBlob:He,analysisData:St}=await ki(Tr.slice(0)),_r=await pk(Tr.slice(0),z),br=bk(_r,dn,dn),Hr=URL.createObjectURL(He),Pt=new Image;Pt.src=Hr,await new Promise(Sn=>{Pt.onload=()=>Sn()}),await xk(jt,Tr);const Vt={id:jt,fileName:"pattern_test.dng",file:Wr,imageElement:Pt,rawImageData:St,rawFileBuffer:Tr,renderedRawImageData:br,referenceImageData:pt,sampledImageData:Ne,exifData:null,isThreePlane:!1,previewUrl:Hr,displaySettings:z,originalRawFileBuffer:null,isXTransOriginal:!1,isXTransConverted:!1,xtransPhase:{x:0,y:0}};(A==null?void 0:A.name)==="pattern_test.dng"?ft(Vt):v(Sn=>{const cn=[...Sn,Vt];return b(cn.length-1),cn})}catch(He){console.error("Error generating pattern:",He),Et(`Error generating pattern: ${He.message}`)}ka(!1),H(null)},Wu=()=>{it(!0)},N0=()=>{it(!1),Wn("sampled"),H("Generating..."),setTimeout(()=>Bl(),50)},Eo=S.useRef({period:vr,fill:sr,phase:wa});S.useEffect(()=>{(A==null?void 0:A.name)==="pattern_test.dng"&&(Eo.current.period!==vr||Eo.current.fill!==sr||Eo.current.phase!==wa)&&(Eo.current={period:vr,fill:sr,phase:wa},Bl())},[vr,sr,wa,A]);const _e=S.useCallback(W=>{if(ft({displaySettings:W}),!C)return;ka(!0),Be.current&&Be.current.terminate();const V=new Worker(new URL("/assets/renderWorker-BhikMEl_.js",import.meta.url),{type:"module"});Be.current=V,V.onmessage=Z=>{const{success:re,imageData:be,error:me}=Z.data;if(re){let Ee=be;(A==null?void 0:A.name)==="pattern_test.dng"&&(Ee=bk(be,dn,dn)),ft({renderedRawImageData:Ee})}else Et(me||"Unknown worker error");ka(!1),V.terminate(),Be.current=null},V.postMessage({buffer:C.slice(0),settings:W})},[C,A,ft]),at=async(W,V)=>{H("Re-sampling X-Trans with new Phase...");try{const re=(await Pf(V,W.x,W.y)).dngBuffer,be=await ki(re),me=URL.createObjectURL(be.previewBlob),Ee=new Image;Ee.src=me,await new Promise(Me=>{Ee.onload=()=>Me()}),_!=null&&_.previewUrl&&URL.revokeObjectURL(_.previewUrl),ft({rawFileBuffer:re,rawImageData:be.analysisData,previewUrl:me,imageElement:Ee,xtransPhase:W}),J(null)}catch(Z){console.error("X-Trans Phase Update Failed",Z),Et("Phase Update Failed: "+Z.message)}finally{H(null)}},tt=W=>{if(!_||!_.originalRawFileBuffer||!_.isXTransConverted)return;const V={..._.xtransPhase,...W};at(V,_.originalRawFileBuffer)},rt=S.useCallback(async W=>{if(_)if(W){if(_.isXTransConverted)return;const V=_.originalRawFileBuffer||_.rawFileBuffer;if(!V)return;H("Converting X-Trans to Pseudo-Bayer DNG...");try{const Z=_.xtransPhase||{x:0,y:0},be=(await Pf(V,Z.x,Z.y)).dngBuffer,me=await ki(be),Ee=URL.createObjectURL(me.previewBlob),Me=new Image;Me.src=Ee,await new Promise($e=>{Me.onload=()=>$e()}),_.previewUrl&&URL.revokeObjectURL(_.previewUrl),ft({rawFileBuffer:be,rawImageData:me.analysisData,previewUrl:Ee,imageElement:Me,isXTransConverted:!0,originalRawFileBuffer:V}),J(null)}catch(Z){console.error("X-Trans Conversion Failed",Z),Et("Failed to convert X-Trans: "+Z.message)}finally{H(null)}}else{if(!_.isXTransConverted)return;const V=_.originalRawFileBuffer;if(!V){Et("Original X-Trans buffer lost. Cannot revert.");return}H("Reverting to Native X-Trans...");try{const Z=await ki(V),re=URL.createObjectURL(Z.previewBlob),be=new Image;be.src=re,await new Promise(me=>{be.onload=()=>me()}),_.previewUrl&&URL.revokeObjectURL(_.previewUrl),ft({rawFileBuffer:V,rawImageData:Z.analysisData,previewUrl:re,imageElement:be,isXTransConverted:!1}),J(null)}catch(Z){console.error("X-Trans Revert Failed",Z),Et("Failed to revert X-Trans: "+Z.message)}finally{H(null)}}},[_,ft]);let Gr=I||T;Ia==="reference"&&D?Gr=D:Ia==="sampled"&&U&&(Gr=U);const jn=G||Jr,Hn=W=>{if(Ye.current){const V=Ye.current,{width:Z,height:re}=V.getBoundingClientRect(),be=Z/2,me=re/2,Ee=W/de,Me=be-(be-ae.x)*Ee,$e=me-(me-ae.y)*Ee;L({x:Me,y:$e})}Ae(W)},Ba=W=>{if(!W)return;if(!M){J(null);return}ne&&ce(!1);const V=ji(M.data,M.width,M.height,W.x,W.y,W.w,W.h);J(V)},$o=W=>{ue(W),Ba(W)},Fa=()=>{Je(W=>W==="pan"?"select":"pan")},lr=W=>{if(pe===0||pe>4)return;const V=[...ba,W];Qr(V),pe===4?(Fl(V),Ar(0)):Ar(pe+1)},O0=(W,V,Z,re)=>{const be=W[0],me=W[1],Ee=W[2],Me=W[3],$e=V/2,Ne=[];for(let Re=0;Re<Z;Re++){const Ze=Z>1?Re/(Z-1):.5;for(let pt=0;pt<re;pt++){const gt=re>1?pt/(re-1):.5,Tr=be.x*(1-gt)+me.x*gt,Wr=be.y*(1-gt)+me.y*gt,jt=Ee.x*(1-gt)+Me.x*gt,He=Ee.y*(1-gt)+Me.y*gt,St=Tr*(1-Ze)+jt*Ze,_r=Wr*(1-Ze)+He*Ze,br=St-$e,Hr=_r-$e;Ne.push({x:br,y:Hr,w:V,h:V})}}return Ne},Fl=W=>{!M||!_||(H("Calculating DR Lab Grid..."),setTimeout(()=>{try{const V=O0(W,To,X,ut);Co(V);const me=[...[`#BlackLevel: ${(z.blackLevel||[0,0,0,0]).join(",")}`,`#ImageHeight: ${M.height}`],"Filename,Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std"],Ee=`img${_.fileName||"image"}`;V.forEach((Ze,pt)=>{const gt=Math.floor(pt/ut)+1,Tr=pt%ut+1,Wr=ji(M.data,M.width,M.height,Ze.x,Ze.y,Ze.w,Ze.h),jt=Wr.means,He=Wr.stdDevs,St=`${Ee},${gt},${Tr},${jt[0].toFixed(4)},${jt[1].toFixed(4)},${jt[2].toFixed(4)},${jt[3].toFixed(4)},${He[0].toFixed(4)},${He[1].toFixed(4)},${He[2].toFixed(4)},${He[3].toFixed(4)}`;me.push(St)});const Me=me.join(`
`),$e=new Blob([Me],{type:"text/csv;charset=utf-8;"}),Ne=URL.createObjectURL($e),Re=document.createElement("a");Re.setAttribute("href",Ne),Re.setAttribute("download","dr_lab_results.csv"),document.body.appendChild(Re),Re.click(),document.body.removeChild(Re),URL.revokeObjectURL(Ne),Qr([])}catch(V){Et("DR Lab Error: "+V.message)}finally{H(null)}},100))},Hu=async(W,V)=>{if(ba.length<4&&bn.length<1){Et("Please mark the grid on an image first before running batch processing.");return}let Z=bn;if(Z.length===0&&ba.length===4&&(Z=O0(ba,To,X,ut)),Z.length===0){Et("No grid definitions found. Mark corners first.");return}H(V==="pair"?"Batch Pair Difference (Sigma = Diff/sqrt(2))":"Batch Processing...");const be=(z.blackLevel||[0,0,0,0]).join(","),me=M?M.height:0,Me=[...[`#BlackLevel: ${be}`,`#ImageHeight: ${me}`,V==="pair"?"#Mode: Pair Difference (Sigma = Diff/sqrt(2))":"#Mode: Independent"],"Filename,Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std"],$e=Array.from(W).sort((pt,gt)=>pt.name.localeCompare(gt.name,void 0,{numeric:!0}));if(V==="pair"&&$e.length<2){Et("Need at least 2 files for Pair processing."),H(null);return}const Ne=O.current,Re=(Ne==null?void 0:Ne.isXTransConverted)||!1,Ze=(Ne==null?void 0:Ne.xtransPhase)||{x:0,y:0};try{const pt=async He=>{let St=await He.arrayBuffer();return Re&&(St=(await Pf(St,Ze.x,Ze.y)).dngBuffer),St};if(V==="single")for(let He=0;He<$e.length;He++){const St=$e[He];H(`Processing ${He+1}/${$e.length}: ${St.name}...`);const _r=await pt(St),br=await mh(_r),Hr=`img${St.name}`;Z.forEach((Pt,Vt)=>{const Sn=Math.floor(Vt/X)+1,cn=Vt%ut+1,xi=ji(br.data,br.width,br.height,Pt.x,Pt.y,Pt.w,Pt.h),Er=xi.means,Ro=xi.stdDevs,bi=`${Hr},${Sn},${cn},${Er[0].toFixed(4)},${Er[1].toFixed(4)},${Er[2].toFixed(4)},${Er[3].toFixed(4)},${Ro[0].toFixed(4)},${Ro[1].toFixed(4)},${Ro[2].toFixed(4)},${Ro[3].toFixed(4)}`;Me.push(bi)})}else for(let He=0;He<$e.length-1;He+=2){const St=$e[He],_r=$e[He+1],br=`img${St.name} & ${_r.name}`;H(`Processing Pair ${Math.floor(He/2)+1}/${Math.floor($e.length/2)}: ${St.name} & ${_r.name}...`);const Hr=await pt(St),Pt=await mh(Hr),Vt=await pt(_r),Sn=await Ap(Hr,Vt,!1,!0);Z.forEach((cn,xi)=>{const Er=Math.floor(xi/X)+1,Ro=xi%ut+1,bi=ji(Pt.data,Pt.width,Pt.height,cn.x,cn.y,cn.w,cn.h),PP=ji(Sn.rawData,Sn.width,Sn.height,cn.x,cn.y,cn.w,cn.h),Vu=bi.means,Xu=PP.stdDevs,MP=`${br},${Er},${Ro},${Vu[0].toFixed(4)},${Vu[1].toFixed(4)},${Vu[2].toFixed(4)},${Vu[3].toFixed(4)},${Xu[0].toFixed(4)},${Xu[1].toFixed(4)},${Xu[2].toFixed(4)},${Xu[3].toFixed(4)}`;Me.push(MP)})}const gt=Me.join(`
`),Tr=new Blob([gt],{type:"text/csv;charset=utf-8;"}),Wr=URL.createObjectURL(Tr),jt=document.createElement("a");jt.href=Wr,jt.setAttribute("download",`dr_lab_batch_${V}_${new Date().getTime()}.csv`),document.body.appendChild(jt),jt.click(),document.body.removeChild(jt),URL.revokeObjectURL(Wr)}catch(pt){console.error("Batch Error",pt),Et("Batch Processing Failed: "+pt.message)}finally{H(null)}},ox=()=>{Tn([]),Sr(1)},bP=W=>{if(!Dt||Ur===0)return;const V=[...mr,W];Tn(V),V.length===4&&M?(ix(V,Ce),Sr(0)):Sr(Z=>Z+1)},ix=(W,V)=>{M&&(H("Analyzing Color Chart..."),setTimeout(()=>{try{const Z=yJ(W[0],W[1],W[2],W[3],M.width,M.height,V);ie(Z);const be=Z.map((me,Ee)=>{const Me=ji(M.data,M.width,M.height,me.x,me.y,me.w,me.h);return{id:Ee,rawMeans:Me.means,refRGB:[0,0,0]}}).map((me,Ee)=>({...me,refRGB:ny[Ee]||[0,0,0]}));xa(be),ar(!0)}catch(Z){Et("Color Lab Error: "+Z.message)}finally{H(null)}},100))},wP=W=>{ze(W),mr.length===4&&ix(mr,W)},kP=()=>{ar(!1)},jP=()=>{P||xe("No EXIF data found. The file might not contain metadata or it was stripped during processing."),Ke(!0)},SP=async W=>{H("Parsing PTC Data...");const V=[];let Z=null;try{for(let re=0;re<W.length;re++){const me=(await W[re].text()).split(`
`);let Ee=!0;for(const Me of me){const $e=Me.trim();if(!$e)continue;if($e.startsWith("#")){if($e.includes("BlackLevel:")){const Pt=$e.split(":")[1].trim().split(",");if(Pt.length>=4){const Vt=Pt.map(Number);Z||(Z={}),Z.blackLevel=Vt}}if($e.includes("ImageHeight:")){const Pt=parseInt($e.split(":")[1].trim());isNaN(Pt)||(Z||(Z={}),Z.height=Pt)}continue}if(Ee){$e.toLowerCase().includes("mean")&&$e.toLowerCase().includes("std")&&(Ee=!1);continue}const Ne=$e.split(",");if(Ne.length<5)continue;let Re=0,Ze;isNaN(parseFloat(Ne[0]))&&(Ze=Ne[0],Re=1);const pt=parseInt(Ne[Re]),gt=parseInt(Ne[Re+1]),Tr=parseFloat(Ne[Re+2]),Wr=parseFloat(Ne[Re+3]),jt=parseFloat(Ne[Re+4]),He=parseFloat(Ne[Re+5]),St=parseFloat(Ne[Re+6]),_r=parseFloat(Ne[Re+7]),br=parseFloat(Ne[Re+8]),Hr=parseFloat(Ne[Re+9]);!isNaN(Tr)&&!isNaN(St)&&V.push({channel:"R",mean:Tr,std:St,filename:Ze,row:pt,col:gt}),!isNaN(Wr)&&!isNaN(_r)&&V.push({channel:"G1",mean:Wr,std:_r,filename:Ze,row:pt,col:gt}),!isNaN(jt)&&!isNaN(br)&&V.push({channel:"G2",mean:jt,std:br,filename:Ze,row:pt,col:gt}),!isNaN(He)&&!isNaN(Hr)&&V.push({channel:"B",mean:He,std:Hr,filename:Ze,row:pt,col:gt})}}Lt(V),ir(Z),l(!0)}catch(re){console.error("PTC Parse Error",re),Et("Failed to parse CSV files: "+re.message)}finally{H(null)}},_P=()=>{if(!C||!_)return;const W=new Blob([C],{type:"image/x-adobe-dng"}),V=URL.createObjectURL(W),Z=document.createElement("a");Z.href=V;const re=_.fileName||"image.dng",be=re.toLowerCase().endsWith(".dng")?re:re.replace(/\.[^/.]+$/,"")+".dng";Z.download=be,document.body.appendChild(Z),Z.click(),document.body.removeChild(Z),URL.revokeObjectURL(V)},NP=()=>{Ar(1),Qr([]),Co([])},sx=()=>{window.open("https://github.com/y-g-jiang/y-g-jiang.github.io/blob/main/drtest.png","_blank")},OP=S.useMemo(()=>xn?xn.map((W,V)=>({...W,refRGB:ny[V]||[0,0,0]})):[],[xn]);return e?c.jsxs("div",{className:"flex flex-col h-screen items-center justify-center bg-gray-300 dark:bg-[#111] text-black dark:text-white font-mono",children:[c.jsx("div",{className:"w-12 h-12 border-4 border-black dark:border-white border-t-transparent animate-spin mb-4"}),c.jsx("h2",{className:"text-xl font-bold",children:r}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2 mb-6",children:"Loading stored buffers from database..."}),c.jsx("button",{onClick:Te,className:"px-6 py-2 bg-red-600 hover:bg-red-700 text-white font-bold border-2 border-black dark:border-gray-500 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] active:shadow-none active:translate-x-1 active:translate-y-1 transition-all text-sm",children:"Abandon Saved Session (Start Fresh)"})]}):c.jsxs("div",{className:"flex flex-col h-screen bg-[#d4d4d4] dark:bg-[#111111] text-black dark:text-gray-200 font-mono transition-colors duration-300 overflow-hidden",children:[c.jsx("div",{className:"p-4 pb-0 flex-shrink-0",children:c.jsx(aC,{onLoadImage:S0,onFileSelected:j0,onGenerateFakeDng:Wu,fileName:A?A.name:null,hasGeneratedData:(A==null?void 0:A.name)==="pattern_test.dng",viewMode:Ia,onSetViewMode:Wn,patternPeriod:vr,onPatternPeriodChange:Cr,fillFactor:sr,onFillFactorChange:ro,patternPhase:wa,onPatternPhaseChange:no,showPatternControls:(A==null?void 0:A.name)==="pattern_test.dng",onOpenAbout:()=>gr(!0),onShowExif:jP,bridgeStatus:x,onBridgeClick:()=>y(!0),isDrLabOpen:Ge,onToggleDrLab:()=>{ct(!Ge),Ar(0),Qr([]),Co([]),Nt&&rr(!1),Dt&&sn(!1),nr&&Zr(!1),Sr(0),ie([])},isColorLabOpen:Dt,onToggleColorLab:()=>{sn(!Dt),Tn([]),Sr(0),ie([]),Ge&&ct(!1),Nt&&rr(!1),nr&&Zr(!1)},isFftLabOpen:Nt,onToggleFftLab:()=>{rr(!Nt),Ge&&ct(!1),Dt&&sn(!1),nr&&Zr(!1),Sr(0),ie([])},isSfrLabOpen:nr,onToggleSfrLab:()=>{Zr(!nr),Ge&&ct(!1),Dt&&sn(!1),Nt&&rr(!1),Sr(0),ie([])},onGenerateTestPic:sx,onPTCFilesSelected:SP,onDownloadDng:_P,isThreePlane:E,onOpenDatabase:()=>d(!0),isSidebarOpen:oe,onToggleSidebar:()=>we(!oe),stretchMultiplier:jr,onStretchMultiplierChange:yt,onStretchDngExport:Ut,isRawLoaded:!!M})}),c.jsxs("div",{className:"flex flex-1 overflow-hidden p-4 pt-2 gap-4 relative",children:[c.jsxs("div",{className:"flex-1 relative bg-gray-200 dark:bg-black border-4 border-gray-500 dark:border-gray-700 shadow-[inset_2px_2px_8px_rgba(0,0,0,0.2)] overflow-hidden transition-colors duration-300",ref:Ye,children:[jn&&c.jsxs("div",{className:"absolute bottom-4 right-4 z-50 flex items-center gap-2 bg-white/90 dark:bg-black/90 px-3 py-1.5 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray]",children:[c.jsx("div",{className:"w-4 h-4 border-2 border-black dark:border-white border-t-transparent animate-spin"}),c.jsx("span",{className:"text-xs font-bold text-black dark:text-white uppercase",children:G||"Processing..."})]}),g.length>1&&c.jsxs("div",{className:"absolute bottom-4 right-20 z-50 flex items-center gap-2 bg-white/90 dark:bg-black/90 px-3 py-1.5 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] text-sm font-bold text-black dark:text-white",children:[c.jsx("button",{onClick:wn,disabled:j<=0,className:"hover:text-gray-500 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Previous Image",children:"<"}),c.jsxs("span",{className:"min-w-[3rem] text-center select-none font-bold",children:[j+1," / ",g.length]}),c.jsx("button",{onClick:Ot,disabled:j>=g.length-1,className:"hover:text-gray-500 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Next Image",children:">"})]}),c.jsx("div",{className:"absolute bottom-4 left-4 z-50 flex flex-col-reverse gap-2 items-start pointer-events-none",children:he.filter(W=>W.isMinimized).map(W=>{let V="Window",Z="bg-gray-500";return W.type==="histogram"?(V="Histogram",Z="bg-black dark:bg-white"):W.type==="fft"?(V="FFT Spectrum",Z="bg-black dark:bg-white"):W.type==="quant"?(V="Quantization",Z="bg-black dark:bg-white"):W.type==="pearson"&&(V="Pearson",Z="bg-black dark:bg-white"),c.jsxs("div",{className:"pointer-events-auto flex items-center gap-1 bg-white dark:bg-black border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray]",children:[c.jsxs("button",{onClick:()=>ao(W.id),className:"px-3 py-1.5 text-xs font-bold text-black dark:text-white hover:bg-gray-200 dark:hover:bg-gray-800 transition-colors flex items-center gap-2",children:[c.jsx("span",{className:`w-2 h-2 ${Z}`}),V]}),c.jsx("button",{onClick:()=>xr(W.id),className:"px-2 py-1.5 text-black hover:text-red-600 hover:bg-gray-200 dark:hover:bg-gray-800 border-l-2 border-black dark:border-white transition-colors",children:""})]},W.id)})}),c.jsx(iJ,{isOpen:bt,onClose:()=>gr(!1)}),c.jsx(sJ,{isOpen:ve,onClose:()=>Ke(!1),data:P,fileName:A?A.name:"",warning:ge}),c.jsx(cJ,{isOpen:s,onClose:()=>l(!1),data:st,blackLevel:yi,imageHeight:b0,isBGGR:q,importedMetadata:Tt||void 0,theme:o,initialCameraModel:(P==null?void 0:P.Model)||"",initialISO:(P==null?void 0:P.ISO)||((lx=P==null?void 0:P.ISOSpeedRatings)==null?void 0:lx.toString())||""}),c.jsx(pJ,{isOpen:u,onClose:()=>d(!1),theme:o}),c.jsx(gJ,{isOpen:f,onClose:()=>h(!1),zIndex:200}),c.jsx(wJ,{isOpen:Zt,onClose:kP,patchStats:OP,initialIsBGGR:q,sizeRatio:Ce,onSizeChange:wP}),c.jsx(NJ,{isOpen:nr,isSfrLabOpen:nr,onClose:()=>{},rawImageData:M,roi:R?{x:R.x,y:R.y,w:R.width,h:R.height}:null,zIndex:200,onFocus:cs,displaySettings:z}),c.jsx(PJ,{isOpen:p,onClose:()=>m(!1),rawImageData:M,fileName:(A==null?void 0:A.name)||"image.dng",zIndex:300,onFocus:cs}),c.jsx(ai,{isOpen:Ie,onClose:()=>it(!1),onConfirm:N0,title:"High Resource Usage Warning",confirmText:"I know the risk and insist to continue",message:c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx("p",{children:"Patter DNG mode involves high-frequency refreshing and heavy computation. Due to current memory management limitations, repeated use may lead to browser memory overflow or crashes. Please proceed with caution."}),c.jsx("p",{className:"text-xs text-gray-500"})]})}),c.jsx(ai,{isOpen:w,onClose:()=>y(!1),onConfirm:()=>{window.open("https://y-g-jiang.github.io/jiangbridge.exe","_blank"),y(!1)},title:"JiangBridge Connection / ",confirmText:"Download Bridge App",cancelText:"Cancel",message:c.jsxs("div",{className:"flex flex-col gap-4 text-left",children:[c.jsx("p",{className:"font-bold text-gray-800 dark:text-gray-200",children:"JiangBridge"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:'JiangBridge is optional for this webpage, but recommended for full functionality. Simply double-click and run it once after system startup. If the indicator light does not turn green after double-clicking, please consider checking whether the web page is allowed to "View and connect to any device on the network".'})]})}),c.jsx(ai,{isOpen:lt,onClose:()=>er(!1),onConfirm:It,title:"Export 16-bit TIFF Options",confirmText:"Confirm Export",message:c.jsxs("div",{className:"flex flex-col gap-4 text-left",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-gray-50 dark:bg-slate-800/80 p-4 border border-gray-400 dark:border-600",children:[c.jsxs("div",{className:"flex flex-col items-center gap-3",children:[c.jsxs("div",{className:"flex flex-col items-center text-center",children:[c.jsx("span",{className:"font-bold text-xs text-gray-800 dark:text-slate-200",children:"Stretch ()"}),c.jsx("span",{className:"text-[9px] text-gray-500 dark:text-slate-400 mt-0.5",children:"Map [0, White] to [0, 65535]"})]}),c.jsx("div",{onClick:()=>Ht(!Ue),className:`relative w-12 h-6 border-2 border-black dark:border-white cursor-pointer ${Ue?"bg-black dark:bg-white":"bg-gray-300 dark:bg-slate-600"}`,children:c.jsx("div",{className:`absolute top-0.5 left-0.5 w-4 h-4 bg-white dark:bg-black shadow-sm transition-transform ${Ue?"translate-x-6":""}`})})]}),c.jsxs("div",{className:"flex flex-col items-center gap-3",children:[c.jsxs("div",{className:"flex flex-col items-center text-center",children:[c.jsx("span",{className:"font-bold text-xs text-gray-800 dark:text-slate-200",children:"sRGB Gamma"}),c.jsx("span",{className:"text-[9px] text-gray-500 dark:text-slate-400 mt-0.5",children:"Apply non-linear contrast"})]}),c.jsx("div",{onClick:()=>tr(!Rt),className:`relative w-12 h-6 border-2 border-black dark:border-white cursor-pointer ${Rt?"bg-black dark:bg-white":"bg-gray-300 dark:bg-slate-600"}`,children:c.jsx("div",{className:`absolute top-0.5 left-0.5 w-4 h-4 bg-white dark:bg-black shadow-sm transition-transform ${Rt?"translate-x-6":""}`})})]})]}),c.jsxs("div",{className:"p-3 bg-gray-200 dark:bg-slate-800 text-[11px] text-black dark:text-white italic border border-gray-400 dark:border-gray-600 text-center font-mono",children:[Ue&&!Rt&&"Mode: Stretched Linear. Histogram preserved but range expanded.",!Ue&&Rt&&"Mode: Native DN + sRGB. Best for analyzing raw distribution contrast.",Ue&&Rt&&"Mode: Ready-to-Use. Conventional 16-bit development.",!Ue&&!Rt&&"Mode: Native Linear. Pure physical sensor DN values."]})]})}),!ne&&c.jsx(BJ,{stats:R,onClose:()=>{J(null),ue(null)},onMinimize:()=>ce(!0),isBGGR:q,onToggleBGGR:$,onOpenWindow:ht,displaySettings:z,zIndex:Pe,onFocus:cs,rawImageData:M}),he.map(W=>{if(W.isMinimized)return null;const V=g.find(be=>be.id===W.sessionId),Z=V==null?void 0:V.rawImageData;if(!Z)return null;const re={key:W.id,isOpen:!0,onClose:()=>xr(W.id),onMinimize:()=>kn(W.id),rawImageData:Z,roi:W.roi,isBGGR:W.isBGGR,zIndex:W.zIndex,onFocus:()=>ls(W.id),initialPosition:W.initialPosition,initialInternalState:W.internalState,onUpdateState:be=>w0(W.id,be),stackFiles:W.stackFiles};return W.type==="histogram"?c.jsx(ZQ,{...re}):W.type==="fft"?c.jsx(tJ,{...re,onUpdateROI:be=>k0(W.id,be)}):W.type==="quant"?c.jsx(rJ,{...re}):W.type==="pearson"?c.jsx(nJ,{...re}):null}),ss&&c.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-white/90 dark:bg-black/90 p-8",children:c.jsxs("div",{className:"max-w-md text-center p-6 bg-white dark:bg-black rounded-none border-2 border-red-600 shadow-[8px_8px_0px_rgba(200,0,0,0.5)]",children:[c.jsx("h3",{className:"text-xl font-bold text-red-600 uppercase mb-2",children:"Notice"}),c.jsx("p",{className:"text-black dark:text-white mb-6 whitespace-pre-wrap font-mono",children:ss}),c.jsx("button",{onClick:()=>Et(null),className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-800 dark:hover:bg-gray-700 border-2 border-black dark:border-white text-black dark:text-white transition-colors uppercase font-bold",children:"Dismiss"})]})}),!Gr&&!jn&&!ss&&c.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-gray-400 dark:text-gray-600 select-none font-mono",children:c.jsx("p",{className:"text-lg",children:"Load an image or generate a pattern"})}),c.jsx(oC,{image:Gr,zoom:de,pan:ae,onPanChange:L,onZoomChange:Hn,onSelectionChange:Ba,forcedSelection:Y,theme:o,touchAction:De,isMarking:pe>0||Dt&&Ur>0,onPointClick:W=>{pe>0?lr(W):Dt&&Ur>0&&bP(W)},markers:ba,gridRects:bn,colorLabPoints:mr,colorLabRects:zt}),c.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-1/2 z-30 pointer-events-none select-none opacity-20 mix-blend-normal dark:mix-blend-plus-lighter",children:c.jsx("svg",{viewBox:"0 0 500 60",className:"w-full h-auto drop-shadow-none",children:c.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-black dark:fill-white",fontSize:"26",fontWeight:"bold",style:{fontFamily:"Courier New, monospace",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),M&&!pe&&!Dt&&c.jsxs("div",{className:"absolute bottom-4 left-4 z-30 pointer-events-none opacity-60 text-[10px] text-black dark:text-white font-mono bg-white/50 dark:bg-black/50 px-1",children:["Hold ",c.jsx("b",{children:"Shift"})," + Drag to calculate Raw ROI stats"]}),Dt&&Ur>0&&c.jsxs("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 z-30 pointer-events-none text-sm font-bold text-yellow-500 bg-black/80 px-4 py-2 rounded-full border border-yellow-500 animate-pulse shadow-lg",children:[mr.length===0&&"Click Top-Left Corner of Chart",mr.length===1&&"Click Top-Right Corner",mr.length===2&&"Click Bottom-Left Corner",mr.length===3&&"Click Bottom-Right Corner",mr.length===4&&"Processing..."]}),c.jsx(vC,{zoom:de,onZoomChange:Hn,onResetView:()=>{Ae(1),L({x:0,y:0})},touchAction:De,onToggleTouchAction:Fa})]}),oe&&c.jsx("div",{className:"w-80 flex-shrink-0 bg-white dark:bg-black border-4 border-gray-500 dark:border-gray-700 shadow-[inset_2px_2px_8px_rgba(0,0,0,0.2)] overflow-hidden transition-all duration-300",children:c.jsx(uC,{rawImageData:M,displaySettings:z,onApplyDisplaySettings:_e,onSetSelection:$o,exifData:P,isBridgeConnected:x.isConnected,isDrLabOpen:Ge,drMarkingStep:pe,onStartMarking:NP,onGenerateTestPic:sx,drRoiSize:To,onDrRoiSizeChange:ra,drGridRows:X,onDrGridRowsChange:Oe,drGridCols:ut,onDrGridColsChange:ln,onBatchDrLab:Hu,hasDrMarkers:bn.length>0,isFftLabOpen:Nt,onProcessPair:_0,onProcessBatchDiff:Gu,onProcessStackFft:Il,onOpenCrossCalc:()=>h(!0),isThreePlane:E,onToggleXTrans:rt,xtransPhase:B,onXTransPhaseChange:tt,isXTransConverted:_==null?void 0:_.isXTransConverted,roiStats:R,isBGGR:q,isColorLabOpen:Dt,colorLabMarkingStep:Ur,onStartColorLabMarking:ox,isSfrLabOpen:nr,onOpenDngExport:()=>m(!0)})}),c.jsx(xC,{theme:o,setTheme:i})]})]})},xP=document.getElementById("root");if(!xP)throw new Error("Could not find root element to mount to");const zJ=Ep.createRoot(xP);zJ.render(c.jsx(F.StrictMode,{children:c.jsx(FJ,{})}));export{BQ as _};
