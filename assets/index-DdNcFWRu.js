var T_=Object.defineProperty;var $_=(e,t,r)=>t in e?T_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var on=(e,t,r)=>$_(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var du=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var D2={exports:{}},Ed={},R2={exports:{}},tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qc=Symbol.for("react.element"),D_=Symbol.for("react.portal"),R_=Symbol.for("react.fragment"),L_=Symbol.for("react.strict_mode"),I_=Symbol.for("react.profiler"),B_=Symbol.for("react.provider"),F_=Symbol.for("react.context"),z_=Symbol.for("react.forward_ref"),W_=Symbol.for("react.suspense"),U_=Symbol.for("react.memo"),G_=Symbol.for("react.lazy"),Ov=Symbol.iterator;function H_(e){return e===null||typeof e!="object"?null:(e=Ov&&e[Ov]||e["@@iterator"],typeof e=="function"?e:null)}var L2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I2=Object.assign,B2={};function Hs(e,t,r){this.props=e,this.context=t,this.refs=B2,this.updater=r||L2}Hs.prototype.isReactComponent={};Hs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Hs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function F2(){}F2.prototype=Hs.prototype;function km(e,t,r){this.props=e,this.context=t,this.refs=B2,this.updater=r||L2}var Sm=km.prototype=new F2;Sm.constructor=km;I2(Sm,Hs.prototype);Sm.isPureReactComponent=!0;var Pv=Array.isArray,z2=Object.prototype.hasOwnProperty,jm={current:null},W2={key:!0,ref:!0,__self:!0,__source:!0};function U2(e,t,r){var n,a={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)z2.call(t,n)&&!W2.hasOwnProperty(n)&&(a[n]=t[n]);var s=arguments.length-2;if(s===1)a.children=r;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)a[n]===void 0&&(a[n]=s[n]);return{$$typeof:qc,type:e,key:o,ref:i,props:a,_owner:jm.current}}function V_(e,t){return{$$typeof:qc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Om(e){return typeof e=="object"&&e!==null&&e.$$typeof===qc}function K_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var _v=/\/+/g;function Uh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?K_(""+e.key):t.toString(36)}function Hu(e,t,r,n,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case qc:case D_:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+Uh(i,0):n,Pv(a)?(r="",e!=null&&(r=e.replace(_v,"$&/")+"/"),Hu(a,t,r,"",function(c){return c})):a!=null&&(Om(a)&&(a=V_(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(_v,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",Pv(e))for(var s=0;s<e.length;s++){o=e[s];var l=n+Uh(o,s);i+=Hu(o,t,r,l,a)}else if(l=H_(e),typeof l=="function")for(e=l.call(e),s=0;!(o=e.next()).done;)o=o.value,l=n+Uh(o,s++),i+=Hu(o,t,r,l,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function hu(e,t,r){if(e==null)return e;var n=[],a=0;return Hu(e,n,"","",function(o){return t.call(r,o,a++)}),n}function X_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var dn={current:null},Vu={transition:null},Y_={ReactCurrentDispatcher:dn,ReactCurrentBatchConfig:Vu,ReactCurrentOwner:jm};function G2(){throw Error("act(...) is not supported in production builds of React.")}tt.Children={map:hu,forEach:function(e,t,r){hu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return hu(e,function(){t++}),t},toArray:function(e){return hu(e,function(t){return t})||[]},only:function(e){if(!Om(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};tt.Component=Hs;tt.Fragment=R_;tt.Profiler=I_;tt.PureComponent=km;tt.StrictMode=L_;tt.Suspense=W_;tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y_;tt.act=G2;tt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=I2({},e.props),a=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=jm.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)z2.call(t,l)&&!W2.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];n.children=s}return{$$typeof:qc,type:e.type,key:a,ref:o,props:n,_owner:i}};tt.createContext=function(e){return e={$$typeof:F_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:B_,_context:e},e.Consumer=e};tt.createElement=U2;tt.createFactory=function(e){var t=U2.bind(null,e);return t.type=e,t};tt.createRef=function(){return{current:null}};tt.forwardRef=function(e){return{$$typeof:z_,render:e}};tt.isValidElement=Om;tt.lazy=function(e){return{$$typeof:G_,_payload:{_status:-1,_result:e},_init:X_}};tt.memo=function(e,t){return{$$typeof:U_,type:e,compare:t===void 0?null:t}};tt.startTransition=function(e){var t=Vu.transition;Vu.transition={};try{e()}finally{Vu.transition=t}};tt.unstable_act=G2;tt.useCallback=function(e,t){return dn.current.useCallback(e,t)};tt.useContext=function(e){return dn.current.useContext(e)};tt.useDebugValue=function(){};tt.useDeferredValue=function(e){return dn.current.useDeferredValue(e)};tt.useEffect=function(e,t){return dn.current.useEffect(e,t)};tt.useId=function(){return dn.current.useId()};tt.useImperativeHandle=function(e,t,r){return dn.current.useImperativeHandle(e,t,r)};tt.useInsertionEffect=function(e,t){return dn.current.useInsertionEffect(e,t)};tt.useLayoutEffect=function(e,t){return dn.current.useLayoutEffect(e,t)};tt.useMemo=function(e,t){return dn.current.useMemo(e,t)};tt.useReducer=function(e,t,r){return dn.current.useReducer(e,t,r)};tt.useRef=function(e){return dn.current.useRef(e)};tt.useState=function(e){return dn.current.useState(e)};tt.useSyncExternalStore=function(e,t,r){return dn.current.useSyncExternalStore(e,t,r)};tt.useTransition=function(){return dn.current.useTransition()};tt.version="18.3.1";R2.exports=tt;var O=R2.exports;const M=Tt(O);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q_=O,Z_=Symbol.for("react.element"),Q_=Symbol.for("react.fragment"),J_=Object.prototype.hasOwnProperty,eN=q_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tN={key:!0,ref:!0,__self:!0,__source:!0};function H2(e,t,r){var n,a={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)J_.call(t,n)&&!tN.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:Z_,type:e,key:o,ref:i,props:a,_owner:eN.current}}Ed.Fragment=Q_;Ed.jsx=H2;Ed.jsxs=H2;D2.exports=Ed;var u=D2.exports,Qp={},V2={exports:{}},Tn={},K2={exports:{}},X2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,R){var B=L.length;L.push(R);e:for(;0<B;){var te=B-1>>>1,X=L[te];if(0<a(X,R))L[te]=R,L[B]=X,B=te;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var R=L[0],B=L.pop();if(B!==R){L[0]=B;e:for(var te=0,X=L.length,G=X>>>1;te<G;){var U=2*(te+1)-1,ce=L[U],ue=U+1,xe=L[ue];if(0>a(ce,B))ue<X&&0>a(xe,ce)?(L[te]=xe,L[ue]=B,te=ue):(L[te]=ce,L[U]=B,te=U);else if(ue<X&&0>a(xe,B))L[te]=xe,L[ue]=B,te=ue;else break e}}return R}function a(L,R){var B=L.sortIndex-R.sortIndex;return B!==0?B:L.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,s=i.now();e.unstable_now=function(){return i.now()-s}}var l=[],c=[],f=1,d=null,h=3,p=!1,m=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(L){for(var R=r(c);R!==null;){if(R.callback===null)n(c);else if(R.startTime<=L)n(c),R.sortIndex=R.expirationTime,t(l,R);else break;R=r(c)}}function S(L){if(v=!1,b(L),!m)if(r(l)!==null)m=!0,I(w);else{var R=r(c);R!==null&&W(S,R.startTime-L)}}function w(L,R){m=!1,v&&(v=!1,y(P),P=-1),p=!0;var B=h;try{for(b(R),d=r(l);d!==null&&(!(d.expirationTime>R)||L&&!N());){var te=d.callback;if(typeof te=="function"){d.callback=null,h=d.priorityLevel;var X=te(d.expirationTime<=R);R=e.unstable_now(),typeof X=="function"?d.callback=X:d===r(l)&&n(l),b(R)}else n(l);d=r(l)}if(d!==null)var G=!0;else{var U=r(c);U!==null&&W(S,U.startTime-R),G=!1}return G}finally{d=null,h=B,p=!1}}var k=!1,j=null,P=-1,_=5,A=-1;function N(){return!(e.unstable_now()-A<_)}function E(){if(j!==null){var L=e.unstable_now();A=L;var R=!0;try{R=j(!0,L)}finally{R?F():(k=!1,j=null)}}else k=!1}var F;if(typeof g=="function")F=function(){g(E)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,T=D.port2;D.port1.onmessage=E,F=function(){T.postMessage(null)}}else F=function(){x(E,0)};function I(L){j=L,k||(k=!0,F())}function W(L,R){P=x(function(){L(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,I(w))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(L){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var B=h;h=R;try{return L()}finally{h=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,R){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var B=h;h=L;try{return R()}finally{h=B}},e.unstable_scheduleCallback=function(L,R,B){var te=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?te+B:te):B=te,L){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=B+X,L={id:f++,callback:R,priorityLevel:L,startTime:B,expirationTime:X,sortIndex:-1},B>te?(L.sortIndex=B,t(c,L),r(l)===null&&L===r(c)&&(v?(y(P),P=-1):v=!0,W(S,B-te))):(L.sortIndex=X,t(l,L),m||p||(m=!0,I(w))),L},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(L){var R=h;return function(){var B=h;h=R;try{return L.apply(this,arguments)}finally{h=B}}}})(X2);K2.exports=X2;var rN=K2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nN=O,En=rN;function ne(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Y2=new Set,ql={};function Oi(e,t){us(e,t),us(e+"Capture",t)}function us(e,t){for(ql[e]=t,e=0;e<t.length;e++)Y2.add(t[e])}var Ka=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jp=Object.prototype.hasOwnProperty,aN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Nv={},Av={};function oN(e){return Jp.call(Av,e)?!0:Jp.call(Nv,e)?!1:aN.test(e)?Av[e]=!0:(Nv[e]=!0,!1)}function iN(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function sN(e,t,r,n){if(t===null||typeof t>"u"||iN(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function hn(e,t,r,n,a,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Br={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Br[e]=new hn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Br[t]=new hn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Br[e]=new hn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Br[e]=new hn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Br[e]=new hn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Br[e]=new hn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Br[e]=new hn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Br[e]=new hn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Br[e]=new hn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Pm=/[\-:]([a-z])/g;function _m(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Pm,_m);Br[t]=new hn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Pm,_m);Br[t]=new hn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Pm,_m);Br[t]=new hn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Br[e]=new hn(e,1,!1,e.toLowerCase(),null,!1,!1)});Br.xlinkHref=new hn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Br[e]=new hn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Nm(e,t,r,n){var a=Br.hasOwnProperty(t)?Br[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(sN(t,r,a,n)&&(r=null),n||a===null?oN(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var eo=nN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pu=Symbol.for("react.element"),Fi=Symbol.for("react.portal"),zi=Symbol.for("react.fragment"),Am=Symbol.for("react.strict_mode"),e0=Symbol.for("react.profiler"),q2=Symbol.for("react.provider"),Z2=Symbol.for("react.context"),Mm=Symbol.for("react.forward_ref"),t0=Symbol.for("react.suspense"),r0=Symbol.for("react.suspense_list"),Cm=Symbol.for("react.memo"),co=Symbol.for("react.lazy"),Q2=Symbol.for("react.offscreen"),Mv=Symbol.iterator;function fl(e){return e===null||typeof e!="object"?null:(e=Mv&&e[Mv]||e["@@iterator"],typeof e=="function"?e:null)}var rr=Object.assign,Gh;function Al(e){if(Gh===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Gh=t&&t[1]||""}return`
`+Gh+e}var Hh=!1;function Vh(e,t){if(!e||Hh)return"";Hh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),o=n.stack.split(`
`),i=a.length-1,s=o.length-1;1<=i&&0<=s&&a[i]!==o[s];)s--;for(;1<=i&&0<=s;i--,s--)if(a[i]!==o[s]){if(i!==1||s!==1)do if(i--,s--,0>s||a[i]!==o[s]){var l=`
`+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=s);break}}}finally{Hh=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Al(e):""}function lN(e){switch(e.tag){case 5:return Al(e.type);case 16:return Al("Lazy");case 13:return Al("Suspense");case 19:return Al("SuspenseList");case 0:case 2:case 15:return e=Vh(e.type,!1),e;case 11:return e=Vh(e.type.render,!1),e;case 1:return e=Vh(e.type,!0),e;default:return""}}function n0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case zi:return"Fragment";case Fi:return"Portal";case e0:return"Profiler";case Am:return"StrictMode";case t0:return"Suspense";case r0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Z2:return(e.displayName||"Context")+".Consumer";case q2:return(e._context.displayName||"Context")+".Provider";case Mm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Cm:return t=e.displayName||null,t!==null?t:n0(e.type)||"Memo";case co:t=e._payload,e=e._init;try{return n0(e(t))}catch{}}return null}function cN(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return n0(t);case 8:return t===Am?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Mo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function J2(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function uN(e){var t=J2(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function gu(e){e._valueTracker||(e._valueTracker=uN(e))}function ek(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=J2(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function nf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function a0(e,t){var r=t.checked;return rr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Cv(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Mo(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function tk(e,t){t=t.checked,t!=null&&Nm(e,"checked",t,!1)}function o0(e,t){tk(e,t);var r=Mo(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?i0(e,t.type,r):t.hasOwnProperty("defaultValue")&&i0(e,t.type,Mo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ev(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function i0(e,t,r){(t!=="number"||nf(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ml=Array.isArray;function ts(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Mo(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function s0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ne(91));return rr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Tv(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ne(92));if(Ml(r)){if(1<r.length)throw Error(ne(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Mo(r)}}function rk(e,t){var r=Mo(t.value),n=Mo(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function $v(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function nk(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function l0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?nk(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var mu,ak=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(mu=mu||document.createElement("div"),mu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=mu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Zl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var $l={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fN=["Webkit","ms","Moz","O"];Object.keys($l).forEach(function(e){fN.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),$l[t]=$l[e]})});function ok(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||$l.hasOwnProperty(e)&&$l[e]?(""+t).trim():t+"px"}function ik(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=ok(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var dN=rr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function c0(e,t){if(t){if(dN[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ne(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ne(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ne(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ne(62))}}function u0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var f0=null;function Em(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var d0=null,rs=null,ns=null;function Dv(e){if(e=Jc(e)){if(typeof d0!="function")throw Error(ne(280));var t=e.stateNode;t&&(t=Ld(t),d0(e.stateNode,e.type,t))}}function sk(e){rs?ns?ns.push(e):ns=[e]:rs=e}function lk(){if(rs){var e=rs,t=ns;if(ns=rs=null,Dv(e),t)for(e=0;e<t.length;e++)Dv(t[e])}}function ck(e,t){return e(t)}function uk(){}var Kh=!1;function fk(e,t,r){if(Kh)return e(t,r);Kh=!0;try{return ck(e,t,r)}finally{Kh=!1,(rs!==null||ns!==null)&&(uk(),lk())}}function Ql(e,t){var r=e.stateNode;if(r===null)return null;var n=Ld(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ne(231,t,typeof r));return r}var h0=!1;if(Ka)try{var dl={};Object.defineProperty(dl,"passive",{get:function(){h0=!0}}),window.addEventListener("test",dl,dl),window.removeEventListener("test",dl,dl)}catch{h0=!1}function hN(e,t,r,n,a,o,i,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(f){this.onError(f)}}var Dl=!1,af=null,of=!1,p0=null,pN={onError:function(e){Dl=!0,af=e}};function gN(e,t,r,n,a,o,i,s,l){Dl=!1,af=null,hN.apply(pN,arguments)}function mN(e,t,r,n,a,o,i,s,l){if(gN.apply(this,arguments),Dl){if(Dl){var c=af;Dl=!1,af=null}else throw Error(ne(198));of||(of=!0,p0=c)}}function Pi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function dk(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Rv(e){if(Pi(e)!==e)throw Error(ne(188))}function yN(e){var t=e.alternate;if(!t){if(t=Pi(e),t===null)throw Error(ne(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var o=a.alternate;if(o===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return Rv(a),e;if(o===n)return Rv(a),t;o=o.sibling}throw Error(ne(188))}if(r.return!==n.return)r=a,n=o;else{for(var i=!1,s=a.child;s;){if(s===r){i=!0,r=a,n=o;break}if(s===n){i=!0,n=a,r=o;break}s=s.sibling}if(!i){for(s=o.child;s;){if(s===r){i=!0,r=o,n=a;break}if(s===n){i=!0,n=o,r=a;break}s=s.sibling}if(!i)throw Error(ne(189))}}if(r.alternate!==n)throw Error(ne(190))}if(r.tag!==3)throw Error(ne(188));return r.stateNode.current===r?e:t}function hk(e){return e=yN(e),e!==null?pk(e):null}function pk(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=pk(e);if(t!==null)return t;e=e.sibling}return null}var gk=En.unstable_scheduleCallback,Lv=En.unstable_cancelCallback,vN=En.unstable_shouldYield,xN=En.unstable_requestPaint,cr=En.unstable_now,bN=En.unstable_getCurrentPriorityLevel,Tm=En.unstable_ImmediatePriority,mk=En.unstable_UserBlockingPriority,sf=En.unstable_NormalPriority,wN=En.unstable_LowPriority,yk=En.unstable_IdlePriority,Td=null,Sa=null;function kN(e){if(Sa&&typeof Sa.onCommitFiberRoot=="function")try{Sa.onCommitFiberRoot(Td,e,void 0,(e.current.flags&128)===128)}catch{}}var ca=Math.clz32?Math.clz32:ON,SN=Math.log,jN=Math.LN2;function ON(e){return e>>>=0,e===0?32:31-(SN(e)/jN|0)|0}var yu=64,vu=4194304;function Cl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function lf(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var s=i&~a;s!==0?n=Cl(s):(o&=i,o!==0&&(n=Cl(o)))}else i=r&~a,i!==0?n=Cl(i):o!==0&&(n=Cl(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ca(t),a=1<<r,n|=e[r],t&=~a;return n}function PN(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _N(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-ca(o),s=1<<i,l=a[i];l===-1?(!(s&r)||s&n)&&(a[i]=PN(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}function g0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function vk(){var e=yu;return yu<<=1,!(yu&4194240)&&(yu=64),e}function Xh(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Zc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ca(t),e[t]=r}function NN(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-ca(r),o=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~o}}function $m(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ca(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var jt=0;function xk(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var bk,Dm,wk,kk,Sk,m0=!1,xu=[],wo=null,ko=null,So=null,Jl=new Map,ec=new Map,ho=[],AN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Iv(e,t){switch(e){case"focusin":case"focusout":wo=null;break;case"dragenter":case"dragleave":ko=null;break;case"mouseover":case"mouseout":So=null;break;case"pointerover":case"pointerout":Jl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ec.delete(t.pointerId)}}function hl(e,t,r,n,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[a]},t!==null&&(t=Jc(t),t!==null&&Dm(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function MN(e,t,r,n,a){switch(t){case"focusin":return wo=hl(wo,e,t,r,n,a),!0;case"dragenter":return ko=hl(ko,e,t,r,n,a),!0;case"mouseover":return So=hl(So,e,t,r,n,a),!0;case"pointerover":var o=a.pointerId;return Jl.set(o,hl(Jl.get(o)||null,e,t,r,n,a)),!0;case"gotpointercapture":return o=a.pointerId,ec.set(o,hl(ec.get(o)||null,e,t,r,n,a)),!0}return!1}function jk(e){var t=Jo(e.target);if(t!==null){var r=Pi(t);if(r!==null){if(t=r.tag,t===13){if(t=dk(r),t!==null){e.blockedOn=t,Sk(e.priority,function(){wk(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ku(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=y0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);f0=n,r.target.dispatchEvent(n),f0=null}else return t=Jc(r),t!==null&&Dm(t),e.blockedOn=r,!1;t.shift()}return!0}function Bv(e,t,r){Ku(e)&&r.delete(t)}function CN(){m0=!1,wo!==null&&Ku(wo)&&(wo=null),ko!==null&&Ku(ko)&&(ko=null),So!==null&&Ku(So)&&(So=null),Jl.forEach(Bv),ec.forEach(Bv)}function pl(e,t){e.blockedOn===t&&(e.blockedOn=null,m0||(m0=!0,En.unstable_scheduleCallback(En.unstable_NormalPriority,CN)))}function tc(e){function t(a){return pl(a,e)}if(0<xu.length){pl(xu[0],e);for(var r=1;r<xu.length;r++){var n=xu[r];n.blockedOn===e&&(n.blockedOn=null)}}for(wo!==null&&pl(wo,e),ko!==null&&pl(ko,e),So!==null&&pl(So,e),Jl.forEach(t),ec.forEach(t),r=0;r<ho.length;r++)n=ho[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ho.length&&(r=ho[0],r.blockedOn===null);)jk(r),r.blockedOn===null&&ho.shift()}var as=eo.ReactCurrentBatchConfig,cf=!0;function EN(e,t,r,n){var a=jt,o=as.transition;as.transition=null;try{jt=1,Rm(e,t,r,n)}finally{jt=a,as.transition=o}}function TN(e,t,r,n){var a=jt,o=as.transition;as.transition=null;try{jt=4,Rm(e,t,r,n)}finally{jt=a,as.transition=o}}function Rm(e,t,r,n){if(cf){var a=y0(e,t,r,n);if(a===null)ap(e,t,n,uf,r),Iv(e,n);else if(MN(a,e,t,r,n))n.stopPropagation();else if(Iv(e,n),t&4&&-1<AN.indexOf(e)){for(;a!==null;){var o=Jc(a);if(o!==null&&bk(o),o=y0(e,t,r,n),o===null&&ap(e,t,n,uf,r),o===a)break;a=o}a!==null&&n.stopPropagation()}else ap(e,t,n,null,r)}}var uf=null;function y0(e,t,r,n){if(uf=null,e=Em(n),e=Jo(e),e!==null)if(t=Pi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=dk(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return uf=e,null}function Ok(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bN()){case Tm:return 1;case mk:return 4;case sf:case wN:return 16;case yk:return 536870912;default:return 16}default:return 16}}var mo=null,Lm=null,Xu=null;function Pk(){if(Xu)return Xu;var e,t=Lm,r=t.length,n,a="value"in mo?mo.value:mo.textContent,o=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[o-n];n++);return Xu=a.slice(e,1<n?1-n:void 0)}function Yu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function bu(){return!0}function Fv(){return!1}function $n(e){function t(r,n,a,o,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?bu:Fv,this.isPropagationStopped=Fv,this}return rr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=bu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=bu)},persist:function(){},isPersistent:bu}),t}var Vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Im=$n(Vs),Qc=rr({},Vs,{view:0,detail:0}),$N=$n(Qc),Yh,qh,gl,$d=rr({},Qc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gl&&(gl&&e.type==="mousemove"?(Yh=e.screenX-gl.screenX,qh=e.screenY-gl.screenY):qh=Yh=0,gl=e),Yh)},movementY:function(e){return"movementY"in e?e.movementY:qh}}),zv=$n($d),DN=rr({},$d,{dataTransfer:0}),RN=$n(DN),LN=rr({},Qc,{relatedTarget:0}),Zh=$n(LN),IN=rr({},Vs,{animationName:0,elapsedTime:0,pseudoElement:0}),BN=$n(IN),FN=rr({},Vs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zN=$n(FN),WN=rr({},Vs,{data:0}),Wv=$n(WN),UN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},GN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},HN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=HN[e])?!!t[e]:!1}function Bm(){return VN}var KN=rr({},Qc,{key:function(e){if(e.key){var t=UN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Yu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?GN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bm,charCode:function(e){return e.type==="keypress"?Yu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),XN=$n(KN),YN=rr({},$d,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uv=$n(YN),qN=rr({},Qc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bm}),ZN=$n(qN),QN=rr({},Vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),JN=$n(QN),eA=rr({},$d,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tA=$n(eA),rA=[9,13,27,32],Fm=Ka&&"CompositionEvent"in window,Rl=null;Ka&&"documentMode"in document&&(Rl=document.documentMode);var nA=Ka&&"TextEvent"in window&&!Rl,_k=Ka&&(!Fm||Rl&&8<Rl&&11>=Rl),Gv=" ",Hv=!1;function Nk(e,t){switch(e){case"keyup":return rA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ak(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wi=!1;function aA(e,t){switch(e){case"compositionend":return Ak(t);case"keypress":return t.which!==32?null:(Hv=!0,Gv);case"textInput":return e=t.data,e===Gv&&Hv?null:e;default:return null}}function oA(e,t){if(Wi)return e==="compositionend"||!Fm&&Nk(e,t)?(e=Pk(),Xu=Lm=mo=null,Wi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _k&&t.locale!=="ko"?null:t.data;default:return null}}var iA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!iA[e.type]:t==="textarea"}function Mk(e,t,r,n){sk(n),t=ff(t,"onChange"),0<t.length&&(r=new Im("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ll=null,rc=null;function sA(e){zk(e,0)}function Dd(e){var t=Hi(e);if(ek(t))return e}function lA(e,t){if(e==="change")return t}var Ck=!1;if(Ka){var Qh;if(Ka){var Jh="oninput"in document;if(!Jh){var Kv=document.createElement("div");Kv.setAttribute("oninput","return;"),Jh=typeof Kv.oninput=="function"}Qh=Jh}else Qh=!1;Ck=Qh&&(!document.documentMode||9<document.documentMode)}function Xv(){Ll&&(Ll.detachEvent("onpropertychange",Ek),rc=Ll=null)}function Ek(e){if(e.propertyName==="value"&&Dd(rc)){var t=[];Mk(t,rc,e,Em(e)),fk(sA,t)}}function cA(e,t,r){e==="focusin"?(Xv(),Ll=t,rc=r,Ll.attachEvent("onpropertychange",Ek)):e==="focusout"&&Xv()}function uA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Dd(rc)}function fA(e,t){if(e==="click")return Dd(t)}function dA(e,t){if(e==="input"||e==="change")return Dd(t)}function hA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fa=typeof Object.is=="function"?Object.is:hA;function nc(e,t){if(fa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Jp.call(t,a)||!fa(e[a],t[a]))return!1}return!0}function Yv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qv(e,t){var r=Yv(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Yv(r)}}function Tk(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Tk(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $k(){for(var e=window,t=nf();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=nf(e.document)}return t}function zm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function pA(e){var t=$k(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Tk(r.ownerDocument.documentElement,r)){if(n!==null&&zm(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,o=Math.min(n.start,a);n=n.end===void 0?o:Math.min(n.end,a),!e.extend&&o>n&&(a=n,n=o,o=a),a=qv(r,o);var i=qv(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gA=Ka&&"documentMode"in document&&11>=document.documentMode,Ui=null,v0=null,Il=null,x0=!1;function Zv(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;x0||Ui==null||Ui!==nf(n)||(n=Ui,"selectionStart"in n&&zm(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Il&&nc(Il,n)||(Il=n,n=ff(v0,"onSelect"),0<n.length&&(t=new Im("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ui)))}function wu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Gi={animationend:wu("Animation","AnimationEnd"),animationiteration:wu("Animation","AnimationIteration"),animationstart:wu("Animation","AnimationStart"),transitionend:wu("Transition","TransitionEnd")},ep={},Dk={};Ka&&(Dk=document.createElement("div").style,"AnimationEvent"in window||(delete Gi.animationend.animation,delete Gi.animationiteration.animation,delete Gi.animationstart.animation),"TransitionEvent"in window||delete Gi.transitionend.transition);function Rd(e){if(ep[e])return ep[e];if(!Gi[e])return e;var t=Gi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Dk)return ep[e]=t[r];return e}var Rk=Rd("animationend"),Lk=Rd("animationiteration"),Ik=Rd("animationstart"),Bk=Rd("transitionend"),Fk=new Map,Qv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Eo(e,t){Fk.set(e,t),Oi(t,[e])}for(var tp=0;tp<Qv.length;tp++){var rp=Qv[tp],mA=rp.toLowerCase(),yA=rp[0].toUpperCase()+rp.slice(1);Eo(mA,"on"+yA)}Eo(Rk,"onAnimationEnd");Eo(Lk,"onAnimationIteration");Eo(Ik,"onAnimationStart");Eo("dblclick","onDoubleClick");Eo("focusin","onFocus");Eo("focusout","onBlur");Eo(Bk,"onTransitionEnd");us("onMouseEnter",["mouseout","mouseover"]);us("onMouseLeave",["mouseout","mouseover"]);us("onPointerEnter",["pointerout","pointerover"]);us("onPointerLeave",["pointerout","pointerover"]);Oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Oi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vA=new Set("cancel close invalid load scroll toggle".split(" ").concat(El));function Jv(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,mN(n,t,void 0,e),e.currentTarget=null}function zk(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var s=n[i],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&a.isPropagationStopped())break e;Jv(a,s,c),o=l}else for(i=0;i<n.length;i++){if(s=n[i],l=s.instance,c=s.currentTarget,s=s.listener,l!==o&&a.isPropagationStopped())break e;Jv(a,s,c),o=l}}}if(of)throw e=p0,of=!1,p0=null,e}function Wt(e,t){var r=t[j0];r===void 0&&(r=t[j0]=new Set);var n=e+"__bubble";r.has(n)||(Wk(t,e,2,!1),r.add(n))}function np(e,t,r){var n=0;t&&(n|=4),Wk(r,e,n,t)}var ku="_reactListening"+Math.random().toString(36).slice(2);function ac(e){if(!e[ku]){e[ku]=!0,Y2.forEach(function(r){r!=="selectionchange"&&(vA.has(r)||np(r,!1,e),np(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ku]||(t[ku]=!0,np("selectionchange",!1,t))}}function Wk(e,t,r,n){switch(Ok(t)){case 1:var a=EN;break;case 4:a=TN;break;default:a=Rm}r=a.bind(null,t,r,e),a=void 0,!h0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function ap(e,t,r,n,a){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var s=n.stateNode.containerInfo;if(s===a||s.nodeType===8&&s.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;i=i.return}for(;s!==null;){if(i=Jo(s),i===null)return;if(l=i.tag,l===5||l===6){n=o=i;continue e}s=s.parentNode}}n=n.return}fk(function(){var c=o,f=Em(r),d=[];e:{var h=Fk.get(e);if(h!==void 0){var p=Im,m=e;switch(e){case"keypress":if(Yu(r)===0)break e;case"keydown":case"keyup":p=XN;break;case"focusin":m="focus",p=Zh;break;case"focusout":m="blur",p=Zh;break;case"beforeblur":case"afterblur":p=Zh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=zv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=RN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=ZN;break;case Rk:case Lk:case Ik:p=BN;break;case Bk:p=JN;break;case"scroll":p=$N;break;case"wheel":p=tA;break;case"copy":case"cut":case"paste":p=zN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Uv}var v=(t&4)!==0,x=!v&&e==="scroll",y=v?h!==null?h+"Capture":null:h;v=[];for(var g=c,b;g!==null;){b=g;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,y!==null&&(S=Ql(g,y),S!=null&&v.push(oc(g,S,b)))),x)break;g=g.return}0<v.length&&(h=new p(h,m,null,r,f),d.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==f0&&(m=r.relatedTarget||r.fromElement)&&(Jo(m)||m[Xa]))break e;if((p||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=c,m=m?Jo(m):null,m!==null&&(x=Pi(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(v=zv,S="onMouseLeave",y="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(v=Uv,S="onPointerLeave",y="onPointerEnter",g="pointer"),x=p==null?h:Hi(p),b=m==null?h:Hi(m),h=new v(S,g+"leave",p,r,f),h.target=x,h.relatedTarget=b,S=null,Jo(f)===c&&(v=new v(y,g+"enter",m,r,f),v.target=b,v.relatedTarget=x,S=v),x=S,p&&m)t:{for(v=p,y=m,g=0,b=v;b;b=$i(b))g++;for(b=0,S=y;S;S=$i(S))b++;for(;0<g-b;)v=$i(v),g--;for(;0<b-g;)y=$i(y),b--;for(;g--;){if(v===y||y!==null&&v===y.alternate)break t;v=$i(v),y=$i(y)}v=null}else v=null;p!==null&&ex(d,h,p,v,!1),m!==null&&x!==null&&ex(d,x,m,v,!0)}}e:{if(h=c?Hi(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=lA;else if(Vv(h))if(Ck)w=dA;else{w=uA;var k=cA}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=fA);if(w&&(w=w(e,c))){Mk(d,w,r,f);break e}k&&k(e,h,c),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&i0(h,"number",h.value)}switch(k=c?Hi(c):window,e){case"focusin":(Vv(k)||k.contentEditable==="true")&&(Ui=k,v0=c,Il=null);break;case"focusout":Il=v0=Ui=null;break;case"mousedown":x0=!0;break;case"contextmenu":case"mouseup":case"dragend":x0=!1,Zv(d,r,f);break;case"selectionchange":if(gA)break;case"keydown":case"keyup":Zv(d,r,f)}var j;if(Fm)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Wi?Nk(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(_k&&r.locale!=="ko"&&(Wi||P!=="onCompositionStart"?P==="onCompositionEnd"&&Wi&&(j=Pk()):(mo=f,Lm="value"in mo?mo.value:mo.textContent,Wi=!0)),k=ff(c,P),0<k.length&&(P=new Wv(P,e,null,r,f),d.push({event:P,listeners:k}),j?P.data=j:(j=Ak(r),j!==null&&(P.data=j)))),(j=nA?aA(e,r):oA(e,r))&&(c=ff(c,"onBeforeInput"),0<c.length&&(f=new Wv("onBeforeInput","beforeinput",null,r,f),d.push({event:f,listeners:c}),f.data=j))}zk(d,t)})}function oc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ff(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=Ql(e,r),o!=null&&n.unshift(oc(e,o,a)),o=Ql(e,t),o!=null&&n.push(oc(e,o,a))),e=e.return}return n}function $i(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ex(e,t,r,n,a){for(var o=t._reactName,i=[];r!==null&&r!==n;){var s=r,l=s.alternate,c=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&c!==null&&(s=c,a?(l=Ql(r,o),l!=null&&i.unshift(oc(r,l,s))):a||(l=Ql(r,o),l!=null&&i.push(oc(r,l,s)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var xA=/\r\n?/g,bA=/\u0000|\uFFFD/g;function tx(e){return(typeof e=="string"?e:""+e).replace(xA,`
`).replace(bA,"")}function Su(e,t,r){if(t=tx(t),tx(e)!==t&&r)throw Error(ne(425))}function df(){}var b0=null,w0=null;function k0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var S0=typeof setTimeout=="function"?setTimeout:void 0,wA=typeof clearTimeout=="function"?clearTimeout:void 0,rx=typeof Promise=="function"?Promise:void 0,kA=typeof queueMicrotask=="function"?queueMicrotask:typeof rx<"u"?function(e){return rx.resolve(null).then(e).catch(SA)}:S0;function SA(e){setTimeout(function(){throw e})}function op(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),tc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);tc(t)}function jo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function nx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ks=Math.random().toString(36).slice(2),ba="__reactFiber$"+Ks,ic="__reactProps$"+Ks,Xa="__reactContainer$"+Ks,j0="__reactEvents$"+Ks,jA="__reactListeners$"+Ks,OA="__reactHandles$"+Ks;function Jo(e){var t=e[ba];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Xa]||r[ba]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=nx(e);e!==null;){if(r=e[ba])return r;e=nx(e)}return t}e=r,r=e.parentNode}return null}function Jc(e){return e=e[ba]||e[Xa],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Hi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ne(33))}function Ld(e){return e[ic]||null}var O0=[],Vi=-1;function To(e){return{current:e}}function Ht(e){0>Vi||(e.current=O0[Vi],O0[Vi]=null,Vi--)}function zt(e,t){Vi++,O0[Vi]=e.current,e.current=t}var Co={},qr=To(Co),xn=To(!1),hi=Co;function fs(e,t){var r=e.type.contextTypes;if(!r)return Co;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in r)a[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function bn(e){return e=e.childContextTypes,e!=null}function hf(){Ht(xn),Ht(qr)}function ax(e,t,r){if(qr.current!==Co)throw Error(ne(168));zt(qr,t),zt(xn,r)}function Uk(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(ne(108,cN(e)||"Unknown",a));return rr({},r,n)}function pf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Co,hi=qr.current,zt(qr,e),zt(xn,xn.current),!0}function ox(e,t,r){var n=e.stateNode;if(!n)throw Error(ne(169));r?(e=Uk(e,t,hi),n.__reactInternalMemoizedMergedChildContext=e,Ht(xn),Ht(qr),zt(qr,e)):Ht(xn),zt(xn,r)}var Ra=null,Id=!1,ip=!1;function Gk(e){Ra===null?Ra=[e]:Ra.push(e)}function PA(e){Id=!0,Gk(e)}function $o(){if(!ip&&Ra!==null){ip=!0;var e=0,t=jt;try{var r=Ra;for(jt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ra=null,Id=!1}catch(a){throw Ra!==null&&(Ra=Ra.slice(e+1)),gk(Tm,$o),a}finally{jt=t,ip=!1}}return null}var Ki=[],Xi=0,gf=null,mf=0,Wn=[],Un=0,pi=null,La=1,Ia="";function Xo(e,t){Ki[Xi++]=mf,Ki[Xi++]=gf,gf=e,mf=t}function Hk(e,t,r){Wn[Un++]=La,Wn[Un++]=Ia,Wn[Un++]=pi,pi=e;var n=La;e=Ia;var a=32-ca(n)-1;n&=~(1<<a),r+=1;var o=32-ca(t)+a;if(30<o){var i=a-a%5;o=(n&(1<<i)-1).toString(32),n>>=i,a-=i,La=1<<32-ca(t)+a|r<<a|n,Ia=o+e}else La=1<<o|r<<a|n,Ia=e}function Wm(e){e.return!==null&&(Xo(e,1),Hk(e,1,0))}function Um(e){for(;e===gf;)gf=Ki[--Xi],Ki[Xi]=null,mf=Ki[--Xi],Ki[Xi]=null;for(;e===pi;)pi=Wn[--Un],Wn[Un]=null,Ia=Wn[--Un],Wn[Un]=null,La=Wn[--Un],Wn[Un]=null}var Cn=null,Mn=null,Yt=!1,ia=null;function Vk(e,t){var r=Gn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function ix(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Cn=e,Mn=jo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Cn=e,Mn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=pi!==null?{id:La,overflow:Ia}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Gn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Cn=e,Mn=null,!0):!1;default:return!1}}function P0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _0(e){if(Yt){var t=Mn;if(t){var r=t;if(!ix(e,t)){if(P0(e))throw Error(ne(418));t=jo(r.nextSibling);var n=Cn;t&&ix(e,t)?Vk(n,r):(e.flags=e.flags&-4097|2,Yt=!1,Cn=e)}}else{if(P0(e))throw Error(ne(418));e.flags=e.flags&-4097|2,Yt=!1,Cn=e}}}function sx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Cn=e}function ju(e){if(e!==Cn)return!1;if(!Yt)return sx(e),Yt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!k0(e.type,e.memoizedProps)),t&&(t=Mn)){if(P0(e))throw Kk(),Error(ne(418));for(;t;)Vk(e,t),t=jo(t.nextSibling)}if(sx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ne(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Mn=jo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Mn=null}}else Mn=Cn?jo(e.stateNode.nextSibling):null;return!0}function Kk(){for(var e=Mn;e;)e=jo(e.nextSibling)}function ds(){Mn=Cn=null,Yt=!1}function Gm(e){ia===null?ia=[e]:ia.push(e)}var _A=eo.ReactCurrentBatchConfig;function ml(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ne(309));var n=r.stateNode}if(!n)throw Error(ne(147,e));var a=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var s=a.refs;i===null?delete s[o]:s[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(ne(284));if(!r._owner)throw Error(ne(290,e))}return e}function Ou(e,t){throw e=Object.prototype.toString.call(t),Error(ne(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function lx(e){var t=e._init;return t(e._payload)}function Xk(e){function t(y,g){if(e){var b=y.deletions;b===null?(y.deletions=[g],y.flags|=16):b.push(g)}}function r(y,g){if(!e)return null;for(;g!==null;)t(y,g),g=g.sibling;return null}function n(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function a(y,g){return y=No(y,g),y.index=0,y.sibling=null,y}function o(y,g,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<g?(y.flags|=2,g):b):(y.flags|=2,g)):(y.flags|=1048576,g)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function s(y,g,b,S){return g===null||g.tag!==6?(g=hp(b,y.mode,S),g.return=y,g):(g=a(g,b),g.return=y,g)}function l(y,g,b,S){var w=b.type;return w===zi?f(y,g,b.props.children,S,b.key):g!==null&&(g.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===co&&lx(w)===g.type)?(S=a(g,b.props),S.ref=ml(y,g,b),S.return=y,S):(S=rf(b.type,b.key,b.props,null,y.mode,S),S.ref=ml(y,g,b),S.return=y,S)}function c(y,g,b,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==b.containerInfo||g.stateNode.implementation!==b.implementation?(g=pp(b,y.mode,S),g.return=y,g):(g=a(g,b.children||[]),g.return=y,g)}function f(y,g,b,S,w){return g===null||g.tag!==7?(g=ci(b,y.mode,S,w),g.return=y,g):(g=a(g,b),g.return=y,g)}function d(y,g,b){if(typeof g=="string"&&g!==""||typeof g=="number")return g=hp(""+g,y.mode,b),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case pu:return b=rf(g.type,g.key,g.props,null,y.mode,b),b.ref=ml(y,null,g),b.return=y,b;case Fi:return g=pp(g,y.mode,b),g.return=y,g;case co:var S=g._init;return d(y,S(g._payload),b)}if(Ml(g)||fl(g))return g=ci(g,y.mode,b,null),g.return=y,g;Ou(y,g)}return null}function h(y,g,b,S){var w=g!==null?g.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:s(y,g,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case pu:return b.key===w?l(y,g,b,S):null;case Fi:return b.key===w?c(y,g,b,S):null;case co:return w=b._init,h(y,g,w(b._payload),S)}if(Ml(b)||fl(b))return w!==null?null:f(y,g,b,S,null);Ou(y,b)}return null}function p(y,g,b,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(b)||null,s(g,y,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case pu:return y=y.get(S.key===null?b:S.key)||null,l(g,y,S,w);case Fi:return y=y.get(S.key===null?b:S.key)||null,c(g,y,S,w);case co:var k=S._init;return p(y,g,b,k(S._payload),w)}if(Ml(S)||fl(S))return y=y.get(b)||null,f(g,y,S,w,null);Ou(g,S)}return null}function m(y,g,b,S){for(var w=null,k=null,j=g,P=g=0,_=null;j!==null&&P<b.length;P++){j.index>P?(_=j,j=null):_=j.sibling;var A=h(y,j,b[P],S);if(A===null){j===null&&(j=_);break}e&&j&&A.alternate===null&&t(y,j),g=o(A,g,P),k===null?w=A:k.sibling=A,k=A,j=_}if(P===b.length)return r(y,j),Yt&&Xo(y,P),w;if(j===null){for(;P<b.length;P++)j=d(y,b[P],S),j!==null&&(g=o(j,g,P),k===null?w=j:k.sibling=j,k=j);return Yt&&Xo(y,P),w}for(j=n(y,j);P<b.length;P++)_=p(j,y,P,b[P],S),_!==null&&(e&&_.alternate!==null&&j.delete(_.key===null?P:_.key),g=o(_,g,P),k===null?w=_:k.sibling=_,k=_);return e&&j.forEach(function(N){return t(y,N)}),Yt&&Xo(y,P),w}function v(y,g,b,S){var w=fl(b);if(typeof w!="function")throw Error(ne(150));if(b=w.call(b),b==null)throw Error(ne(151));for(var k=w=null,j=g,P=g=0,_=null,A=b.next();j!==null&&!A.done;P++,A=b.next()){j.index>P?(_=j,j=null):_=j.sibling;var N=h(y,j,A.value,S);if(N===null){j===null&&(j=_);break}e&&j&&N.alternate===null&&t(y,j),g=o(N,g,P),k===null?w=N:k.sibling=N,k=N,j=_}if(A.done)return r(y,j),Yt&&Xo(y,P),w;if(j===null){for(;!A.done;P++,A=b.next())A=d(y,A.value,S),A!==null&&(g=o(A,g,P),k===null?w=A:k.sibling=A,k=A);return Yt&&Xo(y,P),w}for(j=n(y,j);!A.done;P++,A=b.next())A=p(j,y,P,A.value,S),A!==null&&(e&&A.alternate!==null&&j.delete(A.key===null?P:A.key),g=o(A,g,P),k===null?w=A:k.sibling=A,k=A);return e&&j.forEach(function(E){return t(y,E)}),Yt&&Xo(y,P),w}function x(y,g,b,S){if(typeof b=="object"&&b!==null&&b.type===zi&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case pu:e:{for(var w=b.key,k=g;k!==null;){if(k.key===w){if(w=b.type,w===zi){if(k.tag===7){r(y,k.sibling),g=a(k,b.props.children),g.return=y,y=g;break e}}else if(k.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===co&&lx(w)===k.type){r(y,k.sibling),g=a(k,b.props),g.ref=ml(y,k,b),g.return=y,y=g;break e}r(y,k);break}else t(y,k);k=k.sibling}b.type===zi?(g=ci(b.props.children,y.mode,S,b.key),g.return=y,y=g):(S=rf(b.type,b.key,b.props,null,y.mode,S),S.ref=ml(y,g,b),S.return=y,y=S)}return i(y);case Fi:e:{for(k=b.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===b.containerInfo&&g.stateNode.implementation===b.implementation){r(y,g.sibling),g=a(g,b.children||[]),g.return=y,y=g;break e}else{r(y,g);break}else t(y,g);g=g.sibling}g=pp(b,y.mode,S),g.return=y,y=g}return i(y);case co:return k=b._init,x(y,g,k(b._payload),S)}if(Ml(b))return m(y,g,b,S);if(fl(b))return v(y,g,b,S);Ou(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,g!==null&&g.tag===6?(r(y,g.sibling),g=a(g,b),g.return=y,y=g):(r(y,g),g=hp(b,y.mode,S),g.return=y,y=g),i(y)):r(y,g)}return x}var hs=Xk(!0),Yk=Xk(!1),yf=To(null),vf=null,Yi=null,Hm=null;function Vm(){Hm=Yi=vf=null}function Km(e){var t=yf.current;Ht(yf),e._currentValue=t}function N0(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function os(e,t){vf=e,Hm=Yi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(yn=!0),e.firstContext=null)}function Yn(e){var t=e._currentValue;if(Hm!==e)if(e={context:e,memoizedValue:t,next:null},Yi===null){if(vf===null)throw Error(ne(308));Yi=e,vf.dependencies={lanes:0,firstContext:e}}else Yi=Yi.next=e;return t}var ei=null;function Xm(e){ei===null?ei=[e]:ei.push(e)}function qk(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Xm(t)):(r.next=a.next,a.next=r),t.interleaved=r,Ya(e,n)}function Ya(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var uo=!1;function Ym(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zk(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Wa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oo(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ht&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Ya(e,r)}return a=n.interleaved,a===null?(t.next=t,Xm(n)):(t.next=a.next,a.next=t),n.interleaved=t,Ya(e,r)}function qu(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,$m(e,r)}}function cx(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?a=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?a=o=t:o=o.next=t}else a=o=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function xf(e,t,r,n){var a=e.updateQueue;uo=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,s=a.shared.pending;if(s!==null){a.shared.pending=null;var l=s,c=l.next;l.next=null,i===null?o=c:i.next=c,i=l;var f=e.alternate;f!==null&&(f=f.updateQueue,s=f.lastBaseUpdate,s!==i&&(s===null?f.firstBaseUpdate=c:s.next=c,f.lastBaseUpdate=l))}if(o!==null){var d=a.baseState;i=0,f=c=l=null,s=o;do{var h=s.lane,p=s.eventTime;if((n&h)===h){f!==null&&(f=f.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,v=s;switch(h=t,p=r,v.tag){case 1:if(m=v.payload,typeof m=="function"){d=m.call(p,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,h=typeof m=="function"?m.call(p,d,h):m,h==null)break e;d=rr({},d,h);break e;case 2:uo=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},f===null?(c=f=p,l=d):f=f.next=p,i|=h;if(s=s.next,s===null){if(s=a.shared.pending,s===null)break;h=s,s=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(f===null&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=f,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);mi|=i,e.lanes=i,e.memoizedState=d}}function ux(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ne(191,a));a.call(n)}}}var eu={},ja=To(eu),sc=To(eu),lc=To(eu);function ti(e){if(e===eu)throw Error(ne(174));return e}function qm(e,t){switch(zt(lc,t),zt(sc,e),zt(ja,eu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:l0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=l0(t,e)}Ht(ja),zt(ja,t)}function ps(){Ht(ja),Ht(sc),Ht(lc)}function Qk(e){ti(lc.current);var t=ti(ja.current),r=l0(t,e.type);t!==r&&(zt(sc,e),zt(ja,r))}function Zm(e){sc.current===e&&(Ht(ja),Ht(sc))}var er=To(0);function bf(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sp=[];function Qm(){for(var e=0;e<sp.length;e++)sp[e]._workInProgressVersionPrimary=null;sp.length=0}var Zu=eo.ReactCurrentDispatcher,lp=eo.ReactCurrentBatchConfig,gi=0,tr=null,kr=null,Mr=null,wf=!1,Bl=!1,cc=0,NA=0;function Wr(){throw Error(ne(321))}function Jm(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!fa(e[r],t[r]))return!1;return!0}function ey(e,t,r,n,a,o){if(gi=o,tr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zu.current=e===null||e.memoizedState===null?EA:TA,e=r(n,a),Bl){o=0;do{if(Bl=!1,cc=0,25<=o)throw Error(ne(301));o+=1,Mr=kr=null,t.updateQueue=null,Zu.current=$A,e=r(n,a)}while(Bl)}if(Zu.current=kf,t=kr!==null&&kr.next!==null,gi=0,Mr=kr=tr=null,wf=!1,t)throw Error(ne(300));return e}function ty(){var e=cc!==0;return cc=0,e}function xa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mr===null?tr.memoizedState=Mr=e:Mr=Mr.next=e,Mr}function qn(){if(kr===null){var e=tr.alternate;e=e!==null?e.memoizedState:null}else e=kr.next;var t=Mr===null?tr.memoizedState:Mr.next;if(t!==null)Mr=t,kr=e;else{if(e===null)throw Error(ne(310));kr=e,e={memoizedState:kr.memoizedState,baseState:kr.baseState,baseQueue:kr.baseQueue,queue:kr.queue,next:null},Mr===null?tr.memoizedState=Mr=e:Mr=Mr.next=e}return Mr}function uc(e,t){return typeof t=="function"?t(e):t}function cp(e){var t=qn(),r=t.queue;if(r===null)throw Error(ne(311));r.lastRenderedReducer=e;var n=kr,a=n.baseQueue,o=r.pending;if(o!==null){if(a!==null){var i=a.next;a.next=o.next,o.next=i}n.baseQueue=a=o,r.pending=null}if(a!==null){o=a.next,n=n.baseState;var s=i=null,l=null,c=o;do{var f=c.lane;if((gi&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=d,i=n):l=l.next=d,tr.lanes|=f,mi|=f}c=c.next}while(c!==null&&c!==o);l===null?i=n:l.next=s,fa(n,t.memoizedState)||(yn=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do o=a.lane,tr.lanes|=o,mi|=o,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function up(e){var t=qn(),r=t.queue;if(r===null)throw Error(ne(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,o=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do o=e(o,i.action),i=i.next;while(i!==a);fa(o,t.memoizedState)||(yn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function Jk(){}function eS(e,t){var r=tr,n=qn(),a=t(),o=!fa(n.memoizedState,a);if(o&&(n.memoizedState=a,yn=!0),n=n.queue,ry(nS.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Mr!==null&&Mr.memoizedState.tag&1){if(r.flags|=2048,fc(9,rS.bind(null,r,n,a,t),void 0,null),Cr===null)throw Error(ne(349));gi&30||tS(r,t,a)}return a}function tS(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=tr.updateQueue,t===null?(t={lastEffect:null,stores:null},tr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function rS(e,t,r,n){t.value=r,t.getSnapshot=n,aS(t)&&oS(e)}function nS(e,t,r){return r(function(){aS(t)&&oS(e)})}function aS(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!fa(e,r)}catch{return!0}}function oS(e){var t=Ya(e,1);t!==null&&ua(t,e,1,-1)}function fx(e){var t=xa();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uc,lastRenderedState:e},t.queue=e,e=e.dispatch=CA.bind(null,tr,e),[t.memoizedState,e]}function fc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=tr.updateQueue,t===null?(t={lastEffect:null,stores:null},tr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function iS(){return qn().memoizedState}function Qu(e,t,r,n){var a=xa();tr.flags|=e,a.memoizedState=fc(1|t,r,void 0,n===void 0?null:n)}function Bd(e,t,r,n){var a=qn();n=n===void 0?null:n;var o=void 0;if(kr!==null){var i=kr.memoizedState;if(o=i.destroy,n!==null&&Jm(n,i.deps)){a.memoizedState=fc(t,r,o,n);return}}tr.flags|=e,a.memoizedState=fc(1|t,r,o,n)}function dx(e,t){return Qu(8390656,8,e,t)}function ry(e,t){return Bd(2048,8,e,t)}function sS(e,t){return Bd(4,2,e,t)}function lS(e,t){return Bd(4,4,e,t)}function cS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function uS(e,t,r){return r=r!=null?r.concat([e]):null,Bd(4,4,cS.bind(null,t,e),r)}function ny(){}function fS(e,t){var r=qn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Jm(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function dS(e,t){var r=qn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Jm(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function hS(e,t,r){return gi&21?(fa(r,t)||(r=vk(),tr.lanes|=r,mi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,yn=!0),e.memoizedState=r)}function AA(e,t){var r=jt;jt=r!==0&&4>r?r:4,e(!0);var n=lp.transition;lp.transition={};try{e(!1),t()}finally{jt=r,lp.transition=n}}function pS(){return qn().memoizedState}function MA(e,t,r){var n=_o(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},gS(e))mS(t,r);else if(r=qk(e,t,r,n),r!==null){var a=fn();ua(r,e,n,a),yS(r,t,n)}}function CA(e,t,r){var n=_o(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(gS(e))mS(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,s=o(i,r);if(a.hasEagerState=!0,a.eagerState=s,fa(s,i)){var l=t.interleaved;l===null?(a.next=a,Xm(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=qk(e,t,a,n),r!==null&&(a=fn(),ua(r,e,n,a),yS(r,t,n))}}function gS(e){var t=e.alternate;return e===tr||t!==null&&t===tr}function mS(e,t){Bl=wf=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function yS(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,$m(e,r)}}var kf={readContext:Yn,useCallback:Wr,useContext:Wr,useEffect:Wr,useImperativeHandle:Wr,useInsertionEffect:Wr,useLayoutEffect:Wr,useMemo:Wr,useReducer:Wr,useRef:Wr,useState:Wr,useDebugValue:Wr,useDeferredValue:Wr,useTransition:Wr,useMutableSource:Wr,useSyncExternalStore:Wr,useId:Wr,unstable_isNewReconciler:!1},EA={readContext:Yn,useCallback:function(e,t){return xa().memoizedState=[e,t===void 0?null:t],e},useContext:Yn,useEffect:dx,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Qu(4194308,4,cS.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Qu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Qu(4,2,e,t)},useMemo:function(e,t){var r=xa();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=xa();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=MA.bind(null,tr,e),[n.memoizedState,e]},useRef:function(e){var t=xa();return e={current:e},t.memoizedState=e},useState:fx,useDebugValue:ny,useDeferredValue:function(e){return xa().memoizedState=e},useTransition:function(){var e=fx(!1),t=e[0];return e=AA.bind(null,e[1]),xa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=tr,a=xa();if(Yt){if(r===void 0)throw Error(ne(407));r=r()}else{if(r=t(),Cr===null)throw Error(ne(349));gi&30||tS(n,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,dx(nS.bind(null,n,o,e),[e]),n.flags|=2048,fc(9,rS.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=xa(),t=Cr.identifierPrefix;if(Yt){var r=Ia,n=La;r=(n&~(1<<32-ca(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=cc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=NA++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},TA={readContext:Yn,useCallback:fS,useContext:Yn,useEffect:ry,useImperativeHandle:uS,useInsertionEffect:sS,useLayoutEffect:lS,useMemo:dS,useReducer:cp,useRef:iS,useState:function(){return cp(uc)},useDebugValue:ny,useDeferredValue:function(e){var t=qn();return hS(t,kr.memoizedState,e)},useTransition:function(){var e=cp(uc)[0],t=qn().memoizedState;return[e,t]},useMutableSource:Jk,useSyncExternalStore:eS,useId:pS,unstable_isNewReconciler:!1},$A={readContext:Yn,useCallback:fS,useContext:Yn,useEffect:ry,useImperativeHandle:uS,useInsertionEffect:sS,useLayoutEffect:lS,useMemo:dS,useReducer:up,useRef:iS,useState:function(){return up(uc)},useDebugValue:ny,useDeferredValue:function(e){var t=qn();return kr===null?t.memoizedState=e:hS(t,kr.memoizedState,e)},useTransition:function(){var e=up(uc)[0],t=qn().memoizedState;return[e,t]},useMutableSource:Jk,useSyncExternalStore:eS,useId:pS,unstable_isNewReconciler:!1};function ra(e,t){if(e&&e.defaultProps){t=rr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function A0(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:rr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Fd={isMounted:function(e){return(e=e._reactInternals)?Pi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=fn(),a=_o(e),o=Wa(n,a);o.payload=t,r!=null&&(o.callback=r),t=Oo(e,o,a),t!==null&&(ua(t,e,a,n),qu(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=fn(),a=_o(e),o=Wa(n,a);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Oo(e,o,a),t!==null&&(ua(t,e,a,n),qu(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=fn(),n=_o(e),a=Wa(r,n);a.tag=2,t!=null&&(a.callback=t),t=Oo(e,a,n),t!==null&&(ua(t,e,n,r),qu(t,e,n))}};function hx(e,t,r,n,a,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!nc(r,n)||!nc(a,o):!0}function vS(e,t,r){var n=!1,a=Co,o=t.contextType;return typeof o=="object"&&o!==null?o=Yn(o):(a=bn(t)?hi:qr.current,n=t.contextTypes,o=(n=n!=null)?fs(e,a):Co),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Fd,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function px(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Fd.enqueueReplaceState(t,t.state,null)}function M0(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Ym(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=Yn(o):(o=bn(t)?hi:qr.current,a.context=fs(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(A0(e,t,o,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Fd.enqueueReplaceState(a,a.state,null),xf(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function gs(e,t){try{var r="",n=t;do r+=lN(n),n=n.return;while(n);var a=r}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function fp(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function C0(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var DA=typeof WeakMap=="function"?WeakMap:Map;function xS(e,t,r){r=Wa(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){jf||(jf=!0,z0=n),C0(e,t)},r}function bS(e,t,r){r=Wa(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){C0(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){C0(e,t),typeof n!="function"&&(Po===null?Po=new Set([this]):Po.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function gx(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new DA;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=YA.bind(null,e,t,r),t.then(e,e))}function mx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function yx(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Wa(-1,1),t.tag=2,Oo(r,t,1))),r.lanes|=1),e)}var RA=eo.ReactCurrentOwner,yn=!1;function ln(e,t,r,n){t.child=e===null?Yk(t,null,r,n):hs(t,e.child,r,n)}function vx(e,t,r,n,a){r=r.render;var o=t.ref;return os(t,a),n=ey(e,t,r,n,o,a),r=ty(),e!==null&&!yn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,qa(e,t,a)):(Yt&&r&&Wm(t),t.flags|=1,ln(e,t,n,a),t.child)}function xx(e,t,r,n,a){if(e===null){var o=r.type;return typeof o=="function"&&!fy(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,wS(e,t,o,n,a)):(e=rf(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:nc,r(i,n)&&e.ref===t.ref)return qa(e,t,a)}return t.flags|=1,e=No(o,n),e.ref=t.ref,e.return=t,t.child=e}function wS(e,t,r,n,a){if(e!==null){var o=e.memoizedProps;if(nc(o,n)&&e.ref===t.ref)if(yn=!1,t.pendingProps=n=o,(e.lanes&a)!==0)e.flags&131072&&(yn=!0);else return t.lanes=e.lanes,qa(e,t,a)}return E0(e,t,r,n,a)}function kS(e,t,r){var n=t.pendingProps,a=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},zt(Zi,_n),_n|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,zt(Zi,_n),_n|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,zt(Zi,_n),_n|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,zt(Zi,_n),_n|=n;return ln(e,t,a,r),t.child}function SS(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function E0(e,t,r,n,a){var o=bn(r)?hi:qr.current;return o=fs(t,o),os(t,a),r=ey(e,t,r,n,o,a),n=ty(),e!==null&&!yn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,qa(e,t,a)):(Yt&&n&&Wm(t),t.flags|=1,ln(e,t,r,a),t.child)}function bx(e,t,r,n,a){if(bn(r)){var o=!0;pf(t)}else o=!1;if(os(t,a),t.stateNode===null)Ju(e,t),vS(t,r,n),M0(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,s=t.memoizedProps;i.props=s;var l=i.context,c=r.contextType;typeof c=="object"&&c!==null?c=Yn(c):(c=bn(r)?hi:qr.current,c=fs(t,c));var f=r.getDerivedStateFromProps,d=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==n||l!==c)&&px(t,i,n,c),uo=!1;var h=t.memoizedState;i.state=h,xf(t,n,i,a),l=t.memoizedState,s!==n||h!==l||xn.current||uo?(typeof f=="function"&&(A0(t,r,f,n),l=t.memoizedState),(s=uo||hx(t,r,s,n,h,l,c))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),i.props=n,i.state=l,i.context=c,n=s):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Zk(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ra(t.type,s),i.props=c,d=t.pendingProps,h=i.context,l=r.contextType,typeof l=="object"&&l!==null?l=Yn(l):(l=bn(r)?hi:qr.current,l=fs(t,l));var p=r.getDerivedStateFromProps;(f=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==d||h!==l)&&px(t,i,n,l),uo=!1,h=t.memoizedState,i.state=h,xf(t,n,i,a);var m=t.memoizedState;s!==d||h!==m||xn.current||uo?(typeof p=="function"&&(A0(t,r,p,n),m=t.memoizedState),(c=uo||hx(t,r,c,n,h,m,l)||!1)?(f||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,m,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,m,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),i.props=n,i.state=m,i.context=l,n=c):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return T0(e,t,r,n,o,a)}function T0(e,t,r,n,a,o){SS(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&ox(t,r,!1),qa(e,t,o);n=t.stateNode,RA.current=t;var s=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=hs(t,e.child,null,o),t.child=hs(t,null,s,o)):ln(e,t,s,o),t.memoizedState=n.state,a&&ox(t,r,!0),t.child}function jS(e){var t=e.stateNode;t.pendingContext?ax(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ax(e,t.context,!1),qm(e,t.containerInfo)}function wx(e,t,r,n,a){return ds(),Gm(a),t.flags|=256,ln(e,t,r,n),t.child}var $0={dehydrated:null,treeContext:null,retryLane:0};function D0(e){return{baseLanes:e,cachePool:null,transitions:null}}function OS(e,t,r){var n=t.pendingProps,a=er.current,o=!1,i=(t.flags&128)!==0,s;if((s=i)||(s=e!==null&&e.memoizedState===null?!1:(a&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),zt(er,a&1),e===null)return _0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Ud(i,n,0,null),e=ci(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=D0(r),t.memoizedState=$0,e):ay(t,i));if(a=e.memoizedState,a!==null&&(s=a.dehydrated,s!==null))return LA(e,t,i,n,s,a,r);if(o){o=n.fallback,i=t.mode,a=e.child,s=a.sibling;var l={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=No(a,l),n.subtreeFlags=a.subtreeFlags&14680064),s!==null?o=No(s,o):(o=ci(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?D0(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=$0,n}return o=e.child,e=o.sibling,n=No(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function ay(e,t){return t=Ud({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Pu(e,t,r,n){return n!==null&&Gm(n),hs(t,e.child,null,r),e=ay(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function LA(e,t,r,n,a,o,i){if(r)return t.flags&256?(t.flags&=-257,n=fp(Error(ne(422))),Pu(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,a=t.mode,n=Ud({mode:"visible",children:n.children},a,0,null),o=ci(o,a,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&hs(t,e.child,null,i),t.child.memoizedState=D0(i),t.memoizedState=$0,o);if(!(t.mode&1))return Pu(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var s=n.dgst;return n=s,o=Error(ne(419)),n=fp(o,n,void 0),Pu(e,t,i,n)}if(s=(i&e.childLanes)!==0,yn||s){if(n=Cr,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,Ya(e,a),ua(n,e,a,-1))}return uy(),n=fp(Error(ne(421))),Pu(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=qA.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,Mn=jo(a.nextSibling),Cn=t,Yt=!0,ia=null,e!==null&&(Wn[Un++]=La,Wn[Un++]=Ia,Wn[Un++]=pi,La=e.id,Ia=e.overflow,pi=t),t=ay(t,n.children),t.flags|=4096,t)}function kx(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),N0(e.return,t,r)}function dp(e,t,r,n,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=a)}function PS(e,t,r){var n=t.pendingProps,a=n.revealOrder,o=n.tail;if(ln(e,t,n.children,r),n=er.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&kx(e,r,t);else if(e.tag===19)kx(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(zt(er,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&bf(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),dp(t,!1,a,r,o);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&bf(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}dp(t,!0,r,null,o);break;case"together":dp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ju(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qa(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),mi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ne(153));if(t.child!==null){for(e=t.child,r=No(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=No(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function IA(e,t,r){switch(t.tag){case 3:jS(t),ds();break;case 5:Qk(t);break;case 1:bn(t.type)&&pf(t);break;case 4:qm(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;zt(yf,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(zt(er,er.current&1),t.flags|=128,null):r&t.child.childLanes?OS(e,t,r):(zt(er,er.current&1),e=qa(e,t,r),e!==null?e.sibling:null);zt(er,er.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return PS(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),zt(er,er.current),n)break;return null;case 22:case 23:return t.lanes=0,kS(e,t,r)}return qa(e,t,r)}var _S,R0,NS,AS;_S=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};R0=function(){};NS=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,ti(ja.current);var o=null;switch(r){case"input":a=a0(e,a),n=a0(e,n),o=[];break;case"select":a=rr({},a,{value:void 0}),n=rr({},n,{value:void 0}),o=[];break;case"textarea":a=s0(e,a),n=s0(e,n),o=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=df)}c0(r,n);var i;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var s=a[c];for(i in s)s.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ql.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in n){var l=n[c];if(s=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(i in s)!s.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in l)l.hasOwnProperty(i)&&s[i]!==l[i]&&(r||(r={}),r[i]=l[i])}else r||(o||(o=[]),o.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ql.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Wt("scroll",e),o||s===l||(o=[])):(o=o||[]).push(c,l))}r&&(o=o||[]).push("style",r);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};AS=function(e,t,r,n){r!==n&&(t.flags|=4)};function yl(e,t){if(!Yt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ur(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function BA(e,t,r){var n=t.pendingProps;switch(Um(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ur(t),null;case 1:return bn(t.type)&&hf(),Ur(t),null;case 3:return n=t.stateNode,ps(),Ht(xn),Ht(qr),Qm(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ju(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ia!==null&&(G0(ia),ia=null))),R0(e,t),Ur(t),null;case 5:Zm(t);var a=ti(lc.current);if(r=t.type,e!==null&&t.stateNode!=null)NS(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ne(166));return Ur(t),null}if(e=ti(ja.current),ju(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[ba]=t,n[ic]=o,e=(t.mode&1)!==0,r){case"dialog":Wt("cancel",n),Wt("close",n);break;case"iframe":case"object":case"embed":Wt("load",n);break;case"video":case"audio":for(a=0;a<El.length;a++)Wt(El[a],n);break;case"source":Wt("error",n);break;case"img":case"image":case"link":Wt("error",n),Wt("load",n);break;case"details":Wt("toggle",n);break;case"input":Cv(n,o),Wt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Wt("invalid",n);break;case"textarea":Tv(n,o),Wt("invalid",n)}c0(r,o),a=null;for(var i in o)if(o.hasOwnProperty(i)){var s=o[i];i==="children"?typeof s=="string"?n.textContent!==s&&(o.suppressHydrationWarning!==!0&&Su(n.textContent,s,e),a=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Su(n.textContent,s,e),a=["children",""+s]):ql.hasOwnProperty(i)&&s!=null&&i==="onScroll"&&Wt("scroll",n)}switch(r){case"input":gu(n),Ev(n,o,!0);break;case"textarea":gu(n),$v(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=df)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=nk(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[ba]=t,e[ic]=n,_S(e,t,!1,!1),t.stateNode=e;e:{switch(i=u0(r,n),r){case"dialog":Wt("cancel",e),Wt("close",e),a=n;break;case"iframe":case"object":case"embed":Wt("load",e),a=n;break;case"video":case"audio":for(a=0;a<El.length;a++)Wt(El[a],e);a=n;break;case"source":Wt("error",e),a=n;break;case"img":case"image":case"link":Wt("error",e),Wt("load",e),a=n;break;case"details":Wt("toggle",e),a=n;break;case"input":Cv(e,n),a=a0(e,n),Wt("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=rr({},n,{value:void 0}),Wt("invalid",e);break;case"textarea":Tv(e,n),a=s0(e,n),Wt("invalid",e);break;default:a=n}c0(r,a),s=a;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?ik(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ak(e,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Zl(e,l):typeof l=="number"&&Zl(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ql.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Wt("scroll",e):l!=null&&Nm(e,o,l,i))}switch(r){case"input":gu(e),Ev(e,n,!1);break;case"textarea":gu(e),$v(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Mo(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?ts(e,!!n.multiple,o,!1):n.defaultValue!=null&&ts(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=df)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ur(t),null;case 6:if(e&&t.stateNode!=null)AS(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ne(166));if(r=ti(lc.current),ti(ja.current),ju(t)){if(n=t.stateNode,r=t.memoizedProps,n[ba]=t,(o=n.nodeValue!==r)&&(e=Cn,e!==null))switch(e.tag){case 3:Su(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Su(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ba]=t,t.stateNode=n}return Ur(t),null;case 13:if(Ht(er),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Yt&&Mn!==null&&t.mode&1&&!(t.flags&128))Kk(),ds(),t.flags|=98560,o=!1;else if(o=ju(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(ne(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ne(317));o[ba]=t}else ds(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ur(t),o=!1}else ia!==null&&(G0(ia),ia=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||er.current&1?Sr===0&&(Sr=3):uy())),t.updateQueue!==null&&(t.flags|=4),Ur(t),null);case 4:return ps(),R0(e,t),e===null&&ac(t.stateNode.containerInfo),Ur(t),null;case 10:return Km(t.type._context),Ur(t),null;case 17:return bn(t.type)&&hf(),Ur(t),null;case 19:if(Ht(er),o=t.memoizedState,o===null)return Ur(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)yl(o,!1);else{if(Sr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=bf(e),i!==null){for(t.flags|=128,yl(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return zt(er,er.current&1|2),t.child}e=e.sibling}o.tail!==null&&cr()>ms&&(t.flags|=128,n=!0,yl(o,!1),t.lanes=4194304)}else{if(!n)if(e=bf(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),yl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Yt)return Ur(t),null}else 2*cr()-o.renderingStartTime>ms&&r!==1073741824&&(t.flags|=128,n=!0,yl(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=cr(),t.sibling=null,r=er.current,zt(er,n?r&1|2:r&1),t):(Ur(t),null);case 22:case 23:return cy(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?_n&1073741824&&(Ur(t),t.subtreeFlags&6&&(t.flags|=8192)):Ur(t),null;case 24:return null;case 25:return null}throw Error(ne(156,t.tag))}function FA(e,t){switch(Um(t),t.tag){case 1:return bn(t.type)&&hf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ps(),Ht(xn),Ht(qr),Qm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Zm(t),null;case 13:if(Ht(er),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ne(340));ds()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ht(er),null;case 4:return ps(),null;case 10:return Km(t.type._context),null;case 22:case 23:return cy(),null;case 24:return null;default:return null}}var _u=!1,Vr=!1,zA=typeof WeakSet=="function"?WeakSet:Set,he=null;function qi(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){or(e,t,n)}else r.current=null}function L0(e,t,r){try{r()}catch(n){or(e,t,n)}}var Sx=!1;function WA(e,t){if(b0=cf,e=$k(),zm(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,s=-1,l=-1,c=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==r||a!==0&&d.nodeType!==3||(s=i+a),d!==o||n!==0&&d.nodeType!==3||(l=i+n),d.nodeType===3&&(i+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===r&&++c===a&&(s=i),h===o&&++f===n&&(l=i),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(w0={focusedElem:e,selectionRange:r},cf=!1,he=t;he!==null;)if(t=he,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,he=e;else for(;he!==null;){t=he;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,x=m.memoizedState,y=t.stateNode,g=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:ra(t.type,v),x);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(S){or(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,he=e;break}he=t.return}return m=Sx,Sx=!1,m}function Fl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&L0(t,r,o)}a=a.next}while(a!==n)}}function zd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function I0(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function MS(e){var t=e.alternate;t!==null&&(e.alternate=null,MS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ba],delete t[ic],delete t[j0],delete t[jA],delete t[OA])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function CS(e){return e.tag===5||e.tag===3||e.tag===4}function jx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||CS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function B0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=df));else if(n!==4&&(e=e.child,e!==null))for(B0(e,t,r),e=e.sibling;e!==null;)B0(e,t,r),e=e.sibling}function F0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(F0(e,t,r),e=e.sibling;e!==null;)F0(e,t,r),e=e.sibling}var Rr=null,na=!1;function so(e,t,r){for(r=r.child;r!==null;)ES(e,t,r),r=r.sibling}function ES(e,t,r){if(Sa&&typeof Sa.onCommitFiberUnmount=="function")try{Sa.onCommitFiberUnmount(Td,r)}catch{}switch(r.tag){case 5:Vr||qi(r,t);case 6:var n=Rr,a=na;Rr=null,so(e,t,r),Rr=n,na=a,Rr!==null&&(na?(e=Rr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Rr.removeChild(r.stateNode));break;case 18:Rr!==null&&(na?(e=Rr,r=r.stateNode,e.nodeType===8?op(e.parentNode,r):e.nodeType===1&&op(e,r),tc(e)):op(Rr,r.stateNode));break;case 4:n=Rr,a=na,Rr=r.stateNode.containerInfo,na=!0,so(e,t,r),Rr=n,na=a;break;case 0:case 11:case 14:case 15:if(!Vr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var o=a,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&L0(r,t,i),a=a.next}while(a!==n)}so(e,t,r);break;case 1:if(!Vr&&(qi(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){or(r,t,s)}so(e,t,r);break;case 21:so(e,t,r);break;case 22:r.mode&1?(Vr=(n=Vr)||r.memoizedState!==null,so(e,t,r),Vr=n):so(e,t,r);break;default:so(e,t,r)}}function Ox(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new zA),t.forEach(function(n){var a=ZA.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function ea(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var o=e,i=t,s=i;e:for(;s!==null;){switch(s.tag){case 5:Rr=s.stateNode,na=!1;break e;case 3:Rr=s.stateNode.containerInfo,na=!0;break e;case 4:Rr=s.stateNode.containerInfo,na=!0;break e}s=s.return}if(Rr===null)throw Error(ne(160));ES(o,i,a),Rr=null,na=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){or(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)TS(t,e),t=t.sibling}function TS(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ea(t,e),va(e),n&4){try{Fl(3,e,e.return),zd(3,e)}catch(v){or(e,e.return,v)}try{Fl(5,e,e.return)}catch(v){or(e,e.return,v)}}break;case 1:ea(t,e),va(e),n&512&&r!==null&&qi(r,r.return);break;case 5:if(ea(t,e),va(e),n&512&&r!==null&&qi(r,r.return),e.flags&32){var a=e.stateNode;try{Zl(a,"")}catch(v){or(e,e.return,v)}}if(n&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&tk(a,o),u0(s,i);var c=u0(s,o);for(i=0;i<l.length;i+=2){var f=l[i],d=l[i+1];f==="style"?ik(a,d):f==="dangerouslySetInnerHTML"?ak(a,d):f==="children"?Zl(a,d):Nm(a,f,d,c)}switch(s){case"input":o0(a,o);break;case"textarea":rk(a,o);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?ts(a,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?ts(a,!!o.multiple,o.defaultValue,!0):ts(a,!!o.multiple,o.multiple?[]:"",!1))}a[ic]=o}catch(v){or(e,e.return,v)}}break;case 6:if(ea(t,e),va(e),n&4){if(e.stateNode===null)throw Error(ne(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(v){or(e,e.return,v)}}break;case 3:if(ea(t,e),va(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{tc(t.containerInfo)}catch(v){or(e,e.return,v)}break;case 4:ea(t,e),va(e);break;case 13:ea(t,e),va(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(sy=cr())),n&4&&Ox(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(Vr=(c=Vr)||f,ea(t,e),Vr=c):ea(t,e),va(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!f&&e.mode&1)for(he=e,f=e.child;f!==null;){for(d=he=f;he!==null;){switch(h=he,p=h.child,h.tag){case 0:case 11:case 14:case 15:Fl(4,h,h.return);break;case 1:qi(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){or(n,r,v)}}break;case 5:qi(h,h.return);break;case 22:if(h.memoizedState!==null){_x(d);continue}}p!==null?(p.return=h,he=p):_x(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{a=d.stateNode,c?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=d.stateNode,l=d.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=ok("display",i))}catch(v){or(e,e.return,v)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){or(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ea(t,e),va(e),n&4&&Ox(e);break;case 21:break;default:ea(t,e),va(e)}}function va(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(CS(r)){var n=r;break e}r=r.return}throw Error(ne(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Zl(a,""),n.flags&=-33);var o=jx(e);F0(e,o,a);break;case 3:case 4:var i=n.stateNode.containerInfo,s=jx(e);B0(e,s,i);break;default:throw Error(ne(161))}}catch(l){or(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function UA(e,t,r){he=e,$S(e)}function $S(e,t,r){for(var n=(e.mode&1)!==0;he!==null;){var a=he,o=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||_u;if(!i){var s=a.alternate,l=s!==null&&s.memoizedState!==null||Vr;s=_u;var c=Vr;if(_u=i,(Vr=l)&&!c)for(he=a;he!==null;)i=he,l=i.child,i.tag===22&&i.memoizedState!==null?Nx(a):l!==null?(l.return=i,he=l):Nx(a);for(;o!==null;)he=o,$S(o),o=o.sibling;he=a,_u=s,Vr=c}Px(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,he=o):Px(e)}}function Px(e){for(;he!==null;){var t=he;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Vr||zd(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Vr)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:ra(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&ux(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}ux(t,i,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&tc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}Vr||t.flags&512&&I0(t)}catch(h){or(t,t.return,h)}}if(t===e){he=null;break}if(r=t.sibling,r!==null){r.return=t.return,he=r;break}he=t.return}}function _x(e){for(;he!==null;){var t=he;if(t===e){he=null;break}var r=t.sibling;if(r!==null){r.return=t.return,he=r;break}he=t.return}}function Nx(e){for(;he!==null;){var t=he;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{zd(4,t)}catch(l){or(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){or(t,a,l)}}var o=t.return;try{I0(t)}catch(l){or(t,o,l)}break;case 5:var i=t.return;try{I0(t)}catch(l){or(t,i,l)}}}catch(l){or(t,t.return,l)}if(t===e){he=null;break}var s=t.sibling;if(s!==null){s.return=t.return,he=s;break}he=t.return}}var GA=Math.ceil,Sf=eo.ReactCurrentDispatcher,oy=eo.ReactCurrentOwner,Kn=eo.ReactCurrentBatchConfig,ht=0,Cr=null,yr=null,Ir=0,_n=0,Zi=To(0),Sr=0,dc=null,mi=0,Wd=0,iy=0,zl=null,mn=null,sy=0,ms=1/0,Da=null,jf=!1,z0=null,Po=null,Nu=!1,yo=null,Of=0,Wl=0,W0=null,ef=-1,tf=0;function fn(){return ht&6?cr():ef!==-1?ef:ef=cr()}function _o(e){return e.mode&1?ht&2&&Ir!==0?Ir&-Ir:_A.transition!==null?(tf===0&&(tf=vk()),tf):(e=jt,e!==0||(e=window.event,e=e===void 0?16:Ok(e.type)),e):1}function ua(e,t,r,n){if(50<Wl)throw Wl=0,W0=null,Error(ne(185));Zc(e,r,n),(!(ht&2)||e!==Cr)&&(e===Cr&&(!(ht&2)&&(Wd|=r),Sr===4&&po(e,Ir)),wn(e,n),r===1&&ht===0&&!(t.mode&1)&&(ms=cr()+500,Id&&$o()))}function wn(e,t){var r=e.callbackNode;_N(e,t);var n=lf(e,e===Cr?Ir:0);if(n===0)r!==null&&Lv(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Lv(r),t===1)e.tag===0?PA(Ax.bind(null,e)):Gk(Ax.bind(null,e)),kA(function(){!(ht&6)&&$o()}),r=null;else{switch(xk(n)){case 1:r=Tm;break;case 4:r=mk;break;case 16:r=sf;break;case 536870912:r=yk;break;default:r=sf}r=WS(r,DS.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function DS(e,t){if(ef=-1,tf=0,ht&6)throw Error(ne(327));var r=e.callbackNode;if(is()&&e.callbackNode!==r)return null;var n=lf(e,e===Cr?Ir:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Pf(e,n);else{t=n;var a=ht;ht|=2;var o=LS();(Cr!==e||Ir!==t)&&(Da=null,ms=cr()+500,li(e,t));do try{KA();break}catch(s){RS(e,s)}while(!0);Vm(),Sf.current=o,ht=a,yr!==null?t=0:(Cr=null,Ir=0,t=Sr)}if(t!==0){if(t===2&&(a=g0(e),a!==0&&(n=a,t=U0(e,a))),t===1)throw r=dc,li(e,0),po(e,n),wn(e,cr()),r;if(t===6)po(e,n);else{if(a=e.current.alternate,!(n&30)&&!HA(a)&&(t=Pf(e,n),t===2&&(o=g0(e),o!==0&&(n=o,t=U0(e,o))),t===1))throw r=dc,li(e,0),po(e,n),wn(e,cr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(ne(345));case 2:Yo(e,mn,Da);break;case 3:if(po(e,n),(n&130023424)===n&&(t=sy+500-cr(),10<t)){if(lf(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){fn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=S0(Yo.bind(null,e,mn,Da),t);break}Yo(e,mn,Da);break;case 4:if(po(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-ca(n);o=1<<i,i=t[i],i>a&&(a=i),n&=~o}if(n=a,n=cr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*GA(n/1960))-n,10<n){e.timeoutHandle=S0(Yo.bind(null,e,mn,Da),n);break}Yo(e,mn,Da);break;case 5:Yo(e,mn,Da);break;default:throw Error(ne(329))}}}return wn(e,cr()),e.callbackNode===r?DS.bind(null,e):null}function U0(e,t){var r=zl;return e.current.memoizedState.isDehydrated&&(li(e,t).flags|=256),e=Pf(e,t),e!==2&&(t=mn,mn=r,t!==null&&G0(t)),e}function G0(e){mn===null?mn=e:mn.push.apply(mn,e)}function HA(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],o=a.getSnapshot;a=a.value;try{if(!fa(o(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function po(e,t){for(t&=~iy,t&=~Wd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ca(t),n=1<<r;e[r]=-1,t&=~n}}function Ax(e){if(ht&6)throw Error(ne(327));is();var t=lf(e,0);if(!(t&1))return wn(e,cr()),null;var r=Pf(e,t);if(e.tag!==0&&r===2){var n=g0(e);n!==0&&(t=n,r=U0(e,n))}if(r===1)throw r=dc,li(e,0),po(e,t),wn(e,cr()),r;if(r===6)throw Error(ne(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Yo(e,mn,Da),wn(e,cr()),null}function ly(e,t){var r=ht;ht|=1;try{return e(t)}finally{ht=r,ht===0&&(ms=cr()+500,Id&&$o())}}function yi(e){yo!==null&&yo.tag===0&&!(ht&6)&&is();var t=ht;ht|=1;var r=Kn.transition,n=jt;try{if(Kn.transition=null,jt=1,e)return e()}finally{jt=n,Kn.transition=r,ht=t,!(ht&6)&&$o()}}function cy(){_n=Zi.current,Ht(Zi)}function li(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,wA(r)),yr!==null)for(r=yr.return;r!==null;){var n=r;switch(Um(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&hf();break;case 3:ps(),Ht(xn),Ht(qr),Qm();break;case 5:Zm(n);break;case 4:ps();break;case 13:Ht(er);break;case 19:Ht(er);break;case 10:Km(n.type._context);break;case 22:case 23:cy()}r=r.return}if(Cr=e,yr=e=No(e.current,null),Ir=_n=t,Sr=0,dc=null,iy=Wd=mi=0,mn=zl=null,ei!==null){for(t=0;t<ei.length;t++)if(r=ei[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=a,n.next=i}r.pending=n}ei=null}return e}function RS(e,t){do{var r=yr;try{if(Vm(),Zu.current=kf,wf){for(var n=tr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}wf=!1}if(gi=0,Mr=kr=tr=null,Bl=!1,cc=0,oy.current=null,r===null||r.return===null){Sr=1,dc=t,yr=null;break}e:{var o=e,i=r.return,s=r,l=t;if(t=Ir,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,f=s,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=mx(i);if(p!==null){p.flags&=-257,yx(p,i,s,o,t),p.mode&1&&gx(o,c,t),t=p,l=c;var m=t.updateQueue;if(m===null){var v=new Set;v.add(l),t.updateQueue=v}else m.add(l);break e}else{if(!(t&1)){gx(o,c,t),uy();break e}l=Error(ne(426))}}else if(Yt&&s.mode&1){var x=mx(i);if(x!==null){!(x.flags&65536)&&(x.flags|=256),yx(x,i,s,o,t),Gm(gs(l,s));break e}}o=l=gs(l,s),Sr!==4&&(Sr=2),zl===null?zl=[o]:zl.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=xS(o,l,t);cx(o,y);break e;case 1:s=l;var g=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Po===null||!Po.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=bS(o,s,t);cx(o,S);break e}}o=o.return}while(o!==null)}BS(r)}catch(w){t=w,yr===r&&r!==null&&(yr=r=r.return);continue}break}while(!0)}function LS(){var e=Sf.current;return Sf.current=kf,e===null?kf:e}function uy(){(Sr===0||Sr===3||Sr===2)&&(Sr=4),Cr===null||!(mi&268435455)&&!(Wd&268435455)||po(Cr,Ir)}function Pf(e,t){var r=ht;ht|=2;var n=LS();(Cr!==e||Ir!==t)&&(Da=null,li(e,t));do try{VA();break}catch(a){RS(e,a)}while(!0);if(Vm(),ht=r,Sf.current=n,yr!==null)throw Error(ne(261));return Cr=null,Ir=0,Sr}function VA(){for(;yr!==null;)IS(yr)}function KA(){for(;yr!==null&&!vN();)IS(yr)}function IS(e){var t=zS(e.alternate,e,_n);e.memoizedProps=e.pendingProps,t===null?BS(e):yr=t,oy.current=null}function BS(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=FA(r,t),r!==null){r.flags&=32767,yr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Sr=6,yr=null;return}}else if(r=BA(r,t,_n),r!==null){yr=r;return}if(t=t.sibling,t!==null){yr=t;return}yr=t=e}while(t!==null);Sr===0&&(Sr=5)}function Yo(e,t,r){var n=jt,a=Kn.transition;try{Kn.transition=null,jt=1,XA(e,t,r,n)}finally{Kn.transition=a,jt=n}return null}function XA(e,t,r,n){do is();while(yo!==null);if(ht&6)throw Error(ne(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ne(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(NN(e,o),e===Cr&&(yr=Cr=null,Ir=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Nu||(Nu=!0,WS(sf,function(){return is(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Kn.transition,Kn.transition=null;var i=jt;jt=1;var s=ht;ht|=4,oy.current=null,WA(e,r),TS(r,e),pA(w0),cf=!!b0,w0=b0=null,e.current=r,UA(r),xN(),ht=s,jt=i,Kn.transition=o}else e.current=r;if(Nu&&(Nu=!1,yo=e,Of=a),o=e.pendingLanes,o===0&&(Po=null),kN(r.stateNode),wn(e,cr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(jf)throw jf=!1,e=z0,z0=null,e;return Of&1&&e.tag!==0&&is(),o=e.pendingLanes,o&1?e===W0?Wl++:(Wl=0,W0=e):Wl=0,$o(),null}function is(){if(yo!==null){var e=xk(Of),t=Kn.transition,r=jt;try{if(Kn.transition=null,jt=16>e?16:e,yo===null)var n=!1;else{if(e=yo,yo=null,Of=0,ht&6)throw Error(ne(331));var a=ht;for(ht|=4,he=e.current;he!==null;){var o=he,i=o.child;if(he.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(he=c;he!==null;){var f=he;switch(f.tag){case 0:case 11:case 15:Fl(8,f,o)}var d=f.child;if(d!==null)d.return=f,he=d;else for(;he!==null;){f=he;var h=f.sibling,p=f.return;if(MS(f),f===c){he=null;break}if(h!==null){h.return=p,he=h;break}he=p}}}var m=o.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}he=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,he=i;else e:for(;he!==null;){if(o=he,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Fl(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,he=y;break e}he=o.return}}var g=e.current;for(he=g;he!==null;){i=he;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,he=b;else e:for(i=g;he!==null;){if(s=he,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:zd(9,s)}}catch(w){or(s,s.return,w)}if(s===i){he=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,he=S;break e}he=s.return}}if(ht=a,$o(),Sa&&typeof Sa.onPostCommitFiberRoot=="function")try{Sa.onPostCommitFiberRoot(Td,e)}catch{}n=!0}return n}finally{jt=r,Kn.transition=t}}return!1}function Mx(e,t,r){t=gs(r,t),t=xS(e,t,1),e=Oo(e,t,1),t=fn(),e!==null&&(Zc(e,1,t),wn(e,t))}function or(e,t,r){if(e.tag===3)Mx(e,e,r);else for(;t!==null;){if(t.tag===3){Mx(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Po===null||!Po.has(n))){e=gs(r,e),e=bS(t,e,1),t=Oo(t,e,1),e=fn(),t!==null&&(Zc(t,1,e),wn(t,e));break}}t=t.return}}function YA(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=fn(),e.pingedLanes|=e.suspendedLanes&r,Cr===e&&(Ir&r)===r&&(Sr===4||Sr===3&&(Ir&130023424)===Ir&&500>cr()-sy?li(e,0):iy|=r),wn(e,t)}function FS(e,t){t===0&&(e.mode&1?(t=vu,vu<<=1,!(vu&130023424)&&(vu=4194304)):t=1);var r=fn();e=Ya(e,t),e!==null&&(Zc(e,t,r),wn(e,r))}function qA(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),FS(e,r)}function ZA(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ne(314))}n!==null&&n.delete(t),FS(e,r)}var zS;zS=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||xn.current)yn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return yn=!1,IA(e,t,r);yn=!!(e.flags&131072)}else yn=!1,Yt&&t.flags&1048576&&Hk(t,mf,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ju(e,t),e=t.pendingProps;var a=fs(t,qr.current);os(t,r),a=ey(null,t,n,e,a,r);var o=ty();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,bn(n)?(o=!0,pf(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Ym(t),a.updater=Fd,t.stateNode=a,a._reactInternals=t,M0(t,n,e,r),t=T0(null,t,n,!0,o,r)):(t.tag=0,Yt&&o&&Wm(t),ln(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ju(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=JA(n),e=ra(n,e),a){case 0:t=E0(null,t,n,e,r);break e;case 1:t=bx(null,t,n,e,r);break e;case 11:t=vx(null,t,n,e,r);break e;case 14:t=xx(null,t,n,ra(n.type,e),r);break e}throw Error(ne(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ra(n,a),E0(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ra(n,a),bx(e,t,n,a,r);case 3:e:{if(jS(t),e===null)throw Error(ne(387));n=t.pendingProps,o=t.memoizedState,a=o.element,Zk(e,t),xf(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=gs(Error(ne(423)),t),t=wx(e,t,n,r,a);break e}else if(n!==a){a=gs(Error(ne(424)),t),t=wx(e,t,n,r,a);break e}else for(Mn=jo(t.stateNode.containerInfo.firstChild),Cn=t,Yt=!0,ia=null,r=Yk(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ds(),n===a){t=qa(e,t,r);break e}ln(e,t,n,r)}t=t.child}return t;case 5:return Qk(t),e===null&&_0(t),n=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,i=a.children,k0(n,a)?i=null:o!==null&&k0(n,o)&&(t.flags|=32),SS(e,t),ln(e,t,i,r),t.child;case 6:return e===null&&_0(t),null;case 13:return OS(e,t,r);case 4:return qm(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=hs(t,null,n,r):ln(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ra(n,a),vx(e,t,n,a,r);case 7:return ln(e,t,t.pendingProps,r),t.child;case 8:return ln(e,t,t.pendingProps.children,r),t.child;case 12:return ln(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,zt(yf,n._currentValue),n._currentValue=i,o!==null)if(fa(o.value,i)){if(o.children===a.children&&!xn.current){t=qa(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){i=o.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=Wa(-1,r&-r),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),N0(o.return,r,t),s.lanes|=r;break}l=l.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(ne(341));i.lanes|=r,s=i.alternate,s!==null&&(s.lanes|=r),N0(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}ln(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,os(t,r),a=Yn(a),n=n(a),t.flags|=1,ln(e,t,n,r),t.child;case 14:return n=t.type,a=ra(n,t.pendingProps),a=ra(n.type,a),xx(e,t,n,a,r);case 15:return wS(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ra(n,a),Ju(e,t),t.tag=1,bn(n)?(e=!0,pf(t)):e=!1,os(t,r),vS(t,n,a),M0(t,n,a,r),T0(null,t,n,!0,e,r);case 19:return PS(e,t,r);case 22:return kS(e,t,r)}throw Error(ne(156,t.tag))};function WS(e,t){return gk(e,t)}function QA(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(e,t,r,n){return new QA(e,t,r,n)}function fy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function JA(e){if(typeof e=="function")return fy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Mm)return 11;if(e===Cm)return 14}return 2}function No(e,t){var r=e.alternate;return r===null?(r=Gn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function rf(e,t,r,n,a,o){var i=2;if(n=e,typeof e=="function")fy(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case zi:return ci(r.children,a,o,t);case Am:i=8,a|=8;break;case e0:return e=Gn(12,r,t,a|2),e.elementType=e0,e.lanes=o,e;case t0:return e=Gn(13,r,t,a),e.elementType=t0,e.lanes=o,e;case r0:return e=Gn(19,r,t,a),e.elementType=r0,e.lanes=o,e;case Q2:return Ud(r,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case q2:i=10;break e;case Z2:i=9;break e;case Mm:i=11;break e;case Cm:i=14;break e;case co:i=16,n=null;break e}throw Error(ne(130,e==null?e:typeof e,""))}return t=Gn(i,r,t,a),t.elementType=e,t.type=n,t.lanes=o,t}function ci(e,t,r,n){return e=Gn(7,e,n,t),e.lanes=r,e}function Ud(e,t,r,n){return e=Gn(22,e,n,t),e.elementType=Q2,e.lanes=r,e.stateNode={isHidden:!1},e}function hp(e,t,r){return e=Gn(6,e,null,t),e.lanes=r,e}function pp(e,t,r){return t=Gn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function eM(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xh(0),this.expirationTimes=Xh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xh(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function dy(e,t,r,n,a,o,i,s,l){return e=new eM(e,t,r,s,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Gn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ym(o),e}function tM(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function US(e){if(!e)return Co;e=e._reactInternals;e:{if(Pi(e)!==e||e.tag!==1)throw Error(ne(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(bn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ne(171))}if(e.tag===1){var r=e.type;if(bn(r))return Uk(e,r,t)}return t}function GS(e,t,r,n,a,o,i,s,l){return e=dy(r,n,!0,e,a,o,i,s,l),e.context=US(null),r=e.current,n=fn(),a=_o(r),o=Wa(n,a),o.callback=t??null,Oo(r,o,a),e.current.lanes=a,Zc(e,a,n),wn(e,n),e}function Gd(e,t,r,n){var a=t.current,o=fn(),i=_o(a);return r=US(r),t.context===null?t.context=r:t.pendingContext=r,t=Wa(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Oo(a,t,i),e!==null&&(ua(e,a,i,o),qu(e,a,i)),i}function _f(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Cx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function hy(e,t){Cx(e,t),(e=e.alternate)&&Cx(e,t)}function rM(){return null}var HS=typeof reportError=="function"?reportError:function(e){console.error(e)};function py(e){this._internalRoot=e}Hd.prototype.render=py.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ne(409));Gd(e,t,null,null)};Hd.prototype.unmount=py.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yi(function(){Gd(null,e,null,null)}),t[Xa]=null}};function Hd(e){this._internalRoot=e}Hd.prototype.unstable_scheduleHydration=function(e){if(e){var t=kk();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ho.length&&t!==0&&t<ho[r].priority;r++);ho.splice(r,0,e),r===0&&jk(e)}};function gy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Vd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ex(){}function nM(e,t,r,n,a){if(a){if(typeof n=="function"){var o=n;n=function(){var c=_f(i);o.call(c)}}var i=GS(t,n,e,0,null,!1,!1,"",Ex);return e._reactRootContainer=i,e[Xa]=i.current,ac(e.nodeType===8?e.parentNode:e),yi(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var s=n;n=function(){var c=_f(l);s.call(c)}}var l=dy(e,0,!1,null,null,!1,!1,"",Ex);return e._reactRootContainer=l,e[Xa]=l.current,ac(e.nodeType===8?e.parentNode:e),yi(function(){Gd(t,l,r,n)}),l}function Kd(e,t,r,n,a){var o=r._reactRootContainer;if(o){var i=o;if(typeof a=="function"){var s=a;a=function(){var l=_f(i);s.call(l)}}Gd(t,i,e,a)}else i=nM(r,t,e,a,n);return _f(i)}bk=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Cl(t.pendingLanes);r!==0&&($m(t,r|1),wn(t,cr()),!(ht&6)&&(ms=cr()+500,$o()))}break;case 13:yi(function(){var n=Ya(e,1);if(n!==null){var a=fn();ua(n,e,1,a)}}),hy(e,1)}};Dm=function(e){if(e.tag===13){var t=Ya(e,134217728);if(t!==null){var r=fn();ua(t,e,134217728,r)}hy(e,134217728)}};wk=function(e){if(e.tag===13){var t=_o(e),r=Ya(e,t);if(r!==null){var n=fn();ua(r,e,t,n)}hy(e,t)}};kk=function(){return jt};Sk=function(e,t){var r=jt;try{return jt=e,t()}finally{jt=r}};d0=function(e,t,r){switch(t){case"input":if(o0(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Ld(n);if(!a)throw Error(ne(90));ek(n),o0(n,a)}}}break;case"textarea":rk(e,r);break;case"select":t=r.value,t!=null&&ts(e,!!r.multiple,t,!1)}};ck=ly;uk=yi;var aM={usingClientEntryPoint:!1,Events:[Jc,Hi,Ld,sk,lk,ly]},vl={findFiberByHostInstance:Jo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},oM={bundleType:vl.bundleType,version:vl.version,rendererPackageName:vl.rendererPackageName,rendererConfig:vl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:eo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=hk(e),e===null?null:e.stateNode},findFiberByHostInstance:vl.findFiberByHostInstance||rM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Au.isDisabled&&Au.supportsFiber)try{Td=Au.inject(oM),Sa=Au}catch{}}Tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aM;Tn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gy(t))throw Error(ne(200));return tM(e,t,null,r)};Tn.createRoot=function(e,t){if(!gy(e))throw Error(ne(299));var r=!1,n="",a=HS;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=dy(e,1,!1,null,null,r,!1,n,a),e[Xa]=t.current,ac(e.nodeType===8?e.parentNode:e),new py(t)};Tn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ne(188)):(e=Object.keys(e).join(","),Error(ne(268,e)));return e=hk(t),e=e===null?null:e.stateNode,e};Tn.flushSync=function(e){return yi(e)};Tn.hydrate=function(e,t,r){if(!Vd(t))throw Error(ne(200));return Kd(null,e,t,!0,r)};Tn.hydrateRoot=function(e,t,r){if(!gy(e))throw Error(ne(405));var n=r!=null&&r.hydratedSources||null,a=!1,o="",i=HS;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=GS(t,null,e,1,r??null,a,!1,o,i),e[Xa]=t.current,ac(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Hd(t)};Tn.render=function(e,t,r){if(!Vd(t))throw Error(ne(200));return Kd(null,e,t,!1,r)};Tn.unmountComponentAtNode=function(e){if(!Vd(e))throw Error(ne(40));return e._reactRootContainer?(yi(function(){Kd(null,null,e,!1,function(){e._reactRootContainer=null,e[Xa]=null})}),!0):!1};Tn.unstable_batchedUpdates=ly;Tn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Vd(r))throw Error(ne(200));if(e==null||e._reactInternals===void 0)throw Error(ne(38));return Kd(e,t,r,!1,n)};Tn.version="18.3.1-next-f1338f8080-20240426";function VS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(VS)}catch(e){console.error(e)}}VS(),V2.exports=Tn;var iM=V2.exports,Tx=iM;Qp.createRoot=Tx.createRoot,Qp.hydrateRoot=Tx.hydrateRoot;const hc=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,confirmText:o="I know the risk and insist to continue",cancelText:i="Cancel"})=>e?u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-2xl shadow-2xl border border-amber-500/30 overflow-hidden transform transition-all scale-100",children:[u.jsxs("div",{className:"bg-amber-500/10 p-6 flex flex-col items-center justify-center border-b border-amber-500/20",children:[u.jsx("div",{className:"w-16 h-16 bg-amber-100 dark:bg-amber-900/30 rounded-full flex items-center justify-center mb-4",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-amber-600 dark:text-amber-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),u.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white text-center",children:n})]}),u.jsx("div",{className:"p-6",children:u.jsx("div",{className:"text-gray-600 dark:text-slate-300 text-center text-sm leading-relaxed",children:a})}),u.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800/50 flex gap-3 justify-end border-t border-gray-200 dark:border-slate-800",children:[u.jsx("button",{onClick:t,className:"px-4 py-2 bg-white hover:bg-gray-100 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-700 dark:text-slate-200 font-semibold rounded-lg border border-gray-300 dark:border-slate-600 transition-colors text-sm",children:i}),u.jsx("button",{onClick:r,className:"px-4 py-2 bg-amber-600 hover:bg-amber-700 text-white font-bold rounded-lg shadow-lg shadow-amber-500/20 transition-all active:scale-95 text-sm",children:o})]})]})}):null,sM=({onFileSelected:e,onGenerateFakeDng:t,fileName:r,hasGeneratedData:n,viewMode:a,onSetViewMode:o,patternPeriod:i,onPatternPeriodChange:s,fillFactor:l,onFillFactorChange:c,patternPhase:f,onPatternPhaseChange:d,showPatternControls:h,onOpenAbout:p,onShowExif:m,bridgeStatus:v,onBridgeClick:x,isDrLabOpen:y,onToggleDrLab:g,isFftLabOpen:b,onToggleFftLab:S,onGenerateTestPic:w,onPTCFilesSelected:k,onDownloadDng:j,isThreePlane:P,onOpenDatabase:_})=>{const A=O.useRef(null),N=O.useRef(null),[E,F]=O.useState(!1),[D,T]=O.useState(!1),[I,W]=O.useState(!1),[L,R]=O.useState(!1),[B,te]=O.useState("direct"),X=O.useRef(null),G=O.useRef(null);O.useEffect(()=>{const V=le=>{X.current&&!X.current.contains(le.target)&&W(!1),G.current&&!G.current.contains(le.target)&&R(!1)};return document.addEventListener("mousedown",V),()=>document.removeEventListener("mousedown",V)},[]);const U=V=>{var le;W(!1),V==="direct"?(te("direct"),F(!0)):!v.isConnected||!v.hasDngConverter?T(!0):(te("convert"),(le=A.current)==null||le.click())},ce=()=>{var V;F(!1),(V=A.current)==null||V.click()},ue=V=>{var ge;const le=(ge=V.target.files)==null?void 0:ge[0];le&&e(le,B),V.target.value=""},xe=V=>{V.target.files&&V.target.files.length>0&&k(V.target.files),V.target.value=""},ve=r==="pattern_test.dng"||(r==null?void 0:r.startsWith("Diff_"));return u.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-4 flex-shrink-0 relative z-50",children:[u.jsx(hc,{isOpen:E,onClose:()=>F(!1),onConfirm:ce,title:"Format Compatibility Warning",confirmText:"Continue",message:u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx("p",{className:"font-bold text-gray-800 dark:text-gray-200 text-base",children:"Adobe DNG ConverterDNG"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Only 4-channel DNG files output by Adobe DNG Converter are fully guaranteed to be supported."}),u.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700",children:[u.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-500 mb-1",children:"Download Adobe DNG Converter:"}),u.jsx("a",{href:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline text-xs break-all",children:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html"})]})]})}),u.jsx(hc,{isOpen:D,onClose:()=>T(!1),onConfirm:()=>T(!1),title:"DNG Converter Missing",confirmText:"OK",cancelText:"Cancel",message:u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx("p",{className:"font-bold text-red-600 dark:text-red-400 text-base",children:"JiangBridge Offline or Adobe DNG Converter not installed (you may have to restart your device after installing ADC to use it here)"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"To use the conversion feature, you must run JiangBridge locally and have Adobe DNG Converter installed on your system."}),u.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700",children:[u.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-500 mb-1",children:"Download Adobe DNG Converter:"}),u.jsx("a",{href:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline text-xs break-all",children:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html"})]})]})}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-500 to-blue-600 dark:from-cyan-400 dark:to-blue-500 text-center sm:text-left",children:"Jiangtherapee Online"}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 hidden lg:block max-w-xs truncate",title:r||"No image loaded",children:r||"No image loaded"}),P&&u.jsx("span",{className:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400 border border-red-200 dark:border-red-800 text-[10px] font-bold px-2 py-1 rounded animate-pulse",children:" 3-PLANE / RGB MODE"})]}),u.jsxs("div",{className:"flex items-center gap-4 flex-wrap justify-end",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{onClick:v.isConnected?void 0:x,className:`px-3 py-1.5 rounded-full text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-sm border ${v.isConnected?"bg-emerald-100 text-emerald-700 border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-400 dark:border-emerald-800 cursor-default":"bg-pink-100 text-pink-600 border-pink-200 dark:bg-pink-900/30 dark:text-pink-400 dark:border-pink-800 hover:bg-pink-200 dark:hover:bg-pink-900/50 cursor-pointer animate-pulse"}`,title:v.isConnected?"Local Bridge Service Connected":"Click to download Jiangbridge",children:[u.jsx("span",{className:`w-2 h-2 rounded-full ${v.isConnected?"bg-emerald-500":"bg-pink-500"}`}),v.isConnected?`JiangBridge Ready ${v.hasDngConverter?"DNG+":""}`:"JiangBridge Offline"]}),y&&u.jsxs("button",{onClick:g,className:"px-3 py-1.5 rounded-full text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-sm border bg-indigo-100 text-indigo-700 border-indigo-200 dark:bg-indigo-900/30 dark:text-indigo-400 dark:border-indigo-800 hover:bg-indigo-200 dark:hover:bg-indigo-900/50 cursor-pointer animate-in fade-in",title:"Click to turn off DR Lab",children:[u.jsx("span",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-pulse"}),"DR Lab On"]}),b&&u.jsxs("button",{onClick:S,className:"px-3 py-1.5 rounded-full text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-sm border bg-fuchsia-100 text-fuchsia-700 border-fuchsia-200 dark:bg-fuchsia-900/30 dark:text-fuchsia-400 dark:border-fuchsia-800 hover:bg-fuchsia-200 dark:hover:bg-fuchsia-900/50 cursor-pointer animate-in fade-in",title:"Click to turn off FFT Lab",children:[u.jsx("span",{className:"w-2 h-2 rounded-full bg-fuchsia-500 animate-pulse"}),"FFT Lab On"]}),n&&u.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-800 rounded-lg p-1 border border-gray-200 dark:border-slate-600 shadow-inner transition-colors duration-300",children:[u.jsx("button",{onClick:()=>o("reference"),className:`px-3 py-1.5 rounded-md text-xs sm:text-sm font-bold transition-all duration-200 ${a==="reference"?"bg-green-500 dark:bg-green-600 text-white shadow-md":"text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,title:"The perfect uniform input",children:"Perfect"}),u.jsx("button",{onClick:()=>o("sampled"),className:`px-3 py-1.5 rounded-md text-xs sm:text-sm font-bold transition-all duration-200 ${a==="sampled"?"bg-blue-500 dark:bg-blue-600 text-white shadow-md":"text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,title:"Sampled Sensor View with Aperture Visualization",children:"Sampled (Sensor)"}),u.jsx("button",{onClick:()=>o("processed"),className:`px-3 py-1.5 rounded-md text-xs sm:text-sm font-bold transition-all duration-200 ${a==="processed"?"bg-purple-500 dark:bg-purple-600 text-white shadow-md":"text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,title:"Demosaiced Result",children:"Result"})]})]}),ve&&u.jsxs("div",{className:"flex items-center gap-2 animate-in fade-in slide-in-from-right-4 duration-300",children:[h&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-50 dark:bg-slate-800/50 p-1.5 rounded-lg border border-gray-200 dark:border-slate-700 transition-colors duration-300",children:[u.jsx("span",{className:"text-[10px] text-gray-500 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Density (Period)"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"range",min:"0.1",max:"10",step:"0.1",value:i,onChange:V=>s(parseFloat(V.target.value)),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-purple-500",title:"Adjust the period of the line pairs in pixels"}),u.jsx("div",{className:"relative",children:u.jsx("input",{type:"number",min:"0.1",max:"100",step:"0.01",value:i,onChange:V=>{const le=parseFloat(V.target.value);isNaN(le)||s(le)},className:"w-16 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-xs font-mono text-purple-600 dark:text-purple-300 text-right focus:outline-none focus:border-purple-500 focus:ring-1 focus:ring-purple-500 transition-colors duration-300"})})]})]}),u.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-50 dark:bg-slate-800/50 p-1.5 rounded-lg border border-gray-200 dark:border-slate-700 transition-colors duration-300",children:[u.jsx("span",{className:"text-[10px] text-gray-500 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Phase"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:f,onChange:V=>d(parseFloat(V.target.value)),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-pink-500",title:"Shift pattern phase (0-1 cycle)"}),u.jsx("div",{className:"relative",children:u.jsx("input",{type:"number",min:"0",max:"1",step:"0.01",value:f,onChange:V=>{const le=parseFloat(V.target.value);isNaN(le)||d(le)},className:"w-12 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-xs font-mono text-pink-600 dark:text-pink-300 text-right focus:outline-none focus:border-pink-500 focus:ring-1 focus:ring-pink-500 transition-colors duration-300"})})]})]}),u.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-50 dark:bg-slate-800/50 p-1.5 rounded-lg border border-gray-200 dark:border-slate-700 transition-colors duration-300",children:[u.jsx("span",{className:"text-[10px] text-gray-500 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Fill Factor"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"range",min:"1",max:"100",step:"1",value:l*100,onChange:V=>c(parseInt(V.target.value)/100),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-green-500",title:"Adjust pixel aperture fill factor %"}),u.jsxs("div",{className:"relative flex items-center",children:[u.jsx("input",{type:"number",min:"1",max:"100",step:"1",value:Math.round(l*100),onChange:V=>{const le=parseInt(V.target.value);isNaN(le)||c(Math.min(100,Math.max(1,le))/100)},className:"w-12 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-xs font-mono text-green-600 dark:text-green-300 text-right focus:outline-none focus:border-green-500 focus:ring-1 focus:ring-green-500 transition-colors duration-300"}),u.jsx("span",{className:"ml-1 text-[10px] text-gray-400 dark:text-slate-500 font-mono",children:"%"})]})]})]})]}),u.jsxs("button",{onClick:j,className:`flex flex-col items-center justify-center p-2 rounded-lg transition-colors group ${r!=null&&r.startsWith("Diff_")?"bg-fuchsia-50 hover:bg-fuchsia-100 dark:bg-fuchsia-900/20 dark:hover:bg-fuchsia-900/40 border-fuchsia-200 dark:border-fuchsia-800":"bg-gray-50 hover:bg-gray-100 dark:bg-slate-800 dark:hover:bg-slate-700 border-gray-200 dark:border-slate-600"} border`,title:r!=null&&r.startsWith("Diff_")?"Export Subtracted Frame as DNG":"Download Synthetic DNG",children:[u.jsx("svg",{className:`w-5 h-5 ${r!=null&&r.startsWith("Diff_")?"text-fuchsia-500 group-hover:text-fuchsia-600":"text-gray-500 dark:text-slate-400 group-hover:text-cyan-600 dark:group-hover:text-cyan-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),u.jsx("span",{className:"text-[8px] font-bold uppercase mt-0.5 opacity-50",children:"DNG"})]})]}),u.jsx("input",{type:"file",ref:A,onChange:ue,className:"hidden",accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),u.jsx("input",{type:"file",ref:N,onChange:xe,className:"hidden",multiple:!0,accept:".csv"}),u.jsxs("div",{className:"relative inline-block text-left",ref:G,children:[u.jsxs("button",{onClick:()=>R(!L),className:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300 shadow-lg shadow-purple-500/30 text-sm whitespace-nowrap flex items-center gap-2",children:["TEST Tools",u.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${L?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),L&&u.jsx("div",{className:"absolute right-0 mt-2 w-56 rounded-xl bg-white dark:bg-slate-800 shadow-xl ring-1 ring-black ring-opacity-5 focus:outline-none z-50 overflow-hidden origin-top-right transition-all animate-in fade-in slide-in-from-top-2 border border-gray-200 dark:border-slate-700",children:u.jsxs("div",{className:"py-1",children:[u.jsxs("button",{onClick:()=>{R(!1),t()},className:"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[u.jsx("svg",{className:"w-4 h-4 text-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),u.jsx("span",{children:"Generate Pattern DNG"})]}),u.jsxs("button",{onClick:()=>{R(!1),y||g(),b&&S()},className:`w-full text-left px-4 py-3 text-sm transition-colors flex items-center gap-2 border-t border-gray-100 dark:border-slate-700 ${y?"bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 font-bold":"text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700"}`,children:[u.jsx("svg",{className:"w-4 h-4 text-indigo-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),u.jsxs("span",{children:["DR Lab ",y?"(On)":""]})]}),u.jsxs("button",{onClick:()=>{R(!1),b||S(),y&&g()},className:`w-full text-left px-4 py-3 text-sm transition-colors flex items-center gap-2 border-t border-gray-100 dark:border-slate-700 ${b?"bg-fuchsia-50 dark:bg-fuchsia-900/20 text-fuchsia-600 dark:text-fuchsia-400 font-bold":"text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700"}`,children:[u.jsx("svg",{className:"w-4 h-4 text-fuchsia-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),u.jsxs("span",{children:["FFT Lab ",b?"(On)":""]})]}),u.jsxs("button",{onClick:()=>{var V;R(!1),(V=N.current)==null||V.click()},className:"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2 border-t border-gray-100 dark:border-slate-700",children:[u.jsx("svg",{className:"w-4 h-4 text-emerald-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})}),u.jsx("span",{children:"Generate PTC & TargetSNR"})]})]})})]}),u.jsxs("div",{className:"relative inline-block text-left",ref:X,children:[u.jsxs("button",{onClick:()=>W(!I),className:"bg-cyan-500 hover:bg-cyan-600 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300 shadow-lg shadow-cyan-500/30 text-sm whitespace-nowrap flex items-center gap-2",children:["Load Image",u.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${I?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),I&&u.jsx("div",{className:"absolute right-0 mt-2 w-56 rounded-xl bg-white dark:bg-slate-800 shadow-xl ring-1 ring-black ring-opacity-5 focus:outline-none z-50 overflow-hidden origin-top-right transition-all animate-in fade-in slide-in-from-top-2 border border-gray-200 dark:border-slate-700",children:u.jsxs("div",{className:"py-1",children:[u.jsxs("button",{onClick:()=>U("direct"),className:"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[u.jsx("svg",{className:"w-4 h-4 text-cyan-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),u.jsx("span",{children:"Load Image (Direct)"})]}),u.jsxs("button",{onClick:()=>U("convert"),className:"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2 border-t border-gray-100 dark:border-slate-700",children:[u.jsx("svg",{className:"w-4 h-4 text-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),u.jsx("span",{children:"Convert to Adobe DNG & Load"})]})]})})]}),r&&m&&u.jsxs("button",{onClick:m,className:"bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300 shadow-lg shadow-orange-500/30 text-sm whitespace-nowrap flex items-center gap-1",title:"View EXIF Data",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"EXIF"]}),u.jsx("button",{onClick:p,className:"bg-teal-600 hover:bg-teal-700 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300 shadow-lg shadow-teal-500/30 text-sm whitespace-nowrap",children:"About/Tutorial/Tools"}),u.jsx("a",{href:"https://y-g-jiang.github.io/index.html",target:"_blank",rel:"noopener noreferrer",className:"bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-700 dark:text-slate-100 font-semibold py-2 px-4 rounded-lg transition-colors duration-300 text-sm",children:"Home"})]})]})},lM=({image:e,zoom:t,pan:r,onPanChange:n,onZoomChange:a,onSelectionChange:o,forcedSelection:i,theme:s,touchAction:l="pan",isMarking:c=!1,onPointClick:f,markers:d=[],gridRects:h=[]})=>{var X;const p=O.useRef(null),m=O.useRef(document.createElement("canvas")),[v,x]=O.useState(!1),[y,g]=O.useState({x:0,y:0}),b=O.useRef(null),S=O.useRef(null),w=O.useRef(null),[k,j]=O.useState(!1),[P,_]=O.useState(null),[A,N]=O.useState(null);O.useEffect(()=>{i!==void 0&&N(i)},[i]);const E=O.useCallback(()=>{const G=p.current,U=G==null?void 0:G.getContext("2d");return{canvas:G,ctx:U}},[]);O.useEffect(()=>{const G=m.current,U=G.getContext("2d");if(!e||!U)return;let ce=0,ue=0;e instanceof ImageData?(ce=e.width,ue=e.height):e instanceof HTMLImageElement&&(ce=e.naturalWidth,ue=e.naturalHeight),!(ce===0||ue===0)&&((G.width!==ce||G.height!==ue)&&(G.width=ce,G.height=ue),e instanceof ImageData?U.putImageData(e,0,0):(U.clearRect(0,0,ce,ue),U.drawImage(e,0,0)))},[e]);const F=O.useCallback(()=>{const{canvas:G,ctx:U}=E();if(!(!G||!U||!e)){if(U.setTransform(1,0,0,1,0,0),U.fillStyle=s==="dark"?"rgb(15, 23, 42)":"rgb(243, 244, 246)",U.fillRect(0,0,G.width,G.height),U.setTransform(t,0,0,t,r.x,r.y),m.current.width>0&&(U.imageSmoothingEnabled=!1,U.drawImage(m.current,0,0)),A){U.strokeStyle="#06b6d4",U.lineWidth=1/t,U.fillStyle="rgba(6, 182, 212, 0.2)",U.beginPath(),U.rect(A.x,A.y,A.w,A.h),U.fill(),U.stroke(),U.save(),U.fillStyle="#fff";const ce=Math.max(10,14/t);U.font=`${ce}px monospace`,U.shadowColor="rgba(0,0,0,0.8)",U.shadowBlur=4,U.shadowOffsetX=1,U.shadowOffsetY=1,U.fillText(`${Math.round(A.w)}x${Math.round(A.h)}`,A.x,A.y-5/t),U.restore()}if(h&&h.length>0){U.save(),U.strokeStyle="#f59e0b",U.lineWidth=1/t,U.globalAlpha=.8,U.beginPath(),h.forEach(xe=>{U.rect(xe.x,xe.y,xe.w,xe.h)}),U.stroke();const ce=h[0];U.fillStyle="#f59e0b";const ue=Math.max(10,12/t);U.font=`${ue}px monospace`,U.fillText(`${ce.w}x${ce.h}`,ce.x,ce.y-4/t),U.restore()}if(d&&d.length>0){U.save();const ce=6/t,ue=Math.max(12,16/t);U.font=`bold ${ue}px sans-serif`,U.textAlign="center",U.textBaseline="middle",d.forEach((xe,ve)=>{U.beginPath(),U.arc(xe.x,xe.y,ce,0,2*Math.PI),U.fillStyle="white",U.fill(),U.strokeStyle="#4338ca",U.lineWidth=2/t,U.stroke(),U.fillStyle="#4338ca",U.fillText((ve+1).toString(),xe.x,xe.y-12/t)}),U.restore()}}},[E,e,t,r,s,A,d,h]);O.useEffect(()=>{const{canvas:G}=E();if(!G)return;const U=new ResizeObserver(()=>{G.width=G.clientWidth,G.height=G.clientHeight,F()});return U.observe(G),()=>U.disconnect()},[E,F]),O.useEffect(()=>{F()},[F,e,r,t,s,A,d,h]);const D=G=>{const{canvas:U}=E();if(!U)return{x:0,y:0};const ce=U.getBoundingClientRect();return{x:G.clientX-ce.left,y:G.clientY-ce.top}},T=(G,U)=>({x:(G-r.x)/t,y:(U-r.y)/t}),I=G=>{G.preventDefault();const U=D(G);if(c){const ce=T(U.x,U.y);f&&f(ce);return}if(G.shiftKey||l==="select"){j(!0);const ce=T(U.x,U.y),ue={x:Math.floor(ce.x),y:Math.floor(ce.y)};_(ue),N(null),o&&o(null)}else x(!0),g({x:U.x-r.x,y:U.y-r.y})},W=G=>{const U=D(G);if(k&&P){const ce=T(U.x,U.y),ue=Math.floor(ce.x),xe=Math.floor(ce.y),ve=Math.min(P.x,ue),V=Math.min(P.y,xe),le=Math.max(P.x,ue),ge=Math.max(P.y,xe),Z=le-ve+1,Xe=ge-V+1;N({x:ve,y:V,w:Z,h:Xe})}else v&&n({x:U.x-y.x,y:U.y-y.y})},L=()=>{k&&(j(!1),A&&o&&A.w>0&&A.h>0&&o(A)),x(!1)},R=G=>{var U;if(G.touches.length===1){const ce=G.touches[0],ue=(U=p.current)==null?void 0:U.getBoundingClientRect();if(!ue)return;const xe=ce.clientX-ue.left,ve=ce.clientY-ue.top;if(c){const V=T(xe,ve);f&&f(V);return}if(l==="select"){const V=T(xe,ve),le={x:Math.floor(V.x),y:Math.floor(V.y)};_(le),j(!0),N(null),o&&o(null)}else w.current={x:xe,y:ve},g({x:xe-r.x,y:ve-r.y}),x(!0)}else if(G.touches.length===2){const ce=Math.hypot(G.touches[0].clientX-G.touches[1].clientX,G.touches[0].clientY-G.touches[1].clientY);b.current=ce,S.current=t,x(!1),j(!1)}},B=G=>{var U;if(G.touches.length===1){const ce=G.touches[0],ue=(U=p.current)==null?void 0:U.getBoundingClientRect();if(!ue)return;const xe=ce.clientX-ue.left,ve=ce.clientY-ue.top;if(c)return;if(k&&P){const V=T(xe,ve),le=Math.floor(V.x),ge=Math.floor(V.y),Z=Math.min(P.x,le),Xe=Math.min(P.y,ge),je=Math.max(P.x,le),We=Math.max(P.y,ge),rt=je-Z+1,bt=We-Xe+1;N({x:Z,y:Xe,w:rt,h:bt})}else v&&n({x:xe-y.x,y:ve-y.y})}else if(G.touches.length===2&&b.current&&S.current&&a){const ue=Math.hypot(G.touches[0].clientX-G.touches[1].clientX,G.touches[0].clientY-G.touches[1].clientY)/b.current;a(S.current*ue)}},te=()=>{k&&(j(!1),A&&o&&A.w>0&&A.h>0&&o(A)),x(!1),b.current=null,S.current=null,w.current=null};return u.jsx("canvas",{ref:p,className:`w-full h-full block touch-none ${c||k||(X=window.event)!=null&&X.shiftKey||l==="select"?"cursor-crosshair":"cursor-grab active:cursor-grabbing"}`,onMouseDown:I,onMouseMove:W,onMouseUp:L,onMouseLeave:L,onTouchStart:R,onTouchMove:B,onTouchEnd:te,onTouchCancel:te,tabIndex:0})},Mu=({title:e,children:t})=>u.jsxs("div",{className:"border-b border-gray-200 dark:border-slate-700 transition-colors duration-300",children:[u.jsx("div",{className:"p-4 font-semibold text-gray-800 dark:text-slate-200 bg-gray-50 dark:bg-slate-800/30 border-b border-gray-200 dark:border-slate-800 select-none cursor-default transition-colors duration-300",children:u.jsx("span",{children:e})}),u.jsx("div",{className:"p-4 bg-white dark:bg-slate-900/50 transition-colors duration-300",children:t})]}),cM=[{value:-1,label:"Raw Bayer (Grayscale)"},{value:0,label:"Linear interpolation"},{value:1,label:"VNG (Variable Number of Gradients)"},{value:2,label:"PPG (Patterned Pixel Grouping)"},{value:3,label:"AHD (Adaptive Homogeneity-Directed)"},{value:4,label:"DCB (Demosaicing with Color Back-refinement)"},{value:11,label:"DHT (Modified AHD)"},{value:12,label:"AAHD (Adaptive AHD)"}],$x=({checked:e,onChange:t,label:r})=>u.jsxs("div",{className:"flex items-center justify-between py-2 cursor-pointer group",onClick:()=>t(!e),children:[u.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-slate-300 select-none group-hover:text-gray-900 dark:group-hover:text-slate-200 transition-colors",children:r}),u.jsx("div",{className:`relative w-11 h-6 rounded-full transition-colors duration-200 ease-in-out ${e?"bg-cyan-500 dark:bg-cyan-600":"bg-gray-300 dark:bg-slate-600 group-hover:bg-gray-400 dark:group-hover:bg-slate-500"}`,children:u.jsx("div",{className:`absolute left-1 top-1 bg-white w-4 h-4 rounded-full shadow-md transform transition-transform duration-200 ease-in-out ${e?"translate-x-5":"translate-x-0"}`})})]}),gp=(e,t)=>{if(!e)return null;if(t){const r=e.bayerPattern.toUpperCase(),n=l=>{const c=[];for(let f=0;f<4;f++)r[f]===l&&c.push(f);return c},a=t.BlackLevelRed,o=t.BlackLevelGreen,i=t.BlackLevelBlue;if(a!==void 0&&o!==void 0&&i!==void 0){const l=parseFloat(a),c=parseFloat(o),f=parseFloat(i);if(!isNaN(l)&&!isNaN(c)&&!isNaN(f)){const d=[0,0,0,0];return d.fill(c),n("R").forEach(h=>d[h]=l),n("G").forEach(h=>d[h]=c),n("B").forEach(h=>d[h]=f),d}}let s=t.BlackLevel;if(s===void 0&&(s=t.BlackLevel2),s!==void 0){let l=[];if(Array.isArray(s)?l=s.map(Number):typeof s=="string"?l=s.trim().split(/\s+/).map(Number):typeof s=="number"&&(l=[s,s,s,s]),l.length===1&&!isNaN(l[0])&&(l=[l[0],l[0],l[0],l[0]]),l.length>=4&&!l.slice(0,4).some(isNaN))return[l[0],l[1],l[2],l[3]]}}return e.blackLevels&&e.blackLevels.length===4?[e.blackLevels[0],e.blackLevels[1],e.blackLevels[2],e.blackLevels[3]]:null},uM=e=>{const{rawImageData:t,displaySettings:r,onApplyDisplaySettings:n,onSetSelection:a,exifData:o,isBridgeConnected:i,isDrLabOpen:s,drMarkingStep:l,onStartMarking:c,onGenerateTestPic:f,drRoiSize:d,onDrRoiSizeChange:h,drGridRows:p,onDrGridRowsChange:m,drGridCols:v,onDrGridColsChange:x,onBatchDrLab:y,hasDrMarkers:g,isFftLabOpen:b,onProcessPair:S,onProcessBatchDiff:w,onProcessStackFft:k,onOpenCrossCalc:j,isThreePlane:P}=e,[_,A]=O.useState(r.exposure.toString()),[N,E]=O.useState(""),[F,D]=O.useState("0 0 0 0"),[T,I]=O.useState("1.0"),[W,L]=O.useState("1.0"),[R,B]=O.useState(r.demosaicMethod),[te,X]=O.useState(!!r.showKadc),[G,U]=O.useState(!!r.subtractBlackLevelFromStats),[ce,ue]=O.useState("64"),[xe,ve]=O.useState(!1),[V,le]=O.useState(!1),[ge,Z]=O.useState(!1),[Xe,je]=O.useState("single"),We=O.useRef(null),rt=O.useRef(null),bt=O.useRef(null),Zt=O.useRef(null),[$t,Tr]=O.useState(null),[nt,sr]=O.useState(null),[Qt,Fr]=O.useState(!1),[Vt,Dn]=O.useState(!0),Kt=O.useRef(null),fr=O.useRef(null),dr=O.useRef(!1),nr=O.useRef(null);O.useEffect(()=>{t!==nr.current&&(dr.current=!1,nr.current=t)},[t]),O.useEffect(()=>{if(i&&t&&!dr.current){dr.current=!0;const K=gp(t,o),$e=K&&K.some(Nt=>Nt>0);if(K&&$e){ve(!0);const Nt={...r,blackLevel:K,showKadc:!0,subtractBlackLevelFromStats:!0,exposure:r.exposure,wbGains:r.wbGains||[1,1],demosaicMethod:r.demosaicMethod,renderMode:"standard"};n(Nt)}}},[i,t,o,r,n]),O.useEffect(()=>{if(A(r.exposure.toString()),r.customMatrix?(E(r.customMatrix.join(" ")),ve(!0)):E(""),r.blackLevel&&r.blackLevel.length===4)D(r.blackLevel.join(" "));else{const K=gp(t,o);D(K?K.join(" "):"0 0 0 0")}I(r.wbGains?r.wbGains[0].toString():"1.0"),L(r.wbGains?r.wbGains[1].toString():"1.0"),B(r.demosaicMethod),X(!!r.showKadc),U(!!r.subtractBlackLevelFromStats)},[r,t,o]);const lr=K=>{A(K)},Pt=K=>I(K),Ke=K=>L(K),Dt=K=>{B(parseInt(K.target.value,10))},Jt=K=>{E(K.target.value)},hr=()=>{A("0"),B(3),I("1.0"),L("1.0"),X(!0),U(!0),E(""),ve(!1);const K=gp(t,o);D(K?K.join(" "):"0 0 0 0")},Zr=()=>{!t||!a||a({x:0,y:0,w:t.width,h:t.height})},jn=()=>{if(!t||!a)return;const K=parseInt(ce,10);if(isNaN(K)||K<=0)return;const $e=Math.min(K,t.width),Nt=Math.min(K,t.height),Qe=Math.floor((t.width-$e)/2),ee=Math.floor((t.height-Nt)/2);a({x:Qe,y:ee,w:$e,h:Nt})},Xt=()=>{const $e=F.split(/[\s,]+/).filter(Nt=>Nt.trim()!=="").map(Number);if($e.length===1&&!isNaN($e[0]))return[$e[0],$e[0],$e[0],$e[0]];if($e.length>=4&&!$e.slice(0,4).some(isNaN))return[$e[0],$e[1],$e[2],$e[3]]},Qr=()=>{const K={...r},$e=parseFloat(_);isNaN($e)||(K.exposure=$e);const Nt=parseFloat(T),Qe=parseFloat(W);if(!isNaN(Nt)&&!isNaN(Qe)&&(K.wbGains=[Nt,Qe]),K.demosaicMethod=R,K.renderMode="standard",xe){const ee=Xt();ee&&(K.blackLevel=ee);const fe=N.trim().replace(/[\s,\n]+/g," ");if(fe){const ot=fe.split(" ").map(Number);ot.length===9&&!ot.some(isNaN)?K.customMatrix=ot:alert("Invalid matrix format. Please ensure exactly 9 numeric values (3x3).")}else delete K.customMatrix;K.showKadc=te,K.subtractBlackLevelFromStats=G}else delete K.customMatrix,delete K.blackLevel,delete K.showKadc,delete K.subtractBlackLevelFromStats;n(K)},at=()=>{const K={...r},$e=Xt();$e&&(K.blackLevel=$e);const Nt=parseFloat(_);isNaN(Nt)||(K.exposure=Nt),K.renderMode="zero-dependency",n(K)},_r=K=>{K.target.files&&K.target.files.length>0&&y&&y(K.target.files,Xe),K.target.value="",Z(!1)},xr=async K=>{var Nt;const $e=(Nt=K.target.files)==null?void 0:Nt[0];if($e){try{const ee=(await $e.text()).split(`
`),fe=[];fe.push("#BlackLevel: 0,0,0,0"),fe.push("#ImageHeight: 0"),fe.push("Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std");let ot=1;for(let Rt=0;Rt<ee.length;Rt++){const Lt=ee[Rt].trim();if(!Lt||Lt.includes("R_mean")||Lt.includes("R_std"))continue;const Me=Lt.split(/\s+/).map(Number);if(Me.length<8||Me.some(isNaN))continue;const wt=Me[0],it=Me[1],ft=Me[2],Je=Me[3],nn=Me[4],De=Me[5],de=Me[6],zr=Me[7],ma=[ot,1,wt,ft,de,nn,it,Je,zr,De].join(",");fe.push(ma),ot++}const Ct=new Blob([fe.join(`
`)],{type:"text/csv"}),Ue=URL.createObjectURL(Ct),He=document.createElement("a");He.href=Ue,He.download=$e.name.replace(/\.[^/.]+$/,"")+"_converted.csv",document.body.appendChild(He),He.click(),document.body.removeChild(He),URL.revokeObjectURL(Ue)}catch(Qe){console.error("Conversion failed",Qe),alert("Failed to convert file. Check format.")}K.target.value=""}},Jr=K=>{K.target.files&&K.target.files[0]&&Tr(K.target.files[0])},en=K=>{K.target.files&&K.target.files[0]&&sr(K.target.files[0])},tn=()=>{$t&&nt&&S&&S($t,nt,Qt,Vt)},rn=K=>{K.target.files&&K.target.files.length>0&&w&&w(K.target.files),K.target.value=""},Rn=K=>{K.target.files&&K.target.files.length>0&&k&&k(K.target.files),K.target.value=""},_t=!!t;return u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsxs("div",{className:"flex-grow overflow-y-auto",children:[P&&u.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-3 border-b border-red-100 dark:border-red-800 text-center animate-pulse",children:[u.jsx("p",{className:"text-xs font-bold text-red-600 dark:text-red-400 uppercase tracking-wide",children:" 3-Plane / Full Color"}),u.jsx("p",{className:"text-[10px] text-red-500/80 dark:text-red-300/70 mt-1",children:"Demosaic disabled. Stats analysis treated as pseudo-Bayer."})]}),b&&u.jsx(Mu,{title:"FFT Lab (Noise Profile)",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"space-y-3 bg-gray-50 dark:bg-slate-800/40 p-3 rounded-xl border border-gray-100 dark:border-slate-800",children:[u.jsxs("h4",{className:"text-[10px] font-bold text-fuchsia-600 dark:text-fuchsia-400 uppercase tracking-widest flex items-center gap-2",children:[u.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-fuchsia-500"}),"1. Pair Difference (Sub)"]}),u.jsx("p",{className:"text-[10px] text-gray-500 dark:text-slate-400",children:"Subtraction between two shots to analyze FPN or Temporal Noise."}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("input",{type:"file",ref:We,className:"hidden",onChange:Jr,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),u.jsx("button",{onClick:()=>{var K;return(K=We.current)==null?void 0:K.click()},className:`w-full py-2 px-3 rounded-lg border text-[10px] font-bold text-left truncate transition-colors ${$t?"bg-fuchsia-50 dark:bg-fuchsia-900/20 border-fuchsia-300 dark:border-fuchsia-800 text-fuchsia-700 dark:text-fuchsia-300":"bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-600 text-gray-500 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:$t?`A: ${$t.name}`:"Load Image A"}),u.jsx("input",{type:"file",ref:rt,className:"hidden",onChange:en,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),u.jsx("button",{onClick:()=>{var K;return(K=rt.current)==null?void 0:K.click()},className:`w-full py-2 px-3 rounded-lg border text-[10px] font-bold text-left truncate transition-colors ${nt?"bg-fuchsia-50 dark:bg-fuchsia-900/20 border-fuchsia-300 dark:border-fuchsia-800 text-fuchsia-700 dark:text-fuchsia-300":"bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-600 text-gray-500 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:nt?`B: ${nt.name}`:"Load Image B"})]}),u.jsx("div",{className:"flex flex-col gap-1.5 pt-1",children:u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:Vt,onChange:K=>Dn(K.target.checked),className:"w-3 h-3 text-fuchsia-600 border-gray-300 rounded focus:ring-0"}),u.jsx("span",{className:"text-[10px] text-gray-600 dark:text-slate-300",children:"Normalize (2)"})]})}),u.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[u.jsx("button",{onClick:tn,disabled:!$t||!nt,className:"w-full bg-fuchsia-600 hover:bg-fuchsia-500 disabled:opacity-30 text-white font-bold py-2 rounded shadow transition-all active:scale-95 text-[10px]",children:"Generate Diff & Load"}),u.jsx("input",{type:"file",ref:bt,className:"hidden",multiple:!0,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff",onChange:rn}),u.jsxs("button",{onClick:()=>{var K;return(K=bt.current)==null?void 0:K.click()},className:"w-full bg-slate-700 hover:bg-slate-600 text-white font-bold py-2 rounded shadow transition-all active:scale-95 text-[10px] flex items-center justify-center gap-1",children:[u.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Batch Diffs (Auto Download)"]})]})]}),u.jsxs("div",{className:"space-y-3 bg-gray-50 dark:bg-slate-800/40 p-3 rounded-xl border border-gray-100 dark:border-slate-800",children:[u.jsxs("h4",{className:"text-[10px] font-bold text-cyan-600 dark:text-cyan-400 uppercase tracking-widest flex items-center gap-2",children:[u.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-cyan-500"}),"2. Stack FFT (Avg PSD)"]}),u.jsx("p",{className:"text-[10px] text-gray-500 dark:text-slate-400",children:"Average Power Spectrum across a sequence for precise single-frame noise floor."}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("input",{type:"file",ref:Zt,className:"hidden",multiple:!0,onChange:Rn,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),u.jsxs("button",{onClick:()=>{var K;return(K=Zt.current)==null?void 0:K.click()},className:"w-full py-3 bg-cyan-600 hover:bg-cyan-500 text-white font-bold rounded-lg shadow-md transition-all active:scale-95 text-[10px] flex items-center justify-center gap-2",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"Select Sequence Files"]})]}),u.jsx("p",{className:"text-[9px] text-center text-gray-400 italic",children:"Loads first frame. Average FFT calculated on ROI selection."})]}),u.jsx("div",{className:"flex flex-col gap-2 pt-2",children:u.jsxs("button",{onClick:j,className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-2 px-4 rounded-lg shadow-md transition-all active:scale-95 text-[10px] flex items-center justify-center gap-2",children:[u.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),"Cross-Compensation Calc"]})})]})}),s&&u.jsx(Mu,{title:"DR Lab Tools",children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("button",{onClick:f,className:"w-full bg-amber-500 hover:bg-amber-600 text-white font-bold py-2 px-4 rounded-lg shadow-md transition-colors text-sm",children:"Generate Test Pic"}),u.jsxs("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-3",children:[u.jsx("h4",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-2",children:"Grid Analysis"}),h&&d!==void 0&&u.jsx("div",{className:"flex items-center justify-between mb-3",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Box Size:"}),u.jsx("input",{type:"number",min:"8",max:"512",step:"2",value:d,onChange:K=>h(parseInt(K.target.value)||64),className:"w-12 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 text-center"}),u.jsx("span",{className:"text-xs text-gray-400",children:"px"})]})}),m&&x&&p!==void 0&&v!==void 0&&u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Layout:"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"number",min:"1",max:"50",value:p,onChange:K=>m(Math.max(1,parseInt(K.target.value)||1)),className:"w-10 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 text-center",title:"Rows"}),u.jsx("span",{className:"text-xs text-gray-400",children:"x"}),u.jsx("input",{type:"number",min:"1",max:"50",value:v,onChange:K=>x(Math.max(1,parseInt(K.target.value)||1)),className:"w-10 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 text-center",title:"Columns"})]})]}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("button",{onClick:c,disabled:!_t||l!==void 0&&l>0,className:`w-full font-bold py-2 px-4 rounded-lg shadow-md transition-all text-sm ${_t?l&&l>0?"bg-indigo-100 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300 border-2 border-indigo-500":"bg-indigo-600 hover:bg-indigo-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:l&&l>0?"Marking Active...":"Mark Corners"}),y&&u.jsxs(u.Fragment,{children:[u.jsx("input",{type:"file",ref:Kt,className:"hidden",multiple:!0,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff",onChange:_r}),u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>Z(!ge),disabled:!g,className:"w-full font-bold py-2 px-4 rounded-lg shadow-md transition-all text-sm bg-emerald-600 hover:bg-emerald-700 disabled:bg-gray-300 disabled:text-gray-500 disabled:cursor-not-allowed text-white flex items-center justify-center gap-2",title:"Process multiple RAWs",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"Reuse Last & Batch"]}),ge&&u.jsxs("div",{className:"absolute bottom-full left-0 w-full mb-1 bg-white dark:bg-slate-800 rounded-lg shadow-xl border border-gray-200 dark:border-slate-700 overflow-hidden z-20 flex flex-col animate-in fade-in zoom-in-95 duration-100",children:[u.jsx("button",{className:"px-4 py-2 text-left text-xs hover:bg-gray-100 dark:hover:bg-slate-700 text-gray-700 dark:text-slate-200 border-b border-gray-100 dark:border-slate-700 transition-colors",onClick:()=>{var K;je("single"),(K=Kt.current)==null||K.click()},children:"1. Independent Frames"}),u.jsx("button",{className:"px-4 py-2 text-left text-xs hover:bg-gray-100 dark:hover:bg-slate-700 text-indigo-600 dark:text-indigo-400 font-bold transition-colors",onClick:()=>{var K;je("pair"),(K=Kt.current)==null||K.click()},children:"2. Pair Difference (A-B)"})]})]})]}),u.jsxs("div",{className:"pt-2 mt-2 border-t border-gray-100 dark:border-slate-800",children:[u.jsx("input",{type:"file",ref:fr,className:"hidden",accept:".txt",onChange:xr}),u.jsxs("button",{onClick:()=>{var K;return(K=fr.current)==null?void 0:K.click()},className:"w-full font-bold py-2 px-4 rounded-lg shadow-sm transition-all text-xs bg-slate-100 hover:bg-slate-200 dark:bg-slate-800 dark:hover:bg-slate-700 text-gray-600 dark:text-slate-300 flex items-center justify-center gap-2 border border-gray-300 dark:border-slate-600",title:"Convert legacy TXT format (R_mean R_std ...) to standard CSV",children:[u.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),"Convert Format (.txt  .csv)"]})]})]}),l!==void 0&&l>0&&u.jsx("div",{className:"mt-2 text-center",children:u.jsxs("p",{className:"text-xs text-indigo-600 dark:text-indigo-400 font-bold animate-pulse",children:[l===1&&"Click Top-Left Center",l===2&&"Click Top-Right Center",l===3&&"Click Bottom-Left Center",l===4&&"Click Bottom-Right Center"]})})]})]})}),u.jsx(Mu,{title:"Selection Tools",children:u.jsx("div",{className:"space-y-3",children:u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"Quick Select or Shift+drag"}),u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Size (px):"}),u.jsx("input",{type:"number",min:"1",value:ce,onChange:K=>ue(K.target.value),disabled:!_t,className:"flex-1 px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("button",{onClick:jn,disabled:!_t,className:"px-3 py-1.5 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-slate-200 text-xs font-semibold rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Center Rect"}),u.jsx("button",{onClick:Zr,disabled:!_t,className:"px-3 py-1.5 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-slate-200 text-xs font-semibold rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Full Image"})]})]})})}),u.jsx(Mu,{title:"Display Controls",children:u.jsxs("div",{className:"space-y-5",children:[u.jsxs("p",{className:"text-gray-500 dark:text-slate-400 text-center text-sm",children:["Adjust parameters and click ",u.jsx("b",{children:"Apply"}),"."]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"exposure",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"Exposure (EV)"}),u.jsx("div",{className:"flex items-center gap-2 mb-2",children:u.jsx("input",{type:"range",min:"-5",max:"5",step:"0.1",disabled:!_t,value:parseFloat(_)||0,onChange:K=>lr(K.target.value),className:"w-full h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500 disabled:opacity-50"})}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("input",{id:"exposure",type:"number",step:"0.1",value:_,onChange:K=>lr(K.target.value),disabled:!_t,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})})]}),u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"demosaic",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2 flex justify-between",children:[u.jsx("span",{children:"Demosaic Method"}),P&&u.jsx("span",{className:"text-[9px] text-red-500 font-bold bg-red-100 dark:bg-red-900/30 px-1 rounded",children:"DISABLED"})]}),u.jsx("select",{id:"demosaic",value:R,onChange:Dt,disabled:!_t||P,className:"w-full px-2 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none transition-colors disabled:bg-gray-100 dark:disabled:bg-slate-800/50 disabled:cursor-not-allowed text-sm text-gray-900 dark:text-slate-100",children:cM.map(K=>u.jsx("option",{value:K.value,children:K.label},K.value))}),P&&u.jsx("p",{className:"text-[9px] text-gray-400 mt-1",children:"Full color data detected. Demosaicing skipped."})]}),u.jsx("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-2",children:u.jsx($x,{checked:xe,onChange:ve,label:"Advanced Settings"})}),xe&&u.jsxs("div",{className:"space-y-5 pl-2 border-l-2 border-gray-200 dark:border-slate-700 animate-in slide-in-from-top-2 duration-200",children:[u.jsxs("div",{children:[u.jsx($x,{checked:te,onChange:X,label:"Show Kadc"}),u.jsx("p",{className:"text-[10px] text-gray-400 dark:text-slate-500 mt-1",children:"Requires manual Black Levellinear PTC zoneabsolutely uniform image ."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"White Balance Gains"}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-xs text-red-500 dark:text-red-400 block mb-1",children:"Red"}),u.jsx("input",{type:"number",step:"0.01",value:T,onChange:K=>Pt(K.target.value),disabled:!_t,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-red-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-xs text-blue-500 dark:text-blue-400 block mb-1",children:"Blue"}),u.jsx("input",{type:"number",step:"0.01",value:W,onChange:K=>Ke(K.target.value),disabled:!_t,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-blue-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})]})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-end mb-2",children:[u.jsxs("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide flex items-center",children:["Black Level (4-Ch)",u.jsx("span",{className:"ml-1 text-[10px] text-gray-400 dark:text-slate-500 font-normal normal-case",children:"Native"}),u.jsx("button",{onClick:()=>le(!0),className:"ml-2 text-[10px] text-cyan-600 dark:text-cyan-400 hover:text-cyan-700 dark:hover:text-cyan-300 hover:underline cursor-pointer transition-colors",title:"About Black Level Settings",children:"[about]"})]}),u.jsxs("div",{className:"flex items-center gap-1.5",title:"Subtract Black Level from ROI Mean stats (for display)",children:[u.jsx("span",{className:"text-[9px] font-mono text-gray-400 dark:text-slate-500 uppercase tracking-wide",children:"Sub. BL"}),u.jsx("div",{className:`relative w-8 h-4 rounded-full cursor-pointer transition-colors duration-200 ease-in-out ${G?"bg-cyan-500":"bg-gray-300 dark:bg-slate-700"}`,onClick:()=>U(!G),children:u.jsx("div",{className:`absolute top-0.5 left-0.5 bg-white w-3 h-3 rounded-full shadow-sm transform transition-transform duration-200 ${G?"translate-x-4":"translate-x-0"}`})})]})]}),u.jsx("input",{type:"text",value:F,onChange:K=>D(K.target.value),disabled:!_t,placeholder:"0 0 0 0",className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-xs font-mono text-gray-900 dark:text-slate-100 transition-colors duration-300",title:"Enter 4 values separated by space or comma"}),u.jsx("p",{className:"text-[10px] text-gray-400 dark:text-slate-500 mt-1",children:"Order: (0,0) (0,1) (1,0) (1,1). Spatial: TL, TR, BL, BR."})]}),u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"customMatrix",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:["Custom Color Matrix",u.jsx("span",{className:"block text-[10px] text-gray-400 dark:text-slate-500 font-normal normal-case mt-0.5",children:"XYZ to Camera RGB (3x3, 9 nums)"})]}),u.jsx("textarea",{id:"customMatrix",value:N,onChange:Jt,disabled:!_t,placeholder:"0.66 -0.19 -0.04  -0.46 1.23 0.25  -0.06 0.13 0.65",className:"w-full h-24 px-2 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none transition-colors disabled:bg-gray-100 dark:disabled:bg-slate-800/50 disabled:cursor-not-allowed text-xs font-mono leading-relaxed text-gray-900 dark:text-slate-100"})]})]}),u.jsxs("div",{className:"pt-4 flex flex-col gap-2",children:[u.jsx("button",{onClick:Qr,disabled:!_t,className:"w-full text-base bg-cyan-500 hover:bg-cyan-600 dark:bg-cyan-600 dark:hover:bg-cyan-500 disabled:bg-gray-300 dark:disabled:bg-slate-800 disabled:text-gray-500 dark:disabled:text-slate-500 disabled:cursor-not-allowed text-white font-bold py-3 px-3 rounded-lg shadow-lg shadow-cyan-500/20 dark:shadow-cyan-900/20 transition-all active:scale-95",children:"APPLY SETTINGS"}),u.jsxs("button",{onClick:at,disabled:!_t,className:"w-full text-xs font-bold bg-slate-700 hover:bg-slate-600 text-white disabled:bg-gray-300 dark:disabled:bg-slate-800 disabled:text-gray-500 transition-colors py-2 rounded-lg flex items-center justify-center gap-1.5 border border-slate-600",title:"Bypass internal pipeline. Manual subtract black level & apply basic sRGB gamma to raw data.",children:[u.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})," (Zero-Dep)"]}),u.jsx("button",{onClick:hr,disabled:!_t,className:"w-full text-xs text-gray-400 hover:text-gray-600 dark:text-slate-400 dark:hover:text-slate-200 disabled:text-gray-300 dark:disabled:text-slate-600 transition-colors mt-1",children:"Reset Defaults (Local)"})]})]})})]}),u.jsx(hc,{isOpen:V,onClose:()=>le(!1),onConfirm:()=>{window.open("https://y-g-jiang.github.io/CBLD.html","_blank"),le(!1)},title:"Black Level Info / ",confirmText:"Visit Database (CBLD)",cancelText:"Close",message:u.jsxs("div",{className:"flex flex-col gap-4 text-left text-sm text-gray-600 dark:text-slate-300",children:[u.jsxs("p",{className:"leading-relaxed",children:["JiangBridge/JiangBridge",u.jsx("a",{href:"https://y-g-jiang.github.io/CBLD.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline mx-1 font-bold",children:"CBLD.html"}),""]}),u.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 w-full"}),u.jsxs("p",{className:"leading-relaxed",children:["Autofills when JiangBridge is detected. If no result is found or JiangBridge is missing, please check the",u.jsx("a",{href:"https://y-g-jiang.github.io/CBLD.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline mx-1 font-bold",children:"Black Level Database"}),"to find your camera model. However, manually capturing a dark frame with identical settings to calculate and input the values is highly recommended for higher decimal precision, as internal tags often lack accuracy."]})]})})]})},fM=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 12H4"})}),dM=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),hM=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h5M4 12a8 8 0 0114.24-5.12M20 20v-5h-5M20 12a8 8 0 01-14.24 5.12"})}),pM=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11"})}),gM=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 4l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})}),H0=.1,V0=16,mM=Math.log(H0),yM=Math.log(V0),vM=({zoom:e,onZoomChange:t,onResetView:r,touchAction:n,onToggleTouchAction:a})=>{const o=c=>{const f=parseFloat(c.target.value),d=Math.exp(f);t(Math.max(H0,Math.min(V0,d)))},i=()=>{t(Math.min(V0,e*1.25))},s=()=>{t(Math.max(H0,e/1.25))},l=Math.log(e);return u.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",onClick:c=>c.stopPropagation(),children:[u.jsx("div",{className:"bg-white/90 dark:bg-slate-800/70 backdrop-blur-sm p-2 rounded-lg border border-gray-200 dark:border-slate-700 flex items-center shadow-lg transition-colors duration-300",children:u.jsx("button",{onClick:a,className:`p-1.5 rounded-md transition-colors flex items-center justify-center ${n==="select"?"bg-cyan-100 text-cyan-600 dark:bg-cyan-900/50 dark:text-cyan-400 ring-2 ring-cyan-500/50":"text-gray-500 dark:text-slate-400 hover:bg-gray-100 dark:hover:bg-slate-700"}`,title:n==="select"?"Mode: Selection (Drag to Select)":"Mode: Pan (Drag to Move)",children:n==="select"?u.jsx(gM,{}):u.jsx(pM,{})})}),u.jsxs("div",{className:"bg-white/90 dark:bg-slate-800/70 backdrop-blur-sm p-2 rounded-lg border border-gray-200 dark:border-slate-700 flex items-center gap-2 text-gray-700 dark:text-slate-300 shadow-lg transition-colors duration-300",children:[u.jsx("button",{onClick:s,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Zoom Out","aria-label":"Zoom Out",children:u.jsx(fM,{})}),u.jsx("input",{type:"range",min:mM,max:yM,step:"0.01",value:l,onChange:o,className:"w-24 sm:w-32 h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500","aria-label":"Zoom slider"}),u.jsx("button",{onClick:i,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Zoom In","aria-label":"Zoom In",children:u.jsx(dM,{})}),u.jsxs("span",{className:"w-16 text-center font-mono text-sm","aria-live":"polite",children:[(e*100).toFixed(0),"%"]}),u.jsx("button",{onClick:r,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Reset View","aria-label":"Reset View",children:u.jsx(hM,{})})]})]})},xM=({theme:e,setTheme:t})=>{const r=()=>{t(e==="light"?"dark":"light")};return u.jsx("button",{onClick:r,className:"fixed bottom-6 right-6 z-50 p-3 rounded-full bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 shadow-lg text-gray-800 dark:text-yellow-400 hover:bg-gray-100 dark:hover:bg-slate-700 transition-all duration-300",title:`Switch to ${e==="light"?"dark":"light"} mode`,children:e==="light"?u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-slate-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}):u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})})})};function KS(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=KS(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ut(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=KS(e))&&(n&&(n+=" "),n+=t);return n}var bM=Array.isArray,Sn=bM,wM=typeof du=="object"&&du&&du.Object===Object&&du,XS=wM,kM=XS,SM=typeof self=="object"&&self&&self.Object===Object&&self,jM=kM||SM||Function("return this")(),Ma=jM,OM=Ma,PM=OM.Symbol,tu=PM,Dx=tu,YS=Object.prototype,_M=YS.hasOwnProperty,NM=YS.toString,xl=Dx?Dx.toStringTag:void 0;function AM(e){var t=_M.call(e,xl),r=e[xl];try{e[xl]=void 0;var n=!0}catch{}var a=NM.call(e);return n&&(t?e[xl]=r:delete e[xl]),a}var MM=AM,CM=Object.prototype,EM=CM.toString;function TM(e){return EM.call(e)}var $M=TM,Rx=tu,DM=MM,RM=$M,LM="[object Null]",IM="[object Undefined]",Lx=Rx?Rx.toStringTag:void 0;function BM(e){return e==null?e===void 0?IM:LM:Lx&&Lx in Object(e)?DM(e):RM(e)}var to=BM;function FM(e){return e!=null&&typeof e=="object"}var ro=FM,zM=to,WM=ro,UM="[object Symbol]";function GM(e){return typeof e=="symbol"||WM(e)&&zM(e)==UM}var Xs=GM,HM=Sn,VM=Xs,KM=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,XM=/^\w*$/;function YM(e,t){if(HM(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||VM(e)?!0:XM.test(e)||!KM.test(e)||t!=null&&e in Object(t)}var my=YM;function qM(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Do=qM;const Ys=Tt(Do);var ZM=to,QM=Do,JM="[object AsyncFunction]",eC="[object Function]",tC="[object GeneratorFunction]",rC="[object Proxy]";function nC(e){if(!QM(e))return!1;var t=ZM(e);return t==eC||t==tC||t==JM||t==rC}var yy=nC;const Ge=Tt(yy);var aC=Ma,oC=aC["__core-js_shared__"],iC=oC,mp=iC,Ix=function(){var e=/[^.]+$/.exec(mp&&mp.keys&&mp.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function sC(e){return!!Ix&&Ix in e}var lC=sC,cC=Function.prototype,uC=cC.toString;function fC(e){if(e!=null){try{return uC.call(e)}catch{}try{return e+""}catch{}}return""}var qS=fC,dC=yy,hC=lC,pC=Do,gC=qS,mC=/[\\^$.*+?()[\]{}|]/g,yC=/^\[object .+?Constructor\]$/,vC=Function.prototype,xC=Object.prototype,bC=vC.toString,wC=xC.hasOwnProperty,kC=RegExp("^"+bC.call(wC).replace(mC,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function SC(e){if(!pC(e)||hC(e))return!1;var t=dC(e)?kC:yC;return t.test(gC(e))}var jC=SC;function OC(e,t){return e==null?void 0:e[t]}var PC=OC,_C=jC,NC=PC;function AC(e,t){var r=NC(e,t);return _C(r)?r:void 0}var _i=AC,MC=_i,CC=MC(Object,"create"),Xd=CC,Bx=Xd;function EC(){this.__data__=Bx?Bx(null):{},this.size=0}var TC=EC;function $C(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var DC=$C,RC=Xd,LC="__lodash_hash_undefined__",IC=Object.prototype,BC=IC.hasOwnProperty;function FC(e){var t=this.__data__;if(RC){var r=t[e];return r===LC?void 0:r}return BC.call(t,e)?t[e]:void 0}var zC=FC,WC=Xd,UC=Object.prototype,GC=UC.hasOwnProperty;function HC(e){var t=this.__data__;return WC?t[e]!==void 0:GC.call(t,e)}var VC=HC,KC=Xd,XC="__lodash_hash_undefined__";function YC(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=KC&&t===void 0?XC:t,this}var qC=YC,ZC=TC,QC=DC,JC=zC,eE=VC,tE=qC;function qs(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}qs.prototype.clear=ZC;qs.prototype.delete=QC;qs.prototype.get=JC;qs.prototype.has=eE;qs.prototype.set=tE;var rE=qs;function nE(){this.__data__=[],this.size=0}var aE=nE;function oE(e,t){return e===t||e!==e&&t!==t}var vy=oE,iE=vy;function sE(e,t){for(var r=e.length;r--;)if(iE(e[r][0],t))return r;return-1}var Yd=sE,lE=Yd,cE=Array.prototype,uE=cE.splice;function fE(e){var t=this.__data__,r=lE(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():uE.call(t,r,1),--this.size,!0}var dE=fE,hE=Yd;function pE(e){var t=this.__data__,r=hE(t,e);return r<0?void 0:t[r][1]}var gE=pE,mE=Yd;function yE(e){return mE(this.__data__,e)>-1}var vE=yE,xE=Yd;function bE(e,t){var r=this.__data__,n=xE(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var wE=bE,kE=aE,SE=dE,jE=gE,OE=vE,PE=wE;function Zs(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Zs.prototype.clear=kE;Zs.prototype.delete=SE;Zs.prototype.get=jE;Zs.prototype.has=OE;Zs.prototype.set=PE;var qd=Zs,_E=_i,NE=Ma,AE=_E(NE,"Map"),xy=AE,Fx=rE,ME=qd,CE=xy;function EE(){this.size=0,this.__data__={hash:new Fx,map:new(CE||ME),string:new Fx}}var TE=EE;function $E(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var DE=$E,RE=DE;function LE(e,t){var r=e.__data__;return RE(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Zd=LE,IE=Zd;function BE(e){var t=IE(this,e).delete(e);return this.size-=t?1:0,t}var FE=BE,zE=Zd;function WE(e){return zE(this,e).get(e)}var UE=WE,GE=Zd;function HE(e){return GE(this,e).has(e)}var VE=HE,KE=Zd;function XE(e,t){var r=KE(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var YE=XE,qE=TE,ZE=FE,QE=UE,JE=VE,e5=YE;function Qs(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Qs.prototype.clear=qE;Qs.prototype.delete=ZE;Qs.prototype.get=QE;Qs.prototype.has=JE;Qs.prototype.set=e5;var by=Qs,ZS=by,t5="Expected a function";function wy(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(t5);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var i=e.apply(this,n);return r.cache=o.set(a,i)||o,i};return r.cache=new(wy.Cache||ZS),r}wy.Cache=ZS;var QS=wy;const r5=Tt(QS);var n5=QS,a5=500;function o5(e){var t=n5(e,function(n){return r.size===a5&&r.clear(),n}),r=t.cache;return t}var i5=o5,s5=i5,l5=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,c5=/\\(\\)?/g,u5=s5(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(l5,function(r,n,a,o){t.push(a?o.replace(c5,"$1"):n||r)}),t}),f5=u5;function d5(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var ky=d5,zx=tu,h5=ky,p5=Sn,g5=Xs,Wx=zx?zx.prototype:void 0,Ux=Wx?Wx.toString:void 0;function JS(e){if(typeof e=="string")return e;if(p5(e))return h5(e,JS)+"";if(g5(e))return Ux?Ux.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var m5=JS,y5=m5;function v5(e){return e==null?"":y5(e)}var ej=v5,x5=Sn,b5=my,w5=f5,k5=ej;function S5(e,t){return x5(e)?e:b5(e,t)?[e]:w5(k5(e))}var tj=S5,j5=Xs;function O5(e){if(typeof e=="string"||j5(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Qd=O5,P5=tj,_5=Qd;function N5(e,t){t=P5(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[_5(t[r++])];return r&&r==n?e:void 0}var Sy=N5,A5=Sy;function M5(e,t,r){var n=e==null?void 0:A5(e,t);return n===void 0?r:n}var rj=M5;const Xn=Tt(rj);function C5(e){return e==null}var E5=C5;const Le=Tt(E5);var T5=to,$5=Sn,D5=ro,R5="[object String]";function L5(e){return typeof e=="string"||!$5(e)&&D5(e)&&T5(e)==R5}var I5=L5;const vi=Tt(I5);var nj={exports:{}},Ot={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jy=Symbol.for("react.element"),Oy=Symbol.for("react.portal"),Jd=Symbol.for("react.fragment"),eh=Symbol.for("react.strict_mode"),th=Symbol.for("react.profiler"),rh=Symbol.for("react.provider"),nh=Symbol.for("react.context"),B5=Symbol.for("react.server_context"),ah=Symbol.for("react.forward_ref"),oh=Symbol.for("react.suspense"),ih=Symbol.for("react.suspense_list"),sh=Symbol.for("react.memo"),lh=Symbol.for("react.lazy"),F5=Symbol.for("react.offscreen"),aj;aj=Symbol.for("react.module.reference");function Qn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case jy:switch(e=e.type,e){case Jd:case th:case eh:case oh:case ih:return e;default:switch(e=e&&e.$$typeof,e){case B5:case nh:case ah:case lh:case sh:case rh:return e;default:return t}}case Oy:return t}}}Ot.ContextConsumer=nh;Ot.ContextProvider=rh;Ot.Element=jy;Ot.ForwardRef=ah;Ot.Fragment=Jd;Ot.Lazy=lh;Ot.Memo=sh;Ot.Portal=Oy;Ot.Profiler=th;Ot.StrictMode=eh;Ot.Suspense=oh;Ot.SuspenseList=ih;Ot.isAsyncMode=function(){return!1};Ot.isConcurrentMode=function(){return!1};Ot.isContextConsumer=function(e){return Qn(e)===nh};Ot.isContextProvider=function(e){return Qn(e)===rh};Ot.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===jy};Ot.isForwardRef=function(e){return Qn(e)===ah};Ot.isFragment=function(e){return Qn(e)===Jd};Ot.isLazy=function(e){return Qn(e)===lh};Ot.isMemo=function(e){return Qn(e)===sh};Ot.isPortal=function(e){return Qn(e)===Oy};Ot.isProfiler=function(e){return Qn(e)===th};Ot.isStrictMode=function(e){return Qn(e)===eh};Ot.isSuspense=function(e){return Qn(e)===oh};Ot.isSuspenseList=function(e){return Qn(e)===ih};Ot.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Jd||e===th||e===eh||e===oh||e===ih||e===F5||typeof e=="object"&&e!==null&&(e.$$typeof===lh||e.$$typeof===sh||e.$$typeof===rh||e.$$typeof===nh||e.$$typeof===ah||e.$$typeof===aj||e.getModuleId!==void 0)};Ot.typeOf=Qn;nj.exports=Ot;var z5=nj.exports,W5=to,U5=ro,G5="[object Number]";function H5(e){return typeof e=="number"||U5(e)&&W5(e)==G5}var oj=H5;const V5=Tt(oj);var K5=oj;function X5(e){return K5(e)&&e!=+e}var Y5=X5;const Js=Tt(Y5);var la=function(t){return t===0?0:t>0?1:-1},ri=function(t){return vi(t)&&t.indexOf("%")===t.length-1},ie=function(t){return V5(t)&&!Js(t)},q5=function(t){return Le(t)},jr=function(t){return ie(t)||vi(t)},Z5=0,Ni=function(t){var r=++Z5;return"".concat(t||"").concat(r)},xi=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ie(t)&&!vi(t))return n;var o;if(ri(t)){var i=t.indexOf("%");o=r*parseFloat(t.slice(0,i))/100}else o=+t;return Js(o)&&(o=n),a&&o>r&&(o=r),o},go=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Q5=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},ur=function(t,r){return ie(t)&&ie(r)?function(n){return t+n*(r-t)}:function(){return r}};function Nf(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Xn(n,t))===r})}var J5=function(t){if(!t||!t.length)return null;for(var r=t.length,n=0,a=0,o=0,i=0,s=1/0,l=-1/0,c=0,f=0,d=0;d<r;d++)c=t[d].cx||0,f=t[d].cy||0,n+=c,a+=f,o+=c*f,i+=c*c,s=Math.min(s,c),l=Math.max(l,c);var h=r*i!==n*n?(r*o-n*a)/(r*i-n*n):0;return{xmin:s,xmax:l,a:h,b:(a-h*n)/r}},eT=function(t,r){return ie(t)&&ie(r)?t-r:vi(t)&&vi(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function ss(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function K0(e){"@babel/helpers - typeof";return K0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K0(e)}var tT=["viewBox","children"],rT=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Gx=["points","pathLength"],yp={svg:tT,polygon:Gx,polyline:Gx},Py=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Af=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(O.isValidElement(t)&&(n=t.props),!Ys(n))return null;var a={};return Object.keys(n).forEach(function(o){Py.includes(o)&&(a[o]=r||function(i){return n[o](n,i)})}),a},nT=function(t,r,n){return function(a){return t(r,n,a),null}},pc=function(t,r,n){if(!Ys(t)||K0(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(o){var i=t[o];Py.includes(o)&&typeof i=="function"&&(a||(a={}),a[o]=nT(i,r,n))}),a},aT=["children"],oT=["children"];function Hx(e,t){if(e==null)return{};var r=iT(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iT(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function X0(e){"@babel/helpers - typeof";return X0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X0(e)}var Vx={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ua=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Kx=null,vp=null,_y=function e(t){if(t===Kx&&Array.isArray(vp))return vp;var r=[];return O.Children.forEach(t,function(n){Le(n)||(z5.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),vp=r,Kx=t,r};function kn(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Ua(a)}):n=[Ua(t)],_y(e).forEach(function(a){var o=Xn(a,"type.displayName")||Xn(a,"type.name");n.indexOf(o)!==-1&&r.push(a)}),r}function Nn(e,t){var r=kn(e,t);return r&&r[0]}var Xx=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!ie(n)||n<=0||!ie(a)||a<=0)},sT=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],lT=function(t){return t&&t.type&&vi(t.type)&&sT.indexOf(t.type)>=0},ij=function(t){return t&&X0(t)==="object"&&"clipDot"in t},cT=function(t,r,n,a){var o,i=(o=yp==null?void 0:yp[a])!==null&&o!==void 0?o:[];return r.startsWith("data-")||!Ge(t)&&(a&&i.includes(r)||rT.includes(r))||n&&Py.includes(r)},ze=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(O.isValidElement(t)&&(a=t.props),!Ys(a))return null;var o={};return Object.keys(a).forEach(function(i){var s;cT((s=a)===null||s===void 0?void 0:s[i],i,r,n)&&(o[i]=a[i])}),o},Y0=function e(t,r){if(t===r)return!0;var n=O.Children.count(t);if(n!==O.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Yx(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var o=t[a],i=r[a];if(Array.isArray(o)||Array.isArray(i)){if(!e(o,i))return!1}else if(!Yx(o,i))return!1}return!0},Yx=function(t,r){if(Le(t)&&Le(r))return!0;if(!Le(t)&&!Le(r)){var n=t.props||{},a=n.children,o=Hx(n,aT),i=r.props||{},s=i.children,l=Hx(i,oT);return a&&s?ss(o,l)&&Y0(a,s):!a&&!s?ss(o,l):!1}return!1},qx=function(t,r){var n=[],a={};return _y(t).forEach(function(o,i){if(lT(o))n.push(o);else if(o){var s=Ua(o.type),l=r[s]||{},c=l.handler,f=l.once;if(c&&(!f||!a[s])){var d=c(o,s,i);n.push(d),a[s]=!0}}}),n},uT=function(t){var r=t&&t.type;return r&&Vx[r]?Vx[r]:null},fT=function(t,r){return _y(r).indexOf(t)},dT=["children","width","height","viewBox","className","style","title","desc"];function q0(){return q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q0.apply(this,arguments)}function hT(e,t){if(e==null)return{};var r=pT(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pT(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Z0(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,o=e.className,i=e.style,s=e.title,l=e.desc,c=hT(e,dT),f=a||{width:r,height:n,x:0,y:0},d=ut("recharts-surface",o);return M.createElement("svg",q0({},ze(c,!0,"svg"),{className:d,width:r,height:n,style:i,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),M.createElement("title",null,s),M.createElement("desc",null,l),t)}var gT=["children","className"];function Q0(){return Q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q0.apply(this,arguments)}function mT(e,t){if(e==null)return{};var r=yT(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yT(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var yt=M.forwardRef(function(e,t){var r=e.children,n=e.className,a=mT(e,gT),o=ut("recharts-layer",n);return M.createElement("g",Q0({className:o},ze(a,!0),{ref:t}),r)}),Ga=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o]};function vT(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(a);++n<a;)o[n]=e[n+t];return o}var xT=vT,bT=xT;function wT(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:bT(e,t,r)}var kT=wT,ST="\\ud800-\\udfff",jT="\\u0300-\\u036f",OT="\\ufe20-\\ufe2f",PT="\\u20d0-\\u20ff",_T=jT+OT+PT,NT="\\ufe0e\\ufe0f",AT="\\u200d",MT=RegExp("["+AT+ST+_T+NT+"]");function CT(e){return MT.test(e)}var sj=CT;function ET(e){return e.split("")}var TT=ET,lj="\\ud800-\\udfff",$T="\\u0300-\\u036f",DT="\\ufe20-\\ufe2f",RT="\\u20d0-\\u20ff",LT=$T+DT+RT,IT="\\ufe0e\\ufe0f",BT="["+lj+"]",J0="["+LT+"]",eg="\\ud83c[\\udffb-\\udfff]",FT="(?:"+J0+"|"+eg+")",cj="[^"+lj+"]",uj="(?:\\ud83c[\\udde6-\\uddff]){2}",fj="[\\ud800-\\udbff][\\udc00-\\udfff]",zT="\\u200d",dj=FT+"?",hj="["+IT+"]?",WT="(?:"+zT+"(?:"+[cj,uj,fj].join("|")+")"+hj+dj+")*",UT=hj+dj+WT,GT="(?:"+[cj+J0+"?",J0,uj,fj,BT].join("|")+")",HT=RegExp(eg+"(?="+eg+")|"+GT+UT,"g");function VT(e){return e.match(HT)||[]}var KT=VT,XT=TT,YT=sj,qT=KT;function ZT(e){return YT(e)?qT(e):XT(e)}var QT=ZT,JT=kT,e$=sj,t$=QT,r$=ej;function n$(e){return function(t){t=r$(t);var r=e$(t)?t$(t):void 0,n=r?r[0]:t.charAt(0),a=r?JT(r,1).join(""):t.slice(1);return n[e]()+a}}var a$=n$,o$=a$,i$=o$("toUpperCase"),s$=i$;const ch=Tt(s$);function Ft(e){return function(){return e}}const pj=Math.cos,Mf=Math.sin,ga=Math.sqrt,Cf=Math.PI,uh=2*Cf,tg=Math.PI,rg=2*tg,qo=1e-6,l$=rg-qo;function gj(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function c$(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return gj;const r=10**t;return function(n){this._+=n[0];for(let a=1,o=n.length;a<o;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class u${constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?gj:c$(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,o,i){this._append`C${+t},${+r},${+n},${+a},${this._x1=+o},${this._y1=+i}`}arcTo(t,r,n,a,o){if(t=+t,r=+r,n=+n,a=+a,o=+o,o<0)throw new Error(`negative radius: ${o}`);let i=this._x1,s=this._y1,l=n-t,c=a-r,f=i-t,d=s-r,h=f*f+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>qo)if(!(Math.abs(d*l-c*f)>qo)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-i,m=a-s,v=l*l+c*c,x=p*p+m*m,y=Math.sqrt(v),g=Math.sqrt(h),b=o*Math.tan((tg-Math.acos((v+h-x)/(2*y*g)))/2),S=b/g,w=b/y;Math.abs(S-1)>qo&&this._append`L${t+S*f},${r+S*d}`,this._append`A${o},${o},0,0,${+(d*p>f*m)},${this._x1=t+w*l},${this._y1=r+w*c}`}}arc(t,r,n,a,o,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),l=n*Math.sin(a),c=t+s,f=r+l,d=1^i,h=i?a-o:o-a;this._x1===null?this._append`M${c},${f}`:(Math.abs(this._x1-c)>qo||Math.abs(this._y1-f)>qo)&&this._append`L${c},${f}`,n&&(h<0&&(h=h%rg+rg),h>l$?this._append`A${n},${n},0,1,${d},${t-s},${r-l}A${n},${n},0,1,${d},${this._x1=c},${this._y1=f}`:h>qo&&this._append`A${n},${n},0,${+(h>=tg)},${d},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Ny(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new u$(t)}function Ay(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function mj(e){this._context=e}mj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function fh(e){return new mj(e)}function yj(e){return e[0]}function vj(e){return e[1]}function xj(e,t){var r=Ft(!0),n=null,a=fh,o=null,i=Ny(s);e=typeof e=="function"?e:e===void 0?yj:Ft(e),t=typeof t=="function"?t:t===void 0?vj:Ft(t);function s(l){var c,f=(l=Ay(l)).length,d,h=!1,p;for(n==null&&(o=a(p=i())),c=0;c<=f;++c)!(c<f&&r(d=l[c],c,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(d,c,l),+t(d,c,l));if(p)return o=null,p+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Ft(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Ft(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Ft(!!l),s):r},s.curve=function(l){return arguments.length?(a=l,n!=null&&(o=a(n)),s):a},s.context=function(l){return arguments.length?(l==null?n=o=null:o=a(n=l),s):n},s}function Cu(e,t,r){var n=null,a=Ft(!0),o=null,i=fh,s=null,l=Ny(c);e=typeof e=="function"?e:e===void 0?yj:Ft(+e),t=typeof t=="function"?t:Ft(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?vj:Ft(+r);function c(d){var h,p,m,v=(d=Ay(d)).length,x,y=!1,g,b=new Array(v),S=new Array(v);for(o==null&&(s=i(g=l())),h=0;h<=v;++h){if(!(h<v&&a(x=d[h],h,d))===y)if(y=!y)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=h-1;m>=p;--m)s.point(b[m],S[m]);s.lineEnd(),s.areaEnd()}y&&(b[h]=+e(x,h,d),S[h]=+t(x,h,d),s.point(n?+n(x,h,d):b[h],r?+r(x,h,d):S[h]))}if(g)return s=null,g+""||null}function f(){return xj().defined(a).curve(i).context(o)}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:Ft(+d),n=null,c):e},c.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Ft(+d),c):e},c.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Ft(+d),c):n},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:Ft(+d),r=null,c):t},c.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Ft(+d),c):t},c.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Ft(+d),c):r},c.lineX0=c.lineY0=function(){return f().x(e).y(t)},c.lineY1=function(){return f().x(e).y(r)},c.lineX1=function(){return f().x(n).y(t)},c.defined=function(d){return arguments.length?(a=typeof d=="function"?d:Ft(!!d),c):a},c.curve=function(d){return arguments.length?(i=d,o!=null&&(s=i(o)),c):i},c.context=function(d){return arguments.length?(d==null?o=s=null:s=i(o=d),c):o},c}class bj{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function f$(e){return new bj(e,!0)}function d$(e){return new bj(e,!1)}const My={draw(e,t){const r=ga(t/Cf);e.moveTo(r,0),e.arc(0,0,r,0,uh)}},h$={draw(e,t){const r=ga(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},wj=ga(1/3),p$=wj*2,g$={draw(e,t){const r=ga(t/p$),n=r*wj;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},m$={draw(e,t){const r=ga(t),n=-r/2;e.rect(n,n,r,r)}},y$=.8908130915292852,kj=Mf(Cf/10)/Mf(7*Cf/10),v$=Mf(uh/10)*kj,x$=-pj(uh/10)*kj,b$={draw(e,t){const r=ga(t*y$),n=v$*r,a=x$*r;e.moveTo(0,-r),e.lineTo(n,a);for(let o=1;o<5;++o){const i=uh*o/5,s=pj(i),l=Mf(i);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*a,l*n+s*a)}e.closePath()}},xp=ga(3),w$={draw(e,t){const r=-ga(t/(xp*3));e.moveTo(0,r*2),e.lineTo(-xp*r,-r),e.lineTo(xp*r,-r),e.closePath()}},In=-.5,Bn=ga(3)/2,ng=1/ga(12),k$=(ng/2+1)*3,S$={draw(e,t){const r=ga(t/k$),n=r/2,a=r*ng,o=n,i=r*ng+r,s=-o,l=i;e.moveTo(n,a),e.lineTo(o,i),e.lineTo(s,l),e.lineTo(In*n-Bn*a,Bn*n+In*a),e.lineTo(In*o-Bn*i,Bn*o+In*i),e.lineTo(In*s-Bn*l,Bn*s+In*l),e.lineTo(In*n+Bn*a,In*a-Bn*n),e.lineTo(In*o+Bn*i,In*i-Bn*o),e.lineTo(In*s+Bn*l,In*l-Bn*s),e.closePath()}};function j$(e,t){let r=null,n=Ny(a);e=typeof e=="function"?e:Ft(e||My),t=typeof t=="function"?t:Ft(t===void 0?64:+t);function a(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return a.type=function(o){return arguments.length?(e=typeof o=="function"?o:Ft(o),a):e},a.size=function(o){return arguments.length?(t=typeof o=="function"?o:Ft(+o),a):t},a.context=function(o){return arguments.length?(r=o??null,a):r},a}function Ef(){}function Tf(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Sj(e){this._context=e}Sj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Tf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Tf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function O$(e){return new Sj(e)}function jj(e){this._context=e}jj.prototype={areaStart:Ef,areaEnd:Ef,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Tf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function P$(e){return new jj(e)}function Oj(e){this._context=e}Oj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Tf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _$(e){return new Oj(e)}function Pj(e){this._context=e}Pj.prototype={areaStart:Ef,areaEnd:Ef,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function N$(e){return new Pj(e)}function Zx(e){return e<0?-1:1}function Qx(e,t,r){var n=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),s=(o*a+i*n)/(n+a);return(Zx(o)+Zx(i))*Math.min(Math.abs(o),Math.abs(i),.5*Math.abs(s))||0}function Jx(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function bp(e,t,r){var n=e._x0,a=e._y0,o=e._x1,i=e._y1,s=(o-n)/3;e._context.bezierCurveTo(n+s,a+s*t,o-s,i-s*r,o,i)}function $f(e){this._context=e}$f.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:bp(this,this._t0,Jx(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,bp(this,Jx(this,r=Qx(this,e,t)),r);break;default:bp(this,this._t0,r=Qx(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function _j(e){this._context=new Nj(e)}(_j.prototype=Object.create($f.prototype)).point=function(e,t){$f.prototype.point.call(this,t,e)};function Nj(e){this._context=e}Nj.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,o){this._context.bezierCurveTo(t,e,n,r,o,a)}};function A$(e){return new $f(e)}function M$(e){return new _j(e)}function Aj(e){this._context=e}Aj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=eb(e),a=eb(t),o=0,i=1;i<r;++o,++i)this._context.bezierCurveTo(n[0][o],a[0][o],n[1][o],a[1][o],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function eb(e){var t,r=e.length-1,n,a=new Array(r),o=new Array(r),i=new Array(r);for(a[0]=0,o[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,o[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,o[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/o[t-1],o[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/o[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/o[t];for(o[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-a[t+1];return[a,o]}function C$(e){return new Aj(e)}function dh(e,t){this._context=e,this._t=t}dh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function E$(e){return new dh(e,.5)}function T$(e){return new dh(e,0)}function $$(e){return new dh(e,1)}function ys(e,t){if((i=e.length)>1)for(var r=1,n,a,o=e[t[0]],i,s=o.length;r<i;++r)for(a=o,o=e[t[r]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function ag(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function D$(e,t){return e[t]}function R$(e){const t=[];return t.key=e,t}function L$(){var e=Ft([]),t=ag,r=ys,n=D$;function a(o){var i=Array.from(e.apply(this,arguments),R$),s,l=i.length,c=-1,f;for(const d of o)for(s=0,++c;s<l;++s)(i[s][c]=[0,+n(d,i[s].key,c,o)]).data=d;for(s=0,f=Ay(t(i));s<l;++s)i[f[s]].index=s;return r(i,f),i}return a.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Ft(Array.from(o)),a):e},a.value=function(o){return arguments.length?(n=typeof o=="function"?o:Ft(+o),a):n},a.order=function(o){return arguments.length?(t=o==null?ag:typeof o=="function"?o:Ft(Array.from(o)),a):t},a.offset=function(o){return arguments.length?(r=o??ys,a):r},a}function I$(e,t){if((n=e.length)>0){for(var r,n,a=0,o=e[0].length,i;a<o;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}ys(e,t)}}function B$(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,o=n.length;r<o;++r){for(var i=0,s=0;i<a;++i)s+=e[i][r][1]||0;n[r][1]+=n[r][0]=-s/2}ys(e,t)}}function F$(e,t){if(!(!((i=e.length)>0)||!((o=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,o,i;n<o;++n){for(var s=0,l=0,c=0;s<i;++s){for(var f=e[t[s]],d=f[n][1]||0,h=f[n-1][1]||0,p=(d-h)/2,m=0;m<s;++m){var v=e[t[m]],x=v[n][1]||0,y=v[n-1][1]||0;p+=x-y}l+=d,c+=p*d}a[n-1][1]+=a[n-1][0]=r,l&&(r-=c/l)}a[n-1][1]+=a[n-1][0]=r,ys(e,t)}}function gc(e){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gc(e)}var z$=["type","size","sizeType"];function og(){return og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},og.apply(this,arguments)}function tb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tb(Object(r),!0).forEach(function(n){W$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W$(e,t,r){return t=U$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U$(e){var t=G$(e,"string");return gc(t)=="symbol"?t:t+""}function G$(e,t){if(gc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H$(e,t){if(e==null)return{};var r=V$(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function V$(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Mj={symbolCircle:My,symbolCross:h$,symbolDiamond:g$,symbolSquare:m$,symbolStar:b$,symbolTriangle:w$,symbolWye:S$},K$=Math.PI/180,X$=function(t){var r="symbol".concat(ch(t));return Mj[r]||My},Y$=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*K$;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},q$=function(t,r){Mj["symbol".concat(ch(t))]=r},hh=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,o=a===void 0?64:a,i=t.sizeType,s=i===void 0?"area":i,l=H$(t,z$),c=rb(rb({},l),{},{type:n,size:o,sizeType:s}),f=function(){var x=X$(n),y=j$().type(x).size(Y$(o,s,n));return y()},d=c.className,h=c.cx,p=c.cy,m=ze(c,!0);return h===+h&&p===+p&&o===+o?M.createElement("path",og({},m,{className:ut("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:f()})):null};hh.registerSymbol=q$;function vs(e){"@babel/helpers - typeof";return vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vs(e)}function ig(){return ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ig.apply(this,arguments)}function nb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Z$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nb(Object(r),!0).forEach(function(n){mc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ej(n.key),n)}}function e4(e,t,r){return t&&J$(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function t4(e,t,r){return t=Df(t),r4(e,Cj()?Reflect.construct(t,r||[],Df(e).constructor):t.apply(e,r))}function r4(e,t){if(t&&(vs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n4(e)}function n4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Cj=function(){return!!e})()}function Df(e){return Df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Df(e)}function a4(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sg(e,t)}function sg(e,t){return sg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sg(e,t)}function mc(e,t,r){return t=Ej(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ej(e){var t=o4(e,"string");return vs(t)=="symbol"?t:t+""}function o4(e,t){if(vs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Fn=32,Cy=function(e){function t(){return Q$(this,t),t4(this,t,arguments)}return a4(t,e),e4(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,o=Fn/2,i=Fn/6,s=Fn/3,l=n.inactive?a:n.color;if(n.type==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:Fn,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Fn,"M").concat(2*s,",").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return M.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Fn/8,"h").concat(Fn,"v").concat(Fn*3/4,"h").concat(-Fn,"z"),className:"recharts-legend-icon"});if(M.isValidElement(n.legendIcon)){var c=Z$({},n);return delete c.legendIcon,M.cloneElement(n.legendIcon,c)}return M.createElement(hh,{fill:l,cx:o,cy:o,size:Fn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,o=a.payload,i=a.iconSize,s=a.layout,l=a.formatter,c=a.inactiveColor,f={x:0,y:0,width:Fn,height:Fn},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,m){var v=p.formatter||l,x=ut(mc(mc({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=Ge(p.value)?null:p.value;Ga(!Ge(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var g=p.inactive?c:p.color;return M.createElement("li",ig({className:x,style:d,key:"legend-item-".concat(m)},pc(n.props,p,m)),M.createElement(Z0,{width:i,height:i,viewBox:f,style:h},n.renderIcon(p)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},v?v(y,p,m):y))})}},{key:"render",value:function(){var n=this.props,a=n.payload,o=n.layout,i=n.align;if(!a||!a.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?i:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(O.PureComponent);mc(Cy,"displayName","Legend");mc(Cy,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var i4=qd;function s4(){this.__data__=new i4,this.size=0}var l4=s4;function c4(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var u4=c4;function f4(e){return this.__data__.get(e)}var d4=f4;function h4(e){return this.__data__.has(e)}var p4=h4,g4=qd,m4=xy,y4=by,v4=200;function x4(e,t){var r=this.__data__;if(r instanceof g4){var n=r.__data__;if(!m4||n.length<v4-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new y4(n)}return r.set(e,t),this.size=r.size,this}var b4=x4,w4=qd,k4=l4,S4=u4,j4=d4,O4=p4,P4=b4;function el(e){var t=this.__data__=new w4(e);this.size=t.size}el.prototype.clear=k4;el.prototype.delete=S4;el.prototype.get=j4;el.prototype.has=O4;el.prototype.set=P4;var Tj=el,_4="__lodash_hash_undefined__";function N4(e){return this.__data__.set(e,_4),this}var A4=N4;function M4(e){return this.__data__.has(e)}var C4=M4,E4=by,T4=A4,$4=C4;function Rf(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new E4;++t<r;)this.add(e[t])}Rf.prototype.add=Rf.prototype.push=T4;Rf.prototype.has=$4;var $j=Rf;function D4(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Dj=D4;function R4(e,t){return e.has(t)}var Rj=R4,L4=$j,I4=Dj,B4=Rj,F4=1,z4=2;function W4(e,t,r,n,a,o){var i=r&F4,s=e.length,l=t.length;if(s!=l&&!(i&&l>s))return!1;var c=o.get(e),f=o.get(t);if(c&&f)return c==t&&f==e;var d=-1,h=!0,p=r&z4?new L4:void 0;for(o.set(e,t),o.set(t,e);++d<s;){var m=e[d],v=t[d];if(n)var x=i?n(v,m,d,t,e,o):n(m,v,d,e,t,o);if(x!==void 0){if(x)continue;h=!1;break}if(p){if(!I4(t,function(y,g){if(!B4(p,g)&&(m===y||a(m,y,r,n,o)))return p.push(g)})){h=!1;break}}else if(!(m===v||a(m,v,r,n,o))){h=!1;break}}return o.delete(e),o.delete(t),h}var Lj=W4,U4=Ma,G4=U4.Uint8Array,H4=G4;function V4(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var K4=V4;function X4(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Ey=X4,ab=tu,ob=H4,Y4=vy,q4=Lj,Z4=K4,Q4=Ey,J4=1,e3=2,t3="[object Boolean]",r3="[object Date]",n3="[object Error]",a3="[object Map]",o3="[object Number]",i3="[object RegExp]",s3="[object Set]",l3="[object String]",c3="[object Symbol]",u3="[object ArrayBuffer]",f3="[object DataView]",ib=ab?ab.prototype:void 0,wp=ib?ib.valueOf:void 0;function d3(e,t,r,n,a,o,i){switch(r){case f3:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case u3:return!(e.byteLength!=t.byteLength||!o(new ob(e),new ob(t)));case t3:case r3:case o3:return Y4(+e,+t);case n3:return e.name==t.name&&e.message==t.message;case i3:case l3:return e==t+"";case a3:var s=Z4;case s3:var l=n&J4;if(s||(s=Q4),e.size!=t.size&&!l)return!1;var c=i.get(e);if(c)return c==t;n|=e3,i.set(e,t);var f=q4(s(e),s(t),n,a,o,i);return i.delete(e),f;case c3:if(wp)return wp.call(e)==wp.call(t)}return!1}var h3=d3;function p3(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var Ij=p3,g3=Ij,m3=Sn;function y3(e,t,r){var n=t(e);return m3(e)?n:g3(n,r(e))}var v3=y3;function x3(e,t){for(var r=-1,n=e==null?0:e.length,a=0,o=[];++r<n;){var i=e[r];t(i,r,e)&&(o[a++]=i)}return o}var b3=x3;function w3(){return[]}var k3=w3,S3=b3,j3=k3,O3=Object.prototype,P3=O3.propertyIsEnumerable,sb=Object.getOwnPropertySymbols,_3=sb?function(e){return e==null?[]:(e=Object(e),S3(sb(e),function(t){return P3.call(e,t)}))}:j3,N3=_3;function A3(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var M3=A3,C3=to,E3=ro,T3="[object Arguments]";function $3(e){return E3(e)&&C3(e)==T3}var D3=$3,lb=D3,R3=ro,Bj=Object.prototype,L3=Bj.hasOwnProperty,I3=Bj.propertyIsEnumerable,B3=lb(function(){return arguments}())?lb:function(e){return R3(e)&&L3.call(e,"callee")&&!I3.call(e,"callee")},Ty=B3,Lf={exports:{}};function F3(){return!1}var z3=F3;Lf.exports;(function(e,t){var r=Ma,n=z3,a=t&&!t.nodeType&&t,o=a&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===a,s=i?r.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||n;e.exports=c})(Lf,Lf.exports);var Fj=Lf.exports,W3=9007199254740991,U3=/^(?:0|[1-9]\d*)$/;function G3(e,t){var r=typeof e;return t=t??W3,!!t&&(r=="number"||r!="symbol"&&U3.test(e))&&e>-1&&e%1==0&&e<t}var $y=G3,H3=9007199254740991;function V3(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=H3}var Dy=V3,K3=to,X3=Dy,Y3=ro,q3="[object Arguments]",Z3="[object Array]",Q3="[object Boolean]",J3="[object Date]",eD="[object Error]",tD="[object Function]",rD="[object Map]",nD="[object Number]",aD="[object Object]",oD="[object RegExp]",iD="[object Set]",sD="[object String]",lD="[object WeakMap]",cD="[object ArrayBuffer]",uD="[object DataView]",fD="[object Float32Array]",dD="[object Float64Array]",hD="[object Int8Array]",pD="[object Int16Array]",gD="[object Int32Array]",mD="[object Uint8Array]",yD="[object Uint8ClampedArray]",vD="[object Uint16Array]",xD="[object Uint32Array]",Ut={};Ut[fD]=Ut[dD]=Ut[hD]=Ut[pD]=Ut[gD]=Ut[mD]=Ut[yD]=Ut[vD]=Ut[xD]=!0;Ut[q3]=Ut[Z3]=Ut[cD]=Ut[Q3]=Ut[uD]=Ut[J3]=Ut[eD]=Ut[tD]=Ut[rD]=Ut[nD]=Ut[aD]=Ut[oD]=Ut[iD]=Ut[sD]=Ut[lD]=!1;function bD(e){return Y3(e)&&X3(e.length)&&!!Ut[K3(e)]}var wD=bD;function kD(e){return function(t){return e(t)}}var zj=kD,If={exports:{}};If.exports;(function(e,t){var r=XS,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===n,i=o&&r.process,s=function(){try{var l=a&&a.require&&a.require("util").types;return l||i&&i.binding&&i.binding("util")}catch{}}();e.exports=s})(If,If.exports);var SD=If.exports,jD=wD,OD=zj,cb=SD,ub=cb&&cb.isTypedArray,PD=ub?OD(ub):jD,Wj=PD,_D=M3,ND=Ty,AD=Sn,MD=Fj,CD=$y,ED=Wj,TD=Object.prototype,$D=TD.hasOwnProperty;function DD(e,t){var r=AD(e),n=!r&&ND(e),a=!r&&!n&&MD(e),o=!r&&!n&&!a&&ED(e),i=r||n||a||o,s=i?_D(e.length,String):[],l=s.length;for(var c in e)(t||$D.call(e,c))&&!(i&&(c=="length"||a&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||CD(c,l)))&&s.push(c);return s}var RD=DD,LD=Object.prototype;function ID(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||LD;return e===r}var BD=ID;function FD(e,t){return function(r){return e(t(r))}}var Uj=FD,zD=Uj,WD=zD(Object.keys,Object),UD=WD,GD=BD,HD=UD,VD=Object.prototype,KD=VD.hasOwnProperty;function XD(e){if(!GD(e))return HD(e);var t=[];for(var r in Object(e))KD.call(e,r)&&r!="constructor"&&t.push(r);return t}var YD=XD,qD=yy,ZD=Dy;function QD(e){return e!=null&&ZD(e.length)&&!qD(e)}var ru=QD,JD=RD,eR=YD,tR=ru;function rR(e){return tR(e)?JD(e):eR(e)}var ph=rR,nR=v3,aR=N3,oR=ph;function iR(e){return nR(e,oR,aR)}var sR=iR,fb=sR,lR=1,cR=Object.prototype,uR=cR.hasOwnProperty;function fR(e,t,r,n,a,o){var i=r&lR,s=fb(e),l=s.length,c=fb(t),f=c.length;if(l!=f&&!i)return!1;for(var d=l;d--;){var h=s[d];if(!(i?h in t:uR.call(t,h)))return!1}var p=o.get(e),m=o.get(t);if(p&&m)return p==t&&m==e;var v=!0;o.set(e,t),o.set(t,e);for(var x=i;++d<l;){h=s[d];var y=e[h],g=t[h];if(n)var b=i?n(g,y,h,t,e,o):n(y,g,h,e,t,o);if(!(b===void 0?y===g||a(y,g,r,n,o):b)){v=!1;break}x||(x=h=="constructor")}if(v&&!x){var S=e.constructor,w=t.constructor;S!=w&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof w=="function"&&w instanceof w)&&(v=!1)}return o.delete(e),o.delete(t),v}var dR=fR,hR=_i,pR=Ma,gR=hR(pR,"DataView"),mR=gR,yR=_i,vR=Ma,xR=yR(vR,"Promise"),bR=xR,wR=_i,kR=Ma,SR=wR(kR,"Set"),Gj=SR,jR=_i,OR=Ma,PR=jR(OR,"WeakMap"),_R=PR,lg=mR,cg=xy,ug=bR,fg=Gj,dg=_R,Hj=to,tl=qS,db="[object Map]",NR="[object Object]",hb="[object Promise]",pb="[object Set]",gb="[object WeakMap]",mb="[object DataView]",AR=tl(lg),MR=tl(cg),CR=tl(ug),ER=tl(fg),TR=tl(dg),Zo=Hj;(lg&&Zo(new lg(new ArrayBuffer(1)))!=mb||cg&&Zo(new cg)!=db||ug&&Zo(ug.resolve())!=hb||fg&&Zo(new fg)!=pb||dg&&Zo(new dg)!=gb)&&(Zo=function(e){var t=Hj(e),r=t==NR?e.constructor:void 0,n=r?tl(r):"";if(n)switch(n){case AR:return mb;case MR:return db;case CR:return hb;case ER:return pb;case TR:return gb}return t});var $R=Zo,kp=Tj,DR=Lj,RR=h3,LR=dR,yb=$R,vb=Sn,xb=Fj,IR=Wj,BR=1,bb="[object Arguments]",wb="[object Array]",Eu="[object Object]",FR=Object.prototype,kb=FR.hasOwnProperty;function zR(e,t,r,n,a,o){var i=vb(e),s=vb(t),l=i?wb:yb(e),c=s?wb:yb(t);l=l==bb?Eu:l,c=c==bb?Eu:c;var f=l==Eu,d=c==Eu,h=l==c;if(h&&xb(e)){if(!xb(t))return!1;i=!0,f=!1}if(h&&!f)return o||(o=new kp),i||IR(e)?DR(e,t,r,n,a,o):RR(e,t,l,r,n,a,o);if(!(r&BR)){var p=f&&kb.call(e,"__wrapped__"),m=d&&kb.call(t,"__wrapped__");if(p||m){var v=p?e.value():e,x=m?t.value():t;return o||(o=new kp),a(v,x,r,n,o)}}return h?(o||(o=new kp),LR(e,t,r,n,a,o)):!1}var WR=zR,UR=WR,Sb=ro;function Vj(e,t,r,n,a){return e===t?!0:e==null||t==null||!Sb(e)&&!Sb(t)?e!==e&&t!==t:UR(e,t,r,n,Vj,a)}var Ry=Vj,GR=Tj,HR=Ry,VR=1,KR=2;function XR(e,t,r,n){var a=r.length,o=a,i=!n;if(e==null)return!o;for(e=Object(e);a--;){var s=r[a];if(i&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<o;){s=r[a];var l=s[0],c=e[l],f=s[1];if(i&&s[2]){if(c===void 0&&!(l in e))return!1}else{var d=new GR;if(n)var h=n(c,f,l,e,t,d);if(!(h===void 0?HR(f,c,VR|KR,n,d):h))return!1}}return!0}var YR=XR,qR=Do;function ZR(e){return e===e&&!qR(e)}var Kj=ZR,QR=Kj,JR=ph;function eL(e){for(var t=JR(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,QR(a)]}return t}var tL=eL;function rL(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var Xj=rL,nL=YR,aL=tL,oL=Xj;function iL(e){var t=aL(e);return t.length==1&&t[0][2]?oL(t[0][0],t[0][1]):function(r){return r===e||nL(r,e,t)}}var sL=iL;function lL(e,t){return e!=null&&t in Object(e)}var cL=lL,uL=tj,fL=Ty,dL=Sn,hL=$y,pL=Dy,gL=Qd;function mL(e,t,r){t=uL(t,e);for(var n=-1,a=t.length,o=!1;++n<a;){var i=gL(t[n]);if(!(o=e!=null&&r(e,i)))break;e=e[i]}return o||++n!=a?o:(a=e==null?0:e.length,!!a&&pL(a)&&hL(i,a)&&(dL(e)||fL(e)))}var yL=mL,vL=cL,xL=yL;function bL(e,t){return e!=null&&xL(e,t,vL)}var wL=bL,kL=Ry,SL=rj,jL=wL,OL=my,PL=Kj,_L=Xj,NL=Qd,AL=1,ML=2;function CL(e,t){return OL(e)&&PL(t)?_L(NL(e),t):function(r){var n=SL(r,e);return n===void 0&&n===t?jL(r,e):kL(t,n,AL|ML)}}var EL=CL;function TL(e){return e}var rl=TL;function $L(e){return function(t){return t==null?void 0:t[e]}}var DL=$L,RL=Sy;function LL(e){return function(t){return RL(t,e)}}var IL=LL,BL=DL,FL=IL,zL=my,WL=Qd;function UL(e){return zL(e)?BL(WL(e)):FL(e)}var GL=UL,HL=sL,VL=EL,KL=rl,XL=Sn,YL=GL;function qL(e){return typeof e=="function"?e:e==null?KL:typeof e=="object"?XL(e)?VL(e[0],e[1]):HL(e):YL(e)}var Ro=qL;function ZL(e,t,r,n){for(var a=e.length,o=r+(n?1:-1);n?o--:++o<a;)if(t(e[o],o,e))return o;return-1}var Yj=ZL;function QL(e){return e!==e}var JL=QL;function eI(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var tI=eI,rI=Yj,nI=JL,aI=tI;function oI(e,t,r){return t===t?aI(e,t,r):rI(e,nI,r)}var iI=oI,sI=iI;function lI(e,t){var r=e==null?0:e.length;return!!r&&sI(e,t,0)>-1}var cI=lI;function uI(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var fI=uI;function dI(){}var hI=dI,Sp=Gj,pI=hI,gI=Ey,mI=1/0,yI=Sp&&1/gI(new Sp([,-0]))[1]==mI?function(e){return new Sp(e)}:pI,vI=yI,xI=$j,bI=cI,wI=fI,kI=Rj,SI=vI,jI=Ey,OI=200;function PI(e,t,r){var n=-1,a=bI,o=e.length,i=!0,s=[],l=s;if(r)i=!1,a=wI;else if(o>=OI){var c=t?null:SI(e);if(c)return jI(c);i=!1,a=kI,l=new xI}else l=t?[]:s;e:for(;++n<o;){var f=e[n],d=t?t(f):f;if(f=r||f!==0?f:0,i&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),s.push(f)}else a(l,d,r)||(l!==s&&l.push(d),s.push(f))}return s}var _I=PI,NI=Ro,AI=_I;function MI(e,t){return e&&e.length?AI(e,NI(t)):[]}var CI=MI;const jb=Tt(CI);function qj(e,t,r){return t===!0?jb(e,r):Ge(t)?jb(e,t):e}function xs(e){"@babel/helpers - typeof";return xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xs(e)}var EI=["ref"];function Ob(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $a(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ob(Object(r),!0).forEach(function(n){gh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ob(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Qj(n.key),n)}}function $I(e,t,r){return t&&Pb(e.prototype,t),r&&Pb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function DI(e,t,r){return t=Bf(t),RI(e,Zj()?Reflect.construct(t,r||[],Bf(e).constructor):t.apply(e,r))}function RI(e,t){if(t&&(xs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LI(e)}function LI(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zj=function(){return!!e})()}function Bf(e){return Bf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bf(e)}function II(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hg(e,t)}function hg(e,t){return hg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hg(e,t)}function gh(e,t,r){return t=Qj(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qj(e){var t=BI(e,"string");return xs(t)=="symbol"?t:t+""}function BI(e,t){if(xs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function FI(e,t){if(e==null)return{};var r=zI(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zI(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function WI(e){return e.value}function UI(e,t){if(M.isValidElement(e))return M.cloneElement(e,t);if(typeof e=="function")return M.createElement(e,t);t.ref;var r=FI(t,EI);return M.createElement(Cy,r)}var _b=1,Ha=function(e){function t(){var r;TI(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=DI(this,t,[].concat(a)),gh(r,"lastBoundingBox",{width:-1,height:-1}),r}return II(t,e),$I(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>_b||Math.abs(a.height-this.lastBoundingBox.height)>_b)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?$a({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,o=a.layout,i=a.align,s=a.verticalAlign,l=a.margin,c=a.chartWidth,f=a.chartHeight,d,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(i==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();d={left:((c||0)-p.width)/2}}else d=i==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var m=this.getBBoxSnapshot();h={top:((f||0)-m.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return $a($a({},d),h)}},{key:"render",value:function(){var n=this,a=this.props,o=a.content,i=a.width,s=a.height,l=a.wrapperStyle,c=a.payloadUniqBy,f=a.payload,d=$a($a({position:"absolute",width:i||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return M.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){n.wrapperNode=p}},UI(o,$a($a({},this.props),{},{payload:qj(f,c,WI)})))}}],[{key:"getWithHeight",value:function(n,a){var o=$a($a({},this.defaultProps),n.props),i=o.layout;return i==="vertical"&&ie(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||a}:null}}])}(O.PureComponent);gh(Ha,"displayName","Legend");gh(Ha,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Nb=tu,GI=Ty,HI=Sn,Ab=Nb?Nb.isConcatSpreadable:void 0;function VI(e){return HI(e)||GI(e)||!!(Ab&&e&&e[Ab])}var KI=VI,XI=Ij,YI=KI;function Jj(e,t,r,n,a){var o=-1,i=e.length;for(r||(r=YI),a||(a=[]);++o<i;){var s=e[o];t>0&&r(s)?t>1?Jj(s,t-1,r,n,a):XI(a,s):n||(a[a.length]=s)}return a}var eO=Jj;function qI(e){return function(t,r,n){for(var a=-1,o=Object(t),i=n(t),s=i.length;s--;){var l=i[e?s:++a];if(r(o[l],l,o)===!1)break}return t}}var ZI=qI,QI=ZI,JI=QI(),e6=JI,t6=e6,r6=ph;function n6(e,t){return e&&t6(e,t,r6)}var tO=n6,a6=ru;function o6(e,t){return function(r,n){if(r==null)return r;if(!a6(r))return e(r,n);for(var a=r.length,o=t?a:-1,i=Object(r);(t?o--:++o<a)&&n(i[o],o,i)!==!1;);return r}}var i6=o6,s6=tO,l6=i6,c6=l6(s6),Ly=c6,u6=Ly,f6=ru;function d6(e,t){var r=-1,n=f6(e)?Array(e.length):[];return u6(e,function(a,o,i){n[++r]=t(a,o,i)}),n}var rO=d6;function h6(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var p6=h6,Mb=Xs;function g6(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,o=Mb(e),i=t!==void 0,s=t===null,l=t===t,c=Mb(t);if(!s&&!c&&!o&&e>t||o&&i&&l&&!s&&!c||n&&i&&l||!r&&l||!a)return 1;if(!n&&!o&&!c&&e<t||c&&r&&a&&!n&&!o||s&&r&&a||!i&&a||!l)return-1}return 0}var m6=g6,y6=m6;function v6(e,t,r){for(var n=-1,a=e.criteria,o=t.criteria,i=a.length,s=r.length;++n<i;){var l=y6(a[n],o[n]);if(l){if(n>=s)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return e.index-t.index}var x6=v6,jp=ky,b6=Sy,w6=Ro,k6=rO,S6=p6,j6=zj,O6=x6,P6=rl,_6=Sn;function N6(e,t,r){t.length?t=jp(t,function(o){return _6(o)?function(i){return b6(i,o.length===1?o[0]:o)}:o}):t=[P6];var n=-1;t=jp(t,j6(w6));var a=k6(e,function(o,i,s){var l=jp(t,function(c){return c(o)});return{criteria:l,index:++n,value:o}});return S6(a,function(o,i){return O6(o,i,r)})}var A6=N6;function M6(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var C6=M6,E6=C6,Cb=Math.max;function T6(e,t,r){return t=Cb(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,o=Cb(n.length-t,0),i=Array(o);++a<o;)i[a]=n[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=n[a];return s[t]=r(i),E6(e,this,s)}}var $6=T6;function D6(e){return function(){return e}}var R6=D6,L6=_i,I6=function(){try{var e=L6(Object,"defineProperty");return e({},"",{}),e}catch{}}(),nO=I6,B6=R6,Eb=nO,F6=rl,z6=Eb?function(e,t){return Eb(e,"toString",{configurable:!0,enumerable:!1,value:B6(t),writable:!0})}:F6,W6=z6,U6=800,G6=16,H6=Date.now;function V6(e){var t=0,r=0;return function(){var n=H6(),a=G6-(n-r);if(r=n,a>0){if(++t>=U6)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var K6=V6,X6=W6,Y6=K6,q6=Y6(X6),Z6=q6,Q6=rl,J6=$6,eB=Z6;function tB(e,t){return eB(J6(e,t,Q6),e+"")}var rB=tB,nB=vy,aB=ru,oB=$y,iB=Do;function sB(e,t,r){if(!iB(r))return!1;var n=typeof t;return(n=="number"?aB(r)&&oB(t,r.length):n=="string"&&t in r)?nB(r[t],e):!1}var mh=sB,lB=eO,cB=A6,uB=rB,Tb=mh,fB=uB(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Tb(e,t[0],t[1])?t=[]:r>2&&Tb(t[0],t[1],t[2])&&(t=[t[0]]),cB(e,lB(t,1),[])}),dB=fB;const Iy=Tt(dB);function yc(e){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yc(e)}function pg(){return pg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pg.apply(this,arguments)}function hB(e,t){return yB(e)||mB(e,t)||gB(e,t)||pB()}function pB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gB(e,t){if(e){if(typeof e=="string")return $b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $b(e,t)}}function $b(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mB(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function yB(e){if(Array.isArray(e))return e}function Db(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Op(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Db(Object(r),!0).forEach(function(n){vB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Db(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vB(e,t,r){return t=xB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xB(e){var t=bB(e,"string");return yc(t)=="symbol"?t:t+""}function bB(e,t){if(yc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wB(e){return Array.isArray(e)&&jr(e[0])&&jr(e[1])?e.join(" ~ "):e}var kB=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,o=a===void 0?{}:a,i=t.itemStyle,s=i===void 0?{}:i,l=t.labelStyle,c=l===void 0?{}:l,f=t.payload,d=t.formatter,h=t.itemSorter,p=t.wrapperClassName,m=t.labelClassName,v=t.label,x=t.labelFormatter,y=t.accessibilityLayer,g=y===void 0?!1:y,b=function(){if(f&&f.length){var E={padding:0,margin:0},F=(h?Iy(f,h):f).map(function(D,T){if(D.type==="none")return null;var I=Op({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},s),W=D.formatter||d||wB,L=D.value,R=D.name,B=L,te=R;if(W&&B!=null&&te!=null){var X=W(L,R,D,T,f);if(Array.isArray(X)){var G=hB(X,2);B=G[0],te=G[1]}else B=X}return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:I},jr(te)?M.createElement("span",{className:"recharts-tooltip-item-name"},te):null,jr(te)?M.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,M.createElement("span",{className:"recharts-tooltip-item-value"},B),M.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:E},F)}return null},S=Op({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),w=Op({margin:0},c),k=!Le(v),j=k?v:"",P=ut("recharts-default-tooltip",p),_=ut("recharts-tooltip-label",m);k&&x&&f!==void 0&&f!==null&&(j=x(v,f));var A=g?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",pg({className:P,style:S},A),M.createElement("p",{className:_,style:w},M.isValidElement(j)?j:"".concat(j)),b())};function vc(e){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vc(e)}function Tu(e,t,r){return t=SB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SB(e){var t=jB(e,"string");return vc(t)=="symbol"?t:t+""}function jB(e,t){if(vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bl="recharts-tooltip-wrapper",OB={visibility:"hidden"};function PB(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return ut(bl,Tu(Tu(Tu(Tu({},"".concat(bl,"-right"),ie(r)&&t&&ie(t.x)&&r>=t.x),"".concat(bl,"-left"),ie(r)&&t&&ie(t.x)&&r<t.x),"".concat(bl,"-bottom"),ie(n)&&t&&ie(t.y)&&n>=t.y),"".concat(bl,"-top"),ie(n)&&t&&ie(t.y)&&n<t.y))}function Rb(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,o=e.position,i=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(o&&ie(o[n]))return o[n];var f=r[n]-s-a,d=r[n]+a;if(t[n])return i[n]?f:d;if(i[n]){var h=f,p=l[n];return h<p?Math.max(d,l[n]):Math.max(f,l[n])}var m=d+s,v=l[n]+c;return m>v?Math.max(f,l[n]):Math.max(d,l[n])}function _B(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function NB(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,o=e.reverseDirection,i=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,c,f,d;return i.height>0&&i.width>0&&r?(f=Rb({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.width,viewBox:l,viewBoxDimension:l.width}),d=Rb({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.height,viewBox:l,viewBoxDimension:l.height}),c=_B({translateX:f,translateY:d,useTranslate3d:s})):c=OB,{cssProperties:c,cssClasses:PB({translateX:f,translateY:d,coordinate:r})}}function bs(e){"@babel/helpers - typeof";return bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bs(e)}function Lb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ib(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lb(Object(r),!0).forEach(function(n){mg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oO(n.key),n)}}function CB(e,t,r){return t&&MB(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function EB(e,t,r){return t=Ff(t),TB(e,aO()?Reflect.construct(t,r||[],Ff(e).constructor):t.apply(e,r))}function TB(e,t){if(t&&(bs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $B(e)}function $B(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aO=function(){return!!e})()}function Ff(e){return Ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ff(e)}function DB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gg(e,t)}function gg(e,t){return gg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gg(e,t)}function mg(e,t,r){return t=oO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oO(e){var t=RB(e,"string");return bs(t)=="symbol"?t:t+""}function RB(e,t){if(bs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Bb=1,LB=function(e){function t(){var r;AB(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=EB(this,t,[].concat(a)),mg(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),mg(r,"handleKeyDown",function(i){if(i.key==="Escape"){var s,l,c,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&c!==void 0?c:0}})}}),r}return DB(t,e),CB(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Bb||Math.abs(n.height-this.state.lastBoundingBox.height)>Bb)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,o=a.active,i=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,c=a.children,f=a.coordinate,d=a.hasPayload,h=a.isAnimationActive,p=a.offset,m=a.position,v=a.reverseDirection,x=a.useTranslate3d,y=a.viewBox,g=a.wrapperStyle,b=NB({allowEscapeViewBox:i,coordinate:f,offsetTopLeft:p,position:m,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:y}),S=b.cssClasses,w=b.cssProperties,k=Ib(Ib({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&d?"visible":"hidden",position:"absolute",top:0,left:0},g);return M.createElement("div",{tabIndex:-1,className:S,style:k,ref:function(P){n.wrapperNode=P}},c)}}])}(O.PureComponent),IB=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Lo={isSsr:IB()};function ws(e){"@babel/helpers - typeof";return ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ws(e)}function Fb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fb(Object(r),!0).forEach(function(n){By(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sO(n.key),n)}}function zB(e,t,r){return t&&FB(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function WB(e,t,r){return t=zf(t),UB(e,iO()?Reflect.construct(t,r||[],zf(e).constructor):t.apply(e,r))}function UB(e,t){if(t&&(ws(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GB(e)}function GB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iO=function(){return!!e})()}function zf(e){return zf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zf(e)}function HB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yg(e,t)}function yg(e,t){return yg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yg(e,t)}function By(e,t,r){return t=sO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sO(e){var t=VB(e,"string");return ws(t)=="symbol"?t:t+""}function VB(e,t){if(ws(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ws(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function KB(e){return e.dataKey}function XB(e,t){return M.isValidElement(e)?M.cloneElement(e,t):typeof e=="function"?M.createElement(e,t):M.createElement(kB,t)}var cn=function(e){function t(){return BB(this,t),WB(this,t,arguments)}return HB(t,e),zB(t,[{key:"render",value:function(){var n=this,a=this.props,o=a.active,i=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,c=a.content,f=a.coordinate,d=a.filterNull,h=a.isAnimationActive,p=a.offset,m=a.payload,v=a.payloadUniqBy,x=a.position,y=a.reverseDirection,g=a.useTranslate3d,b=a.viewBox,S=a.wrapperStyle,w=m??[];d&&w.length&&(w=qj(m.filter(function(j){return j.value!=null&&(j.hide!==!0||n.props.includeHidden)}),v,KB));var k=w.length>0;return M.createElement(LB,{allowEscapeViewBox:i,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:f,hasPayload:k,offset:p,position:x,reverseDirection:y,useTranslate3d:g,viewBox:b,wrapperStyle:S},XB(c,zb(zb({},this.props),{},{payload:w})))}}])}(O.PureComponent);By(cn,"displayName","Tooltip");By(cn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Lo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var YB=Ma,qB=function(){return YB.Date.now()},ZB=qB,QB=/\s/;function JB(e){for(var t=e.length;t--&&QB.test(e.charAt(t)););return t}var e8=JB,t8=e8,r8=/^\s+/;function n8(e){return e&&e.slice(0,t8(e)+1).replace(r8,"")}var a8=n8,o8=a8,Wb=Do,i8=Xs,Ub=NaN,s8=/^[-+]0x[0-9a-f]+$/i,l8=/^0b[01]+$/i,c8=/^0o[0-7]+$/i,u8=parseInt;function f8(e){if(typeof e=="number")return e;if(i8(e))return Ub;if(Wb(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Wb(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=o8(e);var r=l8.test(e);return r||c8.test(e)?u8(e.slice(2),r?2:8):s8.test(e)?Ub:+e}var lO=f8,d8=Do,Pp=ZB,Gb=lO,h8="Expected a function",p8=Math.max,g8=Math.min;function m8(e,t,r){var n,a,o,i,s,l,c=0,f=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(h8);t=Gb(t)||0,d8(r)&&(f=!!r.leading,d="maxWait"in r,o=d?p8(Gb(r.maxWait)||0,t):o,h="trailing"in r?!!r.trailing:h);function p(k){var j=n,P=a;return n=a=void 0,c=k,i=e.apply(P,j),i}function m(k){return c=k,s=setTimeout(y,t),f?p(k):i}function v(k){var j=k-l,P=k-c,_=t-j;return d?g8(_,o-P):_}function x(k){var j=k-l,P=k-c;return l===void 0||j>=t||j<0||d&&P>=o}function y(){var k=Pp();if(x(k))return g(k);s=setTimeout(y,v(k))}function g(k){return s=void 0,h&&n?p(k):(n=a=void 0,i)}function b(){s!==void 0&&clearTimeout(s),c=0,n=l=a=s=void 0}function S(){return s===void 0?i:g(Pp())}function w(){var k=Pp(),j=x(k);if(n=arguments,a=this,l=k,j){if(s===void 0)return m(l);if(d)return clearTimeout(s),s=setTimeout(y,t),p(l)}return s===void 0&&(s=setTimeout(y,t)),i}return w.cancel=b,w.flush=S,w}var y8=m8,v8=y8,x8=Do,b8="Expected a function";function w8(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(b8);return x8(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),v8(e,t,{leading:n,maxWait:t,trailing:a})}var k8=w8;const cO=Tt(k8);function xc(e){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xc(e)}function Hb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $u(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hb(Object(r),!0).forEach(function(n){S8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S8(e,t,r){return t=j8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j8(e){var t=O8(e,"string");return xc(t)=="symbol"?t:t+""}function O8(e,t){if(xc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P8(e,t){return M8(e)||A8(e,t)||N8(e,t)||_8()}function _8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N8(e,t){if(e){if(typeof e=="string")return Vb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vb(e,t)}}function Vb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function A8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function M8(e){if(Array.isArray(e))return e}var ks=O.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,o=e.width,i=o===void 0?"100%":o,s=e.height,l=s===void 0?"100%":s,c=e.minWidth,f=c===void 0?0:c,d=e.minHeight,h=e.maxHeight,p=e.children,m=e.debounce,v=m===void 0?0:m,x=e.id,y=e.className,g=e.onResize,b=e.style,S=b===void 0?{}:b,w=O.useRef(null),k=O.useRef();k.current=g,O.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var j=O.useState({containerWidth:a.width,containerHeight:a.height}),P=P8(j,2),_=P[0],A=P[1],N=O.useCallback(function(F,D){A(function(T){var I=Math.round(F),W=Math.round(D);return T.containerWidth===I&&T.containerHeight===W?T:{containerWidth:I,containerHeight:W}})},[]);O.useEffect(function(){var F=function(R){var B,te=R[0].contentRect,X=te.width,G=te.height;N(X,G),(B=k.current)===null||B===void 0||B.call(k,X,G)};v>0&&(F=cO(F,v,{trailing:!0,leading:!1}));var D=new ResizeObserver(F),T=w.current.getBoundingClientRect(),I=T.width,W=T.height;return N(I,W),D.observe(w.current),function(){D.disconnect()}},[N,v]);var E=O.useMemo(function(){var F=_.containerWidth,D=_.containerHeight;if(F<0||D<0)return null;Ga(ri(i)||ri(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,l),Ga(!r||r>0,"The aspect(%s) must be greater than zero.",r);var T=ri(i)?F:i,I=ri(l)?D:l;r&&r>0&&(T?I=T/r:I&&(T=I*r),h&&I>h&&(I=h)),Ga(T>0||I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,I,i,l,f,d,r);var W=!Array.isArray(p)&&Ua(p.type).endsWith("Chart");return M.Children.map(p,function(L){return M.isValidElement(L)?O.cloneElement(L,$u({width:T,height:I},W?{style:$u({height:"100%",width:"100%",maxHeight:I,maxWidth:T},L.props.style)}:{})):L})},[r,p,l,h,d,f,_,i]);return M.createElement("div",{id:x?"".concat(x):void 0,className:ut("recharts-responsive-container",y),style:$u($u({},S),{},{width:i,height:l,minWidth:f,minHeight:d,maxHeight:h}),ref:w},E)}),Fy=function(t){return null};Fy.displayName="Cell";function bc(e){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bc(e)}function Kb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kb(Object(r),!0).forEach(function(n){C8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C8(e,t,r){return t=E8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E8(e){var t=T8(e,"string");return bc(t)=="symbol"?t:t+""}function T8(e,t){if(bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Di={widthCache:{},cacheCount:0},$8=2e3,D8={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Xb="recharts_measurement_span";function R8(e){var t=vg({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Ul=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Lo.isSsr)return{width:0,height:0};var n=R8(r),a=JSON.stringify({text:t,copyStyle:n});if(Di.widthCache[a])return Di.widthCache[a];try{var o=document.getElementById(Xb);o||(o=document.createElement("span"),o.setAttribute("id",Xb),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var i=vg(vg({},D8),n);Object.assign(o.style,i),o.textContent="".concat(t);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return Di.widthCache[a]=l,++Di.cacheCount>$8&&(Di.cacheCount=0,Di.widthCache={}),l}catch{return{width:0,height:0}}},L8=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function wc(e){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wc(e)}function Wf(e,t){return z8(e)||F8(e,t)||B8(e,t)||I8()}function I8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B8(e,t){if(e){if(typeof e=="string")return Yb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yb(e,t)}}function Yb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function F8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function z8(e){if(Array.isArray(e))return e}function W8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,G8(n.key),n)}}function U8(e,t,r){return t&&qb(e.prototype,t),r&&qb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function G8(e){var t=H8(e,"string");return wc(t)=="symbol"?t:t+""}function H8(e,t){if(wc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Zb=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Qb=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,V8=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,K8=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,uO={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},X8=Object.keys(uO),Qi="NaN";function Y8(e,t){return e*uO[t]}var Du=function(){function e(t,r){W8(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!V8.test(r)&&(this.num=NaN,this.unit=""),X8.includes(r)&&(this.num=Y8(t,r),this.unit="px")}return U8(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=K8.exec(r))!==null&&n!==void 0?n:[],o=Wf(a,3),i=o[1],s=o[2];return new e(parseFloat(i),s??"")}}])}();function fO(e){if(e.includes(Qi))return Qi;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=Zb.exec(t))!==null&&r!==void 0?r:[],a=Wf(n,4),o=a[1],i=a[2],s=a[3],l=Du.parse(o??""),c=Du.parse(s??""),f=i==="*"?l.multiply(c):l.divide(c);if(f.isNaN())return Qi;t=t.replace(Zb,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,h=(d=Qb.exec(t))!==null&&d!==void 0?d:[],p=Wf(h,4),m=p[1],v=p[2],x=p[3],y=Du.parse(m??""),g=Du.parse(x??""),b=v==="+"?y.add(g):y.subtract(g);if(b.isNaN())return Qi;t=t.replace(Qb,b.toString())}return t}var Jb=/\(([^()]*)\)/;function q8(e){for(var t=e;t.includes("(");){var r=Jb.exec(t),n=Wf(r,2),a=n[1];t=t.replace(Jb,fO(a))}return t}function Z8(e){var t=e.replace(/\s+/g,"");return t=q8(t),t=fO(t),t}function Q8(e){try{return Z8(e)}catch{return Qi}}function _p(e){var t=Q8(e.slice(5,-1));return t===Qi?"":t}var J8=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],eF=["dx","dy","angle","className","breakAll"];function xg(){return xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xg.apply(this,arguments)}function e1(e,t){if(e==null)return{};var r=tF(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tF(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function t1(e,t){return oF(e)||aF(e,t)||nF(e,t)||rF()}function rF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nF(e,t){if(e){if(typeof e=="string")return r1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r1(e,t)}}function r1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aF(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function oF(e){if(Array.isArray(e))return e}var dO=/[ \f\n\r\t\v\u2028\u2029]+/,hO=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var o=[];Le(r)||(n?o=r.toString().split(""):o=r.toString().split(dO));var i=o.map(function(l){return{word:l,width:Ul(l,a).width}}),s=n?0:Ul("",a).width;return{wordsWithComputedWidth:i,spaceWidth:s}}catch{return null}},iF=function(t,r,n,a,o){var i=t.maxLines,s=t.children,l=t.style,c=t.breakAll,f=ie(i),d=s,h=function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return T.reduce(function(I,W){var L=W.word,R=W.width,B=I[I.length-1];if(B&&(a==null||o||B.width+R+n<Number(a)))B.words.push(L),B.width+=R+n;else{var te={words:[L],width:R};I.push(te)}return I},[])},p=h(r),m=function(T){return T.reduce(function(I,W){return I.width>W.width?I:W})};if(!f)return p;for(var v="",x=function(T){var I=d.slice(0,T),W=hO({breakAll:c,style:l,children:I+v}).wordsWithComputedWidth,L=h(W),R=L.length>i||m(L).width>Number(a);return[R,L]},y=0,g=d.length-1,b=0,S;y<=g&&b<=d.length-1;){var w=Math.floor((y+g)/2),k=w-1,j=x(k),P=t1(j,2),_=P[0],A=P[1],N=x(w),E=t1(N,1),F=E[0];if(!_&&!F&&(y=w+1),_&&F&&(g=w-1),!_&&F){S=A;break}b++}return S||p},n1=function(t){var r=Le(t)?[]:t.toString().split(dO);return[{words:r}]},sF=function(t){var r=t.width,n=t.scaleToFit,a=t.children,o=t.style,i=t.breakAll,s=t.maxLines;if((r||n)&&!Lo.isSsr){var l,c,f=hO({breakAll:i,children:a,style:o});if(f){var d=f.wordsWithComputedWidth,h=f.spaceWidth;l=d,c=h}else return n1(a);return iF({breakAll:i,children:a,maxLines:s,style:o},l,c,r,n)}return n1(a)},a1="#808080",Uf=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,o=a===void 0?0:a,i=t.lineHeight,s=i===void 0?"1em":i,l=t.capHeight,c=l===void 0?"0.71em":l,f=t.scaleToFit,d=f===void 0?!1:f,h=t.textAnchor,p=h===void 0?"start":h,m=t.verticalAnchor,v=m===void 0?"end":m,x=t.fill,y=x===void 0?a1:x,g=e1(t,J8),b=O.useMemo(function(){return sF({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:d,style:g.style,width:g.width})},[g.breakAll,g.children,g.maxLines,d,g.style,g.width]),S=g.dx,w=g.dy,k=g.angle,j=g.className,P=g.breakAll,_=e1(g,eF);if(!jr(n)||!jr(o))return null;var A=n+(ie(S)?S:0),N=o+(ie(w)?w:0),E;switch(v){case"start":E=_p("calc(".concat(c,")"));break;case"middle":E=_p("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:E=_p("calc(".concat(b.length-1," * -").concat(s,")"));break}var F=[];if(d){var D=b[0].width,T=g.width;F.push("scale(".concat((ie(T)?T/D:1)/D,")"))}return k&&F.push("rotate(".concat(k,", ").concat(A,", ").concat(N,")")),F.length&&(_.transform=F.join(" ")),M.createElement("text",xg({},ze(_,!0),{x:A,y:N,className:ut("recharts-text",j),textAnchor:p,fill:y.includes("url")?a1:y}),b.map(function(I,W){var L=I.words.join(P?"":" ");return M.createElement("tspan",{x:A,dy:W===0?E:s,key:"".concat(L,"-").concat(W)},L)}))};function Ao(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function lF(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function zy(e){let t,r,n;e.length!==2?(t=Ao,r=(s,l)=>Ao(e(s),l),n=(s,l)=>e(s)-l):(t=e===Ao||e===lF?e:cF,r=e,n=e);function a(s,l,c=0,f=s.length){if(c<f){if(t(l,l)!==0)return f;do{const d=c+f>>>1;r(s[d],l)<0?c=d+1:f=d}while(c<f)}return c}function o(s,l,c=0,f=s.length){if(c<f){if(t(l,l)!==0)return f;do{const d=c+f>>>1;r(s[d],l)<=0?c=d+1:f=d}while(c<f)}return c}function i(s,l,c=0,f=s.length){const d=a(s,l,c,f-1);return d>c&&n(s[d-1],l)>-n(s[d],l)?d-1:d}return{left:a,center:i,right:o}}function cF(){return 0}function pO(e){return e===null?NaN:+e}function*uF(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const fF=zy(Ao),nu=fF.right;zy(pO).center;class o1 extends Map{constructor(t,r=pF){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(i1(this,t))}has(t){return super.has(i1(this,t))}set(t,r){return super.set(dF(this,t),r)}delete(t){return super.delete(hF(this,t))}}function i1({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function dF({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function hF({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function pF(e){return e!==null&&typeof e=="object"?e.valueOf():e}function gF(e=Ao){if(e===Ao)return gO;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function gO(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const mF=Math.sqrt(50),yF=Math.sqrt(10),vF=Math.sqrt(2);function Gf(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),o=n/Math.pow(10,a),i=o>=mF?10:o>=yF?5:o>=vF?2:1;let s,l,c;return a<0?(c=Math.pow(10,-a)/i,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*i,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=r&&r<2?Gf(e,t,r*2):[s,l,c]}function bg(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,o,i]=n?Gf(t,e,r):Gf(e,t,r);if(!(o>=a))return[];const s=o-a+1,l=new Array(s);if(n)if(i<0)for(let c=0;c<s;++c)l[c]=(o-c)/-i;else for(let c=0;c<s;++c)l[c]=(o-c)*i;else if(i<0)for(let c=0;c<s;++c)l[c]=(a+c)/-i;else for(let c=0;c<s;++c)l[c]=(a+c)*i;return l}function wg(e,t,r){return t=+t,e=+e,r=+r,Gf(e,t,r)[2]}function kg(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?wg(t,e,r):wg(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function s1(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function l1(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function mO(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?gO:gF(a);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,f=Math.log(l),d=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*d*(l-d)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(t-c*d/l+h)),m=Math.min(n,Math.floor(t+(l-c)*d/l+h));mO(e,t,p,m,a)}const o=e[t];let i=r,s=n;for(wl(e,r,t),a(e[n],o)>0&&wl(e,r,n);i<s;){for(wl(e,i,s),++i,--s;a(e[i],o)<0;)++i;for(;a(e[s],o)>0;)--s}a(e[r],o)===0?wl(e,r,s):(++s,wl(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function wl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function xF(e,t,r){if(e=Float64Array.from(uF(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return l1(e);if(t>=1)return s1(e);var n,a=(n-1)*t,o=Math.floor(a),i=s1(mO(e,o).subarray(0,o+1)),s=l1(e.subarray(o+1));return i+(s-i)*(a-o)}}function bF(e,t,r=pO){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,o=Math.floor(a),i=+r(e[o],o,e),s=+r(e[o+1],o+1,e);return i+(s-i)*(a-o)}}function wF(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(a);++n<a;)o[n]=e+n*r;return o}function Jn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function no(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Sg=Symbol("implicit");function Wy(){var e=new o1,t=[],r=[],n=Sg;function a(o){let i=e.get(o);if(i===void 0){if(n!==Sg)return n;e.set(o,i=t.push(o)-1)}return r[i%r.length]}return a.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new o1;for(const i of o)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(o){return arguments.length?(r=Array.from(o),a):r.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return Wy(t,r).unknown(n)},Jn.apply(a,arguments),a}function kc(){var e=Wy().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,o,i,s=!1,l=0,c=0,f=.5;delete e.unknown;function d(){var h=t().length,p=a<n,m=p?a:n,v=p?n:a;o=(v-m)/Math.max(1,h-l+c*2),s&&(o=Math.floor(o)),m+=(v-m-o*(h-l))*f,i=o*(1-l),s&&(m=Math.round(m),i=Math.round(i));var x=wF(h).map(function(y){return m+o*y});return r(p?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,d()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,s=!0,d()},e.bandwidth=function(){return i},e.step=function(){return o},e.round=function(h){return arguments.length?(s=!!h,d()):s},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),d()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},e.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),d()):f},e.copy=function(){return kc(t(),[n,a]).round(s).paddingInner(l).paddingOuter(c).align(f)},Jn.apply(d(),arguments)}function yO(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return yO(t())},e}function Gl(){return yO(kc.apply(null,arguments).paddingInner(1))}function Uy(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function vO(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function au(){}var Sc=.7,Hf=1/Sc,ls="\\s*([+-]?\\d+)\\s*",jc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Oa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kF=/^#([0-9a-f]{3,8})$/,SF=new RegExp(`^rgb\\(${ls},${ls},${ls}\\)$`),jF=new RegExp(`^rgb\\(${Oa},${Oa},${Oa}\\)$`),OF=new RegExp(`^rgba\\(${ls},${ls},${ls},${jc}\\)$`),PF=new RegExp(`^rgba\\(${Oa},${Oa},${Oa},${jc}\\)$`),_F=new RegExp(`^hsl\\(${jc},${Oa},${Oa}\\)$`),NF=new RegExp(`^hsla\\(${jc},${Oa},${Oa},${jc}\\)$`),c1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Uy(au,Oc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:u1,formatHex:u1,formatHex8:AF,formatHsl:MF,formatRgb:f1,toString:f1});function u1(){return this.rgb().formatHex()}function AF(){return this.rgb().formatHex8()}function MF(){return xO(this).formatHsl()}function f1(){return this.rgb().formatRgb()}function Oc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=kF.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?d1(t):r===3?new vn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Ru(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Ru(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=SF.exec(e))?new vn(t[1],t[2],t[3],1):(t=jF.exec(e))?new vn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=OF.exec(e))?Ru(t[1],t[2],t[3],t[4]):(t=PF.exec(e))?Ru(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=_F.exec(e))?g1(t[1],t[2]/100,t[3]/100,1):(t=NF.exec(e))?g1(t[1],t[2]/100,t[3]/100,t[4]):c1.hasOwnProperty(e)?d1(c1[e]):e==="transparent"?new vn(NaN,NaN,NaN,0):null}function d1(e){return new vn(e>>16&255,e>>8&255,e&255,1)}function Ru(e,t,r,n){return n<=0&&(e=t=r=NaN),new vn(e,t,r,n)}function CF(e){return e instanceof au||(e=Oc(e)),e?(e=e.rgb(),new vn(e.r,e.g,e.b,e.opacity)):new vn}function jg(e,t,r,n){return arguments.length===1?CF(e):new vn(e,t,r,n??1)}function vn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Uy(vn,jg,vO(au,{brighter(e){return e=e==null?Hf:Math.pow(Hf,e),new vn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Sc:Math.pow(Sc,e),new vn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new vn(ui(this.r),ui(this.g),ui(this.b),Vf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:h1,formatHex:h1,formatHex8:EF,formatRgb:p1,toString:p1}));function h1(){return`#${ni(this.r)}${ni(this.g)}${ni(this.b)}`}function EF(){return`#${ni(this.r)}${ni(this.g)}${ni(this.b)}${ni((isNaN(this.opacity)?1:this.opacity)*255)}`}function p1(){const e=Vf(this.opacity);return`${e===1?"rgb(":"rgba("}${ui(this.r)}, ${ui(this.g)}, ${ui(this.b)}${e===1?")":`, ${e})`}`}function Vf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ui(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ni(e){return e=ui(e),(e<16?"0":"")+e.toString(16)}function g1(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new sa(e,t,r,n)}function xO(e){if(e instanceof sa)return new sa(e.h,e.s,e.l,e.opacity);if(e instanceof au||(e=Oc(e)),!e)return new sa;if(e instanceof sa)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),o=Math.max(t,r,n),i=NaN,s=o-a,l=(o+a)/2;return s?(t===o?i=(r-n)/s+(r<n)*6:r===o?i=(n-t)/s+2:i=(t-r)/s+4,s/=l<.5?o+a:2-o-a,i*=60):s=l>0&&l<1?0:i,new sa(i,s,l,e.opacity)}function TF(e,t,r,n){return arguments.length===1?xO(e):new sa(e,t,r,n??1)}function sa(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Uy(sa,TF,vO(au,{brighter(e){return e=e==null?Hf:Math.pow(Hf,e),new sa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Sc:Math.pow(Sc,e),new sa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new vn(Np(e>=240?e-240:e+120,a,n),Np(e,a,n),Np(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new sa(m1(this.h),Lu(this.s),Lu(this.l),Vf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Vf(this.opacity);return`${e===1?"hsl(":"hsla("}${m1(this.h)}, ${Lu(this.s)*100}%, ${Lu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function m1(e){return e=(e||0)%360,e<0?e+360:e}function Lu(e){return Math.max(0,Math.min(1,e||0))}function Np(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Gy=e=>()=>e;function $F(e,t){return function(r){return e+r*t}}function DF(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function RF(e){return(e=+e)==1?bO:function(t,r){return r-t?DF(t,r,e):Gy(isNaN(t)?r:t)}}function bO(e,t){var r=t-e;return r?$F(e,r):Gy(isNaN(e)?t:e)}const y1=function e(t){var r=RF(t);function n(a,o){var i=r((a=jg(a)).r,(o=jg(o)).r),s=r(a.g,o.g),l=r(a.b,o.b),c=bO(a.opacity,o.opacity);return function(f){return a.r=i(f),a.g=s(f),a.b=l(f),a.opacity=c(f),a+""}}return n.gamma=e,n}(1);function LF(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(o){for(a=0;a<r;++a)n[a]=e[a]*(1-o)+t[a]*o;return n}}function IF(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function BF(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),o=new Array(r),i;for(i=0;i<n;++i)a[i]=nl(e[i],t[i]);for(;i<r;++i)o[i]=t[i];return function(s){for(i=0;i<n;++i)o[i]=a[i](s);return o}}function FF(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Kf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function zF(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=nl(e[a],t[a]):n[a]=t[a];return function(o){for(a in r)n[a]=r[a](o);return n}}var Og=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ap=new RegExp(Og.source,"g");function WF(e){return function(){return e}}function UF(e){return function(t){return e(t)+""}}function GF(e,t){var r=Og.lastIndex=Ap.lastIndex=0,n,a,o,i=-1,s=[],l=[];for(e=e+"",t=t+"";(n=Og.exec(e))&&(a=Ap.exec(t));)(o=a.index)>r&&(o=t.slice(r,o),s[i]?s[i]+=o:s[++i]=o),(n=n[0])===(a=a[0])?s[i]?s[i]+=a:s[++i]=a:(s[++i]=null,l.push({i,x:Kf(n,a)})),r=Ap.lastIndex;return r<t.length&&(o=t.slice(r),s[i]?s[i]+=o:s[++i]=o),s.length<2?l[0]?UF(l[0].x):WF(t):(t=l.length,function(c){for(var f=0,d;f<t;++f)s[(d=l[f]).i]=d.x(c);return s.join("")})}function nl(e,t){var r=typeof t,n;return t==null||r==="boolean"?Gy(t):(r==="number"?Kf:r==="string"?(n=Oc(t))?(t=n,y1):GF:t instanceof Oc?y1:t instanceof Date?FF:IF(t)?LF:Array.isArray(t)?BF:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?zF:Kf)(e,t)}function Hy(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function HF(e,t){t===void 0&&(t=e,e=nl);for(var r=0,n=t.length-1,a=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(a,a=t[++r]);return function(i){var s=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return o[s](i-s)}}function VF(e){return function(){return e}}function Xf(e){return+e}var v1=[0,1];function un(e){return e}function Pg(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:VF(isNaN(t)?NaN:.5)}function KF(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function XF(e,t,r){var n=e[0],a=e[1],o=t[0],i=t[1];return a<n?(n=Pg(a,n),o=r(i,o)):(n=Pg(n,a),o=r(o,i)),function(s){return o(n(s))}}function YF(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),o=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=Pg(e[i],e[i+1]),o[i]=r(t[i],t[i+1]);return function(s){var l=nu(e,s,1,n)-1;return o[l](a[l](s))}}function ou(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function yh(){var e=v1,t=v1,r=nl,n,a,o,i=un,s,l,c;function f(){var h=Math.min(e.length,t.length);return i!==un&&(i=KF(e[0],e[h-1])),s=h>2?YF:XF,l=c=null,d}function d(h){return h==null||isNaN(h=+h)?o:(l||(l=s(e.map(n),t,r)))(n(i(h)))}return d.invert=function(h){return i(a((c||(c=s(t,e.map(n),Kf)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,Xf),f()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),r=Hy,f()},d.clamp=function(h){return arguments.length?(i=h?!0:un,f()):i!==un},d.interpolate=function(h){return arguments.length?(r=h,f()):r},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,p){return n=h,a=p,f()}}function Vy(){return yh()(un,un)}function qF(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Yf(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ss(e){return e=Yf(Math.abs(e)),e?e[1]:NaN}function ZF(e,t){return function(r,n){for(var a=r.length,o=[],i=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),o.push(r.substring(a-=s,a+s)),!((l+=s+1)>n));)s=e[i=(i+1)%e.length];return o.reverse().join(t)}}function QF(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var JF=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Pc(e){if(!(t=JF.exec(e)))throw new Error("invalid format: "+e);var t;return new Ky({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Pc.prototype=Ky.prototype;function Ky(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Ky.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ez(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var wO;function tz(e,t){var r=Yf(e,t);if(!r)return e+"";var n=r[0],a=r[1],o=a-(wO=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return o===i?n:o>i?n+new Array(o-i+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Yf(e,Math.max(0,t+o-1))[0]}function x1(e,t){var r=Yf(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const b1={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:qF,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>x1(e*100,t),r:x1,s:tz,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function w1(e){return e}var k1=Array.prototype.map,S1=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function rz(e){var t=e.grouping===void 0||e.thousands===void 0?w1:ZF(k1.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?w1:QF(k1.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(d){d=Pc(d);var h=d.fill,p=d.align,m=d.sign,v=d.symbol,x=d.zero,y=d.width,g=d.comma,b=d.precision,S=d.trim,w=d.type;w==="n"?(g=!0,w="g"):b1[w]||(b===void 0&&(b=12),S=!0,w="g"),(x||h==="0"&&p==="=")&&(x=!0,h="0",p="=");var k=v==="$"?r:v==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",j=v==="$"?n:/[%p]/.test(w)?i:"",P=b1[w],_=/[defgprs%]/.test(w);b=b===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function A(N){var E=k,F=j,D,T,I;if(w==="c")F=P(N)+F,N="";else{N=+N;var W=N<0||1/N<0;if(N=isNaN(N)?l:P(Math.abs(N),b),S&&(N=ez(N)),W&&+N==0&&m!=="+"&&(W=!1),E=(W?m==="("?m:s:m==="-"||m==="("?"":m)+E,F=(w==="s"?S1[8+wO/3]:"")+F+(W&&m==="("?")":""),_){for(D=-1,T=N.length;++D<T;)if(I=N.charCodeAt(D),48>I||I>57){F=(I===46?a+N.slice(D+1):N.slice(D))+F,N=N.slice(0,D);break}}}g&&!x&&(N=t(N,1/0));var L=E.length+N.length+F.length,R=L<y?new Array(y-L+1).join(h):"";switch(g&&x&&(N=t(R+N,R.length?y-F.length:1/0),R=""),p){case"<":N=E+N+F+R;break;case"=":N=E+R+N+F;break;case"^":N=R.slice(0,L=R.length>>1)+E+N+F+R.slice(L);break;default:N=R+E+N+F;break}return o(N)}return A.toString=function(){return d+""},A}function f(d,h){var p=c((d=Pc(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(Ss(h)/3)))*3,v=Math.pow(10,-m),x=S1[8+m/3];return function(y){return p(v*y)+x}}return{format:c,formatPrefix:f}}var Iu,Xy,kO;nz({thousands:",",grouping:[3],currency:["$",""]});function nz(e){return Iu=rz(e),Xy=Iu.format,kO=Iu.formatPrefix,Iu}function az(e){return Math.max(0,-Ss(Math.abs(e)))}function oz(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ss(t)/3)))*3-Ss(Math.abs(e)))}function iz(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ss(t)-Ss(e))+1}function SO(e,t,r,n){var a=kg(e,t,r),o;switch(n=Pc(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=oz(a,i))&&(n.precision=o),kO(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=iz(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=az(a))&&(n.precision=o-(n.type==="%")*2);break}}return Xy(n)}function Io(e){var t=e.domain;return e.ticks=function(r){var n=t();return bg(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return SO(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,o=n.length-1,i=n[a],s=n[o],l,c,f=10;for(s<i&&(c=i,i=s,s=c,c=a,a=o,o=c);f-- >0;){if(c=wg(i,s,r),c===l)return n[a]=i,n[o]=s,t(n);if(c>0)i=Math.floor(i/c)*c,s=Math.ceil(s/c)*c;else if(c<0)i=Math.ceil(i*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function qf(){var e=Vy();return e.copy=function(){return ou(e,qf())},Jn.apply(e,arguments),Io(e)}function jO(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Xf),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return jO(e).unknown(t)},e=arguments.length?Array.from(e,Xf):[0,1],Io(r)}function OO(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],o=e[n],i;return o<a&&(i=r,r=n,n=i,i=a,a=o,o=i),e[r]=t.floor(a),e[n]=t.ceil(o),e}function j1(e){return Math.log(e)}function O1(e){return Math.exp(e)}function sz(e){return-Math.log(-e)}function lz(e){return-Math.exp(-e)}function cz(e){return isFinite(e)?+("1e"+e):e<0?0:e}function uz(e){return e===10?cz:e===Math.E?Math.exp:t=>Math.pow(e,t)}function fz(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function P1(e){return(t,r)=>-e(-t,r)}function Yy(e){const t=e(j1,O1),r=t.domain;let n=10,a,o;function i(){return a=fz(n),o=uz(n),r()[0]<0?(a=P1(a),o=P1(o),e(sz,lz)):e(j1,O1),t}return t.base=function(s){return arguments.length?(n=+s,i()):n},t.domain=function(s){return arguments.length?(r(s),i()):r()},t.ticks=s=>{const l=r();let c=l[0],f=l[l.length-1];const d=f<c;d&&([c,f]=[f,c]);let h=a(c),p=a(f),m,v;const x=s==null?10:+s;let y=[];if(!(n%1)&&p-h<x){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(m=1;m<n;++m)if(v=h<0?m/o(-h):m*o(h),!(v<c)){if(v>f)break;y.push(v)}}else for(;h<=p;++h)for(m=n-1;m>=1;--m)if(v=h>0?m/o(-h):m*o(h),!(v<c)){if(v>f)break;y.push(v)}y.length*2<x&&(y=bg(c,f,x))}else y=bg(h,p,Math.min(p-h,x)).map(o);return d?y.reverse():y},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Pc(l)).precision==null&&(l.trim=!0),l=Xy(l)),s===1/0)return l;const c=Math.max(1,n*s/t.ticks().length);return f=>{let d=f/o(Math.round(a(f)));return d*n<n-.5&&(d*=n),d<=c?l(f):""}},t.nice=()=>r(OO(r(),{floor:s=>o(Math.floor(a(s))),ceil:s=>o(Math.ceil(a(s)))})),t}function PO(){const e=Yy(yh()).domain([1,10]);return e.copy=()=>ou(e,PO()).base(e.base()),Jn.apply(e,arguments),e}function _1(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function N1(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function qy(e){var t=1,r=e(_1(t),N1(t));return r.constant=function(n){return arguments.length?e(_1(t=+n),N1(t)):t},Io(r)}function _O(){var e=qy(yh());return e.copy=function(){return ou(e,_O()).constant(e.constant())},Jn.apply(e,arguments)}function A1(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function dz(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function hz(e){return e<0?-e*e:e*e}function Zy(e){var t=e(un,un),r=1;function n(){return r===1?e(un,un):r===.5?e(dz,hz):e(A1(r),A1(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Io(t)}function Qy(){var e=Zy(yh());return e.copy=function(){return ou(e,Qy()).exponent(e.exponent())},Jn.apply(e,arguments),e}function pz(){return Qy.apply(null,arguments).exponent(.5)}function M1(e){return Math.sign(e)*e*e}function gz(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function NO(){var e=Vy(),t=[0,1],r=!1,n;function a(o){var i=gz(e(o));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(o){return e.invert(M1(o))},a.domain=function(o){return arguments.length?(e.domain(o),a):e.domain()},a.range=function(o){return arguments.length?(e.range((t=Array.from(o,Xf)).map(M1)),a):t.slice()},a.rangeRound=function(o){return a.range(o).round(!0)},a.round=function(o){return arguments.length?(r=!!o,a):r},a.clamp=function(o){return arguments.length?(e.clamp(o),a):e.clamp()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return NO(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Jn.apply(a,arguments),Io(a)}function AO(){var e=[],t=[],r=[],n;function a(){var i=0,s=Math.max(1,t.length);for(r=new Array(s-1);++i<s;)r[i-1]=bF(e,i/s);return o}function o(i){return i==null||isNaN(i=+i)?n:t[nu(r,i)]}return o.invertExtent=function(i){var s=t.indexOf(i);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},o.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let s of i)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Ao),a()},o.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},o.unknown=function(i){return arguments.length?(n=i,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return AO().domain(e).range(t).unknown(n)},Jn.apply(o,arguments)}function MO(){var e=0,t=1,r=1,n=[.5],a=[0,1],o;function i(l){return l!=null&&l<=l?a[nu(n,l,0,r)]:o}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return i}return i.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},i.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,s()):a.slice()},i.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},i.unknown=function(l){return arguments.length&&(o=l),i},i.thresholds=function(){return n.slice()},i.copy=function(){return MO().domain([e,t]).range(a).unknown(o)},Jn.apply(Io(i),arguments)}function CO(){var e=[.5],t=[0,1],r,n=1;function a(o){return o!=null&&o<=o?t[nu(e,o,0,n)]:r}return a.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(o){var i=t.indexOf(o);return[e[i-1],e[i]]},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return CO().domain(e).range(t).unknown(r)},Jn.apply(a,arguments)}const Mp=new Date,Cp=new Date;function Pr(e,t,r,n){function a(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=o=>(e(o=new Date(+o)),o),a.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),a.round=o=>{const i=a(o),s=a.ceil(o);return o-i<s-o?i:s},a.offset=(o,i)=>(t(o=new Date(+o),i==null?1:Math.floor(i)),o),a.range=(o,i,s)=>{const l=[];if(o=a.ceil(o),s=s==null?1:Math.floor(s),!(o<i)||!(s>0))return l;let c;do l.push(c=new Date(+o)),t(o,s),e(o);while(c<o&&o<i);return l},a.filter=o=>Pr(i=>{if(i>=i)for(;e(i),!o(i);)i.setTime(i-1)},(i,s)=>{if(i>=i)if(s<0)for(;++s<=0;)for(;t(i,-1),!o(i););else for(;--s>=0;)for(;t(i,1),!o(i););}),r&&(a.count=(o,i)=>(Mp.setTime(+o),Cp.setTime(+i),e(Mp),e(Cp),Math.floor(r(Mp,Cp))),a.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(n?i=>n(i)%o===0:i=>a.count(0,i)%o===0):a)),a}const Zf=Pr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Zf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Pr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Zf);Zf.range;const Ba=1e3,Hn=Ba*60,Fa=Hn*60,Za=Fa*24,Jy=Za*7,C1=Za*30,Ep=Za*365,ai=Pr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ba)},(e,t)=>(t-e)/Ba,e=>e.getUTCSeconds());ai.range;const ev=Pr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ba)},(e,t)=>{e.setTime(+e+t*Hn)},(e,t)=>(t-e)/Hn,e=>e.getMinutes());ev.range;const tv=Pr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Hn)},(e,t)=>(t-e)/Hn,e=>e.getUTCMinutes());tv.range;const rv=Pr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ba-e.getMinutes()*Hn)},(e,t)=>{e.setTime(+e+t*Fa)},(e,t)=>(t-e)/Fa,e=>e.getHours());rv.range;const nv=Pr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Fa)},(e,t)=>(t-e)/Fa,e=>e.getUTCHours());nv.range;const iu=Pr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Hn)/Za,e=>e.getDate()-1);iu.range;const vh=Pr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Za,e=>e.getUTCDate()-1);vh.range;const EO=Pr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Za,e=>Math.floor(e/Za));EO.range;function Ai(e){return Pr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Hn)/Jy)}const xh=Ai(0),Qf=Ai(1),mz=Ai(2),yz=Ai(3),js=Ai(4),vz=Ai(5),xz=Ai(6);xh.range;Qf.range;mz.range;yz.range;js.range;vz.range;xz.range;function Mi(e){return Pr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Jy)}const bh=Mi(0),Jf=Mi(1),bz=Mi(2),wz=Mi(3),Os=Mi(4),kz=Mi(5),Sz=Mi(6);bh.range;Jf.range;bz.range;wz.range;Os.range;kz.range;Sz.range;const av=Pr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());av.range;const ov=Pr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());ov.range;const Qa=Pr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Qa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Pr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Qa.range;const Ja=Pr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ja.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Pr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ja.range;function TO(e,t,r,n,a,o){const i=[[ai,1,Ba],[ai,5,5*Ba],[ai,15,15*Ba],[ai,30,30*Ba],[o,1,Hn],[o,5,5*Hn],[o,15,15*Hn],[o,30,30*Hn],[a,1,Fa],[a,3,3*Fa],[a,6,6*Fa],[a,12,12*Fa],[n,1,Za],[n,2,2*Za],[r,1,Jy],[t,1,C1],[t,3,3*C1],[e,1,Ep]];function s(c,f,d){const h=f<c;h&&([c,f]=[f,c]);const p=d&&typeof d.range=="function"?d:l(c,f,d),m=p?p.range(c,+f+1):[];return h?m.reverse():m}function l(c,f,d){const h=Math.abs(f-c)/d,p=zy(([,,x])=>x).right(i,h);if(p===i.length)return e.every(kg(c/Ep,f/Ep,d));if(p===0)return Zf.every(Math.max(kg(c,f,d),1));const[m,v]=i[h/i[p-1][2]<i[p][2]/h?p-1:p];return m.every(v)}return[s,l]}const[jz,Oz]=TO(Ja,ov,bh,EO,nv,tv),[Pz,_z]=TO(Qa,av,xh,iu,rv,ev);function Tp(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function $p(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function kl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Nz(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,o=e.days,i=e.shortDays,s=e.months,l=e.shortMonths,c=Sl(a),f=jl(a),d=Sl(o),h=jl(o),p=Sl(i),m=jl(i),v=Sl(s),x=jl(s),y=Sl(l),g=jl(l),b={a:W,A:L,b:R,B,c:null,d:L1,e:L1,f:Zz,g:s9,G:c9,H:Xz,I:Yz,j:qz,L:$O,m:Qz,M:Jz,p:te,q:X,Q:F1,s:z1,S:e9,u:t9,U:r9,V:n9,w:a9,W:o9,x:null,X:null,y:i9,Y:l9,Z:u9,"%":B1},S={a:G,A:U,b:ce,B:ue,c:null,d:I1,e:I1,f:p9,g:j9,G:P9,H:f9,I:d9,j:h9,L:RO,m:g9,M:m9,p:xe,q:ve,Q:F1,s:z1,S:y9,u:v9,U:x9,V:b9,w:w9,W:k9,x:null,X:null,y:S9,Y:O9,Z:_9,"%":B1},w={a:A,A:N,b:E,B:F,c:D,d:D1,e:D1,f:Gz,g:$1,G:T1,H:R1,I:R1,j:Fz,L:Uz,m:Bz,M:zz,p:_,q:Iz,Q:Vz,s:Kz,S:Wz,u:Tz,U:$z,V:Dz,w:Ez,W:Rz,x:T,X:I,y:$1,Y:T1,Z:Lz,"%":Hz};b.x=k(r,b),b.X=k(n,b),b.c=k(t,b),S.x=k(r,S),S.X=k(n,S),S.c=k(t,S);function k(V,le){return function(ge){var Z=[],Xe=-1,je=0,We=V.length,rt,bt,Zt;for(ge instanceof Date||(ge=new Date(+ge));++Xe<We;)V.charCodeAt(Xe)===37&&(Z.push(V.slice(je,Xe)),(bt=E1[rt=V.charAt(++Xe)])!=null?rt=V.charAt(++Xe):bt=rt==="e"?" ":"0",(Zt=le[rt])&&(rt=Zt(ge,bt)),Z.push(rt),je=Xe+1);return Z.push(V.slice(je,Xe)),Z.join("")}}function j(V,le){return function(ge){var Z=kl(1900,void 0,1),Xe=P(Z,V,ge+="",0),je,We;if(Xe!=ge.length)return null;if("Q"in Z)return new Date(Z.Q);if("s"in Z)return new Date(Z.s*1e3+("L"in Z?Z.L:0));if(le&&!("Z"in Z)&&(Z.Z=0),"p"in Z&&(Z.H=Z.H%12+Z.p*12),Z.m===void 0&&(Z.m="q"in Z?Z.q:0),"V"in Z){if(Z.V<1||Z.V>53)return null;"w"in Z||(Z.w=1),"Z"in Z?(je=$p(kl(Z.y,0,1)),We=je.getUTCDay(),je=We>4||We===0?Jf.ceil(je):Jf(je),je=vh.offset(je,(Z.V-1)*7),Z.y=je.getUTCFullYear(),Z.m=je.getUTCMonth(),Z.d=je.getUTCDate()+(Z.w+6)%7):(je=Tp(kl(Z.y,0,1)),We=je.getDay(),je=We>4||We===0?Qf.ceil(je):Qf(je),je=iu.offset(je,(Z.V-1)*7),Z.y=je.getFullYear(),Z.m=je.getMonth(),Z.d=je.getDate()+(Z.w+6)%7)}else("W"in Z||"U"in Z)&&("w"in Z||(Z.w="u"in Z?Z.u%7:"W"in Z?1:0),We="Z"in Z?$p(kl(Z.y,0,1)).getUTCDay():Tp(kl(Z.y,0,1)).getDay(),Z.m=0,Z.d="W"in Z?(Z.w+6)%7+Z.W*7-(We+5)%7:Z.w+Z.U*7-(We+6)%7);return"Z"in Z?(Z.H+=Z.Z/100|0,Z.M+=Z.Z%100,$p(Z)):Tp(Z)}}function P(V,le,ge,Z){for(var Xe=0,je=le.length,We=ge.length,rt,bt;Xe<je;){if(Z>=We)return-1;if(rt=le.charCodeAt(Xe++),rt===37){if(rt=le.charAt(Xe++),bt=w[rt in E1?le.charAt(Xe++):rt],!bt||(Z=bt(V,ge,Z))<0)return-1}else if(rt!=ge.charCodeAt(Z++))return-1}return Z}function _(V,le,ge){var Z=c.exec(le.slice(ge));return Z?(V.p=f.get(Z[0].toLowerCase()),ge+Z[0].length):-1}function A(V,le,ge){var Z=p.exec(le.slice(ge));return Z?(V.w=m.get(Z[0].toLowerCase()),ge+Z[0].length):-1}function N(V,le,ge){var Z=d.exec(le.slice(ge));return Z?(V.w=h.get(Z[0].toLowerCase()),ge+Z[0].length):-1}function E(V,le,ge){var Z=y.exec(le.slice(ge));return Z?(V.m=g.get(Z[0].toLowerCase()),ge+Z[0].length):-1}function F(V,le,ge){var Z=v.exec(le.slice(ge));return Z?(V.m=x.get(Z[0].toLowerCase()),ge+Z[0].length):-1}function D(V,le,ge){return P(V,t,le,ge)}function T(V,le,ge){return P(V,r,le,ge)}function I(V,le,ge){return P(V,n,le,ge)}function W(V){return i[V.getDay()]}function L(V){return o[V.getDay()]}function R(V){return l[V.getMonth()]}function B(V){return s[V.getMonth()]}function te(V){return a[+(V.getHours()>=12)]}function X(V){return 1+~~(V.getMonth()/3)}function G(V){return i[V.getUTCDay()]}function U(V){return o[V.getUTCDay()]}function ce(V){return l[V.getUTCMonth()]}function ue(V){return s[V.getUTCMonth()]}function xe(V){return a[+(V.getUTCHours()>=12)]}function ve(V){return 1+~~(V.getUTCMonth()/3)}return{format:function(V){var le=k(V+="",b);return le.toString=function(){return V},le},parse:function(V){var le=j(V+="",!1);return le.toString=function(){return V},le},utcFormat:function(V){var le=k(V+="",S);return le.toString=function(){return V},le},utcParse:function(V){var le=j(V+="",!0);return le.toString=function(){return V},le}}}var E1={"-":"",_:" ",0:"0"},Er=/^\s*\d+/,Az=/^%/,Mz=/[\\^$*+?|[\]().{}]/g;function pt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",o=a.length;return n+(o<r?new Array(r-o+1).join(t)+a:a)}function Cz(e){return e.replace(Mz,"\\$&")}function Sl(e){return new RegExp("^(?:"+e.map(Cz).join("|")+")","i")}function jl(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Ez(e,t,r){var n=Er.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Tz(e,t,r){var n=Er.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function $z(e,t,r){var n=Er.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Dz(e,t,r){var n=Er.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Rz(e,t,r){var n=Er.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function T1(e,t,r){var n=Er.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function $1(e,t,r){var n=Er.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Lz(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Iz(e,t,r){var n=Er.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Bz(e,t,r){var n=Er.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function D1(e,t,r){var n=Er.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Fz(e,t,r){var n=Er.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function R1(e,t,r){var n=Er.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function zz(e,t,r){var n=Er.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Wz(e,t,r){var n=Er.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Uz(e,t,r){var n=Er.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Gz(e,t,r){var n=Er.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Hz(e,t,r){var n=Az.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Vz(e,t,r){var n=Er.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Kz(e,t,r){var n=Er.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function L1(e,t){return pt(e.getDate(),t,2)}function Xz(e,t){return pt(e.getHours(),t,2)}function Yz(e,t){return pt(e.getHours()%12||12,t,2)}function qz(e,t){return pt(1+iu.count(Qa(e),e),t,3)}function $O(e,t){return pt(e.getMilliseconds(),t,3)}function Zz(e,t){return $O(e,t)+"000"}function Qz(e,t){return pt(e.getMonth()+1,t,2)}function Jz(e,t){return pt(e.getMinutes(),t,2)}function e9(e,t){return pt(e.getSeconds(),t,2)}function t9(e){var t=e.getDay();return t===0?7:t}function r9(e,t){return pt(xh.count(Qa(e)-1,e),t,2)}function DO(e){var t=e.getDay();return t>=4||t===0?js(e):js.ceil(e)}function n9(e,t){return e=DO(e),pt(js.count(Qa(e),e)+(Qa(e).getDay()===4),t,2)}function a9(e){return e.getDay()}function o9(e,t){return pt(Qf.count(Qa(e)-1,e),t,2)}function i9(e,t){return pt(e.getFullYear()%100,t,2)}function s9(e,t){return e=DO(e),pt(e.getFullYear()%100,t,2)}function l9(e,t){return pt(e.getFullYear()%1e4,t,4)}function c9(e,t){var r=e.getDay();return e=r>=4||r===0?js(e):js.ceil(e),pt(e.getFullYear()%1e4,t,4)}function u9(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+pt(t/60|0,"0",2)+pt(t%60,"0",2)}function I1(e,t){return pt(e.getUTCDate(),t,2)}function f9(e,t){return pt(e.getUTCHours(),t,2)}function d9(e,t){return pt(e.getUTCHours()%12||12,t,2)}function h9(e,t){return pt(1+vh.count(Ja(e),e),t,3)}function RO(e,t){return pt(e.getUTCMilliseconds(),t,3)}function p9(e,t){return RO(e,t)+"000"}function g9(e,t){return pt(e.getUTCMonth()+1,t,2)}function m9(e,t){return pt(e.getUTCMinutes(),t,2)}function y9(e,t){return pt(e.getUTCSeconds(),t,2)}function v9(e){var t=e.getUTCDay();return t===0?7:t}function x9(e,t){return pt(bh.count(Ja(e)-1,e),t,2)}function LO(e){var t=e.getUTCDay();return t>=4||t===0?Os(e):Os.ceil(e)}function b9(e,t){return e=LO(e),pt(Os.count(Ja(e),e)+(Ja(e).getUTCDay()===4),t,2)}function w9(e){return e.getUTCDay()}function k9(e,t){return pt(Jf.count(Ja(e)-1,e),t,2)}function S9(e,t){return pt(e.getUTCFullYear()%100,t,2)}function j9(e,t){return e=LO(e),pt(e.getUTCFullYear()%100,t,2)}function O9(e,t){return pt(e.getUTCFullYear()%1e4,t,4)}function P9(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Os(e):Os.ceil(e),pt(e.getUTCFullYear()%1e4,t,4)}function _9(){return"+0000"}function B1(){return"%"}function F1(e){return+e}function z1(e){return Math.floor(+e/1e3)}var Ri,IO,BO;N9({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function N9(e){return Ri=Nz(e),IO=Ri.format,Ri.parse,BO=Ri.utcFormat,Ri.utcParse,Ri}function A9(e){return new Date(e)}function M9(e){return e instanceof Date?+e:+new Date(+e)}function iv(e,t,r,n,a,o,i,s,l,c){var f=Vy(),d=f.invert,h=f.domain,p=c(".%L"),m=c(":%S"),v=c("%I:%M"),x=c("%I %p"),y=c("%a %d"),g=c("%b %d"),b=c("%B"),S=c("%Y");function w(k){return(l(k)<k?p:s(k)<k?m:i(k)<k?v:o(k)<k?x:n(k)<k?a(k)<k?y:g:r(k)<k?b:S)(k)}return f.invert=function(k){return new Date(d(k))},f.domain=function(k){return arguments.length?h(Array.from(k,M9)):h().map(A9)},f.ticks=function(k){var j=h();return e(j[0],j[j.length-1],k??10)},f.tickFormat=function(k,j){return j==null?w:c(j)},f.nice=function(k){var j=h();return(!k||typeof k.range!="function")&&(k=t(j[0],j[j.length-1],k??10)),k?h(OO(j,k)):f},f.copy=function(){return ou(f,iv(e,t,r,n,a,o,i,s,l,c))},f}function C9(){return Jn.apply(iv(Pz,_z,Qa,av,xh,iu,rv,ev,ai,IO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function E9(){return Jn.apply(iv(jz,Oz,Ja,ov,bh,vh,nv,tv,ai,BO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function wh(){var e=0,t=1,r,n,a,o,i=un,s=!1,l;function c(d){return d==null||isNaN(d=+d)?l:i(a===0?.5:(d=(o(d)-r)*a,s?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([e,t]=d,r=o(e=+e),n=o(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(d){return arguments.length?(s=!!d,c):s},c.interpolator=function(d){return arguments.length?(i=d,c):i};function f(d){return function(h){var p,m;return arguments.length?([p,m]=h,i=d(p,m),c):[i(0),i(1)]}}return c.range=f(nl),c.rangeRound=f(Hy),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return o=d,r=d(e),n=d(t),a=r===n?0:1/(n-r),c}}function Bo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function FO(){var e=Io(wh()(un));return e.copy=function(){return Bo(e,FO())},no.apply(e,arguments)}function zO(){var e=Yy(wh()).domain([1,10]);return e.copy=function(){return Bo(e,zO()).base(e.base())},no.apply(e,arguments)}function WO(){var e=qy(wh());return e.copy=function(){return Bo(e,WO()).constant(e.constant())},no.apply(e,arguments)}function sv(){var e=Zy(wh());return e.copy=function(){return Bo(e,sv()).exponent(e.exponent())},no.apply(e,arguments)}function T9(){return sv.apply(null,arguments).exponent(.5)}function UO(){var e=[],t=un;function r(n){if(n!=null&&!isNaN(n=+n))return t((nu(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Ao),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,o)=>xF(e,o/n))},r.copy=function(){return UO(t).domain(e)},no.apply(r,arguments)}function kh(){var e=0,t=.5,r=1,n=1,a,o,i,s,l,c=un,f,d=!1,h;function p(v){return isNaN(v=+v)?h:(v=.5+((v=+f(v))-o)*(n*v<n*o?s:l),c(d?Math.max(0,Math.min(1,v)):v))}p.domain=function(v){return arguments.length?([e,t,r]=v,a=f(e=+e),o=f(t=+t),i=f(r=+r),s=a===o?0:.5/(o-a),l=o===i?0:.5/(i-o),n=o<a?-1:1,p):[e,t,r]},p.clamp=function(v){return arguments.length?(d=!!v,p):d},p.interpolator=function(v){return arguments.length?(c=v,p):c};function m(v){return function(x){var y,g,b;return arguments.length?([y,g,b]=x,c=HF(v,[y,g,b]),p):[c(0),c(.5),c(1)]}}return p.range=m(nl),p.rangeRound=m(Hy),p.unknown=function(v){return arguments.length?(h=v,p):h},function(v){return f=v,a=v(e),o=v(t),i=v(r),s=a===o?0:.5/(o-a),l=o===i?0:.5/(i-o),n=o<a?-1:1,p}}function GO(){var e=Io(kh()(un));return e.copy=function(){return Bo(e,GO())},no.apply(e,arguments)}function HO(){var e=Yy(kh()).domain([.1,1,10]);return e.copy=function(){return Bo(e,HO()).base(e.base())},no.apply(e,arguments)}function VO(){var e=qy(kh());return e.copy=function(){return Bo(e,VO()).constant(e.constant())},no.apply(e,arguments)}function lv(){var e=Zy(kh());return e.copy=function(){return Bo(e,lv()).exponent(e.exponent())},no.apply(e,arguments)}function $9(){return lv.apply(null,arguments).exponent(.5)}const W1=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:kc,scaleDiverging:GO,scaleDivergingLog:HO,scaleDivergingPow:lv,scaleDivergingSqrt:$9,scaleDivergingSymlog:VO,scaleIdentity:jO,scaleImplicit:Sg,scaleLinear:qf,scaleLog:PO,scaleOrdinal:Wy,scalePoint:Gl,scalePow:Qy,scaleQuantile:AO,scaleQuantize:MO,scaleRadial:NO,scaleSequential:FO,scaleSequentialLog:zO,scaleSequentialPow:sv,scaleSequentialQuantile:UO,scaleSequentialSqrt:T9,scaleSequentialSymlog:WO,scaleSqrt:pz,scaleSymlog:_O,scaleThreshold:CO,scaleTime:C9,scaleUtc:E9,tickFormat:SO},Symbol.toStringTag,{value:"Module"}));var D9=Xs;function R9(e,t,r){for(var n=-1,a=e.length;++n<a;){var o=e[n],i=t(o);if(i!=null&&(s===void 0?i===i&&!D9(i):r(i,s)))var s=i,l=o}return l}var KO=R9;function L9(e,t){return e>t}var I9=L9,B9=KO,F9=I9,z9=rl;function W9(e){return e&&e.length?B9(e,z9,F9):void 0}var U9=W9;const vo=Tt(U9);function G9(e,t){return e<t}var H9=G9,V9=KO,K9=H9,X9=rl;function Y9(e){return e&&e.length?V9(e,X9,K9):void 0}var q9=Y9;const Sh=Tt(q9);var Z9=ky,Q9=Ro,J9=rO,e7=Sn;function t7(e,t){var r=e7(e)?Z9:J9;return r(e,Q9(t))}var r7=t7,n7=eO,a7=r7;function o7(e,t){return n7(a7(e,t),1)}var i7=o7;const s7=Tt(i7);var l7=Ry;function c7(e,t){return l7(e,t)}var u7=c7;const bi=Tt(u7);var al=1e9,f7={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},uv,qt=!0,Zn="[DecimalError] ",fi=Zn+"Invalid argument: ",cv=Zn+"Exponent out of range: ",ol=Math.floor,Qo=Math.pow,d7=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,An,Ar=1e7,Gt=7,XO=9007199254740991,ed=ol(XO/Gt),pe={};pe.absoluteValue=pe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};pe.comparedTo=pe.cmp=function(e){var t,r,n,a,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===a?0:n>a^o.s<0?1:-1};pe.decimalPlaces=pe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Gt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};pe.dividedBy=pe.div=function(e){return Va(this,new this.constructor(e))};pe.dividedToIntegerBy=pe.idiv=function(e){var t=this,r=t.constructor;return Et(Va(t,new r(e),0,1),r.precision)};pe.equals=pe.eq=function(e){return!this.cmp(e)};pe.exponent=function(){return vr(this)};pe.greaterThan=pe.gt=function(e){return this.cmp(e)>0};pe.greaterThanOrEqualTo=pe.gte=function(e){return this.cmp(e)>=0};pe.isInteger=pe.isint=function(){return this.e>this.d.length-2};pe.isNegative=pe.isneg=function(){return this.s<0};pe.isPositive=pe.ispos=function(){return this.s>0};pe.isZero=function(){return this.s===0};pe.lessThan=pe.lt=function(e){return this.cmp(e)<0};pe.lessThanOrEqualTo=pe.lte=function(e){return this.cmp(e)<1};pe.logarithm=pe.log=function(e){var t,r=this,n=r.constructor,a=n.precision,o=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(An))throw Error(Zn+"NaN");if(r.s<1)throw Error(Zn+(r.s?"NaN":"-Infinity"));return r.eq(An)?new n(0):(qt=!1,t=Va(_c(r,o),_c(e,o),o),qt=!0,Et(t,a))};pe.minus=pe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?ZO(t,e):YO(t,(e.s=-e.s,e))};pe.modulo=pe.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Zn+"NaN");return r.s?(qt=!1,t=Va(r,e,0,1).times(e),qt=!0,r.minus(t)):Et(new n(r),a)};pe.naturalExponential=pe.exp=function(){return qO(this)};pe.naturalLogarithm=pe.ln=function(){return _c(this)};pe.negated=pe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};pe.plus=pe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?YO(t,e):ZO(t,(e.s=-e.s,e))};pe.precision=pe.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(fi+e);if(t=vr(a)+1,n=a.d.length-1,r=n*Gt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};pe.squareRoot=pe.sqrt=function(){var e,t,r,n,a,o,i,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Zn+"NaN")}for(e=vr(s),qt=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=wa(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=ol((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=i=r+3;;)if(o=n,n=o.plus(Va(s,o,i+2)).times(.5),wa(o.d).slice(0,i)===(t=wa(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if(Et(o,r+1,0),o.times(o).eq(s)){n=o;break}}else if(t!="9999")break;i+=4}return qt=!0,Et(n,r)};pe.times=pe.mul=function(e){var t,r,n,a,o,i,s,l,c,f=this,d=f.constructor,h=f.d,p=(e=new d(e)).d;if(!f.s||!e.s)return new d(0);for(e.s*=f.s,r=f.e+e.e,l=h.length,c=p.length,l<c&&(o=h,h=p,p=o,i=l,l=c,c=i),o=[],i=l+c,n=i;n--;)o.push(0);for(n=c;--n>=0;){for(t=0,a=l+n;a>n;)s=o[a]+p[n]*h[a-n-1]+t,o[a--]=s%Ar|0,t=s/Ar|0;o[a]=(o[a]+t)%Ar|0}for(;!o[--i];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,qt?Et(e,d.precision):e};pe.toDecimalPlaces=pe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Na(e,0,al),t===void 0?t=n.rounding:Na(t,0,8),Et(r,e+vr(r)+1,t))};pe.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=wi(n,!0):(Na(e,0,al),t===void 0?t=a.rounding:Na(t,0,8),n=Et(new a(n),e+1,t),r=wi(n,!0,e+1)),r};pe.toFixed=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?wi(a):(Na(e,0,al),t===void 0?t=o.rounding:Na(t,0,8),n=Et(new o(a),e+vr(a)+1,t),r=wi(n.abs(),!1,e+vr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};pe.toInteger=pe.toint=function(){var e=this,t=e.constructor;return Et(new t(e),vr(e)+1,t.rounding)};pe.toNumber=function(){return+this};pe.toPower=pe.pow=function(e){var t,r,n,a,o,i,s=this,l=s.constructor,c=12,f=+(e=new l(e));if(!e.s)return new l(An);if(s=new l(s),!s.s){if(e.s<1)throw Error(Zn+"Infinity");return s}if(s.eq(An))return s;if(n=l.precision,e.eq(An))return Et(s,n);if(t=e.e,r=e.d.length-1,i=t>=r,o=s.s,i){if((r=f<0?-f:f)<=XO){for(a=new l(An),t=Math.ceil(n/Gt+4),qt=!1;r%2&&(a=a.times(s),G1(a.d,t)),r=ol(r/2),r!==0;)s=s.times(s),G1(s.d,t);return qt=!0,e.s<0?new l(An).div(a):Et(a,n)}}else if(o<0)throw Error(Zn+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,qt=!1,a=e.times(_c(s,n+c)),qt=!0,a=qO(a),a.s=o,a};pe.toPrecision=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?(r=vr(a),n=wi(a,r<=o.toExpNeg||r>=o.toExpPos)):(Na(e,1,al),t===void 0?t=o.rounding:Na(t,0,8),a=Et(new o(a),e,t),r=vr(a),n=wi(a,e<=r||r<=o.toExpNeg,e)),n};pe.toSignificantDigits=pe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Na(e,1,al),t===void 0?t=n.rounding:Na(t,0,8)),Et(new n(r),e,t)};pe.toString=pe.valueOf=pe.val=pe.toJSON=pe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=vr(e),r=e.constructor;return wi(e,t<=r.toExpNeg||t>=r.toExpPos)};function YO(e,t){var r,n,a,o,i,s,l,c,f=e.constructor,d=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),qt?Et(t,d):t;if(l=e.d,c=t.d,i=e.e,a=t.e,l=l.slice(),o=i-a,o){for(o<0?(n=l,o=-o,s=c.length):(n=c,a=i,s=l.length),i=Math.ceil(d/Gt),s=i>s?i+1:s+1,o>s&&(o=s,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(s=l.length,o=c.length,s-o<0&&(o=s,n=c,c=l,l=n),r=0;o;)r=(l[--o]=l[o]+c[o]+r)/Ar|0,l[o]%=Ar;for(r&&(l.unshift(r),++a),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=a,qt?Et(t,d):t}function Na(e,t,r){if(e!==~~e||e<t||e>r)throw Error(fi+e)}function wa(e){var t,r,n,a=e.length-1,o="",i=e[0];if(a>0){for(o+=i,t=1;t<a;t++)n=e[t]+"",r=Gt-n.length,r&&(o+=fo(r)),o+=n;i=e[t],n=i+"",r=Gt-n.length,r&&(o+=fo(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return o+i}var Va=function(){function e(n,a){var o,i=0,s=n.length;for(n=n.slice();s--;)o=n[s]*a+i,n[s]=o%Ar|0,i=o/Ar|0;return i&&n.unshift(i),n}function t(n,a,o,i){var s,l;if(o!=i)l=o>i?1:-1;else for(s=l=0;s<o;s++)if(n[s]!=a[s]){l=n[s]>a[s]?1:-1;break}return l}function r(n,a,o){for(var i=0;o--;)n[o]-=i,i=n[o]<a[o]?1:0,n[o]=i*Ar+n[o]-a[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,o,i){var s,l,c,f,d,h,p,m,v,x,y,g,b,S,w,k,j,P,_=n.constructor,A=n.s==a.s?1:-1,N=n.d,E=a.d;if(!n.s)return new _(n);if(!a.s)throw Error(Zn+"Division by zero");for(l=n.e-a.e,j=E.length,w=N.length,p=new _(A),m=p.d=[],c=0;E[c]==(N[c]||0);)++c;if(E[c]>(N[c]||0)&&--l,o==null?g=o=_.precision:i?g=o+(vr(n)-vr(a))+1:g=o,g<0)return new _(0);if(g=g/Gt+2|0,c=0,j==1)for(f=0,E=E[0],g++;(c<w||f)&&g--;c++)b=f*Ar+(N[c]||0),m[c]=b/E|0,f=b%E|0;else{for(f=Ar/(E[0]+1)|0,f>1&&(E=e(E,f),N=e(N,f),j=E.length,w=N.length),S=j,v=N.slice(0,j),x=v.length;x<j;)v[x++]=0;P=E.slice(),P.unshift(0),k=E[0],E[1]>=Ar/2&&++k;do f=0,s=t(E,v,j,x),s<0?(y=v[0],j!=x&&(y=y*Ar+(v[1]||0)),f=y/k|0,f>1?(f>=Ar&&(f=Ar-1),d=e(E,f),h=d.length,x=v.length,s=t(d,v,h,x),s==1&&(f--,r(d,j<h?P:E,h))):(f==0&&(s=f=1),d=E.slice()),h=d.length,h<x&&d.unshift(0),r(v,d,x),s==-1&&(x=v.length,s=t(E,v,j,x),s<1&&(f++,r(v,j<x?P:E,x))),x=v.length):s===0&&(f++,v=[0]),m[c++]=f,s&&v[0]?v[x++]=N[S]||0:(v=[N[S]],x=1);while((S++<w||v[0]!==void 0)&&g--)}return m[0]||m.shift(),p.e=l,Et(p,i?o+vr(p)+1:o)}}();function qO(e,t){var r,n,a,o,i,s,l=0,c=0,f=e.constructor,d=f.precision;if(vr(e)>16)throw Error(cv+vr(e));if(!e.s)return new f(An);for(qt=!1,s=d,i=new f(.03125);e.abs().gte(.1);)e=e.times(i),c+=5;for(n=Math.log(Qo(2,c))/Math.LN10*2+5|0,s+=n,r=a=o=new f(An),f.precision=s;;){if(a=Et(a.times(e),s),r=r.times(++l),i=o.plus(Va(a,r,s)),wa(i.d).slice(0,s)===wa(o.d).slice(0,s)){for(;c--;)o=Et(o.times(o),s);return f.precision=d,t==null?(qt=!0,Et(o,d)):o}o=i}}function vr(e){for(var t=e.e*Gt,r=e.d[0];r>=10;r/=10)t++;return t}function Dp(e,t,r){if(t>e.LN10.sd())throw qt=!0,r&&(e.precision=r),Error(Zn+"LN10 precision limit exceeded");return Et(new e(e.LN10),t)}function fo(e){for(var t="";e--;)t+="0";return t}function _c(e,t){var r,n,a,o,i,s,l,c,f,d=1,h=10,p=e,m=p.d,v=p.constructor,x=v.precision;if(p.s<1)throw Error(Zn+(p.s?"NaN":"-Infinity"));if(p.eq(An))return new v(0);if(t==null?(qt=!1,c=x):c=t,p.eq(10))return t==null&&(qt=!0),Dp(v,c);if(c+=h,v.precision=c,r=wa(m),n=r.charAt(0),o=vr(p),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=wa(p.d),n=r.charAt(0),d++;o=vr(p),n>1?(p=new v("0."+r),o++):p=new v(n+"."+r.slice(1))}else return l=Dp(v,c+2,x).times(o+""),p=_c(new v(n+"."+r.slice(1)),c-h).plus(l),v.precision=x,t==null?(qt=!0,Et(p,x)):p;for(s=i=p=Va(p.minus(An),p.plus(An),c),f=Et(p.times(p),c),a=3;;){if(i=Et(i.times(f),c),l=s.plus(Va(i,new v(a),c)),wa(l.d).slice(0,c)===wa(s.d).slice(0,c))return s=s.times(2),o!==0&&(s=s.plus(Dp(v,c+2,x).times(o+""))),s=Va(s,new v(d),c),v.precision=x,t==null?(qt=!0,Et(s,x)):s;s=l,a+=2}}function U1(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=ol(r/Gt),e.d=[],n=(r+1)%Gt,r<0&&(n+=Gt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Gt;n<a;)e.d.push(+t.slice(n,n+=Gt));t=t.slice(n),n=Gt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),qt&&(e.e>ed||e.e<-ed))throw Error(cv+r)}else e.s=0,e.e=0,e.d=[0];return e}function Et(e,t,r){var n,a,o,i,s,l,c,f,d=e.d;for(i=1,o=d[0];o>=10;o/=10)i++;if(n=t-i,n<0)n+=Gt,a=t,c=d[f=0];else{if(f=Math.ceil((n+1)/Gt),o=d.length,f>=o)return e;for(c=o=d[f],i=1;o>=10;o/=10)i++;n%=Gt,a=n-Gt+i}if(r!==void 0&&(o=Qo(10,i-a-1),s=c/o%10|0,l=t<0||d[f+1]!==void 0||c%o,l=r<4?(s||l)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?a>0?c/Qo(10,i-a):0:d[f-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return l?(o=vr(e),d.length=1,t=t-o-1,d[0]=Qo(10,(Gt-t%Gt)%Gt),e.e=ol(-t/Gt)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=f,o=1,f--):(d.length=f+1,o=Qo(10,Gt-n),d[f]=a>0?(c/Qo(10,i-a)%Qo(10,a)|0)*o:0),l)for(;;)if(f==0){(d[0]+=o)==Ar&&(d[0]=1,++e.e);break}else{if(d[f]+=o,d[f]!=Ar)break;d[f--]=0,o=1}for(n=d.length;d[--n]===0;)d.pop();if(qt&&(e.e>ed||e.e<-ed))throw Error(cv+vr(e));return e}function ZO(e,t){var r,n,a,o,i,s,l,c,f,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),qt?Et(t,p):t;if(l=e.d,d=t.d,n=t.e,c=e.e,l=l.slice(),i=c-n,i){for(f=i<0,f?(r=l,i=-i,s=d.length):(r=d,n=c,s=l.length),a=Math.max(Math.ceil(p/Gt),s)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=l.length,s=d.length,f=a<s,f&&(s=a),a=0;a<s;a++)if(l[a]!=d[a]){f=l[a]<d[a];break}i=0}for(f&&(r=l,l=d,d=r,t.s=-t.s),s=l.length,a=d.length-s;a>0;--a)l[s++]=0;for(a=d.length;a>i;){if(l[--a]<d[a]){for(o=a;o&&l[--o]===0;)l[o]=Ar-1;--l[o],l[a]+=Ar}l[a]-=d[a]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,qt?Et(t,p):t):new h(0)}function wi(e,t,r){var n,a=vr(e),o=wa(e.d),i=o.length;return t?(r&&(n=r-i)>0?o=o.charAt(0)+"."+o.slice(1)+fo(n):i>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+fo(-a-1)+o,r&&(n=r-i)>0&&(o+=fo(n))):a>=i?(o+=fo(a+1-i),r&&(n=r-a-1)>0&&(o=o+"."+fo(n))):((n=a+1)<i&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(o+="."),o+=fo(n))),e.s<0?"-"+o:o}function G1(e,t){if(e.length>t)return e.length=t,!0}function QO(e){var t,r,n;function a(o){var i=this;if(!(i instanceof a))return new a(o);if(i.constructor=a,o instanceof a){i.s=o.s,i.e=o.e,i.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(fi+o);if(o>0)i.s=1;else if(o<0)o=-o,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(o===~~o&&o<1e7){i.e=0,i.d=[o];return}return U1(i,o.toString())}else if(typeof o!="string")throw Error(fi+o);if(o.charCodeAt(0)===45?(o=o.slice(1),i.s=-1):i.s=1,d7.test(o))U1(i,o);else throw Error(fi+o)}if(a.prototype=pe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=QO,a.config=a.set=h7,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function h7(e){if(!e||typeof e!="object")throw Error(Zn+"Object expected");var t,r,n,a=["precision",1,al,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(ol(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(fi+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(fi+r+": "+n);return this}var uv=QO(f7);An=new uv(1);const Mt=uv;function p7(e){return v7(e)||y7(e)||m7(e)||g7()}function g7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m7(e,t){if(e){if(typeof e=="string")return _g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _g(e,t)}}function y7(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function v7(e){if(Array.isArray(e))return _g(e)}function _g(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var x7=function(t){return t},JO={},eP=function(t){return t===JO},H1=function(t){return function r(){return arguments.length===0||arguments.length===1&&eP(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},b7=function e(t,r){return t===1?r:H1(function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];var i=a.filter(function(s){return s!==JO}).length;return i>=t?r.apply(void 0,a):e(t-i,H1(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var f=a.map(function(d){return eP(d)?l.shift():d});return r.apply(void 0,p7(f).concat(l))}))})},jh=function(t){return b7(t.length,t)},Ng=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},w7=jh(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),k7=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return x7;var a=r.reverse(),o=a[0],i=a.slice(1);return function(){return i.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},Ag=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},tP=function(t){var r=null,n=null;return function(){for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return r&&o.every(function(s,l){return s===r[l]})||(r=o,n=t.apply(void 0,o)),n}};function S7(e){var t;return e===0?t=1:t=Math.floor(new Mt(e).abs().log(10).toNumber())+1,t}function j7(e,t,r){for(var n=new Mt(e),a=0,o=[];n.lt(t)&&a<1e5;)o.push(n.toNumber()),n=n.add(r),a++;return o}var O7=jh(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),P7=jh(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),_7=jh(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Oh={rangeStep:j7,getDigitCount:S7,interpolateNumber:O7,uninterpolateNumber:P7,uninterpolateTruncation:_7};function Mg(e){return M7(e)||A7(e)||rP(e)||N7()}function N7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A7(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function M7(e){if(Array.isArray(e))return Cg(e)}function Nc(e,t){return T7(e)||E7(e,t)||rP(e,t)||C7()}function C7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rP(e,t){if(e){if(typeof e=="string")return Cg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cg(e,t)}}function Cg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E7(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,o=void 0;try{for(var i=e[Symbol.iterator](),s;!(n=(s=i.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(l){a=!0,o=l}finally{try{!n&&i.return!=null&&i.return()}finally{if(a)throw o}}return r}}function T7(e){if(Array.isArray(e))return e}function nP(e){var t=Nc(e,2),r=t[0],n=t[1],a=r,o=n;return r>n&&(a=n,o=r),[a,o]}function aP(e,t,r){if(e.lte(0))return new Mt(0);var n=Oh.getDigitCount(e.toNumber()),a=new Mt(10).pow(n),o=e.div(a),i=n!==1?.05:.1,s=new Mt(Math.ceil(o.div(i).toNumber())).add(r).mul(i),l=s.mul(a);return t?l:new Mt(Math.ceil(l))}function $7(e,t,r){var n=1,a=new Mt(e);if(!a.isint()&&r){var o=Math.abs(e);o<1?(n=new Mt(10).pow(Oh.getDigitCount(e)-1),a=new Mt(Math.floor(a.div(n).toNumber())).mul(n)):o>1&&(a=new Mt(Math.floor(e)))}else e===0?a=new Mt(Math.floor((t-1)/2)):r||(a=new Mt(Math.floor(e)));var i=Math.floor((t-1)/2),s=k7(w7(function(l){return a.add(new Mt(l-i).mul(n)).toNumber()}),Ng);return s(0,t)}function oP(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Mt(0),tickMin:new Mt(0),tickMax:new Mt(0)};var o=aP(new Mt(t).sub(e).div(r-1),n,a),i;e<=0&&t>=0?i=new Mt(0):(i=new Mt(e).add(t).div(2),i=i.sub(new Mt(i).mod(o)));var s=Math.ceil(i.sub(e).div(o).toNumber()),l=Math.ceil(new Mt(t).sub(i).div(o).toNumber()),c=s+l+1;return c>r?oP(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,s=t>0?s:s+(r-c)),{step:o,tickMin:i.sub(new Mt(s).mul(o)),tickMax:i.add(new Mt(l).mul(o))})}function D7(e){var t=Nc(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),s=nP([r,n]),l=Nc(s,2),c=l[0],f=l[1];if(c===-1/0||f===1/0){var d=f===1/0?[c].concat(Mg(Ng(0,a-1).map(function(){return 1/0}))):[].concat(Mg(Ng(0,a-1).map(function(){return-1/0})),[f]);return r>n?Ag(d):d}if(c===f)return $7(c,a,o);var h=oP(c,f,i,o),p=h.step,m=h.tickMin,v=h.tickMax,x=Oh.rangeStep(m,v.add(new Mt(.1).mul(p)),p);return r>n?Ag(x):x}function R7(e,t){var r=Nc(e,2),n=r[0],a=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=nP([n,a]),s=Nc(i,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,a];if(l===c)return[l];var f=Math.max(t,2),d=aP(new Mt(c).sub(l).div(f-1),o,0),h=[].concat(Mg(Oh.rangeStep(new Mt(l),new Mt(c).sub(new Mt(.99).mul(d)),d)),[c]);return n>a?Ag(h):h}var L7=tP(D7),I7=tP(R7),B7="Invariant failed";function ki(e,t){throw new Error(B7)}var F7=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ps(e){"@babel/helpers - typeof";return Ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ps(e)}function td(){return td=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},td.apply(this,arguments)}function z7(e,t){return H7(e)||G7(e,t)||U7(e,t)||W7()}function W7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U7(e,t){if(e){if(typeof e=="string")return V1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V1(e,t)}}function V1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function G7(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function H7(e){if(Array.isArray(e))return e}function V7(e,t){if(e==null)return{};var r=K7(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function K7(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function X7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lP(n.key),n)}}function q7(e,t,r){return t&&Y7(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Z7(e,t,r){return t=rd(t),Q7(e,iP()?Reflect.construct(t,r||[],rd(e).constructor):t.apply(e,r))}function Q7(e,t){if(t&&(Ps(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J7(e)}function J7(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iP=function(){return!!e})()}function rd(e){return rd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rd(e)}function eW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Eg(e,t)}function Eg(e,t){return Eg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Eg(e,t)}function sP(e,t,r){return t=lP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lP(e){var t=tW(e,"string");return Ps(t)=="symbol"?t:t+""}function tW(e,t){if(Ps(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ps(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var il=function(e){function t(){return X7(this,t),Z7(this,t,arguments)}return eW(t,e),q7(t,[{key:"render",value:function(){var n=this.props,a=n.offset,o=n.layout,i=n.width,s=n.dataKey,l=n.data,c=n.dataPointFormatter,f=n.xAxis,d=n.yAxis,h=V7(n,F7),p=ze(h,!1);this.props.direction==="x"&&f.type!=="number"&&ki();var m=l.map(function(v){var x=c(v,s),y=x.x,g=x.y,b=x.value,S=x.errorVal;if(!S)return null;var w=[],k,j;if(Array.isArray(S)){var P=z7(S,2);k=P[0],j=P[1]}else k=j=S;if(o==="vertical"){var _=f.scale,A=g+a,N=A+i,E=A-i,F=_(b-k),D=_(b+j);w.push({x1:D,y1:N,x2:D,y2:E}),w.push({x1:F,y1:A,x2:D,y2:A}),w.push({x1:F,y1:N,x2:F,y2:E})}else if(o==="horizontal"){var T=d.scale,I=y+a,W=I-i,L=I+i,R=T(b-k),B=T(b+j);w.push({x1:W,y1:B,x2:L,y2:B}),w.push({x1:I,y1:R,x2:I,y2:B}),w.push({x1:W,y1:R,x2:L,y2:R})}return M.createElement(yt,td({className:"recharts-errorBar",key:"bar-".concat(w.map(function(te){return"".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))},p),w.map(function(te){return M.createElement("line",td({},te,{key:"line-".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))}))});return M.createElement(yt,{className:"recharts-errorBars"},m)}}])}(M.Component);sP(il,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});sP(il,"displayName","ErrorBar");function Ac(e){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ac(e)}function K1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ko(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K1(Object(r),!0).forEach(function(n){rW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rW(e,t,r){return t=nW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nW(e){var t=aW(e,"string");return Ac(t)=="symbol"?t:t+""}function aW(e,t){if(Ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cP=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,o=t.legendContent,i=Nn(r,Ha);if(!i)return null;var s=Ha.defaultProps,l=s!==void 0?Ko(Ko({},s),i.props):{},c;return i.props&&i.props.payload?c=i.props&&i.props.payload:o==="children"?c=(n||[]).reduce(function(f,d){var h=d.item,p=d.props,m=p.sectors||p.data||[];return f.concat(m.map(function(v){return{type:i.props.iconType||h.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):c=(n||[]).map(function(f){var d=f.item,h=d.type.defaultProps,p=h!==void 0?Ko(Ko({},h),d.props):{},m=p.dataKey,v=p.name,x=p.legendType,y=p.hide;return{inactive:y,dataKey:m,type:l.iconType||x||"square",color:fv(d),value:v||m,payload:p}}),Ko(Ko(Ko({},l),Ha.getWithHeight(i,a)),{},{payload:c,item:i})};function Mc(e){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mc(e)}function X1(e){return lW(e)||sW(e)||iW(e)||oW()}function oW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iW(e,t){if(e){if(typeof e=="string")return Tg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tg(e,t)}}function sW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lW(e){if(Array.isArray(e))return Tg(e)}function Tg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Y1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y1(Object(r),!0).forEach(function(n){cs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cs(e,t,r){return t=cW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cW(e){var t=uW(e,"string");return Mc(t)=="symbol"?t:t+""}function uW(e,t){if(Mc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Or(e,t,r){return Le(e)||Le(t)?r:jr(t)?Xn(e,t,r):Ge(t)?t(e):r}function Hl(e,t,r,n){var a=s7(e,function(s){return Or(s,t)});if(r==="number"){var o=a.filter(function(s){return ie(s)||parseFloat(s)});return o.length?[Sh(o),vo(o)]:[1/0,-1/0]}var i=n?a.filter(function(s){return!Le(s)}):a;return i.map(function(s){return jr(s)||s instanceof Date?s:""})}var fW=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,c=0;c<s;c++){var f=c>0?a[c-1].coordinate:a[s-1].coordinate,d=a[c].coordinate,h=c>=s-1?a[0].coordinate:a[c+1].coordinate,p=void 0;if(la(d-f)!==la(h-d)){var m=[];if(la(h-d)===la(l[1]-l[0])){p=h;var v=d+l[1]-l[0];m[0]=Math.min(v,(v+f)/2),m[1]=Math.max(v,(v+f)/2)}else{p=f;var x=h+l[1]-l[0];m[0]=Math.min(d,(x+d)/2),m[1]=Math.max(d,(x+d)/2)}var y=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(t>y[0]&&t<=y[1]||t>=m[0]&&t<=m[1]){i=a[c].index;break}}else{var g=Math.min(f,h),b=Math.max(f,h);if(t>(g+d)/2&&t<=(b+d)/2){i=a[c].index;break}}}else for(var S=0;S<s;S++)if(S===0&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<s-1&&t>(n[S].coordinate+n[S-1].coordinate)/2&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S===s-1&&t>(n[S].coordinate+n[S-1].coordinate)/2){i=n[S].index;break}return i},fv=function(t){var r,n=t,a=n.type.displayName,o=(r=t.type)!==null&&r!==void 0&&r.defaultProps?ir(ir({},t.type.defaultProps),t.props):t.props,i=o.stroke,s=o.fill,l;switch(a){case"Line":l=i;break;case"Area":case"Radar":l=i&&i!=="none"?i:s;break;default:l=s;break}return l},dW=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,o=a===void 0?{}:a;if(!o)return{};for(var i={},s=Object.keys(o),l=0,c=s.length;l<c;l++)for(var f=o[s[l]].stackGroups,d=Object.keys(f),h=0,p=d.length;h<p;h++){var m=f[d[h]],v=m.items,x=m.cateAxisId,y=v.filter(function(j){return Ua(j.type).indexOf("Bar")>=0});if(y&&y.length){var g=y[0].type.defaultProps,b=g!==void 0?ir(ir({},g),y[0].props):y[0].props,S=b.barSize,w=b[x];i[w]||(i[w]=[]);var k=Le(S)?r:S;i[w].push({item:y[0],stackList:y.slice(1),barSize:Le(k)?void 0:xi(k,n,0)})}}return i},hW=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,o=t.sizeList,i=o===void 0?[]:o,s=t.maxBarSize,l=i.length;if(l<1)return null;var c=xi(r,a,0,!0),f,d=[];if(i[0].barSize===+i[0].barSize){var h=!1,p=a/l,m=i.reduce(function(S,w){return S+w.barSize||0},0);m+=(l-1)*c,m>=a&&(m-=(l-1)*c,c=0),m>=a&&p>0&&(h=!0,p*=.9,m=l*p);var v=(a-m)/2>>0,x={offset:v-c,size:0};f=i.reduce(function(S,w){var k={item:w.item,position:{offset:x.offset+x.size+c,size:h?p:w.barSize}},j=[].concat(X1(S),[k]);return x=j[j.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(P){j.push({item:P,position:x})}),j},d)}else{var y=xi(n,a,0,!0);a-2*y-(l-1)*c<=0&&(c=0);var g=(a-2*y-(l-1)*c)/l;g>1&&(g>>=0);var b=s===+s?Math.min(g,s):g;f=i.reduce(function(S,w,k){var j=[].concat(X1(S),[{item:w.item,position:{offset:y+(g+c)*k+(g-b)/2,size:b}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(P){j.push({item:P,position:j[j.length-1].position})}),j},d)}return f},pW=function(t,r,n,a){var o=n.children,i=n.width,s=n.margin,l=i-(s.left||0)-(s.right||0),c=cP({children:o,legendWidth:l});if(c){var f=a||{},d=f.width,h=f.height,p=c.align,m=c.verticalAlign,v=c.layout;if((v==="vertical"||v==="horizontal"&&m==="middle")&&p!=="center"&&ie(t[p]))return ir(ir({},t),{},cs({},p,t[p]+(d||0)));if((v==="horizontal"||v==="vertical"&&p==="center")&&m!=="middle"&&ie(t[m]))return ir(ir({},t),{},cs({},m,t[m]+(h||0)))}return t},gW=function(t,r,n){return Le(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},uP=function(t,r,n,a,o){var i=r.props.children,s=kn(i,il).filter(function(c){return gW(a,o,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return t.reduce(function(c,f){var d=Or(f,n);if(Le(d))return c;var h=Array.isArray(d)?[Sh(d),vo(d)]:[d,d],p=l.reduce(function(m,v){var x=Or(f,v,0),y=h[0]-Math.abs(Array.isArray(x)?x[0]:x),g=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(y,m[0]),Math.max(g,m[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},mW=function(t,r,n,a,o){var i=r.map(function(s){return uP(t,s,n,o,a)}).filter(function(s){return!Le(s)});return i&&i.length?i.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},fP=function(t,r,n,a,o){var i=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&uP(t,l,c,a)||Hl(t,c,n,o)});if(n==="number")return i.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return i.reduce(function(l,c){for(var f=0,d=c.length;f<d;f++)s[c[f]]||(s[c[f]]=!0,l.push(c[f]));return l},[])},dP=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},hP=function(t,r,n,a){if(a)return t.map(function(l){return l.coordinate});var o,i,s=t.map(function(l){return l.coordinate===r&&(o=!0),l.coordinate===n&&(i=!0),l.coordinate});return o||s.push(r),i||s.push(n),s},za=function(t,r,n){if(!t)return null;var a=t.scale,o=t.duplicateDomain,i=t.type,s=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,c=(r||n)&&i==="category"&&a.bandwidth?a.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?la(s[0]-s[1])*2*c:c,r&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(d){var h=o?o.indexOf(d):d;return{coordinate:a(h)+c,value:d,offset:c}});return f.filter(function(d){return!Js(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,h){return{coordinate:a(d)+c,value:d,index:h,offset:c}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(d){return{coordinate:a(d)+c,value:d,offset:c}}):a.domain().map(function(d,h){return{coordinate:a(d)+c,value:o?o[d]:d,index:h,offset:c}})},Rp=new WeakMap,Bu=function(t,r){if(typeof r!="function")return t;Rp.has(t)||Rp.set(t,new WeakMap);var n=Rp.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},yW=function(t,r,n){var a=t.scale,o=t.type,i=t.layout,s=t.axisType;if(a==="auto")return i==="radial"&&s==="radiusAxis"?{scale:kc(),realScaleType:"band"}:i==="radial"&&s==="angleAxis"?{scale:qf(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Gl(),realScaleType:"point"}:o==="category"?{scale:kc(),realScaleType:"band"}:{scale:qf(),realScaleType:"linear"};if(vi(a)){var l="scale".concat(ch(a));return{scale:(W1[l]||Gl)(),realScaleType:W1[l]?l:"point"}}return Ge(a)?{scale:a}:{scale:Gl(),realScaleType:"point"}},q1=1e-4,vW=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),o=Math.min(a[0],a[1])-q1,i=Math.max(a[0],a[1])+q1,s=t(r[0]),l=t(r[n-1]);(s<o||s>i||l<o||l>i)&&t.domain([r[0],r[n-1]])}},xW=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},bW=function(t,r){if(!r||r.length!==2||!ie(r[0])||!ie(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),o=[t[0],t[1]];return(!ie(t[0])||t[0]<n)&&(o[0]=n),(!ie(t[1])||t[1]>a)&&(o[1]=a),o[0]>a&&(o[0]=a),o[1]<n&&(o[1]=n),o},wW=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var o=0,i=0,s=0;s<r;++s){var l=Js(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=o,t[s][n][1]=o+l,o=t[s][n][1]):(t[s][n][0]=i,t[s][n][1]=i+l,i=t[s][n][1])}},kW=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var o=0,i=0;i<r;++i){var s=Js(t[i][n][1])?t[i][n][0]:t[i][n][1];s>=0?(t[i][n][0]=o,t[i][n][1]=o+s,o=t[i][n][1]):(t[i][n][0]=0,t[i][n][1]=0)}},SW={sign:wW,expand:I$,none:ys,silhouette:B$,wiggle:F$,positive:kW},jW=function(t,r,n){var a=r.map(function(s){return s.props.dataKey}),o=SW[n],i=L$().keys(a).value(function(s,l){return+Or(s,l,0)}).order(ag).offset(o);return i(t)},OW=function(t,r,n,a,o,i){if(!t)return null;var s=i?r.reverse():r,l={},c=s.reduce(function(d,h){var p,m=(p=h.type)!==null&&p!==void 0&&p.defaultProps?ir(ir({},h.type.defaultProps),h.props):h.props,v=m.stackId,x=m.hide;if(x)return d;var y=m[n],g=d[y]||{hasStack:!1,stackGroups:{}};if(jr(v)){var b=g.stackGroups[v]||{numericAxisId:n,cateAxisId:a,items:[]};b.items.push(h),g.hasStack=!0,g.stackGroups[v]=b}else g.stackGroups[Ni("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return ir(ir({},d),{},cs({},y,g))},l),f={};return Object.keys(c).reduce(function(d,h){var p=c[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(v,x){var y=p.stackGroups[x];return ir(ir({},v),{},cs({},x,{numericAxisId:n,cateAxisId:a,items:y.items,stackedData:jW(t,y.items,o)}))},m)}return ir(ir({},d),{},cs({},h,p))},f)},PW=function(t,r){var n=r.realScaleType,a=r.type,o=r.tickCount,i=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&a==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var c=t.domain();if(!c.length)return null;var f=L7(c,o,s);return t.domain([Sh(f),vo(f)]),{niceTicks:f}}if(o&&a==="number"){var d=t.domain(),h=I7(d,o,s);return{niceTicks:h}}return null};function _s(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,o=e.index,i=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Le(a[t.dataKey])){var s=Nf(r,"value",a[t.dataKey]);if(s)return s.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var l=Or(a,Le(i)?t.dataKey:i);return Le(l)?null:t.scale(l)}var Z1=function(t){var r=t.axis,n=t.ticks,a=t.offset,o=t.bandSize,i=t.entry,s=t.index;if(r.type==="category")return n[s]?n[s].coordinate+a:null;var l=Or(i,r.dataKey,r.domain[s]);return Le(l)?null:r.scale(l)-o/2+a},_W=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return a<=0&&o>=0?0:o<0?o:a}return n[0]},NW=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?ir(ir({},t.type.defaultProps),t.props):t.props,o=a.stackId;if(jr(o)){var i=r[o];if(i){var s=i.items.indexOf(t);return s>=0?i.stackedData[s]:null}}return null},AW=function(t){return t.reduce(function(r,n){return[Sh(n.concat([r[0]]).filter(ie)),vo(n.concat([r[1]]).filter(ie))]},[1/0,-1/0])},pP=function(t,r,n){return Object.keys(t).reduce(function(a,o){var i=t[o],s=i.stackedData,l=s.reduce(function(c,f){var d=AW(f.slice(r,n+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},Q1=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,J1=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$g=function(t,r,n){if(Ge(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(ie(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(Q1.test(t[0])){var o=+Q1.exec(t[0])[1];a[0]=r[0]-o}else Ge(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(ie(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(J1.test(t[1])){var i=+J1.exec(t[1])[1];a[1]=r[1]+i}else Ge(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},nd=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var o=Iy(r,function(d){return d.coordinate}),i=1/0,s=1,l=o.length;s<l;s++){var c=o[s],f=o[s-1];i=Math.min((c.coordinate||0)-(f.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},ew=function(t,r,n){return!t||!t.length||bi(t,Xn(n,"type.defaultProps.domain"))?r:t},gP=function(t,r){var n=t.type.defaultProps?ir(ir({},t.type.defaultProps),t.props):t.props,a=n.dataKey,o=n.name,i=n.unit,s=n.formatter,l=n.tooltipType,c=n.chartType,f=n.hide;return ir(ir({},ze(t,!1)),{},{dataKey:a,unit:i,formatter:s,name:o||a,color:fv(t),value:Or(r,a),type:l,payload:r,chartType:c,hide:f})};function Cc(e){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cc(e)}function tw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tw(Object(r),!0).forEach(function(n){MW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MW(e,t,r){return t=CW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CW(e){var t=EW(e,"string");return Cc(t)=="symbol"?t:t+""}function EW(e,t){if(Cc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ad=Math.PI/180,TW=function(t){return t*180/Math.PI},Lr=function(t,r,n,a){return{x:t+Math.cos(-ad*a)*n,y:r+Math.sin(-ad*a)*n}},$W=function(t,r){var n=t.x,a=t.y,o=r.x,i=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(a-i,2))},DW=function(t,r){var n=t.x,a=t.y,o=r.cx,i=r.cy,s=$W({x:n,y:a},{x:o,y:i});if(s<=0)return{radius:s};var l=(n-o)/s,c=Math.acos(l);return a>i&&(c=2*Math.PI-c),{radius:s,angle:TW(c),angleInRadian:c}},RW=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),o=Math.floor(n/360),i=Math.min(a,o);return{startAngle:r-i*360,endAngle:n-i*360}},LW=function(t,r){var n=r.startAngle,a=r.endAngle,o=Math.floor(n/360),i=Math.floor(a/360),s=Math.min(o,i);return t+s*360},nw=function(t,r){var n=t.x,a=t.y,o=DW({x:n,y:a},r),i=o.radius,s=o.angle,l=r.innerRadius,c=r.outerRadius;if(i<l||i>c)return!1;if(i===0)return!0;var f=RW(r),d=f.startAngle,h=f.endAngle,p=s,m;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;m=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=d}return m?rw(rw({},r),{},{radius:i,angle:LW(p,r)}):null};function Ec(e){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ec(e)}var IW=["offset"];function BW(e){return UW(e)||WW(e)||zW(e)||FW()}function FW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zW(e,t){if(e){if(typeof e=="string")return Dg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dg(e,t)}}function WW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function UW(e){if(Array.isArray(e))return Dg(e)}function Dg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function GW(e,t){if(e==null)return{};var r=HW(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function HW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function aw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aw(Object(r),!0).forEach(function(n){VW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VW(e,t,r){return t=KW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KW(e){var t=XW(e,"string");return Ec(t)=="symbol"?t:t+""}function XW(e,t){if(Ec(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tc(){return Tc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tc.apply(this,arguments)}var YW=function(t){var r=t.value,n=t.formatter,a=Le(t.children)?r:t.children;return Ge(n)?n(a):a},qW=function(t,r){var n=la(r-t),a=Math.min(Math.abs(r-t),360);return n*a},ZW=function(t,r,n){var a=t.position,o=t.viewBox,i=t.offset,s=t.className,l=o,c=l.cx,f=l.cy,d=l.innerRadius,h=l.outerRadius,p=l.startAngle,m=l.endAngle,v=l.clockWise,x=(d+h)/2,y=qW(p,m),g=y>=0?1:-1,b,S;a==="insideStart"?(b=p+g*i,S=v):a==="insideEnd"?(b=m-g*i,S=!v):a==="end"&&(b=m+g*i,S=v),S=y<=0?S:!S;var w=Lr(c,f,x,b),k=Lr(c,f,x,b+(S?1:-1)*359),j="M".concat(w.x,",").concat(w.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(S?0:1,`,
    `).concat(k.x,",").concat(k.y),P=Le(t.id)?Ni("recharts-radial-line-"):t.id;return M.createElement("text",Tc({},n,{dominantBaseline:"central",className:ut("recharts-radial-bar-label",s)}),M.createElement("defs",null,M.createElement("path",{id:P,d:j})),M.createElement("textPath",{xlinkHref:"#".concat(P)},r))},QW=function(t){var r=t.viewBox,n=t.offset,a=t.position,o=r,i=o.cx,s=o.cy,l=o.innerRadius,c=o.outerRadius,f=o.startAngle,d=o.endAngle,h=(f+d)/2;if(a==="outside"){var p=Lr(i,s,c+n,h),m=p.x,v=p.y;return{x:m,y:v,textAnchor:m>=i?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"end"};var x=(l+c)/2,y=Lr(i,s,x,h),g=y.x,b=y.y;return{x:g,y:b,textAnchor:"middle",verticalAnchor:"middle"}},JW=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,o=t.position,i=r,s=i.x,l=i.y,c=i.width,f=i.height,d=f>=0?1:-1,h=d*a,p=d>0?"end":"start",m=d>0?"start":"end",v=c>=0?1:-1,x=v*a,y=v>0?"end":"start",g=v>0?"start":"end";if(o==="top"){var b={x:s+c/2,y:l-d*a,textAnchor:"middle",verticalAnchor:p};return wr(wr({},b),n?{height:Math.max(l-n.y,0),width:c}:{})}if(o==="bottom"){var S={x:s+c/2,y:l+f+h,textAnchor:"middle",verticalAnchor:m};return wr(wr({},S),n?{height:Math.max(n.y+n.height-(l+f),0),width:c}:{})}if(o==="left"){var w={x:s-x,y:l+f/2,textAnchor:y,verticalAnchor:"middle"};return wr(wr({},w),n?{width:Math.max(w.x-n.x,0),height:f}:{})}if(o==="right"){var k={x:s+c+x,y:l+f/2,textAnchor:g,verticalAnchor:"middle"};return wr(wr({},k),n?{width:Math.max(n.x+n.width-k.x,0),height:f}:{})}var j=n?{width:c,height:f}:{};return o==="insideLeft"?wr({x:s+x,y:l+f/2,textAnchor:g,verticalAnchor:"middle"},j):o==="insideRight"?wr({x:s+c-x,y:l+f/2,textAnchor:y,verticalAnchor:"middle"},j):o==="insideTop"?wr({x:s+c/2,y:l+h,textAnchor:"middle",verticalAnchor:m},j):o==="insideBottom"?wr({x:s+c/2,y:l+f-h,textAnchor:"middle",verticalAnchor:p},j):o==="insideTopLeft"?wr({x:s+x,y:l+h,textAnchor:g,verticalAnchor:m},j):o==="insideTopRight"?wr({x:s+c-x,y:l+h,textAnchor:y,verticalAnchor:m},j):o==="insideBottomLeft"?wr({x:s+x,y:l+f-h,textAnchor:g,verticalAnchor:p},j):o==="insideBottomRight"?wr({x:s+c-x,y:l+f-h,textAnchor:y,verticalAnchor:p},j):Ys(o)&&(ie(o.x)||ri(o.x))&&(ie(o.y)||ri(o.y))?wr({x:s+xi(o.x,c),y:l+xi(o.y,f),textAnchor:"end",verticalAnchor:"end"},j):wr({x:s+c/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},j)},eU=function(t){return"cx"in t&&ie(t.cx)};function Kr(e){var t=e.offset,r=t===void 0?5:t,n=GW(e,IW),a=wr({offset:r},n),o=a.viewBox,i=a.position,s=a.value,l=a.children,c=a.content,f=a.className,d=f===void 0?"":f,h=a.textBreakAll;if(!o||Le(s)&&Le(l)&&!O.isValidElement(c)&&!Ge(c))return null;if(O.isValidElement(c))return O.cloneElement(c,a);var p;if(Ge(c)){if(p=O.createElement(c,a),O.isValidElement(p))return p}else p=YW(a);var m=eU(o),v=ze(a,!0);if(m&&(i==="insideStart"||i==="insideEnd"||i==="end"))return ZW(a,p,v);var x=m?QW(a):JW(a);return M.createElement(Uf,Tc({className:ut("recharts-label",d)},v,x,{breakAll:h}),p)}Kr.displayName="Label";var mP=function(t){var r=t.cx,n=t.cy,a=t.angle,o=t.startAngle,i=t.endAngle,s=t.r,l=t.radius,c=t.innerRadius,f=t.outerRadius,d=t.x,h=t.y,p=t.top,m=t.left,v=t.width,x=t.height,y=t.clockWise,g=t.labelViewBox;if(g)return g;if(ie(v)&&ie(x)){if(ie(d)&&ie(h))return{x:d,y:h,width:v,height:x};if(ie(p)&&ie(m))return{x:p,y:m,width:v,height:x}}return ie(d)&&ie(h)?{x:d,y:h,width:0,height:0}:ie(r)&&ie(n)?{cx:r,cy:n,startAngle:o||a||0,endAngle:i||a||0,innerRadius:c||0,outerRadius:f||l||s||0,clockWise:y}:t.viewBox?t.viewBox:{}},tU=function(t,r){return t?t===!0?M.createElement(Kr,{key:"label-implicit",viewBox:r}):jr(t)?M.createElement(Kr,{key:"label-implicit",viewBox:r,value:t}):O.isValidElement(t)?t.type===Kr?O.cloneElement(t,{key:"label-implicit",viewBox:r}):M.createElement(Kr,{key:"label-implicit",content:t,viewBox:r}):Ge(t)?M.createElement(Kr,{key:"label-implicit",content:t,viewBox:r}):Ys(t)?M.createElement(Kr,Tc({viewBox:r},t,{key:"label-implicit"})):null:null},rU=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,o=mP(t),i=kn(a,Kr).map(function(l,c){return O.cloneElement(l,{viewBox:r||o,key:"label-".concat(c)})});if(!n)return i;var s=tU(t.label,r||o);return[s].concat(BW(i))};Kr.parseViewBox=mP;Kr.renderCallByParent=rU;function nU(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var aU=nU;const oU=Tt(aU);function $c(e){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$c(e)}var iU=["valueAccessor"],sU=["data","dataKey","clockWise","id","textBreakAll"];function lU(e){return dU(e)||fU(e)||uU(e)||cU()}function cU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uU(e,t){if(e){if(typeof e=="string")return Rg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rg(e,t)}}function fU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dU(e){if(Array.isArray(e))return Rg(e)}function Rg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function od(){return od=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},od.apply(this,arguments)}function ow(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ow(Object(r),!0).forEach(function(n){hU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ow(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hU(e,t,r){return t=pU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pU(e){var t=gU(e,"string");return $c(t)=="symbol"?t:t+""}function gU(e,t){if($c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sw(e,t){if(e==null)return{};var r=mU(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mU(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var yU=function(t){return Array.isArray(t.value)?oU(t.value):t.value};function Pa(e){var t=e.valueAccessor,r=t===void 0?yU:t,n=sw(e,iU),a=n.data,o=n.dataKey,i=n.clockWise,s=n.id,l=n.textBreakAll,c=sw(n,sU);return!a||!a.length?null:M.createElement(yt,{className:"recharts-label-list"},a.map(function(f,d){var h=Le(o)?r(f,d):Or(f&&f.payload,o),p=Le(s)?{}:{id:"".concat(s,"-").concat(d)};return M.createElement(Kr,od({},ze(f,!0),c,p,{parentViewBox:f.parentViewBox,value:h,textBreakAll:l,viewBox:Kr.parseViewBox(Le(i)?f:iw(iw({},f),{},{clockWise:i})),key:"label-".concat(d),index:d}))}))}Pa.displayName="LabelList";function vU(e,t){return e?e===!0?M.createElement(Pa,{key:"labelList-implicit",data:t}):M.isValidElement(e)||Ge(e)?M.createElement(Pa,{key:"labelList-implicit",data:t,content:e}):Ys(e)?M.createElement(Pa,od({data:t},e,{key:"labelList-implicit"})):null:null}function xU(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=kn(n,Pa).map(function(i,s){return O.cloneElement(i,{data:t,key:"labelList-".concat(s)})});if(!r)return a;var o=vU(e.label,t);return[o].concat(lU(a))}Pa.renderCallByParent=xU;function Dc(e){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dc(e)}function Lg(){return Lg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lg.apply(this,arguments)}function lw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lw(Object(r),!0).forEach(function(n){bU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bU(e,t,r){return t=wU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wU(e){var t=kU(e,"string");return Dc(t)=="symbol"?t:t+""}function kU(e,t){if(Dc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SU=function(t,r){var n=la(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Fu=function(t){var r=t.cx,n=t.cy,a=t.radius,o=t.angle,i=t.sign,s=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,f=l*(s?1:-1)+a,d=Math.asin(l/f)/ad,h=c?o:o+i*d,p=Lr(r,n,f,h),m=Lr(r,n,a,h),v=c?o-i*d:o,x=Lr(r,n,f*Math.cos(d*ad),v);return{center:p,circleTangency:m,lineTangency:x,theta:d}},yP=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,i=t.startAngle,s=t.endAngle,l=SU(i,s),c=i+l,f=Lr(r,n,o,i),d=Lr(r,n,o,c),h="M ".concat(f.x,",").concat(f.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(a>0){var p=Lr(r,n,a,i),m=Lr(r,n,a,c);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},jU=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,i=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,f=t.endAngle,d=la(f-c),h=Fu({cx:r,cy:n,radius:o,angle:c,sign:d,cornerRadius:i,cornerIsExternal:l}),p=h.circleTangency,m=h.lineTangency,v=h.theta,x=Fu({cx:r,cy:n,radius:o,angle:f,sign:-d,cornerRadius:i,cornerIsExternal:l}),y=x.circleTangency,g=x.lineTangency,b=x.theta,S=l?Math.abs(c-f):Math.abs(c-f)-v-b;if(S<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):yP({cx:r,cy:n,innerRadius:a,outerRadius:o,startAngle:c,endAngle:f});var w="M ".concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(S>180),",").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
  `);if(a>0){var k=Fu({cx:r,cy:n,radius:a,angle:c,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),j=k.circleTangency,P=k.lineTangency,_=k.theta,A=Fu({cx:r,cy:n,radius:a,angle:f,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),N=A.circleTangency,E=A.lineTangency,F=A.theta,D=l?Math.abs(c-f):Math.abs(c-f)-_-F;if(D<0&&i===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(E.x,",").concat(E.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(D>180),",").concat(+(d>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(P.x,",").concat(P.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},OU={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},vP=function(t){var r=cw(cw({},OU),t),n=r.cx,a=r.cy,o=r.innerRadius,i=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,f=r.startAngle,d=r.endAngle,h=r.className;if(i<o||f===d)return null;var p=ut("recharts-sector",h),m=i-o,v=xi(s,m,0,!0),x;return v>0&&Math.abs(f-d)<360?x=jU({cx:n,cy:a,innerRadius:o,outerRadius:i,cornerRadius:Math.min(v,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:f,endAngle:d}):x=yP({cx:n,cy:a,innerRadius:o,outerRadius:i,startAngle:f,endAngle:d}),M.createElement("path",Lg({},ze(r,!0),{className:p,d:x,role:"img"}))};function Rc(e){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rc(e)}function Ig(){return Ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ig.apply(this,arguments)}function uw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uw(Object(r),!0).forEach(function(n){PU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PU(e,t,r){return t=_U(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _U(e){var t=NU(e,"string");return Rc(t)=="symbol"?t:t+""}function NU(e,t){if(Rc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dw={curveBasisClosed:P$,curveBasisOpen:_$,curveBasis:O$,curveBumpX:f$,curveBumpY:d$,curveLinearClosed:N$,curveLinear:fh,curveMonotoneX:A$,curveMonotoneY:M$,curveNatural:C$,curveStep:E$,curveStepAfter:$$,curveStepBefore:T$},zu=function(t){return t.x===+t.x&&t.y===+t.y},Ol=function(t){return t.x},Pl=function(t){return t.y},AU=function(t,r){if(Ge(t))return t;var n="curve".concat(ch(t));return(n==="curveMonotone"||n==="curveBump")&&r?dw["".concat(n).concat(r==="vertical"?"Y":"X")]:dw[n]||fh},MU=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,o=a===void 0?[]:a,i=t.baseLine,s=t.layout,l=t.connectNulls,c=l===void 0?!1:l,f=AU(n,s),d=c?o.filter(function(v){return zu(v)}):o,h;if(Array.isArray(i)){var p=c?i.filter(function(v){return zu(v)}):i,m=d.map(function(v,x){return fw(fw({},v),{},{base:p[x]})});return s==="vertical"?h=Cu().y(Pl).x1(Ol).x0(function(v){return v.base.x}):h=Cu().x(Ol).y1(Pl).y0(function(v){return v.base.y}),h.defined(zu).curve(f),h(m)}return s==="vertical"&&ie(i)?h=Cu().y(Pl).x1(Ol).x0(i):ie(i)?h=Cu().x(Ol).y1(Pl).y0(i):h=xj().x(Ol).y(Pl),h.defined(zu).curve(f),h(d)},di=function(t){var r=t.className,n=t.points,a=t.path,o=t.pathRef;if((!n||!n.length)&&!a)return null;var i=n&&n.length?MU(t):a;return O.createElement("path",Ig({},ze(t,!1),Af(t),{className:ut("recharts-curve",r),d:i,ref:o}))},xP={exports:{}},CU="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",EU=CU,TU=EU;function bP(){}function wP(){}wP.resetWarningCache=bP;var $U=function(){function e(n,a,o,i,s,l){if(l!==TU){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:wP,resetWarningCache:bP};return r.PropTypes=r,r};xP.exports=$U();var DU=xP.exports;const xt=Tt(DU),{getOwnPropertyNames:RU,getOwnPropertySymbols:LU}=Object,{hasOwnProperty:IU}=Object.prototype;function Lp(e,t){return function(n,a,o){return e(n,a,o)&&t(n,a,o)}}function Wu(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);const{cache:o}=a,i=o.get(r),s=o.get(n);if(i&&s)return i===n&&s===r;o.set(r,n),o.set(n,r);const l=e(r,n,a);return o.delete(r),o.delete(n),l}}function BU(e){return e!=null?e[Symbol.toStringTag]:void 0}function hw(e){return RU(e).concat(LU(e))}const FU=Object.hasOwn||((e,t)=>IU.call(e,t));function Ci(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const zU="__v",WU="__o",UU="_owner",{getOwnPropertyDescriptor:pw,keys:gw}=Object;function GU(e,t){return e.byteLength===t.byteLength&&id(new Uint8Array(e),new Uint8Array(t))}function HU(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function VU(e,t){return e.byteLength===t.byteLength&&id(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function KU(e,t){return Ci(e.getTime(),t.getTime())}function XU(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function YU(e,t){return e===t}function mw(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),o=e.entries();let i,s,l=0;for(;(i=o.next())&&!i.done;){const c=t.entries();let f=!1,d=0;for(;(s=c.next())&&!s.done;){if(a[d]){d++;continue}const h=i.value,p=s.value;if(r.equals(h[0],p[0],l,d,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){f=a[d]=!0;break}d++}if(!f)return!1;l++}return!0}const qU=Ci;function ZU(e,t,r){const n=gw(e);let a=n.length;if(gw(t).length!==a)return!1;for(;a-- >0;)if(!kP(e,t,r,n[a]))return!1;return!0}function _l(e,t,r){const n=hw(e);let a=n.length;if(hw(t).length!==a)return!1;let o,i,s;for(;a-- >0;)if(o=n[a],!kP(e,t,r,o)||(i=pw(e,o),s=pw(t,o),(i||s)&&(!i||!s||i.configurable!==s.configurable||i.enumerable!==s.enumerable||i.writable!==s.writable)))return!1;return!0}function QU(e,t){return Ci(e.valueOf(),t.valueOf())}function JU(e,t){return e.source===t.source&&e.flags===t.flags}function yw(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),o=e.values();let i,s;for(;(i=o.next())&&!i.done;){const l=t.values();let c=!1,f=0;for(;(s=l.next())&&!s.done;){if(!a[f]&&r.equals(i.value,s.value,i.value,s.value,e,t,r)){c=a[f]=!0;break}f++}if(!c)return!1}return!0}function id(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function eG(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function kP(e,t,r,n){return(n===UU||n===WU||n===zU)&&(e.$$typeof||t.$$typeof)?!0:FU(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const tG="[object ArrayBuffer]",rG="[object Arguments]",nG="[object Boolean]",aG="[object DataView]",oG="[object Date]",iG="[object Error]",sG="[object Map]",lG="[object Number]",cG="[object Object]",uG="[object RegExp]",fG="[object Set]",dG="[object String]",hG={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},pG="[object URL]",gG=Object.prototype.toString;function mG({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:a,areFunctionsEqual:o,areMapsEqual:i,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:f,areSetsEqual:d,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:m}){return function(x,y,g){if(x===y)return!0;if(x==null||y==null)return!1;const b=typeof x;if(b!==typeof y)return!1;if(b!=="object")return b==="number"?s(x,y,g):b==="function"?o(x,y,g):!1;const S=x.constructor;if(S!==y.constructor)return!1;if(S===Object)return l(x,y,g);if(Array.isArray(x))return t(x,y,g);if(S===Date)return n(x,y,g);if(S===RegExp)return f(x,y,g);if(S===Map)return i(x,y,g);if(S===Set)return d(x,y,g);const w=gG.call(x);if(w===oG)return n(x,y,g);if(w===uG)return f(x,y,g);if(w===sG)return i(x,y,g);if(w===fG)return d(x,y,g);if(w===cG)return typeof x.then!="function"&&typeof y.then!="function"&&l(x,y,g);if(w===pG)return p(x,y,g);if(w===iG)return a(x,y,g);if(w===rG)return l(x,y,g);if(hG[w])return h(x,y,g);if(w===tG)return e(x,y,g);if(w===aG)return r(x,y,g);if(w===nG||w===lG||w===dG)return c(x,y,g);if(m){let k=m[w];if(!k){const j=BU(x);j&&(k=m[j])}if(k)return k(x,y,g)}return!1}}function yG({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:GU,areArraysEqual:r?_l:HU,areDataViewsEqual:VU,areDatesEqual:KU,areErrorsEqual:XU,areFunctionsEqual:YU,areMapsEqual:r?Lp(mw,_l):mw,areNumbersEqual:qU,areObjectsEqual:r?_l:ZU,arePrimitiveWrappersEqual:QU,areRegExpsEqual:JU,areSetsEqual:r?Lp(yw,_l):yw,areTypedArraysEqual:r?Lp(id,_l):id,areUrlsEqual:eG,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const a=Wu(n.areArraysEqual),o=Wu(n.areMapsEqual),i=Wu(n.areObjectsEqual),s=Wu(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:i,areSetsEqual:s})}return n}function vG(e){return function(t,r,n,a,o,i,s){return e(t,r,s)}}function xG({circular:e,comparator:t,createState:r,equals:n,strict:a}){if(r)return function(s,l){const{cache:c=e?new WeakMap:void 0,meta:f}=r();return t(s,l,{cache:c,equals:n,meta:f,strict:a})};if(e)return function(s,l){return t(s,l,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const o={cache:void 0,equals:n,meta:void 0,strict:a};return function(s,l){return t(s,l,o)}}const bG=Fo();Fo({strict:!0});Fo({circular:!0});Fo({circular:!0,strict:!0});Fo({createInternalComparator:()=>Ci});Fo({strict:!0,createInternalComparator:()=>Ci});Fo({circular:!0,createInternalComparator:()=>Ci});Fo({circular:!0,createInternalComparator:()=>Ci,strict:!0});function Fo(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:a=!1}=e,o=yG(e),i=mG(o),s=r?r(i):vG(i);return xG({circular:t,comparator:i,createState:n,equals:s,strict:a})}function wG(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function vw(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(o){r<0&&(r=o),o-r>t?(e(o),r=-1):wG(a)};requestAnimationFrame(n)}function Bg(e){"@babel/helpers - typeof";return Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bg(e)}function kG(e){return PG(e)||OG(e)||jG(e)||SG()}function SG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jG(e,t){if(e){if(typeof e=="string")return xw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xw(e,t)}}function xw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function OG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function PG(e){if(Array.isArray(e))return e}function _G(){var e={},t=function(){return null},r=!1,n=function a(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var i=o,s=kG(i),l=s[0],c=s.slice(1);if(typeof l=="number"){vw(a.bind(null,c),l);return}a(l),vw(a.bind(null,c));return}Bg(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function Lc(e){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lc(e)}function bw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ww(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bw(Object(r),!0).forEach(function(n){SP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SP(e,t,r){return t=NG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NG(e){var t=AG(e,"string");return Lc(t)==="symbol"?t:String(t)}function AG(e,t){if(Lc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MG=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(o){return a.includes(o)})})},CG=function(t){return t},EG=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Vl=function(t,r){return Object.keys(r).reduce(function(n,a){return ww(ww({},n),{},SP({},a,t(a,r[a])))},{})},kw=function(t,r,n){return t.map(function(a){return"".concat(EG(a)," ").concat(r,"ms ").concat(n)}).join(",")};function TG(e,t){return RG(e)||DG(e,t)||jP(e,t)||$G()}function $G(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function RG(e){if(Array.isArray(e))return e}function LG(e){return FG(e)||BG(e)||jP(e)||IG()}function IG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jP(e,t){if(e){if(typeof e=="string")return Fg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fg(e,t)}}function BG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function FG(e){if(Array.isArray(e))return Fg(e)}function Fg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var sd=1e-4,OP=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},PP=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},Sw=function(t,r){return function(n){var a=OP(t,r);return PP(a,n)}},zG=function(t,r){return function(n){var a=OP(t,r),o=[].concat(LG(a.map(function(i,s){return i*s}).slice(1)),[0]);return PP(o,n)}},jw=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],o=r[1],i=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,o=0,i=1,s=1;break;case"ease":a=.25,o=.1,i=.25,s=1;break;case"ease-in":a=.42,o=0,i=1,s=1;break;case"ease-out":a=.42,o=0,i=.58,s=1;break;case"ease-in-out":a=0,o=0,i=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),f=TG(c,4);a=f[0],o=f[1],i=f[2],s=f[3]}}}var d=Sw(a,i),h=Sw(o,s),p=zG(a,i),m=function(y){return y>1?1:y<0?0:y},v=function(y){for(var g=y>1?1:y,b=g,S=0;S<8;++S){var w=d(b)-g,k=p(b);if(Math.abs(w-g)<sd||k<sd)return h(b);b=m(b-w/k)}return h(b)};return v.isStepper=!1,v},WG=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,o=a===void 0?8:a,i=t.dt,s=i===void 0?17:i,l=function(f,d,h){var p=-(f-d)*n,m=h*o,v=h+(p-m)*s/1e3,x=h*s/1e3+f;return Math.abs(x-d)<sd&&Math.abs(v)<sd?[d,0]:[x,v]};return l.isStepper=!0,l.dt=s,l},UG=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return jw(a);case"spring":return WG();default:if(a.split("(")[0]==="cubic-bezier")return jw(a)}return typeof a=="function"?a:null};function Ic(e){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ic(e)}function Ow(e){return VG(e)||HG(e)||_P(e)||GG()}function GG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function VG(e){if(Array.isArray(e))return Wg(e)}function Pw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pw(Object(r),!0).forEach(function(n){zg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zg(e,t,r){return t=KG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KG(e){var t=XG(e,"string");return Ic(t)==="symbol"?t:String(t)}function XG(e,t){if(Ic(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ic(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YG(e,t){return QG(e)||ZG(e,t)||_P(e,t)||qG()}function qG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _P(e,t){if(e){if(typeof e=="string")return Wg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wg(e,t)}}function Wg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ZG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function QG(e){if(Array.isArray(e))return e}var ld=function(t,r,n){return t+(r-t)*n},Ug=function(t){var r=t.from,n=t.to;return r!==n},JG=function e(t,r,n){var a=Vl(function(o,i){if(Ug(i)){var s=t(i.from,i.to,i.velocity),l=YG(s,2),c=l[0],f=l[1];return Dr(Dr({},i),{},{from:c,velocity:f})}return i},r);return n<1?Vl(function(o,i){return Ug(i)?Dr(Dr({},i),{},{velocity:ld(i.velocity,a[o].velocity,n),from:ld(i.from,a[o].from,n)}):i},r):e(t,a,n-1)};const eH=function(e,t,r,n,a){var o=MG(e,t),i=o.reduce(function(x,y){return Dr(Dr({},x),{},zg({},y,[e[y],t[y]]))},{}),s=o.reduce(function(x,y){return Dr(Dr({},x),{},zg({},y,{from:e[y],velocity:0,to:t[y]}))},{}),l=-1,c,f,d=function(){return null},h=function(){return Vl(function(y,g){return g.from},s)},p=function(){return!Object.values(s).filter(Ug).length},m=function(y){c||(c=y);var g=y-c,b=g/r.dt;s=JG(r,s,b),a(Dr(Dr(Dr({},e),t),h())),c=y,p()||(l=requestAnimationFrame(d))},v=function(y){f||(f=y);var g=(y-f)/n,b=Vl(function(w,k){return ld.apply(void 0,Ow(k).concat([r(g)]))},i);if(a(Dr(Dr(Dr({},e),t),b)),g<1)l=requestAnimationFrame(d);else{var S=Vl(function(w,k){return ld.apply(void 0,Ow(k).concat([r(1)]))},i);a(Dr(Dr(Dr({},e),t),S))}};return d=r.isStepper?m:v,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function Ns(e){"@babel/helpers - typeof";return Ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ns(e)}var tH=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function rH(e,t){if(e==null)return{};var r=nH(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nH(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Ip(e){return sH(e)||iH(e)||oH(e)||aH()}function aH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oH(e,t){if(e){if(typeof e=="string")return Gg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gg(e,t)}}function iH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sH(e){if(Array.isArray(e))return Gg(e)}function Gg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ta(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_w(Object(r),!0).forEach(function(n){Tl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_w(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tl(e,t,r){return t=NP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cH(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NP(n.key),n)}}function uH(e,t,r){return t&&cH(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function NP(e){var t=fH(e,"string");return Ns(t)==="symbol"?t:String(t)}function fH(e,t){if(Ns(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ns(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hg(e,t)}function Hg(e,t){return Hg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Hg(e,t)}function hH(e){var t=pH();return function(){var n=cd(e),a;if(t){var o=cd(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Vg(this,a)}}function Vg(e,t){if(t&&(Ns(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kg(e)}function Kg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pH(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function cd(e){return cd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cd(e)}var da=function(e){dH(r,e);var t=hH(r);function r(n,a){var o;lH(this,r),o=t.call(this,n,a);var i=o.props,s=i.isActive,l=i.attributeName,c=i.from,f=i.to,d=i.steps,h=i.children,p=i.duration;if(o.handleStyleChange=o.handleStyleChange.bind(Kg(o)),o.changeStyle=o.changeStyle.bind(Kg(o)),!s||p<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:f}),Vg(o);if(d&&d.length)o.state={style:d[0].style};else if(c){if(typeof h=="function")return o.state={style:c},Vg(o);o.state={style:l?Tl({},l,c):c}}else o.state={style:{}};return o}return uH(r,[{key:"componentDidMount",value:function(){var a=this.props,o=a.isActive,i=a.canBegin;this.mounted=!0,!(!o||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var o=this.props,i=o.isActive,s=o.canBegin,l=o.attributeName,c=o.shouldReAnimate,f=o.to,d=o.from,h=this.state.style;if(s){if(!i){var p={style:l?Tl({},l,f):f};this.state&&h&&(l&&h[l]!==f||!l&&h!==f)&&this.setState(p);return}if(!(bG(a.to,f)&&a.canBegin&&a.isActive)){var m=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=m||c?d:a.to;if(this.state&&h){var x={style:l?Tl({},l,v):v};(l&&h[l]!==v||!l&&h!==v)&&this.setState(x)}this.runAnimation(ta(ta({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var o=this,i=a.from,s=a.to,l=a.duration,c=a.easing,f=a.begin,d=a.onAnimationEnd,h=a.onAnimationStart,p=eH(i,s,UG(c),l,this.changeStyle),m=function(){o.stopJSAnimation=p()};this.manager.start([h,f,m,l,d])}},{key:"runStepAnimation",value:function(a){var o=this,i=a.steps,s=a.begin,l=a.onAnimationStart,c=i[0],f=c.style,d=c.duration,h=d===void 0?0:d,p=function(v,x,y){if(y===0)return v;var g=x.duration,b=x.easing,S=b===void 0?"ease":b,w=x.style,k=x.properties,j=x.onAnimationEnd,P=y>0?i[y-1]:x,_=k||Object.keys(w);if(typeof S=="function"||S==="spring")return[].concat(Ip(v),[o.runJSAnimation.bind(o,{from:P.style,to:w,duration:g,easing:S}),g]);var A=kw(_,g,S),N=ta(ta(ta({},P.style),w),{},{transition:A});return[].concat(Ip(v),[N,g,j]).filter(CG)};return this.manager.start([l].concat(Ip(i.reduce(p,[f,Math.max(h,s)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=_G());var o=a.begin,i=a.duration,s=a.attributeName,l=a.to,c=a.easing,f=a.onAnimationStart,d=a.onAnimationEnd,h=a.steps,p=a.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var v=s?Tl({},s,l):l,x=kw(Object.keys(v),i,c);m.start([f,o,ta(ta({},v),{},{transition:x}),i,d])}},{key:"render",value:function(){var a=this.props,o=a.children;a.begin;var i=a.duration;a.attributeName,a.easing;var s=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=rH(a,tH),c=O.Children.count(o),f=this.state.style;if(typeof o=="function")return o(f);if(!s||c===0||i<=0)return o;var d=function(p){var m=p.props,v=m.style,x=v===void 0?{}:v,y=m.className,g=O.cloneElement(p,ta(ta({},l),{},{style:ta(ta({},x),f),className:y}));return g};return c===1?d(O.Children.only(o)):M.createElement("div",null,O.Children.map(o,function(h){return d(h)}))}}]),r}(O.PureComponent);da.displayName="Animate";da.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};da.propTypes={from:xt.oneOfType([xt.object,xt.string]),to:xt.oneOfType([xt.object,xt.string]),attributeName:xt.string,duration:xt.number,begin:xt.number,easing:xt.oneOfType([xt.string,xt.func]),steps:xt.arrayOf(xt.shape({duration:xt.number.isRequired,style:xt.object.isRequired,easing:xt.oneOfType([xt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),xt.func]),properties:xt.arrayOf("string"),onAnimationEnd:xt.func})),children:xt.oneOfType([xt.node,xt.func]),isActive:xt.bool,canBegin:xt.bool,onAnimationEnd:xt.func,shouldReAnimate:xt.bool,onAnimationStart:xt.func,onAnimationReStart:xt.func};function Bc(e){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bc(e)}function ud(){return ud=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ud.apply(this,arguments)}function gH(e,t){return xH(e)||vH(e,t)||yH(e,t)||mH()}function mH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yH(e,t){if(e){if(typeof e=="string")return Nw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Nw(e,t)}}function Nw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function xH(e){if(Array.isArray(e))return e}function Aw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Aw(Object(r),!0).forEach(function(n){bH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Aw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bH(e,t,r){return t=wH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wH(e){var t=kH(e,"string");return Bc(t)=="symbol"?t:t+""}function kH(e,t){if(Bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cw=function(t,r,n,a,o){var i=Math.min(Math.abs(n)/2,Math.abs(a)/2),s=a>=0?1:-1,l=n>=0?1:-1,c=a>=0&&n>=0||a<0&&n<0?1:0,f;if(i>0&&o instanceof Array){for(var d=[0,0,0,0],h=0,p=4;h<p;h++)d[h]=o[h]>i?i:o[h];f="M".concat(t,",").concat(r+s*d[0]),d[0]>0&&(f+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(t+l*d[0],",").concat(r)),f+="L ".concat(t+n-l*d[1],",").concat(r),d[1]>0&&(f+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(r+s*d[1])),f+="L ".concat(t+n,",").concat(r+a-s*d[2]),d[2]>0&&(f+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(t+n-l*d[2],",").concat(r+a)),f+="L ".concat(t+l*d[3],",").concat(r+a),d[3]>0&&(f+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+a-s*d[3])),f+="Z"}else if(i>0&&o===+o&&o>0){var m=Math.min(i,o);f="M ".concat(t,",").concat(r+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+l*m,",").concat(r,`
            L `).concat(t+n-l*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n,",").concat(r+s*m,`
            L `).concat(t+n,",").concat(r+a-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n-l*m,",").concat(r+a,`
            L `).concat(t+l*m,",").concat(r+a,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t,",").concat(r+a-s*m," Z")}else f="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return f},SH=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,o=r.x,i=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(o,o+s),f=Math.max(o,o+s),d=Math.min(i,i+l),h=Math.max(i,i+l);return n>=c&&n<=f&&a>=d&&a<=h}return!1},jH={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},dv=function(t){var r=Mw(Mw({},jH),t),n=O.useRef(),a=O.useState(-1),o=gH(a,2),i=o[0],s=o[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&s(S)}catch{}},[]);var l=r.x,c=r.y,f=r.width,d=r.height,h=r.radius,p=r.className,m=r.animationEasing,v=r.animationDuration,x=r.animationBegin,y=r.isAnimationActive,g=r.isUpdateAnimationActive;if(l!==+l||c!==+c||f!==+f||d!==+d||f===0||d===0)return null;var b=ut("recharts-rectangle",p);return g?M.createElement(da,{canBegin:i>0,from:{width:f,height:d,x:l,y:c},to:{width:f,height:d,x:l,y:c},duration:v,animationEasing:m,isActive:g},function(S){var w=S.width,k=S.height,j=S.x,P=S.y;return M.createElement(da,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:v,isActive:y,easing:m},M.createElement("path",ud({},ze(r,!0),{className:b,d:Cw(j,P,w,k,h),ref:n})))}):M.createElement("path",ud({},ze(r,!0),{className:b,d:Cw(l,c,f,d,h)}))};function Xg(){return Xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xg.apply(this,arguments)}var Ph=function(t){var r=t.cx,n=t.cy,a=t.r,o=t.className,i=ut("recharts-dot",o);return r===+r&&n===+n&&a===+a?O.createElement("circle",Xg({},ze(t,!1),Af(t),{className:i,cx:r,cy:n,r:a})):null};function Fc(e){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fc(e)}var OH=["x","y","top","left","width","height","className"];function Yg(){return Yg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yg.apply(this,arguments)}function Ew(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ew(Object(r),!0).forEach(function(n){_H(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ew(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _H(e,t,r){return t=NH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NH(e){var t=AH(e,"string");return Fc(t)=="symbol"?t:t+""}function AH(e,t){if(Fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MH(e,t){if(e==null)return{};var r=CH(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function CH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var EH=function(t,r,n,a,o,i){return"M".concat(t,",").concat(o,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(n)},TH=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,o=a===void 0?0:a,i=t.top,s=i===void 0?0:i,l=t.left,c=l===void 0?0:l,f=t.width,d=f===void 0?0:f,h=t.height,p=h===void 0?0:h,m=t.className,v=MH(t,OH),x=PH({x:n,y:o,top:s,left:c,width:d,height:p},v);return!ie(n)||!ie(o)||!ie(d)||!ie(p)||!ie(s)||!ie(c)?null:M.createElement("path",Yg({},ze(x,!0),{className:ut("recharts-cross",m),d:EH(n,o,d,p,s,c)}))},$H=Uj,DH=$H(Object.getPrototypeOf,Object),RH=DH,LH=to,IH=RH,BH=ro,FH="[object Object]",zH=Function.prototype,WH=Object.prototype,AP=zH.toString,UH=WH.hasOwnProperty,GH=AP.call(Object);function HH(e){if(!BH(e)||LH(e)!=FH)return!1;var t=IH(e);if(t===null)return!0;var r=UH.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&AP.call(r)==GH}var VH=HH;const KH=Tt(VH);var XH=to,YH=ro,qH="[object Boolean]";function ZH(e){return e===!0||e===!1||YH(e)&&XH(e)==qH}var QH=ZH;const JH=Tt(QH);function zc(e){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zc(e)}function fd(){return fd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fd.apply(this,arguments)}function eV(e,t){return aV(e)||nV(e,t)||rV(e,t)||tV()}function tV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rV(e,t){if(e){if(typeof e=="string")return Tw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tw(e,t)}}function Tw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function aV(e){if(Array.isArray(e))return e}function $w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$w(Object(r),!0).forEach(function(n){oV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$w(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oV(e,t,r){return t=iV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iV(e){var t=sV(e,"string");return zc(t)=="symbol"?t:t+""}function sV(e,t){if(zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rw=function(t,r,n,a,o){var i=n-a,s;return s="M ".concat(t,",").concat(r),s+="L ".concat(t+n,",").concat(r),s+="L ".concat(t+n-i/2,",").concat(r+o),s+="L ".concat(t+n-i/2-a,",").concat(r+o),s+="L ".concat(t,",").concat(r," Z"),s},lV={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cV=function(t){var r=Dw(Dw({},lV),t),n=O.useRef(),a=O.useState(-1),o=eV(a,2),i=o[0],s=o[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&s(b)}catch{}},[]);var l=r.x,c=r.y,f=r.upperWidth,d=r.lowerWidth,h=r.height,p=r.className,m=r.animationEasing,v=r.animationDuration,x=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||c!==+c||f!==+f||d!==+d||h!==+h||f===0&&d===0||h===0)return null;var g=ut("recharts-trapezoid",p);return y?M.createElement(da,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:f,lowerWidth:d,height:h,x:l,y:c},duration:v,animationEasing:m,isActive:y},function(b){var S=b.upperWidth,w=b.lowerWidth,k=b.height,j=b.x,P=b.y;return M.createElement(da,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:v,easing:m},M.createElement("path",fd({},ze(r,!0),{className:g,d:Rw(j,P,S,w,k),ref:n})))}):M.createElement("g",null,M.createElement("path",fd({},ze(r,!0),{className:g,d:Rw(l,c,f,d,h)})))},uV=["option","shapeType","propTransformer","activeClassName","isActive"];function Wc(e){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wc(e)}function fV(e,t){if(e==null)return{};var r=dV(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Lw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lw(Object(r),!0).forEach(function(n){hV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hV(e,t,r){return t=pV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pV(e){var t=gV(e,"string");return Wc(t)=="symbol"?t:t+""}function gV(e,t){if(Wc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mV(e,t){return dd(dd({},t),e)}function yV(e,t){return e==="symbols"}function Iw(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return M.createElement(dv,r);case"trapezoid":return M.createElement(cV,r);case"sector":return M.createElement(vP,r);case"symbols":if(yV(t))return M.createElement(hh,r);break;default:return null}}function vV(e){return O.isValidElement(e)?e.props:e}function qg(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?mV:n,o=e.activeClassName,i=o===void 0?"recharts-active-shape":o,s=e.isActive,l=fV(e,uV),c;if(O.isValidElement(t))c=O.cloneElement(t,dd(dd({},l),vV(t)));else if(Ge(t))c=t(l);else if(KH(t)&&!JH(t)){var f=a(t,l);c=M.createElement(Iw,{shapeType:r,elementProps:f})}else{var d=l;c=M.createElement(Iw,{shapeType:r,elementProps:d})}return s?M.createElement(yt,{className:i},c):c}function _h(e,t){return t!=null&&"trapezoids"in e.props}function Nh(e,t){return t!=null&&"sectors"in e.props}function Uc(e,t){return t!=null&&"points"in e.props}function xV(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,o=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&o}function bV(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function wV(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function kV(e,t){var r;return _h(e,t)?r=xV:Nh(e,t)?r=bV:Uc(e,t)&&(r=wV),r}function SV(e,t){var r;return _h(e,t)?r="trapezoids":Nh(e,t)?r="sectors":Uc(e,t)&&(r="points"),r}function jV(e,t){if(_h(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Nh(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Uc(e,t)?t.payload:{}}function OV(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=SV(r,t),o=jV(r,t),i=n.filter(function(l,c){var f=bi(o,l),d=r.props[a].filter(function(m){var v=kV(r,t);return v(m,t)}),h=r.props[a].indexOf(d[d.length-1]),p=c===h;return f&&p}),s=n.indexOf(i[i.length-1]);return s}var PV=Math.ceil,_V=Math.max;function NV(e,t,r,n){for(var a=-1,o=_V(PV((t-e)/(r||1)),0),i=Array(o);o--;)i[n?o:++a]=e,e+=r;return i}var AV=NV,MV=lO,Bw=1/0,CV=17976931348623157e292;function EV(e){if(!e)return e===0?e:0;if(e=MV(e),e===Bw||e===-Bw){var t=e<0?-1:1;return t*CV}return e===e?e:0}var MP=EV,TV=AV,$V=mh,Bp=MP;function DV(e){return function(t,r,n){return n&&typeof n!="number"&&$V(t,r,n)&&(r=n=void 0),t=Bp(t),r===void 0?(r=t,t=0):r=Bp(r),n=n===void 0?t<r?1:-1:Bp(n),TV(t,r,n,e)}}var RV=DV,LV=RV,IV=LV(),BV=IV;const hd=Tt(BV);function Gc(e){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gc(e)}function Fw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fw(Object(r),!0).forEach(function(n){CP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CP(e,t,r){return t=FV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FV(e){var t=zV(e,"string");return Gc(t)=="symbol"?t:t+""}function zV(e,t){if(Gc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WV=["Webkit","Moz","O","ms"],UV=function(t,r){var n=t.replace(/(\w)/,function(o){return o.toUpperCase()}),a=WV.reduce(function(o,i){return zw(zw({},o),{},CP({},i+n,r))},{});return a[t]=r,a};function As(e){"@babel/helpers - typeof";return As=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},As(e)}function pd(){return pd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pd.apply(this,arguments)}function Ww(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ww(Object(r),!0).forEach(function(n){Pn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ww(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TP(n.key),n)}}function HV(e,t,r){return t&&Uw(e.prototype,t),r&&Uw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function VV(e,t,r){return t=gd(t),KV(e,EP()?Reflect.construct(t,r||[],gd(e).constructor):t.apply(e,r))}function KV(e,t){if(t&&(As(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XV(e)}function XV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EP=function(){return!!e})()}function gd(e){return gd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gd(e)}function YV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zg(e,t)}function Zg(e,t){return Zg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Zg(e,t)}function Pn(e,t,r){return t=TP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TP(e){var t=qV(e,"string");return As(t)=="symbol"?t:t+""}function qV(e,t){if(As(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(As(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ZV=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,o=t.x,i=t.width,s=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=Gl().domain(hd(0,l)).range([o,o+i-s]),f=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(a),scale:c,scaleValues:f}},Gw=function(t){return t.changedTouches&&!!t.changedTouches.length},Ms=function(e){function t(r){var n;return GV(this,t),n=VV(this,t,[r]),Pn(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Pn(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Pn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,o=a.endIndex,i=a.onDragEnd,s=a.startIndex;i==null||i({endIndex:o,startIndex:s})}),n.detachDragEndListener()}),Pn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Pn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Pn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Pn(n,"handleSlideDragStart",function(a){var o=Gw(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return YV(t,e),HV(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,o=n.endX,i=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,f=c.length-1,d=Math.min(a,o),h=Math.max(a,o),p=t.getIndexInRange(i,d),m=t.getIndexInRange(i,h);return{startIndex:p-p%l,endIndex:m===f?f:m-m%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,o=a.data,i=a.tickFormatter,s=a.dataKey,l=Or(o[n],s,n);return Ge(i)?i(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,o=a.slideMoveStartX,i=a.startX,s=a.endX,l=this.props,c=l.x,f=l.width,d=l.travellerWidth,h=l.startIndex,p=l.endIndex,m=l.onChange,v=n.pageX-o;v>0?v=Math.min(v,c+f-d-s,c+f-d-i):v<0&&(v=Math.max(v,c-i,c-s));var x=this.getIndex({startX:i+v,endX:s+v});(x.startIndex!==h||x.endIndex!==p)&&m&&m(x),this.setState({startX:i+v,endX:s+v,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var o=Gw(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,o=a.brushMoveStartX,i=a.movingTravellerId,s=a.endX,l=a.startX,c=this.state[i],f=this.props,d=f.x,h=f.width,p=f.travellerWidth,m=f.onChange,v=f.gap,x=f.data,y={startX:this.state.startX,endX:this.state.endX},g=n.pageX-o;g>0?g=Math.min(g,d+h-p-c):g<0&&(g=Math.max(g,d-c)),y[i]=c+g;var b=this.getIndex(y),S=b.startIndex,w=b.endIndex,k=function(){var P=x.length-1;return i==="startX"&&(s>l?S%v===0:w%v===0)||s<l&&w===P||i==="endX"&&(s>l?w%v===0:S%v===0)||s>l&&w===P};this.setState(Pn(Pn({},i,c+g),"brushMoveStartX",n.pageX),function(){m&&k()&&m(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var o=this,i=this.state,s=i.scaleValues,l=i.startX,c=i.endX,f=this.state[a],d=s.indexOf(f);if(d!==-1){var h=d+n;if(!(h===-1||h>=s.length)){var p=s[h];a==="startX"&&p>=c||a==="endX"&&p<=l||this.setState(Pn({},a,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.fill,c=n.stroke;return M.createElement("rect",{stroke:c,fill:l,x:a,y:o,width:i,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.data,c=n.children,f=n.padding,d=O.Children.only(c);return d?M.cloneElement(d,{x:a,y:o,width:i,height:s,margin:f,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var o,i,s=this,l=this.props,c=l.y,f=l.travellerWidth,d=l.height,h=l.traveller,p=l.ariaLabel,m=l.data,v=l.startIndex,x=l.endIndex,y=Math.max(n,this.props.x),g=Fp(Fp({},ze(this.props,!1)),{},{x:y,y:c,width:f,height:d}),b=p||"Min value: ".concat((o=m[v])===null||o===void 0?void 0:o.name,", Max value: ").concat((i=m[x])===null||i===void 0?void 0:i.name);return M.createElement(yt,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),s.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,a))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,g))}},{key:"renderSlide",value:function(n,a){var o=this.props,i=o.y,s=o.height,l=o.stroke,c=o.travellerWidth,f=Math.min(n,a)+c,d=Math.max(Math.abs(a-n)-c,0);return M.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:f,y:i,width:d,height:s})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,o=n.endIndex,i=n.y,s=n.height,l=n.travellerWidth,c=n.stroke,f=this.state,d=f.startX,h=f.endX,p=5,m={pointerEvents:"none",fill:c};return M.createElement(yt,{className:"recharts-brush-texts"},M.createElement(Uf,pd({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-p,y:i+s/2},m),this.getTextOfTick(a)),M.createElement(Uf,pd({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+p,y:i+s/2},m),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,a=n.data,o=n.className,i=n.children,s=n.x,l=n.y,c=n.width,f=n.height,d=n.alwaysShowText,h=this.state,p=h.startX,m=h.endX,v=h.isTextActive,x=h.isSlideMoving,y=h.isTravellerMoving,g=h.isTravellerFocused;if(!a||!a.length||!ie(s)||!ie(l)||!ie(c)||!ie(f)||c<=0||f<=0)return null;var b=ut("recharts-brush",o),S=M.Children.count(i)===1,w=UV("userSelect","none");return M.createElement(yt,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(v||x||y||g||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,o=n.y,i=n.width,s=n.height,l=n.stroke,c=Math.floor(o+s/2)-1;return M.createElement(M.Fragment,null,M.createElement("rect",{x:a,y:o,width:i,height:s,fill:l,stroke:"none"}),M.createElement("line",{x1:a+1,y1:c,x2:a+i-1,y2:c,fill:"none",stroke:"#fff"}),M.createElement("line",{x1:a+1,y1:c+2,x2:a+i-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var o;return M.isValidElement(n)?o=M.cloneElement(n,a):Ge(n)?o=n(a):o=t.renderDefaultTraveller(a),o}},{key:"getDerivedStateFromProps",value:function(n,a){var o=n.data,i=n.width,s=n.x,l=n.travellerWidth,c=n.updateId,f=n.startIndex,d=n.endIndex;if(o!==a.prevData||c!==a.prevUpdateId)return Fp({prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:i},o&&o.length?ZV({data:o,width:i,x:s,travellerWidth:l,startIndex:f,endIndex:d}):{scale:null,scaleValues:null});if(a.scale&&(i!==a.prevWidth||s!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([s,s+i-l]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:i,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var o=n.length,i=0,s=o-1;s-i>1;){var l=Math.floor((i+s)/2);n[l]>a?s=l:i=l}return a>=n[s]?s:i}}])}(O.PureComponent);Pn(Ms,"displayName","Brush");Pn(Ms,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var QV=Ly;function JV(e,t){var r;return QV(e,function(n,a,o){return r=t(n,a,o),!r}),!!r}var eK=JV,tK=Dj,rK=Ro,nK=eK,aK=Sn,oK=mh;function iK(e,t,r){var n=aK(e)?tK:nK;return r&&oK(e,t,r)&&(t=void 0),n(e,rK(t))}var sK=iK;const lK=Tt(sK);var _a=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},Hw=nO;function cK(e,t,r){t=="__proto__"&&Hw?Hw(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var uK=cK,fK=uK,dK=tO,hK=Ro;function pK(e,t){var r={};return t=hK(t),dK(e,function(n,a,o){fK(r,a,t(n,a,o))}),r}var gK=pK;const mK=Tt(gK);function yK(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var vK=yK,xK=Ly;function bK(e,t){var r=!0;return xK(e,function(n,a,o){return r=!!t(n,a,o),r}),r}var wK=bK,kK=vK,SK=wK,jK=Ro,OK=Sn,PK=mh;function _K(e,t,r){var n=OK(e)?kK:SK;return r&&PK(e,t,r)&&(t=void 0),n(e,jK(t))}var NK=_K;const $P=Tt(NK);var AK=["x","y"];function Hc(e){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hc(e)}function Qg(){return Qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qg.apply(this,arguments)}function Vw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vw(Object(r),!0).forEach(function(n){MK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MK(e,t,r){return t=CK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CK(e){var t=EK(e,"string");return Hc(t)=="symbol"?t:t+""}function EK(e,t){if(Hc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TK(e,t){if(e==null)return{};var r=$K(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $K(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function DK(e,t){var r=e.x,n=e.y,a=TK(e,AK),o="".concat(r),i=parseInt(o,10),s="".concat(n),l=parseInt(s,10),c="".concat(t.height||a.height),f=parseInt(c,10),d="".concat(t.width||a.width),h=parseInt(d,10);return Nl(Nl(Nl(Nl(Nl({},t),a),i?{x:i}:{}),l?{y:l}:{}),{},{height:f,width:h,name:t.name,radius:t.radius})}function Kw(e){return M.createElement(qg,Qg({shapeType:"rectangle",propTransformer:DK,activeClassName:"recharts-active-bar"},e))}var RK=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var o=ie(n)||q5(n);return o?t(n,a):(o||ki(),r)}},LK=["value","background"],DP;function Cs(e){"@babel/helpers - typeof";return Cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cs(e)}function IK(e,t){if(e==null)return{};var r=BK(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function BK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function md(){return md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},md.apply(this,arguments)}function Xw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xw(Object(r),!0).forEach(function(n){xo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LP(n.key),n)}}function zK(e,t,r){return t&&Yw(e.prototype,t),r&&Yw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function WK(e,t,r){return t=yd(t),UK(e,RP()?Reflect.construct(t,r||[],yd(e).constructor):t.apply(e,r))}function UK(e,t){if(t&&(Cs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GK(e)}function GK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RP=function(){return!!e})()}function yd(e){return yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yd(e)}function HK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jg(e,t)}function Jg(e,t){return Jg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Jg(e,t)}function xo(e,t,r){return t=LP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LP(e){var t=VK(e,"string");return Cs(t)=="symbol"?t:t+""}function VK(e,t){if(Cs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var su=function(e){function t(){var r;FK(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=WK(this,t,[].concat(a)),xo(r,"state",{isAnimationFinished:!1}),xo(r,"id",Ni("recharts-bar-")),xo(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),i&&i()}),xo(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),i&&i()}),r}return HK(t,e),zK(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,o=this.props,i=o.shape,s=o.dataKey,l=o.activeIndex,c=o.activeBar,f=ze(this.props,!1);return n&&n.map(function(d,h){var p=h===l,m=p?c:i,v=mr(mr(mr({},f),d),{},{isActive:p,option:m,index:h,dataKey:s,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return M.createElement(yt,md({className:"recharts-bar-rectangle"},pc(a.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),M.createElement(Kw,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,o=a.data,i=a.layout,s=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,f=a.animationEasing,d=a.animationId,h=this.state.prevData;return M.createElement(da,{begin:l,duration:c,isActive:s,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,v=o.map(function(x,y){var g=h&&h[y];if(g){var b=ur(g.x,x.x),S=ur(g.y,x.y),w=ur(g.width,x.width),k=ur(g.height,x.height);return mr(mr({},x),{},{x:b(m),y:S(m),width:w(m),height:k(m)})}if(i==="horizontal"){var j=ur(0,x.height),P=j(m);return mr(mr({},x),{},{y:x.y+x.height-P,height:P})}var _=ur(0,x.width),A=_(m);return mr(mr({},x),{},{width:A})});return M.createElement(yt,null,n.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,o=n.isAnimationActive,i=this.state.prevData;return o&&a&&a.length&&(!i||!bi(i,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,o=a.data,i=a.dataKey,s=a.activeIndex,l=ze(this.props.background,!1);return o.map(function(c,f){c.value;var d=c.background,h=IK(c,LK);if(!d)return null;var p=mr(mr(mr(mr(mr({},h),{},{fill:"#eee"},d),l),pc(n.props,c,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:i,index:f,className:"recharts-bar-background-rectangle"});return M.createElement(Kw,md({key:"background-bar-".concat(f),option:n.props.background,isActive:f===s},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.data,s=o.xAxis,l=o.yAxis,c=o.layout,f=o.children,d=kn(f,il);if(!d)return null;var h=c==="vertical"?i[0].height/2:i[0].width/2,p=function(x,y){var g=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:g,errorVal:Or(x,y)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return M.createElement(yt,m,d.map(function(v){return M.cloneElement(v,{key:"error-bar-".concat(a,"-").concat(v.props.dataKey),data:i,xAxis:s,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,o=n.data,i=n.className,s=n.xAxis,l=n.yAxis,c=n.left,f=n.top,d=n.width,h=n.height,p=n.isAnimationActive,m=n.background,v=n.id;if(a||!o||!o.length)return null;var x=this.state.isAnimationFinished,y=ut("recharts-bar",i),g=s&&s.allowDataOverflow,b=l&&l.allowDataOverflow,S=g||b,w=Le(v)?this.id:v;return M.createElement(yt,{className:y},g||b?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(w)},M.createElement("rect",{x:g?c:c-d/2,y:b?f:f-h/2,width:g?d:d*2,height:b?h:h*2}))):null,M.createElement(yt,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(w,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,w),(!p||x)&&Pa.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(O.PureComponent);DP=su;xo(su,"displayName","Bar");xo(su,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Lo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});xo(su,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,o=e.xAxis,i=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,f=e.dataStartIndex,d=e.displayedData,h=e.offset,p=xW(n,r);if(!p)return null;var m=t.layout,v=r.type.defaultProps,x=v!==void 0?mr(mr({},v),r.props):r.props,y=x.dataKey,g=x.children,b=x.minPointSize,S=m==="horizontal"?i:o,w=c?S.scale.domain():null,k=_W({numericAxis:S}),j=kn(g,Fy),P=d.map(function(_,A){var N,E,F,D,T,I;c?N=bW(c[f+A],w):(N=Or(_,y),Array.isArray(N)||(N=[k,N]));var W=RK(b,DP.defaultProps.minPointSize)(N[1],A);if(m==="horizontal"){var L,R=[i.scale(N[0]),i.scale(N[1])],B=R[0],te=R[1];E=Z1({axis:o,ticks:s,bandSize:a,offset:p.offset,entry:_,index:A}),F=(L=te??B)!==null&&L!==void 0?L:void 0,D=p.size;var X=B-te;if(T=Number.isNaN(X)?0:X,I={x:E,y:i.y,width:D,height:i.height},Math.abs(W)>0&&Math.abs(T)<Math.abs(W)){var G=la(T||W)*(Math.abs(W)-Math.abs(T));F-=G,T+=G}}else{var U=[o.scale(N[0]),o.scale(N[1])],ce=U[0],ue=U[1];if(E=ce,F=Z1({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:_,index:A}),D=ue-ce,T=p.size,I={x:o.x,y:F,width:o.width,height:T},Math.abs(W)>0&&Math.abs(D)<Math.abs(W)){var xe=la(D||W)*(Math.abs(W)-Math.abs(D));D+=xe}}return mr(mr(mr({},_),{},{x:E,y:F,width:D,height:T,value:c?N:N[1],payload:_,background:I},j&&j[A]&&j[A].props),{},{tooltipPayload:[gP(r,_)],tooltipPosition:{x:E+D/2,y:F+T/2}})});return mr({data:P,layout:m},h)});function Vc(e){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vc(e)}function KK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IP(n.key),n)}}function XK(e,t,r){return t&&qw(e.prototype,t),r&&qw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zw(Object(r),!0).forEach(function(n){Ah(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ah(e,t,r){return t=IP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IP(e){var t=YK(e,"string");return Vc(t)=="symbol"?t:t+""}function YK(e,t){if(Vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hv=function(t,r,n,a,o){var i=t.width,s=t.height,l=t.layout,c=t.children,f=Object.keys(r),d={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!Nn(c,su);return f.reduce(function(p,m){var v=r[m],x=v.orientation,y=v.domain,g=v.padding,b=g===void 0?{}:g,S=v.mirror,w=v.reversed,k="".concat(x).concat(S?"Mirror":""),j,P,_,A,N;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var E=y[1]-y[0],F=1/0,D=v.categoricalDomain.sort(eT);if(D.forEach(function(U,ce){ce>0&&(F=Math.min((U||0)-(D[ce-1]||0),F))}),Number.isFinite(F)){var T=F/E,I=v.layout==="vertical"?n.height:n.width;if(v.padding==="gap"&&(j=T*I/2),v.padding==="no-gap"){var W=xi(t.barCategoryGap,T*I),L=T*I/2;j=L-W-(L-W)/I*W}}}a==="xAxis"?P=[n.left+(b.left||0)+(j||0),n.left+n.width-(b.right||0)-(j||0)]:a==="yAxis"?P=l==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(j||0),n.top+n.height-(b.bottom||0)-(j||0)]:P=v.range,w&&(P=[P[1],P[0]]);var R=yW(v,o,h),B=R.scale,te=R.realScaleType;B.domain(y).range(P),vW(B);var X=PW(B,aa(aa({},v),{},{realScaleType:te}));a==="xAxis"?(N=x==="top"&&!S||x==="bottom"&&S,_=n.left,A=d[k]-N*v.height):a==="yAxis"&&(N=x==="left"&&!S||x==="right"&&S,_=d[k]-N*v.width,A=n.top);var G=aa(aa(aa({},v),X),{},{realScaleType:te,x:_,y:A,scale:B,width:a==="xAxis"?n.width:v.width,height:a==="yAxis"?n.height:v.height});return G.bandSize=nd(G,X),!v.hide&&a==="xAxis"?d[k]+=(N?-1:1)*G.height:v.hide||(d[k]+=(N?-1:1)*G.width),aa(aa({},p),{},Ah({},m,G))},{})},BP=function(t,r){var n=t.x,a=t.y,o=r.x,i=r.y;return{x:Math.min(n,o),y:Math.min(a,i),width:Math.abs(o-n),height:Math.abs(i-a)}},qK=function(t){var r=t.x1,n=t.y1,a=t.x2,o=t.y2;return BP({x:r,y:n},{x:a,y:o})},FP=function(){function e(t){KK(this,e),this.scale=t}return XK(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],o=n[n.length-1];return a<=o?r>=a&&r<=o:r>=o&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Ah(FP,"EPS",1e-4);var pv=function(t){var r=Object.keys(t).reduce(function(n,a){return aa(aa({},n),{},Ah({},a,FP.create(t[a])))},{});return aa(aa({},r),{},{apply:function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=o.bandAware,s=o.position;return mK(a,function(l,c){return r[c].apply(l,{bandAware:i,position:s})})},isInRange:function(a){return $P(a,function(o,i){return r[i].isInRange(o)})}})};function ZK(e){return(e%180+180)%180}var QK=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=ZK(a),i=o*Math.PI/180,s=Math.atan(n/r),l=i>s&&i<Math.PI-s?n/Math.sin(i):r/Math.cos(i);return Math.abs(l)},JK=Ro,eX=ru,tX=ph;function rX(e){return function(t,r,n){var a=Object(t);if(!eX(t)){var o=JK(r);t=tX(t),r=function(s){return o(a[s],s,a)}}var i=e(t,r,n);return i>-1?a[o?t[i]:i]:void 0}}var nX=rX,aX=MP;function oX(e){var t=aX(e),r=t%1;return t===t?r?t-r:t:0}var iX=oX,sX=Yj,lX=Ro,cX=iX,uX=Math.max;function fX(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:cX(r);return a<0&&(a=uX(n+a,0)),sX(e,lX(t),a)}var dX=fX,hX=nX,pX=dX,gX=hX(pX),mX=gX;const yX=Tt(mX);var vX=r5(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),gv=O.createContext(void 0),mv=O.createContext(void 0),zP=O.createContext(void 0),WP=O.createContext({}),UP=O.createContext(void 0),GP=O.createContext(0),HP=O.createContext(0),Qw=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,o=r.offset,i=t.clipPathId,s=t.children,l=t.width,c=t.height,f=vX(o);return M.createElement(gv.Provider,{value:n},M.createElement(mv.Provider,{value:a},M.createElement(WP.Provider,{value:o},M.createElement(zP.Provider,{value:f},M.createElement(UP.Provider,{value:i},M.createElement(GP.Provider,{value:c},M.createElement(HP.Provider,{value:l},s)))))))},xX=function(){return O.useContext(UP)},VP=function(t){var r=O.useContext(gv);r==null&&ki();var n=r[t];return n==null&&ki(),n},bX=function(){var t=O.useContext(gv);return go(t)},wX=function(){var t=O.useContext(mv),r=yX(t,function(n){return $P(n.domain,Number.isFinite)});return r||go(t)},KP=function(t){var r=O.useContext(mv);r==null&&ki();var n=r[t];return n==null&&ki(),n},kX=function(){var t=O.useContext(zP);return t},SX=function(){return O.useContext(WP)},yv=function(){return O.useContext(HP)},vv=function(){return O.useContext(GP)};function Es(e){"@babel/helpers - typeof";return Es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Es(e)}function jX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YP(n.key),n)}}function PX(e,t,r){return t&&OX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _X(e,t,r){return t=vd(t),NX(e,XP()?Reflect.construct(t,r||[],vd(e).constructor):t.apply(e,r))}function NX(e,t){if(t&&(Es(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AX(e)}function AX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XP=function(){return!!e})()}function vd(e){return vd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vd(e)}function MX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&em(e,t)}function em(e,t){return em=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},em(e,t)}function Jw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function e2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jw(Object(r),!0).forEach(function(n){xv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xv(e,t,r){return t=YP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YP(e){var t=CX(e,"string");return Es(t)=="symbol"?t:t+""}function CX(e,t){if(Es(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Es(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function EX(e,t){return RX(e)||DX(e,t)||$X(e,t)||TX()}function TX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $X(e,t){if(e){if(typeof e=="string")return t2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t2(e,t)}}function t2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function DX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function RX(e){if(Array.isArray(e))return e}function tm(){return tm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tm.apply(this,arguments)}var LX=function(t,r){var n;return M.isValidElement(t)?n=M.cloneElement(t,r):Ge(t)?n=t(r):n=M.createElement("line",tm({},r,{className:"recharts-reference-line-line"})),n},IX=function(t,r,n,a,o,i,s,l,c){var f=o.x,d=o.y,h=o.width,p=o.height;if(n){var m=c.y,v=t.y.apply(m,{position:i});if(_a(c,"discard")&&!t.y.isInRange(v))return null;var x=[{x:f+h,y:v},{x:f,y:v}];return l==="left"?x.reverse():x}if(r){var y=c.x,g=t.x.apply(y,{position:i});if(_a(c,"discard")&&!t.x.isInRange(g))return null;var b=[{x:g,y:d+p},{x:g,y:d}];return s==="top"?b.reverse():b}if(a){var S=c.segment,w=S.map(function(k){return t.apply(k,{position:i})});return _a(c,"discard")&&lK(w,function(k){return!t.isInRange(k)})?null:w}return null};function BX(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,o=e.yAxisId,i=e.shape,s=e.className,l=e.alwaysShow,c=xX(),f=VP(a),d=KP(o),h=kX();if(!c||!h)return null;Ga(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=pv({x:f.scale,y:d.scale}),m=jr(t),v=jr(r),x=n&&n.length===2,y=IX(p,m,v,x,h,e.position,f.orientation,d.orientation,e);if(!y)return null;var g=EX(y,2),b=g[0],S=b.x,w=b.y,k=g[1],j=k.x,P=k.y,_=_a(e,"hidden")?"url(#".concat(c,")"):void 0,A=e2(e2({clipPath:_},ze(e,!0)),{},{x1:S,y1:w,x2:j,y2:P});return M.createElement(yt,{className:ut("recharts-reference-line",s)},LX(i,A),Kr.renderCallByParent(e,qK({x1:S,y1:w,x2:j,y2:P})))}var oi=function(e){function t(){return jX(this,t),_X(this,t,arguments)}return MX(t,e),PX(t,[{key:"render",value:function(){return M.createElement(BX,this.props)}}])}(M.Component);xv(oi,"displayName","ReferenceLine");xv(oi,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function rm(){return rm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rm.apply(this,arguments)}function Ts(e){"@babel/helpers - typeof";return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ts(e)}function r2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function n2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r2(Object(r),!0).forEach(function(n){Mh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZP(n.key),n)}}function WX(e,t,r){return t&&zX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function UX(e,t,r){return t=xd(t),GX(e,qP()?Reflect.construct(t,r||[],xd(e).constructor):t.apply(e,r))}function GX(e,t){if(t&&(Ts(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HX(e)}function HX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qP=function(){return!!e})()}function xd(e){return xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xd(e)}function VX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nm(e,t)}function nm(e,t){return nm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nm(e,t)}function Mh(e,t,r){return t=ZP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZP(e){var t=KX(e,"string");return Ts(t)=="symbol"?t:t+""}function KX(e,t){if(Ts(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ts(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var XX=function(t){var r=t.x,n=t.y,a=t.xAxis,o=t.yAxis,i=pv({x:a.scale,y:o.scale}),s=i.apply({x:r,y:n},{bandAware:!0});return _a(t,"discard")&&!i.isInRange(s)?null:s},Ch=function(e){function t(){return FX(this,t),UX(this,t,arguments)}return VX(t,e),WX(t,[{key:"render",value:function(){var n=this.props,a=n.x,o=n.y,i=n.r,s=n.alwaysShow,l=n.clipPathId,c=jr(a),f=jr(o);if(Ga(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!f)return null;var d=XX(this.props);if(!d)return null;var h=d.x,p=d.y,m=this.props,v=m.shape,x=m.className,y=_a(this.props,"hidden")?"url(#".concat(l,")"):void 0,g=n2(n2({clipPath:y},ze(this.props,!0)),{},{cx:h,cy:p});return M.createElement(yt,{className:ut("recharts-reference-dot",x)},t.renderDot(v,g),Kr.renderCallByParent(this.props,{x:h-i,y:p-i,width:2*i,height:2*i}))}}])}(M.Component);Mh(Ch,"displayName","ReferenceDot");Mh(Ch,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Mh(Ch,"renderDot",function(e,t){var r;return M.isValidElement(e)?r=M.cloneElement(e,t):Ge(e)?r=e(t):r=M.createElement(Ph,rm({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function am(){return am=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},am.apply(this,arguments)}function $s(e){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$s(e)}function a2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function o2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a2(Object(r),!0).forEach(function(n){Eh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JP(n.key),n)}}function ZX(e,t,r){return t&&qX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function QX(e,t,r){return t=bd(t),JX(e,QP()?Reflect.construct(t,r||[],bd(e).constructor):t.apply(e,r))}function JX(e,t){if(t&&($s(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eY(e)}function eY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QP=function(){return!!e})()}function bd(e){return bd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bd(e)}function tY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&om(e,t)}function om(e,t){return om=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},om(e,t)}function Eh(e,t,r){return t=JP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JP(e){var t=rY(e,"string");return $s(t)=="symbol"?t:t+""}function rY(e,t){if($s(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var nY=function(t,r,n,a,o){var i=o.x1,s=o.x2,l=o.y1,c=o.y2,f=o.xAxis,d=o.yAxis;if(!f||!d)return null;var h=pv({x:f.scale,y:d.scale}),p={x:t?h.x.apply(i,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:r?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(c,{position:"end"}):h.y.rangeMax};return _a(o,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:BP(p,m)},lu=function(e){function t(){return YX(this,t),QX(this,t,arguments)}return tY(t,e),ZX(t,[{key:"render",value:function(){var n=this.props,a=n.x1,o=n.x2,i=n.y1,s=n.y2,l=n.className,c=n.alwaysShow,f=n.clipPathId;Ga(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=jr(a),h=jr(o),p=jr(i),m=jr(s),v=this.props.shape;if(!d&&!h&&!p&&!m&&!v)return null;var x=nY(d,h,p,m,this.props);if(!x&&!v)return null;var y=_a(this.props,"hidden")?"url(#".concat(f,")"):void 0;return M.createElement(yt,{className:ut("recharts-reference-area",l)},t.renderRect(v,o2(o2({clipPath:y},ze(this.props,!0)),x)),Kr.renderCallByParent(this.props,x))}}])}(M.Component);Eh(lu,"displayName","ReferenceArea");Eh(lu,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Eh(lu,"renderRect",function(e,t){var r;return M.isValidElement(e)?r=M.cloneElement(e,t):Ge(e)?r=e(t):r=M.createElement(dv,am({},t,{className:"recharts-reference-area-rect"})),r});function e_(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function aY(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return QK(n,r)}function oY(e,t,r){var n=r==="width",a=e.x,o=e.y,i=e.width,s=e.height;return t===1?{start:n?a:o,end:n?a+i:o+s}:{start:n?a+i:o+s,end:n?a:o}}function wd(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var o=r();return e*(t-e*o/2-n)>=0&&e*(t+e*o/2-a)<=0}function iY(e,t){return e_(e,t+1)}function sY(e,t,r,n,a){for(var o=(n||[]).slice(),i=t.start,s=t.end,l=0,c=1,f=i,d=function(){var m=n==null?void 0:n[l];if(m===void 0)return{v:e_(n,c)};var v=l,x,y=function(){return x===void 0&&(x=r(m,v)),x},g=m.coordinate,b=l===0||wd(e,g,y,f,s);b||(l=0,f=i,c+=1),b&&(f=g+e*(y()/2+a),l+=c)},h;c<=o.length;)if(h=d(),h)return h.v;return[]}function Kc(e){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kc(e)}function i2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i2(Object(r),!0).forEach(function(n){lY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lY(e,t,r){return t=cY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cY(e){var t=uY(e,"string");return Kc(t)=="symbol"?t:t+""}function uY(e,t){if(Kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fY(e,t,r,n,a){for(var o=(n||[]).slice(),i=o.length,s=t.start,l=t.end,c=function(h){var p=o[h],m,v=function(){return m===void 0&&(m=r(p,h)),m};if(h===i-1){var x=e*(p.coordinate+e*v()/2-l);o[h]=p=Hr(Hr({},p),{},{tickCoord:x>0?p.coordinate-x*e:p.coordinate})}else o[h]=p=Hr(Hr({},p),{},{tickCoord:p.coordinate});var y=wd(e,p.tickCoord,v,s,l);y&&(l=p.tickCoord-e*(v()/2+a),o[h]=Hr(Hr({},p),{},{isShow:!0}))},f=i-1;f>=0;f--)c(f);return o}function dY(e,t,r,n,a,o){var i=(n||[]).slice(),s=i.length,l=t.start,c=t.end;if(o){var f=n[s-1],d=r(f,s-1),h=e*(f.coordinate+e*d/2-c);i[s-1]=f=Hr(Hr({},f),{},{tickCoord:h>0?f.coordinate-h*e:f.coordinate});var p=wd(e,f.tickCoord,function(){return d},l,c);p&&(c=f.tickCoord-e*(d/2+a),i[s-1]=Hr(Hr({},f),{},{isShow:!0}))}for(var m=o?s-1:s,v=function(g){var b=i[g],S,w=function(){return S===void 0&&(S=r(b,g)),S};if(g===0){var k=e*(b.coordinate-e*w()/2-l);i[g]=b=Hr(Hr({},b),{},{tickCoord:k<0?b.coordinate-k*e:b.coordinate})}else i[g]=b=Hr(Hr({},b),{},{tickCoord:b.coordinate});var j=wd(e,b.tickCoord,w,l,c);j&&(l=b.tickCoord+e*(w()/2+a),i[g]=Hr(Hr({},b),{},{isShow:!0}))},x=0;x<m;x++)v(x);return i}function bv(e,t,r){var n=e.tick,a=e.ticks,o=e.viewBox,i=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,f=e.unit,d=e.angle;if(!a||!a.length||!n)return[];if(ie(l)||Lo.isSsr)return iY(a,typeof l=="number"&&ie(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",m=f&&p==="width"?Ul(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=function(b,S){var w=Ge(c)?c(b.value,S):b.value;return p==="width"?aY(Ul(w,{fontSize:t,letterSpacing:r}),m,d):Ul(w,{fontSize:t,letterSpacing:r})[p]},x=a.length>=2?la(a[1].coordinate-a[0].coordinate):1,y=oY(o,x,p);return l==="equidistantPreserveStart"?sY(x,y,v,a,i):(l==="preserveStart"||l==="preserveStartEnd"?h=dY(x,y,v,a,i,l==="preserveStartEnd"):h=fY(x,y,v,a,i),h.filter(function(g){return g.isShow}))}var hY=["viewBox"],pY=["viewBox"],gY=["ticks"];function Ds(e){"@babel/helpers - typeof";return Ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ds(e)}function Ji(){return Ji=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ji.apply(this,arguments)}function s2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s2(Object(r),!0).forEach(function(n){wv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zp(e,t){if(e==null)return{};var r=mY(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,r_(n.key),n)}}function vY(e,t,r){return t&&l2(e.prototype,t),r&&l2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function xY(e,t,r){return t=kd(t),bY(e,t_()?Reflect.construct(t,r||[],kd(e).constructor):t.apply(e,r))}function bY(e,t){if(t&&(Ds(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wY(e)}function wY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function t_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t_=function(){return!!e})()}function kd(e){return kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kd(e)}function kY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&im(e,t)}function im(e,t){return im=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},im(e,t)}function wv(e,t,r){return t=r_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r_(e){var t=SY(e,"string");return Ds(t)=="symbol"?t:t+""}function SY(e,t){if(Ds(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ds(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var sl=function(e){function t(r){var n;return yY(this,t),n=xY(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return kY(t,e),vY(t,[{key:"shouldComponentUpdate",value:function(n,a){var o=n.viewBox,i=zp(n,hY),s=this.props,l=s.viewBox,c=zp(s,pY);return!ss(o,l)||!ss(i,c)||!ss(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,o=a.x,i=a.y,s=a.width,l=a.height,c=a.orientation,f=a.tickSize,d=a.mirror,h=a.tickMargin,p,m,v,x,y,g,b=d?-1:1,S=n.tickSize||f,w=ie(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":p=m=n.coordinate,x=i+ +!d*l,v=x-b*S,g=v-b*h,y=w;break;case"left":v=x=n.coordinate,m=o+ +!d*s,p=m-b*S,y=p-b*h,g=w;break;case"right":v=x=n.coordinate,m=o+ +d*s,p=m+b*S,y=p+b*h,g=w;break;default:p=m=n.coordinate,x=i+ +d*l,v=x+b*S,g=v+b*h,y=w;break}return{line:{x1:p,y1:v,x2:m,y2:x},tick:{x:y,y:g}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,o=n.mirror,i;switch(a){case"left":i=o?"start":"end";break;case"right":i=o?"end":"start";break;default:i="middle";break}return i}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,o=n.mirror,i="end";switch(a){case"left":case"right":i="middle";break;case"top":i=o?"start":"end";break;default:i=o?"end":"start";break}return i}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.orientation,c=n.mirror,f=n.axisLine,d=br(br(br({},ze(this.props,!1)),ze(f,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);d=br(br({},d),{},{x1:a,y1:o+h*s,x2:a+i,y2:o+h*s})}else{var p=+(l==="left"&&!c||l==="right"&&c);d=br(br({},d),{},{x1:a+p*i,y1:o,x2:a+p*i,y2:o+s})}return M.createElement("line",Ji({},d,{className:ut("recharts-cartesian-axis-line",Xn(f,"className"))}))}},{key:"renderTicks",value:function(n,a,o){var i=this,s=this.props,l=s.tickLine,c=s.stroke,f=s.tick,d=s.tickFormatter,h=s.unit,p=bv(br(br({},this.props),{},{ticks:n}),a,o),m=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),x=ze(this.props,!1),y=ze(f,!1),g=br(br({},x),{},{fill:"none"},ze(l,!1)),b=p.map(function(S,w){var k=i.getTickLineCoord(S),j=k.line,P=k.tick,_=br(br(br(br({textAnchor:m,verticalAnchor:v},x),{},{stroke:"none",fill:c},y),P),{},{index:w,payload:S,visibleTicksCount:p.length,tickFormatter:d});return M.createElement(yt,Ji({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},pc(i.props,S,w)),l&&M.createElement("line",Ji({},g,j,{className:ut("recharts-cartesian-axis-tick-line",Xn(l,"className"))})),f&&t.renderTickItem(f,_,"".concat(Ge(d)?d(S.value,w):S.value).concat(h||"")))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,a=this.props,o=a.axisLine,i=a.width,s=a.height,l=a.ticksGenerator,c=a.className,f=a.hide;if(f)return null;var d=this.props,h=d.ticks,p=zp(d,gY),m=h;return Ge(l)&&(m=h&&h.length>0?l(this.props):l(p)),i<=0||s<=0||!m||!m.length?null:M.createElement(yt,{className:ut("recharts-cartesian-axis",c),ref:function(x){n.layerReference=x}},o&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),Kr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,o){var i,s=ut(a.className,"recharts-cartesian-axis-tick-value");return M.isValidElement(n)?i=M.cloneElement(n,br(br({},a),{},{className:s})):Ge(n)?i=n(br(br({},a),{},{className:s})):i=M.createElement(Uf,Ji({},a,{className:"recharts-cartesian-axis-tick-value"}),o),i}}])}(O.Component);wv(sl,"displayName","CartesianAxis");wv(sl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var jY=["x1","y1","x2","y2","key"],OY=["offset"];function Si(e){"@babel/helpers - typeof";return Si=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Si(e)}function c2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c2(Object(r),!0).forEach(function(n){PY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PY(e,t,r){return t=_Y(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Y(e){var t=NY(e,"string");return Si(t)=="symbol"?t:t+""}function NY(e,t){if(Si(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Si(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ii(){return ii=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ii.apply(this,arguments)}function u2(e,t){if(e==null)return{};var r=AY(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function AY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var MY=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,o=t.y,i=t.width,s=t.height,l=t.ry;return M.createElement("rect",{x:a,y:o,ry:l,width:i,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function n_(e,t){var r;if(M.isValidElement(e))r=M.cloneElement(e,t);else if(Ge(e))r=e(t);else{var n=t.x1,a=t.y1,o=t.x2,i=t.y2,s=t.key,l=u2(t,jY),c=ze(l,!1);c.offset;var f=u2(c,OY);r=M.createElement("line",ii({},f,{x1:n,y1:a,x2:o,y2:i,fill:"none",key:s}))}return r}function CY(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,o=e.horizontalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(s,l){var c=Xr(Xr({},e),{},{x1:t,y1:s,x2:t+r,y2:s,key:"line-".concat(l),index:l});return n_(a,c)});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function EY(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,o=e.verticalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(s,l){var c=Xr(Xr({},e),{},{x1:s,y1:t,x2:s,y2:t+r,key:"line-".concat(l),index:l});return n_(a,c)});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function TY(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,o=e.width,i=e.height,s=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var f=s.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==f[0]&&f.unshift(0);var d=f.map(function(h,p){var m=!f[p+1],v=m?a+i-h:f[p+1]-h;if(v<=0)return null;var x=p%t.length;return M.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:v,width:o,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function $Y(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,o=e.x,i=e.y,s=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var f=c.map(function(h){return Math.round(h+o-o)}).sort(function(h,p){return h-p});o!==f[0]&&f.unshift(0);var d=f.map(function(h,p){var m=!f[p+1],v=m?o+s-h:f[p+1]-h;if(v<=0)return null;var x=p%n.length;return M.createElement("rect",{key:"react-".concat(p),x:h,y:i,width:v,height:l,stroke:"none",fill:n[x],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var DY=function(t,r){var n=t.xAxis,a=t.width,o=t.height,i=t.offset;return hP(bv(Xr(Xr(Xr({},sl.defaultProps),n),{},{ticks:za(n,!0),viewBox:{x:0,y:0,width:a,height:o}})),i.left,i.left+i.width,r)},RY=function(t,r){var n=t.yAxis,a=t.width,o=t.height,i=t.offset;return hP(bv(Xr(Xr(Xr({},sl.defaultProps),n),{},{ticks:za(n,!0),viewBox:{x:0,y:0,width:a,height:o}})),i.top,i.top+i.height,r)},Li={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function ji(e){var t,r,n,a,o,i,s=yv(),l=vv(),c=SX(),f=Xr(Xr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Li.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Li.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Li.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Li.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:Li.vertical,verticalFill:(i=e.verticalFill)!==null&&i!==void 0?i:Li.verticalFill,x:ie(e.x)?e.x:c.left,y:ie(e.y)?e.y:c.top,width:ie(e.width)?e.width:c.width,height:ie(e.height)?e.height:c.height}),d=f.x,h=f.y,p=f.width,m=f.height,v=f.syncWithTicks,x=f.horizontalValues,y=f.verticalValues,g=bX(),b=wX();if(!ie(p)||p<=0||!ie(m)||m<=0||!ie(d)||d!==+d||!ie(h)||h!==+h)return null;var S=f.verticalCoordinatesGenerator||DY,w=f.horizontalCoordinatesGenerator||RY,k=f.horizontalPoints,j=f.verticalPoints;if((!k||!k.length)&&Ge(w)){var P=x&&x.length,_=w({yAxis:b?Xr(Xr({},b),{},{ticks:P?x:b.ticks}):void 0,width:s,height:l,offset:c},P?!0:v);Ga(Array.isArray(_),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Si(_),"]")),Array.isArray(_)&&(k=_)}if((!j||!j.length)&&Ge(S)){var A=y&&y.length,N=S({xAxis:g?Xr(Xr({},g),{},{ticks:A?y:g.ticks}):void 0,width:s,height:l,offset:c},A?!0:v);Ga(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Si(N),"]")),Array.isArray(N)&&(j=N)}return M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(MY,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),M.createElement(CY,ii({},f,{offset:c,horizontalPoints:k,xAxis:g,yAxis:b})),M.createElement(EY,ii({},f,{offset:c,verticalPoints:j,xAxis:g,yAxis:b})),M.createElement(TY,ii({},f,{horizontalPoints:k})),M.createElement($Y,ii({},f,{verticalPoints:j})))}ji.displayName="CartesianGrid";var LY=["type","layout","connectNulls","ref"],IY=["key"];function Rs(e){"@babel/helpers - typeof";return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rs(e)}function f2(e,t){if(e==null)return{};var r=BY(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function BY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Kl(){return Kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kl.apply(this,arguments)}function d2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function On(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d2(Object(r),!0).forEach(function(n){oa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ii(e){return UY(e)||WY(e)||zY(e)||FY()}function FY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zY(e,t){if(e){if(typeof e=="string")return sm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sm(e,t)}}function WY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function UY(e){if(Array.isArray(e))return sm(e)}function sm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function GY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o_(n.key),n)}}function HY(e,t,r){return t&&h2(e.prototype,t),r&&h2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function VY(e,t,r){return t=Sd(t),KY(e,a_()?Reflect.construct(t,r||[],Sd(e).constructor):t.apply(e,r))}function KY(e,t){if(t&&(Rs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XY(e)}function XY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a_=function(){return!!e})()}function Sd(e){return Sd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sd(e)}function YY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lm(e,t)}function lm(e,t){return lm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},lm(e,t)}function oa(e,t,r){return t=o_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o_(e){var t=qY(e,"string");return Rs(t)=="symbol"?t:t+""}function qY(e,t){if(Rs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Yr=function(e){function t(){var r;GY(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=VY(this,t,[].concat(a)),oa(r,"state",{isAnimationFinished:!0,totalLength:0}),oa(r,"generateSimpleStrokeDasharray",function(i,s){return"".concat(s,"px ").concat(i-s,"px")}),oa(r,"getStrokeDasharray",function(i,s,l){var c=l.reduce(function(y,g){return y+g});if(!c)return r.generateSimpleStrokeDasharray(s,i);for(var f=Math.floor(i/c),d=i%c,h=s-i,p=[],m=0,v=0;m<l.length;v+=l[m],++m)if(v+l[m]>d){p=[].concat(Ii(l.slice(0,m)),[d-v]);break}var x=p.length%2===0?[0,h]:[h];return[].concat(Ii(t.repeat(l,f)),Ii(p),x).map(function(y){return"".concat(y,"px")}).join(", ")}),oa(r,"id",Ni("recharts-line-")),oa(r,"pathRef",function(i){r.mainCurve=i}),oa(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),oa(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return YY(t,e),HY(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.points,s=o.xAxis,l=o.yAxis,c=o.layout,f=o.children,d=kn(f,il);if(!d)return null;var h=function(v,x){return{x:v.x,y:v.y,value:v.value,errorVal:Or(v.payload,x)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return M.createElement(yt,p,d.map(function(m){return M.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:i,xAxis:s,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,o){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,c=s.points,f=s.dataKey,d=ze(this.props,!1),h=ze(l,!0),p=c.map(function(v,x){var y=On(On(On({key:"dot-".concat(x),r:3},d),h),{},{index:x,cx:v.x,cy:v.y,value:v.value,dataKey:f,payload:v.payload,points:c});return t.renderDotItem(l,y)}),m={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return M.createElement(yt,Kl({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(n,a,o,i){var s=this.props,l=s.type,c=s.layout,f=s.connectNulls;s.ref;var d=f2(s,LY),h=On(On(On({},ze(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(o,")"):null,points:n},i),{},{type:l,layout:c,connectNulls:f});return M.createElement(di,Kl({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var o=this,i=this.props,s=i.points,l=i.strokeDasharray,c=i.isAnimationActive,f=i.animationBegin,d=i.animationDuration,h=i.animationEasing,p=i.animationId,m=i.animateNewValues,v=i.width,x=i.height,y=this.state,g=y.prevPoints,b=y.totalLength;return M.createElement(da,{begin:f,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var w=S.t;if(g){var k=g.length/s.length,j=s.map(function(E,F){var D=Math.floor(F*k);if(g[D]){var T=g[D],I=ur(T.x,E.x),W=ur(T.y,E.y);return On(On({},E),{},{x:I(w),y:W(w)})}if(m){var L=ur(v*2,E.x),R=ur(x/2,E.y);return On(On({},E),{},{x:L(w),y:R(w)})}return On(On({},E),{},{x:E.x,y:E.y})});return o.renderCurveStatically(j,n,a)}var P=ur(0,b),_=P(w),A;if(l){var N="".concat(l).split(/[,\s]+/gim).map(function(E){return parseFloat(E)});A=o.getStrokeDasharray(_,b,N)}else A=o.generateSimpleStrokeDasharray(b,_);return o.renderCurveStatically(s,n,a,{strokeDasharray:A})})}},{key:"renderCurve",value:function(n,a){var o=this.props,i=o.points,s=o.isAnimationActive,l=this.state,c=l.prevPoints,f=l.totalLength;return s&&i&&i.length&&(!c&&f>0||!bi(c,i))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(i,n,a)}},{key:"render",value:function(){var n,a=this.props,o=a.hide,i=a.dot,s=a.points,l=a.className,c=a.xAxis,f=a.yAxis,d=a.top,h=a.left,p=a.width,m=a.height,v=a.isAnimationActive,x=a.id;if(o||!s||!s.length)return null;var y=this.state.isAnimationFinished,g=s.length===1,b=ut("recharts-line",l),S=c&&c.allowDataOverflow,w=f&&f.allowDataOverflow,k=S||w,j=Le(x)?this.id:x,P=(n=ze(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},_=P.r,A=_===void 0?3:_,N=P.strokeWidth,E=N===void 0?2:N,F=ij(i)?i:{},D=F.clipDot,T=D===void 0?!0:D,I=A*2+E;return M.createElement(yt,{className:b},S||w?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(j)},M.createElement("rect",{x:S?h:h-p/2,y:w?d:d-m/2,width:S?p:p*2,height:w?m:m*2})),!T&&M.createElement("clipPath",{id:"clipPath-dots-".concat(j)},M.createElement("rect",{x:h-I/2,y:d-I/2,width:p+I,height:m+I}))):null,!g&&this.renderCurve(k,j),this.renderErrorBar(k,j),(g||i)&&this.renderDots(k,T,j),(!v||y)&&Pa.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var o=n.length%2!==0?[].concat(Ii(n),[0]):n,i=[],s=0;s<a;++s)i=[].concat(Ii(i),Ii(o));return i}},{key:"renderDotItem",value:function(n,a){var o;if(M.isValidElement(n))o=M.cloneElement(n,a);else if(Ge(n))o=n(a);else{var i=a.key,s=f2(a,IY),l=ut("recharts-line-dot",typeof n!="boolean"?n.className:"");o=M.createElement(Ph,Kl({key:i},s,{className:l}))}return o}}])}(O.PureComponent);oa(Yr,"displayName","Line");oa(Yr,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Lo.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});oa(Yr,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,i=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,f=t.layout,d=l.map(function(h,p){var m=Or(h,i);return f==="horizontal"?{x:_s({axis:r,ticks:a,bandSize:s,entry:h,index:p}),y:Le(m)?null:n.scale(m),value:m,payload:h}:{x:Le(m)?null:r.scale(m),y:_s({axis:n,ticks:o,bandSize:s,entry:h,index:p}),value:m,payload:h}});return On({points:d,layout:f},c)});var ZY=["layout","type","stroke","connectNulls","isRange","ref"],QY=["key"],i_;function Ls(e){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ls(e)}function s_(e,t){if(e==null)return{};var r=JY(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function si(){return si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},si.apply(this,arguments)}function p2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p2(Object(r),!0).forEach(function(n){ka(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c_(n.key),n)}}function tq(e,t,r){return t&&g2(e.prototype,t),r&&g2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function rq(e,t,r){return t=jd(t),nq(e,l_()?Reflect.construct(t,r||[],jd(e).constructor):t.apply(e,r))}function nq(e,t){if(t&&(Ls(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aq(e)}function aq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l_=function(){return!!e})()}function jd(e){return jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jd(e)}function oq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cm(e,t)}function cm(e,t){return cm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cm(e,t)}function ka(e,t,r){return t=c_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c_(e){var t=iq(e,"string");return Ls(t)=="symbol"?t:t+""}function iq(e,t){if(Ls(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ls(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Vn=function(e){function t(){var r;eq(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=rq(this,t,[].concat(a)),ka(r,"state",{isAnimationFinished:!0}),ka(r,"id",Ni("recharts-area-")),ka(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ge(i)&&i()}),ka(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ge(i)&&i()}),r}return oq(t,e),tq(t,[{key:"renderDots",value:function(n,a,o){var i=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(i&&!s)return null;var l=this.props,c=l.dot,f=l.points,d=l.dataKey,h=ze(this.props,!1),p=ze(c,!0),m=f.map(function(x,y){var g=lo(lo(lo({key:"dot-".concat(y),r:3},h),p),{},{index:y,cx:x.x,cy:x.y,dataKey:d,value:x.value,payload:x.payload,points:f});return t.renderDotItem(c,g)}),v={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return M.createElement(yt,si({className:"recharts-area-dots"},v),m)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,o=a.baseLine,i=a.points,s=a.strokeWidth,l=i[0].x,c=i[i.length-1].x,f=n*Math.abs(l-c),d=vo(i.map(function(h){return h.y||0}));return ie(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(vo(o.map(function(h){return h.y||0})),d)),ie(d)?M.createElement("rect",{x:l<c?l:l-f,y:0,width:f,height:Math.floor(d+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,o=a.baseLine,i=a.points,s=a.strokeWidth,l=i[0].y,c=i[i.length-1].y,f=n*Math.abs(l-c),d=vo(i.map(function(h){return h.x||0}));return ie(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(vo(o.map(function(h){return h.x||0})),d)),ie(d)?M.createElement("rect",{x:0,y:l<c?l:l-f,width:d+(s?parseInt("".concat(s),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,o,i){var s=this.props,l=s.layout,c=s.type,f=s.stroke,d=s.connectNulls,h=s.isRange;s.ref;var p=s_(s,ZY);return M.createElement(yt,{clipPath:o?"url(#clipPath-".concat(i,")"):null},M.createElement(di,si({},ze(p,!0),{points:n,connectNulls:d,type:c,baseLine:a,layout:l,stroke:"none",className:"recharts-area-area"})),f!=="none"&&M.createElement(di,si({},ze(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:n})),f!=="none"&&h&&M.createElement(di,si({},ze(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var o=this,i=this.props,s=i.points,l=i.baseLine,c=i.isAnimationActive,f=i.animationBegin,d=i.animationDuration,h=i.animationEasing,p=i.animationId,m=this.state,v=m.prevPoints,x=m.prevBaseLine;return M.createElement(da,{begin:f,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var g=y.t;if(v){var b=v.length/s.length,S=s.map(function(P,_){var A=Math.floor(_*b);if(v[A]){var N=v[A],E=ur(N.x,P.x),F=ur(N.y,P.y);return lo(lo({},P),{},{x:E(g),y:F(g)})}return P}),w;if(ie(l)&&typeof l=="number"){var k=ur(x,l);w=k(g)}else if(Le(l)||Js(l)){var j=ur(x,0);w=j(g)}else w=l.map(function(P,_){var A=Math.floor(_*b);if(x[A]){var N=x[A],E=ur(N.x,P.x),F=ur(N.y,P.y);return lo(lo({},P),{},{x:E(g),y:F(g)})}return P});return o.renderAreaStatically(S,w,n,a)}return M.createElement(yt,null,M.createElement("defs",null,M.createElement("clipPath",{id:"animationClipPath-".concat(a)},o.renderClipRect(g))),M.createElement(yt,{clipPath:"url(#animationClipPath-".concat(a,")")},o.renderAreaStatically(s,l,n,a)))})}},{key:"renderArea",value:function(n,a){var o=this.props,i=o.points,s=o.baseLine,l=o.isAnimationActive,c=this.state,f=c.prevPoints,d=c.prevBaseLine,h=c.totalLength;return l&&i&&i.length&&(!f&&h>0||!bi(f,i)||!bi(d,s))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(i,s,n,a)}},{key:"render",value:function(){var n,a=this.props,o=a.hide,i=a.dot,s=a.points,l=a.className,c=a.top,f=a.left,d=a.xAxis,h=a.yAxis,p=a.width,m=a.height,v=a.isAnimationActive,x=a.id;if(o||!s||!s.length)return null;var y=this.state.isAnimationFinished,g=s.length===1,b=ut("recharts-area",l),S=d&&d.allowDataOverflow,w=h&&h.allowDataOverflow,k=S||w,j=Le(x)?this.id:x,P=(n=ze(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},_=P.r,A=_===void 0?3:_,N=P.strokeWidth,E=N===void 0?2:N,F=ij(i)?i:{},D=F.clipDot,T=D===void 0?!0:D,I=A*2+E;return M.createElement(yt,{className:b},S||w?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(j)},M.createElement("rect",{x:S?f:f-p/2,y:w?c:c-m/2,width:S?p:p*2,height:w?m:m*2})),!T&&M.createElement("clipPath",{id:"clipPath-dots-".concat(j)},M.createElement("rect",{x:f-I/2,y:c-I/2,width:p+I,height:m+I}))):null,g?null:this.renderArea(k,j),(i||g)&&this.renderDots(k,T,j),(!v||y)&&Pa.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(O.PureComponent);i_=Vn;ka(Vn,"displayName","Area");ka(Vn,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Lo.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ka(Vn,"getBaseValue",function(e,t,r,n){var a=e.layout,o=e.baseValue,i=t.props.baseValue,s=i??o;if(ie(s)&&typeof s=="number")return s;var l=a==="horizontal"?n:r,c=l.scale.domain();if(l.type==="number"){var f=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return s==="dataMin"?d:s==="dataMax"||f<0?f:Math.max(Math.min(c[0],c[1]),0)}return s==="dataMin"?c[0]:s==="dataMax"?c[1]:c[0]});ka(Vn,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,o=e.xAxisTicks,i=e.yAxisTicks,s=e.bandSize,l=e.dataKey,c=e.stackedData,f=e.dataStartIndex,d=e.displayedData,h=e.offset,p=t.layout,m=c&&c.length,v=i_.getBaseValue(t,r,n,a),x=p==="horizontal",y=!1,g=d.map(function(S,w){var k;m?k=c[f+w]:(k=Or(S,l),Array.isArray(k)?y=!0:k=[v,k]);var j=k[1]==null||m&&Or(S,l)==null;return x?{x:_s({axis:n,ticks:o,bandSize:s,entry:S,index:w}),y:j?null:a.scale(k[1]),value:k,payload:S}:{x:j?null:n.scale(k[1]),y:_s({axis:a,ticks:i,bandSize:s,entry:S,index:w}),value:k,payload:S}}),b;return m||y?b=g.map(function(S){var w=Array.isArray(S.value)?S.value[0]:null;return x?{x:S.x,y:w!=null&&S.y!=null?a.scale(w):null}:{x:w!=null?n.scale(w):null,y:S.y}}):b=x?a.scale(v):n.scale(v),lo({points:g,baseLine:b,layout:p,isRange:y},h)});ka(Vn,"renderDotItem",function(e,t){var r;if(M.isValidElement(e))r=M.cloneElement(e,t);else if(Ge(e))r=e(t);else{var n=ut("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,o=s_(t,QY);r=M.createElement(Ph,si({},o,{key:a,className:n}))}return r});function Is(e){"@babel/helpers - typeof";return Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Is(e)}function sq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d_(n.key),n)}}function cq(e,t,r){return t&&lq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uq(e,t,r){return t=Od(t),fq(e,u_()?Reflect.construct(t,r||[],Od(e).constructor):t.apply(e,r))}function fq(e,t){if(t&&(Is(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dq(e)}function dq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u_=function(){return!!e})()}function Od(e){return Od=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Od(e)}function hq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&um(e,t)}function um(e,t){return um=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},um(e,t)}function f_(e,t,r){return t=d_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d_(e){var t=pq(e,"string");return Is(t)=="symbol"?t:t+""}function pq(e,t){if(Is(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Is(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Th=function(e){function t(){return sq(this,t),uq(this,t,arguments)}return hq(t,e),cq(t,[{key:"render",value:function(){return null}}])}(O.Component);f_(Th,"displayName","ZAxis");f_(Th,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var gq=["option","isActive"];function Xl(){return Xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xl.apply(this,arguments)}function mq(e,t){if(e==null)return{};var r=yq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function vq(e){var t=e.option,r=e.isActive,n=mq(e,gq);return typeof t=="string"?O.createElement(qg,Xl({option:O.createElement(hh,Xl({type:t},n)),isActive:r,shapeType:"symbols"},n)):O.createElement(qg,Xl({option:t,isActive:r,shapeType:"symbols"},n))}function Bs(e){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bs(e)}function Yl(){return Yl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yl.apply(this,arguments)}function m2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m2(Object(r),!0).forEach(function(n){bo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p_(n.key),n)}}function bq(e,t,r){return t&&y2(e.prototype,t),r&&y2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wq(e,t,r){return t=Pd(t),kq(e,h_()?Reflect.construct(t,r||[],Pd(e).constructor):t.apply(e,r))}function kq(e,t){if(t&&(Bs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sq(e)}function Sq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h_=function(){return!!e})()}function Pd(e){return Pd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pd(e)}function jq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fm(e,t)}function fm(e,t){return fm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},fm(e,t)}function bo(e,t,r){return t=p_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p_(e){var t=Oq(e,"string");return Bs(t)=="symbol"?t:t+""}function Oq(e,t){if(Bs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var sn=function(e){function t(){var r;xq(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=wq(this,t,[].concat(a)),bo(r,"state",{isAnimationFinished:!1}),bo(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),bo(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),bo(r,"id",Ni("recharts-scatter-")),r}return jq(t,e),bq(t,[{key:"renderSymbolsStatically",value:function(n){var a=this,o=this.props,i=o.shape,s=o.activeShape,l=o.activeIndex,c=ze(this.props,!1);return n.map(function(f,d){var h=l===d,p=h?s:i,m=zn(zn({},c),f);return M.createElement(yt,Yl({className:"recharts-scatter-symbol",key:"symbol-".concat(f==null?void 0:f.cx,"-").concat(f==null?void 0:f.cy,"-").concat(f==null?void 0:f.size,"-").concat(d)},pc(a.props,f,d),{role:"img"}),M.createElement(vq,Yl({option:p,isActive:h,key:"symbol-".concat(d)},m)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,a=this.props,o=a.points,i=a.isAnimationActive,s=a.animationBegin,l=a.animationDuration,c=a.animationEasing,f=a.animationId,d=this.state.prevPoints;return M.createElement(da,{begin:s,duration:l,isActive:i,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var p=h.t,m=o.map(function(v,x){var y=d&&d[x];if(y){var g=ur(y.cx,v.cx),b=ur(y.cy,v.cy),S=ur(y.size,v.size);return zn(zn({},v),{},{cx:g(p),cy:b(p),size:S(p)})}var w=ur(0,v.size);return zn(zn({},v),{},{size:w(p)})});return M.createElement(yt,null,n.renderSymbolsStatically(m))})}},{key:"renderSymbols",value:function(){var n=this.props,a=n.points,o=n.isAnimationActive,i=this.state.prevPoints;return o&&a&&a.length&&(!i||!bi(i,a))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(a)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,i=a.xAxis,s=a.yAxis,l=a.children,c=kn(l,il);return c?c.map(function(f,d){var h=f.props,p=h.direction,m=h.dataKey;return M.cloneElement(f,{key:"".concat(p,"-").concat(m,"-").concat(o[d]),data:o,xAxis:i,yAxis:s,layout:p==="x"?"vertical":"horizontal",dataPointFormatter:function(x,y){return{x:x.cx,y:x.cy,value:p==="x"?+x.node.x:+x.node.y,errorVal:Or(x,y)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,a=n.points,o=n.line,i=n.lineType,s=n.lineJointType,l=ze(this.props,!1),c=ze(o,!1),f,d;if(i==="joint")f=a.map(function(b){return{x:b.cx,y:b.cy}});else if(i==="fitting"){var h=J5(a),p=h.xmin,m=h.xmax,v=h.a,x=h.b,y=function(S){return v*S+x};f=[{x:p,y:y(p)},{x:m,y:y(m)}]}var g=zn(zn(zn({},l),{},{fill:"none",stroke:l&&l.fill},c),{},{points:f});return M.isValidElement(o)?d=M.cloneElement(o,g):Ge(o)?d=o(g):d=M.createElement(di,Yl({},g,{type:s})),M.createElement(yt,{className:"recharts-scatter-line",key:"recharts-scatter-line"},d)}},{key:"render",value:function(){var n=this.props,a=n.hide,o=n.points,i=n.line,s=n.className,l=n.xAxis,c=n.yAxis,f=n.left,d=n.top,h=n.width,p=n.height,m=n.id,v=n.isAnimationActive;if(a||!o||!o.length)return null;var x=this.state.isAnimationFinished,y=ut("recharts-scatter",s),g=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,S=g||b,w=Le(m)?this.id:m;return M.createElement(yt,{className:y,clipPath:S?"url(#clipPath-".concat(w,")"):null},g||b?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(w)},M.createElement("rect",{x:g?f:f-h/2,y:b?d:d-p/2,width:g?h:h*2,height:b?p:p*2}))):null,i&&this.renderLine(),this.renderErrorBar(),M.createElement(yt,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!v||x)&&Pa.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}}])}(O.PureComponent);bo(sn,"displayName","Scatter");bo(sn,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Lo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});bo(sn,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,n=e.zAxis,a=e.item,o=e.displayedData,i=e.xAxisTicks,s=e.yAxisTicks,l=e.offset,c=a.props.tooltipType,f=kn(a.props.children,Fy),d=Le(t.dataKey)?a.props.dataKey:t.dataKey,h=Le(r.dataKey)?a.props.dataKey:r.dataKey,p=n&&n.dataKey,m=n?n.range:Th.defaultProps.range,v=m&&m[0],x=t.scale.bandwidth?t.scale.bandwidth():0,y=r.scale.bandwidth?r.scale.bandwidth():0,g=o.map(function(b,S){var w=Or(b,d),k=Or(b,h),j=!Le(p)&&Or(b,p)||"-",P=[{name:Le(t.dataKey)?a.props.name:t.name||t.dataKey,unit:t.unit||"",value:w,payload:b,dataKey:d,type:c},{name:Le(r.dataKey)?a.props.name:r.name||r.dataKey,unit:r.unit||"",value:k,payload:b,dataKey:h,type:c}];j!=="-"&&P.push({name:n.name||n.dataKey,unit:n.unit||"",value:j,payload:b,dataKey:p,type:c});var _=_s({axis:t,ticks:i,bandSize:x,entry:b,index:S,dataKey:d}),A=_s({axis:r,ticks:s,bandSize:y,entry:b,index:S,dataKey:h}),N=j!=="-"?n.scale(j):v,E=Math.sqrt(Math.max(N,0)/Math.PI);return zn(zn({},b),{},{cx:_,cy:A,x:_-E,y:A-E,xAxis:t,yAxis:r,zAxis:n,width:2*E,height:2*E,size:N,node:{x:w,y:k,z:j},tooltipPayload:P,tooltipPosition:{x:_,y:A},payload:b},f&&f[S]&&f[S].props)});return zn({points:g},l)});function Fs(e){"@babel/helpers - typeof";return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fs(e)}function Pq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y_(n.key),n)}}function Nq(e,t,r){return t&&_q(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Aq(e,t,r){return t=_d(t),Mq(e,g_()?Reflect.construct(t,r||[],_d(e).constructor):t.apply(e,r))}function Mq(e,t){if(t&&(Fs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cq(e)}function Cq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g_=function(){return!!e})()}function _d(e){return _d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_d(e)}function Eq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dm(e,t)}function dm(e,t){return dm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},dm(e,t)}function m_(e,t,r){return t=y_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y_(e){var t=Tq(e,"string");return Fs(t)=="symbol"?t:t+""}function Tq(e,t){if(Fs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function hm(){return hm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hm.apply(this,arguments)}function $q(e){var t=e.xAxisId,r=yv(),n=vv(),a=VP(t);return a==null?null:O.createElement(sl,hm({},a,{className:ut("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(i){return za(i,!0)}}))}var ha=function(e){function t(){return Pq(this,t),Aq(this,t,arguments)}return Eq(t,e),Nq(t,[{key:"render",value:function(){return O.createElement($q,this.props)}}])}(O.Component);m_(ha,"displayName","XAxis");m_(ha,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function zs(e){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zs(e)}function Dq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b_(n.key),n)}}function Lq(e,t,r){return t&&Rq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Iq(e,t,r){return t=Nd(t),Bq(e,v_()?Reflect.construct(t,r||[],Nd(e).constructor):t.apply(e,r))}function Bq(e,t){if(t&&(zs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fq(e)}function Fq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v_=function(){return!!e})()}function Nd(e){return Nd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nd(e)}function zq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pm(e,t)}function pm(e,t){return pm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},pm(e,t)}function x_(e,t,r){return t=b_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b_(e){var t=Wq(e,"string");return zs(t)=="symbol"?t:t+""}function Wq(e,t){if(zs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function gm(){return gm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gm.apply(this,arguments)}var Uq=function(t){var r=t.yAxisId,n=yv(),a=vv(),o=KP(r);return o==null?null:O.createElement(sl,gm({},o,{className:ut("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(s){return za(s,!0)}}))},pa=function(e){function t(){return Dq(this,t),Iq(this,t,arguments)}return zq(t,e),Lq(t,[{key:"render",value:function(){return O.createElement(Uq,this.props)}}])}(O.Component);x_(pa,"displayName","YAxis");x_(pa,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function v2(e){return Kq(e)||Vq(e)||Hq(e)||Gq()}function Gq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hq(e,t){if(e){if(typeof e=="string")return mm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mm(e,t)}}function Vq(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Kq(e){if(Array.isArray(e))return mm(e)}function mm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ym=function(t,r,n,a,o){var i=kn(t,oi),s=kn(t,Ch),l=[].concat(v2(i),v2(s)),c=kn(t,lu),f="".concat(a,"Id"),d=a[0],h=r;if(l.length&&(h=l.reduce(function(v,x){if(x.props[f]===n&&_a(x.props,"extendDomain")&&ie(x.props[d])){var y=x.props[d];return[Math.min(v[0],y),Math.max(v[1],y)]}return v},h)),c.length){var p="".concat(d,"1"),m="".concat(d,"2");h=c.reduce(function(v,x){if(x.props[f]===n&&_a(x.props,"extendDomain")&&ie(x.props[p])&&ie(x.props[m])){var y=x.props[p],g=x.props[m];return[Math.min(v[0],y,g),Math.max(v[1],y,g)]}return v},h)}return o&&o.length&&(h=o.reduce(function(v,x){return ie(x)?[Math.min(v[0],x),Math.max(v[1],x)]:v},h)),h},w_={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,c,f){this.fn=l,this.context=c,this.once=f||!1}function o(l,c,f,d,h){if(typeof f!="function")throw new TypeError("The listener must be a function");var p=new a(f,d||l,h),m=r?r+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function i(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],f,d;if(this._eventsCount===0)return c;for(d in f=this._events)t.call(f,d)&&c.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},s.prototype.listeners=function(c){var f=r?r+c:c,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,m=new Array(p);h<p;h++)m[h]=d[h].fn;return m},s.prototype.listenerCount=function(c){var f=r?r+c:c,d=this._events[f];return d?d.fn?1:d.length:0},s.prototype.emit=function(c,f,d,h,p,m){var v=r?r+c:c;if(!this._events[v])return!1;var x=this._events[v],y=arguments.length,g,b;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),y){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,f),!0;case 3:return x.fn.call(x.context,f,d),!0;case 4:return x.fn.call(x.context,f,d,h),!0;case 5:return x.fn.call(x.context,f,d,h,p),!0;case 6:return x.fn.call(x.context,f,d,h,p,m),!0}for(b=1,g=new Array(y-1);b<y;b++)g[b-1]=arguments[b];x.fn.apply(x.context,g)}else{var S=x.length,w;for(b=0;b<S;b++)switch(x[b].once&&this.removeListener(c,x[b].fn,void 0,!0),y){case 1:x[b].fn.call(x[b].context);break;case 2:x[b].fn.call(x[b].context,f);break;case 3:x[b].fn.call(x[b].context,f,d);break;case 4:x[b].fn.call(x[b].context,f,d,h);break;default:if(!g)for(w=1,g=new Array(y-1);w<y;w++)g[w-1]=arguments[w];x[b].fn.apply(x[b].context,g)}}return!0},s.prototype.on=function(c,f,d){return o(this,c,f,d,!1)},s.prototype.once=function(c,f,d){return o(this,c,f,d,!0)},s.prototype.removeListener=function(c,f,d,h){var p=r?r+c:c;if(!this._events[p])return this;if(!f)return i(this,p),this;var m=this._events[p];if(m.fn)m.fn===f&&(!h||m.once)&&(!d||m.context===d)&&i(this,p);else{for(var v=0,x=[],y=m.length;v<y;v++)(m[v].fn!==f||h&&!m[v].once||d&&m[v].context!==d)&&x.push(m[v]);x.length?this._events[p]=x.length===1?x[0]:x:i(this,p)}return this},s.prototype.removeAllListeners=function(c){var f;return c?(f=r?r+c:c,this._events[f]&&i(this,f)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(w_);var Xq=w_.exports;const Yq=Tt(Xq);var Wp=new Yq,Up="recharts.syncMouseEvents";function Xc(e){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xc(e)}function qq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,k_(n.key),n)}}function Qq(e,t,r){return t&&Zq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gp(e,t,r){return t=k_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k_(e){var t=Jq(e,"string");return Xc(t)=="symbol"?t:t+""}function Jq(e,t){if(Xc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var eZ=function(){function e(){qq(this,e),Gp(this,"activeIndex",0),Gp(this,"coordinateList",[]),Gp(this,"layout","horizontal")}return Qq(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,o=a===void 0?null:a,i=r.container,s=i===void 0?null:i,l=r.layout,c=l===void 0?null:l,f=r.offset,d=f===void 0?null:f,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),o=a.x,i=a.y,s=a.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=o+l+c,h=i+this.offset.top+s/2+f;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function tZ(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&ie(n)&&ie(a))return!0}return!1}function rZ(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function S_(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,o=e.endAngle,i=Lr(t,r,n,a),s=Lr(t,r,n,o);return{points:[i,s],cx:t,cy:r,radius:n,startAngle:a,endAngle:o}}function nZ(e,t,r){var n,a,o,i;if(e==="horizontal")n=t.x,o=n,a=r.top,i=r.top+r.height;else if(e==="vertical")a=t.y,i=a,n=r.left,o=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,c=t.innerRadius,f=t.outerRadius,d=t.angle,h=Lr(s,l,c,d),p=Lr(s,l,f,d);n=h.x,a=h.y,o=p.x,i=p.y}else return S_(t);return[{x:n,y:a},{x:o,y:i}]}function Yc(e){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yc(e)}function x2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Uu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x2(Object(r),!0).forEach(function(n){aZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aZ(e,t,r){return t=oZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oZ(e){var t=iZ(e,"string");return Yc(t)=="symbol"?t:t+""}function iZ(e,t){if(Yc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sZ(e){var t,r,n=e.element,a=e.tooltipEventType,o=e.isActive,i=e.activeCoordinate,s=e.activePayload,l=e.offset,c=e.activeTooltipIndex,f=e.tooltipAxisBandSize,d=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!o||!i||h!=="ScatterChart"&&a!=="axis")return null;var m,v=di;if(h==="ScatterChart")m=i,v=TH;else if(h==="BarChart")m=rZ(d,i,l,f),v=dv;else if(d==="radial"){var x=S_(i),y=x.cx,g=x.cy,b=x.radius,S=x.startAngle,w=x.endAngle;m={cx:y,cy:g,startAngle:S,endAngle:w,innerRadius:b,outerRadius:b},v=vP}else m={points:nZ(d,i,l)},v=di;var k=Uu(Uu(Uu(Uu({stroke:"#ccc",pointerEvents:"none"},l),m),ze(p,!1)),{},{payload:s,payloadIndex:c,className:ut("recharts-tooltip-cursor",p.className)});return O.isValidElement(p)?O.cloneElement(p,k):O.createElement(v,k)}var lZ=["item"],cZ=["children","className","width","height","style","compact","title","desc"];function Ws(e){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ws(e)}function es(){return es=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},es.apply(this,arguments)}function b2(e,t){return dZ(e)||fZ(e,t)||O_(e,t)||uZ()}function uZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fZ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function dZ(e){if(Array.isArray(e))return e}function w2(e,t){if(e==null)return{};var r=hZ(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function pZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,P_(n.key),n)}}function mZ(e,t,r){return t&&gZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yZ(e,t,r){return t=Ad(t),vZ(e,j_()?Reflect.construct(t,r||[],Ad(e).constructor):t.apply(e,r))}function vZ(e,t){if(t&&(Ws(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xZ(e)}function xZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j_=function(){return!!e})()}function Ad(e){return Ad=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ad(e)}function bZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vm(e,t)}function vm(e,t){return vm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},vm(e,t)}function Us(e){return SZ(e)||kZ(e)||O_(e)||wZ()}function wZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O_(e,t){if(e){if(typeof e=="string")return xm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xm(e,t)}}function kZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function SZ(e){if(Array.isArray(e))return xm(e)}function xm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k2(Object(r),!0).forEach(function(n){Ee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ee(e,t,r){return t=P_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P_(e){var t=jZ(e,"string");return Ws(t)=="symbol"?t:t+""}function jZ(e,t){if(Ws(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ws(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OZ={xAxis:["bottom","top"],yAxis:["left","right"]},PZ={width:"100%",height:"100%"},__={x:0,y:0};function Gu(e){return e}var _Z=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},NZ=function(t,r,n,a){var o=r.find(function(f){return f&&f.index===n});if(o){if(t==="horizontal")return{x:o.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:o.coordinate};if(t==="centric"){var i=o.coordinate,s=a.radius;return q(q(q({},a),Lr(a.cx,a.cy,s,i)),{},{angle:i,radius:s})}var l=o.coordinate,c=a.angle;return q(q(q({},a),Lr(a.cx,a.cy,l,c)),{},{angle:c,radius:l})}return __},$h=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,o=r.dataEndIndex,i=(n??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(Us(s),Us(c)):s},[]);return i.length>0?i:t&&t.length&&ie(a)&&ie(o)?t.slice(a,o+1):[]};function N_(e){return e==="number"?[0,"auto"]:void 0}var bm=function(t,r,n,a){var o=t.graphicalItems,i=t.tooltipAxis,s=$h(r,t);return n<0||!o||!o.length||n>=s.length?null:o.reduce(function(l,c){var f,d=(f=c.props.data)!==null&&f!==void 0?f:r;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(i.dataKey&&!i.allowDuplicatedCategory){var p=d===void 0?s:d;h=Nf(p,i.dataKey,a)}else h=d&&d[n]||s[n];return h?[].concat(Us(l),[gP(c,h)]):l},[])},S2=function(t,r,n,a){var o=a||{x:t.chartX,y:t.chartY},i=_Z(o,n),s=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,f=fW(i,s,c,l);if(f>=0&&c){var d=c[f]&&c[f].value,h=bm(t,r,f,d),p=NZ(n,s,f,o);return{activeTooltipIndex:f,activeLabel:d,activePayload:h,activeCoordinate:p}}return null},AZ=function(t,r){var n=r.axes,a=r.graphicalItems,o=r.axisType,i=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,f=t.layout,d=t.children,h=t.stackOffset,p=dP(f,o);return n.reduce(function(m,v){var x,y=v.type.defaultProps!==void 0?q(q({},v.type.defaultProps),v.props):v.props,g=y.type,b=y.dataKey,S=y.allowDataOverflow,w=y.allowDuplicatedCategory,k=y.scale,j=y.ticks,P=y.includeHidden,_=y[i];if(m[_])return m;var A=$h(t.data,{graphicalItems:a.filter(function(X){var G,U=i in X.props?X.props[i]:(G=X.type.defaultProps)===null||G===void 0?void 0:G[i];return U===_}),dataStartIndex:l,dataEndIndex:c}),N=A.length,E,F,D;tZ(y.domain,S,g)&&(E=$g(y.domain,null,S),p&&(g==="number"||k!=="auto")&&(D=Hl(A,b,"category")));var T=N_(g);if(!E||E.length===0){var I,W=(I=y.domain)!==null&&I!==void 0?I:T;if(b){if(E=Hl(A,b,g),g==="category"&&p){var L=Q5(E);w&&L?(F=E,E=hd(0,N)):w||(E=ew(W,E,v).reduce(function(X,G){return X.indexOf(G)>=0?X:[].concat(Us(X),[G])},[]))}else if(g==="category")w?E=E.filter(function(X){return X!==""&&!Le(X)}):E=ew(W,E,v).reduce(function(X,G){return X.indexOf(G)>=0||G===""||Le(G)?X:[].concat(Us(X),[G])},[]);else if(g==="number"){var R=mW(A,a.filter(function(X){var G,U,ce=i in X.props?X.props[i]:(G=X.type.defaultProps)===null||G===void 0?void 0:G[i],ue="hide"in X.props?X.props.hide:(U=X.type.defaultProps)===null||U===void 0?void 0:U.hide;return ce===_&&(P||!ue)}),b,o,f);R&&(E=R)}p&&(g==="number"||k!=="auto")&&(D=Hl(A,b,"category"))}else p?E=hd(0,N):s&&s[_]&&s[_].hasStack&&g==="number"?E=h==="expand"?[0,1]:pP(s[_].stackGroups,l,c):E=fP(A,a.filter(function(X){var G=i in X.props?X.props[i]:X.type.defaultProps[i],U="hide"in X.props?X.props.hide:X.type.defaultProps.hide;return G===_&&(P||!U)}),g,f,!0);if(g==="number")E=ym(d,E,_,o,j),W&&(E=$g(W,E,S));else if(g==="category"&&W){var B=W,te=E.every(function(X){return B.indexOf(X)>=0});te&&(E=B)}}return q(q({},m),{},Ee({},_,q(q({},y),{},{axisType:o,domain:E,categoricalDomain:D,duplicateDomain:F,originalDomain:(x=y.domain)!==null&&x!==void 0?x:T,isCategorical:p,layout:f})))},{})},MZ=function(t,r){var n=r.graphicalItems,a=r.Axis,o=r.axisType,i=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,f=t.layout,d=t.children,h=$h(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),p=h.length,m=dP(f,o),v=-1;return n.reduce(function(x,y){var g=y.type.defaultProps!==void 0?q(q({},y.type.defaultProps),y.props):y.props,b=g[i],S=N_("number");if(!x[b]){v++;var w;return m?w=hd(0,p):s&&s[b]&&s[b].hasStack?(w=pP(s[b].stackGroups,l,c),w=ym(d,w,b,o)):(w=$g(S,fP(h,n.filter(function(k){var j,P,_=i in k.props?k.props[i]:(j=k.type.defaultProps)===null||j===void 0?void 0:j[i],A="hide"in k.props?k.props.hide:(P=k.type.defaultProps)===null||P===void 0?void 0:P.hide;return _===b&&!A}),"number",f),a.defaultProps.allowDataOverflow),w=ym(d,w,b,o)),q(q({},x),{},Ee({},b,q(q({axisType:o},a.defaultProps),{},{hide:!0,orientation:Xn(OZ,"".concat(o,".").concat(v%2),null),domain:w,originalDomain:S,isCategorical:m,layout:f})))}return x},{})},CZ=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,o=r.AxisComp,i=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,f=t.children,d="".concat(a,"Id"),h=kn(f,o),p={};return h&&h.length?p=AZ(t,{axes:h,graphicalItems:i,axisType:a,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):i&&i.length&&(p=MZ(t,{Axis:o,graphicalItems:i,axisType:a,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),p},EZ=function(t){var r=go(t),n=za(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Iy(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:nd(r,n)}},j2=function(t){var r=t.children,n=t.defaultShowTooltip,a=Nn(r,Ms),o=0,i=0;return t.data&&t.data.length!==0&&(i=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(o=a.props.startIndex),a.props.endIndex>=0&&(i=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!n}},TZ=function(t){return!t||!t.length?!1:t.some(function(r){var n=Ua(r&&r.type);return n&&n.indexOf("Bar")>=0})},O2=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},$Z=function(t,r){var n=t.props,a=t.graphicalItems,o=t.xAxisMap,i=o===void 0?{}:o,s=t.yAxisMap,l=s===void 0?{}:s,c=n.width,f=n.height,d=n.children,h=n.margin||{},p=Nn(d,Ms),m=Nn(d,Ha),v=Object.keys(l).reduce(function(w,k){var j=l[k],P=j.orientation;return!j.mirror&&!j.hide?q(q({},w),{},Ee({},P,w[P]+j.width)):w},{left:h.left||0,right:h.right||0}),x=Object.keys(i).reduce(function(w,k){var j=i[k],P=j.orientation;return!j.mirror&&!j.hide?q(q({},w),{},Ee({},P,Xn(w,"".concat(P))+j.height)):w},{top:h.top||0,bottom:h.bottom||0}),y=q(q({},x),v),g=y.bottom;p&&(y.bottom+=p.props.height||Ms.defaultProps.height),m&&r&&(y=pW(y,a,n,r));var b=c-y.left-y.right,S=f-y.top-y.bottom;return q(q({brushBottom:g},y),{},{width:Math.max(b,0),height:Math.max(S,0)})},DZ=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},kv=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,o=a===void 0?"axis":a,i=t.validateTooltipEventTypes,s=i===void 0?["axis"]:i,l=t.axisComponents,c=t.legendContent,f=t.formatAxisMap,d=t.defaultProps,h=function(y,g){var b=g.graphicalItems,S=g.stackGroups,w=g.offset,k=g.updateId,j=g.dataStartIndex,P=g.dataEndIndex,_=y.barSize,A=y.layout,N=y.barGap,E=y.barCategoryGap,F=y.maxBarSize,D=O2(A),T=D.numericAxisName,I=D.cateAxisName,W=TZ(b),L=[];return b.forEach(function(R,B){var te=$h(y.data,{graphicalItems:[R],dataStartIndex:j,dataEndIndex:P}),X=R.type.defaultProps!==void 0?q(q({},R.type.defaultProps),R.props):R.props,G=X.dataKey,U=X.maxBarSize,ce=X["".concat(T,"Id")],ue=X["".concat(I,"Id")],xe={},ve=l.reduce(function(nt,sr){var Qt=g["".concat(sr.axisType,"Map")],Fr=X["".concat(sr.axisType,"Id")];Qt&&Qt[Fr]||sr.axisType==="zAxis"||ki();var Vt=Qt[Fr];return q(q({},nt),{},Ee(Ee({},sr.axisType,Vt),"".concat(sr.axisType,"Ticks"),za(Vt)))},xe),V=ve[I],le=ve["".concat(I,"Ticks")],ge=S&&S[ce]&&S[ce].hasStack&&NW(R,S[ce].stackGroups),Z=Ua(R.type).indexOf("Bar")>=0,Xe=nd(V,le),je=[],We=W&&dW({barSize:_,stackGroups:S,totalSize:DZ(ve,I)});if(Z){var rt,bt,Zt=Le(U)?F:U,$t=(rt=(bt=nd(V,le,!0))!==null&&bt!==void 0?bt:Zt)!==null&&rt!==void 0?rt:0;je=hW({barGap:N,barCategoryGap:E,bandSize:$t!==Xe?$t:Xe,sizeList:We[ue],maxBarSize:Zt}),$t!==Xe&&(je=je.map(function(nt){return q(q({},nt),{},{position:q(q({},nt.position),{},{offset:nt.position.offset-$t/2})})}))}var Tr=R&&R.type&&R.type.getComposedData;Tr&&L.push({props:q(q({},Tr(q(q({},ve),{},{displayedData:te,props:y,dataKey:G,item:R,bandSize:Xe,barPosition:je,offset:w,stackedData:ge,layout:A,dataStartIndex:j,dataEndIndex:P}))),{},Ee(Ee(Ee({key:R.key||"item-".concat(B)},T,ve[T]),I,ve[I]),"animationId",k)),childIndex:fT(R,y.children),item:R})}),L},p=function(y,g){var b=y.props,S=y.dataStartIndex,w=y.dataEndIndex,k=y.updateId;if(!Xx({props:b}))return null;var j=b.children,P=b.layout,_=b.stackOffset,A=b.data,N=b.reverseStackOrder,E=O2(P),F=E.numericAxisName,D=E.cateAxisName,T=kn(j,n),I=OW(A,T,"".concat(F,"Id"),"".concat(D,"Id"),_,N),W=l.reduce(function(X,G){var U="".concat(G.axisType,"Map");return q(q({},X),{},Ee({},U,CZ(b,q(q({},G),{},{graphicalItems:T,stackGroups:G.axisType===F&&I,dataStartIndex:S,dataEndIndex:w}))))},{}),L=$Z(q(q({},W),{},{props:b,graphicalItems:T}),g==null?void 0:g.legendBBox);Object.keys(W).forEach(function(X){W[X]=f(b,W[X],L,X.replace("Map",""),r)});var R=W["".concat(D,"Map")],B=EZ(R),te=h(b,q(q({},W),{},{dataStartIndex:S,dataEndIndex:w,updateId:k,graphicalItems:T,stackGroups:I,offset:L}));return q(q({formattedGraphicalItems:te,graphicalItems:T,offset:L,stackGroups:I},B),W)},m=function(x){function y(g){var b,S,w;return pZ(this,y),w=yZ(this,y,[g]),Ee(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ee(w,"accessibilityManager",new eZ),Ee(w,"handleLegendBBoxUpdate",function(k){if(k){var j=w.state,P=j.dataStartIndex,_=j.dataEndIndex,A=j.updateId;w.setState(q({legendBBox:k},p({props:w.props,dataStartIndex:P,dataEndIndex:_,updateId:A},q(q({},w.state),{},{legendBBox:k}))))}}),Ee(w,"handleReceiveSyncEvent",function(k,j,P){if(w.props.syncId===k){if(P===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(j)}}),Ee(w,"handleBrushChange",function(k){var j=k.startIndex,P=k.endIndex;if(j!==w.state.dataStartIndex||P!==w.state.dataEndIndex){var _=w.state.updateId;w.setState(function(){return q({dataStartIndex:j,dataEndIndex:P},p({props:w.props,dataStartIndex:j,dataEndIndex:P,updateId:_},w.state))}),w.triggerSyncEvent({dataStartIndex:j,dataEndIndex:P})}}),Ee(w,"handleMouseEnter",function(k){var j=w.getMouseInfo(k);if(j){var P=q(q({},j),{},{isTooltipActive:!0});w.setState(P),w.triggerSyncEvent(P);var _=w.props.onMouseEnter;Ge(_)&&_(P,k)}}),Ee(w,"triggeredAfterMouseMove",function(k){var j=w.getMouseInfo(k),P=j?q(q({},j),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(P),w.triggerSyncEvent(P);var _=w.props.onMouseMove;Ge(_)&&_(P,k)}),Ee(w,"handleItemMouseEnter",function(k){w.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),Ee(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),Ee(w,"handleMouseMove",function(k){k.persist(),w.throttleTriggeredAfterMouseMove(k)}),Ee(w,"handleMouseLeave",function(k){w.throttleTriggeredAfterMouseMove.cancel();var j={isTooltipActive:!1};w.setState(j),w.triggerSyncEvent(j);var P=w.props.onMouseLeave;Ge(P)&&P(j,k)}),Ee(w,"handleOuterEvent",function(k){var j=uT(k),P=Xn(w.props,"".concat(j));if(j&&Ge(P)){var _,A;/.*touch.*/i.test(j)?A=w.getMouseInfo(k.changedTouches[0]):A=w.getMouseInfo(k),P((_=A)!==null&&_!==void 0?_:{},k)}}),Ee(w,"handleClick",function(k){var j=w.getMouseInfo(k);if(j){var P=q(q({},j),{},{isTooltipActive:!0});w.setState(P),w.triggerSyncEvent(P);var _=w.props.onClick;Ge(_)&&_(P,k)}}),Ee(w,"handleMouseDown",function(k){var j=w.props.onMouseDown;if(Ge(j)){var P=w.getMouseInfo(k);j(P,k)}}),Ee(w,"handleMouseUp",function(k){var j=w.props.onMouseUp;if(Ge(j)){var P=w.getMouseInfo(k);j(P,k)}}),Ee(w,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),Ee(w,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&w.handleMouseDown(k.changedTouches[0])}),Ee(w,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&w.handleMouseUp(k.changedTouches[0])}),Ee(w,"handleDoubleClick",function(k){var j=w.props.onDoubleClick;if(Ge(j)){var P=w.getMouseInfo(k);j(P,k)}}),Ee(w,"handleContextMenu",function(k){var j=w.props.onContextMenu;if(Ge(j)){var P=w.getMouseInfo(k);j(P,k)}}),Ee(w,"triggerSyncEvent",function(k){w.props.syncId!==void 0&&Wp.emit(Up,w.props.syncId,k,w.eventEmitterSymbol)}),Ee(w,"applySyncEvent",function(k){var j=w.props,P=j.layout,_=j.syncMethod,A=w.state.updateId,N=k.dataStartIndex,E=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)w.setState(q({dataStartIndex:N,dataEndIndex:E},p({props:w.props,dataStartIndex:N,dataEndIndex:E,updateId:A},w.state)));else if(k.activeTooltipIndex!==void 0){var F=k.chartX,D=k.chartY,T=k.activeTooltipIndex,I=w.state,W=I.offset,L=I.tooltipTicks;if(!W)return;if(typeof _=="function")T=_(L,k);else if(_==="value"){T=-1;for(var R=0;R<L.length;R++)if(L[R].value===k.activeLabel){T=R;break}}var B=q(q({},W),{},{x:W.left,y:W.top}),te=Math.min(F,B.x+B.width),X=Math.min(D,B.y+B.height),G=L[T]&&L[T].value,U=bm(w.state,w.props.data,T),ce=L[T]?{x:P==="horizontal"?L[T].coordinate:te,y:P==="horizontal"?X:L[T].coordinate}:__;w.setState(q(q({},k),{},{activeLabel:G,activeCoordinate:ce,activePayload:U,activeTooltipIndex:T}))}else w.setState(k)}),Ee(w,"renderCursor",function(k){var j,P=w.state,_=P.isTooltipActive,A=P.activeCoordinate,N=P.activePayload,E=P.offset,F=P.activeTooltipIndex,D=P.tooltipAxisBandSize,T=w.getTooltipEventType(),I=(j=k.props.active)!==null&&j!==void 0?j:_,W=w.props.layout,L=k.key||"_recharts-cursor";return M.createElement(sZ,{key:L,activeCoordinate:A,activePayload:N,activeTooltipIndex:F,chartName:r,element:k,isActive:I,layout:W,offset:E,tooltipAxisBandSize:D,tooltipEventType:T})}),Ee(w,"renderPolarAxis",function(k,j,P){var _=Xn(k,"type.axisType"),A=Xn(w.state,"".concat(_,"Map")),N=k.type.defaultProps,E=N!==void 0?q(q({},N),k.props):k.props,F=A&&A[E["".concat(_,"Id")]];return O.cloneElement(k,q(q({},F),{},{className:ut(_,F.className),key:k.key||"".concat(j,"-").concat(P),ticks:za(F,!0)}))}),Ee(w,"renderPolarGrid",function(k){var j=k.props,P=j.radialLines,_=j.polarAngles,A=j.polarRadius,N=w.state,E=N.radiusAxisMap,F=N.angleAxisMap,D=go(E),T=go(F),I=T.cx,W=T.cy,L=T.innerRadius,R=T.outerRadius;return O.cloneElement(k,{polarAngles:Array.isArray(_)?_:za(T,!0).map(function(B){return B.coordinate}),polarRadius:Array.isArray(A)?A:za(D,!0).map(function(B){return B.coordinate}),cx:I,cy:W,innerRadius:L,outerRadius:R,key:k.key||"polar-grid",radialLines:P})}),Ee(w,"renderLegend",function(){var k=w.state.formattedGraphicalItems,j=w.props,P=j.children,_=j.width,A=j.height,N=w.props.margin||{},E=_-(N.left||0)-(N.right||0),F=cP({children:P,formattedGraphicalItems:k,legendWidth:E,legendContent:c});if(!F)return null;var D=F.item,T=w2(F,lZ);return O.cloneElement(D,q(q({},T),{},{chartWidth:_,chartHeight:A,margin:N,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),Ee(w,"renderTooltip",function(){var k,j=w.props,P=j.children,_=j.accessibilityLayer,A=Nn(P,cn);if(!A)return null;var N=w.state,E=N.isTooltipActive,F=N.activeCoordinate,D=N.activePayload,T=N.activeLabel,I=N.offset,W=(k=A.props.active)!==null&&k!==void 0?k:E;return O.cloneElement(A,{viewBox:q(q({},I),{},{x:I.left,y:I.top}),active:W,label:T,payload:W?D:[],coordinate:F,accessibilityLayer:_})}),Ee(w,"renderBrush",function(k){var j=w.props,P=j.margin,_=j.data,A=w.state,N=A.offset,E=A.dataStartIndex,F=A.dataEndIndex,D=A.updateId;return O.cloneElement(k,{key:k.key||"_recharts-brush",onChange:Bu(w.handleBrushChange,k.props.onChange),data:_,x:ie(k.props.x)?k.props.x:N.left,y:ie(k.props.y)?k.props.y:N.top+N.height+N.brushBottom-(P.bottom||0),width:ie(k.props.width)?k.props.width:N.width,startIndex:E,endIndex:F,updateId:"brush-".concat(D)})}),Ee(w,"renderReferenceElement",function(k,j,P){if(!k)return null;var _=w,A=_.clipPathId,N=w.state,E=N.xAxisMap,F=N.yAxisMap,D=N.offset,T=k.type.defaultProps||{},I=k.props,W=I.xAxisId,L=W===void 0?T.xAxisId:W,R=I.yAxisId,B=R===void 0?T.yAxisId:R;return O.cloneElement(k,{key:k.key||"".concat(j,"-").concat(P),xAxis:E[L],yAxis:F[B],viewBox:{x:D.left,y:D.top,width:D.width,height:D.height},clipPathId:A})}),Ee(w,"renderActivePoints",function(k){var j=k.item,P=k.activePoint,_=k.basePoint,A=k.childIndex,N=k.isRange,E=[],F=j.props.key,D=j.item.type.defaultProps!==void 0?q(q({},j.item.type.defaultProps),j.item.props):j.item.props,T=D.activeDot,I=D.dataKey,W=q(q({index:A,dataKey:I,cx:P.x,cy:P.y,r:4,fill:fv(j.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},ze(T,!1)),Af(T));return E.push(y.renderActiveDot(T,W,"".concat(F,"-activePoint-").concat(A))),_?E.push(y.renderActiveDot(T,q(q({},W),{},{cx:_.x,cy:_.y}),"".concat(F,"-basePoint-").concat(A))):N&&E.push(null),E}),Ee(w,"renderGraphicChild",function(k,j,P){var _=w.filterFormatItem(k,j,P);if(!_)return null;var A=w.getTooltipEventType(),N=w.state,E=N.isTooltipActive,F=N.tooltipAxis,D=N.activeTooltipIndex,T=N.activeLabel,I=w.props.children,W=Nn(I,cn),L=_.props,R=L.points,B=L.isRange,te=L.baseLine,X=_.item.type.defaultProps!==void 0?q(q({},_.item.type.defaultProps),_.item.props):_.item.props,G=X.activeDot,U=X.hide,ce=X.activeBar,ue=X.activeShape,xe=!!(!U&&E&&W&&(G||ce||ue)),ve={};A!=="axis"&&W&&W.props.trigger==="click"?ve={onClick:Bu(w.handleItemMouseEnter,k.props.onClick)}:A!=="axis"&&(ve={onMouseLeave:Bu(w.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:Bu(w.handleItemMouseEnter,k.props.onMouseEnter)});var V=O.cloneElement(k,q(q({},_.props),ve));function le(sr){return typeof F.dataKey=="function"?F.dataKey(sr.payload):null}if(xe)if(D>=0){var ge,Z;if(F.dataKey&&!F.allowDuplicatedCategory){var Xe=typeof F.dataKey=="function"?le:"payload.".concat(F.dataKey.toString());ge=Nf(R,Xe,T),Z=B&&te&&Nf(te,Xe,T)}else ge=R==null?void 0:R[D],Z=B&&te&&te[D];if(ue||ce){var je=k.props.activeIndex!==void 0?k.props.activeIndex:D;return[O.cloneElement(k,q(q(q({},_.props),ve),{},{activeIndex:je})),null,null]}if(!Le(ge))return[V].concat(Us(w.renderActivePoints({item:_,activePoint:ge,basePoint:Z,childIndex:D,isRange:B})))}else{var We,rt=(We=w.getItemByXY(w.state.activeCoordinate))!==null&&We!==void 0?We:{graphicalItem:V},bt=rt.graphicalItem,Zt=bt.item,$t=Zt===void 0?k:Zt,Tr=bt.childIndex,nt=q(q(q({},_.props),ve),{},{activeIndex:Tr});return[O.cloneElement($t,nt),null,null]}return B?[V,null,null]:[V,null]}),Ee(w,"renderCustomized",function(k,j,P){return O.cloneElement(k,q(q({key:"recharts-customized-".concat(P)},w.props),w.state))}),Ee(w,"renderMap",{CartesianGrid:{handler:Gu,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:Gu},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:Gu},YAxis:{handler:Gu},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((b=g.id)!==null&&b!==void 0?b:Ni("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=cO(w.triggeredAfterMouseMove,(S=g.throttleDelay)!==null&&S!==void 0?S:1e3/60),w.state={},w}return bZ(y,x),mZ(y,[{key:"componentDidMount",value:function(){var b,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,S=b.children,w=b.data,k=b.height,j=b.layout,P=Nn(S,cn);if(P){var _=P.props.defaultIndex;if(!(typeof _!="number"||_<0||_>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[_]&&this.state.tooltipTicks[_].value,N=bm(this.state,w,_,A),E=this.state.tooltipTicks[_].coordinate,F=(this.state.offset.top+k)/2,D=j==="horizontal",T=D?{x:E,y:F}:{y:E,x:F},I=this.state.formattedGraphicalItems.find(function(L){var R=L.item;return R.type.name==="Scatter"});I&&(T=q(q({},T),I.props.points[_].tooltipPosition),N=I.props.points[_].tooltipPayload);var W={activeTooltipIndex:_,isTooltipActive:!0,activeLabel:A,activePayload:N,activeCoordinate:T};this.setState(W),this.renderCursor(P),this.accessibilityManager.setIndex(_)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var w,k;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(b){Y0([Nn(b.children,cn)],[Nn(this.props.children,cn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Nn(this.props.children,cn);if(b&&typeof b.props.shared=="boolean"){var S=b.props.shared?"axis":"item";return s.indexOf(S)>=0?S:o}return o}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var S=this.container,w=S.getBoundingClientRect(),k=L8(w),j={chartX:Math.round(b.pageX-k.left),chartY:Math.round(b.pageY-k.top)},P=w.width/S.offsetWidth||1,_=this.inRange(j.chartX,j.chartY,P);if(!_)return null;var A=this.state,N=A.xAxisMap,E=A.yAxisMap,F=this.getTooltipEventType(),D=S2(this.state,this.props.data,this.props.layout,_);if(F!=="axis"&&N&&E){var T=go(N).scale,I=go(E).scale,W=T&&T.invert?T.invert(j.chartX):null,L=I&&I.invert?I.invert(j.chartY):null;return q(q({},j),{},{xValue:W,yValue:L},D)}return D?q(q({},j),D):null}},{key:"inRange",value:function(b,S){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,j=b/w,P=S/w;if(k==="horizontal"||k==="vertical"){var _=this.state.offset,A=j>=_.left&&j<=_.left+_.width&&P>=_.top&&P<=_.top+_.height;return A?{x:j,y:P}:null}var N=this.state,E=N.angleAxisMap,F=N.radiusAxisMap;if(E&&F){var D=go(E);return nw({x:j,y:P},D)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,S=this.getTooltipEventType(),w=Nn(b,cn),k={};w&&S==="axis"&&(w.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var j=Af(this.props,this.handleOuterEvent);return q(q({},j),k)}},{key:"addListener",value:function(){Wp.on(Up,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Wp.removeListener(Up,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,S,w){for(var k=this.state.formattedGraphicalItems,j=0,P=k.length;j<P;j++){var _=k[j];if(_.item===b||_.props.key===b.key||S===Ua(_.item.type)&&w===_.childIndex)return _}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,S=this.state.offset,w=S.left,k=S.top,j=S.height,P=S.width;return M.createElement("defs",null,M.createElement("clipPath",{id:b},M.createElement("rect",{x:w,y:k,height:j,width:P})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(S,w){var k=b2(w,2),j=k[0],P=k[1];return q(q({},S),{},Ee({},j,P.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(S,w){var k=b2(w,2),j=k[0],P=k[1];return q(q({},S),{},Ee({},j,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[b])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(b){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[b])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(b){var S=this.state,w=S.formattedGraphicalItems,k=S.activeItem;if(w&&w.length)for(var j=0,P=w.length;j<P;j++){var _=w[j],A=_.props,N=_.item,E=N.type.defaultProps!==void 0?q(q({},N.type.defaultProps),N.props):N.props,F=Ua(N.type);if(F==="Bar"){var D=(A.data||[]).find(function(L){return SH(b,L)});if(D)return{graphicalItem:_,payload:D}}else if(F==="RadialBar"){var T=(A.data||[]).find(function(L){return nw(b,L)});if(T)return{graphicalItem:_,payload:T}}else if(_h(_,k)||Nh(_,k)||Uc(_,k)){var I=OV({graphicalItem:_,activeTooltipItem:k,itemData:E.data}),W=E.activeIndex===void 0?I:E.activeIndex;return{graphicalItem:q(q({},_),{},{childIndex:W}),payload:Uc(_,k)?E.data[I]:_.props.data[I]}}}return null}},{key:"render",value:function(){var b=this;if(!Xx(this))return null;var S=this.props,w=S.children,k=S.className,j=S.width,P=S.height,_=S.style,A=S.compact,N=S.title,E=S.desc,F=w2(S,cZ),D=ze(F,!1);if(A)return M.createElement(Qw,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement(Z0,es({},D,{width:j,height:P,title:N,desc:E}),this.renderClipPath(),qx(w,this.renderMap)));if(this.props.accessibilityLayer){var T,I;D.tabIndex=(T=this.props.tabIndex)!==null&&T!==void 0?T:0,D.role=(I=this.props.role)!==null&&I!==void 0?I:"application",D.onKeyDown=function(L){b.accessibilityManager.keyboardEvent(L)},D.onFocus=function(){b.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return M.createElement(Qw,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement("div",es({className:ut("recharts-wrapper",k),style:q({position:"relative",cursor:"default",width:j,height:P},_)},W,{ref:function(R){b.container=R}}),M.createElement(Z0,es({},D,{width:j,height:P,title:N,desc:E,style:PZ}),this.renderClipPath(),qx(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(O.Component);Ee(m,"displayName",r),Ee(m,"defaultProps",q({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Ee(m,"getDerivedStateFromProps",function(x,y){var g=x.dataKey,b=x.data,S=x.children,w=x.width,k=x.height,j=x.layout,P=x.stackOffset,_=x.margin,A=y.dataStartIndex,N=y.dataEndIndex;if(y.updateId===void 0){var E=j2(x);return q(q(q({},E),{},{updateId:0},p(q(q({props:x},E),{},{updateId:0}),y)),{},{prevDataKey:g,prevData:b,prevWidth:w,prevHeight:k,prevLayout:j,prevStackOffset:P,prevMargin:_,prevChildren:S})}if(g!==y.prevDataKey||b!==y.prevData||w!==y.prevWidth||k!==y.prevHeight||j!==y.prevLayout||P!==y.prevStackOffset||!ss(_,y.prevMargin)){var F=j2(x),D={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},T=q(q({},S2(y,b,j)),{},{updateId:y.updateId+1}),I=q(q(q({},F),D),T);return q(q(q({},I),p(q({props:x},I),y)),{},{prevDataKey:g,prevData:b,prevWidth:w,prevHeight:k,prevLayout:j,prevStackOffset:P,prevMargin:_,prevChildren:S})}if(!Y0(S,y.prevChildren)){var W,L,R,B,te=Nn(S,Ms),X=te&&(W=(L=te.props)===null||L===void 0?void 0:L.startIndex)!==null&&W!==void 0?W:A,G=te&&(R=(B=te.props)===null||B===void 0?void 0:B.endIndex)!==null&&R!==void 0?R:N,U=X!==A||G!==N,ce=!Le(b),ue=ce&&!U?y.updateId:y.updateId+1;return q(q({updateId:ue},p(q(q({props:x},y),{},{updateId:ue,dataStartIndex:X,dataEndIndex:G}),y)),{},{prevChildren:S,dataStartIndex:X,dataEndIndex:G})}return null}),Ee(m,"renderActiveDot",function(x,y,g){var b;return O.isValidElement(x)?b=O.cloneElement(x,y):Ge(x)?b=x(y):b=M.createElement(Ph,y),M.createElement(yt,{className:"recharts-active-dot",key:g},b)});var v=O.forwardRef(function(y,g){return M.createElement(m,es({},y,{ref:g}))});return v.displayName=m.displayName,v},Sv=kv({chartName:"LineChart",GraphicalChild:Yr,axisComponents:[{axisType:"xAxis",AxisComp:ha},{axisType:"yAxis",AxisComp:pa}],formatAxisMap:hv}),RZ=kv({chartName:"ScatterChart",GraphicalChild:sn,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:ha},{axisType:"yAxis",AxisComp:pa},{axisType:"zAxis",AxisComp:Th}],formatAxisMap:hv}),A_=kv({chartName:"AreaChart",GraphicalChild:Vn,axisComponents:[{axisType:"xAxis",AxisComp:ha},{axisType:"yAxis",AxisComp:pa}],formatAxisMap:hv});const LZ="modulepreload",IZ=function(e){return"/"+e},P2={},BZ=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),s=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=IZ(l),l in P2)return;P2[l]=!0;const c=l.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${f}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":LZ,c||(d.as="script"),d.crossOrigin="",d.href=l,s&&d.setAttribute("nonce",s),document.head.appendChild(d),c)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(i){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i}return a.then(i=>{for(const s of i||[])s.status==="rejected"&&o(s.reason);return t().catch(o)})};function FZ(e){const[[t,r,n],[a,o,i],[s,l,c]]=e,f=t*(o*c-i*l)-r*(a*c-i*s)+n*(a*l-o*s);if(Math.abs(f)<1e-10)return null;const d=1/f;return[[(o*c-i*l)*d,(n*l-r*c)*d,(r*i-n*o)*d],[(i*s-a*c)*d,(t*c-n*s)*d,(n*a-t*i)*d],[(a*l-o*s)*d,(r*s-t*l)*d,(t*o-r*a)*d]]}function _2(e,t){const r=[[0,0,0],[0,0,0],[0,0,0]];for(let n=0;n<3;n++)for(let a=0;a<3;a++)for(let o=0;o<3;o++)r[n][a]+=e[n][o]*t[o][a];return r}class Gs{constructor(t){on(this,"size");on(this,"isPowerOfTwo");on(this,"_real");on(this,"_imag");on(this,"_scratch",null);on(this,"_rev",null);on(this,"_m",0);on(this,"_internalFFT",null);on(this,"_chirpReal",null);on(this,"_chirpImag",null);on(this,"_bReal",null);on(this,"_bImag",null);on(this,"_hanning",null);on(this,"_windowSumSq",0);this.size=t,this.isPowerOfTwo=(t&t-1)===0&&t>0,this._real=new Float32Array(t),this._imag=new Float32Array(t),this.isPowerOfTwo?this.initRadix2():this.initBluestein()}initRadix2(){const t=this.size,r=Math.log2(t);this._rev=new Uint32Array(t);for(let n=0;n<t;n++){let a=0,o=n;for(let i=0;i<r;i++)a=a<<1|o&1,o>>>=1;this._rev[n]=a}}initBluestein(){const t=this.size;this._m=Math.pow(2,Math.ceil(Math.log2(2*t-1))),this._internalFFT=new Gs(this._m),this._chirpReal=new Float32Array(t),this._chirpImag=new Float32Array(t);for(let a=0;a<t;a++){const o=-Math.PI*(a*a)/t;this._chirpReal[a]=Math.cos(o),this._chirpImag[a]=Math.sin(o)}const r=new Float32Array(this._m),n=new Float32Array(this._m);for(let a=0;a<t;a++)r[a]=this._chirpReal[a],n[a]=-this._chirpImag[a];for(let a=1;a<t;a++)r[this._m-a]=r[a],n[this._m-a]=n[a];this._internalFFT.transform(r,n),this._bReal=new Float32Array(this._internalFFT._real),this._bImag=new Float32Array(this._internalFFT._imag)}initHanning(){if(this._hanning)return;const t=this.size;this._hanning=new Float32Array(t);let r=0;for(let n=0;n<t;n++){const a=.5*(1-Math.cos(2*Math.PI*n/(t-1)));this._hanning[n]=a,r+=a*a}this._windowSumSq=r}transform(t,r){this.isPowerOfTwo?this.transformRadix2(t,r):this.transformBluestein(t,r)}transformRadix2(t,r){const n=this.size,a=this._rev,o=this._real,i=this._imag;if(t===o)for(let s=0;s<n;s++){const l=a[s];if(s<l){const c=o[s],f=i[s];o[s]=o[l],i[s]=i[l],o[l]=c,i[l]=f}}else for(let s=0;s<n;s++){const l=a[s];o[s]=t[l],i[s]=r?r[l]:0}for(let s=2;s<=n;s*=2){const l=s/2,c=-2*Math.PI/s,f=Math.cos(c),d=Math.sin(c);for(let h=0;h<n;h+=s){let p=1,m=0;for(let v=0;v<l;v++){const x=h+v,y=h+v+l,g=p*o[y]-m*i[y],b=p*i[y]+m*o[y],S=o[x],w=i[x];o[x]=S+g,i[x]=w+b,o[y]=S-g,i[y]=w-b;const k=p*f-m*d,j=p*d+m*f;p=k,m=j}}}}transformBluestein(t,r){const n=this.size,a=this._m,o=this._internalFFT,i=o._real,s=o._imag;i.fill(0),s.fill(0);for(let d=0;d<n;d++){const h=t[d],p=r?r[d]:0,m=this._chirpReal[d],v=this._chirpImag[d];i[d]=h*m-p*v,s[d]=h*v+p*m}o.transformRadix2(i,s);for(let d=0;d<a;d++){const h=o._real[d],p=o._imag[d],m=this._bReal[d],v=this._bImag[d];o._real[d]=h*m-p*v,o._imag[d]=h*v+p*m}const l=o._real,c=o._imag;for(let d=0;d<a;d++)c[d]=-c[d];o.transformRadix2(l,c);const f=1/a;for(let d=0;d<n;d++){const h=o._real[d]*f,p=-o._imag[d]*f,m=this._chirpReal[d],v=this._chirpImag[d];this._real[d]=h*m-p*v,this._imag[d]=h*v+p*m}}calculateSpectrum(t,r,n=!1){const a=this.size;let o=0;for(let f=0;f<a;f++)o+=t[f];const i=o/a;this._scratch||(this._scratch=new Float32Array(a));const s=this._scratch;if(n){this.initHanning();const f=this._hanning;for(let d=0;d<a;d++)s[d]=(t[d]-i)*f[d]}else for(let f=0;f<a;f++)s[f]=t[f]-i;this.transform(s);const l=r.length;let c=1/a;n&&this._windowSumSq>0&&(c=1/this._windowSumSq);for(let f=0;f<l;f++){const d=this._real[f],h=this._imag[f];r[f]+=(d*d+h*h)*c}}}function zZ(e,t,r,n=!1){const a=new Gs(t),o=new Gs(r),i=t*r,s=new Float32Array(i),l=new Float32Array(i);let c=null,f=null;if(n){c=new Float32Array(t);for(let v=0;v<t;v++)c[v]=.5*(1-Math.cos(2*Math.PI*v/(t-1)));f=new Float32Array(r);for(let v=0;v<r;v++)f[v]=.5*(1-Math.cos(2*Math.PI*v/(r-1)))}for(let v=0;v<r;v++){const x=v*t,y=a._real;let g=0;for(let S=0;S<t;S++)g+=e[x+S];const b=g/t;if(c)for(let S=0;S<t;S++)y[S]=(e[x+S]-b)*c[S];else for(let S=0;S<t;S++)y[S]=e[x+S]-b;a.transform(y);for(let S=0;S<t;S++)s[x+S]=a._real[S],l[x+S]=a._imag[S]}for(let v=0;v<t;v++){const x=o._real,y=o._imag;for(let g=0;g<r;g++){const b=g*t+v;let S=s[b],w=l[b];f&&(S*=f[g],w*=f[g]),x[g]=S,y[g]=w}o.transform(x,y);for(let g=0;g<r;g++){const b=g*t+v;s[b]=o._real[g],l[b]=o._imag[g]}}const d=new Float32Array(i);let h=1,p=t,m=r;if(n&&c&&f){p=0;for(let v=0;v<t;v++)p+=c[v]*c[v];m=0;for(let v=0;v<r;v++)m+=f[v]*f[v]}h=1/(p*m);for(let v=0;v<i;v++)d[v]=(s[v]*s[v]+l[v]*l[v])*h;return d}function WZ(e,t,r){const n=new Float32Array(e.length),a=Math.floor(t/2),o=Math.floor(r/2);for(let i=0;i<r;i++)for(let s=0;s<t;s++){const l=(s+a)%t,c=(i+o)%r,f=i*t+s,d=c*t+l;n[d]=e[f]}return n}let Hp=null;async function jv(){if(!Hp)try{const n=(await BZ(()=>import("./joraw-DlkdV3it.js"),[])).default;if(typeof n!="function")throw new Error("JoRaw WASM import failed");const a=new URL("/assets/joraw-BUh50ws_.wasm",import.meta.url).href;Hp=n({locateFile:(o,i)=>o.endsWith("joraw.wasm")?a:i+o})}catch(r){throw console.error("Failed to load joraw.js:",r),r}const e=await Hp,t=e.LibRaw||e.JoRaw;if(!t)throw new Error("JoRaw class not found");return t}const UZ=[[3.2404542,-1.5371385,-.4985314],[-.969266,1.8760108,.041556],[.0556434,-.2040259,1.0572252]],Vp=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055;async function GZ(e){const t=await createImageBitmap(e),r=t.width,n=t.height,a=document.createElement("canvas");a.width=r,a.height=n;const o=a.getContext("2d");if(!o)throw new Error("Failed to create canvas context");o.drawImage(t,0,0);const s=o.getImageData(0,0,r,n).data,l=r*n,c=new Uint16Array(l);for(let d=0;d<n;d++)for(let h=0;h<r;h++){const p=(d*r+h)*4,m=d*r+h,v=d%2===0,x=h%2===0;let y=0;v&&x?y=s[p]:!v&&!x?y=s[p+2]:y=s[p+1],c[m]=y*64}return{previewBlob:await new Promise(d=>a.toBlob(d,"image/png"))||e,analysisData:{data:c,width:r,height:n,bayerPattern:"RGGB",blackLevels:[0,0,0,0],whiteLevel:16320,metadata:{description:"Standard image (non-RAW)"},isThreePlane:!0}}}const HZ=async e=>{const t=await jv(),r=new t;try{await r.open(e,{useCameraWb:!0,outputBps:8,noAutoBright:!0,userQual:3,outputColor:1});const n=await r.imageData();return new Promise((a,o)=>{const i=document.createElement("canvas");i.width=n.width,i.height=n.height;const s=i.getContext("2d");if(!s){o(new Error("Could not create canvas context"));return}const l=s.createImageData(n.width,n.height),c=n.data,f=n.width*n.height;for(let d=0;d<f;d++){const h=d*3,p=d*4;l.data[p]=c[h],l.data[p+1]=c[h+1],l.data[p+2]=c[h+2],l.data[p+3]=255}s.putImageData(l,0,0),i.toBlob(d=>{d?a(d):o(new Error("Canvas to Blob failed"))},"image/jpeg",.85)})}finally{r.delete?r.delete():r.close()}},Md=async e=>{var n,a,o,i,s,l,c,f,d;const t=await jv(),r=new t;try{if(await r.open(e,{}),typeof r.getRawImage!="function")throw new Error("WASM mismatch");const h=r.getRawImage(),p=new Uint16Array(h.data),m=await r.metadata(!0);let v=[];if((n=m.color_data)!=null&&n.cblack_rawpy_style)v=m.color_data.cblack_rawpy_style;else if((o=(a=m.color_data)==null?void 0:a.dng_levels)!=null&&o.dng_cblack)v=m.color_data.dng_levels.dng_cblack;else if(((i=m.black_level_per_channel)==null?void 0:i.length)>=4)v=m.black_level_per_channel;else if(((s=m.cblack)==null?void 0:s.length)>=4)v=m.cblack;else if(((c=(l=m.color)==null?void 0:l.cblack)==null?void 0:c.length)>=4)v=m.color.cblack;else{const S=m.black_level||m.color_data&&m.color_data.black||0;v=[S,S,S,S]}const x=[Number(v[0])||0,Number(v[1])||0,Number(v[2])||0,Number(v[3])||0],y=((f=m.idata)==null?void 0:f.filters)||0,g=((d=m.idata)==null?void 0:d.colors)||0,b=y===0&&g===3;return{data:p,width:h.width,height:h.height,bayerPattern:m.color_desc||"RGGB",blackLevels:x,whiteLevel:m.white_level||16383,metadata:m,isThreePlane:b}}finally{r.delete?r.delete():r.close()}};async function Kp(e){const t=new Uint8Array(e.slice(0)),r=new Uint8Array(e.slice(0)),[n,a]=await Promise.all([HZ(t),Md(r)]);return{previewBlob:n,analysisData:a}}async function Cd(e){const t=new Uint8Array(e.slice(0));return Md(t)}const N2=e=>(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e++,e);async function Xp(e,t,r,n=!0){const a=await Md(new Uint8Array(e)),o=await Md(new Uint8Array(t));if(a.width!==o.width||a.height!==o.height)throw new Error("Dimension Mismatch");const i=a.width,s=a.height,l=r?N2(i):i,c=r?N2(s):s,f=l*c,d=new Uint16Array(f),h=6e4,p=1.41421356;for(let m=0;m<s;m++){const v=m*i,x=m*l;for(let y=0;y<i;y++){const g=a.data[v+y],b=o.data[v+y];let S=g-b;n&&(S/=p);let w=S+h;w=Math.max(0,Math.min(65535,w)),d[x+y]=Math.round(w)}}return{rawData:d,width:l,height:c,metadata:a.metadata}}function Bi(e,t,r,n,a,o,i){const s=Math.max(0,Math.floor(n)),l=Math.max(0,Math.floor(a)),c=Math.min(t,Math.ceil(n+o)),f=Math.min(r,Math.ceil(a+i)),d=[0,0,0,0],h=[0,0,0,0],p=[0,0,0,0];for(let x=l;x<f;x++){const y=x*t,g=x%2;for(let b=s;b<c;b++){const S=b%2,w=e[y+b],k=g*2+S;d[k]+=w,h[k]+=w*w,p[k]++}}const m=[0,0,0,0],v=[0,0,0,0];for(let x=0;x<4;x++)if(p[x]>0){const y=d[x]/p[x];m[x]=y;const b=h[x]/p[x]-y*y;v[x]=Math.sqrt(Math.max(0,b))}return{x:s,y:l,width:c-s,height:f-l,means:m,stdDevs:v,pixelCount:p.reduce((x,y)=>x+y,0)}}function A2(e,t,r,n,a,o,i=0,s=0){const l=Math.max(0,Math.floor(n.x)),c=Math.max(0,Math.floor(n.y)),f=Math.min(t,Math.ceil(n.x+n.w)),d=Math.min(r,Math.ceil(n.y+n.h)),h=a>>1,p=a&1,m=(o>>1)+i,v=(o&1)+s;let x=0,y=0,g=0;for(let P=c;P<d-2;P+=2)for(let _=l;_<f-2;_+=2){const A=(P+h)*t+(_+p),N=(P+m)*t+(_+v);P+m>=r||_+v>=t||(x+=e[A],y+=e[N],g++)}if(g<2)return{sumCov:0,sumVar1:0,sumVar2:0,n:0};const b=x/g,S=y/g;let w=0,k=0,j=0;for(let P=c;P<d-2;P+=2)for(let _=l;_<f-2;_+=2){const A=(P+h)*t+(_+p),N=(P+m)*t+(_+v);if(P+m>=r||_+v>=t)continue;const E=e[A],F=e[N],D=E-b,T=F-S;w+=D*T,k+=D*D,j+=T*T}return{sumCov:w,sumVar1:k,sumVar2:j,n:g}}function VZ(e){if(e.n<2)return 0;const t=Math.sqrt(e.sumVar1*e.sumVar2);return t===0?0:e.sumCov/t}function KZ(e,t,r,n,a,o,i,s,l,c,f){if(c<=l)return[];const d=Math.max(0,Math.floor(n)),h=Math.max(0,Math.floor(a)),p=Math.min(t,Math.ceil(n+o)),m=Math.min(r,Math.ceil(a+i)),v=c-l,x=f?Math.floor(v)+1:s,y=v/x,g=[new Uint32Array(x),new Uint32Array(x),new Uint32Array(x),new Uint32Array(x)];for(let S=h;S<m;S++){const w=S*t,k=S%2;for(let j=d;j<p;j++){const P=j%2,_=e[w+j];if(_<l||_>c)continue;const A=k*2+P;let N;f?N=Math.floor(_-l):N=Math.floor((_-l)/y),N<0&&(N=0),N>=x&&(N=x-1),g[A][N]++}}const b=[];for(let S=0;S<x;S++){const w=l+(f?S:S*y);b.push({binStart:w,c0:g[0][S],c1:g[1][S],c2:g[2][S],c3:g[3][S]})}return b}function XZ(e,t,r,n,a,o=!1,i=!1,s={rows:!1,rowGroup:0,cols:!1,colGroup:0},l=!0,c=1){const f=Math.max(0,Math.floor(n.x)),d=Math.max(0,Math.floor(n.y)),h=Math.min(t,Math.ceil(n.x+n.w)),p=Math.min(r,Math.ceil(n.y+n.h)),m=h-f,v=p-d;if(m<=1||v<=1)return null;let x=0;for(let N=f;N<h;N++)N%2===(a&1)&&x++;let y=0;for(let N=d;N<p;N++)N%2===a>>1&&y++;if(x<4||y<4)return null;const g=Math.max(1,c),b=Math.floor(2*x/(g+1)),S=Math.floor(2*y/(g+1));if(b<4||S<4)return null;const w=new Gs(b),k=new Gs(S),j=new Float32Array(Math.floor(b/2)+1),P=new Float32Array(Math.floor(S/2)+1);let _=0,A=0;for(let N=d;N<p;N++){const E=N%2;if(a>>1!==E||s.rows&&(N>>1&1)!==s.rowGroup)continue;const F=N*t,D=new Float32Array(x);let T=0;for(let I=f;I<h;I++)I%2===(a&1)&&T<x&&(D[T++]=e[F+I]);for(let I=0;I<g;I++){const W=Math.floor(I*b/2);if(W+b>x)break;const L=D.slice(W,W+b);w.calculateSpectrum(L,j,i),_++}if(!l)break}for(let N=f;N<h;N++){const E=N%2;if((a&1)!==E||s.cols&&(N>>1&1)!==s.rowGroup)continue;const F=new Float32Array(y);let D=0;for(let T=d;T<p;T++)T%2===a>>1&&D<y&&(F[D++]=e[T*t+N]);for(let T=0;T<g;T++){const I=Math.floor(T*S/2);if(I+S>y)break;const W=F.slice(I,I+S);k.calculateSpectrum(W,P,i),A++}if(!l)break}if(_>0)for(let N=0;N<j.length;N++)j[N]/=_;if(A>0)for(let N=0;N<P.length;N++)P[N]/=A;return{avgHoriz:Array.from(j),avgVert:Array.from(P),sampleCount:{h:_,v:A}}}function YZ(e,t,r,n,a,o=!1){const i=Math.max(0,Math.floor(n.x)),s=Math.max(0,Math.floor(n.y)),l=Math.min(t,Math.ceil(n.x+n.w)),c=Math.min(r,Math.ceil(n.y+n.h));let f=-1;for(let g=s;g<c;g++)if(g%2===a>>1){f=g;break}if(f===-1)return null;let d=-1;for(let g=i;g<l;g++)if(g%2===(a&1)){d=g;break}if(d===-1)return null;const h=[];for(let g=f;g<c;g+=2){const b=g*t,S=[];for(let w=d;w<l;w+=2)S.push(e[b+w]);h.push(S)}const p=h.length;if(p===0)return null;const m=h[0].length;if(m===0)return null;const v=new Float32Array(m*p);for(let g=0;g<p;g++){const b=h[g];for(let S=0;S<m;S++)v[g*m+S]=b[S]}const x=zZ(v,m,p,o),y=WZ(x,m,p);return{width:m,height:p,data:y}}function qZ(e,t,r,n,a,o,i){const s=[],l=Math.max(0,Math.floor(n.x)),c=Math.max(0,Math.floor(n.y)),f=Math.min(t,Math.ceil(n.x+n.w)),d=Math.min(r,Math.ceil(n.y+n.h)),h=a>>1,p=a&1;for(let g=c;g<d;g++){if(g%2!==h)continue;const b=g*t;for(let S=l;S<f;S++){if(S%2!==p)continue;const w=e[b+S];w>=o&&w<=i&&s.push(w-o)}}if(s.length===0)return null;s.sort((g,b)=>g-b);const m=[s[0]];for(let g=1;g<s.length;g++)s[g]!==s[g-1]&&m.push(s[g]);const v=[],x=[],y={};for(let g=0;g<m.length-1;g++){const b=m[g],w=m[g+1]-b;v.push(w),x.push({x:b,y:w}),y[w]=(y[w]||0)+1}return{uniqueCount:m.length,diffCount:v.length,stepCounts:y,plotData:x}}async function M2(e,t){const r=await jv(),n=new r;try{const a=new Uint8Array(e.slice(0));let o=!1,i=[];if(t.customMatrix&&t.customMatrix.length===9){const h=[[t.customMatrix[0],t.customMatrix[1],t.customMatrix[2]],[t.customMatrix[3],t.customMatrix[4],t.customMatrix[5]],[t.customMatrix[6],t.customMatrix[7],t.customMatrix[8]]],p=FZ(h);if(p){const m=t.wbGains?t.wbGains[0]:1,v=t.wbGains?t.wbGains[1]:1,y=_2(p,[[m,0,0],[0,1,0],[0,0,v]]),g=_2(UZ,y);i=[g[0][0],g[0][1],g[0][2],g[1][0],g[1][1],g[1][2],g[2][0],g[2][1],g[2][2]],o=!0}else throw new Error("Custom Matrix is not invertible.")}const s={outputBps:16,noAutoBright:!0,bright:o?1:Math.pow(2,t.exposure)};t.blackLevel&&t.blackLevel.length===4&&(s.userBlack=0,s.userCblack=t.blackLevel.map(h=>{const p=Math.round(h);return p===0?1:p})),t.demosaicMethod===-1?s.noInterpolation=!0:s.userQual=t.demosaicMethod,o?(s.outputColor=0,s.gamma=[1,1],s.userMul=[1,1,1,1],s.useCameraWb=!1):(s.outputColor=1,s.useCameraWb=!0),await n.open(a,s);const l=await n.imageData(),c=new ImageData(l.width,l.height),f=c.data,d=new Uint16Array(l.data.buffer,l.data.byteOffset,l.data.byteLength/2);if(o&&i.length===9){const h=i,m=Math.pow(2,t.exposure)*.25;for(let v=0;v<d.length;v+=3){const x=d[v]/65535,y=d[v+1]/65535,g=d[v+2]/65535;let b=h[0]*x+h[1]*y+h[2]*g,S=h[3]*x+h[4]*y+h[5]*g,w=h[6]*x+h[7]*y+h[8]*g;b*=m,S*=m,w*=m,b=Math.max(0,Math.min(1,b)),S=Math.max(0,Math.min(1,S)),w=Math.max(0,Math.min(1,w)),b=Vp(b),S=Vp(S),w=Vp(w);const k=v/3*4;f[k]=Math.round(b*255),f[k+1]=Math.round(S*255),f[k+2]=Math.round(w*255),f[k+3]=255}}else for(let h=0;h<d.length;h+=3){const p=h/3*4;f[p]=d[h]>>8,f[p+1]=d[h+1]>>8,f[p+2]=d[h+2]>>8,f[p+3]=255}return c}finally{n.delete?n.delete():n.close()}}const ZZ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,zIndex:i,onFocus:s,initialPosition:l,initialInternalState:c,onUpdateState:f})=>{const[d,h]=O.useState((c==null?void 0:c.channelMode)||"All"),[p,m]=O.useState((c==null?void 0:c.minVal)??0),[v,x]=O.useState((c==null?void 0:c.maxVal)??16383),[y,g]=O.useState((c==null?void 0:c.binCount)??100),[b,S]=O.useState((c==null?void 0:c.pointToPoint)??!1),[w,k]=O.useState(!1),[j,P]=O.useState([]),[_,A]=O.useState(null),[N,E]=O.useState(l||{x:100,y:100}),[F,D]=O.useState(!1),T=O.useRef({x:0,y:0});O.useEffect(()=>{f&&f({channelMode:d,minVal:p,maxVal:v,binCount:y,pointToPoint:b})},[d,p,v,y,b]),O.useEffect(()=>{if(!e||!n||!a)return;if(v<=p){A("Invalid range: Max must be greater than Min");return}A(null),k(!0);const B=setTimeout(()=>{try{const te=KZ(n.data,n.width,n.height,a.x,a.y,a.w,a.h,y,p,v,b);P(te)}catch(te){console.error("Histogram calc error:",te),A("Error calculating histogram")}finally{k(!1)}},50);return()=>clearTimeout(B)},[e,n,a==null?void 0:a.x,a==null?void 0:a.y,a==null?void 0:a.w,a==null?void 0:a.h,y,p,v,b]);const I=B=>{s&&s(),!(B.target.closest("button")||B.target.closest("input")||B.target.closest("select"))&&(D(!0),T.current={x:B.clientX-N.x,y:B.clientY-N.y})};if(O.useEffect(()=>{const B=X=>{F&&E({x:X.clientX-T.current.x,y:X.clientY-T.current.y})},te=()=>D(!1);return F&&(window.addEventListener("mousemove",B),window.addEventListener("mouseup",te)),()=>{window.removeEventListener("mousemove",B),window.removeEventListener("mouseup",te)}},[F]),!e)return null;const W=o?{c0:"Blue",c1:"Green 1",c2:"Green 2",c3:"Red"}:{c0:"Red",c1:"Green 1",c2:"Green 2",c3:"Blue"},L=o?{c0:"#3b82f6",c1:"#22c55e",c2:"#4ade80",c3:"#ef4444"}:{c0:"#ef4444",c1:"#22c55e",c2:"#4ade80",c3:"#3b82f6"},R="step";return u.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl resize-both overflow-hidden min-w-[500px] min-h-[400px] w-[900px] h-[600px]",style:{left:N.x,top:N.y,zIndex:i??100},onMouseDownCapture:s,children:[u.jsxs("div",{className:`flex justify-between items-center p-4 border-b border-gray-200 dark:border-slate-700 flex-shrink-0 bg-white dark:bg-slate-900 select-none ${F?"cursor-grabbing":"cursor-grab"}`,onMouseDown:I,children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 pointer-events-none",children:"ROI Histogram"}),u.jsxs("div",{className:"flex items-center gap-1",children:[r&&u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800/50 flex flex-wrap gap-4 items-center border-b border-gray-200 dark:border-slate-700 text-sm flex-shrink-0 relative z-10",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-semibold",children:"Channel:"}),u.jsxs("select",{value:d,onChange:B=>h(B.target.value),className:"bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-900 dark:text-slate-100 outline-none focus:ring-1 focus:ring-cyan-500",children:[u.jsx("option",{value:"All",children:"All Colors"}),u.jsx("option",{value:"0",children:W.c0}),u.jsx("option",{value:"1",children:W.c1}),u.jsx("option",{value:"2",children:W.c2}),u.jsx("option",{value:"3",children:W.c3})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-semibold",children:"Range (DN):"}),u.jsx("input",{type:"number",value:p,onChange:B=>m(Number(B.target.value)),className:"w-20 px-2 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right"}),u.jsx("span",{className:"text-gray-400",children:"-"}),u.jsx("input",{type:"number",value:v,onChange:B=>x(Number(B.target.value)),className:"w-20 px-2 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right"})]}),u.jsxs("div",{className:"flex items-center gap-4 border-l border-gray-300 dark:border-slate-600 pl-4",children:[u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:b,onChange:B=>S(B.target.checked),className:"w-4 h-4 text-cyan-600 rounded border-gray-300 focus:ring-cyan-500"}),u.jsx("span",{className:"text-gray-700 dark:text-slate-300 select-none",title:"High compute cost",children:"1:1 Point-to-Point"})]}),!b&&u.jsxs("div",{className:"flex items-center gap-2 animate-in fade-in",children:[u.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-semibold",children:"Bins:"}),u.jsx("input",{type:"number",value:y,onChange:B=>g(Math.max(1,Number(B.target.value))),className:"w-16 px-2 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right"})]})]})]}),u.jsxs("div",{className:"flex-1 p-4 relative bg-white dark:bg-slate-900 overflow-hidden min-h-0",children:[u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-0 pointer-events-none select-none opacity-10 mix-blend-normal dark:mix-blend-plus-lighter",children:u.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),w&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10 bg-white/50 dark:bg-slate-900/50 backdrop-blur-[1px]",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("div",{className:"w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mb-2"}),u.jsx("span",{className:"text-sm text-cyan-600 dark:text-cyan-400 font-semibold",children:"Calculating Histogram..."})]})}),_?u.jsx("div",{className:"flex items-center justify-center h-full text-red-500 relative z-10",children:_}):u.jsx("div",{className:"relative z-10 w-full h-full",children:u.jsx(ks,{width:"100%",height:"100%",children:u.jsxs(Sv,{data:j,children:[u.jsx(ji,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3}),u.jsx(ha,{dataKey:"binStart",type:"number",domain:[p,v],tickFormatter:B=>Math.floor(B).toString(),tick:{fill:"#9ca3af",fontSize:12},allowDataOverflow:!0,label:{value:"DN Value",position:"insideBottom",offset:-5,fill:"#9ca3af",fontSize:12}}),u.jsx(pa,{tick:{fill:"#9ca3af",fontSize:12},label:{value:"Count",angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:12}}),u.jsx(cn,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6"},itemStyle:{fontSize:"12px"},labelFormatter:B=>`DN: ${Math.round(Number(B))}`,formatter:B=>[B,"Count"]}),u.jsx(Ha,{wrapperStyle:{paddingTop:"10px"}}),(d==="All"||d==="0")&&u.jsx(Yr,{type:R,dataKey:"c0",name:W.c0,stroke:L.c0,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(d==="All"||d==="1")&&u.jsx(Yr,{type:R,dataKey:"c1",name:W.c1,stroke:L.c1,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(d==="All"||d==="2")&&u.jsx(Yr,{type:R,dataKey:"c2",name:W.c2,stroke:L.c2,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(d==="All"||d==="3")&&u.jsx(Yr,{type:R,dataKey:"c3",name:W.c3,stroke:L.c3,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1})]})})})]})]})},Dh=({initialPosition:e={x:20,y:80},children:t,className:r="",onClose:n,zIndex:a,onFocus:o})=>{const[i,s]=O.useState(e),[l,c]=O.useState(!1),[f,d]=O.useState({x:0,y:0}),h=O.useRef(null),p=m=>{o&&o(),!(m.target.closest("button")||m.target.closest("input"))&&(c(!0),d({x:m.clientX-i.x,y:m.clientY-i.y}))};return O.useEffect(()=>{const m=x=>{var y,g;if(l){const b=x.clientX-f.x,S=x.clientY-f.y,w=window.innerWidth-(((y=h.current)==null?void 0:y.offsetWidth)||100),k=window.innerHeight-(((g=h.current)==null?void 0:g.offsetHeight)||100);s({x:Math.max(0,Math.min(b,w)),y:Math.max(0,Math.min(S,k))})}},v=()=>{c(!1)};return l&&(window.addEventListener("mousemove",m),window.addEventListener("mouseup",v)),()=>{window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",v)}},[l,f]),u.jsxs("div",{ref:h,style:{left:i.x,top:i.y,zIndex:a??90},onMouseDownCapture:o,className:`fixed shadow-2xl rounded-xl border border-gray-200 dark:border-slate-700 bg-white/95 dark:bg-slate-900/90 backdrop-blur-md transition-shadow duration-200 ${l?"cursor-grabbing shadow-xl ring-2 ring-cyan-500/30":"shadow-lg"} ${r}`,children:[u.jsx("div",{onMouseDown:p,className:"absolute inset-0 w-full h-8 cursor-grab active:cursor-grabbing z-0",title:"Drag to move"}),u.jsx("div",{className:"relative z-10",children:t})]})},QZ=({isOpen:e,onClose:t,rawImageData:r,roi:n,selectedChannel:a,channelName:o,zIndex:i,onFocus:s,initialPosition:l})=>{const c=O.useRef(null),[f,d]=O.useState(!1),[h,p]=O.useState(null),[m,v]=O.useState(null),[x,y]=O.useState(!0),[g,b]=O.useState(!0),[S,w]=O.useState("-1"),[k,j]=O.useState("8"),[P,_]=O.useState(64),[A,N]=O.useState(45),[E,F]=O.useState(60),D=O.useRef(!1),T=O.useRef({x:0,y:0});O.useEffect(()=>{!e||!r||!n||(d(!0),v(null),setTimeout(()=>{try{const R=YZ(r.data,r.width,r.height,n,a,g);R?p(R):v("Could not extract valid data from ROI.")}catch(R){console.error("2D FFT Error",R),v("Calculation Error: "+R.message)}finally{d(!1)}},50))},[e,r,n,a,g]),O.useEffect(()=>{if(!h||!c.current)return;const R=c.current,B=R.getContext("2d");if(!B)return;const te=R.width,X=R.height;B.clearRect(0,0,te,X),B.fillStyle="#0f172a",B.fillRect(0,0,te,X);const G=h.width,U=h.height,ce=h.data,ue=Math.pow(10,parseFloat(S)||-1),xe=Math.pow(10,parseFloat(k)||8);let ve=ue,V=xe;x&&(ve=Math.log10(Math.max(1e-10,ue)),V=Math.log10(Math.max(1e-10,xe)));const le=V-ve||1,ge=te/2,Z=X/2+50,Xe=Math.min(te,X)*.4,je=.6,We=A*Math.PI/180,rt=E*Math.PI/180,bt=Math.cos(We),Zt=Math.sin(We),$t=Math.cos(rt),Tr=Math.sin(rt),nt=(Ke,Dt,Jt)=>{const hr=Ke*bt-Dt*Zt,Zr=Ke*Zt+Dt*bt,jn=Zr*$t-Jt*Tr,Xt=Zr*Tr+Jt*$t;return{x:ge+hr*Xe,y:Z-jn*Xe,depth:Xt}},sr=Math.max(16,P),Qt=Math.max(1,Math.floor(G/sr)),Fr=Math.max(1,Math.floor(U/sr)),Vt=(Ke,Dt)=>{let Jt=ce[Dt*G+Ke];return x&&(Jt=Math.log10(Math.max(1e-10,Jt))),Jt=Math.max(ve,Math.min(V,Jt)),(Jt-ve)/le},Dn=Ke=>`hsl(${(1-Ke)*240}, 80%, 50%)`,Kt=[];for(let Ke=0;Ke<U-Fr;Ke+=Fr)for(let Dt=0;Dt<G-Qt;Dt+=Qt){const Jt=Dt,hr=Ke,Zr=Dt+Qt,jn=Ke,Xt=Dt+Qt,Qr=Ke+Fr,at=Dt,_r=Ke+Fr,xr=Vt(Jt,hr),Jr=Vt(Zr,jn),en=Vt(Xt,Qr),tn=Vt(at,_r),rn=(xr+Jr+en+tn)/4,Rn=nt(Jt/(G-1)-.5,hr/(U-1)-.5,xr*je),_t=nt(Zr/(G-1)-.5,jn/(U-1)-.5,Jr*je),K=nt(Xt/(G-1)-.5,Qr/(U-1)-.5,en*je),$e=nt(at/(G-1)-.5,_r/(U-1)-.5,tn*je),Nt=(Rn.depth+_t.depth+K.depth+$e.depth)/4;Kt.push({pts:[{x:Rn.x,y:Rn.y},{x:_t.x,y:_t.y},{x:K.x,y:K.y},{x:$e.x,y:$e.y}],avgDepth:Nt,avgZ:rn})}Kt.sort((Ke,Dt)=>Ke.avgDepth-Dt.avgDepth),B.lineWidth=.5,Kt.forEach(Ke=>{B.fillStyle=Dn(Ke.avgZ),B.beginPath(),B.moveTo(Ke.pts[0].x,Ke.pts[0].y),B.lineTo(Ke.pts[1].x,Ke.pts[1].y),B.lineTo(Ke.pts[2].x,Ke.pts[2].y),B.lineTo(Ke.pts[3].x,Ke.pts[3].y),B.closePath(),B.fill()}),B.fillStyle="#aaa",B.font="10px monospace";const fr=nt(-.5,-.5,0),dr=nt(.5,-.5,0),nr=nt(-.5,.5,0),lr=nt(.5,.5,0);B.strokeStyle="#666",B.beginPath(),B.moveTo(fr.x,fr.y),B.lineTo(dr.x,dr.y),B.lineTo(lr.x,lr.y),B.lineTo(nr.x,nr.y),B.closePath(),B.stroke(),B.fillText("0",fr.x-10,fr.y+10),B.fillText("Fx",dr.x+5,dr.y),B.fillText("Fy",nr.x-15,nr.y);const Pt=nt(-.5,-.5,je);B.strokeStyle="#fff",B.beginPath(),B.moveTo(fr.x,fr.y),B.lineTo(Pt.x,Pt.y),B.stroke(),B.fillText(`10^${k}`,Pt.x-25,Pt.y),B.fillText(`10^${S}`,fr.x-25,fr.y)},[h,x,A,E,S,k,P]);const I=R=>{D.current=!0,T.current={x:R.clientX,y:R.clientY}},W=R=>{if(!D.current)return;const B=R.clientX-T.current.x,te=R.clientY-T.current.y;N(X=>X-B*.5),F(X=>Math.max(0,Math.min(90,X+te*.5))),T.current={x:R.clientX,y:R.clientY}},L=()=>{D.current=!1};return e?u.jsxs(Dh,{initialPosition:l||{x:100,y:100},onClose:t,zIndex:i,onFocus:s,className:"w-[700px] h-[600px] bg-slate-900 border border-slate-700 flex flex-col overflow-hidden shadow-2xl",children:[u.jsxs("div",{className:"flex justify-between items-center px-4 py-2 border-b border-slate-700 bg-slate-800",children:[u.jsxs("h3",{className:"text-sm font-bold text-slate-200 flex items-center gap-2",children:["2D FFT Power Spectrum - ",o,h&&u.jsxs("span",{className:"text-[10px] font-normal text-slate-400 bg-slate-700 px-2 py-0.5 rounded",children:[h.width,"x",h.height," (Chirp-Z)"]})]}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("button",{onClick:t,className:"text-slate-400 hover:text-red-400 transition-colors",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})})]}),u.jsxs("div",{className:"p-3 bg-slate-800/80 flex flex-wrap gap-4 text-xs items-center border-b border-slate-700",children:[u.jsxs("div",{className:"flex items-center gap-2 bg-slate-900 px-2 py-1 rounded border border-slate-600",children:[u.jsx("span",{className:"text-slate-400 font-bold",children:"Range (10^x):"}),u.jsx("input",{type:"number",value:S,onChange:R=>w(R.target.value),className:"w-10 bg-transparent text-slate-200 text-center border-b border-slate-600 focus:border-cyan-500 outline-none"}),u.jsx("span",{className:"text-slate-500",children:"to"}),u.jsx("input",{type:"number",value:k,onChange:R=>j(R.target.value),className:"w-10 bg-transparent text-slate-200 text-center border-b border-slate-600 focus:border-cyan-500 outline-none"})]}),u.jsxs("div",{className:"flex items-center gap-2 bg-slate-900 px-2 py-1 rounded border border-slate-600",children:[u.jsx("span",{className:"text-slate-400 font-bold",children:"Density:"}),u.jsx("input",{type:"range",min:"16",max:"128",step:"16",value:P,onChange:R=>_(Number(R.target.value)),className:"w-20 h-1.5 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"}),u.jsx("span",{className:"text-slate-300 w-6 text-right",children:P})]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none text-slate-300 hover:text-white",children:[u.jsx("input",{type:"checkbox",checked:x,onChange:R=>y(R.target.checked),className:"rounded bg-slate-700 border-slate-600 accent-cyan-500"}),"Log Z"]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none text-slate-300 hover:text-white",children:[u.jsx("input",{type:"checkbox",checked:g,onChange:R=>b(R.target.checked),className:"rounded bg-slate-700 border-slate-600 accent-fuchsia-500"}),"Hanning"]})]}),u.jsxs("div",{className:"flex-1 relative bg-slate-900 cursor-move",children:[f&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-900/80 z-20 backdrop-blur-sm",children:u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx("div",{className:"w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin"}),u.jsx("span",{className:"text-cyan-400 font-bold animate-pulse text-sm",children:"Computing full-size 2D FFT..."})]})}),m&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-900/80 z-20 text-red-400 p-4 text-center",children:m}),u.jsx("canvas",{ref:c,width:700,height:500,className:"w-full h-full block",onMouseDown:I,onMouseMove:W,onMouseUp:L,onMouseLeave:L}),u.jsx("div",{className:"absolute bottom-2 right-2 text-[9px] text-slate-600 pointer-events-none",children:"Drag to Rotate"})]})]}):null},JZ=.5,wm=1e-10,C2=(e,t)=>{const r=e.length-1;if(r<0)return wm;const n=t/JZ*r,a=Math.round(n),o=e[Math.min(Math.max(0,a),r)]||0;return Math.max(o,wm)},eQ=(e,t)=>{if(t<=0)return[1];const r=new Array(e);let n=0;for(let a=0;a<e;a++){const o=a-(e-1)/2,i=Math.exp(-(o*o)/(2*t*t));r[a]=i,n+=i}for(let a=0;a<e;a++)r[a]/=n;return r},tQ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,onUpdateROI:i,zIndex:s,onFocus:l,initialPosition:c,initialInternalState:f,onUpdateState:d,stackFiles:h})=>{const[p,m]=O.useState((f==null?void 0:f.selectedChannel)??0),[v,x]=O.useState(()=>(f==null?void 0:f.yMinExp)||localStorage.getItem("fft_y_min")||"1.73"),[y,g]=O.useState(()=>(f==null?void 0:f.yMaxExp)||localStorage.getItem("fft_y_max")||"8.00"),[b,S]=O.useState((f==null?void 0:f.useHanning)??!0),[w,k]=O.useState((f==null?void 0:f.doAverage)??!0),[j,P]=O.useState((f==null?void 0:f.welchSegments)??1),[_,A]=O.useState((f==null?void 0:f.showH)??!0),[N,E]=O.useState((f==null?void 0:f.showV)??!0),[F,D]=O.useState((f==null?void 0:f.interlaceRows)??!1),[T,I]=O.useState((f==null?void 0:f.rowGroup)??0),[W,L]=O.useState((f==null?void 0:f.interlaceCols)??!1),[R,B]=O.useState((f==null?void 0:f.colGroup)??0),[te,X]=O.useState(()=>(f==null?void 0:f.theoSigma)||localStorage.getItem("fft_theo_sigma")||"0.00"),[G,U]=O.useState(()=>(f==null?void 0:f.theoKernelSize)||localStorage.getItem("fft_theo_ksize")||"3"),[ce,ue]=O.useState(()=>(f==null?void 0:f.theoNoiseStd)||localStorage.getItem("fft_theo_noise")||"7.5"),[xe,ve]=O.useState(()=>(f==null?void 0:f.theoScale)||localStorage.getItem("fft_theo_scale")||"1.0"),[V,le]=O.useState((f==null?void 0:f.intStart)||"0"),[ge,Z]=O.useState((f==null?void 0:f.intEnd)||"0.5"),[Xe,je]=O.useState(!1),[We,rt]=O.useState([]),[bt,Zt]=O.useState(!1),[$t,Tr]=O.useState(0),[nt,sr]=O.useState(null),[Qt,Fr]=O.useState(!1),[Vt,Dn]=O.useState(!1),[Kt,fr]=O.useState(null),[dr,nr]=O.useState(!1),[lr,Pt]=O.useState(null),[Ke,Dt]=O.useState(c||{x:50,y:50}),[Jt,hr]=O.useState(!1),[Zr,jn]=O.useState(null),[Xt,Qr]=O.useState({}),at=O.useRef({x:0,y:0}),_r=o?{c0:"#3b82f6",c1:"#22c55e",c2:"#4ade80",c3:"#ef4444"}:{c0:"#ef4444",c1:"#22c55e",c2:"#4ade80",c3:"#3b82f6"},xr=O.useMemo(()=>o?{0:"Blue",1:"Green 1",2:"Green 2",3:"Red"}:{0:"Red",1:"Green 1",2:"Green 2",3:"Blue"},[o]);O.useEffect(()=>{localStorage.setItem("fft_y_min",v),localStorage.setItem("fft_y_max",y),localStorage.setItem("fft_theo_sigma",te),localStorage.setItem("fft_theo_ksize",G),localStorage.setItem("fft_theo_noise",ce),localStorage.setItem("fft_theo_scale",xe)},[v,y,te,G,ce,xe]),O.useEffect(()=>{if(!e||!n||!a)return;Zt(!0),sr(null),Tr(0);const ee=setTimeout(async()=>{try{const fe=p===-1?[0,1,2,3]:[p],ot=h&&h.length>1?h:[null],Ct=ot.length,Ue={};let He={h:0,v:0};for(let Me=0;Me<Ct;Me++){Tr(Me+1);let wt;if(ot[Me]){const it=await ot[Me].arrayBuffer();wt=await Cd(it)}else wt=n;for(const it of fe){const ft=XZ(wt.data,wt.width,wt.height,a,it,!1,b,{rows:F,rowGroup:T,cols:W,colGroup:R},w,j);ft&&(Ue[it]||(Ue[it]={h:new Array(ft.avgHoriz.length).fill(0),v:new Array(ft.avgVert.length).fill(0)}),ft.avgHoriz.forEach((Je,nn)=>Ue[it].h[nn]+=Je/Ct),ft.avgVert.forEach((Je,nn)=>Ue[it].v[nn]+=Je/Ct),He=ft.sampleCount)}}if(Object.keys(Ue).length===0)throw new Error("ROI too small or no data found.");const Rt=1024,Lt=[];for(let Me=0;Me<Rt;Me++){const wt=Me/(Rt-1)*.5,it={freq:parseFloat(wt.toFixed(6))};for(const ft of fe)Ue[ft]&&(it[`c${ft}_h`]=C2(Ue[ft].h,wt),it[`c${ft}_v`]=C2(Ue[ft].v,wt));Lt.push(it)}jn(He),rt(Lt)}catch(fe){console.error("FFT Loop Failed:",fe),sr(fe.message||"Unknown error during FFT processing")}finally{Zt(!1)}},100);return()=>clearTimeout(ee)},[e,n,a==null?void 0:a.x,a==null?void 0:a.y,a==null?void 0:a.w,a==null?void 0:a.h,p,b,w,j,F,T,W,R,h]);const Jr=()=>{const ee=parseFloat(V),fe=parseFloat(ge);if(isNaN(ee)||isNaN(fe))return;const ot={},Ct=p===-1?[0,1,2,3]:[p],Ue=We.filter(He=>He.freq>=ee&&He.freq<=fe);if(Ue.length===0){Qr({});return}Ct.forEach(He=>{let Rt=0,Lt=0;Ue.forEach(Me=>{const wt=Me[`c${He}_h`],it=Me[`c${He}_v`];typeof wt=="number"&&(Rt+=wt),typeof it=="number"&&(Lt+=it)}),ot[He]={h:Rt/Ue.length,v:Lt/Ue.length,count:Ue.length}}),Qr(ot)},en=O.useMemo(()=>{const ee=parseFloat(te),fe=parseInt(G),ot=parseFloat(ce),Ct=parseFloat(xe);if(isNaN(ee)||isNaN(fe)||isNaN(ot)||isNaN(Ct)||We.length===0)return We;const Ue=eQ(fe,ee),He=Ue.reduce((Me,wt)=>Me+wt*wt,0),Rt=(fe-1)/2,Lt=ot*ot*Ct;return We.map(Me=>{const wt=Me.freq,it=2*Math.PI*wt;let ft=0,Je=0;for(let De=0;De<fe;De++){const de=De-Rt,zr=Ue[De],ma=-it*de;ft+=zr*Math.cos(ma),Je+=zr*Math.sin(ma)}const nn=ft*ft+Je*Je;return{...Me,theory:Math.max(wm,Lt*He*nn)}})},[We,te,G,ce,xe]),tn=ee=>{ee&&ee.activeLabel!==void 0&&(nr(!0),Pt(Number(ee.activeLabel)),fr(null))},rn=ee=>{if(dr&&lr!==null&&ee&&ee.activeLabel!==void 0){const fe=Number(ee.activeLabel);fr([Math.min(lr,fe),Math.max(lr,fe)])}},Rn=()=>nr(!1),_t=ee=>{l&&l(),!(ee.target.closest("button")||ee.target.closest("input"))&&(hr(!0),at.current={x:ee.clientX-Ke.x,y:ee.clientY-Ke.y})};O.useEffect(()=>{const ee=ot=>{Jt&&Dt({x:ot.clientX-at.current.x,y:ot.clientY-at.current.y})},fe=()=>hr(!1);return Jt&&(window.addEventListener("mousemove",ee),window.addEventListener("mouseup",fe)),()=>{window.removeEventListener("mousemove",ee),window.removeEventListener("mouseup",fe)}},[Jt]);const K=O.useMemo(()=>{if(!Kt||We.length===0)return null;const[ee,fe]=Kt,ot=We.filter(He=>He.freq>=ee&&He.freq<=fe);if(ot.length===0)return null;const Ct=p===-1?[0,1,2,3]:[p],Ue={};return Ct.forEach(He=>{["h","v"].forEach(Rt=>{const Lt=`c${He}_${Rt}`;let Me=0,wt=0;for(const it of ot){const ft=it[Lt];typeof ft=="number"&&(Me+=ft,wt++)}wt>0&&(Ue[`${Lt}_sigma`]=Math.sqrt(Me/wt))})}),{count:ot.length,stats:Ue}},[Kt,We,p]),$e=()=>{if(We.length===0)return;let ee=1/0,fe=-1/0;if(We.forEach(Rt=>{Rt.freq<.01||Rt.freq>.49||Object.keys(Rt).forEach(Lt=>{if(Lt==="freq"||Lt==="theory")return;const Me=Rt[Lt];typeof Me=="number"&&Me>0&&(Me<ee&&(ee=Me),Me>fe&&(fe=Me))})}),ee===1/0)return;const ot=Math.log10(ee),Ct=Math.log10(fe),Ue=Ct-ot,He=(Ue===0?1:Ue)*.1;x((ot-He).toFixed(2)),g((Ct+He).toFixed(2))},Nt=(ee,fe)=>{a&&i&&i({...a,x:a.x+ee,y:a.y+fe})},Qe=(ee,fe)=>{a&&i&&i({...a,w:Math.max(2,a.w+ee),h:Math.max(2,a.h+fe)})};return e?u.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl overflow-hidden resize-both min-w-[750px] min-h-[500px]",style:{left:Ke.x,top:Ke.y,width:"1000px",height:"850px",zIndex:s??100},onMouseDownCapture:l,children:[u.jsxs("div",{className:`flex justify-between items-center p-3 border-b border-gray-200 dark:border-slate-700 flex-shrink-0 bg-gray-50 dark:bg-slate-800 z-50 relative select-none ${Jt?"cursor-grabbing":"cursor-grab"}`,onMouseDown:_t,children:[u.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2 pointer-events-none",children:["Power Spectrum Analysis",u.jsx("span",{className:"text-[10px] font-normal bg-white dark:bg-slate-700 px-2 py-1 rounded text-gray-500 border border-gray-200 dark:border-slate-600 shadow-sm",children:h&&h.length>1?`Stack Avg (${h.length} frames)`:"Single Mode"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[r&&u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsxs("div",{className:"flex flex-col bg-gray-50 dark:bg-slate-900/80 border-b border-gray-200 dark:border-slate-800 flex-shrink-0 z-40 relative px-4 py-3 gap-3 overflow-x-auto",children:[u.jsxs("div",{className:"flex items-center gap-6",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-[10px] font-bold text-gray-500 dark:text-slate-400 uppercase tracking-widest",children:"Channel"}),u.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-800 rounded-lg p-0.5 border border-gray-200 dark:border-slate-700 shadow-inner",children:[u.jsx("button",{onClick:()=>m(-1),className:`px-3 py-1 rounded text-[10px] font-bold transition-all ${p===-1?"bg-slate-700 text-white shadow-md":"text-gray-500 dark:text-slate-500 hover:bg-white dark:hover:bg-slate-700"}`,children:"All"}),[0,1,2,3].map(ee=>u.jsx("button",{onClick:()=>m(ee),className:`px-3 py-1 rounded text-[10px] font-bold transition-all ${p===ee?"bg-cyan-600 text-white shadow-md":"text-gray-500 dark:text-slate-500 hover:bg-white dark:hover:bg-slate-700"}`,children:xr[ee]},ee))]})]}),u.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700 mx-2"}),u.jsxs("button",{onClick:()=>je(!0),className:"flex items-center gap-1.5 px-4 py-1.5 bg-indigo-600 hover:bg-indigo-500 text-white text-[10px] font-bold rounded-lg shadow-lg shadow-indigo-500/30 transition-all active:scale-95 group border border-indigo-400/30",children:[u.jsx("svg",{className:"w-3.5 h-3.5 group-hover:animate-pulse",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"2D Diagonal"]}),u.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700 mx-2"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-400 uppercase tracking-widest",children:"Model"}),u.jsx("div",{className:"flex gap-2",children:[{label:"KSize",val:G,set:U,w:"w-10"},{label:"Sigma",val:te,set:X,w:"w-12"},{label:"Noise()",val:ce,set:ue,w:"w-12"},{label:"Scale",val:xe,set:ve,w:"w-12"}].map(ee=>u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("label",{className:"text-[8px] text-gray-400 dark:text-slate-500 uppercase font-bold mb-0.5",children:ee.label}),u.jsx("input",{type:"text",value:ee.val,onChange:fe=>ee.set(fe.target.value),className:`${ee.w} text-[11px] bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded px-1.5 py-0.5 text-center text-gray-900 dark:text-slate-100 outline-none focus:border-indigo-500 shadow-sm`})]},ee.label))})]})]}),u.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[u.jsxs("div",{className:"flex items-center gap-3 mr-2",children:[u.jsx("span",{className:"text-[10px] font-bold text-fuchsia-600 dark:text-fuchsia-500 uppercase tracking-widest",children:"Welch"}),u.jsx("input",{type:"range",min:"1",max:"16",step:"1",value:j,onChange:ee=>P(parseInt(ee.target.value)),className:"w-24 h-1.5 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-fuchsia-500"}),u.jsx("span",{className:"text-[10px] font-mono text-fuchsia-600 dark:text-fuchsia-400 w-4 font-bold",children:j})]}),u.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700"}),u.jsxs("div",{className:"flex flex-col gap-1 px-2",children:[u.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer text-[10px] text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 select-none",children:[u.jsx("input",{type:"checkbox",checked:F,onChange:ee=>D(ee.target.checked),className:"w-3 h-3 rounded text-cyan-600 border-gray-300 dark:border-slate-700 bg-white dark:bg-slate-800"})," Row Int."]}),u.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer text-[10px] text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 select-none",children:[u.jsx("input",{type:"checkbox",checked:W,onChange:ee=>L(ee.target.checked),className:"w-3 h-3 rounded text-cyan-600 border-gray-300 dark:border-slate-700 bg-white dark:bg-slate-800"})," Col Int."]})]}),u.jsxs("div",{className:"flex flex-col gap-1.5 bg-gray-100 dark:bg-slate-800/60 p-1.5 rounded-lg border border-gray-200 dark:border-slate-700",children:[u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[u.jsx("div",{className:`w-3.5 h-3.5 rounded-md border flex items-center justify-center transition-colors ${b?"bg-fuchsia-600 border-fuchsia-600":"bg-white dark:bg-slate-900 border-gray-300 dark:border-slate-600"}`,children:b&&u.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:4,children:u.jsx("path",{d:"M5 13l4 4L19 7"})})}),u.jsx("input",{type:"checkbox",checked:b,onChange:ee=>S(ee.target.checked),className:"hidden"}),u.jsx("span",{className:"text-[10px] font-bold text-gray-700 dark:text-slate-300",children:"Hanning"})]}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[u.jsx("div",{className:`w-3.5 h-3.5 rounded-md border flex items-center justify-center transition-colors ${w?"bg-cyan-600 border-cyan-600":"bg-white dark:bg-slate-900 border-gray-300 dark:border-slate-600"}`,children:w&&u.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:4,children:u.jsx("path",{d:"M5 13l4 4L19 7"})})}),u.jsx("input",{type:"checkbox",checked:w,onChange:ee=>k(ee.target.checked),className:"hidden"}),u.jsx("span",{className:"text-[10px] font-bold text-gray-700 dark:text-slate-300",children:"Average"})]})]}),u.jsxs("div",{className:"flex gap-2 bg-gray-100 dark:bg-slate-800 p-1 rounded-lg border border-gray-200 dark:border-slate-700",children:[u.jsxs("button",{onClick:()=>A(!_),className:`px-2.5 py-1 rounded-md border text-[11px] font-bold transition-all flex items-center gap-1.5 ${_?"bg-cyan-900/40 text-cyan-400 border-cyan-500 shadow-[0_0_8px_rgba(6,182,212,0.3)]":"bg-white dark:bg-slate-900 text-gray-400 border-gray-300 dark:border-slate-700"}`,children:[u.jsx("div",{className:`w-2 h-2 rounded-full ${_?"bg-cyan-400":"bg-gray-400"}`})," H"]}),u.jsxs("button",{onClick:()=>E(!N),className:`px-2.5 py-1 rounded-md border text-[11px] font-bold transition-all flex items-center gap-1.5 ${N?"bg-cyan-900/40 text-cyan-400 border-cyan-500 shadow-[0_0_8px_rgba(6,182,212,0.3)]":"bg-white dark:bg-slate-900 text-gray-400 border-gray-300 dark:border-slate-700"}`,children:[u.jsx("div",{className:`w-2 h-2 rounded-full ${N?"bg-cyan-400":"bg-gray-400"}`})," V"]})]}),u.jsxs("div",{className:"ml-auto flex gap-2",children:[u.jsx("button",{onClick:()=>Dn(!Vt),className:`px-3 py-1.5 rounded-lg text-[10px] font-bold transition-all border ${Vt?"bg-emerald-600 text-white border-emerald-600 shadow-md":"bg-white dark:bg-slate-900 text-emerald-600 dark:text-emerald-400 border-emerald-200 dark:border-emerald-800 hover:bg-emerald-50"}`,children:""}),u.jsx("button",{onClick:()=>Fr(!Qt),className:`px-3 py-1.5 rounded-lg text-[10px] font-bold transition-all border ${Qt?"bg-indigo-600 text-white border-indigo-600 shadow-md":"bg-white dark:bg-slate-900 text-indigo-600 dark:text-indigo-400 border-indigo-200 dark:border-indigo-800 hover:bg-indigo-50"}`,children:"ROI"})]})]}),u.jsxs("div",{className:"flex items-center gap-4 justify-end border-t border-gray-200 dark:border-slate-800/50 pt-2.5",children:[u.jsx("button",{onClick:$e,className:"px-4 py-1 text-[10px] font-bold bg-cyan-600/10 text-cyan-600 dark:text-cyan-400 hover:bg-cyan-600/20 rounded-md border border-cyan-500/30 transition-all uppercase tracking-widest shadow-sm",children:"Auto"}),u.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-gray-500 dark:text-slate-400 uppercase",children:["Y-AXIS (LOG)",u.jsxs("div",{className:"flex items-center bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-md overflow-hidden shadow-sm",children:[u.jsx("input",{type:"text",value:v,onChange:ee=>x(ee.target.value),className:"w-14 px-2 py-1 bg-transparent text-center outline-none text-gray-900 dark:text-slate-100 border-r border-gray-200 dark:border-slate-700"}),u.jsx("span",{className:"px-2 text-gray-400",children:"to"}),u.jsx("input",{type:"text",value:y,onChange:ee=>g(ee.target.value),className:"w-14 px-2 py-1 bg-transparent text-center outline-none text-gray-900 dark:text-slate-100"})]})]})]})]}),u.jsxs("div",{className:"flex-1 p-4 overflow-hidden flex flex-col gap-2 relative bg-gray-50/30 dark:bg-slate-900/30",children:[u.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none z-[50] select-none opacity-10",children:u.jsx("svg",{viewBox:"0 0 500 100",className:"w-3/4 h-auto drop-shadow-lg",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"24",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),bt&&u.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-[55] bg-white/90 dark:bg-slate-900/90 backdrop-blur-[2px]",children:[u.jsx("div",{className:"w-10 h-10 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mb-4"}),u.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:"Computing FFT Stack..."}),h&&h.length>1&&u.jsxs("span",{className:"text-xs text-gray-500 mt-2 font-mono",children:["Processing frame ",$t," / ",h.length]})]}),nt?u.jsx("div",{className:"flex items-center justify-center h-full text-red-500 font-semibold",children:nt}):u.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-950 border border-gray-200 dark:border-slate-800 rounded-xl p-2 flex flex-col relative z-20 shadow-xl overflow-hidden",children:[u.jsx("div",{className:"flex-1 relative z-10",onMouseDown:tn,onMouseMove:rn,onMouseUp:Rn,style:{cursor:dr?"col-resize":"crosshair"},children:u.jsx(ks,{width:"100%",height:"100%",children:u.jsxs(Sv,{data:en,margin:{top:10,right:10,bottom:20,left:0},children:[u.jsx(ji,{strokeDasharray:"3 3",stroke:"#374151",opacity:.08}),u.jsx(ha,{dataKey:"freq",type:"number",domain:[0,.5],tickCount:6,tick:{fill:"#6b7280",fontSize:10},label:{value:"Frequency (cy/px)",position:"insideBottom",offset:-10,fill:"#6b7280",fontSize:11}}),u.jsx(pa,{scale:"log",domain:[Math.pow(10,parseFloat(v)),Math.pow(10,parseFloat(y))],allowDataOverflow:!0,tick:{fill:"#6b7280",fontSize:10},tickFormatter:ee=>Number(ee).toExponential(0),width:45}),u.jsx(cn,{contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.95)",border:"1px solid #334155",color:"#f3f4f6",fontSize:"11px",borderRadius:"8px"},formatter:ee=>[Number(ee).toExponential(3),""],labelFormatter:ee=>`Freq: ${Number(ee).toFixed(4)}`}),u.jsx(Ha,{wrapperStyle:{fontSize:"10px"}}),u.jsx(Yr,{type:"monotone",dataKey:"theory",name:"Theory Model",stroke:"#6366f1",strokeWidth:2,dot:!1,isAnimationActive:!1}),[0,1,2,3].flatMap(ee=>{if(p!==-1&&p!==ee)return[];const fe=`c${ee}_h`,ot=`c${ee}_v`,Ct=_r[`c${ee}`],Ue=[];return _&&Ue.push(u.jsx(Yr,{type:"linear",dataKey:fe,name:`${xr[ee]} (H)`,stroke:Ct,strokeWidth:1,dot:!1,isAnimationActive:!1},`${ee}_h`)),N&&Ue.push(u.jsx(Yr,{type:"linear",dataKey:ot,name:`${xr[ee]} (V)`,stroke:Ct,strokeWidth:1,strokeDasharray:"3 3",dot:!1,isAnimationActive:!1},`${ee}_v`)),Ue}),Kt&&u.jsx(lu,{x1:Kt[0],x2:Kt[1],fill:"#8884d8",fillOpacity:.15})]})})}),K&&Kt&&u.jsxs("div",{className:"absolute bottom-12 left-12 bg-slate-900/90 backdrop-blur-md p-3 rounded-lg border border-indigo-500/50 shadow-2xl z-30 text-[10px] font-mono text-slate-100",children:[u.jsxs("div",{className:"text-indigo-400 font-bold mb-1 border-b border-indigo-500/30 pb-1",children:["Range: ",Kt[0].toFixed(3),"-",Kt[1].toFixed(3)]}),Object.entries(K.stats).map(([ee,fe])=>u.jsxs("div",{className:"flex justify-between gap-4",children:[u.jsxs("span",{className:"text-slate-400",children:[ee,":"]}),u.jsx("span",{className:"font-bold text-cyan-400",children:fe.toFixed(5)})]},ee))]})]})]}),Vt&&u.jsxs("div",{className:"absolute top-48 right-8 z-[55] w-72 bg-white dark:bg-slate-900 rounded-xl shadow-2xl border border-gray-200 dark:border-slate-700 p-4 animate-in slide-in-from-top-2",children:[u.jsx("h4",{className:"text-[10px] uppercase font-bold text-emerald-600 dark:text-emerald-400 mb-2 border-b border-gray-100 dark:border-slate-800 pb-1",children:"Range Averaging"}),u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx("input",{type:"number",step:"0.01",value:V,onChange:ee=>le(ee.target.value),className:"w-16 px-1 py-0.5 text-xs border rounded bg-transparent dark:border-slate-600 dark:text-white"}),u.jsx("span",{className:"text-gray-400",children:"-"}),u.jsx("input",{type:"number",step:"0.01",value:ge,onChange:ee=>Z(ee.target.value),className:"w-16 px-1 py-0.5 text-xs border rounded bg-transparent dark:border-slate-600 dark:text-white"}),u.jsx("button",{onClick:Jr,className:"flex-1 bg-emerald-600 text-white text-[10px] font-bold py-1 rounded",children:"Avg"})]}),u.jsx("div",{className:"flex flex-col gap-2 max-h-48 overflow-y-auto",children:[0,1,2,3].map(ee=>{const fe=Xt[ee];if(!fe)return null;const ot=_r[`c${ee}`];return u.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800/50 p-2 rounded text-[10px] border border-gray-100 dark:border-slate-800",children:[u.jsxs("div",{className:"flex items-center gap-2 font-bold mb-1",style:{color:ot},children:[xr[ee]," ",u.jsxs("span",{className:"text-gray-400 font-normal",children:["(",fe.count," pts)"]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-x-2 text-gray-700 dark:text-slate-300 font-mono",children:[u.jsxs("div",{children:["H: ",fe.h.toExponential(3)]}),u.jsxs("div",{children:["V: ",fe.v.toExponential(3)]})]})]},ee)})})]}),Qt&&u.jsx("div",{className:"absolute top-48 right-8 z-[55] w-56 bg-white dark:bg-slate-900 rounded-xl shadow-2xl border border-gray-200 dark:border-slate-700 p-4 animate-in slide-in-from-top-2",children:u.jsxs("div",{className:"flex flex-col gap-3",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"text-[9px] uppercase font-bold text-gray-400 mb-1",children:"Move"}),u.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[u.jsx("div",{}),u.jsx("button",{onClick:()=>Nt(0,-1),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),u.jsx("div",{}),u.jsx("button",{onClick:()=>Nt(-1,0),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),u.jsx("div",{}),u.jsx("button",{onClick:()=>Nt(1,0),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),u.jsx("div",{}),u.jsx("button",{onClick:()=>Nt(0,1),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),u.jsx("div",{})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-[9px] uppercase font-bold text-gray-400 mb-1",children:"Size"}),u.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[u.jsx("button",{onClick:()=>Qe(2,0),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"W+"}),u.jsx("button",{onClick:()=>Qe(-2,0),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"W-"}),u.jsx("button",{onClick:()=>Qe(0,2),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"H+"}),u.jsx("button",{onClick:()=>Qe(0,-2),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"H-"})]})]})]})}),u.jsx(QZ,{isOpen:Xe,onClose:()=>je(!1),rawImageData:n,roi:a,selectedChannel:p===-1?0:p,channelName:p===-1?"Red (Default)":xr[p],zIndex:s?s+2:102,onFocus:l})]}):null},rQ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,zIndex:i,onFocus:s,initialPosition:l,initialInternalState:c,onUpdateState:f})=>{const[d,h]=O.useState((c==null?void 0:c.selectedChannelKey)||"G1"),[p,m]=O.useState((c==null?void 0:c.blackLevel)??0),[v,x]=O.useState((c==null?void 0:c.whiteLevel)??16383),[y,g]=O.useState(null),[b,S]=O.useState(!1),[w,k]=O.useState(null),[j,P]=O.useState(l||{x:150,y:150}),[_,A]=O.useState(!1),N=O.useRef({x:0,y:0});O.useEffect(()=>{f&&f({selectedChannelKey:d,blackLevel:p,whiteLevel:v})},[d,p,v]),O.useEffect(()=>{if(e&&n&&!c){const T=n.blackLevels?Math.floor(n.blackLevels[1]):0;m(T),x(n.whiteLevel||16383),g(null)}},[e,n]);const E=()=>{if(!n||!a)return;k(null),S(!0);const I=(o?{B:0,G1:1,G2:2,R:3}:{R:0,G1:1,G2:2,B:3})[d];setTimeout(()=>{try{const W=qZ(n.data,n.width,n.height,a,I,p,v);W?g(W):(k("No data found in selection with current filters."),g(null))}catch(W){console.error("Analysis failed:",W),k(W.message||"Analysis error")}finally{S(!1)}},50)},F=T=>{s&&s(),!(T.target.closest("button")||T.target.closest("input")||T.target.closest("select"))&&(A(!0),N.current={x:T.clientX-j.x,y:T.clientY-j.y})};if(O.useEffect(()=>{const T=W=>{_&&P({x:W.clientX-N.current.x,y:W.clientY-N.current.y})},I=()=>A(!1);return _&&(window.addEventListener("mousemove",T),window.addEventListener("mouseup",I)),()=>{window.removeEventListener("mousemove",T),window.removeEventListener("mouseup",I)}},[_]),!e)return null;const D=o?["B","G1","G2","R"]:["R","G1","G2","B"];return u.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl resize-both overflow-hidden min-w-[500px] min-h-[400px] w-[900px] h-[700px]",style:{left:j.x,top:j.y,zIndex:i??100},onMouseDownCapture:s,children:[u.jsxs("div",{className:`flex justify-between items-center p-4 border-b border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-900 select-none ${_?"cursor-grabbing":"cursor-grab"}`,onMouseDown:F,children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2 pointer-events-none",children:"Quantization Step Analysis"}),u.jsxs("div",{className:"flex items-center gap-1",children:[r&&u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 p-2",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800/50 border-b border-gray-200 dark:border-slate-700 flex flex-wrap gap-4 items-end flex-shrink-0",children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Channel"}),u.jsx("select",{value:d,onChange:T=>h(T.target.value),className:"bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded px-3 py-1.5 text-sm text-gray-900 dark:text-slate-100 outline-none focus:ring-1 focus:ring-cyan-500 min-w-[80px]",children:D.map(T=>u.jsx("option",{value:T,children:T},T))})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Black Level"}),u.jsx("input",{type:"number",value:p,onChange:T=>m(Number(T.target.value)),className:"w-24 px-3 py-1.5 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-sm text-gray-900 dark:text-slate-100"})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"White Level"}),u.jsx("input",{type:"number",value:v,onChange:T=>x(Number(T.target.value)),className:"w-24 px-3 py-1.5 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-sm text-gray-900 dark:text-slate-100"})]}),u.jsx("button",{onClick:E,disabled:b,className:"mb-0.5 px-5 py-1.5 bg-cyan-600 hover:bg-cyan-500 text-white font-bold rounded shadow-sm hover:shadow transition-colors disabled:opacity-50 text-sm",children:b?"Analyzing...":"Run Analysis"})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-4 flex flex-col gap-4 bg-white dark:bg-slate-900 min-h-0",children:[w&&u.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded text-sm text-center flex-shrink-0",children:w}),!y&&!b&&!w&&u.jsx("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400 dark:text-slate-500 h-full",children:u.jsx("p",{children:"Configure parameters and click Run Analysis"})}),y&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 flex-shrink-0",children:[u.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700 text-center",children:[u.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 uppercase mb-1",children:"Unique Codes"}),u.jsx("div",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:y.uniqueCount})]}),u.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700 text-center",children:[u.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 uppercase mb-1",children:"Total Diffs"}),u.jsx("div",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:y.diffCount})]})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700 overflow-hidden flex-shrink-0",children:[u.jsx("div",{className:"px-4 py-2 bg-gray-50 dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700 text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Step Distribution"}),u.jsx("div",{className:"p-4 flex flex-wrap gap-x-8 gap-y-2 text-sm font-mono max-h-32 overflow-y-auto",children:Object.entries(y.stepCounts).sort((T,I)=>parseFloat(T[0])-parseFloat(I[0])).map(([T,I])=>u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("span",{className:"text-gray-500 dark:text-slate-400",children:["Step ",T,":"]}),u.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:String(I)})]},T))})]}),u.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 rounded-xl p-2 relative overflow-hidden min-h-[300px]",children:[u.jsx("div",{className:"absolute top-2 left-4 text-xs font-bold text-gray-400 dark:text-slate-500 pointer-events-none z-20 bg-white/80 dark:bg-slate-900/80 px-2 rounded",children:"Step Size vs Code Value"}),u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-0 pointer-events-none select-none opacity-10 mix-blend-normal dark:mix-blend-plus-lighter",children:u.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),u.jsx("div",{className:"relative z-10 w-full h-full",children:u.jsx(ks,{width:"100%",height:"100%",children:u.jsxs(Sv,{data:y.plotData,margin:{top:20,right:20,bottom:20,left:10},children:[u.jsx(ji,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),u.jsx(ha,{dataKey:"x",type:"number",domain:["auto","auto"],tick:{fill:"#9ca3af",fontSize:10},label:{value:"Code Value (Shifted)",position:"insideBottom",offset:-10,fill:"#9ca3af",fontSize:11}}),u.jsx(pa,{tick:{fill:"#9ca3af",fontSize:10},domain:[0,"auto"],allowDataOverflow:!1,label:{value:"Step Size (Delta)",angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:11}}),u.jsx(cn,{contentStyle:{backgroundColor:"rgba(17, 24, 39, 0.95)",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6",fontSize:"12px"},labelFormatter:T=>`Val: ${T}`,formatter:T=>[T,"Step Size"]}),u.jsx(Yr,{type:"stepAfter",dataKey:"y",stroke:"#0891b2",strokeWidth:1.5,dot:{r:1.5,fill:"#0891b2",strokeWidth:0},activeDot:{r:4},isAnimationActive:!1})]})})})]})]})]})]})},nQ=({isOpen:e,onClose:t,rawImageData:r,roi:n,isBGGR:a,zIndex:o,onFocus:i,initialPosition:s,stackFiles:l})=>{const[c,f]=O.useState("cross"),[d,h]=O.useState("R"),[p,m]=O.useState("B"),[v,x]=O.useState("H"),[y,g]=O.useState(null),[b,S]=O.useState(!1),[w,k]=O.useState(0),[j,P]=O.useState(0),[_,A]=O.useState("single"),N=a?{B:0,G1:1,G2:2,R:3}:{R:0,G1:1,G2:2,B:3},E=a?["B","G1","G2","R"]:["R","G1","G2","B"],F=async D=>{if(!r||!n)return;S(!0),A(D),k(0),g(null);let T=N[d],I=c==="cross"?N[p]:T,W=0,L=0;c==="self"&&(v==="H"?L=2:W=2),setTimeout(async()=>{try{let R={sumCov:0,sumVar1:0,sumVar2:0,n:0};if(D==="single")R=A2(r.data,r.width,r.height,n,T,I,W,L);else if(l&&l.length>0)for(let B=0;B<l.length;B++){k(B+1);const te=await l[B].arrayBuffer(),X=await Cd(te),G=A2(X.data,X.width,X.height,n,T,I,W,L);R.sumCov+=G.sumCov,R.sumVar1+=G.sumVar1,R.sumVar2+=G.sumVar2,R.n+=G.n}P(R.n),g(VZ(R))}catch(R){console.error("Pearson calculation failed",R),alert("Calculation error: "+R.message)}finally{S(!1)}},50)};return e?u.jsxs(Dh,{initialPosition:s||{x:200,y:200},onClose:t,zIndex:o,onFocus:i,className:"w-80 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 flex flex-col shadow-2xl overflow-hidden",children:[u.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800",children:[u.jsxs("h3",{className:"text-sm font-bold text-gray-700 dark:text-slate-200 flex items-center gap-2",children:["Pearson Correlation",u.jsx("span",{className:"text-[10px] font-normal bg-white dark:bg-slate-700 px-1.5 py-0.5 rounded border border-gray-200 dark:border-slate-600",children:"r"})]}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"p-4 flex flex-col gap-4",children:[u.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-800 p-1 rounded-lg border border-gray-200 dark:border-slate-700",children:[u.jsx("button",{onClick:()=>f("cross"),className:`flex-1 py-1 text-[10px] font-bold rounded transition-all ${c==="cross"?"bg-indigo-600 text-white shadow":"text-gray-500 dark:text-slate-400 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:"Cross-Channel"}),u.jsx("button",{onClick:()=>f("self"),className:`flex-1 py-1 text-[10px] font-bold rounded transition-all ${c==="self"?"bg-indigo-600 text-white shadow":"text-gray-500 dark:text-slate-400 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:"Self-Adjacent"})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"flex-1 flex flex-col gap-1",children:[u.jsx("label",{className:"text-[9px] uppercase font-bold text-gray-400",children:c==="cross"?"Channel 1":"Channel"}),u.jsx("select",{value:d,onChange:D=>h(D.target.value),className:"bg-gray-100 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded px-2 py-1.5 text-xs text-gray-700 dark:text-slate-200 outline-none focus:ring-1 focus:ring-indigo-500",children:E.map(D=>u.jsx("option",{value:D,children:D},D))})]}),u.jsx("div",{className:"text-gray-300 dark:text-slate-600 mt-4 font-mono",children:c==="cross"?"":""}),u.jsxs("div",{className:"flex-1 flex flex-col gap-1",children:[u.jsx("label",{className:"text-[9px] uppercase font-bold text-gray-400",children:c==="cross"?"Channel 2":"Direction"}),c==="cross"?u.jsx("select",{value:p,onChange:D=>m(D.target.value),className:"bg-gray-100 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded px-2 py-1.5 text-xs text-gray-700 dark:text-slate-200 outline-none focus:ring-1 focus:ring-indigo-500",children:E.map(D=>u.jsx("option",{value:D,children:D},D))}):u.jsxs("div",{className:"flex h-[28px] bg-gray-100 dark:bg-slate-800 rounded border border-gray-200 dark:border-slate-700 p-0.5",children:[u.jsx("button",{onClick:()=>x("H"),className:`flex-1 text-[9px] font-bold rounded ${v==="H"?"bg-slate-300 dark:bg-slate-600 text-indigo-600 dark:text-indigo-400":"text-gray-400"}`,children:"Horiz"}),u.jsx("button",{onClick:()=>x("V"),className:`flex-1 text-[9px] font-bold rounded ${v==="V"?"bg-slate-300 dark:bg-slate-600 text-indigo-600 dark:text-indigo-400":"text-gray-400"}`,children:"Vert"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[u.jsx("button",{onClick:()=>F("single"),disabled:b,className:"w-full py-2 bg-indigo-600 hover:bg-indigo-500 disabled:bg-gray-400 text-white font-bold rounded shadow-md transition-all active:scale-95 text-xs",children:b&&_==="single"?"Calculating...":"Calc Current Frame"}),l&&l.length>0&&u.jsxs("button",{onClick:()=>F("stack"),disabled:b,className:"w-full py-2 bg-emerald-600 hover:bg-emerald-500 disabled:bg-gray-400 text-white font-bold rounded shadow-md transition-all active:scale-95 text-xs flex flex-col items-center justify-center",children:[u.jsx("span",{children:"Calc Stack Concatenated"}),b&&_==="stack"&&u.jsxs("span",{className:"text-[9px] font-normal opacity-80",children:["Progress: ",w," / ",l.length]})]})]}),y!==null&&u.jsxs("div",{className:"mt-2 p-4 bg-gray-50 dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700 text-center animate-in fade-in slide-in-from-top-2",children:[u.jsxs("div",{className:"text-[10px] uppercase font-bold text-gray-400 dark:text-slate-500 mb-1",children:[c==="cross"?"Cross-Channel":`Self-Adj (${v})`," r"]}),u.jsx("div",{className:"text-2xl font-mono font-bold text-indigo-600 dark:text-indigo-400 select-all",style:{fontSize:"24px"},children:y.toFixed(5)}),u.jsxs("div",{className:"text-[9px] text-gray-400 mt-2 font-mono",children:["N = ",j.toLocaleString()," pairs"]}),u.jsx("div",{className:"mt-3 text-[10px] font-bold",children:Math.abs(y)>.5?u.jsx("span",{className:"text-red-500",children:"Significant Correlation"}):Math.abs(y)>.1?u.jsx("span",{className:"text-amber-500",children:"Weak Correlation"}):u.jsx("span",{className:"text-emerald-500",children:"Near-Zero (Uncorrelated)"})})]})]}),u.jsx("div",{className:"p-3 bg-gray-50/50 dark:bg-slate-800/30 text-[9px] text-gray-400 dark:text-slate-600 italic border-t border-gray-100 dark:border-slate-800",children:c==="cross"?"Comparing two color channels in the same Bayer 2x2 cells.":`Comparing pixel (r,c) with (r${v==="V"?"+2":""}, c${v==="H"?"+2":""}) in the same channel.`})]}):null},aQ=[{href:"https://y-g-jiang.github.io/LAC.html",text:"",abbr:"LAC",description:""},{href:"https://y-g-jiang.github.io/CCGV.html",text:"adobeIECMF",abbr:"CCGV",description:"acrRAWxy"},{href:"https://y-g-jiang.github.io/JTJS.html",text:"",abbr:"JTJS",description:"CMF/"},{href:"https://y-g-jiang.github.io/CBLD.html",text:"",abbr:"CBLD",description:""},{href:"https://y-g-jiang.github.io/XJZS.html",text:"",abbr:"XJZS",description:""}],oQ=({isOpen:e,onClose:t})=>e?u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-3xl rounded-2xl shadow-2xl border border-gray-200 dark:border-slate-700 overflow-hidden flex flex-col max-h-[90vh]",onClick:r=>r.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"About / Tools"}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-1 rounded hover:bg-gray-200 dark:hover:bg-slate-700",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"p-6 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700",children:[u.jsx("div",{className:"mb-8 p-4 bg-gray-50 dark:bg-slate-800/50 rounded-xl border border-gray-100 dark:border-slate-700 text-center",children:u.jsxs("p",{className:"text-lg text-gray-700 dark:text-slate-300",children:[u.jsx("span",{className:"font-bold mr-2",children:"about:"}),u.jsx("a",{href:"https://y-g-jiang.github.io/JOindex.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline break-all font-mono",children:"https://y-g-jiang.github.io/JOindex.html"})]})}),u.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[u.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 flex-1"}),u.jsx("span",{className:"text-sm font-bold text-gray-400 dark:text-slate-500 uppercase tracking-wider",children:"Tools Collection"}),u.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 flex-1"})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:aQ.map(r=>u.jsxs("a",{href:r.href,target:"_blank",rel:"noopener noreferrer",className:"group block p-4 rounded-xl border border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-800/30 hover:bg-gray-50 dark:hover:bg-slate-800 hover:border-cyan-500 dark:hover:border-cyan-500 hover:shadow-md transition-all duration-200 relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-gradient-to-bl from-cyan-500/5 to-transparent -mr-8 -mt-8 rounded-full pointer-events-none group-hover:from-cyan-500/10 transition-colors"}),u.jsxs("div",{className:"flex items-center gap-3 mb-2 relative z-10",children:[u.jsx("span",{className:"px-2 py-1 text-xs font-bold bg-gray-100 dark:bg-slate-700 text-gray-600 dark:text-slate-300 group-hover:bg-cyan-100 dark:group-hover:bg-cyan-900/50 group-hover:text-cyan-700 dark:group-hover:text-cyan-300 rounded transition-colors border border-gray-200 dark:border-slate-600 group-hover:border-cyan-200 dark:group-hover:border-cyan-800",children:r.abbr}),u.jsx("h3",{className:"font-bold text-gray-800 dark:text-slate-200 group-hover:text-cyan-600 dark:group-hover:text-cyan-400 transition-colors",children:r.text})]}),u.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 pl-1 group-hover:text-gray-600 dark:group-hover:text-slate-300 transition-colors relative z-10",children:r.description})]},r.abbr))})]})]})}):null,iQ=({isOpen:e,onClose:t,data:r,fileName:n,warning:a})=>{const[o,i]=O.useState(""),s=f=>{const d=new WeakSet;try{return JSON.stringify(f,(h,p)=>{if(typeof p=="bigint")return p.toString()+"n";if(typeof p=="object"&&p!==null){if(d.has(p))return"[Circular]";if(d.add(p),ArrayBuffer.isView(p))return`[${p.constructor.name}]`}return p})}catch{return"[Unable to serialize object]"}},l=O.useMemo(()=>{if(!r)return[];const f=[],d=(h,p=0)=>{if(p>5)return"...";if(h==null)return String(h);if(h instanceof Date)return h.toLocaleString();if(typeof h=="number")return h.toString();if(typeof h=="string")return h;if(typeof h=="bigint")return h.toString()+"n";if(ArrayBuffer.isView(h))return`<${h.constructor.name} len=${h.length} bytes=${h.byteLength}>`;if(h instanceof ArrayBuffer)return`<ArrayBuffer bytes=${h.byteLength}>`;if(typeof h=="object"){if(Array.isArray(h))return h.length===0?"[]":h.length>20?`[${h.slice(0,10).map(x=>typeof x=="number"?x.toFixed(2):d(x,p+1)).join(", ")}, ... (+${h.length-10} more)]`:`[${h.map(v=>typeof v=="number"?Number.isInteger(v)?v:v.toFixed(4):d(v,p+1)).join(", ")}]`;try{const m=Object.keys(h);return m.length>5?`{Object with ${m.length} keys}`:s(h)}catch{return"<Complex Object>"}}return String(h)};try{if(typeof r!="object")return[{key:"Value",value:String(r)}];Object.keys(r).sort().forEach(p=>{if(p==="MakerNote"||p==="UserComment"||p.includes("Strip")||p.includes("Offset")){f.push({key:p,value:"<Binary/Internal Data>"});return}const m=r[p];f.push({key:p,value:d(m)})})}catch(h){console.error("Error processing EXIF data:",h),f.push({key:"Error",value:"Failed to process metadata structure."})}return f},[r]);if(!e)return null;const c=l.filter(f=>f.key.toLowerCase().includes(o.toLowerCase())||f.value.toLowerCase().includes(o.toLowerCase()));return u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-3xl max-h-[90vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700",onClick:f=>f.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700",children:[u.jsxs("div",{className:"overflow-hidden",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:"EXIF Data"}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1 font-mono truncate",children:n})]}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-2 rounded-full hover:bg-gray-100 dark:hover:bg-slate-800",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a&&u.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 px-4 py-2 border-b border-amber-100 dark:border-amber-800/50 text-center",children:u.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 whitespace-pre-line font-medium leading-relaxed",children:a})}),u.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:u.jsxs("div",{className:"relative",children:[u.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),u.jsx("input",{type:"text",placeholder:"Search tags...",value:o,onChange:f=>i(f.target.value),className:"w-full pl-9 pr-4 py-2 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500 outline-none text-gray-900 dark:text-slate-100 transition-colors placeholder-gray-400"})]})}),u.jsx("div",{className:"overflow-y-auto flex-1 p-0 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700",children:c.length>0?u.jsxs("table",{className:"w-full text-left border-collapse table-fixed",children:[u.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800 sticky top-0 shadow-sm z-10",children:u.jsxs("tr",{children:[u.jsx("th",{className:"py-3 px-5 font-semibold text-xs text-gray-500 dark:text-slate-400 uppercase tracking-wider w-1/3 border-b border-gray-200 dark:border-slate-700",children:"Tag Name"}),u.jsx("th",{className:"py-3 px-5 font-semibold text-xs text-gray-500 dark:text-slate-400 uppercase tracking-wider w-2/3 border-b border-gray-200 dark:border-slate-700",children:"Value"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-800",children:c.map(f=>u.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-800/50 transition-colors group",children:[u.jsx("td",{className:"py-2 px-5 text-sm font-medium text-cyan-600 dark:text-cyan-400 font-mono break-words align-top",children:f.key}),u.jsx("td",{className:"py-2 px-5 text-sm text-gray-700 dark:text-slate-300 font-mono break-words align-top group-hover:text-gray-900 dark:group-hover:text-slate-100",children:f.value})]},f.key))})]}):u.jsx("div",{className:"flex flex-col items-center justify-center h-64 text-gray-400 dark:text-slate-500",children:u.jsxs("p",{children:['No tags found matching "',o,'"']})})}),u.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50 flex justify-end rounded-b-2xl",children:u.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-white rounded-lg text-sm font-semibold transition-colors",children:"Close"})})]})})},sQ=100,Yp=e=>{if(e.length===0)return 0;if(e.length===1)return e[0];if(e.length===2)return .5*(e[0]+e[1]);let t=[...e].sort((r,n)=>r-n);for(;t.length>4;){let r=1/0,n=0;const a=t.length,o=Math.floor(a/2);for(let i=0;i<=a-o;i++){const s=t[i+o-1]-t[i];s<r&&(r=s,n=i)}t=t.slice(n,n+o)}return t.reduce((r,n)=>r+n,0)/t.length},E2=({min:e,max:t,value:r,onChange:n,vertical:a=!1,logScale:o=!1})=>{const i=O.useRef(null),s=O.useRef(null),l=O.useCallback(g=>{const b=o?Math.max(1e-6,e):e,S=o?Math.max(b*1.0001,t):t,w=Math.max(b,Math.min(S,g));if(o){const k=Math.log10(b),j=Math.log10(S);return(Math.log10(w)-k)/(j-k)}return(w-b)/(S-b)},[e,t,o]),c=O.useCallback(g=>{const b=o?Math.max(1e-6,e):e,S=o?Math.max(b*1.0001,t):t;if(o){const w=Math.log10(b),k=Math.log10(S);return Math.pow(10,w+g*(k-w))}return b+g*(S-b)},[e,t,o]),f=(g,b)=>{g.preventDefault(),g.stopPropagation(),s.current=b;const S=k=>{if(!s.current||!i.current)return;const j=i.current.getBoundingClientRect();let P=0;a?P=(j.bottom-k.clientY)/j.height:P=(k.clientX-j.left)/j.width,P=Math.max(0,Math.min(1,P));const _=c(P);if(s.current==="min"){const A=r[1];n([Math.min(_,A),A])}else{const A=r[0];n([A,Math.max(_,A)])}},w=()=>{s.current=null,window.removeEventListener("mousemove",S),window.removeEventListener("mouseup",w)};window.addEventListener("mousemove",S),window.addEventListener("mouseup",w)},d=l(r[0])*100,h=l(r[1])*100,p=a?{left:"50%",top:0,bottom:0,width:"4px",transform:"translateX(-50%)"}:{top:"50%",left:0,right:0,height:"4px",transform:"translateY(-50%)"},m=a?{left:"50%",bottom:`${d}%`,height:`${h-d}%`,width:"4px",transform:"translateX(-50%)"}:{top:"50%",left:`${d}%`,width:`${h-d}%`,height:"4px",transform:"translateY(-50%)"},v="absolute w-3 h-3 bg-white border-2 border-cyan-600 rounded-full shadow-md cursor-pointer hover:scale-125 transition-transform z-10",x=a?{left:"50%",bottom:`${d}%`,transform:"translate(-50%, 50%)"}:{top:"50%",left:`${d}%`,transform:"translate(-50%, -50%)"},y=a?{left:"50%",bottom:`${h}%`,transform:"translate(-50%, 50%)"}:{top:"50%",left:`${h}%`,transform:"translate(-50%, -50%)"};return u.jsxs("div",{ref:i,className:`relative select-none ${a?"h-full w-4 py-2":"w-full h-4 px-2"}`,children:[u.jsx("div",{className:"absolute bg-gray-300 dark:bg-slate-600 rounded-full",style:p}),u.jsx("div",{className:"absolute bg-cyan-500 dark:bg-cyan-400 rounded-full",style:m}),u.jsx("div",{className:v,style:x,onMouseDown:g=>f(g,"min")}),u.jsx("div",{className:v,style:y,onMouseDown:g=>f(g,"max")})]})},lQ=({isOpen:e,onClose:t,data:r,blackLevel:n,imageHeight:a,isBGGR:o,importedMetadata:i,theme:s,initialCameraModel:l,initialISO:c})=>{const[f,d]=O.useState("Noise"),[h,p]=O.useState(!0),[m,v]=O.useState(null),[x,y]=O.useState("default"),[g,b]=O.useState(!1),[S,w]=O.useState(!1),[k,j]=O.useState({R:!0,G1:!0,G2:!0,B:!0}),[P,_]=O.useState(""),[A,N]=O.useState(""),[E,F]=O.useState(""),[D,T]=O.useState(""),[I,W]=O.useState("10"),[L,R]=O.useState(""),[B,te]=O.useState("0 0 0 0"),[X,G]=O.useState("0 0 0 0"),[U,ce]=O.useState(!1),[ue,xe]=O.useState(null),[ve,V]=O.useState(!1),[le,ge]=O.useState(0),[Z,Xe]=O.useState([]),[je,We]=O.useState(""),[rt,bt]=O.useState(""),Zt=()=>{const $=parseFloat(je),Y=parseFloat(rt);!isNaN($)&&!isNaN(Y)&&(Xe([...Z,{id:Date.now(),x:$,y:Y}]),We(""),bt(""))},[$t,Tr]=O.useState(()=>localStorage.getItem("ptc_tester_name")||""),[nt,sr]=O.useState(""),[Qt,Fr]=O.useState("");O.useEffect(()=>{localStorage.setItem("ptc_tester_name",$t)},[$t]);const Vt=O.useRef(U),Dn=O.useRef(ve),Kt=O.useRef(le);O.useEffect(()=>{Vt.current=U,Dn.current=ve,Kt.current=le},[U,ve,le]);const[fr,dr]=O.useState(null),[nr,lr]=O.useState({min:.01,max:90}),[Pt,Ke]=O.useState({readNoise:0,gain:1,prnu:.5}),[Dt,Jt]=O.useState(2e6),hr=O.useRef(Pt),Zr=O.useRef(nr),jn=O.useRef(Dt);O.useEffect(()=>{hr.current=Pt,Zr.current=nr,jn.current=Dt},[Pt,nr,Dt]);const[Xt,Qr]=O.useState({read:"0",gain:"1.0",prnu:"0.5",rangeMin:"0.01",rangeMax:"90"}),[at,_r]=O.useState({read:!0,shot:!0,prnu:!0,total:!0,fitRange:!0}),[xr,Jr]=O.useState(!1),[en,tn]=O.useState([]),[rn,Rn]=O.useState(null),[_t,K]=O.useState(""),$e=O.useMemo(()=>n?n.join(","):"",[n]);O.useEffect(()=>{if(e){let $="0 0 0 0";i&&i.blackLevel?$=i.blackLevel.join(" "):$=n&&n.length===4?n.join(" "):"0 0 0 0",te($),G($);let Y="";if(i&&i.height?Y=i.height.toString():a&&(Y=a.toString()),R(Y),Y){const Q=parseFloat(Y);!isNaN(Q)&&Q>0?W((2309.4/Q).toFixed(2)):W("10")}else W("10");xe(null),ce(!1),V(!1),ge(0),tn([]),Rn(null),lr({min:.01,max:90}),Qr({read:"0",gain:"0",prnu:"0",rangeMin:"0.01",rangeMax:"90"}),Ke({readNoise:0,gain:0,prnu:0}),_(""),N(""),F(""),T(""),d("Noise"),dr(null),Jt(2e6),K(""),w(!1),Xe([]),sr(Q=>Q.trim()===""&&l?l:Q),Fr(Q=>Q.trim()===""&&c?c:Q)}},[e,$e,i,a,r,l,c]);const Nt=$=>{if($.key==="Enter"){const Y=parseFloat(L);if(!isNaN(Y)&&Y>0){const Q=(2309.4/Y).toFixed(2);W(Q)}$.target.blur()}},Qe=O.useMemo(()=>{let Y=X.trim().split(/[\s,]+/).filter(Boolean).map(Number);for(Y.length===1&&(Y=[Y[0],Y[0],Y[0],Y[0]]);Y.length<4;)Y.push(0);const Q=C=>{switch(C){case"R":return Y[0];case"G1":return Y[1];case"G2":return Y[2];case"B":return Y[3];default:return 0}};return r.map(C=>{const se=C.mean-Q(C.channel),_e=C.std>0?se/C.std:0;return{...C,x:se,std:C.std,snr:_e}}).filter(C=>C.std>0)},[r,X]),ee=O.useMemo(()=>{const $=Pt.readNoise,Y=$*$;return Qe.map(Q=>{let C=0;if(f==="Noise")C=Q.std;else if(f==="SNR")C=Q.snr;else if(f==="Linear"){const _e=Q.std*Q.std-Y;C=Q.x!==0?_e/Q.x:0}return{...Q,y:C}})},[Qe,f,Pt.readNoise]),fe=O.useMemo(()=>{if(Qe.length===0)return"G1";const $={R:0,G1:0,G2:0,B:0},Y={R:0,G1:0,G2:0,B:0};for(const se of Qe)$[se.channel]+=se.x,Y[se.channel]++;let Q="G1",C=-1/0;return Object.keys($).forEach(se=>{const _e=Y[se],Ae=_e>0?$[se]/_e:-1/0;Ae>C&&(C=Ae,Q=se)}),Q},[Qe]),ot=O.useCallback(()=>{let $=1/0,Y=-1/0;if(Qe.length===0)return{min:.1,max:1};for(let Q=0;Q<Qe.length;Q++){const C=Qe[Q].x;h&&C<=0||(C<$&&($=C),C>Y&&(Y=C))}return $===1/0?{min:.1,max:1}:{min:$,max:Y}},[Qe,h]),Ct=O.useCallback(()=>{let $=1/0,Y=-1/0;if(ee.length===0)return{min:.1,max:1};for(let Q=0;Q<ee.length;Q++){const C=ee[Q].y;h&&C<=0||(C<$&&($=C),C>Y&&(Y=C))}return $===1/0?{min:.1,max:1}:{min:$*.9,max:Y*1.1}},[ee,h]),{min:Ue,max:He}=ot(),{min:Rt,max:Lt}=Ct(),Me=He*(nr.min/100),wt=He*(nr.max/100),it=O.useMemo(()=>{if(!h&&ee.length===0)return{shot:[],read:[],prnu:[],total:[]};const $=P?parseFloat(P):Ue,Y=A?parseFloat(A):He,Q=100,C=Math.max(.1,$),se=Math.max(1,Y);if(C>=se)return{shot:[],read:[],prnu:[],total:[]};const _e=Math.log10(C),Ze=(Math.log10(se)-_e)/Q,Ve=Pt.readNoise,Ie=Pt.gain>0?Pt.gain:1,At=Pt.prnu/100,gt=[],It=[],ar=[],ae=[];for(let Ye=0;Ye<=Q;Ye++){const Ne=Math.pow(10,_e+Ye*Ze);if(f==="Linear"){const Bt=1/Ie,kt=At*At,an=Bt+kt*Ne;ae.push({x:Ne,y:an}),gt.push({x:Ne,y:Bt}),ar.push({x:Ne,y:kt*Ne})}else{const Bt=Ve,kt=Math.sqrt(Ne/Ie),an=At*Ne,mt=Math.sqrt(Bt*Bt+kt*kt+an*an);f==="Noise"?(gt.push({x:Ne,y:kt}),It.push({x:Ne,y:Bt}),ar.push({x:Ne,y:an}),ae.push({x:Ne,y:mt})):(kt>0&&gt.push({x:Ne,y:Ne/kt}),Bt>0&&It.push({x:Ne,y:Ne/Bt}),an>0&&ar.push({x:Ne,y:Ne/an}),mt>0&&ae.push({x:Ne,y:Ne/mt}))}}return{shot:gt,read:It,prnu:ar,total:ae}},[ee,h,P,A,Pt,f,Ue,He]),ft=O.useMemo(()=>{if(f==="Linear")return[];const $=parseFloat(I);if(isNaN($)||$<=0)return[];const Y=P?parseFloat(P):Ue,Q=A?parseFloat(A):He;return f==="SNR"?[{x:Y,y:$},{x:Q,y:$}]:[{x:Y,y:Y/$},{x:Q,y:Q/$}]},[ee,I,f,P,A,Ue,He]),Je=O.useCallback(($,Y)=>{if(!Y||Y.length===0)return null;const Q=[...Y].sort((C,se)=>C.x-se.x);for(let C=0;C<Q.length-1;C++){const se=Q[C],_e=Q[C+1];if(se.snr<=$&&_e.snr>=$||se.snr>=$&&_e.snr<=$){const Ae=($-se.snr)/(_e.snr-se.snr);return se.x+Ae*(_e.x-se.x)}}return null},[]),nn=O.useMemo(()=>{const $=Qe,Y=1e3,Q=se=>{if(se.length===0)return[];if(se.length<=Y)return se;const _e=[...se].sort((Ve,Ie)=>Ve.x-Ie.x),Ae=[],Ze=_e.length/Y;for(let Ve=0;Ve<Y;Ve++){const Ie=Math.floor(Ve*Ze),At=Math.floor((Ve+1)*Ze),gt=_e.slice(Ie,At);if(gt.length===0)continue;gt.sort((ar,ae)=>ar.std-ae.std);const It=Math.floor(gt.length/2);Ae.push(gt[It])}return Ae},C={R:[],G1:[],G2:[],B:[]};return $.forEach(se=>{C[se.channel]&&C[se.channel].push(se)}),{R:Q(C.R),G1:Q(C.G1),G2:Q(C.G2),B:Q(C.B)}},[Qe]),De=O.useMemo(()=>ue&&Pt.gain?ue*Pt.gain:null,[ue,Pt.gain]),de=O.useMemo(()=>{if(ue===null||ue===0)return null;const $=parseFloat(I);let Y=null;if(!isNaN($)&&$>0){let Ae=0,Ze=0;if(["R","G1","G2","B"].forEach(Ve=>{const Ie=Je($,nn[Ve]);Ie!==null&&(Ae+=Ie,Ze++)}),Ze>0){const Ve=Ae/Ze;Y=Math.log2(ue/Ve)}}const Q=parseFloat(L);let C=null,se=NaN;if(!isNaN(Q)&&Q>0){se=16e3/Q;let Ae=0,Ze=0;if(["R","G1","G2","B"].forEach(Ve=>{const Ie=Je(se,nn[Ve]);Ie!==null&&(Ae+=Ie,Ze++)}),Ze>0){const Ve=Ae/Ze;C=Math.log2(ue/Ve)}}let _e=null;if(!isNaN(Q)&&Q>0){const Ae=Je(se,nn[fe]);Ae!==null&&(_e=Math.log2(ue/Ae))}return{manualDR:Y,ptpDR:C,d55DR:_e,manualTarget:$,ptpTarget:se,saturationSignal:ue,dominantChannel:fe}},[ue,I,L,nn,Je,fe]),zr=O.useMemo(()=>{if(f==="Linear"||!de||!de.ptpTarget||isNaN(de.ptpTarget))return[];const $=de.ptpTarget,Y=P?parseFloat(P):Ue,Q=A?parseFloat(A):He;return f==="SNR"?[{x:Y,y:$},{x:Q,y:$}]:[{x:Y,y:Y/$},{x:Q,y:Q/$}]},[f,de,P,A,Ue,He]),ma=O.useCallback(()=>{const Q=document.createElement("canvas");Q.width=2048,Q.height=1536;const C=Q.getContext("2d");if(!C)return;const se=s==="dark",_e=se?"#0f172a":"#ffffff",Ae=se?"#ffffff":"#000000",Ze=se?"#475569":"#cbd5e1",Ve=se?"#1e293b":"#f1f5f9",Ie=o?{R:"#ef4444",G1:"#22c55e",G2:"#4ade80",B:"#3b82f6"}:{R:"#ef4444",G1:"#22c55e",G2:"#4ade80",B:"#3b82f6"};C.fillStyle=_e,C.fillRect(0,0,2048,1536);let At=P?parseFloat(P):Ue,gt=A?parseFloat(A):He,It=E?parseFloat(E):Rt,ar=D?parseFloat(D):Lt;isNaN(At)&&(At=.1),isNaN(gt)&&(gt=1e4),isNaN(It)&&(It=.1),isNaN(ar)&&(ar=1e3);const ae={top:80,right:80,bottom:100,left:120},Ye=2048-ae.left-ae.right,Ne=1536-ae.top-ae.bottom,Bt=oe=>{if(h){const ke=Math.log10(Math.max(1e-9,At)),be=Math.log10(Math.max(1e-9,gt)),ye=Math.log10(Math.max(1e-9,oe));return ae.left+(ye-ke)/(be-ke)*Ye}else return ae.left+(oe-At)/(gt-At)*Ye},kt=oe=>{if(h){const ke=Math.log10(Math.max(1e-9,It)),be=Math.log10(Math.max(1e-9,ar)),ye=Math.log10(Math.max(1e-9,oe));return ae.top+Ne-(ye-ke)/(be-ke)*Ne}else return ae.top+Ne-(oe-It)/(ar-It)*Ne};if(C.beginPath(),h){const oe=(ke,be,ye)=>{const Pe=Math.log10(Math.max(1e-9,ke)),we=Math.log10(Math.max(1e-9,be)),vt=Math.floor(Pe),et=Math.ceil(we);for(let dt=vt;dt<=et;dt++){const ct=Math.pow(10,dt);let Ce=ye?Bt(ct):kt(ct);(ye?Ce>=ae.left-1&&Ce<=ae.left+Ye+1:Ce>=ae.top-1&&Ce<=ae.top+Ne+1)&&(C.lineWidth=1.5,C.strokeStyle=Ze,C.beginPath(),ye?(C.moveTo(Ce,ae.top),C.lineTo(Ce,ae.top+Ne)):(C.moveTo(ae.left,Ce),C.lineTo(ae.left+Ye,Ce)),C.stroke()),C.lineWidth=.5,C.strokeStyle=Ve;for(let gn=2;gn<10;gn++){const Ta=gn*ct;Ce=ye?Bt(Ta):kt(Ta),(ye?Ce>=ae.left&&Ce<=ae.left+Ye:Ce>=ae.top&&Ce<=ae.top+Ne)&&(C.beginPath(),ye?(C.moveTo(Ce,ae.top),C.lineTo(Ce,ae.top+Ne)):(C.moveTo(ae.left,Ce),C.lineTo(ae.left+Ye,Ce)),C.stroke())}}};oe(At,gt,!0),oe(It,ar,!1)}else{C.strokeStyle=Ze,C.lineWidth=1;for(let oe=0;oe<=5;oe++){const ke=ae.left+Ye*oe/5;C.beginPath(),C.moveTo(ke,ae.top),C.lineTo(ke,ae.top+Ne),C.stroke();const be=ae.top+Ne*oe/5;C.beginPath(),C.moveTo(ae.left,be),C.lineTo(ae.left+Ye,be),C.stroke()}}C.strokeStyle=Ae,C.lineWidth=2,C.strokeRect(ae.left,ae.top,Ye,Ne);const an=(oe,ke,be)=>{oe<ae.left||oe>ae.left+Ye||ke<ae.top||ke>ae.top+Ne||(C.fillStyle=be,C.fillRect(oe-1.5,ke-1.5,3,3))},mt=ee.filter(oe=>!(h&&(oe.x<=0||oe.y<=0)));mt.forEach(oe=>{k[oe.channel]&&oe.channel!==fe&&an(Bt(oe.x),kt(oe.y),Ie[oe.channel])}),mt.forEach(oe=>{k[oe.channel]&&oe.channel===fe&&an(Bt(oe.x),kt(oe.y),Ie[oe.channel])}),Z.forEach(oe=>{const ke=Bt(oe.x),be=kt(oe.y);if(ke<ae.left||ke>ae.left+Ye||be<ae.top||be>ae.top+Ne)return;C.strokeStyle="#d946ef",C.lineWidth=2.5;const ye=6;C.beginPath(),C.moveTo(ke-ye,be-ye),C.lineTo(ke+ye,be+ye),C.moveTo(ke+ye,be-ye),C.lineTo(ke-ye,be+ye),C.stroke()});const pr=(oe,ke,be=[])=>{if(oe.length<2)return;C.beginPath(),C.strokeStyle=ke,C.lineWidth=3,C.setLineDash(be);let ye=!1;for(const Pe of oe){const we=Bt(Pe.x),vt=kt(Pe.y);if(we<ae.left-100||we>ae.left+Ye+100||vt<ae.top-100||vt>ae.top+Ne+100){ye=!1;continue}ye?C.lineTo(we,vt):(C.moveTo(we,vt),ye=!0)}C.stroke(),C.setLineDash([])},Nr=se?"#ffffff":"#000000";if(at.shot&&pr(it.shot,"#94a3b8",[5,5]),at.read&&pr(it.read,"#f43f5e",[3,3]),at.prnu&&pr(it.prnu,"#f59e0b",[3,3]),at.total&&pr(it.total,Nr,[]),ft.length===2){const oe="#6366f1";pr(ft,oe,[4,2]);const ke=ft[1],be=kt(ke.y);be>=ae.top&&be<=ae.top+Ne&&(C.fillStyle=oe,C.font="bold 20px sans-serif",C.textAlign="right",C.textBaseline="bottom",C.fillText(`M.Tgt=${I}`,ae.left+Ye-10,be-8))}if(zr.length===2&&(de!=null&&de.ptpTarget)){const oe="#10b981";pr(zr,oe,[4,4]);const ke=zr[1],be=kt(ke.y);if(be>=ae.top&&be<=ae.top+Ne){C.fillStyle=oe,C.font="bold 20px sans-serif",C.textAlign="right",C.textBaseline="bottom";const ye=de.ptpTarget.toFixed(1),Pe=ft.length===2?kt(ft[1].y):-100,we=Math.abs(be-Pe)<25?25:0;C.fillText(`PTP=${ye}`,ae.left+Ye-10,be-8-we)}}if(at.fitRange||ve){const oe=(ke,be)=>{const ye=Bt(ke);ye>=ae.left&&ye<=ae.left+Ye&&(C.beginPath(),C.strokeStyle=be,C.lineWidth=2,C.setLineDash([8,8]),C.moveTo(ye,ae.top),C.lineTo(ye,ae.top+Ne),C.stroke(),C.setLineDash([]))};oe(Me,"#22d3ee"),oe(wt,"#22d3ee")}if(ue){const oe=Bt(ue);oe>=ae.left&&oe<=ae.left+Ye&&(C.strokeStyle="#ef4444",C.lineWidth=3,C.setLineDash([10,10]),C.beginPath(),C.moveTo(oe,ae.top),C.lineTo(oe,ae.top+Ne),C.stroke(),C.setLineDash([]),C.fillStyle="#ef4444",C.font="bold 24px sans-serif",C.textAlign="center",C.fillText("Sat",oe,ae.top-10))}C.fillStyle=Ae,C.font="28px monospace",C.textAlign="center",C.fillText(At.toExponential(1),ae.left,ae.top+Ne+40),C.fillText(gt.toExponential(1),ae.left+Ye,ae.top+Ne+40),C.fillText("Signal (DN)",ae.left+Ye/2,ae.top+Ne+80),C.textAlign="right",C.textBaseline="middle",C.fillText(It.toExponential(1),ae.left-20,ae.top+Ne),C.fillText(ar.toExponential(1),ae.left-20,ae.top),C.save(),C.translate(ae.left-80,ae.top+Ne/2),C.rotate(-Math.PI/2),C.textAlign="center",C.fillText(f==="Linear"?"(Var - RN) / Mean":f,0,0),C.restore(),C.save(),C.translate(2048/2,1536/2),C.rotate(-Math.PI/6),C.textAlign="center",C.textBaseline="middle",C.fillStyle=se?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)",C.font="bold 150px sans-serif",C.fillText(" y-g-jiang.github.io",0,0),C.restore(),C.fillStyle=Ae,C.font="bold 36px sans-serif",C.textAlign="left",C.textBaseline="top",C.fillText(`PTC Export: ${f} Mode`,ae.left,20),C.font="24px sans-serif",C.fillStyle=se?"#94a3b8":"#64748b",C.fillText(`Points: ${ee.length} | Sat Channel: ${fe}`,ae.left,65);const Ln=ae.left+30,ul=ae.top+30,fu=70,z=oe=>{if(!ue||oe<=0)return"--";const ke=Pt.readNoise,be=Pt.gain,ye=Pt.prnu/100;if(be<=0)return"--";const Pe=oe*oe,we=ke*ke,vt=1-Pe*ye*ye,et=-(Pe/be),dt=-(Pe*we);let ct=0;if(Math.abs(vt)<1e-8)Math.abs(et)>1e-8&&(ct=-dt/et);else{const Ce=et*et-4*vt*dt;Ce>=0&&(ct=(-et+Math.sqrt(Ce))/(2*vt))}return ct>0?Math.log2(ue/ct).toFixed(2)+" EV":"--"},H=de!=null&&de.ptpTarget&&!isNaN(de.ptpTarget)?z(de.ptpTarget):"--",re=I?z(parseFloat(I)):"--";C.font="bold 48px monospace",C.textAlign="left",C.textBaseline="top",C.shadowColor=se?"rgba(0,0,0,0.8)":"rgba(255,255,255,0.8)",C.shadowBlur=4,C.shadowOffsetX=1,C.shadowOffsetY=1;const J=(oe,ke,be,ye)=>{const Pe=ul+be*fu;C.fillStyle=Ae,C.fillText(oe,Ln,Pe);const we=C.measureText(oe).width;C.fillStyle=ye||Ae,C.fillText(ke,Ln+we,Pe)},me=Xt.read,Te=parseFloat(Xt.gain).toFixed(3),st=parseFloat(Xt.prnu).toFixed(2)+"%";let Re=`M.DR@SNR${I}: `;const Be=parseFloat(L);if(!isNaN(Be)&&Be>0){const oe=(2309.4/Be).toFixed(2);Math.abs(parseFloat(I)-parseFloat(oe))<.05&&(Re="8mpSNR=1 DR: ")}J("Tester: ",$t||"N/A",0),J("Model : ",nt||"Unknown",1),J("ISO   : ",Qt||"N/A",2),J("RN/FPN: ",me,3,"#f43f5e"),J("KADC  : ",Te,4,"#06b6d4"),J("PRNU  : ",st,5,"#f59e0b"),J("PTP DR: ",de!=null&&de.ptpDR?de.ptpDR.toFixed(2)+" EV":"--",6,"#10b981"),J("D55 DR: ",de!=null&&de.d55DR?de.d55DR.toFixed(2)+" EV":"--",7,"#8b5cf6"),J("FWC   : ",De?De>1e4?(De/1e3).toFixed(1)+"k":Math.round(De).toString():"--",8,"#f97316"),J(Re,de!=null&&de.manualDR?de.manualDR.toFixed(2)+" EV":"--",9,"#06b6d4"),J("PTCFitDR(PTP): ",H,10,"#10b981"),J("PTCFitDR(Man): ",re,11,"#06b6d4"),C.save(),C.textAlign="right",C.textBaseline="bottom",C.fillStyle="#3b82f6",C.font="bold 80px sans-serif",C.shadowColor=se?"rgba(0,0,0,0.8)":"rgba(255,255,255,0.8)",C.shadowBlur=4,C.shadowOffsetX=2,C.shadowOffsetY=2;const Oe=1988,Fe=1476,lt=90;C.fillText("Online",Oe,Fe),C.fillText("Jiangtherapee",Oe,Fe-lt),C.restore();const St=document.createElement("a");St.download=`ptc_complete_${f}_${Date.now()}.jpg`,St.href=Q.toDataURL("image/jpeg",.9),St.click()},[ee,fe,k,P,A,E,D,Ue,He,Rt,Lt,h,s,f,ue,o,at,it,Me,wt,nr,ve,$t,nt,Qt,de,De,I,ft,zr,Xt,L,Z]),ya=O.useMemo(()=>{let $=ee;if(h&&($=$.filter(se=>se.y>0&&se.x>0)),x==="top3"){const se=[...$].sort((Ae,Ze)=>Ze.x-Ae.x),_e=Math.max(50,Math.ceil(se.length*.03));$=se.slice(0,_e)}const Y={R:[],G1:[],G2:[],B:[]};if($.forEach(se=>{Y[se.channel]&&Y[se.channel].push(se)}),x==="raw")return Y;const Q=x==="top3"?500:sQ,C=se=>{if(se.length<=Q)return se;const _e=[...se].sort((Ve,Ie)=>Ve.x-Ie.x),Ae=[],Ze=_e.length/Q;for(let Ve=0;Ve<Q;Ve++){const Ie=Math.floor(Ve*Ze),At=Math.floor((Ve+1)*Ze),gt=_e.slice(Ie,At);if(gt.length===0)continue;gt.sort((ar,ae)=>ar.y-ae.y);const It=Math.floor(gt.length/2);Ae.push(gt[It])}return Ae};return{R:C(Y.R),G1:C(Y.G1),G2:C(Y.G2),B:C(Y.B)}},[ee,x,h]),ao=O.useMemo(()=>{if(Qe.length<5)return[];const $=Qe.filter(Q=>Q.channel===fe);return[...$.length>20?$:Qe].sort((Q,C)=>Q.x-C.x).map(Q=>({mean:Q.x,std:Q.std}))},[Qe,fe]),Lh=$=>{const Y=$.length;if(Y===0)return[];const Q=$.reduce((Ye,Ne)=>Ye+Ne,0)/Y,C=$.reduce((Ye,Ne)=>Ye+Math.pow(Ne-Q,2),0)/(Y-1||1),se=Math.sqrt(C);if(se===0)return[{x:Q-.001,density:0},{x:Q,density:1},{x:Q+.001,density:0}];const _e=1.06*se*Math.pow(Y,-.2),Ae=Math.min(...$),Ze=Math.max(...$),Ve=(Ze-Ae)*.2||Ae*.1,Ie=Math.max(0,Ae-Ve),At=Ze+Ve,gt=100,It=(At-Ie)/(gt-1),ar=Ye=>1/Math.sqrt(2*Math.PI)*Math.exp(-.5*Ye*Ye),ae=[];for(let Ye=0;Ye<gt;Ye++){const Ne=Ie+Ye*It;let Bt=0;for(let kt=0;kt<Y;kt++)Bt+=ar((Ne-$[kt])/_e);Bt/=Y*_e,ae.push({x:Ne,density:Bt})}return ae},Ei=O.useCallback(($,Y,Q,C)=>{if($.length<5)return{gain:0,prnu:0};const se=$[$.length-1].mean,_e=se*(Q.min/100),Ae=se*(Q.max/100),Ze=$.filter(mt=>mt.mean>=_e&&mt.mean<=Ae);if(Ze.length<5)return{gain:0,prnu:0};dr({nPoints:Ze.length});const Ve=Y*Y,Ie=[],At=[];if(Ze.forEach(mt=>{const Nr=mt.std*mt.std-Ve;if(mt.mean>1&&Nr>0){const Ln=mt.mean,ul=Nr/mt.mean;Ie.push({x:Ln,y:ul}),At.push(mt.mean/Nr)}}),Ie.length<5)return{gain:0,prnu:0};const gt=[],It=Ie.length,ar=C,ae=It*(It-1)/2;if(ae<=ar)for(let mt=0;mt<It;mt++)for(let pr=mt+1;pr<It;pr++){const Nr=Ie[pr].x-Ie[mt].x;Math.abs(Nr)>1e-5&&gt.push((Ie[pr].y-Ie[mt].y)/Nr)}else{const mt=Math.max(1,Math.floor(ae/ar));for(let pr=0;pr<It;pr++)for(let Nr=pr+1;Nr<It;Nr+=mt){const Ln=Ie[Nr].x-Ie[pr].x;Math.abs(Ln)>1e-5&&gt.push((Ie[Nr].y-Ie[pr].y)/Ln)}}const Ye=Yp(gt),Ne=Ie.map(mt=>mt.y-Ye*mt.x),Bt=Yp(Ne);let kt=0,an=0;if(Bt>1e-6?kt=1/Bt:kt=Yp(At),Ye>0&&(an=Math.sqrt(Ye)*100),At.length>0){const mt=Lh(At);tn(mt),Rn(kt)}else tn([]);return{gain:kt,prnu:an}},[]),pn=O.useCallback($=>{let Y=$.read??hr.current.readNoise;const Q=$.gRange??Zr.current,C=jn.current;if(($.read!==void 0||$.gRange!==void 0)&&$.gain===void 0&&$.prnu===void 0&&ao.length>0&&Y>=0)w(!0),setTimeout(()=>{const _e=Ei(ao,Y,Q,C);let Ae=hr.current.gain,Ze=hr.current.prnu;_e.gain>0&&(Ae=_e.gain,Ze=_e.prnu),Ke({readNoise:Y,gain:Ae,prnu:Ze}),$.gRange!==void 0&&lr($.gRange),Qr(Ve=>{var Ie,At;return{...Ve,read:Y.toString(),gain:Ae>0?Ae.toFixed(3):"0",prnu:Ze.toFixed(2),rangeMin:(((Ie=$.gRange)==null?void 0:Ie.min)??Ve.rangeMin).toString(),rangeMax:(((At=$.gRange)==null?void 0:At.max)??Ve.rangeMax).toString()}}),w(!1)},50);else{let _e=$.gain!==void 0?$.gain:hr.current.gain,Ae=$.prnu!==void 0?$.prnu:hr.current.prnu;Ke({readNoise:Y,gain:_e,prnu:Ae}),$.gRange!==void 0&&lr($.gRange),Qr(Ze=>{var Ve,Ie;return{...Ze,read:Y.toString(),gain:_e>0?_e.toFixed(3):"0",prnu:Ae.toFixed(2),rangeMin:(((Ve=$.gRange)==null?void 0:Ve.min)??Ze.rangeMin).toString(),rangeMax:(((Ie=$.gRange)==null?void 0:Ie.max)??Ze.rangeMax).toString()}})}},[ao,Ei]),zo=`${X}-${r.length}`;O.useEffect(()=>{if(!e||!r||r.length===0)return;const $=ya[fe];if(!$||$.length===0||_t===zo)return;j({R:fe==="R",G1:fe==="G1",G2:fe==="G2",B:fe==="B"});const Y=[...$].sort((_e,Ae)=>_e.x-Ae.x);let Q=0;Y.length>0&&(Q=Y[0].std);const C=Qe.filter(_e=>_e.channel===fe);let se=-1/0;for(const _e of C)_e.x>se&&(se=_e.x);se!==-1/0&&xe(se),pn({read:Q}),K(zo)},[e,r,_t,zo,ya,fe,pn,Qe]);const oo=($,Y)=>{Qr(Q=>({...Q,[$]:Y}))},Ti=$=>{let Y=parseFloat(Xt[$]);isNaN(Y)||Y<0||pn({[$]:Y})},Ca=()=>{G(B),K("")},ll=()=>{const $=parseFloat(Xt.rangeMin),Y=parseFloat(Xt.rangeMax);!isNaN($)&&!isNaN(Y)&&$<Y&&$>=0&&Y<=100&&pn({gRange:{min:$,max:Y}})},Wo=($,Y)=>{$.key==="Enter"&&(Y==="rangeMin"||Y==="rangeMax"?ll():Ti(Y),$.target.blur())};O.useEffect(()=>{ao.length>0&&pn({})},[Dt,ao]);const Uo=$=>{j(Y=>({...Y,[$]:!Y[$]}))},cu=()=>{y($=>$==="top3"?"default":"top3")},Ih=()=>{x==="raw"?y("default"):b(!0)},Bh=()=>{b(!1),y("raw")},cl=($,Y)=>{const Q=parseFloat($),C=parseFloat(Y);let se=isNaN(Q)?"auto":Q,_e=isNaN(C)?"auto":C;return h&&typeof se=="number"&&se<=0&&(se="auto"),[se,_e]},Go=$=>{if(!$||!$.payload)return;const Y=$.payload;if(v(Y),Vt.current&&(xe(Y.x),ce(!1)),Dn.current){const Q=Zr.current.min,C=Zr.current.max,{max:se}=ot();if(se<=0)return;const _e=Math.max(0,Math.min(100,Y.x/se*100));if(Kt.current===1){const Ae=Math.min(_e,C-.5);pn({gRange:{min:Ae,max:C}}),ge(2)}else if(Kt.current===2){const Ae=Math.max(_e,Q+.5);pn({gRange:{min:Q,max:Ae}}),ge(0),V(!1)}}},Ho=O.useCallback($=>{const{cx:Y,cy:Q,fill:C}=$;return u.jsx("circle",{cx:Y,cy:Q,r:3,fill:C,stroke:"none",style:{cursor:"pointer"}})},[]),Fh=({active:$,payload:Y})=>{if($&&Y&&Y.length){const Q=Y[0].payload;return u.jsxs("div",{className:"bg-slate-800 text-white text-xs p-2 rounded border border-slate-600 shadow-xl opacity-90 font-mono z-50",children:[u.jsx("div",{className:"font-bold border-b border-slate-600 pb-1 mb-1",children:Q.channel}),u.jsxs("div",{children:["Signal: ",Q.x.toFixed(2)]}),u.jsxs("div",{children:[f,": ",Q.y.toFixed(4)]}),Q.row!==void 0&&Q.col!==void 0&&!isNaN(Q.row)&&!isNaN(Q.col)&&u.jsxs("div",{className:"text-cyan-400 mt-0.5",children:["Loc: Row ",Q.row,", Col ",Q.col]}),Q.filename&&u.jsx("div",{className:"text-gray-400 mt-1 max-w-[200px] truncate",title:Q.filename,children:Q.filename})]})}return null},Ea=$=>{d($),$==="Linear"&&p(!1)};if(!e)return null;const zh=s==="dark"?"#ffffff":"#000000";let uu=f;f==="Linear"&&(uu="(Var - RN) / Mean");const Wh=B!==X;return u.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in",onClick:$=>{$.stopPropagation()},children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-[98vw] max-w-[2200px] h-[95vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700 overflow-hidden relative",onClick:$=>$.stopPropagation(),children:[u.jsx(hc,{isOpen:g,onClose:()=>b(!1),onConfirm:Bh,title:"Warning: High Performance Cost",message:"Displaying all data points may cause the browser to freeze or become unresponsive, especially with large datasets. Are you sure you want to continue?",confirmText:"Yes, Show All"}),m&&u.jsxs("div",{className:"absolute top-20 right-8 z-30 bg-white/90 dark:bg-slate-800/90 border border-cyan-500 rounded-xl p-4 shadow-xl backdrop-blur-md max-w-xs animate-in fade-in zoom-in-95 duration-200",children:[u.jsxs("div",{className:"flex justify-between items-start mb-2 border-b border-gray-200 dark:border-slate-700 pb-2",children:[u.jsx("h4",{className:"font-bold text-gray-900 dark:text-white text-sm",children:"Selected Point"}),u.jsx("button",{onClick:()=>v(null),className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("div",{className:"space-y-1 text-xs font-mono text-gray-700 dark:text-slate-300",children:u.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1.5",children:[u.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Channel:"}),u.jsx("span",{className:"font-bold",children:m.channel}),u.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Signal (DN):"}),u.jsx("span",{children:m.x.toFixed(4)}),u.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Noise (Std):"}),u.jsx("span",{children:m.std.toFixed(4)}),u.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"SNR:"}),u.jsx("span",{className:"text-purple-600 dark:text-purple-400 font-bold",children:(m.x/m.std).toFixed(2)})]})})]}),xr&&u.jsx("div",{className:"absolute inset-0 z-40 bg-white/95 dark:bg-slate-900/95 backdrop-blur-sm flex flex-col items-center justify-center p-8 animate-in fade-in zoom-in-95 duration-200",children:u.jsxs("div",{className:"w-full max-w-2xl h-[60vh] bg-gray-50 dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-700 shadow-2xl p-4 flex flex-col relative",children:[u.jsx("button",{onClick:()=>Jr(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-red-500 transition-colors",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),u.jsxs("div",{className:"mb-4 text-center",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-slate-200",children:"Gain Density Estimation"}),u.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:["HSM Mode: ",u.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:rn==null?void 0:rn.toFixed(4)}),u.jsx("span",{className:"mx-2",children:"|"}),"Data Points: ",en.length>0?"Density Curve Generated":"No Data"]})]}),u.jsx("div",{className:"flex-1 min-h-0",children:en.length>0?u.jsx(ks,{width:"100%",height:"100%",children:u.jsxs(A_,{data:en,margin:{top:10,right:30,left:0,bottom:20},children:[u.jsx(ji,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3,vertical:!1}),u.jsx(ha,{dataKey:"x",tickFormatter:$=>$.toFixed(2),tick:{fill:"#9ca3af",fontSize:10},label:{value:"Gain (e/ADU)",position:"insideBottom",offset:-15,fill:"#9ca3af",fontSize:12}}),u.jsx(pa,{tick:{fill:"#9ca3af",fontSize:10}}),u.jsx(cn,{cursor:{stroke:"rgba(255,255,255,0.2)"},contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6"}}),u.jsx(Vn,{type:"monotone",dataKey:"density",stroke:"#0ea5e9",fill:"#0ea5e9",fillOpacity:.3,strokeWidth:2}),rn!==null&&u.jsx(oi,{x:rn,stroke:"#ef4444",strokeWidth:2,label:{value:"HSM",fill:"#ef4444",fontSize:10,position:"top"}})]})}):u.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:"No data in selected range"})})]})}),u.jsxs("div",{className:"flex flex-wrap justify-between items-center p-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50 gap-4 flex-shrink-0",children:[u.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2",children:["Photon Transfer Curve",u.jsxs("span",{className:"text-xs font-normal bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-300 px-2 py-0.5 rounded border border-purple-200 dark:border-purple-800",children:[r.length," Pts"]})]}),u.jsxs("div",{className:"flex gap-4 items-center flex-wrap",children:[u.jsxs("button",{onClick:ma,className:"bg-green-600 hover:bg-green-500 text-white font-bold py-1 px-3 rounded text-xs shadow-md transition-all active:scale-95 flex items-center gap-1",title:"Render all points, target lines, and metadata to a high-res JPG",children:[u.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export Complete Result"]}),u.jsxs("div",{className:"flex bg-white dark:bg-slate-700 rounded-lg p-1 border border-gray-200 dark:border-slate-600",children:[u.jsx("button",{onClick:()=>Ea("Noise"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${f==="Noise"?"bg-cyan-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"Noise ()"}),u.jsx("button",{onClick:()=>Ea("SNR"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${f==="SNR"?"bg-purple-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"SNR"}),u.jsx("button",{onClick:()=>Ea("Linear"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${f==="Linear"?"bg-indigo-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"Linear (PTC)"})]}),u.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-600 dark:text-slate-300 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:h,onChange:$=>p($.target.checked),className:"rounded border-gray-300 text-cyan-600 focus:ring-cyan-500 bg-gray-100 dark:bg-slate-700 dark:border-slate-600"}),"Log-Log"]}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors p-1",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-0 border-b border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-sm flex-shrink-0",children:[u.jsxs("div",{className:"lg:col-span-9 p-5 flex flex-col gap-5 border-r border-gray-200 dark:border-slate-700",children:[u.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between text-xs",children:[u.jsxs("div",{className:"flex gap-4 items-center",children:[u.jsxs("div",{className:"flex items-center gap-1.5 bg-gray-50 dark:bg-slate-800 rounded-md p-1 border border-gray-200 dark:border-slate-700",children:[u.jsx("span",{className:"font-bold text-gray-500 dark:text-slate-400 pl-1",children:"X:"}),u.jsx("input",{type:"number",placeholder:"Min",value:P,onChange:$=>_($.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"}),u.jsx("span",{className:"text-gray-400",children:"-"}),u.jsx("input",{type:"number",placeholder:"Max",value:A,onChange:$=>N($.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"})]}),u.jsxs("div",{className:"flex items-center gap-1.5 bg-gray-50 dark:bg-slate-800 rounded-md p-1 border border-gray-200 dark:border-slate-700",children:[u.jsx("span",{className:"font-bold text-gray-500 dark:text-slate-400 pl-1",children:"Y:"}),u.jsx("input",{type:"number",placeholder:"Min",value:E,onChange:$=>F($.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"}),u.jsx("span",{className:"text-gray-400",children:"-"}),u.jsx("input",{type:"number",placeholder:"Max",value:D,onChange:$=>T($.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"})]}),u.jsx("button",{onClick:()=>{_(""),N(""),F(""),T("")},className:"text-xs text-cyan-600 dark:text-cyan-400 hover:underline",children:"Auto"})]}),u.jsxs("div",{className:"flex items-center gap-1 bg-white dark:bg-slate-700 p-1 rounded-lg border border-gray-200 dark:border-slate-600",children:[u.jsx("button",{onClick:()=>Uo("R"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${k.R?"bg-red-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"R"}),u.jsx("button",{onClick:()=>Uo("G1"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${k.G1?"bg-green-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"G1"}),u.jsx("button",{onClick:()=>Uo("G2"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${k.G2?"bg-green-400 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"G2"}),u.jsx("button",{onClick:()=>Uo("B"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${k.B?"bg-blue-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"B"})]})]}),u.jsxs("div",{className:"flex flex-wrap items-end gap-8",children:[u.jsxs("div",{className:"flex flex-col bg-gray-50 dark:bg-slate-800/50 p-2 rounded border border-gray-100 dark:border-slate-700",children:[u.jsx("span",{className:"text-[9px] uppercase font-bold text-gray-500 dark:text-slate-400 mb-1",children:"Black Level (0,0 0,1 1,0 1,1)"}),u.jsx("input",{type:"text",value:B,onChange:$=>te($.target.value),className:"w-32 text-xs px-2 py-1 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded outline-none focus:border-cyan-500 font-mono",placeholder:"0 0 0 0"})]}),u.jsxs("div",{className:"flex flex-col justify-between bg-gray-50 dark:bg-slate-800/50 p-2 rounded border border-gray-100 dark:border-slate-700",children:[u.jsxs("div",{className:"flex justify-between items-center mb-1",children:[u.jsx("span",{className:"text-[9px] uppercase font-bold text-gray-500 dark:text-slate-400 mr-2",children:"Fit Range % (Robust)"}),u.jsx("button",{onClick:()=>{V(!ve),ge(ve?0:1)},className:`px-1.5 py-0.5 text-[9px] rounded border transition-colors ${ve?"bg-cyan-100 text-cyan-700 border-cyan-300 animate-pulse":"bg-white dark:bg-slate-700 border-gray-300 dark:border-slate-600 text-gray-600 dark:text-slate-300 hover:bg-gray-50"}`,children:ve?le===1?"Pick Min":"Pick Max":"Select"})]}),u.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[u.jsx("input",{type:"number",step:"0.1",value:Xt.rangeMin,onChange:$=>oo("rangeMin",$.target.value),onBlur:ll,onKeyDown:$=>Wo($,"rangeMin"),className:"w-10 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-center font-bold"}),u.jsx("span",{className:"text-gray-400",children:"-"}),u.jsx("input",{type:"number",step:"0.1",value:Xt.rangeMax,onChange:$=>oo("rangeMax",$.target.value),onBlur:ll,onKeyDown:$=>Wo($,"rangeMax"),className:"w-10 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-center font-bold"})]})]}),u.jsxs("div",{className:"flex flex-col bg-indigo-50 dark:bg-indigo-900/20 p-2 rounded border border-indigo-100 dark:border-indigo-800/50",children:[u.jsx("span",{className:"text-[9px] uppercase font-bold text-indigo-600 dark:text-indigo-400 mb-1",children:"DR Params"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-300",children:"Img H:"}),u.jsx("input",{type:"number",value:L,onChange:$=>R($.target.value),onKeyDown:Nt,placeholder:"Empty",className:"w-14 px-1 py-0.5 bg-white dark:bg-slate-900 border border-indigo-200 dark:border-indigo-800 rounded text-center font-bold text-indigo-700 dark:text-indigo-300 text-xs placeholder:font-normal placeholder:text-gray-300"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-300",children:"Tgt SNR:"}),u.jsx("input",{type:"number",value:I,onChange:$=>W($.target.value),className:"w-10 px-1 py-0.5 bg-white dark:bg-slate-900 border border-indigo-200 dark:border-indigo-800 rounded text-center font-bold text-indigo-700 dark:text-indigo-300 text-xs"})]})]})]}),u.jsxs("div",{className:"flex flex-col gap-1 text-[10px] justify-end pb-0.5",children:[u.jsx("button",{onClick:()=>{ce(!U),ue&&xe(null)},disabled:ve,className:`font-bold rounded border shadow-sm transition-all px-3 py-1.5 ${U?"bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400 border-amber-500 animate-pulse":"bg-white dark:bg-slate-800 text-gray-600 dark:text-slate-300 border-gray-300 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:U?"Pick Point":"Select Linear Limit"}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{onClick:cu,className:`flex-1 font-bold rounded border shadow-sm transition-all px-2 py-1 ${x==="top3"?"bg-indigo-600 text-white border-indigo-700":"bg-white dark:bg-slate-800 text-gray-600 dark:text-slate-300 border-gray-300 dark:border-slate-600 hover:bg-gray-50"}`,children:"Top 3%"}),u.jsx("button",{onClick:Ih,className:`font-bold rounded border shadow-sm transition-all px-2 py-1 ${x==="raw"?"bg-red-600 text-white border-red-700":"text-red-500 border-red-200 hover:bg-red-50"}`,children:"All"})]})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-4 items-center bg-gray-50/50 dark:bg-slate-800/20 p-2 rounded-lg border border-gray-100 dark:border-slate-800",children:[u.jsx("span",{className:"text-[10px] uppercase font-bold text-gray-400 dark:text-slate-500",children:"Metadata"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",value:$t,onChange:$=>Tr($.target.value),placeholder:"Tester Name",className:"w-24 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"}),u.jsx("input",{type:"text",value:nt,onChange:$=>sr($.target.value),placeholder:"Camera Model",className:"w-32 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"}),u.jsx("input",{type:"text",value:Qt,onChange:$=>Fr($.target.value),placeholder:"ISO",className:"w-16 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-4 items-center bg-fuchsia-50/50 dark:bg-fuchsia-900/10 p-2 rounded-lg border border-fuchsia-100 dark:border-fuchsia-900/30",children:[u.jsx("span",{className:"text-[10px] uppercase font-bold text-fuchsia-500 dark:text-fuchsia-400",children:"Markers"}),u.jsxs("div",{className:"flex gap-2 items-center",children:[u.jsx("input",{type:"number",value:je,onChange:$=>We($.target.value),placeholder:"X (Signal)",className:"w-20 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 outline-none focus:border-fuchsia-500 transition-colors"}),u.jsx("input",{type:"number",value:rt,onChange:$=>bt($.target.value),placeholder:"Y (Value)",className:"w-20 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 outline-none focus:border-fuchsia-500 transition-colors"}),u.jsx("button",{onClick:Zt,className:"px-3 py-1 bg-fuchsia-600 hover:bg-fuchsia-500 text-white text-xs font-bold rounded shadow-sm transition-colors active:scale-95",children:"+"}),Z.length>0&&u.jsx("button",{onClick:()=>Xe([]),className:"px-2 py-1 bg-gray-200 dark:bg-slate-700 hover:bg-red-500 hover:text-white text-gray-600 dark:text-slate-300 text-xs font-bold rounded shadow-sm transition-colors active:scale-95",children:"Clr"})]}),u.jsxs("div",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono",children:[Z.length," pts"]})]}),u.jsxs("div",{className:"flex gap-4 text-[10px] pt-1 justify-center sm:justify-start flex-wrap",children:[u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:at.shot,onChange:$=>_r({...at,shot:$.target.checked}),className:"rounded text-gray-500"})," ",u.jsx("span",{className:"text-gray-500",children:"Shot Noise"})]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:at.read,onChange:$=>_r({...at,read:$.target.checked}),className:"rounded text-rose-500"})," ",u.jsx("span",{className:"text-rose-500",children:"Read Noise"})]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:at.prnu,onChange:$=>_r({...at,prnu:$.target.checked}),className:"rounded text-amber-500"})," ",u.jsx("span",{className:"text-amber-500",children:"PRNU"})]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:at.total,onChange:$=>_r({...at,total:$.target.checked}),className:"rounded text-white"})," ",u.jsx("span",{className:"text-gray-900 dark:text-white font-bold",children:"Model"})]})]})]}),u.jsxs("div",{className:"lg:col-span-3 bg-slate-100 dark:bg-slate-800 p-4 flex flex-col justify-center gap-4",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center mb-1 px-1",children:[u.jsxs("h3",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase flex items-center gap-2",children:["Fit Parameters (D55 SAT Channel:",fe,")",S&&u.jsx("span",{className:"text-orange-500 animate-pulse text-[10px]",children:"Calculating..."})]}),u.jsxs("div",{className:"flex gap-2 items-center",children:[u.jsx("button",{onClick:Ca,disabled:S,className:`px-3 py-1 text-white text-[10px] font-bold rounded shadow-sm transition-all flex items-center gap-1 active:scale-95 
                                            ${S?"bg-gray-400 cursor-wait":Wh?"bg-orange-500 hover:bg-orange-600 animate-pulse ring-2 ring-orange-400/50":"bg-cyan-600 hover:bg-cyan-500"}
                                        `,title:"Apply Black Level, Auto-detect Read Noise, then Recalculate Fit",children:S?u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"w-3 h-3 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Fitting..."]}):u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),"Apply & Calc"]})}),u.jsxs("select",{value:Dt,onChange:$=>Jt(Number($.target.value)),className:"text-[9px] bg-slate-200 dark:bg-slate-700 text-gray-600 dark:text-slate-300 rounded px-1 py-0.5 border-none outline-none cursor-pointer hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors",title:"Number of point-pairs to sample for robust regression (Theil-Sen)",children:[u.jsx("option",{value:1e5,children:"100k Pairs"}),u.jsx("option",{value:5e5,children:"500k Pairs"}),u.jsx("option",{value:2e6,children:"2M Pairs"}),u.jsx("option",{value:5e6,children:"5M Pairs"}),u.jsx("option",{value:1e7,children:"10M Pairs"})]}),fr&&u.jsxs("span",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono",title:"Number of points used in regression",children:["N=",fr.nPoints]})]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1",children:"rn/fpn"}),u.jsx("input",{type:"text",inputMode:"decimal",value:Xt.read,onChange:$=>oo("read",$.target.value),onBlur:()=>Ti("read"),onKeyDown:$=>Wo($,"read"),className:"w-full text-center text-2xl font-light bg-transparent text-rose-500 outline-none border-b border-transparent focus:border-rose-500 transition-colors"})]}),u.jsxs("div",{className:"flex flex-col items-center relative group",children:[u.jsxs("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1 flex items-center gap-1",children:["Kadc (HSM)",u.jsx("button",{onClick:()=>Jr(!0),className:"text-[9px] text-cyan-600 dark:text-cyan-400 hover:underline",children:"Dist."})]}),u.jsx("input",{type:"text",inputMode:"decimal",value:Xt.gain,onChange:$=>oo("gain",$.target.value),onBlur:()=>Ti("gain"),onKeyDown:$=>Wo($,"gain"),className:"w-full text-center text-2xl font-light bg-transparent text-slate-700 dark:text-slate-200 outline-none border-b border-transparent focus:border-cyan-500 transition-colors"})]}),u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1",children:"PRNU (%)"}),u.jsx("input",{type:"text",inputMode:"decimal",value:Xt.prnu,onChange:$=>oo("prnu",$.target.value),onBlur:()=>Ti("prnu"),onKeyDown:$=>Wo($,"prnu"),className:"w-full text-center text-2xl font-light bg-transparent text-amber-500 outline-none border-b border-transparent focus:border-amber-500 transition-colors"})]})]})]}),u.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 w-full"}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 text-center",children:[u.jsxs("div",{className:"flex flex-col justify-center bg-cyan-50 dark:bg-cyan-900/10 p-2 rounded-lg border border-cyan-100 dark:border-cyan-900/30",children:[u.jsxs("h4",{className:"text-[10px] font-bold text-cyan-600 dark:text-cyan-500 uppercase tracking-wide mb-1 truncate",title:`Manual DR at SNR=${(de==null?void 0:de.manualTarget)||I}`,children:["M.DR @ SNR=",(de==null?void 0:de.manualTarget)||I]}),u.jsx("div",{className:"text-base font-bold text-cyan-700 dark:text-cyan-400 whitespace-nowrap",children:de!=null&&de.manualDR?`${de.manualDR.toFixed(2)} EV`:"--"})]}),u.jsxs("div",{className:"flex flex-col justify-center bg-emerald-50 dark:bg-emerald-900/10 p-2 rounded-lg border border-emerald-100 dark:border-emerald-900/30",title:isNaN((de==null?void 0:de.ptpTarget)||NaN)?"Requires Image Height":`Standard Point-to-Point DR (Target SNR = 16000/${L||"H"})`,children:[u.jsx("h4",{className:"text-[10px] font-bold text-emerald-600 dark:text-emerald-500 uppercase tracking-wide mb-1",children:"PTP DR"}),u.jsx("div",{className:"text-base font-bold text-emerald-700 dark:text-emerald-400 whitespace-nowrap",children:de!=null&&de.ptpDR?`${de.ptpDR.toFixed(2)} EV`:"--"})]}),u.jsxs("div",{className:"flex flex-col justify-center bg-purple-50 dark:bg-purple-900/10 p-2 rounded-lg border border-purple-100 dark:border-purple-900/30",title:isNaN((de==null?void 0:de.ptpTarget)||NaN)?"Requires Image Height":`D55 Saturation DR (Target SNR = 16000/${L||"H"} on ${de==null?void 0:de.dominantChannel} Channel)`,children:[u.jsxs("h4",{className:"text-[10px] font-bold text-purple-600 dark:text-purple-400 uppercase tracking-wide mb-1 truncate",children:["D55 DR (",de==null?void 0:de.dominantChannel,")"]}),u.jsx("div",{className:"text-base font-bold text-purple-700 dark:text-purple-400 whitespace-nowrap",children:de!=null&&de.d55DR?`${de.d55DR.toFixed(2)} EV`:"--"})]}),u.jsxs("div",{className:"flex flex-col justify-center bg-orange-50 dark:bg-orange-900/10 p-2 rounded-lg border border-orange-100 dark:border-orange-900/30",children:[u.jsx("h4",{className:"text-[10px] font-bold text-orange-600 dark:text-orange-400 uppercase tracking-wide mb-1",children:"FWC"}),u.jsx("div",{className:"text-base font-bold text-orange-600 dark:text-orange-400 font-mono whitespace-nowrap truncate",title:De!==null?`${Math.round(De)}`:"",children:De!==null?De>1e4?`${(De/1e3).toFixed(1)}k`:`${Math.round(De)}`:"--"})]})]}),ue===null&&u.jsx("div",{className:"text-center text-[10px] text-red-500 animate-pulse font-bold mt-[-10px]",children:"Please select Linear Limit on chart to calc DR"})]})]}),u.jsxs("div",{className:`flex-1 p-4 bg-white dark:bg-slate-900 relative grid grid-cols-[auto_1fr] grid-rows-[1fr_auto] gap-2 ${U||ve?"cursor-crosshair":""}`,children:[u.jsx("div",{className:"row-start-1 col-start-1 h-full",children:u.jsx(E2,{vertical:!0,min:Rt,max:Lt,value:[E?parseFloat(E):Rt,D?parseFloat(D):Lt],onChange:([$,Y])=>{F($.toString()),T(Y.toString())},logScale:h})}),u.jsxs("div",{className:"row-start-1 col-start-2 relative",children:[ee.length===0?u.jsx("div",{className:"flex h-full items-center justify-center text-gray-400",children:"No valid data points found."}):u.jsx(ks,{width:"100%",height:"100%",children:u.jsxs(RZ,{margin:{top:20,right:20,bottom:0,left:0},onClick:Go,children:[u.jsx("defs",{children:u.jsxs("filter",{id:"glow",height:"300%",width:"300%",x:"-100%",y:"-100%",children:[u.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),u.jsxs("feMerge",{children:[u.jsx("feMergeNode",{in:"coloredBlur"}),u.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),u.jsx(ji,{strokeDasharray:"3 3",stroke:"#374151",opacity:.2}),u.jsx(ha,{type:"number",dataKey:"x",name:"Signal",scale:h?"log":"linear",domain:cl(P,A),allowDataOverflow:!0,hide:!0}),u.jsx(pa,{type:"number",dataKey:"y",name:f,scale:h?"log":"linear",domain:cl(E,D),label:{value:uu,angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:12},tick:{fill:"#9ca3af",fontSize:10},allowDataOverflow:!0}),u.jsx(cn,{content:u.jsx(Fh,{}),cursor:{strokeDasharray:"3 3"}}),ue&&u.jsx(oi,{x:ue,stroke:"red",strokeDasharray:"3 3",label:{position:"top",value:"Sat",fill:"red",fontSize:10}}),(at.fitRange||ve)&&u.jsxs(u.Fragment,{children:[u.jsx(oi,{x:Me,stroke:"#22d3ee",strokeDasharray:"5 5",label:{position:"insideTopLeft",value:`Min: ${nr.min}%`,fill:"#22d3ee",fontSize:9}}),u.jsx(oi,{x:wt,stroke:"#22d3ee",strokeDasharray:"5 5",label:{position:"insideTopLeft",value:`Max: ${nr.max}%`,fill:"#22d3ee",fontSize:9}})]}),k.R&&u.jsx(sn,{name:"Red",data:ya.R,fill:"#ef4444",shape:Ho,onClick:Go,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-R"),k.G1&&u.jsx(sn,{name:"Green 1",data:ya.G1,fill:"#22c55e",shape:Ho,onClick:Go,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-G1"),k.G2&&u.jsx(sn,{name:"Green 2",data:ya.G2,fill:"#4ade80",shape:Ho,onClick:Go,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-G2"),k.B&&u.jsx(sn,{name:"Blue",data:ya.B,fill:"#3b82f6",shape:Ho,onClick:Go,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-B"),at.shot&&it.shot.length>0&&u.jsx(sn,{name:"Shot Noise (Ideal)",data:it.shot,line:{stroke:"#94a3b8",strokeWidth:1,strokeDasharray:"5 5"},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-shot"),at.read&&it.read.length>0&&u.jsx(sn,{name:"Read Noise Floor",data:it.read,line:{stroke:"#f43f5e",strokeWidth:1,strokeDasharray:"3 3"},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-read"),at.prnu&&it.prnu.length>0&&u.jsx(sn,{name:"PRNU (Non-uniformity)",data:it.prnu,line:{stroke:"#f59e0b",strokeWidth:1,strokeDasharray:"3 3"},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-prnu"),at.total&&it.total.length>0&&u.jsx(sn,{name:"Total Noise Model",data:it.total,line:{stroke:zh,strokeWidth:2},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-total"),ft.length>0&&u.jsx(sn,{name:`Target SNR=${I}`,data:ft,line:{stroke:"#6366f1",strokeWidth:2,strokeDasharray:"4 2"},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-target"),zr.length>0&&u.jsx(sn,{name:`PTP Target SNR=${de!=null&&de.ptpTarget?de.ptpTarget.toFixed(1):"?"}`,data:zr,line:{stroke:"#10b981",strokeWidth:2,strokeDasharray:"4 4"},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-ptp"),Z.length>0&&u.jsx(sn,{name:"Manual Markers",data:Z,fill:"#d946ef",shape:"star",legendType:"star"},"manual-points")]})}),u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 pointer-events-none select-none opacity-25 mix-blend-normal dark:mix-blend-plus-lighter",children:u.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})})]}),u.jsx("div",{className:"row-start-2 col-start-2 w-full",children:u.jsx(E2,{min:Ue,max:He,value:[P?parseFloat(P):Ue,A?parseFloat(A):He],onChange:([$,Y])=>{_($.toString()),N(Y.toString())},logScale:h})})]})]})})},cQ=({searchTerm:e,onSearchChange:t,manufacturers:r,selectedManufacturer:n,onManufacturerChange:a,cameras:o,onCameraSelect:i})=>u.jsx("div",{className:"sticky top-4 z-10 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm p-4 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[u.jsxs("div",{className:"relative md:col-span-3",children:[u.jsx("input",{type:"text",placeholder:"Search camera model...",value:e,onChange:s=>t(s.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 text-gray-900 dark:text-slate-200 placeholder-gray-500 dark:placeholder-slate-400"}),u.jsx("svg",{className:"w-5 h-5 text-gray-400 dark:text-slate-400 absolute top-1/2 left-3 transform -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),u.jsx("select",{value:n,onChange:s=>a(s.target.value),className:"w-full md:col-span-1 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-2 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 appearance-none text-gray-900 dark:text-slate-200",children:r.map(s=>u.jsx("option",{value:s,children:s},s))}),u.jsxs("select",{onChange:s=>i(s.target.value),className:"w-full md:col-span-1 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-2 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 appearance-none text-gray-900 dark:text-slate-200",value:"","aria-label":"Jump to camera model",children:[u.jsx("option",{value:"",disabled:!0,children:"Jump to model..."}),o.map(s=>u.jsx("option",{value:s.id,children:s.name},s.id))]})]})}),uQ=({active:e,payload:t,label:r,theme:n})=>{if(e&&t&&t.length){const a=t[0].payload,o=n==="dark"?"bg-slate-800/80 border-slate-600 text-slate-300":"bg-white/90 border-gray-200 text-gray-700";return u.jsxs("div",{className:`${o} backdrop-blur-sm border p-3 rounded-lg shadow-lg`,children:[u.jsx("p",{className:"label font-bold",children:`ISO ${r}`}),u.jsx("div",{className:"mt-2 space-y-1 text-sm",children:u.jsxs(u.Fragment,{children:[u.jsxs("div",{style:{color:"#f87171"},children:["Red: ",a.R_avg.toFixed(2)," (Range: ",a.R_range[0]," - ",a.R_range[1],")"]}),u.jsxs("div",{style:{color:"#4ade80"},children:["Green 1: ",a.G1_avg.toFixed(2)," (Range: ",a.G1_range[0]," - ",a.G1_range[1],")"]}),u.jsxs("div",{style:{color:"#60a5fa"},children:["Blue: ",a.B_avg.toFixed(2)," (Range: ",a.B_range[0]," - ",a.B_range[1],")"]}),u.jsxs("div",{style:{color:"#86efac"},children:["Green 2: ",a.G2_avg.toFixed(2)," (Range: ",a.G2_range[0]," - ",a.G2_range[1],")"]})]})})]})}return null},fQ=({data:e,theme:t="dark"})=>{const r=O.useMemo(()=>!e||e.length===0?[]:[...new Set(e.map(i=>i.iso))].sort((i,s)=>Number(i)-Number(s)),[e]),n=O.useMemo(()=>{if(!e||e.length===0)return[0,4096];const i=e.flatMap(m=>[...m.R_range,...m.G1_range,...m.G2_range,...m.B_range]);if(i.length===0)return[0,4096];let s=Math.min(...i),l=Math.max(...i);const c=.25,f=l-s;if(f<c){const m=c-f;s-=m/2,l+=m/2}const d=(l-s)*.1,h=s-d,p=l+d;return[h,p]},[e]),a=t==="dark"?"#475569":"#e5e7eb",o=t==="dark"?"#94a3b8":"#6b7280";return!e||e.length===0?u.jsx("div",{className:"flex items-center justify-center h-full text-gray-500 dark:text-slate-500",children:u.jsx("p",{children:"No data available for this mode."})}):u.jsx(ks,{width:"100%",height:"100%",children:u.jsxs(A_,{data:e,margin:{top:5,right:20,left:0,bottom:5},children:[u.jsx(ji,{strokeDasharray:"3 3",stroke:a}),u.jsx(ha,{dataKey:"iso",type:"number",domain:["dataMin","dataMax"],tick:{fill:o,fontSize:12},scale:"log",allowDuplicatedCategory:!1,ticks:r}),u.jsx(pa,{tick:{fill:o,fontSize:12},domain:n,allowDecimals:!0,tickFormatter:i=>Number(i).toFixed(3)}),u.jsx(cn,{content:u.jsx(uQ,{theme:t})}),u.jsx(Ha,{wrapperStyle:{fontSize:"14px",color:o}}),u.jsx(Vn,{type:"monotone",dataKey:"R_range",fill:"#f87171",stroke:"none",fillOpacity:.2,name:"Red",legendType:"none"}),u.jsx(Yr,{type:"monotone",dataKey:"R_avg",stroke:"#f87171",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Red"}),u.jsx(Vn,{type:"monotone",dataKey:"G1_range",fill:"#4ade80",stroke:"none",fillOpacity:.2,name:"Green 1",legendType:"none"}),u.jsx(Yr,{type:"monotone",dataKey:"G1_avg",stroke:"#4ade80",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Green 1"}),u.jsx(Vn,{type:"monotone",dataKey:"B_range",fill:"#60a5fa",stroke:"none",fillOpacity:.2,name:"Blue",legendType:"none"}),u.jsx(Yr,{type:"monotone",dataKey:"B_avg",stroke:"#60a5fa",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Blue"}),u.jsx(Vn,{type:"monotone",dataKey:"G2_range",fill:"#86efac",stroke:"none",fillOpacity:.2,name:"Green 2",legendType:"none"}),u.jsx(Yr,{type:"monotone",dataKey:"G2_avg",stroke:"#86efac",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Green 2"})]})})},dQ=M.forwardRef(({camera:e,theme:t="dark"},r)=>{const n=O.useMemo(()=>e.shootingModes.map(d=>d.modeName),[e.shootingModes]),[a,o]=O.useState(n[0]||""),{chartData:i,tableData:s}=O.useMemo(()=>{const d=e.shootingModes.find(m=>m.modeName===a);if(!(d!=null&&d.data))return{chartData:[],tableData:[]};const h=d.data.map(m=>({iso:m.iso,R_range:m.r.range,R_avg:m.r.avg,G1_range:m.g1.range,G1_avg:m.g1.avg,B_range:m.b.range,B_avg:m.b.avg,G2_range:m.g2.range,G2_avg:m.g2.avg})),p=d.data.map(m=>({iso:m.iso,levels:[m.r.avg,m.g1.avg,m.g2.avg,m.b.avg],clipping:m.clipping}));return{chartData:h,tableData:p}},[e.shootingModes,a]),l=`Raw Data (${a})`,c=O.useRef(null),f=O.useRef(null);return O.useEffect(()=>{const d=c.current,h=f.current;if(!d||!h)return;const p=new ResizeObserver(m=>{for(let v of m){const{width:x}=v.contentRect,g=Math.max(8,x/35);h.style.fontSize=`${g}px`}});return p.observe(d),()=>p.disconnect()},[]),u.jsxs("div",{ref:r,className:"bg-white dark:bg-slate-800/50 border border-gray-200 dark:border-slate-700 rounded-xl shadow-lg p-6 flex flex-col gap-6 transform hover:scale-[1.02] hover:border-cyan-500/50 transition-all duration-500 ease-in-out",children:[u.jsxs("div",{className:"border-b border-gray-200 dark:border-slate-700 pb-4",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-slate-100",children:e.name}),u.jsx("p",{className:"text-cyan-600 dark:text-cyan-400",children:e.manufacturer})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-slate-300",children:"Black Level vs. ISO"}),u.jsx("select",{value:a,onChange:d=>o(d.target.value),className:"w-full sm:w-auto bg-gray-50 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-md px-3 py-1 text-sm outline-none focus:ring-2 focus:ring-cyan-500 transition-all duration-300 text-gray-900 dark:text-slate-200","aria-label":`Select shooting mode for ${e.name}`,children:n.map(d=>u.jsx("option",{value:d,children:d},d))})]}),u.jsxs("div",{ref:c,className:"h-64 relative",children:[u.jsx(fQ,{data:i,theme:t},a),u.jsx("div",{className:"absolute top-1/2 left-[52%] transform -translate-x-1/2 -translate-y-1/2 -rotate-30 pointer-events-none",children:u.jsx("p",{ref:f,className:"font-bold text-gray-900/10 dark:text-slate-200/40 whitespace-nowrap",children:" y-g-jiang.github.io"})})]})]}),u.jsxs("div",{className:"overflow-x-auto",children:[u.jsx("div",{className:"flex justify-between items-center mb-4",children:u.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-slate-300",children:l})}),u.jsxs("table",{className:"w-full text-left border-collapse",children:[u.jsx("thead",{className:"bg-gray-100 dark:bg-slate-700/50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"p-3 font-semibold text-sm text-gray-700 dark:text-slate-300",children:"ISO"}),u.jsx("th",{className:"p-3 font-semibold text-sm text-red-500 dark:text-red-400",children:"Red"}),u.jsx("th",{className:"p-3 font-semibold text-sm text-green-600 dark:text-green-400",children:"Green 1"}),u.jsx("th",{className:"p-3 font-semibold text-sm text-blue-500 dark:text-blue-400",children:"Blue"}),u.jsx("th",{className:"p-3 font-semibold text-sm text-green-500 dark:text-green-300",children:"Green 2"})]})}),u.jsx("tbody",{children:s.map(({iso:d,levels:h,clipping:p})=>u.jsxs("tr",{className:"border-b border-gray-200 dark:border-slate-700/50 last:border-b-0",children:[u.jsxs("td",{className:"p-3 font-mono text-gray-700 dark:text-slate-300 whitespace-nowrap",children:[d,p&&u.jsx("span",{className:"ml-3 text-xs font-semibold text-amber-600 dark:text-amber-400 bg-amber-100 dark:bg-amber-900/50 px-2 py-1 rounded-full align-middle",children:"Clipping"})]}),u.jsx("td",{className:"p-3 font-mono text-red-500 dark:text-red-400",children:h[0].toFixed(2)}),u.jsx("td",{className:"p-3 font-mono text-green-600 dark:text-green-400",children:h[1].toFixed(2)}),u.jsx("td",{className:"p-3 font-mono text-blue-500 dark:text-blue-400",children:h[3].toFixed(2)}),u.jsx("td",{className:"p-3 font-mono text-green-500 dark:text-green-300",children:h[2].toFixed(2)})]},d))})]})]})]})}),qe=(e,t,r)=>({avg:e,range:[t,r]}),Se=(e=255)=>{const t=e+(Math.random()-.5)*2,r=Math.random()*.2+.05;return{avg:t,range:[parseFloat((t-r).toFixed(2)),parseFloat((t+r).toFixed(2))]}},qp=[{id:"olympus-om1",name:"Olympus OM-1",manufacturer:"Olympus",shootingModes:[{modeName:"Single Shot",data:[{iso:200,r:qe(254.9,254.89,254.91),g1:qe(254.87,254.86,254.88),b:qe(254.9,254.89,254.91),g2:qe(254.87,254.86,254.88)},{iso:400,r:qe(254.9,254.89,254.91),g1:qe(254.87,254.86,254.88),b:qe(254.9,254.89,254.91),g2:qe(254.87,254.86,254.88),clipping:!0}]},{modeName:"20fps",data:[{iso:200,r:qe(254.94,254.83,254.96),g1:qe(254.92,254.81,254.96),b:qe(254.94,254.83,254.96),g2:qe(254.93,254.81,254.95)},{iso:400,r:qe(254.94,254.83,254.96),g1:qe(254.92,254.81,254.96),b:qe(254.94,254.83,254.96),g2:qe(254.93,254.81,254.95),clipping:!0}]},{modeName:"50fps",data:[{iso:200,r:qe(254.82,254.75,254.94),g1:qe(254.74,254.68,254.87),b:qe(254.82,254.75,254.94),g2:qe(254.75,254.68,254.87)},{iso:400,r:qe(254.82,254.75,254.94),g1:qe(254.74,254.68,254.87),b:qe(254.82,254.75,254.94),g2:qe(254.75,254.68,254.87),clipping:!0}]}]},{id:"panasonic-g9",name:"Panasonic G9",manufacturer:"Panasonic",shootingModes:[{modeName:"Single Shot",data:[{iso:200,r:qe(254.9,254.89,254.91),g1:qe(254.87,254.86,254.88),b:qe(254.9,254.89,254.91),g2:qe(254.87,254.86,254.88)},{iso:400,r:qe(254.9,254.89,254.91),g1:qe(254.87,254.86,254.88),b:qe(254.9,254.89,254.91),g2:qe(254.87,254.86,254.88),clipping:!0}]},{modeName:"30fps",data:[{iso:200,r:qe(254.94,254.83,254.96),g1:qe(254.92,254.81,254.96),b:qe(254.94,254.83,254.96),g2:qe(254.93,254.81,254.95)},{iso:400,r:qe(254.94,254.83,254.96),g1:qe(254.92,254.81,254.96),b:qe(254.94,254.83,254.96),g2:qe(254.93,254.81,254.95),clipping:!0}]}]},{id:"virtual-cam-1",name:"Virtual Camera Pro",manufacturer:"Virtual",shootingModes:[{modeName:"Standard",data:[{iso:100,r:Se(255),g1:Se(255),b:Se(255),g2:Se(255)},{iso:200,r:Se(255.2),g1:Se(255.2),b:Se(255.2),g2:Se(255.2)},{iso:400,r:Se(255.5),g1:Se(255.5),b:Se(255.5),g2:Se(255.5)},{iso:800,r:Se(256),g1:Se(256),b:Se(256),g2:Se(256)},{iso:1600,r:Se(257),g1:Se(257),b:Se(257),g2:Se(257),clipping:!0}]},{modeName:"High Speed",data:[{iso:200,r:Se(256),g1:Se(256),b:Se(256),g2:Se(256)},{iso:400,r:Se(256.3),g1:Se(256.3),b:Se(256.3),g2:Se(256.3)},{iso:800,r:Se(256.8),g1:Se(256.8),b:Se(256.8),g2:Se(256.8)},{iso:1600,r:Se(257.5),g1:Se(257.5),b:Se(257.5),g2:Se(257.5),clipping:!0},{iso:3200,r:Se(259),g1:Se(259),b:Se(259),g2:Se(259),clipping:!0}]},{modeName:"Low Light",data:[{iso:800,r:Se(254),g1:Se(254),b:Se(254),g2:Se(254)},{iso:1600,r:Se(254.5),g1:Se(254.5),b:Se(254.5),g2:Se(254.5)},{iso:3200,r:Se(255),g1:Se(255),b:Se(255),g2:Se(255),clipping:!0},{iso:6400,r:Se(256),g1:Se(256),b:Se(256),g2:Se(256),clipping:!0}]}]}],hQ=({isOpen:e,onClose:t,theme:r})=>{const[n,a]=O.useState(""),[o,i]=O.useState("All"),s=O.useMemo(()=>["All",...Array.from(new Set(qp.map(d=>d.manufacturer))).sort()],[]),l=O.useMemo(()=>qp.filter(f=>{const d=f.name.toLowerCase().includes(n.toLowerCase()),h=o==="All"||f.manufacturer===o;return d&&h}),[n,o]),c=f=>{const d=document.getElementById(`camera-${f}`);d&&d.scrollIntoView({behavior:"smooth"})};return e?u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-6xl h-[90vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700 overflow-hidden",onClick:f=>f.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:[u.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2",children:["Camera Black Level Database",u.jsxs("span",{className:"text-xs font-normal bg-cyan-100 dark:bg-cyan-900/30 text-cyan-600 dark:text-cyan-400 px-2 py-0.5 rounded border border-cyan-200 dark:border-cyan-800",children:[qp.length," Models"]})]}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-2 rounded-full hover:bg-gray-100 dark:hover:bg-slate-800",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700 bg-gray-50/50 dark:bg-slate-800/30",children:u.jsx(cQ,{searchTerm:n,onSearchChange:a,manufacturers:s,selectedManufacturer:o,onManufacturerChange:i,cameras:l,onCameraSelect:c})}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700 bg-gray-100 dark:bg-slate-950",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-2 gap-6",children:[l.map(f=>u.jsx("div",{id:`camera-${f.id}`,children:u.jsx(dQ,{camera:f,theme:r})},f.id)),l.length===0&&u.jsx("div",{className:"col-span-full flex flex-col items-center justify-center py-20 text-gray-400 dark:text-slate-600",children:u.jsx("p",{className:"text-lg",children:"No cameras found matching your criteria."})})]})})]})}):null},pQ=({isOpen:e,onClose:t,zIndex:r=150})=>{const[n,a]=O.useState(""),[o,i]=O.useState(""),[s,l]=O.useState(""),[c,f]=O.useState(""),[d,h]=O.useState(null),p=()=>{const m=parseFloat(n),v=parseFloat(o),x=parseFloat(s),y=parseFloat(c);if(isNaN(m)||isNaN(v)||isNaN(x)||isNaN(y)){h(null);return}const g=m,b=v,S=x*x,w=y*y,k=(g+b)/2;if(k<=1e-9){h(0);return}const j=S*w/k,P=Math.sqrt(j);h(P)};return e?u.jsxs(Dh,{initialPosition:{x:window.innerWidth/2-160,y:window.innerHeight/2-200},onClose:t,zIndex:r,className:"w-80 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 flex flex-col shadow-2xl",children:[u.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800",children:[u.jsx("h3",{className:"text-sm font-bold text-gray-700 dark:text-slate-200",children:"Cross-Compensation Calc"}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"p-4 flex flex-col gap-3 text-xs",children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"H Mean (Power/Var)"}),u.jsx("input",{type:"number",step:"any",value:n,onChange:m=>a(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"V Mean (Power/Var)"}),u.jsx("input",{type:"number",step:"any",value:o,onChange:m=>i(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"H RMS 0 (Sigma)"}),u.jsx("input",{type:"number",step:"any",value:s,onChange:m=>l(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"V RMS 0 (Sigma)"}),u.jsx("input",{type:"number",step:"any",value:c,onChange:m=>f(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),u.jsx("button",{onClick:p,className:"mt-2 w-full py-2 bg-indigo-600 hover:bg-indigo-500 text-white font-bold rounded shadow transition-colors active:scale-95",children:"Calculate Sigma"}),d!==null&&u.jsxs("div",{className:"mt-2 p-3 bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-200 dark:border-indigo-800 rounded text-center animate-in fade-in slide-in-from-top-1",children:[u.jsx("span",{className:"block text-[10px] uppercase font-bold text-gray-500 dark:text-slate-400 mb-1",children:"Original White Noise Sigma"}),u.jsx("span",{className:"text-lg font-mono font-bold text-indigo-700 dark:text-indigo-300 select-all",children:d.toFixed(5)})]})]})]}):null};function Zp(e,t,r){const a=e*t*2,o=8,i=o+a,s="Fake",l="NoiseCam",c="NoiseCam",f=_=>{const A=new Uint8Array(_.length+1);for(let N=0;N<_.length;N++)A[N]=_.charCodeAt(N);return A[_.length]=0,A},d=f(s),h=f(l),p=f(c),m=[{id:254,type:4,count:1,value:0},{id:256,type:4,count:1,value:e},{id:257,type:4,count:1,value:t},{id:258,type:3,count:1,value:16},{id:259,type:3,count:1,value:1},{id:262,type:3,count:1,value:32803},{id:271,type:2,count:d.length,value:d},{id:272,type:2,count:h.length,value:h},{id:273,type:4,count:1,value:o},{id:277,type:3,count:1,value:1},{id:278,type:4,count:1,value:t},{id:279,type:4,count:1,value:a},{id:33421,type:3,count:2,value:[2,2]},{id:33422,type:1,count:4,value:[0,1,1,2]},{id:50706,type:1,count:4,value:[1,4,0,0]},{id:50717,type:2,count:p.length,value:p}],v=2+m.length*12+4;let x=0;const y=m.map(_=>{let A=1;_.type===3&&(A=2),_.type===4&&(A=4);const N=_.count*A,E=N<=4;let F=0;return E||(F=x,x+=N,x%2!==0&&x++),{..._,fits:E,totalBytes:N,extraOffset:F}}),g=i+v,b=g+x,S=new ArrayBuffer(b),w=new DataView(S),k=new Uint8Array(S);w.setUint16(0,18761,!0),w.setUint16(2,42,!0),w.setUint32(4,i,!0);const j=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);k.set(j,o);let P=i;return w.setUint16(P,m.length,!0),P+=2,y.forEach(_=>{if(w.setUint16(P,_.id,!0),w.setUint16(P+2,_.type,!0),w.setUint32(P+4,_.count,!0),_.fits){const A=P+8;Array.isArray(_.value)?_.value.forEach((N,E)=>{_.type===1&&w.setUint8(A+E,N),_.type===3&&w.setUint16(A+E*2,N,!0)}):_.value instanceof Uint8Array||(_.type===3&&w.setUint16(A,_.value,!0),_.type===4&&w.setUint32(A,_.value,!0))}else{const A=g+_.extraOffset;w.setUint32(P+8,A,!0);const N=A;_.value instanceof Uint8Array?k.set(_.value,N):Array.isArray(_.value)&&_.value.forEach((E,F)=>{_.type===1&&w.setUint8(N+F,E),_.type===3&&w.setUint16(N+F*2,E,!0)})}P+=12}),w.setUint32(P,0,!0),S}const gQ="http://localhost:5428",mQ=(e=!1)=>{const[t,r]=O.useState({isConnected:!1,message:"Initializing...",hasDngConverter:!1});return O.useEffect(()=>{if(e){r({isConnected:!1,message:"Bridge Paused",hasDngConverter:!1});return}const n=async()=>{try{const o=new AbortController,i=setTimeout(()=>o.abort(),1e3),s=await fetch(`${gQ}/health`,{method:"GET",signal:o.signal});if(clearTimeout(i),s.ok){const l=await s.json(),c=`Connected (${l.exiftool||"Ready"})`;r(f=>f.isConnected===!0&&f.message===c&&f.version===l.exiftool&&f.hasDngConverter===!!l.dng_converter?f:{isConnected:!0,message:c,version:l.exiftool,hasDngConverter:!!l.dng_converter})}else r(l=>l.isConnected===!1&&l.message==="Service Error"?l:{isConnected:!1,message:"Service Error",hasDngConverter:!1})}catch{r(i=>i.isConnected===!1&&i.message==="Not Detected"?i:{isConnected:!1,message:"Not Detected",hasDngConverter:!1})}};n();const a=setInterval(n,2e3);return()=>clearInterval(a)},[e]),t},yQ="JTR_BlobStore",Aa="raw_files",vQ=1,Rh=()=>new Promise((e,t)=>{const r=indexedDB.open(yQ,vQ);r.onupgradeneeded=n=>{const a=n.target.result;a.objectStoreNames.contains(Aa)||a.createObjectStore(Aa)},r.onsuccess=()=>e(r.result),r.onerror=()=>t(r.error)}),T2=async(e,t)=>{const r=await Rh();return new Promise((n,a)=>{const o=r.transaction(Aa,"readwrite");o.objectStore(Aa).put(t,e),o.oncomplete=()=>n(),o.onerror=()=>a(o.error)})},xQ=async e=>{const t=await Rh();return new Promise((r,n)=>{const i=t.transaction(Aa,"readonly").objectStore(Aa).get(e);i.onsuccess=()=>r(i.result),i.onerror=()=>n(i.error)})},bQ=async()=>{const e=await Rh();return new Promise((t,r)=>{const n=e.transaction(Aa,"readwrite");n.objectStore(Aa).clear(),n.oncomplete=()=>t(),n.onerror=()=>r(n.error)})},M_="jtr_workspace_index",wQ=e=>{try{const t=JSON.stringify(e);localStorage.setItem(M_,t)}catch(t){console.error("Failed to save workspace index",t)}},kQ=()=>{try{const e=localStorage.getItem(M_);return e?JSON.parse(e):null}catch(e){return console.error("Failed to load workspace index",e),null}},SQ=async e=>{const n=(await Rh()).transaction(Aa,"readwrite").objectStore(Aa),a=n.getAllKeys();a.onsuccess=()=>{a.result.forEach(i=>{e.includes(i)||n.delete(i)})}},Gr=1024,$2=(e,t,r)=>{const n=e.width,a=e.height,o=new ImageData(t,r),i=e.data,s=o.data,l=n/t,c=a/r;for(let f=0;f<r;f++){const d=Math.floor(f*c),h=f*t*4,p=d*n*4;for(let m=0;m<t;m++){const x=Math.floor(m*l)*4,y=h+m*4,g=p+x;s[y]=i[g],s[y+1]=i[g+1],s[y+2]=i[g+2],s[y+3]=i[g+3]}}return o},jQ=({stats:e,onClose:t,onMinimize:r,isBGGR:n,onToggleBGGR:a,onOpenWindow:o,displaySettings:i,zIndex:s,onFocus:l})=>{if(!e)return null;const c=!!i.showKadc&&!!i.blackLevel,f=i.blackLevel||[0,0,0,0],d=!!i.subtractBlackLevelFromStats&&!!i.blackLevel,h=(x,y,g)=>{if(!c)return null;const b=y*y;return b<=1e-4?0:(x-g)/b},p=(x,y)=>d?x-f[y]:x,m=()=>{if(!d){alert(`Sub. BL
Please enable 'Sub. BL' in Tools sidebar first.`);return}let x,y,g,b;n?(b=0,y=1,g=2,x=3):(x=0,y=1,g=2,b=3);const S=k=>e.means[k]-f[k],w=k=>e.stdDevs[k];localStorage.setItem("import_signal_r",S(x).toString()),localStorage.setItem("import_signal_g1",S(y).toString()),localStorage.setItem("import_signal_g2",S(g).toString()),localStorage.setItem("import_signal_b",S(b).toString()),localStorage.setItem("import_sigma_r",w(x).toString()),localStorage.setItem("import_sigma_g1",w(y).toString()),localStorage.setItem("import_sigma_g2",w(g).toString()),localStorage.setItem("import_sigma_b",w(b).toString()),window.open("https://y-g-jiang.github.io/XJZS.html","_blank")},v=n?[{name:"B",desc:"(0,0)",mean:p(e.means[0],0),std:e.stdDevs[0],color:"text-blue-500",k:h(e.means[0],e.stdDevs[0],f[0])},{name:"G1",desc:"(0,1)",mean:p(e.means[1],1),std:e.stdDevs[1],color:"text-green-500",k:h(e.means[1],e.stdDevs[1],f[1])},{name:"G2",desc:"(1,0)",mean:p(e.means[2],2),std:e.stdDevs[2],color:"text-green-500",k:h(e.means[2],e.stdDevs[2],f[2])},{name:"R",desc:"(1,1)",mean:p(e.means[3],3),std:e.stdDevs[3],color:"text-red-500",k:h(e.means[3],e.stdDevs[3],f[3])}]:[{name:"R",desc:"(0,0)",mean:p(e.means[0],0),std:e.stdDevs[0],color:"text-red-500",k:h(e.means[0],e.stdDevs[0],f[0])},{name:"G1",desc:"(0,1)",mean:p(e.means[1],1),std:e.stdDevs[1],color:"text-green-500",k:h(e.means[1],e.stdDevs[1],f[1])},{name:"G2",desc:"(1,0)",mean:p(e.means[2],2),std:e.stdDevs[2],color:"text-green-500",k:h(e.means[2],e.stdDevs[2],f[2])},{name:"B",desc:"(1,1)",mean:p(e.means[3],3),std:e.stdDevs[3],color:"text-blue-500",k:h(e.means[3],e.stdDevs[3],f[3])}];return u.jsxs(Dh,{className:`${c?"w-80":"w-60"} p-0 overflow-hidden transition-all duration-300`,onClose:t,zIndex:s,onFocus:l,children:[u.jsxs("div",{className:"flex justify-between items-center px-3 py-2 border-b border-gray-100 dark:border-slate-800 bg-gray-50/50 dark:bg-slate-800/50",children:[u.jsxs("h3",{className:"text-xs font-bold text-gray-700 dark:text-slate-300 uppercase tracking-wider flex items-center gap-2",children:["ROI Analysis",u.jsxs("span",{className:"text-[10px] font-normal text-gray-400 bg-gray-200 dark:bg-slate-700 px-1.5 py-0.5 rounded",children:[Math.round(e.width),"",Math.round(e.height)]})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 transition-colors p-1 rounded-md hover:bg-gray-200 dark:hover:bg-slate-700 relative z-20",children:u.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 transition-colors p-1 rounded-md hover:bg-gray-200 dark:hover:bg-slate-700 relative z-20",children:u.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsxs("div",{className:"p-3",children:[u.jsxs("div",{className:"flex justify-between items-center mb-3",children:[u.jsxs("div",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono leading-tight",children:["X: ",Math.round(e.x),u.jsx("br",{}),"Y: ",Math.round(e.y)]}),u.jsx("button",{onClick:()=>a(!n),className:"text-[10px] font-bold px-2 py-1 rounded bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 text-gray-600 dark:text-slate-300 transition-colors border border-gray-200 dark:border-slate-700 relative z-20",title:"Toggle Bayer Pattern Interpretation",children:n?"BGGR":"RGGB"})]}),u.jsxs("table",{className:"w-full mb-3",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-[10px] text-gray-400 dark:text-slate-500 border-b border-gray-100 dark:border-slate-800",children:[u.jsx("th",{className:"text-left pb-1 font-medium",children:"Ch"}),u.jsxs("th",{className:"text-right pb-1 font-medium",children:["Mean",d?"*":""]}),u.jsx("th",{className:"text-right pb-1 font-medium",children:"Std()"}),c&&u.jsx("th",{className:"text-right pb-1 font-medium text-cyan-600 dark:text-cyan-400",children:"K(e/ADU)"})]})}),u.jsx("tbody",{className:"font-mono text-xs",children:v.map((x,y)=>u.jsxs("tr",{className:"group hover:bg-gray-50 dark:hover:bg-slate-800/30 transition-colors",children:[u.jsxs("td",{className:"py-1",children:[u.jsx("span",{className:`font-bold ${x.color}`,children:x.name}),u.jsx("span",{className:"text-[9px] text-gray-300 dark:text-slate-600 ml-1 hidden group-hover:inline",children:x.desc})]}),u.jsx("td",{className:"py-1 text-right text-gray-700 dark:text-slate-200 font-semibold",title:d?"Mean minus Black Level":"Raw Mean",children:x.mean.toFixed(2)}),u.jsx("td",{className:"py-1 text-right text-gray-500 dark:text-slate-400",children:x.std.toFixed(2)}),c&&u.jsx("td",{className:"py-1 text-right text-cyan-600 dark:text-cyan-400 font-bold",children:x.k!==null?x.k.toFixed(3):"-"})]},y))})]}),d&&u.jsx("div",{className:"mb-2 text-[9px] text-gray-400 dark:text-slate-500 text-right italic",children:"* Mean adjusted by Black Level"}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx("button",{onClick:()=>o("histogram"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-cyan-600 hover:bg-cyan-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Histogram",children:"Hist"}),u.jsx("button",{onClick:()=>o("quant"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-teal-600 hover:bg-teal-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Quantization Steps",children:"Quant"}),u.jsx("button",{onClick:()=>o("fft"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-purple-600 hover:bg-purple-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Power Spectrum (FFT)",children:"FFT"}),u.jsx("button",{onClick:()=>o("pearson"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-indigo-600 hover:bg-indigo-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"Pearson Correlation Analysis",children:"PCC"}),u.jsx("button",{onClick:m,className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-pink-600 hover:bg-pink-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"Color Noise Analysis (External Tool)",children:"ColorN"})]})]})]})},OQ=()=>{var fu;const[e,t]=O.useState(!0),[r,n]=O.useState("Initializing..."),a=O.useRef(!1),[o,i]=O.useState("dark");O.useEffect(()=>{const z=window.document.documentElement;z.classList.remove(o==="dark"?"light":"dark"),z.classList.add(o)},[o]);const[s,l]=O.useState(!1),[c,f]=O.useState(!1),[d,h]=O.useState(!1),p=mQ(s||c||d),[m,v]=O.useState(!1),[x,y]=O.useState([]),[g,b]=O.useState(-1),[S,w]=O.useState([]),k=O.useMemo(()=>x[g],[x,g]),j=(k==null?void 0:k.file)||null,P=(k==null?void 0:k.imageElement)||null,_=(k==null?void 0:k.rawImageData)||null,A=(k==null?void 0:k.rawFileBuffer)||null,N=(k==null?void 0:k.renderedRawImageData)||null,E=(k==null?void 0:k.referenceImageData)||null,F=(k==null?void 0:k.sampledImageData)||null,D=(k==null?void 0:k.exifData)||null,T=(k==null?void 0:k.isThreePlane)||!1,I=(k==null?void 0:k.displaySettings)||{exposure:0,demosaicMethod:3,blackLevel:void 0,wbGains:[1,1],showKadc:!0,subtractBlackLevelFromStats:!0},[W,L]=O.useState(!1),[R,B]=O.useState(null),[te,X]=O.useState(!1),[G,U]=O.useState(!1),[ce,ue]=O.useState(null),[xe,ve]=O.useState([]),[V,le]=O.useState(100),[ge,Z]=O.useState(!0),[Xe,je]=O.useState(!1),[We,rt]=O.useState(null),[bt,Zt]=O.useState(!1),[$t,Tr]=O.useState(!1),[nt,sr]=O.useState(!1),[Qt,Fr]=O.useState(!1),[Vt,Dn]=O.useState(!1),[Kt,fr]=O.useState({x:0,y:0}),[dr,nr]=O.useState(!1),[lr,Pt]=O.useState(!1),[Ke,Dt]=O.useState(2),[Jt,hr]=O.useState(1),[Zr,jn]=O.useState([]),[Xt,Qr]=O.useState(null),[at,_r]=O.useState(0),[xr,Jr]=O.useState([]),[en,tn]=O.useState([]),[rn,Rn]=O.useState(64),[_t,K]=O.useState(10),[$e,Nt]=O.useState(10),[Qe,ee]=O.useState(4),[fe,ot]=O.useState(1),[Ct,Ue]=O.useState(0),[He,Rt]=O.useState("processed"),[Lt,Me]=O.useState(!1),wt=O.useMemo(()=>I.blackLevel?I.blackLevel:_!=null&&_.blackLevels?[_.blackLevels[0],_.blackLevels[1],_.blackLevels[2],_.blackLevels[3]]:[0,0,0,0],[I.blackLevel,_]),it=(D==null?void 0:D.ImageHeight)||(D==null?void 0:D.ExifImageHeight)||(_==null?void 0:_.height)||0,[ft,Je]=O.useState(null),[nn,De]=O.useState(null),[de,zr]=O.useState({x:0,y:0}),[ma,ya]=O.useState(1),[ao,Lh]=O.useState("pan"),Ei=O.useRef(null),pn=O.useRef(null);O.useEffect(()=>{(async()=>{if(a.current)return;const H=kQ();if(H&&(n("Restoring layout..."),i(H.theme),Z(H.sidebarOpen),H.sessions.length>0)){n(`Restoring ${H.sessions.length} images...`);const re=[];for(const J of H.sessions){if(a.current){console.log("Restoration cancelled.");return}await new Promise(me=>setTimeout(me,50));try{const me=await xQ(J.id);if(me){const Te={id:J.id,fileName:J.fileName,file:null,imageElement:null,rawImageData:null,rawFileBuffer:me,renderedRawImageData:null,referenceImageData:null,sampledImageData:null,exifData:null,isThreePlane:J.isThreePlane,displaySettings:J.displaySettings},{previewBlob:st,analysisData:Re}=await Kp(me);let Be=null;Re&&(Be=await M2(me,J.displaySettings));const Oe=URL.createObjectURL(st),Fe=new Image;Fe.src=Oe,await new Promise(lt=>{Fe.onload=()=>lt()}),re.push({...Te,rawImageData:Re,renderedRawImageData:Be,previewUrl:Oe,imageElement:Fe,exifData:Re.metadata})}}catch(me){console.error(`Failed to restore session ${J.id}`,me)}}if(a.current)return;if(y(re),H.activeSessionId){const J=re.findIndex(me=>me.id===H.activeSessionId);J>=0?b(J):re.length>0&&b(0)}ve(H.windows)}a.current||t(!1)})()},[]);const zo=O.useRef(null),oo=O.useCallback(()=>{e||(zo.current&&clearTimeout(zo.current),zo.current=window.setTimeout(async()=>{var re;const z={version:1,timestamp:Date.now(),activeSessionId:((re=x[g])==null?void 0:re.id)||null,theme:o,sidebarOpen:ge,sessions:x.map(J=>({id:J.id,fileName:J.fileName,fileType:J.file?J.file.type:"application/octet-stream",fileSize:J.rawFileBuffer?J.rawFileBuffer.byteLength:0,displaySettings:J.displaySettings,isThreePlane:J.isThreePlane})),windows:xe.map(J=>({id:J.id,type:J.type,roi:J.roi,zIndex:J.zIndex,initialPosition:J.initialPosition,sessionId:J.sessionId,isBGGR:J.isBGGR,isMinimized:J.isMinimized||!1,internalState:J.internalState}))};wQ(z);const H=x.map(J=>J.id);SQ(H)},1e3))},[x,xe,g,o,ge,e]);O.useEffect(()=>{oo()},[oo]);const Ti=O.useCallback(async()=>{a.current=!0,n("Cleaning up..."),localStorage.removeItem("jtr_workspace_index");try{await bQ()}catch(z){console.error("Failed to clear DB",z)}window.location.reload()},[]),Ca=O.useCallback(z=>{y(H=>H.map((re,J)=>J===g?{...re,...z}:re))},[g]),ll=()=>b(z=>Math.min(z+1,x.length-1)),Wo=()=>b(z=>Math.max(0,z-1));O.useEffect(()=>{if(_&&R){const z=Bi(_.data,_.width,_.height,R.x,R.y,R.width,R.height);B(z)}},[_]);const Uo=z=>{if(!R||!k)return;const H=Date.now().toString()+Math.random().toString().slice(2,5),re=Math.max(V,...xe.map(Te=>Te.zIndex),100),J=xe.length%10*30,me=z==="fft"?{x:50,y:50}:z==="histogram"?{x:100,y:100}:{x:150,y:150};ve(Te=>[...Te,{id:H,type:z,roi:{x:R.x,y:R.y,w:R.width,h:R.height},zIndex:re+1,initialPosition:{x:me.x+J,y:me.y+J},sessionId:k.id,isBGGR:te,isMinimized:!1,stackFiles:(z==="fft"||z==="pearson")&&S.length>0?S:void 0}])},cu=z=>{ve(H=>H.filter(re=>re.id!==z))},Ih=z=>{ve(H=>H.map(re=>re.id===z?{...re,isMinimized:!0}:re))},Bh=z=>{ve(H=>H.map(re=>re.id===z?{...re,isMinimized:!1}:re)),cl(z)},cl=z=>{ve(H=>{const re=Math.max(V,...H.map(J=>J.zIndex));return H.map(J=>J.id===z?{...J,zIndex:re+1}:J)})},Go=(z,H)=>{ve(re=>re.map(J=>J.id===z?{...J,internalState:{...J.internalState,...H}}:J))},Ho=()=>{const z=Math.max(V,...xe.map(H=>H.zIndex));le(z+1)},Fh=(z,H)=>{ve(re=>re.map(J=>J.id===z?{...J,roi:H}:J))};O.useEffect(()=>{if(!D)return;const z=D.CFAPattern2||D.CFAPattern;if(z){let H="";Array.isArray(z)?H=z.join(""):typeof z=="string"?H=z.replace(/[\s,]+/g,""):typeof z=="number"&&(H=String(z)),H==="0112"?X(!1):H==="2110"&&X(!0)}},[D]),O.useEffect(()=>{let z;const H=()=>{if(lr&&Vt){const re=Date.now()/1e3,J=.55+.45*Math.sin(re*Ke);hr(J),z=requestAnimationFrame(H)}else hr(1)};return lr&&Vt?H():hr(1),()=>{z&&cancelAnimationFrame(z)}},[lr,Vt,Ke]),O.useEffect(()=>{const z=H=>{H.key==="Escape"&&Vt&&(Dn(!1),fr({x:0,y:0}),Pt(!1))};return window.addEventListener("keydown",z),()=>window.removeEventListener("keydown",z)},[Vt]),O.useEffect(()=>()=>{x.forEach(z=>{z.previewUrl&&URL.revokeObjectURL(z.previewUrl)}),pn.current&&pn.current.terminate()},[]);const Ea=async(z,H=!0)=>{H&&(zr({x:0,y:0}),ya(1),_r(0),Jr([]),tn([]),je(!1),rt(null),L(!1));let re=null;if(p.isConnected){const Re=new FormData;Re.append("file",z);try{const Oe=await(await fetch("http://localhost:5428/read",{method:"POST",body:Re})).json();if(Oe.success){let Fe=Oe.data;Array.isArray(Fe)&&Fe.length===1&&(Fe=Fe[0]),re=Fe}}catch(Be){console.warn("Auto Exif fetch failed",Be)}}const J=z.name.toLowerCase().match(/\.(arw|cr2|cr3|dng|nef|orf|raf|rw2|pef|srw|sr2|srf|x3f|erf|mef|mos|mrw|kdc|dcr|iiq|3fr|fff|rwl|nrw|raw|tif|tiff)$/);if(!(["image/jpeg","image/png","image/tiff","image/x-adobe-dng"].includes(z.type)||J)){Je("Unsupported file type. Please load a JPG, PNG, or a supported RAW file.");return}let Te={file:z,exifData:re};if(J||z.type==="image/x-adobe-dng")try{H?De("Processing RAW file (this may take a moment)..."):Me(!0);const Re=await z.arrayBuffer();Te.rawFileBuffer=Re;const{previewBlob:Be,analysisData:Oe}=await Kp(Re);Te.rawImageData=Oe,Te.isThreePlane=Oe.isThreePlane||!1,Oe.isThreePlane&&H&&L(!0);const Fe=URL.createObjectURL(Be);Te.previewUrl=Fe;const lt=new Image;lt.src=Fe,await new Promise((St,oe)=>{lt.onload=()=>{Te.imageElement=lt,St()},lt.onerror=()=>{Je("Could not load the RAW file preview."),St()}})}catch(Re){Je(`Failed to process RAW file: ${Re.message}`),De(null),Me(!1);return}else try{De("Processing image...");const{previewBlob:Re,analysisData:Be}=await GZ(z);Te.rawImageData=Be,Te.rawFileBuffer=await z.arrayBuffer(),Te.isThreePlane=Be.isThreePlane||!1;const Oe=URL.createObjectURL(Re);Te.previewUrl=Oe;const Fe=new Image;Fe.src=Oe,await new Promise(lt=>{Fe.onload=()=>{Te.imageElement=Fe,lt()},Fe.onerror=()=>{Je("Could not load the image file."),lt()}})}catch(Re){Je(`Failed to process image: ${Re.message}`),De(null);return}const st=Date.now().toString()+Math.random();if(Te.rawFileBuffer&&await T2(st,Te.rawFileBuffer),H){const Re={exposure:0,demosaicMethod:3,blackLevel:void 0,wbGains:[1,1],showKadc:!0,subtractBlackLevelFromStats:!0},Be={id:st,fileName:z.name,file:z,imageElement:null,rawImageData:null,rawFileBuffer:null,renderedRawImageData:null,referenceImageData:null,sampledImageData:null,exifData:null,isThreePlane:!1,displaySettings:Re,...Te};y(Oe=>{const Fe=[...Oe,Be];return b(Fe.length-1),Fe})}else Ca(Te);De(null),Me(!1)},zh=async z=>{De("Converting to DNG...");try{const H=new FormData;H.append("file",z);const re=await fetch("http://localhost:5428/convert_dng",{method:"POST",body:H}),J=re.headers.get("content-type")||"";if(re.ok)if(J.includes("application/json")){const me=await re.json();throw new Error(me.error||"Conversion failed")}else{const me=await re.blob(),Te=URL.createObjectURL(me),st=document.createElement("a");st.href=Te;const Re=z.name,Be=Re.substring(0,Re.lastIndexOf("."))+".dng"||"converted.dng";st.download=Be,document.body.appendChild(st),st.click(),document.body.removeChild(st),URL.revokeObjectURL(Te);const Oe=new File([me],Be,{type:"image/x-adobe-dng"});await Ea(Oe,!0)}else{const me=await re.text();throw new Error(`HTTP ${re.status}: ${me}`)}}catch(H){De(null),Je(`Conversion Error: ${H.message}`)}},uu=(z,H)=>{z&&(H==="direct"?Ea(z,!0):zh(z))},Wh=async z=>{var re;const H=(re=z.target.files)==null?void 0:re[0];H&&(await Ea(H,!0),z.target.value="")},$=async(z,H,re,J)=>{!z||!H||(De("Processing Pair Difference (May take a while)..."),Je(null),setTimeout(async()=>{try{const me=await z.arrayBuffer(),Te=await H.arrayBuffer(),st=await Xp(me,Te,re,J),Re=Zp(st.width,st.height,st.rawData),Be=new File([Re],`Diff_${z.name}_${H.name}.dng`,{type:"image/x-adobe-dng"});await Ea(Be,!0),Uo("fft")}catch(me){console.error("Pair Processing Error",me),Je("Pair Processing Failed: "+me.message)}finally{De(null)}},100))},Y=async z=>{if(z.length<2){Je("Need at least 2 files for Batch Diff.");return}De(`Batch Processing 0/${Math.floor(z.length/2)} pairs...`);const H=Array.from(z).sort((re,J)=>re.name.localeCompare(J.name,void 0,{numeric:!0}));try{for(let re=0;re<H.length-1;re+=2){const J=H[re],me=H[re+1];De(`Batch Processing Pair ${Math.floor(re/2)+1}/${Math.floor(H.length/2)}: ${J.name} & ${me.name}`);const Te=await J.arrayBuffer(),st=await me.arrayBuffer(),Re=await Xp(Te,st,!1,!1),Be=Zp(Re.width,Re.height,Re.rawData),Oe=new Blob([Be],{type:"image/x-adobe-dng"}),Fe=URL.createObjectURL(Oe),lt=document.createElement("a");lt.href=Fe,lt.download=`Diff_${J.name}_${me.name}.dng`,document.body.appendChild(lt),lt.click(),document.body.removeChild(lt),URL.revokeObjectURL(Fe)}}catch(re){console.error("FFT Batch Error",re),Je("Batch Processing Failed: "+re.message)}finally{De(null)}},Q=async z=>{if(z.length<1)return;const H=Array.from(z).sort((re,J)=>re.name.localeCompare(J.name,void 0,{numeric:!0}));w(H),await Ea(H[0],!0)},C=async()=>{Me(!0);const z=128,H=z,re=z,J=H*re,me=new Uint16Array(J),Te=Pe=>{const we=Pe/Qe+Ct;return Math.sin(2*Math.PI*we)>=0?1:0},st=32,Re=fe*.5,Be=Math.max(1e-4,fe/st);for(let Pe=0;Pe<re;Pe++){let we=0;const et=Pe+.5-Re;for(let Ce=0;Ce<st;Ce++){const $r=et+(Ce+.5)*Be;we+=Te($r)}const dt=we/st,ct=Math.round(dt*65535);for(let Ce=0;Ce<H;Ce++)me[Pe*H+Ce]=ct}const Oe=new ImageData(Gr,Gr),Fe=Gr/H,lt=fe/2;for(let Pe=0;Pe<Gr;Pe++){const we=Pe/Fe,vt=Math.floor(we),et=we-vt,dt=et>=.5-lt&&et<.5+lt;for(let ct=0;ct<Gr;ct++){const Ce=ct/Fe,$r=Math.floor(Ce),gn=Ce-$r,Ta=gn>=.5-lt&&gn<.5+lt,gr=(Pe*Gr+ct)*4;if($r>=H||vt>=re){Oe.data[gr]=30,Oe.data[gr+1]=34,Oe.data[gr+2]=40,Oe.data[gr+3]=255;continue}if(dt&&Ta){const io=me[vt*H+$r],Vo=Math.round(io/257);Oe.data[gr]=Vo,Oe.data[gr+1]=Vo,Oe.data[gr+2]=Vo,Oe.data[gr+3]=255}else Oe.data[gr]=30,Oe.data[gr+1]=34,Oe.data[gr+2]=40,Oe.data[gr+3]=255}}const St=new ImageData(Gr,Gr),oe=re/Gr;for(let Pe=0;Pe<Gr;Pe++){const we=(Pe+.5)*oe,et=Te(we)>.5?255:0,dt=Pe*Gr*4;for(let ct=0;ct<Gr;ct++){const Ce=dt+ct*4;St.data[Ce]=et,St.data[Ce+1]=et,St.data[Ce+2]=et,St.data[Ce+3]=255}}const ke=Zp(H,re,me),be=new File([ke],"pattern_test.dng",{type:"image/x-adobe-dng"}),ye=Date.now().toString();try{const{previewBlob:Pe,analysisData:we}=await Kp(ke.slice(0)),vt=await M2(ke.slice(0),I),et=$2(vt,Gr,Gr),dt=URL.createObjectURL(Pe),ct=new Image;ct.src=dt,await new Promise($r=>{ct.onload=()=>$r()}),await T2(ye,ke);const Ce={id:ye,fileName:"pattern_test.dng",file:be,imageElement:ct,rawImageData:we,rawFileBuffer:ke,renderedRawImageData:et,referenceImageData:St,sampledImageData:Oe,exifData:null,isThreePlane:!1,previewUrl:dt,displaySettings:I};(j==null?void 0:j.name)==="pattern_test.dng"?Ca(Ce):y($r=>{const gn=[...$r,Ce];return b(gn.length-1),gn})}catch(Pe){console.error("Error generating pattern:",Pe),Je(`Error generating pattern: ${Pe.message}`)}Me(!1),De(null)},se=()=>{Zt(!0)},_e=()=>{Zt(!1),Rt("sampled"),De("Generating..."),setTimeout(()=>C(),50)},Ae=O.useRef({period:Qe,fill:fe,phase:Ct});O.useEffect(()=>{(j==null?void 0:j.name)==="pattern_test.dng"&&(Ae.current.period!==Qe||Ae.current.fill!==fe||Ae.current.phase!==Ct)&&(Ae.current={period:Qe,fill:fe,phase:Ct},C())},[Qe,fe,Ct,j]);const Ze=O.useCallback(z=>{if(Ca({displaySettings:z}),!A)return;Me(!0),pn.current&&pn.current.terminate();const H=new Worker(new URL("/assets/renderWorker-BmmCgTEZ.js",import.meta.url),{type:"module"});pn.current=H,H.onmessage=re=>{const{success:J,imageData:me,error:Te}=re.data;if(J){let st=me;(j==null?void 0:j.name)==="pattern_test.dng"&&(st=$2(me,Gr,Gr)),Ca({renderedRawImageData:st})}else Je(Te||"Unknown worker error");Me(!1),H.terminate(),pn.current=null},H.postMessage({buffer:A.slice(0),settings:z})},[A,j,Ca]);let Ve=N||P;He==="reference"&&E?Ve=E:He==="sampled"&&F&&(Ve=F);const Ie=nn||Lt,At=z=>{if(Ei.current){const H=Ei.current,{width:re,height:J}=H.getBoundingClientRect(),me=re/2,Te=J/2,st=z/ma,Re=me-(me-de.x)*st,Be=Te-(Te-de.y)*st;zr({x:Re,y:Be})}ya(z)},gt=z=>{if(!z)return;if(!_){B(null);return}G&&U(!1),Ho();const H=Bi(_.data,_.width,_.height,z.x,z.y,z.w,z.h);B(H)},It=z=>{ue(z),gt(z)},ar=()=>{Lh(z=>z==="pan"?"select":"pan")},ae=z=>{if(at===0||at>4)return;const H=[...xr,z];Jr(H),at===4?(Ne(H),_r(0)):_r(at+1)},Ye=(z,H,re,J)=>{const me=z[0],Te=z[1],st=z[2],Re=z[3],Be=H/2,Oe=[];for(let Fe=0;Fe<re;Fe++){const lt=re>1?Fe/(re-1):.5;for(let St=0;St<J;St++){const oe=J>1?St/(J-1):.5,ke=me.x*(1-oe)+Te.x*oe,be=me.y*(1-oe)+Te.y*oe,ye=st.x*(1-oe)+Re.x*oe,Pe=st.y*(1-oe)+Re.y*oe,we=ke*(1-lt)+ye*lt,vt=be*(1-lt)+Pe*lt,et=we-Be,dt=vt-Be;Oe.push({x:et,y:dt,w:H,h:H})}}return Oe},Ne=z=>{_&&(De("Calculating DR Lab Grid..."),setTimeout(()=>{try{const H=Ye(z,rn,_t,$e);tn(H);const Te=[...[`#BlackLevel: ${(I.blackLevel||[0,0,0,0]).join(",")}`,`#ImageHeight: ${_.height}`],"Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std"];H.forEach((Fe,lt)=>{const St=Math.floor(lt/$e)+1,oe=lt%$e+1,ke=Bi(_.data,_.width,_.height,Fe.x,Fe.y,Fe.w,Fe.h),be=ke.means,ye=ke.stdDevs,Pe=`${St},${oe},${be[0].toFixed(4)},${be[1].toFixed(4)},${be[2].toFixed(4)},${be[3].toFixed(4)},${ye[0].toFixed(4)},${ye[1].toFixed(4)},${ye[2].toFixed(4)},${ye[3].toFixed(4)}`;Te.push(Pe)});const st=Te.join(`
`),Re=new Blob([st],{type:"text/csv;charset=utf-8;"}),Be=URL.createObjectURL(Re),Oe=document.createElement("a");Oe.setAttribute("href",Be),Oe.setAttribute("download","dr_lab_results.csv"),document.body.appendChild(Oe),Oe.click(),document.body.removeChild(Oe),URL.revokeObjectURL(Be),Jr([])}catch(H){Je("DR Lab Error: "+H.message)}finally{De(null)}},100))},Bt=async(z,H)=>{if(xr.length<4&&en.length<1){Je("Please mark the grid on an image first before running batch processing.");return}let re=en;if(re.length===0&&xr.length===4&&(re=Ye(xr,rn,_t,$e)),re.length===0){Je("No grid definitions found. Mark corners first.");return}De(H==="pair"?"Batch Pair Processing...":"Batch Processing...");const me=(I.blackLevel||[0,0,0,0]).join(","),Te=_?_.height:0,Re=[...[`#BlackLevel: ${me}`,`#ImageHeight: ${Te}`,H==="pair"?"#Mode: Pair Difference (Sigma = Diff/sqrt(2))":"#Mode: Independent"],"Filename,Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std"],Be=Array.from(z).sort((Oe,Fe)=>Oe.name.localeCompare(Fe.name,void 0,{numeric:!0}));if(H==="pair"&&Be.length<2){Je("Need at least 2 files for Pair processing."),De(null);return}try{if(H==="single")for(let oe=0;oe<Be.length;oe++){const ke=Be[oe];De(`Processing ${oe+1}/${Be.length}: ${ke.name}...`);const be=await ke.arrayBuffer(),ye=await Cd(be);re.forEach((Pe,we)=>{const vt=Math.floor(we/$e)+1,et=we%$e+1,dt=Bi(ye.data,ye.width,ye.height,Pe.x,Pe.y,Pe.w,Pe.h),ct=dt.means,Ce=dt.stdDevs,$r=`${ke.name},${vt},${et},${ct[0].toFixed(4)},${ct[1].toFixed(4)},${ct[2].toFixed(4)},${ct[3].toFixed(4)},${Ce[0].toFixed(4)},${Ce[1].toFixed(4)},${Ce[2].toFixed(4)},${Ce[3].toFixed(4)}`;Re.push($r)})}else for(let oe=0;oe<Be.length-1;oe+=2){const ke=Be[oe],be=Be[oe+1],ye=`${ke.name} & ${be.name}`;De(`Processing Pair ${Math.floor(oe/2)+1}/${Math.floor(Be.length/2)}: ${ke.name} & ${be.name}...`);const Pe=await ke.arrayBuffer(),we=await Cd(Pe),vt=await be.arrayBuffer(),et=await Xp(Pe,vt,!1,!0);re.forEach((dt,ct)=>{const Ce=Math.floor(ct/$e)+1,$r=ct%$e+1,gn=Bi(we.data,we.width,we.height,dt.x,dt.y,dt.w,dt.h),Ta=Bi(et.rawData,et.width,et.height,dt.x,dt.y,dt.w,dt.h),gr=gn.means,io=Ta.stdDevs,Vo=`${ye},${Ce},${$r},${gr[0].toFixed(4)},${gr[1].toFixed(4)},${gr[2].toFixed(4)},${gr[3].toFixed(4)},${io[0].toFixed(4)},${io[1].toFixed(4)},${io[2].toFixed(4)},${io[3].toFixed(4)}`;Re.push(Vo)})}const Oe=Re.join(`
`),Fe=new Blob([Oe],{type:"text/csv;charset=utf-8;"}),lt=URL.createObjectURL(Fe),St=document.createElement("a");St.href=lt,St.setAttribute("download",`dr_lab_batch_${H}_${new Date().getTime()}.csv`),document.body.appendChild(St),St.click(),document.body.removeChild(St),URL.revokeObjectURL(lt)}catch(Oe){console.error("Batch Error",Oe),Je("Batch Processing Failed: "+Oe.message)}finally{De(null)}},kt=()=>{if(!_){Je("Please load an image first.");return}tn([]),Jr([]),_r(1)},an=async()=>{if(!j)return;if(p.isConnected?rt(null):rt(`JiangBridge Offline
JiangBridge Offline, limited content shown only`),p.isConnected){De("Reading EXIF (JiangBridge)...");try{const H=new FormData;H.append("file",j);const re=await fetch("http://localhost:5428/read",{method:"POST",body:H});if(!re.ok)throw new Error(`Bridge error: ${re.statusText}`);const J=await re.json();if(J.success){let me=J.data;Array.isArray(me)&&me.length===1&&(me=me[0]),Ca({exifData:me}),je(!0),De(null);return}else console.warn("Bridge returned error:",J.error)}catch(H){console.warn("Bridge fetch failed, falling back to LibRaw:",H)}De(null)}if(!_){Je("No image data available.");return}const z=_.metadata;if(!z){Je("No metadata found for this image.");return}Ca({exifData:z}),je(!0)},mt=O.useCallback(async z=>{De("Parsing CSV files...");const H=[];let re,J;try{const me=Array.from(z).map((Te,st)=>new Promise((Re,Be)=>{const Oe=new FileReader;Oe.onload=Fe=>{var ke;const lt=(ke=Fe.target)==null?void 0:ke.result;if(!lt)return Re();const St=lt.split(`
`);let oe=-1;for(let be=0;be<St.length;be++){const ye=St[be].trim();if(ye){if(st===0&&ye.startsWith("#")){if(ye.startsWith("#BlackLevel:")){const we=ye.replace("#BlackLevel:","").trim().split(/[\s,]+/).map(Number);we.length>=4&&!we.some(isNaN)&&(re=[we[0],we[1],we[2],we[3]])}else if(ye.startsWith("#ImageHeight:")){const Pe=ye.replace("#ImageHeight:","").trim(),we=parseInt(Pe);!isNaN(we)&&we>0&&(J=we)}continue}if(ye.startsWith("Row")||ye.startsWith("Filename")){oe=be+1;break}}}oe===-1&&(oe=1);for(let be=oe;be<St.length;be++){const ye=St[be].trim();if(!ye||ye.startsWith("#"))continue;const Pe=ye.split(",");let we=0;if(isNaN(Number(Pe[0]))&&(we=1),Pe.length<10+we)continue;const vt=we===1?Pe[0]:Te.name,et=Pe.map(Number),dt=et[0+we],ct=et[1+we],Ce=et[2+we],$r=et[3+we],gn=et[4+we],Ta=et[5+we],gr=et[6+we],io=et[7+we],Vo=et[8+we],E_=et[9+we];Ce>0&&H.push({channel:"R",mean:Ce,std:gr,filename:vt,row:dt,col:ct}),$r>0&&H.push({channel:"G1",mean:$r,std:io,filename:vt,row:dt,col:ct}),gn>0&&H.push({channel:"G2",mean:gn,std:Vo,filename:vt,row:dt,col:ct}),Ta>0&&H.push({channel:"B",mean:Ta,std:E_,filename:vt,row:dt,col:ct})}Re()},Oe.onerror=Be,Oe.readAsText(Te)}));await Promise.all(me),jn(H),Qr(re||J?{blackLevel:re,height:J}:null),l(!0)}catch(me){Je("Failed to parse CSV files: "+me.message)}finally{De(null)}},[]),pr=z=>{z.button===0&&nr(!0)},Nr=O.useCallback(z=>{dr&&fr(H=>({x:H.x+z.movementX,y:H.y+z.movementY}))},[dr]),Ln=O.useCallback(()=>{nr(!1)},[]);O.useEffect(()=>(dr?(window.addEventListener("mousemove",Nr),window.addEventListener("mouseup",Ln)):(window.removeEventListener("mousemove",Nr),window.removeEventListener("mouseup",Ln)),()=>{window.removeEventListener("mousemove",Nr),window.removeEventListener("mouseup",Ln)}),[dr,Nr,Ln]);const ul=()=>{if(!A||!j)return;const z=j.name||"pattern_test.dng",H=new Blob([A],{type:"image/x-adobe-dng"}),re=URL.createObjectURL(H),J=document.createElement("a");J.href=re,J.download=z,document.body.appendChild(J),J.click(),document.body.removeChild(J),URL.revokeObjectURL(re)};return e?u.jsxs("div",{className:"flex flex-col h-screen items-center justify-center bg-gray-50 dark:bg-slate-950 text-gray-900 dark:text-slate-200",children:[u.jsx("div",{className:"w-12 h-12 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mb-4"}),u.jsx("h2",{className:"text-xl font-bold animate-pulse",children:r}),u.jsx("p",{className:"text-sm text-gray-500 mt-2 mb-6",children:"Loading stored buffers from database..."}),u.jsx("button",{onClick:Ti,className:"px-6 py-2 bg-red-100 hover:bg-red-200 dark:bg-red-900/30 dark:hover:bg-red-900/50 text-red-700 dark:text-red-300 font-bold rounded-lg transition-colors border border-red-200 dark:border-red-800 text-sm",children:"Abandon Saved Session (Start Fresh)"})]}):u.jsxs("div",{className:"flex flex-col h-screen bg-white dark:bg-slate-950 text-gray-900 dark:text-slate-200 font-sans transition-colors duration-300",children:[u.jsx("div",{className:"p-4 pb-0",children:u.jsx(sM,{onLoadImage:Wh,onFileSelected:uu,onGenerateFakeDng:se,fileName:j?j.name:null,hasGeneratedData:(j==null?void 0:j.name)==="pattern_test.dng",viewMode:He,onSetViewMode:Rt,patternPeriod:Qe,onPatternPeriodChange:ee,fillFactor:fe,onFillFactorChange:ot,patternPhase:Ct,onPatternPhaseChange:Ue,showPatternControls:(j==null?void 0:j.name)==="pattern_test.dng",onOpenAbout:()=>Tr(!0),onShowExif:an,bridgeStatus:p,onBridgeClick:()=>v(!0),isDrLabOpen:nt,onToggleDrLab:()=>{sr(!nt),_r(0),Jr([]),tn([]),Qt&&Fr(!1)},isFftLabOpen:Qt,onToggleFftLab:()=>{Fr(!Qt),nt&&sr(!1)},onGenerateTestPic:()=>Dn(!0),onPTCFilesSelected:mt,onDownloadDng:ul,isThreePlane:T,onOpenDatabase:()=>f(!0)})}),u.jsxs("div",{className:"flex flex-1 overflow-hidden p-4 pt-2 gap-4 relative",children:[u.jsxs("div",{className:"flex-1 relative bg-gray-100 dark:bg-slate-900 rounded-2xl border border-gray-200 dark:border-slate-800 shadow-inner overflow-hidden transition-colors duration-300",ref:Ei,children:[Ie&&u.jsxs("div",{className:"absolute bottom-4 right-4 z-50 flex items-center gap-2 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm px-3 py-1.5 rounded-full border border-cyan-500/30 shadow-sm",children:[u.jsx("div",{className:"w-4 h-4 border-2 border-cyan-500 border-t-transparent rounded-full animate-spin"}),u.jsx("span",{className:"text-xs text-cyan-600 dark:text-cyan-400 font-mono",children:nn||"Processing..."})]}),x.length>1&&u.jsxs("div",{className:"absolute bottom-4 right-20 z-50 flex items-center gap-2 bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm px-3 py-1.5 rounded-lg border border-gray-200 dark:border-slate-700 shadow-lg text-sm font-mono text-gray-700 dark:text-slate-200",children:[u.jsx("button",{onClick:Wo,disabled:g<=0,className:"hover:text-cyan-500 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Previous Image",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),u.jsxs("span",{className:"min-w-[3rem] text-center select-none font-bold",children:[g+1," / ",x.length]}),u.jsx("button",{onClick:ll,disabled:g>=x.length-1,className:"hover:text-cyan-500 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Next Image",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),u.jsxs("div",{className:"absolute bottom-4 left-4 z-50 flex flex-col-reverse gap-2 items-start pointer-events-none",children:[G&&R&&u.jsxs("div",{className:"pointer-events-auto flex items-center gap-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg shadow-lg overflow-hidden animate-in slide-in-from-bottom-2 fade-in",children:[u.jsxs("button",{onClick:()=>U(!1),className:"px-3 py-1.5 text-xs font-bold text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[u.jsx("span",{className:"w-2 h-2 rounded-full bg-cyan-500"}),"ROI Stats"]}),u.jsx("button",{onClick:()=>{U(!1),B(null)},className:"px-2 py-1.5 text-gray-400 hover:text-red-500 hover:bg-gray-100 dark:hover:bg-slate-700 border-l border-gray-200 dark:border-slate-700 transition-colors",children:u.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),xe.filter(z=>z.isMinimized).map(z=>{let H="Window",re="bg-gray-500";return z.type==="histogram"?(H="Histogram",re="bg-purple-500"):z.type==="fft"?(H="FFT Spectrum",re="bg-fuchsia-500"):z.type==="quant"?(H="Quantization",re="bg-teal-500"):z.type==="pearson"&&(H="Pearson",re="bg-indigo-500"),u.jsxs("div",{className:"pointer-events-auto flex items-center gap-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg shadow-lg overflow-hidden animate-in slide-in-from-bottom-2 fade-in",children:[u.jsxs("button",{onClick:()=>Bh(z.id),className:"px-3 py-1.5 text-xs font-bold text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[u.jsx("span",{className:`w-2 h-2 rounded-full ${re}`}),H]}),u.jsx("button",{onClick:()=>cu(z.id),className:"px-2 py-1.5 text-gray-400 hover:text-red-500 hover:bg-gray-100 dark:hover:bg-slate-700 border-l border-gray-200 dark:border-slate-700 transition-colors",children:u.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},z.id)})]}),!G&&u.jsx(jQ,{stats:R,onClose:()=>{B(null),ue(null)},onMinimize:()=>U(!0),isBGGR:te,onToggleBGGR:X,onOpenWindow:Uo,displaySettings:I,zIndex:V,onFocus:Ho}),u.jsx(oQ,{isOpen:$t,onClose:()=>Tr(!1)}),u.jsx(iQ,{isOpen:Xe,onClose:()=>je(!1),data:D,fileName:j?j.name:"",warning:We}),u.jsx(lQ,{isOpen:s,onClose:()=>l(!1),data:Zr,blackLevel:wt,imageHeight:it,isBGGR:te,importedMetadata:Xt||void 0,theme:o,initialCameraModel:(D==null?void 0:D.Model)||"",initialISO:(D==null?void 0:D.ISO)||((fu=D==null?void 0:D.ISOSpeedRatings)==null?void 0:fu.toString())||""}),u.jsx(hQ,{isOpen:c,onClose:()=>f(!1),theme:o}),u.jsx(pQ,{isOpen:d,onClose:()=>h(!1),zIndex:200}),u.jsx(hc,{isOpen:bt,onClose:()=>Zt(!1),onConfirm:_e,title:"High Resource Usage Warning",confirmText:"I know the risk and insist to continue",message:u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("p",{children:"Patter DNG mode involves high-frequency refreshing and heavy computation. Due to current memory management limitations, repeated use may lead to browser memory overflow or crashes. Please proceed with caution."}),u.jsx("p",{className:"text-xs text-gray-500"})]})}),xe.map(z=>{if(z.isMinimized)return null;const H=x.find(me=>me.id===z.sessionId),re=H==null?void 0:H.rawImageData;if(!re)return null;const J={key:z.id,isOpen:!0,onClose:()=>cu(z.id),onMinimize:()=>Ih(z.id),rawImageData:re,roi:z.roi,isBGGR:z.isBGGR,zIndex:z.zIndex,onFocus:()=>cl(z.id),initialPosition:z.initialPosition,initialInternalState:z.internalState,onUpdateState:me=>Go(z.id,me),stackFiles:z.stackFiles};return z.type==="histogram"?u.jsx(ZZ,{...J}):z.type==="fft"?u.jsx(tQ,{...J,onUpdateROI:me=>Fh(z.id,me)}):z.type==="quant"?u.jsx(rQ,{...J}):z.type==="pearson"?u.jsx(nQ,{...J}):null}),ft&&u.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-white/90 dark:bg-slate-900/90 p-8",children:u.jsxs("div",{className:"max-w-md text-center p-6 bg-white dark:bg-slate-800 rounded-xl border border-red-500/50 shadow-xl",children:[u.jsx("h3",{className:"text-xl font-bold text-red-500 dark:text-red-400 mb-2",children:"Notice"}),u.jsx("p",{className:"text-gray-600 dark:text-slate-300 mb-6 whitespace-pre-wrap",children:ft}),u.jsx("button",{onClick:()=>Je(null),className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 dark:bg-slate-700 dark:hover:bg-slate-600 rounded-lg text-gray-900 dark:text-white transition-colors",children:"Dismiss"})]})}),!Ve&&!Ie&&!ft&&u.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-gray-400 dark:text-slate-600 select-none",children:u.jsx("p",{className:"text-lg",children:"Load an image or generate a pattern"})}),u.jsx(lM,{image:Ve,zoom:ma,pan:de,onPanChange:zr,onZoomChange:At,onSelectionChange:gt,forcedSelection:ce,theme:o,touchAction:ao,isMarking:at>0,onPointClick:ae,markers:xr,gridRects:en}),u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-1/2 z-30 pointer-events-none select-none opacity-20 mix-blend-normal dark:mix-blend-plus-lighter",children:u.jsx("svg",{viewBox:"0 0 500 60",className:"w-full h-auto drop-shadow-xl",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),_&&!at&&u.jsxs("div",{className:"absolute bottom-4 left-4 z-30 pointer-events-none opacity-50 text-[10px] text-gray-500 dark:text-slate-400",children:["Hold ",u.jsx("b",{children:"Shift"})," + Drag to calculate Raw ROI stats"]}),u.jsx(vM,{zoom:ma,onZoomChange:At,onResetView:()=>{ya(1),zr({x:0,y:0})},touchAction:ao,onToggleTouchAction:ar}),!ge&&u.jsx("button",{onClick:()=>Z(!0),className:"absolute right-0 top-1/2 -translate-y-1/2 z-50 bg-white dark:bg-slate-900 border-y border-l border-gray-200 dark:border-slate-800 shadow-md p-1.5 rounded-l-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors animate-in fade-in slide-in-from-right-2",title:"Show Tools",children:u.jsx("svg",{className:"w-4 h-4 text-gray-500 dark:text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})})]}),u.jsxs("div",{className:`flex-shrink-0 flex flex-col bg-white dark:bg-slate-900 rounded-2xl border border-gray-200 dark:border-slate-800 shadow-xl overflow-hidden transition-all duration-300 ease-in-out ${ge?"w-80 translate-x-0 opacity-100 ml-0":"w-0 translate-x-20 opacity-0 p-0 border-0 pointer-events-none ml-0"}`,children:[u.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-gray-200 dark:border-slate-800 bg-gray-50/50 dark:bg-slate-800/50 flex-shrink-0",children:[u.jsx("h2",{className:"font-bold text-sm text-gray-700 dark:text-slate-300 uppercase tracking-wide flex items-center gap-2",children:u.jsx("span",{children:"Tools"})}),u.jsx("button",{onClick:()=>Z(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-1 rounded hover:bg-gray-200 dark:hover:bg-slate-700",title:"Hide Tools",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),u.jsx("div",{className:"flex-1 overflow-hidden relative",children:u.jsx(uM,{rawImageData:_,displaySettings:I,onApplyDisplaySettings:Ze,onSetSelection:It,exifData:D,isBridgeConnected:p.isConnected,isDrLabOpen:nt,drMarkingStep:at,onStartMarking:kt,onGenerateTestPic:()=>Dn(!0),drRoiSize:rn,onDrRoiSizeChange:Rn,drGridRows:_t,onDrGridRowsChange:K,drGridCols:$e,onDrGridColsChange:Nt,onBatchDrLab:Bt,hasDrMarkers:en.length>0||xr.length===4,isFftLabOpen:Qt,onProcessPair:$,onProcessBatchDiff:Y,onProcessStackFft:Q,onOpenCrossCalc:()=>h(!0),isThreePlane:_==null?void 0:_.isThreePlane})})]})]}),Vt&&u.jsxs("div",{className:"fixed inset-0 z-[200] bg-black overflow-hidden",children:[u.jsx("div",{onMouseDown:pr,style:{transform:`translate(${Kt.x}px, ${Kt.y}px)`,cursor:dr?"grabbing":"grab",opacity:Jt,transition:"opacity 0.1s linear"},className:"w-full h-full flex items-center justify-center",children:u.jsx("img",{src:"/drtest.png",alt:"DR Test",className:"max-w-full max-h-full object-contain pointer-events-none select-none",draggable:!1})}),u.jsxs("div",{className:"absolute top-4 right-4 flex flex-col items-end gap-2 pointer-events-none z-[201]",children:[u.jsx("div",{className:"text-white/50 text-sm bg-black/50 px-3 py-1 rounded backdrop-blur-sm",children:"Press ESC to exit | Drag to move"}),u.jsx("div",{className:"text-white/20 text-xs px-2 select-none",children:"F11 full screen"}),u.jsx("div",{className:"text-red-900/80 text-lg px-2 select-none font-bold mt-4",children:""}),u.jsx("div",{className:"text-red-900/60 text-xs px-2 select-none",children:"Shoot slightly out of focus"})]}),u.jsxs("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 bg-black/60 backdrop-blur-md p-4 rounded-xl border border-gray-700 flex flex-col gap-3 items-center z-[202]",children:[u.jsx("button",{onClick:()=>Pt(!lr),className:`px-4 py-2 rounded-lg font-bold text-sm transition-colors ${lr?"bg-amber-500 text-black hover:bg-amber-400":"bg-gray-700 text-white hover:bg-gray-600"}`,children:lr?"Stop Breathing":"Start Breathing"}),lr&&u.jsxs("div",{className:"flex items-center gap-3 w-64 animate-in fade-in",children:[u.jsx("span",{className:"text-xs text-gray-400 font-bold uppercase",children:"Speed"}),u.jsx("input",{type:"range",min:"0.5",max:"10",step:"0.5",value:Ke,onChange:z=>Dt(parseFloat(z.target.value)),className:"flex-1 h-1.5 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-amber-500"}),u.jsx("span",{className:"text-xs text-amber-500 w-8 text-right",children:Ke.toFixed(1)})]})]})]}),u.jsx(xM,{theme:o,setTheme:i})]})},C_=document.getElementById("root");if(!C_)throw new Error("Could not find root element to mount to");const PQ=Qp.createRoot(C_);PQ.render(u.jsx(M.StrictMode,{children:u.jsx(OQ,{})}));export{BZ as _};
