var kP=Object.defineProperty;var jP=(e,t,r)=>t in e?kP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var wn=(e,t,r)=>jP(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var Ku=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var vk={exports:{}},vh={},xk={exports:{}},nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nu=Symbol.for("react.element"),SP=Symbol.for("react.portal"),NP=Symbol.for("react.fragment"),_P=Symbol.for("react.strict_mode"),OP=Symbol.for("react.profiler"),PP=Symbol.for("react.provider"),AP=Symbol.for("react.context"),MP=Symbol.for("react.forward_ref"),CP=Symbol.for("react.suspense"),EP=Symbol.for("react.memo"),TP=Symbol.for("react.lazy"),ix=Symbol.iterator;function $P(e){return e===null||typeof e!="object"?null:(e=ix&&e[ix]||e["@@iterator"],typeof e=="function"?e:null)}var bk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wk=Object.assign,kk={};function vl(e,t,r){this.props=e,this.context=t,this.refs=kk,this.updater=r||bk}vl.prototype.isReactComponent={};vl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};vl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function jk(){}jk.prototype=vl.prototype;function ry(e,t,r){this.props=e,this.context=t,this.refs=kk,this.updater=r||bk}var ny=ry.prototype=new jk;ny.constructor=ry;wk(ny,vl.prototype);ny.isPureReactComponent=!0;var sx=Array.isArray,Sk=Object.prototype.hasOwnProperty,ay={current:null},Nk={key:!0,ref:!0,__self:!0,__source:!0};function _k(e,t,r){var n,a={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)Sk.call(t,n)&&!Nk.hasOwnProperty(n)&&(a[n]=t[n]);var s=arguments.length-2;if(s===1)a.children=r;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)a[n]===void 0&&(a[n]=s[n]);return{$$typeof:Nu,type:e,key:o,ref:i,props:a,_owner:ay.current}}function DP(e,t){return{$$typeof:Nu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function oy(e){return typeof e=="object"&&e!==null&&e.$$typeof===Nu}function RP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var lx=/\/+/g;function _0(e,t){return typeof e=="object"&&e!==null&&e.key!=null?RP(""+e.key):t.toString(36)}function Af(e,t,r,n,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Nu:case SP:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+_0(i,0):n,sx(a)?(r="",e!=null&&(r=e.replace(lx,"$&/")+"/"),Af(a,t,r,"",function(c){return c})):a!=null&&(oy(a)&&(a=DP(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(lx,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",sx(e))for(var s=0;s<e.length;s++){o=e[s];var l=n+_0(o,s);i+=Af(o,t,r,l,a)}else if(l=$P(e),typeof l=="function")for(e=l.call(e),s=0;!(o=e.next()).done;)o=o.value,l=n+_0(o,s++),i+=Af(o,t,r,l,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Yu(e,t,r){if(e==null)return e;var n=[],a=0;return Af(e,n,"","",function(o){return t.call(r,o,a++)}),n}function LP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var _n={current:null},Mf={transition:null},IP={ReactCurrentDispatcher:_n,ReactCurrentBatchConfig:Mf,ReactCurrentOwner:ay};function Ok(){throw Error("act(...) is not supported in production builds of React.")}nt.Children={map:Yu,forEach:function(e,t,r){Yu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Yu(e,function(){t++}),t},toArray:function(e){return Yu(e,function(t){return t})||[]},only:function(e){if(!oy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};nt.Component=vl;nt.Fragment=NP;nt.Profiler=OP;nt.PureComponent=ry;nt.StrictMode=_P;nt.Suspense=CP;nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IP;nt.act=Ok;nt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=wk({},e.props),a=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=ay.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)Sk.call(t,l)&&!Nk.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];n.children=s}return{$$typeof:Nu,type:e.type,key:a,ref:o,props:n,_owner:i}};nt.createContext=function(e){return e={$$typeof:AP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:PP,_context:e},e.Consumer=e};nt.createElement=_k;nt.createFactory=function(e){var t=_k.bind(null,e);return t.type=e,t};nt.createRef=function(){return{current:null}};nt.forwardRef=function(e){return{$$typeof:MP,render:e}};nt.isValidElement=oy;nt.lazy=function(e){return{$$typeof:TP,_payload:{_status:-1,_result:e},_init:LP}};nt.memo=function(e,t){return{$$typeof:EP,type:e,compare:t===void 0?null:t}};nt.startTransition=function(e){var t=Mf.transition;Mf.transition={};try{e()}finally{Mf.transition=t}};nt.unstable_act=Ok;nt.useCallback=function(e,t){return _n.current.useCallback(e,t)};nt.useContext=function(e){return _n.current.useContext(e)};nt.useDebugValue=function(){};nt.useDeferredValue=function(e){return _n.current.useDeferredValue(e)};nt.useEffect=function(e,t){return _n.current.useEffect(e,t)};nt.useId=function(){return _n.current.useId()};nt.useImperativeHandle=function(e,t,r){return _n.current.useImperativeHandle(e,t,r)};nt.useInsertionEffect=function(e,t){return _n.current.useInsertionEffect(e,t)};nt.useLayoutEffect=function(e,t){return _n.current.useLayoutEffect(e,t)};nt.useMemo=function(e,t){return _n.current.useMemo(e,t)};nt.useReducer=function(e,t,r){return _n.current.useReducer(e,t,r)};nt.useRef=function(e){return _n.current.useRef(e)};nt.useState=function(e){return _n.current.useState(e)};nt.useSyncExternalStore=function(e,t,r){return _n.current.useSyncExternalStore(e,t,r)};nt.useTransition=function(){return _n.current.useTransition()};nt.version="18.3.1";xk.exports=nt;var S=xk.exports;const I=$t(S);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BP=S,FP=Symbol.for("react.element"),zP=Symbol.for("react.fragment"),UP=Object.prototype.hasOwnProperty,WP=BP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,GP={key:!0,ref:!0,__self:!0,__source:!0};function Pk(e,t,r){var n,a={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)UP.call(t,n)&&!GP.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:FP,type:e,key:o,ref:i,props:a,_owner:WP.current}}vh.Fragment=zP;vh.jsx=Pk;vh.jsxs=Pk;vk.exports=vh;var u=vk.exports,Cp={},Ak={exports:{}},ra={},Mk={exports:{}},Ck={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,D){var G=E.length;E.push(D);e:for(;0<G;){var Z=G-1>>>1,K=E[Z];if(0<a(K,D))E[Z]=D,E[G]=K,G=Z;else break e}}function r(E){return E.length===0?null:E[0]}function n(E){if(E.length===0)return null;var D=E[0],G=E.pop();if(G!==D){E[0]=G;e:for(var Z=0,K=E.length,L=K>>>1;Z<L;){var te=2*(Z+1)-1,Q=E[te],R=te+1,ae=E[R];if(0>a(Q,G))R<K&&0>a(ae,Q)?(E[Z]=ae,E[R]=G,Z=R):(E[Z]=Q,E[te]=G,Z=te);else if(R<K&&0>a(ae,G))E[Z]=ae,E[R]=G,Z=R;else break e}}return D}function a(E,D){var G=E.sortIndex-D.sortIndex;return G!==0?G:E.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,s=i.now();e.unstable_now=function(){return i.now()-s}}var l=[],c=[],d=1,f=null,h=3,p=!1,m=!1,v=!1,k=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(E){for(var D=r(c);D!==null;){if(D.callback===null)n(c);else if(D.startTime<=E)n(c),D.sortIndex=D.expirationTime,t(l,D);else break;D=r(c)}}function j(E){if(v=!1,x(E),!m)if(r(l)!==null)m=!0,U(b);else{var D=r(c);D!==null&&A(j,D.startTime-E)}}function b(E,D){m=!1,v&&(v=!1,y(_),_=-1),p=!0;var G=h;try{for(x(D),f=r(l);f!==null&&(!(f.expirationTime>D)||E&&!M());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,h=f.priorityLevel;var K=Z(f.expirationTime<=D);D=e.unstable_now(),typeof K=="function"?f.callback=K:f===r(l)&&n(l),x(D)}else n(l);f=r(l)}if(f!==null)var L=!0;else{var te=r(c);te!==null&&A(j,te.startTime-D),L=!1}return L}finally{f=null,h=G,p=!1}}var w=!1,N=null,_=-1,O=5,P=-1;function M(){return!(e.unstable_now()-P<O)}function C(){if(N!==null){var E=e.unstable_now();P=E;var D=!0;try{D=N(!0,E)}finally{D?$():(w=!1,N=null)}}else w=!1}var $;if(typeof g=="function")$=function(){g(C)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,T=F.port2;F.port1.onmessage=C,$=function(){T.postMessage(null)}}else $=function(){k(C,0)};function U(E){N=E,w||(w=!0,$())}function A(E,D){_=k(function(){E(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,U(b))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(E){switch(h){case 1:case 2:case 3:var D=3;break;default:D=h}var G=h;h=D;try{return E()}finally{h=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,D){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var G=h;h=E;try{return D()}finally{h=G}},e.unstable_scheduleCallback=function(E,D,G){var Z=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?Z+G:Z):G=Z,E){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=G+K,E={id:d++,callback:D,priorityLevel:E,startTime:G,expirationTime:K,sortIndex:-1},G>Z?(E.sortIndex=G,t(c,E),r(l)===null&&E===r(c)&&(v?(y(_),_=-1):v=!0,A(j,G-Z))):(E.sortIndex=K,t(l,E),m||p||(m=!0,U(b))),E},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(E){var D=h;return function(){var G=h;h=D;try{return E.apply(this,arguments)}finally{h=G}}}})(Ck);Mk.exports=Ck;var HP=Mk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VP=S,ta=HP;function ue(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ek=new Set,Nc={};function Yi(e,t){Bs(e,t),Bs(e+"Capture",t)}function Bs(e,t){for(Nc[e]=t,e=0;e<t.length;e++)Ek.add(t[e])}var xo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ep=Object.prototype.hasOwnProperty,XP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cx={},ux={};function KP(e){return Ep.call(ux,e)?!0:Ep.call(cx,e)?!1:XP.test(e)?ux[e]=!0:(cx[e]=!0,!1)}function YP(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qP(e,t,r,n){if(t===null||typeof t>"u"||YP(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function On(e,t,r,n,a,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var en={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){en[e]=new On(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];en[t]=new On(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){en[e]=new On(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){en[e]=new On(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){en[e]=new On(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){en[e]=new On(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){en[e]=new On(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){en[e]=new On(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){en[e]=new On(e,5,!1,e.toLowerCase(),null,!1,!1)});var iy=/[\-:]([a-z])/g;function sy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(iy,sy);en[t]=new On(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(iy,sy);en[t]=new On(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(iy,sy);en[t]=new On(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){en[e]=new On(e,1,!1,e.toLowerCase(),null,!1,!1)});en.xlinkHref=new On("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){en[e]=new On(e,1,!1,e.toLowerCase(),null,!0,!0)});function ly(e,t,r,n){var a=en.hasOwnProperty(t)?en[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(qP(t,r,a,n)&&(r=null),n||a===null?KP(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var _o=VP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qu=Symbol.for("react.element"),ps=Symbol.for("react.portal"),gs=Symbol.for("react.fragment"),cy=Symbol.for("react.strict_mode"),Tp=Symbol.for("react.profiler"),Tk=Symbol.for("react.provider"),$k=Symbol.for("react.context"),uy=Symbol.for("react.forward_ref"),$p=Symbol.for("react.suspense"),Dp=Symbol.for("react.suspense_list"),fy=Symbol.for("react.memo"),$o=Symbol.for("react.lazy"),Dk=Symbol.for("react.offscreen"),fx=Symbol.iterator;function Bl(e){return e===null||typeof e!="object"?null:(e=fx&&e[fx]||e["@@iterator"],typeof e=="function"?e:null)}var ar=Object.assign,O0;function nc(e){if(O0===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);O0=t&&t[1]||""}return`
`+O0+e}var P0=!1;function A0(e,t){if(!e||P0)return"";P0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),o=n.stack.split(`
`),i=a.length-1,s=o.length-1;1<=i&&0<=s&&a[i]!==o[s];)s--;for(;1<=i&&0<=s;i--,s--)if(a[i]!==o[s]){if(i!==1||s!==1)do if(i--,s--,0>s||a[i]!==o[s]){var l=`
`+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=s);break}}}finally{P0=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?nc(e):""}function ZP(e){switch(e.tag){case 5:return nc(e.type);case 16:return nc("Lazy");case 13:return nc("Suspense");case 19:return nc("SuspenseList");case 0:case 2:case 15:return e=A0(e.type,!1),e;case 11:return e=A0(e.type.render,!1),e;case 1:return e=A0(e.type,!0),e;default:return""}}function Rp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case gs:return"Fragment";case ps:return"Portal";case Tp:return"Profiler";case cy:return"StrictMode";case $p:return"Suspense";case Dp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $k:return(e.displayName||"Context")+".Consumer";case Tk:return(e._context.displayName||"Context")+".Provider";case uy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case fy:return t=e.displayName||null,t!==null?t:Rp(e.type)||"Memo";case $o:t=e._payload,e=e._init;try{return Rp(e(t))}catch{}}return null}function QP(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rp(t);case 8:return t===cy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ri(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Rk(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function JP(e){var t=Rk(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Zu(e){e._valueTracker||(e._valueTracker=JP(e))}function Lk(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Rk(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Wf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Lp(e,t){var r=t.checked;return ar({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function dx(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ri(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ik(e,t){t=t.checked,t!=null&&ly(e,"checked",t,!1)}function Ip(e,t){Ik(e,t);var r=ri(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Bp(e,t.type,r):t.hasOwnProperty("defaultValue")&&Bp(e,t.type,ri(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function hx(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Bp(e,t,r){(t!=="number"||Wf(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ac=Array.isArray;function As(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ri(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Fp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ue(91));return ar({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function px(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ue(92));if(ac(r)){if(1<r.length)throw Error(ue(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ri(r)}}function Bk(e,t){var r=ri(t.value),n=ri(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function gx(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Fk(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Fk(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qu,zk=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qu=Qu||document.createElement("div"),Qu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _c(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var lc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eA=["Webkit","ms","Moz","O"];Object.keys(lc).forEach(function(e){eA.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),lc[t]=lc[e]})});function Uk(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||lc.hasOwnProperty(e)&&lc[e]?(""+t).trim():t+"px"}function Wk(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=Uk(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var tA=ar({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Up(e,t){if(t){if(tA[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ue(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ue(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ue(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ue(62))}}function Wp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gp=null;function dy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Hp=null,Ms=null,Cs=null;function mx(e){if(e=Pu(e)){if(typeof Hp!="function")throw Error(ue(280));var t=e.stateNode;t&&(t=jh(t),Hp(e.stateNode,e.type,t))}}function Gk(e){Ms?Cs?Cs.push(e):Cs=[e]:Ms=e}function Hk(){if(Ms){var e=Ms,t=Cs;if(Cs=Ms=null,mx(e),t)for(e=0;e<t.length;e++)mx(t[e])}}function Vk(e,t){return e(t)}function Xk(){}var M0=!1;function Kk(e,t,r){if(M0)return e(t,r);M0=!0;try{return Vk(e,t,r)}finally{M0=!1,(Ms!==null||Cs!==null)&&(Xk(),Hk())}}function Oc(e,t){var r=e.stateNode;if(r===null)return null;var n=jh(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ue(231,t,typeof r));return r}var Vp=!1;if(xo)try{var Fl={};Object.defineProperty(Fl,"passive",{get:function(){Vp=!0}}),window.addEventListener("test",Fl,Fl),window.removeEventListener("test",Fl,Fl)}catch{Vp=!1}function rA(e,t,r,n,a,o,i,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var cc=!1,Gf=null,Hf=!1,Xp=null,nA={onError:function(e){cc=!0,Gf=e}};function aA(e,t,r,n,a,o,i,s,l){cc=!1,Gf=null,rA.apply(nA,arguments)}function oA(e,t,r,n,a,o,i,s,l){if(aA.apply(this,arguments),cc){if(cc){var c=Gf;cc=!1,Gf=null}else throw Error(ue(198));Hf||(Hf=!0,Xp=c)}}function qi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Yk(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function yx(e){if(qi(e)!==e)throw Error(ue(188))}function iA(e){var t=e.alternate;if(!t){if(t=qi(e),t===null)throw Error(ue(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var o=a.alternate;if(o===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return yx(a),e;if(o===n)return yx(a),t;o=o.sibling}throw Error(ue(188))}if(r.return!==n.return)r=a,n=o;else{for(var i=!1,s=a.child;s;){if(s===r){i=!0,r=a,n=o;break}if(s===n){i=!0,n=a,r=o;break}s=s.sibling}if(!i){for(s=o.child;s;){if(s===r){i=!0,r=o,n=a;break}if(s===n){i=!0,n=o,r=a;break}s=s.sibling}if(!i)throw Error(ue(189))}}if(r.alternate!==n)throw Error(ue(190))}if(r.tag!==3)throw Error(ue(188));return r.stateNode.current===r?e:t}function qk(e){return e=iA(e),e!==null?Zk(e):null}function Zk(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Zk(e);if(t!==null)return t;e=e.sibling}return null}var Qk=ta.unstable_scheduleCallback,vx=ta.unstable_cancelCallback,sA=ta.unstable_shouldYield,lA=ta.unstable_requestPaint,vr=ta.unstable_now,cA=ta.unstable_getCurrentPriorityLevel,hy=ta.unstable_ImmediatePriority,Jk=ta.unstable_UserBlockingPriority,Vf=ta.unstable_NormalPriority,uA=ta.unstable_LowPriority,ej=ta.unstable_IdlePriority,xh=null,Ga=null;function fA(e){if(Ga&&typeof Ga.onCommitFiberRoot=="function")try{Ga.onCommitFiberRoot(xh,e,void 0,(e.current.flags&128)===128)}catch{}}var Ea=Math.clz32?Math.clz32:pA,dA=Math.log,hA=Math.LN2;function pA(e){return e>>>=0,e===0?32:31-(dA(e)/hA|0)|0}var Ju=64,ef=4194304;function oc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Xf(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var s=i&~a;s!==0?n=oc(s):(o&=i,o!==0&&(n=oc(o)))}else i=r&~a,i!==0?n=oc(i):o!==0&&(n=oc(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ea(t),a=1<<r,n|=e[r],t&=~a;return n}function gA(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mA(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Ea(o),s=1<<i,l=a[i];l===-1?(!(s&r)||s&n)&&(a[i]=gA(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}function Kp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function tj(){var e=Ju;return Ju<<=1,!(Ju&4194240)&&(Ju=64),e}function C0(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function _u(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ea(t),e[t]=r}function yA(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Ea(r),o=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~o}}function py(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ea(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Nt=0;function rj(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var nj,gy,aj,oj,ij,Yp=!1,tf=[],Vo=null,Xo=null,Ko=null,Pc=new Map,Ac=new Map,Lo=[],vA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xx(e,t){switch(e){case"focusin":case"focusout":Vo=null;break;case"dragenter":case"dragleave":Xo=null;break;case"mouseover":case"mouseout":Ko=null;break;case"pointerover":case"pointerout":Pc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ac.delete(t.pointerId)}}function zl(e,t,r,n,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[a]},t!==null&&(t=Pu(t),t!==null&&gy(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function xA(e,t,r,n,a){switch(t){case"focusin":return Vo=zl(Vo,e,t,r,n,a),!0;case"dragenter":return Xo=zl(Xo,e,t,r,n,a),!0;case"mouseover":return Ko=zl(Ko,e,t,r,n,a),!0;case"pointerover":var o=a.pointerId;return Pc.set(o,zl(Pc.get(o)||null,e,t,r,n,a)),!0;case"gotpointercapture":return o=a.pointerId,Ac.set(o,zl(Ac.get(o)||null,e,t,r,n,a)),!0}return!1}function sj(e){var t=Si(e.target);if(t!==null){var r=qi(t);if(r!==null){if(t=r.tag,t===13){if(t=Yk(r),t!==null){e.blockedOn=t,ij(e.priority,function(){aj(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=qp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Gp=n,r.target.dispatchEvent(n),Gp=null}else return t=Pu(r),t!==null&&gy(t),e.blockedOn=r,!1;t.shift()}return!0}function bx(e,t,r){Cf(e)&&r.delete(t)}function bA(){Yp=!1,Vo!==null&&Cf(Vo)&&(Vo=null),Xo!==null&&Cf(Xo)&&(Xo=null),Ko!==null&&Cf(Ko)&&(Ko=null),Pc.forEach(bx),Ac.forEach(bx)}function Ul(e,t){e.blockedOn===t&&(e.blockedOn=null,Yp||(Yp=!0,ta.unstable_scheduleCallback(ta.unstable_NormalPriority,bA)))}function Mc(e){function t(a){return Ul(a,e)}if(0<tf.length){Ul(tf[0],e);for(var r=1;r<tf.length;r++){var n=tf[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Vo!==null&&Ul(Vo,e),Xo!==null&&Ul(Xo,e),Ko!==null&&Ul(Ko,e),Pc.forEach(t),Ac.forEach(t),r=0;r<Lo.length;r++)n=Lo[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Lo.length&&(r=Lo[0],r.blockedOn===null);)sj(r),r.blockedOn===null&&Lo.shift()}var Es=_o.ReactCurrentBatchConfig,Kf=!0;function wA(e,t,r,n){var a=Nt,o=Es.transition;Es.transition=null;try{Nt=1,my(e,t,r,n)}finally{Nt=a,Es.transition=o}}function kA(e,t,r,n){var a=Nt,o=Es.transition;Es.transition=null;try{Nt=4,my(e,t,r,n)}finally{Nt=a,Es.transition=o}}function my(e,t,r,n){if(Kf){var a=qp(e,t,r,n);if(a===null)z0(e,t,n,Yf,r),xx(e,n);else if(xA(a,e,t,r,n))n.stopPropagation();else if(xx(e,n),t&4&&-1<vA.indexOf(e)){for(;a!==null;){var o=Pu(a);if(o!==null&&nj(o),o=qp(e,t,r,n),o===null&&z0(e,t,n,Yf,r),o===a)break;a=o}a!==null&&n.stopPropagation()}else z0(e,t,n,null,r)}}var Yf=null;function qp(e,t,r,n){if(Yf=null,e=dy(n),e=Si(e),e!==null)if(t=qi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Yk(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yf=e,null}function lj(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cA()){case hy:return 1;case Jk:return 4;case Vf:case uA:return 16;case ej:return 536870912;default:return 16}default:return 16}}var Fo=null,yy=null,Ef=null;function cj(){if(Ef)return Ef;var e,t=yy,r=t.length,n,a="value"in Fo?Fo.value:Fo.textContent,o=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[o-n];n++);return Ef=a.slice(e,1<n?1-n:void 0)}function Tf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function rf(){return!0}function wx(){return!1}function na(e){function t(r,n,a,o,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?rf:wx,this.isPropagationStopped=wx,this}return ar(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=rf)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=rf)},persist:function(){},isPersistent:rf}),t}var xl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vy=na(xl),Ou=ar({},xl,{view:0,detail:0}),jA=na(Ou),E0,T0,Wl,bh=ar({},Ou,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wl&&(Wl&&e.type==="mousemove"?(E0=e.screenX-Wl.screenX,T0=e.screenY-Wl.screenY):T0=E0=0,Wl=e),E0)},movementY:function(e){return"movementY"in e?e.movementY:T0}}),kx=na(bh),SA=ar({},bh,{dataTransfer:0}),NA=na(SA),_A=ar({},Ou,{relatedTarget:0}),$0=na(_A),OA=ar({},xl,{animationName:0,elapsedTime:0,pseudoElement:0}),PA=na(OA),AA=ar({},xl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),MA=na(AA),CA=ar({},xl,{data:0}),jx=na(CA),EA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$A={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$A[e])?!!t[e]:!1}function xy(){return DA}var RA=ar({},Ou,{key:function(e){if(e.key){var t=EA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Tf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?TA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xy,charCode:function(e){return e.type==="keypress"?Tf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Tf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),LA=na(RA),IA=ar({},bh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sx=na(IA),BA=ar({},Ou,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xy}),FA=na(BA),zA=ar({},xl,{propertyName:0,elapsedTime:0,pseudoElement:0}),UA=na(zA),WA=ar({},bh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),GA=na(WA),HA=[9,13,27,32],by=xo&&"CompositionEvent"in window,uc=null;xo&&"documentMode"in document&&(uc=document.documentMode);var VA=xo&&"TextEvent"in window&&!uc,uj=xo&&(!by||uc&&8<uc&&11>=uc),Nx=" ",_x=!1;function fj(e,t){switch(e){case"keyup":return HA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dj(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ms=!1;function XA(e,t){switch(e){case"compositionend":return dj(t);case"keypress":return t.which!==32?null:(_x=!0,Nx);case"textInput":return e=t.data,e===Nx&&_x?null:e;default:return null}}function KA(e,t){if(ms)return e==="compositionend"||!by&&fj(e,t)?(e=cj(),Ef=yy=Fo=null,ms=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return uj&&t.locale!=="ko"?null:t.data;default:return null}}var YA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ox(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!YA[e.type]:t==="textarea"}function hj(e,t,r,n){Gk(n),t=qf(t,"onChange"),0<t.length&&(r=new vy("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var fc=null,Cc=null;function qA(e){Sj(e,0)}function wh(e){var t=xs(e);if(Lk(t))return e}function ZA(e,t){if(e==="change")return t}var pj=!1;if(xo){var D0;if(xo){var R0="oninput"in document;if(!R0){var Px=document.createElement("div");Px.setAttribute("oninput","return;"),R0=typeof Px.oninput=="function"}D0=R0}else D0=!1;pj=D0&&(!document.documentMode||9<document.documentMode)}function Ax(){fc&&(fc.detachEvent("onpropertychange",gj),Cc=fc=null)}function gj(e){if(e.propertyName==="value"&&wh(Cc)){var t=[];hj(t,Cc,e,dy(e)),Kk(qA,t)}}function QA(e,t,r){e==="focusin"?(Ax(),fc=t,Cc=r,fc.attachEvent("onpropertychange",gj)):e==="focusout"&&Ax()}function JA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wh(Cc)}function eM(e,t){if(e==="click")return wh(t)}function tM(e,t){if(e==="input"||e==="change")return wh(t)}function rM(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $a=typeof Object.is=="function"?Object.is:rM;function Ec(e,t){if($a(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Ep.call(t,a)||!$a(e[a],t[a]))return!1}return!0}function Mx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cx(e,t){var r=Mx(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Mx(r)}}function mj(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?mj(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function yj(){for(var e=window,t=Wf();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Wf(e.document)}return t}function wy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function nM(e){var t=yj(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&mj(r.ownerDocument.documentElement,r)){if(n!==null&&wy(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,o=Math.min(n.start,a);n=n.end===void 0?o:Math.min(n.end,a),!e.extend&&o>n&&(a=n,n=o,o=a),a=Cx(r,o);var i=Cx(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var aM=xo&&"documentMode"in document&&11>=document.documentMode,ys=null,Zp=null,dc=null,Qp=!1;function Ex(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Qp||ys==null||ys!==Wf(n)||(n=ys,"selectionStart"in n&&wy(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),dc&&Ec(dc,n)||(dc=n,n=qf(Zp,"onSelect"),0<n.length&&(t=new vy("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ys)))}function nf(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var vs={animationend:nf("Animation","AnimationEnd"),animationiteration:nf("Animation","AnimationIteration"),animationstart:nf("Animation","AnimationStart"),transitionend:nf("Transition","TransitionEnd")},L0={},vj={};xo&&(vj=document.createElement("div").style,"AnimationEvent"in window||(delete vs.animationend.animation,delete vs.animationiteration.animation,delete vs.animationstart.animation),"TransitionEvent"in window||delete vs.transitionend.transition);function kh(e){if(L0[e])return L0[e];if(!vs[e])return e;var t=vs[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in vj)return L0[e]=t[r];return e}var xj=kh("animationend"),bj=kh("animationiteration"),wj=kh("animationstart"),kj=kh("transitionend"),jj=new Map,Tx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ai(e,t){jj.set(e,t),Yi(t,[e])}for(var I0=0;I0<Tx.length;I0++){var B0=Tx[I0],oM=B0.toLowerCase(),iM=B0[0].toUpperCase()+B0.slice(1);ai(oM,"on"+iM)}ai(xj,"onAnimationEnd");ai(bj,"onAnimationIteration");ai(wj,"onAnimationStart");ai("dblclick","onDoubleClick");ai("focusin","onFocus");ai("focusout","onBlur");ai(kj,"onTransitionEnd");Bs("onMouseEnter",["mouseout","mouseover"]);Bs("onMouseLeave",["mouseout","mouseover"]);Bs("onPointerEnter",["pointerout","pointerover"]);Bs("onPointerLeave",["pointerout","pointerover"]);Yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ic="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sM=new Set("cancel close invalid load scroll toggle".split(" ").concat(ic));function $x(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,oA(n,t,void 0,e),e.currentTarget=null}function Sj(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var s=n[i],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&a.isPropagationStopped())break e;$x(a,s,c),o=l}else for(i=0;i<n.length;i++){if(s=n[i],l=s.instance,c=s.currentTarget,s=s.listener,l!==o&&a.isPropagationStopped())break e;$x(a,s,c),o=l}}}if(Hf)throw e=Xp,Hf=!1,Xp=null,e}function Ht(e,t){var r=t[ng];r===void 0&&(r=t[ng]=new Set);var n=e+"__bubble";r.has(n)||(Nj(t,e,2,!1),r.add(n))}function F0(e,t,r){var n=0;t&&(n|=4),Nj(r,e,n,t)}var af="_reactListening"+Math.random().toString(36).slice(2);function Tc(e){if(!e[af]){e[af]=!0,Ek.forEach(function(r){r!=="selectionchange"&&(sM.has(r)||F0(r,!1,e),F0(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[af]||(t[af]=!0,F0("selectionchange",!1,t))}}function Nj(e,t,r,n){switch(lj(t)){case 1:var a=wA;break;case 4:a=kA;break;default:a=my}r=a.bind(null,t,r,e),a=void 0,!Vp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function z0(e,t,r,n,a){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var s=n.stateNode.containerInfo;if(s===a||s.nodeType===8&&s.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;i=i.return}for(;s!==null;){if(i=Si(s),i===null)return;if(l=i.tag,l===5||l===6){n=o=i;continue e}s=s.parentNode}}n=n.return}Kk(function(){var c=o,d=dy(r),f=[];e:{var h=jj.get(e);if(h!==void 0){var p=vy,m=e;switch(e){case"keypress":if(Tf(r)===0)break e;case"keydown":case"keyup":p=LA;break;case"focusin":m="focus",p=$0;break;case"focusout":m="blur",p=$0;break;case"beforeblur":case"afterblur":p=$0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=kx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=NA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=FA;break;case xj:case bj:case wj:p=PA;break;case kj:p=UA;break;case"scroll":p=jA;break;case"wheel":p=GA;break;case"copy":case"cut":case"paste":p=MA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Sx}var v=(t&4)!==0,k=!v&&e==="scroll",y=v?h!==null?h+"Capture":null:h;v=[];for(var g=c,x;g!==null;){x=g;var j=x.stateNode;if(x.tag===5&&j!==null&&(x=j,y!==null&&(j=Oc(g,y),j!=null&&v.push($c(g,j,x)))),k)break;g=g.return}0<v.length&&(h=new p(h,m,null,r,d),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==Gp&&(m=r.relatedTarget||r.fromElement)&&(Si(m)||m[bo]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=c,m=m?Si(m):null,m!==null&&(k=qi(m),m!==k||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(v=kx,j="onMouseLeave",y="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(v=Sx,j="onPointerLeave",y="onPointerEnter",g="pointer"),k=p==null?h:xs(p),x=m==null?h:xs(m),h=new v(j,g+"leave",p,r,d),h.target=k,h.relatedTarget=x,j=null,Si(d)===c&&(v=new v(y,g+"enter",m,r,d),v.target=x,v.relatedTarget=k,j=v),k=j,p&&m)t:{for(v=p,y=m,g=0,x=v;x;x=ls(x))g++;for(x=0,j=y;j;j=ls(j))x++;for(;0<g-x;)v=ls(v),g--;for(;0<x-g;)y=ls(y),x--;for(;g--;){if(v===y||y!==null&&v===y.alternate)break t;v=ls(v),y=ls(y)}v=null}else v=null;p!==null&&Dx(f,h,p,v,!1),m!==null&&k!==null&&Dx(f,k,m,v,!0)}}e:{if(h=c?xs(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var b=ZA;else if(Ox(h))if(pj)b=tM;else{b=JA;var w=QA}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=eM);if(b&&(b=b(e,c))){hj(f,b,r,d);break e}w&&w(e,h,c),e==="focusout"&&(w=h._wrapperState)&&w.controlled&&h.type==="number"&&Bp(h,"number",h.value)}switch(w=c?xs(c):window,e){case"focusin":(Ox(w)||w.contentEditable==="true")&&(ys=w,Zp=c,dc=null);break;case"focusout":dc=Zp=ys=null;break;case"mousedown":Qp=!0;break;case"contextmenu":case"mouseup":case"dragend":Qp=!1,Ex(f,r,d);break;case"selectionchange":if(aM)break;case"keydown":case"keyup":Ex(f,r,d)}var N;if(by)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else ms?fj(e,r)&&(_="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(uj&&r.locale!=="ko"&&(ms||_!=="onCompositionStart"?_==="onCompositionEnd"&&ms&&(N=cj()):(Fo=d,yy="value"in Fo?Fo.value:Fo.textContent,ms=!0)),w=qf(c,_),0<w.length&&(_=new jx(_,e,null,r,d),f.push({event:_,listeners:w}),N?_.data=N:(N=dj(r),N!==null&&(_.data=N)))),(N=VA?XA(e,r):KA(e,r))&&(c=qf(c,"onBeforeInput"),0<c.length&&(d=new jx("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:c}),d.data=N))}Sj(f,t)})}function $c(e,t,r){return{instance:e,listener:t,currentTarget:r}}function qf(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=Oc(e,r),o!=null&&n.unshift($c(e,o,a)),o=Oc(e,t),o!=null&&n.push($c(e,o,a))),e=e.return}return n}function ls(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Dx(e,t,r,n,a){for(var o=t._reactName,i=[];r!==null&&r!==n;){var s=r,l=s.alternate,c=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&c!==null&&(s=c,a?(l=Oc(r,o),l!=null&&i.unshift($c(r,l,s))):a||(l=Oc(r,o),l!=null&&i.push($c(r,l,s)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var lM=/\r\n?/g,cM=/\u0000|\uFFFD/g;function Rx(e){return(typeof e=="string"?e:""+e).replace(lM,`
`).replace(cM,"")}function of(e,t,r){if(t=Rx(t),Rx(e)!==t&&r)throw Error(ue(425))}function Zf(){}var Jp=null,eg=null;function tg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var rg=typeof setTimeout=="function"?setTimeout:void 0,uM=typeof clearTimeout=="function"?clearTimeout:void 0,Lx=typeof Promise=="function"?Promise:void 0,fM=typeof queueMicrotask=="function"?queueMicrotask:typeof Lx<"u"?function(e){return Lx.resolve(null).then(e).catch(dM)}:rg;function dM(e){setTimeout(function(){throw e})}function U0(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Mc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Mc(t)}function Yo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ix(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var bl=Math.random().toString(36).slice(2),za="__reactFiber$"+bl,Dc="__reactProps$"+bl,bo="__reactContainer$"+bl,ng="__reactEvents$"+bl,hM="__reactListeners$"+bl,pM="__reactHandles$"+bl;function Si(e){var t=e[za];if(t)return t;for(var r=e.parentNode;r;){if(t=r[bo]||r[za]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Ix(e);e!==null;){if(r=e[za])return r;e=Ix(e)}return t}e=r,r=e.parentNode}return null}function Pu(e){return e=e[za]||e[bo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function xs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ue(33))}function jh(e){return e[Dc]||null}var ag=[],bs=-1;function oi(e){return{current:e}}function Kt(e){0>bs||(e.current=ag[bs],ag[bs]=null,bs--)}function Ut(e,t){bs++,ag[bs]=e.current,e.current=t}var ni={},hn=oi(ni),Ln=oi(!1),Li=ni;function Fs(e,t){var r=e.type.contextTypes;if(!r)return ni;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in r)a[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function In(e){return e=e.childContextTypes,e!=null}function Qf(){Kt(Ln),Kt(hn)}function Bx(e,t,r){if(hn.current!==ni)throw Error(ue(168));Ut(hn,t),Ut(Ln,r)}function _j(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(ue(108,QP(e)||"Unknown",a));return ar({},r,n)}function Jf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ni,Li=hn.current,Ut(hn,e),Ut(Ln,Ln.current),!0}function Fx(e,t,r){var n=e.stateNode;if(!n)throw Error(ue(169));r?(e=_j(e,t,Li),n.__reactInternalMemoizedMergedChildContext=e,Kt(Ln),Kt(hn),Ut(hn,e)):Kt(Ln),Ut(Ln,r)}var so=null,Sh=!1,W0=!1;function Oj(e){so===null?so=[e]:so.push(e)}function gM(e){Sh=!0,Oj(e)}function ii(){if(!W0&&so!==null){W0=!0;var e=0,t=Nt;try{var r=so;for(Nt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}so=null,Sh=!1}catch(a){throw so!==null&&(so=so.slice(e+1)),Qk(hy,ii),a}finally{Nt=t,W0=!1}}return null}var ws=[],ks=0,ed=null,td=0,ua=[],fa=0,Ii=null,lo=1,co="";function xi(e,t){ws[ks++]=td,ws[ks++]=ed,ed=e,td=t}function Pj(e,t,r){ua[fa++]=lo,ua[fa++]=co,ua[fa++]=Ii,Ii=e;var n=lo;e=co;var a=32-Ea(n)-1;n&=~(1<<a),r+=1;var o=32-Ea(t)+a;if(30<o){var i=a-a%5;o=(n&(1<<i)-1).toString(32),n>>=i,a-=i,lo=1<<32-Ea(t)+a|r<<a|n,co=o+e}else lo=1<<o|r<<a|n,co=e}function ky(e){e.return!==null&&(xi(e,1),Pj(e,1,0))}function jy(e){for(;e===ed;)ed=ws[--ks],ws[ks]=null,td=ws[--ks],ws[ks]=null;for(;e===Ii;)Ii=ua[--fa],ua[fa]=null,co=ua[--fa],ua[fa]=null,lo=ua[--fa],ua[fa]=null}var ea=null,Jn=null,Zt=!1,Aa=null;function Aj(e,t){var r=da(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function zx(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ea=e,Jn=Yo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ea=e,Jn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ii!==null?{id:lo,overflow:co}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=da(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ea=e,Jn=null,!0):!1;default:return!1}}function og(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ig(e){if(Zt){var t=Jn;if(t){var r=t;if(!zx(e,t)){if(og(e))throw Error(ue(418));t=Yo(r.nextSibling);var n=ea;t&&zx(e,t)?Aj(n,r):(e.flags=e.flags&-4097|2,Zt=!1,ea=e)}}else{if(og(e))throw Error(ue(418));e.flags=e.flags&-4097|2,Zt=!1,ea=e}}}function Ux(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ea=e}function sf(e){if(e!==ea)return!1;if(!Zt)return Ux(e),Zt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!tg(e.type,e.memoizedProps)),t&&(t=Jn)){if(og(e))throw Mj(),Error(ue(418));for(;t;)Aj(e,t),t=Yo(t.nextSibling)}if(Ux(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ue(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Jn=Yo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Jn=null}}else Jn=ea?Yo(e.stateNode.nextSibling):null;return!0}function Mj(){for(var e=Jn;e;)e=Yo(e.nextSibling)}function zs(){Jn=ea=null,Zt=!1}function Sy(e){Aa===null?Aa=[e]:Aa.push(e)}var mM=_o.ReactCurrentBatchConfig;function Gl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ue(309));var n=r.stateNode}if(!n)throw Error(ue(147,e));var a=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var s=a.refs;i===null?delete s[o]:s[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(ue(284));if(!r._owner)throw Error(ue(290,e))}return e}function lf(e,t){throw e=Object.prototype.toString.call(t),Error(ue(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wx(e){var t=e._init;return t(e._payload)}function Cj(e){function t(y,g){if(e){var x=y.deletions;x===null?(y.deletions=[g],y.flags|=16):x.push(g)}}function r(y,g){if(!e)return null;for(;g!==null;)t(y,g),g=g.sibling;return null}function n(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function a(y,g){return y=Jo(y,g),y.index=0,y.sibling=null,y}function o(y,g,x){return y.index=x,e?(x=y.alternate,x!==null?(x=x.index,x<g?(y.flags|=2,g):x):(y.flags|=2,g)):(y.flags|=1048576,g)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function s(y,g,x,j){return g===null||g.tag!==6?(g=q0(x,y.mode,j),g.return=y,g):(g=a(g,x),g.return=y,g)}function l(y,g,x,j){var b=x.type;return b===gs?d(y,g,x.props.children,j,x.key):g!==null&&(g.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===$o&&Wx(b)===g.type)?(j=a(g,x.props),j.ref=Gl(y,g,x),j.return=y,j):(j=Ff(x.type,x.key,x.props,null,y.mode,j),j.ref=Gl(y,g,x),j.return=y,j)}function c(y,g,x,j){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=Z0(x,y.mode,j),g.return=y,g):(g=a(g,x.children||[]),g.return=y,g)}function d(y,g,x,j,b){return g===null||g.tag!==7?(g=Ti(x,y.mode,j,b),g.return=y,g):(g=a(g,x),g.return=y,g)}function f(y,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return g=q0(""+g,y.mode,x),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case qu:return x=Ff(g.type,g.key,g.props,null,y.mode,x),x.ref=Gl(y,null,g),x.return=y,x;case ps:return g=Z0(g,y.mode,x),g.return=y,g;case $o:var j=g._init;return f(y,j(g._payload),x)}if(ac(g)||Bl(g))return g=Ti(g,y.mode,x,null),g.return=y,g;lf(y,g)}return null}function h(y,g,x,j){var b=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return b!==null?null:s(y,g,""+x,j);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case qu:return x.key===b?l(y,g,x,j):null;case ps:return x.key===b?c(y,g,x,j):null;case $o:return b=x._init,h(y,g,b(x._payload),j)}if(ac(x)||Bl(x))return b!==null?null:d(y,g,x,j,null);lf(y,x)}return null}function p(y,g,x,j,b){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(x)||null,s(g,y,""+j,b);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case qu:return y=y.get(j.key===null?x:j.key)||null,l(g,y,j,b);case ps:return y=y.get(j.key===null?x:j.key)||null,c(g,y,j,b);case $o:var w=j._init;return p(y,g,x,w(j._payload),b)}if(ac(j)||Bl(j))return y=y.get(x)||null,d(g,y,j,b,null);lf(g,j)}return null}function m(y,g,x,j){for(var b=null,w=null,N=g,_=g=0,O=null;N!==null&&_<x.length;_++){N.index>_?(O=N,N=null):O=N.sibling;var P=h(y,N,x[_],j);if(P===null){N===null&&(N=O);break}e&&N&&P.alternate===null&&t(y,N),g=o(P,g,_),w===null?b=P:w.sibling=P,w=P,N=O}if(_===x.length)return r(y,N),Zt&&xi(y,_),b;if(N===null){for(;_<x.length;_++)N=f(y,x[_],j),N!==null&&(g=o(N,g,_),w===null?b=N:w.sibling=N,w=N);return Zt&&xi(y,_),b}for(N=n(y,N);_<x.length;_++)O=p(N,y,_,x[_],j),O!==null&&(e&&O.alternate!==null&&N.delete(O.key===null?_:O.key),g=o(O,g,_),w===null?b=O:w.sibling=O,w=O);return e&&N.forEach(function(M){return t(y,M)}),Zt&&xi(y,_),b}function v(y,g,x,j){var b=Bl(x);if(typeof b!="function")throw Error(ue(150));if(x=b.call(x),x==null)throw Error(ue(151));for(var w=b=null,N=g,_=g=0,O=null,P=x.next();N!==null&&!P.done;_++,P=x.next()){N.index>_?(O=N,N=null):O=N.sibling;var M=h(y,N,P.value,j);if(M===null){N===null&&(N=O);break}e&&N&&M.alternate===null&&t(y,N),g=o(M,g,_),w===null?b=M:w.sibling=M,w=M,N=O}if(P.done)return r(y,N),Zt&&xi(y,_),b;if(N===null){for(;!P.done;_++,P=x.next())P=f(y,P.value,j),P!==null&&(g=o(P,g,_),w===null?b=P:w.sibling=P,w=P);return Zt&&xi(y,_),b}for(N=n(y,N);!P.done;_++,P=x.next())P=p(N,y,_,P.value,j),P!==null&&(e&&P.alternate!==null&&N.delete(P.key===null?_:P.key),g=o(P,g,_),w===null?b=P:w.sibling=P,w=P);return e&&N.forEach(function(C){return t(y,C)}),Zt&&xi(y,_),b}function k(y,g,x,j){if(typeof x=="object"&&x!==null&&x.type===gs&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case qu:e:{for(var b=x.key,w=g;w!==null;){if(w.key===b){if(b=x.type,b===gs){if(w.tag===7){r(y,w.sibling),g=a(w,x.props.children),g.return=y,y=g;break e}}else if(w.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===$o&&Wx(b)===w.type){r(y,w.sibling),g=a(w,x.props),g.ref=Gl(y,w,x),g.return=y,y=g;break e}r(y,w);break}else t(y,w);w=w.sibling}x.type===gs?(g=Ti(x.props.children,y.mode,j,x.key),g.return=y,y=g):(j=Ff(x.type,x.key,x.props,null,y.mode,j),j.ref=Gl(y,g,x),j.return=y,y=j)}return i(y);case ps:e:{for(w=x.key;g!==null;){if(g.key===w)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){r(y,g.sibling),g=a(g,x.children||[]),g.return=y,y=g;break e}else{r(y,g);break}else t(y,g);g=g.sibling}g=Z0(x,y.mode,j),g.return=y,y=g}return i(y);case $o:return w=x._init,k(y,g,w(x._payload),j)}if(ac(x))return m(y,g,x,j);if(Bl(x))return v(y,g,x,j);lf(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,g!==null&&g.tag===6?(r(y,g.sibling),g=a(g,x),g.return=y,y=g):(r(y,g),g=q0(x,y.mode,j),g.return=y,y=g),i(y)):r(y,g)}return k}var Us=Cj(!0),Ej=Cj(!1),rd=oi(null),nd=null,js=null,Ny=null;function _y(){Ny=js=nd=null}function Oy(e){var t=rd.current;Kt(rd),e._currentValue=t}function sg(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ts(e,t){nd=e,Ny=js=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Dn=!0),e.firstContext=null)}function ya(e){var t=e._currentValue;if(Ny!==e)if(e={context:e,memoizedValue:t,next:null},js===null){if(nd===null)throw Error(ue(308));js=e,nd.dependencies={lanes:0,firstContext:e}}else js=js.next=e;return t}var Ni=null;function Py(e){Ni===null?Ni=[e]:Ni.push(e)}function Tj(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Py(t)):(r.next=a.next,a.next=r),t.interleaved=r,wo(e,n)}function wo(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Do=!1;function Ay(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $j(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function po(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qo(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,st&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,wo(e,r)}return a=n.interleaved,a===null?(t.next=t,Py(n)):(t.next=a.next,a.next=t),n.interleaved=t,wo(e,r)}function $f(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,py(e,r)}}function Gx(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?a=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?a=o=t:o=o.next=t}else a=o=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ad(e,t,r,n){var a=e.updateQueue;Do=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,s=a.shared.pending;if(s!==null){a.shared.pending=null;var l=s,c=l.next;l.next=null,i===null?o=c:i.next=c,i=l;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==i&&(s===null?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=l))}if(o!==null){var f=a.baseState;i=0,d=c=l=null,s=o;do{var h=s.lane,p=s.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,v=s;switch(h=t,p=r,v.tag){case 1:if(m=v.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=ar({},f,h);break e;case 2:Do=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(c=d=p,l=f):d=d.next=p,i|=h;if(s=s.next,s===null){if(s=a.shared.pending,s===null)break;h=s,s=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(l=f),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);Fi|=i,e.lanes=i,e.memoizedState=f}}function Hx(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ue(191,a));a.call(n)}}}var Au={},Ha=oi(Au),Rc=oi(Au),Lc=oi(Au);function _i(e){if(e===Au)throw Error(ue(174));return e}function My(e,t){switch(Ut(Lc,t),Ut(Rc,e),Ut(Ha,Au),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:zp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=zp(t,e)}Kt(Ha),Ut(Ha,t)}function Ws(){Kt(Ha),Kt(Rc),Kt(Lc)}function Dj(e){_i(Lc.current);var t=_i(Ha.current),r=zp(t,e.type);t!==r&&(Ut(Rc,e),Ut(Ha,r))}function Cy(e){Rc.current===e&&(Kt(Ha),Kt(Rc))}var rr=oi(0);function od(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var G0=[];function Ey(){for(var e=0;e<G0.length;e++)G0[e]._workInProgressVersionPrimary=null;G0.length=0}var Df=_o.ReactCurrentDispatcher,H0=_o.ReactCurrentBatchConfig,Bi=0,nr=null,$r=null,Gr=null,id=!1,hc=!1,Ic=0,yM=0;function sn(){throw Error(ue(321))}function Ty(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!$a(e[r],t[r]))return!1;return!0}function $y(e,t,r,n,a,o){if(Bi=o,nr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Df.current=e===null||e.memoizedState===null?wM:kM,e=r(n,a),hc){o=0;do{if(hc=!1,Ic=0,25<=o)throw Error(ue(301));o+=1,Gr=$r=null,t.updateQueue=null,Df.current=jM,e=r(n,a)}while(hc)}if(Df.current=sd,t=$r!==null&&$r.next!==null,Bi=0,Gr=$r=nr=null,id=!1,t)throw Error(ue(300));return e}function Dy(){var e=Ic!==0;return Ic=0,e}function Fa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gr===null?nr.memoizedState=Gr=e:Gr=Gr.next=e,Gr}function va(){if($r===null){var e=nr.alternate;e=e!==null?e.memoizedState:null}else e=$r.next;var t=Gr===null?nr.memoizedState:Gr.next;if(t!==null)Gr=t,$r=e;else{if(e===null)throw Error(ue(310));$r=e,e={memoizedState:$r.memoizedState,baseState:$r.baseState,baseQueue:$r.baseQueue,queue:$r.queue,next:null},Gr===null?nr.memoizedState=Gr=e:Gr=Gr.next=e}return Gr}function Bc(e,t){return typeof t=="function"?t(e):t}function V0(e){var t=va(),r=t.queue;if(r===null)throw Error(ue(311));r.lastRenderedReducer=e;var n=$r,a=n.baseQueue,o=r.pending;if(o!==null){if(a!==null){var i=a.next;a.next=o.next,o.next=i}n.baseQueue=a=o,r.pending=null}if(a!==null){o=a.next,n=n.baseState;var s=i=null,l=null,c=o;do{var d=c.lane;if((Bi&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=f,i=n):l=l.next=f,nr.lanes|=d,Fi|=d}c=c.next}while(c!==null&&c!==o);l===null?i=n:l.next=s,$a(n,t.memoizedState)||(Dn=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do o=a.lane,nr.lanes|=o,Fi|=o,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function X0(e){var t=va(),r=t.queue;if(r===null)throw Error(ue(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,o=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do o=e(o,i.action),i=i.next;while(i!==a);$a(o,t.memoizedState)||(Dn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function Rj(){}function Lj(e,t){var r=nr,n=va(),a=t(),o=!$a(n.memoizedState,a);if(o&&(n.memoizedState=a,Dn=!0),n=n.queue,Ry(Fj.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Gr!==null&&Gr.memoizedState.tag&1){if(r.flags|=2048,Fc(9,Bj.bind(null,r,n,a,t),void 0,null),Vr===null)throw Error(ue(349));Bi&30||Ij(r,t,a)}return a}function Ij(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=nr.updateQueue,t===null?(t={lastEffect:null,stores:null},nr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Bj(e,t,r,n){t.value=r,t.getSnapshot=n,zj(t)&&Uj(e)}function Fj(e,t,r){return r(function(){zj(t)&&Uj(e)})}function zj(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!$a(e,r)}catch{return!0}}function Uj(e){var t=wo(e,1);t!==null&&Ta(t,e,1,-1)}function Vx(e){var t=Fa();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bc,lastRenderedState:e},t.queue=e,e=e.dispatch=bM.bind(null,nr,e),[t.memoizedState,e]}function Fc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=nr.updateQueue,t===null?(t={lastEffect:null,stores:null},nr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Wj(){return va().memoizedState}function Rf(e,t,r,n){var a=Fa();nr.flags|=e,a.memoizedState=Fc(1|t,r,void 0,n===void 0?null:n)}function Nh(e,t,r,n){var a=va();n=n===void 0?null:n;var o=void 0;if($r!==null){var i=$r.memoizedState;if(o=i.destroy,n!==null&&Ty(n,i.deps)){a.memoizedState=Fc(t,r,o,n);return}}nr.flags|=e,a.memoizedState=Fc(1|t,r,o,n)}function Xx(e,t){return Rf(8390656,8,e,t)}function Ry(e,t){return Nh(2048,8,e,t)}function Gj(e,t){return Nh(4,2,e,t)}function Hj(e,t){return Nh(4,4,e,t)}function Vj(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Xj(e,t,r){return r=r!=null?r.concat([e]):null,Nh(4,4,Vj.bind(null,t,e),r)}function Ly(){}function Kj(e,t){var r=va();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ty(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Yj(e,t){var r=va();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ty(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function qj(e,t,r){return Bi&21?($a(r,t)||(r=tj(),nr.lanes|=r,Fi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Dn=!0),e.memoizedState=r)}function vM(e,t){var r=Nt;Nt=r!==0&&4>r?r:4,e(!0);var n=H0.transition;H0.transition={};try{e(!1),t()}finally{Nt=r,H0.transition=n}}function Zj(){return va().memoizedState}function xM(e,t,r){var n=Qo(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Qj(e))Jj(t,r);else if(r=Tj(e,t,r,n),r!==null){var a=Nn();Ta(r,e,n,a),eS(r,t,n)}}function bM(e,t,r){var n=Qo(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Qj(e))Jj(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,s=o(i,r);if(a.hasEagerState=!0,a.eagerState=s,$a(s,i)){var l=t.interleaved;l===null?(a.next=a,Py(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=Tj(e,t,a,n),r!==null&&(a=Nn(),Ta(r,e,n,a),eS(r,t,n))}}function Qj(e){var t=e.alternate;return e===nr||t!==null&&t===nr}function Jj(e,t){hc=id=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function eS(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,py(e,r)}}var sd={readContext:ya,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useInsertionEffect:sn,useLayoutEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useMutableSource:sn,useSyncExternalStore:sn,useId:sn,unstable_isNewReconciler:!1},wM={readContext:ya,useCallback:function(e,t){return Fa().memoizedState=[e,t===void 0?null:t],e},useContext:ya,useEffect:Xx,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Rf(4194308,4,Vj.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Rf(4194308,4,e,t)},useInsertionEffect:function(e,t){return Rf(4,2,e,t)},useMemo:function(e,t){var r=Fa();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Fa();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=xM.bind(null,nr,e),[n.memoizedState,e]},useRef:function(e){var t=Fa();return e={current:e},t.memoizedState=e},useState:Vx,useDebugValue:Ly,useDeferredValue:function(e){return Fa().memoizedState=e},useTransition:function(){var e=Vx(!1),t=e[0];return e=vM.bind(null,e[1]),Fa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=nr,a=Fa();if(Zt){if(r===void 0)throw Error(ue(407));r=r()}else{if(r=t(),Vr===null)throw Error(ue(349));Bi&30||Ij(n,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,Xx(Fj.bind(null,n,o,e),[e]),n.flags|=2048,Fc(9,Bj.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Fa(),t=Vr.identifierPrefix;if(Zt){var r=co,n=lo;r=(n&~(1<<32-Ea(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ic++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=yM++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},kM={readContext:ya,useCallback:Kj,useContext:ya,useEffect:Ry,useImperativeHandle:Xj,useInsertionEffect:Gj,useLayoutEffect:Hj,useMemo:Yj,useReducer:V0,useRef:Wj,useState:function(){return V0(Bc)},useDebugValue:Ly,useDeferredValue:function(e){var t=va();return qj(t,$r.memoizedState,e)},useTransition:function(){var e=V0(Bc)[0],t=va().memoizedState;return[e,t]},useMutableSource:Rj,useSyncExternalStore:Lj,useId:Zj,unstable_isNewReconciler:!1},jM={readContext:ya,useCallback:Kj,useContext:ya,useEffect:Ry,useImperativeHandle:Xj,useInsertionEffect:Gj,useLayoutEffect:Hj,useMemo:Yj,useReducer:X0,useRef:Wj,useState:function(){return X0(Bc)},useDebugValue:Ly,useDeferredValue:function(e){var t=va();return $r===null?t.memoizedState=e:qj(t,$r.memoizedState,e)},useTransition:function(){var e=X0(Bc)[0],t=va().memoizedState;return[e,t]},useMutableSource:Rj,useSyncExternalStore:Lj,useId:Zj,unstable_isNewReconciler:!1};function Na(e,t){if(e&&e.defaultProps){t=ar({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function lg(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ar({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var _h={isMounted:function(e){return(e=e._reactInternals)?qi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Nn(),a=Qo(e),o=po(n,a);o.payload=t,r!=null&&(o.callback=r),t=qo(e,o,a),t!==null&&(Ta(t,e,a,n),$f(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Nn(),a=Qo(e),o=po(n,a);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=qo(e,o,a),t!==null&&(Ta(t,e,a,n),$f(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Nn(),n=Qo(e),a=po(r,n);a.tag=2,t!=null&&(a.callback=t),t=qo(e,a,n),t!==null&&(Ta(t,e,n,r),$f(t,e,n))}};function Kx(e,t,r,n,a,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!Ec(r,n)||!Ec(a,o):!0}function tS(e,t,r){var n=!1,a=ni,o=t.contextType;return typeof o=="object"&&o!==null?o=ya(o):(a=In(t)?Li:hn.current,n=t.contextTypes,o=(n=n!=null)?Fs(e,a):ni),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=_h,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function Yx(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&_h.enqueueReplaceState(t,t.state,null)}function cg(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Ay(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=ya(o):(o=In(t)?Li:hn.current,a.context=Fs(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(lg(e,t,o,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&_h.enqueueReplaceState(a,a.state,null),ad(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Gs(e,t){try{var r="",n=t;do r+=ZP(n),n=n.return;while(n);var a=r}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function K0(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ug(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var SM=typeof WeakMap=="function"?WeakMap:Map;function rS(e,t,r){r=po(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){cd||(cd=!0,bg=n),ug(e,t)},r}function nS(e,t,r){r=po(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){ug(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){ug(e,t),typeof n!="function"&&(Zo===null?Zo=new Set([this]):Zo.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function qx(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new SM;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=IM.bind(null,e,t,r),t.then(e,e))}function Zx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Qx(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=po(-1,1),t.tag=2,qo(r,t,1))),r.lanes|=1),e)}var NM=_o.ReactCurrentOwner,Dn=!1;function jn(e,t,r,n){t.child=e===null?Ej(t,null,r,n):Us(t,e.child,r,n)}function Jx(e,t,r,n,a){r=r.render;var o=t.ref;return Ts(t,a),n=$y(e,t,r,n,o,a),r=Dy(),e!==null&&!Dn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ko(e,t,a)):(Zt&&r&&ky(t),t.flags|=1,jn(e,t,n,a),t.child)}function eb(e,t,r,n,a){if(e===null){var o=r.type;return typeof o=="function"&&!Hy(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,aS(e,t,o,n,a)):(e=Ff(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:Ec,r(i,n)&&e.ref===t.ref)return ko(e,t,a)}return t.flags|=1,e=Jo(o,n),e.ref=t.ref,e.return=t,t.child=e}function aS(e,t,r,n,a){if(e!==null){var o=e.memoizedProps;if(Ec(o,n)&&e.ref===t.ref)if(Dn=!1,t.pendingProps=n=o,(e.lanes&a)!==0)e.flags&131072&&(Dn=!0);else return t.lanes=e.lanes,ko(e,t,a)}return fg(e,t,r,n,a)}function oS(e,t,r){var n=t.pendingProps,a=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ut(Ns,qn),qn|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ut(Ns,qn),qn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Ut(Ns,qn),qn|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Ut(Ns,qn),qn|=n;return jn(e,t,a,r),t.child}function iS(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function fg(e,t,r,n,a){var o=In(r)?Li:hn.current;return o=Fs(t,o),Ts(t,a),r=$y(e,t,r,n,o,a),n=Dy(),e!==null&&!Dn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ko(e,t,a)):(Zt&&n&&ky(t),t.flags|=1,jn(e,t,r,a),t.child)}function tb(e,t,r,n,a){if(In(r)){var o=!0;Jf(t)}else o=!1;if(Ts(t,a),t.stateNode===null)Lf(e,t),tS(t,r,n),cg(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,s=t.memoizedProps;i.props=s;var l=i.context,c=r.contextType;typeof c=="object"&&c!==null?c=ya(c):(c=In(r)?Li:hn.current,c=Fs(t,c));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==n||l!==c)&&Yx(t,i,n,c),Do=!1;var h=t.memoizedState;i.state=h,ad(t,n,i,a),l=t.memoizedState,s!==n||h!==l||Ln.current||Do?(typeof d=="function"&&(lg(t,r,d,n),l=t.memoizedState),(s=Do||Kx(t,r,s,n,h,l,c))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),i.props=n,i.state=l,i.context=c,n=s):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,$j(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Na(t.type,s),i.props=c,f=t.pendingProps,h=i.context,l=r.contextType,typeof l=="object"&&l!==null?l=ya(l):(l=In(r)?Li:hn.current,l=Fs(t,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==f||h!==l)&&Yx(t,i,n,l),Do=!1,h=t.memoizedState,i.state=h,ad(t,n,i,a);var m=t.memoizedState;s!==f||h!==m||Ln.current||Do?(typeof p=="function"&&(lg(t,r,p,n),m=t.memoizedState),(c=Do||Kx(t,r,c,n,h,m,l)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,m,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,m,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),i.props=n,i.state=m,i.context=l,n=c):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return dg(e,t,r,n,o,a)}function dg(e,t,r,n,a,o){iS(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&Fx(t,r,!1),ko(e,t,o);n=t.stateNode,NM.current=t;var s=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Us(t,e.child,null,o),t.child=Us(t,null,s,o)):jn(e,t,s,o),t.memoizedState=n.state,a&&Fx(t,r,!0),t.child}function sS(e){var t=e.stateNode;t.pendingContext?Bx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Bx(e,t.context,!1),My(e,t.containerInfo)}function rb(e,t,r,n,a){return zs(),Sy(a),t.flags|=256,jn(e,t,r,n),t.child}var hg={dehydrated:null,treeContext:null,retryLane:0};function pg(e){return{baseLanes:e,cachePool:null,transitions:null}}function lS(e,t,r){var n=t.pendingProps,a=rr.current,o=!1,i=(t.flags&128)!==0,s;if((s=i)||(s=e!==null&&e.memoizedState===null?!1:(a&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Ut(rr,a&1),e===null)return ig(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Ah(i,n,0,null),e=Ti(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=pg(r),t.memoizedState=hg,e):Iy(t,i));if(a=e.memoizedState,a!==null&&(s=a.dehydrated,s!==null))return _M(e,t,i,n,s,a,r);if(o){o=n.fallback,i=t.mode,a=e.child,s=a.sibling;var l={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Jo(a,l),n.subtreeFlags=a.subtreeFlags&14680064),s!==null?o=Jo(s,o):(o=Ti(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?pg(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=hg,n}return o=e.child,e=o.sibling,n=Jo(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Iy(e,t){return t=Ah({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function cf(e,t,r,n){return n!==null&&Sy(n),Us(t,e.child,null,r),e=Iy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _M(e,t,r,n,a,o,i){if(r)return t.flags&256?(t.flags&=-257,n=K0(Error(ue(422))),cf(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,a=t.mode,n=Ah({mode:"visible",children:n.children},a,0,null),o=Ti(o,a,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&Us(t,e.child,null,i),t.child.memoizedState=pg(i),t.memoizedState=hg,o);if(!(t.mode&1))return cf(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var s=n.dgst;return n=s,o=Error(ue(419)),n=K0(o,n,void 0),cf(e,t,i,n)}if(s=(i&e.childLanes)!==0,Dn||s){if(n=Vr,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,wo(e,a),Ta(n,e,a,-1))}return Gy(),n=K0(Error(ue(421))),cf(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=BM.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,Jn=Yo(a.nextSibling),ea=t,Zt=!0,Aa=null,e!==null&&(ua[fa++]=lo,ua[fa++]=co,ua[fa++]=Ii,lo=e.id,co=e.overflow,Ii=t),t=Iy(t,n.children),t.flags|=4096,t)}function nb(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),sg(e.return,t,r)}function Y0(e,t,r,n,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=a)}function cS(e,t,r){var n=t.pendingProps,a=n.revealOrder,o=n.tail;if(jn(e,t,n.children,r),n=rr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&nb(e,r,t);else if(e.tag===19)nb(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ut(rr,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&od(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Y0(t,!1,a,r,o);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&od(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Y0(t,!0,r,null,o);break;case"together":Y0(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Lf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ko(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Fi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ue(153));if(t.child!==null){for(e=t.child,r=Jo(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Jo(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function OM(e,t,r){switch(t.tag){case 3:sS(t),zs();break;case 5:Dj(t);break;case 1:In(t.type)&&Jf(t);break;case 4:My(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Ut(rd,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ut(rr,rr.current&1),t.flags|=128,null):r&t.child.childLanes?lS(e,t,r):(Ut(rr,rr.current&1),e=ko(e,t,r),e!==null?e.sibling:null);Ut(rr,rr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return cS(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ut(rr,rr.current),n)break;return null;case 22:case 23:return t.lanes=0,oS(e,t,r)}return ko(e,t,r)}var uS,gg,fS,dS;uS=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};gg=function(){};fS=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,_i(Ha.current);var o=null;switch(r){case"input":a=Lp(e,a),n=Lp(e,n),o=[];break;case"select":a=ar({},a,{value:void 0}),n=ar({},n,{value:void 0}),o=[];break;case"textarea":a=Fp(e,a),n=Fp(e,n),o=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Zf)}Up(r,n);var i;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var s=a[c];for(i in s)s.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Nc.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in n){var l=n[c];if(s=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(i in s)!s.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in l)l.hasOwnProperty(i)&&s[i]!==l[i]&&(r||(r={}),r[i]=l[i])}else r||(o||(o=[]),o.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Nc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ht("scroll",e),o||s===l||(o=[])):(o=o||[]).push(c,l))}r&&(o=o||[]).push("style",r);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};dS=function(e,t,r,n){r!==n&&(t.flags|=4)};function Hl(e,t){if(!Zt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ln(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function PM(e,t,r){var n=t.pendingProps;switch(jy(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(t),null;case 1:return In(t.type)&&Qf(),ln(t),null;case 3:return n=t.stateNode,Ws(),Kt(Ln),Kt(hn),Ey(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(sf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Aa!==null&&(jg(Aa),Aa=null))),gg(e,t),ln(t),null;case 5:Cy(t);var a=_i(Lc.current);if(r=t.type,e!==null&&t.stateNode!=null)fS(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ue(166));return ln(t),null}if(e=_i(Ha.current),sf(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[za]=t,n[Dc]=o,e=(t.mode&1)!==0,r){case"dialog":Ht("cancel",n),Ht("close",n);break;case"iframe":case"object":case"embed":Ht("load",n);break;case"video":case"audio":for(a=0;a<ic.length;a++)Ht(ic[a],n);break;case"source":Ht("error",n);break;case"img":case"image":case"link":Ht("error",n),Ht("load",n);break;case"details":Ht("toggle",n);break;case"input":dx(n,o),Ht("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Ht("invalid",n);break;case"textarea":px(n,o),Ht("invalid",n)}Up(r,o),a=null;for(var i in o)if(o.hasOwnProperty(i)){var s=o[i];i==="children"?typeof s=="string"?n.textContent!==s&&(o.suppressHydrationWarning!==!0&&of(n.textContent,s,e),a=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&of(n.textContent,s,e),a=["children",""+s]):Nc.hasOwnProperty(i)&&s!=null&&i==="onScroll"&&Ht("scroll",n)}switch(r){case"input":Zu(n),hx(n,o,!0);break;case"textarea":Zu(n),gx(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Zf)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Fk(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[za]=t,e[Dc]=n,uS(e,t,!1,!1),t.stateNode=e;e:{switch(i=Wp(r,n),r){case"dialog":Ht("cancel",e),Ht("close",e),a=n;break;case"iframe":case"object":case"embed":Ht("load",e),a=n;break;case"video":case"audio":for(a=0;a<ic.length;a++)Ht(ic[a],e);a=n;break;case"source":Ht("error",e),a=n;break;case"img":case"image":case"link":Ht("error",e),Ht("load",e),a=n;break;case"details":Ht("toggle",e),a=n;break;case"input":dx(e,n),a=Lp(e,n),Ht("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=ar({},n,{value:void 0}),Ht("invalid",e);break;case"textarea":px(e,n),a=Fp(e,n),Ht("invalid",e);break;default:a=n}Up(r,a),s=a;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?Wk(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&zk(e,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&_c(e,l):typeof l=="number"&&_c(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Nc.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ht("scroll",e):l!=null&&ly(e,o,l,i))}switch(r){case"input":Zu(e),hx(e,n,!1);break;case"textarea":Zu(e),gx(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ri(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?As(e,!!n.multiple,o,!1):n.defaultValue!=null&&As(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Zf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ln(t),null;case 6:if(e&&t.stateNode!=null)dS(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ue(166));if(r=_i(Lc.current),_i(Ha.current),sf(t)){if(n=t.stateNode,r=t.memoizedProps,n[za]=t,(o=n.nodeValue!==r)&&(e=ea,e!==null))switch(e.tag){case 3:of(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&of(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[za]=t,t.stateNode=n}return ln(t),null;case 13:if(Kt(rr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Zt&&Jn!==null&&t.mode&1&&!(t.flags&128))Mj(),zs(),t.flags|=98560,o=!1;else if(o=sf(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(ue(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ue(317));o[za]=t}else zs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ln(t),o=!1}else Aa!==null&&(jg(Aa),Aa=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||rr.current&1?Dr===0&&(Dr=3):Gy())),t.updateQueue!==null&&(t.flags|=4),ln(t),null);case 4:return Ws(),gg(e,t),e===null&&Tc(t.stateNode.containerInfo),ln(t),null;case 10:return Oy(t.type._context),ln(t),null;case 17:return In(t.type)&&Qf(),ln(t),null;case 19:if(Kt(rr),o=t.memoizedState,o===null)return ln(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)Hl(o,!1);else{if(Dr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=od(e),i!==null){for(t.flags|=128,Hl(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ut(rr,rr.current&1|2),t.child}e=e.sibling}o.tail!==null&&vr()>Hs&&(t.flags|=128,n=!0,Hl(o,!1),t.lanes=4194304)}else{if(!n)if(e=od(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Hl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Zt)return ln(t),null}else 2*vr()-o.renderingStartTime>Hs&&r!==1073741824&&(t.flags|=128,n=!0,Hl(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=vr(),t.sibling=null,r=rr.current,Ut(rr,n?r&1|2:r&1),t):(ln(t),null);case 22:case 23:return Wy(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?qn&1073741824&&(ln(t),t.subtreeFlags&6&&(t.flags|=8192)):ln(t),null;case 24:return null;case 25:return null}throw Error(ue(156,t.tag))}function AM(e,t){switch(jy(t),t.tag){case 1:return In(t.type)&&Qf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ws(),Kt(Ln),Kt(hn),Ey(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Cy(t),null;case 13:if(Kt(rr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ue(340));zs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Kt(rr),null;case 4:return Ws(),null;case 10:return Oy(t.type._context),null;case 22:case 23:return Wy(),null;case 24:return null;default:return null}}var uf=!1,fn=!1,MM=typeof WeakSet=="function"?WeakSet:Set,xe=null;function Ss(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){fr(e,t,n)}else r.current=null}function mg(e,t,r){try{r()}catch(n){fr(e,t,n)}}var ab=!1;function CM(e,t){if(Jp=Kf,e=yj(),wy(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,s=-1,l=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(s=i+a),f!==o||n!==0&&f.nodeType!==3||(l=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++c===a&&(s=i),h===o&&++d===n&&(l=i),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(eg={focusedElem:e,selectionRange:r},Kf=!1,xe=t;xe!==null;)if(t=xe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,xe=e;else for(;xe!==null;){t=xe;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,k=m.memoizedState,y=t.stateNode,g=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:Na(t.type,v),k);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ue(163))}}catch(j){fr(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,xe=e;break}xe=t.return}return m=ab,ab=!1,m}function pc(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&mg(t,r,o)}a=a.next}while(a!==n)}}function Oh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function yg(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function hS(e){var t=e.alternate;t!==null&&(e.alternate=null,hS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[za],delete t[Dc],delete t[ng],delete t[hM],delete t[pM])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function pS(e){return e.tag===5||e.tag===3||e.tag===4}function ob(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||pS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Zf));else if(n!==4&&(e=e.child,e!==null))for(vg(e,t,r),e=e.sibling;e!==null;)vg(e,t,r),e=e.sibling}function xg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(xg(e,t,r),e=e.sibling;e!==null;)xg(e,t,r),e=e.sibling}var qr=null,_a=!1;function Eo(e,t,r){for(r=r.child;r!==null;)gS(e,t,r),r=r.sibling}function gS(e,t,r){if(Ga&&typeof Ga.onCommitFiberUnmount=="function")try{Ga.onCommitFiberUnmount(xh,r)}catch{}switch(r.tag){case 5:fn||Ss(r,t);case 6:var n=qr,a=_a;qr=null,Eo(e,t,r),qr=n,_a=a,qr!==null&&(_a?(e=qr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):qr.removeChild(r.stateNode));break;case 18:qr!==null&&(_a?(e=qr,r=r.stateNode,e.nodeType===8?U0(e.parentNode,r):e.nodeType===1&&U0(e,r),Mc(e)):U0(qr,r.stateNode));break;case 4:n=qr,a=_a,qr=r.stateNode.containerInfo,_a=!0,Eo(e,t,r),qr=n,_a=a;break;case 0:case 11:case 14:case 15:if(!fn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var o=a,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&mg(r,t,i),a=a.next}while(a!==n)}Eo(e,t,r);break;case 1:if(!fn&&(Ss(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){fr(r,t,s)}Eo(e,t,r);break;case 21:Eo(e,t,r);break;case 22:r.mode&1?(fn=(n=fn)||r.memoizedState!==null,Eo(e,t,r),fn=n):Eo(e,t,r);break;default:Eo(e,t,r)}}function ib(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new MM),t.forEach(function(n){var a=FM.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function ja(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var o=e,i=t,s=i;e:for(;s!==null;){switch(s.tag){case 5:qr=s.stateNode,_a=!1;break e;case 3:qr=s.stateNode.containerInfo,_a=!0;break e;case 4:qr=s.stateNode.containerInfo,_a=!0;break e}s=s.return}if(qr===null)throw Error(ue(160));gS(o,i,a),qr=null,_a=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){fr(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)mS(t,e),t=t.sibling}function mS(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ja(t,e),Ba(e),n&4){try{pc(3,e,e.return),Oh(3,e)}catch(v){fr(e,e.return,v)}try{pc(5,e,e.return)}catch(v){fr(e,e.return,v)}}break;case 1:ja(t,e),Ba(e),n&512&&r!==null&&Ss(r,r.return);break;case 5:if(ja(t,e),Ba(e),n&512&&r!==null&&Ss(r,r.return),e.flags&32){var a=e.stateNode;try{_c(a,"")}catch(v){fr(e,e.return,v)}}if(n&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&Ik(a,o),Wp(s,i);var c=Wp(s,o);for(i=0;i<l.length;i+=2){var d=l[i],f=l[i+1];d==="style"?Wk(a,f):d==="dangerouslySetInnerHTML"?zk(a,f):d==="children"?_c(a,f):ly(a,d,f,c)}switch(s){case"input":Ip(a,o);break;case"textarea":Bk(a,o);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?As(a,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?As(a,!!o.multiple,o.defaultValue,!0):As(a,!!o.multiple,o.multiple?[]:"",!1))}a[Dc]=o}catch(v){fr(e,e.return,v)}}break;case 6:if(ja(t,e),Ba(e),n&4){if(e.stateNode===null)throw Error(ue(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(v){fr(e,e.return,v)}}break;case 3:if(ja(t,e),Ba(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Mc(t.containerInfo)}catch(v){fr(e,e.return,v)}break;case 4:ja(t,e),Ba(e);break;case 13:ja(t,e),Ba(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(zy=vr())),n&4&&ib(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(fn=(c=fn)||d,ja(t,e),fn=c):ja(t,e),Ba(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(xe=e,d=e.child;d!==null;){for(f=xe=d;xe!==null;){switch(h=xe,p=h.child,h.tag){case 0:case 11:case 14:case 15:pc(4,h,h.return);break;case 1:Ss(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){fr(n,r,v)}}break;case 5:Ss(h,h.return);break;case 22:if(h.memoizedState!==null){lb(f);continue}}p!==null?(p.return=h,xe=p):lb(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,c?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=Uk("display",i))}catch(v){fr(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){fr(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ja(t,e),Ba(e),n&4&&ib(e);break;case 21:break;default:ja(t,e),Ba(e)}}function Ba(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(pS(r)){var n=r;break e}r=r.return}throw Error(ue(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(_c(a,""),n.flags&=-33);var o=ob(e);xg(e,o,a);break;case 3:case 4:var i=n.stateNode.containerInfo,s=ob(e);vg(e,s,i);break;default:throw Error(ue(161))}}catch(l){fr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function EM(e,t,r){xe=e,yS(e)}function yS(e,t,r){for(var n=(e.mode&1)!==0;xe!==null;){var a=xe,o=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||uf;if(!i){var s=a.alternate,l=s!==null&&s.memoizedState!==null||fn;s=uf;var c=fn;if(uf=i,(fn=l)&&!c)for(xe=a;xe!==null;)i=xe,l=i.child,i.tag===22&&i.memoizedState!==null?cb(a):l!==null?(l.return=i,xe=l):cb(a);for(;o!==null;)xe=o,yS(o),o=o.sibling;xe=a,uf=s,fn=c}sb(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,xe=o):sb(e)}}function sb(e){for(;xe!==null;){var t=xe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:fn||Oh(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!fn)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Na(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Hx(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Hx(t,i,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Mc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ue(163))}fn||t.flags&512&&yg(t)}catch(h){fr(t,t.return,h)}}if(t===e){xe=null;break}if(r=t.sibling,r!==null){r.return=t.return,xe=r;break}xe=t.return}}function lb(e){for(;xe!==null;){var t=xe;if(t===e){xe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,xe=r;break}xe=t.return}}function cb(e){for(;xe!==null;){var t=xe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Oh(4,t)}catch(l){fr(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){fr(t,a,l)}}var o=t.return;try{yg(t)}catch(l){fr(t,o,l)}break;case 5:var i=t.return;try{yg(t)}catch(l){fr(t,i,l)}}}catch(l){fr(t,t.return,l)}if(t===e){xe=null;break}var s=t.sibling;if(s!==null){s.return=t.return,xe=s;break}xe=t.return}}var TM=Math.ceil,ld=_o.ReactCurrentDispatcher,By=_o.ReactCurrentOwner,ga=_o.ReactCurrentBatchConfig,st=0,Vr=null,jr=null,Jr=0,qn=0,Ns=oi(0),Dr=0,zc=null,Fi=0,Ph=0,Fy=0,gc=null,$n=null,zy=0,Hs=1/0,io=null,cd=!1,bg=null,Zo=null,ff=!1,zo=null,ud=0,mc=0,wg=null,If=-1,Bf=0;function Nn(){return st&6?vr():If!==-1?If:If=vr()}function Qo(e){return e.mode&1?st&2&&Jr!==0?Jr&-Jr:mM.transition!==null?(Bf===0&&(Bf=tj()),Bf):(e=Nt,e!==0||(e=window.event,e=e===void 0?16:lj(e.type)),e):1}function Ta(e,t,r,n){if(50<mc)throw mc=0,wg=null,Error(ue(185));_u(e,r,n),(!(st&2)||e!==Vr)&&(e===Vr&&(!(st&2)&&(Ph|=r),Dr===4&&Io(e,Jr)),Bn(e,n),r===1&&st===0&&!(t.mode&1)&&(Hs=vr()+500,Sh&&ii()))}function Bn(e,t){var r=e.callbackNode;mA(e,t);var n=Xf(e,e===Vr?Jr:0);if(n===0)r!==null&&vx(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&vx(r),t===1)e.tag===0?gM(ub.bind(null,e)):Oj(ub.bind(null,e)),fM(function(){!(st&6)&&ii()}),r=null;else{switch(rj(n)){case 1:r=hy;break;case 4:r=Jk;break;case 16:r=Vf;break;case 536870912:r=ej;break;default:r=Vf}r=NS(r,vS.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function vS(e,t){if(If=-1,Bf=0,st&6)throw Error(ue(327));var r=e.callbackNode;if($s()&&e.callbackNode!==r)return null;var n=Xf(e,e===Vr?Jr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=fd(e,n);else{t=n;var a=st;st|=2;var o=bS();(Vr!==e||Jr!==t)&&(io=null,Hs=vr()+500,Ei(e,t));do try{RM();break}catch(s){xS(e,s)}while(!0);_y(),ld.current=o,st=a,jr!==null?t=0:(Vr=null,Jr=0,t=Dr)}if(t!==0){if(t===2&&(a=Kp(e),a!==0&&(n=a,t=kg(e,a))),t===1)throw r=zc,Ei(e,0),Io(e,n),Bn(e,vr()),r;if(t===6)Io(e,n);else{if(a=e.current.alternate,!(n&30)&&!$M(a)&&(t=fd(e,n),t===2&&(o=Kp(e),o!==0&&(n=o,t=kg(e,o))),t===1))throw r=zc,Ei(e,0),Io(e,n),Bn(e,vr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(ue(345));case 2:bi(e,$n,io);break;case 3:if(Io(e,n),(n&130023424)===n&&(t=zy+500-vr(),10<t)){if(Xf(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Nn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=rg(bi.bind(null,e,$n,io),t);break}bi(e,$n,io);break;case 4:if(Io(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-Ea(n);o=1<<i,i=t[i],i>a&&(a=i),n&=~o}if(n=a,n=vr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*TM(n/1960))-n,10<n){e.timeoutHandle=rg(bi.bind(null,e,$n,io),n);break}bi(e,$n,io);break;case 5:bi(e,$n,io);break;default:throw Error(ue(329))}}}return Bn(e,vr()),e.callbackNode===r?vS.bind(null,e):null}function kg(e,t){var r=gc;return e.current.memoizedState.isDehydrated&&(Ei(e,t).flags|=256),e=fd(e,t),e!==2&&(t=$n,$n=r,t!==null&&jg(t)),e}function jg(e){$n===null?$n=e:$n.push.apply($n,e)}function $M(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],o=a.getSnapshot;a=a.value;try{if(!$a(o(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Io(e,t){for(t&=~Fy,t&=~Ph,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ea(t),n=1<<r;e[r]=-1,t&=~n}}function ub(e){if(st&6)throw Error(ue(327));$s();var t=Xf(e,0);if(!(t&1))return Bn(e,vr()),null;var r=fd(e,t);if(e.tag!==0&&r===2){var n=Kp(e);n!==0&&(t=n,r=kg(e,n))}if(r===1)throw r=zc,Ei(e,0),Io(e,t),Bn(e,vr()),r;if(r===6)throw Error(ue(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bi(e,$n,io),Bn(e,vr()),null}function Uy(e,t){var r=st;st|=1;try{return e(t)}finally{st=r,st===0&&(Hs=vr()+500,Sh&&ii())}}function zi(e){zo!==null&&zo.tag===0&&!(st&6)&&$s();var t=st;st|=1;var r=ga.transition,n=Nt;try{if(ga.transition=null,Nt=1,e)return e()}finally{Nt=n,ga.transition=r,st=t,!(st&6)&&ii()}}function Wy(){qn=Ns.current,Kt(Ns)}function Ei(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,uM(r)),jr!==null)for(r=jr.return;r!==null;){var n=r;switch(jy(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Qf();break;case 3:Ws(),Kt(Ln),Kt(hn),Ey();break;case 5:Cy(n);break;case 4:Ws();break;case 13:Kt(rr);break;case 19:Kt(rr);break;case 10:Oy(n.type._context);break;case 22:case 23:Wy()}r=r.return}if(Vr=e,jr=e=Jo(e.current,null),Jr=qn=t,Dr=0,zc=null,Fy=Ph=Fi=0,$n=gc=null,Ni!==null){for(t=0;t<Ni.length;t++)if(r=Ni[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=a,n.next=i}r.pending=n}Ni=null}return e}function xS(e,t){do{var r=jr;try{if(_y(),Df.current=sd,id){for(var n=nr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}id=!1}if(Bi=0,Gr=$r=nr=null,hc=!1,Ic=0,By.current=null,r===null||r.return===null){Dr=1,zc=t,jr=null;break}e:{var o=e,i=r.return,s=r,l=t;if(t=Jr,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Zx(i);if(p!==null){p.flags&=-257,Qx(p,i,s,o,t),p.mode&1&&qx(o,c,t),t=p,l=c;var m=t.updateQueue;if(m===null){var v=new Set;v.add(l),t.updateQueue=v}else m.add(l);break e}else{if(!(t&1)){qx(o,c,t),Gy();break e}l=Error(ue(426))}}else if(Zt&&s.mode&1){var k=Zx(i);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Qx(k,i,s,o,t),Sy(Gs(l,s));break e}}o=l=Gs(l,s),Dr!==4&&(Dr=2),gc===null?gc=[o]:gc.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=rS(o,l,t);Gx(o,y);break e;case 1:s=l;var g=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Zo===null||!Zo.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t;var j=nS(o,s,t);Gx(o,j);break e}}o=o.return}while(o!==null)}kS(r)}catch(b){t=b,jr===r&&r!==null&&(jr=r=r.return);continue}break}while(!0)}function bS(){var e=ld.current;return ld.current=sd,e===null?sd:e}function Gy(){(Dr===0||Dr===3||Dr===2)&&(Dr=4),Vr===null||!(Fi&268435455)&&!(Ph&268435455)||Io(Vr,Jr)}function fd(e,t){var r=st;st|=2;var n=bS();(Vr!==e||Jr!==t)&&(io=null,Ei(e,t));do try{DM();break}catch(a){xS(e,a)}while(!0);if(_y(),st=r,ld.current=n,jr!==null)throw Error(ue(261));return Vr=null,Jr=0,Dr}function DM(){for(;jr!==null;)wS(jr)}function RM(){for(;jr!==null&&!sA();)wS(jr)}function wS(e){var t=SS(e.alternate,e,qn);e.memoizedProps=e.pendingProps,t===null?kS(e):jr=t,By.current=null}function kS(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=AM(r,t),r!==null){r.flags&=32767,jr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Dr=6,jr=null;return}}else if(r=PM(r,t,qn),r!==null){jr=r;return}if(t=t.sibling,t!==null){jr=t;return}jr=t=e}while(t!==null);Dr===0&&(Dr=5)}function bi(e,t,r){var n=Nt,a=ga.transition;try{ga.transition=null,Nt=1,LM(e,t,r,n)}finally{ga.transition=a,Nt=n}return null}function LM(e,t,r,n){do $s();while(zo!==null);if(st&6)throw Error(ue(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ue(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(yA(e,o),e===Vr&&(jr=Vr=null,Jr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ff||(ff=!0,NS(Vf,function(){return $s(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=ga.transition,ga.transition=null;var i=Nt;Nt=1;var s=st;st|=4,By.current=null,CM(e,r),mS(r,e),nM(eg),Kf=!!Jp,eg=Jp=null,e.current=r,EM(r),lA(),st=s,Nt=i,ga.transition=o}else e.current=r;if(ff&&(ff=!1,zo=e,ud=a),o=e.pendingLanes,o===0&&(Zo=null),fA(r.stateNode),Bn(e,vr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(cd)throw cd=!1,e=bg,bg=null,e;return ud&1&&e.tag!==0&&$s(),o=e.pendingLanes,o&1?e===wg?mc++:(mc=0,wg=e):mc=0,ii(),null}function $s(){if(zo!==null){var e=rj(ud),t=ga.transition,r=Nt;try{if(ga.transition=null,Nt=16>e?16:e,zo===null)var n=!1;else{if(e=zo,zo=null,ud=0,st&6)throw Error(ue(331));var a=st;for(st|=4,xe=e.current;xe!==null;){var o=xe,i=o.child;if(xe.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(xe=c;xe!==null;){var d=xe;switch(d.tag){case 0:case 11:case 15:pc(8,d,o)}var f=d.child;if(f!==null)f.return=d,xe=f;else for(;xe!==null;){d=xe;var h=d.sibling,p=d.return;if(hS(d),d===c){xe=null;break}if(h!==null){h.return=p,xe=h;break}xe=p}}}var m=o.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var k=v.sibling;v.sibling=null,v=k}while(v!==null)}}xe=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,xe=i;else e:for(;xe!==null;){if(o=xe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:pc(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,xe=y;break e}xe=o.return}}var g=e.current;for(xe=g;xe!==null;){i=xe;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,xe=x;else e:for(i=g;xe!==null;){if(s=xe,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Oh(9,s)}}catch(b){fr(s,s.return,b)}if(s===i){xe=null;break e}var j=s.sibling;if(j!==null){j.return=s.return,xe=j;break e}xe=s.return}}if(st=a,ii(),Ga&&typeof Ga.onPostCommitFiberRoot=="function")try{Ga.onPostCommitFiberRoot(xh,e)}catch{}n=!0}return n}finally{Nt=r,ga.transition=t}}return!1}function fb(e,t,r){t=Gs(r,t),t=rS(e,t,1),e=qo(e,t,1),t=Nn(),e!==null&&(_u(e,1,t),Bn(e,t))}function fr(e,t,r){if(e.tag===3)fb(e,e,r);else for(;t!==null;){if(t.tag===3){fb(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Zo===null||!Zo.has(n))){e=Gs(r,e),e=nS(t,e,1),t=qo(t,e,1),e=Nn(),t!==null&&(_u(t,1,e),Bn(t,e));break}}t=t.return}}function IM(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Nn(),e.pingedLanes|=e.suspendedLanes&r,Vr===e&&(Jr&r)===r&&(Dr===4||Dr===3&&(Jr&130023424)===Jr&&500>vr()-zy?Ei(e,0):Fy|=r),Bn(e,t)}function jS(e,t){t===0&&(e.mode&1?(t=ef,ef<<=1,!(ef&130023424)&&(ef=4194304)):t=1);var r=Nn();e=wo(e,t),e!==null&&(_u(e,t,r),Bn(e,r))}function BM(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),jS(e,r)}function FM(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ue(314))}n!==null&&n.delete(t),jS(e,r)}var SS;SS=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ln.current)Dn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Dn=!1,OM(e,t,r);Dn=!!(e.flags&131072)}else Dn=!1,Zt&&t.flags&1048576&&Pj(t,td,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Lf(e,t),e=t.pendingProps;var a=Fs(t,hn.current);Ts(t,r),a=$y(null,t,n,e,a,r);var o=Dy();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,In(n)?(o=!0,Jf(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Ay(t),a.updater=_h,t.stateNode=a,a._reactInternals=t,cg(t,n,e,r),t=dg(null,t,n,!0,o,r)):(t.tag=0,Zt&&o&&ky(t),jn(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Lf(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=UM(n),e=Na(n,e),a){case 0:t=fg(null,t,n,e,r);break e;case 1:t=tb(null,t,n,e,r);break e;case 11:t=Jx(null,t,n,e,r);break e;case 14:t=eb(null,t,n,Na(n.type,e),r);break e}throw Error(ue(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Na(n,a),fg(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Na(n,a),tb(e,t,n,a,r);case 3:e:{if(sS(t),e===null)throw Error(ue(387));n=t.pendingProps,o=t.memoizedState,a=o.element,$j(e,t),ad(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=Gs(Error(ue(423)),t),t=rb(e,t,n,r,a);break e}else if(n!==a){a=Gs(Error(ue(424)),t),t=rb(e,t,n,r,a);break e}else for(Jn=Yo(t.stateNode.containerInfo.firstChild),ea=t,Zt=!0,Aa=null,r=Ej(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(zs(),n===a){t=ko(e,t,r);break e}jn(e,t,n,r)}t=t.child}return t;case 5:return Dj(t),e===null&&ig(t),n=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,i=a.children,tg(n,a)?i=null:o!==null&&tg(n,o)&&(t.flags|=32),iS(e,t),jn(e,t,i,r),t.child;case 6:return e===null&&ig(t),null;case 13:return lS(e,t,r);case 4:return My(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Us(t,null,n,r):jn(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Na(n,a),Jx(e,t,n,a,r);case 7:return jn(e,t,t.pendingProps,r),t.child;case 8:return jn(e,t,t.pendingProps.children,r),t.child;case 12:return jn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,Ut(rd,n._currentValue),n._currentValue=i,o!==null)if($a(o.value,i)){if(o.children===a.children&&!Ln.current){t=ko(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){i=o.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=po(-1,r&-r),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),sg(o.return,r,t),s.lanes|=r;break}l=l.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(ue(341));i.lanes|=r,s=i.alternate,s!==null&&(s.lanes|=r),sg(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}jn(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Ts(t,r),a=ya(a),n=n(a),t.flags|=1,jn(e,t,n,r),t.child;case 14:return n=t.type,a=Na(n,t.pendingProps),a=Na(n.type,a),eb(e,t,n,a,r);case 15:return aS(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Na(n,a),Lf(e,t),t.tag=1,In(n)?(e=!0,Jf(t)):e=!1,Ts(t,r),tS(t,n,a),cg(t,n,a,r),dg(null,t,n,!0,e,r);case 19:return cS(e,t,r);case 22:return oS(e,t,r)}throw Error(ue(156,t.tag))};function NS(e,t){return Qk(e,t)}function zM(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function da(e,t,r,n){return new zM(e,t,r,n)}function Hy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function UM(e){if(typeof e=="function")return Hy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===uy)return 11;if(e===fy)return 14}return 2}function Jo(e,t){var r=e.alternate;return r===null?(r=da(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ff(e,t,r,n,a,o){var i=2;if(n=e,typeof e=="function")Hy(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case gs:return Ti(r.children,a,o,t);case cy:i=8,a|=8;break;case Tp:return e=da(12,r,t,a|2),e.elementType=Tp,e.lanes=o,e;case $p:return e=da(13,r,t,a),e.elementType=$p,e.lanes=o,e;case Dp:return e=da(19,r,t,a),e.elementType=Dp,e.lanes=o,e;case Dk:return Ah(r,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Tk:i=10;break e;case $k:i=9;break e;case uy:i=11;break e;case fy:i=14;break e;case $o:i=16,n=null;break e}throw Error(ue(130,e==null?e:typeof e,""))}return t=da(i,r,t,a),t.elementType=e,t.type=n,t.lanes=o,t}function Ti(e,t,r,n){return e=da(7,e,n,t),e.lanes=r,e}function Ah(e,t,r,n){return e=da(22,e,n,t),e.elementType=Dk,e.lanes=r,e.stateNode={isHidden:!1},e}function q0(e,t,r){return e=da(6,e,null,t),e.lanes=r,e}function Z0(e,t,r){return t=da(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function WM(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=C0(0),this.expirationTimes=C0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=C0(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Vy(e,t,r,n,a,o,i,s,l){return e=new WM(e,t,r,s,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=da(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ay(o),e}function GM(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ps,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function _S(e){if(!e)return ni;e=e._reactInternals;e:{if(qi(e)!==e||e.tag!==1)throw Error(ue(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(In(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ue(171))}if(e.tag===1){var r=e.type;if(In(r))return _j(e,r,t)}return t}function OS(e,t,r,n,a,o,i,s,l){return e=Vy(r,n,!0,e,a,o,i,s,l),e.context=_S(null),r=e.current,n=Nn(),a=Qo(r),o=po(n,a),o.callback=t??null,qo(r,o,a),e.current.lanes=a,_u(e,a,n),Bn(e,n),e}function Mh(e,t,r,n){var a=t.current,o=Nn(),i=Qo(a);return r=_S(r),t.context===null?t.context=r:t.pendingContext=r,t=po(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=qo(a,t,i),e!==null&&(Ta(e,a,i,o),$f(e,a,i)),i}function dd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function db(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Xy(e,t){db(e,t),(e=e.alternate)&&db(e,t)}function HM(){return null}var PS=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ky(e){this._internalRoot=e}Ch.prototype.render=Ky.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ue(409));Mh(e,t,null,null)};Ch.prototype.unmount=Ky.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;zi(function(){Mh(null,e,null,null)}),t[bo]=null}};function Ch(e){this._internalRoot=e}Ch.prototype.unstable_scheduleHydration=function(e){if(e){var t=oj();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Lo.length&&t!==0&&t<Lo[r].priority;r++);Lo.splice(r,0,e),r===0&&sj(e)}};function Yy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Eh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function hb(){}function VM(e,t,r,n,a){if(a){if(typeof n=="function"){var o=n;n=function(){var c=dd(i);o.call(c)}}var i=OS(t,n,e,0,null,!1,!1,"",hb);return e._reactRootContainer=i,e[bo]=i.current,Tc(e.nodeType===8?e.parentNode:e),zi(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var s=n;n=function(){var c=dd(l);s.call(c)}}var l=Vy(e,0,!1,null,null,!1,!1,"",hb);return e._reactRootContainer=l,e[bo]=l.current,Tc(e.nodeType===8?e.parentNode:e),zi(function(){Mh(t,l,r,n)}),l}function Th(e,t,r,n,a){var o=r._reactRootContainer;if(o){var i=o;if(typeof a=="function"){var s=a;a=function(){var l=dd(i);s.call(l)}}Mh(t,i,e,a)}else i=VM(r,t,e,a,n);return dd(i)}nj=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=oc(t.pendingLanes);r!==0&&(py(t,r|1),Bn(t,vr()),!(st&6)&&(Hs=vr()+500,ii()))}break;case 13:zi(function(){var n=wo(e,1);if(n!==null){var a=Nn();Ta(n,e,1,a)}}),Xy(e,1)}};gy=function(e){if(e.tag===13){var t=wo(e,134217728);if(t!==null){var r=Nn();Ta(t,e,134217728,r)}Xy(e,134217728)}};aj=function(e){if(e.tag===13){var t=Qo(e),r=wo(e,t);if(r!==null){var n=Nn();Ta(r,e,t,n)}Xy(e,t)}};oj=function(){return Nt};ij=function(e,t){var r=Nt;try{return Nt=e,t()}finally{Nt=r}};Hp=function(e,t,r){switch(t){case"input":if(Ip(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=jh(n);if(!a)throw Error(ue(90));Lk(n),Ip(n,a)}}}break;case"textarea":Bk(e,r);break;case"select":t=r.value,t!=null&&As(e,!!r.multiple,t,!1)}};Vk=Uy;Xk=zi;var XM={usingClientEntryPoint:!1,Events:[Pu,xs,jh,Gk,Hk,Uy]},Vl={findFiberByHostInstance:Si,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KM={bundleType:Vl.bundleType,version:Vl.version,rendererPackageName:Vl.rendererPackageName,rendererConfig:Vl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_o.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=qk(e),e===null?null:e.stateNode},findFiberByHostInstance:Vl.findFiberByHostInstance||HM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var df=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!df.isDisabled&&df.supportsFiber)try{xh=df.inject(KM),Ga=df}catch{}}ra.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XM;ra.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yy(t))throw Error(ue(200));return GM(e,t,null,r)};ra.createRoot=function(e,t){if(!Yy(e))throw Error(ue(299));var r=!1,n="",a=PS;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Vy(e,1,!1,null,null,r,!1,n,a),e[bo]=t.current,Tc(e.nodeType===8?e.parentNode:e),new Ky(t)};ra.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ue(188)):(e=Object.keys(e).join(","),Error(ue(268,e)));return e=qk(t),e=e===null?null:e.stateNode,e};ra.flushSync=function(e){return zi(e)};ra.hydrate=function(e,t,r){if(!Eh(t))throw Error(ue(200));return Th(null,e,t,!0,r)};ra.hydrateRoot=function(e,t,r){if(!Yy(e))throw Error(ue(405));var n=r!=null&&r.hydratedSources||null,a=!1,o="",i=PS;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=OS(t,null,e,1,r??null,a,!1,o,i),e[bo]=t.current,Tc(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Ch(t)};ra.render=function(e,t,r){if(!Eh(t))throw Error(ue(200));return Th(null,e,t,!1,r)};ra.unmountComponentAtNode=function(e){if(!Eh(e))throw Error(ue(40));return e._reactRootContainer?(zi(function(){Th(null,null,e,!1,function(){e._reactRootContainer=null,e[bo]=null})}),!0):!1};ra.unstable_batchedUpdates=Uy;ra.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Eh(r))throw Error(ue(200));if(e==null||e._reactInternals===void 0)throw Error(ue(38));return Th(e,t,r,!1,n)};ra.version="18.3.1-next-f1338f8080-20240426";function AS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(AS)}catch(e){console.error(e)}}AS(),Ak.exports=ra;var YM=Ak.exports,pb=YM;Cp.createRoot=pb.createRoot,Cp.hydrateRoot=pb.hydrateRoot;const ei=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,confirmText:o="I know the risk and insist to continue",cancelText:i="Cancel"})=>e?u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-2xl shadow-2xl border border-amber-500/30 overflow-hidden transform transition-all scale-100",children:[u.jsxs("div",{className:"bg-amber-500/10 p-6 flex flex-col items-center justify-center border-b border-amber-500/20",children:[u.jsx("div",{className:"w-16 h-16 bg-amber-100 dark:bg-amber-900/30 rounded-full flex items-center justify-center mb-4",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-amber-600 dark:text-amber-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),u.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white text-center",children:n})]}),u.jsx("div",{className:"p-6",children:u.jsx("div",{className:"text-gray-600 dark:text-slate-300 text-center text-sm leading-relaxed",children:a})}),u.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800/50 flex gap-3 justify-end border-t border-gray-200 dark:border-slate-800",children:[u.jsx("button",{onClick:t,className:"px-4 py-2 bg-white hover:bg-gray-100 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-700 dark:text-slate-200 font-semibold rounded-lg border border-gray-300 dark:border-slate-600 transition-colors text-sm",children:i}),u.jsx("button",{onClick:r,className:"px-4 py-2 bg-amber-600 hover:bg-amber-700 text-white font-bold rounded-lg shadow-lg shadow-amber-500/20 transition-all active:scale-95 text-sm",children:o})]})]})}):null,qM=({onFileSelected:e,onGenerateFakeDng:t,fileName:r,hasGeneratedData:n,viewMode:a,onSetViewMode:o,patternPeriod:i,onPatternPeriodChange:s,fillFactor:l,onFillFactorChange:c,patternPhase:d,onPatternPhaseChange:f,showPatternControls:h,onOpenAbout:p,onShowExif:m,bridgeStatus:v,onBridgeClick:k,isDrLabOpen:y,onToggleDrLab:g,isColorLabOpen:x,onToggleColorLab:j,isFftLabOpen:b,onToggleFftLab:w,isSfrLabOpen:N,onToggleSfrLab:_,onGenerateTestPic:O,onPTCFilesSelected:P,onDownloadDng:M,isThreePlane:C,onOpenDatabase:$})=>{const F=S.useRef(null),T=S.useRef(null),[U,A]=S.useState(!1),[E,D]=S.useState(!1),[G,Z]=S.useState(!1),[K,L]=S.useState(!1),[te,Q]=S.useState("direct"),R=S.useRef(null),ae=S.useRef(null);S.useEffect(()=>{const ie=se=>{R.current&&!R.current.contains(se.target)&&Z(!1),ae.current&&!ae.current.contains(se.target)&&L(!1)};return document.addEventListener("mousedown",ie),()=>document.removeEventListener("mousedown",ie)},[]);const fe=ie=>{var se;Z(!1),ie==="direct"?(Q("direct"),A(!0)):!v.isConnected||!v.hasDngConverter?D(!0):(Q("convert"),(se=F.current)==null||se.click())},Y=()=>{var ie;A(!1),(ie=F.current)==null||ie.click()},oe=ie=>{var je;const se=(je=ie.target.files)==null?void 0:je[0];se&&e(se,te),ie.target.value=""},pe=ie=>{ie.target.files&&ie.target.files.length>0&&P(ie.target.files),ie.target.value=""},H=r==="pattern_test.dng"||(r==null?void 0:r.startsWith("Diff_"));return u.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-4 flex-shrink-0 relative z-50 font-mono",children:[u.jsx(ei,{isOpen:U,onClose:()=>A(!1),onConfirm:Y,title:"Format Compatibility Warning",confirmText:"Continue",message:u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx("p",{className:"font-bold text-gray-800 dark:text-gray-200 text-base",children:"Adobe DNG ConverterDNG"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Only 4-channel DNG files output by Adobe DNG Converter are fully guaranteed to be supported."}),u.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 border border-gray-400 dark:border-slate-600",children:[u.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-500 mb-1",children:"Download Adobe DNG Converter:"}),u.jsx("a",{href:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline text-xs break-all",children:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html"})]})]})}),u.jsx(ei,{isOpen:E,onClose:()=>D(!1),onConfirm:()=>D(!1),title:"DNG Converter Missing",confirmText:"OK",cancelText:"Cancel",message:u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx("p",{className:"font-bold text-red-600 dark:text-red-400 text-base",children:"JiangBridge Offline or Adobe DNG Converter not installed (you may have to restart your device after installing ADC to use it here)"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"To use the conversion feature, you must run JiangBridge locally and have Adobe DNG Converter installed on your system."}),u.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 border border-gray-400 dark:border-slate-600",children:[u.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-500 mb-1",children:"Download Adobe DNG Converter:"}),u.jsx("a",{href:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline text-xs break-all",children:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html"})]})]})}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-black dark:text-white text-center sm:text-left tracking-tight border-2 border-black dark:border-white px-2 py-1 bg-white dark:bg-black",children:"Jiangtherapee_Online"}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400 hidden lg:block max-w-xs truncate font-bold",title:r||"No image loaded",children:r||"No_Image_Loaded"}),C&&u.jsx("span",{className:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400 border-2 border-red-500 dark:border-red-800 text-[10px] font-bold px-2 py-1 animate-pulse",children:" 3-PLANE / RGB MODE"})]}),u.jsxs("div",{className:"flex items-center gap-4 flex-wrap justify-end",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{onClick:v.isConnected?void 0:k,className:`px-3 py-1.5 text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-[2px_2px_0px_black] border-2 border-black dark:border-gray-500 ${v.isConnected?"bg-emerald-100 text-emerald-900 border-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-400 dark:border-emerald-600 cursor-default":"bg-pink-100 text-pink-900 border-pink-800 dark:bg-pink-900/30 dark:text-pink-400 dark:border-pink-600 hover:bg-pink-200 dark:hover:bg-pink-900/50 cursor-pointer animate-pulse"}`,title:v.isConnected?"Local Bridge Service Connected":"Click to download Jiangbridge",children:[u.jsx("span",{className:`w-2 h-2 ${v.isConnected?"bg-emerald-600":"bg-pink-600"}`}),v.isConnected?`JiangBridge Ready ${v.hasDngConverter?"DNG+":""}`:"JiangBridge Offline"]}),y&&u.jsxs("button",{onClick:g,className:"px-3 py-1.5 text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-[2px_2px_0px_black] border-2 border-indigo-800 bg-indigo-100 text-indigo-900 dark:bg-indigo-900/30 dark:text-indigo-400 dark:border-indigo-600 hover:bg-indigo-200 dark:hover:bg-indigo-900/50 cursor-pointer animate-in fade-in",title:"Click to turn off DR Lab",children:[u.jsx("span",{className:"w-2 h-2 bg-indigo-600 animate-pulse"}),"DR Lab On"]}),x&&u.jsxs("button",{onClick:j,className:"px-3 py-1.5 text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-[2px_2px_0px_black] border-2 border-yellow-800 bg-yellow-100 text-yellow-900 dark:bg-yellow-900/30 dark:text-yellow-400 dark:border-yellow-600 hover:bg-yellow-200 dark:hover:bg-yellow-900/50 cursor-pointer animate-in fade-in",title:"Click to turn off Color Lab",children:[u.jsx("span",{className:"w-2 h-2 bg-yellow-500 animate-pulse"}),"Color Lab On"]}),b&&u.jsxs("button",{onClick:w,className:"px-3 py-1.5 text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-[2px_2px_0px_black] border-2 border-fuchsia-800 bg-fuchsia-100 text-fuchsia-900 dark:bg-fuchsia-900/30 dark:text-fuchsia-400 dark:border-fuchsia-600 hover:bg-fuchsia-200 dark:hover:bg-fuchsia-900/50 cursor-pointer animate-in fade-in",title:"Click to turn off FFT Lab",children:[u.jsx("span",{className:"w-2 h-2 bg-fuchsia-600 animate-pulse"}),"FFT Lab On"]}),N&&u.jsxs("button",{onClick:_,className:"px-3 py-1.5 text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-[2px_2px_0px_black] border-2 border-orange-800 bg-orange-100 text-orange-900 dark:bg-orange-900/30 dark:text-orange-400 dark:border-orange-600 hover:bg-orange-200 dark:hover:bg-orange-900/50 cursor-pointer animate-in fade-in",title:"Click to turn off SFR Lab",children:[u.jsx("span",{className:"w-2 h-2 bg-orange-600 animate-pulse"}),"SFR Lab On"]}),n&&u.jsxs("div",{className:"flex bg-gray-200 dark:bg-slate-800 p-1 border-2 border-black dark:border-gray-500 shadow-inner transition-colors duration-300 gap-1",children:[u.jsx("button",{onClick:()=>o("reference"),className:`px-3 py-1.5 text-xs sm:text-sm font-bold transition-all duration-200 border-2 ${a==="reference"?"bg-green-600 text-white border-black":"bg-gray-100 text-black border-transparent hover:bg-gray-300"}`,title:"The perfect uniform input",children:"Perfect"}),u.jsx("button",{onClick:()=>o("sampled"),className:`px-3 py-1.5 text-xs sm:text-sm font-bold transition-all duration-200 border-2 ${a==="sampled"?"bg-blue-600 text-white border-black":"bg-gray-100 text-black border-transparent hover:bg-gray-300"}`,title:"Sampled Sensor View with Aperture Visualization",children:"Sampled (Sensor)"}),u.jsx("button",{onClick:()=>o("processed"),className:`px-3 py-1.5 text-xs sm:text-sm font-bold transition-all duration-200 border-2 ${a==="processed"?"bg-purple-600 text-white border-black":"bg-gray-100 text-black border-transparent hover:bg-gray-300"}`,title:"Demosaiced Result",children:"Result"})]})]}),H&&u.jsxs("div",{className:"flex items-center gap-2 animate-in fade-in slide-in-from-right-4 duration-300",children:[h&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-100 dark:bg-slate-800/50 p-1.5 border border-gray-400 dark:border-slate-600 transition-colors duration-300",children:[u.jsx("span",{className:"text-[10px] text-gray-600 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Density (Period)"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"range",min:"0.1",max:"10",step:"0.1",value:i,onChange:ie=>s(parseFloat(ie.target.value)),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 appearance-none cursor-pointer accent-purple-500 border border-black",title:"Adjust the period of the line pairs in pixels"}),u.jsx("div",{className:"relative",children:u.jsx("input",{type:"number",min:"0.1",max:"100",step:"0.01",value:i,onChange:ie=>{const se=parseFloat(ie.target.value);isNaN(se)||s(se)},className:"w-16 bg-white dark:bg-slate-900 border border-gray-400 dark:border-slate-600 px-1 py-0.5 text-xs font-mono text-purple-700 dark:text-purple-300 text-right focus:outline-none focus:border-purple-500 focus:ring-1 focus:ring-purple-500 transition-colors duration-300"})})]})]}),u.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-100 dark:bg-slate-800/50 p-1.5 border border-gray-400 dark:border-slate-600 transition-colors duration-300",children:[u.jsx("span",{className:"text-[10px] text-gray-600 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Phase"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:d,onChange:ie=>f(parseFloat(ie.target.value)),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 appearance-none cursor-pointer accent-pink-500 border border-black",title:"Shift pattern phase (0-1 cycle)"}),u.jsx("div",{className:"relative",children:u.jsx("input",{type:"number",min:"0",max:"1",step:"0.01",value:d,onChange:ie=>{const se=parseFloat(ie.target.value);isNaN(se)||f(se)},className:"w-12 bg-white dark:bg-slate-900 border border-gray-400 dark:border-slate-600 px-1 py-0.5 text-xs font-mono text-pink-700 dark:text-pink-300 text-right focus:outline-none focus:border-pink-500 focus:ring-1 focus:ring-pink-500 transition-colors duration-300"})})]})]}),u.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-100 dark:bg-slate-800/50 p-1.5 border border-gray-400 dark:border-slate-600 transition-colors duration-300",children:[u.jsx("span",{className:"text-[10px] text-gray-600 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Fill Factor"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"range",min:"1",max:"100",step:"1",value:l*100,onChange:ie=>c(parseInt(ie.target.value)/100),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 appearance-none cursor-pointer accent-green-500 border border-black",title:"Adjust pixel aperture fill factor %"}),u.jsxs("div",{className:"relative flex items-center",children:[u.jsx("input",{type:"number",min:"1",max:"100",step:"1",value:Math.round(l*100),onChange:ie=>{const se=parseInt(ie.target.value);isNaN(se)||c(Math.min(100,Math.max(1,se))/100)},className:"w-12 bg-white dark:bg-slate-900 border border-gray-400 dark:border-slate-600 px-1 py-0.5 text-xs font-mono text-green-700 dark:text-green-300 text-right focus:outline-none focus:border-green-500 focus:ring-1 focus:ring-green-500 transition-colors duration-300"}),u.jsx("span",{className:"ml-1 text-[10px] text-gray-500 dark:text-slate-500 font-mono",children:"%"})]})]})]})]}),u.jsxs("button",{onClick:M,className:`flex flex-col items-center justify-center p-2 transition-colors group border-2 border-black dark:border-gray-500 shadow-[2px_2px_0px_black] active:translate-x-[2px] active:translate-y-[2px] active:shadow-none ${r!=null&&r.startsWith("Diff_")?"bg-fuchsia-100 hover:bg-fuchsia-200 dark:bg-fuchsia-900/40 dark:hover:bg-fuchsia-900/60":"bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700"}`,title:r!=null&&r.startsWith("Diff_")?"Export Subtracted Frame as DNG":"Download Synthetic DNG",children:[u.jsx("svg",{className:`w-5 h-5 ${r!=null&&r.startsWith("Diff_")?"text-fuchsia-600 group-hover:text-fuchsia-800":"text-gray-600 dark:text-slate-400 group-hover:text-black dark:group-hover:text-white"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),u.jsx("span",{className:"text-[8px] font-bold uppercase mt-0.5 opacity-70",children:"DNG"})]})]}),u.jsx("input",{type:"file",ref:F,onChange:oe,className:"hidden",accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),u.jsx("input",{type:"file",ref:T,onChange:pe,className:"hidden",multiple:!0,accept:".csv"}),u.jsxs("div",{className:"relative inline-block text-left",ref:ae,children:[u.jsxs("button",{onClick:()=>L(!K),className:"bg-purple-700 hover:bg-purple-600 text-white font-bold py-2 px-4 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] active:translate-x-[2px] active:translate-y-[2px] active:shadow-[2px_2px_0px_black] transition-all duration-100 text-sm whitespace-nowrap flex items-center gap-2",children:["TEST Tools",u.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${K?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),K&&u.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-slate-800 shadow-[8px_8px_0px_rgba(0,0,0,0.5)] ring-1 ring-black ring-opacity-5 focus:outline-none z-50 overflow-hidden origin-top-right transition-all animate-in fade-in slide-in-from-top-2 border-2 border-black dark:border-gray-500",children:u.jsxs("div",{className:"py-1",children:[u.jsxs("button",{onClick:()=>{L(!1),t()},className:"w-full text-left px-4 py-3 text-sm text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors flex items-center gap-2 border-b border-gray-300 dark:border-gray-600",children:[u.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),u.jsx("span",{children:"Generate Pattern DNG"})]}),u.jsxs("button",{onClick:()=>{L(!1),y||g(),b&&w(),x&&j&&j(),N&&_&&_()},className:`w-full text-left px-4 py-3 text-sm transition-colors flex items-center gap-2 border-b border-gray-300 dark:border-gray-600 ${y?"bg-indigo-100 dark:bg-indigo-900/40 text-indigo-800 dark:text-indigo-300 font-bold":"text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:[u.jsx("svg",{className:"w-4 h-4 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),u.jsxs("span",{children:["DR Lab ",y?"(On)":""]})]}),u.jsxs("button",{onClick:()=>{L(!1),j&&!x&&j(),y&&g(),b&&w(),N&&_&&_()},className:`w-full text-left px-4 py-3 text-sm transition-colors flex items-center gap-2 border-b border-gray-300 dark:border-gray-600 ${x?"bg-yellow-100 dark:bg-yellow-900/40 text-yellow-800 dark:text-yellow-300 font-bold":"text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:[u.jsx("svg",{className:"w-4 h-4 text-yellow-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"})}),u.jsxs("span",{children:["Color Lab ",x?"(On)":""]})]}),u.jsxs("button",{onClick:()=>{L(!1),_&&!N&&_(),y&&g(),b&&w(),x&&j&&j()},className:`w-full text-left px-4 py-3 text-sm transition-colors flex items-center gap-2 border-b border-gray-300 dark:border-gray-600 ${N?"bg-orange-100 dark:bg-orange-900/40 text-orange-800 dark:text-orange-300 font-bold":"text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:[u.jsx("svg",{className:"w-4 h-4 text-orange-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),u.jsxs("span",{children:["SFR Lab ",N?"(On)":""]})]}),u.jsxs("button",{onClick:()=>{L(!1),b||w(),y&&g(),x&&j&&j(),N&&_&&_()},className:`w-full text-left px-4 py-3 text-sm transition-colors flex items-center gap-2 border-b border-gray-300 dark:border-gray-600 ${b?"bg-fuchsia-100 dark:bg-fuchsia-900/40 text-fuchsia-800 dark:text-fuchsia-300 font-bold":"text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:[u.jsx("svg",{className:"w-4 h-4 text-fuchsia-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),u.jsxs("span",{children:["FFT Lab ",b?"(On)":""]})]}),u.jsxs("button",{onClick:()=>{var ie;L(!1),(ie=T.current)==null||ie.click()},className:"w-full text-left px-4 py-3 text-sm text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[u.jsx("svg",{className:"w-4 h-4 text-emerald-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})}),u.jsx("span",{children:"Generate PTC & TargetSNR"})]})]})})]}),u.jsxs("div",{className:"relative inline-block text-left",ref:R,children:[u.jsxs("button",{onClick:()=>Z(!G),className:"bg-cyan-700 hover:bg-cyan-600 text-white font-bold py-2 px-4 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] active:translate-x-[2px] active:translate-y-[2px] active:shadow-[2px_2px_0px_black] transition-all duration-100 text-sm whitespace-nowrap flex items-center gap-2",children:["Load Image",u.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${G?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),G&&u.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-slate-800 shadow-[8px_8px_0px_rgba(0,0,0,0.5)] ring-1 ring-black ring-opacity-5 focus:outline-none z-50 overflow-hidden origin-top-right transition-all animate-in fade-in slide-in-from-top-2 border-2 border-black dark:border-gray-500",children:u.jsxs("div",{className:"py-1",children:[u.jsxs("button",{onClick:()=>fe("direct"),className:"w-full text-left px-4 py-3 text-sm text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors flex items-center gap-2 border-b border-gray-300 dark:border-gray-600",children:[u.jsx("svg",{className:"w-4 h-4 text-cyan-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),u.jsx("span",{children:"Load Image (Direct)"})]}),u.jsxs("button",{onClick:()=>fe("convert"),className:"w-full text-left px-4 py-3 text-sm text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[u.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),u.jsx("span",{children:"Convert to Adobe DNG & Load"})]})]})})]}),r&&m&&u.jsxs("button",{onClick:m,className:"bg-orange-600 hover:bg-orange-500 text-white font-bold py-2 px-4 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] active:translate-x-[2px] active:translate-y-[2px] active:shadow-[2px_2px_0px_black] transition-all duration-100 text-sm whitespace-nowrap flex items-center gap-1",title:"View EXIF Data",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"EXIF"]}),u.jsx("button",{onClick:p,className:"bg-teal-700 hover:bg-teal-600 text-white font-bold py-2 px-4 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] active:translate-x-[2px] active:translate-y-[2px] active:shadow-[2px_2px_0px_black] transition-all duration-100 text-sm whitespace-nowrap",children:"About/Tutorial/Tools"}),u.jsx("a",{href:"https://y-g-jiang.github.io/index.html",target:"_blank",rel:"noopener noreferrer",className:"bg-gray-300 hover:bg-gray-200 dark:bg-slate-700 dark:hover:bg-slate-600 text-black dark:text-white font-bold py-2 px-4 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] active:translate-x-[2px] active:translate-y-[2px] active:shadow-[2px_2px_0px_black] transition-all duration-100 text-sm no-underline",children:"Home"})]})]})},ZM=({image:e,zoom:t,pan:r,onPanChange:n,onZoomChange:a,onSelectionChange:o,forcedSelection:i,theme:s,touchAction:l="pan",isMarking:c=!1,onPointClick:d,markers:f=[],gridRects:h=[],colorLabPoints:p=[],colorLabRects:m=[]})=>{var te;const v=S.useRef(null),k=S.useRef(document.createElement("canvas")),[y,g]=S.useState(!1),[x,j]=S.useState({x:0,y:0}),b=S.useRef(null),w=S.useRef(null),N=S.useRef(null),[_,O]=S.useState(!1),[P,M]=S.useState(null),[C,$]=S.useState(null);S.useEffect(()=>{i!==void 0&&$(i)},[i]);const F=S.useCallback(()=>{const Q=v.current,R=Q==null?void 0:Q.getContext("2d");return{canvas:Q,ctx:R}},[]);S.useEffect(()=>{const Q=k.current,R=Q.getContext("2d");if(!e||!R)return;let ae=0,fe=0;e instanceof ImageData?(ae=e.width,fe=e.height):e instanceof HTMLImageElement&&(ae=e.naturalWidth,fe=e.naturalHeight),!(ae===0||fe===0)&&((Q.width!==ae||Q.height!==fe)&&(Q.width=ae,Q.height=fe),e instanceof ImageData?R.putImageData(e,0,0):(R.clearRect(0,0,ae,fe),R.drawImage(e,0,0)))},[e]);const T=S.useCallback(()=>{const{canvas:Q,ctx:R}=F();if(!(!Q||!R||!e)){if(R.setTransform(1,0,0,1,0,0),R.fillStyle=s==="dark"?"rgb(15, 23, 42)":"rgb(243, 244, 246)",R.fillRect(0,0,Q.width,Q.height),R.setTransform(t,0,0,t,r.x,r.y),k.current.width>0&&(R.imageSmoothingEnabled=!1,R.drawImage(k.current,0,0)),C){R.strokeStyle="#06b6d4",R.lineWidth=1/t,R.fillStyle="rgba(6, 182, 212, 0.2)",R.beginPath(),R.rect(C.x,C.y,C.w,C.h),R.fill(),R.stroke(),R.save(),R.fillStyle="#fff";const ae=Math.max(10,14/t);R.font=`${ae}px monospace`,R.shadowColor="rgba(0,0,0,0.8)",R.shadowBlur=4,R.shadowOffsetX=1,R.shadowOffsetY=1,R.fillText(`${Math.round(C.w)}x${Math.round(C.h)}`,C.x,C.y-5/t),R.restore()}if(h&&h.length>0){R.save(),R.strokeStyle="#f59e0b",R.lineWidth=1/t,R.globalAlpha=.8,R.beginPath(),h.forEach(Y=>{R.rect(Y.x,Y.y,Y.w,Y.h)}),R.stroke();const ae=h[0];R.fillStyle="#f59e0b";const fe=Math.max(10,12/t);R.font=`${fe}px monospace`,R.fillText(`${ae.w}x${ae.h}`,ae.x,ae.y-4/t),R.restore()}if(f&&f.length>0){R.save();const ae=6/t,fe=Math.max(12,16/t);R.font=`bold ${fe}px sans-serif`,R.textAlign="center",R.textBaseline="middle",f.forEach((Y,oe)=>{R.beginPath(),R.arc(Y.x,Y.y,ae,0,2*Math.PI),R.fillStyle="white",R.fill(),R.strokeStyle="#4338ca",R.lineWidth=2/t,R.stroke(),R.fillStyle="#4338ca",R.fillText((oe+1).toString(),Y.x,Y.y-12/t)}),R.restore()}if(p&&p.length>0){R.save();const ae=5/t,fe=Math.max(10,14/t);R.font=`bold ${fe}px sans-serif`,R.textAlign="center",R.textBaseline="middle",p.forEach((Y,oe)=>{R.fillStyle="yellow",R.fillRect(Y.x-ae,Y.y-ae,ae*2,ae*2),R.strokeStyle="black",R.lineWidth=1/t,R.strokeRect(Y.x-ae,Y.y-ae,ae*2,ae*2),R.fillStyle="yellow",R.shadowColor="black",R.shadowBlur=2,R.fillText((oe+1).toString(),Y.x,Y.y-10/t)}),R.restore()}if(m&&m.length>0){if(R.save(),R.strokeStyle="yellow",R.lineWidth=1/t,R.globalAlpha=.9,R.beginPath(),m.forEach(ae=>{R.rect(ae.x,ae.y,ae.w,ae.h)}),R.stroke(),m[0]){const ae=m[0];R.fillStyle="yellow",R.shadowColor="black",R.shadowBlur=3;const fe=Math.max(10,12/t);R.font=`${fe}px monospace`,R.fillText(`${Math.round(ae.w)}x${Math.round(ae.h)}`,ae.x,ae.y-4/t)}R.restore()}}},[F,e,t,r,s,C,f,h,p,m]);S.useEffect(()=>{const{canvas:Q}=F();if(!Q)return;const R=new ResizeObserver(()=>{Q.width=Q.clientWidth,Q.height=Q.clientHeight,T()});return R.observe(Q),()=>R.disconnect()},[F,T]),S.useEffect(()=>{T()},[T,e,r,t,s,C,f,h,p,m]);const U=Q=>{const{canvas:R}=F();if(!R)return{x:0,y:0};const ae=R.getBoundingClientRect();return{x:Q.clientX-ae.left,y:Q.clientY-ae.top}},A=(Q,R)=>({x:(Q-r.x)/t,y:(R-r.y)/t}),E=Q=>{Q.preventDefault();const R=U(Q);if(c){const ae=A(R.x,R.y);d&&d(ae);return}if(Q.shiftKey||l==="select"){O(!0);const ae=A(R.x,R.y),fe={x:Math.floor(ae.x),y:Math.floor(ae.y)};M(fe),$(null),o&&o(null)}else g(!0),j({x:R.x-r.x,y:R.y-r.y})},D=Q=>{const R=U(Q);if(_&&P){const ae=A(R.x,R.y),fe=Math.floor(ae.x),Y=Math.floor(ae.y),oe=Math.min(P.x,fe),pe=Math.min(P.y,Y),H=Math.max(P.x,fe),ie=Math.max(P.y,Y),se=H-oe+1,je=ie-pe+1;$({x:oe,y:pe,w:se,h:je})}else y&&n({x:R.x-x.x,y:R.y-x.y})},G=()=>{_&&(O(!1),C&&o&&C.w>0&&C.h>0&&o(C)),g(!1)},Z=Q=>{var R;if(Q.touches.length===1){const ae=Q.touches[0],fe=(R=v.current)==null?void 0:R.getBoundingClientRect();if(!fe)return;const Y=ae.clientX-fe.left,oe=ae.clientY-fe.top;if(c){const pe=A(Y,oe);d&&d(pe);return}if(l==="select"){const pe=A(Y,oe),H={x:Math.floor(pe.x),y:Math.floor(pe.y)};M(H),O(!0),$(null),o&&o(null)}else N.current={x:Y,y:oe},j({x:Y-r.x,y:oe-r.y}),g(!0)}else if(Q.touches.length===2){const ae=Math.hypot(Q.touches[0].clientX-Q.touches[1].clientX,Q.touches[0].clientY-Q.touches[1].clientY);b.current=ae,w.current=t,g(!1),O(!1)}},K=Q=>{var R;if(Q.touches.length===1){const ae=Q.touches[0],fe=(R=v.current)==null?void 0:R.getBoundingClientRect();if(!fe)return;const Y=ae.clientX-fe.left,oe=ae.clientY-fe.top;if(c)return;if(_&&P){const pe=A(Y,oe),H=Math.floor(pe.x),ie=Math.floor(pe.y),se=Math.min(P.x,H),je=Math.min(P.y,ie),Re=Math.max(P.x,H),Le=Math.max(P.y,ie),pt=Re-se+1,Dt=Le-je+1;$({x:se,y:je,w:pt,h:Dt})}else y&&n({x:Y-x.x,y:oe-x.y})}else if(Q.touches.length===2&&b.current&&w.current&&a){const fe=Math.hypot(Q.touches[0].clientX-Q.touches[1].clientX,Q.touches[0].clientY-Q.touches[1].clientY)/b.current;a(w.current*fe)}},L=()=>{_&&(O(!1),C&&o&&C.w>0&&C.h>0&&o(C)),g(!1),b.current=null,w.current=null,N.current=null};return u.jsx("canvas",{ref:v,className:`w-full h-full block touch-none ${c||_||(te=window.event)!=null&&te.shiftKey||l==="select"?"cursor-crosshair":"cursor-grab active:cursor-grabbing"}`,onMouseDown:E,onMouseMove:D,onMouseUp:G,onMouseLeave:G,onTouchStart:Z,onTouchMove:K,onTouchEnd:L,onTouchCancel:L,tabIndex:0})},cs=({title:e,children:t})=>u.jsxs("div",{className:"border-b border-gray-200 dark:border-slate-700 transition-colors duration-300",children:[u.jsx("div",{className:"p-4 font-semibold text-gray-800 dark:text-slate-200 bg-gray-50 dark:bg-slate-800/30 border-b border-gray-200 dark:border-slate-800 select-none cursor-default transition-colors duration-300",children:u.jsx("span",{children:e})}),u.jsx("div",{className:"p-4 bg-white dark:bg-slate-900/50 transition-colors duration-300",children:t})]}),QM=[{value:-1,label:"Raw Bayer (Grayscale)"},{value:0,label:"Linear interpolation"},{value:1,label:"VNG (Variable Number of Gradients)"},{value:2,label:"PPG (Patterned Pixel Grouping)"},{value:3,label:"AHD (Adaptive Homogeneity-Directed)"},{value:4,label:"DCB (Demosaicing with Color Back-refinement)"},{value:11,label:"DHT (Modified AHD)"},{value:12,label:"AAHD (Adaptive AHD)"}],hf=({checked:e,onChange:t,label:r})=>u.jsxs("div",{className:"flex items-center justify-between py-2 cursor-pointer group",onClick:()=>t(!e),children:[u.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-slate-300 select-none group-hover:text-gray-900 dark:group-hover:text-slate-200 transition-colors",children:r}),u.jsx("div",{className:`relative w-11 h-6 rounded-full transition-colors duration-200 ease-in-out ${e?"bg-cyan-500 dark:bg-cyan-600":"bg-gray-300 dark:bg-slate-600 group-hover:bg-gray-400 dark:group-hover:bg-slate-500"}`,children:u.jsx("div",{className:`absolute left-1 top-1 bg-white w-4 h-4 rounded-full shadow-md transform transition-transform duration-200 ease-in-out ${e?"translate-x-5":"translate-x-0"}`})})]}),gb=(e,t)=>{if(!e)return null;if(t){const r=e.bayerPattern.toUpperCase(),n=l=>{const c=[];for(let d=0;d<4;d++)r[d]===l&&c.push(d);return c},a=t.BlackLevelRed,o=t.BlackLevelGreen,i=t.BlackLevelBlue;if(a!==void 0&&o!==void 0&&i!==void 0){const l=parseFloat(a),c=parseFloat(o),d=parseFloat(i);if(!isNaN(l)&&!isNaN(c)&&!isNaN(d)){const f=[0,0,0,0];return f.fill(c),n("R").forEach(h=>f[h]=l),n("G").forEach(h=>f[h]=c),n("B").forEach(h=>d),f}}let s=t.BlackLevel;if(s===void 0&&(s=t.BlackLevel2),s!==void 0){let l=[];if(Array.isArray(s)?l=s.map(Number):typeof s=="string"?l=s.trim().split(/\s+/).map(Number):typeof s=="number"&&(l=[s,s,s,s]),l.length===1&&!isNaN(l[0])&&(l=[l[0],l[0],l[0],l[0]]),l.length>=4&&!l.slice(0,4).some(isNaN))return[l[0],l[1],l[2],l[3]]}}return e.blackLevels&&e.blackLevels.length===4?[e.blackLevels[0],e.blackLevels[1],e.blackLevels[2],e.blackLevels[3]]:null},JM=e=>{const{rawImageData:t,displaySettings:r,onApplyDisplaySettings:n,onSetSelection:a,exifData:o,isBridgeConnected:i,isDrLabOpen:s,drMarkingStep:l,onStartMarking:c,onGenerateTestPic:d,drRoiSize:f,onDrRoiSizeChange:h,drGridRows:p,onDrGridRowsChange:m,drGridCols:v,onDrGridColsChange:k,onBatchDrLab:y,hasDrMarkers:g,isFftLabOpen:x,onProcessPair:j,onProcessBatchDiff:b,onProcessStackFft:w,onOpenCrossCalc:N,isThreePlane:_,onToggleXTrans:O,xtransPhase:P,onXTransPhaseChange:M,isXTransConverted:C,onCommand:$,isColorLabOpen:F,colorLabMarkingStep:T,onStartColorLabMarking:U,isSfrLabOpen:A,roiStats:E}=e,D=!!t,G=!!(t!=null&&t.isXTrans),Z=!!O,[K,L]=S.useState(r.exposure.toString()),[te,Q]=S.useState(""),[R,ae]=S.useState("0 0 0 0"),[fe,Y]=S.useState("1.0"),[oe,pe]=S.useState("1.0"),[H,ie]=S.useState(r.demosaicMethod),[se,je]=S.useState(!!r.showKadc),[Re,Le]=S.useState(!!r.subtractBlackLevelFromStats),[pt,Dt]=S.useState("64"),[Me,He]=S.useState(!1),[gt,Wt]=S.useState(!1),[_r,Mt]=S.useState("0 0 0 0"),[ka,ft]=S.useState("2840 6303 3935 6303"),[Or,hr]=S.useState("780 1720 1101 1720"),[Jt,pr]=S.useState(!1),[mt,De]=S.useState(!1),[yt,Ot]=S.useState(!1),[gr,pn]=S.useState("single"),Pn=S.useRef(null),er=S.useRef(null),An=S.useRef(null),Ve=S.useRef(null),[tr,or]=S.useState(null),[Pr,tn]=S.useState(null),[Ar,Mn]=S.useState(!1),[Gn,Hn]=S.useState(!0),rn=S.useRef(null),aa=S.useRef(null);S.useEffect(()=>{if(L(r.exposure.toString()),r.customMatrix?(Q(r.customMatrix.join(" ")),He(!0)):Q(""),r.blackLevel&&r.blackLevel.length===4)ae(r.blackLevel.join(" "));else{const X=gb(t,o);ae(X?X.join(" "):"0 0 0 0")}Y(r.wbGains?r.wbGains[0].toString():"1.0"),pe(r.wbGains?r.wbGains[1].toString():"1.0"),ie(r.demosaicMethod),je(!!r.showKadc),Le(!!r.subtractBlackLevelFromStats),r.advancedZeroDep&&(Mt(r.advancedZeroDep.bl.join(" ")),ft(r.advancedZeroDep.bg.join(" ")),hr(r.advancedZeroDep.fg.join(" ")),Wt(!0))},[r,t,o]);const nn=X=>L(X),Yt=X=>Y(X),ir=X=>pe(X),Pt=X=>ie(parseInt(X.target.value,10)),le=X=>Q(X.target.value),Oe=()=>{L("0"),ie(3),Y("1.0"),pe("1.0"),je(!0),Le(!0),Q(""),He(!1),Wt(!1);const X=gb(t,o);ae(X?X.join(" "):"0 0 0 0")},Be=()=>{!t||!a||(a({x:0,y:0,w:t.width,h:t.height}),$==null||$("sel full"))},it=()=>{if(!t||!a)return;const X=parseInt(pt,10);if(isNaN(X)||X<=0)return;const ke=Math.min(X,t.width),kt=Math.min(X,t.height),Rt=Math.floor((t.width-ke)/2),En=Math.floor((t.height-kt)/2);a({x:Rt,y:En,w:ke,h:kt}),$==null||$(`sel center ${X}`)},Xe=()=>{const ke=R.split(/[\s,]+/).filter(kt=>kt.trim()!=="").map(Number);if(ke.length===1&&!isNaN(ke[0]))return[ke[0],ke[0],ke[0],ke[0]];if(ke.length>=4&&!ke.slice(0,4).some(isNaN))return[ke[0],ke[1],ke[2],ke[3]]},vt=X=>{const ke=X.trim().split(/[\s,]+/).map(Number);return ke.length===4&&!ke.some(isNaN)?ke:ke.length===1&&!isNaN(ke[0])?[ke[0],ke[0],ke[0],ke[0]]:null},sr=()=>{$&&(K!=="0"&&$(`ev ${K}`),(fe!=="1.0"||oe!=="1.0")&&$(`wb ${fe} ${oe}`),R!=="0 0 0 0"&&$(`bl ${R}`),H!==3&&$(`demo ${H}`),te.trim().length>0&&$(`matrix ${te.replace(/\s+/g," ")}`),$("render"));const X={...r},ke=parseFloat(K);isNaN(ke)||(X.exposure=ke);const kt=parseFloat(fe),Rt=parseFloat(oe);if(!isNaN(kt)&&!isNaN(Rt)&&(X.wbGains=[kt,Rt]),X.demosaicMethod=H,X.renderMode="standard",Me){const En=Xe();En&&(X.blackLevel=En);const cr=te.trim().replace(/[\s,\n]+/g," ");if(cr){const Kr=cr.split(" ").map(Number);Kr.length===9&&!Kr.some(isNaN)?X.customMatrix=Kr:alert("Invalid matrix format. Please ensure exactly 9 numeric values (3x3).")}else delete X.customMatrix;X.showKadc=se,X.subtractBlackLevelFromStats=Re}else delete X.customMatrix,delete X.blackLevel,delete X.showKadc,delete X.subtractBlackLevelFromStats;n(X)},lr=()=>{De(!0)},Ie=X=>{$&&(K!=="0"&&$(`ev ${K}`),(fe!=="1.0"||oe!=="1.0")&&$(`wb ${fe} ${oe}`),R!=="0 0 0 0"&&$(`bl ${R}`),$(X==="bilinear"?"render zero color":"render zero"));const ke={...r},kt=Xe();kt&&(ke.blackLevel=kt);const Rt=parseFloat(fe),En=parseFloat(oe);!isNaN(Rt)&&!isNaN(En)&&(ke.wbGains=[Rt,En]);const cr=parseFloat(K);if(isNaN(cr)||(ke.exposure=cr),X==="bilinear"){const Kr=te.trim().replace(/[\s,\n]+/g," ");if(Kr){const Tn=Kr.split(" ").map(Number);Tn.length===9&&!Tn.some(isNaN)&&(ke.customMatrix=Tn)}}ke.renderMode=X==="mosaic"?"zero-dependency":"zero-dep-color",De(!1),n(ke)},Ke=()=>{const X=vt(_r),ke=vt(ka),kt=vt(Or);if(!X||!ke||!kt){alert("Please enter valid 4-channel numbers for BL, BG, and FG.");return}$&&(K!=="0"&&$(`ev ${K}`),$(`render unmix ${X.join(" ")} ${ke.join(" ")} ${kt.join(" ")}`));const Rt={...r,renderMode:"advanced-zero-dep",advancedZeroDep:{bl:X,bg:ke,fg:kt}};n(Rt)},dt=()=>{if(E){const X=E.means,ke=[X[0],X[1],X[3],X[2]].map(kt=>kt.toFixed(1));ft(ke.join(" "))}else alert("Please select an ROI on the image first.")},lt=()=>{if(E){const X=E.means,ke=[X[0],X[1],X[3],X[2]].map(kt=>kt.toFixed(1));hr(ke.join(" "))}else alert("Please select an ROI on the image first.")},Ct=X=>{X.target.files&&X.target.files.length>0&&y&&(y(X.target.files,gr),$==null||$(`drlab batch ${gr}`)),X.target.value="",Ot(!1)},ge=async X=>{var kt;const ke=(kt=X.target.files)==null?void 0:kt[0];if(ke){try{const En=(await ke.text()).split(`
`),cr=[];cr.push("#BlackLevel: 0,0,0,0"),cr.push("#ImageHeight: 0"),cr.push("Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std");let Kr=1;for(let Xn=0;Xn<En.length;Xn++){const ro=En[Xn].trim();if(!ro||ro.includes("R_mean")||ro.includes("R_std"))continue;const Fr=ro.split(/\s+/).map(Number);if(Fr.length<8||Fr.some(isNaN))continue;const La=[Kr,1,Fr[0],Fr[2],Fr[6],Fr[4],Fr[1],Fr[3],Fr[7],Fr[5]].join(",");cr.push(La),Kr++}const Tn=new Blob([cr.join(`
`)],{type:"text/csv"}),hi=URL.createObjectURL(Tn),to=document.createElement("a");to.href=hi,to.download=ke.name.replace(/\.[^/.]+$/,"")+"_converted.csv",document.body.appendChild(to),to.click(),document.body.removeChild(to),URL.revokeObjectURL(hi)}catch(Rt){console.error("Conversion failed",Rt),alert("Failed to convert file.")}X.target.value=""}},Br=X=>{X.target.files&&X.target.files[0]&&(or(X.target.files[0]),$==null||$("fft load a"))},eo=X=>{X.target.files&&X.target.files[0]&&(tn(X.target.files[0]),$==null||$("fft load b"))},Vn=()=>{tr&&Pr&&j&&(j(tr,Pr,Ar,Gn),$==null||$("fft run"))},Cn=X=>{X.target.files&&X.target.files.length>0&&b&&(b(X.target.files),$==null||$("fft batch")),X.target.value=""},Dl=X=>{X.target.files&&X.target.files.length>0&&w&&(w(X.target.files),$==null||$("fft stack")),X.target.value=""},gn=!!C;return u.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-black",children:[u.jsxs("div",{className:"flex-grow overflow-y-auto",children:[_&&u.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-3 border-b border-red-100 dark:border-red-800 text-center animate-pulse",children:[u.jsx("p",{className:"text-xs font-bold text-red-600 dark:text-red-400 uppercase tracking-wide",children:" 3-Plane / Full Color"}),u.jsx("p",{className:"text-[10px] text-red-500/80 dark:text-red-300/70 mt-1",children:"Demosaic disabled. Stats analysis treated as pseudo-Bayer."})]}),G&&!C&&u.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-3 border-b border-amber-100 dark:border-amber-800 text-center",children:[u.jsx("p",{className:"text-xs font-bold text-amber-600 dark:text-amber-400 uppercase tracking-wide",children:" X-Trans Native (Unsupported)"}),u.jsx("p",{className:"text-[10px] text-amber-600/80 dark:text-amber-300/70 mt-1 text-left leading-tight px-1",children:"Currently reading raw 6x6 pattern as Bayer. Stats will be incorrect. Please enable Pseudo-Bayer conversion below."})]}),C&&u.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 p-3 border-b border-emerald-100 dark:border-emerald-800 text-center",children:[u.jsx("p",{className:"text-xs font-bold text-emerald-600 dark:text-emerald-400 uppercase tracking-wide",children:" X-Trans Pseudo-Bayer"}),u.jsx("p",{className:"text-[10px] text-emerald-600/80 dark:text-emerald-300/70 mt-1 text-left leading-tight px-1",children:"Converted 6x6  2x2 RGGB (Subsampled). Demosaic & Analysis fully supported."})]}),A&&u.jsx(cs,{title:"SFR Lab Tools (Scalar Unmixing)",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 p-3 rounded border border-orange-200 dark:border-orange-800",children:[u.jsx("h4",{className:"text-[10px] font-bold text-orange-600 dark:text-orange-400 uppercase mb-2",children:"Analyze ROI"}),u.jsx("p",{className:"text-[10px] text-gray-500 dark:text-slate-400 mb-2",children:"Select an edge on the main canvas and click analyze. Use the pop-up modal to view ESF/LSF/MTF."}),u.jsx("div",{className:"text-center text-xs font-bold text-orange-500",children:"(ROI Analysis Window is Active)"})]}),u.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 w-full"}),u.jsx(hf,{checked:gt,onChange:Wt,label:" (Scalar Unmixing)"}),gt&&u.jsxs("div",{className:"space-y-4 pl-2 border-l-2 border-indigo-200 dark:border-indigo-900 animate-in slide-in-from-top-2 duration-200",children:[u.jsxs("div",{className:"grid grid-cols-5 gap-1 items-center text-[9px] uppercase font-bold text-gray-400 mb-[-8px]",children:[u.jsx("div",{className:"col-span-1",children:"Param"}),u.jsx("div",{className:"text-center",children:"Ch0(R)"}),u.jsx("div",{className:"text-center",children:"Ch1(G1)"}),u.jsx("div",{className:"text-center",children:"Ch2(B)"}),u.jsx("div",{className:"text-center",children:"Ch3(G2)"})]}),u.jsxs("div",{className:"grid grid-cols-5 gap-2 items-center",children:[u.jsx("span",{className:"text-[10px] font-bold text-red-500",children:"BL:"}),u.jsx("input",{type:"text",value:_r,onChange:X=>Mt(X.target.value),className:"col-span-4 px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-xs font-mono text-gray-900 dark:text-slate-100"})]}),u.jsxs("div",{className:"grid grid-cols-5 gap-2 items-center",children:[u.jsx("span",{className:"text-[10px] font-bold text-indigo-500",children:"B ():"}),u.jsxs("div",{className:"col-span-4 flex gap-1",children:[u.jsx("input",{type:"text",value:ka,onChange:X=>ft(X.target.value),className:"flex-1 px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-xs font-mono text-gray-900 dark:text-slate-100"}),u.jsx("button",{onClick:dt,className:"px-2 bg-gray-200 dark:bg-slate-700 hover:bg-gray-300 dark:hover:bg-slate-600 text-[9px] rounded font-bold transition-colors",title:"Fill with current ROI mean stats (Raw DN)",children:"Pick"})]})]}),u.jsxs("div",{className:"grid grid-cols-5 gap-2 items-center",children:[u.jsx("span",{className:"text-[10px] font-bold text-emerald-500",children:"F ():"}),u.jsxs("div",{className:"col-span-4 flex gap-1",children:[u.jsx("input",{type:"text",value:Or,onChange:X=>hr(X.target.value),className:"flex-1 px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-xs font-mono text-gray-900 dark:text-slate-100"}),u.jsx("button",{onClick:lt,className:"px-2 bg-gray-200 dark:bg-slate-700 hover:bg-gray-300 dark:hover:bg-slate-600 text-[9px] rounded font-bold transition-colors",title:"Fill with current ROI mean stats (Raw DN)",children:"Pick"})]})]}),u.jsx("button",{onClick:Ke,disabled:!D,className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-2 rounded text-[10px] shadow transition-transform active:scale-95",children:"RUN UNMIXING (ADV ZERO-DEP)"}),u.jsx("p",{className:"text-[9px] text-gray-400 italic text-center",children:" + sRGB Gamma "})]})]})}),x&&u.jsx(cs,{title:"FFT Lab (Noise Profile)",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"space-y-3 bg-gray-50 dark:bg-slate-800/40 p-3 rounded-xl border border-gray-100 dark:border-slate-800",children:[u.jsxs("h4",{className:"text-[10px] font-bold text-fuchsia-600 dark:text-fuchsia-400 uppercase tracking-widest flex items-center gap-2",children:[u.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-fuchsia-500"})," 1. Pair Difference (Sub)"]}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("input",{type:"file",ref:Pn,className:"hidden",onChange:Br,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),u.jsx("button",{onClick:()=>{var X;return(X=Pn.current)==null?void 0:X.click()},className:`w-full py-2 px-3 rounded-lg border text-[10px] font-bold text-left truncate transition-colors ${tr?"bg-fuchsia-55 dark:bg-fuchsia-900/20 border-fuchsia-300 dark:border-fuchsia-800 text-fuchsia-700 dark:text-fuchsia-300":"bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-600 text-gray-500 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:tr?`A: ${tr.name}`:"Load Image A"}),u.jsx("input",{type:"file",ref:er,className:"hidden",onChange:eo,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),u.jsx("button",{onClick:()=>{var X;return(X=er.current)==null?void 0:X.click()},className:`w-full py-2 px-3 rounded-lg border text-[10px] font-bold text-left truncate transition-colors ${Pr?"bg-fuchsia-55 dark:bg-fuchsia-900/20 border-fuchsia-300 dark:border-fuchsia-800 text-fuchsia-700 dark:text-fuchsia-300":"bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-600 text-gray-500 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:Pr?`B: ${Pr.name}`:"Load Image B"})]}),u.jsx("div",{className:"flex flex-col gap-1.5 pt-1",children:u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:Gn,onChange:X=>Hn(X.target.checked),className:"w-3 h-3 text-fuchsia-600 border-gray-300 rounded focus:ring-0"}),u.jsx("span",{className:"text-[10px] text-gray-600 dark:text-slate-300",children:"Normalize (2)"})]})}),u.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[u.jsx("button",{onClick:Vn,disabled:!tr||!Pr,className:"w-full bg-fuchsia-600 hover:bg-fuchsia-500 disabled:opacity-30 text-white font-bold py-2 rounded shadow transition-all active:scale-95 text-[10px]",children:"Generate Diff & Load"}),u.jsx("input",{type:"file",ref:An,className:"hidden",multiple:!0,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff",onChange:Cn}),u.jsx("button",{onClick:()=>{var X;return(X=An.current)==null?void 0:X.click()},className:"w-full bg-slate-700 hover:bg-slate-600 text-white font-bold py-2 rounded shadow transition-all active:scale-95 text-[10px] flex items-center justify-center gap-1",children:"Batch Diffs (Auto Download)"})]})]}),u.jsxs("div",{className:"space-y-3 bg-gray-50 dark:bg-slate-800/40 p-3 rounded-xl border border-gray-100 dark:border-slate-800",children:[u.jsxs("h4",{className:"text-[10px] font-bold text-cyan-600 dark:text-cyan-400 uppercase tracking-widest flex items-center gap-2",children:[u.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-cyan-500"})," 2. Stack FFT (Avg PSD)"]}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("input",{type:"file",ref:Ve,className:"hidden",multiple:!0,onChange:Dl,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),u.jsx("button",{onClick:()=>{var X;return(X=Ve.current)==null?void 0:X.click()},className:"w-full py-3 bg-cyan-600 hover:bg-cyan-500 text-white font-bold rounded-lg shadow-md transition-all active:scale-95 text-[10px] flex items-center justify-center gap-2",children:"Select Sequence Files"})]})]}),u.jsx("div",{className:"flex flex-col gap-2 pt-2",children:u.jsx("button",{onClick:()=>{N==null||N(),$==null||$("crosscalc")},className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-2 px-4 rounded-lg shadow-md transition-all active:scale-95 text-[10px] flex items-center justify-center gap-2",children:"Cross-Compensation Calc"})})]})}),s&&u.jsx(cs,{title:"DR Lab Tools",children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("button",{onClick:()=>{d==null||d(),$==null||$("gen test")},className:"w-full bg-amber-500 hover:bg-amber-600 text-white font-bold py-2 px-4 rounded-lg shadow-md transition-colors text-sm",children:"Generate Test Pic"}),u.jsxs("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-3",children:[u.jsx("h4",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-2",children:"Grid Analysis"}),h&&f!==void 0&&u.jsx("div",{className:"flex items-center justify-between mb-3",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Box Size:"}),u.jsx("input",{type:"number",min:"8",max:"512",step:"2",value:f,onChange:X=>h(parseInt(X.target.value)||64),className:"w-12 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 text-center"}),u.jsx("span",{className:"text-xs text-gray-400",children:"px"})]})}),m&&k&&p!==void 0&&v!==void 0&&u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Layout:"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"number",min:"1",max:"50",value:p,onChange:X=>m(Math.max(1,parseInt(X.target.value)||1)),className:"w-10 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md outline-none text-sm text-center",title:"Rows"}),u.jsx("span",{className:"text-xs text-gray-400",children:"x"}),u.jsx("input",{type:"number",min:"1",max:"50",value:v,onChange:X=>k(Math.max(1,parseInt(X.target.value)||1)),className:"w-10 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md outline-none text-sm text-center",title:"Columns"})]})]}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("button",{onClick:()=>{c==null||c(),$==null||$("mark")},disabled:!D||l!==void 0&&l>0,className:`w-full font-bold py-2 px-4 rounded-lg shadow-md transition-all text-sm ${D?l&&l>0?"bg-indigo-100 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300 border-2 border-indigo-500":"bg-indigo-600 hover:bg-indigo-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:l&&l>0?"Marking Active...":"Mark Corners"}),y&&u.jsxs(u.Fragment,{children:[u.jsx("input",{type:"file",ref:rn,className:"hidden",multiple:!0,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff",onChange:Ct}),u.jsxs("div",{className:"relative",children:[u.jsx("button",{onClick:()=>Ot(!yt),disabled:!g,className:"w-full font-bold py-2 px-4 rounded-lg shadow-md transition-all text-sm bg-emerald-600 hover:bg-emerald-700 disabled:bg-gray-300 disabled:text-gray-500 disabled:cursor-not-allowed text-white flex items-center justify-center gap-2",children:"Reuse Last & Batch"}),yt&&u.jsxs("div",{className:"absolute bottom-full left-0 w-full mb-1 bg-white dark:bg-slate-800 rounded-lg shadow-xl border border-gray-200 dark:border-slate-700 overflow-hidden z-20 flex flex-col animate-in fade-in zoom-in-95 duration-100",children:[u.jsx("button",{className:"px-4 py-2 text-left text-xs hover:bg-gray-100 dark:hover:bg-slate-700 text-gray-700 dark:text-slate-200 border-b border-gray-100 dark:border-slate-700",onClick:()=>{var X;pn("single"),(X=rn.current)==null||X.click()},children:"1. Independent Frames"}),u.jsx("button",{className:"px-4 py-2 text-left text-xs hover:bg-gray-100 dark:hover:bg-slate-700 text-indigo-600 dark:text-indigo-400 font-bold",onClick:()=>{var X;pn("pair"),(X=rn.current)==null||X.click()},children:"2. Pair Difference (A-B)"})]})]})]}),u.jsxs("div",{className:"pt-2 mt-2 border-t border-gray-100 dark:border-slate-800",children:[u.jsx("input",{type:"file",ref:aa,className:"hidden",accept:".txt",onChange:ge}),u.jsx("button",{onClick:()=>{var X;return(X=aa.current)==null?void 0:X.click()},className:"w-full font-bold py-2 px-4 rounded-lg shadow-sm transition-all text-xs bg-slate-100 hover:bg-slate-200 dark:bg-slate-800 dark:hover:bg-slate-700 text-gray-600 dark:text-slate-300 flex items-center justify-center gap-2 border border-gray-300 dark:border-slate-600",children:"Convert Format (.txt  .csv)"})]})]}),l!==void 0&&l>0&&u.jsx("div",{className:"mt-2 text-center",children:u.jsxs("p",{className:"text-xs text-indigo-600 dark:text-indigo-400 font-bold animate-pulse",children:[l===1&&"Click Top-Left Center",l===2&&"Click Top-Right Center",l===3&&"Click Bottom-Left Center",l===4&&"Click Bottom-Right Center"]})})]})]})}),F&&u.jsx(cs,{title:"Color Lab Tools",children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"text-sm text-gray-600 dark:text-slate-300 mb-2",children:"Calibrate colors using a standard ColorChecker 24 chart."}),u.jsx("button",{onClick:()=>{U==null||U(),$==null||$("cl mark")},disabled:!D||T!==void 0&&T>0,className:`w-full font-bold py-2 px-4 rounded-lg shadow-md transition-all text-sm ${D?T&&T>0?"bg-yellow-100 dark:bg-yellow-900 text-yellow-700 dark:text-yellow-300 border-2 border-yellow-500":"bg-yellow-600 hover:bg-yellow-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:T&&T>0?"Marking Active...":"Mark 24-Patch Chart"}),T!==void 0&&T>0&&u.jsx("div",{className:"mt-2 text-center",children:u.jsxs("p",{className:"text-xs text-yellow-600 dark:text-yellow-400 font-bold animate-pulse",children:[T===1&&"Click Top-Left (Brown)",T===2&&"Click Top-Right (Cyanish)",T===3&&"Click Bottom-Left (White)",T===4&&"Click Bottom-Right (Black)"]})})]})}),u.jsx(cs,{title:"Selection Tools",children:u.jsx("div",{className:"space-y-3",children:u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"Quick Select or Shift+drag"}),u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Size (px):"}),u.jsx("input",{type:"number",min:"1",value:pt,onChange:X=>Dt(X.target.value),disabled:!D,className:"flex-1 px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("button",{onClick:it,disabled:!D,className:"px-3 py-1.5 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-slate-200 text-xs font-semibold rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Center Rect"}),u.jsx("button",{onClick:Be,disabled:!D,className:"px-3 py-1.5 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-slate-200 text-xs font-semibold rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Full Image"})]})]})})}),u.jsx(cs,{title:"Display Controls",children:u.jsxs("div",{className:"space-y-5",children:[u.jsxs("p",{className:"text-gray-500 dark:text-slate-400 text-center text-sm",children:["Adjust parameters and click ",u.jsx("b",{children:"Apply"}),"."]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"exposure",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"Exposure (EV)"}),u.jsx("div",{className:"flex items-center gap-2 mb-2",children:u.jsx("input",{type:"range",min:"-5",max:"5",step:"0.1",disabled:!D,value:parseFloat(K)||0,onChange:X=>nn(X.target.value),className:"w-full h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500 disabled:opacity-50"})}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("input",{id:"exposure",type:"number",step:"0.1",value:K,onChange:X=>nn(X.target.value),disabled:!D,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})})]}),u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"demosaic",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2 flex justify-between",children:[u.jsx("span",{children:"Demosaic Method"}),(_||(t==null?void 0:t.isXTrans))&&u.jsx("span",{className:"text-[9px] text-red-500 font-bold bg-red-100 dark:bg-red-900/30 px-1 rounded",children:"DISABLED"})]}),u.jsx("select",{id:"demosaic",value:H,onChange:Pt,disabled:!D||_||(t==null?void 0:t.isXTrans),className:"w-full px-2 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none transition-colors disabled:bg-gray-100 dark:disabled:bg-slate-800/50 disabled:cursor-not-allowed text-sm text-gray-900 dark:text-slate-100",children:QM.map(X=>u.jsx("option",{value:X.value,children:X.label},X.value))}),_&&u.jsx("p",{className:"text-[9px] text-gray-400 mt-1",children:"Full color data detected. Demosaicing skipped."}),(t==null?void 0:t.isXTrans)&&u.jsx("p",{className:"text-[9px] text-amber-500 mt-1",children:"X-Trans detected. Please enable Pseudo-Bayer below."})]}),Z&&u.jsxs("div",{className:"border-t border-gray-100 dark:border-slate-800 pt-2",children:[u.jsx(hf,{checked:!!gn,onChange:X=>{O&&O(X),$==null||$(`xtrans ${X?"on":"off"}`)},label:"Force X-Trans (6x6 -> 2x2)"}),gn&&P&&M&&u.jsxs("div",{className:"mt-2 pl-2 border-l-2 border-emerald-500/50 bg-emerald-50/20 dark:bg-emerald-900/10 p-2 rounded",children:[u.jsx("label",{className:"text-[9px] font-bold text-gray-500 dark:text-slate-400 uppercase block mb-1",children:"Phase Offset (Fine Tune)"}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-[9px] text-gray-400",children:"X (0-5)"}),u.jsx("input",{type:"number",min:"0",max:"5",value:P.x,onChange:X=>{const ke=Math.min(5,Math.max(0,parseInt(X.target.value)||0));M({x:ke}),$==null||$(`xtrans phase ${ke} ${P.y}`)},className:"w-full text-xs px-1 py-0.5 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-center outline-none focus:border-cyan-500"})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-[9px] text-gray-400",children:"Y (0-5)"}),u.jsx("input",{type:"number",min:"0",max:"5",value:P.y,onChange:X=>{const ke=Math.min(5,Math.max(0,parseInt(X.target.value)||0));M({y:ke}),$==null||$(`xtrans phase ${P.x} ${ke}`)},className:"w-full text-xs px-1 py-0.5 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-center outline-none focus:border-cyan-500"})]})]})]})]}),u.jsx("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-2",children:u.jsx(hf,{checked:Me,onChange:He,label:"Advanced Settings"})}),Me&&u.jsxs("div",{className:"space-y-5 pl-2 border-l-2 border-gray-200 dark:border-slate-700 animate-in slide-in-from-top-2 duration-200",children:[u.jsxs("div",{children:[u.jsx(hf,{checked:se,onChange:je,label:"Show Kadc"}),u.jsx("p",{className:"text-[10px] text-gray-400 dark:text-slate-500 mt-1",children:"Requires manual Black Levellinear PTC zoneabsolutely uniform image ."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"White Balance Gains"}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-xs text-red-500 dark:text-red-400 block mb-1",children:"Red"}),u.jsx("input",{type:"number",step:"0.01",value:fe,onChange:X=>Yt(X.target.value),disabled:!D,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-red-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-xs text-blue-500 dark:text-blue-400 block mb-1",children:"Blue"}),u.jsx("input",{type:"number",step:"0.01",value:oe,onChange:X=>ir(X.target.value),disabled:!D,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-blue-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})]})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-end mb-2",children:[u.jsxs("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide flex items-center",children:["Black Level (4-Ch)",u.jsx("span",{className:"ml-1 text-[10px] text-gray-400 dark:text-slate-500 font-normal normal-case",children:"Native"}),u.jsx("button",{onClick:()=>pr(!0),className:"ml-2 text-[10px] text-cyan-600 dark:text-cyan-400 hover:text-cyan-700 dark:hover:text-cyan-300 hover:underline cursor-pointer transition-colors",title:"About Black Level Settings",children:"[about]"})]}),u.jsxs("div",{className:"flex items-center gap-1.5",title:"Subtract Black Level from ROI Mean stats (for display)",children:[u.jsx("span",{className:"text-[9px] font-mono text-gray-400 dark:text-slate-500 uppercase tracking-wide",children:"Sub. BL"}),u.jsx("div",{className:`relative w-8 h-4 rounded-full cursor-pointer transition-colors duration-200 ease-in-out ${Re?"bg-cyan-500":"bg-gray-300 dark:bg-slate-700"}`,onClick:()=>Le(!Re),children:u.jsx("div",{className:`absolute top-0.5 left-0.5 bg-white w-3 h-3 rounded-full shadow-sm transform transition-transform duration-200 ${Re?"translate-x-4":"translate-x-0"}`})})]})]}),u.jsx("input",{type:"text",value:R,onChange:X=>ae(X.target.value),disabled:!D,placeholder:"0 0 0 0",className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-xs font-mono text-gray-900 dark:text-slate-100 transition-colors duration-300",title:"Enter 4 values separated by space or comma"}),u.jsx("p",{className:"text-[10px] text-gray-400 dark:text-slate-500 mt-1",children:"Order: (0,0) (0,1) (1,0) (1,1). Spatial: TL, TR, BL, BR."})]}),u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"customMatrix",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:["Custom Color Matrix",u.jsx("span",{className:"block text-[10px] text-gray-400 dark:text-slate-500 font-normal normal-case mt-0.5",children:"XYZ to Camera RGB (3x3, 9 nums)"})]}),u.jsx("textarea",{id:"customMatrix",value:te,onChange:le,disabled:!D,placeholder:"0.66 -0.19 -0.04  -0.46 1.23 0.25  -0.06 0.13 0.65",className:"w-full h-24 px-2 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none transition-colors disabled:bg-gray-100 dark:disabled:bg-slate-800/50 disabled:cursor-not-allowed text-xs font-mono leading-relaxed text-gray-900 dark:text-slate-100"})]})]}),u.jsxs("div",{className:"pt-4 flex flex-col gap-2",children:[u.jsx("button",{onClick:sr,disabled:!D,className:"w-full text-base bg-cyan-500 hover:bg-cyan-600 dark:bg-cyan-600 dark:hover:bg-cyan-500 disabled:bg-gray-300 dark:disabled:bg-slate-800 disabled:text-gray-500 dark:disabled:text-slate-500 disabled:cursor-not-allowed text-white font-bold py-3 px-3 rounded-lg shadow-lg shadow-cyan-500/20 dark:shadow-cyan-900/20 transition-all active:scale-95",children:""}),u.jsxs("button",{onClick:lr,disabled:!D,className:"w-full text-xs font-bold bg-slate-700 hover:bg-slate-600 text-white disabled:bg-gray-300 dark:disabled:bg-slate-800 disabled:text-gray-500 transition-colors py-2 rounded-lg flex items-center justify-center gap-1.5 border border-slate-600",title:"Diagnostic Mode. Direct RAW-to-Grayscale mapping using manual Black Level & WB Gains (R/B calibration).",children:[u.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"",u.jsx("br",{}),"(CM)"]}),u.jsx("button",{onClick:Oe,disabled:!D,className:"w-full text-xs text-gray-400 hover:text-gray-600 dark:text-slate-400 dark:hover:text-slate-200 disabled:text-gray-300 dark:disabled:text-slate-600 transition-colors mt-1",children:"Reset Defaults (Local)"})]})]})})]}),u.jsx(ei,{isOpen:Jt,onClose:()=>pr(!1),onConfirm:()=>{window.open("https://y-g-jiang.github.io/CBLD.html","_blank"),pr(!1)},title:"Black Level Info / ",confirmText:"Visit Database (CBLD)",cancelText:"Close",message:u.jsxs("div",{className:"flex flex-col gap-4 text-left text-sm text-gray-600 dark:text-slate-300",children:[u.jsxs("p",{className:"leading-relaxed",children:["JiangBridge/JiangBridge",u.jsx("a",{href:"https://y-g-jiang.github.io/CBLD.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline mx-1 font-bold",children:"CBLD.html"}),""]}),u.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 w-full"}),u.jsxs("p",{className:"leading-relaxed",children:["Autofills when JiangBridge is detected. If no result is found or JiangBridge is missing, please check the ",u.jsx("a",{href:"https://y-g-jiang.github.io/CBLD.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline mx-1 font-bold",children:"Black Level Database"}),"to find your camera model. However, manually capturing a dark frame with identical settings to calculate and input the values is highly recommended for higher decimal precision, as internal tags often lack accuracy."]})]})}),u.jsx(ei,{isOpen:mt,onClose:()=>De(!1),onConfirm:()=>{},title:"Select Zero-Dependency Mode",confirmText:"",cancelText:"",message:u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx("div",{className:"text-gray-600 dark:text-slate-300 text-left text-sm leading-relaxed mb-2",children:"Select how you want to visualize the raw data without full JOraw processing."}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("button",{onClick:()=>Ie("mosaic"),className:"flex flex-col items-center justify-center p-4 bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 border-2 border-transparent hover:border-gray-400 dark:hover:border-slate-500 rounded-xl transition-all group",children:[u.jsx("div",{className:"w-12 h-12 bg-gray-300 dark:bg-slate-600 rounded-full flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:u.jsx("svg",{className:"w-6 h-6 text-gray-600 dark:text-slate-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),u.jsx("h4",{className:"font-bold text-gray-800 dark:text-slate-200 mb-1",children:"Mosaic (Gray)"}),u.jsx("p",{className:"text-[10px] text-gray-500 dark:text-slate-400 text-center",children:"Original Bayer pattern. No demosaic. 1:1 pixel mapping. Pure DN visualization."})]}),u.jsxs("button",{onClick:()=>Ie("bilinear"),className:"flex flex-col items-center justify-center p-4 bg-indigo-50 hover:bg-indigo-100 dark:bg-indigo-900/20 dark:hover:bg-indigo-900/40 border-2 border-transparent hover:border-indigo-400 rounded-xl transition-all group",children:[u.jsx("div",{className:"w-12 h-12 bg-indigo-200 dark:bg-indigo-800 rounded-full flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:u.jsx("svg",{className:"w-6 h-6 text-indigo-700 dark:text-indigo-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"})})}),u.jsx("h4",{className:"font-bold text-indigo-800 dark:text-indigo-300 mb-1",children:"Bilinear (Color)"}),u.jsx("p",{className:"text-[10px] text-indigo-600/80 dark:text-indigo-400/80 text-center",children:"Basic JS Demosaic + Matrix + Gamma. Bypass JOraw pipeline."})]})]}),u.jsx("button",{onClick:()=>De(!1),className:"mt-2 w-full py-2 text-xs font-bold text-gray-500 hover:text-gray-700 dark:text-slate-400 dark:hover:text-slate-200 transition-colors",children:"Cancel"})]})})]})},eC=S.forwardRef((e,t)=>{const{rawImageData:r,displaySettings:n,onApplyDisplaySettings:a,onSetSelection:o,onStartMarking:i,onGenerateTestPic:s,onBatchDrLab:l,onProcessPair:c,onProcessBatchDiff:d,onProcessStackFft:f,onOpenCrossCalc:h,onToggleXTrans:p,onXTransPhaseChange:m}=e,[v,k]=S.useState([{id:"init",type:"info",text:'Jiangtherapee CLI v1.0. Type "help" for commands.'}]),[y,g]=S.useState(""),[x,j]=S.useState([]),[b,w]=S.useState(-1),N=S.useRef(null),_=S.useRef(null),O=S.useRef(null),P=S.useRef(null),M=S.useRef(null),C=S.useRef(null),$=S.useRef(null),F=S.useRef(null);S.useRef(null);const T=S.useRef({...n});S.useEffect(()=>{T.current={...n}},[n.exposure,n.demosaicMethod]);const U=S.useRef({fileA:null,fileB:null});S.useLayoutEffect(()=>{N.current&&(N.current.scrollTop=N.current.scrollHeight)},[v]);const A=(L,te="out")=>{k(Q=>[...Q,{id:Date.now().toString()+Math.random(),type:te,text:L}])};S.useImperativeHandle(t,()=>({log:(L,te="in")=>{const Q=te;let R=L;te==="in"&&!L.startsWith(">")&&(R=`> ${L}`),A(R,Q)}}));const E=S.useRef(null);S.useEffect(()=>{if(e.roiStats&&e.roiStats!==E.current){const L=e.roiStats,te=Math.round(L.x),Q=Math.round(L.y),R=Math.round(L.width),ae=Math.round(L.height);A(`> sel ${te} ${Q} ${R} ${ae}`,"in");const fe=e.isBGGR?[{name:"B",idx:0},{name:"G1",idx:1},{name:"G2",idx:2},{name:"R",idx:3}]:[{name:"R",idx:0},{name:"G1",idx:1},{name:"G2",idx:2},{name:"B",idx:3}],Y=u.jsxs("div",{className:"font-mono text-xs mt-1 mb-2",children:[u.jsxs("div",{className:"text-gray-400 mb-1",children:["Region Stats [",te,", ",Q,", ",R,"x",ae,"]:"]}),u.jsxs("div",{className:"grid grid-cols-[30px_1fr_1fr] gap-x-2 border-b border-gray-700 pb-1 mb-1 text-gray-500 font-bold",children:[u.jsx("div",{children:"Ch"}),u.jsx("div",{className:"text-right",children:"Mean"}),u.jsx("div",{className:"text-right",children:"StdDev"})]}),fe.map(oe=>u.jsxs("div",{className:"grid grid-cols-[30px_1fr_1fr] gap-x-2 hover:bg-gray-900",children:[u.jsx("div",{className:oe.name==="R"?"text-red-500":oe.name==="B"?"text-blue-500":"text-green-500",children:oe.name}),u.jsx("div",{className:"text-right text-gray-300",children:L.means[oe.idx].toFixed(2)}),u.jsx("div",{className:"text-right text-gray-400",children:L.stdDevs[oe.idx].toFixed(2)})]},oe.name))]});A(Y,"out"),E.current=L}},[e.roiStats,e.isBGGR]);const D=L=>{var ae,fe,Y,oe,pe,H,ie;const te=L.trim().split(/\s+/),Q=te[0].toLowerCase(),R=te.slice(1);switch(Q){case"help":A("Available Commands:","info"),A("  ev <val>          Set Exposure (e.g. ev 1.5)","info"),A("  wb <r> <b>        Set WB Gains","info"),A("  bl <r> <g>...     Set Black Level (1 or 4 vals)","info"),A("  demo <id>         Demosaic (0=Lin, 3=AHD, -1=Raw)","info"),A("  matrix <n1..n9>   Set Custom Color Matrix","info"),A("  xtrans <on|off>   Force X-Trans Mode","info"),A("  xtrans phase <x> <y>  Set X-Trans Phase","info"),A("  render            Apply settings & Render","info"),A("  render zero       Zero-Dependency Render","info"),A("  render unmix      Advanced Unmixing Render","info"),A("  sel <full|center> Select ROI","info"),A("  sel <x> <y> <w> <h> Select ROI manually","info"),A("  mark              Start DR Lab Corner Marking","info"),A("  gen test          Generate Test Pattern","info"),A("  fft load <a>      Load FFT Pair Image A","info"),A("  fft load <b>      Load FFT Pair Image B","info"),A("  fft run           Run FFT Pair Diff","info"),A("  cls               Clear Screen","info");break;case"cls":case"clear":k([]);break;case"ev":case"exposure":if(R.length<1){A(`Current EV: ${T.current.exposure}`,"info");return}const se=parseFloat(R[0]);if(isNaN(se)){A("Invalid EV value","err");return}T.current.exposure=se,A(`EV set to ${se} (run 'render' to apply)`);break;case"wb":if(R.length<2){A("Usage: wb <red_gain> <blue_gain>","err");return}const je=parseFloat(R[0]),Re=parseFloat(R[1]);if(isNaN(je)||isNaN(Re)){A("Invalid gains","err");return}T.current.wbGains=[je,Re],A(`WB set to R:${je} B:${Re}`);break;case"bl":case"black":if(R.length===0){A(`Current BL: ${((ae=T.current.blackLevel)==null?void 0:ae.join(" "))||"Auto"}`,"info");return}let Le=R.map(Number);if(Le.some(isNaN)){A("Invalid numbers","err");return}if(Le.length===1&&(Le=[Le[0],Le[0],Le[0],Le[0]]),Le.length<4){A("Need 1 or 4 values","err");return}T.current.blackLevel=[Le[0],Le[1],Le[2],Le[3]],T.current.subtractBlackLevelFromStats=!0,T.current.showKadc=!0,A(`Black Level set: ${Le.slice(0,4).join(" ")}`);break;case"demo":case"demosaic":if(R.length===0){A("Usage: demo <id> (0=Lin, 1=VNG, 2=PPG, 3=AHD, 4=DCB, 11=DHT, 12=AAHD, -1=Raw)","info");return}const pt=parseInt(R[0]);if(isNaN(pt)){A("Invalid method ID","err");return}T.current.demosaicMethod=pt,A(`Demosaic set to ID ${pt}`);break;case"matrix":if(R.length!==9){A("Usage: matrix m1 m2 m3 m4 m5 m6 m7 m8 m9 (3x3)","err");return}const Dt=R.map(Number);if(Dt.some(isNaN)){A("Invalid matrix values","err");return}T.current.customMatrix=Dt,A("Custom Color Matrix set.");break;case"xtrans":if(R[0]==="on"||R[0]==="true")p?(p(!0),A("X-Trans conversion ON")):A("Feature not available","err");else if(R[0]==="off"||R[0]==="false")p?(p(!1),A("X-Trans conversion OFF")):A("Feature not available","err");else if(R[0]==="phase"){if(R.length<3){A("Usage: xtrans phase <x> <y>","err");return}const Me=parseInt(R[1]),He=parseInt(R[2]);m&&(m({x:Me,y:He}),A(`X-Trans Phase set to (${Me}, ${He})`))}else A("Usage: xtrans <on|off> OR xtrans phase <x> <y>","err");break;case"render":case"apply":if(R[0]==="zero"){const Me=R[1]==="color"?"zero-dep-color":"zero-dependency";T.current.renderMode=Me,A(`Rendering Zero-Dependency (${Me})...`)}else if(R[0]==="unmix"){if(R.length<13){A("Usage: render unmix <4xBL> <4xBG> <4xFG>","err");return}const Me=R.slice(1).map(Number);if(Me.some(isNaN)){A("Invalid params","err");return}T.current.renderMode="advanced-zero-dep",T.current.advancedZeroDep={bl:[Me[0],Me[1],Me[2],Me[3]],bg:[Me[4],Me[5],Me[6],Me[7]],fg:[Me[8],Me[9],Me[10],Me[11]]},A("Rendering Advanced Unmix...")}else T.current.renderMode="standard",A("Rendering Standard Pipeline...");a({...T.current});break;case"sel":case"select":if(!r||!o){A("No image loaded","err");return}if(R[0]==="full")o({x:0,y:0,w:r.width,h:r.height});else if(R[0]==="center"){const Me=parseInt(R[1])||64,He=Math.floor((r.width-Me)/2),gt=Math.floor((r.height-Me)/2);o({x:He,y:gt,w:Me,h:Me})}else if(R.length===4){const[Me,He,gt,Wt]=R.map(Number);if([Me,He,gt,Wt].some(isNaN)){A("Invalid coordinates","err");return}o({x:Me,y:He,w:gt,h:Wt})}else A("Usage: sel full | sel center <size> | sel <x> <y> <w> <h>","err");break;case"mark":i&&(i(),A("Interactive marking started. Click 4 corners on canvas."));break;case"gen":(R[0]==="test"||R[0]==="pattern")&&s&&(s(),A("Generated Test Pattern"));break;case"drlab":if(R[0]==="config"){const[Me,He,gt]=R.slice(1).map(Number);e.onDrRoiSizeChange&&e.onDrRoiSizeChange(Me||64),e.onDrGridRowsChange&&e.onDrGridRowsChange(He||10),e.onDrGridColsChange&&e.onDrGridColsChange(gt||10),A(`DR Grid Configured: Size=${Me}, Grid=${He}x${gt}`)}else R[0]==="batch"&&(R[1]==="pair"?(A("Select file pairs for DR Lab..."),(fe=P.current)==null||fe.click()):(A("Select single files for DR Lab..."),(Y=O.current)==null||Y.click()));break;case"fft":R[0]==="load"?R[1]==="a"?(oe=M.current)==null||oe.click():R[1]==="b"?(pe=C.current)==null||pe.click():A("Usage: fft load <a|b>","err"):R[0]==="run"?U.current.fileA&&U.current.fileB&&c?(A(`Processing Pair: ${U.current.fileA.name} - ${U.current.fileB.name}`),c(U.current.fileA,U.current.fileB,!1,!0)):A("Load both A and B first","err"):R[0]==="stack"?(A("Select files for Stack FFT..."),(H=$.current)==null||H.click()):R[0]==="batch"&&(A("Select files for Batch Diff...","info"),(ie=F.current)==null||ie.click());break;case"crosscalc":h&&(h(),A("Opened Cross-Calculator"));break;default:A(`Unknown command: ${Q}`,"err")}},G=L=>{if(L.key==="Enter"){const te=y.trim();if(!te)return;A(`> ${te}`,"in"),te.split(";").forEach(R=>{R.trim()&&D(R.trim())}),j(R=>[...R,te]),w(-1),g("")}else if(L.key==="ArrowUp"){if(L.preventDefault(),x.length>0){const te=b===-1?x.length-1:Math.max(0,b-1);w(te),g(x[te])}}else if(L.key==="ArrowDown")if(L.preventDefault(),b!==-1){const te=Math.min(x.length-1,b+1);w(te),g(x[te])}else g("")},Z=(L,te)=>{L.target.files&&L.target.files.length>0&&l&&(A(`Batch processing ${L.target.files.length} files in ${te} mode...`),l(L.target.files,te)),L.target.value=""},K=(L,te)=>{var R;const Q=(R=L.target.files)==null?void 0:R[0];Q&&(te==="A"?U.current.fileA=Q:U.current.fileB=Q,A(`Loaded ${te}: ${Q.name}`)),L.target.value=""};return u.jsxs("div",{className:"flex flex-col h-full bg-black text-green-500 font-mono text-sm border-l-4 border-gray-700 p-2 shadow-2xl",children:[u.jsxs("div",{className:"border-b border-green-800 pb-2 mb-2 flex justify-between items-end select-none",children:[u.jsx("h2",{className:"text-xl font-bold tracking-widest",children:"TERMINAL"}),u.jsx("div",{className:"text-[10px] text-green-700",children:"JIANGTHERAPEE_CLI_V1"})]}),u.jsx("div",{ref:N,className:"flex-grow overflow-y-auto overflow-x-hidden break-words mb-2 pr-1 scrollbar-thin scrollbar-thumb-green-900 scrollbar-track-black",children:v.map(L=>u.jsxs("div",{className:`mb-1 ${L.type==="in"?"opacity-50":""} ${L.type==="err"?"text-red-500":""} ${L.type==="info"?"text-cyan-400":""}`,children:[L.type!=="in"&&typeof L.text=="string"&&!L.text.startsWith(">")&&u.jsx("span",{className:"mr-2 opacity-50",children:">"}),L.text]},L.id))}),u.jsxs("div",{className:"relative flex items-center border-t border-green-800 pt-2",children:[u.jsx("span",{className:"text-green-500 mr-2 animate-pulse font-bold",children:">"}),u.jsx("input",{ref:_,type:"text",value:y,onChange:L=>g(L.target.value),onKeyDown:G,autoFocus:!0,className:"w-full bg-transparent border-none outline-none text-green-400 placeholder-green-900",placeholder:"Enter command (e.g. 'help')",spellCheck:!1,autoComplete:"off"})]}),u.jsx("input",{type:"file",ref:O,className:"hidden",multiple:!0,onChange:L=>Z(L,"single")}),u.jsx("input",{type:"file",ref:P,className:"hidden",multiple:!0,onChange:L=>Z(L,"pair")}),u.jsx("input",{type:"file",ref:M,className:"hidden",onChange:L=>K(L,"A")}),u.jsx("input",{type:"file",ref:C,className:"hidden",onChange:L=>K(L,"B")}),u.jsx("input",{type:"file",ref:$,className:"hidden",multiple:!0,onChange:L=>{e.onProcessStackFft&&L.target.files&&(A(`Loading ${L.target.files.length} frames for Stack FFT...`),e.onProcessStackFft(L.target.files)),L.target.value=""}}),u.jsx("input",{type:"file",ref:F,className:"hidden",multiple:!0,onChange:L=>{e.onProcessBatchDiff&&L.target.files&&(A("Starting Batch Diff..."),e.onProcessBatchDiff(L.target.files)),L.target.value=""}})]})}),tC=(e,t)=>{if(!e)return null;if(t){const r=e.bayerPattern.toUpperCase(),n=l=>{const c=[];for(let d=0;d<4;d++)r[d]===l&&c.push(d);return c},a=t.BlackLevelRed,o=t.BlackLevelGreen,i=t.BlackLevelBlue;if(a!==void 0&&o!==void 0&&i!==void 0){const l=parseFloat(a),c=parseFloat(o),d=parseFloat(i);if(!isNaN(l)&&!isNaN(c)&&!isNaN(d)){const f=[0,0,0,0];return f.fill(c),n("R").forEach(h=>f[h]=l),n("G").forEach(h=>f[h]=c),n("B").forEach(h=>d),f}}let s=t.BlackLevel;if(s===void 0&&(s=t.BlackLevel2),s!==void 0){let l=[];if(Array.isArray(s)?l=s.map(Number):typeof s=="string"?l=s.trim().split(/\s+/).map(Number):typeof s=="number"&&(l=[s,s,s,s]),l.length===1&&!isNaN(l[0])&&(l=[l[0],l[0],l[0],l[0]]),l.length>=4&&!l.slice(0,4).some(isNaN))return[l[0],l[1],l[2],l[3]]}}return e.blackLevels&&e.blackLevels.length===4?[e.blackLevels[0],e.blackLevels[1],e.blackLevels[2],e.blackLevels[3]]:null},rC=e=>{const[t,r]=S.useState("gui"),{rawImageData:n,exifData:a,isBridgeConnected:o,displaySettings:i,onApplyDisplaySettings:s}=e,l=S.useRef(null),c=S.useRef(!1),d=S.useRef(null);S.useEffect(()=>{n!==d.current&&(c.current=!1,d.current=n)},[n]),S.useEffect(()=>{var h;if(o&&n&&!c.current){c.current=!0;const p=tC(n,a),m=p&&p.some(v=>v>0);if(p&&m){console.log("[AutoApply] Detected Black Levels via Bridge:",p),(h=l.current)==null||h.log(`Auto-detected BL: ${p.join(" ")}`,"info");const v={...i,blackLevel:p,showKadc:!0,subtractBlackLevelFromStats:!0,exposure:i.exposure,wbGains:i.wbGains||[1,1],demosaicMethod:i.demosaicMethod,renderMode:"standard"};s(v)}}},[o,n,a,i,s]);const f=h=>{l.current&&l.current.log(h,"in")};return u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsxs("div",{className:"flex bg-gray-200 dark:bg-gray-800 p-1 border-b border-gray-300 dark:border-gray-700 flex-shrink-0",children:[u.jsx("button",{onClick:()=>r("gui"),className:`flex-1 py-1 text-xs font-bold uppercase tracking-wider transition-colors border-r border-gray-300 dark:border-gray-700 ${t==="gui"?"bg-white dark:bg-black shadow-inner text-cyan-600 dark:text-cyan-400":"bg-gray-200 dark:bg-gray-900 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"GUI"}),u.jsx("button",{onClick:()=>r("terminal"),className:`flex-1 py-1 text-xs font-bold uppercase tracking-wider transition-colors ${t==="terminal"?"bg-black text-green-500 shadow-inner":"bg-gray-200 dark:bg-gray-900 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"Terminal"})]}),u.jsxs("div",{className:"flex-grow overflow-hidden relative",children:[u.jsx("div",{className:`h-full w-full ${t==="gui"?"block":"hidden"}`,children:u.jsx(JM,{...e,onCommand:f})}),u.jsx("div",{className:`h-full w-full ${t==="terminal"?"block":"hidden"}`,children:u.jsx(eC,{...e,ref:l})})]})]})},nC=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 12H4"})}),aC=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),oC=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h5M4 12a8 8 0 0114.24-5.12M20 20v-5h-5M20 12a8 8 0 01-14.24 5.12"})}),iC=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11"})}),sC=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 4l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})}),Sg=.1,Ng=16,lC=Math.log(Sg),cC=Math.log(Ng),uC=({zoom:e,onZoomChange:t,onResetView:r,touchAction:n,onToggleTouchAction:a})=>{const o=c=>{const d=parseFloat(c.target.value),f=Math.exp(d);t(Math.max(Sg,Math.min(Ng,f)))},i=()=>{t(Math.min(Ng,e*1.25))},s=()=>{t(Math.max(Sg,e/1.25))},l=Math.log(e);return u.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",onClick:c=>c.stopPropagation(),children:[u.jsx("div",{className:"bg-white/90 dark:bg-slate-800/70 backdrop-blur-sm p-2 rounded-lg border border-gray-200 dark:border-slate-700 flex items-center shadow-lg transition-colors duration-300",children:u.jsx("button",{onClick:a,className:`p-1.5 rounded-md transition-colors flex items-center justify-center ${n==="select"?"bg-cyan-100 text-cyan-600 dark:bg-cyan-900/50 dark:text-cyan-400 ring-2 ring-cyan-500/50":"text-gray-500 dark:text-slate-400 hover:bg-gray-100 dark:hover:bg-slate-700"}`,title:n==="select"?"Mode: Selection (Drag to Select)":"Mode: Pan (Drag to Move)",children:n==="select"?u.jsx(sC,{}):u.jsx(iC,{})})}),u.jsxs("div",{className:"bg-white/90 dark:bg-slate-800/70 backdrop-blur-sm p-2 rounded-lg border border-gray-200 dark:border-slate-700 flex items-center gap-2 text-gray-700 dark:text-slate-300 shadow-lg transition-colors duration-300",children:[u.jsx("button",{onClick:s,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Zoom Out","aria-label":"Zoom Out",children:u.jsx(nC,{})}),u.jsx("input",{type:"range",min:lC,max:cC,step:"0.01",value:l,onChange:o,className:"w-24 sm:w-32 h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500","aria-label":"Zoom slider"}),u.jsx("button",{onClick:i,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Zoom In","aria-label":"Zoom In",children:u.jsx(aC,{})}),u.jsxs("span",{className:"w-16 text-center font-mono text-sm","aria-live":"polite",children:[(e*100).toFixed(0),"%"]}),u.jsx("button",{onClick:r,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Reset View","aria-label":"Reset View",children:u.jsx(oC,{})})]})]})},fC=({theme:e,setTheme:t})=>{const r=()=>{t(e==="light"?"dark":"light")};return u.jsx("button",{onClick:r,className:"fixed bottom-6 right-6 z-50 p-3 rounded-full bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 shadow-lg text-gray-800 dark:text-yellow-400 hover:bg-gray-100 dark:hover:bg-slate-700 transition-all duration-300",title:`Switch to ${e==="light"?"dark":"light"} mode`,children:e==="light"?u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-slate-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}):u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})})})};function MS(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=MS(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function at(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=MS(e))&&(n&&(n+=" "),n+=t);return n}var dC=Array.isArray,Wn=dC,hC=typeof Ku=="object"&&Ku&&Ku.Object===Object&&Ku,CS=hC,pC=CS,gC=typeof self=="object"&&self&&self.Object===Object&&self,mC=pC||gC||Function("return this")(),Ja=mC,yC=Ja,vC=yC.Symbol,Mu=vC,mb=Mu,ES=Object.prototype,xC=ES.hasOwnProperty,bC=ES.toString,Xl=mb?mb.toStringTag:void 0;function wC(e){var t=xC.call(e,Xl),r=e[Xl];try{e[Xl]=void 0;var n=!0}catch{}var a=bC.call(e);return n&&(t?e[Xl]=r:delete e[Xl]),a}var kC=wC,jC=Object.prototype,SC=jC.toString;function NC(e){return SC.call(e)}var _C=NC,yb=Mu,OC=kC,PC=_C,AC="[object Null]",MC="[object Undefined]",vb=yb?yb.toStringTag:void 0;function CC(e){return e==null?e===void 0?MC:AC:vb&&vb in Object(e)?OC(e):PC(e)}var Oo=CC;function EC(e){return e!=null&&typeof e=="object"}var Po=EC,TC=Oo,$C=Po,DC="[object Symbol]";function RC(e){return typeof e=="symbol"||$C(e)&&TC(e)==DC}var wl=RC,LC=Wn,IC=wl,BC=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,FC=/^\w*$/;function zC(e,t){if(LC(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||IC(e)?!0:FC.test(e)||!BC.test(e)||t!=null&&e in Object(t)}var qy=zC;function UC(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var si=UC;const kl=$t(si);var WC=Oo,GC=si,HC="[object AsyncFunction]",VC="[object Function]",XC="[object GeneratorFunction]",KC="[object Proxy]";function YC(e){if(!GC(e))return!1;var t=WC(e);return t==VC||t==XC||t==HC||t==KC}var Zy=YC;const Ge=$t(Zy);var qC=Ja,ZC=qC["__core-js_shared__"],QC=ZC,Q0=QC,xb=function(){var e=/[^.]+$/.exec(Q0&&Q0.keys&&Q0.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function JC(e){return!!xb&&xb in e}var e5=JC,t5=Function.prototype,r5=t5.toString;function n5(e){if(e!=null){try{return r5.call(e)}catch{}try{return e+""}catch{}}return""}var TS=n5,a5=Zy,o5=e5,i5=si,s5=TS,l5=/[\\^$.*+?()[\]{}|]/g,c5=/^\[object .+?Constructor\]$/,u5=Function.prototype,f5=Object.prototype,d5=u5.toString,h5=f5.hasOwnProperty,p5=RegExp("^"+d5.call(h5).replace(l5,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function g5(e){if(!i5(e)||o5(e))return!1;var t=a5(e)?p5:c5;return t.test(s5(e))}var m5=g5;function y5(e,t){return e==null?void 0:e[t]}var v5=y5,x5=m5,b5=v5;function w5(e,t){var r=b5(e,t);return x5(r)?r:void 0}var Zi=w5,k5=Zi,j5=k5(Object,"create"),$h=j5,bb=$h;function S5(){this.__data__=bb?bb(null):{},this.size=0}var N5=S5;function _5(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var O5=_5,P5=$h,A5="__lodash_hash_undefined__",M5=Object.prototype,C5=M5.hasOwnProperty;function E5(e){var t=this.__data__;if(P5){var r=t[e];return r===A5?void 0:r}return C5.call(t,e)?t[e]:void 0}var T5=E5,$5=$h,D5=Object.prototype,R5=D5.hasOwnProperty;function L5(e){var t=this.__data__;return $5?t[e]!==void 0:R5.call(t,e)}var I5=L5,B5=$h,F5="__lodash_hash_undefined__";function z5(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=B5&&t===void 0?F5:t,this}var U5=z5,W5=N5,G5=O5,H5=T5,V5=I5,X5=U5;function jl(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}jl.prototype.clear=W5;jl.prototype.delete=G5;jl.prototype.get=H5;jl.prototype.has=V5;jl.prototype.set=X5;var K5=jl;function Y5(){this.__data__=[],this.size=0}var q5=Y5;function Z5(e,t){return e===t||e!==e&&t!==t}var Qy=Z5,Q5=Qy;function J5(e,t){for(var r=e.length;r--;)if(Q5(e[r][0],t))return r;return-1}var Dh=J5,eE=Dh,tE=Array.prototype,rE=tE.splice;function nE(e){var t=this.__data__,r=eE(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():rE.call(t,r,1),--this.size,!0}var aE=nE,oE=Dh;function iE(e){var t=this.__data__,r=oE(t,e);return r<0?void 0:t[r][1]}var sE=iE,lE=Dh;function cE(e){return lE(this.__data__,e)>-1}var uE=cE,fE=Dh;function dE(e,t){var r=this.__data__,n=fE(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var hE=dE,pE=q5,gE=aE,mE=sE,yE=uE,vE=hE;function Sl(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Sl.prototype.clear=pE;Sl.prototype.delete=gE;Sl.prototype.get=mE;Sl.prototype.has=yE;Sl.prototype.set=vE;var Rh=Sl,xE=Zi,bE=Ja,wE=xE(bE,"Map"),Jy=wE,wb=K5,kE=Rh,jE=Jy;function SE(){this.size=0,this.__data__={hash:new wb,map:new(jE||kE),string:new wb}}var NE=SE;function _E(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var OE=_E,PE=OE;function AE(e,t){var r=e.__data__;return PE(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Lh=AE,ME=Lh;function CE(e){var t=ME(this,e).delete(e);return this.size-=t?1:0,t}var EE=CE,TE=Lh;function $E(e){return TE(this,e).get(e)}var DE=$E,RE=Lh;function LE(e){return RE(this,e).has(e)}var IE=LE,BE=Lh;function FE(e,t){var r=BE(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var zE=FE,UE=NE,WE=EE,GE=DE,HE=IE,VE=zE;function Nl(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Nl.prototype.clear=UE;Nl.prototype.delete=WE;Nl.prototype.get=GE;Nl.prototype.has=HE;Nl.prototype.set=VE;var ev=Nl,$S=ev,XE="Expected a function";function tv(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(XE);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var i=e.apply(this,n);return r.cache=o.set(a,i)||o,i};return r.cache=new(tv.Cache||$S),r}tv.Cache=$S;var DS=tv;const KE=$t(DS);var YE=DS,qE=500;function ZE(e){var t=YE(e,function(n){return r.size===qE&&r.clear(),n}),r=t.cache;return t}var QE=ZE,JE=QE,eT=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,tT=/\\(\\)?/g,rT=JE(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(eT,function(r,n,a,o){t.push(a?o.replace(tT,"$1"):n||r)}),t}),nT=rT;function aT(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var rv=aT,kb=Mu,oT=rv,iT=Wn,sT=wl,jb=kb?kb.prototype:void 0,Sb=jb?jb.toString:void 0;function RS(e){if(typeof e=="string")return e;if(iT(e))return oT(e,RS)+"";if(sT(e))return Sb?Sb.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var lT=RS,cT=lT;function uT(e){return e==null?"":cT(e)}var LS=uT,fT=Wn,dT=qy,hT=nT,pT=LS;function gT(e,t){return fT(e)?e:dT(e,t)?[e]:hT(pT(e))}var IS=gT,mT=wl;function yT(e){if(typeof e=="string"||mT(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Ih=yT,vT=IS,xT=Ih;function bT(e,t){t=vT(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[xT(t[r++])];return r&&r==n?e:void 0}var nv=bT,wT=nv;function kT(e,t,r){var n=e==null?void 0:wT(e,t);return n===void 0?r:n}var BS=kT;const ma=$t(BS);function jT(e){return e==null}var ST=jT;const Fe=$t(ST);var NT=Oo,_T=Wn,OT=Po,PT="[object String]";function AT(e){return typeof e=="string"||!_T(e)&&OT(e)&&NT(e)==PT}var MT=AT;const Ui=$t(MT);var FS={exports:{}},_t={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av=Symbol.for("react.element"),ov=Symbol.for("react.portal"),Bh=Symbol.for("react.fragment"),Fh=Symbol.for("react.strict_mode"),zh=Symbol.for("react.profiler"),Uh=Symbol.for("react.provider"),Wh=Symbol.for("react.context"),CT=Symbol.for("react.server_context"),Gh=Symbol.for("react.forward_ref"),Hh=Symbol.for("react.suspense"),Vh=Symbol.for("react.suspense_list"),Xh=Symbol.for("react.memo"),Kh=Symbol.for("react.lazy"),ET=Symbol.for("react.offscreen"),zS;zS=Symbol.for("react.module.reference");function ba(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case av:switch(e=e.type,e){case Bh:case zh:case Fh:case Hh:case Vh:return e;default:switch(e=e&&e.$$typeof,e){case CT:case Wh:case Gh:case Kh:case Xh:case Uh:return e;default:return t}}case ov:return t}}}_t.ContextConsumer=Wh;_t.ContextProvider=Uh;_t.Element=av;_t.ForwardRef=Gh;_t.Fragment=Bh;_t.Lazy=Kh;_t.Memo=Xh;_t.Portal=ov;_t.Profiler=zh;_t.StrictMode=Fh;_t.Suspense=Hh;_t.SuspenseList=Vh;_t.isAsyncMode=function(){return!1};_t.isConcurrentMode=function(){return!1};_t.isContextConsumer=function(e){return ba(e)===Wh};_t.isContextProvider=function(e){return ba(e)===Uh};_t.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===av};_t.isForwardRef=function(e){return ba(e)===Gh};_t.isFragment=function(e){return ba(e)===Bh};_t.isLazy=function(e){return ba(e)===Kh};_t.isMemo=function(e){return ba(e)===Xh};_t.isPortal=function(e){return ba(e)===ov};_t.isProfiler=function(e){return ba(e)===zh};_t.isStrictMode=function(e){return ba(e)===Fh};_t.isSuspense=function(e){return ba(e)===Hh};_t.isSuspenseList=function(e){return ba(e)===Vh};_t.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Bh||e===zh||e===Fh||e===Hh||e===Vh||e===ET||typeof e=="object"&&e!==null&&(e.$$typeof===Kh||e.$$typeof===Xh||e.$$typeof===Uh||e.$$typeof===Wh||e.$$typeof===Gh||e.$$typeof===zS||e.getModuleId!==void 0)};_t.typeOf=ba;FS.exports=_t;var TT=FS.exports,$T=Oo,DT=Po,RT="[object Number]";function LT(e){return typeof e=="number"||DT(e)&&$T(e)==RT}var US=LT;const IT=$t(US);var BT=US;function FT(e){return BT(e)&&e!=+e}var zT=FT;const _l=$t(zT);var Ca=function(t){return t===0?0:t>0?1:-1},Oi=function(t){return Ui(t)&&t.indexOf("%")===t.length-1},de=function(t){return IT(t)&&!_l(t)},UT=function(t){return Fe(t)},Rr=function(t){return de(t)||Ui(t)},WT=0,Qi=function(t){var r=++WT;return"".concat(t||"").concat(r)},Wi=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!de(t)&&!Ui(t))return n;var o;if(Oi(t)){var i=t.indexOf("%");o=r*parseFloat(t.slice(0,i))/100}else o=+t;return _l(o)&&(o=n),a&&o>r&&(o=r),o},Bo=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},GT=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},xr=function(t,r){return de(t)&&de(r)?function(n){return t+n*(r-t)}:function(){return r}};function hd(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):ma(n,t))===r})}var HT=function(t){if(!t||!t.length)return null;for(var r=t.length,n=0,a=0,o=0,i=0,s=1/0,l=-1/0,c=0,d=0,f=0;f<r;f++)c=t[f].cx||0,d=t[f].cy||0,n+=c,a+=d,o+=c*d,i+=c*c,s=Math.min(s,c),l=Math.max(l,c);var h=r*i!==n*n?(r*o-n*a)/(r*i-n*n):0;return{xmin:s,xmax:l,a:h,b:(a-h*n)/r}},VT=function(t,r){return de(t)&&de(r)?t-r:Ui(t)&&Ui(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Ds(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function _g(e){"@babel/helpers - typeof";return _g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_g(e)}var XT=["viewBox","children"],KT=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Nb=["points","pathLength"],J0={svg:XT,polygon:Nb,polyline:Nb},iv=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],pd=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(S.isValidElement(t)&&(n=t.props),!kl(n))return null;var a={};return Object.keys(n).forEach(function(o){iv.includes(o)&&(a[o]=r||function(i){return n[o](n,i)})}),a},YT=function(t,r,n){return function(a){return t(r,n,a),null}},Uc=function(t,r,n){if(!kl(t)||_g(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(o){var i=t[o];iv.includes(o)&&typeof i=="function"&&(a||(a={}),a[o]=YT(i,r,n))}),a},qT=["children"],ZT=["children"];function _b(e,t){if(e==null)return{};var r=QT(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function QT(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Og(e){"@babel/helpers - typeof";return Og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Og(e)}var Ob={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},go=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Pb=null,ep=null,sv=function e(t){if(t===Pb&&Array.isArray(ep))return ep;var r=[];return S.Children.forEach(t,function(n){Fe(n)||(TT.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),ep=r,Pb=t,r};function Fn(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return go(a)}):n=[go(t)],sv(e).forEach(function(a){var o=ma(a,"type.displayName")||ma(a,"type.name");n.indexOf(o)!==-1&&r.push(a)}),r}function Zn(e,t){var r=Fn(e,t);return r&&r[0]}var Ab=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!de(n)||n<=0||!de(a)||a<=0)},JT=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],e$=function(t){return t&&t.type&&Ui(t.type)&&JT.indexOf(t.type)>=0},WS=function(t){return t&&Og(t)==="object"&&"clipDot"in t},t$=function(t,r,n,a){var o,i=(o=J0==null?void 0:J0[a])!==null&&o!==void 0?o:[];return r.startsWith("data-")||!Ge(t)&&(a&&i.includes(r)||KT.includes(r))||n&&iv.includes(r)},We=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(S.isValidElement(t)&&(a=t.props),!kl(a))return null;var o={};return Object.keys(a).forEach(function(i){var s;t$((s=a)===null||s===void 0?void 0:s[i],i,r,n)&&(o[i]=a[i])}),o},Pg=function e(t,r){if(t===r)return!0;var n=S.Children.count(t);if(n!==S.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Mb(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var o=t[a],i=r[a];if(Array.isArray(o)||Array.isArray(i)){if(!e(o,i))return!1}else if(!Mb(o,i))return!1}return!0},Mb=function(t,r){if(Fe(t)&&Fe(r))return!0;if(!Fe(t)&&!Fe(r)){var n=t.props||{},a=n.children,o=_b(n,qT),i=r.props||{},s=i.children,l=_b(i,ZT);return a&&s?Ds(o,l)&&Pg(a,s):!a&&!s?Ds(o,l):!1}return!1},Cb=function(t,r){var n=[],a={};return sv(t).forEach(function(o,i){if(e$(o))n.push(o);else if(o){var s=go(o.type),l=r[s]||{},c=l.handler,d=l.once;if(c&&(!d||!a[s])){var f=c(o,s,i);n.push(f),a[s]=!0}}}),n},r$=function(t){var r=t&&t.type;return r&&Ob[r]?Ob[r]:null},n$=function(t,r){return sv(r).indexOf(t)},a$=["children","width","height","viewBox","className","style","title","desc"];function Ag(){return Ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ag.apply(this,arguments)}function o$(e,t){if(e==null)return{};var r=i$(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function i$(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Mg(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,o=e.className,i=e.style,s=e.title,l=e.desc,c=o$(e,a$),d=a||{width:r,height:n,x:0,y:0},f=at("recharts-surface",o);return I.createElement("svg",Ag({},We(c,!0,"svg"),{className:f,width:r,height:n,style:i,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),I.createElement("title",null,s),I.createElement("desc",null,l),t)}var s$=["children","className"];function Cg(){return Cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cg.apply(this,arguments)}function l$(e,t){if(e==null)return{};var r=c$(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function c$(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ht=I.forwardRef(function(e,t){var r=e.children,n=e.className,a=l$(e,s$),o=at("recharts-layer",n);return I.createElement("g",Cg({className:o},We(a,!0),{ref:t}),r)}),mo=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o]};function u$(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(a);++n<a;)o[n]=e[n+t];return o}var f$=u$,d$=f$;function h$(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:d$(e,t,r)}var p$=h$,g$="\\ud800-\\udfff",m$="\\u0300-\\u036f",y$="\\ufe20-\\ufe2f",v$="\\u20d0-\\u20ff",x$=m$+y$+v$,b$="\\ufe0e\\ufe0f",w$="\\u200d",k$=RegExp("["+w$+g$+x$+b$+"]");function j$(e){return k$.test(e)}var GS=j$;function S$(e){return e.split("")}var N$=S$,HS="\\ud800-\\udfff",_$="\\u0300-\\u036f",O$="\\ufe20-\\ufe2f",P$="\\u20d0-\\u20ff",A$=_$+O$+P$,M$="\\ufe0e\\ufe0f",C$="["+HS+"]",Eg="["+A$+"]",Tg="\\ud83c[\\udffb-\\udfff]",E$="(?:"+Eg+"|"+Tg+")",VS="[^"+HS+"]",XS="(?:\\ud83c[\\udde6-\\uddff]){2}",KS="[\\ud800-\\udbff][\\udc00-\\udfff]",T$="\\u200d",YS=E$+"?",qS="["+M$+"]?",$$="(?:"+T$+"(?:"+[VS,XS,KS].join("|")+")"+qS+YS+")*",D$=qS+YS+$$,R$="(?:"+[VS+Eg+"?",Eg,XS,KS,C$].join("|")+")",L$=RegExp(Tg+"(?="+Tg+")|"+R$+D$,"g");function I$(e){return e.match(L$)||[]}var B$=I$,F$=N$,z$=GS,U$=B$;function W$(e){return z$(e)?U$(e):F$(e)}var G$=W$,H$=p$,V$=GS,X$=G$,K$=LS;function Y$(e){return function(t){t=K$(t);var r=V$(t)?X$(t):void 0,n=r?r[0]:t.charAt(0),a=r?H$(r,1).join(""):t.slice(1);return n[e]()+a}}var q$=Y$,Z$=q$,Q$=Z$("toUpperCase"),J$=Q$;const Yh=$t(J$);function zt(e){return function(){return e}}const ZS=Math.cos,gd=Math.sin,Ra=Math.sqrt,md=Math.PI,qh=2*md,$g=Math.PI,Dg=2*$g,wi=1e-6,e4=Dg-wi;function QS(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function t4(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return QS;const r=10**t;return function(n){this._+=n[0];for(let a=1,o=n.length;a<o;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class r4{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?QS:t4(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,o,i){this._append`C${+t},${+r},${+n},${+a},${this._x1=+o},${this._y1=+i}`}arcTo(t,r,n,a,o){if(t=+t,r=+r,n=+n,a=+a,o=+o,o<0)throw new Error(`negative radius: ${o}`);let i=this._x1,s=this._y1,l=n-t,c=a-r,d=i-t,f=s-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>wi)if(!(Math.abs(f*l-c*d)>wi)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-i,m=a-s,v=l*l+c*c,k=p*p+m*m,y=Math.sqrt(v),g=Math.sqrt(h),x=o*Math.tan(($g-Math.acos((v+h-k)/(2*y*g)))/2),j=x/g,b=x/y;Math.abs(j-1)>wi&&this._append`L${t+j*d},${r+j*f}`,this._append`A${o},${o},0,0,${+(f*p>d*m)},${this._x1=t+b*l},${this._y1=r+b*c}`}}arc(t,r,n,a,o,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),l=n*Math.sin(a),c=t+s,d=r+l,f=1^i,h=i?a-o:o-a;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>wi||Math.abs(this._y1-d)>wi)&&this._append`L${c},${d}`,n&&(h<0&&(h=h%Dg+Dg),h>e4?this._append`A${n},${n},0,1,${f},${t-s},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=d}`:h>wi&&this._append`A${n},${n},0,${+(h>=$g)},${f},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function lv(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new r4(t)}function cv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function JS(e){this._context=e}JS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Zh(e){return new JS(e)}function eN(e){return e[0]}function tN(e){return e[1]}function rN(e,t){var r=zt(!0),n=null,a=Zh,o=null,i=lv(s);e=typeof e=="function"?e:e===void 0?eN:zt(e),t=typeof t=="function"?t:t===void 0?tN:zt(t);function s(l){var c,d=(l=cv(l)).length,f,h=!1,p;for(n==null&&(o=a(p=i())),c=0;c<=d;++c)!(c<d&&r(f=l[c],c,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(f,c,l),+t(f,c,l));if(p)return o=null,p+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:zt(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:zt(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:zt(!!l),s):r},s.curve=function(l){return arguments.length?(a=l,n!=null&&(o=a(n)),s):a},s.context=function(l){return arguments.length?(l==null?n=o=null:o=a(n=l),s):n},s}function pf(e,t,r){var n=null,a=zt(!0),o=null,i=Zh,s=null,l=lv(c);e=typeof e=="function"?e:e===void 0?eN:zt(+e),t=typeof t=="function"?t:zt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?tN:zt(+r);function c(f){var h,p,m,v=(f=cv(f)).length,k,y=!1,g,x=new Array(v),j=new Array(v);for(o==null&&(s=i(g=l())),h=0;h<=v;++h){if(!(h<v&&a(k=f[h],h,f))===y)if(y=!y)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=h-1;m>=p;--m)s.point(x[m],j[m]);s.lineEnd(),s.areaEnd()}y&&(x[h]=+e(k,h,f),j[h]=+t(k,h,f),s.point(n?+n(k,h,f):x[h],r?+r(k,h,f):j[h]))}if(g)return s=null,g+""||null}function d(){return rN().defined(a).curve(i).context(o)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:zt(+f),n=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:zt(+f),c):e},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:zt(+f),c):n},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:zt(+f),r=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:zt(+f),c):t},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:zt(+f),c):r},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(r)},c.lineX1=function(){return d().x(n).y(t)},c.defined=function(f){return arguments.length?(a=typeof f=="function"?f:zt(!!f),c):a},c.curve=function(f){return arguments.length?(i=f,o!=null&&(s=i(o)),c):i},c.context=function(f){return arguments.length?(f==null?o=s=null:s=i(o=f),c):o},c}class nN{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function n4(e){return new nN(e,!0)}function a4(e){return new nN(e,!1)}const uv={draw(e,t){const r=Ra(t/md);e.moveTo(r,0),e.arc(0,0,r,0,qh)}},o4={draw(e,t){const r=Ra(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},aN=Ra(1/3),i4=aN*2,s4={draw(e,t){const r=Ra(t/i4),n=r*aN;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},l4={draw(e,t){const r=Ra(t),n=-r/2;e.rect(n,n,r,r)}},c4=.8908130915292852,oN=gd(md/10)/gd(7*md/10),u4=gd(qh/10)*oN,f4=-ZS(qh/10)*oN,d4={draw(e,t){const r=Ra(t*c4),n=u4*r,a=f4*r;e.moveTo(0,-r),e.lineTo(n,a);for(let o=1;o<5;++o){const i=qh*o/5,s=ZS(i),l=gd(i);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*a,l*n+s*a)}e.closePath()}},tp=Ra(3),h4={draw(e,t){const r=-Ra(t/(tp*3));e.moveTo(0,r*2),e.lineTo(-tp*r,-r),e.lineTo(tp*r,-r),e.closePath()}},ia=-.5,sa=Ra(3)/2,Rg=1/Ra(12),p4=(Rg/2+1)*3,g4={draw(e,t){const r=Ra(t/p4),n=r/2,a=r*Rg,o=n,i=r*Rg+r,s=-o,l=i;e.moveTo(n,a),e.lineTo(o,i),e.lineTo(s,l),e.lineTo(ia*n-sa*a,sa*n+ia*a),e.lineTo(ia*o-sa*i,sa*o+ia*i),e.lineTo(ia*s-sa*l,sa*s+ia*l),e.lineTo(ia*n+sa*a,ia*a-sa*n),e.lineTo(ia*o+sa*i,ia*i-sa*o),e.lineTo(ia*s+sa*l,ia*l-sa*s),e.closePath()}};function m4(e,t){let r=null,n=lv(a);e=typeof e=="function"?e:zt(e||uv),t=typeof t=="function"?t:zt(t===void 0?64:+t);function a(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return a.type=function(o){return arguments.length?(e=typeof o=="function"?o:zt(o),a):e},a.size=function(o){return arguments.length?(t=typeof o=="function"?o:zt(+o),a):t},a.context=function(o){return arguments.length?(r=o??null,a):r},a}function yd(){}function vd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function iN(e){this._context=e}iN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:vd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:vd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function y4(e){return new iN(e)}function sN(e){this._context=e}sN.prototype={areaStart:yd,areaEnd:yd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:vd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function v4(e){return new sN(e)}function lN(e){this._context=e}lN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:vd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function x4(e){return new lN(e)}function cN(e){this._context=e}cN.prototype={areaStart:yd,areaEnd:yd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function b4(e){return new cN(e)}function Eb(e){return e<0?-1:1}function Tb(e,t,r){var n=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),s=(o*a+i*n)/(n+a);return(Eb(o)+Eb(i))*Math.min(Math.abs(o),Math.abs(i),.5*Math.abs(s))||0}function $b(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function rp(e,t,r){var n=e._x0,a=e._y0,o=e._x1,i=e._y1,s=(o-n)/3;e._context.bezierCurveTo(n+s,a+s*t,o-s,i-s*r,o,i)}function xd(e){this._context=e}xd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:rp(this,this._t0,$b(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,rp(this,$b(this,r=Tb(this,e,t)),r);break;default:rp(this,this._t0,r=Tb(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function uN(e){this._context=new fN(e)}(uN.prototype=Object.create(xd.prototype)).point=function(e,t){xd.prototype.point.call(this,t,e)};function fN(e){this._context=e}fN.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,o){this._context.bezierCurveTo(t,e,n,r,o,a)}};function w4(e){return new xd(e)}function k4(e){return new uN(e)}function dN(e){this._context=e}dN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Db(e),a=Db(t),o=0,i=1;i<r;++o,++i)this._context.bezierCurveTo(n[0][o],a[0][o],n[1][o],a[1][o],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Db(e){var t,r=e.length-1,n,a=new Array(r),o=new Array(r),i=new Array(r);for(a[0]=0,o[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,o[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,o[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/o[t-1],o[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/o[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/o[t];for(o[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-a[t+1];return[a,o]}function j4(e){return new dN(e)}function Qh(e,t){this._context=e,this._t=t}Qh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function S4(e){return new Qh(e,.5)}function N4(e){return new Qh(e,0)}function _4(e){return new Qh(e,1)}function Vs(e,t){if((i=e.length)>1)for(var r=1,n,a,o=e[t[0]],i,s=o.length;r<i;++r)for(a=o,o=e[t[r]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Lg(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function O4(e,t){return e[t]}function P4(e){const t=[];return t.key=e,t}function A4(){var e=zt([]),t=Lg,r=Vs,n=O4;function a(o){var i=Array.from(e.apply(this,arguments),P4),s,l=i.length,c=-1,d;for(const f of o)for(s=0,++c;s<l;++s)(i[s][c]=[0,+n(f,i[s].key,c,o)]).data=f;for(s=0,d=cv(t(i));s<l;++s)i[d[s]].index=s;return r(i,d),i}return a.keys=function(o){return arguments.length?(e=typeof o=="function"?o:zt(Array.from(o)),a):e},a.value=function(o){return arguments.length?(n=typeof o=="function"?o:zt(+o),a):n},a.order=function(o){return arguments.length?(t=o==null?Lg:typeof o=="function"?o:zt(Array.from(o)),a):t},a.offset=function(o){return arguments.length?(r=o??Vs,a):r},a}function M4(e,t){if((n=e.length)>0){for(var r,n,a=0,o=e[0].length,i;a<o;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}Vs(e,t)}}function C4(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,o=n.length;r<o;++r){for(var i=0,s=0;i<a;++i)s+=e[i][r][1]||0;n[r][1]+=n[r][0]=-s/2}Vs(e,t)}}function E4(e,t){if(!(!((i=e.length)>0)||!((o=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,o,i;n<o;++n){for(var s=0,l=0,c=0;s<i;++s){for(var d=e[t[s]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,m=0;m<s;++m){var v=e[t[m]],k=v[n][1]||0,y=v[n-1][1]||0;p+=k-y}l+=f,c+=p*f}a[n-1][1]+=a[n-1][0]=r,l&&(r-=c/l)}a[n-1][1]+=a[n-1][0]=r,Vs(e,t)}}function Wc(e){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wc(e)}var T4=["type","size","sizeType"];function Ig(){return Ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ig.apply(this,arguments)}function Rb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rb(Object(r),!0).forEach(function(n){$4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $4(e,t,r){return t=D4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D4(e){var t=R4(e,"string");return Wc(t)=="symbol"?t:t+""}function R4(e,t){if(Wc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function L4(e,t){if(e==null)return{};var r=I4(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function I4(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var hN={symbolCircle:uv,symbolCross:o4,symbolDiamond:s4,symbolSquare:l4,symbolStar:d4,symbolTriangle:h4,symbolWye:g4},B4=Math.PI/180,F4=function(t){var r="symbol".concat(Yh(t));return hN[r]||uv},z4=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*B4;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},U4=function(t,r){hN["symbol".concat(Yh(t))]=r},Jh=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,o=a===void 0?64:a,i=t.sizeType,s=i===void 0?"area":i,l=L4(t,T4),c=Lb(Lb({},l),{},{type:n,size:o,sizeType:s}),d=function(){var k=F4(n),y=m4().type(k).size(z4(o,s,n));return y()},f=c.className,h=c.cx,p=c.cy,m=We(c,!0);return h===+h&&p===+p&&o===+o?I.createElement("path",Ig({},m,{className:at("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};Jh.registerSymbol=U4;function Xs(e){"@babel/helpers - typeof";return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xs(e)}function Bg(){return Bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bg.apply(this,arguments)}function Ib(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function W4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ib(Object(r),!0).forEach(function(n){Gc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ib(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gN(n.key),n)}}function V4(e,t,r){return t&&H4(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function X4(e,t,r){return t=bd(t),K4(e,pN()?Reflect.construct(t,r||[],bd(e).constructor):t.apply(e,r))}function K4(e,t){if(t&&(Xs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y4(e)}function Y4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pN=function(){return!!e})()}function bd(e){return bd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bd(e)}function q4(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fg(e,t)}function Fg(e,t){return Fg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Fg(e,t)}function Gc(e,t,r){return t=gN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gN(e){var t=Z4(e,"string");return Xs(t)=="symbol"?t:t+""}function Z4(e,t){if(Xs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var la=32,fv=function(e){function t(){return G4(this,t),X4(this,t,arguments)}return q4(t,e),V4(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,o=la/2,i=la/6,s=la/3,l=n.inactive?a:n.color;if(n.type==="plainline")return I.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:la,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return I.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(la,"M").concat(2*s,",").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return I.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(la/8,"h").concat(la,"v").concat(la*3/4,"h").concat(-la,"z"),className:"recharts-legend-icon"});if(I.isValidElement(n.legendIcon)){var c=W4({},n);return delete c.legendIcon,I.cloneElement(n.legendIcon,c)}return I.createElement(Jh,{fill:l,cx:o,cy:o,size:la,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,o=a.payload,i=a.iconSize,s=a.layout,l=a.formatter,c=a.inactiveColor,d={x:0,y:0,width:la,height:la},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,m){var v=p.formatter||l,k=at(Gc(Gc({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=Ge(p.value)?null:p.value;mo(!Ge(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var g=p.inactive?c:p.color;return I.createElement("li",Bg({className:k,style:f,key:"legend-item-".concat(m)},Uc(n.props,p,m)),I.createElement(Mg,{width:i,height:i,viewBox:d,style:h},n.renderIcon(p)),I.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},v?v(y,p,m):y))})}},{key:"render",value:function(){var n=this.props,a=n.payload,o=n.layout,i=n.align;if(!a||!a.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?i:"left"};return I.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(S.PureComponent);Gc(fv,"displayName","Legend");Gc(fv,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Q4=Rh;function J4(){this.__data__=new Q4,this.size=0}var e3=J4;function t3(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var r3=t3;function n3(e){return this.__data__.get(e)}var a3=n3;function o3(e){return this.__data__.has(e)}var i3=o3,s3=Rh,l3=Jy,c3=ev,u3=200;function f3(e,t){var r=this.__data__;if(r instanceof s3){var n=r.__data__;if(!l3||n.length<u3-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new c3(n)}return r.set(e,t),this.size=r.size,this}var d3=f3,h3=Rh,p3=e3,g3=r3,m3=a3,y3=i3,v3=d3;function Ol(e){var t=this.__data__=new h3(e);this.size=t.size}Ol.prototype.clear=p3;Ol.prototype.delete=g3;Ol.prototype.get=m3;Ol.prototype.has=y3;Ol.prototype.set=v3;var mN=Ol,x3="__lodash_hash_undefined__";function b3(e){return this.__data__.set(e,x3),this}var w3=b3;function k3(e){return this.__data__.has(e)}var j3=k3,S3=ev,N3=w3,_3=j3;function wd(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new S3;++t<r;)this.add(e[t])}wd.prototype.add=wd.prototype.push=N3;wd.prototype.has=_3;var yN=wd;function O3(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var vN=O3;function P3(e,t){return e.has(t)}var xN=P3,A3=yN,M3=vN,C3=xN,E3=1,T3=2;function $3(e,t,r,n,a,o){var i=r&E3,s=e.length,l=t.length;if(s!=l&&!(i&&l>s))return!1;var c=o.get(e),d=o.get(t);if(c&&d)return c==t&&d==e;var f=-1,h=!0,p=r&T3?new A3:void 0;for(o.set(e,t),o.set(t,e);++f<s;){var m=e[f],v=t[f];if(n)var k=i?n(v,m,f,t,e,o):n(m,v,f,e,t,o);if(k!==void 0){if(k)continue;h=!1;break}if(p){if(!M3(t,function(y,g){if(!C3(p,g)&&(m===y||a(m,y,r,n,o)))return p.push(g)})){h=!1;break}}else if(!(m===v||a(m,v,r,n,o))){h=!1;break}}return o.delete(e),o.delete(t),h}var bN=$3,D3=Ja,R3=D3.Uint8Array,L3=R3;function I3(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var B3=I3;function F3(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var dv=F3,Bb=Mu,Fb=L3,z3=Qy,U3=bN,W3=B3,G3=dv,H3=1,V3=2,X3="[object Boolean]",K3="[object Date]",Y3="[object Error]",q3="[object Map]",Z3="[object Number]",Q3="[object RegExp]",J3="[object Set]",eD="[object String]",tD="[object Symbol]",rD="[object ArrayBuffer]",nD="[object DataView]",zb=Bb?Bb.prototype:void 0,np=zb?zb.valueOf:void 0;function aD(e,t,r,n,a,o,i){switch(r){case nD:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case rD:return!(e.byteLength!=t.byteLength||!o(new Fb(e),new Fb(t)));case X3:case K3:case Z3:return z3(+e,+t);case Y3:return e.name==t.name&&e.message==t.message;case Q3:case eD:return e==t+"";case q3:var s=W3;case J3:var l=n&H3;if(s||(s=G3),e.size!=t.size&&!l)return!1;var c=i.get(e);if(c)return c==t;n|=V3,i.set(e,t);var d=U3(s(e),s(t),n,a,o,i);return i.delete(e),d;case tD:if(np)return np.call(e)==np.call(t)}return!1}var oD=aD;function iD(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var wN=iD,sD=wN,lD=Wn;function cD(e,t,r){var n=t(e);return lD(e)?n:sD(n,r(e))}var uD=cD;function fD(e,t){for(var r=-1,n=e==null?0:e.length,a=0,o=[];++r<n;){var i=e[r];t(i,r,e)&&(o[a++]=i)}return o}var dD=fD;function hD(){return[]}var pD=hD,gD=dD,mD=pD,yD=Object.prototype,vD=yD.propertyIsEnumerable,Ub=Object.getOwnPropertySymbols,xD=Ub?function(e){return e==null?[]:(e=Object(e),gD(Ub(e),function(t){return vD.call(e,t)}))}:mD,bD=xD;function wD(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var kD=wD,jD=Oo,SD=Po,ND="[object Arguments]";function _D(e){return SD(e)&&jD(e)==ND}var OD=_D,Wb=OD,PD=Po,kN=Object.prototype,AD=kN.hasOwnProperty,MD=kN.propertyIsEnumerable,CD=Wb(function(){return arguments}())?Wb:function(e){return PD(e)&&AD.call(e,"callee")&&!MD.call(e,"callee")},hv=CD,kd={exports:{}};function ED(){return!1}var TD=ED;kd.exports;(function(e,t){var r=Ja,n=TD,a=t&&!t.nodeType&&t,o=a&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===a,s=i?r.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||n;e.exports=c})(kd,kd.exports);var jN=kd.exports,$D=9007199254740991,DD=/^(?:0|[1-9]\d*)$/;function RD(e,t){var r=typeof e;return t=t??$D,!!t&&(r=="number"||r!="symbol"&&DD.test(e))&&e>-1&&e%1==0&&e<t}var pv=RD,LD=9007199254740991;function ID(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=LD}var gv=ID,BD=Oo,FD=gv,zD=Po,UD="[object Arguments]",WD="[object Array]",GD="[object Boolean]",HD="[object Date]",VD="[object Error]",XD="[object Function]",KD="[object Map]",YD="[object Number]",qD="[object Object]",ZD="[object RegExp]",QD="[object Set]",JD="[object String]",eR="[object WeakMap]",tR="[object ArrayBuffer]",rR="[object DataView]",nR="[object Float32Array]",aR="[object Float64Array]",oR="[object Int8Array]",iR="[object Int16Array]",sR="[object Int32Array]",lR="[object Uint8Array]",cR="[object Uint8ClampedArray]",uR="[object Uint16Array]",fR="[object Uint32Array]",Vt={};Vt[nR]=Vt[aR]=Vt[oR]=Vt[iR]=Vt[sR]=Vt[lR]=Vt[cR]=Vt[uR]=Vt[fR]=!0;Vt[UD]=Vt[WD]=Vt[tR]=Vt[GD]=Vt[rR]=Vt[HD]=Vt[VD]=Vt[XD]=Vt[KD]=Vt[YD]=Vt[qD]=Vt[ZD]=Vt[QD]=Vt[JD]=Vt[eR]=!1;function dR(e){return zD(e)&&FD(e.length)&&!!Vt[BD(e)]}var hR=dR;function pR(e){return function(t){return e(t)}}var SN=pR,jd={exports:{}};jd.exports;(function(e,t){var r=CS,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===n,i=o&&r.process,s=function(){try{var l=a&&a.require&&a.require("util").types;return l||i&&i.binding&&i.binding("util")}catch{}}();e.exports=s})(jd,jd.exports);var gR=jd.exports,mR=hR,yR=SN,Gb=gR,Hb=Gb&&Gb.isTypedArray,vR=Hb?yR(Hb):mR,NN=vR,xR=kD,bR=hv,wR=Wn,kR=jN,jR=pv,SR=NN,NR=Object.prototype,_R=NR.hasOwnProperty;function OR(e,t){var r=wR(e),n=!r&&bR(e),a=!r&&!n&&kR(e),o=!r&&!n&&!a&&SR(e),i=r||n||a||o,s=i?xR(e.length,String):[],l=s.length;for(var c in e)(t||_R.call(e,c))&&!(i&&(c=="length"||a&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||jR(c,l)))&&s.push(c);return s}var PR=OR,AR=Object.prototype;function MR(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||AR;return e===r}var CR=MR;function ER(e,t){return function(r){return e(t(r))}}var _N=ER,TR=_N,$R=TR(Object.keys,Object),DR=$R,RR=CR,LR=DR,IR=Object.prototype,BR=IR.hasOwnProperty;function FR(e){if(!RR(e))return LR(e);var t=[];for(var r in Object(e))BR.call(e,r)&&r!="constructor"&&t.push(r);return t}var zR=FR,UR=Zy,WR=gv;function GR(e){return e!=null&&WR(e.length)&&!UR(e)}var Cu=GR,HR=PR,VR=zR,XR=Cu;function KR(e){return XR(e)?HR(e):VR(e)}var e0=KR,YR=uD,qR=bD,ZR=e0;function QR(e){return YR(e,ZR,qR)}var JR=QR,Vb=JR,eL=1,tL=Object.prototype,rL=tL.hasOwnProperty;function nL(e,t,r,n,a,o){var i=r&eL,s=Vb(e),l=s.length,c=Vb(t),d=c.length;if(l!=d&&!i)return!1;for(var f=l;f--;){var h=s[f];if(!(i?h in t:rL.call(t,h)))return!1}var p=o.get(e),m=o.get(t);if(p&&m)return p==t&&m==e;var v=!0;o.set(e,t),o.set(t,e);for(var k=i;++f<l;){h=s[f];var y=e[h],g=t[h];if(n)var x=i?n(g,y,h,t,e,o):n(y,g,h,e,t,o);if(!(x===void 0?y===g||a(y,g,r,n,o):x)){v=!1;break}k||(k=h=="constructor")}if(v&&!k){var j=e.constructor,b=t.constructor;j!=b&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof b=="function"&&b instanceof b)&&(v=!1)}return o.delete(e),o.delete(t),v}var aL=nL,oL=Zi,iL=Ja,sL=oL(iL,"DataView"),lL=sL,cL=Zi,uL=Ja,fL=cL(uL,"Promise"),dL=fL,hL=Zi,pL=Ja,gL=hL(pL,"Set"),ON=gL,mL=Zi,yL=Ja,vL=mL(yL,"WeakMap"),xL=vL,zg=lL,Ug=Jy,Wg=dL,Gg=ON,Hg=xL,PN=Oo,Pl=TS,Xb="[object Map]",bL="[object Object]",Kb="[object Promise]",Yb="[object Set]",qb="[object WeakMap]",Zb="[object DataView]",wL=Pl(zg),kL=Pl(Ug),jL=Pl(Wg),SL=Pl(Gg),NL=Pl(Hg),ki=PN;(zg&&ki(new zg(new ArrayBuffer(1)))!=Zb||Ug&&ki(new Ug)!=Xb||Wg&&ki(Wg.resolve())!=Kb||Gg&&ki(new Gg)!=Yb||Hg&&ki(new Hg)!=qb)&&(ki=function(e){var t=PN(e),r=t==bL?e.constructor:void 0,n=r?Pl(r):"";if(n)switch(n){case wL:return Zb;case kL:return Xb;case jL:return Kb;case SL:return Yb;case NL:return qb}return t});var _L=ki,ap=mN,OL=bN,PL=oD,AL=aL,Qb=_L,Jb=Wn,e1=jN,ML=NN,CL=1,t1="[object Arguments]",r1="[object Array]",gf="[object Object]",EL=Object.prototype,n1=EL.hasOwnProperty;function TL(e,t,r,n,a,o){var i=Jb(e),s=Jb(t),l=i?r1:Qb(e),c=s?r1:Qb(t);l=l==t1?gf:l,c=c==t1?gf:c;var d=l==gf,f=c==gf,h=l==c;if(h&&e1(e)){if(!e1(t))return!1;i=!0,d=!1}if(h&&!d)return o||(o=new ap),i||ML(e)?OL(e,t,r,n,a,o):PL(e,t,l,r,n,a,o);if(!(r&CL)){var p=d&&n1.call(e,"__wrapped__"),m=f&&n1.call(t,"__wrapped__");if(p||m){var v=p?e.value():e,k=m?t.value():t;return o||(o=new ap),a(v,k,r,n,o)}}return h?(o||(o=new ap),AL(e,t,r,n,a,o)):!1}var $L=TL,DL=$L,a1=Po;function AN(e,t,r,n,a){return e===t?!0:e==null||t==null||!a1(e)&&!a1(t)?e!==e&&t!==t:DL(e,t,r,n,AN,a)}var mv=AN,RL=mN,LL=mv,IL=1,BL=2;function FL(e,t,r,n){var a=r.length,o=a,i=!n;if(e==null)return!o;for(e=Object(e);a--;){var s=r[a];if(i&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<o;){s=r[a];var l=s[0],c=e[l],d=s[1];if(i&&s[2]){if(c===void 0&&!(l in e))return!1}else{var f=new RL;if(n)var h=n(c,d,l,e,t,f);if(!(h===void 0?LL(d,c,IL|BL,n,f):h))return!1}}return!0}var zL=FL,UL=si;function WL(e){return e===e&&!UL(e)}var MN=WL,GL=MN,HL=e0;function VL(e){for(var t=HL(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,GL(a)]}return t}var XL=VL;function KL(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var CN=KL,YL=zL,qL=XL,ZL=CN;function QL(e){var t=qL(e);return t.length==1&&t[0][2]?ZL(t[0][0],t[0][1]):function(r){return r===e||YL(r,e,t)}}var JL=QL;function eI(e,t){return e!=null&&t in Object(e)}var tI=eI,rI=IS,nI=hv,aI=Wn,oI=pv,iI=gv,sI=Ih;function lI(e,t,r){t=rI(t,e);for(var n=-1,a=t.length,o=!1;++n<a;){var i=sI(t[n]);if(!(o=e!=null&&r(e,i)))break;e=e[i]}return o||++n!=a?o:(a=e==null?0:e.length,!!a&&iI(a)&&oI(i,a)&&(aI(e)||nI(e)))}var cI=lI,uI=tI,fI=cI;function dI(e,t){return e!=null&&fI(e,t,uI)}var hI=dI,pI=mv,gI=BS,mI=hI,yI=qy,vI=MN,xI=CN,bI=Ih,wI=1,kI=2;function jI(e,t){return yI(e)&&vI(t)?xI(bI(e),t):function(r){var n=gI(r,e);return n===void 0&&n===t?mI(r,e):pI(t,n,wI|kI)}}var SI=jI;function NI(e){return e}var Al=NI;function _I(e){return function(t){return t==null?void 0:t[e]}}var OI=_I,PI=nv;function AI(e){return function(t){return PI(t,e)}}var MI=AI,CI=OI,EI=MI,TI=qy,$I=Ih;function DI(e){return TI(e)?CI($I(e)):EI(e)}var RI=DI,LI=JL,II=SI,BI=Al,FI=Wn,zI=RI;function UI(e){return typeof e=="function"?e:e==null?BI:typeof e=="object"?FI(e)?II(e[0],e[1]):LI(e):zI(e)}var li=UI;function WI(e,t,r,n){for(var a=e.length,o=r+(n?1:-1);n?o--:++o<a;)if(t(e[o],o,e))return o;return-1}var EN=WI;function GI(e){return e!==e}var HI=GI;function VI(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var XI=VI,KI=EN,YI=HI,qI=XI;function ZI(e,t,r){return t===t?qI(e,t,r):KI(e,YI,r)}var QI=ZI,JI=QI;function e6(e,t){var r=e==null?0:e.length;return!!r&&JI(e,t,0)>-1}var t6=e6;function r6(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var n6=r6;function a6(){}var o6=a6,op=ON,i6=o6,s6=dv,l6=1/0,c6=op&&1/s6(new op([,-0]))[1]==l6?function(e){return new op(e)}:i6,u6=c6,f6=yN,d6=t6,h6=n6,p6=xN,g6=u6,m6=dv,y6=200;function v6(e,t,r){var n=-1,a=d6,o=e.length,i=!0,s=[],l=s;if(r)i=!1,a=h6;else if(o>=y6){var c=t?null:g6(e);if(c)return m6(c);i=!1,a=p6,l=new f6}else l=t?[]:s;e:for(;++n<o;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,i&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),s.push(d)}else a(l,f,r)||(l!==s&&l.push(f),s.push(d))}return s}var x6=v6,b6=li,w6=x6;function k6(e,t){return e&&e.length?w6(e,b6(t)):[]}var j6=k6;const o1=$t(j6);function TN(e,t,r){return t===!0?o1(e,r):Ge(t)?o1(e,t):e}function Ks(e){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ks(e)}var S6=["ref"];function i1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i1(Object(r),!0).forEach(function(n){t0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DN(n.key),n)}}function _6(e,t,r){return t&&s1(e.prototype,t),r&&s1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function O6(e,t,r){return t=Sd(t),P6(e,$N()?Reflect.construct(t,r||[],Sd(e).constructor):t.apply(e,r))}function P6(e,t){if(t&&(Ks(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A6(e)}function A6(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $N(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($N=function(){return!!e})()}function Sd(e){return Sd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sd(e)}function M6(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vg(e,t)}function Vg(e,t){return Vg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Vg(e,t)}function t0(e,t,r){return t=DN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DN(e){var t=C6(e,"string");return Ks(t)=="symbol"?t:t+""}function C6(e,t){if(Ks(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function E6(e,t){if(e==null)return{};var r=T6(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function T6(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $6(e){return e.value}function D6(e,t){if(I.isValidElement(e))return I.cloneElement(e,t);if(typeof e=="function")return I.createElement(e,t);t.ref;var r=E6(t,S6);return I.createElement(fv,r)}var l1=1,Va=function(e){function t(){var r;N6(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=O6(this,t,[].concat(a)),t0(r,"lastBoundingBox",{width:-1,height:-1}),r}return M6(t,e),_6(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>l1||Math.abs(a.height-this.lastBoundingBox.height)>l1)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?oo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,o=a.layout,i=a.align,s=a.verticalAlign,l=a.margin,c=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(i==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();f={left:((c||0)-p.width)/2}}else f=i==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var m=this.getBBoxSnapshot();h={top:((d||0)-m.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return oo(oo({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,o=a.content,i=a.width,s=a.height,l=a.wrapperStyle,c=a.payloadUniqBy,d=a.payload,f=oo(oo({position:"absolute",width:i||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return I.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},D6(o,oo(oo({},this.props),{},{payload:TN(d,c,$6)})))}}],[{key:"getWithHeight",value:function(n,a){var o=oo(oo({},this.defaultProps),n.props),i=o.layout;return i==="vertical"&&de(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||a}:null}}])}(S.PureComponent);t0(Va,"displayName","Legend");t0(Va,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var c1=Mu,R6=hv,L6=Wn,u1=c1?c1.isConcatSpreadable:void 0;function I6(e){return L6(e)||R6(e)||!!(u1&&e&&e[u1])}var B6=I6,F6=wN,z6=B6;function RN(e,t,r,n,a){var o=-1,i=e.length;for(r||(r=z6),a||(a=[]);++o<i;){var s=e[o];t>0&&r(s)?t>1?RN(s,t-1,r,n,a):F6(a,s):n||(a[a.length]=s)}return a}var LN=RN;function U6(e){return function(t,r,n){for(var a=-1,o=Object(t),i=n(t),s=i.length;s--;){var l=i[e?s:++a];if(r(o[l],l,o)===!1)break}return t}}var W6=U6,G6=W6,H6=G6(),V6=H6,X6=V6,K6=e0;function Y6(e,t){return e&&X6(e,t,K6)}var IN=Y6,q6=Cu;function Z6(e,t){return function(r,n){if(r==null)return r;if(!q6(r))return e(r,n);for(var a=r.length,o=t?a:-1,i=Object(r);(t?o--:++o<a)&&n(i[o],o,i)!==!1;);return r}}var Q6=Z6,J6=IN,eB=Q6,tB=eB(J6),yv=tB,rB=yv,nB=Cu;function aB(e,t){var r=-1,n=nB(e)?Array(e.length):[];return rB(e,function(a,o,i){n[++r]=t(a,o,i)}),n}var BN=aB;function oB(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var iB=oB,f1=wl;function sB(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,o=f1(e),i=t!==void 0,s=t===null,l=t===t,c=f1(t);if(!s&&!c&&!o&&e>t||o&&i&&l&&!s&&!c||n&&i&&l||!r&&l||!a)return 1;if(!n&&!o&&!c&&e<t||c&&r&&a&&!n&&!o||s&&r&&a||!i&&a||!l)return-1}return 0}var lB=sB,cB=lB;function uB(e,t,r){for(var n=-1,a=e.criteria,o=t.criteria,i=a.length,s=r.length;++n<i;){var l=cB(a[n],o[n]);if(l){if(n>=s)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return e.index-t.index}var fB=uB,ip=rv,dB=nv,hB=li,pB=BN,gB=iB,mB=SN,yB=fB,vB=Al,xB=Wn;function bB(e,t,r){t.length?t=ip(t,function(o){return xB(o)?function(i){return dB(i,o.length===1?o[0]:o)}:o}):t=[vB];var n=-1;t=ip(t,mB(hB));var a=pB(e,function(o,i,s){var l=ip(t,function(c){return c(o)});return{criteria:l,index:++n,value:o}});return gB(a,function(o,i){return yB(o,i,r)})}var wB=bB;function kB(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var jB=kB,SB=jB,d1=Math.max;function NB(e,t,r){return t=d1(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,o=d1(n.length-t,0),i=Array(o);++a<o;)i[a]=n[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=n[a];return s[t]=r(i),SB(e,this,s)}}var _B=NB;function OB(e){return function(){return e}}var PB=OB,AB=Zi,MB=function(){try{var e=AB(Object,"defineProperty");return e({},"",{}),e}catch{}}(),FN=MB,CB=PB,h1=FN,EB=Al,TB=h1?function(e,t){return h1(e,"toString",{configurable:!0,enumerable:!1,value:CB(t),writable:!0})}:EB,$B=TB,DB=800,RB=16,LB=Date.now;function IB(e){var t=0,r=0;return function(){var n=LB(),a=RB-(n-r);if(r=n,a>0){if(++t>=DB)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var BB=IB,FB=$B,zB=BB,UB=zB(FB),WB=UB,GB=Al,HB=_B,VB=WB;function XB(e,t){return VB(HB(e,t,GB),e+"")}var KB=XB,YB=Qy,qB=Cu,ZB=pv,QB=si;function JB(e,t,r){if(!QB(r))return!1;var n=typeof t;return(n=="number"?qB(r)&&ZB(t,r.length):n=="string"&&t in r)?YB(r[t],e):!1}var r0=JB,e8=LN,t8=wB,r8=KB,p1=r0,n8=r8(function(e,t){if(e==null)return[];var r=t.length;return r>1&&p1(e,t[0],t[1])?t=[]:r>2&&p1(t[0],t[1],t[2])&&(t=[t[0]]),t8(e,e8(t,1),[])}),a8=n8;const vv=$t(a8);function Hc(e){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hc(e)}function Xg(){return Xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xg.apply(this,arguments)}function o8(e,t){return c8(e)||l8(e,t)||s8(e,t)||i8()}function i8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s8(e,t){if(e){if(typeof e=="string")return g1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g1(e,t)}}function g1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function c8(e){if(Array.isArray(e))return e}function m1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m1(Object(r),!0).forEach(function(n){u8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u8(e,t,r){return t=f8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f8(e){var t=d8(e,"string");return Hc(t)=="symbol"?t:t+""}function d8(e,t){if(Hc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function h8(e){return Array.isArray(e)&&Rr(e[0])&&Rr(e[1])?e.join(" ~ "):e}var p8=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,o=a===void 0?{}:a,i=t.itemStyle,s=i===void 0?{}:i,l=t.labelStyle,c=l===void 0?{}:l,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,m=t.labelClassName,v=t.label,k=t.labelFormatter,y=t.accessibilityLayer,g=y===void 0?!1:y,x=function(){if(d&&d.length){var C={padding:0,margin:0},$=(h?vv(d,h):d).map(function(F,T){if(F.type==="none")return null;var U=sp({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},s),A=F.formatter||f||h8,E=F.value,D=F.name,G=E,Z=D;if(A&&G!=null&&Z!=null){var K=A(E,D,F,T,d);if(Array.isArray(K)){var L=o8(K,2);G=L[0],Z=L[1]}else G=K}return I.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:U},Rr(Z)?I.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,Rr(Z)?I.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,I.createElement("span",{className:"recharts-tooltip-item-value"},G),I.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return I.createElement("ul",{className:"recharts-tooltip-item-list",style:C},$)}return null},j=sp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),b=sp({margin:0},c),w=!Fe(v),N=w?v:"",_=at("recharts-default-tooltip",p),O=at("recharts-tooltip-label",m);w&&k&&d!==void 0&&d!==null&&(N=k(v,d));var P=g?{role:"status","aria-live":"assertive"}:{};return I.createElement("div",Xg({className:_,style:j},P),I.createElement("p",{className:O,style:b},I.isValidElement(N)?N:"".concat(N)),x())};function Vc(e){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vc(e)}function mf(e,t,r){return t=g8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g8(e){var t=m8(e,"string");return Vc(t)=="symbol"?t:t+""}function m8(e,t){if(Vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kl="recharts-tooltip-wrapper",y8={visibility:"hidden"};function v8(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return at(Kl,mf(mf(mf(mf({},"".concat(Kl,"-right"),de(r)&&t&&de(t.x)&&r>=t.x),"".concat(Kl,"-left"),de(r)&&t&&de(t.x)&&r<t.x),"".concat(Kl,"-bottom"),de(n)&&t&&de(t.y)&&n>=t.y),"".concat(Kl,"-top"),de(n)&&t&&de(t.y)&&n<t.y))}function y1(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,o=e.position,i=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(o&&de(o[n]))return o[n];var d=r[n]-s-a,f=r[n]+a;if(t[n])return i[n]?d:f;if(i[n]){var h=d,p=l[n];return h<p?Math.max(f,l[n]):Math.max(d,l[n])}var m=f+s,v=l[n]+c;return m>v?Math.max(d,l[n]):Math.max(f,l[n])}function x8(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function b8(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,o=e.reverseDirection,i=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,c,d,f;return i.height>0&&i.width>0&&r?(d=y1({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.width,viewBox:l,viewBoxDimension:l.width}),f=y1({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.height,viewBox:l,viewBoxDimension:l.height}),c=x8({translateX:d,translateY:f,useTranslate3d:s})):c=y8,{cssProperties:c,cssClasses:v8({translateX:d,translateY:f,coordinate:r})}}function Ys(e){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ys(e)}function v1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function x1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v1(Object(r),!0).forEach(function(n){Yg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UN(n.key),n)}}function j8(e,t,r){return t&&k8(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function S8(e,t,r){return t=Nd(t),N8(e,zN()?Reflect.construct(t,r||[],Nd(e).constructor):t.apply(e,r))}function N8(e,t){if(t&&(Ys(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _8(e)}function _8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zN=function(){return!!e})()}function Nd(e){return Nd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nd(e)}function O8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kg(e,t)}function Kg(e,t){return Kg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Kg(e,t)}function Yg(e,t,r){return t=UN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UN(e){var t=P8(e,"string");return Ys(t)=="symbol"?t:t+""}function P8(e,t){if(Ys(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ys(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var b1=1,A8=function(e){function t(){var r;w8(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=S8(this,t,[].concat(a)),Yg(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Yg(r,"handleKeyDown",function(i){if(i.key==="Escape"){var s,l,c,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&c!==void 0?c:0}})}}),r}return O8(t,e),j8(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>b1||Math.abs(n.height-this.state.lastBoundingBox.height)>b1)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,o=a.active,i=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,c=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,m=a.position,v=a.reverseDirection,k=a.useTranslate3d,y=a.viewBox,g=a.wrapperStyle,x=b8({allowEscapeViewBox:i,coordinate:d,offsetTopLeft:p,position:m,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:k,viewBox:y}),j=x.cssClasses,b=x.cssProperties,w=x1(x1({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},g);return I.createElement("div",{tabIndex:-1,className:j,style:w,ref:function(_){n.wrapperNode=_}},c)}}])}(S.PureComponent),M8=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ci={isSsr:M8()};function qs(e){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qs(e)}function w1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function k1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w1(Object(r),!0).forEach(function(n){xv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GN(n.key),n)}}function T8(e,t,r){return t&&E8(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $8(e,t,r){return t=_d(t),D8(e,WN()?Reflect.construct(t,r||[],_d(e).constructor):t.apply(e,r))}function D8(e,t){if(t&&(qs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R8(e)}function R8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WN=function(){return!!e})()}function _d(e){return _d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_d(e)}function L8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qg(e,t)}function qg(e,t){return qg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qg(e,t)}function xv(e,t,r){return t=GN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GN(e){var t=I8(e,"string");return qs(t)=="symbol"?t:t+""}function I8(e,t){if(qs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function B8(e){return e.dataKey}function F8(e,t){return I.isValidElement(e)?I.cloneElement(e,t):typeof e=="function"?I.createElement(e,t):I.createElement(p8,t)}var Hr=function(e){function t(){return C8(this,t),$8(this,t,arguments)}return L8(t,e),T8(t,[{key:"render",value:function(){var n=this,a=this.props,o=a.active,i=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,c=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,m=a.payload,v=a.payloadUniqBy,k=a.position,y=a.reverseDirection,g=a.useTranslate3d,x=a.viewBox,j=a.wrapperStyle,b=m??[];f&&b.length&&(b=TN(m.filter(function(N){return N.value!=null&&(N.hide!==!0||n.props.includeHidden)}),v,B8));var w=b.length>0;return I.createElement(A8,{allowEscapeViewBox:i,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:d,hasPayload:w,offset:p,position:k,reverseDirection:y,useTranslate3d:g,viewBox:x,wrapperStyle:j},F8(c,k1(k1({},this.props),{},{payload:b})))}}])}(S.PureComponent);xv(Hr,"displayName","Tooltip");xv(Hr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ci.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var z8=Ja,U8=function(){return z8.Date.now()},W8=U8,G8=/\s/;function H8(e){for(var t=e.length;t--&&G8.test(e.charAt(t)););return t}var V8=H8,X8=V8,K8=/^\s+/;function Y8(e){return e&&e.slice(0,X8(e)+1).replace(K8,"")}var q8=Y8,Z8=q8,j1=si,Q8=wl,S1=NaN,J8=/^[-+]0x[0-9a-f]+$/i,eF=/^0b[01]+$/i,tF=/^0o[0-7]+$/i,rF=parseInt;function nF(e){if(typeof e=="number")return e;if(Q8(e))return S1;if(j1(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=j1(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Z8(e);var r=eF.test(e);return r||tF.test(e)?rF(e.slice(2),r?2:8):J8.test(e)?S1:+e}var HN=nF,aF=si,lp=W8,N1=HN,oF="Expected a function",iF=Math.max,sF=Math.min;function lF(e,t,r){var n,a,o,i,s,l,c=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(oF);t=N1(t)||0,aF(r)&&(d=!!r.leading,f="maxWait"in r,o=f?iF(N1(r.maxWait)||0,t):o,h="trailing"in r?!!r.trailing:h);function p(w){var N=n,_=a;return n=a=void 0,c=w,i=e.apply(_,N),i}function m(w){return c=w,s=setTimeout(y,t),d?p(w):i}function v(w){var N=w-l,_=w-c,O=t-N;return f?sF(O,o-_):O}function k(w){var N=w-l,_=w-c;return l===void 0||N>=t||N<0||f&&_>=o}function y(){var w=lp();if(k(w))return g(w);s=setTimeout(y,v(w))}function g(w){return s=void 0,h&&n?p(w):(n=a=void 0,i)}function x(){s!==void 0&&clearTimeout(s),c=0,n=l=a=s=void 0}function j(){return s===void 0?i:g(lp())}function b(){var w=lp(),N=k(w);if(n=arguments,a=this,l=w,N){if(s===void 0)return m(l);if(f)return clearTimeout(s),s=setTimeout(y,t),p(l)}return s===void 0&&(s=setTimeout(y,t)),i}return b.cancel=x,b.flush=j,b}var cF=lF,uF=cF,fF=si,dF="Expected a function";function hF(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(dF);return fF(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),uF(e,t,{leading:n,maxWait:t,trailing:a})}var pF=hF;const VN=$t(pF);function Xc(e){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xc(e)}function _1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_1(Object(r),!0).forEach(function(n){gF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gF(e,t,r){return t=mF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mF(e){var t=yF(e,"string");return Xc(t)=="symbol"?t:t+""}function yF(e,t){if(Xc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vF(e,t){return kF(e)||wF(e,t)||bF(e,t)||xF()}function xF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bF(e,t){if(e){if(typeof e=="string")return O1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O1(e,t)}}function O1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wF(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function kF(e){if(Array.isArray(e))return e}var yo=S.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,o=e.width,i=o===void 0?"100%":o,s=e.height,l=s===void 0?"100%":s,c=e.minWidth,d=c===void 0?0:c,f=e.minHeight,h=e.maxHeight,p=e.children,m=e.debounce,v=m===void 0?0:m,k=e.id,y=e.className,g=e.onResize,x=e.style,j=x===void 0?{}:x,b=S.useRef(null),w=S.useRef();w.current=g,S.useImperativeHandle(t,function(){return Object.defineProperty(b.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),b.current},configurable:!0})});var N=S.useState({containerWidth:a.width,containerHeight:a.height}),_=vF(N,2),O=_[0],P=_[1],M=S.useCallback(function($,F){P(function(T){var U=Math.round($),A=Math.round(F);return T.containerWidth===U&&T.containerHeight===A?T:{containerWidth:U,containerHeight:A}})},[]);S.useEffect(function(){var $=function(D){var G,Z=D[0].contentRect,K=Z.width,L=Z.height;M(K,L),(G=w.current)===null||G===void 0||G.call(w,K,L)};v>0&&($=VN($,v,{trailing:!0,leading:!1}));var F=new ResizeObserver($),T=b.current.getBoundingClientRect(),U=T.width,A=T.height;return M(U,A),F.observe(b.current),function(){F.disconnect()}},[M,v]);var C=S.useMemo(function(){var $=O.containerWidth,F=O.containerHeight;if($<0||F<0)return null;mo(Oi(i)||Oi(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,l),mo(!r||r>0,"The aspect(%s) must be greater than zero.",r);var T=Oi(i)?$:i,U=Oi(l)?F:l;r&&r>0&&(T?U=T/r:U&&(T=U*r),h&&U>h&&(U=h)),mo(T>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,U,i,l,d,f,r);var A=!Array.isArray(p)&&go(p.type).endsWith("Chart");return I.Children.map(p,function(E){return I.isValidElement(E)?S.cloneElement(E,yf({width:T,height:U},A?{style:yf({height:"100%",width:"100%",maxHeight:U,maxWidth:T},E.props.style)}:{})):E})},[r,p,l,h,f,d,O,i]);return I.createElement("div",{id:k?"".concat(k):void 0,className:at("recharts-responsive-container",y),style:yf(yf({},j),{},{width:i,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:b},C)}),bv=function(t){return null};bv.displayName="Cell";function Kc(e){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kc(e)}function P1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P1(Object(r),!0).forEach(function(n){jF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jF(e,t,r){return t=SF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SF(e){var t=NF(e,"string");return Kc(t)=="symbol"?t:t+""}function NF(e,t){if(Kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var us={widthCache:{},cacheCount:0},_F=2e3,OF={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},A1="recharts_measurement_span";function PF(e){var t=Zg({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var yc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ci.isSsr)return{width:0,height:0};var n=PF(r),a=JSON.stringify({text:t,copyStyle:n});if(us.widthCache[a])return us.widthCache[a];try{var o=document.getElementById(A1);o||(o=document.createElement("span"),o.setAttribute("id",A1),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var i=Zg(Zg({},OF),n);Object.assign(o.style,i),o.textContent="".concat(t);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return us.widthCache[a]=l,++us.cacheCount>_F&&(us.cacheCount=0,us.widthCache={}),l}catch{return{width:0,height:0}}},AF=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Yc(e){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yc(e)}function Od(e,t){return TF(e)||EF(e,t)||CF(e,t)||MF()}function MF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CF(e,t){if(e){if(typeof e=="string")return M1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M1(e,t)}}function M1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function EF(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function TF(e){if(Array.isArray(e))return e}function $F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RF(n.key),n)}}function DF(e,t,r){return t&&C1(e.prototype,t),r&&C1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function RF(e){var t=LF(e,"string");return Yc(t)=="symbol"?t:t+""}function LF(e,t){if(Yc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var E1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,T1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,IF=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,BF=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,XN={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},FF=Object.keys(XN),_s="NaN";function zF(e,t){return e*XN[t]}var vf=function(){function e(t,r){$F(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!IF.test(r)&&(this.num=NaN,this.unit=""),FF.includes(r)&&(this.num=zF(t,r),this.unit="px")}return DF(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=BF.exec(r))!==null&&n!==void 0?n:[],o=Od(a,3),i=o[1],s=o[2];return new e(parseFloat(i),s??"")}}])}();function KN(e){if(e.includes(_s))return _s;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=E1.exec(t))!==null&&r!==void 0?r:[],a=Od(n,4),o=a[1],i=a[2],s=a[3],l=vf.parse(o??""),c=vf.parse(s??""),d=i==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return _s;t=t.replace(E1,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=T1.exec(t))!==null&&f!==void 0?f:[],p=Od(h,4),m=p[1],v=p[2],k=p[3],y=vf.parse(m??""),g=vf.parse(k??""),x=v==="+"?y.add(g):y.subtract(g);if(x.isNaN())return _s;t=t.replace(T1,x.toString())}return t}var $1=/\(([^()]*)\)/;function UF(e){for(var t=e;t.includes("(");){var r=$1.exec(t),n=Od(r,2),a=n[1];t=t.replace($1,KN(a))}return t}function WF(e){var t=e.replace(/\s+/g,"");return t=UF(t),t=KN(t),t}function GF(e){try{return WF(e)}catch{return _s}}function cp(e){var t=GF(e.slice(5,-1));return t===_s?"":t}var HF=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],VF=["dx","dy","angle","className","breakAll"];function Qg(){return Qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qg.apply(this,arguments)}function D1(e,t){if(e==null)return{};var r=XF(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function XF(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function R1(e,t){return ZF(e)||qF(e,t)||YF(e,t)||KF()}function KF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YF(e,t){if(e){if(typeof e=="string")return L1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L1(e,t)}}function L1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qF(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function ZF(e){if(Array.isArray(e))return e}var YN=/[ \f\n\r\t\v\u2028\u2029]+/,qN=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var o=[];Fe(r)||(n?o=r.toString().split(""):o=r.toString().split(YN));var i=o.map(function(l){return{word:l,width:yc(l,a).width}}),s=n?0:yc("",a).width;return{wordsWithComputedWidth:i,spaceWidth:s}}catch{return null}},QF=function(t,r,n,a,o){var i=t.maxLines,s=t.children,l=t.style,c=t.breakAll,d=de(i),f=s,h=function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return T.reduce(function(U,A){var E=A.word,D=A.width,G=U[U.length-1];if(G&&(a==null||o||G.width+D+n<Number(a)))G.words.push(E),G.width+=D+n;else{var Z={words:[E],width:D};U.push(Z)}return U},[])},p=h(r),m=function(T){return T.reduce(function(U,A){return U.width>A.width?U:A})};if(!d)return p;for(var v="",k=function(T){var U=f.slice(0,T),A=qN({breakAll:c,style:l,children:U+v}).wordsWithComputedWidth,E=h(A),D=E.length>i||m(E).width>Number(a);return[D,E]},y=0,g=f.length-1,x=0,j;y<=g&&x<=f.length-1;){var b=Math.floor((y+g)/2),w=b-1,N=k(w),_=R1(N,2),O=_[0],P=_[1],M=k(b),C=R1(M,1),$=C[0];if(!O&&!$&&(y=b+1),O&&$&&(g=b-1),!O&&$){j=P;break}x++}return j||p},I1=function(t){var r=Fe(t)?[]:t.toString().split(YN);return[{words:r}]},JF=function(t){var r=t.width,n=t.scaleToFit,a=t.children,o=t.style,i=t.breakAll,s=t.maxLines;if((r||n)&&!ci.isSsr){var l,c,d=qN({breakAll:i,children:a,style:o});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,c=h}else return I1(a);return QF({breakAll:i,children:a,maxLines:s,style:o},l,c,r,n)}return I1(a)},B1="#808080",Pd=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,o=a===void 0?0:a,i=t.lineHeight,s=i===void 0?"1em":i,l=t.capHeight,c=l===void 0?"0.71em":l,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,m=t.verticalAnchor,v=m===void 0?"end":m,k=t.fill,y=k===void 0?B1:k,g=D1(t,HF),x=S.useMemo(function(){return JF({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width})},[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),j=g.dx,b=g.dy,w=g.angle,N=g.className,_=g.breakAll,O=D1(g,VF);if(!Rr(n)||!Rr(o))return null;var P=n+(de(j)?j:0),M=o+(de(b)?b:0),C;switch(v){case"start":C=cp("calc(".concat(c,")"));break;case"middle":C=cp("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:C=cp("calc(".concat(x.length-1," * -").concat(s,")"));break}var $=[];if(f){var F=x[0].width,T=g.width;$.push("scale(".concat((de(T)?T/F:1)/F,")"))}return w&&$.push("rotate(".concat(w,", ").concat(P,", ").concat(M,")")),$.length&&(O.transform=$.join(" ")),I.createElement("text",Qg({},We(O,!0),{x:P,y:M,className:at("recharts-text",N),textAnchor:p,fill:y.includes("url")?B1:y}),x.map(function(U,A){var E=U.words.join(_?"":" ");return I.createElement("tspan",{x:P,dy:A===0?C:s,key:"".concat(E,"-").concat(A)},E)}))};function ti(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function e9(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function wv(e){let t,r,n;e.length!==2?(t=ti,r=(s,l)=>ti(e(s),l),n=(s,l)=>e(s)-l):(t=e===ti||e===e9?e:t9,r=e,n=e);function a(s,l,c=0,d=s.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;r(s[f],l)<0?c=f+1:d=f}while(c<d)}return c}function o(s,l,c=0,d=s.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;r(s[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function i(s,l,c=0,d=s.length){const f=a(s,l,c,d-1);return f>c&&n(s[f-1],l)>-n(s[f],l)?f-1:f}return{left:a,center:i,right:o}}function t9(){return 0}function ZN(e){return e===null?NaN:+e}function*r9(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const n9=wv(ti),Eu=n9.right;wv(ZN).center;class F1 extends Map{constructor(t,r=i9){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(z1(this,t))}has(t){return super.has(z1(this,t))}set(t,r){return super.set(a9(this,t),r)}delete(t){return super.delete(o9(this,t))}}function z1({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function a9({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function o9({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function i9(e){return e!==null&&typeof e=="object"?e.valueOf():e}function s9(e=ti){if(e===ti)return QN;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function QN(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const l9=Math.sqrt(50),c9=Math.sqrt(10),u9=Math.sqrt(2);function Ad(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),o=n/Math.pow(10,a),i=o>=l9?10:o>=c9?5:o>=u9?2:1;let s,l,c;return a<0?(c=Math.pow(10,-a)/i,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*i,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=r&&r<2?Ad(e,t,r*2):[s,l,c]}function Jg(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,o,i]=n?Ad(t,e,r):Ad(e,t,r);if(!(o>=a))return[];const s=o-a+1,l=new Array(s);if(n)if(i<0)for(let c=0;c<s;++c)l[c]=(o-c)/-i;else for(let c=0;c<s;++c)l[c]=(o-c)*i;else if(i<0)for(let c=0;c<s;++c)l[c]=(a+c)/-i;else for(let c=0;c<s;++c)l[c]=(a+c)*i;return l}function em(e,t,r){return t=+t,e=+e,r=+r,Ad(e,t,r)[2]}function tm(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?em(t,e,r):em(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function U1(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function W1(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function JN(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?QN:s9(a);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(t-c*f/l+h)),m=Math.min(n,Math.floor(t+(l-c)*f/l+h));JN(e,t,p,m,a)}const o=e[t];let i=r,s=n;for(Yl(e,r,t),a(e[n],o)>0&&Yl(e,r,n);i<s;){for(Yl(e,i,s),++i,--s;a(e[i],o)<0;)++i;for(;a(e[s],o)>0;)--s}a(e[r],o)===0?Yl(e,r,s):(++s,Yl(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function Yl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function f9(e,t,r){if(e=Float64Array.from(r9(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return W1(e);if(t>=1)return U1(e);var n,a=(n-1)*t,o=Math.floor(a),i=U1(JN(e,o).subarray(0,o+1)),s=W1(e.subarray(o+1));return i+(s-i)*(a-o)}}function d9(e,t,r=ZN){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,o=Math.floor(a),i=+r(e[o],o,e),s=+r(e[o+1],o+1,e);return i+(s-i)*(a-o)}}function h9(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(a);++n<a;)o[n]=e+n*r;return o}function wa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ao(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const rm=Symbol("implicit");function kv(){var e=new F1,t=[],r=[],n=rm;function a(o){let i=e.get(o);if(i===void 0){if(n!==rm)return n;e.set(o,i=t.push(o)-1)}return r[i%r.length]}return a.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new F1;for(const i of o)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(o){return arguments.length?(r=Array.from(o),a):r.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return kv(t,r).unknown(n)},wa.apply(a,arguments),a}function qc(){var e=kv().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,o,i,s=!1,l=0,c=0,d=.5;delete e.unknown;function f(){var h=t().length,p=a<n,m=p?a:n,v=p?n:a;o=(v-m)/Math.max(1,h-l+c*2),s&&(o=Math.floor(o)),m+=(v-m-o*(h-l))*d,i=o*(1-l),s&&(m=Math.round(m),i=Math.round(i));var k=h9(h).map(function(y){return m+o*y});return r(p?k.reverse():k)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,s=!0,f()},e.bandwidth=function(){return i},e.step=function(){return o},e.round=function(h){return arguments.length?(s=!!h,f()):s},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return qc(t(),[n,a]).round(s).paddingInner(l).paddingOuter(c).align(d)},wa.apply(f(),arguments)}function e_(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return e_(t())},e}function vc(){return e_(qc.apply(null,arguments).paddingInner(1))}function jv(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function t_(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Tu(){}var Zc=.7,Md=1/Zc,Rs="\\s*([+-]?\\d+)\\s*",Qc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",p9=/^#([0-9a-f]{3,8})$/,g9=new RegExp(`^rgb\\(${Rs},${Rs},${Rs}\\)$`),m9=new RegExp(`^rgb\\(${Xa},${Xa},${Xa}\\)$`),y9=new RegExp(`^rgba\\(${Rs},${Rs},${Rs},${Qc}\\)$`),v9=new RegExp(`^rgba\\(${Xa},${Xa},${Xa},${Qc}\\)$`),x9=new RegExp(`^hsl\\(${Qc},${Xa},${Xa}\\)$`),b9=new RegExp(`^hsla\\(${Qc},${Xa},${Xa},${Qc}\\)$`),G1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};jv(Tu,Jc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:H1,formatHex:H1,formatHex8:w9,formatHsl:k9,formatRgb:V1,toString:V1});function H1(){return this.rgb().formatHex()}function w9(){return this.rgb().formatHex8()}function k9(){return r_(this).formatHsl()}function V1(){return this.rgb().formatRgb()}function Jc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=p9.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?X1(t):r===3?new Rn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?xf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?xf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=g9.exec(e))?new Rn(t[1],t[2],t[3],1):(t=m9.exec(e))?new Rn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=y9.exec(e))?xf(t[1],t[2],t[3],t[4]):(t=v9.exec(e))?xf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=x9.exec(e))?q1(t[1],t[2]/100,t[3]/100,1):(t=b9.exec(e))?q1(t[1],t[2]/100,t[3]/100,t[4]):G1.hasOwnProperty(e)?X1(G1[e]):e==="transparent"?new Rn(NaN,NaN,NaN,0):null}function X1(e){return new Rn(e>>16&255,e>>8&255,e&255,1)}function xf(e,t,r,n){return n<=0&&(e=t=r=NaN),new Rn(e,t,r,n)}function j9(e){return e instanceof Tu||(e=Jc(e)),e?(e=e.rgb(),new Rn(e.r,e.g,e.b,e.opacity)):new Rn}function nm(e,t,r,n){return arguments.length===1?j9(e):new Rn(e,t,r,n??1)}function Rn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}jv(Rn,nm,t_(Tu,{brighter(e){return e=e==null?Md:Math.pow(Md,e),new Rn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Zc:Math.pow(Zc,e),new Rn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Rn($i(this.r),$i(this.g),$i(this.b),Cd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:K1,formatHex:K1,formatHex8:S9,formatRgb:Y1,toString:Y1}));function K1(){return`#${Pi(this.r)}${Pi(this.g)}${Pi(this.b)}`}function S9(){return`#${Pi(this.r)}${Pi(this.g)}${Pi(this.b)}${Pi((isNaN(this.opacity)?1:this.opacity)*255)}`}function Y1(){const e=Cd(this.opacity);return`${e===1?"rgb(":"rgba("}${$i(this.r)}, ${$i(this.g)}, ${$i(this.b)}${e===1?")":`, ${e})`}`}function Cd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function $i(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Pi(e){return e=$i(e),(e<16?"0":"")+e.toString(16)}function q1(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ma(e,t,r,n)}function r_(e){if(e instanceof Ma)return new Ma(e.h,e.s,e.l,e.opacity);if(e instanceof Tu||(e=Jc(e)),!e)return new Ma;if(e instanceof Ma)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),o=Math.max(t,r,n),i=NaN,s=o-a,l=(o+a)/2;return s?(t===o?i=(r-n)/s+(r<n)*6:r===o?i=(n-t)/s+2:i=(t-r)/s+4,s/=l<.5?o+a:2-o-a,i*=60):s=l>0&&l<1?0:i,new Ma(i,s,l,e.opacity)}function N9(e,t,r,n){return arguments.length===1?r_(e):new Ma(e,t,r,n??1)}function Ma(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}jv(Ma,N9,t_(Tu,{brighter(e){return e=e==null?Md:Math.pow(Md,e),new Ma(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Zc:Math.pow(Zc,e),new Ma(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Rn(up(e>=240?e-240:e+120,a,n),up(e,a,n),up(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Ma(Z1(this.h),bf(this.s),bf(this.l),Cd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Cd(this.opacity);return`${e===1?"hsl(":"hsla("}${Z1(this.h)}, ${bf(this.s)*100}%, ${bf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Z1(e){return e=(e||0)%360,e<0?e+360:e}function bf(e){return Math.max(0,Math.min(1,e||0))}function up(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Sv=e=>()=>e;function _9(e,t){return function(r){return e+r*t}}function O9(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function P9(e){return(e=+e)==1?n_:function(t,r){return r-t?O9(t,r,e):Sv(isNaN(t)?r:t)}}function n_(e,t){var r=t-e;return r?_9(e,r):Sv(isNaN(e)?t:e)}const Q1=function e(t){var r=P9(t);function n(a,o){var i=r((a=nm(a)).r,(o=nm(o)).r),s=r(a.g,o.g),l=r(a.b,o.b),c=n_(a.opacity,o.opacity);return function(d){return a.r=i(d),a.g=s(d),a.b=l(d),a.opacity=c(d),a+""}}return n.gamma=e,n}(1);function A9(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(o){for(a=0;a<r;++a)n[a]=e[a]*(1-o)+t[a]*o;return n}}function M9(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function C9(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),o=new Array(r),i;for(i=0;i<n;++i)a[i]=Ml(e[i],t[i]);for(;i<r;++i)o[i]=t[i];return function(s){for(i=0;i<n;++i)o[i]=a[i](s);return o}}function E9(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Ed(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function T9(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Ml(e[a],t[a]):n[a]=t[a];return function(o){for(a in r)n[a]=r[a](o);return n}}var am=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fp=new RegExp(am.source,"g");function $9(e){return function(){return e}}function D9(e){return function(t){return e(t)+""}}function R9(e,t){var r=am.lastIndex=fp.lastIndex=0,n,a,o,i=-1,s=[],l=[];for(e=e+"",t=t+"";(n=am.exec(e))&&(a=fp.exec(t));)(o=a.index)>r&&(o=t.slice(r,o),s[i]?s[i]+=o:s[++i]=o),(n=n[0])===(a=a[0])?s[i]?s[i]+=a:s[++i]=a:(s[++i]=null,l.push({i,x:Ed(n,a)})),r=fp.lastIndex;return r<t.length&&(o=t.slice(r),s[i]?s[i]+=o:s[++i]=o),s.length<2?l[0]?D9(l[0].x):$9(t):(t=l.length,function(c){for(var d=0,f;d<t;++d)s[(f=l[d]).i]=f.x(c);return s.join("")})}function Ml(e,t){var r=typeof t,n;return t==null||r==="boolean"?Sv(t):(r==="number"?Ed:r==="string"?(n=Jc(t))?(t=n,Q1):R9:t instanceof Jc?Q1:t instanceof Date?E9:M9(t)?A9:Array.isArray(t)?C9:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?T9:Ed)(e,t)}function Nv(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function L9(e,t){t===void 0&&(t=e,e=Ml);for(var r=0,n=t.length-1,a=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(a,a=t[++r]);return function(i){var s=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return o[s](i-s)}}function I9(e){return function(){return e}}function Td(e){return+e}var J1=[0,1];function Sn(e){return e}function om(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:I9(isNaN(t)?NaN:.5)}function B9(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function F9(e,t,r){var n=e[0],a=e[1],o=t[0],i=t[1];return a<n?(n=om(a,n),o=r(i,o)):(n=om(n,a),o=r(o,i)),function(s){return o(n(s))}}function z9(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),o=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=om(e[i],e[i+1]),o[i]=r(t[i],t[i+1]);return function(s){var l=Eu(e,s,1,n)-1;return o[l](a[l](s))}}function $u(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function n0(){var e=J1,t=J1,r=Ml,n,a,o,i=Sn,s,l,c;function d(){var h=Math.min(e.length,t.length);return i!==Sn&&(i=B9(e[0],e[h-1])),s=h>2?z9:F9,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=s(e.map(n),t,r)))(n(i(h)))}return f.invert=function(h){return i(a((c||(c=s(t,e.map(n),Ed)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Td),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=Nv,d()},f.clamp=function(h){return arguments.length?(i=h?!0:Sn,d()):i!==Sn},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,p){return n=h,a=p,d()}}function _v(){return n0()(Sn,Sn)}function U9(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function $d(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Zs(e){return e=$d(Math.abs(e)),e?e[1]:NaN}function W9(e,t){return function(r,n){for(var a=r.length,o=[],i=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),o.push(r.substring(a-=s,a+s)),!((l+=s+1)>n));)s=e[i=(i+1)%e.length];return o.reverse().join(t)}}function G9(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var H9=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function eu(e){if(!(t=H9.exec(e)))throw new Error("invalid format: "+e);var t;return new Ov({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}eu.prototype=Ov.prototype;function Ov(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Ov.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function V9(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Dd;function X9(e,t){var r=$d(e,t);if(!r)return Dd=void 0,e.toPrecision(t);var n=r[0],a=r[1],o=a-(Dd=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return o===i?n:o>i?n+new Array(o-i+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+$d(e,Math.max(0,t+o-1))[0]}function ew(e,t){var r=$d(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const tw={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:U9,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>ew(e*100,t),r:ew,s:X9,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function rw(e){return e}var nw=Array.prototype.map,aw=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function K9(e){var t=e.grouping===void 0||e.thousands===void 0?rw:W9(nw.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?rw:G9(nw.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f,h){f=eu(f);var p=f.fill,m=f.align,v=f.sign,k=f.symbol,y=f.zero,g=f.width,x=f.comma,j=f.precision,b=f.trim,w=f.type;w==="n"?(x=!0,w="g"):tw[w]||(j===void 0&&(j=12),b=!0,w="g"),(y||p==="0"&&m==="=")&&(y=!0,p="0",m="=");var N=(h&&h.prefix!==void 0?h.prefix:"")+(k==="$"?r:k==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():""),_=(k==="$"?n:/[%p]/.test(w)?i:"")+(h&&h.suffix!==void 0?h.suffix:""),O=tw[w],P=/[defgprs%]/.test(w);j=j===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function M(C){var $=N,F=_,T,U,A;if(w==="c")F=O(C)+F,C="";else{C=+C;var E=C<0||1/C<0;if(C=isNaN(C)?l:O(Math.abs(C),j),b&&(C=V9(C)),E&&+C==0&&v!=="+"&&(E=!1),$=(E?v==="("?v:s:v==="-"||v==="("?"":v)+$,F=(w==="s"&&!isNaN(C)&&Dd!==void 0?aw[8+Dd/3]:"")+F+(E&&v==="("?")":""),P){for(T=-1,U=C.length;++T<U;)if(A=C.charCodeAt(T),48>A||A>57){F=(A===46?a+C.slice(T+1):C.slice(T))+F,C=C.slice(0,T);break}}}x&&!y&&(C=t(C,1/0));var D=$.length+C.length+F.length,G=D<g?new Array(g-D+1).join(p):"";switch(x&&y&&(C=t(G+C,G.length?g-F.length:1/0),G=""),m){case"<":C=$+C+F+G;break;case"=":C=$+G+C+F;break;case"^":C=G.slice(0,D=G.length>>1)+$+C+F+G.slice(D);break;default:C=G+$+C+F;break}return o(C)}return M.toString=function(){return f+""},M}function d(f,h){var p=Math.max(-8,Math.min(8,Math.floor(Zs(h)/3)))*3,m=Math.pow(10,-p),v=c((f=eu(f),f.type="f",f),{suffix:aw[8+p/3]});return function(k){return v(m*k)}}return{format:c,formatPrefix:d}}var wf,Pv,a_;Y9({thousands:",",grouping:[3],currency:["$",""]});function Y9(e){return wf=K9(e),Pv=wf.format,a_=wf.formatPrefix,wf}function q9(e){return Math.max(0,-Zs(Math.abs(e)))}function Z9(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Zs(t)/3)))*3-Zs(Math.abs(e)))}function Q9(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Zs(t)-Zs(e))+1}function o_(e,t,r,n){var a=tm(e,t,r),o;switch(n=eu(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=Z9(a,i))&&(n.precision=o),a_(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=Q9(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=q9(a))&&(n.precision=o-(n.type==="%")*2);break}}return Pv(n)}function ui(e){var t=e.domain;return e.ticks=function(r){var n=t();return Jg(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return o_(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,o=n.length-1,i=n[a],s=n[o],l,c,d=10;for(s<i&&(c=i,i=s,s=c,c=a,a=o,o=c);d-- >0;){if(c=em(i,s,r),c===l)return n[a]=i,n[o]=s,t(n);if(c>0)i=Math.floor(i/c)*c,s=Math.ceil(s/c)*c;else if(c<0)i=Math.ceil(i*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function Rd(){var e=_v();return e.copy=function(){return $u(e,Rd())},wa.apply(e,arguments),ui(e)}function i_(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Td),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return i_(e).unknown(t)},e=arguments.length?Array.from(e,Td):[0,1],ui(r)}function s_(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],o=e[n],i;return o<a&&(i=r,r=n,n=i,i=a,a=o,o=i),e[r]=t.floor(a),e[n]=t.ceil(o),e}function ow(e){return Math.log(e)}function iw(e){return Math.exp(e)}function J9(e){return-Math.log(-e)}function ez(e){return-Math.exp(-e)}function tz(e){return isFinite(e)?+("1e"+e):e<0?0:e}function rz(e){return e===10?tz:e===Math.E?Math.exp:t=>Math.pow(e,t)}function nz(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function sw(e){return(t,r)=>-e(-t,r)}function Av(e){const t=e(ow,iw),r=t.domain;let n=10,a,o;function i(){return a=nz(n),o=rz(n),r()[0]<0?(a=sw(a),o=sw(o),e(J9,ez)):e(ow,iw),t}return t.base=function(s){return arguments.length?(n=+s,i()):n},t.domain=function(s){return arguments.length?(r(s),i()):r()},t.ticks=s=>{const l=r();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let h=a(c),p=a(d),m,v;const k=s==null?10:+s;let y=[];if(!(n%1)&&p-h<k){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(m=1;m<n;++m)if(v=h<0?m/o(-h):m*o(h),!(v<c)){if(v>d)break;y.push(v)}}else for(;h<=p;++h)for(m=n-1;m>=1;--m)if(v=h>0?m/o(-h):m*o(h),!(v<c)){if(v>d)break;y.push(v)}y.length*2<k&&(y=Jg(c,d,k))}else y=Jg(h,p,Math.min(p-h,k)).map(o);return f?y.reverse():y},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=eu(l)).precision==null&&(l.trim=!0),l=Pv(l)),s===1/0)return l;const c=Math.max(1,n*s/t.ticks().length);return d=>{let f=d/o(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=c?l(d):""}},t.nice=()=>r(s_(r(),{floor:s=>o(Math.floor(a(s))),ceil:s=>o(Math.ceil(a(s)))})),t}function l_(){const e=Av(n0()).domain([1,10]);return e.copy=()=>$u(e,l_()).base(e.base()),wa.apply(e,arguments),e}function lw(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function cw(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Mv(e){var t=1,r=e(lw(t),cw(t));return r.constant=function(n){return arguments.length?e(lw(t=+n),cw(t)):t},ui(r)}function c_(){var e=Mv(n0());return e.copy=function(){return $u(e,c_()).constant(e.constant())},wa.apply(e,arguments)}function uw(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function az(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function oz(e){return e<0?-e*e:e*e}function Cv(e){var t=e(Sn,Sn),r=1;function n(){return r===1?e(Sn,Sn):r===.5?e(az,oz):e(uw(r),uw(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},ui(t)}function Ev(){var e=Cv(n0());return e.copy=function(){return $u(e,Ev()).exponent(e.exponent())},wa.apply(e,arguments),e}function iz(){return Ev.apply(null,arguments).exponent(.5)}function fw(e){return Math.sign(e)*e*e}function sz(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function u_(){var e=_v(),t=[0,1],r=!1,n;function a(o){var i=sz(e(o));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(o){return e.invert(fw(o))},a.domain=function(o){return arguments.length?(e.domain(o),a):e.domain()},a.range=function(o){return arguments.length?(e.range((t=Array.from(o,Td)).map(fw)),a):t.slice()},a.rangeRound=function(o){return a.range(o).round(!0)},a.round=function(o){return arguments.length?(r=!!o,a):r},a.clamp=function(o){return arguments.length?(e.clamp(o),a):e.clamp()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return u_(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},wa.apply(a,arguments),ui(a)}function f_(){var e=[],t=[],r=[],n;function a(){var i=0,s=Math.max(1,t.length);for(r=new Array(s-1);++i<s;)r[i-1]=d9(e,i/s);return o}function o(i){return i==null||isNaN(i=+i)?n:t[Eu(r,i)]}return o.invertExtent=function(i){var s=t.indexOf(i);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},o.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let s of i)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(ti),a()},o.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},o.unknown=function(i){return arguments.length?(n=i,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return f_().domain(e).range(t).unknown(n)},wa.apply(o,arguments)}function d_(){var e=0,t=1,r=1,n=[.5],a=[0,1],o;function i(l){return l!=null&&l<=l?a[Eu(n,l,0,r)]:o}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return i}return i.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},i.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,s()):a.slice()},i.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},i.unknown=function(l){return arguments.length&&(o=l),i},i.thresholds=function(){return n.slice()},i.copy=function(){return d_().domain([e,t]).range(a).unknown(o)},wa.apply(ui(i),arguments)}function h_(){var e=[.5],t=[0,1],r,n=1;function a(o){return o!=null&&o<=o?t[Eu(e,o,0,n)]:r}return a.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(o){var i=t.indexOf(o);return[e[i-1],e[i]]},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return h_().domain(e).range(t).unknown(r)},wa.apply(a,arguments)}const dp=new Date,hp=new Date;function Ir(e,t,r,n){function a(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=o=>(e(o=new Date(+o)),o),a.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),a.round=o=>{const i=a(o),s=a.ceil(o);return o-i<s-o?i:s},a.offset=(o,i)=>(t(o=new Date(+o),i==null?1:Math.floor(i)),o),a.range=(o,i,s)=>{const l=[];if(o=a.ceil(o),s=s==null?1:Math.floor(s),!(o<i)||!(s>0))return l;let c;do l.push(c=new Date(+o)),t(o,s),e(o);while(c<o&&o<i);return l},a.filter=o=>Ir(i=>{if(i>=i)for(;e(i),!o(i);)i.setTime(i-1)},(i,s)=>{if(i>=i)if(s<0)for(;++s<=0;)for(;t(i,-1),!o(i););else for(;--s>=0;)for(;t(i,1),!o(i););}),r&&(a.count=(o,i)=>(dp.setTime(+o),hp.setTime(+i),e(dp),e(hp),Math.floor(r(dp,hp))),a.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(n?i=>n(i)%o===0:i=>a.count(0,i)%o===0):a)),a}const Ld=Ir(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ld.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ir(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Ld);Ld.range;const uo=1e3,ha=uo*60,fo=ha*60,jo=fo*24,Tv=jo*7,dw=jo*30,pp=jo*365,Ai=Ir(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*uo)},(e,t)=>(t-e)/uo,e=>e.getUTCSeconds());Ai.range;const $v=Ir(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*uo)},(e,t)=>{e.setTime(+e+t*ha)},(e,t)=>(t-e)/ha,e=>e.getMinutes());$v.range;const Dv=Ir(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ha)},(e,t)=>(t-e)/ha,e=>e.getUTCMinutes());Dv.range;const Rv=Ir(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*uo-e.getMinutes()*ha)},(e,t)=>{e.setTime(+e+t*fo)},(e,t)=>(t-e)/fo,e=>e.getHours());Rv.range;const Lv=Ir(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*fo)},(e,t)=>(t-e)/fo,e=>e.getUTCHours());Lv.range;const Du=Ir(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ha)/jo,e=>e.getDate()-1);Du.range;const a0=Ir(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/jo,e=>e.getUTCDate()-1);a0.range;const p_=Ir(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/jo,e=>Math.floor(e/jo));p_.range;function Ji(e){return Ir(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ha)/Tv)}const o0=Ji(0),Id=Ji(1),lz=Ji(2),cz=Ji(3),Qs=Ji(4),uz=Ji(5),fz=Ji(6);o0.range;Id.range;lz.range;cz.range;Qs.range;uz.range;fz.range;function es(e){return Ir(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Tv)}const i0=es(0),Bd=es(1),dz=es(2),hz=es(3),Js=es(4),pz=es(5),gz=es(6);i0.range;Bd.range;dz.range;hz.range;Js.range;pz.range;gz.range;const Iv=Ir(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Iv.range;const Bv=Ir(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Bv.range;const So=Ir(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());So.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ir(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});So.range;const No=Ir(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());No.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ir(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});No.range;function g_(e,t,r,n,a,o){const i=[[Ai,1,uo],[Ai,5,5*uo],[Ai,15,15*uo],[Ai,30,30*uo],[o,1,ha],[o,5,5*ha],[o,15,15*ha],[o,30,30*ha],[a,1,fo],[a,3,3*fo],[a,6,6*fo],[a,12,12*fo],[n,1,jo],[n,2,2*jo],[r,1,Tv],[t,1,dw],[t,3,3*dw],[e,1,pp]];function s(c,d,f){const h=d<c;h&&([c,d]=[d,c]);const p=f&&typeof f.range=="function"?f:l(c,d,f),m=p?p.range(c,+d+1):[];return h?m.reverse():m}function l(c,d,f){const h=Math.abs(d-c)/f,p=wv(([,,k])=>k).right(i,h);if(p===i.length)return e.every(tm(c/pp,d/pp,f));if(p===0)return Ld.every(Math.max(tm(c,d,f),1));const[m,v]=i[h/i[p-1][2]<i[p][2]/h?p-1:p];return m.every(v)}return[s,l]}const[mz,yz]=g_(No,Bv,i0,p_,Lv,Dv),[vz,xz]=g_(So,Iv,o0,Du,Rv,$v);function gp(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function mp(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ql(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function bz(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,o=e.days,i=e.shortDays,s=e.months,l=e.shortMonths,c=Zl(a),d=Ql(a),f=Zl(o),h=Ql(o),p=Zl(i),m=Ql(i),v=Zl(s),k=Ql(s),y=Zl(l),g=Ql(l),x={a:A,A:E,b:D,B:G,c:null,d:vw,e:vw,f:Wz,g:Jz,G:t7,H:Fz,I:zz,j:Uz,L:m_,m:Gz,M:Hz,p:Z,q:K,Q:ww,s:kw,S:Vz,u:Xz,U:Kz,V:Yz,w:qz,W:Zz,x:null,X:null,y:Qz,Y:e7,Z:r7,"%":bw},j={a:L,A:te,b:Q,B:R,c:null,d:xw,e:xw,f:i7,g:m7,G:v7,H:n7,I:a7,j:o7,L:v_,m:s7,M:l7,p:ae,q:fe,Q:ww,s:kw,S:c7,u:u7,U:f7,V:d7,w:h7,W:p7,x:null,X:null,y:g7,Y:y7,Z:x7,"%":bw},b={a:P,A:M,b:C,B:$,c:F,d:mw,e:mw,f:Rz,g:gw,G:pw,H:yw,I:yw,j:Ez,L:Dz,m:Cz,M:Tz,p:O,q:Mz,Q:Iz,s:Bz,S:$z,u:Nz,U:_z,V:Oz,w:Sz,W:Pz,x:T,X:U,y:gw,Y:pw,Z:Az,"%":Lz};x.x=w(r,x),x.X=w(n,x),x.c=w(t,x),j.x=w(r,j),j.X=w(n,j),j.c=w(t,j);function w(Y,oe){return function(pe){var H=[],ie=-1,se=0,je=Y.length,Re,Le,pt;for(pe instanceof Date||(pe=new Date(+pe));++ie<je;)Y.charCodeAt(ie)===37&&(H.push(Y.slice(se,ie)),(Le=hw[Re=Y.charAt(++ie)])!=null?Re=Y.charAt(++ie):Le=Re==="e"?" ":"0",(pt=oe[Re])&&(Re=pt(pe,Le)),H.push(Re),se=ie+1);return H.push(Y.slice(se,ie)),H.join("")}}function N(Y,oe){return function(pe){var H=ql(1900,void 0,1),ie=_(H,Y,pe+="",0),se,je;if(ie!=pe.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(H.s*1e3+("L"in H?H.L:0));if(oe&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+H.p*12),H.m===void 0&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(se=mp(ql(H.y,0,1)),je=se.getUTCDay(),se=je>4||je===0?Bd.ceil(se):Bd(se),se=a0.offset(se,(H.V-1)*7),H.y=se.getUTCFullYear(),H.m=se.getUTCMonth(),H.d=se.getUTCDate()+(H.w+6)%7):(se=gp(ql(H.y,0,1)),je=se.getDay(),se=je>4||je===0?Id.ceil(se):Id(se),se=Du.offset(se,(H.V-1)*7),H.y=se.getFullYear(),H.m=se.getMonth(),H.d=se.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),je="Z"in H?mp(ql(H.y,0,1)).getUTCDay():gp(ql(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+H.W*7-(je+5)%7:H.w+H.U*7-(je+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,mp(H)):gp(H)}}function _(Y,oe,pe,H){for(var ie=0,se=oe.length,je=pe.length,Re,Le;ie<se;){if(H>=je)return-1;if(Re=oe.charCodeAt(ie++),Re===37){if(Re=oe.charAt(ie++),Le=b[Re in hw?oe.charAt(ie++):Re],!Le||(H=Le(Y,pe,H))<0)return-1}else if(Re!=pe.charCodeAt(H++))return-1}return H}function O(Y,oe,pe){var H=c.exec(oe.slice(pe));return H?(Y.p=d.get(H[0].toLowerCase()),pe+H[0].length):-1}function P(Y,oe,pe){var H=p.exec(oe.slice(pe));return H?(Y.w=m.get(H[0].toLowerCase()),pe+H[0].length):-1}function M(Y,oe,pe){var H=f.exec(oe.slice(pe));return H?(Y.w=h.get(H[0].toLowerCase()),pe+H[0].length):-1}function C(Y,oe,pe){var H=y.exec(oe.slice(pe));return H?(Y.m=g.get(H[0].toLowerCase()),pe+H[0].length):-1}function $(Y,oe,pe){var H=v.exec(oe.slice(pe));return H?(Y.m=k.get(H[0].toLowerCase()),pe+H[0].length):-1}function F(Y,oe,pe){return _(Y,t,oe,pe)}function T(Y,oe,pe){return _(Y,r,oe,pe)}function U(Y,oe,pe){return _(Y,n,oe,pe)}function A(Y){return i[Y.getDay()]}function E(Y){return o[Y.getDay()]}function D(Y){return l[Y.getMonth()]}function G(Y){return s[Y.getMonth()]}function Z(Y){return a[+(Y.getHours()>=12)]}function K(Y){return 1+~~(Y.getMonth()/3)}function L(Y){return i[Y.getUTCDay()]}function te(Y){return o[Y.getUTCDay()]}function Q(Y){return l[Y.getUTCMonth()]}function R(Y){return s[Y.getUTCMonth()]}function ae(Y){return a[+(Y.getUTCHours()>=12)]}function fe(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var oe=w(Y+="",x);return oe.toString=function(){return Y},oe},parse:function(Y){var oe=N(Y+="",!1);return oe.toString=function(){return Y},oe},utcFormat:function(Y){var oe=w(Y+="",j);return oe.toString=function(){return Y},oe},utcParse:function(Y){var oe=N(Y+="",!0);return oe.toString=function(){return Y},oe}}}var hw={"-":"",_:" ",0:"0"},Xr=/^\s*\d+/,wz=/^%/,kz=/[\\^$*+?|[\]().{}]/g;function ut(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",o=a.length;return n+(o<r?new Array(r-o+1).join(t)+a:a)}function jz(e){return e.replace(kz,"\\$&")}function Zl(e){return new RegExp("^(?:"+e.map(jz).join("|")+")","i")}function Ql(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Sz(e,t,r){var n=Xr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Nz(e,t,r){var n=Xr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function _z(e,t,r){var n=Xr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Oz(e,t,r){var n=Xr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Pz(e,t,r){var n=Xr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function pw(e,t,r){var n=Xr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function gw(e,t,r){var n=Xr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Az(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Mz(e,t,r){var n=Xr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Cz(e,t,r){var n=Xr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function mw(e,t,r){var n=Xr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Ez(e,t,r){var n=Xr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function yw(e,t,r){var n=Xr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Tz(e,t,r){var n=Xr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function $z(e,t,r){var n=Xr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Dz(e,t,r){var n=Xr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Rz(e,t,r){var n=Xr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Lz(e,t,r){var n=wz.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Iz(e,t,r){var n=Xr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Bz(e,t,r){var n=Xr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function vw(e,t){return ut(e.getDate(),t,2)}function Fz(e,t){return ut(e.getHours(),t,2)}function zz(e,t){return ut(e.getHours()%12||12,t,2)}function Uz(e,t){return ut(1+Du.count(So(e),e),t,3)}function m_(e,t){return ut(e.getMilliseconds(),t,3)}function Wz(e,t){return m_(e,t)+"000"}function Gz(e,t){return ut(e.getMonth()+1,t,2)}function Hz(e,t){return ut(e.getMinutes(),t,2)}function Vz(e,t){return ut(e.getSeconds(),t,2)}function Xz(e){var t=e.getDay();return t===0?7:t}function Kz(e,t){return ut(o0.count(So(e)-1,e),t,2)}function y_(e){var t=e.getDay();return t>=4||t===0?Qs(e):Qs.ceil(e)}function Yz(e,t){return e=y_(e),ut(Qs.count(So(e),e)+(So(e).getDay()===4),t,2)}function qz(e){return e.getDay()}function Zz(e,t){return ut(Id.count(So(e)-1,e),t,2)}function Qz(e,t){return ut(e.getFullYear()%100,t,2)}function Jz(e,t){return e=y_(e),ut(e.getFullYear()%100,t,2)}function e7(e,t){return ut(e.getFullYear()%1e4,t,4)}function t7(e,t){var r=e.getDay();return e=r>=4||r===0?Qs(e):Qs.ceil(e),ut(e.getFullYear()%1e4,t,4)}function r7(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ut(t/60|0,"0",2)+ut(t%60,"0",2)}function xw(e,t){return ut(e.getUTCDate(),t,2)}function n7(e,t){return ut(e.getUTCHours(),t,2)}function a7(e,t){return ut(e.getUTCHours()%12||12,t,2)}function o7(e,t){return ut(1+a0.count(No(e),e),t,3)}function v_(e,t){return ut(e.getUTCMilliseconds(),t,3)}function i7(e,t){return v_(e,t)+"000"}function s7(e,t){return ut(e.getUTCMonth()+1,t,2)}function l7(e,t){return ut(e.getUTCMinutes(),t,2)}function c7(e,t){return ut(e.getUTCSeconds(),t,2)}function u7(e){var t=e.getUTCDay();return t===0?7:t}function f7(e,t){return ut(i0.count(No(e)-1,e),t,2)}function x_(e){var t=e.getUTCDay();return t>=4||t===0?Js(e):Js.ceil(e)}function d7(e,t){return e=x_(e),ut(Js.count(No(e),e)+(No(e).getUTCDay()===4),t,2)}function h7(e){return e.getUTCDay()}function p7(e,t){return ut(Bd.count(No(e)-1,e),t,2)}function g7(e,t){return ut(e.getUTCFullYear()%100,t,2)}function m7(e,t){return e=x_(e),ut(e.getUTCFullYear()%100,t,2)}function y7(e,t){return ut(e.getUTCFullYear()%1e4,t,4)}function v7(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Js(e):Js.ceil(e),ut(e.getUTCFullYear()%1e4,t,4)}function x7(){return"+0000"}function bw(){return"%"}function ww(e){return+e}function kw(e){return Math.floor(+e/1e3)}var fs,b_,w_;b7({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function b7(e){return fs=bz(e),b_=fs.format,fs.parse,w_=fs.utcFormat,fs.utcParse,fs}function w7(e){return new Date(e)}function k7(e){return e instanceof Date?+e:+new Date(+e)}function Fv(e,t,r,n,a,o,i,s,l,c){var d=_v(),f=d.invert,h=d.domain,p=c(".%L"),m=c(":%S"),v=c("%I:%M"),k=c("%I %p"),y=c("%a %d"),g=c("%b %d"),x=c("%B"),j=c("%Y");function b(w){return(l(w)<w?p:s(w)<w?m:i(w)<w?v:o(w)<w?k:n(w)<w?a(w)<w?y:g:r(w)<w?x:j)(w)}return d.invert=function(w){return new Date(f(w))},d.domain=function(w){return arguments.length?h(Array.from(w,k7)):h().map(w7)},d.ticks=function(w){var N=h();return e(N[0],N[N.length-1],w??10)},d.tickFormat=function(w,N){return N==null?b:c(N)},d.nice=function(w){var N=h();return(!w||typeof w.range!="function")&&(w=t(N[0],N[N.length-1],w??10)),w?h(s_(N,w)):d},d.copy=function(){return $u(d,Fv(e,t,r,n,a,o,i,s,l,c))},d}function j7(){return wa.apply(Fv(vz,xz,So,Iv,o0,Du,Rv,$v,Ai,b_).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function S7(){return wa.apply(Fv(mz,yz,No,Bv,i0,a0,Lv,Dv,Ai,w_).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function s0(){var e=0,t=1,r,n,a,o,i=Sn,s=!1,l;function c(f){return f==null||isNaN(f=+f)?l:i(a===0?.5:(f=(o(f)-r)*a,s?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,r=o(e=+e),n=o(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(f){return arguments.length?(s=!!f,c):s},c.interpolator=function(f){return arguments.length?(i=f,c):i};function d(f){return function(h){var p,m;return arguments.length?([p,m]=h,i=f(p,m),c):[i(0),i(1)]}}return c.range=d(Ml),c.rangeRound=d(Nv),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return o=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),c}}function fi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function k_(){var e=ui(s0()(Sn));return e.copy=function(){return fi(e,k_())},Ao.apply(e,arguments)}function j_(){var e=Av(s0()).domain([1,10]);return e.copy=function(){return fi(e,j_()).base(e.base())},Ao.apply(e,arguments)}function S_(){var e=Mv(s0());return e.copy=function(){return fi(e,S_()).constant(e.constant())},Ao.apply(e,arguments)}function zv(){var e=Cv(s0());return e.copy=function(){return fi(e,zv()).exponent(e.exponent())},Ao.apply(e,arguments)}function N7(){return zv.apply(null,arguments).exponent(.5)}function N_(){var e=[],t=Sn;function r(n){if(n!=null&&!isNaN(n=+n))return t((Eu(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(ti),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,o)=>f9(e,o/n))},r.copy=function(){return N_(t).domain(e)},Ao.apply(r,arguments)}function l0(){var e=0,t=.5,r=1,n=1,a,o,i,s,l,c=Sn,d,f=!1,h;function p(v){return isNaN(v=+v)?h:(v=.5+((v=+d(v))-o)*(n*v<n*o?s:l),c(f?Math.max(0,Math.min(1,v)):v))}p.domain=function(v){return arguments.length?([e,t,r]=v,a=d(e=+e),o=d(t=+t),i=d(r=+r),s=a===o?0:.5/(o-a),l=o===i?0:.5/(i-o),n=o<a?-1:1,p):[e,t,r]},p.clamp=function(v){return arguments.length?(f=!!v,p):f},p.interpolator=function(v){return arguments.length?(c=v,p):c};function m(v){return function(k){var y,g,x;return arguments.length?([y,g,x]=k,c=L9(v,[y,g,x]),p):[c(0),c(.5),c(1)]}}return p.range=m(Ml),p.rangeRound=m(Nv),p.unknown=function(v){return arguments.length?(h=v,p):h},function(v){return d=v,a=v(e),o=v(t),i=v(r),s=a===o?0:.5/(o-a),l=o===i?0:.5/(i-o),n=o<a?-1:1,p}}function __(){var e=ui(l0()(Sn));return e.copy=function(){return fi(e,__())},Ao.apply(e,arguments)}function O_(){var e=Av(l0()).domain([.1,1,10]);return e.copy=function(){return fi(e,O_()).base(e.base())},Ao.apply(e,arguments)}function P_(){var e=Mv(l0());return e.copy=function(){return fi(e,P_()).constant(e.constant())},Ao.apply(e,arguments)}function Uv(){var e=Cv(l0());return e.copy=function(){return fi(e,Uv()).exponent(e.exponent())},Ao.apply(e,arguments)}function _7(){return Uv.apply(null,arguments).exponent(.5)}const jw=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:qc,scaleDiverging:__,scaleDivergingLog:O_,scaleDivergingPow:Uv,scaleDivergingSqrt:_7,scaleDivergingSymlog:P_,scaleIdentity:i_,scaleImplicit:rm,scaleLinear:Rd,scaleLog:l_,scaleOrdinal:kv,scalePoint:vc,scalePow:Ev,scaleQuantile:f_,scaleQuantize:d_,scaleRadial:u_,scaleSequential:k_,scaleSequentialLog:j_,scaleSequentialPow:zv,scaleSequentialQuantile:N_,scaleSequentialSqrt:N7,scaleSequentialSymlog:S_,scaleSqrt:iz,scaleSymlog:c_,scaleThreshold:h_,scaleTime:j7,scaleUtc:S7,tickFormat:o_},Symbol.toStringTag,{value:"Module"}));var O7=wl;function P7(e,t,r){for(var n=-1,a=e.length;++n<a;){var o=e[n],i=t(o);if(i!=null&&(s===void 0?i===i&&!O7(i):r(i,s)))var s=i,l=o}return l}var A_=P7;function A7(e,t){return e>t}var M7=A7,C7=A_,E7=M7,T7=Al;function $7(e){return e&&e.length?C7(e,T7,E7):void 0}var D7=$7;const Uo=$t(D7);function R7(e,t){return e<t}var L7=R7,I7=A_,B7=L7,F7=Al;function z7(e){return e&&e.length?I7(e,F7,B7):void 0}var U7=z7;const c0=$t(U7);var W7=rv,G7=li,H7=BN,V7=Wn;function X7(e,t){var r=V7(e)?W7:H7;return r(e,G7(t))}var K7=X7,Y7=LN,q7=K7;function Z7(e,t){return Y7(q7(e,t),1)}var Q7=Z7;const J7=$t(Q7);var eU=mv;function tU(e,t){return eU(e,t)}var rU=tU;const Gi=$t(rU);var Cl=1e9,nU={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Gv,Qt=!0,xa="[DecimalError] ",Di=xa+"Invalid argument: ",Wv=xa+"Exponent out of range: ",El=Math.floor,ji=Math.pow,aU=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Qn,Wr=1e7,Xt=7,M_=9007199254740991,Fd=El(M_/Xt),be={};be.absoluteValue=be.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};be.comparedTo=be.cmp=function(e){var t,r,n,a,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===a?0:n>a^o.s<0?1:-1};be.decimalPlaces=be.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Xt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};be.dividedBy=be.div=function(e){return vo(this,new this.constructor(e))};be.dividedToIntegerBy=be.idiv=function(e){var t=this,r=t.constructor;return Tt(vo(t,new r(e),0,1),r.precision)};be.equals=be.eq=function(e){return!this.cmp(e)};be.exponent=function(){return Nr(this)};be.greaterThan=be.gt=function(e){return this.cmp(e)>0};be.greaterThanOrEqualTo=be.gte=function(e){return this.cmp(e)>=0};be.isInteger=be.isint=function(){return this.e>this.d.length-2};be.isNegative=be.isneg=function(){return this.s<0};be.isPositive=be.ispos=function(){return this.s>0};be.isZero=function(){return this.s===0};be.lessThan=be.lt=function(e){return this.cmp(e)<0};be.lessThanOrEqualTo=be.lte=function(e){return this.cmp(e)<1};be.logarithm=be.log=function(e){var t,r=this,n=r.constructor,a=n.precision,o=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Qn))throw Error(xa+"NaN");if(r.s<1)throw Error(xa+(r.s?"NaN":"-Infinity"));return r.eq(Qn)?new n(0):(Qt=!1,t=vo(tu(r,o),tu(e,o),o),Qt=!0,Tt(t,a))};be.minus=be.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?T_(t,e):C_(t,(e.s=-e.s,e))};be.modulo=be.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(xa+"NaN");return r.s?(Qt=!1,t=vo(r,e,0,1).times(e),Qt=!0,r.minus(t)):Tt(new n(r),a)};be.naturalExponential=be.exp=function(){return E_(this)};be.naturalLogarithm=be.ln=function(){return tu(this)};be.negated=be.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};be.plus=be.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?C_(t,e):T_(t,(e.s=-e.s,e))};be.precision=be.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Di+e);if(t=Nr(a)+1,n=a.d.length-1,r=n*Xt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};be.squareRoot=be.sqrt=function(){var e,t,r,n,a,o,i,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(xa+"NaN")}for(e=Nr(s),Qt=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=Ua(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=El((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=i=r+3;;)if(o=n,n=o.plus(vo(s,o,i+2)).times(.5),Ua(o.d).slice(0,i)===(t=Ua(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if(Tt(o,r+1,0),o.times(o).eq(s)){n=o;break}}else if(t!="9999")break;i+=4}return Qt=!0,Tt(n,r)};be.times=be.mul=function(e){var t,r,n,a,o,i,s,l,c,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,l=h.length,c=p.length,l<c&&(o=h,h=p,p=o,i=l,l=c,c=i),o=[],i=l+c,n=i;n--;)o.push(0);for(n=c;--n>=0;){for(t=0,a=l+n;a>n;)s=o[a]+p[n]*h[a-n-1]+t,o[a--]=s%Wr|0,t=s/Wr|0;o[a]=(o[a]+t)%Wr|0}for(;!o[--i];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,Qt?Tt(e,f.precision):e};be.toDecimalPlaces=be.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Za(e,0,Cl),t===void 0?t=n.rounding:Za(t,0,8),Tt(r,e+Nr(r)+1,t))};be.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Hi(n,!0):(Za(e,0,Cl),t===void 0?t=a.rounding:Za(t,0,8),n=Tt(new a(n),e+1,t),r=Hi(n,!0,e+1)),r};be.toFixed=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?Hi(a):(Za(e,0,Cl),t===void 0?t=o.rounding:Za(t,0,8),n=Tt(new o(a),e+Nr(a)+1,t),r=Hi(n.abs(),!1,e+Nr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};be.toInteger=be.toint=function(){var e=this,t=e.constructor;return Tt(new t(e),Nr(e)+1,t.rounding)};be.toNumber=function(){return+this};be.toPower=be.pow=function(e){var t,r,n,a,o,i,s=this,l=s.constructor,c=12,d=+(e=new l(e));if(!e.s)return new l(Qn);if(s=new l(s),!s.s){if(e.s<1)throw Error(xa+"Infinity");return s}if(s.eq(Qn))return s;if(n=l.precision,e.eq(Qn))return Tt(s,n);if(t=e.e,r=e.d.length-1,i=t>=r,o=s.s,i){if((r=d<0?-d:d)<=M_){for(a=new l(Qn),t=Math.ceil(n/Xt+4),Qt=!1;r%2&&(a=a.times(s),Nw(a.d,t)),r=El(r/2),r!==0;)s=s.times(s),Nw(s.d,t);return Qt=!0,e.s<0?new l(Qn).div(a):Tt(a,n)}}else if(o<0)throw Error(xa+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,Qt=!1,a=e.times(tu(s,n+c)),Qt=!0,a=E_(a),a.s=o,a};be.toPrecision=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?(r=Nr(a),n=Hi(a,r<=o.toExpNeg||r>=o.toExpPos)):(Za(e,1,Cl),t===void 0?t=o.rounding:Za(t,0,8),a=Tt(new o(a),e,t),r=Nr(a),n=Hi(a,e<=r||r<=o.toExpNeg,e)),n};be.toSignificantDigits=be.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Za(e,1,Cl),t===void 0?t=n.rounding:Za(t,0,8)),Tt(new n(r),e,t)};be.toString=be.valueOf=be.val=be.toJSON=be[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Nr(e),r=e.constructor;return Hi(e,t<=r.toExpNeg||t>=r.toExpPos)};function C_(e,t){var r,n,a,o,i,s,l,c,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Qt?Tt(t,f):t;if(l=e.d,c=t.d,i=e.e,a=t.e,l=l.slice(),o=i-a,o){for(o<0?(n=l,o=-o,s=c.length):(n=c,a=i,s=l.length),i=Math.ceil(f/Xt),s=i>s?i+1:s+1,o>s&&(o=s,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(s=l.length,o=c.length,s-o<0&&(o=s,n=c,c=l,l=n),r=0;o;)r=(l[--o]=l[o]+c[o]+r)/Wr|0,l[o]%=Wr;for(r&&(l.unshift(r),++a),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=a,Qt?Tt(t,f):t}function Za(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Di+e)}function Ua(e){var t,r,n,a=e.length-1,o="",i=e[0];if(a>0){for(o+=i,t=1;t<a;t++)n=e[t]+"",r=Xt-n.length,r&&(o+=Ro(r)),o+=n;i=e[t],n=i+"",r=Xt-n.length,r&&(o+=Ro(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return o+i}var vo=function(){function e(n,a){var o,i=0,s=n.length;for(n=n.slice();s--;)o=n[s]*a+i,n[s]=o%Wr|0,i=o/Wr|0;return i&&n.unshift(i),n}function t(n,a,o,i){var s,l;if(o!=i)l=o>i?1:-1;else for(s=l=0;s<o;s++)if(n[s]!=a[s]){l=n[s]>a[s]?1:-1;break}return l}function r(n,a,o){for(var i=0;o--;)n[o]-=i,i=n[o]<a[o]?1:0,n[o]=i*Wr+n[o]-a[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,o,i){var s,l,c,d,f,h,p,m,v,k,y,g,x,j,b,w,N,_,O=n.constructor,P=n.s==a.s?1:-1,M=n.d,C=a.d;if(!n.s)return new O(n);if(!a.s)throw Error(xa+"Division by zero");for(l=n.e-a.e,N=C.length,b=M.length,p=new O(P),m=p.d=[],c=0;C[c]==(M[c]||0);)++c;if(C[c]>(M[c]||0)&&--l,o==null?g=o=O.precision:i?g=o+(Nr(n)-Nr(a))+1:g=o,g<0)return new O(0);if(g=g/Xt+2|0,c=0,N==1)for(d=0,C=C[0],g++;(c<b||d)&&g--;c++)x=d*Wr+(M[c]||0),m[c]=x/C|0,d=x%C|0;else{for(d=Wr/(C[0]+1)|0,d>1&&(C=e(C,d),M=e(M,d),N=C.length,b=M.length),j=N,v=M.slice(0,N),k=v.length;k<N;)v[k++]=0;_=C.slice(),_.unshift(0),w=C[0],C[1]>=Wr/2&&++w;do d=0,s=t(C,v,N,k),s<0?(y=v[0],N!=k&&(y=y*Wr+(v[1]||0)),d=y/w|0,d>1?(d>=Wr&&(d=Wr-1),f=e(C,d),h=f.length,k=v.length,s=t(f,v,h,k),s==1&&(d--,r(f,N<h?_:C,h))):(d==0&&(s=d=1),f=C.slice()),h=f.length,h<k&&f.unshift(0),r(v,f,k),s==-1&&(k=v.length,s=t(C,v,N,k),s<1&&(d++,r(v,N<k?_:C,k))),k=v.length):s===0&&(d++,v=[0]),m[c++]=d,s&&v[0]?v[k++]=M[j]||0:(v=[M[j]],k=1);while((j++<b||v[0]!==void 0)&&g--)}return m[0]||m.shift(),p.e=l,Tt(p,i?o+Nr(p)+1:o)}}();function E_(e,t){var r,n,a,o,i,s,l=0,c=0,d=e.constructor,f=d.precision;if(Nr(e)>16)throw Error(Wv+Nr(e));if(!e.s)return new d(Qn);for(Qt=!1,s=f,i=new d(.03125);e.abs().gte(.1);)e=e.times(i),c+=5;for(n=Math.log(ji(2,c))/Math.LN10*2+5|0,s+=n,r=a=o=new d(Qn),d.precision=s;;){if(a=Tt(a.times(e),s),r=r.times(++l),i=o.plus(vo(a,r,s)),Ua(i.d).slice(0,s)===Ua(o.d).slice(0,s)){for(;c--;)o=Tt(o.times(o),s);return d.precision=f,t==null?(Qt=!0,Tt(o,f)):o}o=i}}function Nr(e){for(var t=e.e*Xt,r=e.d[0];r>=10;r/=10)t++;return t}function yp(e,t,r){if(t>e.LN10.sd())throw Qt=!0,r&&(e.precision=r),Error(xa+"LN10 precision limit exceeded");return Tt(new e(e.LN10),t)}function Ro(e){for(var t="";e--;)t+="0";return t}function tu(e,t){var r,n,a,o,i,s,l,c,d,f=1,h=10,p=e,m=p.d,v=p.constructor,k=v.precision;if(p.s<1)throw Error(xa+(p.s?"NaN":"-Infinity"));if(p.eq(Qn))return new v(0);if(t==null?(Qt=!1,c=k):c=t,p.eq(10))return t==null&&(Qt=!0),yp(v,c);if(c+=h,v.precision=c,r=Ua(m),n=r.charAt(0),o=Nr(p),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Ua(p.d),n=r.charAt(0),f++;o=Nr(p),n>1?(p=new v("0."+r),o++):p=new v(n+"."+r.slice(1))}else return l=yp(v,c+2,k).times(o+""),p=tu(new v(n+"."+r.slice(1)),c-h).plus(l),v.precision=k,t==null?(Qt=!0,Tt(p,k)):p;for(s=i=p=vo(p.minus(Qn),p.plus(Qn),c),d=Tt(p.times(p),c),a=3;;){if(i=Tt(i.times(d),c),l=s.plus(vo(i,new v(a),c)),Ua(l.d).slice(0,c)===Ua(s.d).slice(0,c))return s=s.times(2),o!==0&&(s=s.plus(yp(v,c+2,k).times(o+""))),s=vo(s,new v(f),c),v.precision=k,t==null?(Qt=!0,Tt(s,k)):s;s=l,a+=2}}function Sw(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=El(r/Xt),e.d=[],n=(r+1)%Xt,r<0&&(n+=Xt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Xt;n<a;)e.d.push(+t.slice(n,n+=Xt));t=t.slice(n),n=Xt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Qt&&(e.e>Fd||e.e<-Fd))throw Error(Wv+r)}else e.s=0,e.e=0,e.d=[0];return e}function Tt(e,t,r){var n,a,o,i,s,l,c,d,f=e.d;for(i=1,o=f[0];o>=10;o/=10)i++;if(n=t-i,n<0)n+=Xt,a=t,c=f[d=0];else{if(d=Math.ceil((n+1)/Xt),o=f.length,d>=o)return e;for(c=o=f[d],i=1;o>=10;o/=10)i++;n%=Xt,a=n-Xt+i}if(r!==void 0&&(o=ji(10,i-a-1),s=c/o%10|0,l=t<0||f[d+1]!==void 0||c%o,l=r<4?(s||l)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?a>0?c/ji(10,i-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(o=Nr(e),f.length=1,t=t-o-1,f[0]=ji(10,(Xt-t%Xt)%Xt),e.e=El(-t/Xt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,o=1,d--):(f.length=d+1,o=ji(10,Xt-n),f[d]=a>0?(c/ji(10,i-a)%ji(10,a)|0)*o:0),l)for(;;)if(d==0){(f[0]+=o)==Wr&&(f[0]=1,++e.e);break}else{if(f[d]+=o,f[d]!=Wr)break;f[d--]=0,o=1}for(n=f.length;f[--n]===0;)f.pop();if(Qt&&(e.e>Fd||e.e<-Fd))throw Error(Wv+Nr(e));return e}function T_(e,t){var r,n,a,o,i,s,l,c,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Qt?Tt(t,p):t;if(l=e.d,f=t.d,n=t.e,c=e.e,l=l.slice(),i=c-n,i){for(d=i<0,d?(r=l,i=-i,s=f.length):(r=f,n=c,s=l.length),a=Math.max(Math.ceil(p/Xt),s)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=l.length,s=f.length,d=a<s,d&&(s=a),a=0;a<s;a++)if(l[a]!=f[a]){d=l[a]<f[a];break}i=0}for(d&&(r=l,l=f,f=r,t.s=-t.s),s=l.length,a=f.length-s;a>0;--a)l[s++]=0;for(a=f.length;a>i;){if(l[--a]<f[a]){for(o=a;o&&l[--o]===0;)l[o]=Wr-1;--l[o],l[a]+=Wr}l[a]-=f[a]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Qt?Tt(t,p):t):new h(0)}function Hi(e,t,r){var n,a=Nr(e),o=Ua(e.d),i=o.length;return t?(r&&(n=r-i)>0?o=o.charAt(0)+"."+o.slice(1)+Ro(n):i>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+Ro(-a-1)+o,r&&(n=r-i)>0&&(o+=Ro(n))):a>=i?(o+=Ro(a+1-i),r&&(n=r-a-1)>0&&(o=o+"."+Ro(n))):((n=a+1)<i&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(o+="."),o+=Ro(n))),e.s<0?"-"+o:o}function Nw(e,t){if(e.length>t)return e.length=t,!0}function $_(e){var t,r,n;function a(o){var i=this;if(!(i instanceof a))return new a(o);if(i.constructor=a,o instanceof a){i.s=o.s,i.e=o.e,i.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Di+o);if(o>0)i.s=1;else if(o<0)o=-o,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(o===~~o&&o<1e7){i.e=0,i.d=[o];return}return Sw(i,o.toString())}else if(typeof o!="string")throw Error(Di+o);if(o.charCodeAt(0)===45?(o=o.slice(1),i.s=-1):i.s=1,aU.test(o))Sw(i,o);else throw Error(Di+o)}if(a.prototype=be,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=$_,a.config=a.set=oU,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function oU(e){if(!e||typeof e!="object")throw Error(xa+"Object expected");var t,r,n,a=["precision",1,Cl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(El(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Di+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Di+r+": "+n);return this}var Gv=$_(nU);Qn=new Gv(1);const At=Gv;function iU(e){return uU(e)||cU(e)||lU(e)||sU()}function sU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lU(e,t){if(e){if(typeof e=="string")return im(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return im(e,t)}}function cU(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function uU(e){if(Array.isArray(e))return im(e)}function im(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var fU=function(t){return t},D_={},R_=function(t){return t===D_},_w=function(t){return function r(){return arguments.length===0||arguments.length===1&&R_(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},dU=function e(t,r){return t===1?r:_w(function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];var i=a.filter(function(s){return s!==D_}).length;return i>=t?r.apply(void 0,a):e(t-i,_w(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var d=a.map(function(f){return R_(f)?l.shift():f});return r.apply(void 0,iU(d).concat(l))}))})},u0=function(t){return dU(t.length,t)},sm=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},hU=u0(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),pU=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return fU;var a=r.reverse(),o=a[0],i=a.slice(1);return function(){return i.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},lm=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},L_=function(t){var r=null,n=null;return function(){for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return r&&o.every(function(s,l){return s===r[l]})||(r=o,n=t.apply(void 0,o)),n}};function gU(e){var t;return e===0?t=1:t=Math.floor(new At(e).abs().log(10).toNumber())+1,t}function mU(e,t,r){for(var n=new At(e),a=0,o=[];n.lt(t)&&a<1e5;)o.push(n.toNumber()),n=n.add(r),a++;return o}var yU=u0(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),vU=u0(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),xU=u0(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const f0={rangeStep:mU,getDigitCount:gU,interpolateNumber:yU,uninterpolateNumber:vU,uninterpolateTruncation:xU};function cm(e){return kU(e)||wU(e)||I_(e)||bU()}function bU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wU(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function kU(e){if(Array.isArray(e))return um(e)}function ru(e,t){return NU(e)||SU(e,t)||I_(e,t)||jU()}function jU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I_(e,t){if(e){if(typeof e=="string")return um(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return um(e,t)}}function um(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function SU(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,o=void 0;try{for(var i=e[Symbol.iterator](),s;!(n=(s=i.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(l){a=!0,o=l}finally{try{!n&&i.return!=null&&i.return()}finally{if(a)throw o}}return r}}function NU(e){if(Array.isArray(e))return e}function B_(e){var t=ru(e,2),r=t[0],n=t[1],a=r,o=n;return r>n&&(a=n,o=r),[a,o]}function F_(e,t,r){if(e.lte(0))return new At(0);var n=f0.getDigitCount(e.toNumber()),a=new At(10).pow(n),o=e.div(a),i=n!==1?.05:.1,s=new At(Math.ceil(o.div(i).toNumber())).add(r).mul(i),l=s.mul(a);return t?l:new At(Math.ceil(l))}function _U(e,t,r){var n=1,a=new At(e);if(!a.isint()&&r){var o=Math.abs(e);o<1?(n=new At(10).pow(f0.getDigitCount(e)-1),a=new At(Math.floor(a.div(n).toNumber())).mul(n)):o>1&&(a=new At(Math.floor(e)))}else e===0?a=new At(Math.floor((t-1)/2)):r||(a=new At(Math.floor(e)));var i=Math.floor((t-1)/2),s=pU(hU(function(l){return a.add(new At(l-i).mul(n)).toNumber()}),sm);return s(0,t)}function z_(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new At(0),tickMin:new At(0),tickMax:new At(0)};var o=F_(new At(t).sub(e).div(r-1),n,a),i;e<=0&&t>=0?i=new At(0):(i=new At(e).add(t).div(2),i=i.sub(new At(i).mod(o)));var s=Math.ceil(i.sub(e).div(o).toNumber()),l=Math.ceil(new At(t).sub(i).div(o).toNumber()),c=s+l+1;return c>r?z_(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,s=t>0?s:s+(r-c)),{step:o,tickMin:i.sub(new At(s).mul(o)),tickMax:i.add(new At(l).mul(o))})}function OU(e){var t=ru(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),s=B_([r,n]),l=ru(s,2),c=l[0],d=l[1];if(c===-1/0||d===1/0){var f=d===1/0?[c].concat(cm(sm(0,a-1).map(function(){return 1/0}))):[].concat(cm(sm(0,a-1).map(function(){return-1/0})),[d]);return r>n?lm(f):f}if(c===d)return _U(c,a,o);var h=z_(c,d,i,o),p=h.step,m=h.tickMin,v=h.tickMax,k=f0.rangeStep(m,v.add(new At(.1).mul(p)),p);return r>n?lm(k):k}function PU(e,t){var r=ru(e,2),n=r[0],a=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=B_([n,a]),s=ru(i,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,a];if(l===c)return[l];var d=Math.max(t,2),f=F_(new At(c).sub(l).div(d-1),o,0),h=[].concat(cm(f0.rangeStep(new At(l),new At(c).sub(new At(.99).mul(f)),f)),[c]);return n>a?lm(h):h}var AU=L_(OU),MU=L_(PU),CU="Invariant failed";function Vi(e,t){throw new Error(CU)}var EU=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function el(e){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},el(e)}function zd(){return zd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zd.apply(this,arguments)}function TU(e,t){return LU(e)||RU(e,t)||DU(e,t)||$U()}function $U(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DU(e,t){if(e){if(typeof e=="string")return Ow(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ow(e,t)}}function Ow(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function RU(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function LU(e){if(Array.isArray(e))return e}function IU(e,t){if(e==null)return{};var r=BU(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function BU(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function FU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,G_(n.key),n)}}function UU(e,t,r){return t&&zU(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function WU(e,t,r){return t=Ud(t),GU(e,U_()?Reflect.construct(t,r||[],Ud(e).constructor):t.apply(e,r))}function GU(e,t){if(t&&(el(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HU(e)}function HU(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U_=function(){return!!e})()}function Ud(e){return Ud=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ud(e)}function VU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fm(e,t)}function fm(e,t){return fm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},fm(e,t)}function W_(e,t,r){return t=G_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G_(e){var t=XU(e,"string");return el(t)=="symbol"?t:t+""}function XU(e,t){if(el(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(el(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Tl=function(e){function t(){return FU(this,t),WU(this,t,arguments)}return VU(t,e),UU(t,[{key:"render",value:function(){var n=this.props,a=n.offset,o=n.layout,i=n.width,s=n.dataKey,l=n.data,c=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=IU(n,EU),p=We(h,!1);this.props.direction==="x"&&d.type!=="number"&&Vi();var m=l.map(function(v){var k=c(v,s),y=k.x,g=k.y,x=k.value,j=k.errorVal;if(!j)return null;var b=[],w,N;if(Array.isArray(j)){var _=TU(j,2);w=_[0],N=_[1]}else w=N=j;if(o==="vertical"){var O=d.scale,P=g+a,M=P+i,C=P-i,$=O(x-w),F=O(x+N);b.push({x1:F,y1:M,x2:F,y2:C}),b.push({x1:$,y1:P,x2:F,y2:P}),b.push({x1:$,y1:M,x2:$,y2:C})}else if(o==="horizontal"){var T=f.scale,U=y+a,A=U-i,E=U+i,D=T(x-w),G=T(x+N);b.push({x1:A,y1:G,x2:E,y2:G}),b.push({x1:U,y1:D,x2:U,y2:G}),b.push({x1:A,y1:D,x2:E,y2:D})}return I.createElement(ht,zd({className:"recharts-errorBar",key:"bar-".concat(b.map(function(Z){return"".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))},p),b.map(function(Z){return I.createElement("line",zd({},Z,{key:"line-".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))}))});return I.createElement(ht,{className:"recharts-errorBars"},m)}}])}(I.Component);W_(Tl,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});W_(Tl,"displayName","ErrorBar");function nu(e){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nu(e)}function Pw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pw(Object(r),!0).forEach(function(n){KU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KU(e,t,r){return t=YU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YU(e){var t=qU(e,"string");return nu(t)=="symbol"?t:t+""}function qU(e,t){if(nu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var H_=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,o=t.legendContent,i=Zn(r,Va);if(!i)return null;var s=Va.defaultProps,l=s!==void 0?mi(mi({},s),i.props):{},c;return i.props&&i.props.payload?c=i.props&&i.props.payload:o==="children"?c=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,m=p.sectors||p.data||[];return d.concat(m.map(function(v){return{type:i.props.iconType||h.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):c=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?mi(mi({},h),f.props):{},m=p.dataKey,v=p.name,k=p.legendType,y=p.hide;return{inactive:y,dataKey:m,type:l.iconType||k||"square",color:Hv(f),value:v||m,payload:p}}),mi(mi(mi({},l),Va.getWithHeight(i,a)),{},{payload:c,item:i})};function au(e){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},au(e)}function Aw(e){return eW(e)||JU(e)||QU(e)||ZU()}function ZU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QU(e,t){if(e){if(typeof e=="string")return dm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dm(e,t)}}function JU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eW(e){if(Array.isArray(e))return dm(e)}function dm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Mw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mw(Object(r),!0).forEach(function(n){Ls(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ls(e,t,r){return t=tW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tW(e){var t=rW(e,"string");return au(t)=="symbol"?t:t+""}function rW(e,t){if(au(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lr(e,t,r){return Fe(e)||Fe(t)?r:Rr(t)?ma(e,t,r):Ge(t)?t(e):r}function xc(e,t,r,n){var a=J7(e,function(s){return Lr(s,t)});if(r==="number"){var o=a.filter(function(s){return de(s)||parseFloat(s)});return o.length?[c0(o),Uo(o)]:[1/0,-1/0]}var i=n?a.filter(function(s){return!Fe(s)}):a;return i.map(function(s){return Rr(s)||s instanceof Date?s:""})}var nW=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,c=0;c<s;c++){var d=c>0?a[c-1].coordinate:a[s-1].coordinate,f=a[c].coordinate,h=c>=s-1?a[0].coordinate:a[c+1].coordinate,p=void 0;if(Ca(f-d)!==Ca(h-f)){var m=[];if(Ca(h-f)===Ca(l[1]-l[0])){p=h;var v=f+l[1]-l[0];m[0]=Math.min(v,(v+d)/2),m[1]=Math.max(v,(v+d)/2)}else{p=d;var k=h+l[1]-l[0];m[0]=Math.min(f,(k+f)/2),m[1]=Math.max(f,(k+f)/2)}var y=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>y[0]&&t<=y[1]||t>=m[0]&&t<=m[1]){i=a[c].index;break}}else{var g=Math.min(d,h),x=Math.max(d,h);if(t>(g+f)/2&&t<=(x+f)/2){i=a[c].index;break}}}else for(var j=0;j<s;j++)if(j===0&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j>0&&j<s-1&&t>(n[j].coordinate+n[j-1].coordinate)/2&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j===s-1&&t>(n[j].coordinate+n[j-1].coordinate)/2){i=n[j].index;break}return i},Hv=function(t){var r,n=t,a=n.type.displayName,o=(r=t.type)!==null&&r!==void 0&&r.defaultProps?dr(dr({},t.type.defaultProps),t.props):t.props,i=o.stroke,s=o.fill,l;switch(a){case"Line":l=i;break;case"Area":case"Radar":l=i&&i!=="none"?i:s;break;default:l=s;break}return l},aW=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,o=a===void 0?{}:a;if(!o)return{};for(var i={},s=Object.keys(o),l=0,c=s.length;l<c;l++)for(var d=o[s[l]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var m=d[f[h]],v=m.items,k=m.cateAxisId,y=v.filter(function(N){return go(N.type).indexOf("Bar")>=0});if(y&&y.length){var g=y[0].type.defaultProps,x=g!==void 0?dr(dr({},g),y[0].props):y[0].props,j=x.barSize,b=x[k];i[b]||(i[b]=[]);var w=Fe(j)?r:j;i[b].push({item:y[0],stackList:y.slice(1),barSize:Fe(w)?void 0:Wi(w,n,0)})}}return i},oW=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,o=t.sizeList,i=o===void 0?[]:o,s=t.maxBarSize,l=i.length;if(l<1)return null;var c=Wi(r,a,0,!0),d,f=[];if(i[0].barSize===+i[0].barSize){var h=!1,p=a/l,m=i.reduce(function(j,b){return j+b.barSize||0},0);m+=(l-1)*c,m>=a&&(m-=(l-1)*c,c=0),m>=a&&p>0&&(h=!0,p*=.9,m=l*p);var v=(a-m)/2>>0,k={offset:v-c,size:0};d=i.reduce(function(j,b){var w={item:b.item,position:{offset:k.offset+k.size+c,size:h?p:b.barSize}},N=[].concat(Aw(j),[w]);return k=N[N.length-1].position,b.stackList&&b.stackList.length&&b.stackList.forEach(function(_){N.push({item:_,position:k})}),N},f)}else{var y=Wi(n,a,0,!0);a-2*y-(l-1)*c<=0&&(c=0);var g=(a-2*y-(l-1)*c)/l;g>1&&(g>>=0);var x=s===+s?Math.min(g,s):g;d=i.reduce(function(j,b,w){var N=[].concat(Aw(j),[{item:b.item,position:{offset:y+(g+c)*w+(g-x)/2,size:x}}]);return b.stackList&&b.stackList.length&&b.stackList.forEach(function(_){N.push({item:_,position:N[N.length-1].position})}),N},f)}return d},iW=function(t,r,n,a){var o=n.children,i=n.width,s=n.margin,l=i-(s.left||0)-(s.right||0),c=H_({children:o,legendWidth:l});if(c){var d=a||{},f=d.width,h=d.height,p=c.align,m=c.verticalAlign,v=c.layout;if((v==="vertical"||v==="horizontal"&&m==="middle")&&p!=="center"&&de(t[p]))return dr(dr({},t),{},Ls({},p,t[p]+(f||0)));if((v==="horizontal"||v==="vertical"&&p==="center")&&m!=="middle"&&de(t[m]))return dr(dr({},t),{},Ls({},m,t[m]+(h||0)))}return t},sW=function(t,r,n){return Fe(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},V_=function(t,r,n,a,o){var i=r.props.children,s=Fn(i,Tl).filter(function(c){return sW(a,o,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return t.reduce(function(c,d){var f=Lr(d,n);if(Fe(f))return c;var h=Array.isArray(f)?[c0(f),Uo(f)]:[f,f],p=l.reduce(function(m,v){var k=Lr(d,v,0),y=h[0]-Math.abs(Array.isArray(k)?k[0]:k),g=h[1]+Math.abs(Array.isArray(k)?k[1]:k);return[Math.min(y,m[0]),Math.max(g,m[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},lW=function(t,r,n,a,o){var i=r.map(function(s){return V_(t,s,n,o,a)}).filter(function(s){return!Fe(s)});return i&&i.length?i.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},X_=function(t,r,n,a,o){var i=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&V_(t,l,c,a)||xc(t,c,n,o)});if(n==="number")return i.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return i.reduce(function(l,c){for(var d=0,f=c.length;d<f;d++)s[c[d]]||(s[c[d]]=!0,l.push(c[d]));return l},[])},K_=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},Y_=function(t,r,n,a){if(a)return t.map(function(l){return l.coordinate});var o,i,s=t.map(function(l){return l.coordinate===r&&(o=!0),l.coordinate===n&&(i=!0),l.coordinate});return o||s.push(r),i||s.push(n),s},ho=function(t,r,n){if(!t)return null;var a=t.scale,o=t.duplicateDomain,i=t.type,s=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,c=(r||n)&&i==="category"&&a.bandwidth?a.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Ca(s[0]-s[1])*2*c:c,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:a(h)+c,value:f,offset:c}});return d.filter(function(f){return!_l(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+c,value:f,index:h,offset:c}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+c,value:f,offset:c}}):a.domain().map(function(f,h){return{coordinate:a(f)+c,value:o?o[f]:f,index:h,offset:c}})},vp=new WeakMap,kf=function(t,r){if(typeof r!="function")return t;vp.has(t)||vp.set(t,new WeakMap);var n=vp.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},cW=function(t,r,n){var a=t.scale,o=t.type,i=t.layout,s=t.axisType;if(a==="auto")return i==="radial"&&s==="radiusAxis"?{scale:qc(),realScaleType:"band"}:i==="radial"&&s==="angleAxis"?{scale:Rd(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:vc(),realScaleType:"point"}:o==="category"?{scale:qc(),realScaleType:"band"}:{scale:Rd(),realScaleType:"linear"};if(Ui(a)){var l="scale".concat(Yh(a));return{scale:(jw[l]||vc)(),realScaleType:jw[l]?l:"point"}}return Ge(a)?{scale:a}:{scale:vc(),realScaleType:"point"}},Cw=1e-4,uW=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),o=Math.min(a[0],a[1])-Cw,i=Math.max(a[0],a[1])+Cw,s=t(r[0]),l=t(r[n-1]);(s<o||s>i||l<o||l>i)&&t.domain([r[0],r[n-1]])}},fW=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},dW=function(t,r){if(!r||r.length!==2||!de(r[0])||!de(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),o=[t[0],t[1]];return(!de(t[0])||t[0]<n)&&(o[0]=n),(!de(t[1])||t[1]>a)&&(o[1]=a),o[0]>a&&(o[0]=a),o[1]<n&&(o[1]=n),o},hW=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var o=0,i=0,s=0;s<r;++s){var l=_l(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=o,t[s][n][1]=o+l,o=t[s][n][1]):(t[s][n][0]=i,t[s][n][1]=i+l,i=t[s][n][1])}},pW=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var o=0,i=0;i<r;++i){var s=_l(t[i][n][1])?t[i][n][0]:t[i][n][1];s>=0?(t[i][n][0]=o,t[i][n][1]=o+s,o=t[i][n][1]):(t[i][n][0]=0,t[i][n][1]=0)}},gW={sign:hW,expand:M4,none:Vs,silhouette:C4,wiggle:E4,positive:pW},mW=function(t,r,n){var a=r.map(function(s){return s.props.dataKey}),o=gW[n],i=A4().keys(a).value(function(s,l){return+Lr(s,l,0)}).order(Lg).offset(o);return i(t)},yW=function(t,r,n,a,o,i){if(!t)return null;var s=i?r.reverse():r,l={},c=s.reduce(function(f,h){var p,m=(p=h.type)!==null&&p!==void 0&&p.defaultProps?dr(dr({},h.type.defaultProps),h.props):h.props,v=m.stackId,k=m.hide;if(k)return f;var y=m[n],g=f[y]||{hasStack:!1,stackGroups:{}};if(Rr(v)){var x=g.stackGroups[v]||{numericAxisId:n,cateAxisId:a,items:[]};x.items.push(h),g.hasStack=!0,g.stackGroups[v]=x}else g.stackGroups[Qi("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return dr(dr({},f),{},Ls({},y,g))},l),d={};return Object.keys(c).reduce(function(f,h){var p=c[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(v,k){var y=p.stackGroups[k];return dr(dr({},v),{},Ls({},k,{numericAxisId:n,cateAxisId:a,items:y.items,stackedData:mW(t,y.items,o)}))},m)}return dr(dr({},f),{},Ls({},h,p))},d)},vW=function(t,r){var n=r.realScaleType,a=r.type,o=r.tickCount,i=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&a==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var c=t.domain();if(!c.length)return null;var d=AU(c,o,s);return t.domain([c0(d),Uo(d)]),{niceTicks:d}}if(o&&a==="number"){var f=t.domain(),h=MU(f,o,s);return{niceTicks:h}}return null};function tl(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,o=e.index,i=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Fe(a[t.dataKey])){var s=hd(r,"value",a[t.dataKey]);if(s)return s.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var l=Lr(a,Fe(i)?t.dataKey:i);return Fe(l)?null:t.scale(l)}var Ew=function(t){var r=t.axis,n=t.ticks,a=t.offset,o=t.bandSize,i=t.entry,s=t.index;if(r.type==="category")return n[s]?n[s].coordinate+a:null;var l=Lr(i,r.dataKey,r.domain[s]);return Fe(l)?null:r.scale(l)-o/2+a},xW=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return a<=0&&o>=0?0:o<0?o:a}return n[0]},bW=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?dr(dr({},t.type.defaultProps),t.props):t.props,o=a.stackId;if(Rr(o)){var i=r[o];if(i){var s=i.items.indexOf(t);return s>=0?i.stackedData[s]:null}}return null},wW=function(t){return t.reduce(function(r,n){return[c0(n.concat([r[0]]).filter(de)),Uo(n.concat([r[1]]).filter(de))]},[1/0,-1/0])},q_=function(t,r,n){return Object.keys(t).reduce(function(a,o){var i=t[o],s=i.stackedData,l=s.reduce(function(c,d){var f=wW(d.slice(r,n+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},Tw=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$w=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hm=function(t,r,n){if(Ge(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(de(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(Tw.test(t[0])){var o=+Tw.exec(t[0])[1];a[0]=r[0]-o}else Ge(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(de(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if($w.test(t[1])){var i=+$w.exec(t[1])[1];a[1]=r[1]+i}else Ge(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Wd=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var o=vv(r,function(f){return f.coordinate}),i=1/0,s=1,l=o.length;s<l;s++){var c=o[s],d=o[s-1];i=Math.min((c.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},Dw=function(t,r,n){return!t||!t.length||Gi(t,ma(n,"type.defaultProps.domain"))?r:t},Z_=function(t,r){var n=t.type.defaultProps?dr(dr({},t.type.defaultProps),t.props):t.props,a=n.dataKey,o=n.name,i=n.unit,s=n.formatter,l=n.tooltipType,c=n.chartType,d=n.hide;return dr(dr({},We(t,!1)),{},{dataKey:a,unit:i,formatter:s,name:o||a,color:Hv(t),value:Lr(r,a),type:l,payload:r,chartType:c,hide:d})};function ou(e){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ou(e)}function Rw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rw(Object(r),!0).forEach(function(n){kW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kW(e,t,r){return t=jW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jW(e){var t=SW(e,"string");return ou(t)=="symbol"?t:t+""}function SW(e,t){if(ou(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ou(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gd=Math.PI/180,NW=function(t){return t*180/Math.PI},Qr=function(t,r,n,a){return{x:t+Math.cos(-Gd*a)*n,y:r+Math.sin(-Gd*a)*n}},_W=function(t,r){var n=t.x,a=t.y,o=r.x,i=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(a-i,2))},OW=function(t,r){var n=t.x,a=t.y,o=r.cx,i=r.cy,s=_W({x:n,y:a},{x:o,y:i});if(s<=0)return{radius:s};var l=(n-o)/s,c=Math.acos(l);return a>i&&(c=2*Math.PI-c),{radius:s,angle:NW(c),angleInRadian:c}},PW=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),o=Math.floor(n/360),i=Math.min(a,o);return{startAngle:r-i*360,endAngle:n-i*360}},AW=function(t,r){var n=r.startAngle,a=r.endAngle,o=Math.floor(n/360),i=Math.floor(a/360),s=Math.min(o,i);return t+s*360},Iw=function(t,r){var n=t.x,a=t.y,o=OW({x:n,y:a},r),i=o.radius,s=o.angle,l=r.innerRadius,c=r.outerRadius;if(i<l||i>c)return!1;if(i===0)return!0;var d=PW(r),f=d.startAngle,h=d.endAngle,p=s,m;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}return m?Lw(Lw({},r),{},{radius:i,angle:AW(p,r)}):null};function iu(e){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iu(e)}var MW=["offset"];function CW(e){return DW(e)||$W(e)||TW(e)||EW()}function EW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TW(e,t){if(e){if(typeof e=="string")return pm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pm(e,t)}}function $W(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DW(e){if(Array.isArray(e))return pm(e)}function pm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function RW(e,t){if(e==null)return{};var r=LW(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Bw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bw(Object(r),!0).forEach(function(n){IW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IW(e,t,r){return t=BW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BW(e){var t=FW(e,"string");return iu(t)=="symbol"?t:t+""}function FW(e,t){if(iu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function su(){return su=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},su.apply(this,arguments)}var zW=function(t){var r=t.value,n=t.formatter,a=Fe(t.children)?r:t.children;return Ge(n)?n(a):a},UW=function(t,r){var n=Ca(r-t),a=Math.min(Math.abs(r-t),360);return n*a},WW=function(t,r,n){var a=t.position,o=t.viewBox,i=t.offset,s=t.className,l=o,c=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,m=l.endAngle,v=l.clockWise,k=(f+h)/2,y=UW(p,m),g=y>=0?1:-1,x,j;a==="insideStart"?(x=p+g*i,j=v):a==="insideEnd"?(x=m-g*i,j=!v):a==="end"&&(x=m+g*i,j=v),j=y<=0?j:!j;var b=Qr(c,d,k,x),w=Qr(c,d,k,x+(j?1:-1)*359),N="M".concat(b.x,",").concat(b.y,`
    A`).concat(k,",").concat(k,",0,1,").concat(j?0:1,`,
    `).concat(w.x,",").concat(w.y),_=Fe(t.id)?Qi("recharts-radial-line-"):t.id;return I.createElement("text",su({},n,{dominantBaseline:"central",className:at("recharts-radial-bar-label",s)}),I.createElement("defs",null,I.createElement("path",{id:_,d:N})),I.createElement("textPath",{xlinkHref:"#".concat(_)},r))},GW=function(t){var r=t.viewBox,n=t.offset,a=t.position,o=r,i=o.cx,s=o.cy,l=o.innerRadius,c=o.outerRadius,d=o.startAngle,f=o.endAngle,h=(d+f)/2;if(a==="outside"){var p=Qr(i,s,c+n,h),m=p.x,v=p.y;return{x:m,y:v,textAnchor:m>=i?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"end"};var k=(l+c)/2,y=Qr(i,s,k,h),g=y.x,x=y.y;return{x:g,y:x,textAnchor:"middle",verticalAnchor:"middle"}},HW=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,o=t.position,i=r,s=i.x,l=i.y,c=i.width,d=i.height,f=d>=0?1:-1,h=f*a,p=f>0?"end":"start",m=f>0?"start":"end",v=c>=0?1:-1,k=v*a,y=v>0?"end":"start",g=v>0?"start":"end";if(o==="top"){var x={x:s+c/2,y:l-f*a,textAnchor:"middle",verticalAnchor:p};return Tr(Tr({},x),n?{height:Math.max(l-n.y,0),width:c}:{})}if(o==="bottom"){var j={x:s+c/2,y:l+d+h,textAnchor:"middle",verticalAnchor:m};return Tr(Tr({},j),n?{height:Math.max(n.y+n.height-(l+d),0),width:c}:{})}if(o==="left"){var b={x:s-k,y:l+d/2,textAnchor:y,verticalAnchor:"middle"};return Tr(Tr({},b),n?{width:Math.max(b.x-n.x,0),height:d}:{})}if(o==="right"){var w={x:s+c+k,y:l+d/2,textAnchor:g,verticalAnchor:"middle"};return Tr(Tr({},w),n?{width:Math.max(n.x+n.width-w.x,0),height:d}:{})}var N=n?{width:c,height:d}:{};return o==="insideLeft"?Tr({x:s+k,y:l+d/2,textAnchor:g,verticalAnchor:"middle"},N):o==="insideRight"?Tr({x:s+c-k,y:l+d/2,textAnchor:y,verticalAnchor:"middle"},N):o==="insideTop"?Tr({x:s+c/2,y:l+h,textAnchor:"middle",verticalAnchor:m},N):o==="insideBottom"?Tr({x:s+c/2,y:l+d-h,textAnchor:"middle",verticalAnchor:p},N):o==="insideTopLeft"?Tr({x:s+k,y:l+h,textAnchor:g,verticalAnchor:m},N):o==="insideTopRight"?Tr({x:s+c-k,y:l+h,textAnchor:y,verticalAnchor:m},N):o==="insideBottomLeft"?Tr({x:s+k,y:l+d-h,textAnchor:g,verticalAnchor:p},N):o==="insideBottomRight"?Tr({x:s+c-k,y:l+d-h,textAnchor:y,verticalAnchor:p},N):kl(o)&&(de(o.x)||Oi(o.x))&&(de(o.y)||Oi(o.y))?Tr({x:s+Wi(o.x,c),y:l+Wi(o.y,d),textAnchor:"end",verticalAnchor:"end"},N):Tr({x:s+c/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},N)},VW=function(t){return"cx"in t&&de(t.cx)};function Zr(e){var t=e.offset,r=t===void 0?5:t,n=RW(e,MW),a=Tr({offset:r},n),o=a.viewBox,i=a.position,s=a.value,l=a.children,c=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!o||Fe(s)&&Fe(l)&&!S.isValidElement(c)&&!Ge(c))return null;if(S.isValidElement(c))return S.cloneElement(c,a);var p;if(Ge(c)){if(p=S.createElement(c,a),S.isValidElement(p))return p}else p=zW(a);var m=VW(o),v=We(a,!0);if(m&&(i==="insideStart"||i==="insideEnd"||i==="end"))return WW(a,p,v);var k=m?GW(a):HW(a);return I.createElement(Pd,su({className:at("recharts-label",f)},v,k,{breakAll:h}),p)}Zr.displayName="Label";var Q_=function(t){var r=t.cx,n=t.cy,a=t.angle,o=t.startAngle,i=t.endAngle,s=t.r,l=t.radius,c=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,m=t.left,v=t.width,k=t.height,y=t.clockWise,g=t.labelViewBox;if(g)return g;if(de(v)&&de(k)){if(de(f)&&de(h))return{x:f,y:h,width:v,height:k};if(de(p)&&de(m))return{x:p,y:m,width:v,height:k}}return de(f)&&de(h)?{x:f,y:h,width:0,height:0}:de(r)&&de(n)?{cx:r,cy:n,startAngle:o||a||0,endAngle:i||a||0,innerRadius:c||0,outerRadius:d||l||s||0,clockWise:y}:t.viewBox?t.viewBox:{}},XW=function(t,r){return t?t===!0?I.createElement(Zr,{key:"label-implicit",viewBox:r}):Rr(t)?I.createElement(Zr,{key:"label-implicit",viewBox:r,value:t}):S.isValidElement(t)?t.type===Zr?S.cloneElement(t,{key:"label-implicit",viewBox:r}):I.createElement(Zr,{key:"label-implicit",content:t,viewBox:r}):Ge(t)?I.createElement(Zr,{key:"label-implicit",content:t,viewBox:r}):kl(t)?I.createElement(Zr,su({viewBox:r},t,{key:"label-implicit"})):null:null},KW=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,o=Q_(t),i=Fn(a,Zr).map(function(l,c){return S.cloneElement(l,{viewBox:r||o,key:"label-".concat(c)})});if(!n)return i;var s=XW(t.label,r||o);return[s].concat(CW(i))};Zr.parseViewBox=Q_;Zr.renderCallByParent=KW;function YW(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var qW=YW;const ZW=$t(qW);function lu(e){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lu(e)}var QW=["valueAccessor"],JW=["data","dataKey","clockWise","id","textBreakAll"];function eG(e){return aG(e)||nG(e)||rG(e)||tG()}function tG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rG(e,t){if(e){if(typeof e=="string")return gm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gm(e,t)}}function nG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aG(e){if(Array.isArray(e))return gm(e)}function gm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hd(){return Hd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hd.apply(this,arguments)}function Fw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fw(Object(r),!0).forEach(function(n){oG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oG(e,t,r){return t=iG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iG(e){var t=sG(e,"string");return lu(t)=="symbol"?t:t+""}function sG(e,t){if(lu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uw(e,t){if(e==null)return{};var r=lG(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var cG=function(t){return Array.isArray(t.value)?ZW(t.value):t.value};function Ka(e){var t=e.valueAccessor,r=t===void 0?cG:t,n=Uw(e,QW),a=n.data,o=n.dataKey,i=n.clockWise,s=n.id,l=n.textBreakAll,c=Uw(n,JW);return!a||!a.length?null:I.createElement(ht,{className:"recharts-label-list"},a.map(function(d,f){var h=Fe(o)?r(d,f):Lr(d&&d.payload,o),p=Fe(s)?{}:{id:"".concat(s,"-").concat(f)};return I.createElement(Zr,Hd({},We(d,!0),c,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:Zr.parseViewBox(Fe(i)?d:zw(zw({},d),{},{clockWise:i})),key:"label-".concat(f),index:f}))}))}Ka.displayName="LabelList";function uG(e,t){return e?e===!0?I.createElement(Ka,{key:"labelList-implicit",data:t}):I.isValidElement(e)||Ge(e)?I.createElement(Ka,{key:"labelList-implicit",data:t,content:e}):kl(e)?I.createElement(Ka,Hd({data:t},e,{key:"labelList-implicit"})):null:null}function fG(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Fn(n,Ka).map(function(i,s){return S.cloneElement(i,{data:t,key:"labelList-".concat(s)})});if(!r)return a;var o=uG(e.label,t);return[o].concat(eG(a))}Ka.renderCallByParent=fG;function cu(e){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cu(e)}function mm(){return mm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mm.apply(this,arguments)}function Ww(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ww(Object(r),!0).forEach(function(n){dG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ww(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dG(e,t,r){return t=hG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hG(e){var t=pG(e,"string");return cu(t)=="symbol"?t:t+""}function pG(e,t){if(cu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gG=function(t,r){var n=Ca(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},jf=function(t){var r=t.cx,n=t.cy,a=t.radius,o=t.angle,i=t.sign,s=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,d=l*(s?1:-1)+a,f=Math.asin(l/d)/Gd,h=c?o:o+i*f,p=Qr(r,n,d,h),m=Qr(r,n,a,h),v=c?o-i*f:o,k=Qr(r,n,d*Math.cos(f*Gd),v);return{center:p,circleTangency:m,lineTangency:k,theta:f}},J_=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,i=t.startAngle,s=t.endAngle,l=gG(i,s),c=i+l,d=Qr(r,n,o,i),f=Qr(r,n,o,c),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=Qr(r,n,a,i),m=Qr(r,n,a,c);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},mG=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,i=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,d=t.endAngle,f=Ca(d-c),h=jf({cx:r,cy:n,radius:o,angle:c,sign:f,cornerRadius:i,cornerIsExternal:l}),p=h.circleTangency,m=h.lineTangency,v=h.theta,k=jf({cx:r,cy:n,radius:o,angle:d,sign:-f,cornerRadius:i,cornerIsExternal:l}),y=k.circleTangency,g=k.lineTangency,x=k.theta,j=l?Math.abs(c-d):Math.abs(c-d)-v-x;if(j<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):J_({cx:r,cy:n,innerRadius:a,outerRadius:o,startAngle:c,endAngle:d});var b="M ".concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(j>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
  `);if(a>0){var w=jf({cx:r,cy:n,radius:a,angle:c,sign:f,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),N=w.circleTangency,_=w.lineTangency,O=w.theta,P=jf({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),M=P.circleTangency,C=P.lineTangency,$=P.theta,F=l?Math.abs(c-d):Math.abs(c-d)-O-$;if(F<0&&i===0)return"".concat(b,"L").concat(r,",").concat(n,"Z");b+="L".concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(F>180),",").concat(+(f>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,"Z")}else b+="L".concat(r,",").concat(n,"Z");return b},yG={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},eO=function(t){var r=Gw(Gw({},yG),t),n=r.cx,a=r.cy,o=r.innerRadius,i=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(i<o||d===f)return null;var p=at("recharts-sector",h),m=i-o,v=Wi(s,m,0,!0),k;return v>0&&Math.abs(d-f)<360?k=mG({cx:n,cy:a,innerRadius:o,outerRadius:i,cornerRadius:Math.min(v,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}):k=J_({cx:n,cy:a,innerRadius:o,outerRadius:i,startAngle:d,endAngle:f}),I.createElement("path",mm({},We(r,!0),{className:p,d:k,role:"img"}))};function uu(e){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uu(e)}function ym(){return ym=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ym.apply(this,arguments)}function Hw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hw(Object(r),!0).forEach(function(n){vG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vG(e,t,r){return t=xG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xG(e){var t=bG(e,"string");return uu(t)=="symbol"?t:t+""}function bG(e,t){if(uu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xw={curveBasisClosed:v4,curveBasisOpen:x4,curveBasis:y4,curveBumpX:n4,curveBumpY:a4,curveLinearClosed:b4,curveLinear:Zh,curveMonotoneX:w4,curveMonotoneY:k4,curveNatural:j4,curveStep:S4,curveStepAfter:_4,curveStepBefore:N4},Sf=function(t){return t.x===+t.x&&t.y===+t.y},Jl=function(t){return t.x},ec=function(t){return t.y},wG=function(t,r){if(Ge(t))return t;var n="curve".concat(Yh(t));return(n==="curveMonotone"||n==="curveBump")&&r?Xw["".concat(n).concat(r==="vertical"?"Y":"X")]:Xw[n]||Zh},kG=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,o=a===void 0?[]:a,i=t.baseLine,s=t.layout,l=t.connectNulls,c=l===void 0?!1:l,d=wG(n,s),f=c?o.filter(function(v){return Sf(v)}):o,h;if(Array.isArray(i)){var p=c?i.filter(function(v){return Sf(v)}):i,m=f.map(function(v,k){return Vw(Vw({},v),{},{base:p[k]})});return s==="vertical"?h=pf().y(ec).x1(Jl).x0(function(v){return v.base.x}):h=pf().x(Jl).y1(ec).y0(function(v){return v.base.y}),h.defined(Sf).curve(d),h(m)}return s==="vertical"&&de(i)?h=pf().y(ec).x1(Jl).x0(i):de(i)?h=pf().x(Jl).y1(ec).y0(i):h=rN().x(Jl).y(ec),h.defined(Sf).curve(d),h(f)},Ri=function(t){var r=t.className,n=t.points,a=t.path,o=t.pathRef;if((!n||!n.length)&&!a)return null;var i=n&&n.length?kG(t):a;return S.createElement("path",ym({},We(t,!1),pd(t),{className:at("recharts-curve",r),d:i,ref:o}))},tO={exports:{}},jG="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",SG=jG,NG=SG;function rO(){}function nO(){}nO.resetWarningCache=rO;var _G=function(){function e(n,a,o,i,s,l){if(l!==NG){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:nO,resetWarningCache:rO};return r.PropTypes=r,r};tO.exports=_G();var OG=tO.exports;const wt=$t(OG),{getOwnPropertyNames:PG,getOwnPropertySymbols:AG}=Object,{hasOwnProperty:MG}=Object.prototype;function xp(e,t){return function(n,a,o){return e(n,a,o)&&t(n,a,o)}}function Nf(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);const{cache:o}=a,i=o.get(r),s=o.get(n);if(i&&s)return i===n&&s===r;o.set(r,n),o.set(n,r);const l=e(r,n,a);return o.delete(r),o.delete(n),l}}function CG(e){return e!=null?e[Symbol.toStringTag]:void 0}function Kw(e){return PG(e).concat(AG(e))}const EG=Object.hasOwn||((e,t)=>MG.call(e,t));function ts(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const TG="__v",$G="__o",DG="_owner",{getOwnPropertyDescriptor:Yw,keys:qw}=Object;function RG(e,t){return e.byteLength===t.byteLength&&Vd(new Uint8Array(e),new Uint8Array(t))}function LG(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function IG(e,t){return e.byteLength===t.byteLength&&Vd(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function BG(e,t){return ts(e.getTime(),t.getTime())}function FG(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function zG(e,t){return e===t}function Zw(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),o=e.entries();let i,s,l=0;for(;(i=o.next())&&!i.done;){const c=t.entries();let d=!1,f=0;for(;(s=c.next())&&!s.done;){if(a[f]){f++;continue}const h=i.value,p=s.value;if(r.equals(h[0],p[0],l,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;l++}return!0}const UG=ts;function WG(e,t,r){const n=qw(e);let a=n.length;if(qw(t).length!==a)return!1;for(;a-- >0;)if(!aO(e,t,r,n[a]))return!1;return!0}function tc(e,t,r){const n=Kw(e);let a=n.length;if(Kw(t).length!==a)return!1;let o,i,s;for(;a-- >0;)if(o=n[a],!aO(e,t,r,o)||(i=Yw(e,o),s=Yw(t,o),(i||s)&&(!i||!s||i.configurable!==s.configurable||i.enumerable!==s.enumerable||i.writable!==s.writable)))return!1;return!0}function GG(e,t){return ts(e.valueOf(),t.valueOf())}function HG(e,t){return e.source===t.source&&e.flags===t.flags}function Qw(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),o=e.values();let i,s;for(;(i=o.next())&&!i.done;){const l=t.values();let c=!1,d=0;for(;(s=l.next())&&!s.done;){if(!a[d]&&r.equals(i.value,s.value,i.value,s.value,e,t,r)){c=a[d]=!0;break}d++}if(!c)return!1}return!0}function Vd(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function VG(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function aO(e,t,r,n){return(n===DG||n===$G||n===TG)&&(e.$$typeof||t.$$typeof)?!0:EG(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const XG="[object ArrayBuffer]",KG="[object Arguments]",YG="[object Boolean]",qG="[object DataView]",ZG="[object Date]",QG="[object Error]",JG="[object Map]",eH="[object Number]",tH="[object Object]",rH="[object RegExp]",nH="[object Set]",aH="[object String]",oH={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},iH="[object URL]",sH=Object.prototype.toString;function lH({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:a,areFunctionsEqual:o,areMapsEqual:i,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:m}){return function(k,y,g){if(k===y)return!0;if(k==null||y==null)return!1;const x=typeof k;if(x!==typeof y)return!1;if(x!=="object")return x==="number"?s(k,y,g):x==="function"?o(k,y,g):!1;const j=k.constructor;if(j!==y.constructor)return!1;if(j===Object)return l(k,y,g);if(Array.isArray(k))return t(k,y,g);if(j===Date)return n(k,y,g);if(j===RegExp)return d(k,y,g);if(j===Map)return i(k,y,g);if(j===Set)return f(k,y,g);const b=sH.call(k);if(b===ZG)return n(k,y,g);if(b===rH)return d(k,y,g);if(b===JG)return i(k,y,g);if(b===nH)return f(k,y,g);if(b===tH)return typeof k.then!="function"&&typeof y.then!="function"&&l(k,y,g);if(b===iH)return p(k,y,g);if(b===QG)return a(k,y,g);if(b===KG)return l(k,y,g);if(oH[b])return h(k,y,g);if(b===XG)return e(k,y,g);if(b===qG)return r(k,y,g);if(b===YG||b===eH||b===aH)return c(k,y,g);if(m){let w=m[b];if(!w){const N=CG(k);N&&(w=m[N])}if(w)return w(k,y,g)}return!1}}function cH({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:RG,areArraysEqual:r?tc:LG,areDataViewsEqual:IG,areDatesEqual:BG,areErrorsEqual:FG,areFunctionsEqual:zG,areMapsEqual:r?xp(Zw,tc):Zw,areNumbersEqual:UG,areObjectsEqual:r?tc:WG,arePrimitiveWrappersEqual:GG,areRegExpsEqual:HG,areSetsEqual:r?xp(Qw,tc):Qw,areTypedArraysEqual:r?xp(Vd,tc):Vd,areUrlsEqual:VG,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const a=Nf(n.areArraysEqual),o=Nf(n.areMapsEqual),i=Nf(n.areObjectsEqual),s=Nf(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:i,areSetsEqual:s})}return n}function uH(e){return function(t,r,n,a,o,i,s){return e(t,r,s)}}function fH({circular:e,comparator:t,createState:r,equals:n,strict:a}){if(r)return function(s,l){const{cache:c=e?new WeakMap:void 0,meta:d}=r();return t(s,l,{cache:c,equals:n,meta:d,strict:a})};if(e)return function(s,l){return t(s,l,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const o={cache:void 0,equals:n,meta:void 0,strict:a};return function(s,l){return t(s,l,o)}}const dH=di();di({strict:!0});di({circular:!0});di({circular:!0,strict:!0});di({createInternalComparator:()=>ts});di({strict:!0,createInternalComparator:()=>ts});di({circular:!0,createInternalComparator:()=>ts});di({circular:!0,createInternalComparator:()=>ts,strict:!0});function di(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:a=!1}=e,o=cH(e),i=lH(o),s=r?r(i):uH(i);return fH({circular:t,comparator:i,createState:n,equals:s,strict:a})}function hH(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function Jw(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(o){r<0&&(r=o),o-r>t?(e(o),r=-1):hH(a)};requestAnimationFrame(n)}function vm(e){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vm(e)}function pH(e){return vH(e)||yH(e)||mH(e)||gH()}function gH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mH(e,t){if(e){if(typeof e=="string")return e2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e2(e,t)}}function e2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vH(e){if(Array.isArray(e))return e}function xH(){var e={},t=function(){return null},r=!1,n=function a(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var i=o,s=pH(i),l=s[0],c=s.slice(1);if(typeof l=="number"){Jw(a.bind(null,c),l);return}a(l),Jw(a.bind(null,c));return}vm(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function fu(e){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fu(e)}function t2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function r2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t2(Object(r),!0).forEach(function(n){oO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oO(e,t,r){return t=bH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bH(e){var t=wH(e,"string");return fu(t)==="symbol"?t:String(t)}function wH(e,t){if(fu(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kH=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(o){return a.includes(o)})})},jH=function(t){return t},SH=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},bc=function(t,r){return Object.keys(r).reduce(function(n,a){return r2(r2({},n),{},oO({},a,t(a,r[a])))},{})},n2=function(t,r,n){return t.map(function(a){return"".concat(SH(a)," ").concat(r,"ms ").concat(n)}).join(",")};function NH(e,t){return PH(e)||OH(e,t)||iO(e,t)||_H()}function _H(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function PH(e){if(Array.isArray(e))return e}function AH(e){return EH(e)||CH(e)||iO(e)||MH()}function MH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iO(e,t){if(e){if(typeof e=="string")return xm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xm(e,t)}}function CH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function EH(e){if(Array.isArray(e))return xm(e)}function xm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Xd=1e-4,sO=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},lO=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},a2=function(t,r){return function(n){var a=sO(t,r);return lO(a,n)}},TH=function(t,r){return function(n){var a=sO(t,r),o=[].concat(AH(a.map(function(i,s){return i*s}).slice(1)),[0]);return lO(o,n)}},o2=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],o=r[1],i=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,o=0,i=1,s=1;break;case"ease":a=.25,o=.1,i=.25,s=1;break;case"ease-in":a=.42,o=0,i=1,s=1;break;case"ease-out":a=.42,o=0,i=.58,s=1;break;case"ease-in-out":a=0,o=0,i=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(k){return parseFloat(k)}),d=NH(c,4);a=d[0],o=d[1],i=d[2],s=d[3]}}}var f=a2(a,i),h=a2(o,s),p=TH(a,i),m=function(y){return y>1?1:y<0?0:y},v=function(y){for(var g=y>1?1:y,x=g,j=0;j<8;++j){var b=f(x)-g,w=p(x);if(Math.abs(b-g)<Xd||w<Xd)return h(x);x=m(x-b/w)}return h(x)};return v.isStepper=!1,v},$H=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,o=a===void 0?8:a,i=t.dt,s=i===void 0?17:i,l=function(d,f,h){var p=-(d-f)*n,m=h*o,v=h+(p-m)*s/1e3,k=h*s/1e3+d;return Math.abs(k-f)<Xd&&Math.abs(v)<Xd?[f,0]:[k,v]};return l.isStepper=!0,l.dt=s,l},DH=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return o2(a);case"spring":return $H();default:if(a.split("(")[0]==="cubic-bezier")return o2(a)}return typeof a=="function"?a:null};function du(e){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},du(e)}function i2(e){return IH(e)||LH(e)||cO(e)||RH()}function RH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function IH(e){if(Array.isArray(e))return wm(e)}function s2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s2(Object(r),!0).forEach(function(n){bm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bm(e,t,r){return t=BH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BH(e){var t=FH(e,"string");return du(t)==="symbol"?t:String(t)}function FH(e,t){if(du(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(du(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zH(e,t){return GH(e)||WH(e,t)||cO(e,t)||UH()}function UH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cO(e,t){if(e){if(typeof e=="string")return wm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wm(e,t)}}function wm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function WH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function GH(e){if(Array.isArray(e))return e}var Kd=function(t,r,n){return t+(r-t)*n},km=function(t){var r=t.from,n=t.to;return r!==n},HH=function e(t,r,n){var a=bc(function(o,i){if(km(i)){var s=t(i.from,i.to,i.velocity),l=zH(s,2),c=l[0],d=l[1];return Yr(Yr({},i),{},{from:c,velocity:d})}return i},r);return n<1?bc(function(o,i){return km(i)?Yr(Yr({},i),{},{velocity:Kd(i.velocity,a[o].velocity,n),from:Kd(i.from,a[o].from,n)}):i},r):e(t,a,n-1)};const VH=function(e,t,r,n,a){var o=kH(e,t),i=o.reduce(function(k,y){return Yr(Yr({},k),{},bm({},y,[e[y],t[y]]))},{}),s=o.reduce(function(k,y){return Yr(Yr({},k),{},bm({},y,{from:e[y],velocity:0,to:t[y]}))},{}),l=-1,c,d,f=function(){return null},h=function(){return bc(function(y,g){return g.from},s)},p=function(){return!Object.values(s).filter(km).length},m=function(y){c||(c=y);var g=y-c,x=g/r.dt;s=HH(r,s,x),a(Yr(Yr(Yr({},e),t),h())),c=y,p()||(l=requestAnimationFrame(f))},v=function(y){d||(d=y);var g=(y-d)/n,x=bc(function(b,w){return Kd.apply(void 0,i2(w).concat([r(g)]))},i);if(a(Yr(Yr(Yr({},e),t),x)),g<1)l=requestAnimationFrame(f);else{var j=bc(function(b,w){return Kd.apply(void 0,i2(w).concat([r(1)]))},i);a(Yr(Yr(Yr({},e),t),j))}};return f=r.isStepper?m:v,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function rl(e){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rl(e)}var XH=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function KH(e,t){if(e==null)return{};var r=YH(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function YH(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function bp(e){return JH(e)||QH(e)||ZH(e)||qH()}function qH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZH(e,t){if(e){if(typeof e=="string")return jm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jm(e,t)}}function QH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function JH(e){if(Array.isArray(e))return jm(e)}function jm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l2(Object(r),!0).forEach(function(n){sc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sc(e,t,r){return t=uO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uO(n.key),n)}}function rV(e,t,r){return t&&tV(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uO(e){var t=nV(e,"string");return rl(t)==="symbol"?t:String(t)}function nV(e,t){if(rl(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sm(e,t)}function Sm(e,t){return Sm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Sm(e,t)}function oV(e){var t=iV();return function(){var n=Yd(e),a;if(t){var o=Yd(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Nm(this,a)}}function Nm(e,t){if(t&&(rl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _m(e)}function _m(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iV(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Yd(e){return Yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yd(e)}var Da=function(e){aV(r,e);var t=oV(r);function r(n,a){var o;eV(this,r),o=t.call(this,n,a);var i=o.props,s=i.isActive,l=i.attributeName,c=i.from,d=i.to,f=i.steps,h=i.children,p=i.duration;if(o.handleStyleChange=o.handleStyleChange.bind(_m(o)),o.changeStyle=o.changeStyle.bind(_m(o)),!s||p<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:d}),Nm(o);if(f&&f.length)o.state={style:f[0].style};else if(c){if(typeof h=="function")return o.state={style:c},Nm(o);o.state={style:l?sc({},l,c):c}}else o.state={style:{}};return o}return rV(r,[{key:"componentDidMount",value:function(){var a=this.props,o=a.isActive,i=a.canBegin;this.mounted=!0,!(!o||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var o=this.props,i=o.isActive,s=o.canBegin,l=o.attributeName,c=o.shouldReAnimate,d=o.to,f=o.from,h=this.state.style;if(s){if(!i){var p={style:l?sc({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(p);return}if(!(dH(a.to,d)&&a.canBegin&&a.isActive)){var m=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=m||c?f:a.to;if(this.state&&h){var k={style:l?sc({},l,v):v};(l&&h[l]!==v||!l&&h!==v)&&this.setState(k)}this.runAnimation(Sa(Sa({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var o=this,i=a.from,s=a.to,l=a.duration,c=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=VH(i,s,DH(c),l,this.changeStyle),m=function(){o.stopJSAnimation=p()};this.manager.start([h,d,m,l,f])}},{key:"runStepAnimation",value:function(a){var o=this,i=a.steps,s=a.begin,l=a.onAnimationStart,c=i[0],d=c.style,f=c.duration,h=f===void 0?0:f,p=function(v,k,y){if(y===0)return v;var g=k.duration,x=k.easing,j=x===void 0?"ease":x,b=k.style,w=k.properties,N=k.onAnimationEnd,_=y>0?i[y-1]:k,O=w||Object.keys(b);if(typeof j=="function"||j==="spring")return[].concat(bp(v),[o.runJSAnimation.bind(o,{from:_.style,to:b,duration:g,easing:j}),g]);var P=n2(O,g,j),M=Sa(Sa(Sa({},_.style),b),{},{transition:P});return[].concat(bp(v),[M,g,N]).filter(jH)};return this.manager.start([l].concat(bp(i.reduce(p,[d,Math.max(h,s)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=xH());var o=a.begin,i=a.duration,s=a.attributeName,l=a.to,c=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var v=s?sc({},s,l):l,k=n2(Object.keys(v),i,c);m.start([d,o,Sa(Sa({},v),{},{transition:k}),i,f])}},{key:"render",value:function(){var a=this.props,o=a.children;a.begin;var i=a.duration;a.attributeName,a.easing;var s=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=KH(a,XH),c=S.Children.count(o),d=this.state.style;if(typeof o=="function")return o(d);if(!s||c===0||i<=0)return o;var f=function(p){var m=p.props,v=m.style,k=v===void 0?{}:v,y=m.className,g=S.cloneElement(p,Sa(Sa({},l),{},{style:Sa(Sa({},k),d),className:y}));return g};return c===1?f(S.Children.only(o)):I.createElement("div",null,S.Children.map(o,function(h){return f(h)}))}}]),r}(S.PureComponent);Da.displayName="Animate";Da.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Da.propTypes={from:wt.oneOfType([wt.object,wt.string]),to:wt.oneOfType([wt.object,wt.string]),attributeName:wt.string,duration:wt.number,begin:wt.number,easing:wt.oneOfType([wt.string,wt.func]),steps:wt.arrayOf(wt.shape({duration:wt.number.isRequired,style:wt.object.isRequired,easing:wt.oneOfType([wt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),wt.func]),properties:wt.arrayOf("string"),onAnimationEnd:wt.func})),children:wt.oneOfType([wt.node,wt.func]),isActive:wt.bool,canBegin:wt.bool,onAnimationEnd:wt.func,shouldReAnimate:wt.bool,onAnimationStart:wt.func,onAnimationReStart:wt.func};function hu(e){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hu(e)}function qd(){return qd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qd.apply(this,arguments)}function sV(e,t){return fV(e)||uV(e,t)||cV(e,t)||lV()}function lV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cV(e,t){if(e){if(typeof e=="string")return c2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c2(e,t)}}function c2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function fV(e){if(Array.isArray(e))return e}function u2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function f2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u2(Object(r),!0).forEach(function(n){dV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dV(e,t,r){return t=hV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hV(e){var t=pV(e,"string");return hu(t)=="symbol"?t:t+""}function pV(e,t){if(hu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var d2=function(t,r,n,a,o){var i=Math.min(Math.abs(n)/2,Math.abs(a)/2),s=a>=0?1:-1,l=n>=0?1:-1,c=a>=0&&n>=0||a<0&&n<0?1:0,d;if(i>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=o[h]>i?i:o[h];d="M".concat(t,",").concat(r+s*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(t+l*f[0],",").concat(r)),d+="L ".concat(t+n-l*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(r+s*f[1])),d+="L ".concat(t+n,",").concat(r+a-s*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(t+n-l*f[2],",").concat(r+a)),d+="L ".concat(t+l*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+a-s*f[3])),d+="Z"}else if(i>0&&o===+o&&o>0){var m=Math.min(i,o);d="M ".concat(t,",").concat(r+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+l*m,",").concat(r,`
            L `).concat(t+n-l*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n,",").concat(r+s*m,`
            L `).concat(t+n,",").concat(r+a-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n-l*m,",").concat(r+a,`
            L `).concat(t+l*m,",").concat(r+a,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t,",").concat(r+a-s*m," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},gV=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,o=r.x,i=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(o,o+s),d=Math.max(o,o+s),f=Math.min(i,i+l),h=Math.max(i,i+l);return n>=c&&n<=d&&a>=f&&a<=h}return!1},mV={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Vv=function(t){var r=f2(f2({},mV),t),n=S.useRef(),a=S.useState(-1),o=sV(a,2),i=o[0],s=o[1];S.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&s(j)}catch{}},[]);var l=r.x,c=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,m=r.animationEasing,v=r.animationDuration,k=r.animationBegin,y=r.isAnimationActive,g=r.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var x=at("recharts-rectangle",p);return g?I.createElement(Da,{canBegin:i>0,from:{width:d,height:f,x:l,y:c},to:{width:d,height:f,x:l,y:c},duration:v,animationEasing:m,isActive:g},function(j){var b=j.width,w=j.height,N=j.x,_=j.y;return I.createElement(Da,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:k,duration:v,isActive:y,easing:m},I.createElement("path",qd({},We(r,!0),{className:x,d:d2(N,_,b,w,h),ref:n})))}):I.createElement("path",qd({},We(r,!0),{className:x,d:d2(l,c,d,f,h)}))};function Om(){return Om=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Om.apply(this,arguments)}var d0=function(t){var r=t.cx,n=t.cy,a=t.r,o=t.className,i=at("recharts-dot",o);return r===+r&&n===+n&&a===+a?S.createElement("circle",Om({},We(t,!1),pd(t),{className:i,cx:r,cy:n,r:a})):null};function pu(e){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pu(e)}var yV=["x","y","top","left","width","height","className"];function Pm(){return Pm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pm.apply(this,arguments)}function h2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h2(Object(r),!0).forEach(function(n){xV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xV(e,t,r){return t=bV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bV(e){var t=wV(e,"string");return pu(t)=="symbol"?t:t+""}function wV(e,t){if(pu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kV(e,t){if(e==null)return{};var r=jV(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var SV=function(t,r,n,a,o,i){return"M".concat(t,",").concat(o,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(n)},NV=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,o=a===void 0?0:a,i=t.top,s=i===void 0?0:i,l=t.left,c=l===void 0?0:l,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,m=t.className,v=kV(t,yV),k=vV({x:n,y:o,top:s,left:c,width:f,height:p},v);return!de(n)||!de(o)||!de(f)||!de(p)||!de(s)||!de(c)?null:I.createElement("path",Pm({},We(k,!0),{className:at("recharts-cross",m),d:SV(n,o,f,p,s,c)}))},_V=_N,OV=_V(Object.getPrototypeOf,Object),PV=OV,AV=Oo,MV=PV,CV=Po,EV="[object Object]",TV=Function.prototype,$V=Object.prototype,fO=TV.toString,DV=$V.hasOwnProperty,RV=fO.call(Object);function LV(e){if(!CV(e)||AV(e)!=EV)return!1;var t=MV(e);if(t===null)return!0;var r=DV.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&fO.call(r)==RV}var IV=LV;const BV=$t(IV);var FV=Oo,zV=Po,UV="[object Boolean]";function WV(e){return e===!0||e===!1||zV(e)&&FV(e)==UV}var GV=WV;const HV=$t(GV);function gu(e){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gu(e)}function Zd(){return Zd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zd.apply(this,arguments)}function VV(e,t){return qV(e)||YV(e,t)||KV(e,t)||XV()}function XV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KV(e,t){if(e){if(typeof e=="string")return p2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p2(e,t)}}function p2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function YV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function qV(e){if(Array.isArray(e))return e}function g2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function m2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g2(Object(r),!0).forEach(function(n){ZV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZV(e,t,r){return t=QV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QV(e){var t=JV(e,"string");return gu(t)=="symbol"?t:t+""}function JV(e,t){if(gu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var y2=function(t,r,n,a,o){var i=n-a,s;return s="M ".concat(t,",").concat(r),s+="L ".concat(t+n,",").concat(r),s+="L ".concat(t+n-i/2,",").concat(r+o),s+="L ".concat(t+n-i/2-a,",").concat(r+o),s+="L ".concat(t,",").concat(r," Z"),s},eX={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tX=function(t){var r=m2(m2({},eX),t),n=S.useRef(),a=S.useState(-1),o=VV(a,2),i=o[0],s=o[1];S.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var x=n.current.getTotalLength();x&&s(x)}catch{}},[]);var l=r.x,c=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,m=r.animationEasing,v=r.animationDuration,k=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var g=at("recharts-trapezoid",p);return y?I.createElement(Da,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:c},duration:v,animationEasing:m,isActive:y},function(x){var j=x.upperWidth,b=x.lowerWidth,w=x.height,N=x.x,_=x.y;return I.createElement(Da,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:k,duration:v,easing:m},I.createElement("path",Zd({},We(r,!0),{className:g,d:y2(N,_,j,b,w),ref:n})))}):I.createElement("g",null,I.createElement("path",Zd({},We(r,!0),{className:g,d:y2(l,c,d,f,h)})))},rX=["option","shapeType","propTransformer","activeClassName","isActive"];function mu(e){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mu(e)}function nX(e,t){if(e==null)return{};var r=aX(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aX(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function v2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v2(Object(r),!0).forEach(function(n){oX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oX(e,t,r){return t=iX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iX(e){var t=sX(e,"string");return mu(t)=="symbol"?t:t+""}function sX(e,t){if(mu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lX(e,t){return Qd(Qd({},t),e)}function cX(e,t){return e==="symbols"}function x2(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return I.createElement(Vv,r);case"trapezoid":return I.createElement(tX,r);case"sector":return I.createElement(eO,r);case"symbols":if(cX(t))return I.createElement(Jh,r);break;default:return null}}function uX(e){return S.isValidElement(e)?e.props:e}function Am(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?lX:n,o=e.activeClassName,i=o===void 0?"recharts-active-shape":o,s=e.isActive,l=nX(e,rX),c;if(S.isValidElement(t))c=S.cloneElement(t,Qd(Qd({},l),uX(t)));else if(Ge(t))c=t(l);else if(BV(t)&&!HV(t)){var d=a(t,l);c=I.createElement(x2,{shapeType:r,elementProps:d})}else{var f=l;c=I.createElement(x2,{shapeType:r,elementProps:f})}return s?I.createElement(ht,{className:i},c):c}function h0(e,t){return t!=null&&"trapezoids"in e.props}function p0(e,t){return t!=null&&"sectors"in e.props}function yu(e,t){return t!=null&&"points"in e.props}function fX(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,o=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&o}function dX(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function hX(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function pX(e,t){var r;return h0(e,t)?r=fX:p0(e,t)?r=dX:yu(e,t)&&(r=hX),r}function gX(e,t){var r;return h0(e,t)?r="trapezoids":p0(e,t)?r="sectors":yu(e,t)&&(r="points"),r}function mX(e,t){if(h0(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(p0(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return yu(e,t)?t.payload:{}}function yX(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=gX(r,t),o=mX(r,t),i=n.filter(function(l,c){var d=Gi(o,l),f=r.props[a].filter(function(m){var v=pX(r,t);return v(m,t)}),h=r.props[a].indexOf(f[f.length-1]),p=c===h;return d&&p}),s=n.indexOf(i[i.length-1]);return s}var vX=Math.ceil,xX=Math.max;function bX(e,t,r,n){for(var a=-1,o=xX(vX((t-e)/(r||1)),0),i=Array(o);o--;)i[n?o:++a]=e,e+=r;return i}var wX=bX,kX=HN,b2=1/0,jX=17976931348623157e292;function SX(e){if(!e)return e===0?e:0;if(e=kX(e),e===b2||e===-b2){var t=e<0?-1:1;return t*jX}return e===e?e:0}var dO=SX,NX=wX,_X=r0,wp=dO;function OX(e){return function(t,r,n){return n&&typeof n!="number"&&_X(t,r,n)&&(r=n=void 0),t=wp(t),r===void 0?(r=t,t=0):r=wp(r),n=n===void 0?t<r?1:-1:wp(n),NX(t,r,n,e)}}var PX=OX,AX=PX,MX=AX(),CX=MX;const Jd=$t(CX);function vu(e){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vu(e)}function w2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function k2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w2(Object(r),!0).forEach(function(n){hO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hO(e,t,r){return t=EX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EX(e){var t=TX(e,"string");return vu(t)=="symbol"?t:t+""}function TX(e,t){if(vu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $X=["Webkit","Moz","O","ms"],DX=function(t,r){var n=t.replace(/(\w)/,function(o){return o.toUpperCase()}),a=$X.reduce(function(o,i){return k2(k2({},o),{},hO({},i+n,r))},{});return a[t]=r,a};function nl(e){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nl(e)}function eh(){return eh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eh.apply(this,arguments)}function j2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j2(Object(r),!0).forEach(function(n){Yn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gO(n.key),n)}}function LX(e,t,r){return t&&S2(e.prototype,t),r&&S2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function IX(e,t,r){return t=th(t),BX(e,pO()?Reflect.construct(t,r||[],th(e).constructor):t.apply(e,r))}function BX(e,t){if(t&&(nl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FX(e)}function FX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pO=function(){return!!e})()}function th(e){return th=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},th(e)}function zX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mm(e,t)}function Mm(e,t){return Mm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Mm(e,t)}function Yn(e,t,r){return t=gO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gO(e){var t=UX(e,"string");return nl(t)=="symbol"?t:t+""}function UX(e,t){if(nl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var WX=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,o=t.x,i=t.width,s=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=vc().domain(Jd(0,l)).range([o,o+i-s]),d=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(a),scale:c,scaleValues:d}},N2=function(t){return t.changedTouches&&!!t.changedTouches.length},al=function(e){function t(r){var n;return RX(this,t),n=IX(this,t,[r]),Yn(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Yn(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Yn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,o=a.endIndex,i=a.onDragEnd,s=a.startIndex;i==null||i({endIndex:o,startIndex:s})}),n.detachDragEndListener()}),Yn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Yn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Yn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Yn(n,"handleSlideDragStart",function(a){var o=N2(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return zX(t,e),LX(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,o=n.endX,i=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,d=c.length-1,f=Math.min(a,o),h=Math.max(a,o),p=t.getIndexInRange(i,f),m=t.getIndexInRange(i,h);return{startIndex:p-p%l,endIndex:m===d?d:m-m%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,o=a.data,i=a.tickFormatter,s=a.dataKey,l=Lr(o[n],s,n);return Ge(i)?i(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,o=a.slideMoveStartX,i=a.startX,s=a.endX,l=this.props,c=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,m=l.onChange,v=n.pageX-o;v>0?v=Math.min(v,c+d-f-s,c+d-f-i):v<0&&(v=Math.max(v,c-i,c-s));var k=this.getIndex({startX:i+v,endX:s+v});(k.startIndex!==h||k.endIndex!==p)&&m&&m(k),this.setState({startX:i+v,endX:s+v,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var o=N2(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,o=a.brushMoveStartX,i=a.movingTravellerId,s=a.endX,l=a.startX,c=this.state[i],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,m=d.onChange,v=d.gap,k=d.data,y={startX:this.state.startX,endX:this.state.endX},g=n.pageX-o;g>0?g=Math.min(g,f+h-p-c):g<0&&(g=Math.max(g,f-c)),y[i]=c+g;var x=this.getIndex(y),j=x.startIndex,b=x.endIndex,w=function(){var _=k.length-1;return i==="startX"&&(s>l?j%v===0:b%v===0)||s<l&&b===_||i==="endX"&&(s>l?b%v===0:j%v===0)||s>l&&b===_};this.setState(Yn(Yn({},i,c+g),"brushMoveStartX",n.pageX),function(){m&&w()&&m(x)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var o=this,i=this.state,s=i.scaleValues,l=i.startX,c=i.endX,d=this.state[a],f=s.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=s.length)){var p=s[h];a==="startX"&&p>=c||a==="endX"&&p<=l||this.setState(Yn({},a,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.fill,c=n.stroke;return I.createElement("rect",{stroke:c,fill:l,x:a,y:o,width:i,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.data,c=n.children,d=n.padding,f=S.Children.only(c);return f?I.cloneElement(f,{x:a,y:o,width:i,height:s,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var o,i,s=this,l=this.props,c=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,m=l.data,v=l.startIndex,k=l.endIndex,y=Math.max(n,this.props.x),g=kp(kp({},We(this.props,!1)),{},{x:y,y:c,width:d,height:f}),x=p||"Min value: ".concat((o=m[v])===null||o===void 0?void 0:o.name,", Max value: ").concat((i=m[k])===null||i===void 0?void 0:i.name);return I.createElement(ht,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(b){["ArrowLeft","ArrowRight"].includes(b.key)&&(b.preventDefault(),b.stopPropagation(),s.handleTravellerMoveKeyboard(b.key==="ArrowRight"?1:-1,a))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,g))}},{key:"renderSlide",value:function(n,a){var o=this.props,i=o.y,s=o.height,l=o.stroke,c=o.travellerWidth,d=Math.min(n,a)+c,f=Math.max(Math.abs(a-n)-c,0);return I.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:i,width:f,height:s})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,o=n.endIndex,i=n.y,s=n.height,l=n.travellerWidth,c=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,m={pointerEvents:"none",fill:c};return I.createElement(ht,{className:"recharts-brush-texts"},I.createElement(Pd,eh({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:i+s/2},m),this.getTextOfTick(a)),I.createElement(Pd,eh({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:i+s/2},m),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,a=n.data,o=n.className,i=n.children,s=n.x,l=n.y,c=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,m=h.endX,v=h.isTextActive,k=h.isSlideMoving,y=h.isTravellerMoving,g=h.isTravellerFocused;if(!a||!a.length||!de(s)||!de(l)||!de(c)||!de(d)||c<=0||d<=0)return null;var x=at("recharts-brush",o),j=I.Children.count(i)===1,b=DX("userSelect","none");return I.createElement(ht,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:b},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(v||k||y||g||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,o=n.y,i=n.width,s=n.height,l=n.stroke,c=Math.floor(o+s/2)-1;return I.createElement(I.Fragment,null,I.createElement("rect",{x:a,y:o,width:i,height:s,fill:l,stroke:"none"}),I.createElement("line",{x1:a+1,y1:c,x2:a+i-1,y2:c,fill:"none",stroke:"#fff"}),I.createElement("line",{x1:a+1,y1:c+2,x2:a+i-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var o;return I.isValidElement(n)?o=I.cloneElement(n,a):Ge(n)?o=n(a):o=t.renderDefaultTraveller(a),o}},{key:"getDerivedStateFromProps",value:function(n,a){var o=n.data,i=n.width,s=n.x,l=n.travellerWidth,c=n.updateId,d=n.startIndex,f=n.endIndex;if(o!==a.prevData||c!==a.prevUpdateId)return kp({prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:i},o&&o.length?WX({data:o,width:i,x:s,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(i!==a.prevWidth||s!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([s,s+i-l]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:i,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var o=n.length,i=0,s=o-1;s-i>1;){var l=Math.floor((i+s)/2);n[l]>a?s=l:i=l}return a>=n[s]?s:i}}])}(S.PureComponent);Yn(al,"displayName","Brush");Yn(al,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var GX=yv;function HX(e,t){var r;return GX(e,function(n,a,o){return r=t(n,a,o),!r}),!!r}var VX=HX,XX=vN,KX=li,YX=VX,qX=Wn,ZX=r0;function QX(e,t,r){var n=qX(e)?XX:YX;return r&&ZX(e,t,r)&&(t=void 0),n(e,KX(t))}var JX=QX;const eK=$t(JX);var Ya=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},_2=FN;function tK(e,t,r){t=="__proto__"&&_2?_2(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var rK=tK,nK=rK,aK=IN,oK=li;function iK(e,t){var r={};return t=oK(t),aK(e,function(n,a,o){nK(r,a,t(n,a,o))}),r}var sK=iK;const lK=$t(sK);function cK(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var uK=cK,fK=yv;function dK(e,t){var r=!0;return fK(e,function(n,a,o){return r=!!t(n,a,o),r}),r}var hK=dK,pK=uK,gK=hK,mK=li,yK=Wn,vK=r0;function xK(e,t,r){var n=yK(e)?pK:gK;return r&&vK(e,t,r)&&(t=void 0),n(e,mK(t))}var bK=xK;const mO=$t(bK);var wK=["x","y"];function xu(e){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xu(e)}function Cm(){return Cm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cm.apply(this,arguments)}function O2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O2(Object(r),!0).forEach(function(n){kK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kK(e,t,r){return t=jK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jK(e){var t=SK(e,"string");return xu(t)=="symbol"?t:t+""}function SK(e,t){if(xu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NK(e,t){if(e==null)return{};var r=_K(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _K(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function OK(e,t){var r=e.x,n=e.y,a=NK(e,wK),o="".concat(r),i=parseInt(o,10),s="".concat(n),l=parseInt(s,10),c="".concat(t.height||a.height),d=parseInt(c,10),f="".concat(t.width||a.width),h=parseInt(f,10);return rc(rc(rc(rc(rc({},t),a),i?{x:i}:{}),l?{y:l}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function P2(e){return I.createElement(Am,Cm({shapeType:"rectangle",propTransformer:OK,activeClassName:"recharts-active-bar"},e))}var PK=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var o=de(n)||UT(n);return o?t(n,a):(o||Vi(),r)}},AK=["value","background"],yO;function ol(e){"@babel/helpers - typeof";return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ol(e)}function MK(e,t){if(e==null)return{};var r=CK(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function CK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function rh(){return rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rh.apply(this,arguments)}function A2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A2(Object(r),!0).forEach(function(n){Wo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xO(n.key),n)}}function TK(e,t,r){return t&&M2(e.prototype,t),r&&M2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $K(e,t,r){return t=nh(t),DK(e,vO()?Reflect.construct(t,r||[],nh(e).constructor):t.apply(e,r))}function DK(e,t){if(t&&(ol(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RK(e)}function RK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vO=function(){return!!e})()}function nh(e){return nh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nh(e)}function LK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Em(e,t)}function Em(e,t){return Em=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Em(e,t)}function Wo(e,t,r){return t=xO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xO(e){var t=IK(e,"string");return ol(t)=="symbol"?t:t+""}function IK(e,t){if(ol(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ol(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ru=function(e){function t(){var r;EK(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=$K(this,t,[].concat(a)),Wo(r,"state",{isAnimationFinished:!1}),Wo(r,"id",Qi("recharts-bar-")),Wo(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),i&&i()}),Wo(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),i&&i()}),r}return LK(t,e),TK(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,o=this.props,i=o.shape,s=o.dataKey,l=o.activeIndex,c=o.activeBar,d=We(this.props,!1);return n&&n.map(function(f,h){var p=h===l,m=p?c:i,v=kr(kr(kr({},d),f),{},{isActive:p,option:m,index:h,dataKey:s,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return I.createElement(ht,rh({className:"recharts-bar-rectangle"},Uc(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),I.createElement(P2,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,o=a.data,i=a.layout,s=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return I.createElement(Da,{begin:l,duration:c,isActive:s,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,v=o.map(function(k,y){var g=h&&h[y];if(g){var x=xr(g.x,k.x),j=xr(g.y,k.y),b=xr(g.width,k.width),w=xr(g.height,k.height);return kr(kr({},k),{},{x:x(m),y:j(m),width:b(m),height:w(m)})}if(i==="horizontal"){var N=xr(0,k.height),_=N(m);return kr(kr({},k),{},{y:k.y+k.height-_,height:_})}var O=xr(0,k.width),P=O(m);return kr(kr({},k),{},{width:P})});return I.createElement(ht,null,n.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,o=n.isAnimationActive,i=this.state.prevData;return o&&a&&a.length&&(!i||!Gi(i,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,o=a.data,i=a.dataKey,s=a.activeIndex,l=We(this.props.background,!1);return o.map(function(c,d){c.value;var f=c.background,h=MK(c,AK);if(!f)return null;var p=kr(kr(kr(kr(kr({},h),{},{fill:"#eee"},f),l),Uc(n.props,c,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:i,index:d,className:"recharts-bar-background-rectangle"});return I.createElement(P2,rh({key:"background-bar-".concat(d),option:n.props.background,isActive:d===s},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.data,s=o.xAxis,l=o.yAxis,c=o.layout,d=o.children,f=Fn(d,Tl);if(!f)return null;var h=c==="vertical"?i[0].height/2:i[0].width/2,p=function(k,y){var g=Array.isArray(k.value)?k.value[1]:k.value;return{x:k.x,y:k.y,value:g,errorVal:Lr(k,y)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return I.createElement(ht,m,f.map(function(v){return I.cloneElement(v,{key:"error-bar-".concat(a,"-").concat(v.props.dataKey),data:i,xAxis:s,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,o=n.data,i=n.className,s=n.xAxis,l=n.yAxis,c=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,m=n.background,v=n.id;if(a||!o||!o.length)return null;var k=this.state.isAnimationFinished,y=at("recharts-bar",i),g=s&&s.allowDataOverflow,x=l&&l.allowDataOverflow,j=g||x,b=Fe(v)?this.id:v;return I.createElement(ht,{className:y},g||x?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(b)},I.createElement("rect",{x:g?c:c-f/2,y:x?d:d-h/2,width:g?f:f*2,height:x?h:h*2}))):null,I.createElement(ht,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(b,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,b),(!p||k)&&Ka.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(S.PureComponent);yO=Ru;Wo(Ru,"displayName","Bar");Wo(Ru,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ci.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Wo(Ru,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,o=e.xAxis,i=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=fW(n,r);if(!p)return null;var m=t.layout,v=r.type.defaultProps,k=v!==void 0?kr(kr({},v),r.props):r.props,y=k.dataKey,g=k.children,x=k.minPointSize,j=m==="horizontal"?i:o,b=c?j.scale.domain():null,w=xW({numericAxis:j}),N=Fn(g,bv),_=f.map(function(O,P){var M,C,$,F,T,U;c?M=dW(c[d+P],b):(M=Lr(O,y),Array.isArray(M)||(M=[w,M]));var A=PK(x,yO.defaultProps.minPointSize)(M[1],P);if(m==="horizontal"){var E,D=[i.scale(M[0]),i.scale(M[1])],G=D[0],Z=D[1];C=Ew({axis:o,ticks:s,bandSize:a,offset:p.offset,entry:O,index:P}),$=(E=Z??G)!==null&&E!==void 0?E:void 0,F=p.size;var K=G-Z;if(T=Number.isNaN(K)?0:K,U={x:C,y:i.y,width:F,height:i.height},Math.abs(A)>0&&Math.abs(T)<Math.abs(A)){var L=Ca(T||A)*(Math.abs(A)-Math.abs(T));$-=L,T+=L}}else{var te=[o.scale(M[0]),o.scale(M[1])],Q=te[0],R=te[1];if(C=Q,$=Ew({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:O,index:P}),F=R-Q,T=p.size,U={x:o.x,y:$,width:o.width,height:T},Math.abs(A)>0&&Math.abs(F)<Math.abs(A)){var ae=Ca(F||A)*(Math.abs(A)-Math.abs(F));F+=ae}}return kr(kr(kr({},O),{},{x:C,y:$,width:F,height:T,value:c?M:M[1],payload:O,background:U},N&&N[P]&&N[P].props),{},{tooltipPayload:[Z_(r,O)],tooltipPosition:{x:C+F/2,y:$+T/2}})});return kr({data:_,layout:m},h)});function bu(e){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bu(e)}function BK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bO(n.key),n)}}function FK(e,t,r){return t&&C2(e.prototype,t),r&&C2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function E2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Oa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E2(Object(r),!0).forEach(function(n){g0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g0(e,t,r){return t=bO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bO(e){var t=zK(e,"string");return bu(t)=="symbol"?t:t+""}function zK(e,t){if(bu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xv=function(t,r,n,a,o){var i=t.width,s=t.height,l=t.layout,c=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!Zn(c,Ru);return d.reduce(function(p,m){var v=r[m],k=v.orientation,y=v.domain,g=v.padding,x=g===void 0?{}:g,j=v.mirror,b=v.reversed,w="".concat(k).concat(j?"Mirror":""),N,_,O,P,M;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var C=y[1]-y[0],$=1/0,F=v.categoricalDomain.sort(VT);if(F.forEach(function(te,Q){Q>0&&($=Math.min((te||0)-(F[Q-1]||0),$))}),Number.isFinite($)){var T=$/C,U=v.layout==="vertical"?n.height:n.width;if(v.padding==="gap"&&(N=T*U/2),v.padding==="no-gap"){var A=Wi(t.barCategoryGap,T*U),E=T*U/2;N=E-A-(E-A)/U*A}}}a==="xAxis"?_=[n.left+(x.left||0)+(N||0),n.left+n.width-(x.right||0)-(N||0)]:a==="yAxis"?_=l==="horizontal"?[n.top+n.height-(x.bottom||0),n.top+(x.top||0)]:[n.top+(x.top||0)+(N||0),n.top+n.height-(x.bottom||0)-(N||0)]:_=v.range,b&&(_=[_[1],_[0]]);var D=cW(v,o,h),G=D.scale,Z=D.realScaleType;G.domain(y).range(_),uW(G);var K=vW(G,Oa(Oa({},v),{},{realScaleType:Z}));a==="xAxis"?(M=k==="top"&&!j||k==="bottom"&&j,O=n.left,P=f[w]-M*v.height):a==="yAxis"&&(M=k==="left"&&!j||k==="right"&&j,O=f[w]-M*v.width,P=n.top);var L=Oa(Oa(Oa({},v),K),{},{realScaleType:Z,x:O,y:P,scale:G,width:a==="xAxis"?n.width:v.width,height:a==="yAxis"?n.height:v.height});return L.bandSize=Wd(L,K),!v.hide&&a==="xAxis"?f[w]+=(M?-1:1)*L.height:v.hide||(f[w]+=(M?-1:1)*L.width),Oa(Oa({},p),{},g0({},m,L))},{})},wO=function(t,r){var n=t.x,a=t.y,o=r.x,i=r.y;return{x:Math.min(n,o),y:Math.min(a,i),width:Math.abs(o-n),height:Math.abs(i-a)}},UK=function(t){var r=t.x1,n=t.y1,a=t.x2,o=t.y2;return wO({x:r,y:n},{x:a,y:o})},kO=function(){function e(t){BK(this,e),this.scale=t}return FK(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],o=n[n.length-1];return a<=o?r>=a&&r<=o:r>=o&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();g0(kO,"EPS",1e-4);var Kv=function(t){var r=Object.keys(t).reduce(function(n,a){return Oa(Oa({},n),{},g0({},a,kO.create(t[a])))},{});return Oa(Oa({},r),{},{apply:function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=o.bandAware,s=o.position;return lK(a,function(l,c){return r[c].apply(l,{bandAware:i,position:s})})},isInRange:function(a){return mO(a,function(o,i){return r[i].isInRange(o)})}})};function WK(e){return(e%180+180)%180}var GK=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=WK(a),i=o*Math.PI/180,s=Math.atan(n/r),l=i>s&&i<Math.PI-s?n/Math.sin(i):r/Math.cos(i);return Math.abs(l)},HK=li,VK=Cu,XK=e0;function KK(e){return function(t,r,n){var a=Object(t);if(!VK(t)){var o=HK(r);t=XK(t),r=function(s){return o(a[s],s,a)}}var i=e(t,r,n);return i>-1?a[o?t[i]:i]:void 0}}var YK=KK,qK=dO;function ZK(e){var t=qK(e),r=t%1;return t===t?r?t-r:t:0}var QK=ZK,JK=EN,eY=li,tY=QK,rY=Math.max;function nY(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:tY(r);return a<0&&(a=rY(n+a,0)),JK(e,eY(t),a)}var aY=nY,oY=YK,iY=aY,sY=oY(iY),lY=sY;const cY=$t(lY);var uY=KE(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Yv=S.createContext(void 0),qv=S.createContext(void 0),jO=S.createContext(void 0),SO=S.createContext({}),NO=S.createContext(void 0),_O=S.createContext(0),OO=S.createContext(0),T2=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,o=r.offset,i=t.clipPathId,s=t.children,l=t.width,c=t.height,d=uY(o);return I.createElement(Yv.Provider,{value:n},I.createElement(qv.Provider,{value:a},I.createElement(SO.Provider,{value:o},I.createElement(jO.Provider,{value:d},I.createElement(NO.Provider,{value:i},I.createElement(_O.Provider,{value:c},I.createElement(OO.Provider,{value:l},s)))))))},fY=function(){return S.useContext(NO)},PO=function(t){var r=S.useContext(Yv);r==null&&Vi();var n=r[t];return n==null&&Vi(),n},dY=function(){var t=S.useContext(Yv);return Bo(t)},hY=function(){var t=S.useContext(qv),r=cY(t,function(n){return mO(n.domain,Number.isFinite)});return r||Bo(t)},AO=function(t){var r=S.useContext(qv);r==null&&Vi();var n=r[t];return n==null&&Vi(),n},pY=function(){var t=S.useContext(jO);return t},gY=function(){return S.useContext(SO)},Zv=function(){return S.useContext(OO)},Qv=function(){return S.useContext(_O)};function il(e){"@babel/helpers - typeof";return il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},il(e)}function mY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,CO(n.key),n)}}function vY(e,t,r){return t&&yY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xY(e,t,r){return t=ah(t),bY(e,MO()?Reflect.construct(t,r||[],ah(e).constructor):t.apply(e,r))}function bY(e,t){if(t&&(il(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wY(e)}function wY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MO=function(){return!!e})()}function ah(e){return ah=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ah(e)}function kY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tm(e,t)}function Tm(e,t){return Tm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Tm(e,t)}function $2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function D2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$2(Object(r),!0).forEach(function(n){Jv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jv(e,t,r){return t=CO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CO(e){var t=jY(e,"string");return il(t)=="symbol"?t:t+""}function jY(e,t){if(il(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(il(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function SY(e,t){return PY(e)||OY(e,t)||_Y(e,t)||NY()}function NY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Y(e,t){if(e){if(typeof e=="string")return R2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R2(e,t)}}function R2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function OY(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function PY(e){if(Array.isArray(e))return e}function $m(){return $m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$m.apply(this,arguments)}var AY=function(t,r){var n;return I.isValidElement(t)?n=I.cloneElement(t,r):Ge(t)?n=t(r):n=I.createElement("line",$m({},r,{className:"recharts-reference-line-line"})),n},MY=function(t,r,n,a,o,i,s,l,c){var d=o.x,f=o.y,h=o.width,p=o.height;if(n){var m=c.y,v=t.y.apply(m,{position:i});if(Ya(c,"discard")&&!t.y.isInRange(v))return null;var k=[{x:d+h,y:v},{x:d,y:v}];return l==="left"?k.reverse():k}if(r){var y=c.x,g=t.x.apply(y,{position:i});if(Ya(c,"discard")&&!t.x.isInRange(g))return null;var x=[{x:g,y:f+p},{x:g,y:f}];return s==="top"?x.reverse():x}if(a){var j=c.segment,b=j.map(function(w){return t.apply(w,{position:i})});return Ya(c,"discard")&&eK(b,function(w){return!t.isInRange(w)})?null:b}return null};function CY(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,o=e.yAxisId,i=e.shape,s=e.className,l=e.alwaysShow,c=fY(),d=PO(a),f=AO(o),h=pY();if(!c||!h)return null;mo(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Kv({x:d.scale,y:f.scale}),m=Rr(t),v=Rr(r),k=n&&n.length===2,y=MY(p,m,v,k,h,e.position,d.orientation,f.orientation,e);if(!y)return null;var g=SY(y,2),x=g[0],j=x.x,b=x.y,w=g[1],N=w.x,_=w.y,O=Ya(e,"hidden")?"url(#".concat(c,")"):void 0,P=D2(D2({clipPath:O},We(e,!0)),{},{x1:j,y1:b,x2:N,y2:_});return I.createElement(ht,{className:at("recharts-reference-line",s)},AY(i,P),Zr.renderCallByParent(e,UK({x1:j,y1:b,x2:N,y2:_})))}var Go=function(e){function t(){return mY(this,t),xY(this,t,arguments)}return kY(t,e),vY(t,[{key:"render",value:function(){return I.createElement(CY,this.props)}}])}(I.Component);Jv(Go,"displayName","ReferenceLine");Jv(Go,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Dm(){return Dm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dm.apply(this,arguments)}function sl(e){"@babel/helpers - typeof";return sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sl(e)}function L2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function I2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L2(Object(r),!0).forEach(function(n){m0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TO(n.key),n)}}function $Y(e,t,r){return t&&TY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function DY(e,t,r){return t=oh(t),RY(e,EO()?Reflect.construct(t,r||[],oh(e).constructor):t.apply(e,r))}function RY(e,t){if(t&&(sl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LY(e)}function LY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EO=function(){return!!e})()}function oh(e){return oh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},oh(e)}function IY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rm(e,t)}function Rm(e,t){return Rm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Rm(e,t)}function m0(e,t,r){return t=TO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TO(e){var t=BY(e,"string");return sl(t)=="symbol"?t:t+""}function BY(e,t){if(sl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var FY=function(t){var r=t.x,n=t.y,a=t.xAxis,o=t.yAxis,i=Kv({x:a.scale,y:o.scale}),s=i.apply({x:r,y:n},{bandAware:!0});return Ya(t,"discard")&&!i.isInRange(s)?null:s},Lu=function(e){function t(){return EY(this,t),DY(this,t,arguments)}return IY(t,e),$Y(t,[{key:"render",value:function(){var n=this.props,a=n.x,o=n.y,i=n.r,s=n.alwaysShow,l=n.clipPathId,c=Rr(a),d=Rr(o);if(mo(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!d)return null;var f=FY(this.props);if(!f)return null;var h=f.x,p=f.y,m=this.props,v=m.shape,k=m.className,y=Ya(this.props,"hidden")?"url(#".concat(l,")"):void 0,g=I2(I2({clipPath:y},We(this.props,!0)),{},{cx:h,cy:p});return I.createElement(ht,{className:at("recharts-reference-dot",k)},t.renderDot(v,g),Zr.renderCallByParent(this.props,{x:h-i,y:p-i,width:2*i,height:2*i}))}}])}(I.Component);m0(Lu,"displayName","ReferenceDot");m0(Lu,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});m0(Lu,"renderDot",function(e,t){var r;return I.isValidElement(e)?r=I.cloneElement(e,t):Ge(e)?r=e(t):r=I.createElement(d0,Dm({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Lm(){return Lm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lm.apply(this,arguments)}function ll(e){"@babel/helpers - typeof";return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ll(e)}function B2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function F2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B2(Object(r),!0).forEach(function(n){y0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DO(n.key),n)}}function WY(e,t,r){return t&&UY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function GY(e,t,r){return t=ih(t),HY(e,$O()?Reflect.construct(t,r||[],ih(e).constructor):t.apply(e,r))}function HY(e,t){if(t&&(ll(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VY(e)}function VY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $O(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($O=function(){return!!e})()}function ih(e){return ih=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ih(e)}function XY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Im(e,t)}function Im(e,t){return Im=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Im(e,t)}function y0(e,t,r){return t=DO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DO(e){var t=KY(e,"string");return ll(t)=="symbol"?t:t+""}function KY(e,t){if(ll(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ll(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var YY=function(t,r,n,a,o){var i=o.x1,s=o.x2,l=o.y1,c=o.y2,d=o.xAxis,f=o.yAxis;if(!d||!f)return null;var h=Kv({x:d.scale,y:f.scale}),p={x:t?h.x.apply(i,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:r?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(c,{position:"end"}):h.y.rangeMax};return Ya(o,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:wO(p,m)},Iu=function(e){function t(){return zY(this,t),GY(this,t,arguments)}return XY(t,e),WY(t,[{key:"render",value:function(){var n=this.props,a=n.x1,o=n.x2,i=n.y1,s=n.y2,l=n.className,c=n.alwaysShow,d=n.clipPathId;mo(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Rr(a),h=Rr(o),p=Rr(i),m=Rr(s),v=this.props.shape;if(!f&&!h&&!p&&!m&&!v)return null;var k=YY(f,h,p,m,this.props);if(!k&&!v)return null;var y=Ya(this.props,"hidden")?"url(#".concat(d,")"):void 0;return I.createElement(ht,{className:at("recharts-reference-area",l)},t.renderRect(v,F2(F2({clipPath:y},We(this.props,!0)),k)),Zr.renderCallByParent(this.props,k))}}])}(I.Component);y0(Iu,"displayName","ReferenceArea");y0(Iu,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});y0(Iu,"renderRect",function(e,t){var r;return I.isValidElement(e)?r=I.cloneElement(e,t):Ge(e)?r=e(t):r=I.createElement(Vv,Lm({},t,{className:"recharts-reference-area-rect"})),r});function RO(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function qY(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return GK(n,r)}function ZY(e,t,r){var n=r==="width",a=e.x,o=e.y,i=e.width,s=e.height;return t===1?{start:n?a:o,end:n?a+i:o+s}:{start:n?a+i:o+s,end:n?a:o}}function sh(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var o=r();return e*(t-e*o/2-n)>=0&&e*(t+e*o/2-a)<=0}function QY(e,t){return RO(e,t+1)}function JY(e,t,r,n,a){for(var o=(n||[]).slice(),i=t.start,s=t.end,l=0,c=1,d=i,f=function(){var m=n==null?void 0:n[l];if(m===void 0)return{v:RO(n,c)};var v=l,k,y=function(){return k===void 0&&(k=r(m,v)),k},g=m.coordinate,x=l===0||sh(e,g,y,d,s);x||(l=0,d=i,c+=1),x&&(d=g+e*(y()/2+a),l+=c)},h;c<=o.length;)if(h=f(),h)return h.v;return[]}function wu(e){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wu(e)}function z2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function un(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z2(Object(r),!0).forEach(function(n){eq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eq(e,t,r){return t=tq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tq(e){var t=rq(e,"string");return wu(t)=="symbol"?t:t+""}function rq(e,t){if(wu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nq(e,t,r,n,a){for(var o=(n||[]).slice(),i=o.length,s=t.start,l=t.end,c=function(h){var p=o[h],m,v=function(){return m===void 0&&(m=r(p,h)),m};if(h===i-1){var k=e*(p.coordinate+e*v()/2-l);o[h]=p=un(un({},p),{},{tickCoord:k>0?p.coordinate-k*e:p.coordinate})}else o[h]=p=un(un({},p),{},{tickCoord:p.coordinate});var y=sh(e,p.tickCoord,v,s,l);y&&(l=p.tickCoord-e*(v()/2+a),o[h]=un(un({},p),{},{isShow:!0}))},d=i-1;d>=0;d--)c(d);return o}function aq(e,t,r,n,a,o){var i=(n||[]).slice(),s=i.length,l=t.start,c=t.end;if(o){var d=n[s-1],f=r(d,s-1),h=e*(d.coordinate+e*f/2-c);i[s-1]=d=un(un({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=sh(e,d.tickCoord,function(){return f},l,c);p&&(c=d.tickCoord-e*(f/2+a),i[s-1]=un(un({},d),{},{isShow:!0}))}for(var m=o?s-1:s,v=function(g){var x=i[g],j,b=function(){return j===void 0&&(j=r(x,g)),j};if(g===0){var w=e*(x.coordinate-e*b()/2-l);i[g]=x=un(un({},x),{},{tickCoord:w<0?x.coordinate-w*e:x.coordinate})}else i[g]=x=un(un({},x),{},{tickCoord:x.coordinate});var N=sh(e,x.tickCoord,b,l,c);N&&(l=x.tickCoord+e*(b()/2+a),i[g]=un(un({},x),{},{isShow:!0}))},k=0;k<m;k++)v(k);return i}function ex(e,t,r){var n=e.tick,a=e.ticks,o=e.viewBox,i=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(de(l)||ci.isSsr)return QY(a,typeof l=="number"&&de(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",m=d&&p==="width"?yc(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=function(x,j){var b=Ge(c)?c(x.value,j):x.value;return p==="width"?qY(yc(b,{fontSize:t,letterSpacing:r}),m,f):yc(b,{fontSize:t,letterSpacing:r})[p]},k=a.length>=2?Ca(a[1].coordinate-a[0].coordinate):1,y=ZY(o,k,p);return l==="equidistantPreserveStart"?JY(k,y,v,a,i):(l==="preserveStart"||l==="preserveStartEnd"?h=aq(k,y,v,a,i,l==="preserveStartEnd"):h=nq(k,y,v,a,i),h.filter(function(g){return g.isShow}))}var oq=["viewBox"],iq=["viewBox"],sq=["ticks"];function cl(e){"@babel/helpers - typeof";return cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cl(e)}function Os(){return Os=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Os.apply(this,arguments)}function U2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Er(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U2(Object(r),!0).forEach(function(n){tx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jp(e,t){if(e==null)return{};var r=lq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function cq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IO(n.key),n)}}function uq(e,t,r){return t&&W2(e.prototype,t),r&&W2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function fq(e,t,r){return t=lh(t),dq(e,LO()?Reflect.construct(t,r||[],lh(e).constructor):t.apply(e,r))}function dq(e,t){if(t&&(cl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hq(e)}function hq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LO=function(){return!!e})()}function lh(e){return lh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lh(e)}function pq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bm(e,t)}function Bm(e,t){return Bm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Bm(e,t)}function tx(e,t,r){return t=IO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IO(e){var t=gq(e,"string");return cl(t)=="symbol"?t:t+""}function gq(e,t){if(cl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $l=function(e){function t(r){var n;return cq(this,t),n=fq(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return pq(t,e),uq(t,[{key:"shouldComponentUpdate",value:function(n,a){var o=n.viewBox,i=jp(n,oq),s=this.props,l=s.viewBox,c=jp(s,iq);return!Ds(o,l)||!Ds(i,c)||!Ds(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,o=a.x,i=a.y,s=a.width,l=a.height,c=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,p,m,v,k,y,g,x=f?-1:1,j=n.tickSize||d,b=de(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":p=m=n.coordinate,k=i+ +!f*l,v=k-x*j,g=v-x*h,y=b;break;case"left":v=k=n.coordinate,m=o+ +!f*s,p=m-x*j,y=p-x*h,g=b;break;case"right":v=k=n.coordinate,m=o+ +f*s,p=m+x*j,y=p+x*h,g=b;break;default:p=m=n.coordinate,k=i+ +f*l,v=k+x*j,g=v+x*h,y=b;break}return{line:{x1:p,y1:v,x2:m,y2:k},tick:{x:y,y:g}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,o=n.mirror,i;switch(a){case"left":i=o?"start":"end";break;case"right":i=o?"end":"start";break;default:i="middle";break}return i}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,o=n.mirror,i="end";switch(a){case"left":case"right":i="middle";break;case"top":i=o?"start":"end";break;default:i=o?"end":"start";break}return i}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.orientation,c=n.mirror,d=n.axisLine,f=Er(Er(Er({},We(this.props,!1)),We(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=Er(Er({},f),{},{x1:a,y1:o+h*s,x2:a+i,y2:o+h*s})}else{var p=+(l==="left"&&!c||l==="right"&&c);f=Er(Er({},f),{},{x1:a+p*i,y1:o,x2:a+p*i,y2:o+s})}return I.createElement("line",Os({},f,{className:at("recharts-cartesian-axis-line",ma(d,"className"))}))}},{key:"renderTicks",value:function(n,a,o){var i=this,s=this.props,l=s.tickLine,c=s.stroke,d=s.tick,f=s.tickFormatter,h=s.unit,p=ex(Er(Er({},this.props),{},{ticks:n}),a,o),m=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),k=We(this.props,!1),y=We(d,!1),g=Er(Er({},k),{},{fill:"none"},We(l,!1)),x=p.map(function(j,b){var w=i.getTickLineCoord(j),N=w.line,_=w.tick,O=Er(Er(Er(Er({textAnchor:m,verticalAnchor:v},k),{},{stroke:"none",fill:c},y),_),{},{index:b,payload:j,visibleTicksCount:p.length,tickFormatter:f});return I.createElement(ht,Os({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},Uc(i.props,j,b)),l&&I.createElement("line",Os({},g,N,{className:at("recharts-cartesian-axis-tick-line",ma(l,"className"))})),d&&t.renderTickItem(d,O,"".concat(Ge(f)?f(j.value,b):j.value).concat(h||"")))});return I.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var n=this,a=this.props,o=a.axisLine,i=a.width,s=a.height,l=a.ticksGenerator,c=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,p=jp(f,sq),m=h;return Ge(l)&&(m=h&&h.length>0?l(this.props):l(p)),i<=0||s<=0||!m||!m.length?null:I.createElement(ht,{className:at("recharts-cartesian-axis",c),ref:function(k){n.layerReference=k}},o&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),Zr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,o){var i,s=at(a.className,"recharts-cartesian-axis-tick-value");return I.isValidElement(n)?i=I.cloneElement(n,Er(Er({},a),{},{className:s})):Ge(n)?i=n(Er(Er({},a),{},{className:s})):i=I.createElement(Pd,Os({},a,{className:"recharts-cartesian-axis-tick-value"}),o),i}}])}(S.Component);tx($l,"displayName","CartesianAxis");tx($l,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var mq=["x1","y1","x2","y2","key"],yq=["offset"];function Xi(e){"@babel/helpers - typeof";return Xi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xi(e)}function G2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G2(Object(r),!0).forEach(function(n){vq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vq(e,t,r){return t=xq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xq(e){var t=bq(e,"string");return Xi(t)=="symbol"?t:t+""}function bq(e,t){if(Xi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mi(){return Mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mi.apply(this,arguments)}function H2(e,t){if(e==null)return{};var r=wq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var kq=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,o=t.y,i=t.width,s=t.height,l=t.ry;return I.createElement("rect",{x:a,y:o,ry:l,width:i,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function BO(e,t){var r;if(I.isValidElement(e))r=I.cloneElement(e,t);else if(Ge(e))r=e(t);else{var n=t.x1,a=t.y1,o=t.x2,i=t.y2,s=t.key,l=H2(t,mq),c=We(l,!1);c.offset;var d=H2(c,yq);r=I.createElement("line",Mi({},d,{x1:n,y1:a,x2:o,y2:i,fill:"none",key:s}))}return r}function jq(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,o=e.horizontalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(s,l){var c=dn(dn({},e),{},{x1:t,y1:s,x2:t+r,y2:s,key:"line-".concat(l),index:l});return BO(a,c)});return I.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function Sq(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,o=e.verticalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(s,l){var c=dn(dn({},e),{},{x1:s,y1:t,x2:s,y2:t+r,key:"line-".concat(l),index:l});return BO(a,c)});return I.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function Nq(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,o=e.width,i=e.height,s=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var d=s.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],v=m?a+i-h:d[p+1]-h;if(v<=0)return null;var k=p%t.length;return I.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:v,width:o,stroke:"none",fill:t[k],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function _q(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,o=e.x,i=e.y,s=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var d=c.map(function(h){return Math.round(h+o-o)}).sort(function(h,p){return h-p});o!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],v=m?o+s-h:d[p+1]-h;if(v<=0)return null;var k=p%n.length;return I.createElement("rect",{key:"react-".concat(p),x:h,y:i,width:v,height:l,stroke:"none",fill:n[k],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Oq=function(t,r){var n=t.xAxis,a=t.width,o=t.height,i=t.offset;return Y_(ex(dn(dn(dn({},$l.defaultProps),n),{},{ticks:ho(n,!0),viewBox:{x:0,y:0,width:a,height:o}})),i.left,i.left+i.width,r)},Pq=function(t,r){var n=t.yAxis,a=t.width,o=t.height,i=t.offset;return Y_(ex(dn(dn(dn({},$l.defaultProps),n),{},{ticks:ho(n,!0),viewBox:{x:0,y:0,width:a,height:o}})),i.top,i.top+i.height,r)},ds={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function qa(e){var t,r,n,a,o,i,s=Zv(),l=Qv(),c=gY(),d=dn(dn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:ds.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:ds.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:ds.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:ds.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:ds.vertical,verticalFill:(i=e.verticalFill)!==null&&i!==void 0?i:ds.verticalFill,x:de(e.x)?e.x:c.left,y:de(e.y)?e.y:c.top,width:de(e.width)?e.width:c.width,height:de(e.height)?e.height:c.height}),f=d.x,h=d.y,p=d.width,m=d.height,v=d.syncWithTicks,k=d.horizontalValues,y=d.verticalValues,g=dY(),x=hY();if(!de(p)||p<=0||!de(m)||m<=0||!de(f)||f!==+f||!de(h)||h!==+h)return null;var j=d.verticalCoordinatesGenerator||Oq,b=d.horizontalCoordinatesGenerator||Pq,w=d.horizontalPoints,N=d.verticalPoints;if((!w||!w.length)&&Ge(b)){var _=k&&k.length,O=b({yAxis:x?dn(dn({},x),{},{ticks:_?k:x.ticks}):void 0,width:s,height:l,offset:c},_?!0:v);mo(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Xi(O),"]")),Array.isArray(O)&&(w=O)}if((!N||!N.length)&&Ge(j)){var P=y&&y.length,M=j({xAxis:g?dn(dn({},g),{},{ticks:P?y:g.ticks}):void 0,width:s,height:l,offset:c},P?!0:v);mo(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Xi(M),"]")),Array.isArray(M)&&(N=M)}return I.createElement("g",{className:"recharts-cartesian-grid"},I.createElement(kq,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),I.createElement(jq,Mi({},d,{offset:c,horizontalPoints:w,xAxis:g,yAxis:x})),I.createElement(Sq,Mi({},d,{offset:c,verticalPoints:N,xAxis:g,yAxis:x})),I.createElement(Nq,Mi({},d,{horizontalPoints:w})),I.createElement(_q,Mi({},d,{verticalPoints:N})))}qa.displayName="CartesianGrid";var Aq=["type","layout","connectNulls","ref"],Mq=["key"];function ul(e){"@babel/helpers - typeof";return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ul(e)}function V2(e,t){if(e==null)return{};var r=Cq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Cq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wc(){return wc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wc.apply(this,arguments)}function X2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X2(Object(r),!0).forEach(function(n){Pa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hs(e){return Dq(e)||$q(e)||Tq(e)||Eq()}function Eq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tq(e,t){if(e){if(typeof e=="string")return Fm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fm(e,t)}}function $q(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Dq(e){if(Array.isArray(e))return Fm(e)}function Fm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Rq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zO(n.key),n)}}function Lq(e,t,r){return t&&K2(e.prototype,t),r&&K2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Iq(e,t,r){return t=ch(t),Bq(e,FO()?Reflect.construct(t,r||[],ch(e).constructor):t.apply(e,r))}function Bq(e,t){if(t&&(ul(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fq(e)}function Fq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FO=function(){return!!e})()}function ch(e){return ch=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ch(e)}function zq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zm(e,t)}function zm(e,t){return zm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zm(e,t)}function Pa(e,t,r){return t=zO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zO(e){var t=Uq(e,"string");return ul(t)=="symbol"?t:t+""}function Uq(e,t){if(ul(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ul(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Sr=function(e){function t(){var r;Rq(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=Iq(this,t,[].concat(a)),Pa(r,"state",{isAnimationFinished:!0,totalLength:0}),Pa(r,"generateSimpleStrokeDasharray",function(i,s){return"".concat(s,"px ").concat(i-s,"px")}),Pa(r,"getStrokeDasharray",function(i,s,l){var c=l.reduce(function(y,g){return y+g});if(!c)return r.generateSimpleStrokeDasharray(s,i);for(var d=Math.floor(i/c),f=i%c,h=s-i,p=[],m=0,v=0;m<l.length;v+=l[m],++m)if(v+l[m]>f){p=[].concat(hs(l.slice(0,m)),[f-v]);break}var k=p.length%2===0?[0,h]:[h];return[].concat(hs(t.repeat(l,d)),hs(p),k).map(function(y){return"".concat(y,"px")}).join(", ")}),Pa(r,"id",Qi("recharts-line-")),Pa(r,"pathRef",function(i){r.mainCurve=i}),Pa(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Pa(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return zq(t,e),Lq(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.points,s=o.xAxis,l=o.yAxis,c=o.layout,d=o.children,f=Fn(d,Tl);if(!f)return null;var h=function(v,k){return{x:v.x,y:v.y,value:v.value,errorVal:Lr(v.payload,k)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return I.createElement(ht,p,f.map(function(m){return I.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:i,xAxis:s,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,o){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,c=s.points,d=s.dataKey,f=We(this.props,!1),h=We(l,!0),p=c.map(function(v,k){var y=Kn(Kn(Kn({key:"dot-".concat(k),r:3},f),h),{},{index:k,cx:v.x,cy:v.y,value:v.value,dataKey:d,payload:v.payload,points:c});return t.renderDotItem(l,y)}),m={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return I.createElement(ht,wc({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(n,a,o,i){var s=this.props,l=s.type,c=s.layout,d=s.connectNulls;s.ref;var f=V2(s,Aq),h=Kn(Kn(Kn({},We(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(o,")"):null,points:n},i),{},{type:l,layout:c,connectNulls:d});return I.createElement(Ri,wc({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var o=this,i=this.props,s=i.points,l=i.strokeDasharray,c=i.isAnimationActive,d=i.animationBegin,f=i.animationDuration,h=i.animationEasing,p=i.animationId,m=i.animateNewValues,v=i.width,k=i.height,y=this.state,g=y.prevPoints,x=y.totalLength;return I.createElement(Da,{begin:d,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var b=j.t;if(g){var w=g.length/s.length,N=s.map(function(C,$){var F=Math.floor($*w);if(g[F]){var T=g[F],U=xr(T.x,C.x),A=xr(T.y,C.y);return Kn(Kn({},C),{},{x:U(b),y:A(b)})}if(m){var E=xr(v*2,C.x),D=xr(k/2,C.y);return Kn(Kn({},C),{},{x:E(b),y:D(b)})}return Kn(Kn({},C),{},{x:C.x,y:C.y})});return o.renderCurveStatically(N,n,a)}var _=xr(0,x),O=_(b),P;if(l){var M="".concat(l).split(/[,\s]+/gim).map(function(C){return parseFloat(C)});P=o.getStrokeDasharray(O,x,M)}else P=o.generateSimpleStrokeDasharray(x,O);return o.renderCurveStatically(s,n,a,{strokeDasharray:P})})}},{key:"renderCurve",value:function(n,a){var o=this.props,i=o.points,s=o.isAnimationActive,l=this.state,c=l.prevPoints,d=l.totalLength;return s&&i&&i.length&&(!c&&d>0||!Gi(c,i))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(i,n,a)}},{key:"render",value:function(){var n,a=this.props,o=a.hide,i=a.dot,s=a.points,l=a.className,c=a.xAxis,d=a.yAxis,f=a.top,h=a.left,p=a.width,m=a.height,v=a.isAnimationActive,k=a.id;if(o||!s||!s.length)return null;var y=this.state.isAnimationFinished,g=s.length===1,x=at("recharts-line",l),j=c&&c.allowDataOverflow,b=d&&d.allowDataOverflow,w=j||b,N=Fe(k)?this.id:k,_=(n=We(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},O=_.r,P=O===void 0?3:O,M=_.strokeWidth,C=M===void 0?2:M,$=WS(i)?i:{},F=$.clipDot,T=F===void 0?!0:F,U=P*2+C;return I.createElement(ht,{className:x},j||b?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(N)},I.createElement("rect",{x:j?h:h-p/2,y:b?f:f-m/2,width:j?p:p*2,height:b?m:m*2})),!T&&I.createElement("clipPath",{id:"clipPath-dots-".concat(N)},I.createElement("rect",{x:h-U/2,y:f-U/2,width:p+U,height:m+U}))):null,!g&&this.renderCurve(w,N),this.renderErrorBar(w,N),(g||i)&&this.renderDots(w,T,N),(!v||y)&&Ka.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var o=n.length%2!==0?[].concat(hs(n),[0]):n,i=[],s=0;s<a;++s)i=[].concat(hs(i),hs(o));return i}},{key:"renderDotItem",value:function(n,a){var o;if(I.isValidElement(n))o=I.cloneElement(n,a);else if(Ge(n))o=n(a);else{var i=a.key,s=V2(a,Mq),l=at("recharts-line-dot",typeof n!="boolean"?n.className:"");o=I.createElement(d0,wc({key:i},s,{className:l}))}return o}}])}(S.PureComponent);Pa(Sr,"displayName","Line");Pa(Sr,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ci.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Pa(Sr,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,i=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,d=t.layout,f=l.map(function(h,p){var m=Lr(h,i);return d==="horizontal"?{x:tl({axis:r,ticks:a,bandSize:s,entry:h,index:p}),y:Fe(m)?null:n.scale(m),value:m,payload:h}:{x:Fe(m)?null:r.scale(m),y:tl({axis:n,ticks:o,bandSize:s,entry:h,index:p}),value:m,payload:h}});return Kn({points:f,layout:d},c)});var Wq=["layout","type","stroke","connectNulls","isRange","ref"],Gq=["key"],UO;function fl(e){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fl(e)}function WO(e,t){if(e==null)return{};var r=Hq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Hq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ci(){return Ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ci.apply(this,arguments)}function Y2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function To(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y2(Object(r),!0).forEach(function(n){Wa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HO(n.key),n)}}function Xq(e,t,r){return t&&q2(e.prototype,t),r&&q2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kq(e,t,r){return t=uh(t),Yq(e,GO()?Reflect.construct(t,r||[],uh(e).constructor):t.apply(e,r))}function Yq(e,t){if(t&&(fl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qq(e)}function qq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GO=function(){return!!e})()}function uh(e){return uh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uh(e)}function Zq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Um(e,t)}function Um(e,t){return Um=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Um(e,t)}function Wa(e,t,r){return t=HO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HO(e){var t=Qq(e,"string");return fl(t)=="symbol"?t:t+""}function Qq(e,t){if(fl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var pa=function(e){function t(){var r;Vq(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=Kq(this,t,[].concat(a)),Wa(r,"state",{isAnimationFinished:!0}),Wa(r,"id",Qi("recharts-area-")),Wa(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ge(i)&&i()}),Wa(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ge(i)&&i()}),r}return Zq(t,e),Xq(t,[{key:"renderDots",value:function(n,a,o){var i=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(i&&!s)return null;var l=this.props,c=l.dot,d=l.points,f=l.dataKey,h=We(this.props,!1),p=We(c,!0),m=d.map(function(k,y){var g=To(To(To({key:"dot-".concat(y),r:3},h),p),{},{index:y,cx:k.x,cy:k.y,dataKey:f,value:k.value,payload:k.payload,points:d});return t.renderDotItem(c,g)}),v={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return I.createElement(ht,Ci({className:"recharts-area-dots"},v),m)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,o=a.baseLine,i=a.points,s=a.strokeWidth,l=i[0].x,c=i[i.length-1].x,d=n*Math.abs(l-c),f=Uo(i.map(function(h){return h.y||0}));return de(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(Uo(o.map(function(h){return h.y||0})),f)),de(f)?I.createElement("rect",{x:l<c?l:l-d,y:0,width:d,height:Math.floor(f+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,o=a.baseLine,i=a.points,s=a.strokeWidth,l=i[0].y,c=i[i.length-1].y,d=n*Math.abs(l-c),f=Uo(i.map(function(h){return h.x||0}));return de(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(Uo(o.map(function(h){return h.x||0})),f)),de(f)?I.createElement("rect",{x:0,y:l<c?l:l-d,width:f+(s?parseInt("".concat(s),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,o,i){var s=this.props,l=s.layout,c=s.type,d=s.stroke,f=s.connectNulls,h=s.isRange;s.ref;var p=WO(s,Wq);return I.createElement(ht,{clipPath:o?"url(#clipPath-".concat(i,")"):null},I.createElement(Ri,Ci({},We(p,!0),{points:n,connectNulls:f,type:c,baseLine:a,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&I.createElement(Ri,Ci({},We(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&I.createElement(Ri,Ci({},We(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var o=this,i=this.props,s=i.points,l=i.baseLine,c=i.isAnimationActive,d=i.animationBegin,f=i.animationDuration,h=i.animationEasing,p=i.animationId,m=this.state,v=m.prevPoints,k=m.prevBaseLine;return I.createElement(Da,{begin:d,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var g=y.t;if(v){var x=v.length/s.length,j=s.map(function(_,O){var P=Math.floor(O*x);if(v[P]){var M=v[P],C=xr(M.x,_.x),$=xr(M.y,_.y);return To(To({},_),{},{x:C(g),y:$(g)})}return _}),b;if(de(l)&&typeof l=="number"){var w=xr(k,l);b=w(g)}else if(Fe(l)||_l(l)){var N=xr(k,0);b=N(g)}else b=l.map(function(_,O){var P=Math.floor(O*x);if(k[P]){var M=k[P],C=xr(M.x,_.x),$=xr(M.y,_.y);return To(To({},_),{},{x:C(g),y:$(g)})}return _});return o.renderAreaStatically(j,b,n,a)}return I.createElement(ht,null,I.createElement("defs",null,I.createElement("clipPath",{id:"animationClipPath-".concat(a)},o.renderClipRect(g))),I.createElement(ht,{clipPath:"url(#animationClipPath-".concat(a,")")},o.renderAreaStatically(s,l,n,a)))})}},{key:"renderArea",value:function(n,a){var o=this.props,i=o.points,s=o.baseLine,l=o.isAnimationActive,c=this.state,d=c.prevPoints,f=c.prevBaseLine,h=c.totalLength;return l&&i&&i.length&&(!d&&h>0||!Gi(d,i)||!Gi(f,s))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(i,s,n,a)}},{key:"render",value:function(){var n,a=this.props,o=a.hide,i=a.dot,s=a.points,l=a.className,c=a.top,d=a.left,f=a.xAxis,h=a.yAxis,p=a.width,m=a.height,v=a.isAnimationActive,k=a.id;if(o||!s||!s.length)return null;var y=this.state.isAnimationFinished,g=s.length===1,x=at("recharts-area",l),j=f&&f.allowDataOverflow,b=h&&h.allowDataOverflow,w=j||b,N=Fe(k)?this.id:k,_=(n=We(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},O=_.r,P=O===void 0?3:O,M=_.strokeWidth,C=M===void 0?2:M,$=WS(i)?i:{},F=$.clipDot,T=F===void 0?!0:F,U=P*2+C;return I.createElement(ht,{className:x},j||b?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(N)},I.createElement("rect",{x:j?d:d-p/2,y:b?c:c-m/2,width:j?p:p*2,height:b?m:m*2})),!T&&I.createElement("clipPath",{id:"clipPath-dots-".concat(N)},I.createElement("rect",{x:d-U/2,y:c-U/2,width:p+U,height:m+U}))):null,g?null:this.renderArea(w,N),(i||g)&&this.renderDots(w,T,N),(!v||y)&&Ka.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(S.PureComponent);UO=pa;Wa(pa,"displayName","Area");Wa(pa,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!ci.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Wa(pa,"getBaseValue",function(e,t,r,n){var a=e.layout,o=e.baseValue,i=t.props.baseValue,s=i??o;if(de(s)&&typeof s=="number")return s;var l=a==="horizontal"?n:r,c=l.scale.domain();if(l.type==="number"){var d=Math.max(c[0],c[1]),f=Math.min(c[0],c[1]);return s==="dataMin"?f:s==="dataMax"||d<0?d:Math.max(Math.min(c[0],c[1]),0)}return s==="dataMin"?c[0]:s==="dataMax"?c[1]:c[0]});Wa(pa,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,o=e.xAxisTicks,i=e.yAxisTicks,s=e.bandSize,l=e.dataKey,c=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=t.layout,m=c&&c.length,v=UO.getBaseValue(t,r,n,a),k=p==="horizontal",y=!1,g=f.map(function(j,b){var w;m?w=c[d+b]:(w=Lr(j,l),Array.isArray(w)?y=!0:w=[v,w]);var N=w[1]==null||m&&Lr(j,l)==null;return k?{x:tl({axis:n,ticks:o,bandSize:s,entry:j,index:b}),y:N?null:a.scale(w[1]),value:w,payload:j}:{x:N?null:n.scale(w[1]),y:tl({axis:a,ticks:i,bandSize:s,entry:j,index:b}),value:w,payload:j}}),x;return m||y?x=g.map(function(j){var b=Array.isArray(j.value)?j.value[0]:null;return k?{x:j.x,y:b!=null&&j.y!=null?a.scale(b):null}:{x:b!=null?n.scale(b):null,y:j.y}}):x=k?a.scale(v):n.scale(v),To({points:g,baseLine:x,layout:p,isRange:y},h)});Wa(pa,"renderDotItem",function(e,t){var r;if(I.isValidElement(e))r=I.cloneElement(e,t);else if(Ge(e))r=e(t);else{var n=at("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,o=WO(t,Gq);r=I.createElement(d0,Ci({},o,{key:a,className:n}))}return r});function dl(e){"@babel/helpers - typeof";return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dl(e)}function Jq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KO(n.key),n)}}function tZ(e,t,r){return t&&eZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rZ(e,t,r){return t=fh(t),nZ(e,VO()?Reflect.construct(t,r||[],fh(e).constructor):t.apply(e,r))}function nZ(e,t){if(t&&(dl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aZ(e)}function aZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VO=function(){return!!e})()}function fh(e){return fh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fh(e)}function oZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wm(e,t)}function Wm(e,t){return Wm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Wm(e,t)}function XO(e,t,r){return t=KO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KO(e){var t=iZ(e,"string");return dl(t)=="symbol"?t:t+""}function iZ(e,t){if(dl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var v0=function(e){function t(){return Jq(this,t),rZ(this,t,arguments)}return oZ(t,e),tZ(t,[{key:"render",value:function(){return null}}])}(S.Component);XO(v0,"displayName","ZAxis");XO(v0,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var sZ=["option","isActive"];function kc(){return kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kc.apply(this,arguments)}function lZ(e,t){if(e==null)return{};var r=cZ(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uZ(e){var t=e.option,r=e.isActive,n=lZ(e,sZ);return typeof t=="string"?S.createElement(Am,kc({option:S.createElement(Jh,kc({type:t},n)),isActive:r,shapeType:"symbols"},n)):S.createElement(Am,kc({option:t,isActive:r,shapeType:"symbols"},n))}function hl(e){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hl(e)}function jc(){return jc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jc.apply(this,arguments)}function Z2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ca(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z2(Object(r),!0).forEach(function(n){Ho(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qO(n.key),n)}}function dZ(e,t,r){return t&&Q2(e.prototype,t),r&&Q2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function hZ(e,t,r){return t=dh(t),pZ(e,YO()?Reflect.construct(t,r||[],dh(e).constructor):t.apply(e,r))}function pZ(e,t){if(t&&(hl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gZ(e)}function gZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YO=function(){return!!e})()}function dh(e){return dh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dh(e)}function mZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gm(e,t)}function Gm(e,t){return Gm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Gm(e,t)}function Ho(e,t,r){return t=qO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qO(e){var t=yZ(e,"string");return hl(t)=="symbol"?t:t+""}function yZ(e,t){if(hl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var kn=function(e){function t(){var r;fZ(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=hZ(this,t,[].concat(a)),Ho(r,"state",{isAnimationFinished:!1}),Ho(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),Ho(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),Ho(r,"id",Qi("recharts-scatter-")),r}return mZ(t,e),dZ(t,[{key:"renderSymbolsStatically",value:function(n){var a=this,o=this.props,i=o.shape,s=o.activeShape,l=o.activeIndex,c=We(this.props,!1);return n.map(function(d,f){var h=l===f,p=h?s:i,m=ca(ca({},c),d);return I.createElement(ht,jc({className:"recharts-scatter-symbol",key:"symbol-".concat(d==null?void 0:d.cx,"-").concat(d==null?void 0:d.cy,"-").concat(d==null?void 0:d.size,"-").concat(f)},Uc(a.props,d,f),{role:"img"}),I.createElement(uZ,jc({option:p,isActive:h,key:"symbol-".concat(f)},m)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,a=this.props,o=a.points,i=a.isAnimationActive,s=a.animationBegin,l=a.animationDuration,c=a.animationEasing,d=a.animationId,f=this.state.prevPoints;return I.createElement(Da,{begin:s,duration:l,isActive:i,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var p=h.t,m=o.map(function(v,k){var y=f&&f[k];if(y){var g=xr(y.cx,v.cx),x=xr(y.cy,v.cy),j=xr(y.size,v.size);return ca(ca({},v),{},{cx:g(p),cy:x(p),size:j(p)})}var b=xr(0,v.size);return ca(ca({},v),{},{size:b(p)})});return I.createElement(ht,null,n.renderSymbolsStatically(m))})}},{key:"renderSymbols",value:function(){var n=this.props,a=n.points,o=n.isAnimationActive,i=this.state.prevPoints;return o&&a&&a.length&&(!i||!Gi(i,a))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(a)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,i=a.xAxis,s=a.yAxis,l=a.children,c=Fn(l,Tl);return c?c.map(function(d,f){var h=d.props,p=h.direction,m=h.dataKey;return I.cloneElement(d,{key:"".concat(p,"-").concat(m,"-").concat(o[f]),data:o,xAxis:i,yAxis:s,layout:p==="x"?"vertical":"horizontal",dataPointFormatter:function(k,y){return{x:k.cx,y:k.cy,value:p==="x"?+k.node.x:+k.node.y,errorVal:Lr(k,y)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,a=n.points,o=n.line,i=n.lineType,s=n.lineJointType,l=We(this.props,!1),c=We(o,!1),d,f;if(i==="joint")d=a.map(function(x){return{x:x.cx,y:x.cy}});else if(i==="fitting"){var h=HT(a),p=h.xmin,m=h.xmax,v=h.a,k=h.b,y=function(j){return v*j+k};d=[{x:p,y:y(p)},{x:m,y:y(m)}]}var g=ca(ca(ca({},l),{},{fill:"none",stroke:l&&l.fill},c),{},{points:d});return I.isValidElement(o)?f=I.cloneElement(o,g):Ge(o)?f=o(g):f=I.createElement(Ri,jc({},g,{type:s})),I.createElement(ht,{className:"recharts-scatter-line",key:"recharts-scatter-line"},f)}},{key:"render",value:function(){var n=this.props,a=n.hide,o=n.points,i=n.line,s=n.className,l=n.xAxis,c=n.yAxis,d=n.left,f=n.top,h=n.width,p=n.height,m=n.id,v=n.isAnimationActive;if(a||!o||!o.length)return null;var k=this.state.isAnimationFinished,y=at("recharts-scatter",s),g=l&&l.allowDataOverflow,x=c&&c.allowDataOverflow,j=g||x,b=Fe(m)?this.id:m;return I.createElement(ht,{className:y,clipPath:j?"url(#clipPath-".concat(b,")"):null},g||x?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(b)},I.createElement("rect",{x:g?d:d-h/2,y:x?f:f-p/2,width:g?h:h*2,height:x?p:p*2}))):null,i&&this.renderLine(),this.renderErrorBar(),I.createElement(ht,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!v||k)&&Ka.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}}])}(S.PureComponent);Ho(kn,"displayName","Scatter");Ho(kn,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!ci.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});Ho(kn,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,n=e.zAxis,a=e.item,o=e.displayedData,i=e.xAxisTicks,s=e.yAxisTicks,l=e.offset,c=a.props.tooltipType,d=Fn(a.props.children,bv),f=Fe(t.dataKey)?a.props.dataKey:t.dataKey,h=Fe(r.dataKey)?a.props.dataKey:r.dataKey,p=n&&n.dataKey,m=n?n.range:v0.defaultProps.range,v=m&&m[0],k=t.scale.bandwidth?t.scale.bandwidth():0,y=r.scale.bandwidth?r.scale.bandwidth():0,g=o.map(function(x,j){var b=Lr(x,f),w=Lr(x,h),N=!Fe(p)&&Lr(x,p)||"-",_=[{name:Fe(t.dataKey)?a.props.name:t.name||t.dataKey,unit:t.unit||"",value:b,payload:x,dataKey:f,type:c},{name:Fe(r.dataKey)?a.props.name:r.name||r.dataKey,unit:r.unit||"",value:w,payload:x,dataKey:h,type:c}];N!=="-"&&_.push({name:n.name||n.dataKey,unit:n.unit||"",value:N,payload:x,dataKey:p,type:c});var O=tl({axis:t,ticks:i,bandSize:k,entry:x,index:j,dataKey:f}),P=tl({axis:r,ticks:s,bandSize:y,entry:x,index:j,dataKey:h}),M=N!=="-"?n.scale(N):v,C=Math.sqrt(Math.max(M,0)/Math.PI);return ca(ca({},x),{},{cx:O,cy:P,x:O-C,y:P-C,xAxis:t,yAxis:r,zAxis:n,width:2*C,height:2*C,size:M,node:{x:b,y:w,z:N},tooltipPayload:_,tooltipPosition:{x:O,y:P},payload:x},d&&d[j]&&d[j].props)});return ca({points:g},l)});function pl(e){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pl(e)}function vZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JO(n.key),n)}}function bZ(e,t,r){return t&&xZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wZ(e,t,r){return t=hh(t),kZ(e,ZO()?Reflect.construct(t,r||[],hh(e).constructor):t.apply(e,r))}function kZ(e,t){if(t&&(pl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jZ(e)}function jZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZO=function(){return!!e})()}function hh(e){return hh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hh(e)}function SZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hm(e,t)}function Hm(e,t){return Hm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Hm(e,t)}function QO(e,t,r){return t=JO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JO(e){var t=NZ(e,"string");return pl(t)=="symbol"?t:t+""}function NZ(e,t){if(pl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Vm(){return Vm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vm.apply(this,arguments)}function _Z(e){var t=e.xAxisId,r=Zv(),n=Qv(),a=PO(t);return a==null?null:S.createElement($l,Vm({},a,{className:at("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(i){return ho(i,!0)}}))}var zn=function(e){function t(){return vZ(this,t),wZ(this,t,arguments)}return SZ(t,e),bZ(t,[{key:"render",value:function(){return S.createElement(_Z,this.props)}}])}(S.Component);QO(zn,"displayName","XAxis");QO(zn,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function gl(e){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gl(e)}function OZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rP(n.key),n)}}function AZ(e,t,r){return t&&PZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function MZ(e,t,r){return t=ph(t),CZ(e,eP()?Reflect.construct(t,r||[],ph(e).constructor):t.apply(e,r))}function CZ(e,t){if(t&&(gl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EZ(e)}function EZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eP=function(){return!!e})()}function ph(e){return ph=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ph(e)}function TZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xm(e,t)}function Xm(e,t){return Xm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Xm(e,t)}function tP(e,t,r){return t=rP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rP(e){var t=$Z(e,"string");return gl(t)=="symbol"?t:t+""}function $Z(e,t){if(gl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Km(){return Km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Km.apply(this,arguments)}var DZ=function(t){var r=t.yAxisId,n=Zv(),a=Qv(),o=AO(r);return o==null?null:S.createElement($l,Km({},o,{className:at("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(s){return ho(s,!0)}}))},Un=function(e){function t(){return OZ(this,t),MZ(this,t,arguments)}return TZ(t,e),AZ(t,[{key:"render",value:function(){return S.createElement(DZ,this.props)}}])}(S.Component);tP(Un,"displayName","YAxis");tP(Un,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function J2(e){return BZ(e)||IZ(e)||LZ(e)||RZ()}function RZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LZ(e,t){if(e){if(typeof e=="string")return Ym(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ym(e,t)}}function IZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BZ(e){if(Array.isArray(e))return Ym(e)}function Ym(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var qm=function(t,r,n,a,o){var i=Fn(t,Go),s=Fn(t,Lu),l=[].concat(J2(i),J2(s)),c=Fn(t,Iu),d="".concat(a,"Id"),f=a[0],h=r;if(l.length&&(h=l.reduce(function(v,k){if(k.props[d]===n&&Ya(k.props,"extendDomain")&&de(k.props[f])){var y=k.props[f];return[Math.min(v[0],y),Math.max(v[1],y)]}return v},h)),c.length){var p="".concat(f,"1"),m="".concat(f,"2");h=c.reduce(function(v,k){if(k.props[d]===n&&Ya(k.props,"extendDomain")&&de(k.props[p])&&de(k.props[m])){var y=k.props[p],g=k.props[m];return[Math.min(v[0],y,g),Math.max(v[1],y,g)]}return v},h)}return o&&o.length&&(h=o.reduce(function(v,k){return de(k)?[Math.min(v[0],k),Math.max(v[1],k)]:v},h)),h},nP={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function o(l,c,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||l,h),m=r?r+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function i(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)t.call(d,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},s.prototype.listeners=function(c){var d=r?r+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},s.prototype.listenerCount=function(c){var d=r?r+c:c,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(c,d,f,h,p,m){var v=r?r+c:c;if(!this._events[v])return!1;var k=this._events[v],y=arguments.length,g,x;if(k.fn){switch(k.once&&this.removeListener(c,k.fn,void 0,!0),y){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,d),!0;case 3:return k.fn.call(k.context,d,f),!0;case 4:return k.fn.call(k.context,d,f,h),!0;case 5:return k.fn.call(k.context,d,f,h,p),!0;case 6:return k.fn.call(k.context,d,f,h,p,m),!0}for(x=1,g=new Array(y-1);x<y;x++)g[x-1]=arguments[x];k.fn.apply(k.context,g)}else{var j=k.length,b;for(x=0;x<j;x++)switch(k[x].once&&this.removeListener(c,k[x].fn,void 0,!0),y){case 1:k[x].fn.call(k[x].context);break;case 2:k[x].fn.call(k[x].context,d);break;case 3:k[x].fn.call(k[x].context,d,f);break;case 4:k[x].fn.call(k[x].context,d,f,h);break;default:if(!g)for(b=1,g=new Array(y-1);b<y;b++)g[b-1]=arguments[b];k[x].fn.apply(k[x].context,g)}}return!0},s.prototype.on=function(c,d,f){return o(this,c,d,f,!1)},s.prototype.once=function(c,d,f){return o(this,c,d,f,!0)},s.prototype.removeListener=function(c,d,f,h){var p=r?r+c:c;if(!this._events[p])return this;if(!d)return i(this,p),this;var m=this._events[p];if(m.fn)m.fn===d&&(!h||m.once)&&(!f||m.context===f)&&i(this,p);else{for(var v=0,k=[],y=m.length;v<y;v++)(m[v].fn!==d||h&&!m[v].once||f&&m[v].context!==f)&&k.push(m[v]);k.length?this._events[p]=k.length===1?k[0]:k:i(this,p)}return this},s.prototype.removeAllListeners=function(c){var d;return c?(d=r?r+c:c,this._events[d]&&i(this,d)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(nP);var FZ=nP.exports;const zZ=$t(FZ);var Sp=new zZ,Np="recharts.syncMouseEvents";function ku(e){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ku(e)}function UZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aP(n.key),n)}}function GZ(e,t,r){return t&&WZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _p(e,t,r){return t=aP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aP(e){var t=HZ(e,"string");return ku(t)=="symbol"?t:t+""}function HZ(e,t){if(ku(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ku(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var VZ=function(){function e(){UZ(this,e),_p(this,"activeIndex",0),_p(this,"coordinateList",[]),_p(this,"layout","horizontal")}return GZ(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,o=a===void 0?null:a,i=r.container,s=i===void 0?null:i,l=r.layout,c=l===void 0?null:l,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),o=a.x,i=a.y,s=a.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=o+l+c,h=i+this.offset.top+s/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function XZ(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&de(n)&&de(a))return!0}return!1}function KZ(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function oP(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,o=e.endAngle,i=Qr(t,r,n,a),s=Qr(t,r,n,o);return{points:[i,s],cx:t,cy:r,radius:n,startAngle:a,endAngle:o}}function YZ(e,t,r){var n,a,o,i;if(e==="horizontal")n=t.x,o=n,a=r.top,i=r.top+r.height;else if(e==="vertical")a=t.y,i=a,n=r.left,o=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,c=t.innerRadius,d=t.outerRadius,f=t.angle,h=Qr(s,l,c,f),p=Qr(s,l,d,f);n=h.x,a=h.y,o=p.x,i=p.y}else return oP(t);return[{x:n,y:a},{x:o,y:i}]}function ju(e){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ju(e)}function ek(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _f(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ek(Object(r),!0).forEach(function(n){qZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ek(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qZ(e,t,r){return t=ZZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZZ(e){var t=QZ(e,"string");return ju(t)=="symbol"?t:t+""}function QZ(e,t){if(ju(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JZ(e){var t,r,n=e.element,a=e.tooltipEventType,o=e.isActive,i=e.activeCoordinate,s=e.activePayload,l=e.offset,c=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!o||!i||h!=="ScatterChart"&&a!=="axis")return null;var m,v=Ri;if(h==="ScatterChart")m=i,v=NV;else if(h==="BarChart")m=KZ(f,i,l,d),v=Vv;else if(f==="radial"){var k=oP(i),y=k.cx,g=k.cy,x=k.radius,j=k.startAngle,b=k.endAngle;m={cx:y,cy:g,startAngle:j,endAngle:b,innerRadius:x,outerRadius:x},v=eO}else m={points:YZ(f,i,l)},v=Ri;var w=_f(_f(_f(_f({stroke:"#ccc",pointerEvents:"none"},l),m),We(p,!1)),{},{payload:s,payloadIndex:c,className:at("recharts-tooltip-cursor",p.className)});return S.isValidElement(p)?S.cloneElement(p,w):S.createElement(v,w)}var eQ=["item"],tQ=["children","className","width","height","style","compact","title","desc"];function ml(e){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ml(e)}function Ps(){return Ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ps.apply(this,arguments)}function tk(e,t){return aQ(e)||nQ(e,t)||sP(e,t)||rQ()}function rQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function aQ(e){if(Array.isArray(e))return e}function rk(e,t){if(e==null)return{};var r=oQ(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function iQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lP(n.key),n)}}function lQ(e,t,r){return t&&sQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cQ(e,t,r){return t=gh(t),uQ(e,iP()?Reflect.construct(t,r||[],gh(e).constructor):t.apply(e,r))}function uQ(e,t){if(t&&(ml(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fQ(e)}function fQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iP=function(){return!!e})()}function gh(e){return gh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gh(e)}function dQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zm(e,t)}function Zm(e,t){return Zm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Zm(e,t)}function yl(e){return gQ(e)||pQ(e)||sP(e)||hQ()}function hQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sP(e,t){if(e){if(typeof e=="string")return Qm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qm(e,t)}}function pQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gQ(e){if(Array.isArray(e))return Qm(e)}function Qm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nk(Object(r),!0).forEach(function(n){$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $e(e,t,r){return t=lP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lP(e){var t=mQ(e,"string");return ml(t)=="symbol"?t:t+""}function mQ(e,t){if(ml(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ml(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yQ={xAxis:["bottom","top"],yAxis:["left","right"]},vQ={width:"100%",height:"100%"},cP={x:0,y:0};function Of(e){return e}var xQ=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},bQ=function(t,r,n,a){var o=r.find(function(d){return d&&d.index===n});if(o){if(t==="horizontal")return{x:o.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:o.coordinate};if(t==="centric"){var i=o.coordinate,s=a.radius;return ee(ee(ee({},a),Qr(a.cx,a.cy,s,i)),{},{angle:i,radius:s})}var l=o.coordinate,c=a.angle;return ee(ee(ee({},a),Qr(a.cx,a.cy,l,c)),{},{angle:c,radius:l})}return cP},x0=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,o=r.dataEndIndex,i=(n??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(yl(s),yl(c)):s},[]);return i.length>0?i:t&&t.length&&de(a)&&de(o)?t.slice(a,o+1):[]};function uP(e){return e==="number"?[0,"auto"]:void 0}var Jm=function(t,r,n,a){var o=t.graphicalItems,i=t.tooltipAxis,s=x0(r,t);return n<0||!o||!o.length||n>=s.length?null:o.reduce(function(l,c){var d,f=(d=c.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(i.dataKey&&!i.allowDuplicatedCategory){var p=f===void 0?s:f;h=hd(p,i.dataKey,a)}else h=f&&f[n]||s[n];return h?[].concat(yl(l),[Z_(c,h)]):l},[])},ak=function(t,r,n,a){var o=a||{x:t.chartX,y:t.chartY},i=xQ(o,n),s=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,d=nW(i,s,c,l);if(d>=0&&c){var f=c[d]&&c[d].value,h=Jm(t,r,d,f),p=bQ(n,s,d,o);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},wQ=function(t,r){var n=r.axes,a=r.graphicalItems,o=r.axisType,i=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=K_(d,o);return n.reduce(function(m,v){var k,y=v.type.defaultProps!==void 0?ee(ee({},v.type.defaultProps),v.props):v.props,g=y.type,x=y.dataKey,j=y.allowDataOverflow,b=y.allowDuplicatedCategory,w=y.scale,N=y.ticks,_=y.includeHidden,O=y[i];if(m[O])return m;var P=x0(t.data,{graphicalItems:a.filter(function(K){var L,te=i in K.props?K.props[i]:(L=K.type.defaultProps)===null||L===void 0?void 0:L[i];return te===O}),dataStartIndex:l,dataEndIndex:c}),M=P.length,C,$,F;XZ(y.domain,j,g)&&(C=hm(y.domain,null,j),p&&(g==="number"||w!=="auto")&&(F=xc(P,x,"category")));var T=uP(g);if(!C||C.length===0){var U,A=(U=y.domain)!==null&&U!==void 0?U:T;if(x){if(C=xc(P,x,g),g==="category"&&p){var E=GT(C);b&&E?($=C,C=Jd(0,M)):b||(C=Dw(A,C,v).reduce(function(K,L){return K.indexOf(L)>=0?K:[].concat(yl(K),[L])},[]))}else if(g==="category")b?C=C.filter(function(K){return K!==""&&!Fe(K)}):C=Dw(A,C,v).reduce(function(K,L){return K.indexOf(L)>=0||L===""||Fe(L)?K:[].concat(yl(K),[L])},[]);else if(g==="number"){var D=lW(P,a.filter(function(K){var L,te,Q=i in K.props?K.props[i]:(L=K.type.defaultProps)===null||L===void 0?void 0:L[i],R="hide"in K.props?K.props.hide:(te=K.type.defaultProps)===null||te===void 0?void 0:te.hide;return Q===O&&(_||!R)}),x,o,d);D&&(C=D)}p&&(g==="number"||w!=="auto")&&(F=xc(P,x,"category"))}else p?C=Jd(0,M):s&&s[O]&&s[O].hasStack&&g==="number"?C=h==="expand"?[0,1]:q_(s[O].stackGroups,l,c):C=X_(P,a.filter(function(K){var L=i in K.props?K.props[i]:K.type.defaultProps[i],te="hide"in K.props?K.props.hide:K.type.defaultProps.hide;return L===O&&(_||!te)}),g,d,!0);if(g==="number")C=qm(f,C,O,o,N),A&&(C=hm(A,C,j));else if(g==="category"&&A){var G=A,Z=C.every(function(K){return G.indexOf(K)>=0});Z&&(C=G)}}return ee(ee({},m),{},$e({},O,ee(ee({},y),{},{axisType:o,domain:C,categoricalDomain:F,duplicateDomain:$,originalDomain:(k=y.domain)!==null&&k!==void 0?k:T,isCategorical:p,layout:d})))},{})},kQ=function(t,r){var n=r.graphicalItems,a=r.Axis,o=r.axisType,i=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,d=t.layout,f=t.children,h=x0(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),p=h.length,m=K_(d,o),v=-1;return n.reduce(function(k,y){var g=y.type.defaultProps!==void 0?ee(ee({},y.type.defaultProps),y.props):y.props,x=g[i],j=uP("number");if(!k[x]){v++;var b;return m?b=Jd(0,p):s&&s[x]&&s[x].hasStack?(b=q_(s[x].stackGroups,l,c),b=qm(f,b,x,o)):(b=hm(j,X_(h,n.filter(function(w){var N,_,O=i in w.props?w.props[i]:(N=w.type.defaultProps)===null||N===void 0?void 0:N[i],P="hide"in w.props?w.props.hide:(_=w.type.defaultProps)===null||_===void 0?void 0:_.hide;return O===x&&!P}),"number",d),a.defaultProps.allowDataOverflow),b=qm(f,b,x,o)),ee(ee({},k),{},$e({},x,ee(ee({axisType:o},a.defaultProps),{},{hide:!0,orientation:ma(yQ,"".concat(o,".").concat(v%2),null),domain:b,originalDomain:j,isCategorical:m,layout:d})))}return k},{})},jQ=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,o=r.AxisComp,i=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=Fn(d,o),p={};return h&&h.length?p=wQ(t,{axes:h,graphicalItems:i,axisType:a,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):i&&i.length&&(p=kQ(t,{Axis:o,graphicalItems:i,axisType:a,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),p},SQ=function(t){var r=Bo(t),n=ho(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:vv(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Wd(r,n)}},ok=function(t){var r=t.children,n=t.defaultShowTooltip,a=Zn(r,al),o=0,i=0;return t.data&&t.data.length!==0&&(i=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(o=a.props.startIndex),a.props.endIndex>=0&&(i=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!n}},NQ=function(t){return!t||!t.length?!1:t.some(function(r){var n=go(r&&r.type);return n&&n.indexOf("Bar")>=0})},ik=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},_Q=function(t,r){var n=t.props,a=t.graphicalItems,o=t.xAxisMap,i=o===void 0?{}:o,s=t.yAxisMap,l=s===void 0?{}:s,c=n.width,d=n.height,f=n.children,h=n.margin||{},p=Zn(f,al),m=Zn(f,Va),v=Object.keys(l).reduce(function(b,w){var N=l[w],_=N.orientation;return!N.mirror&&!N.hide?ee(ee({},b),{},$e({},_,b[_]+N.width)):b},{left:h.left||0,right:h.right||0}),k=Object.keys(i).reduce(function(b,w){var N=i[w],_=N.orientation;return!N.mirror&&!N.hide?ee(ee({},b),{},$e({},_,ma(b,"".concat(_))+N.height)):b},{top:h.top||0,bottom:h.bottom||0}),y=ee(ee({},k),v),g=y.bottom;p&&(y.bottom+=p.props.height||al.defaultProps.height),m&&r&&(y=iW(y,a,n,r));var x=c-y.left-y.right,j=d-y.top-y.bottom;return ee(ee({brushBottom:g},y),{},{width:Math.max(x,0),height:Math.max(j,0)})},OQ=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},rx=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,o=a===void 0?"axis":a,i=t.validateTooltipEventTypes,s=i===void 0?["axis"]:i,l=t.axisComponents,c=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(y,g){var x=g.graphicalItems,j=g.stackGroups,b=g.offset,w=g.updateId,N=g.dataStartIndex,_=g.dataEndIndex,O=y.barSize,P=y.layout,M=y.barGap,C=y.barCategoryGap,$=y.maxBarSize,F=ik(P),T=F.numericAxisName,U=F.cateAxisName,A=NQ(x),E=[];return x.forEach(function(D,G){var Z=x0(y.data,{graphicalItems:[D],dataStartIndex:N,dataEndIndex:_}),K=D.type.defaultProps!==void 0?ee(ee({},D.type.defaultProps),D.props):D.props,L=K.dataKey,te=K.maxBarSize,Q=K["".concat(T,"Id")],R=K["".concat(U,"Id")],ae={},fe=l.reduce(function(He,gt){var Wt=g["".concat(gt.axisType,"Map")],_r=K["".concat(gt.axisType,"Id")];Wt&&Wt[_r]||gt.axisType==="zAxis"||Vi();var Mt=Wt[_r];return ee(ee({},He),{},$e($e({},gt.axisType,Mt),"".concat(gt.axisType,"Ticks"),ho(Mt)))},ae),Y=fe[U],oe=fe["".concat(U,"Ticks")],pe=j&&j[Q]&&j[Q].hasStack&&bW(D,j[Q].stackGroups),H=go(D.type).indexOf("Bar")>=0,ie=Wd(Y,oe),se=[],je=A&&aW({barSize:O,stackGroups:j,totalSize:OQ(fe,U)});if(H){var Re,Le,pt=Fe(te)?$:te,Dt=(Re=(Le=Wd(Y,oe,!0))!==null&&Le!==void 0?Le:pt)!==null&&Re!==void 0?Re:0;se=oW({barGap:M,barCategoryGap:C,bandSize:Dt!==ie?Dt:ie,sizeList:je[R],maxBarSize:pt}),Dt!==ie&&(se=se.map(function(He){return ee(ee({},He),{},{position:ee(ee({},He.position),{},{offset:He.position.offset-Dt/2})})}))}var Me=D&&D.type&&D.type.getComposedData;Me&&E.push({props:ee(ee({},Me(ee(ee({},fe),{},{displayedData:Z,props:y,dataKey:L,item:D,bandSize:ie,barPosition:se,offset:b,stackedData:pe,layout:P,dataStartIndex:N,dataEndIndex:_}))),{},$e($e($e({key:D.key||"item-".concat(G)},T,fe[T]),U,fe[U]),"animationId",w)),childIndex:n$(D,y.children),item:D})}),E},p=function(y,g){var x=y.props,j=y.dataStartIndex,b=y.dataEndIndex,w=y.updateId;if(!Ab({props:x}))return null;var N=x.children,_=x.layout,O=x.stackOffset,P=x.data,M=x.reverseStackOrder,C=ik(_),$=C.numericAxisName,F=C.cateAxisName,T=Fn(N,n),U=yW(P,T,"".concat($,"Id"),"".concat(F,"Id"),O,M),A=l.reduce(function(K,L){var te="".concat(L.axisType,"Map");return ee(ee({},K),{},$e({},te,jQ(x,ee(ee({},L),{},{graphicalItems:T,stackGroups:L.axisType===$&&U,dataStartIndex:j,dataEndIndex:b}))))},{}),E=_Q(ee(ee({},A),{},{props:x,graphicalItems:T}),g==null?void 0:g.legendBBox);Object.keys(A).forEach(function(K){A[K]=d(x,A[K],E,K.replace("Map",""),r)});var D=A["".concat(F,"Map")],G=SQ(D),Z=h(x,ee(ee({},A),{},{dataStartIndex:j,dataEndIndex:b,updateId:w,graphicalItems:T,stackGroups:U,offset:E}));return ee(ee({formattedGraphicalItems:Z,graphicalItems:T,offset:E,stackGroups:U},G),A)},m=function(k){function y(g){var x,j,b;return iQ(this,y),b=cQ(this,y,[g]),$e(b,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),$e(b,"accessibilityManager",new VZ),$e(b,"handleLegendBBoxUpdate",function(w){if(w){var N=b.state,_=N.dataStartIndex,O=N.dataEndIndex,P=N.updateId;b.setState(ee({legendBBox:w},p({props:b.props,dataStartIndex:_,dataEndIndex:O,updateId:P},ee(ee({},b.state),{},{legendBBox:w}))))}}),$e(b,"handleReceiveSyncEvent",function(w,N,_){if(b.props.syncId===w){if(_===b.eventEmitterSymbol&&typeof b.props.syncMethod!="function")return;b.applySyncEvent(N)}}),$e(b,"handleBrushChange",function(w){var N=w.startIndex,_=w.endIndex;if(N!==b.state.dataStartIndex||_!==b.state.dataEndIndex){var O=b.state.updateId;b.setState(function(){return ee({dataStartIndex:N,dataEndIndex:_},p({props:b.props,dataStartIndex:N,dataEndIndex:_,updateId:O},b.state))}),b.triggerSyncEvent({dataStartIndex:N,dataEndIndex:_})}}),$e(b,"handleMouseEnter",function(w){var N=b.getMouseInfo(w);if(N){var _=ee(ee({},N),{},{isTooltipActive:!0});b.setState(_),b.triggerSyncEvent(_);var O=b.props.onMouseEnter;Ge(O)&&O(_,w)}}),$e(b,"triggeredAfterMouseMove",function(w){var N=b.getMouseInfo(w),_=N?ee(ee({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};b.setState(_),b.triggerSyncEvent(_);var O=b.props.onMouseMove;Ge(O)&&O(_,w)}),$e(b,"handleItemMouseEnter",function(w){b.setState(function(){return{isTooltipActive:!0,activeItem:w,activePayload:w.tooltipPayload,activeCoordinate:w.tooltipPosition||{x:w.cx,y:w.cy}}})}),$e(b,"handleItemMouseLeave",function(){b.setState(function(){return{isTooltipActive:!1}})}),$e(b,"handleMouseMove",function(w){w.persist(),b.throttleTriggeredAfterMouseMove(w)}),$e(b,"handleMouseLeave",function(w){b.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};b.setState(N),b.triggerSyncEvent(N);var _=b.props.onMouseLeave;Ge(_)&&_(N,w)}),$e(b,"handleOuterEvent",function(w){var N=r$(w),_=ma(b.props,"".concat(N));if(N&&Ge(_)){var O,P;/.*touch.*/i.test(N)?P=b.getMouseInfo(w.changedTouches[0]):P=b.getMouseInfo(w),_((O=P)!==null&&O!==void 0?O:{},w)}}),$e(b,"handleClick",function(w){var N=b.getMouseInfo(w);if(N){var _=ee(ee({},N),{},{isTooltipActive:!0});b.setState(_),b.triggerSyncEvent(_);var O=b.props.onClick;Ge(O)&&O(_,w)}}),$e(b,"handleMouseDown",function(w){var N=b.props.onMouseDown;if(Ge(N)){var _=b.getMouseInfo(w);N(_,w)}}),$e(b,"handleMouseUp",function(w){var N=b.props.onMouseUp;if(Ge(N)){var _=b.getMouseInfo(w);N(_,w)}}),$e(b,"handleTouchMove",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&b.throttleTriggeredAfterMouseMove(w.changedTouches[0])}),$e(b,"handleTouchStart",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&b.handleMouseDown(w.changedTouches[0])}),$e(b,"handleTouchEnd",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&b.handleMouseUp(w.changedTouches[0])}),$e(b,"handleDoubleClick",function(w){var N=b.props.onDoubleClick;if(Ge(N)){var _=b.getMouseInfo(w);N(_,w)}}),$e(b,"handleContextMenu",function(w){var N=b.props.onContextMenu;if(Ge(N)){var _=b.getMouseInfo(w);N(_,w)}}),$e(b,"triggerSyncEvent",function(w){b.props.syncId!==void 0&&Sp.emit(Np,b.props.syncId,w,b.eventEmitterSymbol)}),$e(b,"applySyncEvent",function(w){var N=b.props,_=N.layout,O=N.syncMethod,P=b.state.updateId,M=w.dataStartIndex,C=w.dataEndIndex;if(w.dataStartIndex!==void 0||w.dataEndIndex!==void 0)b.setState(ee({dataStartIndex:M,dataEndIndex:C},p({props:b.props,dataStartIndex:M,dataEndIndex:C,updateId:P},b.state)));else if(w.activeTooltipIndex!==void 0){var $=w.chartX,F=w.chartY,T=w.activeTooltipIndex,U=b.state,A=U.offset,E=U.tooltipTicks;if(!A)return;if(typeof O=="function")T=O(E,w);else if(O==="value"){T=-1;for(var D=0;D<E.length;D++)if(E[D].value===w.activeLabel){T=D;break}}var G=ee(ee({},A),{},{x:A.left,y:A.top}),Z=Math.min($,G.x+G.width),K=Math.min(F,G.y+G.height),L=E[T]&&E[T].value,te=Jm(b.state,b.props.data,T),Q=E[T]?{x:_==="horizontal"?E[T].coordinate:Z,y:_==="horizontal"?K:E[T].coordinate}:cP;b.setState(ee(ee({},w),{},{activeLabel:L,activeCoordinate:Q,activePayload:te,activeTooltipIndex:T}))}else b.setState(w)}),$e(b,"renderCursor",function(w){var N,_=b.state,O=_.isTooltipActive,P=_.activeCoordinate,M=_.activePayload,C=_.offset,$=_.activeTooltipIndex,F=_.tooltipAxisBandSize,T=b.getTooltipEventType(),U=(N=w.props.active)!==null&&N!==void 0?N:O,A=b.props.layout,E=w.key||"_recharts-cursor";return I.createElement(JZ,{key:E,activeCoordinate:P,activePayload:M,activeTooltipIndex:$,chartName:r,element:w,isActive:U,layout:A,offset:C,tooltipAxisBandSize:F,tooltipEventType:T})}),$e(b,"renderPolarAxis",function(w,N,_){var O=ma(w,"type.axisType"),P=ma(b.state,"".concat(O,"Map")),M=w.type.defaultProps,C=M!==void 0?ee(ee({},M),w.props):w.props,$=P&&P[C["".concat(O,"Id")]];return S.cloneElement(w,ee(ee({},$),{},{className:at(O,$.className),key:w.key||"".concat(N,"-").concat(_),ticks:ho($,!0)}))}),$e(b,"renderPolarGrid",function(w){var N=w.props,_=N.radialLines,O=N.polarAngles,P=N.polarRadius,M=b.state,C=M.radiusAxisMap,$=M.angleAxisMap,F=Bo(C),T=Bo($),U=T.cx,A=T.cy,E=T.innerRadius,D=T.outerRadius;return S.cloneElement(w,{polarAngles:Array.isArray(O)?O:ho(T,!0).map(function(G){return G.coordinate}),polarRadius:Array.isArray(P)?P:ho(F,!0).map(function(G){return G.coordinate}),cx:U,cy:A,innerRadius:E,outerRadius:D,key:w.key||"polar-grid",radialLines:_})}),$e(b,"renderLegend",function(){var w=b.state.formattedGraphicalItems,N=b.props,_=N.children,O=N.width,P=N.height,M=b.props.margin||{},C=O-(M.left||0)-(M.right||0),$=H_({children:_,formattedGraphicalItems:w,legendWidth:C,legendContent:c});if(!$)return null;var F=$.item,T=rk($,eQ);return S.cloneElement(F,ee(ee({},T),{},{chartWidth:O,chartHeight:P,margin:M,onBBoxUpdate:b.handleLegendBBoxUpdate}))}),$e(b,"renderTooltip",function(){var w,N=b.props,_=N.children,O=N.accessibilityLayer,P=Zn(_,Hr);if(!P)return null;var M=b.state,C=M.isTooltipActive,$=M.activeCoordinate,F=M.activePayload,T=M.activeLabel,U=M.offset,A=(w=P.props.active)!==null&&w!==void 0?w:C;return S.cloneElement(P,{viewBox:ee(ee({},U),{},{x:U.left,y:U.top}),active:A,label:T,payload:A?F:[],coordinate:$,accessibilityLayer:O})}),$e(b,"renderBrush",function(w){var N=b.props,_=N.margin,O=N.data,P=b.state,M=P.offset,C=P.dataStartIndex,$=P.dataEndIndex,F=P.updateId;return S.cloneElement(w,{key:w.key||"_recharts-brush",onChange:kf(b.handleBrushChange,w.props.onChange),data:O,x:de(w.props.x)?w.props.x:M.left,y:de(w.props.y)?w.props.y:M.top+M.height+M.brushBottom-(_.bottom||0),width:de(w.props.width)?w.props.width:M.width,startIndex:C,endIndex:$,updateId:"brush-".concat(F)})}),$e(b,"renderReferenceElement",function(w,N,_){if(!w)return null;var O=b,P=O.clipPathId,M=b.state,C=M.xAxisMap,$=M.yAxisMap,F=M.offset,T=w.type.defaultProps||{},U=w.props,A=U.xAxisId,E=A===void 0?T.xAxisId:A,D=U.yAxisId,G=D===void 0?T.yAxisId:D;return S.cloneElement(w,{key:w.key||"".concat(N,"-").concat(_),xAxis:C[E],yAxis:$[G],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:P})}),$e(b,"renderActivePoints",function(w){var N=w.item,_=w.activePoint,O=w.basePoint,P=w.childIndex,M=w.isRange,C=[],$=N.props.key,F=N.item.type.defaultProps!==void 0?ee(ee({},N.item.type.defaultProps),N.item.props):N.item.props,T=F.activeDot,U=F.dataKey,A=ee(ee({index:P,dataKey:U,cx:_.x,cy:_.y,r:4,fill:Hv(N.item),strokeWidth:2,stroke:"#fff",payload:_.payload,value:_.value},We(T,!1)),pd(T));return C.push(y.renderActiveDot(T,A,"".concat($,"-activePoint-").concat(P))),O?C.push(y.renderActiveDot(T,ee(ee({},A),{},{cx:O.x,cy:O.y}),"".concat($,"-basePoint-").concat(P))):M&&C.push(null),C}),$e(b,"renderGraphicChild",function(w,N,_){var O=b.filterFormatItem(w,N,_);if(!O)return null;var P=b.getTooltipEventType(),M=b.state,C=M.isTooltipActive,$=M.tooltipAxis,F=M.activeTooltipIndex,T=M.activeLabel,U=b.props.children,A=Zn(U,Hr),E=O.props,D=E.points,G=E.isRange,Z=E.baseLine,K=O.item.type.defaultProps!==void 0?ee(ee({},O.item.type.defaultProps),O.item.props):O.item.props,L=K.activeDot,te=K.hide,Q=K.activeBar,R=K.activeShape,ae=!!(!te&&C&&A&&(L||Q||R)),fe={};P!=="axis"&&A&&A.props.trigger==="click"?fe={onClick:kf(b.handleItemMouseEnter,w.props.onClick)}:P!=="axis"&&(fe={onMouseLeave:kf(b.handleItemMouseLeave,w.props.onMouseLeave),onMouseEnter:kf(b.handleItemMouseEnter,w.props.onMouseEnter)});var Y=S.cloneElement(w,ee(ee({},O.props),fe));function oe(gt){return typeof $.dataKey=="function"?$.dataKey(gt.payload):null}if(ae)if(F>=0){var pe,H;if($.dataKey&&!$.allowDuplicatedCategory){var ie=typeof $.dataKey=="function"?oe:"payload.".concat($.dataKey.toString());pe=hd(D,ie,T),H=G&&Z&&hd(Z,ie,T)}else pe=D==null?void 0:D[F],H=G&&Z&&Z[F];if(R||Q){var se=w.props.activeIndex!==void 0?w.props.activeIndex:F;return[S.cloneElement(w,ee(ee(ee({},O.props),fe),{},{activeIndex:se})),null,null]}if(!Fe(pe))return[Y].concat(yl(b.renderActivePoints({item:O,activePoint:pe,basePoint:H,childIndex:F,isRange:G})))}else{var je,Re=(je=b.getItemByXY(b.state.activeCoordinate))!==null&&je!==void 0?je:{graphicalItem:Y},Le=Re.graphicalItem,pt=Le.item,Dt=pt===void 0?w:pt,Me=Le.childIndex,He=ee(ee(ee({},O.props),fe),{},{activeIndex:Me});return[S.cloneElement(Dt,He),null,null]}return G?[Y,null,null]:[Y,null]}),$e(b,"renderCustomized",function(w,N,_){return S.cloneElement(w,ee(ee({key:"recharts-customized-".concat(_)},b.props),b.state))}),$e(b,"renderMap",{CartesianGrid:{handler:Of,once:!0},ReferenceArea:{handler:b.renderReferenceElement},ReferenceLine:{handler:Of},ReferenceDot:{handler:b.renderReferenceElement},XAxis:{handler:Of},YAxis:{handler:Of},Brush:{handler:b.renderBrush,once:!0},Bar:{handler:b.renderGraphicChild},Line:{handler:b.renderGraphicChild},Area:{handler:b.renderGraphicChild},Radar:{handler:b.renderGraphicChild},RadialBar:{handler:b.renderGraphicChild},Scatter:{handler:b.renderGraphicChild},Pie:{handler:b.renderGraphicChild},Funnel:{handler:b.renderGraphicChild},Tooltip:{handler:b.renderCursor,once:!0},PolarGrid:{handler:b.renderPolarGrid,once:!0},PolarAngleAxis:{handler:b.renderPolarAxis},PolarRadiusAxis:{handler:b.renderPolarAxis},Customized:{handler:b.renderCustomized}}),b.clipPathId="".concat((x=g.id)!==null&&x!==void 0?x:Qi("recharts"),"-clip"),b.throttleTriggeredAfterMouseMove=VN(b.triggeredAfterMouseMove,(j=g.throttleDelay)!==null&&j!==void 0?j:1e3/60),b.state={},b}return dQ(y,k),lQ(y,[{key:"componentDidMount",value:function(){var x,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,j=x.children,b=x.data,w=x.height,N=x.layout,_=Zn(j,Hr);if(_){var O=_.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var P=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,M=Jm(this.state,b,O,P),C=this.state.tooltipTicks[O].coordinate,$=(this.state.offset.top+w)/2,F=N==="horizontal",T=F?{x:C,y:$}:{y:C,x:$},U=this.state.formattedGraphicalItems.find(function(E){var D=E.item;return D.type.name==="Scatter"});U&&(T=ee(ee({},T),U.props.points[O].tooltipPosition),M=U.props.points[O].tooltipPayload);var A={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:P,activePayload:M,activeCoordinate:T};this.setState(A),this.renderCursor(_),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var b,w;this.accessibilityManager.setDetails({offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0}})}return null}},{key:"componentDidUpdate",value:function(x){Pg([Zn(x.children,Hr)],[Zn(this.props.children,Hr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=Zn(this.props.children,Hr);if(x&&typeof x.props.shared=="boolean"){var j=x.props.shared?"axis":"item";return s.indexOf(j)>=0?j:o}return o}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var j=this.container,b=j.getBoundingClientRect(),w=AF(b),N={chartX:Math.round(x.pageX-w.left),chartY:Math.round(x.pageY-w.top)},_=b.width/j.offsetWidth||1,O=this.inRange(N.chartX,N.chartY,_);if(!O)return null;var P=this.state,M=P.xAxisMap,C=P.yAxisMap,$=this.getTooltipEventType(),F=ak(this.state,this.props.data,this.props.layout,O);if($!=="axis"&&M&&C){var T=Bo(M).scale,U=Bo(C).scale,A=T&&T.invert?T.invert(N.chartX):null,E=U&&U.invert?U.invert(N.chartY):null;return ee(ee({},N),{},{xValue:A,yValue:E},F)}return F?ee(ee({},N),F):null}},{key:"inRange",value:function(x,j){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,w=this.props.layout,N=x/b,_=j/b;if(w==="horizontal"||w==="vertical"){var O=this.state.offset,P=N>=O.left&&N<=O.left+O.width&&_>=O.top&&_<=O.top+O.height;return P?{x:N,y:_}:null}var M=this.state,C=M.angleAxisMap,$=M.radiusAxisMap;if(C&&$){var F=Bo(C);return Iw({x:N,y:_},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,j=this.getTooltipEventType(),b=Zn(x,Hr),w={};b&&j==="axis"&&(b.props.trigger==="click"?w={onClick:this.handleClick}:w={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=pd(this.props,this.handleOuterEvent);return ee(ee({},N),w)}},{key:"addListener",value:function(){Sp.on(Np,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Sp.removeListener(Np,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,j,b){for(var w=this.state.formattedGraphicalItems,N=0,_=w.length;N<_;N++){var O=w[N];if(O.item===x||O.props.key===x.key||j===go(O.item.type)&&b===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,j=this.state.offset,b=j.left,w=j.top,N=j.height,_=j.width;return I.createElement("defs",null,I.createElement("clipPath",{id:x},I.createElement("rect",{x:b,y:w,height:N,width:_})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(j,b){var w=tk(b,2),N=w[0],_=w[1];return ee(ee({},j),{},$e({},N,_.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(j,b){var w=tk(b,2),N=w[0],_=w[1];return ee(ee({},j),{},$e({},N,_.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[x])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(x){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[x])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(x){var j=this.state,b=j.formattedGraphicalItems,w=j.activeItem;if(b&&b.length)for(var N=0,_=b.length;N<_;N++){var O=b[N],P=O.props,M=O.item,C=M.type.defaultProps!==void 0?ee(ee({},M.type.defaultProps),M.props):M.props,$=go(M.type);if($==="Bar"){var F=(P.data||[]).find(function(E){return gV(x,E)});if(F)return{graphicalItem:O,payload:F}}else if($==="RadialBar"){var T=(P.data||[]).find(function(E){return Iw(x,E)});if(T)return{graphicalItem:O,payload:T}}else if(h0(O,w)||p0(O,w)||yu(O,w)){var U=yX({graphicalItem:O,activeTooltipItem:w,itemData:C.data}),A=C.activeIndex===void 0?U:C.activeIndex;return{graphicalItem:ee(ee({},O),{},{childIndex:A}),payload:yu(O,w)?C.data[U]:O.props.data[U]}}}return null}},{key:"render",value:function(){var x=this;if(!Ab(this))return null;var j=this.props,b=j.children,w=j.className,N=j.width,_=j.height,O=j.style,P=j.compact,M=j.title,C=j.desc,$=rk(j,tQ),F=We($,!1);if(P)return I.createElement(T2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement(Mg,Ps({},F,{width:N,height:_,title:M,desc:C}),this.renderClipPath(),Cb(b,this.renderMap)));if(this.props.accessibilityLayer){var T,U;F.tabIndex=(T=this.props.tabIndex)!==null&&T!==void 0?T:0,F.role=(U=this.props.role)!==null&&U!==void 0?U:"application",F.onKeyDown=function(E){x.accessibilityManager.keyboardEvent(E)},F.onFocus=function(){x.accessibilityManager.focus()}}var A=this.parseEventsOfWrapper();return I.createElement(T2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement("div",Ps({className:at("recharts-wrapper",w),style:ee({position:"relative",cursor:"default",width:N,height:_},O)},A,{ref:function(D){x.container=D}}),I.createElement(Mg,Ps({},F,{width:N,height:_,title:M,desc:C,style:vQ}),this.renderClipPath(),Cb(b,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(S.Component);$e(m,"displayName",r),$e(m,"defaultProps",ee({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),$e(m,"getDerivedStateFromProps",function(k,y){var g=k.dataKey,x=k.data,j=k.children,b=k.width,w=k.height,N=k.layout,_=k.stackOffset,O=k.margin,P=y.dataStartIndex,M=y.dataEndIndex;if(y.updateId===void 0){var C=ok(k);return ee(ee(ee({},C),{},{updateId:0},p(ee(ee({props:k},C),{},{updateId:0}),y)),{},{prevDataKey:g,prevData:x,prevWidth:b,prevHeight:w,prevLayout:N,prevStackOffset:_,prevMargin:O,prevChildren:j})}if(g!==y.prevDataKey||x!==y.prevData||b!==y.prevWidth||w!==y.prevHeight||N!==y.prevLayout||_!==y.prevStackOffset||!Ds(O,y.prevMargin)){var $=ok(k),F={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},T=ee(ee({},ak(y,x,N)),{},{updateId:y.updateId+1}),U=ee(ee(ee({},$),F),T);return ee(ee(ee({},U),p(ee({props:k},U),y)),{},{prevDataKey:g,prevData:x,prevWidth:b,prevHeight:w,prevLayout:N,prevStackOffset:_,prevMargin:O,prevChildren:j})}if(!Pg(j,y.prevChildren)){var A,E,D,G,Z=Zn(j,al),K=Z&&(A=(E=Z.props)===null||E===void 0?void 0:E.startIndex)!==null&&A!==void 0?A:P,L=Z&&(D=(G=Z.props)===null||G===void 0?void 0:G.endIndex)!==null&&D!==void 0?D:M,te=K!==P||L!==M,Q=!Fe(x),R=Q&&!te?y.updateId:y.updateId+1;return ee(ee({updateId:R},p(ee(ee({props:k},y),{},{updateId:R,dataStartIndex:K,dataEndIndex:L}),y)),{},{prevChildren:j,dataStartIndex:K,dataEndIndex:L})}return null}),$e(m,"renderActiveDot",function(k,y,g){var x;return S.isValidElement(k)?x=S.cloneElement(k,y):Ge(k)?x=k(y):x=I.createElement(d0,y),I.createElement(ht,{className:"recharts-active-dot",key:g},x)});var v=S.forwardRef(function(y,g){return I.createElement(m,Ps({},y,{ref:g}))});return v.displayName=m.displayName,v},Is=rx({chartName:"LineChart",GraphicalChild:Sr,axisComponents:[{axisType:"xAxis",AxisComp:zn},{axisType:"yAxis",AxisComp:Un}],formatAxisMap:Xv}),PQ=rx({chartName:"ScatterChart",GraphicalChild:kn,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:zn},{axisType:"yAxis",AxisComp:Un},{axisType:"zAxis",AxisComp:v0}],formatAxisMap:Xv}),fP=rx({chartName:"AreaChart",GraphicalChild:pa,axisComponents:[{axisType:"xAxis",AxisComp:zn},{axisType:"yAxis",AxisComp:Un}],formatAxisMap:Xv});const AQ="modulepreload",MQ=function(e){return"/"+e},sk={},CQ=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),s=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=MQ(l),l in sk)return;sk[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":AQ,c||(f.as="script"),f.crossOrigin="",f.href=l,s&&f.setAttribute("nonce",s),document.head.appendChild(f),c)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(i){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i}return a.then(i=>{for(const s of i||[])s.status==="rejected"&&o(s.reason);return t().catch(o)})};function dP(e){const[[t,r,n],[a,o,i],[s,l,c]]=e,d=t*(o*c-i*l)-r*(a*c-i*s)+n*(a*l-o*s);if(Math.abs(d)<1e-10)return null;const f=1/d;return[[(o*c-i*l)*f,(n*l-r*c)*f,(r*i-n*o)*f],[(i*s-a*c)*f,(t*c-n*s)*f,(n*a-t*i)*f],[(a*l-o*s)*f,(r*s-t*l)*f,(t*o-r*a)*f]]}function lk(e,t){const r=[[0,0,0],[0,0,0],[0,0,0]];for(let n=0;n<3;n++)for(let a=0;a<3;a++)for(let o=0;o<3;o++)r[n][a]+=e[n][o]*t[o][a];return r}class Ki{constructor(t){wn(this,"size");wn(this,"isPowerOfTwo");wn(this,"_real");wn(this,"_imag");wn(this,"_scratch",null);wn(this,"_rev",null);wn(this,"_m",0);wn(this,"_internalFFT",null);wn(this,"_chirpReal",null);wn(this,"_chirpImag",null);wn(this,"_bReal",null);wn(this,"_bImag",null);wn(this,"_hanning",null);wn(this,"_windowSumSq",0);this.size=t,this.isPowerOfTwo=(t&t-1)===0&&t>0,this._real=new Float32Array(t),this._imag=new Float32Array(t),this.isPowerOfTwo?this.initRadix2():this.initBluestein()}initRadix2(){const t=this.size,r=Math.log2(t);this._rev=new Uint32Array(t);for(let n=0;n<t;n++){let a=0,o=n;for(let i=0;i<r;i++)a=a<<1|o&1,o>>>=1;this._rev[n]=a}}initBluestein(){const t=this.size;this._m=Math.pow(2,Math.ceil(Math.log2(2*t-1))),this._internalFFT=new Ki(this._m),this._chirpReal=new Float32Array(t),this._chirpImag=new Float32Array(t);for(let a=0;a<t;a++){const o=-Math.PI*(a*a)/t;this._chirpReal[a]=Math.cos(o),this._chirpImag[a]=Math.sin(o)}const r=new Float32Array(this._m),n=new Float32Array(this._m);for(let a=0;a<t;a++)r[a]=this._chirpReal[a],n[a]=-this._chirpImag[a];for(let a=1;a<t;a++)r[this._m-a]=r[a],n[this._m-a]=n[a];this._internalFFT.transform(r,n),this._bReal=new Float32Array(this._internalFFT._real),this._bImag=new Float32Array(this._internalFFT._imag)}initHanning(){if(this._hanning)return;const t=this.size;this._hanning=new Float32Array(t);let r=0;for(let n=0;n<t;n++){const a=.5*(1-Math.cos(2*Math.PI*n/(t-1)));this._hanning[n]=a,r+=a*a}this._windowSumSq=r}transform(t,r){this.isPowerOfTwo?this.transformRadix2(t,r):this.transformBluestein(t,r)}transformRadix2(t,r){const n=this.size,a=this._rev,o=this._real,i=this._imag;if(t===o)for(let s=0;s<n;s++){const l=a[s];if(s<l){const c=o[s],d=i[s];o[s]=o[l],i[s]=i[l],o[l]=c,i[l]=d}}else for(let s=0;s<n;s++){const l=a[s];o[s]=t[l],i[s]=r?r[l]:0}for(let s=2;s<=n;s*=2){const l=s/2,c=-2*Math.PI/s,d=Math.cos(c),f=Math.sin(c);for(let h=0;h<n;h+=s){let p=1,m=0;for(let v=0;v<l;v++){const k=h+v,y=h+v+l,g=p*o[y]-m*i[y],x=p*i[y]+m*o[y],j=o[k],b=i[k];o[k]=j+g,i[k]=b+x,o[y]=j-g,i[y]=b-x;const w=p*d-m*f,N=p*f+m*d;p=w,m=N}}}}transformBluestein(t,r){const n=this.size,a=this._m,o=this._internalFFT,i=o._real,s=o._imag;i.fill(0),s.fill(0);for(let f=0;f<n;f++){const h=t[f],p=r?r[f]:0,m=this._chirpReal[f],v=this._chirpImag[f];i[f]=h*m-p*v,s[f]=h*v+p*m}o.transformRadix2(i,s);for(let f=0;f<a;f++){const h=o._real[f],p=o._imag[f],m=this._bReal[f],v=this._bImag[f];o._real[f]=h*m-p*v,o._imag[f]=h*v+p*m}const l=o._real,c=o._imag;for(let f=0;f<a;f++)c[f]=-c[f];o.transformRadix2(l,c);const d=1/a;for(let f=0;f<n;f++){const h=o._real[f]*d,p=-o._imag[f]*d,m=this._chirpReal[f],v=this._chirpImag[f];this._real[f]=h*m-p*v,this._imag[f]=h*v+p*m}}calculateSpectrum(t,r,n=!1){const a=this.size;let o=0;for(let d=0;d<a;d++)o+=t[d];const i=o/a;this._scratch||(this._scratch=new Float32Array(a));const s=this._scratch;if(n){this.initHanning();const d=this._hanning;for(let f=0;f<a;f++)s[f]=(t[f]-i)*d[f]}else for(let d=0;d<a;d++)s[d]=t[d]-i;this.transform(s);const l=r.length;let c=1/a;n&&this._windowSumSq>0&&(c=1/this._windowSumSq);for(let d=0;d<l;d++){const f=this._real[d],h=this._imag[d];r[d]+=(f*f+h*h)*c}}}function EQ(e,t,r,n=!1){const a=new Ki(t),o=new Ki(r),i=t*r,s=new Float32Array(i),l=new Float32Array(i);let c=null,d=null;if(n){c=new Float32Array(t);for(let v=0;v<t;v++)c[v]=.5*(1-Math.cos(2*Math.PI*v/(t-1)));d=new Float32Array(r);for(let v=0;v<r;v++)d[v]=.5*(1-Math.cos(2*Math.PI*v/(r-1)))}for(let v=0;v<r;v++){const k=v*t,y=a._real;let g=0;for(let j=0;j<t;j++)g+=e[k+j];const x=g/t;if(c)for(let j=0;j<t;j++)y[j]=(e[k+j]-x)*c[j];else for(let j=0;j<t;j++)y[j]=e[k+j]-x;a.transform(y);for(let j=0;j<t;j++)s[k+j]=a._real[j],l[k+j]=a._imag[j]}for(let v=0;v<t;v++){const k=o._real,y=o._imag;for(let g=0;g<r;g++){const x=g*t+v;let j=s[x],b=l[x];d&&(j*=d[g],b*=d[g]),k[g]=j,y[g]=b}o.transform(k,y);for(let g=0;g<r;g++){const x=g*t+v;s[x]=o._real[g],l[x]=o._imag[g]}}const f=new Float32Array(i);let h=1,p=t,m=r;if(n&&c&&d){p=0;for(let v=0;v<t;v++)p+=c[v]*c[v];m=0;for(let v=0;v<r;v++)m+=d[v]*d[v]}h=1/(p*m);for(let v=0;v<i;v++)f[v]=(s[v]*s[v]+l[v]*l[v])*h;return f}function TQ(e,t,r){const n=new Float32Array(e.length),a=Math.floor(t/2),o=Math.floor(r/2);for(let i=0;i<r;i++)for(let s=0;s<t;s++){const l=(s+a)%t,c=(i+o)%r,d=i*t+s,f=c*t+l;n[f]=e[d]}return n}function zf(e,t,r){const a=e*t*2,o=8,i=o+a,s="Fake",l="NoiseCam",c="NoiseCam",d=O=>{const P=new Uint8Array(O.length+1);for(let M=0;M<O.length;M++)P[M]=O.charCodeAt(M);return P[O.length]=0,P},f=d(s),h=d(l),p=d(c),m=[{id:254,type:4,count:1,value:0},{id:256,type:4,count:1,value:e},{id:257,type:4,count:1,value:t},{id:258,type:3,count:1,value:16},{id:259,type:3,count:1,value:1},{id:262,type:3,count:1,value:32803},{id:271,type:2,count:f.length,value:f},{id:272,type:2,count:h.length,value:h},{id:273,type:4,count:1,value:o},{id:277,type:3,count:1,value:1},{id:278,type:4,count:1,value:t},{id:279,type:4,count:1,value:a},{id:33421,type:3,count:2,value:[2,2]},{id:33422,type:1,count:4,value:[0,1,1,2]},{id:50706,type:1,count:4,value:[1,4,0,0]},{id:50717,type:2,count:p.length,value:p}],v=2+m.length*12+4;let k=0;const y=m.map(O=>{let P=1;O.type===3&&(P=2),O.type===4&&(P=4);const M=O.count*P,C=M<=4;let $=0;return C||($=k,k+=M,k%2!==0&&k++),{...O,fits:C,totalBytes:M,extraOffset:$}}),g=i+v,x=g+k,j=new ArrayBuffer(x),b=new DataView(j),w=new Uint8Array(j);b.setUint16(0,18761,!0),b.setUint16(2,42,!0),b.setUint32(4,i,!0);const N=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);w.set(N,o);let _=i;return b.setUint16(_,m.length,!0),_+=2,y.forEach(O=>{if(b.setUint16(_,O.id,!0),b.setUint16(_+2,O.type,!0),b.setUint32(_+4,O.count,!0),O.fits){const P=_+8;Array.isArray(O.value)?O.value.forEach((M,C)=>{O.type===1&&b.setUint8(P+C,M),O.type===3&&b.setUint16(P+C*2,M,!0)}):O.value instanceof Uint8Array||(O.type===3&&b.setUint16(P,O.value,!0),O.type===4&&b.setUint32(P,O.value,!0))}else{const P=g+O.extraOffset;b.setUint32(_+8,P,!0);const M=P;O.value instanceof Uint8Array?w.set(O.value,M):Array.isArray(O.value)&&O.value.forEach((C,$)=>{O.type===1&&b.setUint8(M+$,C),O.type===3&&b.setUint16(M+$*2,C,!0)})}_+=12}),b.setUint32(_,0,!0),j}let Op=null;async function Bu(){if(!Op)try{const n=(await CQ(()=>import("./joraw-Bkrs9Irt.js"),[])).default;if(typeof n!="function")throw new Error("JoRaw WASM import failed");const a=new URL("/assets/joraw-BUh50ws_.wasm",import.meta.url).href;Op=n({locateFile:(o,i)=>o.endsWith("joraw.wasm")?a:i+o})}catch(r){throw console.error("Failed to load joraw.js:",r),r}const e=await Op,t=e.LibRaw||e.JoRaw;if(!t)throw new Error("JoRaw class not found");return t}const $Q=[[3.2404542,-1.5371385,-.4985314],[-.969266,1.8760108,.041556],[.0556434,-.2040259,1.0572252]],Sc=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055;async function Pf(e,t=0,r=0){const n=await Bu(),a=new n;try{await a.open(new Uint8Array(e));const o=a.getRawImage(),i=new Uint16Array(o.data),s=o.width,l=o.height,c=Math.floor((s-t)/6)*2,d=Math.floor((l-r)/6)*2;if(c<=0||d<=0)throw new Error("Image too small for X-Trans subsampling with current phase.");const f=new Uint16Array(c*d);for(let p=0;p<d/2;p++){const m=p*6+r;if(m+3>=l)break;const v=m*s,k=(m+3)*s,y=p*2,g=y*c,x=(y+1)*c;for(let j=0;j<c/2;j++){const b=j*6+t;if(b+1>=s)break;const w=j*2;f[g+w]=i[v+b+1],f[g+w+1]=i[v+b+0],f[x+w]=i[k+b+0],f[x+w+1]=i[k+b+1]}}return{dngBuffer:zf(c,d,f),width:c,height:d}}finally{a.delete?a.delete():a.close()}}async function DQ(e){const t=await createImageBitmap(e),r=t.width,n=t.height,a=document.createElement("canvas");a.width=r,a.height=n;const o=a.getContext("2d");if(!o)throw new Error("Failed to create canvas context");o.drawImage(t,0,0);const s=o.getImageData(0,0,r,n).data,l=r*n,c=new Uint16Array(l);for(let f=0;f<n;f++)for(let h=0;h<r;h++){const p=(f*r+h)*4,m=f*r+h,v=f%2===0,k=h%2===0;let y=0;v&&k?y=s[p]:!v&&!k?y=s[p+2]:y=s[p+1],c[m]=y*64}return{previewBlob:await new Promise(f=>a.toBlob(f,"image/png"))||e,analysisData:{data:c,width:r,height:n,bayerPattern:"RGGB",blackLevels:[0,0,0,0],whiteLevel:16320,metadata:{description:"Standard image (non-RAW)"},isThreePlane:!0}}}const RQ=async e=>{const t=await Bu(),r=new t;try{await r.open(e,{useCameraWb:!0,outputBps:8,noAutoBright:!0,userQual:3,outputColor:1});const n=await r.imageData();return new Promise((a,o)=>{const i=document.createElement("canvas");i.width=n.width,i.height=n.height;const s=i.getContext("2d");if(!s){o(new Error("Could not create canvas context"));return}const l=s.createImageData(n.width,n.height),c=n.data,d=n.width*n.height;for(let f=0;f<d;f++){const h=f*3,p=f*4;l.data[p]=c[h],l.data[p+1]=c[h+1],l.data[p+2]=c[h+2],l.data[p+3]=255}s.putImageData(l,0,0),i.toBlob(f=>{f?a(f):o(new Error("Canvas to Blob failed"))},"image/jpeg",.85)})}finally{r.delete?r.delete():r.close()}},mh=async e=>{var n,a,o,i,s,l,c,d,f;const t=await Bu(),r=new t;try{if(await r.open(e,{}),typeof r.getRawImage!="function")throw new Error("WASM mismatch");const h=r.getRawImage();let p=new Uint16Array(h.data);const m=await r.metadata(!0),v=((n=m.idata)==null?void 0:n.filters)||0,k=((a=m.idata)==null?void 0:a.colors)||0,y=v===0&&k===3,g=v===9;let x=[];if((o=m.color_data)!=null&&o.cblack_rawpy_style)x=m.color_data.cblack_rawpy_style;else if((s=(i=m.color_data)==null?void 0:i.dng_levels)!=null&&s.dng_cblack)x=m.color_data.dng_levels.dng_cblack;else if(((l=m.black_level_per_channel)==null?void 0:l.length)>=4)x=m.black_level_per_channel;else if(((c=m.cblack)==null?void 0:c.length)>=4)x=m.cblack;else if(((f=(d=m.color)==null?void 0:d.cblack)==null?void 0:f.length)>=4)x=m.color.cblack;else{const b=m.black_level||m.color_data&&m.color_data.black||0;x=[b,b,b,b]}const j=[Number(x[0])||0,Number(x[1])||0,Number(x[2])||0,Number(x[3])||0];return{data:p,width:h.width,height:h.height,bayerPattern:m.color_desc||"RGGB",blackLevels:j,whiteLevel:m.white_level||16383,metadata:m,isThreePlane:y,isXTrans:g}}finally{r.delete?r.delete():r.close()}};async function yi(e){const t=new Uint8Array(e.slice(0)),r=new Uint8Array(e.slice(0)),[n,a]=await Promise.all([RQ(t),mh(r)]);return{previewBlob:n,analysisData:a}}async function yh(e){const t=new Uint8Array(e.slice(0));return mh(t)}const ck=e=>(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e++,e);async function Pp(e,t,r,n=!0){const a=await mh(new Uint8Array(e)),o=await mh(new Uint8Array(t));if(a.width!==o.width||a.height!==o.height)throw new Error("Dimension Mismatch");const i=a.width,s=a.height,l=r?ck(i):i,c=r?ck(s):s,d=l*c,f=new Uint16Array(d),h=6e4,p=1.41421356;for(let m=0;m<s;m++){const v=m*i,k=m*l;for(let y=0;y<i;y++){const g=a.data[v+y],x=o.data[v+y];let j=g-x;n&&(j/=p);let b=j+h;b=Math.max(0,Math.min(65535,b)),f[k+y]=Math.round(b)}}return{rawData:f,width:l,height:c,metadata:a.metadata}}function vi(e,t,r,n,a,o,i){const s=Math.max(0,Math.floor(n)),l=Math.max(0,Math.floor(a)),c=Math.min(t,Math.ceil(n+o)),d=Math.min(r,Math.ceil(a+i)),f=[0,0,0,0],h=[0,0,0,0],p=[0,0,0,0];for(let k=l;k<d;k++){const y=k*t,g=k%2;for(let x=s;x<c;x++){const j=x%2,b=e[y+x],w=g*2+j;f[w]+=b,h[w]+=b*b,p[w]++}}const m=[0,0,0,0],v=[0,0,0,0];for(let k=0;k<4;k++)if(p[k]>0){const y=f[k]/p[k];m[k]=y;const x=h[k]/p[k]-y*y;v[k]=Math.sqrt(Math.max(0,x))}return{x:s,y:l,width:c-s,height:d-l,means:m,stdDevs:v,pixelCount:p.reduce((k,y)=>k+y,0)}}function uk(e,t,r,n,a,o,i=0,s=0){const l=Math.max(0,Math.floor(n.x)),c=Math.max(0,Math.floor(n.y)),d=Math.min(t,Math.ceil(n.x+n.w)),f=Math.min(r,Math.ceil(n.y+n.h)),h=a>>1,p=a&1,m=(o>>1)+i,v=(o&1)+s;let k=0,y=0,g=0;for(let _=c;_<f-2;_+=2)for(let O=l;O<d-2;O+=2){const P=(_+h)*t+(O+p),M=(_+m)*t+(O+v);_+m>=r||O+v>=t||(k+=e[P],y+=e[M],g++)}if(g<2)return{sumCov:0,sumVar1:0,sumVar2:0,n:0};const x=k/g,j=y/g;let b=0,w=0,N=0;for(let _=c;_<f-2;_+=2)for(let O=l;O<d-2;O+=2){const P=(_+h)*t+(O+p),M=(_+m)*t+(O+v);if(_+m>=r||O+v>=t)continue;const C=e[P],$=e[M],F=C-x,T=$-j;b+=F*T,w+=F*F,N+=T*T}return{sumCov:b,sumVar1:w,sumVar2:N,n:g}}function LQ(e){if(e.n<2)return 0;const t=Math.sqrt(e.sumVar1*e.sumVar2);return t===0?0:e.sumCov/t}function IQ(e,t,r,n,a,o,i,s,l,c,d){if(c<=l)return[];const f=Math.max(0,Math.floor(n)),h=Math.max(0,Math.floor(a)),p=Math.min(t,Math.ceil(n+o)),m=Math.min(r,Math.ceil(a+i)),v=c-l,k=d?Math.floor(v)+1:s,y=v/k,g=[new Uint32Array(k),new Uint32Array(k),new Uint32Array(k),new Uint32Array(k)];for(let j=h;j<m;j++){const b=j*t,w=j%2;for(let N=f;N<p;N++){const _=N%2,O=e[b+N];if(O<l||O>c)continue;const P=w*2+_;let M;d?M=Math.floor(O-l):M=Math.floor((O-l)/y),M<0&&(M=0),M>=k&&(M=k-1),g[P][M]++}}const x=[];for(let j=0;j<k;j++){const b=l+(d?j:j*y);x.push({binStart:b,c0:g[0][j],c1:g[1][j],c2:g[2][j],c3:g[3][j]})}return x}function BQ(e,t,r,n,a,o=!1,i=!1,s={rows:!1,rowGroup:0,cols:!1,colGroup:0},l=!0,c=1){const d=Math.max(0,Math.floor(n.x)),f=Math.max(0,Math.floor(n.y)),h=Math.min(t,Math.ceil(n.x+n.w)),p=Math.min(r,Math.ceil(n.y+n.h)),m=h-d,v=p-f;if(m<=1||v<=1)return null;let k=0;for(let M=d;M<h;M++)M%2===(a&1)&&k++;let y=0;for(let M=f;M<p;M++)M%2===a>>1&&y++;if(k<4||y<4)return null;const g=Math.max(1,c),x=Math.floor(2*k/(g+1)),j=Math.floor(2*y/(g+1));if(x<4||j<4)return null;const b=new Ki(x),w=new Ki(j),N=new Float32Array(Math.floor(x/2)+1),_=new Float32Array(Math.floor(j/2)+1);let O=0,P=0;for(let M=f;M<p;M++){const C=M%2;if(a>>1!==C||s.rows&&(M>>1&1)!==s.rowGroup)continue;const $=M*t,F=new Float32Array(k);let T=0;for(let U=d;U<h;U++)U%2===(a&1)&&T<k&&(F[T++]=e[$+U]);for(let U=0;U<g;U++){const A=Math.floor(U*x/2);if(A+x>k)break;const E=F.slice(A,A+x);b.calculateSpectrum(E,N,i),O++}if(!l)break}for(let M=d;M<h;M++){const C=M%2;if((a&1)!==C||s.cols&&(M>>1&1)!==s.rowGroup)continue;const $=new Float32Array(y);let F=0;for(let T=f;T<p;T++)T%2===a>>1&&F<y&&($[F++]=e[T*t+M]);for(let T=0;T<g;T++){const U=Math.floor(T*j/2);if(U+j>y)break;const A=$.slice(U,U+j);w.calculateSpectrum(A,_,i),P++}if(!l)break}if(O>0)for(let M=0;M<N.length;M++)N[M]/=O;if(P>0)for(let M=0;M<_.length;M++)_[M]/=P;return{avgHoriz:Array.from(N),avgVert:Array.from(_),sampleCount:{h:O,v:P}}}function FQ(e,t,r,n,a,o=!1){const i=Math.max(0,Math.floor(n.x)),s=Math.max(0,Math.floor(n.y)),l=Math.min(t,Math.ceil(n.x+n.w)),c=Math.min(r,Math.ceil(n.y+n.h));let d=-1;for(let g=s;g<c;g++)if(g%2===a>>1){d=g;break}if(d===-1)return null;let f=-1;for(let g=i;g<l;g++)if(g%2===(a&1)){f=g;break}if(f===-1)return null;const h=[];for(let g=d;g<c;g+=2){const x=g*t,j=[];for(let b=f;b<l;b+=2)j.push(e[x+b]);h.push(j)}const p=h.length;if(p===0)return null;const m=h[0].length;if(m===0)return null;const v=new Float32Array(m*p);for(let g=0;g<p;g++){const x=h[g];for(let j=0;j<m;j++)v[g*m+j]=x[j]}const k=EQ(v,m,p,o),y=TQ(k,m,p);return{width:m,height:p,data:y}}function zQ(e,t,r,n,a,o,i){const{x:s,y:l,w:c,h:d}=n,f=[],h=Math.max(0,Math.floor(s)),p=Math.max(0,Math.floor(l)),m=Math.min(t,Math.ceil(s+c)),v=Math.min(r,Math.ceil(l+d)),k=a>>1,y=a&1;for(let w=p;w<v;w++){if(w%2!==k)continue;const N=w*t;for(let _=h;_<m;_++){if(_%2!==y)continue;const O=e[N+_];O>=o&&O<=i&&f.push(O-o)}}if(f.length===0)return null;f.sort((w,N)=>w-N);const g=[f[0]];for(let w=1;w<f.length;w++)f[w]!==f[w-1]&&g.push(f[w]);const x=[],j=[],b={};for(let w=0;w<g.length-1;w++){const N=g[w],O=g[w+1]-N;x.push(O),j.push({x:N,y:O}),b[O]=(b[O]||0)+1}return{uniqueCount:g.length,diffCount:x.length,stepCounts:b,plotData:j}}function hP(e,t,r){if(!r.advancedZeroDep)throw new Error("Unmixing settings not found in DisplaySettings.");const{bl:n,bg:a,fg:o}=r.advancedZeroDep,{data:i,width:s,whiteLevel:l}=e,c=a.map((x,j)=>Math.max(0,x-n[j])),d=o.map((x,j)=>Math.max(0,x-n[j])),f=(c[1]+c[3])/2,h=(d[1]+d[3])/2,p=Math.floor(t.x),m=Math.floor(t.y),v=Math.floor(t.w),k=Math.floor(t.h),y=Math.pow(2,r.exposure),g=new Uint16Array(v*k);for(let x=0;x<k;x++){const j=m+x;if(j<0||j>=e.height)continue;const b=j%2,w=j*s,N=x*v;for(let _=0;_<v;_++){const O=p+_;if(O<0||O>=s)continue;const P=O%2;let M=0;!b&&!P?M=0:!b&&P?M=1:b&&!P?M=3:M=2;const C=i[w+O],$=n[M],F=c[M],T=d[M],U=Math.max(C-$,0),A=T-F||1e-9,E=(U-F)/A;let D;E<0?D=U*(f/Math.max(F,1e-9)):E>1?D=U*(h/Math.max(T,1e-9)):D=(1-E)*f+E*h,D*=y,g[N+_]=Math.max(0,Math.min(65535,Math.round(D)))}}return{data:g,width:v,height:k}}async function fk(e,t){const r=await Bu(),n=new r;try{const a=new Uint8Array(e.slice(0));let o=!1,i=[];if(t.customMatrix&&t.customMatrix.length===9){const h=[[t.customMatrix[0],t.customMatrix[1],t.customMatrix[2]],[t.customMatrix[3],t.customMatrix[4],t.customMatrix[5]],[t.customMatrix[6],t.customMatrix[7],t.customMatrix[8]]],p=dP(h);if(p){const m=t.wbGains?t.wbGains[0]:1,v=t.wbGains?t.wbGains[1]:1,y=lk(p,[[m,0,0],[0,1,0],[0,0,v]]),g=lk($Q,y);i=[g[0][0],g[0][1],g[0][2],g[1][0],g[1][1],g[1][2],g[2][0],g[2][1],g[2][2]],o=!0}else throw new Error("Custom Matrix is not invertible.")}const s={outputBps:16,noAutoBright:!0,bright:o?1:Math.pow(2,t.exposure)};t.blackLevel&&t.blackLevel.length===4&&(s.userBlack=0,s.userCblack=t.blackLevel.map(h=>{const p=Math.round(h);return p===0?1:p})),t.demosaicMethod===-1?s.noInterpolation=!0:s.userQual=t.demosaicMethod,o?(s.outputColor=0,s.gamma=[1,1],s.userMul=[1,1,1,1],s.useCameraWb=!1):(s.outputColor=1,s.useCameraWb=!0),await n.open(a,s);const l=await n.imageData(),c=new ImageData(l.width,l.height),d=c.data,f=new Uint16Array(l.data.buffer,l.data.byteOffset,l.data.byteLength/2);if(o&&i.length===9){const h=i,m=Math.pow(2,t.exposure)*.25;for(let v=0;v<f.length;v+=3){const k=f[v]/65535,y=f[v+1]/65535,g=f[v+2]/65535;let x=h[0]*k+h[1]*y+h[2]*g,j=h[3]*k+h[4]*y+h[5]*g,b=h[6]*k+h[7]*y+h[8]*g;x*=m,j*=m,b*=m,x=Math.max(0,Math.min(1,x)),j=Math.max(0,Math.min(1,j)),b=Math.max(0,Math.min(1,b)),x=Sc(x),j=Sc(j),b=Sc(b);const w=v/3*4;d[w]=Math.round(x*255),d[w+1]=Math.round(j*255),d[w+2]=Math.round(b*255),d[w+3]=255}}else for(let h=0;h<f.length;h+=3){const p=h/3*4;d[p]=f[h]>>8,d[p+1]=f[h+1]>>8,d[p+2]=f[h+2]>>8,d[p+3]=255}return c}finally{n.delete?n.delete():n.close()}}async function UQ(e,t,r=!1,n=!1){const a=await Bu(),o=new a;try{if(t.renderMode==="zero-dependency"||t.renderMode==="advanced-zero-dep"){await o.open(new Uint8Array(e));const i=await o.metadata(!0),s=(i==null?void 0:i.white_level)||16383,l=o.getRawImage(),{width:c,height:d,data:f}=l,h=new Uint16Array(c*d),p=Math.pow(2,t.exposure);if(t.renderMode==="advanced-zero-dep"&&t.advancedZeroDep){const{bl:m,bg:v,fg:k}=t.advancedZeroDep,y=v.map((b,w)=>Math.max(0,b-m[w])),g=k.map((b,w)=>Math.max(0,b-m[w])),x=(y[1]+y[3])/2,j=(g[1]+g[3])/2;for(let b=0;b<d;b++){const w=b%2;for(let N=0;N<c;N++){const _=N%2;let O=0;!w&&!_?O=0:!w&&_?O=1:w&&!_?O=3:O=2;const P=f[b*c+N],M=m[O],C=y[O],$=g[O],F=Math.max(P-M,0),T=$-C||1e-9,U=(F-C)/T;let A;U<0?A=F*(x/Math.max(C,1e-9)):U>1?A=F*(j/Math.max($,1e-9)):A=(1-U)*x+U*j,A*=p;let E;if(n){const D=Math.max(0,Math.min(1,A/65535));E=Sc(D)*65535}else E=A;h[b*c+N]=Math.round(Math.max(0,Math.min(65535,E)))}}}else{const m=t.blackLevel||[0,0,0,0],v=t.wbGains?t.wbGains[0]:1,k=t.wbGains?t.wbGains[1]:1;for(let y=0;y<d;y++){const g=y%2;for(let x=0;x<c;x++){const j=x%2,b=g*2+j,w=f[y*c+x],N=m[b];let _=w-N;b===0?_*=v:b===3&&(_*=k),_*=p;const O=Math.max(0,Math.min(1,_/(r?s-N:s))),P=n?Sc(O):O;h[y*c+x]=Math.round(P*65535)}}}return{data:h,width:c,height:d,channels:1}}else{const i=new Uint8Array(e.slice(0)),s={outputBps:16,noAutoBright:!r,bright:1,outputColor:n?1:0,useCameraWb:!0};t.blackLevel&&t.blackLevel.length===4&&(s.userBlack=0,s.userCblack=t.blackLevel.map(f=>Math.max(1,Math.round(f)))),t.demosaicMethod===-1?s.noInterpolation=!0:s.userQual=t.demosaicMethod,await o.open(i,s);const l=await o.imageData(),c=new Uint16Array(l.data.buffer,l.data.byteOffset,l.data.byteLength/2),d=Math.pow(2,t.exposure);if(d!==1)for(let f=0;f<c.length;f++)c[f]=Math.max(0,Math.min(65535,Math.round(c[f]*d)));return{data:c,width:l.width,height:l.height,channels:3}}}finally{o.delete?o.delete():o.close()}}const WQ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,zIndex:i,onFocus:s,initialPosition:l,initialInternalState:c,onUpdateState:d})=>{const[f,h]=S.useState((c==null?void 0:c.channelMode)||"All"),[p,m]=S.useState((c==null?void 0:c.minVal)??0),[v,k]=S.useState((c==null?void 0:c.maxVal)??16383),[y,g]=S.useState((c==null?void 0:c.binCount)??100),[x,j]=S.useState((c==null?void 0:c.pointToPoint)??!1),[b,w]=S.useState((c==null?void 0:c.showTheo)??!1),[N,_]=S.useState((c==null?void 0:c.theoMean)??"512"),[O,P]=S.useState((c==null?void 0:c.theoSigma)??"10"),[M,C]=S.useState((c==null?void 0:c.theoAmp)??"1000"),[$,F]=S.useState(!1),[T,U]=S.useState([]),[A,E]=S.useState(null),[D,G]=S.useState(l||{x:100,y:100}),[Z,K]=S.useState(!1),L=S.useRef({x:0,y:0});S.useEffect(()=>{d&&d({channelMode:f,minVal:p,maxVal:v,binCount:y,pointToPoint:x,showTheo:b,theoMean:N,theoSigma:O,theoAmp:M})},[f,p,v,y,x,b,N,O,M]),S.useEffect(()=>{if(!e||!n||!a)return;if(v<=p){E("Invalid range: Max must be greater than Min");return}E(null),F(!0);const H=setTimeout(()=>{try{const ie=IQ(n.data,n.width,n.height,a.x,a.y,a.w,a.h,y,p,v,x);U(ie)}catch(ie){console.error("Histogram calc error:",ie),E("Error calculating histogram")}finally{F(!1)}},50);return()=>clearTimeout(H)},[e,n,a==null?void 0:a.x,a==null?void 0:a.y,a==null?void 0:a.w,a==null?void 0:a.h,y,p,v,x]);const te=S.useMemo(()=>{if(!b)return T;const H=parseFloat(N),ie=parseFloat(O),se=parseFloat(M);return isNaN(H)||isNaN(ie)||isNaN(se)||ie<=0?T:T.map(je=>{const Re=je.binStart,Le=-Math.pow(Re-H,2)/(2*Math.pow(ie,2)),pt=se*Math.exp(Le);return{...je,theory:pt}})},[T,b,N,O,M]),Q=()=>{if(T.length===0)return;let H=0,ie=0;if(T.forEach(se=>{const je=Math.max(se.c0||0,se.c1||0,se.c2||0,se.c3||0);je>H&&(H=je,ie=se.binStart)}),_(ie.toFixed(2)),C(H.toString()),parseFloat(O)===0||isNaN(parseFloat(O))){const se=v-p;P((se/20).toFixed(2))}},R=(H,ie,se)=>{s&&s(),!(se.closest("button")||se.closest("input")||se.closest("select"))&&(K(!0),L.current={x:H-D.x,y:ie-D.y})},ae=H=>{R(H.clientX,H.clientY,H.target)},fe=H=>{const ie=H.touches[0];R(ie.clientX,ie.clientY,H.target)};if(S.useEffect(()=>{const H=se=>{if(Z){const je="touches"in se?se.touches[0].clientX:se.clientX,Re="touches"in se?se.touches[0].clientY:se.clientY;G({x:je-L.current.x,y:Re-L.current.y})}},ie=()=>K(!1);return Z&&(window.addEventListener("mousemove",H),window.addEventListener("mouseup",ie),window.addEventListener("touchmove",H,{passive:!1}),window.addEventListener("touchend",ie)),()=>{window.removeEventListener("mousemove",H),window.removeEventListener("mouseup",ie),window.removeEventListener("touchmove",H),window.removeEventListener("touchend",ie)}},[Z]),!e)return null;const Y=o?{c0:"Blue",c1:"Green 1",c2:"Green 2",c3:"Red"}:{c0:"Red",c1:"Green 1",c2:"Green 2",c3:"Blue"},oe=o?{c0:"#3b82f6",c1:"#22c55e",c2:"#4ade80",c3:"#ef4444"}:{c0:"#ef4444",c1:"#22c55e",c2:"#4ade80",c3:"#3b82f6"},pe="step";return u.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl resize-both overflow-hidden min-w-[500px] min-h-[400px] w-[900px] h-[650px]",style:{left:D.x,top:D.y,zIndex:i??100},onMouseDownCapture:s,children:[u.jsxs("div",{className:`flex justify-between items-center p-4 border-b border-gray-200 dark:border-slate-700 flex-shrink-0 bg-white dark:bg-slate-900 select-none touch-none ${Z?"cursor-grabbing":"cursor-grab"}`,onMouseDown:ae,onTouchStart:fe,children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 pointer-events-none",children:"ROI Histogram"}),u.jsxs("div",{className:"flex items-center gap-1",children:[r&&u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-800/50 flex flex-wrap gap-x-6 gap-y-3 items-center border-b border-gray-200 dark:border-slate-700 text-xs flex-shrink-0 relative z-10",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-bold uppercase tracking-tight",children:"Channel:"}),u.jsxs("select",{value:f,onChange:H=>h(H.target.value),className:"bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-900 dark:text-slate-100 outline-none focus:ring-1 focus:ring-cyan-500",children:[u.jsx("option",{value:"All",children:"All Colors"}),u.jsx("option",{value:"0",children:Y.c0}),u.jsx("option",{value:"1",children:Y.c1}),u.jsx("option",{value:"2",children:Y.c2}),u.jsx("option",{value:"3",children:Y.c3})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-bold uppercase tracking-tight",children:"Range:"}),u.jsx("input",{type:"number",value:p,onChange:H=>m(Number(H.target.value)),className:"w-16 px-1.5 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right font-mono"}),u.jsx("span",{className:"text-gray-400",children:"-"}),u.jsx("input",{type:"number",value:v,onChange:H=>k(Number(H.target.value)),className:"w-16 px-1.5 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right font-mono"})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:x,onChange:H=>j(H.target.checked),className:"w-3.5 h-3.5 text-cyan-600 rounded border-gray-300 focus:ring-cyan-500"}),u.jsx("span",{className:"text-gray-700 dark:text-slate-300 select-none font-semibold",children:"PTP"})]}),!x&&u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"Bins:"}),u.jsx("input",{type:"number",value:y,onChange:H=>g(Math.max(1,Number(H.target.value))),className:"w-12 px-1.5 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right font-mono"})]})]}),u.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700"}),u.jsxs("div",{className:`flex items-center gap-3 p-1.5 rounded-lg border transition-all ${b?"bg-amber-50/30 dark:bg-amber-900/10 border-amber-200/50 dark:border-amber-800/50":"bg-transparent border-transparent"}`,children:[u.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:b,onChange:H=>w(H.target.checked),className:"w-3.5 h-3.5 text-amber-500 rounded border-gray-300 focus:ring-amber-500 bg-white dark:bg-slate-700"}),u.jsx("span",{className:`font-bold uppercase tracking-tight ${b?"text-amber-600 dark:text-amber-400":"text-gray-400"}`,children:"Theoretical Bell"})]}),b&&u.jsxs("div",{className:"flex items-center gap-2 animate-in fade-in slide-in-from-left-2 duration-200",children:[u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("span",{className:"text-[8px] text-gray-400 uppercase font-bold",children:"Mean()"}),u.jsx("input",{type:"text",value:N,onChange:H=>_(H.target.value),className:"w-14 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center text-[10px] py-0.5 outline-none focus:border-amber-500"})]}),u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("span",{className:"text-[8px] text-gray-400 uppercase font-bold",children:"Sigma()"}),u.jsx("input",{type:"text",value:O,onChange:H=>P(H.target.value),className:"w-12 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center text-[10px] py-0.5 outline-none focus:border-amber-500"})]}),u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("span",{className:"text-[8px] text-gray-400 uppercase font-bold",children:"Scale(A)"}),u.jsx("input",{type:"text",value:M,onChange:H=>C(H.target.value),className:"w-16 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center text-[10px] py-0.5 outline-none focus:border-amber-500"})]}),u.jsx("button",{onClick:Q,className:"mt-3 px-2 py-0.5 bg-amber-600 hover:bg-amber-500 text-white text-[9px] font-bold rounded shadow-sm active:scale-95 transition-all",title:"Set Mean and Amplitude based on current peak",children:"AUTO FIT"})]})]})]}),u.jsxs("div",{className:"flex-1 p-4 relative bg-white dark:bg-slate-900 overflow-hidden min-h-0",children:[u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-0 pointer-events-none select-none opacity-10 mix-blend-normal dark:mix-blend-plus-lighter",children:u.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),$&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-20 bg-white/50 dark:bg-slate-900/50 backdrop-blur-[1px]",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("div",{className:"w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mb-2"}),u.jsx("span",{className:"text-sm text-cyan-600 dark:text-cyan-400 font-semibold",children:"Calculating Histogram..."})]})}),A?u.jsx("div",{className:"flex items-center justify-center h-full text-red-500 relative z-10",children:A}):u.jsx("div",{className:"relative z-10 w-full h-full",children:u.jsx(yo,{width:"100%",height:"100%",children:u.jsxs(Is,{data:te,children:[u.jsx(qa,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3}),u.jsx(zn,{dataKey:"binStart",type:"number",domain:[p,v],tickFormatter:H=>Math.floor(H).toString(),tick:{fill:"#9ca3af",fontSize:12},allowDataOverflow:!0,label:{value:"DN Value",position:"insideBottom",offset:-5,fill:"#9ca3af",fontSize:12}}),u.jsx(Un,{tick:{fill:"#9ca3af",fontSize:12},label:{value:"Count",angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:12}}),u.jsx(Hr,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6"},itemStyle:{fontSize:"12px"},labelFormatter:H=>`DN: ${Math.round(Number(H))}`,formatter:(H,ie)=>[Math.round(H),ie]}),u.jsx(Va,{wrapperStyle:{paddingTop:"10px"}}),b&&u.jsx(Sr,{type:"monotone",dataKey:"theory",name:"Ideal Bell (Gaussian)",stroke:"#f59e0b",strokeWidth:2.5,strokeDasharray:"5 5",dot:!1,isAnimationActive:!1}),(f==="All"||f==="0")&&u.jsx(Sr,{type:pe,dataKey:"c0",name:Y.c0,stroke:oe.c0,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(f==="All"||f==="1")&&u.jsx(Sr,{type:pe,dataKey:"c1",name:Y.c1,stroke:oe.c1,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(f==="All"||f==="2")&&u.jsx(Sr,{type:pe,dataKey:"c2",name:Y.c2,stroke:oe.c2,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(f==="All"||f==="3")&&u.jsx(Sr,{type:pe,dataKey:"c3",name:Y.c3,stroke:oe.c3,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1})]})})})]})]})},Fu=({initialPosition:e={x:20,y:80},children:t,className:r="",onClose:n,zIndex:a,onFocus:o})=>{const[i,s]=S.useState(e),[l,c]=S.useState(!1),[d,f]=S.useState({x:0,y:0}),h=S.useRef(null),p=(k,y,g)=>{o&&o(),!(g.closest("button")||g.closest("input"))&&(c(!0),f({x:k-i.x,y:y-i.y}))},m=k=>{p(k.clientX,k.clientY,k.target)},v=k=>{const y=k.touches[0];p(y.clientX,y.clientY,k.target)};return S.useEffect(()=>{const k=g=>{var x,j;if(l){g.cancelable&&g.preventDefault();const b="touches"in g?g.touches[0].clientX:g.clientX,w="touches"in g?g.touches[0].clientY:g.clientY,N=b-d.x,_=w-d.y,O=window.innerWidth-(((x=h.current)==null?void 0:x.offsetWidth)||100),P=window.innerHeight-(((j=h.current)==null?void 0:j.offsetHeight)||100);s({x:Math.max(0,Math.min(N,O)),y:Math.max(0,Math.min(_,P))})}},y=()=>{c(!1)};return l&&(window.addEventListener("mousemove",k),window.addEventListener("mouseup",y),window.addEventListener("touchmove",k,{passive:!1}),window.addEventListener("touchend",y)),()=>{window.removeEventListener("mousemove",k),window.removeEventListener("mouseup",y),window.removeEventListener("touchmove",k),window.removeEventListener("touchend",y)}},[l,d]),u.jsxs("div",{ref:h,style:{left:i.x,top:i.y,zIndex:a??90},onMouseDownCapture:o,className:`fixed border-2 border-black dark:border-gray-500 bg-white dark:bg-black shadow-[8px_8px_0px_rgba(0,0,0,0.5)] dark:shadow-[8px_8px_0px_rgba(255,255,255,0.2)] transition-shadow duration-200 ${l?"cursor-grabbing shadow-[4px_4px_0px_rgba(0,0,0,0.5)]":""} ${r}`,children:[u.jsx("div",{onMouseDown:m,onTouchStart:v,className:"absolute inset-0 w-full h-8 cursor-grab active:cursor-grabbing z-0 touch-none bg-gray-200 dark:bg-gray-800 border-b-2 border-black dark:border-gray-500",title:"Drag to move"}),u.jsx("div",{className:"relative z-10 pointer-events-none",children:u.jsx("div",{className:"pointer-events-auto",children:t})})]})},GQ=({isOpen:e,onClose:t,rawImageData:r,roi:n,selectedChannel:a,channelName:o,zIndex:i,onFocus:s,initialPosition:l})=>{const c=S.useRef(null),[d,f]=S.useState(!1),[h,p]=S.useState(null),[m,v]=S.useState(null),[k,y]=S.useState(!0),[g,x]=S.useState(!0),[j,b]=S.useState("-1"),[w,N]=S.useState("8"),[_,O]=S.useState(64),[P,M]=S.useState(45),[C,$]=S.useState(60),F=S.useRef(!1),T=S.useRef({x:0,y:0});S.useEffect(()=>{!e||!r||!n||(f(!0),v(null),setTimeout(()=>{try{const D=FQ(r.data,r.width,r.height,n,a,g);D?p(D):v("Could not extract valid data from ROI.")}catch(D){console.error("2D FFT Error",D),v("Calculation Error: "+D.message)}finally{f(!1)}},50))},[e,r,n,a,g]),S.useEffect(()=>{if(!h||!c.current)return;const D=c.current,G=D.getContext("2d");if(!G)return;const Z=D.width,K=D.height;G.clearRect(0,0,Z,K),G.fillStyle="#0f172a",G.fillRect(0,0,Z,K);const L=h.width,te=h.height,Q=h.data,R=Math.pow(10,parseFloat(j)||-1),ae=Math.pow(10,parseFloat(w)||8);let fe=R,Y=ae;k&&(fe=Math.log10(Math.max(1e-10,R)),Y=Math.log10(Math.max(1e-10,ae)));const oe=Y-fe||1,pe=Z/2,H=K/2+50,ie=Math.min(Z,K)*.4,se=.6,je=P*Math.PI/180,Re=C*Math.PI/180,Le=Math.cos(je),pt=Math.sin(je),Dt=Math.cos(Re),Me=Math.sin(Re),He=(De,yt,Ot)=>{const gr=De*Le-yt*pt,pn=De*pt+yt*Le,Pn=pn*Dt-Ot*Me,er=pn*Me+Ot*Dt;return{x:pe+gr*ie,y:H-Pn*ie,depth:er}},gt=Math.max(16,_),Wt=Math.max(1,Math.floor(L/gt)),_r=Math.max(1,Math.floor(te/gt)),Mt=(De,yt)=>{let Ot=Q[yt*L+De];return k&&(Ot=Math.log10(Math.max(1e-10,Ot))),Ot=Math.max(fe,Math.min(Y,Ot)),(Ot-fe)/oe},ka=De=>`hsl(${(1-De)*240}, 80%, 50%)`,ft=[];for(let De=0;De<te-_r;De+=_r)for(let yt=0;yt<L-Wt;yt+=Wt){const Ot=yt,gr=De,pn=yt+Wt,Pn=De,er=yt+Wt,An=De+_r,Ve=yt,tr=De+_r,or=Mt(Ot,gr),Pr=Mt(pn,Pn),tn=Mt(er,An),Ar=Mt(Ve,tr),Mn=(or+Pr+tn+Ar)/4,Gn=He(Ot/(L-1)-.5,gr/(te-1)-.5,or*se),Hn=He(pn/(L-1)-.5,Pn/(te-1)-.5,Pr*se),rn=He(er/(L-1)-.5,An/(te-1)-.5,tn*se),aa=He(Ve/(L-1)-.5,tr/(te-1)-.5,Ar*se),nn=(Gn.depth+Hn.depth+rn.depth+aa.depth)/4;ft.push({pts:[{x:Gn.x,y:Gn.y},{x:Hn.x,y:Hn.y},{x:rn.x,y:rn.y},{x:aa.x,y:aa.y}],avgDepth:nn,avgZ:Mn})}ft.sort((De,yt)=>De.avgDepth-yt.avgDepth),G.lineWidth=.5,ft.forEach(De=>{G.fillStyle=ka(De.avgZ),G.beginPath(),G.moveTo(De.pts[0].x,De.pts[0].y),G.lineTo(De.pts[1].x,De.pts[1].y),G.lineTo(De.pts[2].x,De.pts[2].y),G.lineTo(De.pts[3].x,De.pts[3].y),G.closePath(),G.fill()}),G.fillStyle="#aaa",G.font="10px monospace";const Or=He(-.5,-.5,0),hr=He(.5,-.5,0),Jt=He(-.5,.5,0),pr=He(.5,.5,0);G.strokeStyle="#666",G.beginPath(),G.moveTo(Or.x,Or.y),G.lineTo(hr.x,hr.y),G.lineTo(pr.x,pr.y),G.lineTo(Jt.x,Jt.y),G.closePath(),G.stroke(),G.fillText("0",Or.x-10,Or.y+10),G.fillText("Fx",hr.x+5,hr.y),G.fillText("Fy",Jt.x-15,Jt.y);const mt=He(-.5,-.5,se);G.strokeStyle="#fff",G.beginPath(),G.moveTo(Or.x,Or.y),G.lineTo(mt.x,mt.y),G.stroke(),G.fillText(`10^${w}`,mt.x-25,mt.y),G.fillText(`10^${j}`,Or.x-25,Or.y)},[h,k,P,C,j,w,_]);const U=D=>{F.current=!0,T.current={x:D.clientX,y:D.clientY}},A=D=>{if(!F.current)return;const G=D.clientX-T.current.x,Z=D.clientY-T.current.y;M(K=>K-G*.5),$(K=>Math.max(0,Math.min(90,K+Z*.5))),T.current={x:D.clientX,y:D.clientY}},E=()=>{F.current=!1};return e?u.jsxs(Fu,{initialPosition:l||{x:100,y:100},onClose:t,zIndex:i,onFocus:s,className:"w-[700px] h-[600px] bg-slate-900 border border-slate-700 flex flex-col overflow-hidden shadow-2xl",children:[u.jsxs("div",{className:"flex justify-between items-center px-4 py-2 border-b border-slate-700 bg-slate-800",children:[u.jsxs("h3",{className:"text-sm font-bold text-slate-200 flex items-center gap-2",children:["2D FFT Power Spectrum - ",o,h&&u.jsxs("span",{className:"text-[10px] font-normal text-slate-400 bg-slate-700 px-2 py-0.5 rounded",children:[h.width,"x",h.height," (Chirp-Z)"]})]}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("button",{onClick:t,className:"text-slate-400 hover:text-red-400 transition-colors",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})})]}),u.jsxs("div",{className:"p-3 bg-slate-800/80 flex flex-wrap gap-4 text-xs items-center border-b border-slate-700",children:[u.jsxs("div",{className:"flex items-center gap-2 bg-slate-900 px-2 py-1 rounded border border-slate-600",children:[u.jsx("span",{className:"text-slate-400 font-bold",children:"Range (10^x):"}),u.jsx("input",{type:"number",value:j,onChange:D=>b(D.target.value),className:"w-10 bg-transparent text-slate-200 text-center border-b border-slate-600 focus:border-cyan-500 outline-none"}),u.jsx("span",{className:"text-slate-500",children:"to"}),u.jsx("input",{type:"number",value:w,onChange:D=>N(D.target.value),className:"w-10 bg-transparent text-slate-200 text-center border-b border-slate-600 focus:border-cyan-500 outline-none"})]}),u.jsxs("div",{className:"flex items-center gap-2 bg-slate-900 px-2 py-1 rounded border border-slate-600",children:[u.jsx("span",{className:"text-slate-400 font-bold",children:"Density:"}),u.jsx("input",{type:"range",min:"16",max:"128",step:"16",value:_,onChange:D=>O(Number(D.target.value)),className:"w-20 h-1.5 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"}),u.jsx("span",{className:"text-slate-300 w-6 text-right",children:_})]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none text-slate-300 hover:text-white",children:[u.jsx("input",{type:"checkbox",checked:k,onChange:D=>y(D.target.checked),className:"rounded bg-slate-700 border-slate-600 accent-cyan-500"}),"Log Z"]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none text-slate-300 hover:text-white",children:[u.jsx("input",{type:"checkbox",checked:g,onChange:D=>x(D.target.checked),className:"rounded bg-slate-700 border-slate-600 accent-fuchsia-500"}),"Hanning"]})]}),u.jsxs("div",{className:"flex-1 relative bg-slate-900 cursor-move",children:[d&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-900/80 z-20 backdrop-blur-sm",children:u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx("div",{className:"w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin"}),u.jsx("span",{className:"text-cyan-400 font-bold animate-pulse text-sm",children:"Computing full-size 2D FFT..."})]})}),m&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-900/80 z-20 text-red-400 p-4 text-center",children:m}),u.jsx("canvas",{ref:c,width:700,height:500,className:"w-full h-full block",onMouseDown:U,onMouseMove:A,onMouseUp:E,onMouseLeave:E}),u.jsx("div",{className:"absolute bottom-2 right-2 text-[9px] text-slate-600 pointer-events-none",children:"Drag to Rotate"})]})]}):null},HQ=.5,ey=1e-10,dk=(e,t)=>{const r=e.length-1;if(r<0)return ey;const n=t/HQ*r,a=Math.round(n),o=e[Math.min(Math.max(0,a),r)]||0;return Math.max(o,ey)},VQ=(e,t)=>{if(t<=0)return[1];const r=new Array(e);let n=0;for(let a=0;a<e;a++){const o=a-(e-1)/2,i=Math.exp(-(o*o)/(2*t*t));r[a]=i,n+=i}for(let a=0;a<e;a++)r[a]/=n;return r},XQ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,onUpdateROI:i,zIndex:s,onFocus:l,initialPosition:c,initialInternalState:d,onUpdateState:f,stackFiles:h})=>{const[p,m]=S.useState((d==null?void 0:d.selectedChannel)??0),[v,k]=S.useState(()=>(d==null?void 0:d.yMinExp)||localStorage.getItem("fft_y_min")||"1.73"),[y,g]=S.useState(()=>(d==null?void 0:d.yMaxExp)||localStorage.getItem("fft_y_max")||"8.00"),[x,j]=S.useState((d==null?void 0:d.useHanning)??!0),[b,w]=S.useState((d==null?void 0:d.doAverage)??!0),[N,_]=S.useState((d==null?void 0:d.welchSegments)??1),[O,P]=S.useState((d==null?void 0:d.showH)??!0),[M,C]=S.useState((d==null?void 0:d.showV)??!0),[$,F]=S.useState((d==null?void 0:d.interlaceRows)??!1),[T,U]=S.useState((d==null?void 0:d.rowGroup)??0),[A,E]=S.useState((d==null?void 0:d.interlaceCols)??!1),[D,G]=S.useState((d==null?void 0:d.colGroup)??0),[Z,K]=S.useState(()=>(d==null?void 0:d.theoSigma)||localStorage.getItem("fft_theo_sigma")||"0.00"),[L,te]=S.useState(()=>(d==null?void 0:d.theoKernelSize)||localStorage.getItem("fft_theo_ksize")||"3"),[Q,R]=S.useState(()=>(d==null?void 0:d.theoNoiseStd)||localStorage.getItem("fft_theo_noise")||"7.5"),[ae,fe]=S.useState(()=>(d==null?void 0:d.theoScale)||localStorage.getItem("fft_theo_scale")||"1.0"),[Y,oe]=S.useState((d==null?void 0:d.intStart)||"0"),[pe,H]=S.useState((d==null?void 0:d.intEnd)||"0.5"),[ie,se]=S.useState(!1),[je,Re]=S.useState([]),[Le,pt]=S.useState(!1),[Dt,Me]=S.useState(0),[He,gt]=S.useState(null),[Wt,_r]=S.useState(!1),[Mt,ka]=S.useState(!1),[ft,Or]=S.useState(null),[hr,Jt]=S.useState(!1),[pr,mt]=S.useState(null),[De,yt]=S.useState(c||{x:50,y:50}),[Ot,gr]=S.useState(!1),[pn,Pn]=S.useState(null),[er,An]=S.useState({}),Ve=S.useRef({x:0,y:0}),tr=o?{c0:"#3b82f6",c1:"#22c55e",c2:"#4ade80",c3:"#ef4444"}:{c0:"#ef4444",c1:"#22c55e",c2:"#4ade80",c3:"#3b82f6"},or=S.useMemo(()=>o?{0:"Blue",1:"Green 1",2:"Green 2",3:"Red"}:{0:"Red",1:"Green 1",2:"Green 2",3:"Blue"},[o]);S.useEffect(()=>{localStorage.setItem("fft_y_min",v),localStorage.setItem("fft_y_max",y),localStorage.setItem("fft_theo_sigma",Z),localStorage.setItem("fft_theo_ksize",L),localStorage.setItem("fft_theo_noise",Q),localStorage.setItem("fft_theo_scale",ae)},[v,y,Z,L,Q,ae]),S.useEffect(()=>{if(!e||!n||!a)return;pt(!0),gt(null),Me(0);const le=setTimeout(async()=>{try{const Oe=p===-1?[0,1,2,3]:[p],Be=h&&h.length>1?h:[null],it=Be.length,Xe={};let vt={h:0,v:0};for(let Ie=0;Ie<it;Ie++){Me(Ie+1);let Ke;if(Be[Ie]){const dt=await Be[Ie].arrayBuffer();Ke=await yh(dt)}else Ke=n;for(const dt of Oe){const lt=BQ(Ke.data,Ke.width,Ke.height,a,dt,!1,x,{rows:$,rowGroup:T,cols:A,colGroup:D},b,N);lt&&(Xe[dt]||(Xe[dt]={h:new Array(lt.avgHoriz.length).fill(0),v:new Array(lt.avgVert.length).fill(0)}),lt.avgHoriz.forEach((Ct,ge)=>Xe[dt].h[ge]+=Ct/it),lt.avgVert.forEach((Ct,ge)=>Xe[dt].v[ge]+=Ct/it),vt=lt.sampleCount)}}if(Object.keys(Xe).length===0)throw new Error("ROI too small or no data found.");const sr=1024,lr=[];for(let Ie=0;Ie<sr;Ie++){const Ke=Ie/(sr-1)*.5,dt={freq:parseFloat(Ke.toFixed(6))};for(const lt of Oe)Xe[lt]&&(dt[`c${lt}_h`]=dk(Xe[lt].h,Ke),dt[`c${lt}_v`]=dk(Xe[lt].v,Ke));lr.push(dt)}Pn(vt),Re(lr)}catch(Oe){console.error("FFT Loop Failed:",Oe),gt(Oe.message||"Unknown error during FFT processing")}finally{pt(!1)}},100);return()=>clearTimeout(le)},[e,n,a==null?void 0:a.x,a==null?void 0:a.y,a==null?void 0:a.w,a==null?void 0:a.h,p,x,b,N,$,T,A,D,h]);const Pr=()=>{const le=parseFloat(Y),Oe=parseFloat(pe);if(isNaN(le)||isNaN(Oe))return;const Be={},it=p===-1?[0,1,2,3]:[p],Xe=je.filter(vt=>vt.freq>=le&&vt.freq<=Oe);if(Xe.length===0){An({});return}it.forEach(vt=>{let sr=0,lr=0;Xe.forEach(Ie=>{const Ke=Ie[`c${vt}_h`],dt=Ie[`c${vt}_v`];typeof Ke=="number"&&(sr+=Ke),typeof dt=="number"&&(lr+=dt)}),Be[vt]={h:sr/Xe.length,v:lr/Xe.length,count:Xe.length}}),An(Be)},tn=S.useMemo(()=>{const le=parseFloat(Z),Oe=parseInt(L),Be=parseFloat(Q),it=parseFloat(ae);if(isNaN(le)||isNaN(Oe)||isNaN(Be)||isNaN(it)||je.length===0)return je;const Xe=VQ(Oe,le),vt=Xe.reduce((Ie,Ke)=>Ie+Ke*Ke,0),sr=(Oe-1)/2,lr=Be*Be*it;return je.map(Ie=>{const Ke=Ie.freq,dt=2*Math.PI*Ke;let lt=0,Ct=0;for(let Br=0;Br<Oe;Br++){const eo=Br-sr,Vn=Xe[Br],Cn=-dt*eo;lt+=Vn*Math.cos(Cn),Ct+=Vn*Math.sin(Cn)}const ge=lt*lt+Ct*Ct;return{...Ie,theory:Math.max(ey,lr*vt*ge)}})},[je,Z,L,Q,ae]),Ar=le=>{le&&le.activeLabel!==void 0&&(Jt(!0),mt(Number(le.activeLabel)),Or(null))},Mn=le=>{if(hr&&pr!==null&&le&&le.activeLabel!==void 0){const Oe=Number(le.activeLabel);Or([Math.min(pr,Oe),Math.max(pr,Oe)])}},Gn=()=>Jt(!1),Hn=(le,Oe,Be)=>{l&&l(),!(Be.closest("button")||Be.closest("input"))&&(gr(!0),Ve.current={x:le-De.x,y:Oe-De.y})},rn=le=>{Hn(le.clientX,le.clientY,le.target)},aa=le=>{const Oe=le.touches[0];Hn(Oe.clientX,Oe.clientY,le.target)};S.useEffect(()=>{const le=Be=>{if(Ot){const it="touches"in Be?Be.touches[0].clientX:Be.clientX,Xe="touches"in Be?Be.touches[0].clientY:Be.clientY;yt({x:it-Ve.current.x,y:Xe-Ve.current.y})}},Oe=()=>gr(!1);return Ot&&(window.addEventListener("mousemove",le),window.addEventListener("mouseup",Oe),window.addEventListener("touchmove",le,{passive:!1}),window.addEventListener("touchend",Oe)),()=>{window.removeEventListener("mousemove",le),window.removeEventListener("mouseup",Oe),window.removeEventListener("touchmove",le),window.removeEventListener("touchend",Oe)}},[Ot]);const nn=S.useMemo(()=>{if(!ft||je.length===0)return null;const[le,Oe]=ft,Be=je.filter(vt=>vt.freq>=le&&vt.freq<=Oe);if(Be.length===0)return null;const it=p===-1?[0,1,2,3]:[p],Xe={};return it.forEach(vt=>{["h","v"].forEach(sr=>{const lr=`c${vt}_${sr}`;let Ie=0,Ke=0;for(const dt of Be){const lt=dt[lr];typeof lt=="number"&&(Ie+=lt,Ke++)}Ke>0&&(Xe[`${lr}_sigma`]=Math.sqrt(Ie/Ke))})}),{count:Be.length,stats:Xe}},[ft,je,p]),Yt=()=>{if(je.length===0)return;let le=1/0,Oe=-1/0;if(je.forEach(sr=>{sr.freq<.01||sr.freq>.49||Object.keys(sr).forEach(lr=>{if(lr==="freq"||lr==="theory")return;const Ie=sr[lr];typeof Ie=="number"&&Ie>0&&(Ie<le&&(le=Ie),Ie>Oe&&(Oe=Ie))})}),le===1/0)return;const Be=Math.log10(le),it=Math.log10(Oe),Xe=it-Be,vt=(Xe===0?1:Xe)*.1;k((Be-vt).toFixed(2)),g((it+vt).toFixed(2))},ir=(le,Oe)=>{a&&i&&i({...a,x:a.x+le,y:a.y+Oe})},Pt=(le,Oe)=>{a&&i&&i({...a,w:Math.max(2,a.w+le),h:Math.max(2,a.h+Oe)})};return e?u.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl overflow-hidden resize-both min-w-[750px] min-h-[500px]",style:{left:De.x,top:De.y,width:"1000px",height:"850px",zIndex:s??100},onMouseDownCapture:l,children:[u.jsxs("div",{className:`flex justify-between items-center p-3 border-b border-gray-200 dark:border-slate-700 flex-shrink-0 bg-gray-50 dark:bg-slate-800 z-50 relative select-none touch-none ${Ot?"cursor-grabbing":"cursor-grab"}`,onMouseDown:rn,onTouchStart:aa,children:[u.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2 pointer-events-none",children:["Power Spectrum Analysis",u.jsx("span",{className:"text-[10px] font-normal bg-white dark:bg-slate-700 px-2 py-1 rounded text-gray-500 border border-gray-200 dark:border-slate-600 shadow-sm",children:h&&h.length>1?`Stack Avg (${h.length} frames)`:"Single Mode"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[r&&u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsxs("div",{className:"flex flex-col bg-gray-50 dark:bg-slate-900/80 border-b border-gray-200 dark:border-slate-800 flex-shrink-0 z-40 relative px-4 py-3 gap-3 overflow-x-auto",children:[u.jsxs("div",{className:"flex items-center gap-6",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-[10px] font-bold text-gray-500 dark:text-slate-400 uppercase tracking-widest",children:"Channel"}),u.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-800 rounded-lg p-0.5 border border-gray-200 dark:border-slate-700 shadow-inner",children:[u.jsx("button",{onClick:()=>m(-1),className:`px-3 py-1 rounded text-[10px] font-bold transition-all ${p===-1?"bg-slate-700 text-white shadow-md":"text-gray-500 dark:text-slate-500 hover:bg-white dark:hover:bg-slate-700"}`,children:"All"}),[0,1,2,3].map(le=>u.jsx("button",{onClick:()=>m(le),className:`px-3 py-1 rounded text-[10px] font-bold transition-all ${p===le?"bg-cyan-600 text-white shadow-md":"text-gray-500 dark:text-slate-500 hover:bg-white dark:hover:bg-slate-700"}`,children:or[le]},le))]})]}),u.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700 mx-2"}),u.jsxs("button",{onClick:()=>se(!0),className:"flex items-center gap-1.5 px-4 py-1.5 bg-indigo-600 hover:bg-indigo-500 text-white text-[10px] font-bold rounded-lg shadow-lg shadow-indigo-500/30 transition-all active:scale-95 group border border-indigo-400/30",children:[u.jsx("svg",{className:"w-3.5 h-3.5 group-hover:animate-pulse",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"2D Diagonal"]}),u.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700 mx-2"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-400 uppercase tracking-widest",children:"Model"}),u.jsx("div",{className:"flex gap-2",children:[{label:"KSize",val:L,set:te,w:"w-10"},{label:"Sigma",val:Z,set:K,w:"w-12"},{label:"Noise()",val:Q,set:R,w:"w-12"},{label:"Scale",val:ae,set:fe,w:"w-12"}].map(le=>u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("label",{className:"text-[8px] text-gray-400 dark:text-slate-500 uppercase font-bold mb-0.5",children:le.label}),u.jsx("input",{type:"text",value:le.val,onChange:Oe=>le.set(Oe.target.value),className:`${le.w} text-[11px] bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded px-1.5 py-0.5 text-center text-gray-900 dark:text-slate-100 outline-none focus:border-indigo-500 shadow-sm`})]},le.label))})]})]}),u.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[u.jsxs("div",{className:"flex items-center gap-3 mr-2",children:[u.jsx("span",{className:"text-[10px] font-bold text-fuchsia-600 dark:text-fuchsia-500 uppercase tracking-widest",children:"Welch"}),u.jsx("input",{type:"range",min:"1",max:"16",step:"1",value:N,onChange:le=>_(parseInt(le.target.value)),className:"w-24 h-1.5 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-fuchsia-500"}),u.jsx("span",{className:"text-[10px] font-mono text-fuchsia-600 dark:text-fuchsia-400 w-4 font-bold",children:N})]}),u.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700"}),u.jsxs("div",{className:"flex flex-col gap-1 px-2",children:[u.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer text-[10px] text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 select-none",children:[u.jsx("input",{type:"checkbox",checked:$,onChange:le=>F(le.target.checked),className:"w-3 h-3 rounded text-cyan-600 border-gray-300 dark:border-slate-700 bg-white dark:bg-slate-800"})," Row Int."]}),u.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer text-[10px] text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 select-none",children:[u.jsx("input",{type:"checkbox",checked:A,onChange:le=>E(le.target.checked),className:"w-3 h-3 rounded text-cyan-600 border-gray-300 dark:border-slate-700 bg-white dark:bg-slate-800"})," Col Int."]})]}),u.jsxs("div",{className:"flex flex-col gap-1.5 bg-gray-100 dark:bg-slate-800/60 p-1.5 rounded-lg border border-gray-200 dark:border-slate-700",children:[u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[u.jsx("div",{className:`w-3.5 h-3.5 rounded-md border flex items-center justify-center transition-colors ${x?"bg-fuchsia-600 border-fuchsia-600":"bg-white dark:bg-slate-900 border-gray-300 dark:border-slate-600"}`,children:x&&u.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:4,children:u.jsx("path",{d:"M5 13l4 4L19 7"})})}),u.jsx("input",{type:"checkbox",checked:x,onChange:le=>j(le.target.checked),className:"hidden"}),u.jsx("span",{className:"text-[10px] font-bold text-gray-700 dark:text-slate-300",children:"Hanning"})]}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[u.jsx("div",{className:`w-3.5 h-3.5 rounded-md border flex items-center justify-center transition-colors ${b?"bg-cyan-600 border-cyan-600":"bg-white dark:bg-slate-900 border-gray-300 dark:border-slate-600"}`,children:b&&u.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:4,children:u.jsx("path",{d:"M5 13l4 4L19 7"})})}),u.jsx("input",{type:"checkbox",checked:b,onChange:le=>w(le.target.checked),className:"hidden"}),u.jsx("span",{className:"text-[10px] font-bold text-gray-700 dark:text-slate-300",children:"Average"})]})]}),u.jsxs("div",{className:"flex gap-2 bg-gray-100 dark:bg-slate-800 p-1 rounded-lg border border-gray-200 dark:border-slate-700",children:[u.jsxs("button",{onClick:()=>P(!O),className:`px-2.5 py-1 rounded-md border text-[11px] font-bold transition-all flex items-center gap-1.5 ${O?"bg-cyan-900/40 text-cyan-400 border-cyan-500 shadow-[0_0_8px_rgba(6,182,212,0.3)]":"bg-white dark:bg-slate-900 text-gray-400 border-gray-300 dark:border-slate-700"}`,children:[u.jsx("div",{className:`w-2 h-2 rounded-full ${O?"bg-cyan-400":"bg-gray-400"}`})," H"]}),u.jsxs("button",{onClick:()=>C(!M),className:`px-2.5 py-1 rounded-md border text-[11px] font-bold transition-all flex items-center gap-1.5 ${M?"bg-cyan-900/40 text-cyan-400 border-cyan-500 shadow-[0_0_8px_rgba(6,182,212,0.3)]":"bg-white dark:bg-slate-900 text-gray-400 border-gray-300 dark:border-slate-700"}`,children:[u.jsx("div",{className:`w-2 h-2 rounded-full ${O?"bg-cyan-400":"bg-gray-400"}`})," V"]})]}),u.jsxs("div",{className:"ml-auto flex gap-2",children:[u.jsx("button",{onClick:()=>ka(!Mt),className:`px-3 py-1.5 rounded-lg text-[10px] font-bold transition-all border ${Mt?"bg-emerald-600 text-white border-emerald-600 shadow-md":"bg-white dark:bg-slate-900 text-emerald-600 dark:text-emerald-400 border-emerald-200 dark:border-emerald-800 hover:bg-emerald-50"}`,children:""}),u.jsx("button",{onClick:()=>_r(!Wt),className:`px-3 py-1.5 rounded-lg text-[10px] font-bold transition-all border ${Wt?"bg-indigo-600 text-white border-indigo-600 shadow-md":"bg-white dark:bg-slate-900 text-indigo-600 dark:text-indigo-400 border-indigo-200 dark:border-indigo-800 hover:bg-indigo-50"}`,children:"ROI"})]})]}),u.jsxs("div",{className:"flex items-center gap-4 justify-end border-t border-gray-200 dark:border-slate-800/50 pt-2.5",children:[u.jsx("button",{onClick:Yt,className:"px-4 py-1 text-[10px] font-bold bg-cyan-600/10 text-cyan-600 dark:text-cyan-400 hover:bg-cyan-600/20 rounded-md border border-cyan-500/30 transition-all uppercase tracking-widest shadow-sm",children:"Auto"}),u.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-gray-500 dark:text-slate-400 uppercase",children:["Y-AXIS (LOG)",u.jsxs("div",{className:"flex items-center bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-md overflow-hidden shadow-sm",children:[u.jsx("input",{type:"text",value:v,onChange:le=>k(le.target.value),className:"w-14 px-2 py-1 bg-transparent text-center outline-none text-gray-900 dark:text-slate-100 border-r border-gray-200 dark:border-slate-700"}),u.jsx("span",{className:"px-2 text-gray-400",children:"to"}),u.jsx("input",{type:"text",value:y,onChange:le=>g(le.target.value),className:"w-14 px-2 py-1 bg-transparent text-center outline-none text-gray-900 dark:text-slate-100"})]})]})]})]}),u.jsxs("div",{className:"flex-1 p-4 overflow-hidden flex flex-col gap-2 relative bg-gray-50/30 dark:bg-slate-900/30",children:[u.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none z-[50] select-none opacity-10",children:u.jsx("svg",{viewBox:"0 0 500 100",className:"w-3/4 h-auto drop-shadow-lg",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"24",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),Le&&u.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-[55] bg-white/90 dark:bg-slate-900/90 backdrop-blur-[2px]",children:[u.jsx("div",{className:"w-10 h-10 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mb-4"}),u.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:"Computing FFT Stack..."}),h&&h.length>1&&u.jsxs("span",{className:"text-xs text-gray-500 mt-2 font-mono",children:["Processing frame ",Dt," / ",h.length]})]}),He?u.jsx("div",{className:"flex items-center justify-center h-full text-red-500 font-semibold",children:He}):u.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-950 border border-gray-200 dark:border-slate-800 rounded-xl p-2 flex flex-col relative z-20 shadow-xl overflow-hidden",children:[u.jsx("div",{className:"flex-1 relative z-10",onMouseDown:Ar,onMouseMove:Mn,onMouseUp:Gn,style:{cursor:hr?"col-resize":"crosshair"},children:u.jsx(yo,{width:"100%",height:"100%",children:u.jsxs(Is,{data:tn,margin:{top:10,right:10,bottom:20,left:0},children:[u.jsx(qa,{strokeDasharray:"3 3",stroke:"#374151",opacity:.08}),u.jsx(zn,{dataKey:"freq",type:"number",domain:[0,.5],tickCount:6,tick:{fill:"#6b7280",fontSize:10},label:{value:"Frequency (cy/px)",position:"insideBottom",offset:-10,fill:"#6b7280",fontSize:11}}),u.jsx(Un,{scale:"log",domain:[Math.pow(10,parseFloat(v)),Math.pow(10,parseFloat(y))],allowDataOverflow:!0,tick:{fill:"#6b7280",fontSize:10},tickFormatter:le=>Number(le).toExponential(0),width:45}),u.jsx(Hr,{contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.95)",border:"1px solid #334155",color:"#f3f4f6",fontSize:"11px",borderRadius:"8px"},formatter:le=>[Number(le).toExponential(3),""],labelFormatter:le=>`Freq: ${Number(le).toFixed(4)}`}),u.jsx(Va,{wrapperStyle:{fontSize:"10px"}}),u.jsx(Sr,{type:"monotone",dataKey:"theory",name:"Theory Model",stroke:"#6366f1",strokeWidth:2,dot:!1,isAnimationActive:!1}),[0,1,2,3].flatMap(le=>{if(p!==-1&&p!==le)return[];const Oe=`c${le}_h`,Be=`c${le}_v`,it=tr[`c${le}`],Xe=[];return O&&Xe.push(u.jsx(Sr,{type:"linear",dataKey:Oe,name:`${or[le]} (H)`,stroke:it,strokeWidth:1,dot:!1,isAnimationActive:!1},`${le}_h`)),M&&Xe.push(u.jsx(Sr,{type:"linear",dataKey:Be,name:`${or[le]} (V)`,stroke:it,strokeWidth:1,strokeDasharray:"3 3",dot:!1,isAnimationActive:!1},`${le}_v`)),Xe}),ft&&u.jsx(Iu,{x1:ft[0],x2:ft[1],fill:"#8884d8",fillOpacity:.15})]})})}),nn&&ft&&u.jsxs("div",{className:"absolute bottom-12 left-12 bg-slate-900/90 backdrop-blur-md p-3 rounded-lg border border-indigo-500/50 shadow-2xl z-30 text-[10px] font-mono text-slate-100",children:[u.jsxs("div",{className:"text-indigo-400 font-bold mb-1 border-b border-indigo-500/30 pb-1",children:["Range: ",ft[0].toFixed(3),"-",ft[1].toFixed(3)]}),Object.entries(nn.stats).map(([le,Oe])=>u.jsxs("div",{className:"flex justify-between gap-4",children:[u.jsxs("span",{className:"text-slate-400",children:[le,":"]}),u.jsx("span",{className:"font-bold text-cyan-400",children:Oe.toFixed(5)})]},le))]})]})]}),Mt&&u.jsxs("div",{className:"absolute top-48 right-8 z-[55] w-72 bg-white dark:bg-slate-900 rounded-xl shadow-2xl border border-gray-200 dark:border-slate-700 p-4 animate-in slide-in-from-top-2",children:[u.jsx("h4",{className:"text-[10px] uppercase font-bold text-emerald-600 dark:text-emerald-400 mb-2 border-b border-gray-100 dark:border-slate-800 pb-1",children:"Range Averaging"}),u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx("input",{type:"number",step:"0.01",value:Y,onChange:le=>oe(le.target.value),className:"w-16 px-1 py-0.5 text-xs border rounded bg-transparent dark:border-slate-600 dark:text-white"}),u.jsx("span",{className:"text-gray-400",children:"-"}),u.jsx("input",{type:"number",step:"0.01",value:pe,onChange:le=>H(le.target.value),className:"w-16 px-1 py-0.5 text-xs border rounded bg-transparent dark:border-slate-600 dark:text-white"}),u.jsx("button",{onClick:Pr,className:"flex-1 bg-emerald-600 text-white text-[10px] font-bold py-1 rounded",children:"Avg"})]}),u.jsx("div",{className:"flex flex-col gap-2 max-h-48 overflow-y-auto",children:[0,1,2,3].map(le=>{const Oe=er[le];if(!Oe)return null;const Be=tr[`c${le}`];return u.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800/50 p-2 rounded text-[10px] border border-gray-100 dark:border-slate-800",children:[u.jsxs("div",{className:"flex items-center gap-2 font-bold mb-1",style:{color:Be},children:[or[le]," ",u.jsxs("span",{className:"text-gray-400 font-normal",children:["(",Oe.count," pts)"]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-x-2 text-gray-700 dark:text-slate-300 font-mono",children:[u.jsxs("div",{children:["H: ",Oe.h.toExponential(3)]}),u.jsxs("div",{children:["V: ",Oe.v.toExponential(3)]})]})]},le)})})]}),Wt&&u.jsx("div",{className:"absolute top-48 right-8 z-[55] w-56 bg-white dark:bg-slate-900 rounded-xl shadow-2xl border border-gray-200 dark:border-slate-700 p-4 animate-in slide-in-from-top-2",children:u.jsxs("div",{className:"flex flex-col gap-3",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"text-[9px] uppercase font-bold text-gray-400 mb-1",children:"Move"}),u.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[u.jsx("div",{}),u.jsx("button",{onClick:()=>ir(0,-1),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),u.jsx("div",{}),u.jsx("button",{onClick:()=>ir(-1,0),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),u.jsx("div",{}),u.jsx("button",{onClick:()=>ir(1,0),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),u.jsx("div",{}),u.jsx("button",{onClick:()=>ir(0,1),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),u.jsx("div",{})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-[9px] uppercase font-bold text-gray-400 mb-1",children:"Size"}),u.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[u.jsx("button",{onClick:()=>Pt(2,0),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"W+"}),u.jsx("button",{onClick:()=>Pt(-2,0),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"W-"}),u.jsx("button",{onClick:()=>Pt(0,2),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"H+"}),u.jsx("button",{onClick:()=>Pt(0,-2),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"H-"})]})]})]})}),u.jsx(GQ,{isOpen:ie,onClose:()=>se(!1),rawImageData:n,roi:a,selectedChannel:p===-1?0:p,channelName:p===-1?"Red (Default)":or[p],zIndex:s?s+2:102,onFocus:l})]}):null},KQ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,zIndex:i,onFocus:s,initialPosition:l,initialInternalState:c,onUpdateState:d})=>{const[f,h]=S.useState((c==null?void 0:c.selectedChannelKey)||"G1"),[p,m]=S.useState((c==null?void 0:c.blackLevel)??0),[v,k]=S.useState((c==null?void 0:c.whiteLevel)??16383),[y,g]=S.useState(null),[x,j]=S.useState(!1),[b,w]=S.useState(null),[N,_]=S.useState(l||{x:150,y:150}),[O,P]=S.useState(!1),M=S.useRef({x:0,y:0});S.useEffect(()=>{d&&d({selectedChannelKey:f,blackLevel:p,whiteLevel:v})},[f,p,v]),S.useEffect(()=>{if(e&&n&&!c){const A=n.blackLevels?Math.floor(n.blackLevels[1]):0;m(A),k(n.whiteLevel||16383),g(null)}},[e,n]);const C=()=>{if(!n||!a)return;w(null),j(!0);const E=(o?{B:0,G1:1,G2:2,R:3}:{R:0,G1:1,G2:2,B:3})[f];setTimeout(()=>{try{const D=zQ(n.data,n.width,n.height,a,E,p,v);D?g(D):(w("No data found in selection with current filters."),g(null))}catch(D){console.error("Analysis failed:",D),w(D.message||"Analysis error")}finally{j(!1)}},50)},$=(A,E,D)=>{s&&s(),!(D.closest("button")||D.closest("input")||D.closest("select"))&&(P(!0),M.current={x:A-N.x,y:E-N.y})},F=A=>{$(A.clientX,A.clientY,A.target)},T=A=>{const E=A.touches[0];$(E.clientX,E.clientY,A.target)};if(S.useEffect(()=>{const A=D=>{if(O){const G="touches"in D?D.touches[0].clientX:D.clientX,Z="touches"in D?D.touches[0].clientY:D.clientY;_({x:G-M.current.x,y:Z-M.current.y})}},E=()=>P(!1);return O&&(window.addEventListener("mousemove",A),window.addEventListener("mouseup",E),window.addEventListener("touchmove",A,{passive:!1}),window.addEventListener("touchend",E)),()=>{window.removeEventListener("mousemove",A),window.removeEventListener("mouseup",E),window.removeEventListener("touchmove",A),window.removeEventListener("touchend",E)}},[O]),!e)return null;const U=o?["B","G1","G2","R"]:["R","G1","G2","B"];return u.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl resize-both overflow-hidden min-w-[500px] min-h-[400px] w-[900px] h-[700px]",style:{left:N.x,top:N.y,zIndex:i??100},onMouseDownCapture:s,children:[u.jsxs("div",{className:`flex justify-between items-center p-4 border-b border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-900 select-none touch-none ${O?"cursor-grabbing":"cursor-grab"}`,onMouseDown:F,onTouchStart:T,children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2 pointer-events-none",children:"Quantization Step Analysis"}),u.jsxs("div",{className:"flex items-center gap-1",children:[r&&u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 p-2",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800/50 border-b border-gray-200 dark:border-slate-700 flex flex-wrap gap-4 items-end flex-shrink-0",children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Channel"}),u.jsx("select",{value:f,onChange:A=>h(A.target.value),className:"bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded px-3 py-1.5 text-sm text-gray-900 dark:text-slate-100 outline-none focus:ring-1 focus:ring-cyan-500 min-w-[80px]",children:U.map(A=>u.jsx("option",{value:A,children:A},A))})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Black Level"}),u.jsx("input",{type:"number",value:p,onChange:A=>m(Number(A.target.value)),className:"w-24 px-3 py-1.5 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-sm text-gray-900 dark:text-slate-100"})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"White Level"}),u.jsx("input",{type:"number",value:v,onChange:A=>k(Number(A.target.value)),className:"w-24 px-3 py-1.5 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-sm text-gray-900 dark:text-slate-100"})]}),u.jsx("button",{onClick:C,disabled:x,className:"mb-0.5 px-5 py-1.5 bg-cyan-600 hover:bg-cyan-500 text-white font-bold rounded shadow-sm hover:shadow transition-colors disabled:opacity-50 text-sm",children:x?"Analyzing...":"Run Analysis"})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-4 flex flex-col gap-4 bg-white dark:bg-slate-900 min-h-0",children:[b&&u.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded text-sm text-center flex-shrink-0",children:b}),!y&&!x&&!b&&u.jsx("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400 dark:text-slate-500 h-full",children:u.jsx("p",{children:"Configure parameters and click Run Analysis"})}),y&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 flex-shrink-0",children:[u.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700 text-center",children:[u.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 uppercase mb-1",children:"Unique Codes"}),u.jsx("div",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:y.uniqueCount})]}),u.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700 text-center",children:[u.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 uppercase mb-1",children:"Total Diffs"}),u.jsx("div",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:y.diffCount})]})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700 overflow-hidden flex-shrink-0",children:[u.jsx("div",{className:"px-4 py-2 bg-gray-50 dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700 text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Step Distribution"}),u.jsx("div",{className:"p-4 flex flex-wrap gap-x-8 gap-y-2 text-sm font-mono max-h-32 overflow-y-auto",children:Object.entries(y.stepCounts).sort((A,E)=>parseFloat(A[0])-parseFloat(E[0])).map(([A,E])=>u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("span",{className:"text-gray-500 dark:text-slate-400",children:["Step ",A,":"]}),u.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:String(E)})]},A))})]}),u.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 rounded-xl p-2 relative overflow-hidden min-h-[300px]",children:[u.jsx("div",{className:"absolute top-2 left-4 text-xs font-bold text-gray-400 dark:text-slate-500 pointer-events-none z-20 bg-white/80 dark:bg-slate-900/80 px-2 rounded",children:"Step Size vs Code Value"}),u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-0 pointer-events-none select-none opacity-10 mix-blend-normal dark:mix-blend-plus-lighter",children:u.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),u.jsx("div",{className:"relative z-10 w-full h-full",children:u.jsx(yo,{width:"100%",height:"100%",children:u.jsxs(Is,{data:y.plotData,margin:{top:20,right:20,bottom:20,left:10},children:[u.jsx(qa,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),u.jsx(zn,{dataKey:"x",type:"number",domain:["auto","auto"],tick:{fill:"#9ca3af",fontSize:10},label:{value:"Code Value (Shifted)",position:"insideBottom",offset:-10,fill:"#9ca3af",fontSize:11}}),u.jsx(Un,{tick:{fill:"#9ca3af",fontSize:10},domain:[0,"auto"],allowDataOverflow:!1,label:{value:"Step Size (Delta)",angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:11}}),u.jsx(Hr,{contentStyle:{backgroundColor:"rgba(17, 24, 39, 0.95)",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6",fontSize:"12px"},labelFormatter:A=>`Val: ${A}`,formatter:A=>[A,"Step Size"]}),u.jsx(Sr,{type:"stepAfter",dataKey:"y",stroke:"#0891b2",strokeWidth:1.5,dot:{r:1.5,fill:"#0891b2",strokeWidth:0},activeDot:{r:4},isAnimationActive:!1})]})})})]})]})]})]})},YQ=({isOpen:e,onClose:t,rawImageData:r,roi:n,isBGGR:a,zIndex:o,onFocus:i,initialPosition:s,stackFiles:l})=>{const[c,d]=S.useState("cross"),[f,h]=S.useState("R"),[p,m]=S.useState("B"),[v,k]=S.useState("H"),[y,g]=S.useState(null),[x,j]=S.useState(!1),[b,w]=S.useState(0),[N,_]=S.useState(0),[O,P]=S.useState("single"),M=a?{B:0,G1:1,G2:2,R:3}:{R:0,G1:1,G2:2,B:3},C=a?["B","G1","G2","R"]:["R","G1","G2","B"],$=async F=>{if(!r||!n)return;j(!0),P(F),w(0),g(null);let T=M[f],U=c==="cross"?M[p]:T,A=0,E=0;c==="self"&&(v==="H"?E=2:A=2),setTimeout(async()=>{try{let D={sumCov:0,sumVar1:0,sumVar2:0,n:0};if(F==="single")D=uk(r.data,r.width,r.height,n,T,U,A,E);else if(l&&l.length>0)for(let G=0;G<l.length;G++){w(G+1);const Z=await l[G].arrayBuffer(),K=await yh(Z),L=uk(K.data,K.width,K.height,n,T,U,A,E);D.sumCov+=L.sumCov,D.sumVar1+=L.sumVar1,D.sumVar2+=L.sumVar2,D.n+=L.n}_(D.n),g(LQ(D))}catch(D){console.error("Pearson calculation failed",D),alert("Calculation error: "+D.message)}finally{j(!1)}},50)};return e?u.jsxs(Fu,{initialPosition:s||{x:200,y:200},onClose:t,zIndex:o,onFocus:i,className:"w-80 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 flex flex-col shadow-2xl overflow-hidden",children:[u.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800",children:[u.jsxs("h3",{className:"text-sm font-bold text-gray-700 dark:text-slate-200 flex items-center gap-2",children:["Pearson Correlation",u.jsx("span",{className:"text-[10px] font-normal bg-white dark:bg-slate-700 px-1.5 py-0.5 rounded border border-gray-200 dark:border-slate-600",children:"r"})]}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"p-4 flex flex-col gap-4",children:[u.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-800 p-1 rounded-lg border border-gray-200 dark:border-slate-700",children:[u.jsx("button",{onClick:()=>d("cross"),className:`flex-1 py-1 text-[10px] font-bold rounded transition-all ${c==="cross"?"bg-indigo-600 text-white shadow":"text-gray-500 dark:text-slate-400 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:"Cross-Channel"}),u.jsx("button",{onClick:()=>d("self"),className:`flex-1 py-1 text-[10px] font-bold rounded transition-all ${c==="self"?"bg-indigo-600 text-white shadow":"text-gray-500 dark:text-slate-400 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:"Self-Adjacent"})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"flex-1 flex flex-col gap-1",children:[u.jsx("label",{className:"text-[9px] uppercase font-bold text-gray-400",children:c==="cross"?"Channel 1":"Channel"}),u.jsx("select",{value:f,onChange:F=>h(F.target.value),className:"bg-gray-100 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded px-2 py-1.5 text-xs text-gray-700 dark:text-slate-200 outline-none focus:ring-1 focus:ring-indigo-500",children:C.map(F=>u.jsx("option",{value:F,children:F},F))})]}),u.jsx("div",{className:"text-gray-300 dark:text-slate-600 mt-4 font-mono",children:c==="cross"?"":""}),u.jsxs("div",{className:"flex-1 flex flex-col gap-1",children:[u.jsx("label",{className:"text-[9px] uppercase font-bold text-gray-400",children:c==="cross"?"Channel 2":"Direction"}),c==="cross"?u.jsx("select",{value:p,onChange:F=>m(F.target.value),className:"bg-gray-100 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded px-2 py-1.5 text-xs text-gray-700 dark:text-slate-200 outline-none focus:ring-1 focus:ring-indigo-500",children:C.map(F=>u.jsx("option",{value:F,children:F},F))}):u.jsxs("div",{className:"flex h-[28px] bg-gray-100 dark:bg-slate-800 rounded border border-gray-200 dark:border-slate-700 p-0.5",children:[u.jsx("button",{onClick:()=>k("H"),className:`flex-1 text-[9px] font-bold rounded ${v==="H"?"bg-slate-300 dark:bg-slate-600 text-indigo-600 dark:text-indigo-400":"text-gray-400"}`,children:"Horiz"}),u.jsx("button",{onClick:()=>k("V"),className:`flex-1 text-[9px] font-bold rounded ${v==="V"?"bg-slate-300 dark:bg-slate-600 text-indigo-600 dark:text-indigo-400":"text-gray-400"}`,children:"Vert"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[u.jsx("button",{onClick:()=>$("single"),disabled:x,className:"w-full py-2 bg-indigo-600 hover:bg-indigo-500 disabled:bg-gray-400 text-white font-bold rounded shadow-md transition-all active:scale-95 text-xs",children:x&&O==="single"?"Calculating...":"Calc Current Frame"}),l&&l.length>0&&u.jsxs("button",{onClick:()=>$("stack"),disabled:x,className:"w-full py-2 bg-emerald-600 hover:bg-emerald-500 disabled:bg-gray-400 text-white font-bold rounded shadow-md transition-all active:scale-95 text-xs flex flex-col items-center justify-center",children:[u.jsx("span",{children:"Calc Stack Concatenated"}),x&&O==="stack"&&u.jsxs("span",{className:"text-[9px] font-normal opacity-80",children:["Progress: ",b," / ",l.length]})]})]}),y!==null&&u.jsxs("div",{className:"mt-2 p-4 bg-gray-50 dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700 text-center animate-in fade-in slide-in-from-top-2",children:[u.jsxs("div",{className:"text-[10px] uppercase font-bold text-gray-400 dark:text-slate-500 mb-1",children:[c==="cross"?"Cross-Channel":`Self-Adj (${v})`," r"]}),u.jsx("div",{className:"text-2xl font-mono font-bold text-indigo-600 dark:text-indigo-400 select-all",style:{fontSize:"24px"},children:y.toFixed(5)}),u.jsxs("div",{className:"text-[9px] text-gray-400 mt-2 font-mono",children:["N = ",N.toLocaleString()," pairs"]}),u.jsx("div",{className:"mt-3 text-[10px] font-bold",children:Math.abs(y)>.5?u.jsx("span",{className:"text-red-500",children:"Significant Correlation"}):Math.abs(y)>.1?u.jsx("span",{className:"text-amber-500",children:"Weak Correlation"}):u.jsx("span",{className:"text-emerald-500",children:"Near-Zero (Uncorrelated)"})})]})]}),u.jsx("div",{className:"p-3 bg-gray-50/50 dark:bg-slate-800/30 text-[9px] text-gray-400 dark:text-slate-600 italic border-t border-gray-100 dark:border-slate-800",children:c==="cross"?"Comparing two color channels in the same Bayer 2x2 cells.":`Comparing pixel (r,c) with (r${v==="V"?"+2":""}, c${v==="H"?"+2":""}) in the same channel.`})]}):null},qQ=[{href:"https://y-g-jiang.github.io/CBLD.html",text:" (Primary Source)",abbr:"CBLD",description:"ISO",highlight:!0},{href:"https://y-G-jiang.github.io/LAC.html",text:"",abbr:"LAC",description:""},{href:"https://y-G-jiang.github.io/CCGV.html",text:"adobeIECMF",abbr:"CCGV",description:"acrRAWxy"},{href:"https://y-G-jiang.github.io/JTJS.html",text:"",abbr:"JTJS",description:"CMF/"},{href:"https://y-G-jiang.github.io/XJZS.html",text:"",abbr:"XJZS",description:""}],ZQ=["5","9","0","8","2","1","4","7","3","6"],hk=e=>!e||e==="--"?"--":String(e).split("").map(t=>{const r=parseInt(t);return isNaN(r)?t:ZQ[r]}).join(""),QQ=({isOpen:e,onClose:t})=>{const[r,n]=S.useState({pv:"--",uv:"--"});return S.useEffect(()=>{if(e){const a=()=>{const i=document.getElementById("vercount_value_site_pv"),s=document.getElementById("vercount_value_site_uv");i&&s&&n({pv:i.innerText||"--",uv:s.innerText||"--"})};a();const o=setTimeout(a,1e3);return()=>clearTimeout(o)}},[e]),e?u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-3xl rounded-2xl shadow-2xl border border-gray-200 dark:border-slate-700 overflow-hidden flex flex-col max-h-[90vh]",onClick:a=>a.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"About / Tools"}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-1 rounded hover:bg-gray-200 dark:hover:bg-slate-700",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"p-6 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700 relative",children:[u.jsx("div",{className:"mb-8 p-4 bg-gray-50 dark:bg-slate-800/50 rounded-xl border border-gray-100 dark:border-slate-700 text-center",children:u.jsxs("p",{className:"text-lg text-gray-700 dark:text-slate-300",children:[u.jsx("span",{className:"font-bold mr-2",children:"about:"}),u.jsx("a",{href:"https://y-g-jiang.github.io/JOindex.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline break-all font-mono",children:"https://y-g-jiang.github.io/JOindex.html"})]})}),u.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[u.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 flex-1"}),u.jsx("span",{className:"text-sm font-bold text-gray-400 dark:text-slate-500 uppercase tracking-wider",children:"Primary Resources"}),u.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 flex-1"})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-8",children:qQ.map(a=>u.jsxs("a",{href:a.href,target:"_blank",rel:"noopener noreferrer",className:`group block p-4 rounded-xl border transition-all duration-200 relative overflow-hidden ${a.highlight?"border-cyan-500 dark:border-cyan-400 bg-cyan-50/30 dark:bg-cyan-900/10 shadow-lg scale-[1.02] ring-2 ring-cyan-500/20":"border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-800/30 hover:bg-gray-50 dark:hover:bg-slate-800 hover:border-cyan-500"}`,children:[u.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-gradient-to-bl from-cyan-500/5 to-transparent -mr-8 -mt-8 rounded-full pointer-events-none group-hover:from-cyan-500/10 transition-colors"}),u.jsxs("div",{className:"flex items-center gap-3 mb-2 relative z-10",children:[u.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded transition-colors border ${a.highlight?"bg-cyan-600 text-white border-cyan-500":"bg-gray-100 dark:bg-slate-700 text-gray-600 dark:text-slate-300 border-gray-200 dark:border-slate-600 group-hover:border-cyan-200"}`,children:a.abbr}),u.jsx("h3",{className:`font-bold transition-colors ${a.highlight?"text-cyan-700 dark:text-cyan-300":"text-gray-800 dark:text-slate-200 group-hover:text-cyan-600"}`,children:a.text})]}),u.jsx("p",{className:`text-xs pl-1 transition-colors relative z-10 ${a.highlight?"text-cyan-600/80 dark:text-cyan-400/80":"text-gray-500 dark:text-slate-400"}`,children:a.description})]},a.abbr))}),u.jsx("div",{className:"flex justify-end mt-4",children:u.jsx("div",{className:"bg-gray-50 dark:bg-slate-900/50 rounded border border-gray-200 dark:border-slate-800 p-1.5 opacity-40 hover:opacity-100 transition-opacity cursor-default select-none group",children:u.jsxs("div",{className:"font-mono text-[10px] text-gray-400 dark:text-slate-600 leading-tight text-right flex flex-col",children:[u.jsx("span",{className:"group-hover:text-indigo-400 transition-colors",children:hk(r.pv)}),u.jsx("span",{className:"group-hover:text-emerald-400 transition-colors",children:hk(r.uv)})]})})})]})]})}):null},JQ=({isOpen:e,onClose:t,data:r,fileName:n,warning:a})=>{const[o,i]=S.useState(""),s=d=>{const f=new WeakSet;try{return JSON.stringify(d,(h,p)=>{if(typeof p=="bigint")return p.toString()+"n";if(typeof p=="object"&&p!==null){if(f.has(p))return"[Circular]";if(f.add(p),ArrayBuffer.isView(p))return`[${p.constructor.name}]`}return p})}catch{return"[Unable to serialize object]"}},l=S.useMemo(()=>{if(!r)return[];const d=[],f=(h,p=0)=>{if(p>5)return"...";if(h==null)return String(h);if(h instanceof Date)return h.toLocaleString();if(typeof h=="number")return h.toString();if(typeof h=="string")return h;if(typeof h=="bigint")return h.toString()+"n";if(ArrayBuffer.isView(h))return`<${h.constructor.name} len=${h.length} bytes=${h.byteLength}>`;if(h instanceof ArrayBuffer)return`<ArrayBuffer bytes=${h.byteLength}>`;if(typeof h=="object"){if(Array.isArray(h))return h.length===0?"[]":h.length>20?`[${h.slice(0,10).map(k=>typeof k=="number"?k.toFixed(2):f(k,p+1)).join(", ")}, ... (+${h.length-10} more)]`:`[${h.map(v=>typeof v=="number"?Number.isInteger(v)?v:v.toFixed(4):f(v,p+1)).join(", ")}]`;try{const m=Object.keys(h);return m.length>5?`{Object with ${m.length} keys}`:s(h)}catch{return"<Complex Object>"}}return String(h)};try{if(typeof r!="object")return[{key:"Value",value:String(r)}];Object.keys(r).sort().forEach(p=>{if(p==="MakerNote"||p==="UserComment"||p.includes("Strip")||p.includes("Offset")){d.push({key:p,value:"<Binary/Internal Data>"});return}const m=r[p];d.push({key:p,value:f(m)})})}catch(h){console.error("Error processing EXIF data:",h),d.push({key:"Error",value:"Failed to process metadata structure."})}return d},[r]);if(!e)return null;const c=l.filter(d=>d.key.toLowerCase().includes(o.toLowerCase())||d.value.toLowerCase().includes(o.toLowerCase()));return u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-3xl max-h-[90vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700",onClick:d=>d.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700",children:[u.jsxs("div",{className:"overflow-hidden",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:"EXIF Data"}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1 font-mono truncate",children:n})]}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-2 rounded-full hover:bg-gray-100 dark:hover:bg-slate-800",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a&&u.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 px-4 py-2 border-b border-amber-100 dark:border-amber-800/50 text-center",children:u.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 whitespace-pre-line font-medium leading-relaxed",children:a})}),u.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:u.jsxs("div",{className:"relative",children:[u.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),u.jsx("input",{type:"text",placeholder:"Search tags...",value:o,onChange:d=>i(d.target.value),className:"w-full pl-9 pr-4 py-2 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500 outline-none text-gray-900 dark:text-slate-100 transition-colors placeholder-gray-400"})]})}),u.jsx("div",{className:"overflow-y-auto flex-1 p-0 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700",children:c.length>0?u.jsxs("table",{className:"w-full text-left border-collapse table-fixed",children:[u.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800 sticky top-0 shadow-sm z-10",children:u.jsxs("tr",{children:[u.jsx("th",{className:"py-3 px-5 font-semibold text-xs text-gray-500 dark:text-slate-400 uppercase tracking-wider w-1/3 border-b border-gray-200 dark:border-slate-700",children:"Tag Name"}),u.jsx("th",{className:"py-3 px-5 font-semibold text-xs text-gray-500 dark:text-slate-400 uppercase tracking-wider w-2/3 border-b border-gray-200 dark:border-slate-700",children:"Value"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-800",children:c.map(d=>u.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-800/50 transition-colors group",children:[u.jsx("td",{className:"py-2 px-5 text-sm font-medium text-cyan-600 dark:text-cyan-400 font-mono break-words align-top",children:d.key}),u.jsx("td",{className:"py-2 px-5 text-sm text-gray-700 dark:text-slate-300 font-mono break-words align-top group-hover:text-gray-900 dark:group-hover:text-slate-100",children:d.value})]},d.key))})]}):u.jsx("div",{className:"flex flex-col items-center justify-center h-64 text-gray-400 dark:text-slate-500",children:u.jsxs("p",{children:['No tags found matching "',o,'"']})})}),u.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50 flex justify-end rounded-b-2xl",children:u.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-white rounded-lg text-sm font-semibold transition-colors",children:"Close"})})]})})},eJ=100,Ap=e=>{if(e.length===0)return 0;if(e.length===1)return e[0];if(e.length===2)return .5*(e[0]+e[1]);let t=[...e].sort((r,n)=>r-n);for(;t.length>4;){let r=1/0,n=0;const a=t.length,o=Math.floor(a/2);for(let i=0;i<=a-o;i++){const s=t[i+o-1]-t[i];s<r&&(r=s,n=i)}t=t.slice(n,n+o)}return t.reduce((r,n)=>r+n,0)/t.length},pk=({min:e,max:t,value:r,onChange:n,vertical:a=!1,logScale:o=!1})=>{const i=S.useRef(null),s=S.useRef(null),l=S.useCallback(g=>{const x=o?Math.max(1e-6,e):e,j=o?Math.max(x*1.0001,t):t,b=Math.max(x,Math.min(j,g));if(o){const w=Math.log10(x),N=Math.log10(j);return(Math.log10(b)-w)/(N-w)}return(b-x)/(j-x)},[e,t,o]),c=S.useCallback(g=>{const x=o?Math.max(1e-6,e):e,j=o?Math.max(x*1.0001,t):t;if(o){const b=Math.log10(x),w=Math.log10(j);return Math.pow(10,b+g*(w-b))}return x+g*(j-x)},[e,t,o]),d=(g,x)=>{g.preventDefault(),g.stopPropagation(),s.current=x;const j=w=>{if(!s.current||!i.current)return;const N=i.current.getBoundingClientRect();let _=0;a?_=(N.bottom-w.clientY)/N.height:_=(w.clientX-N.left)/N.width,_=Math.max(0,Math.min(1,_));const O=c(_);if(s.current==="min"){const P=r[1];n([Math.min(O,P),P])}else{const P=r[0];n([P,Math.max(O,P)])}},b=()=>{s.current=null,window.removeEventListener("mousemove",j),window.removeEventListener("mouseup",b)};window.addEventListener("mousemove",j),window.addEventListener("mouseup",b)},f=l(r[0])*100,h=l(r[1])*100,p=a?{left:"50%",top:0,bottom:0,width:"4px",transform:"translateX(-50%)"}:{top:"50%",left:0,right:0,height:"4px",transform:"translateY(-50%)"},m=a?{left:"50%",bottom:`${f}%`,height:`${h-f}%`,width:"4px",transform:"translateX(-50%)"}:{top:"50%",left:`${f}%`,width:`${h-f}%`,height:"4px",transform:"translateY(-50%)"},v="absolute w-3 h-3 bg-white border-2 border-cyan-600 rounded-full shadow-md cursor-pointer hover:scale-125 transition-transform z-10",k=a?{left:"50%",bottom:`${f}%`,transform:"translate(-50%, 50%)"}:{top:"50%",left:`${f}%`,transform:"translate(-50%, -50%)"},y=a?{left:"50%",bottom:`${h}%`,transform:"translate(-50%, 50%)"}:{top:"50%",left:`${h}%`,transform:"translate(-50%, -50%)"};return u.jsxs("div",{ref:i,className:`relative select-none ${a?"h-full w-4 py-2":"w-full h-4 px-2"}`,children:[u.jsx("div",{className:"absolute bg-gray-300 dark:bg-slate-600 rounded-full",style:p}),u.jsx("div",{className:"absolute bg-cyan-500 dark:bg-cyan-400 rounded-full",style:m}),u.jsx("div",{className:v,style:k,onMouseDown:g=>d(g,"min")}),u.jsx("div",{className:v,style:y,onMouseDown:g=>d(g,"max")})]})},tJ=({isOpen:e,onClose:t,data:r,blackLevel:n,imageHeight:a,isBGGR:o,importedMetadata:i,theme:s,initialCameraModel:l,initialISO:c})=>{const[d,f]=S.useState("Noise"),[h,p]=S.useState(!0),[m,v]=S.useState(null),[k,y]=S.useState("default"),[g,x]=S.useState(!1),[j,b]=S.useState(!1),[w,N]=S.useState({R:!0,G1:!0,G2:!0,B:!0}),[_,O]=S.useState(""),[P,M]=S.useState(""),[C,$]=S.useState(""),[F,T]=S.useState(""),[U,A]=S.useState("10"),[E,D]=S.useState(""),[G,Z]=S.useState("0 0 0 0"),[K,L]=S.useState("0 0 0 0"),[te,Q]=S.useState(!1),[R,ae]=S.useState(null),[fe,Y]=S.useState(!1),[oe,pe]=S.useState(0),[H,ie]=S.useState([]),[se,je]=S.useState(""),[Re,Le]=S.useState(""),pt=()=>{const z=parseFloat(se),J=parseFloat(Re);!isNaN(z)&&!isNaN(J)&&(ie([...H,{id:Date.now(),x:z,y:J}]),je(""),Le(""))},[Dt,Me]=S.useState(()=>localStorage.getItem("ptc_tester_name")||""),[He,gt]=S.useState(""),[Wt,_r]=S.useState("");S.useEffect(()=>{localStorage.setItem("ptc_tester_name",Dt)},[Dt]);const Mt=S.useRef(te),ka=S.useRef(fe),ft=S.useRef(oe);S.useEffect(()=>{Mt.current=te,ka.current=fe,ft.current=oe},[te,fe,oe]);const[Or,hr]=S.useState(null),[Jt,pr]=S.useState({min:.01,max:90}),[mt,De]=S.useState({readNoise:0,gain:1,prnu:.5}),[yt,Ot]=S.useState(2e6),gr=S.useRef(mt),pn=S.useRef(Jt),Pn=S.useRef(yt);S.useEffect(()=>{gr.current=mt,pn.current=Jt,Pn.current=yt},[mt,Jt,yt]);const[er,An]=S.useState({read:"0",gain:"1.0",prnu:"0.5",rangeMin:"0.01",rangeMax:"90"}),[Ve,tr]=S.useState({read:!0,shot:!0,prnu:!0,total:!0,fitRange:!0}),[or,Pr]=S.useState(!1),[tn,Ar]=S.useState([]),[Mn,Gn]=S.useState(null),[Hn,rn]=S.useState(""),aa=S.useMemo(()=>n?n.join(","):"",[n]);S.useEffect(()=>{if(e){let z="0 0 0 0";i&&i.blackLevel?z=i.blackLevel.join(" "):z=n&&n.length===4?n.join(" "):"0 0 0 0",Z(z),L(z);let J="";if(i&&i.height?J=i.height.toString():a&&(J=a.toString()),D(J),J){const re=parseFloat(J);!isNaN(re)&&re>0?A((2309.4/re).toFixed(2)):A("10")}else A("10");ae(null),Q(!1),Y(!1),pe(0),Ar([]),Gn(null),pr({min:.01,max:90}),An({read:"0",gain:"0",prnu:"0",rangeMin:"0.01",rangeMax:"90"}),De({readNoise:0,gain:0,prnu:0}),O(""),M(""),$(""),T(""),f("Noise"),hr(null),Ot(2e6),rn(""),b(!1),ie([]),gt(re=>re.trim()===""&&l?l:re),_r(re=>re.trim()===""&&c?c:re)}},[e,aa,i,a,r,l,c]);const nn=z=>{if(z.key==="Enter"){const J=parseFloat(E);if(!isNaN(J)&&J>0){const re=(2309.4/J).toFixed(2);A(re)}z.target.blur()}},Yt=S.useMemo(()=>{let J=K.trim().split(/[\s,]+/).filter(Boolean).map(Number);for(J.length===1&&(J=[J[0],J[0],J[0],J[0]]);J.length<4;)J.push(0);const re=B=>{switch(B){case"R":return J[0];case"G1":return J[1];case"G2":return J[2];case"B":return J[3];default:return 0}};return r.map(B=>{const he=B.mean-re(B.channel),Ne=B.std>0?he/B.std:0;return{...B,x:he,std:B.std,snr:Ne}}).filter(B=>B.std>0)},[r,K]),ir=S.useMemo(()=>{const z=mt.readNoise,J=z*z;return Yt.map(re=>{let B=0;if(d==="Noise")B=re.std;else if(d==="SNR")B=re.snr;else if(d==="Linear"){const Ne=re.std*re.std-J;B=re.x!==0?Ne/re.x:0}return{...re,y:B}})},[Yt,d,mt.readNoise]),Pt=S.useMemo(()=>{if(Yt.length===0)return"G1";const z={R:0,G1:0,G2:0,B:0},J={R:0,G1:0,G2:0,B:0};for(const he of Yt)z[he.channel]+=he.x,J[he.channel]++;let re="G1",B=-1/0;return Object.keys(z).forEach(he=>{const Ne=J[he],Ee=Ne>0?z[he]/Ne:-1/0;Ee>B&&(B=Ee,re=he)}),re},[Yt]),le=S.useCallback(()=>{let z=1/0,J=-1/0;if(Yt.length===0)return{min:.1,max:1};for(let re=0;re<Yt.length;re++){const B=Yt[re].x;h&&B<=0||(B<z&&(z=B),B>J&&(J=B))}return z===1/0?{min:.1,max:1}:{min:z,max:J}},[Yt,h]),Oe=S.useCallback(()=>{let z=1/0,J=-1/0;if(ir.length===0)return{min:.1,max:1};for(let re=0;re<ir.length;re++){const B=ir[re].y;h&&B<=0||(B<z&&(z=B),B>J&&(J=B))}return z===1/0?{min:.1,max:1}:{min:z*.9,max:J*1.1}},[ir,h]),{min:Be,max:it}=le(),{min:Xe,max:vt}=Oe(),sr=it*(Jt.min/100),lr=it*(Jt.max/100),Ie=S.useMemo(()=>{if(!h&&ir.length===0)return{shot:[],read:[],prnu:[],total:[]};const z=_?parseFloat(_):Be,J=P?parseFloat(P):it,re=100,B=Math.max(.1,z),he=Math.max(1,J);if(B>=he)return{shot:[],read:[],prnu:[],total:[]};const Ne=Math.log10(B),Ze=(Math.log10(he)-Ne)/re,Ye=mt.readNoise,ze=mt.gain>0?mt.gain:1,Et=mt.prnu/100,Qe=[],It=[],ur=[],ce=[];for(let qe=0;qe<=re;qe++){const Pe=Math.pow(10,Ne+qe*Ze);if(d==="Linear"){const Bt=1/ze,xt=Et*Et,mn=Bt+xt*Pe;ce.push({x:Pe,y:mn}),Qe.push({x:Pe,y:Bt}),ur.push({x:Pe,y:xt*Pe})}else{const Bt=Ye,xt=Math.sqrt(Pe/ze),mn=Et*Pe,ct=Math.sqrt(Bt*Bt+xt*xt+mn*mn);d==="Noise"?(Qe.push({x:Pe,y:xt}),It.push({x:Pe,y:Bt}),ur.push({x:Pe,y:mn}),ce.push({x:Pe,y:ct})):(xt>0&&Qe.push({x:Pe,y:Pe/xt}),Bt>0&&It.push({x:Pe,y:Pe/Bt}),mn>0&&ur.push({x:Pe,y:Pe/mn}),ct>0&&ce.push({x:Pe,y:Pe/ct}))}}return{shot:Qe,read:It,prnu:ur,total:ce}},[ir,h,_,P,mt,d,Be,it]),Ke=S.useMemo(()=>{if(d==="Linear")return[];const z=parseFloat(U);if(isNaN(z)||z<=0)return[];const J=_?parseFloat(_):Be,re=P?parseFloat(P):it;return d==="SNR"?[{x:J,y:z},{x:re,y:z}]:[{x:J,y:J/z},{x:re,y:re/z}]},[ir,U,d,_,P,Be,it]),dt=S.useCallback((z,J)=>{if(!J||J.length===0)return null;const re=[...J].sort((B,he)=>B.x-he.x);for(let B=0;B<re.length-1;B++){const he=re[B],Ne=re[B+1];if(he.snr<=z&&Ne.snr>=z||he.snr>=z&&Ne.snr<=z){const Ee=(z-he.snr)/(Ne.snr-he.snr);return he.x+Ee*(Ne.x-he.x)}}return null},[]),lt=S.useMemo(()=>{const z=Yt,J=1e3,re=he=>{if(he.length===0)return[];if(he.length<=J)return he;const Ne=[...he].sort((Ye,ze)=>Ye.x-ze.x),Ee=[],Ze=Ne.length/J;for(let Ye=0;Ye<J;Ye++){const ze=Math.floor(Ye*Ze),Et=Math.floor((Ye+1)*Ze),Qe=Ne.slice(ze,Et);if(Qe.length===0)continue;Qe.sort((ur,ce)=>ur.std-ce.std);const It=Math.floor(Qe.length/2);Ee.push(Qe[It])}return Ee},B={R:[],G1:[],G2:[],B:[]};return z.forEach(he=>{B[he.channel]&&B[he.channel].push(he)}),{R:re(B.R),G1:re(B.G1),G2:re(B.G2),B:re(B.B)}},[Yt]),Ct=S.useMemo(()=>R&&mt.gain?R*mt.gain:null,[R,mt.gain]),ge=S.useMemo(()=>{if(R===null||R===0)return null;const z=parseFloat(U);let J=null;if(!isNaN(z)&&z>0){let Ee=0,Ze=0;if(["R","G1","G2","B"].forEach(Ye=>{const ze=dt(z,lt[Ye]);ze!==null&&(Ee+=ze,Ze++)}),Ze>0){const Ye=Ee/Ze;J=Math.log2(R/Ye)}}const re=parseFloat(E);let B=null,he=NaN;if(!isNaN(re)&&re>0){he=16e3/re;let Ee=0,Ze=0;if(["R","G1","G2","B"].forEach(Ye=>{const ze=dt(he,lt[Ye]);ze!==null&&(Ee+=ze,Ze++)}),Ze>0){const Ye=Ee/Ze;B=Math.log2(R/Ye)}}let Ne=null;if(!isNaN(re)&&re>0){const Ee=dt(he,lt[Pt]);Ee!==null&&(Ne=Math.log2(R/Ee))}return{manualDR:J,ptpDR:B,d55DR:Ne,manualTarget:z,ptpTarget:he,saturationSignal:R,dominantChannel:Pt}},[R,U,E,lt,dt,Pt]),Br=S.useMemo(()=>{if(d==="Linear"||!ge||!ge.ptpTarget||isNaN(ge.ptpTarget))return[];const z=ge.ptpTarget,J=_?parseFloat(_):Be,re=P?parseFloat(P):it;return d==="SNR"?[{x:J,y:z},{x:re,y:z}]:[{x:J,y:J/z},{x:re,y:re/z}]},[d,ge,_,P,Be,it]),eo=S.useCallback(()=>{const re=document.createElement("canvas");re.width=2048,re.height=1536;const B=re.getContext("2d");if(!B)return;const he=s==="dark",Ne=he?"#0f172a":"#ffffff",Ee=he?"#ffffff":"#000000",Ze=he?"#475569":"#cbd5e1",Ye=he?"#1e293b":"#f1f5f9",ze=o?{R:"#ef4444",G1:"#22c55e",G2:"#4ade80",B:"#3b82f6"}:{R:"#ef4444",G1:"#22c55e",G2:"#4ade80",B:"#3b82f6"};B.fillStyle=Ne,B.fillRect(0,0,2048,1536);let Et=_?parseFloat(_):Be,Qe=P?parseFloat(P):it,It=C?parseFloat(C):Xe,ur=F?parseFloat(F):vt;isNaN(Et)&&(Et=.1),isNaN(Qe)&&(Qe=1e4),isNaN(It)&&(It=.1),isNaN(ur)&&(ur=1e3);const ce={top:80,right:80,bottom:100,left:120},qe=2048-ce.left-ce.right,Pe=1536-ce.top-ce.bottom,Bt=we=>{if(h){const Je=Math.log10(Math.max(1e-9,Et)),et=Math.log10(Math.max(1e-9,Qe)),tt=Math.log10(Math.max(1e-9,we));return ce.left+(tt-Je)/(et-Je)*qe}else return ce.left+(we-Et)/(Qe-Et)*qe},xt=we=>{if(h){const Je=Math.log10(Math.max(1e-9,It)),et=Math.log10(Math.max(1e-9,ur)),tt=Math.log10(Math.max(1e-9,we));return ce.top+Pe-(tt-Je)/(et-Je)*Pe}else return ce.top+Pe-(we-It)/(ur-It)*Pe};if(B.beginPath(),h){const we=(Je,et,tt)=>{const vn=Math.log10(Math.max(1e-9,Je)),xn=Math.log10(Math.max(1e-9,et)),oa=Math.floor(vn),ao=Math.ceil(xn);for(let Mo=oa;Mo<=ao;Mo++){const Ia=Math.pow(10,Mo);let qt=tt?Bt(Ia):xt(Ia);(tt?qt>=ce.left-1&&qt<=ce.left+qe+1:qt>=ce.top-1&&qt<=ce.top+Pe+1)&&(B.lineWidth=1.5,B.strokeStyle=Ze,B.beginPath(),tt?(B.moveTo(qt,ce.top),B.lineTo(qt,ce.top+Pe)):(B.moveTo(ce.left,qt),B.lineTo(ce.left+qe,qt)),B.stroke()),B.lineWidth=.5,B.strokeStyle=Ye;for(let Il=2;Il<10;Il++){const Hu=Il*Ia;qt=tt?Bt(Hu):xt(Hu),(tt?qt>=ce.left&&qt<=ce.left+qe:qt>=ce.top&&qt<=ce.top+Pe)&&(B.beginPath(),tt?(B.moveTo(qt,ce.top),B.lineTo(qt,ce.top+Pe)):(B.moveTo(ce.left,qt),B.lineTo(ce.left+qe,qt)),B.stroke())}}};we(Et,Qe,!0),we(It,ur,!1)}else{B.strokeStyle=Ze,B.lineWidth=1;for(let we=0;we<=5;we++){const Je=ce.left+qe*we/5;B.beginPath(),B.moveTo(Je,ce.top),B.lineTo(Je,ce.top+Pe),B.stroke();const et=ce.top+Pe*we/5;B.beginPath(),B.moveTo(ce.left,et),B.lineTo(ce.left+qe,et),B.stroke()}}B.strokeStyle=Ee,B.lineWidth=2,B.strokeRect(ce.left,ce.top,qe,Pe);const mn=(we,Je,et)=>{we<ce.left||we>ce.left+qe||Je<ce.top||Je>ce.top+Pe||(B.fillStyle=et,B.fillRect(we-1.5,Je-1.5,3,3))},ct=ir.filter(we=>!(h&&(we.x<=0||we.y<=0)));ct.forEach(we=>{w[we.channel]&&we.channel!==Pt&&mn(Bt(we.x),xt(we.y),ze[we.channel])}),ct.forEach(we=>{w[we.channel]&&we.channel===Pt&&mn(Bt(we.x),xt(we.y),ze[we.channel])}),H.forEach(we=>{const Je=Bt(we.x),et=xt(we.y);if(Je<ce.left||Je>ce.left+qe||et<ce.top||et>ce.top+Pe)return;B.strokeStyle="#d946ef",B.lineWidth=2.5;const tt=6;B.beginPath(),B.moveTo(Je-tt,et-tt),B.lineTo(Je+tt,et+tt),B.moveTo(Je+tt,et-tt),B.lineTo(Je-tt,et+tt),B.stroke()});const br=(we,Je,et=[])=>{if(we.length<2)return;B.beginPath(),B.strokeStyle=Je,B.lineWidth=3,B.setLineDash(et);let tt=!1;for(const vn of we){const xn=Bt(vn.x),oa=xt(vn.y);if(xn<ce.left-100||xn>ce.left+qe+100||oa<ce.top-100||oa>ce.top+Pe+100){tt=!1;continue}tt?B.lineTo(xn,oa):(B.moveTo(xn,oa),tt=!0)}B.stroke(),B.setLineDash([])},Mr=he?"#ffffff":"#000000";if(Ve.shot&&br(Ie.shot,"#94a3b8",[5,5]),Ve.read&&br(Ie.read,"#f43f5e",[3,3]),Ve.prnu&&br(Ie.prnu,"#f59e0b",[3,3]),Ve.total&&br(Ie.total,Mr,[]),Ke.length===2){const we="#6366f1";br(Ke,we,[4,2]);const Je=Ke[1],et=xt(Je.y);et>=ce.top&&et<=ce.top+Pe&&(B.fillStyle=we,B.font="bold 20px sans-serif",B.textAlign="right",B.textBaseline="bottom",B.fillText(`M.Tgt=${U}`,ce.left+qe-10,et-8))}if(Br.length===2&&(ge!=null&&ge.ptpTarget)){const we="#10b981";br(Br,we,[4,4]);const Je=Br[1],et=xt(Je.y);if(et>=ce.top&&et<=ce.top+Pe){B.fillStyle=we,B.font="bold 20px sans-serif",B.textAlign="right",B.textBaseline="bottom";const tt=ge.ptpTarget.toFixed(1),vn=Ke.length===2?xt(Ke[1].y):-100,xn=Math.abs(et-vn)<25?25:0;B.fillText(`PTP=${tt}`,ce.left+qe-10,et-8-xn)}}if(Ve.fitRange||fe){const we=(Je,et)=>{const tt=Bt(Je);tt>=ce.left&&tt<=ce.left+qe&&(B.beginPath(),B.strokeStyle=et,B.lineWidth=2,B.setLineDash([8,8]),B.moveTo(tt,ce.top),B.lineTo(tt,ce.top+Pe),B.stroke(),B.setLineDash([]))};we(sr,"#22d3ee"),we(lr,"#22d3ee")}if(R){const we=Bt(R);we>=ce.left&&we<=ce.left+qe&&(B.strokeStyle="#ef4444",B.lineWidth=3,B.setLineDash([10,10]),B.beginPath(),B.moveTo(we,ce.top),B.lineTo(we,ce.top+Pe),B.stroke(),B.setLineDash([]),B.fillStyle="#ef4444",B.font="bold 24px sans-serif",B.textAlign="center",B.fillText("Sat",we,ce.top-10))}B.fillStyle=Ee,B.font="28px monospace",B.textAlign="center",B.fillText(Et.toExponential(1),ce.left,ce.top+Pe+40),B.fillText(Qe.toExponential(1),ce.left+qe,ce.top+Pe+40),B.fillText("Signal (DN)",ce.left+qe/2,ce.top+Pe+80),B.textAlign="right",B.textBaseline="middle",B.fillText(It.toExponential(1),ce.left-20,ce.top+Pe),B.fillText(ur.toExponential(1),ce.left-20,ce.top),B.save(),B.translate(ce.left-80,ce.top+Pe/2),B.rotate(-Math.PI/2),B.textAlign="center",B.fillText(d==="Linear"?"(Var - RN) / Mean":d,0,0),B.restore(),B.save(),B.translate(2048/2,1536/2),B.rotate(-Math.PI/6),B.textAlign="center",B.textBaseline="middle",B.fillStyle=he?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)",B.font="bold 150px sans-serif",B.fillText(" y-g-jiang.github.io",0,0),B.restore(),B.fillStyle=Ee,B.font="bold 36px sans-serif",B.textAlign="left",B.textBaseline="top",B.fillText(`PTC Export: ${d} Mode`,ce.left,20),B.font="24px sans-serif",B.fillStyle=he?"#94a3b8":"#64748b",B.fillText(`Points: ${ir.length} | Sat Channel: ${Pt}`,ce.left,65);const no=ce.left+30,Rl=ce.top+30,w0=70,zu=we=>{if(!R||we<=0)return"--";const Je=mt.readNoise,et=mt.gain,tt=mt.prnu/100;if(et<=0)return"--";const vn=we*we,xn=Je*Je,oa=1-vn*tt*tt,ao=-(vn/et),Mo=-(vn*xn);let Ia=0;if(Math.abs(oa)<1e-8)Math.abs(ao)>1e-8&&(Ia=-Mo/ao);else{const qt=ao*ao-4*oa*Mo;qt>=0&&(Ia=(-ao+Math.sqrt(qt))/(2*oa))}return Ia>0?Math.log2(R/Ia).toFixed(2)+" EV":"--"},k0=ge!=null&&ge.ptpTarget&&!isNaN(ge.ptpTarget)?zu(ge.ptpTarget):"--",j0=U?zu(parseFloat(U)):"--";B.font="bold 48px monospace",B.textAlign="left",B.textBaseline="top",B.shadowColor=he?"rgba(0,0,0,0.8)":"rgba(255,255,255,0.8)",B.shadowBlur=4,B.shadowOffsetX=1,B.shadowOffsetY=1;const yn=(we,Je,et,tt)=>{const vn=Rl+et*w0;B.fillStyle=Ee,B.fillText(we,no,vn);const xn=B.measureText(we).width;B.fillStyle=tt||Ee,B.fillText(Je,no+xn,vn)},S0=er.read,N0=parseFloat(er.gain).toFixed(3),os=parseFloat(er.prnu).toFixed(2)+"%";let Uu=`M.DR@SNR${U}: `;const Ll=parseFloat(E);if(!isNaN(Ll)&&Ll>0){const we=(2309.4/Ll).toFixed(2);Math.abs(parseFloat(U)-parseFloat(we))<.05&&(Uu="8mpSNR=1 DR: ")}yn("Tester: ",Dt||"N/A",0),yn("Model : ",He||"Unknown",1),yn("ISO   : ",Wt||"N/A",2),yn("RN/FPN: ",S0,3,"#f43f5e"),yn("KADC  : ",N0,4,"#06b6d4"),yn("PRNU  : ",os,5,"#f59e0b"),yn("PTP DR: ",ge!=null&&ge.ptpDR?ge.ptpDR.toFixed(2)+" EV":"--",6,"#10b981"),yn("D55 DR: ",ge!=null&&ge.d55DR?ge.d55DR.toFixed(2)+" EV":"--",7,"#8b5cf6"),yn("FWC   : ",Ct?Ct>1e4?(Ct/1e3).toFixed(1)+"k":Math.round(Ct).toString():"--",8,"#f97316"),yn(Uu,ge!=null&&ge.manualDR?ge.manualDR.toFixed(2)+" EV":"--",9,"#06b6d4"),yn("PTCFitDR(PTP): ",k0,10,"#10b981"),yn("PTCFitDR(Man): ",j0,11,"#06b6d4"),B.save(),B.textAlign="right",B.textBaseline="bottom",B.fillStyle="#3b82f6",B.font="bold 80px sans-serif",B.shadowColor=he?"rgba(0,0,0,0.8)":"rgba(255,255,255,0.8)",B.shadowBlur=4,B.shadowOffsetX=2,B.shadowOffsetY=2;const Wu=1988,Gu=1476,is=90;B.fillText("Online",Wu,Gu),B.fillText("Jiangtherapee",Wu,Gu-is),B.restore();const ss=document.createElement("a");ss.download=`ptc_complete_${d}_${Date.now()}.jpg`,ss.href=re.toDataURL("image/jpeg",.9),ss.click()},[ir,Pt,w,_,P,C,F,Be,it,Xe,vt,h,s,d,R,o,Ve,Ie,sr,lr,Jt,fe,Dt,He,Wt,ge,Ct,U,Ke,Br,er,E,H]),Vn=S.useMemo(()=>{let z=ir;if(h&&(z=z.filter(he=>he.y>0&&he.x>0)),k==="top3"){const he=[...z].sort((Ee,Ze)=>Ze.x-Ee.x),Ne=Math.max(50,Math.ceil(he.length*.03));z=he.slice(0,Ne)}const J={R:[],G1:[],G2:[],B:[]};if(z.forEach(he=>{J[he.channel]&&J[he.channel].push(he)}),k==="raw")return J;const re=k==="top3"?500:eJ,B=he=>{if(he.length<=re)return he;const Ne=[...he].sort((Ye,ze)=>Ye.x-ze.x),Ee=[],Ze=Ne.length/re;for(let Ye=0;Ye<re;Ye++){const ze=Math.floor(Ye*Ze),Et=Math.floor((Ye+1)*Ze),Qe=Ne.slice(ze,Et);if(Qe.length===0)continue;Qe.sort((ur,ce)=>ur.y-ce.y);const It=Math.floor(Qe.length/2);Ee.push(Qe[It])}return Ee};return{R:B(J.R),G1:B(J.G1),G2:B(J.G2),B:B(J.B)}},[ir,k,h]),Cn=S.useMemo(()=>{if(Yt.length<5)return[];const z=Yt.filter(re=>re.channel===Pt);return[...z.length>20?z:Yt].sort((re,B)=>re.x-B.x).map(re=>({mean:re.x,std:re.std}))},[Yt,Pt]),Dl=z=>{const J=z.length;if(J===0)return[];const re=z.reduce((qe,Pe)=>qe+Pe,0)/J,B=z.reduce((qe,Pe)=>qe+Math.pow(Pe-re,2),0)/(J-1||1),he=Math.sqrt(B);if(he===0)return[{x:re-.001,density:0},{x:re,density:1},{x:re+.001,density:0}];const Ne=1.06*he*Math.pow(J,-.2),Ee=Math.min(...z),Ze=Math.max(...z),Ye=(Ze-Ee)*.2||Ee*.1,ze=Math.max(0,Ee-Ye),Et=Ze+Ye,Qe=100,It=(Et-ze)/(Qe-1),ur=qe=>1/Math.sqrt(2*Math.PI)*Math.exp(-.5*qe*qe),ce=[];for(let qe=0;qe<Qe;qe++){const Pe=ze+qe*It;let Bt=0;for(let xt=0;xt<J;xt++)Bt+=ur((Pe-z[xt])/Ne);Bt/=J*Ne,ce.push({x:Pe,density:Bt})}return ce},gn=S.useCallback((z,J,re,B)=>{if(z.length<5)return{gain:0,prnu:0};const he=z[z.length-1].mean,Ne=he*(re.min/100),Ee=he*(re.max/100),Ze=z.filter(ct=>ct.mean>=Ne&&ct.mean<=Ee);if(Ze.length<5)return{gain:0,prnu:0};hr({nPoints:Ze.length});const Ye=J*J,ze=[],Et=[];if(Ze.forEach(ct=>{const Mr=ct.std*ct.std-Ye;if(ct.mean>1&&Mr>0){const no=ct.mean,Rl=Mr/ct.mean;ze.push({x:no,y:Rl}),Et.push(ct.mean/Mr)}}),ze.length<5)return{gain:0,prnu:0};const Qe=[],It=ze.length,ur=B,ce=It*(It-1)/2;if(ce<=ur)for(let ct=0;ct<It;ct++)for(let br=ct+1;br<It;br++){const Mr=ze[br].x-ze[ct].x;Math.abs(Mr)>1e-5&&Qe.push((ze[br].y-ze[ct].y)/Mr)}else{const ct=Math.max(1,Math.floor(ce/ur));for(let br=0;br<It;br++)for(let Mr=br+1;Mr<It;Mr+=ct){const no=ze[Mr].x-ze[br].x;Math.abs(no)>1e-5&&Qe.push((ze[Mr].y-ze[br].y)/no)}}const qe=Ap(Qe),Pe=ze.map(ct=>ct.y-qe*ct.x),Bt=Ap(Pe);let xt=0,mn=0;if(Bt>1e-6?xt=1/Bt:xt=Ap(Et),qe>0&&(mn=Math.sqrt(qe)*100),Et.length>0){const ct=Dl(Et);Ar(ct),Gn(xt)}else Ar([]);return{gain:xt,prnu:mn}},[]),X=S.useCallback(z=>{let J=z.read??gr.current.readNoise;const re=z.gRange??pn.current,B=Pn.current;if((z.read!==void 0||z.gRange!==void 0)&&z.gain===void 0&&z.prnu===void 0&&Cn.length>0&&J>=0)b(!0),setTimeout(()=>{const Ne=gn(Cn,J,re,B);let Ee=gr.current.gain,Ze=gr.current.prnu;Ne.gain>0&&(Ee=Ne.gain,Ze=Ne.prnu),De({readNoise:J,gain:Ee,prnu:Ze}),z.gRange!==void 0&&pr(z.gRange),An(Ye=>{var ze,Et;return{...Ye,read:J.toString(),gain:Ee>0?Ee.toFixed(3):"0",prnu:Ze.toFixed(2),rangeMin:(((ze=z.gRange)==null?void 0:ze.min)??Ye.rangeMin).toString(),rangeMax:(((Et=z.gRange)==null?void 0:Et.max)??Ye.rangeMax).toString()}}),b(!1)},50);else{let Ne=z.gain!==void 0?z.gain:gr.current.gain,Ee=z.prnu!==void 0?z.prnu:gr.current.prnu;De({readNoise:J,gain:Ne,prnu:Ee}),z.gRange!==void 0&&pr(z.gRange),An(Ze=>{var Ye,ze;return{...Ze,read:J.toString(),gain:Ne>0?Ne.toFixed(3):"0",prnu:Ee.toFixed(2),rangeMin:(((Ye=z.gRange)==null?void 0:Ye.min)??Ze.rangeMin).toString(),rangeMax:(((ze=z.gRange)==null?void 0:ze.max)??Ze.rangeMax).toString()}})}},[Cn,gn]),ke=`${K}-${r.length}`;S.useEffect(()=>{if(!e||!r||r.length===0)return;const z=Vn[Pt];if(!z||z.length===0||Hn===ke)return;N({R:Pt==="R",G1:Pt==="G1",G2:Pt==="G2",B:Pt==="B"});const J=[...z].sort((Ne,Ee)=>Ne.x-Ee.x);let re=0;J.length>0&&(re=J[0].std);const B=Yt.filter(Ne=>Ne.channel===Pt);let he=-1/0;for(const Ne of B)Ne.x>he&&(he=Ne.x);he!==-1/0&&ae(he),X({read:re}),rn(ke)},[e,r,Hn,ke,Vn,Pt,X,Yt]);const kt=(z,J)=>{An(re=>({...re,[z]:J}))},Rt=z=>{let J=parseFloat(er[z]);isNaN(J)||J<0||X({[z]:J})},En=()=>{L(G),rn("")},cr=()=>{const z=parseFloat(er.rangeMin),J=parseFloat(er.rangeMax);!isNaN(z)&&!isNaN(J)&&z<J&&z>=0&&J<=100&&X({gRange:{min:z,max:J}})},Kr=(z,J)=>{z.key==="Enter"&&(J==="rangeMin"||J==="rangeMax"?cr():Rt(J),z.target.blur())};S.useEffect(()=>{Cn.length>0&&X({})},[yt,Cn]);const Tn=z=>{N(J=>({...J,[z]:!J[z]}))},hi=()=>{y(z=>z==="top3"?"default":"top3")},to=()=>{k==="raw"?y("default"):x(!0)},Xn=()=>{x(!1),y("raw")},ro=(z,J)=>{const re=parseFloat(z),B=parseFloat(J);let he=isNaN(re)?"auto":re,Ne=isNaN(B)?"auto":B;return h&&typeof he=="number"&&he<=0&&(he="auto"),[he,Ne]},Fr=z=>{if(!z||!z.payload)return;const J=z.payload;if(v(J),Mt.current&&(ae(J.x),Q(!1)),ka.current){const re=pn.current.min,B=pn.current.max,{max:he}=le();if(he<=0)return;const Ne=Math.max(0,Math.min(100,J.x/he*100));if(ft.current===1){const Ee=Math.min(Ne,B-.5);X({gRange:{min:Ee,max:B}}),pe(2)}else if(ft.current===2){const Ee=Math.max(Ne,re+.5);X({gRange:{min:re,max:Ee}}),pe(0),Y(!1)}}},La=S.useCallback(z=>{const{cx:J,cy:re,fill:B}=z;return u.jsx("circle",{cx:J,cy:re,r:3,fill:B,stroke:"none",style:{cursor:"pointer"}})},[]),Lt=({active:z,payload:J})=>{if(z&&J&&J.length){const re=J[0].payload;return u.jsxs("div",{className:"bg-slate-800 text-white text-xs p-2 rounded border border-slate-600 shadow-xl opacity-90 font-mono z-50",children:[u.jsx("div",{className:"font-bold border-b border-slate-600 pb-1 mb-1",children:re.channel}),u.jsxs("div",{children:["Signal: ",re.x.toFixed(2)]}),u.jsxs("div",{children:[d,": ",re.y.toFixed(4)]}),re.row!==void 0&&re.col!==void 0&&!isNaN(re.row)&&!isNaN(re.col)&&u.jsxs("div",{className:"text-cyan-400 mt-0.5",children:["Loc: Row ",re.row,", Col ",re.col]}),re.filename&&u.jsx("div",{className:"text-gray-400 mt-1 max-w-[200px] truncate",title:re.filename,children:re.filename})]})}return null},rs=z=>{f(z),z==="Linear"&&p(!1)};if(!e)return null;const ot=s==="dark"?"#ffffff":"#000000";let ns=d;d==="Linear"&&(ns="(Var - RN) / Mean");const as=G!==K;return u.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in",onClick:z=>{z.stopPropagation()},children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-[98vw] max-w-[2200px] h-[95vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700 overflow-hidden relative",onClick:z=>z.stopPropagation(),children:[u.jsx(ei,{isOpen:g,onClose:()=>x(!1),onConfirm:Xn,title:"Warning: High Performance Cost",message:"Displaying all data points may cause the browser to freeze or become unresponsive, especially with large datasets. Are you sure you want to continue?",confirmText:"Yes, Show All"}),m&&u.jsxs("div",{className:"absolute top-20 right-8 z-30 bg-white/90 dark:bg-slate-800/90 border border-cyan-500 rounded-xl p-4 shadow-xl backdrop-blur-md max-w-xs animate-in fade-in zoom-in-95 duration-200",children:[u.jsxs("div",{className:"flex justify-between items-start mb-2 border-b border-gray-200 dark:border-slate-700 pb-2",children:[u.jsx("h4",{className:"font-bold text-gray-900 dark:text-white text-sm",children:"Selected Point"}),u.jsx("button",{onClick:()=>v(null),className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("div",{className:"space-y-1 text-xs font-mono text-gray-700 dark:text-slate-300",children:u.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1.5",children:[u.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Channel:"}),u.jsx("span",{className:"font-bold",children:m.channel}),u.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Signal (DN):"}),u.jsx("span",{children:m.x.toFixed(4)}),u.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Noise (Std):"}),u.jsx("span",{children:m.std.toFixed(4)}),u.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"SNR:"}),u.jsx("span",{className:"text-purple-600 dark:text-purple-400 font-bold",children:(m.x/m.std).toFixed(2)})]})})]}),or&&u.jsx("div",{className:"absolute inset-0 z-40 bg-white/95 dark:bg-slate-900/95 backdrop-blur-sm flex flex-col items-center justify-center p-8 animate-in fade-in zoom-in-95 duration-200",children:u.jsxs("div",{className:"w-full max-w-2xl h-[60vh] bg-gray-50 dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-700 shadow-2xl p-4 flex flex-col relative",children:[u.jsx("button",{onClick:()=>Pr(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-red-500 transition-colors",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),u.jsxs("div",{className:"mb-4 text-center",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-slate-200",children:"Gain Density Estimation"}),u.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:["HSM Mode: ",u.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:Mn==null?void 0:Mn.toFixed(4)}),u.jsx("span",{className:"mx-2",children:"|"}),"Data Points: ",tn.length>0?"Density Curve Generated":"No Data"]})]}),u.jsx("div",{className:"flex-1 min-h-0",children:tn.length>0?u.jsx(yo,{width:"100%",height:"100%",children:u.jsxs(fP,{data:tn,margin:{top:10,right:30,left:0,bottom:20},children:[u.jsx(qa,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3,vertical:!1}),u.jsx(zn,{dataKey:"x",tickFormatter:z=>z.toFixed(2),tick:{fill:"#9ca3af",fontSize:10},label:{value:"Gain (e/ADU)",position:"insideBottom",offset:-15,fill:"#9ca3af",fontSize:12}}),u.jsx(Un,{tick:{fill:"#9ca3af",fontSize:10}}),u.jsx(Hr,{cursor:{stroke:"rgba(255,255,255,0.2)"},contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6"}}),u.jsx(pa,{type:"monotone",dataKey:"density",stroke:"#0ea5e9",fill:"#0ea5e9",fillOpacity:.3,strokeWidth:2}),Mn!==null&&u.jsx(Go,{x:Mn,stroke:"#ef4444",strokeWidth:2,label:{value:"HSM",fill:"#ef4444",fontSize:10,position:"top"}})]})}):u.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:"No data in selected range"})})]})}),u.jsxs("div",{className:"flex flex-wrap justify-between items-center p-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50 gap-4 flex-shrink-0",children:[u.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2",children:["Photon Transfer Curve",u.jsxs("span",{className:"text-xs font-normal bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-300 px-2 py-0.5 rounded border border-purple-200 dark:border-purple-800",children:[r.length," Pts"]})]}),u.jsxs("div",{className:"flex gap-4 items-center flex-wrap",children:[u.jsxs("button",{onClick:eo,className:"bg-green-600 hover:bg-green-500 text-white font-bold py-1 px-3 rounded text-xs shadow-md transition-all active:scale-95 flex items-center gap-1",title:"Render all points, target lines, and metadata to a high-res JPG",children:[u.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export Complete Result"]}),u.jsxs("div",{className:"flex bg-white dark:bg-slate-700 rounded-lg p-1 border border-gray-200 dark:border-slate-600",children:[u.jsx("button",{onClick:()=>rs("Noise"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${d==="Noise"?"bg-cyan-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"Noise ()"}),u.jsx("button",{onClick:()=>rs("SNR"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${d==="SNR"?"bg-purple-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"SNR"}),u.jsx("button",{onClick:()=>rs("Linear"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${d==="Linear"?"bg-indigo-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"Linear (PTC)"})]}),u.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-600 dark:text-slate-300 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:h,onChange:z=>p(z.target.checked),className:"rounded border-gray-300 text-cyan-600 focus:ring-cyan-500 bg-gray-100 dark:bg-slate-700 dark:border-slate-600"}),"Log-Log"]}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors p-1",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-0 border-b border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-sm flex-shrink-0",children:[u.jsxs("div",{className:"lg:col-span-9 p-5 flex flex-col gap-5 border-r border-gray-200 dark:border-slate-700",children:[u.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between text-xs",children:[u.jsxs("div",{className:"flex gap-4 items-center",children:[u.jsxs("div",{className:"flex items-center gap-1.5 bg-gray-50 dark:bg-slate-800 rounded-md p-1 border border-gray-200 dark:border-slate-700",children:[u.jsx("span",{className:"font-bold text-gray-500 dark:text-slate-400 pl-1",children:"X:"}),u.jsx("input",{type:"number",placeholder:"Min",value:_,onChange:z=>O(z.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"}),u.jsx("span",{className:"text-gray-400",children:"-"}),u.jsx("input",{type:"number",placeholder:"Max",value:P,onChange:z=>M(z.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"})]}),u.jsxs("div",{className:"flex items-center gap-1.5 bg-gray-50 dark:bg-slate-800 rounded-md p-1 border border-gray-200 dark:border-slate-700",children:[u.jsx("span",{className:"font-bold text-gray-500 dark:text-slate-400 pl-1",children:"Y:"}),u.jsx("input",{type:"number",placeholder:"Min",value:C,onChange:z=>$(z.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"}),u.jsx("span",{className:"text-gray-400",children:"-"}),u.jsx("input",{type:"number",placeholder:"Max",value:F,onChange:z=>T(z.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"})]}),u.jsx("button",{onClick:()=>{O(""),M(""),$(""),T("")},className:"text-xs text-cyan-600 dark:text-cyan-400 hover:underline",children:"Auto"})]}),u.jsxs("div",{className:"flex items-center gap-1 bg-white dark:bg-slate-700 p-1 rounded-lg border border-gray-200 dark:border-slate-600",children:[u.jsx("button",{onClick:()=>Tn("R"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${w.R?"bg-red-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"R"}),u.jsx("button",{onClick:()=>Tn("G1"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${w.G1?"bg-green-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"G1"}),u.jsx("button",{onClick:()=>Tn("G2"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${w.G2?"bg-green-400 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"G2"}),u.jsx("button",{onClick:()=>Tn("B"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${w.B?"bg-blue-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"B"})]})]}),u.jsxs("div",{className:"flex flex-wrap items-end gap-8",children:[u.jsxs("div",{className:"flex flex-col bg-gray-50 dark:bg-slate-800/50 p-2 rounded border border-gray-100 dark:border-slate-700",children:[u.jsx("span",{className:"text-[9px] uppercase font-bold text-gray-500 dark:text-slate-400 mb-1",children:"Black Level (0,0 0,1 1,0 1,1)"}),u.jsx("input",{type:"text",value:G,onChange:z=>Z(z.target.value),className:"w-32 text-xs px-2 py-1 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded outline-none focus:border-cyan-500 font-mono",placeholder:"0 0 0 0"})]}),u.jsxs("div",{className:"flex flex-col justify-between bg-gray-50 dark:bg-slate-800/50 p-2 rounded border border-gray-100 dark:border-slate-700",children:[u.jsxs("div",{className:"flex justify-between items-center mb-1",children:[u.jsx("span",{className:"text-[9px] uppercase font-bold text-gray-500 dark:text-slate-400 mr-2",children:"Fit Range % (Robust)"}),u.jsx("button",{onClick:()=>{Y(!fe),pe(fe?0:1)},className:`px-1.5 py-0.5 text-[9px] rounded border transition-colors ${fe?"bg-cyan-100 text-cyan-700 border-cyan-300 animate-pulse":"bg-white dark:bg-slate-700 border-gray-300 dark:border-slate-600 text-gray-600 dark:text-slate-300 hover:bg-gray-50"}`,children:fe?oe===1?"Pick Min":"Pick Max":"Select"})]}),u.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[u.jsx("input",{type:"number",step:"0.1",value:er.rangeMin,onChange:z=>kt("rangeMin",z.target.value),onBlur:cr,onKeyDown:z=>Kr(z,"rangeMin"),className:"w-10 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-center font-bold"}),u.jsx("span",{className:"text-gray-400",children:"-"}),u.jsx("input",{type:"number",step:"0.1",value:er.rangeMax,onChange:z=>kt("rangeMax",z.target.value),onBlur:cr,onKeyDown:z=>Kr(z,"rangeMax"),className:"w-10 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-center font-bold"})]})]}),u.jsxs("div",{className:"flex flex-col bg-indigo-50 dark:bg-indigo-900/20 p-2 rounded border border-indigo-100 dark:border-indigo-800/50",children:[u.jsx("span",{className:"text-[9px] uppercase font-bold text-indigo-600 dark:text-indigo-400 mb-1",children:"DR Params"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-300",children:"Img H:"}),u.jsx("input",{type:"number",value:E,onChange:z=>D(z.target.value),onKeyDown:nn,placeholder:"Empty",className:"w-14 px-1 py-0.5 bg-white dark:bg-slate-900 border border-indigo-200 dark:border-indigo-800 rounded text-center font-bold text-indigo-700 dark:text-indigo-300 text-xs placeholder:font-normal placeholder:text-gray-300"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-300",children:"Tgt SNR:"}),u.jsx("input",{type:"number",value:U,onChange:z=>A(z.target.value),className:"w-10 px-1 py-0.5 bg-white dark:bg-slate-900 border border-indigo-200 dark:border-indigo-800 rounded text-center font-bold text-indigo-700 dark:text-indigo-300 text-xs"})]})]})]}),u.jsxs("div",{className:"flex flex-col gap-1 text-[10px] justify-end pb-0.5",children:[u.jsx("button",{onClick:()=>{Q(!te),R&&ae(null)},disabled:fe,className:`font-bold rounded border shadow-sm transition-all px-3 py-1.5 ${te?"bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400 border-amber-500 animate-pulse":"bg-white dark:bg-slate-800 text-gray-600 dark:text-slate-300 border-gray-300 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:te?"Pick Point":"Select Linear Limit"}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{onClick:hi,className:`flex-1 font-bold rounded border shadow-sm transition-all px-2 py-1 ${k==="top3"?"bg-indigo-600 text-white border-indigo-700":"bg-white dark:bg-slate-800 text-gray-600 dark:text-slate-300 border-gray-300 dark:border-slate-600 hover:bg-gray-50"}`,children:"Top 3%"}),u.jsx("button",{onClick:to,className:`font-bold rounded border shadow-sm transition-all px-2 py-1 ${k==="raw"?"bg-red-600 text-white border-red-700":"text-red-500 border-red-200 hover:bg-red-50"}`,children:"All"})]})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-4 items-center bg-gray-50/50 dark:bg-slate-800/20 p-2 rounded-lg border border-gray-100 dark:border-slate-800",children:[u.jsx("span",{className:"text-[10px] uppercase font-bold text-gray-400 dark:text-slate-500",children:"Metadata"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",value:Dt,onChange:z=>Me(z.target.value),placeholder:"Tester Name",className:"w-24 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"}),u.jsx("input",{type:"text",value:He,onChange:z=>gt(z.target.value),placeholder:"Camera Model",className:"w-32 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"}),u.jsx("input",{type:"text",value:Wt,onChange:z=>_r(z.target.value),placeholder:"ISO",className:"w-16 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-4 items-center bg-fuchsia-50/50 dark:bg-fuchsia-900/10 p-2 rounded-lg border border-fuchsia-100 dark:border-fuchsia-900/30",children:[u.jsx("span",{className:"text-[10px] uppercase font-bold text-fuchsia-500 dark:text-fuchsia-400",children:"Markers"}),u.jsxs("div",{className:"flex gap-2 items-center",children:[u.jsx("input",{type:"number",value:se,onChange:z=>je(z.target.value),placeholder:"X (Signal)",className:"w-20 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 outline-none focus:border-fuchsia-500 transition-colors"}),u.jsx("input",{type:"number",value:Re,onChange:z=>Le(z.target.value),placeholder:"Y (Value)",className:"w-20 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 outline-none focus:border-fuchsia-500 transition-colors"}),u.jsx("button",{onClick:pt,className:"px-3 py-1 bg-fuchsia-600 hover:bg-fuchsia-500 text-white text-xs font-bold rounded shadow-sm transition-colors active:scale-95",children:"+"}),H.length>0&&u.jsx("button",{onClick:()=>ie([]),className:"px-2 py-1 bg-gray-200 dark:bg-slate-700 hover:bg-red-500 hover:text-white text-gray-600 dark:text-slate-300 text-xs font-bold rounded shadow-sm transition-colors active:scale-95",children:"Clr"})]}),u.jsxs("div",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono",children:[H.length," pts"]})]}),u.jsxs("div",{className:"flex gap-4 text-[10px] pt-1 justify-center sm:justify-start flex-wrap",children:[u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:Ve.shot,onChange:z=>tr({...Ve,shot:z.target.checked}),className:"rounded text-gray-500"})," ",u.jsx("span",{className:"text-gray-500",children:"Shot Noise"})]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:Ve.read,onChange:z=>tr({...Ve,read:z.target.checked}),className:"rounded text-rose-500"})," ",u.jsx("span",{className:"text-rose-500",children:"Read Noise"})]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:Ve.prnu,onChange:z=>tr({...Ve,prnu:z.target.checked}),className:"rounded text-amber-500"})," ",u.jsx("span",{className:"text-amber-500",children:"PRNU"})]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:Ve.total,onChange:z=>tr({...Ve,total:z.target.checked}),className:"rounded text-white"})," ",u.jsx("span",{className:"text-gray-900 dark:text-white font-bold",children:"Model"})]})]})]}),u.jsxs("div",{className:"lg:col-span-3 bg-slate-100 dark:bg-slate-800 p-4 flex flex-col justify-center gap-4",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center mb-1 px-1",children:[u.jsxs("h3",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase flex items-center gap-2",children:["Fit Parameters (D55 SAT Channel:",Pt,")",j&&u.jsx("span",{className:"text-orange-500 animate-pulse text-[10px]",children:"Calculating..."})]}),u.jsxs("div",{className:"flex gap-2 items-center",children:[u.jsx("button",{onClick:En,disabled:j,className:`px-3 py-1 text-white text-[10px] font-bold rounded shadow-sm transition-all flex items-center gap-1 active:scale-95 
                                            ${j?"bg-gray-400 cursor-wait":as?"bg-orange-500 hover:bg-orange-600 animate-pulse ring-2 ring-orange-400/50":"bg-cyan-600 hover:bg-cyan-500"}
                                        `,title:"Apply Black Level, Auto-detect Read Noise, then Recalculate Fit",children:j?u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"w-3 h-3 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Fitting..."]}):u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),"Apply & Calc"]})}),u.jsxs("select",{value:yt,onChange:z=>Ot(Number(z.target.value)),className:"text-[9px] bg-slate-200 dark:bg-slate-700 text-gray-600 dark:text-slate-300 rounded px-1 py-0.5 border-none outline-none cursor-pointer hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors",title:"Number of point-pairs to sample for robust regression (Theil-Sen)",children:[u.jsx("option",{value:1e5,children:"100k Pairs"}),u.jsx("option",{value:5e5,children:"500k Pairs"}),u.jsx("option",{value:2e6,children:"2M Pairs"}),u.jsx("option",{value:5e6,children:"5M Pairs"}),u.jsx("option",{value:1e7,children:"10M Pairs"})]}),Or&&u.jsxs("span",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono",title:"Number of points used in regression",children:["N=",Or.nPoints]})]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1",children:"rn/fpn"}),u.jsx("input",{type:"text",inputMode:"decimal",value:er.read,onChange:z=>kt("read",z.target.value),onBlur:()=>Rt("read"),onKeyDown:z=>Kr(z,"read"),className:"w-full text-center text-2xl font-light bg-transparent text-rose-500 outline-none border-b border-transparent focus:border-rose-500 transition-colors"})]}),u.jsxs("div",{className:"flex flex-col items-center relative group",children:[u.jsxs("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1 flex items-center gap-1",children:["Kadc (HSM)",u.jsx("button",{onClick:()=>Pr(!0),className:"text-[9px] text-cyan-600 dark:text-cyan-400 hover:underline",children:"Dist."})]}),u.jsx("input",{type:"text",inputMode:"decimal",value:er.gain,onChange:z=>kt("gain",z.target.value),onBlur:()=>Rt("gain"),onKeyDown:z=>Kr(z,"gain"),className:"w-full text-center text-2xl font-light bg-transparent text-slate-700 dark:text-slate-200 outline-none border-b border-transparent focus:border-cyan-500 transition-colors"})]}),u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1",children:"PRNU (%)"}),u.jsx("input",{type:"text",inputMode:"decimal",value:er.prnu,onChange:z=>kt("prnu",z.target.value),onBlur:()=>Rt("prnu"),onKeyDown:z=>Kr(z,"prnu"),className:"w-full text-center text-2xl font-light bg-transparent text-amber-500 outline-none border-b border-transparent focus:border-amber-500 transition-colors"})]})]})]}),u.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 w-full"}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 text-center",children:[u.jsxs("div",{className:"flex flex-col justify-center bg-cyan-50 dark:bg-cyan-900/10 p-2 rounded-lg border border-cyan-100 dark:border-cyan-900/30",children:[u.jsxs("h4",{className:"text-[10px] font-bold text-cyan-600 dark:text-cyan-500 uppercase tracking-wide mb-1 truncate",title:`Manual DR at SNR=${(ge==null?void 0:ge.manualTarget)||U}`,children:["M.DR @ SNR=",(ge==null?void 0:ge.manualTarget)||U]}),u.jsx("div",{className:"text-base font-bold text-cyan-700 dark:text-cyan-400 whitespace-nowrap",children:ge!=null&&ge.manualDR?`${ge.manualDR.toFixed(2)} EV`:"--"})]}),u.jsxs("div",{className:"flex flex-col justify-center bg-emerald-50 dark:bg-emerald-900/10 p-2 rounded-lg border border-emerald-100 dark:border-emerald-900/30",title:isNaN((ge==null?void 0:ge.ptpTarget)||NaN)?"Requires Image Height":`Standard Point-to-Point DR (Target SNR = 16000/${E||"H"})`,children:[u.jsx("h4",{className:"text-[10px] font-bold text-emerald-600 dark:text-emerald-500 uppercase tracking-wide mb-1",children:"PTP DR"}),u.jsx("div",{className:"text-base font-bold text-emerald-700 dark:text-emerald-400 whitespace-nowrap",children:ge!=null&&ge.ptpDR?`${ge.ptpDR.toFixed(2)} EV`:"--"})]}),u.jsxs("div",{className:"flex flex-col justify-center bg-purple-50 dark:bg-purple-900/10 p-2 rounded-lg border border-purple-100 dark:border-purple-900/30",title:isNaN((ge==null?void 0:ge.ptpTarget)||NaN)?"Requires Image Height":`D55 Saturation DR (Target SNR = 16000/${E||"H"} on ${ge==null?void 0:ge.dominantChannel} Channel)`,children:[u.jsxs("h4",{className:"text-[10px] font-bold text-purple-600 dark:text-purple-400 uppercase tracking-wide mb-1 truncate",children:["D55 DR (",ge==null?void 0:ge.dominantChannel,")"]}),u.jsx("div",{className:"text-base font-bold text-purple-700 dark:text-purple-400 whitespace-nowrap",children:ge!=null&&ge.d55DR?`${ge.d55DR.toFixed(2)} EV`:"--"})]}),u.jsxs("div",{className:"flex flex-col justify-center bg-orange-50 dark:bg-orange-900/10 p-2 rounded-lg border border-orange-100 dark:border-orange-900/30",children:[u.jsx("h4",{className:"text-[10px] font-bold text-orange-600 dark:text-orange-400 uppercase tracking-wide mb-1",children:"FWC"}),u.jsx("div",{className:"text-base font-bold text-orange-600 dark:text-orange-400 font-mono whitespace-nowrap truncate",title:Ct!==null?`${Math.round(Ct)}`:"",children:Ct!==null?Ct>1e4?`${(Ct/1e3).toFixed(1)}k`:`${Math.round(Ct)}`:"--"})]})]}),R===null&&u.jsx("div",{className:"text-center text-[10px] text-red-500 animate-pulse font-bold mt-[-10px]",children:"Please select Linear Limit on chart to calc DR"})]})]}),u.jsxs("div",{className:`flex-1 p-4 bg-white dark:bg-slate-900 relative grid grid-cols-[auto_1fr] grid-rows-[1fr_auto] gap-2 ${te||fe?"cursor-crosshair":""}`,children:[u.jsx("div",{className:"row-start-1 col-start-1 h-full",children:u.jsx(pk,{vertical:!0,min:Xe,max:vt,value:[C?parseFloat(C):Xe,F?parseFloat(F):vt],onChange:([z,J])=>{$(z.toString()),T(J.toString())},logScale:h})}),u.jsxs("div",{className:"row-start-1 col-start-2 relative",children:[ir.length===0?u.jsx("div",{className:"flex h-full items-center justify-center text-gray-400",children:"No valid data points found."}):u.jsx(yo,{width:"100%",height:"100%",children:u.jsxs(PQ,{margin:{top:20,right:20,bottom:0,left:0},onClick:Fr,children:[u.jsx("defs",{children:u.jsxs("filter",{id:"glow",height:"300%",width:"300%",x:"-100%",y:"-100%",children:[u.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),u.jsxs("feMerge",{children:[u.jsx("feMergeNode",{in:"coloredBlur"}),u.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),u.jsx(qa,{strokeDasharray:"3 3",stroke:"#374151",opacity:.2}),u.jsx(zn,{type:"number",dataKey:"x",name:"Signal",scale:h?"log":"linear",domain:ro(_,P),allowDataOverflow:!0,hide:!0}),u.jsx(Un,{type:"number",dataKey:"y",name:d,scale:h?"log":"linear",domain:ro(C,F),label:{value:ns,angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:12},tick:{fill:"#9ca3af",fontSize:10},allowDataOverflow:!0}),u.jsx(Hr,{content:u.jsx(Lt,{}),cursor:{strokeDasharray:"3 3"}}),R&&u.jsx(Go,{x:R,stroke:"red",strokeDasharray:"3 3",label:{position:"top",value:"Sat",fill:"red",fontSize:10}}),(Ve.fitRange||fe)&&u.jsxs(u.Fragment,{children:[u.jsx(Go,{x:sr,stroke:"#22d3ee",strokeDasharray:"5 5",label:{position:"insideTopLeft",value:`Min: ${Jt.min}%`,fill:"#22d3ee",fontSize:9}}),u.jsx(Go,{x:lr,stroke:"#22d3ee",strokeDasharray:"5 5",label:{position:"insideTopLeft",value:`Max: ${Jt.max}%`,fill:"#22d3ee",fontSize:9}})]}),w.R&&u.jsx(kn,{name:"Red",data:Vn.R,fill:"#ef4444",shape:La,onClick:Fr,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-R"),w.G1&&u.jsx(kn,{name:"Green 1",data:Vn.G1,fill:"#22c55e",shape:La,onClick:Fr,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-G1"),w.G2&&u.jsx(kn,{name:"Green 2",data:Vn.G2,fill:"#4ade80",shape:La,onClick:Fr,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-G2"),w.B&&u.jsx(kn,{name:"Blue",data:Vn.B,fill:"#3b82f6",shape:La,onClick:Fr,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-B"),Ve.shot&&Ie.shot.length>0&&u.jsx(kn,{name:"Shot Noise (Ideal)",data:Ie.shot,line:{stroke:"#94a3b8",strokeWidth:1,strokeDasharray:"5 5"},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-shot"),Ve.read&&Ie.read.length>0&&u.jsx(kn,{name:"Read Noise Floor",data:Ie.read,line:{stroke:"#f43f5e",strokeWidth:1,strokeDasharray:"3 3"},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-read"),Ve.prnu&&Ie.prnu.length>0&&u.jsx(kn,{name:"PRNU (Non-uniformity)",data:Ie.prnu,line:{stroke:"#f59e0b",strokeWidth:1,strokeDasharray:"3 3"},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-prnu"),Ve.total&&Ie.total.length>0&&u.jsx(kn,{name:"Total Noise Model",data:Ie.total,line:{stroke:ot,strokeWidth:2},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-total"),Ke.length>0&&u.jsx(kn,{name:`Target SNR=${U}`,data:Ke,line:{stroke:"#6366f1",strokeWidth:2,strokeDasharray:"4 2"},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-target"),Br.length>0&&u.jsx(kn,{name:`PTP Target SNR=${ge!=null&&ge.ptpTarget?ge.ptpTarget.toFixed(1):"?"}`,data:Br,line:{stroke:"#10b981",strokeWidth:2,strokeDasharray:"4 4"},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-ptp"),H.length>0&&u.jsx(kn,{name:"Manual Markers",data:H,fill:"#d946ef",shape:"star",legendType:"star"},"manual-points")]})}),u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 pointer-events-none select-none opacity-25 mix-blend-normal dark:mix-blend-plus-lighter",children:u.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})})]}),u.jsx("div",{className:"row-start-2 col-start-2 w-full",children:u.jsx(pk,{min:Be,max:it,value:[_?parseFloat(_):Be,P?parseFloat(P):it],onChange:([z,J])=>{O(z.toString()),M(J.toString())},logScale:h})})]})]})})},rJ=({searchTerm:e,onSearchChange:t,manufacturers:r,selectedManufacturer:n,onManufacturerChange:a,cameras:o,onCameraSelect:i})=>u.jsx("div",{className:"sticky top-4 z-10 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm p-4 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[u.jsxs("div",{className:"relative md:col-span-3",children:[u.jsx("input",{type:"text",placeholder:"Search camera model...",value:e,onChange:s=>t(s.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 text-gray-900 dark:text-slate-200 placeholder-gray-500 dark:placeholder-slate-400"}),u.jsx("svg",{className:"w-5 h-5 text-gray-400 dark:text-slate-400 absolute top-1/2 left-3 transform -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),u.jsx("select",{value:n,onChange:s=>a(s.target.value),className:"w-full md:col-span-1 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-2 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 appearance-none text-gray-900 dark:text-slate-200",children:r.map(s=>u.jsx("option",{value:s,children:s},s))}),u.jsxs("select",{onChange:s=>i(s.target.value),className:"w-full md:col-span-1 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-2 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 appearance-none text-gray-900 dark:text-slate-200",value:"","aria-label":"Jump to camera model",children:[u.jsx("option",{value:"",disabled:!0,children:"Jump to model..."}),o.map(s=>u.jsx("option",{value:s.id,children:s.name},s.id))]})]})}),nJ=({active:e,payload:t,label:r,theme:n})=>{if(e&&t&&t.length){const a=t[0].payload,o=n==="dark"?"bg-slate-800/80 border-slate-600 text-slate-300":"bg-white/90 border-gray-200 text-gray-700";return u.jsxs("div",{className:`${o} backdrop-blur-sm border p-3 rounded-lg shadow-lg`,children:[u.jsx("p",{className:"label font-bold",children:`ISO ${r}`}),u.jsx("div",{className:"mt-2 space-y-1 text-sm",children:u.jsxs(u.Fragment,{children:[u.jsxs("div",{style:{color:"#f87171"},children:["Red: ",a.R_avg.toFixed(2)," (Range: ",a.R_range[0]," - ",a.R_range[1],")"]}),u.jsxs("div",{style:{color:"#4ade80"},children:["Green 1: ",a.G1_avg.toFixed(2)," (Range: ",a.G1_range[0]," - ",a.G1_range[1],")"]}),u.jsxs("div",{style:{color:"#60a5fa"},children:["Blue: ",a.B_avg.toFixed(2)," (Range: ",a.B_range[0]," - ",a.B_range[1],")"]}),u.jsxs("div",{style:{color:"#86efac"},children:["Green 2: ",a.G2_avg.toFixed(2)," (Range: ",a.G2_range[0]," - ",a.G2_range[1],")"]})]})})]})}return null},aJ=({data:e,theme:t="dark"})=>{const r=S.useMemo(()=>!e||e.length===0?[]:[...new Set(e.map(i=>i.iso))].sort((i,s)=>Number(i)-Number(s)),[e]),n=S.useMemo(()=>{if(!e||e.length===0)return[0,4096];const i=e.flatMap(m=>[...m.R_range,...m.G1_range,...m.G2_range,...m.B_range]);if(i.length===0)return[0,4096];let s=Math.min(...i),l=Math.max(...i);const c=.25,d=l-s;if(d<c){const m=c-d;s-=m/2,l+=m/2}const f=(l-s)*.1,h=s-f,p=l+f;return[h,p]},[e]),a=t==="dark"?"#475569":"#e5e7eb",o=t==="dark"?"#94a3b8":"#6b7280";return!e||e.length===0?u.jsx("div",{className:"flex items-center justify-center h-full text-gray-500 dark:text-slate-500",children:u.jsx("p",{children:"No data available for this mode."})}):u.jsx(yo,{width:"100%",height:"100%",children:u.jsxs(fP,{data:e,margin:{top:5,right:20,left:0,bottom:5},children:[u.jsx(qa,{strokeDasharray:"3 3",stroke:a}),u.jsx(zn,{dataKey:"iso",type:"number",domain:["dataMin","dataMax"],tick:{fill:o,fontSize:12},scale:"log",allowDuplicatedCategory:!1,ticks:r}),u.jsx(Un,{tick:{fill:o,fontSize:12},domain:n,allowDecimals:!0,tickFormatter:i=>Number(i).toFixed(3)}),u.jsx(Hr,{content:u.jsx(nJ,{theme:t})}),u.jsx(Va,{wrapperStyle:{fontSize:"14px",color:o}}),u.jsx(pa,{type:"monotone",dataKey:"R_range",fill:"#f87171",stroke:"none",fillOpacity:.2,name:"Red",legendType:"none"}),u.jsx(Sr,{type:"monotone",dataKey:"R_avg",stroke:"#f87171",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Red"}),u.jsx(pa,{type:"monotone",dataKey:"G1_range",fill:"#4ade80",stroke:"none",fillOpacity:.2,name:"Green 1",legendType:"none"}),u.jsx(Sr,{type:"monotone",dataKey:"G1_avg",stroke:"#4ade80",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Green 1"}),u.jsx(pa,{type:"monotone",dataKey:"B_range",fill:"#60a5fa",stroke:"none",fillOpacity:.2,name:"Blue",legendType:"none"}),u.jsx(Sr,{type:"monotone",dataKey:"B_avg",stroke:"#60a5fa",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Blue"}),u.jsx(pa,{type:"monotone",dataKey:"G2_range",fill:"#86efac",stroke:"none",fillOpacity:.2,name:"Green 2",legendType:"none"}),u.jsx(Sr,{type:"monotone",dataKey:"G2_avg",stroke:"#86efac",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Green 2"})]})})},oJ=I.forwardRef(({camera:e,theme:t="dark"},r)=>{const n=S.useMemo(()=>e.shootingModes.map(f=>f.modeName),[e.shootingModes]),[a,o]=S.useState(n[0]||""),{chartData:i,tableData:s}=S.useMemo(()=>{const f=e.shootingModes.find(m=>m.modeName===a);if(!(f!=null&&f.data))return{chartData:[],tableData:[]};const h=f.data.map(m=>({iso:m.iso,R_range:m.r.range,R_avg:m.r.avg,G1_range:m.g1.range,G1_avg:m.g1.avg,B_range:m.b.range,B_avg:m.b.avg,G2_range:m.g2.range,G2_avg:m.g2.avg})),p=f.data.map(m=>({iso:m.iso,levels:[m.r.avg,m.g1.avg,m.g2.avg,m.b.avg],clipping:m.clipping}));return{chartData:h,tableData:p}},[e.shootingModes,a]),l=`Raw Data (${a})`,c=S.useRef(null),d=S.useRef(null);return S.useEffect(()=>{const f=c.current,h=d.current;if(!f||!h)return;const p=new ResizeObserver(m=>{for(let v of m){const{width:k}=v.contentRect,g=Math.max(8,k/35);h.style.fontSize=`${g}px`}});return p.observe(f),()=>p.disconnect()},[]),u.jsxs("div",{ref:r,className:"bg-white dark:bg-slate-800/50 border border-gray-200 dark:border-slate-700 rounded-xl shadow-lg p-6 flex flex-col gap-6 transform hover:scale-[1.02] hover:border-cyan-500/50 transition-all duration-500 ease-in-out",children:[u.jsxs("div",{className:"border-b border-gray-200 dark:border-slate-700 pb-4",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-slate-100",children:e.name}),u.jsx("p",{className:"text-cyan-600 dark:text-cyan-400",children:e.manufacturer})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-slate-300",children:"Black Level vs. ISO"}),u.jsx("select",{value:a,onChange:f=>o(f.target.value),className:"w-full sm:w-auto bg-gray-50 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-md px-3 py-1 text-sm outline-none focus:ring-2 focus:ring-cyan-500 transition-all duration-300 text-gray-900 dark:text-slate-200","aria-label":`Select shooting mode for ${e.name}`,children:n.map(f=>u.jsx("option",{value:f,children:f},f))})]}),u.jsxs("div",{ref:c,className:"h-64 relative",children:[u.jsx(aJ,{data:i,theme:t},a),u.jsx("div",{className:"absolute top-1/2 left-[52%] transform -translate-x-1/2 -translate-y-1/2 -rotate-30 pointer-events-none",children:u.jsx("p",{ref:d,className:"font-bold text-gray-900/10 dark:text-slate-200/40 whitespace-nowrap",children:" y-g-jiang.github.io"})})]})]}),u.jsxs("div",{className:"overflow-x-auto",children:[u.jsx("div",{className:"flex justify-between items-center mb-4",children:u.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-slate-300",children:l})}),u.jsxs("table",{className:"w-full text-left border-collapse",children:[u.jsx("thead",{className:"bg-gray-100 dark:bg-slate-700/50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"p-3 font-semibold text-sm text-gray-700 dark:text-slate-300",children:"ISO"}),u.jsx("th",{className:"p-3 font-semibold text-sm text-red-500 dark:text-red-400",children:"Red"}),u.jsx("th",{className:"p-3 font-semibold text-sm text-green-600 dark:text-green-400",children:"Green 1"}),u.jsx("th",{className:"p-3 font-semibold text-sm text-blue-500 dark:text-blue-400",children:"Blue"}),u.jsx("th",{className:"p-3 font-semibold text-sm text-green-500 dark:text-green-300",children:"Green 2"})]})}),u.jsx("tbody",{children:s.map(({iso:f,levels:h,clipping:p})=>u.jsxs("tr",{className:"border-b border-gray-200 dark:border-slate-700/50 last:border-b-0",children:[u.jsxs("td",{className:"p-3 font-mono text-gray-700 dark:text-slate-300 whitespace-nowrap",children:[f,p&&u.jsx("span",{className:"ml-3 text-xs font-semibold text-amber-600 dark:text-amber-400 bg-amber-100 dark:bg-amber-900/50 px-2 py-1 rounded-full align-middle",children:"Clipping"})]}),u.jsx("td",{className:"p-3 font-mono text-red-500 dark:text-red-400",children:h[0].toFixed(2)}),u.jsx("td",{className:"p-3 font-mono text-green-600 dark:text-green-400",children:h[1].toFixed(2)}),u.jsx("td",{className:"p-3 font-mono text-blue-500 dark:text-blue-400",children:h[3].toFixed(2)}),u.jsx("td",{className:"p-3 font-mono text-green-500 dark:text-green-300",children:h[2].toFixed(2)})]},f))})]})]})]})}),ye=(e,t,r)=>({avg:e,range:[t,r]}),Mp=[{id:"sony-a7r2",name:"Sony ILCE-7RM2 (A7R II)",manufacturer:"Sony",shootingModes:[{modeName:"Still (Mechanical Shutter)",data:[{iso:100,r:ye(512.1,511.95,512.25),g1:ye(512.05,511.9,512.2),b:ye(512.12,511.98,512.28),g2:ye(512.06,511.92,512.22)},{iso:200,r:ye(512.15,512,512.3),g1:ye(512.1,511.95,512.25),b:ye(512.18,512.05,512.35),g2:ye(512.12,511.98,512.28)},{iso:400,r:ye(512.25,512.1,512.45),g1:ye(512.2,512.05,512.4),b:ye(512.3,512.15,512.5),g2:ye(512.22,512.08,512.42)},{iso:800,r:ye(512.5,512.2,512.8),g1:ye(512.45,512.15,512.75),b:ye(512.55,512.25,512.85),g2:ye(512.48,512.18,512.78)},{iso:1600,r:ye(513.1,512.8,513.4),g1:ye(513.05,512.75,513.35),b:ye(513.15,512.85,513.45),g2:ye(513.08,512.78,513.38)}]}]},{id:"sony-a7c",name:"Sony ILCE-7C",manufacturer:"Sony",shootingModes:[{modeName:"Still (Mechanical)",data:[{iso:100,r:ye(512.02,511.98,512.05),g1:ye(512.01,511.97,512.04),b:ye(512.03,511.99,512.06),g2:ye(512.01,511.97,512.04)},{iso:640,r:ye(512.15,512.05,512.25),g1:ye(512.12,512.02,512.22),b:ye(512.18,512.08,512.28),g2:ye(512.13,512.03,512.23)}]}]},{id:"canon-r5",name:"Canon EOS R5",manufacturer:"Canon",shootingModes:[{modeName:"Mechanical Shutter",data:[{iso:100,r:ye(512,511.8,512.2),g1:ye(512,511.8,512.2),b:ye(512,511.8,512.2),g2:ye(512,511.8,512.2)},{iso:400,r:ye(512,511.7,512.3),g1:ye(512,511.7,512.3),b:ye(512,511.7,512.3),g2:ye(512,511.7,512.3)},{iso:1600,r:ye(512.2,511.5,512.8),g1:ye(512.2,511.5,512.8),b:ye(512.2,511.5,512.8),g2:ye(512.2,511.5,512.8)}]}]},{id:"canon-r6",name:"Canon EOS R6",manufacturer:"Canon",shootingModes:[{modeName:"Mechanical Shutter",data:[{iso:100,r:ye(511.95,511.8,512.1),g1:ye(511.95,511.8,512.1),b:ye(511.95,511.8,512.1),g2:ye(511.95,511.8,512.1)},{iso:800,r:ye(512.1,511.9,512.3),g1:ye(512.1,511.9,512.3),b:ye(512.1,511.9,512.3),g2:ye(512.1,511.9,512.3)}]}]},{id:"nikon-z9",name:"Nikon Z9",manufacturer:"Nikon",shootingModes:[{modeName:"Electronic Shutter",data:[{iso:64,r:ye(400,399.9,400.1),g1:ye(400,399.9,400.1),b:ye(400,399.9,400.1),g2:ye(400,399.9,400.1)},{iso:100,r:ye(400,399.9,400.1),g1:ye(400,399.9,400.1),b:ye(400,399.9,400.1),g2:ye(400,399.9,400.1)}]}]},{id:"nikon-z6-2",name:"Nikon Z 6II",manufacturer:"Nikon",shootingModes:[{modeName:"Still (Lossless)",data:[{iso:100,r:ye(400.1,399.8,400.3),g1:ye(400.1,399.8,400.3),b:ye(400.1,399.8,400.3),g2:ye(400.1,399.8,400.3)},{iso:800,r:ye(400.3,399.5,401.1),g1:ye(400.3,399.5,401.1),b:ye(400.3,399.5,401.1),g2:ye(400.3,399.5,401.1)}]}]},{id:"fujifilm-xt4",name:"Fujifilm X-T4",manufacturer:"Fujifilm",shootingModes:[{modeName:"Still (RAF)",data:[{iso:160,r:ye(1024,1023.8,1024.2),g1:ye(1024,1023.8,1024.2),b:ye(1024,1023.8,1024.2),g2:ye(1024,1023.8,1024.2)},{iso:800,r:ye(1024.2,1023.5,1025),g1:ye(1024.2,1023.5,1025),b:ye(1024.2,1023.5,1025),g2:ye(1024.2,1023.5,1025)}]}]}],iJ=({isOpen:e,onClose:t,theme:r})=>{const[n,a]=S.useState(""),[o,i]=S.useState("All"),s=S.useMemo(()=>["All",...Array.from(new Set(Mp.map(f=>f.manufacturer))).sort()],[]),l=S.useMemo(()=>Mp.filter(d=>{const f=d.name.toLowerCase().includes(n.toLowerCase()),h=o==="All"||d.manufacturer===o;return f&&h}),[n,o]),c=d=>{const f=document.getElementById(`camera-${d}`);f&&f.scrollIntoView({behavior:"smooth"})};return e?u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-6xl h-[90vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700 overflow-hidden",onClick:d=>d.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:[u.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2",children:["Camera Black Level Database",u.jsxs("span",{className:"text-xs font-normal bg-cyan-100 dark:bg-cyan-900/30 text-cyan-600 dark:text-cyan-400 px-2 py-0.5 rounded border border-cyan-200 dark:border-cyan-800",children:[Mp.length," Models"]})]}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-2 rounded-full hover:bg-gray-100 dark:hover:bg-slate-800",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700 bg-gray-50/50 dark:bg-slate-800/30",children:u.jsx(rJ,{searchTerm:n,onSearchChange:a,manufacturers:s,selectedManufacturer:o,onManufacturerChange:i,cameras:l,onCameraSelect:c})}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700 bg-gray-100 dark:bg-slate-950",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-2 gap-6",children:[l.map(d=>u.jsx("div",{id:`camera-${d.id}`,children:u.jsx(oJ,{camera:d,theme:r})},d.id)),l.length===0&&u.jsx("div",{className:"col-span-full flex flex-col items-center justify-center py-20 text-gray-400 dark:text-slate-600",children:u.jsx("p",{className:"text-lg",children:"No cameras found matching your criteria."})})]})})]})}):null},sJ=({isOpen:e,onClose:t,zIndex:r=150})=>{const[n,a]=S.useState(""),[o,i]=S.useState(""),[s,l]=S.useState(""),[c,d]=S.useState(""),[f,h]=S.useState(null),p=()=>{const m=parseFloat(n),v=parseFloat(o),k=parseFloat(s),y=parseFloat(c);if(isNaN(m)||isNaN(v)||isNaN(k)||isNaN(y)){h(null);return}const g=m,x=v,j=k*k,b=y*y,w=(g+x)/2;if(w<=1e-9){h(0);return}const N=j*b/w,_=Math.sqrt(N);h(_)};return e?u.jsxs(Fu,{initialPosition:{x:window.innerWidth/2-160,y:window.innerHeight/2-200},onClose:t,zIndex:r,className:"w-80 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 flex flex-col shadow-2xl",children:[u.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800",children:[u.jsx("h3",{className:"text-sm font-bold text-gray-700 dark:text-slate-200",children:"Cross-Compensation Calc"}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"p-4 flex flex-col gap-3 text-xs",children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"H Mean (Power/Var)"}),u.jsx("input",{type:"number",step:"any",value:n,onChange:m=>a(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"V Mean (Power/Var)"}),u.jsx("input",{type:"number",step:"any",value:o,onChange:m=>i(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"H RMS 0 (Sigma)"}),u.jsx("input",{type:"number",step:"any",value:s,onChange:m=>l(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"V RMS 0 (Sigma)"}),u.jsx("input",{type:"number",step:"any",value:c,onChange:m=>d(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),u.jsx("button",{onClick:p,className:"mt-2 w-full py-2 bg-indigo-600 hover:bg-indigo-500 text-white font-bold rounded shadow transition-colors active:scale-95",children:"Calculate Sigma"}),f!==null&&u.jsxs("div",{className:"mt-2 p-3 bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-200 dark:border-indigo-800 rounded text-center animate-in fade-in slide-in-from-top-1",children:[u.jsx("span",{className:"block text-[10px] uppercase font-bold text-gray-500 dark:text-slate-400 mb-1",children:"Original White Noise Sigma"}),u.jsx("span",{className:"text-lg font-mono font-bold text-indigo-700 dark:text-indigo-300 select-all",children:f.toFixed(5)})]})]})]}):null},ty=[[.1725,.0838,.0576],[.5481,.2985,.217],[.1103,.1968,.3359],[.1038,.1502,.0521],[.2244,.2177,.4302],[.1232,.519,.4044],[.7168,.199,.0271],[.065,.1063,.3924],[.5417,.0884,.1203],[.1042,.0438,.1396],[.3547,.5078,.0482],[.7805,.3541,.0215],[.0234,.0492,.2916],[.0653,.3019,.0645],[.4294,.0319,.0402],[.8568,.5754,.0079],[.5032,.0889,.3055],[0,.249,.383],[.9163,.9155,.8705],[.5819,.5911,.5839],[.3552,.361,.359],[.1876,.1924,.1917],[.0871,.0901,.0908],[.0321,.0319,.0326]],lJ=[[3.2404542,-1.5371385,-.4985314],[-.969266,1.8760108,.041556],[.0556434,-.2040259,1.0572252]];function cJ(e,t,r,n,a,o,i=.5){const c=[],d=Math.max(.1,Math.min(.9,i)),f=Math.hypot(t.x-e.x,t.y-e.y),h=Math.hypot(n.x-r.x,n.y-r.y),p=Math.hypot(r.x-e.x,r.y-e.y),m=Math.hypot(n.x-t.x,n.y-t.y),v=(f+h)/2/5,k=(p+m)/2/3,y=v*d,g=k*d;for(let x=0;x<4;x++)for(let j=0;j<6;j++){const b=j/5,w=x/3,N=(1-b)*(1-w)*e.x+b*(1-w)*t.x+(1-b)*w*r.x+b*w*n.x,_=(1-b)*(1-w)*e.y+b*(1-w)*t.y+(1-b)*w*r.y+b*w*n.y;c.push({x:N-y/2,y:_-g/2,w:y,h:g})}return c}function pP(e){e.length;const t=e[0].length;return Array(t).fill(0).map((r,n)=>e.map(a=>a[n]))}function Uf(e,t){const r=e.length,n=e[0].length,a=t.length,o=t[0].length;if(n!==a)throw new Error("Matrix dimensions mismatch");const i=Array(r).fill(0).map(()=>Array(o).fill(0));for(let s=0;s<r;s++)for(let l=0;l<o;l++)for(let c=0;c<n;c++)i[s][l]+=e[s][c]*t[c][l];return i}function uJ(e,t){const r=pP(e),n=Uf(r,e);for(let c=0;c<3;c++)n[c][c]+=1e-9;const a=[[n[0][0],n[0][1],n[0][2]],[n[1][0],n[1][1],n[1][2]],[n[2][0],n[2][1],n[2][2]]],o=dP(a);if(!o)throw new Error("Singular Matrix (Check Input Data)");const i=[[o[0][0],o[0][1],o[0][2]],[o[1][0],o[1][1],o[1][2]],[o[2][0],o[2][1],o[2][2]]],s=Uf(r,t);return Uf(i,s)}function fJ(e){const t=e.length,r=e.map((n,a)=>[...n,...Array(t).fill(0).map((o,i)=>a===i?1:0)]);for(let n=0;n<t;n++){let a=n;for(let s=n+1;s<t;s++)Math.abs(r[s][n])>Math.abs(r[a][n])&&(a=s);const o=r[n];r[n]=r[a],r[a]=o;const i=r[n][n];if(Math.abs(i)<1e-12)throw new Error("Singular Matrix");for(let s=n;s<2*t;s++)r[n][s]/=i;for(let s=0;s<t;s++)if(s!==n){const l=r[s][n];for(let c=n;c<2*t;c++)r[s][c]-=l*r[n][c]}}return r.map(n=>n.slice(t))}function dJ(e,t,r){const n=[...e].sort((v,k)=>v.id-k.id);if(n.length!==24)throw new Error("Requires exactly 24 patches");const a=[];n.forEach(v=>{const k=v.rawMeans,y=[k[0]-t[0],k[1]-t[1],k[2]-t[2],k[3]-t[3]];let g,x,j;r?(j=y[0],x=(y[1]+y[2])/2,g=y[3]):(g=y[0],x=(y[1]+y[2])/2,j=y[3]),g=Math.max(0,g),x=Math.max(0,x),j=Math.max(0,j),a.push([g,x,j])});const i=a[18],s=(i[0]+i[1]+i[2])/3,l=1/Math.max(1e-9,s),c=a.map(v=>[v[0]*l,v[1]*l,v[2]*l]),f=uJ(c,ty),h=pP(f);let p;try{p=fJ(h)}catch{throw new Error("CCM Inversion Failed. Input data might be too dark or clipped.")}return{matrix:Uf(p,lJ)}}const hJ=({isOpen:e,onClose:t,patchStats:r,initialIsBGGR:n,zIndex:a=200,sizeRatio:o,onSizeChange:i})=>{const[s,l]=S.useState(n),[c,d]=S.useState(["0","0","0","0"]),[f,h]=S.useState(null),[p,m]=S.useState(null);if(S.useEffect(()=>{if(e&&r&&r.length===24){const w=r[23].rawMeans;c[0]==="0"&&c[1]==="0"&&d([w[0].toFixed(2),w[1].toFixed(2),w[2].toFixed(2),w[3].toFixed(2)])}},[e,r]),S.useEffect(()=>{if(!e||!r||r.length!==24)return;const b=c.map(w=>parseFloat(w));if(!b.some(isNaN))try{const w=dJ(r,b,s);h(w),m(null)}catch(w){m(w.message)}},[e,r,s,c]),!e)return null;const v=(b,w)=>{d(N=>{const _=[...N];return _[b]=w,_})},k=b=>{navigator.clipboard.writeText(b)},y=b=>b?b.map(w=>w.map(N=>N.toFixed(4))):[],g=f?y(f.matrix).flat().join(" "):"",x=s?["B","G1","G2","R"]:["R","G1","G2","B"],j=s?["text-blue-500","text-green-500","text-green-500","text-red-500"]:["text-red-500","text-green-500","text-green-500","text-blue-500"];return u.jsxs(Fu,{initialPosition:{x:window.innerWidth/2-200,y:100},onClose:t,zIndex:a,className:"w-[500px] bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 flex flex-col shadow-2xl rounded-xl overflow-hidden",children:[u.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800",children:[u.jsxs("h3",{className:"text-sm font-bold text-gray-800 dark:text-slate-100 flex items-center gap-2",children:[u.jsx("span",{className:"w-2 h-2 rounded-full bg-yellow-500"}),"Color Lab Result"]}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"p-5 flex flex-col gap-5",children:[u.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700",children:[u.jsxs("div",{className:"flex justify-between items-center mb-1",children:[u.jsx("span",{className:"text-[10px] font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Patch Sampling Size"}),u.jsxs("span",{className:"text-xs font-mono font-bold text-cyan-600 dark:text-cyan-400",children:[Math.round(o*100),"%"]})]}),u.jsx("input",{type:"range",min:"0.1",max:"0.9",step:"0.05",value:o,onChange:b=>i(parseFloat(b.target.value)),className:"w-full h-1.5 bg-gray-300 dark:bg-slate-600 rounded-lg appearance-none cursor-pointer accent-cyan-500"})]}),u.jsx("div",{className:"flex justify-center",children:u.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-800 p-1 rounded-lg border border-gray-200 dark:border-slate-700",children:[u.jsx("button",{onClick:()=>l(!1),className:`px-4 py-1.5 text-xs font-bold rounded transition-all ${s?"text-gray-500 dark:text-slate-400 hover:text-gray-700":"bg-white dark:bg-slate-600 text-indigo-600 dark:text-indigo-300 shadow-sm"}`,children:"RGGB Mode"}),u.jsx("button",{onClick:()=>l(!0),className:`px-4 py-1.5 text-xs font-bold rounded transition-all ${s?"bg-white dark:bg-slate-600 text-indigo-600 dark:text-indigo-300 shadow-sm":"text-gray-500 dark:text-slate-400 hover:text-gray-700"}`,children:"BGGR Mode"})]})}),u.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800/50 p-3 rounded-lg border border-gray-100 dark:border-slate-700",children:[u.jsx("h4",{className:"text-[10px] font-bold text-gray-400 dark:text-slate-500 uppercase mb-2",children:"Input Black Levels ()"}),u.jsx("div",{className:"grid grid-cols-4 gap-2",children:[0,1,2,3].map(b=>u.jsxs("div",{className:"flex flex-col",children:[u.jsx("label",{className:`text-[10px] font-bold mb-1 ${j[b]}`,children:x[b]}),u.jsx("input",{type:"number",step:"0.01",value:c[b],onChange:w=>v(b,w.target.value),className:"w-full px-2 py-1 text-sm font-mono border border-gray-300 dark:border-slate-600 rounded bg-white dark:bg-slate-900 text-gray-900 dark:text-slate-100 outline-none focus:ring-1 focus:ring-yellow-500"})]},b))})]}),p?u.jsx("div",{className:"text-red-500 text-sm text-center bg-red-50 dark:bg-red-900/20 p-2 rounded",children:p}):f?u.jsx(u.Fragment,{children:u.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800/50 p-3 rounded-lg border border-gray-100 dark:border-slate-700",children:[u.jsx("h4",{className:"text-[10px] font-bold text-gray-400 dark:text-slate-500 uppercase mb-2",children:"Calculated Color Matrix (XYZ  Camera RGB)"}),u.jsx("div",{className:"font-mono text-xs text-gray-700 dark:text-slate-300 grid grid-rows-3 gap-1 mb-3",children:y(f.matrix).map((b,w)=>u.jsxs("div",{className:"flex justify-between bg-white dark:bg-slate-900 px-2 py-1 rounded",children:[u.jsx("span",{className:"text-red-500/80 w-1/3 text-right",children:b[0]}),u.jsx("span",{className:"text-green-500/80 w-1/3 text-right",children:b[1]}),u.jsx("span",{className:"text-blue-500/80 w-1/3 text-right",children:b[2]})]},w))}),u.jsx("button",{onClick:()=>k(g),className:"w-full py-1.5 bg-indigo-600 hover:bg-indigo-500 text-white text-xs font-bold rounded shadow transition-transform active:scale-95 flex items-center justify-center gap-2",children:"Copy Matrix String (for customMatrix)"})]})}):u.jsx("div",{className:"text-gray-400 text-sm text-center",children:"Calculating..."})]})]})},Su=.25;function pJ(e,t){const r=e.length;let n=0,a=0,o=0,i=0;for(let l=0;l<r;l++)n+=e[l],a+=t[l],o+=e[l]*t[l],i+=e[l]*e[l];const s=r*i-n*n;return{slope:(r*o-n*a)/s,intercept:(a*i-n*o)/s}}function gJ(e){const t=e.length,r=new Array(t).fill(0),n=[22,-67,-58,0,58,67,-22],a=252*Su;for(let o=0;o<t;o++){let i=0;for(let s=0;s<7;s++){let l=o-3+s;l<0&&(l=0),l>=t&&(l=t-1),i+=e[l]*n[s]}r[o]=i/a}return r}function gk(e,t,r,n){const a=Math.floor(n.x),o=Math.floor(n.y),i=Math.floor(n.w),s=Math.floor(n.h);if(i<8||s<8)return null;let l=[];for(let A=0;A<s;A++){const E=[],D=(o+A)*t;for(let G=0;G<i;G++)E.push(e[D+a+G]);l.push(E)}let c=0,d=0;for(let A=1;A<s-1;A+=2)for(let E=1;E<i-1;E+=2)c+=Math.abs(l[A][E+1]-l[A][E-1]),d+=Math.abs(l[A+1][E]-l[A-1][E]);let f=i,h=s,p=l;if(d>c){p=Array(i).fill(0).map(()=>Array(s).fill(0));for(let A=0;A<s;A++)for(let E=0;E<i;E++)p[E][s-1-A]=l[A][E];f=s,h=i}const m=[],v=[];for(let A=0;A<h;A++){const E=p[A],D=E.map((K,L)=>L===0?0:Math.abs(K-E[L-1])),G=Math.max(...D),Z=D.indexOf(G);if(G>1){const K=Math.max(0,Z-3),L=Math.min(f,Z+4);let te=0,Q=0;for(let R=K;R<L;R++)te+=D[R],Q+=R*D[R];te>0&&(m.push(Q/te),v.push(A))}}if(m.length<h*.4)return null;const{slope:k,intercept:y}=pJ(v,m),g=Math.cos(Math.atan(k)),x=[],j=[];for(let A=0;A<h;A++){const E=k*A+y;for(let D=0;D<f;D++)x.push((D-E)*g),j.push(p[A][D])}const b=Array.from(x.keys()).sort((A,E)=>x[A]-x[E]),w=b.map(A=>x[A]),N=b.map(A=>j[A]),_=w[0],O=w[w.length-1],P=Math.floor((O-_)/Su),M=new Array(P).fill(0),C=new Array(P).fill(0);for(let A=0;A<w.length;A++){const E=Math.floor((w[A]-_)/Su);E>=0&&E<P&&(M[E]+=N[A],C[E]++)}let $=N[0];for(let A=0;A<P;A++)C[A]>0?(M[A]/=C[A],$=M[A]):M[A]=$;const F=M.slice(0,10).reduce((A,E)=>A+E,0)/10,T=M.slice(-10).reduce((A,E)=>A+E,0)/10;if(F>T){const A=Math.max(...M),E=Math.min(...M);for(let D=0;D<M.length;D++)M[D]=A-M[D]+E}const U=gJ(M);return{esf:M,lsfFull:U}}function mJ(e,t,r){if(e.length===0)return null;const n=4096,a=new Ki(n),o=Math.round(t/Su),i=r?1e3/r:1,s=new Float32Array(501);for(let m=0;m<=500;m++)s[m]=m/500*i;const l=new Float32Array(501).fill(0);let c=0,d=[],f=[];for(const m of e){const v=m.lsfFull;let k=0,y=-1/0;for(let O=0;O<v.length;O++)v[O]>y&&(y=v[O],k=O);const g=Math.max(0,k-o),x=Math.min(v.length,k+o),j=v.slice(g,x);if(j.length<8)continue;d.length===0&&(d=j,f=m.esf);const b=new Float32Array(n).fill(0);for(let O=0;O<j.length;O++){const P=.54-.46*Math.cos(2*Math.PI*O/(j.length-1));b[O]=j[O]*P}a.transform(b);const w=[],N=[];for(let O=0;O<=n/2;O++){const P=Math.sqrt(a._real[O]**2+a._imag[O]**2);w.push(P),N.push(O/(n*Su)*i)}const _=w[0];if(_>0){for(let O=0;O<=500;O++){const P=s[O];l[O]+=yJ(P,N,w)/_}c++}}if(c===0)return null;const h=Array.from(l).map(m=>m/c);let p=null;for(let m=0;m<h.length-1;m++)if(h[m]>=.5&&h[m+1]<.5){p=s[m]+(.5-h[m])*(s[m+1]-s[m])/(h[m+1]-h[m]);break}return{esf:f,lsf:[],lsfCropped:d,mtf:h,freqs:Array.from(s),mtf50:p}}function yJ(e,t,r){if(e<=t[0])return r[0];if(e>=t[t.length-1])return r[r.length-1];let n=0;for(;e>t[n+1];)n++;const a=(e-t[n])/(t[n+1]-t[n]);return r[n]+a*(r[n+1]-r[n])}const vJ=({isOpen:e,onClose:t,rawImageData:r,roi:n,zIndex:a=110,onFocus:o,displaySettings:i})=>{const[s,l]=S.useState([]),[c,d]=S.useState(""),[f,h]=S.useState(""),[p,m]=S.useState(12),[v,k]=S.useState(1),[y,g]=S.useState(null),[x,j]=S.useState({x:100,y:50}),[b,w]=S.useState({w:1e3,h:800}),[N,_]=S.useState(!1),[O,P]=S.useState(!1),M=S.useRef({x:0,y:0}),C=S.useRef({w:0,h:0}),$=()=>{if(!(!r||!n))try{let L;if((i==null?void 0:i.renderMode)==="advanced-zero-dep"&&i.advancedZeroDep){const te=hP(r,n,i);L=gk(te.data,te.width,te.height,{x:0,y:0,w:te.width,h:te.height})}else L=gk(r.data,r.width,r.height,n);L?l(te=>[...te,L]):alert("Could not detect valid edge in selection. Make sure it contains a transition.")}catch(L){console.error(L),alert("Error processing ROI")}},F=()=>{l([]),g(null),k(1)},T=()=>{if(!y)return;const L=parseFloat(c),R=`data:text/csv;charset=utf-8,Frequency (${!isNaN(L)&&L>0?"lp/mm":"cy/px"}),MTF
`+y.freqs.map((Y,oe)=>`${Y.toFixed(6)},${y.mtf[oe].toFixed(6)}`).join(`
`),ae=encodeURI(R),fe=document.createElement("a");fe.setAttribute("href",ae),fe.setAttribute("download",`sfr_data_${Date.now()}.csv`),document.body.appendChild(fe),fe.click(),document.body.removeChild(fe)};S.useEffect(()=>{if(s.length===0){g(null);return}const L=parseFloat(c),te=!isNaN(L)&&L>0?L:null,Q=mJ(s,p,te);g(Q)},[s,p,c]),S.useEffect(()=>{e&&s.length===0&&n&&r&&$()},[e]);const U=L=>{o&&o(),!(L.target.closest("button")||L.target.closest("input"))&&(_(!0),M.current={x:L.clientX-x.x,y:L.clientY-x.y})},A=L=>{L.stopPropagation(),L.preventDefault(),P(!0),M.current={x:L.clientX,y:L.clientY},C.current={w:b.w,h:b.h}};S.useEffect(()=>{const L=Q=>{if(N)j({x:Q.clientX-M.current.x,y:Q.clientY-M.current.y});else if(O){const R=Q.clientX-M.current.x,ae=Q.clientY-M.current.y;w({w:Math.max(600,C.current.w+R),h:Math.max(500,C.current.h+ae)})}},te=()=>{_(!1),P(!1)};return(N||O)&&(window.addEventListener("mousemove",L),window.addEventListener("mouseup",te)),()=>{window.removeEventListener("mousemove",L),window.removeEventListener("mouseup",te)}},[N,O]);const E=S.useMemo(()=>{if(!(y!=null&&y.mtf50)||!f)return null;const L=parseFloat(f);if(isNaN(L)||L<=0)return null;let te=y.mtf50;const Q=parseFloat(c);return!isNaN(Q)&&Q>0&&(te=y.mtf50*(Q/1e3)),te*2*L},[y,f,c]);if(!e)return null;const D=y?y.lsfCropped.map((L,te)=>({x:te,y:L})):[],G=y?y.esf.map((L,te)=>({x:te,y:L})):[],Z=y?y.mtf.map((L,te)=>({freq:y.freqs[te],mtf:L})).filter(L=>L.freq<=(parseFloat(c)?200:1)):[],K=c?"lp/mm":"cy/px";return u.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl overflow-hidden",style:{left:x.x,top:x.y,width:b.w,height:b.h,zIndex:a??100},onMouseDownCapture:o,children:[u.jsxs("div",{className:`flex justify-between items-center px-4 py-2 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800 select-none ${N?"cursor-grabbing":"cursor-grab"}`,onMouseDown:U,children:[u.jsxs("h3",{className:"text-sm font-bold text-orange-600 dark:text-orange-400 flex items-center gap-2 pointer-events-none",children:["SFR Expert (Edge Method)",u.jsxs("span",{className:"text-xs bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 px-2 py-0.5 rounded border border-orange-200 dark:border-orange-800",children:[s.length," ROI",s.length!==1?"s":""]}),(i==null?void 0:i.renderMode)==="advanced-zero-dep"&&u.jsx("span",{className:"text-xs font-bold bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 px-2 py-0.5 rounded border border-indigo-200 dark:border-indigo-800 animate-pulse",children:"Linear Unmixing Active"})]}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"p-3 bg-gray-50/50 dark:bg-slate-800/30 border-b border-gray-200 dark:border-slate-700 flex items-center gap-4 flex-wrap text-xs flex-shrink-0",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"font-bold text-gray-500 dark:text-slate-400",children:"Pixel Pitch (m):"}),u.jsx("input",{type:"number",value:c,onChange:L=>d(L.target.value),placeholder:"Default (cy/px)",className:"w-20 px-2 py-1 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded outline-none focus:border-orange-500"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"font-bold text-gray-500 dark:text-slate-400",children:"Image Height:"}),u.jsx("input",{type:"number",value:f,onChange:L=>h(L.target.value),placeholder:"px",className:"w-16 px-2 py-1 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded outline-none focus:border-orange-500"})]}),u.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-[150px]",children:[u.jsxs("span",{className:"font-bold text-gray-500 dark:text-slate-400 whitespace-nowrap",children:["Radius (px): ",p.toFixed(1)]}),u.jsx("input",{type:"range",min:"2",max:"50",step:"0.5",value:p,onChange:L=>m(parseFloat(L.target.value)),className:"w-full h-1.5 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-orange-500"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:$,className:"px-3 py-1.5 bg-orange-600 hover:bg-orange-500 text-white font-bold rounded shadow-sm transition-transform active:scale-95",children:"Add Current ROI"}),u.jsx("button",{onClick:T,disabled:!y,className:"px-3 py-1.5 bg-indigo-600 hover:bg-indigo-500 disabled:bg-gray-300 disabled:text-gray-500 text-white font-bold rounded shadow-sm transition-transform active:scale-95",children:"Export CSV"}),u.jsx("button",{onClick:F,className:"px-3 py-1.5 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-600 dark:text-slate-300 font-bold rounded transition-colors",children:"Clear"})]})]}),u.jsxs("div",{className:"flex-1 p-4 overflow-hidden flex flex-col gap-4 bg-white dark:bg-slate-950",children:[u.jsxs("div",{className:"h-[35%] min-h-[180px] flex gap-4",children:[u.jsxs("div",{className:"flex-1 bg-gray-50 dark:bg-slate-900/50 border border-gray-200 dark:border-slate-800 rounded-xl p-2 relative flex flex-col",children:[u.jsx("h4",{className:"text-[10px] font-bold text-gray-500 dark:text-slate-400 absolute top-2 left-3 z-10 bg-white/80 dark:bg-slate-900/80 px-1 rounded",children:"ESF"}),u.jsx("div",{className:"flex-1 min-h-0 w-full",children:u.jsx(yo,{width:"100%",height:"100%",children:u.jsxs(Is,{data:G,children:[u.jsx(qa,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),u.jsx(zn,{dataKey:"x",hide:!0}),u.jsx(Un,{hide:!0,domain:["auto","auto"]}),u.jsx(Hr,{contentStyle:{fontSize:"10px"}}),u.jsx(Sr,{type:"monotone",dataKey:"y",stroke:"#3b82f6",strokeWidth:1,dot:!1,isAnimationActive:!1})]})})})]}),u.jsxs("div",{className:"flex-1 bg-gray-50 dark:bg-slate-900/50 border border-gray-200 dark:border-slate-800 rounded-xl p-2 relative flex flex-col",children:[u.jsxs("div",{className:"absolute top-2 left-3 z-10 flex items-center gap-3",children:[u.jsxs("h4",{className:"text-[10px] font-bold text-gray-500 dark:text-slate-400 bg-white/80 dark:bg-slate-900/80 px-1 rounded",children:["LSF ",v>1?`(x${v.toFixed(0)})`:""]}),u.jsxs("div",{className:"flex items-center gap-1 bg-white/80 dark:bg-slate-900/80 px-1 rounded border border-gray-200 dark:border-slate-700",children:[u.jsx("span",{className:"text-[9px] text-gray-400 font-bold",children:"Zoom"}),u.jsx("input",{type:"range",min:"1",max:"50",step:"1",value:v,onChange:L=>k(parseFloat(L.target.value)),className:"w-16 h-1 bg-gray-300 dark:bg-slate-600 rounded-lg appearance-none cursor-pointer accent-red-500",title:"Vertical Zoom to observe noise floor"})]})]}),u.jsx("div",{className:"flex-1 min-h-0 w-full",children:u.jsx(yo,{width:"100%",height:"100%",children:u.jsxs(Is,{data:D,children:[u.jsx(qa,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),u.jsx(Go,{y:0,stroke:"#9ca3af",strokeOpacity:.5,strokeDasharray:"3 3"}),u.jsx(zn,{dataKey:"x",hide:!0}),u.jsx(Un,{hide:!1,width:30,tick:{fontSize:9,fill:"#888"},domain:[L=>L,L=>L/v],allowDataOverflow:!0,tickFormatter:L=>L.toFixed(3)}),u.jsx(Hr,{contentStyle:{fontSize:"10px"},formatter:L=>[L.toFixed(5),"Amplitude"]}),u.jsx(Sr,{type:"monotone",dataKey:"y",stroke:"#ef4444",strokeWidth:2,dot:!1,isAnimationActive:!1})]})})})]})]}),u.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-800 rounded-xl p-2 relative flex flex-col min-h-[250px]",children:[u.jsxs("div",{className:"flex justify-between items-start px-2 mb-1",children:[u.jsx("h4",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"MTF / Spatial Frequency Response"}),u.jsxs("div",{className:"flex gap-4 items-center",children:[(y==null?void 0:y.mtf50)&&u.jsxs("div",{className:"text-sm font-bold text-gray-600 dark:text-slate-300",children:["MTF50 = ",u.jsxs("span",{className:"text-orange-600 dark:text-orange-400",children:[y.mtf50.toFixed(2)," ",K]})]}),E!==null&&u.jsxs("div",{className:"text-lg font-bold text-white bg-orange-500 px-3 py-0.5 rounded shadow-lg animate-in fade-in",children:[Math.round(E)," LW/PH"]})]})]}),u.jsxs("div",{className:"flex-1 relative min-h-0 w-full",children:[u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 pointer-events-none select-none opacity-10",children:u.jsx("svg",{viewBox:"0 0 400 60",className:"w-[40rem] h-auto",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"24",fontWeight:"bold",children:" y-g-jiang.github.io"})})}),u.jsx(yo,{width:"100%",height:"100%",children:u.jsxs(Is,{data:Z,margin:{top:10,right:30,left:10,bottom:20},children:[u.jsx(qa,{strokeDasharray:"3 3",stroke:"#374151",opacity:.15}),u.jsx(zn,{dataKey:"freq",type:"number",tick:{fontSize:10,fill:"#9ca3af"},label:{value:`Frequency (${K})`,position:"insideBottom",offset:-10,fontSize:11,fill:"#9ca3af"}}),u.jsx(Un,{domain:[0,1.1],tick:{fontSize:10,fill:"#9ca3af"},label:{value:"MTF",angle:-90,position:"insideLeft",fontSize:11,fill:"#9ca3af"}}),u.jsx(Hr,{contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.9)",border:"none",color:"#fff",fontSize:"11px",borderRadius:"4px"},labelFormatter:L=>`Freq: ${Number(L).toFixed(3)}`,formatter:L=>[L.toFixed(4),"MTF"]}),u.jsx(Va,{verticalAlign:"top",height:20}),u.jsx(Sr,{type:"monotone",dataKey:"mtf",name:"SFR",stroke:"#000000",strokeWidth:2,className:"dark:stroke-white",dot:!1,isAnimationActive:!1}),(y==null?void 0:y.mtf50)&&u.jsx(Lu,{x:y.mtf50,y:.5,r:4,fill:"#f97316",stroke:"none",children:u.jsx(Zr,{value:"MTF50",position:"top",fill:"#f97316",fontSize:10,fontWeight:"bold"})})]})})]})]})]}),u.jsx("div",{className:"absolute bottom-0 right-0 w-4 h-4 cursor-nwse-resize z-50 bg-gray-300 dark:bg-slate-600 rounded-tl hover:bg-orange-500 transition-colors",onMouseDown:A})]})};function xJ(e,t,r,n=3){const o=r.byteLength,i=8,s=i+o,l=[{id:256,type:4,count:1,value:e},{id:257,type:4,count:1,value:t},{id:258,type:3,count:n,value:n===1?16:[16,16,16]},{id:259,type:3,count:1,value:1},{id:262,type:3,count:1,value:n===1?1:2},{id:273,type:4,count:1,value:i},{id:277,type:3,count:1,value:n},{id:278,type:4,count:1,value:t},{id:279,type:4,count:1,value:o}],c=2+l.length*12+4;let d=0;const f=l.map(g=>{let x=g.type===3?2:4;const j=g.count*x,b=j<=4;let w=0;return b||(w=d,d+=j),{...g,fits:b,totalBytes:j,extraOffset:w}}),h=s+c+d,p=new ArrayBuffer(h),m=new DataView(p),v=new Uint8Array(p);m.setUint16(0,18761,!0),m.setUint16(2,42,!0),m.setUint32(4,s,!0),v.set(new Uint8Array(r.buffer,r.byteOffset,r.byteLength),i);let k=s;m.setUint16(k,l.length,!0),k+=2;const y=s+c;return f.forEach(g=>{if(m.setUint16(k,g.id,!0),m.setUint16(k+2,g.type,!0),m.setUint32(k+4,g.count,!0),g.fits)Array.isArray(g.value)||(g.type===3?m.setUint16(k+8,g.value,!0):m.setUint32(k+8,g.value,!0));else{const x=y+g.extraOffset;m.setUint32(k+8,x,!0),Array.isArray(g.value)&&g.value.forEach((j,b)=>{m.setUint16(x+b*2,j,!0)})}k+=12}),m.setUint32(k,0,!0),p}const bJ="http://localhost:5428",wJ=(e=!1)=>{const[t,r]=S.useState({isConnected:!1,message:"Initializing...",hasDngConverter:!1});return S.useEffect(()=>{if(e){r({isConnected:!1,message:"Bridge Paused",hasDngConverter:!1});return}const n=async()=>{try{const o=new AbortController,i=setTimeout(()=>o.abort(),1e3),s=await fetch(`${bJ}/health`,{method:"GET",signal:o.signal});if(clearTimeout(i),s.ok){const l=await s.json(),c=`Connected (${l.exiftool||"Ready"})`;r(d=>d.isConnected===!0&&d.message===c&&d.version===l.exiftool&&d.hasDngConverter===!!l.dng_converter?d:{isConnected:!0,message:c,version:l.exiftool,hasDngConverter:!!l.dng_converter})}else r(l=>l.isConnected===!1&&l.message==="Service Error"?l:{isConnected:!1,message:"Service Error",hasDngConverter:!1})}catch{r(i=>i.isConnected===!1&&i.message==="Not Detected"?i:{isConnected:!1,message:"Not Detected",hasDngConverter:!1})}};n();const a=setInterval(n,2e3);return()=>clearInterval(a)},[e]),t},kJ="JTR_BlobStore",Qa="raw_files",jJ=1,b0=()=>new Promise((e,t)=>{const r=indexedDB.open(kJ,jJ);r.onupgradeneeded=n=>{const a=n.target.result;a.objectStoreNames.contains(Qa)||a.createObjectStore(Qa)},r.onsuccess=()=>e(r.result),r.onerror=()=>t(r.error)}),mk=async(e,t)=>{const r=await b0();return new Promise((n,a)=>{const o=r.transaction(Qa,"readwrite");o.objectStore(Qa).put(t,e),o.oncomplete=()=>n(),o.onerror=()=>a(o.error)})},SJ=async e=>{const t=await b0();return new Promise((r,n)=>{const i=t.transaction(Qa,"readonly").objectStore(Qa).get(e);i.onsuccess=()=>r(i.result),i.onerror=()=>n(i.error)})},NJ=async()=>{const e=await b0();return new Promise((t,r)=>{const n=e.transaction(Qa,"readwrite");n.objectStore(Qa).clear(),n.oncomplete=()=>t(),n.onerror=()=>r(n.error)})},gP="jtr_workspace_index",_J=e=>{try{const t=JSON.stringify(e);localStorage.setItem(gP,t)}catch(t){console.error("Failed to save workspace index",t)}},OJ=()=>{try{const e=localStorage.getItem(gP);return e?JSON.parse(e):null}catch(e){return console.error("Failed to load workspace index",e),null}},PJ=async e=>{const n=(await b0()).transaction(Qa,"readwrite").objectStore(Qa),a=n.getAllKeys();a.onsuccess=()=>{a.result.forEach(i=>{e.includes(i)||n.delete(i)})}},cn=1024,yk=(e,t,r)=>{const n=e.width,a=e.height,o=new ImageData(t,r),i=e.data,s=o.data,l=n/t,c=a/r;for(let d=0;d<r;d++){const f=Math.floor(d*c),h=d*t*4,p=f*n*4;for(let m=0;m<t;m++){const k=Math.floor(m*l)*4,y=h+m*4,g=p+k;s[y]=i[g],s[y+1]=i[g+1],s[y+2]=i[g+2],s[y+3]=i[g+3]}}return o},AJ=({stats:e,onClose:t,onMinimize:r,isBGGR:n,onToggleBGGR:a,onOpenWindow:o,displaySettings:i,zIndex:s,onFocus:l,rawImageData:c})=>{if(!e)return null;const d=!!i.showKadc&&!!i.blackLevel,f=i.blackLevel||[0,0,0,0],h=!!i.subtractBlackLevelFromStats&&!!i.blackLevel,p=S.useMemo(()=>{if(!e||!c||!i.advancedZeroDep||i.renderMode!=="advanced-zero-dep")return null;try{const{x,y:j,width:b,height:w}=e,N=hP(c,{x,y:j,w:b,h:w},i),_=[0,0,0,0],O=[0,0,0,0],P=Math.floor(j),M=Math.floor(x);for(let C=0;C<N.height;C++){const $=C*N.width;for(let F=0;F<N.width;F++){const T=N.data[$+F],U=P+C,A=M+F,E=U%2,D=A%2,G=E*2+D;_[G]+=T,O[G]++}}return _.map((C,$)=>O[$]>0?C/O[$]:0)}catch(x){return console.error("Unmix calc error",x),null}},[e,c,i]),m=(x,j,b)=>{if(!d)return null;const w=j*j;return w<=1e-4?0:(x-b)/w},v=(x,j)=>h?x-f[j]:x,k=()=>{if(!h){alert(`Sub. BL
Please enable 'Sub. BL' in Tools sidebar first.`);return}let x,j,b,w;n?(w=0,j=1,b=2,x=3):(x=0,j=1,b=2,w=3);const N=O=>e.means[O]-f[O],_=O=>e.stdDevs[O];localStorage.setItem("import_signal_r",N(x).toString()),localStorage.setItem("import_signal_g1",N(j).toString()),localStorage.setItem("import_signal_g2",N(b).toString()),localStorage.setItem("import_signal_b",N(w).toString()),localStorage.setItem("import_sigma_r",_(x).toString()),localStorage.setItem("import_sigma_g1",_(j).toString()),localStorage.setItem("import_sigma_g2",_(b).toString()),localStorage.setItem("import_sigma_b",_(w).toString()),window.open("https://y-g-jiang.github.io/XJZS.html","_blank")},y=n?[{name:"B",desc:"(0,0)",mean:v(e.means[0],0),std:e.stdDevs[0],color:"text-blue-500",k:m(e.means[0],e.stdDevs[0],f[0]),unmixed:p?p[0]:null},{name:"G1",desc:"(0,1)",mean:v(e.means[1],1),std:e.stdDevs[1],color:"text-green-500",k:m(e.means[1],e.stdDevs[1],f[1]),unmixed:p?p[1]:null},{name:"G2",desc:"(1,0)",mean:v(e.means[2],2),std:e.stdDevs[2],color:"text-green-500",k:m(e.means[2],e.stdDevs[2],f[2]),unmixed:p?p[2]:null},{name:"R",desc:"(1,1)",mean:v(e.means[3],3),std:e.stdDevs[3],color:"text-red-500",k:m(e.means[3],e.stdDevs[3],f[3]),unmixed:p?p[3]:null}]:[{name:"R",desc:"(0,0)",mean:v(e.means[0],0),std:e.stdDevs[0],color:"text-red-500",k:m(e.means[0],e.stdDevs[0],f[0]),unmixed:p?p[0]:null},{name:"G1",desc:"(0,1)",mean:v(e.means[1],1),std:e.stdDevs[1],color:"text-green-500",k:m(e.means[1],e.stdDevs[1],f[1]),unmixed:p?p[1]:null},{name:"G2",desc:"(1,0)",mean:v(e.means[2],2),std:e.stdDevs[2],color:"text-green-500",k:m(e.means[2],e.stdDevs[2],f[2]),unmixed:p?p[2]:null},{name:"B",desc:"(1,1)",mean:v(e.means[3],3),std:e.stdDevs[3],color:"text-blue-500",k:m(e.means[3],e.stdDevs[3],f[3]),unmixed:p?p[3]:null}],g=p?"w-96":d?"w-80":"w-60";return u.jsxs(Fu,{className:`${g} p-0 overflow-hidden transition-all duration-300 bg-white dark:bg-black border-2 border-black dark:border-white shadow-[4px_4px_0px_rgba(0,0,0,0.5)] dark:shadow-[4px_4px_0px_rgba(255,255,255,0.2)]`,onClose:t,zIndex:s,onFocus:l,initialPosition:{x:20,y:80},children:[u.jsxs("div",{className:"flex justify-between items-center px-3 py-2 border-b border-gray-100 dark:border-slate-800 bg-gray-50/50 dark:bg-slate-800/50 select-none",children:[u.jsxs("h3",{className:"text-xs font-bold text-gray-700 dark:text-slate-300 uppercase tracking-wider flex items-center gap-2",children:["ROI Analysis",u.jsxs("span",{className:"text-[10px] font-normal text-gray-400 bg-gray-200 dark:bg-slate-700 px-1.5 py-0.5 rounded",children:[Math.round(e.width),"",Math.round(e.height)]})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 transition-colors p-1 rounded-md hover:bg-gray-200 dark:hover:bg-slate-700 relative z-20",children:u.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 transition-colors p-1 rounded-md hover:bg-gray-200 dark:hover:bg-slate-700 relative z-20",children:u.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsxs("div",{className:"p-3",children:[u.jsxs("div",{className:"flex justify-between items-center mb-3",children:[u.jsxs("div",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono leading-tight",children:["X: ",Math.round(e.x),u.jsx("br",{}),"Y: ",Math.round(e.y)]}),u.jsx("button",{onClick:()=>a(!n),className:"text-[10px] font-bold px-2 py-1 rounded bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 text-gray-600 dark:text-slate-300 transition-colors border border-gray-200 dark:border-slate-700 relative z-20",title:"Toggle Bayer Pattern Interpretation",children:n?"BGGR":"RGGB"})]}),u.jsxs("table",{className:"w-full mb-3",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-[10px] text-gray-400 dark:text-slate-500 border-b border-gray-100 dark:border-slate-800",children:[u.jsx("th",{className:"text-left pb-1 font-medium",children:"Ch"}),u.jsxs("th",{className:"text-right pb-1 font-medium",children:["Mean",h?"*":""]}),u.jsx("th",{className:"text-right pb-1 font-medium",children:"Std()"}),d&&u.jsx("th",{className:"text-right pb-1 font-medium text-cyan-600 dark:text-cyan-400",children:"K"}),p&&u.jsx("th",{className:"text-right pb-1 font-medium text-indigo-600 dark:text-indigo-400",children:"Unmix"})]})}),u.jsx("tbody",{className:"font-mono text-xs",children:y.map((x,j)=>u.jsxs("tr",{className:"group hover:bg-gray-50 dark:hover:bg-slate-800/30 transition-colors",children:[u.jsxs("td",{className:"py-1",children:[u.jsx("span",{className:`font-bold ${x.color}`,children:x.name}),u.jsx("span",{className:"text-[9px] text-gray-300 dark:text-slate-600 ml-1 hidden group-hover:inline",children:x.desc})]}),u.jsx("td",{className:"py-1 text-right text-gray-700 dark:text-slate-200 font-semibold",title:h?"Mean minus Black Level":"Raw Mean",children:x.mean.toFixed(2)}),u.jsx("td",{className:"py-1 text-right text-gray-500 dark:text-slate-400",children:x.std.toFixed(2)}),d&&u.jsx("td",{className:"py-1 text-right text-cyan-600 dark:text-cyan-400 font-bold",children:x.k!==null?x.k.toFixed(3):"-"}),p&&u.jsx("td",{className:"py-1 text-right text-indigo-600 dark:text-indigo-400 font-bold",children:x.unmixed!==null?x.unmixed.toFixed(1):"-"})]},j))})]}),h&&u.jsx("div",{className:"mb-2 text-[9px] text-gray-400 dark:text-slate-500 text-right italic",children:"* Mean adjusted by Black Level"}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx("button",{onClick:()=>o("histogram"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-cyan-600 hover:bg-cyan-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Histogram",children:"Hist"}),u.jsx("button",{onClick:()=>o("quant"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-teal-600 hover:bg-teal-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Quantization Steps",children:"Quant"}),u.jsx("button",{onClick:()=>o("fft"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-purple-600 hover:bg-purple-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Power Spectrum (FFT)",children:"FFT"}),u.jsx("button",{onClick:()=>o("pearson"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-indigo-600 hover:bg-indigo-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"Pearson Correlation Analysis",children:"PCC"}),u.jsx("button",{onClick:k,className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-pink-600 hover:bg-pink-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"Color Noise Analysis (External Tool)",children:"ColorN"})]})]})]})},MJ=()=>{var ox;const[e,t]=S.useState(!0),[r,n]=S.useState("Initializing..."),a=S.useRef(!1),[o,i]=S.useState("dark");S.useEffect(()=>{const W=window.document.documentElement;W.classList.remove(o==="dark"?"light":"dark"),W.classList.add(o)},[o]);const[s,l]=S.useState(!1),[c,d]=S.useState(!1),[f,h]=S.useState(!1),p=wJ(s||c||f),[m,v]=S.useState(!1),[k,y]=S.useState([]),[g,x]=S.useState(-1),[j,b]=S.useState([]),w=S.useMemo(()=>k[g],[k,g]),N=S.useRef(null);S.useEffect(()=>{N.current=w||null},[w]);const _=(w==null?void 0:w.file)||null,O=(w==null?void 0:w.imageElement)||null,P=(w==null?void 0:w.rawImageData)||null,M=(w==null?void 0:w.rawFileBuffer)||null,C=(w==null?void 0:w.renderedRawImageData)||null,$=(w==null?void 0:w.referenceImageData)||null,F=(w==null?void 0:w.sampledImageData)||null,T=(w==null?void 0:w.exifData)||null,U=(w==null?void 0:w.isThreePlane)||!1,A=(w==null?void 0:w.xtransPhase)||{x:0,y:0},E=(w==null?void 0:w.displaySettings)||{exposure:0,demosaicMethod:3,blackLevel:void 0,wbGains:[1,1],showKadc:!0,subtractBlackLevelFromStats:!0},[D,G]=S.useState(!1),[Z,K]=S.useState(null),[L,te]=S.useState(!1),[Q,R]=S.useState(!1),[ae,fe]=S.useState(null),[Y,oe]=S.useState([]),[pe,H]=S.useState(100),[ie,se]=S.useState(!0),[je,Re]=S.useState(!1),[Le,pt]=S.useState(null),[Dt,Me]=S.useState(!1),[He,gt]=S.useState(!1),[Wt,_r]=S.useState(!1),[Mt,ka]=S.useState(!1),[ft,Or]=S.useState(!1),[hr,Jt]=S.useState(!1),[pr,mt]=S.useState(!1),[De,yt]=S.useState(!1),[Ot,gr]=S.useState(!1),[pn,Pn]=S.useState({x:0,y:0}),[er,An]=S.useState(!1),[Ve,tr]=S.useState(!1),[or,Pr]=S.useState([]),[tn,Ar]=S.useState(0),[Mn,Gn]=S.useState(null),[Hn,rn]=S.useState(!1),[aa,nn]=S.useState([]),[Yt,ir]=S.useState(.5),[Pt,le]=S.useState(!1),[Oe,Be]=S.useState(2),[it,Xe]=S.useState(1),[vt,sr]=S.useState([]),[lr,Ie]=S.useState(null),[Ke,dt]=S.useState(0),[lt,Ct]=S.useState([]),[ge,Br]=S.useState([]),[eo,Vn]=S.useState(64),[Cn,Dl]=S.useState(10),[gn,X]=S.useState(10),[ke,kt]=S.useState(4),[Rt,En]=S.useState(1),[cr,Kr]=S.useState(0),[Tn,hi]=S.useState("processed"),[to,Xn]=S.useState(!1),ro=S.useMemo(()=>E.blackLevel?E.blackLevel:P!=null&&P.blackLevels?[P.blackLevels[0],P.blackLevels[1],P.blackLevels[2],P.blackLevels[3]]:[0,0,0,0],[E.blackLevel,P]),Fr=(T==null?void 0:T.ImageHeight)||(T==null?void 0:T.ExifImageHeight)||(P==null?void 0:P.height)||0,[La,Lt]=S.useState(null),[rs,ot]=S.useState(null),[ns,as]=S.useState({x:0,y:0}),[z,J]=S.useState(1),[re,B]=S.useState("pan"),he=S.useRef(null),Ne=S.useRef(null),Ee=S.useCallback(async()=>{if(!M||!w)return;_r(!1);const W=Mt,V=ft;ot(`Rendering 16-bit TIFF (${W?"Stretched":"Native DN"} | ${V?"sRGB":"Linear"})...`);try{const q=await UQ(M.slice(0),E,W,V),ne=xJ(q.width,q.height,q.data,q.channels),ve=new Blob([ne],{type:"image/tiff"}),me=URL.createObjectURL(ve),Ae=document.createElement("a"),_e=w.fileName||"rendered",Ce=_e.substring(0,_e.lastIndexOf("."))||_e,Se=[W?"stretch":"native",V?"srgb":"linear"].join("_");Ae.href=me,Ae.download=`${Ce}_${Se}.tif`,document.body.appendChild(Ae),Ae.click(),document.body.removeChild(Ae),URL.revokeObjectURL(me)}catch(q){Lt("TIFF Export Failed: "+q.message)}finally{ot(null)}},[M,w,E,Mt,ft]),Ze=S.useCallback(()=>{!M||!w||_r(!0)},[M,w]);S.useEffect(()=>{const W=V=>{(V.ctrlKey||V.metaKey)&&V.key.toLowerCase()==="s"&&(V.preventDefault(),Ze())};return window.addEventListener("keydown",W),()=>window.removeEventListener("keydown",W)},[Ze]),S.useEffect(()=>{(async()=>{if(a.current)return;const V=OJ();if(V&&(n("Restoring layout..."),i(V.theme),se(V.sidebarOpen),V.sessions.length>0)){n(`Restoring ${V.sessions.length} images...`);const q=[];for(const ne of V.sessions){if(a.current){console.log("Restoration cancelled.");return}await new Promise(ve=>setTimeout(ve,50));try{const ve=await SJ(ne.id);if(ve){const me={id:ne.id,fileName:ne.fileName,file:null,imageElement:null,rawImageData:null,rawFileBuffer:ve,renderedRawImageData:null,referenceImageData:null,sampledImageData:null,exifData:null,isThreePlane:ne.isThreePlane,displaySettings:ne.displaySettings,originalRawFileBuffer:null,isXTransOriginal:!1,isXTransConverted:!1,xtransPhase:{x:0,y:0}},{previewBlob:Ae,analysisData:_e}=await yi(ve);let Ce=null;_e&&(Ce=await fk(ve,ne.displaySettings));const Se=URL.createObjectURL(Ae),Te=new Image;Te.src=Se,await new Promise(rt=>{Te.onload=()=>rt()}),q.push({...me,rawImageData:_e,renderedRawImageData:Ce,previewUrl:Se,imageElement:Te,exifData:_e.metadata})}}catch(ve){console.error(`Failed to restore session ${ne.id}`,ve)}}if(a.current)return;if(y(q),V.activeSessionId){const ne=q.findIndex(ve=>ve.id===V.activeSessionId);ne>=0?x(ne):q.length>0&&x(0)}oe(V.windows)}a.current||t(!1)})()},[]);const Ye=S.useRef(null),ze=S.useCallback(()=>{e||(Ye.current&&clearTimeout(Ye.current),Ye.current=window.setTimeout(async()=>{var q;const W={version:1,timestamp:Date.now(),activeSessionId:((q=k[g])==null?void 0:q.id)||null,theme:o,sidebarOpen:ie,sessions:k.map(ne=>({id:ne.id,fileName:ne.fileName,fileType:ne.file?ne.file.type:"application/octet-stream",fileSize:ne.rawFileBuffer?ne.rawFileBuffer.byteLength:0,displaySettings:ne.displaySettings,isThreePlane:ne.isThreePlane})),windows:Y.map(ne=>({id:ne.id,type:ne.type,roi:ne.roi,zIndex:ne.zIndex,initialPosition:ne.initialPosition,sessionId:ne.sessionId,isBGGR:ne.isBGGR,isMinimized:ne.isMinimized||!1,internalState:ne.internalState}))};_J(W);const V=k.map(ne=>ne.id);PJ(V)},1e3))},[k,Y,g,o,ie,e]);S.useEffect(()=>{ze()},[ze]);const Et=S.useCallback(async()=>{a.current=!0,n("Cleaning up..."),localStorage.removeItem("jtr_workspace_index");try{await NJ()}catch(W){console.error("Failed to clear DB",W)}window.location.reload()},[]),Qe=S.useCallback(W=>{y(V=>V.map((q,ne)=>ne===g?{...q,...W}:q))},[g]),It=()=>x(W=>Math.min(W+1,k.length-1)),ur=()=>x(W=>Math.max(0,W-1));S.useEffect(()=>{if(P&&Z){const W=vi(P.data,P.width,P.height,Z.x,Z.y,Z.width,Z.height);K(W)}},[P]);const ce=W=>{if(!Z||!w)return;const V=Date.now().toString()+Math.random().toString().slice(2,5),q=Math.max(pe,...Y.map(me=>me.zIndex),100),ne=Y.length%10*30,ve=W==="fft"?{x:50,y:50}:W==="histogram"?{x:100,y:100}:{x:150,y:150};oe(me=>[...me,{id:V,type:W,roi:{x:Z.x,y:Z.y,w:Z.width,h:Z.height},zIndex:q+1,initialPosition:{x:ve.x+ne,y:ve.y+ne},sessionId:w.id,isBGGR:L,isMinimized:!1,stackFiles:(W==="fft"||W==="pearson")&&j.length>0?j:void 0}])},qe=W=>{oe(V=>V.filter(q=>q.id!==W))},Pe=W=>{oe(V=>V.map(q=>q.id===W?{...q,isMinimized:!0}:q))},Bt=W=>{oe(V=>V.map(q=>q.id===W?{...q,isMinimized:!1}:q)),xt(W)},xt=W=>{oe(V=>{const q=Math.max(pe,...V.map(ne=>ne.zIndex));return V.map(ne=>ne.id===W?{...ne,zIndex:q+1}:ne)})},mn=(W,V)=>{oe(q=>q.map(ne=>ne.id===W?{...ne,internalState:{...ne.internalState,...V}}:ne))},ct=()=>{const W=Math.max(pe,...Y.map(V=>V.zIndex));H(W+1)},br=(W,V)=>{oe(q=>q.map(ne=>ne.id===W?{...ne,roi:V}:ne))};S.useEffect(()=>{if(!T)return;const W=T.CFAPattern2||T.CFAPattern;if(W){let V="";Array.isArray(W)?V=W.join(""):typeof W=="string"?V=W.replace(/[\s,]+/g,""):typeof W=="number"&&(V=String(W)),V==="0112"?te(!1):V==="2110"&&te(!0)}},[T]),S.useEffect(()=>{let W;const V=()=>{if(Pt&&Ot){const q=Date.now()/1e3,ne=.55+.45*Math.sin(q*Oe);Xe(ne),W=requestAnimationFrame(V)}else Xe(1)};return Pt&&Ot?V():Xe(1),()=>{W&&cancelAnimationFrame(W)}},[Pt,Ot,Oe]),S.useEffect(()=>{const W=V=>{V.key==="Escape"&&Ot&&(gr(!1),Pn({x:0,y:0}),le(!1))};return window.addEventListener("keydown",W),()=>window.removeEventListener("keydown",W)},[Ot]),S.useEffect(()=>()=>{k.forEach(W=>{W.previewUrl&&URL.revokeObjectURL(W.previewUrl)}),Ne.current&&Ne.current.terminate()},[]);const Mr=async(W,V=!0)=>{V&&(as({x:0,y:0}),J(1),dt(0),Ct([]),Br([]),Re(!1),pt(null),G(!1),tr(!1),Pr([]),nn([]),Ar(0));let q=null;if(p.isConnected){const _e=new FormData;_e.append("file",W);try{const Se=await(await fetch("http://localhost:5428/read",{method:"POST",body:_e})).json();if(Se.success){let Te=Se.data;Array.isArray(Te)&&Te.length===1&&(Te=Te[0]),q=Te}}catch(Ce){console.warn("Auto Exif fetch failed",Ce)}}const ne=W.name.toLowerCase().match(/\.(arw|cr2|cr3|dng|nef|orf|raf|rw2|pef|srw|sr2|srf|x3f|erf|mef|mos|mrw|kdc|dcr|iiq|3fr|fff|rwl|nrw|raw|tif|tiff)$/);if(!(["image/jpeg","image/png","image/tiff","image/x-adobe-dng"].includes(W.type)||ne)){Lt("Unsupported file type. Please load a JPG, PNG, or a supported RAW file.");return}let me={file:W,exifData:q};if(ne||W.type==="image/x-adobe-dng")try{V?ot("Processing RAW file (this may take a moment)..."):Xn(!0);const _e=await W.arrayBuffer();me.rawFileBuffer=_e;const{previewBlob:Ce,analysisData:Se}=await yi(_e);me.rawImageData=Se,me.isThreePlane=Se.isThreePlane||!1,Se.isThreePlane&&V&&G(!0);let Te=!1,rt=null,jt=!1;if(Se.isXTrans){jt=!0,rt=_e;const an=(await Pf(_e,0,0)).dngBuffer,mr=await yi(an);me.rawFileBuffer=an,me.rawImageData=mr.analysisData,me.previewUrl=URL.createObjectURL(mr.previewBlob),Te=!0}else me.previewUrl=URL.createObjectURL(Ce);me.originalRawFileBuffer=rt,me.isXTransOriginal=jt,me.isXTransConverted=Te,me.xtransPhase={x:0,y:0};const Ft=new Image;Ft.src=me.previewUrl||"",await new Promise((zr,an)=>{Ft.onload=()=>{me.imageElement=Ft,zr()},Ft.onerror=()=>{zr()}})}catch(_e){Lt(`Failed to process RAW file: ${_e.message}`),ot(null),Xn(!1);return}else try{ot("Processing image...");const{previewBlob:_e,analysisData:Ce}=await DQ(W);me.rawImageData=Ce,me.rawFileBuffer=await W.arrayBuffer(),me.isThreePlane=Ce.isThreePlane||!1,me.isXTransOriginal=!1,me.isXTransConverted=!1,me.originalRawFileBuffer=null;const Se=URL.createObjectURL(_e);me.previewUrl=Se;const Te=new Image;Te.src=Se,await new Promise(rt=>{Te.onload=()=>{me.imageElement=Te,rt()},Te.onerror=()=>{Lt("Could not load the image file."),rt()}})}catch(_e){Lt(`Failed to process image: ${_e.message}`),ot(null);return}const Ae=Date.now().toString()+Math.random();if(me.rawFileBuffer&&await mk(Ae,me.rawFileBuffer),V){const _e={exposure:0,demosaicMethod:3,blackLevel:void 0,wbGains:[1,1],showKadc:!0,subtractBlackLevelFromStats:!0},Ce={id:Ae,fileName:W.name,file:W,imageElement:null,rawImageData:null,rawFileBuffer:null,renderedRawImageData:null,referenceImageData:null,sampledImageData:null,exifData:null,isThreePlane:!1,displaySettings:_e,originalRawFileBuffer:null,isXTransOriginal:!1,isXTransConverted:!1,xtransPhase:{x:0,y:0},...me};y(Se=>{const Te=[...Se,Ce];return x(Te.length-1),Te})}else Qe(me);ot(null),Xn(!1)},no=async W=>{ot("Converting to DNG...");try{const V=new FormData;V.append("file",W);const q=await fetch("http://localhost:5428/convert_dng",{method:"POST",body:V}),ne=q.headers.get("content-type")||"";if(q.ok)if(ne.includes("application/json")){const ve=await q.json();throw new Error(ve.error||"Conversion failed")}else{const ve=await q.blob(),me=URL.createObjectURL(ve),Ae=document.createElement("a");Ae.href=me;const _e=W.name,Ce=_e.substring(0,_e.lastIndexOf("."))+".dng"||"converted.dng";Ae.download=Ce,document.body.appendChild(Ae),Ae.click(),document.body.removeChild(Ae),URL.revokeObjectURL(me);const Se=new File([ve],Ce,{type:"image/x-adobe-dng"});await Mr(Se,!0)}else{const ve=await q.text();throw new Error(`HTTP ${q.status}: ${ve}`)}}catch(V){ot(null),Lt(`Conversion Error: ${V.message}`)}},Rl=(W,V)=>{W&&(V==="direct"?Mr(W,!0):no(W))},w0=async W=>{var q;const V=(q=W.target.files)==null?void 0:q[0];V&&(await Mr(V,!0),W.target.value="")},zu=async(W,V,q,ne)=>{!W||!V||(ot("Processing Pair Difference (May take a while)..."),Lt(null),setTimeout(async()=>{try{const ve=await W.arrayBuffer(),me=await V.arrayBuffer(),Ae=await Pp(ve,me,q,ne),_e=zf(Ae.width,Ae.height,Ae.rawData),Ce=new File([_e],`Diff_${W.name}_${V.name}.dng`,{type:"image/x-adobe-dng"});await Mr(Ce,!0),ce("fft")}catch(ve){console.error("Pair Processing Error",ve),Lt("Pair Processing Failed: "+ve.message)}finally{ot(null)}},100))},k0=async W=>{if(W.length<2){Lt("Need at least 2 files for Batch Diff.");return}ot(`Batch Processing 0/${Math.floor(W.length/2)} pairs...`);const V=Array.from(W).sort((q,ne)=>q.name.localeCompare(ne.name,void 0,{numeric:!0}));try{for(let q=0;q<V.length-1;q+=2){const ne=V[q],ve=V[q+1];ot(`Batch Processing Pair ${Math.floor(q/2)+1}/${Math.floor(V.length/2)}: ${ne.name} & ${ve.name}`);const me=await ne.arrayBuffer(),Ae=await ve.arrayBuffer(),_e=await Pp(me,Ae,!1,!1),Ce=zf(_e.width,_e.height,_e.rawData),Se=new Blob([Ce],{type:"image/x-adobe-dng"}),Te=URL.createObjectURL(Se),rt=document.createElement("a");rt.href=Te,rt.download=`Diff_${ne.name}_${ve.name}.dng`,document.body.appendChild(rt),rt.click(),document.body.removeChild(rt),URL.revokeObjectURL(Te)}}catch(q){console.error("FFT Batch Error",q),Lt("Batch Processing Failed: "+q.message)}finally{ot(null)}},j0=async W=>{if(W.length<1)return;const V=Array.from(W).sort((q,ne)=>q.name.localeCompare(ne.name,void 0,{numeric:!0}));b(V),await Mr(V[0],!0)},yn=async()=>{Xn(!0);const W=128,V=W,q=W,ne=V*q,ve=new Uint16Array(ne),me=Ue=>{const bt=Ue/ke+cr;return Math.sin(2*Math.PI*bt)>=0?1:0},Ae=32,_e=Rt*.5,Ce=Math.max(1e-4,Rt/Ae);for(let Ue=0;Ue<q;Ue++){let bt=0;const yr=Ue+.5-_e;for(let Gt=0;Gt<Ae;Gt++){const bn=yr+(Gt+.5)*Ce;bt+=me(bn)}const Ur=bt/Ae,St=Math.round(Ur*65535);for(let Gt=0;Gt<V;Gt++)ve[Ue*V+Gt]=St}const Se=new ImageData(cn,cn),Te=cn/V,rt=Rt/2;for(let Ue=0;Ue<cn;Ue++){const bt=Ue/Te,wr=Math.floor(bt),yr=bt-wr,Ur=yr>=.5-rt&&yr<.5+rt;for(let St=0;St<cn;St++){const Gt=St/Te,bn=Math.floor(Gt),on=Gt-bn,pi=on>=.5-rt&&on<.5+rt,Cr=(Ue*cn+St)*4;if(bn>=V||wr>=q){Se.data[Cr]=30,Se.data[Cr+1]=34,Se.data[Cr+2]=40,Se.data[Cr+3]=255;continue}if(Ur&&pi){const Co=ve[wr*V+bn],gi=Math.round(Co/257);Se.data[Cr]=gi,Se.data[Cr+1]=gi,Se.data[Cr+2]=gi,Se.data[Cr+3]=255}else Se.data[Cr]=30,Se.data[Cr+1]=34,Se.data[Cr+2]=40,Se.data[Cr+3]=255}}const jt=new ImageData(cn,cn),Ft=q/cn;for(let Ue=0;Ue<cn;Ue++){const bt=(Ue+.5)*Ft,yr=me(bt)>.5?255:0,Ur=Ue*cn*4;for(let St=0;St<cn;St++){const Gt=Ur+St*4;jt.data[Gt]=yr,jt.data[Gt+1]=yr,jt.data[Gt+2]=yr,jt.data[Gt+3]=255}}const zr=zf(V,q,ve),an=new File([zr],"pattern_test.dng",{type:"image/x-adobe-dng"}),mr=Date.now().toString();try{const{previewBlob:Ue,analysisData:bt}=await yi(zr.slice(0)),wr=await fk(zr.slice(0),E),yr=yk(wr,cn,cn),Ur=URL.createObjectURL(Ue),St=new Image;St.src=Ur,await new Promise(bn=>{St.onload=()=>bn()}),await mk(mr,zr);const Gt={id:mr,fileName:"pattern_test.dng",file:an,imageElement:St,rawImageData:bt,rawFileBuffer:zr,renderedRawImageData:yr,referenceImageData:jt,sampledImageData:Se,exifData:null,isThreePlane:!1,previewUrl:Ur,displaySettings:E,originalRawFileBuffer:null,isXTransOriginal:!1,isXTransConverted:!1,xtransPhase:{x:0,y:0}};(_==null?void 0:_.name)==="pattern_test.dng"?Qe(Gt):y(bn=>{const on=[...bn,Gt];return x(on.length-1),on})}catch(Ue){console.error("Error generating pattern:",Ue),Lt(`Error generating pattern: ${Ue.message}`)}Xn(!1),ot(null)},S0=()=>{Me(!0)},N0=()=>{Me(!1),hi("sampled"),ot("Generating..."),setTimeout(()=>yn(),50)},os=S.useRef({period:ke,fill:Rt,phase:cr});S.useEffect(()=>{(_==null?void 0:_.name)==="pattern_test.dng"&&(os.current.period!==ke||os.current.fill!==Rt||os.current.phase!==cr)&&(os.current={period:ke,fill:Rt,phase:cr},yn())},[ke,Rt,cr,_]);const Uu=S.useCallback(W=>{if(Qe({displaySettings:W}),!M)return;Xn(!0),Ne.current&&Ne.current.terminate();const V=new Worker(new URL("/assets/renderWorker-BhikMEl_.js",import.meta.url),{type:"module"});Ne.current=V,V.onmessage=q=>{const{success:ne,imageData:ve,error:me}=q.data;if(ne){let Ae=ve;(_==null?void 0:_.name)==="pattern_test.dng"&&(Ae=yk(ve,cn,cn)),Qe({renderedRawImageData:Ae})}else Lt(me||"Unknown worker error");Xn(!1),V.terminate(),Ne.current=null},V.postMessage({buffer:M.slice(0),settings:W})},[M,_,Qe]),Ll=async(W,V)=>{ot("Re-sampling X-Trans with new Phase...");try{const ne=(await Pf(V,W.x,W.y)).dngBuffer,ve=await yi(ne),me=URL.createObjectURL(ve.previewBlob),Ae=new Image;Ae.src=me,await new Promise(_e=>{Ae.onload=()=>_e()}),w!=null&&w.previewUrl&&URL.revokeObjectURL(w.previewUrl),Qe({rawFileBuffer:ne,rawImageData:ve.analysisData,previewUrl:me,imageElement:Ae,xtransPhase:W}),K(null)}catch(q){console.error("X-Trans Phase Update Failed",q),Lt("Phase Update Failed: "+q.message)}finally{ot(null)}},Wu=W=>{if(!w||!w.originalRawFileBuffer||!w.isXTransConverted)return;const V={...w.xtransPhase,...W};Ll(V,w.originalRawFileBuffer)},Gu=S.useCallback(async W=>{if(w)if(W){if(w.isXTransConverted)return;const V=w.originalRawFileBuffer||w.rawFileBuffer;if(!V)return;ot("Converting X-Trans to Pseudo-Bayer DNG...");try{const q=w.xtransPhase||{x:0,y:0},ve=(await Pf(V,q.x,q.y)).dngBuffer,me=await yi(ve),Ae=URL.createObjectURL(me.previewBlob),_e=new Image;_e.src=Ae,await new Promise(Ce=>{_e.onload=()=>Ce()}),w.previewUrl&&URL.revokeObjectURL(w.previewUrl),Qe({rawFileBuffer:ve,rawImageData:me.analysisData,previewUrl:Ae,imageElement:_e,isXTransConverted:!0,originalRawFileBuffer:V}),K(null)}catch(q){console.error("X-Trans Conversion Failed",q),Lt("Failed to convert X-Trans: "+q.message)}finally{ot(null)}}else{if(!w.isXTransConverted)return;const V=w.originalRawFileBuffer;if(!V){Lt("Original X-Trans buffer lost. Cannot revert.");return}ot("Reverting to Native X-Trans...");try{const q=await yi(V),ne=URL.createObjectURL(q.previewBlob),ve=new Image;ve.src=ne,await new Promise(me=>{ve.onload=()=>me()}),w.previewUrl&&URL.revokeObjectURL(w.previewUrl),Qe({rawFileBuffer:V,rawImageData:q.analysisData,previewUrl:ne,imageElement:ve,isXTransConverted:!1}),K(null)}catch(q){console.error("X-Trans Revert Failed",q),Lt("Failed to revert X-Trans: "+q.message)}finally{ot(null)}}},[w,Qe]);let is=C||O;Tn==="reference"&&$?is=$:Tn==="sampled"&&F&&(is=F);const ss=rs||to,we=W=>{if(he.current){const V=he.current,{width:q,height:ne}=V.getBoundingClientRect(),ve=q/2,me=ne/2,Ae=W/z,_e=ve-(ve-ns.x)*Ae,Ce=me-(me-ns.y)*Ae;as({x:_e,y:Ce})}J(W)},Je=W=>{if(!W)return;if(!P){K(null);return}Q&&R(!1);const V=vi(P.data,P.width,P.height,W.x,W.y,W.w,W.h);K(V)},et=W=>{fe(W),Je(W)},tt=()=>{B(W=>W==="pan"?"select":"pan")},vn=W=>{if(Ke===0||Ke>4)return;const V=[...lt,W];Ct(V),Ke===4?(oa(V),dt(0)):dt(Ke+1)},xn=(W,V,q,ne)=>{const ve=W[0],me=W[1],Ae=W[2],_e=W[3],Ce=V/2,Se=[];for(let Te=0;Te<q;Te++){const rt=q>1?Te/(q-1):.5;for(let jt=0;jt<ne;jt++){const Ft=ne>1?jt/(ne-1):.5,zr=ve.x*(1-Ft)+me.x*Ft,an=ve.y*(1-Ft)+me.y*Ft,mr=Ae.x*(1-Ft)+_e.x*Ft,Ue=Ae.y*(1-Ft)+_e.y*Ft,bt=zr*(1-rt)+mr*rt,wr=an*(1-rt)+Ue*rt,yr=bt-Ce,Ur=wr-Ce;Se.push({x:yr,y:Ur,w:V,h:V})}}return Se},oa=W=>{!P||!w||(ot("Calculating DR Lab Grid..."),setTimeout(()=>{try{const V=xn(W,eo,Cn,gn);Br(V);const me=[...[`#BlackLevel: ${(E.blackLevel||[0,0,0,0]).join(",")}`,`#ImageHeight: ${P.height}`],"Filename,Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std"],Ae=`img${w.fileName||"image"}`;V.forEach((rt,jt)=>{const Ft=Math.floor(jt/gn)+1,zr=jt%gn+1,an=vi(P.data,P.width,P.height,rt.x,rt.y,rt.w,rt.h),mr=an.means,Ue=an.stdDevs,bt=`${Ae},${Ft},${zr},${mr[0].toFixed(4)},${mr[1].toFixed(4)},${mr[2].toFixed(4)},${mr[3].toFixed(4)},${Ue[0].toFixed(4)},${Ue[1].toFixed(4)},${Ue[2].toFixed(4)},${Ue[3].toFixed(4)}`;me.push(bt)});const _e=me.join(`
`),Ce=new Blob([_e],{type:"text/csv;charset=utf-8;"}),Se=URL.createObjectURL(Ce),Te=document.createElement("a");Te.setAttribute("href",Se),Te.setAttribute("download","dr_lab_results.csv"),document.body.appendChild(Te),Te.click(),document.body.removeChild(Te),URL.revokeObjectURL(Se),Ct([])}catch(V){Lt("DR Lab Error: "+V.message)}finally{ot(null)}},100))},ao=async(W,V)=>{if(lt.length<4&&ge.length<1){Lt("Please mark the grid on an image first before running batch processing.");return}let q=ge;if(q.length===0&&lt.length===4&&(q=xn(lt,eo,Cn,gn)),q.length===0){Lt("No grid definitions found. Mark corners first.");return}ot(V==="pair"?"Batch Pair Difference (Sigma = Diff/sqrt(2))":"Batch Processing...");const ve=(E.blackLevel||[0,0,0,0]).join(","),me=P?P.height:0,_e=[...[`#BlackLevel: ${ve}`,`#ImageHeight: ${me}`,V==="pair"?"#Mode: Pair Difference (Sigma = Diff/sqrt(2))":"#Mode: Independent"],"Filename,Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std"],Ce=Array.from(W).sort((jt,Ft)=>jt.name.localeCompare(Ft.name,void 0,{numeric:!0}));if(V==="pair"&&Ce.length<2){Lt("Need at least 2 files for Pair processing."),ot(null);return}const Se=N.current,Te=(Se==null?void 0:Se.isXTransConverted)||!1,rt=(Se==null?void 0:Se.xtransPhase)||{x:0,y:0};try{const jt=async Ue=>{let bt=await Ue.arrayBuffer();return Te&&(bt=(await Pf(bt,rt.x,rt.y)).dngBuffer),bt};if(V==="single")for(let Ue=0;Ue<Ce.length;Ue++){const bt=Ce[Ue];ot(`Processing ${Ue+1}/${Ce.length}: ${bt.name}...`);const wr=await jt(bt),yr=await yh(wr),Ur=`img${bt.name}`;q.forEach((St,Gt)=>{const bn=Math.floor(Gt/gn)+1,on=Gt%gn+1,pi=vi(yr.data,yr.width,yr.height,St.x,St.y,St.w,St.h),Cr=pi.means,Co=pi.stdDevs,gi=`${Ur},${bn},${on},${Cr[0].toFixed(4)},${Cr[1].toFixed(4)},${Cr[2].toFixed(4)},${Cr[3].toFixed(4)},${Co[0].toFixed(4)},${Co[1].toFixed(4)},${Co[2].toFixed(4)},${Co[3].toFixed(4)}`;_e.push(gi)})}else for(let Ue=0;Ue<Ce.length-1;Ue+=2){const bt=Ce[Ue],wr=Ce[Ue+1],yr=`img${bt.name} & ${wr.name}`;ot(`Processing Pair ${Math.floor(Ue/2)+1}/${Math.floor(Ce.length/2)}: ${bt.name} & ${wr.name}...`);const Ur=await jt(bt),St=await yh(Ur),Gt=await jt(wr),bn=await Pp(Ur,Gt,!1,!0);q.forEach((on,pi)=>{const Cr=Math.floor(pi/gn)+1,Co=pi%gn+1,gi=vi(St.data,St.width,St.height,on.x,on.y,on.w,on.h),bP=vi(bn.rawData,bn.width,bn.height,on.x,on.y,on.w,on.h),Vu=gi.means,Xu=bP.stdDevs,wP=`${yr},${Cr},${Co},${Vu[0].toFixed(4)},${Vu[1].toFixed(4)},${Vu[2].toFixed(4)},${Vu[3].toFixed(4)},${Xu[0].toFixed(4)},${Xu[1].toFixed(4)},${Xu[2].toFixed(4)},${Xu[3].toFixed(4)}`;_e.push(wP)})}const Ft=_e.join(`
`),zr=new Blob([Ft],{type:"text/csv;charset=utf-8;"}),an=URL.createObjectURL(zr),mr=document.createElement("a");mr.href=an,mr.setAttribute("download",`dr_lab_batch_${V}_${new Date().getTime()}.csv`),document.body.appendChild(mr),mr.click(),document.body.removeChild(mr),URL.revokeObjectURL(an)}catch(jt){console.error("Batch Error",jt),Lt("Batch Processing Failed: "+jt.message)}finally{ot(null)}},Mo=()=>{Pr([]),Ar(1)},Ia=W=>{if(!Ve||tn===0)return;const V=[...or,W];Pr(V),V.length===4&&P?(qt(V,Yt),Ar(0)):Ar(q=>q+1)},qt=(W,V)=>{P&&(ot("Analyzing Color Chart..."),setTimeout(()=>{try{const q=cJ(W[0],W[1],W[2],W[3],P.width,P.height,V);nn(q);const ve=q.map((me,Ae)=>{const _e=vi(P.data,P.width,P.height,me.x,me.y,me.w,me.h);return{id:Ae,rawMeans:_e.means,refRGB:[0,0,0]}}).map((me,Ae)=>({...me,refRGB:ty[Ae]||[0,0,0]}));Gn(ve),rn(!0)}catch(q){Lt("Color Lab Error: "+q.message)}finally{ot(null)}},100))},nx=W=>{ir(W),or.length===4&&qt(or,W)},Il=()=>{rn(!1)},Hu=()=>{T||pt("No EXIF data found. The file might not contain metadata or it was stripped during processing."),Re(!0)},ax=async W=>{ot("Parsing PTC Data...");const V=[];let q=null;try{for(let ne=0;ne<W.length;ne++){const me=(await W[ne].text()).split(`
`);let Ae=!0;for(const _e of me){const Ce=_e.trim();if(!Ce)continue;if(Ce.startsWith("#")){if(Ce.includes("BlackLevel:")){const St=Ce.split(":")[1].trim().split(",");if(St.length>=4){const Gt=St.map(Number);q||(q={}),q.blackLevel=Gt}}if(Ce.includes("ImageHeight:")){const St=parseInt(Ce.split(":")[1].trim());isNaN(St)||(q||(q={}),q.height=St)}continue}if(Ae){Ce.toLowerCase().includes("mean")&&Ce.toLowerCase().includes("std")&&(Ae=!1);continue}const Se=Ce.split(",");if(Se.length<5)continue;let Te=0,rt;isNaN(parseFloat(Se[0]))&&(rt=Se[0],Te=1);const jt=parseInt(Se[Te]),Ft=parseInt(Se[Te+1]),zr=parseFloat(Se[Te+2]),an=parseFloat(Se[Te+3]),mr=parseFloat(Se[Te+4]),Ue=parseFloat(Se[Te+5]),bt=parseFloat(Se[Te+6]),wr=parseFloat(Se[Te+7]),yr=parseFloat(Se[Te+8]),Ur=parseFloat(Se[Te+9]);!isNaN(zr)&&!isNaN(bt)&&V.push({channel:"R",mean:zr,std:bt,filename:rt,row:jt,col:Ft}),!isNaN(an)&&!isNaN(wr)&&V.push({channel:"G1",mean:an,std:wr,filename:rt,row:jt,col:Ft}),!isNaN(mr)&&!isNaN(yr)&&V.push({channel:"G2",mean:mr,std:yr,filename:rt,row:jt,col:Ft}),!isNaN(Ue)&&!isNaN(Ur)&&V.push({channel:"B",mean:Ue,std:Ur,filename:rt,row:jt,col:Ft})}}sr(V),Ie(q),l(!0)}catch(ne){console.error("PTC Parse Error",ne),Lt("Failed to parse CSV files: "+ne.message)}finally{ot(null)}},yP=()=>{if(!M||!w)return;const W=new Blob([M],{type:"image/x-adobe-dng"}),V=URL.createObjectURL(W),q=document.createElement("a");q.href=V;const ne=w.fileName||"image.dng",ve=ne.toLowerCase().endsWith(".dng")?ne:ne.replace(/\.[^/.]+$/,"")+".dng";q.download=ve,document.body.appendChild(q),q.click(),document.body.removeChild(q),URL.revokeObjectURL(V)},vP=()=>{dt(1),Ct([]),Br([])},xP=S.useMemo(()=>Mn?Mn.map((W,V)=>({...W,refRGB:ty[V]||[0,0,0]})):[],[Mn]);return e?u.jsxs("div",{className:"flex flex-col h-screen items-center justify-center bg-gray-300 dark:bg-[#111] text-black dark:text-white font-mono",children:[u.jsx("div",{className:"w-12 h-12 border-4 border-black dark:border-white border-t-transparent animate-spin mb-4"}),u.jsx("h2",{className:"text-xl font-bold",children:r}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2 mb-6",children:"Loading stored buffers from database..."}),u.jsx("button",{onClick:Et,className:"px-6 py-2 bg-red-600 hover:bg-red-700 text-white font-bold border-2 border-black dark:border-gray-500 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] active:shadow-none active:translate-x-1 active:translate-y-1 transition-all text-sm",children:"Abandon Saved Session (Start Fresh)"})]}):u.jsxs("div",{className:"flex flex-col h-screen bg-[#d4d4d4] dark:bg-[#111111] text-black dark:text-gray-200 font-mono transition-colors duration-300 overflow-hidden",children:[u.jsx("div",{className:"p-4 pb-0 flex-shrink-0",children:u.jsx(qM,{onLoadImage:w0,onFileSelected:Rl,onGenerateFakeDng:S0,fileName:_?_.name:null,hasGeneratedData:(_==null?void 0:_.name)==="pattern_test.dng",viewMode:Tn,onSetViewMode:hi,patternPeriod:ke,onPatternPeriodChange:kt,fillFactor:Rt,onFillFactorChange:En,patternPhase:cr,onPatternPhaseChange:Kr,showPatternControls:(_==null?void 0:_.name)==="pattern_test.dng",onOpenAbout:()=>gt(!0),onShowExif:Hu,bridgeStatus:p,onBridgeClick:()=>v(!0),isDrLabOpen:hr,onToggleDrLab:()=>{Jt(!hr),dt(0),Ct([]),Br([]),pr&&mt(!1),Ve&&tr(!1),De&&yt(!1),Ar(0),nn([])},isColorLabOpen:Ve,onToggleColorLab:()=>{tr(!Ve),Pr([]),Ar(0),nn([]),hr&&Jt(!1),pr&&mt(!1),De&&yt(!1)},isFftLabOpen:pr,onToggleFftLab:()=>{mt(!pr),hr&&Jt(!1),Ve&&tr(!1),De&&yt(!1),Ar(0),nn([])},isSfrLabOpen:De,onToggleSfrLab:()=>{yt(!De),hr&&Jt(!1),Ve&&tr(!1),pr&&mt(!1),Ar(0),nn([])},onGenerateTestPic:()=>gr(!0),onPTCFilesSelected:ax,onDownloadDng:yP,isThreePlane:U,onOpenDatabase:()=>d(!0)})}),u.jsxs("div",{className:"flex flex-1 overflow-hidden p-4 pt-2 gap-4 relative",children:[u.jsxs("div",{className:"flex-1 relative bg-gray-200 dark:bg-black border-4 border-gray-500 dark:border-gray-700 shadow-[inset_2px_2px_8px_rgba(0,0,0,0.2)] overflow-hidden transition-colors duration-300",ref:he,children:[ss&&u.jsxs("div",{className:"absolute bottom-4 right-4 z-50 flex items-center gap-2 bg-white/90 dark:bg-black/90 px-3 py-1.5 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray]",children:[u.jsx("div",{className:"w-4 h-4 border-2 border-black dark:border-white border-t-transparent animate-spin"}),u.jsx("span",{className:"text-xs font-bold text-black dark:text-white uppercase",children:rs||"Processing..."})]}),k.length>1&&u.jsxs("div",{className:"absolute bottom-4 right-20 z-50 flex items-center gap-2 bg-white/90 dark:bg-black/90 px-3 py-1.5 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] text-sm font-bold text-black dark:text-white",children:[u.jsx("button",{onClick:ur,disabled:g<=0,className:"hover:text-gray-500 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Previous Image",children:"<"}),u.jsxs("span",{className:"min-w-[3rem] text-center select-none font-bold",children:[g+1," / ",k.length]}),u.jsx("button",{onClick:It,disabled:g>=k.length-1,className:"hover:text-gray-500 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Next Image",children:">"})]}),u.jsx("div",{className:"absolute bottom-4 left-4 z-50 flex flex-col-reverse gap-2 items-start pointer-events-none",children:Y.filter(W=>W.isMinimized).map(W=>{let V="Window",q="bg-gray-500";return W.type==="histogram"?(V="Histogram",q="bg-black dark:bg-white"):W.type==="fft"?(V="FFT Spectrum",q="bg-black dark:bg-white"):W.type==="quant"?(V="Quantization",q="bg-black dark:bg-white"):W.type==="pearson"&&(V="Pearson",q="bg-black dark:bg-white"),u.jsxs("div",{className:"pointer-events-auto flex items-center gap-1 bg-white dark:bg-black border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray]",children:[u.jsxs("button",{onClick:()=>Bt(W.id),className:"px-3 py-1.5 text-xs font-bold text-black dark:text-white hover:bg-gray-200 dark:hover:bg-gray-800 transition-colors flex items-center gap-2",children:[u.jsx("span",{className:`w-2 h-2 ${q}`}),V]}),u.jsx("button",{onClick:()=>qe(W.id),className:"px-2 py-1.5 text-black hover:text-red-600 hover:bg-gray-200 dark:hover:bg-gray-800 border-l-2 border-black dark:border-white transition-colors",children:""})]},W.id)})}),u.jsx(QQ,{isOpen:He,onClose:()=>gt(!1)}),u.jsx(JQ,{isOpen:je,onClose:()=>Re(!1),data:T,fileName:_?_.name:"",warning:Le}),u.jsx(tJ,{isOpen:s,onClose:()=>l(!1),data:vt,blackLevel:ro,imageHeight:Fr,isBGGR:L,importedMetadata:lr||void 0,theme:o,initialCameraModel:(T==null?void 0:T.Model)||"",initialISO:(T==null?void 0:T.ISO)||((ox=T==null?void 0:T.ISOSpeedRatings)==null?void 0:ox.toString())||""}),u.jsx(iJ,{isOpen:c,onClose:()=>d(!1),theme:o}),u.jsx(sJ,{isOpen:f,onClose:()=>h(!1),zIndex:200}),u.jsx(hJ,{isOpen:Hn,onClose:Il,patchStats:xP,initialIsBGGR:L,sizeRatio:Yt,onSizeChange:nx}),u.jsx(vJ,{isOpen:De,isSfrLabOpen:De,onClose:()=>{},rawImageData:P,roi:Z?{x:Z.x,y:Z.y,w:Z.width,h:Z.height}:null,zIndex:200,onFocus:ct,displaySettings:E}),u.jsx(ei,{isOpen:Dt,onClose:()=>Me(!1),onConfirm:N0,title:"High Resource Usage Warning",confirmText:"I know the risk and insist to continue",message:u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("p",{children:"Patter DNG mode involves high-frequency refreshing and heavy computation. Due to current memory management limitations, repeated use may lead to browser memory overflow or crashes. Please proceed with caution."}),u.jsx("p",{className:"text-xs text-gray-500"})]})}),u.jsx(ei,{isOpen:m,onClose:()=>v(!1),onConfirm:()=>{window.open("https://y-g-jiang.github.io/jiangbridge.exe","_blank"),v(!1)},title:"JiangBridge Connection / ",confirmText:"Download Bridge App",cancelText:"Cancel",message:u.jsxs("div",{className:"flex flex-col gap-4 text-left",children:[u.jsx("p",{className:"font-bold text-gray-800 dark:text-gray-200",children:"JiangBridge"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:'JiangBridge is optional for this webpage, but recommended for full functionality. Simply double-click and run it once after system startup. If the indicator light does not turn green after double-clicking, please consider checking whether the web page is allowed to "View and connect to any device on the network".'})]})}),u.jsx(ei,{isOpen:Wt,onClose:()=>_r(!1),onConfirm:Ee,title:"Export 16-bit TIFF Options",confirmText:"Confirm Export",message:u.jsxs("div",{className:"flex flex-col gap-4 text-left",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-gray-50 dark:bg-slate-800/80 p-4 border border-gray-400 dark:border-gray-600",children:[u.jsxs("div",{className:"flex flex-col items-center gap-3",children:[u.jsxs("div",{className:"flex flex-col items-center text-center",children:[u.jsx("span",{className:"font-bold text-xs text-gray-800 dark:text-slate-200",children:"Stretch ()"}),u.jsx("span",{className:"text-[9px] text-gray-500 dark:text-slate-400 mt-0.5",children:"Map [0, White] to [0, 65535]"})]}),u.jsx("div",{onClick:()=>ka(!Mt),className:`relative w-12 h-6 border-2 border-black dark:border-white cursor-pointer ${Mt?"bg-black dark:bg-white":"bg-gray-300 dark:bg-slate-600"}`,children:u.jsx("div",{className:`absolute top-0.5 left-0.5 w-4 h-4 bg-white dark:bg-black shadow-sm transition-transform ${Mt?"translate-x-6":""}`})})]}),u.jsxs("div",{className:"flex flex-col items-center gap-3",children:[u.jsxs("div",{className:"flex flex-col items-center text-center",children:[u.jsx("span",{className:"font-bold text-xs text-gray-800 dark:text-slate-200",children:"sRGB Gamma"}),u.jsx("span",{className:"text-[9px] text-gray-500 dark:text-slate-400 mt-0.5",children:"Apply non-linear contrast"})]}),u.jsx("div",{onClick:()=>Or(!ft),className:`relative w-12 h-6 border-2 border-black dark:border-white cursor-pointer ${ft?"bg-black dark:bg-white":"bg-gray-300 dark:bg-slate-600"}`,children:u.jsx("div",{className:`absolute top-0.5 left-0.5 w-4 h-4 bg-white dark:bg-black shadow-sm transition-transform ${ft?"translate-x-6":""}`})})]})]}),u.jsxs("div",{className:"p-3 bg-gray-200 dark:bg-slate-800 text-[11px] text-black dark:text-white italic border border-gray-400 dark:border-gray-600 text-center font-mono",children:[Mt&&!ft&&"Mode: Stretched Linear. Histogram preserved but range expanded.",!Mt&&ft&&"Mode: Native DN + sRGB. Best for analyzing raw distribution contrast.",Mt&&ft&&"Mode: Ready-to-Use. Conventional 16-bit development.",!Mt&&!ft&&"Mode: Native Linear. Pure physical sensor DN values."]})]})}),!Q&&u.jsx(AJ,{stats:Z,onClose:()=>{K(null),fe(null)},onMinimize:()=>R(!0),isBGGR:L,onToggleBGGR:te,onOpenWindow:ce,displaySettings:E,zIndex:pe,onFocus:ct,rawImageData:P}),Y.map(W=>{if(W.isMinimized)return null;const V=k.find(ve=>ve.id===W.sessionId),q=V==null?void 0:V.rawImageData;if(!q)return null;const ne={key:W.id,isOpen:!0,onClose:()=>qe(W.id),onMinimize:()=>Pe(W.id),rawImageData:q,roi:W.roi,isBGGR:W.isBGGR,zIndex:W.zIndex,onFocus:()=>xt(W.id),initialPosition:W.initialPosition,initialInternalState:W.internalState,onUpdateState:ve=>mn(W.id,ve),stackFiles:W.stackFiles};return W.type==="histogram"?u.jsx(WQ,{...ne}):W.type==="fft"?u.jsx(XQ,{...ne,onUpdateROI:ve=>br(W.id,ve)}):W.type==="quant"?u.jsx(KQ,{...ne}):W.type==="pearson"?u.jsx(YQ,{...ne}):null}),La&&u.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-white/90 dark:bg-black/90 p-8",children:u.jsxs("div",{className:"max-w-md text-center p-6 bg-white dark:bg-black rounded-none border-2 border-red-600 shadow-[8px_8px_0px_rgba(200,0,0,0.5)]",children:[u.jsx("h3",{className:"text-xl font-bold text-red-600 uppercase mb-2",children:"Notice"}),u.jsx("p",{className:"text-black dark:text-white mb-6 whitespace-pre-wrap font-mono",children:La}),u.jsx("button",{onClick:()=>Lt(null),className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-800 dark:hover:bg-gray-700 border-2 border-black dark:border-white text-black dark:text-white transition-colors uppercase font-bold",children:"Dismiss"})]})}),!is&&!ss&&!La&&u.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-gray-400 dark:text-gray-600 select-none font-mono",children:u.jsx("p",{className:"text-lg",children:"Load an image or generate a pattern"})}),u.jsx(ZM,{image:is,zoom:z,pan:ns,onPanChange:as,onZoomChange:we,onSelectionChange:Je,forcedSelection:ae,theme:o,touchAction:re,isMarking:Ke>0||Ve&&tn>0,onPointClick:W=>{Ke>0?vn(W):Ve&&tn>0&&Ia(W)},markers:lt,gridRects:ge,colorLabPoints:or,colorLabRects:aa}),u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-1/2 z-30 pointer-events-none select-none opacity-20 mix-blend-normal dark:mix-blend-plus-lighter",children:u.jsx("svg",{viewBox:"0 0 500 60",className:"w-full h-auto drop-shadow-none",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-black dark:fill-white",fontSize:"26",fontWeight:"bold",style:{fontFamily:"Courier New, monospace",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),P&&!Ke&&!Ve&&u.jsxs("div",{className:"absolute bottom-4 left-4 z-30 pointer-events-none opacity-60 text-[10px] text-black dark:text-white font-mono bg-white/50 dark:bg-black/50 px-1",children:["Hold ",u.jsx("b",{children:"Shift"})," + Drag to calculate Raw ROI stats"]}),Ve&&tn>0&&u.jsxs("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 z-30 pointer-events-none text-sm font-bold text-yellow-500 bg-black/80 px-4 py-2 rounded-full border border-yellow-500 animate-pulse shadow-lg",children:[or.length===0&&"Click Top-Left Corner of Chart",or.length===1&&"Click Top-Right Corner",or.length===2&&"Click Bottom-Left Corner",or.length===3&&"Click Bottom-Right Corner",or.length===4&&"Processing..."]}),u.jsx(uC,{zoom:z,onZoomChange:we,onResetView:()=>{J(1),as({x:0,y:0})},touchAction:re,onToggleTouchAction:tt})]}),ie&&u.jsx("div",{className:"w-80 flex-shrink-0 bg-white dark:bg-black border-4 border-gray-500 dark:border-gray-700 shadow-[inset_2px_2px_8px_rgba(0,0,0,0.2)] overflow-hidden transition-all duration-300",children:u.jsx(rC,{rawImageData:P,displaySettings:E,onApplyDisplaySettings:Uu,onSetSelection:et,exifData:T,isBridgeConnected:p.isConnected,isDrLabOpen:hr,drMarkingStep:Ke,onStartMarking:vP,onGenerateTestPic:()=>gr(!0),drRoiSize:eo,onDrRoiSizeChange:Vn,drGridRows:Cn,onDrGridRowsChange:Dl,drGridCols:gn,onDrGridColsChange:X,onBatchDrLab:ao,hasDrMarkers:ge.length>0,isFftLabOpen:pr,onProcessPair:zu,onProcessBatchDiff:k0,onProcessStackFft:j0,onOpenCrossCalc:()=>h(!0),isThreePlane:U,onToggleXTrans:Gu,xtransPhase:A,onXTransPhaseChange:Wu,isXTransConverted:w==null?void 0:w.isXTransConverted,roiStats:Z,isBGGR:L,isColorLabOpen:Ve,colorLabMarkingStep:tn,onStartColorLabMarking:Mo,isSfrLabOpen:De})}),u.jsx(fC,{theme:o,setTheme:i})]})]})},mP=document.getElementById("root");if(!mP)throw new Error("Could not find root element to mount to");const CJ=Cp.createRoot(mP);CJ.render(u.jsx(I.StrictMode,{children:u.jsx(MJ,{})}));export{CQ as _};
