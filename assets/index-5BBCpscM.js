var VN=Object.defineProperty;var XN=(e,t,r)=>t in e?VN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var fn=(e,t,r)=>XN(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var ju=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var X2={exports:{}},Xd={},K2={exports:{}},Je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nu=Symbol.for("react.element"),KN=Symbol.for("react.portal"),YN=Symbol.for("react.fragment"),qN=Symbol.for("react.strict_mode"),ZN=Symbol.for("react.profiler"),QN=Symbol.for("react.provider"),JN=Symbol.for("react.context"),eP=Symbol.for("react.forward_ref"),tP=Symbol.for("react.suspense"),rP=Symbol.for("react.memo"),nP=Symbol.for("react.lazy"),Lv=Symbol.iterator;function aP(e){return e===null||typeof e!="object"?null:(e=Lv&&e[Lv]||e["@@iterator"],typeof e=="function"?e:null)}var Y2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q2=Object.assign,Z2={};function Vs(e,t,r){this.props=e,this.context=t,this.refs=Z2,this.updater=r||Y2}Vs.prototype.isReactComponent={};Vs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Vs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Q2(){}Q2.prototype=Vs.prototype;function Dm(e,t,r){this.props=e,this.context=t,this.refs=Z2,this.updater=r||Y2}var Rm=Dm.prototype=new Q2;Rm.constructor=Dm;q2(Rm,Vs.prototype);Rm.isPureReactComponent=!0;var Iv=Array.isArray,J2=Object.prototype.hasOwnProperty,Lm={current:null},ek={key:!0,ref:!0,__self:!0,__source:!0};function tk(e,t,r){var n,a={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)J2.call(t,n)&&!ek.hasOwnProperty(n)&&(a[n]=t[n]);var s=arguments.length-2;if(s===1)a.children=r;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)a[n]===void 0&&(a[n]=s[n]);return{$$typeof:nu,type:e,key:o,ref:i,props:a,_owner:Lm.current}}function oP(e,t){return{$$typeof:nu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Im(e){return typeof e=="object"&&e!==null&&e.$$typeof===nu}function iP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Bv=/\/+/g;function ip(e,t){return typeof e=="object"&&e!==null&&e.key!=null?iP(""+e.key):t.toString(36)}function of(e,t,r,n,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case nu:case KN:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+ip(i,0):n,Iv(a)?(r="",e!=null&&(r=e.replace(Bv,"$&/")+"/"),of(a,t,r,"",function(c){return c})):a!=null&&(Im(a)&&(a=oP(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(Bv,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",Iv(e))for(var s=0;s<e.length;s++){o=e[s];var l=n+ip(o,s);i+=of(o,t,r,l,a)}else if(l=aP(e),typeof l=="function")for(e=l.call(e),s=0;!(o=e.next()).done;)o=o.value,l=n+ip(o,s++),i+=of(o,t,r,l,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Ou(e,t,r){if(e==null)return e;var n=[],a=0;return of(e,n,"","",function(o){return t.call(r,o,a++)}),n}function sP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var yn={current:null},sf={transition:null},lP={ReactCurrentDispatcher:yn,ReactCurrentBatchConfig:sf,ReactCurrentOwner:Lm};function rk(){throw Error("act(...) is not supported in production builds of React.")}Je.Children={map:Ou,forEach:function(e,t,r){Ou(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ou(e,function(){t++}),t},toArray:function(e){return Ou(e,function(t){return t})||[]},only:function(e){if(!Im(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Je.Component=Vs;Je.Fragment=YN;Je.Profiler=ZN;Je.PureComponent=Dm;Je.StrictMode=qN;Je.Suspense=tP;Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lP;Je.act=rk;Je.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=q2({},e.props),a=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Lm.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)J2.call(t,l)&&!ek.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];n.children=s}return{$$typeof:nu,type:e.type,key:a,ref:o,props:n,_owner:i}};Je.createContext=function(e){return e={$$typeof:JN,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:QN,_context:e},e.Consumer=e};Je.createElement=tk;Je.createFactory=function(e){var t=tk.bind(null,e);return t.type=e,t};Je.createRef=function(){return{current:null}};Je.forwardRef=function(e){return{$$typeof:eP,render:e}};Je.isValidElement=Im;Je.lazy=function(e){return{$$typeof:nP,_payload:{_status:-1,_result:e},_init:sP}};Je.memo=function(e,t){return{$$typeof:rP,type:e,compare:t===void 0?null:t}};Je.startTransition=function(e){var t=sf.transition;sf.transition={};try{e()}finally{sf.transition=t}};Je.unstable_act=rk;Je.useCallback=function(e,t){return yn.current.useCallback(e,t)};Je.useContext=function(e){return yn.current.useContext(e)};Je.useDebugValue=function(){};Je.useDeferredValue=function(e){return yn.current.useDeferredValue(e)};Je.useEffect=function(e,t){return yn.current.useEffect(e,t)};Je.useId=function(){return yn.current.useId()};Je.useImperativeHandle=function(e,t,r){return yn.current.useImperativeHandle(e,t,r)};Je.useInsertionEffect=function(e,t){return yn.current.useInsertionEffect(e,t)};Je.useLayoutEffect=function(e,t){return yn.current.useLayoutEffect(e,t)};Je.useMemo=function(e,t){return yn.current.useMemo(e,t)};Je.useReducer=function(e,t,r){return yn.current.useReducer(e,t,r)};Je.useRef=function(e){return yn.current.useRef(e)};Je.useState=function(e){return yn.current.useState(e)};Je.useSyncExternalStore=function(e,t,r){return yn.current.useSyncExternalStore(e,t,r)};Je.useTransition=function(){return yn.current.useTransition()};Je.version="18.3.1";K2.exports=Je;var j=K2.exports;const T=Mt(j);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cP=j,uP=Symbol.for("react.element"),fP=Symbol.for("react.fragment"),dP=Object.prototype.hasOwnProperty,hP=cP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pP={key:!0,ref:!0,__self:!0,__source:!0};function nk(e,t,r){var n,a={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)dP.call(t,n)&&!pP.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:uP,type:e,key:o,ref:i,props:a,_owner:hP.current}}Xd.Fragment=fP;Xd.jsx=nk;Xd.jsxs=nk;X2.exports=Xd;var u=X2.exports,f0={},ak={exports:{}},Un={},ok={exports:{}},ik={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,L){var X=B.length;B.push(L);e:for(;0<X;){var te=X-1>>>1,Z=B[te];if(0<a(Z,L))B[te]=L,B[X]=Z,X=te;else break e}}function r(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var L=B[0],X=B.pop();if(X!==L){B[0]=X;e:for(var te=0,Z=B.length,I=Z>>>1;te<I;){var G=2*(te+1)-1,oe=B[G],q=G+1,ke=B[q];if(0>a(oe,X))q<Z&&0>a(ke,oe)?(B[te]=ke,B[q]=X,te=q):(B[te]=oe,B[G]=X,te=G);else if(q<Z&&0>a(ke,X))B[te]=ke,B[q]=X,te=q;else break e}}return L}function a(B,L){var X=B.sortIndex-L.sortIndex;return X!==0?X:B.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,s=i.now();e.unstable_now=function(){return i.now()-s}}var l=[],c=[],f=1,d=null,h=3,p=!1,m=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(B){for(var L=r(c);L!==null;){if(L.callback===null)n(c);else if(L.startTime<=B)n(c),L.sortIndex=L.expirationTime,t(l,L);else break;L=r(c)}}function S(B){if(v=!1,b(B),!m)if(r(l)!==null)m=!0,U(w);else{var L=r(c);L!==null&&M(S,L.startTime-B)}}function w(B,L){m=!1,v&&(v=!1,y(_),_=-1),p=!0;var X=h;try{for(b(L),d=r(l);d!==null&&(!(d.expirationTime>L)||B&&!A());){var te=d.callback;if(typeof te=="function"){d.callback=null,h=d.priorityLevel;var Z=te(d.expirationTime<=L);L=e.unstable_now(),typeof Z=="function"?d.callback=Z:d===r(l)&&n(l),b(L)}else n(l);d=r(l)}if(d!==null)var I=!0;else{var G=r(c);G!==null&&M(S,G.startTime-L),I=!1}return I}finally{d=null,h=X,p=!1}}var k=!1,O=null,_=-1,N=5,P=-1;function A(){return!(e.unstable_now()-P<N)}function $(){if(O!==null){var B=e.unstable_now();P=B;var L=!0;try{L=O(!0,B)}finally{L?C():(k=!1,O=null)}}else k=!1}var C;if(typeof g=="function")C=function(){g($)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,E=z.port2;z.port1.onmessage=$,C=function(){E.postMessage(null)}}else C=function(){x($,0)};function U(B){O=B,k||(k=!0,C())}function M(B,L){_=x(function(){B(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,U(w))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(B){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var X=h;h=L;try{return B()}finally{h=X}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,L){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var X=h;h=B;try{return L()}finally{h=X}},e.unstable_scheduleCallback=function(B,L,X){var te=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?te+X:te):X=te,B){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=X+Z,B={id:f++,callback:L,priorityLevel:B,startTime:X,expirationTime:Z,sortIndex:-1},X>te?(B.sortIndex=X,t(c,B),r(l)===null&&B===r(c)&&(v?(y(_),_=-1):v=!0,M(S,X-te))):(B.sortIndex=Z,t(l,B),m||p||(m=!0,U(w))),B},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(B){var L=h;return function(){var X=h;h=L;try{return B.apply(this,arguments)}finally{h=X}}}})(ik);ok.exports=ik;var gP=ok.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mP=j,zn=gP;function le(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sk=new Set,ac={};function Pi(e,t){fs(e,t),fs(e+"Capture",t)}function fs(e,t){for(ac[e]=t,e=0;e<t.length;e++)sk.add(t[e])}var ro=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d0=Object.prototype.hasOwnProperty,yP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fv={},zv={};function vP(e){return d0.call(zv,e)?!0:d0.call(Fv,e)?!1:yP.test(e)?zv[e]=!0:(Fv[e]=!0,!1)}function xP(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function bP(e,t,r,n){if(t===null||typeof t>"u"||xP(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function vn(e,t,r,n,a,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Vr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Vr[e]=new vn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Vr[t]=new vn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Vr[e]=new vn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Vr[e]=new vn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Vr[e]=new vn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Vr[e]=new vn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Vr[e]=new vn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Vr[e]=new vn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Vr[e]=new vn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Bm=/[\-:]([a-z])/g;function Fm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Bm,Fm);Vr[t]=new vn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Bm,Fm);Vr[t]=new vn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Bm,Fm);Vr[t]=new vn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Vr[e]=new vn(e,1,!1,e.toLowerCase(),null,!1,!1)});Vr.xlinkHref=new vn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Vr[e]=new vn(e,1,!1,e.toLowerCase(),null,!0,!0)});function zm(e,t,r,n){var a=Vr.hasOwnProperty(t)?Vr[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(bP(t,r,a,n)&&(r=null),n||a===null?vP(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var co=mP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_u=Symbol.for("react.element"),zi=Symbol.for("react.portal"),Ui=Symbol.for("react.fragment"),Um=Symbol.for("react.strict_mode"),h0=Symbol.for("react.profiler"),lk=Symbol.for("react.provider"),ck=Symbol.for("react.context"),Wm=Symbol.for("react.forward_ref"),p0=Symbol.for("react.suspense"),g0=Symbol.for("react.suspense_list"),Gm=Symbol.for("react.memo"),mo=Symbol.for("react.lazy"),uk=Symbol.for("react.offscreen"),Uv=Symbol.iterator;function vl(e){return e===null||typeof e!="object"?null:(e=Uv&&e[Uv]||e["@@iterator"],typeof e=="function"?e:null)}var er=Object.assign,sp;function Rl(e){if(sp===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);sp=t&&t[1]||""}return`
`+sp+e}var lp=!1;function cp(e,t){if(!e||lp)return"";lp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),o=n.stack.split(`
`),i=a.length-1,s=o.length-1;1<=i&&0<=s&&a[i]!==o[s];)s--;for(;1<=i&&0<=s;i--,s--)if(a[i]!==o[s]){if(i!==1||s!==1)do if(i--,s--,0>s||a[i]!==o[s]){var l=`
`+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=s);break}}}finally{lp=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Rl(e):""}function wP(e){switch(e.tag){case 5:return Rl(e.type);case 16:return Rl("Lazy");case 13:return Rl("Suspense");case 19:return Rl("SuspenseList");case 0:case 2:case 15:return e=cp(e.type,!1),e;case 11:return e=cp(e.type.render,!1),e;case 1:return e=cp(e.type,!0),e;default:return""}}function m0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ui:return"Fragment";case zi:return"Portal";case h0:return"Profiler";case Um:return"StrictMode";case p0:return"Suspense";case g0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ck:return(e.displayName||"Context")+".Consumer";case lk:return(e._context.displayName||"Context")+".Provider";case Wm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Gm:return t=e.displayName||null,t!==null?t:m0(e.type)||"Memo";case mo:t=e._payload,e=e._init;try{return m0(e(t))}catch{}}return null}function kP(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return m0(t);case 8:return t===Um?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Lo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fk(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function SP(e){var t=fk(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Nu(e){e._valueTracker||(e._valueTracker=SP(e))}function dk(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=fk(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function xf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function y0(e,t){var r=t.checked;return er({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Wv(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Lo(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function hk(e,t){t=t.checked,t!=null&&zm(e,"checked",t,!1)}function v0(e,t){hk(e,t);var r=Lo(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?x0(e,t.type,r):t.hasOwnProperty("defaultValue")&&x0(e,t.type,Lo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Gv(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function x0(e,t,r){(t!=="number"||xf(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ll=Array.isArray;function rs(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Lo(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function b0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(le(91));return er({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Hv(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(le(92));if(Ll(r)){if(1<r.length)throw Error(le(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Lo(r)}}function pk(e,t){var r=Lo(t.value),n=Lo(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Vv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function gk(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function w0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?gk(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Pu,mk=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Pu=Pu||document.createElement("div"),Pu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Pu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function oc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var zl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jP=["Webkit","ms","Moz","O"];Object.keys(zl).forEach(function(e){jP.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),zl[t]=zl[e]})});function yk(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||zl.hasOwnProperty(e)&&zl[e]?(""+t).trim():t+"px"}function vk(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=yk(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var OP=er({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function k0(e,t){if(t){if(OP[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(le(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(le(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(le(61))}if(t.style!=null&&typeof t.style!="object")throw Error(le(62))}}function S0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var j0=null;function Hm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var O0=null,ns=null,as=null;function Xv(e){if(e=iu(e)){if(typeof O0!="function")throw Error(le(280));var t=e.stateNode;t&&(t=Qd(t),O0(e.stateNode,e.type,t))}}function xk(e){ns?as?as.push(e):as=[e]:ns=e}function bk(){if(ns){var e=ns,t=as;if(as=ns=null,Xv(e),t)for(e=0;e<t.length;e++)Xv(t[e])}}function wk(e,t){return e(t)}function kk(){}var up=!1;function Sk(e,t,r){if(up)return e(t,r);up=!0;try{return wk(e,t,r)}finally{up=!1,(ns!==null||as!==null)&&(kk(),bk())}}function ic(e,t){var r=e.stateNode;if(r===null)return null;var n=Qd(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(le(231,t,typeof r));return r}var _0=!1;if(ro)try{var xl={};Object.defineProperty(xl,"passive",{get:function(){_0=!0}}),window.addEventListener("test",xl,xl),window.removeEventListener("test",xl,xl)}catch{_0=!1}function _P(e,t,r,n,a,o,i,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(f){this.onError(f)}}var Ul=!1,bf=null,wf=!1,N0=null,NP={onError:function(e){Ul=!0,bf=e}};function PP(e,t,r,n,a,o,i,s,l){Ul=!1,bf=null,_P.apply(NP,arguments)}function AP(e,t,r,n,a,o,i,s,l){if(PP.apply(this,arguments),Ul){if(Ul){var c=bf;Ul=!1,bf=null}else throw Error(le(198));wf||(wf=!0,N0=c)}}function Ai(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function jk(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Kv(e){if(Ai(e)!==e)throw Error(le(188))}function MP(e){var t=e.alternate;if(!t){if(t=Ai(e),t===null)throw Error(le(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var o=a.alternate;if(o===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return Kv(a),e;if(o===n)return Kv(a),t;o=o.sibling}throw Error(le(188))}if(r.return!==n.return)r=a,n=o;else{for(var i=!1,s=a.child;s;){if(s===r){i=!0,r=a,n=o;break}if(s===n){i=!0,n=a,r=o;break}s=s.sibling}if(!i){for(s=o.child;s;){if(s===r){i=!0,r=o,n=a;break}if(s===n){i=!0,n=o,r=a;break}s=s.sibling}if(!i)throw Error(le(189))}}if(r.alternate!==n)throw Error(le(190))}if(r.tag!==3)throw Error(le(188));return r.stateNode.current===r?e:t}function Ok(e){return e=MP(e),e!==null?_k(e):null}function _k(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_k(e);if(t!==null)return t;e=e.sibling}return null}var Nk=zn.unstable_scheduleCallback,Yv=zn.unstable_cancelCallback,CP=zn.unstable_shouldYield,EP=zn.unstable_requestPaint,fr=zn.unstable_now,TP=zn.unstable_getCurrentPriorityLevel,Vm=zn.unstable_ImmediatePriority,Pk=zn.unstable_UserBlockingPriority,kf=zn.unstable_NormalPriority,$P=zn.unstable_LowPriority,Ak=zn.unstable_IdlePriority,Kd=null,Ta=null;function DP(e){if(Ta&&typeof Ta.onCommitFiberRoot=="function")try{Ta.onCommitFiberRoot(Kd,e,void 0,(e.current.flags&128)===128)}catch{}}var ba=Math.clz32?Math.clz32:IP,RP=Math.log,LP=Math.LN2;function IP(e){return e>>>=0,e===0?32:31-(RP(e)/LP|0)|0}var Au=64,Mu=4194304;function Il(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Sf(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var s=i&~a;s!==0?n=Il(s):(o&=i,o!==0&&(n=Il(o)))}else i=r&~a,i!==0?n=Il(i):o!==0&&(n=Il(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ba(t),a=1<<r,n|=e[r],t&=~a;return n}function BP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function FP(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-ba(o),s=1<<i,l=a[i];l===-1?(!(s&r)||s&n)&&(a[i]=BP(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}function P0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Mk(){var e=Au;return Au<<=1,!(Au&4194240)&&(Au=64),e}function fp(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function au(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ba(t),e[t]=r}function zP(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-ba(r),o=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~o}}function Xm(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ba(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var vt=0;function Ck(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ek,Km,Tk,$k,Dk,A0=!1,Cu=[],No=null,Po=null,Ao=null,sc=new Map,lc=new Map,xo=[],UP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qv(e,t){switch(e){case"focusin":case"focusout":No=null;break;case"dragenter":case"dragleave":Po=null;break;case"mouseover":case"mouseout":Ao=null;break;case"pointerover":case"pointerout":sc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lc.delete(t.pointerId)}}function bl(e,t,r,n,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[a]},t!==null&&(t=iu(t),t!==null&&Km(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function WP(e,t,r,n,a){switch(t){case"focusin":return No=bl(No,e,t,r,n,a),!0;case"dragenter":return Po=bl(Po,e,t,r,n,a),!0;case"mouseover":return Ao=bl(Ao,e,t,r,n,a),!0;case"pointerover":var o=a.pointerId;return sc.set(o,bl(sc.get(o)||null,e,t,r,n,a)),!0;case"gotpointercapture":return o=a.pointerId,lc.set(o,bl(lc.get(o)||null,e,t,r,n,a)),!0}return!1}function Rk(e){var t=ri(e.target);if(t!==null){var r=Ai(t);if(r!==null){if(t=r.tag,t===13){if(t=jk(r),t!==null){e.blockedOn=t,Dk(e.priority,function(){Tk(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function lf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=M0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);j0=n,r.target.dispatchEvent(n),j0=null}else return t=iu(r),t!==null&&Km(t),e.blockedOn=r,!1;t.shift()}return!0}function Zv(e,t,r){lf(e)&&r.delete(t)}function GP(){A0=!1,No!==null&&lf(No)&&(No=null),Po!==null&&lf(Po)&&(Po=null),Ao!==null&&lf(Ao)&&(Ao=null),sc.forEach(Zv),lc.forEach(Zv)}function wl(e,t){e.blockedOn===t&&(e.blockedOn=null,A0||(A0=!0,zn.unstable_scheduleCallback(zn.unstable_NormalPriority,GP)))}function cc(e){function t(a){return wl(a,e)}if(0<Cu.length){wl(Cu[0],e);for(var r=1;r<Cu.length;r++){var n=Cu[r];n.blockedOn===e&&(n.blockedOn=null)}}for(No!==null&&wl(No,e),Po!==null&&wl(Po,e),Ao!==null&&wl(Ao,e),sc.forEach(t),lc.forEach(t),r=0;r<xo.length;r++)n=xo[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<xo.length&&(r=xo[0],r.blockedOn===null);)Rk(r),r.blockedOn===null&&xo.shift()}var os=co.ReactCurrentBatchConfig,jf=!0;function HP(e,t,r,n){var a=vt,o=os.transition;os.transition=null;try{vt=1,Ym(e,t,r,n)}finally{vt=a,os.transition=o}}function VP(e,t,r,n){var a=vt,o=os.transition;os.transition=null;try{vt=4,Ym(e,t,r,n)}finally{vt=a,os.transition=o}}function Ym(e,t,r,n){if(jf){var a=M0(e,t,r,n);if(a===null)wp(e,t,n,Of,r),qv(e,n);else if(WP(a,e,t,r,n))n.stopPropagation();else if(qv(e,n),t&4&&-1<UP.indexOf(e)){for(;a!==null;){var o=iu(a);if(o!==null&&Ek(o),o=M0(e,t,r,n),o===null&&wp(e,t,n,Of,r),o===a)break;a=o}a!==null&&n.stopPropagation()}else wp(e,t,n,null,r)}}var Of=null;function M0(e,t,r,n){if(Of=null,e=Hm(n),e=ri(e),e!==null)if(t=Ai(e),t===null)e=null;else if(r=t.tag,r===13){if(e=jk(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Of=e,null}function Lk(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(TP()){case Vm:return 1;case Pk:return 4;case kf:case $P:return 16;case Ak:return 536870912;default:return 16}default:return 16}}var ko=null,qm=null,cf=null;function Ik(){if(cf)return cf;var e,t=qm,r=t.length,n,a="value"in ko?ko.value:ko.textContent,o=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[o-n];n++);return cf=a.slice(e,1<n?1-n:void 0)}function uf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Eu(){return!0}function Qv(){return!1}function Wn(e){function t(r,n,a,o,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Eu:Qv,this.isPropagationStopped=Qv,this}return er(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Eu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Eu)},persist:function(){},isPersistent:Eu}),t}var Xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zm=Wn(Xs),ou=er({},Xs,{view:0,detail:0}),XP=Wn(ou),dp,hp,kl,Yd=er({},ou,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==kl&&(kl&&e.type==="mousemove"?(dp=e.screenX-kl.screenX,hp=e.screenY-kl.screenY):hp=dp=0,kl=e),dp)},movementY:function(e){return"movementY"in e?e.movementY:hp}}),Jv=Wn(Yd),KP=er({},Yd,{dataTransfer:0}),YP=Wn(KP),qP=er({},ou,{relatedTarget:0}),pp=Wn(qP),ZP=er({},Xs,{animationName:0,elapsedTime:0,pseudoElement:0}),QP=Wn(ZP),JP=er({},Xs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),eA=Wn(JP),tA=er({},Xs,{data:0}),ex=Wn(tA),rA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=aA[e])?!!t[e]:!1}function Qm(){return oA}var iA=er({},ou,{key:function(e){if(e.key){var t=rA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=uf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?nA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qm,charCode:function(e){return e.type==="keypress"?uf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?uf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),sA=Wn(iA),lA=er({},Yd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tx=Wn(lA),cA=er({},ou,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qm}),uA=Wn(cA),fA=er({},Xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),dA=Wn(fA),hA=er({},Yd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),pA=Wn(hA),gA=[9,13,27,32],Jm=ro&&"CompositionEvent"in window,Wl=null;ro&&"documentMode"in document&&(Wl=document.documentMode);var mA=ro&&"TextEvent"in window&&!Wl,Bk=ro&&(!Jm||Wl&&8<Wl&&11>=Wl),rx=" ",nx=!1;function Fk(e,t){switch(e){case"keyup":return gA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zk(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wi=!1;function yA(e,t){switch(e){case"compositionend":return zk(t);case"keypress":return t.which!==32?null:(nx=!0,rx);case"textInput":return e=t.data,e===rx&&nx?null:e;default:return null}}function vA(e,t){if(Wi)return e==="compositionend"||!Jm&&Fk(e,t)?(e=Ik(),cf=qm=ko=null,Wi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bk&&t.locale!=="ko"?null:t.data;default:return null}}var xA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ax(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!xA[e.type]:t==="textarea"}function Uk(e,t,r,n){xk(n),t=_f(t,"onChange"),0<t.length&&(r=new Zm("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Gl=null,uc=null;function bA(e){Jk(e,0)}function qd(e){var t=Vi(e);if(dk(t))return e}function wA(e,t){if(e==="change")return t}var Wk=!1;if(ro){var gp;if(ro){var mp="oninput"in document;if(!mp){var ox=document.createElement("div");ox.setAttribute("oninput","return;"),mp=typeof ox.oninput=="function"}gp=mp}else gp=!1;Wk=gp&&(!document.documentMode||9<document.documentMode)}function ix(){Gl&&(Gl.detachEvent("onpropertychange",Gk),uc=Gl=null)}function Gk(e){if(e.propertyName==="value"&&qd(uc)){var t=[];Uk(t,uc,e,Hm(e)),Sk(bA,t)}}function kA(e,t,r){e==="focusin"?(ix(),Gl=t,uc=r,Gl.attachEvent("onpropertychange",Gk)):e==="focusout"&&ix()}function SA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qd(uc)}function jA(e,t){if(e==="click")return qd(t)}function OA(e,t){if(e==="input"||e==="change")return qd(t)}function _A(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ka=typeof Object.is=="function"?Object.is:_A;function fc(e,t){if(ka(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!d0.call(t,a)||!ka(e[a],t[a]))return!1}return!0}function sx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lx(e,t){var r=sx(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=sx(r)}}function Hk(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Hk(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Vk(){for(var e=window,t=xf();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=xf(e.document)}return t}function ey(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function NA(e){var t=Vk(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Hk(r.ownerDocument.documentElement,r)){if(n!==null&&ey(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,o=Math.min(n.start,a);n=n.end===void 0?o:Math.min(n.end,a),!e.extend&&o>n&&(a=n,n=o,o=a),a=lx(r,o);var i=lx(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var PA=ro&&"documentMode"in document&&11>=document.documentMode,Gi=null,C0=null,Hl=null,E0=!1;function cx(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;E0||Gi==null||Gi!==xf(n)||(n=Gi,"selectionStart"in n&&ey(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Hl&&fc(Hl,n)||(Hl=n,n=_f(C0,"onSelect"),0<n.length&&(t=new Zm("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Gi)))}function Tu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Hi={animationend:Tu("Animation","AnimationEnd"),animationiteration:Tu("Animation","AnimationIteration"),animationstart:Tu("Animation","AnimationStart"),transitionend:Tu("Transition","TransitionEnd")},yp={},Xk={};ro&&(Xk=document.createElement("div").style,"AnimationEvent"in window||(delete Hi.animationend.animation,delete Hi.animationiteration.animation,delete Hi.animationstart.animation),"TransitionEvent"in window||delete Hi.transitionend.transition);function Zd(e){if(yp[e])return yp[e];if(!Hi[e])return e;var t=Hi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Xk)return yp[e]=t[r];return e}var Kk=Zd("animationend"),Yk=Zd("animationiteration"),qk=Zd("animationstart"),Zk=Zd("transitionend"),Qk=new Map,ux="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bo(e,t){Qk.set(e,t),Pi(t,[e])}for(var vp=0;vp<ux.length;vp++){var xp=ux[vp],AA=xp.toLowerCase(),MA=xp[0].toUpperCase()+xp.slice(1);Bo(AA,"on"+MA)}Bo(Kk,"onAnimationEnd");Bo(Yk,"onAnimationIteration");Bo(qk,"onAnimationStart");Bo("dblclick","onDoubleClick");Bo("focusin","onFocus");Bo("focusout","onBlur");Bo(Zk,"onTransitionEnd");fs("onMouseEnter",["mouseout","mouseover"]);fs("onMouseLeave",["mouseout","mouseover"]);fs("onPointerEnter",["pointerout","pointerover"]);fs("onPointerLeave",["pointerout","pointerover"]);Pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bl));function fx(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,AP(n,t,void 0,e),e.currentTarget=null}function Jk(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var s=n[i],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&a.isPropagationStopped())break e;fx(a,s,c),o=l}else for(i=0;i<n.length;i++){if(s=n[i],l=s.instance,c=s.currentTarget,s=s.listener,l!==o&&a.isPropagationStopped())break e;fx(a,s,c),o=l}}}if(wf)throw e=N0,wf=!1,N0=null,e}function Bt(e,t){var r=t[L0];r===void 0&&(r=t[L0]=new Set);var n=e+"__bubble";r.has(n)||(eS(t,e,2,!1),r.add(n))}function bp(e,t,r){var n=0;t&&(n|=4),eS(r,e,n,t)}var $u="_reactListening"+Math.random().toString(36).slice(2);function dc(e){if(!e[$u]){e[$u]=!0,sk.forEach(function(r){r!=="selectionchange"&&(CA.has(r)||bp(r,!1,e),bp(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$u]||(t[$u]=!0,bp("selectionchange",!1,t))}}function eS(e,t,r,n){switch(Lk(t)){case 1:var a=HP;break;case 4:a=VP;break;default:a=Ym}r=a.bind(null,t,r,e),a=void 0,!_0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function wp(e,t,r,n,a){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var s=n.stateNode.containerInfo;if(s===a||s.nodeType===8&&s.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;i=i.return}for(;s!==null;){if(i=ri(s),i===null)return;if(l=i.tag,l===5||l===6){n=o=i;continue e}s=s.parentNode}}n=n.return}Sk(function(){var c=o,f=Hm(r),d=[];e:{var h=Qk.get(e);if(h!==void 0){var p=Zm,m=e;switch(e){case"keypress":if(uf(r)===0)break e;case"keydown":case"keyup":p=sA;break;case"focusin":m="focus",p=pp;break;case"focusout":m="blur",p=pp;break;case"beforeblur":case"afterblur":p=pp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Jv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=YP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=uA;break;case Kk:case Yk:case qk:p=QP;break;case Zk:p=dA;break;case"scroll":p=XP;break;case"wheel":p=pA;break;case"copy":case"cut":case"paste":p=eA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=tx}var v=(t&4)!==0,x=!v&&e==="scroll",y=v?h!==null?h+"Capture":null:h;v=[];for(var g=c,b;g!==null;){b=g;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,y!==null&&(S=ic(g,y),S!=null&&v.push(hc(g,S,b)))),x)break;g=g.return}0<v.length&&(h=new p(h,m,null,r,f),d.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==j0&&(m=r.relatedTarget||r.fromElement)&&(ri(m)||m[no]))break e;if((p||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=c,m=m?ri(m):null,m!==null&&(x=Ai(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(v=Jv,S="onMouseLeave",y="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(v=tx,S="onPointerLeave",y="onPointerEnter",g="pointer"),x=p==null?h:Vi(p),b=m==null?h:Vi(m),h=new v(S,g+"leave",p,r,f),h.target=x,h.relatedTarget=b,S=null,ri(f)===c&&(v=new v(y,g+"enter",m,r,f),v.target=b,v.relatedTarget=x,S=v),x=S,p&&m)t:{for(v=p,y=m,g=0,b=v;b;b=Di(b))g++;for(b=0,S=y;S;S=Di(S))b++;for(;0<g-b;)v=Di(v),g--;for(;0<b-g;)y=Di(y),b--;for(;g--;){if(v===y||y!==null&&v===y.alternate)break t;v=Di(v),y=Di(y)}v=null}else v=null;p!==null&&dx(d,h,p,v,!1),m!==null&&x!==null&&dx(d,x,m,v,!0)}}e:{if(h=c?Vi(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=wA;else if(ax(h))if(Wk)w=OA;else{w=SA;var k=kA}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=jA);if(w&&(w=w(e,c))){Uk(d,w,r,f);break e}k&&k(e,h,c),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&x0(h,"number",h.value)}switch(k=c?Vi(c):window,e){case"focusin":(ax(k)||k.contentEditable==="true")&&(Gi=k,C0=c,Hl=null);break;case"focusout":Hl=C0=Gi=null;break;case"mousedown":E0=!0;break;case"contextmenu":case"mouseup":case"dragend":E0=!1,cx(d,r,f);break;case"selectionchange":if(PA)break;case"keydown":case"keyup":cx(d,r,f)}var O;if(Jm)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Wi?Fk(e,r)&&(_="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(Bk&&r.locale!=="ko"&&(Wi||_!=="onCompositionStart"?_==="onCompositionEnd"&&Wi&&(O=Ik()):(ko=f,qm="value"in ko?ko.value:ko.textContent,Wi=!0)),k=_f(c,_),0<k.length&&(_=new ex(_,e,null,r,f),d.push({event:_,listeners:k}),O?_.data=O:(O=zk(r),O!==null&&(_.data=O)))),(O=mA?yA(e,r):vA(e,r))&&(c=_f(c,"onBeforeInput"),0<c.length&&(f=new ex("onBeforeInput","beforeinput",null,r,f),d.push({event:f,listeners:c}),f.data=O))}Jk(d,t)})}function hc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function _f(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=ic(e,r),o!=null&&n.unshift(hc(e,o,a)),o=ic(e,t),o!=null&&n.push(hc(e,o,a))),e=e.return}return n}function Di(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function dx(e,t,r,n,a){for(var o=t._reactName,i=[];r!==null&&r!==n;){var s=r,l=s.alternate,c=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&c!==null&&(s=c,a?(l=ic(r,o),l!=null&&i.unshift(hc(r,l,s))):a||(l=ic(r,o),l!=null&&i.push(hc(r,l,s)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var EA=/\r\n?/g,TA=/\u0000|\uFFFD/g;function hx(e){return(typeof e=="string"?e:""+e).replace(EA,`
`).replace(TA,"")}function Du(e,t,r){if(t=hx(t),hx(e)!==t&&r)throw Error(le(425))}function Nf(){}var T0=null,$0=null;function D0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var R0=typeof setTimeout=="function"?setTimeout:void 0,$A=typeof clearTimeout=="function"?clearTimeout:void 0,px=typeof Promise=="function"?Promise:void 0,DA=typeof queueMicrotask=="function"?queueMicrotask:typeof px<"u"?function(e){return px.resolve(null).then(e).catch(RA)}:R0;function RA(e){setTimeout(function(){throw e})}function kp(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),cc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);cc(t)}function Mo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ks=Math.random().toString(36).slice(2),Ma="__reactFiber$"+Ks,pc="__reactProps$"+Ks,no="__reactContainer$"+Ks,L0="__reactEvents$"+Ks,LA="__reactListeners$"+Ks,IA="__reactHandles$"+Ks;function ri(e){var t=e[Ma];if(t)return t;for(var r=e.parentNode;r;){if(t=r[no]||r[Ma]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=gx(e);e!==null;){if(r=e[Ma])return r;e=gx(e)}return t}e=r,r=e.parentNode}return null}function iu(e){return e=e[Ma]||e[no],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(le(33))}function Qd(e){return e[pc]||null}var I0=[],Xi=-1;function Fo(e){return{current:e}}function Ut(e){0>Xi||(e.current=I0[Xi],I0[Xi]=null,Xi--)}function Rt(e,t){Xi++,I0[Xi]=e.current,e.current=t}var Io={},on=Fo(Io),_n=Fo(!1),mi=Io;function ds(e,t){var r=e.type.contextTypes;if(!r)return Io;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in r)a[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Nn(e){return e=e.childContextTypes,e!=null}function Pf(){Ut(_n),Ut(on)}function mx(e,t,r){if(on.current!==Io)throw Error(le(168));Rt(on,t),Rt(_n,r)}function tS(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(le(108,kP(e)||"Unknown",a));return er({},r,n)}function Af(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Io,mi=on.current,Rt(on,e),Rt(_n,_n.current),!0}function yx(e,t,r){var n=e.stateNode;if(!n)throw Error(le(169));r?(e=tS(e,t,mi),n.__reactInternalMemoizedMergedChildContext=e,Ut(_n),Ut(on),Rt(on,e)):Ut(_n),Rt(_n,r)}var Ha=null,Jd=!1,Sp=!1;function rS(e){Ha===null?Ha=[e]:Ha.push(e)}function BA(e){Jd=!0,rS(e)}function zo(){if(!Sp&&Ha!==null){Sp=!0;var e=0,t=vt;try{var r=Ha;for(vt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ha=null,Jd=!1}catch(a){throw Ha!==null&&(Ha=Ha.slice(e+1)),Nk(Vm,zo),a}finally{vt=t,Sp=!1}}return null}var Ki=[],Yi=0,Mf=null,Cf=0,Yn=[],qn=0,yi=null,Va=1,Xa="";function Zo(e,t){Ki[Yi++]=Cf,Ki[Yi++]=Mf,Mf=e,Cf=t}function nS(e,t,r){Yn[qn++]=Va,Yn[qn++]=Xa,Yn[qn++]=yi,yi=e;var n=Va;e=Xa;var a=32-ba(n)-1;n&=~(1<<a),r+=1;var o=32-ba(t)+a;if(30<o){var i=a-a%5;o=(n&(1<<i)-1).toString(32),n>>=i,a-=i,Va=1<<32-ba(t)+a|r<<a|n,Xa=o+e}else Va=1<<o|r<<a|n,Xa=e}function ty(e){e.return!==null&&(Zo(e,1),nS(e,1,0))}function ry(e){for(;e===Mf;)Mf=Ki[--Yi],Ki[Yi]=null,Cf=Ki[--Yi],Ki[Yi]=null;for(;e===yi;)yi=Yn[--qn],Yn[qn]=null,Xa=Yn[--qn],Yn[qn]=null,Va=Yn[--qn],Yn[qn]=null}var Fn=null,Bn=null,Yt=!1,ya=null;function aS(e,t){var r=Zn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function vx(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Fn=e,Bn=Mo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Fn=e,Bn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=yi!==null?{id:Va,overflow:Xa}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Zn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Fn=e,Bn=null,!0):!1;default:return!1}}function B0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function F0(e){if(Yt){var t=Bn;if(t){var r=t;if(!vx(e,t)){if(B0(e))throw Error(le(418));t=Mo(r.nextSibling);var n=Fn;t&&vx(e,t)?aS(n,r):(e.flags=e.flags&-4097|2,Yt=!1,Fn=e)}}else{if(B0(e))throw Error(le(418));e.flags=e.flags&-4097|2,Yt=!1,Fn=e}}}function xx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Fn=e}function Ru(e){if(e!==Fn)return!1;if(!Yt)return xx(e),Yt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!D0(e.type,e.memoizedProps)),t&&(t=Bn)){if(B0(e))throw oS(),Error(le(418));for(;t;)aS(e,t),t=Mo(t.nextSibling)}if(xx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(le(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Bn=Mo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Bn=null}}else Bn=Fn?Mo(e.stateNode.nextSibling):null;return!0}function oS(){for(var e=Bn;e;)e=Mo(e.nextSibling)}function hs(){Bn=Fn=null,Yt=!1}function ny(e){ya===null?ya=[e]:ya.push(e)}var FA=co.ReactCurrentBatchConfig;function Sl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(le(309));var n=r.stateNode}if(!n)throw Error(le(147,e));var a=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var s=a.refs;i===null?delete s[o]:s[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(le(284));if(!r._owner)throw Error(le(290,e))}return e}function Lu(e,t){throw e=Object.prototype.toString.call(t),Error(le(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bx(e){var t=e._init;return t(e._payload)}function iS(e){function t(y,g){if(e){var b=y.deletions;b===null?(y.deletions=[g],y.flags|=16):b.push(g)}}function r(y,g){if(!e)return null;for(;g!==null;)t(y,g),g=g.sibling;return null}function n(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function a(y,g){return y=$o(y,g),y.index=0,y.sibling=null,y}function o(y,g,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<g?(y.flags|=2,g):b):(y.flags|=2,g)):(y.flags|=1048576,g)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function s(y,g,b,S){return g===null||g.tag!==6?(g=Mp(b,y.mode,S),g.return=y,g):(g=a(g,b),g.return=y,g)}function l(y,g,b,S){var w=b.type;return w===Ui?f(y,g,b.props.children,S,b.key):g!==null&&(g.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===mo&&bx(w)===g.type)?(S=a(g,b.props),S.ref=Sl(y,g,b),S.return=y,S):(S=yf(b.type,b.key,b.props,null,y.mode,S),S.ref=Sl(y,g,b),S.return=y,S)}function c(y,g,b,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==b.containerInfo||g.stateNode.implementation!==b.implementation?(g=Cp(b,y.mode,S),g.return=y,g):(g=a(g,b.children||[]),g.return=y,g)}function f(y,g,b,S,w){return g===null||g.tag!==7?(g=di(b,y.mode,S,w),g.return=y,g):(g=a(g,b),g.return=y,g)}function d(y,g,b){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Mp(""+g,y.mode,b),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case _u:return b=yf(g.type,g.key,g.props,null,y.mode,b),b.ref=Sl(y,null,g),b.return=y,b;case zi:return g=Cp(g,y.mode,b),g.return=y,g;case mo:var S=g._init;return d(y,S(g._payload),b)}if(Ll(g)||vl(g))return g=di(g,y.mode,b,null),g.return=y,g;Lu(y,g)}return null}function h(y,g,b,S){var w=g!==null?g.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:s(y,g,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case _u:return b.key===w?l(y,g,b,S):null;case zi:return b.key===w?c(y,g,b,S):null;case mo:return w=b._init,h(y,g,w(b._payload),S)}if(Ll(b)||vl(b))return w!==null?null:f(y,g,b,S,null);Lu(y,b)}return null}function p(y,g,b,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(b)||null,s(g,y,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case _u:return y=y.get(S.key===null?b:S.key)||null,l(g,y,S,w);case zi:return y=y.get(S.key===null?b:S.key)||null,c(g,y,S,w);case mo:var k=S._init;return p(y,g,b,k(S._payload),w)}if(Ll(S)||vl(S))return y=y.get(b)||null,f(g,y,S,w,null);Lu(g,S)}return null}function m(y,g,b,S){for(var w=null,k=null,O=g,_=g=0,N=null;O!==null&&_<b.length;_++){O.index>_?(N=O,O=null):N=O.sibling;var P=h(y,O,b[_],S);if(P===null){O===null&&(O=N);break}e&&O&&P.alternate===null&&t(y,O),g=o(P,g,_),k===null?w=P:k.sibling=P,k=P,O=N}if(_===b.length)return r(y,O),Yt&&Zo(y,_),w;if(O===null){for(;_<b.length;_++)O=d(y,b[_],S),O!==null&&(g=o(O,g,_),k===null?w=O:k.sibling=O,k=O);return Yt&&Zo(y,_),w}for(O=n(y,O);_<b.length;_++)N=p(O,y,_,b[_],S),N!==null&&(e&&N.alternate!==null&&O.delete(N.key===null?_:N.key),g=o(N,g,_),k===null?w=N:k.sibling=N,k=N);return e&&O.forEach(function(A){return t(y,A)}),Yt&&Zo(y,_),w}function v(y,g,b,S){var w=vl(b);if(typeof w!="function")throw Error(le(150));if(b=w.call(b),b==null)throw Error(le(151));for(var k=w=null,O=g,_=g=0,N=null,P=b.next();O!==null&&!P.done;_++,P=b.next()){O.index>_?(N=O,O=null):N=O.sibling;var A=h(y,O,P.value,S);if(A===null){O===null&&(O=N);break}e&&O&&A.alternate===null&&t(y,O),g=o(A,g,_),k===null?w=A:k.sibling=A,k=A,O=N}if(P.done)return r(y,O),Yt&&Zo(y,_),w;if(O===null){for(;!P.done;_++,P=b.next())P=d(y,P.value,S),P!==null&&(g=o(P,g,_),k===null?w=P:k.sibling=P,k=P);return Yt&&Zo(y,_),w}for(O=n(y,O);!P.done;_++,P=b.next())P=p(O,y,_,P.value,S),P!==null&&(e&&P.alternate!==null&&O.delete(P.key===null?_:P.key),g=o(P,g,_),k===null?w=P:k.sibling=P,k=P);return e&&O.forEach(function($){return t(y,$)}),Yt&&Zo(y,_),w}function x(y,g,b,S){if(typeof b=="object"&&b!==null&&b.type===Ui&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case _u:e:{for(var w=b.key,k=g;k!==null;){if(k.key===w){if(w=b.type,w===Ui){if(k.tag===7){r(y,k.sibling),g=a(k,b.props.children),g.return=y,y=g;break e}}else if(k.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===mo&&bx(w)===k.type){r(y,k.sibling),g=a(k,b.props),g.ref=Sl(y,k,b),g.return=y,y=g;break e}r(y,k);break}else t(y,k);k=k.sibling}b.type===Ui?(g=di(b.props.children,y.mode,S,b.key),g.return=y,y=g):(S=yf(b.type,b.key,b.props,null,y.mode,S),S.ref=Sl(y,g,b),S.return=y,y=S)}return i(y);case zi:e:{for(k=b.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===b.containerInfo&&g.stateNode.implementation===b.implementation){r(y,g.sibling),g=a(g,b.children||[]),g.return=y,y=g;break e}else{r(y,g);break}else t(y,g);g=g.sibling}g=Cp(b,y.mode,S),g.return=y,y=g}return i(y);case mo:return k=b._init,x(y,g,k(b._payload),S)}if(Ll(b))return m(y,g,b,S);if(vl(b))return v(y,g,b,S);Lu(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,g!==null&&g.tag===6?(r(y,g.sibling),g=a(g,b),g.return=y,y=g):(r(y,g),g=Mp(b,y.mode,S),g.return=y,y=g),i(y)):r(y,g)}return x}var ps=iS(!0),sS=iS(!1),Ef=Fo(null),Tf=null,qi=null,ay=null;function oy(){ay=qi=Tf=null}function iy(e){var t=Ef.current;Ut(Ef),e._currentValue=t}function z0(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function is(e,t){Tf=e,ay=qi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(jn=!0),e.firstContext=null)}function ra(e){var t=e._currentValue;if(ay!==e)if(e={context:e,memoizedValue:t,next:null},qi===null){if(Tf===null)throw Error(le(308));qi=e,Tf.dependencies={lanes:0,firstContext:e}}else qi=qi.next=e;return t}var ni=null;function sy(e){ni===null?ni=[e]:ni.push(e)}function lS(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,sy(t)):(r.next=a.next,a.next=r),t.interleaved=r,ao(e,n)}function ao(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var yo=!1;function ly(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Za(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Co(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ot&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,ao(e,r)}return a=n.interleaved,a===null?(t.next=t,sy(n)):(t.next=a.next,a.next=t),n.interleaved=t,ao(e,r)}function ff(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Xm(e,r)}}function wx(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?a=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?a=o=t:o=o.next=t}else a=o=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function $f(e,t,r,n){var a=e.updateQueue;yo=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,s=a.shared.pending;if(s!==null){a.shared.pending=null;var l=s,c=l.next;l.next=null,i===null?o=c:i.next=c,i=l;var f=e.alternate;f!==null&&(f=f.updateQueue,s=f.lastBaseUpdate,s!==i&&(s===null?f.firstBaseUpdate=c:s.next=c,f.lastBaseUpdate=l))}if(o!==null){var d=a.baseState;i=0,f=c=l=null,s=o;do{var h=s.lane,p=s.eventTime;if((n&h)===h){f!==null&&(f=f.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,v=s;switch(h=t,p=r,v.tag){case 1:if(m=v.payload,typeof m=="function"){d=m.call(p,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,h=typeof m=="function"?m.call(p,d,h):m,h==null)break e;d=er({},d,h);break e;case 2:yo=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},f===null?(c=f=p,l=d):f=f.next=p,i|=h;if(s=s.next,s===null){if(s=a.shared.pending,s===null)break;h=s,s=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(f===null&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=f,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);xi|=i,e.lanes=i,e.memoizedState=d}}function kx(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(le(191,a));a.call(n)}}}var su={},$a=Fo(su),gc=Fo(su),mc=Fo(su);function ai(e){if(e===su)throw Error(le(174));return e}function cy(e,t){switch(Rt(mc,t),Rt(gc,e),Rt($a,su),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:w0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=w0(t,e)}Ut($a),Rt($a,t)}function gs(){Ut($a),Ut(gc),Ut(mc)}function uS(e){ai(mc.current);var t=ai($a.current),r=w0(t,e.type);t!==r&&(Rt(gc,e),Rt($a,r))}function uy(e){gc.current===e&&(Ut($a),Ut(gc))}var Qt=Fo(0);function Df(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jp=[];function fy(){for(var e=0;e<jp.length;e++)jp[e]._workInProgressVersionPrimary=null;jp.length=0}var df=co.ReactCurrentDispatcher,Op=co.ReactCurrentBatchConfig,vi=0,Jt=null,jr=null,Tr=null,Rf=!1,Vl=!1,yc=0,zA=0;function Qr(){throw Error(le(321))}function dy(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ka(e[r],t[r]))return!1;return!0}function hy(e,t,r,n,a,o){if(vi=o,Jt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,df.current=e===null||e.memoizedState===null?HA:VA,e=r(n,a),Vl){o=0;do{if(Vl=!1,yc=0,25<=o)throw Error(le(301));o+=1,Tr=jr=null,t.updateQueue=null,df.current=XA,e=r(n,a)}while(Vl)}if(df.current=Lf,t=jr!==null&&jr.next!==null,vi=0,Tr=jr=Jt=null,Rf=!1,t)throw Error(le(300));return e}function py(){var e=yc!==0;return yc=0,e}function Aa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tr===null?Jt.memoizedState=Tr=e:Tr=Tr.next=e,Tr}function na(){if(jr===null){var e=Jt.alternate;e=e!==null?e.memoizedState:null}else e=jr.next;var t=Tr===null?Jt.memoizedState:Tr.next;if(t!==null)Tr=t,jr=e;else{if(e===null)throw Error(le(310));jr=e,e={memoizedState:jr.memoizedState,baseState:jr.baseState,baseQueue:jr.baseQueue,queue:jr.queue,next:null},Tr===null?Jt.memoizedState=Tr=e:Tr=Tr.next=e}return Tr}function vc(e,t){return typeof t=="function"?t(e):t}function _p(e){var t=na(),r=t.queue;if(r===null)throw Error(le(311));r.lastRenderedReducer=e;var n=jr,a=n.baseQueue,o=r.pending;if(o!==null){if(a!==null){var i=a.next;a.next=o.next,o.next=i}n.baseQueue=a=o,r.pending=null}if(a!==null){o=a.next,n=n.baseState;var s=i=null,l=null,c=o;do{var f=c.lane;if((vi&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=d,i=n):l=l.next=d,Jt.lanes|=f,xi|=f}c=c.next}while(c!==null&&c!==o);l===null?i=n:l.next=s,ka(n,t.memoizedState)||(jn=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do o=a.lane,Jt.lanes|=o,xi|=o,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Np(e){var t=na(),r=t.queue;if(r===null)throw Error(le(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,o=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do o=e(o,i.action),i=i.next;while(i!==a);ka(o,t.memoizedState)||(jn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function fS(){}function dS(e,t){var r=Jt,n=na(),a=t(),o=!ka(n.memoizedState,a);if(o&&(n.memoizedState=a,jn=!0),n=n.queue,gy(gS.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Tr!==null&&Tr.memoizedState.tag&1){if(r.flags|=2048,xc(9,pS.bind(null,r,n,a,t),void 0,null),$r===null)throw Error(le(349));vi&30||hS(r,t,a)}return a}function hS(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Jt.updateQueue,t===null?(t={lastEffect:null,stores:null},Jt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function pS(e,t,r,n){t.value=r,t.getSnapshot=n,mS(t)&&yS(e)}function gS(e,t,r){return r(function(){mS(t)&&yS(e)})}function mS(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ka(e,r)}catch{return!0}}function yS(e){var t=ao(e,1);t!==null&&wa(t,e,1,-1)}function Sx(e){var t=Aa();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vc,lastRenderedState:e},t.queue=e,e=e.dispatch=GA.bind(null,Jt,e),[t.memoizedState,e]}function xc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Jt.updateQueue,t===null?(t={lastEffect:null,stores:null},Jt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function vS(){return na().memoizedState}function hf(e,t,r,n){var a=Aa();Jt.flags|=e,a.memoizedState=xc(1|t,r,void 0,n===void 0?null:n)}function eh(e,t,r,n){var a=na();n=n===void 0?null:n;var o=void 0;if(jr!==null){var i=jr.memoizedState;if(o=i.destroy,n!==null&&dy(n,i.deps)){a.memoizedState=xc(t,r,o,n);return}}Jt.flags|=e,a.memoizedState=xc(1|t,r,o,n)}function jx(e,t){return hf(8390656,8,e,t)}function gy(e,t){return eh(2048,8,e,t)}function xS(e,t){return eh(4,2,e,t)}function bS(e,t){return eh(4,4,e,t)}function wS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function kS(e,t,r){return r=r!=null?r.concat([e]):null,eh(4,4,wS.bind(null,t,e),r)}function my(){}function SS(e,t){var r=na();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&dy(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function jS(e,t){var r=na();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&dy(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function OS(e,t,r){return vi&21?(ka(r,t)||(r=Mk(),Jt.lanes|=r,xi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,jn=!0),e.memoizedState=r)}function UA(e,t){var r=vt;vt=r!==0&&4>r?r:4,e(!0);var n=Op.transition;Op.transition={};try{e(!1),t()}finally{vt=r,Op.transition=n}}function _S(){return na().memoizedState}function WA(e,t,r){var n=To(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},NS(e))PS(t,r);else if(r=lS(e,t,r,n),r!==null){var a=mn();wa(r,e,n,a),AS(r,t,n)}}function GA(e,t,r){var n=To(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(NS(e))PS(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,s=o(i,r);if(a.hasEagerState=!0,a.eagerState=s,ka(s,i)){var l=t.interleaved;l===null?(a.next=a,sy(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=lS(e,t,a,n),r!==null&&(a=mn(),wa(r,e,n,a),AS(r,t,n))}}function NS(e){var t=e.alternate;return e===Jt||t!==null&&t===Jt}function PS(e,t){Vl=Rf=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function AS(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Xm(e,r)}}var Lf={readContext:ra,useCallback:Qr,useContext:Qr,useEffect:Qr,useImperativeHandle:Qr,useInsertionEffect:Qr,useLayoutEffect:Qr,useMemo:Qr,useReducer:Qr,useRef:Qr,useState:Qr,useDebugValue:Qr,useDeferredValue:Qr,useTransition:Qr,useMutableSource:Qr,useSyncExternalStore:Qr,useId:Qr,unstable_isNewReconciler:!1},HA={readContext:ra,useCallback:function(e,t){return Aa().memoizedState=[e,t===void 0?null:t],e},useContext:ra,useEffect:jx,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,hf(4194308,4,wS.bind(null,t,e),r)},useLayoutEffect:function(e,t){return hf(4194308,4,e,t)},useInsertionEffect:function(e,t){return hf(4,2,e,t)},useMemo:function(e,t){var r=Aa();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Aa();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=WA.bind(null,Jt,e),[n.memoizedState,e]},useRef:function(e){var t=Aa();return e={current:e},t.memoizedState=e},useState:Sx,useDebugValue:my,useDeferredValue:function(e){return Aa().memoizedState=e},useTransition:function(){var e=Sx(!1),t=e[0];return e=UA.bind(null,e[1]),Aa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Jt,a=Aa();if(Yt){if(r===void 0)throw Error(le(407));r=r()}else{if(r=t(),$r===null)throw Error(le(349));vi&30||hS(n,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,jx(gS.bind(null,n,o,e),[e]),n.flags|=2048,xc(9,pS.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Aa(),t=$r.identifierPrefix;if(Yt){var r=Xa,n=Va;r=(n&~(1<<32-ba(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=yc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=zA++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},VA={readContext:ra,useCallback:SS,useContext:ra,useEffect:gy,useImperativeHandle:kS,useInsertionEffect:xS,useLayoutEffect:bS,useMemo:jS,useReducer:_p,useRef:vS,useState:function(){return _p(vc)},useDebugValue:my,useDeferredValue:function(e){var t=na();return OS(t,jr.memoizedState,e)},useTransition:function(){var e=_p(vc)[0],t=na().memoizedState;return[e,t]},useMutableSource:fS,useSyncExternalStore:dS,useId:_S,unstable_isNewReconciler:!1},XA={readContext:ra,useCallback:SS,useContext:ra,useEffect:gy,useImperativeHandle:kS,useInsertionEffect:xS,useLayoutEffect:bS,useMemo:jS,useReducer:Np,useRef:vS,useState:function(){return Np(vc)},useDebugValue:my,useDeferredValue:function(e){var t=na();return jr===null?t.memoizedState=e:OS(t,jr.memoizedState,e)},useTransition:function(){var e=Np(vc)[0],t=na().memoizedState;return[e,t]},useMutableSource:fS,useSyncExternalStore:dS,useId:_S,unstable_isNewReconciler:!1};function ha(e,t){if(e&&e.defaultProps){t=er({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function U0(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:er({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var th={isMounted:function(e){return(e=e._reactInternals)?Ai(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=mn(),a=To(e),o=Za(n,a);o.payload=t,r!=null&&(o.callback=r),t=Co(e,o,a),t!==null&&(wa(t,e,a,n),ff(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=mn(),a=To(e),o=Za(n,a);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Co(e,o,a),t!==null&&(wa(t,e,a,n),ff(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=mn(),n=To(e),a=Za(r,n);a.tag=2,t!=null&&(a.callback=t),t=Co(e,a,n),t!==null&&(wa(t,e,n,r),ff(t,e,n))}};function Ox(e,t,r,n,a,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!fc(r,n)||!fc(a,o):!0}function MS(e,t,r){var n=!1,a=Io,o=t.contextType;return typeof o=="object"&&o!==null?o=ra(o):(a=Nn(t)?mi:on.current,n=t.contextTypes,o=(n=n!=null)?ds(e,a):Io),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=th,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function _x(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&th.enqueueReplaceState(t,t.state,null)}function W0(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},ly(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=ra(o):(o=Nn(t)?mi:on.current,a.context=ds(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(U0(e,t,o,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&th.enqueueReplaceState(a,a.state,null),$f(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function ms(e,t){try{var r="",n=t;do r+=wP(n),n=n.return;while(n);var a=r}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function Pp(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function G0(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var KA=typeof WeakMap=="function"?WeakMap:Map;function CS(e,t,r){r=Za(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Bf||(Bf=!0,eg=n),G0(e,t)},r}function ES(e,t,r){r=Za(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){G0(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){G0(e,t),typeof n!="function"&&(Eo===null?Eo=new Set([this]):Eo.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Nx(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new KA;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=lM.bind(null,e,t,r),t.then(e,e))}function Px(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ax(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Za(-1,1),t.tag=2,Co(r,t,1))),r.lanes|=1),e)}var YA=co.ReactCurrentOwner,jn=!1;function hn(e,t,r,n){t.child=e===null?sS(t,null,r,n):ps(t,e.child,r,n)}function Mx(e,t,r,n,a){r=r.render;var o=t.ref;return is(t,a),n=hy(e,t,r,n,o,a),r=py(),e!==null&&!jn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,oo(e,t,a)):(Yt&&r&&ty(t),t.flags|=1,hn(e,t,n,a),t.child)}function Cx(e,t,r,n,a){if(e===null){var o=r.type;return typeof o=="function"&&!jy(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,TS(e,t,o,n,a)):(e=yf(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:fc,r(i,n)&&e.ref===t.ref)return oo(e,t,a)}return t.flags|=1,e=$o(o,n),e.ref=t.ref,e.return=t,t.child=e}function TS(e,t,r,n,a){if(e!==null){var o=e.memoizedProps;if(fc(o,n)&&e.ref===t.ref)if(jn=!1,t.pendingProps=n=o,(e.lanes&a)!==0)e.flags&131072&&(jn=!0);else return t.lanes=e.lanes,oo(e,t,a)}return H0(e,t,r,n,a)}function $S(e,t,r){var n=t.pendingProps,a=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rt(Qi,Rn),Rn|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Rt(Qi,Rn),Rn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Rt(Qi,Rn),Rn|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Rt(Qi,Rn),Rn|=n;return hn(e,t,a,r),t.child}function DS(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function H0(e,t,r,n,a){var o=Nn(r)?mi:on.current;return o=ds(t,o),is(t,a),r=hy(e,t,r,n,o,a),n=py(),e!==null&&!jn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,oo(e,t,a)):(Yt&&n&&ty(t),t.flags|=1,hn(e,t,r,a),t.child)}function Ex(e,t,r,n,a){if(Nn(r)){var o=!0;Af(t)}else o=!1;if(is(t,a),t.stateNode===null)pf(e,t),MS(t,r,n),W0(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,s=t.memoizedProps;i.props=s;var l=i.context,c=r.contextType;typeof c=="object"&&c!==null?c=ra(c):(c=Nn(r)?mi:on.current,c=ds(t,c));var f=r.getDerivedStateFromProps,d=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==n||l!==c)&&_x(t,i,n,c),yo=!1;var h=t.memoizedState;i.state=h,$f(t,n,i,a),l=t.memoizedState,s!==n||h!==l||_n.current||yo?(typeof f=="function"&&(U0(t,r,f,n),l=t.memoizedState),(s=yo||Ox(t,r,s,n,h,l,c))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),i.props=n,i.state=l,i.context=c,n=s):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,cS(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ha(t.type,s),i.props=c,d=t.pendingProps,h=i.context,l=r.contextType,typeof l=="object"&&l!==null?l=ra(l):(l=Nn(r)?mi:on.current,l=ds(t,l));var p=r.getDerivedStateFromProps;(f=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==d||h!==l)&&_x(t,i,n,l),yo=!1,h=t.memoizedState,i.state=h,$f(t,n,i,a);var m=t.memoizedState;s!==d||h!==m||_n.current||yo?(typeof p=="function"&&(U0(t,r,p,n),m=t.memoizedState),(c=yo||Ox(t,r,c,n,h,m,l)||!1)?(f||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,m,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,m,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),i.props=n,i.state=m,i.context=l,n=c):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return V0(e,t,r,n,o,a)}function V0(e,t,r,n,a,o){DS(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&yx(t,r,!1),oo(e,t,o);n=t.stateNode,YA.current=t;var s=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=ps(t,e.child,null,o),t.child=ps(t,null,s,o)):hn(e,t,s,o),t.memoizedState=n.state,a&&yx(t,r,!0),t.child}function RS(e){var t=e.stateNode;t.pendingContext?mx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&mx(e,t.context,!1),cy(e,t.containerInfo)}function Tx(e,t,r,n,a){return hs(),ny(a),t.flags|=256,hn(e,t,r,n),t.child}var X0={dehydrated:null,treeContext:null,retryLane:0};function K0(e){return{baseLanes:e,cachePool:null,transitions:null}}function LS(e,t,r){var n=t.pendingProps,a=Qt.current,o=!1,i=(t.flags&128)!==0,s;if((s=i)||(s=e!==null&&e.memoizedState===null?!1:(a&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Rt(Qt,a&1),e===null)return F0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=ah(i,n,0,null),e=di(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=K0(r),t.memoizedState=X0,e):yy(t,i));if(a=e.memoizedState,a!==null&&(s=a.dehydrated,s!==null))return qA(e,t,i,n,s,a,r);if(o){o=n.fallback,i=t.mode,a=e.child,s=a.sibling;var l={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=$o(a,l),n.subtreeFlags=a.subtreeFlags&14680064),s!==null?o=$o(s,o):(o=di(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?K0(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=X0,n}return o=e.child,e=o.sibling,n=$o(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function yy(e,t){return t=ah({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Iu(e,t,r,n){return n!==null&&ny(n),ps(t,e.child,null,r),e=yy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function qA(e,t,r,n,a,o,i){if(r)return t.flags&256?(t.flags&=-257,n=Pp(Error(le(422))),Iu(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,a=t.mode,n=ah({mode:"visible",children:n.children},a,0,null),o=di(o,a,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&ps(t,e.child,null,i),t.child.memoizedState=K0(i),t.memoizedState=X0,o);if(!(t.mode&1))return Iu(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var s=n.dgst;return n=s,o=Error(le(419)),n=Pp(o,n,void 0),Iu(e,t,i,n)}if(s=(i&e.childLanes)!==0,jn||s){if(n=$r,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,ao(e,a),wa(n,e,a,-1))}return Sy(),n=Pp(Error(le(421))),Iu(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=cM.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,Bn=Mo(a.nextSibling),Fn=t,Yt=!0,ya=null,e!==null&&(Yn[qn++]=Va,Yn[qn++]=Xa,Yn[qn++]=yi,Va=e.id,Xa=e.overflow,yi=t),t=yy(t,n.children),t.flags|=4096,t)}function $x(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),z0(e.return,t,r)}function Ap(e,t,r,n,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=a)}function IS(e,t,r){var n=t.pendingProps,a=n.revealOrder,o=n.tail;if(hn(e,t,n.children,r),n=Qt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$x(e,r,t);else if(e.tag===19)$x(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Rt(Qt,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Df(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Ap(t,!1,a,r,o);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Df(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Ap(t,!0,r,null,o);break;case"together":Ap(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function pf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function oo(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),xi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(le(153));if(t.child!==null){for(e=t.child,r=$o(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=$o(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function ZA(e,t,r){switch(t.tag){case 3:RS(t),hs();break;case 5:uS(t);break;case 1:Nn(t.type)&&Af(t);break;case 4:cy(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Rt(Ef,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Rt(Qt,Qt.current&1),t.flags|=128,null):r&t.child.childLanes?LS(e,t,r):(Rt(Qt,Qt.current&1),e=oo(e,t,r),e!==null?e.sibling:null);Rt(Qt,Qt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return IS(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Rt(Qt,Qt.current),n)break;return null;case 22:case 23:return t.lanes=0,$S(e,t,r)}return oo(e,t,r)}var BS,Y0,FS,zS;BS=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Y0=function(){};FS=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,ai($a.current);var o=null;switch(r){case"input":a=y0(e,a),n=y0(e,n),o=[];break;case"select":a=er({},a,{value:void 0}),n=er({},n,{value:void 0}),o=[];break;case"textarea":a=b0(e,a),n=b0(e,n),o=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Nf)}k0(r,n);var i;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var s=a[c];for(i in s)s.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ac.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in n){var l=n[c];if(s=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(i in s)!s.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in l)l.hasOwnProperty(i)&&s[i]!==l[i]&&(r||(r={}),r[i]=l[i])}else r||(o||(o=[]),o.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ac.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Bt("scroll",e),o||s===l||(o=[])):(o=o||[]).push(c,l))}r&&(o=o||[]).push("style",r);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};zS=function(e,t,r,n){r!==n&&(t.flags|=4)};function jl(e,t){if(!Yt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Jr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function QA(e,t,r){var n=t.pendingProps;switch(ry(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jr(t),null;case 1:return Nn(t.type)&&Pf(),Jr(t),null;case 3:return n=t.stateNode,gs(),Ut(_n),Ut(on),fy(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ru(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ya!==null&&(ng(ya),ya=null))),Y0(e,t),Jr(t),null;case 5:uy(t);var a=ai(mc.current);if(r=t.type,e!==null&&t.stateNode!=null)FS(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(le(166));return Jr(t),null}if(e=ai($a.current),Ru(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Ma]=t,n[pc]=o,e=(t.mode&1)!==0,r){case"dialog":Bt("cancel",n),Bt("close",n);break;case"iframe":case"object":case"embed":Bt("load",n);break;case"video":case"audio":for(a=0;a<Bl.length;a++)Bt(Bl[a],n);break;case"source":Bt("error",n);break;case"img":case"image":case"link":Bt("error",n),Bt("load",n);break;case"details":Bt("toggle",n);break;case"input":Wv(n,o),Bt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Bt("invalid",n);break;case"textarea":Hv(n,o),Bt("invalid",n)}k0(r,o),a=null;for(var i in o)if(o.hasOwnProperty(i)){var s=o[i];i==="children"?typeof s=="string"?n.textContent!==s&&(o.suppressHydrationWarning!==!0&&Du(n.textContent,s,e),a=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Du(n.textContent,s,e),a=["children",""+s]):ac.hasOwnProperty(i)&&s!=null&&i==="onScroll"&&Bt("scroll",n)}switch(r){case"input":Nu(n),Gv(n,o,!0);break;case"textarea":Nu(n),Vv(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Nf)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=gk(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Ma]=t,e[pc]=n,BS(e,t,!1,!1),t.stateNode=e;e:{switch(i=S0(r,n),r){case"dialog":Bt("cancel",e),Bt("close",e),a=n;break;case"iframe":case"object":case"embed":Bt("load",e),a=n;break;case"video":case"audio":for(a=0;a<Bl.length;a++)Bt(Bl[a],e);a=n;break;case"source":Bt("error",e),a=n;break;case"img":case"image":case"link":Bt("error",e),Bt("load",e),a=n;break;case"details":Bt("toggle",e),a=n;break;case"input":Wv(e,n),a=y0(e,n),Bt("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=er({},n,{value:void 0}),Bt("invalid",e);break;case"textarea":Hv(e,n),a=b0(e,n),Bt("invalid",e);break;default:a=n}k0(r,a),s=a;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?vk(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&mk(e,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&oc(e,l):typeof l=="number"&&oc(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ac.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Bt("scroll",e):l!=null&&zm(e,o,l,i))}switch(r){case"input":Nu(e),Gv(e,n,!1);break;case"textarea":Nu(e),Vv(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Lo(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?rs(e,!!n.multiple,o,!1):n.defaultValue!=null&&rs(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Nf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Jr(t),null;case 6:if(e&&t.stateNode!=null)zS(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(le(166));if(r=ai(mc.current),ai($a.current),Ru(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ma]=t,(o=n.nodeValue!==r)&&(e=Fn,e!==null))switch(e.tag){case 3:Du(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Du(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ma]=t,t.stateNode=n}return Jr(t),null;case 13:if(Ut(Qt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Yt&&Bn!==null&&t.mode&1&&!(t.flags&128))oS(),hs(),t.flags|=98560,o=!1;else if(o=Ru(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(le(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(le(317));o[Ma]=t}else hs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Jr(t),o=!1}else ya!==null&&(ng(ya),ya=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Qt.current&1?Or===0&&(Or=3):Sy())),t.updateQueue!==null&&(t.flags|=4),Jr(t),null);case 4:return gs(),Y0(e,t),e===null&&dc(t.stateNode.containerInfo),Jr(t),null;case 10:return iy(t.type._context),Jr(t),null;case 17:return Nn(t.type)&&Pf(),Jr(t),null;case 19:if(Ut(Qt),o=t.memoizedState,o===null)return Jr(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)jl(o,!1);else{if(Or!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Df(e),i!==null){for(t.flags|=128,jl(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Rt(Qt,Qt.current&1|2),t.child}e=e.sibling}o.tail!==null&&fr()>ys&&(t.flags|=128,n=!0,jl(o,!1),t.lanes=4194304)}else{if(!n)if(e=Df(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),jl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Yt)return Jr(t),null}else 2*fr()-o.renderingStartTime>ys&&r!==1073741824&&(t.flags|=128,n=!0,jl(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=fr(),t.sibling=null,r=Qt.current,Rt(Qt,n?r&1|2:r&1),t):(Jr(t),null);case 22:case 23:return ky(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Rn&1073741824&&(Jr(t),t.subtreeFlags&6&&(t.flags|=8192)):Jr(t),null;case 24:return null;case 25:return null}throw Error(le(156,t.tag))}function JA(e,t){switch(ry(t),t.tag){case 1:return Nn(t.type)&&Pf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return gs(),Ut(_n),Ut(on),fy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return uy(t),null;case 13:if(Ut(Qt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(le(340));hs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ut(Qt),null;case 4:return gs(),null;case 10:return iy(t.type._context),null;case 22:case 23:return ky(),null;case 24:return null;default:return null}}var Bu=!1,rn=!1,eM=typeof WeakSet=="function"?WeakSet:Set,be=null;function Zi(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ar(e,t,n)}else r.current=null}function q0(e,t,r){try{r()}catch(n){ar(e,t,n)}}var Dx=!1;function tM(e,t){if(T0=jf,e=Vk(),ey(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,s=-1,l=-1,c=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==r||a!==0&&d.nodeType!==3||(s=i+a),d!==o||n!==0&&d.nodeType!==3||(l=i+n),d.nodeType===3&&(i+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===r&&++c===a&&(s=i),h===o&&++f===n&&(l=i),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for($0={focusedElem:e,selectionRange:r},jf=!1,be=t;be!==null;)if(t=be,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,be=e;else for(;be!==null;){t=be;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,x=m.memoizedState,y=t.stateNode,g=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:ha(t.type,v),x);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(le(163))}}catch(S){ar(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,be=e;break}be=t.return}return m=Dx,Dx=!1,m}function Xl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&q0(t,r,o)}a=a.next}while(a!==n)}}function rh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Z0(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function US(e){var t=e.alternate;t!==null&&(e.alternate=null,US(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ma],delete t[pc],delete t[L0],delete t[LA],delete t[IA])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function WS(e){return e.tag===5||e.tag===3||e.tag===4}function Rx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||WS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Q0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Nf));else if(n!==4&&(e=e.child,e!==null))for(Q0(e,t,r),e=e.sibling;e!==null;)Q0(e,t,r),e=e.sibling}function J0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(J0(e,t,r),e=e.sibling;e!==null;)J0(e,t,r),e=e.sibling}var Ur=null,pa=!1;function po(e,t,r){for(r=r.child;r!==null;)GS(e,t,r),r=r.sibling}function GS(e,t,r){if(Ta&&typeof Ta.onCommitFiberUnmount=="function")try{Ta.onCommitFiberUnmount(Kd,r)}catch{}switch(r.tag){case 5:rn||Zi(r,t);case 6:var n=Ur,a=pa;Ur=null,po(e,t,r),Ur=n,pa=a,Ur!==null&&(pa?(e=Ur,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ur.removeChild(r.stateNode));break;case 18:Ur!==null&&(pa?(e=Ur,r=r.stateNode,e.nodeType===8?kp(e.parentNode,r):e.nodeType===1&&kp(e,r),cc(e)):kp(Ur,r.stateNode));break;case 4:n=Ur,a=pa,Ur=r.stateNode.containerInfo,pa=!0,po(e,t,r),Ur=n,pa=a;break;case 0:case 11:case 14:case 15:if(!rn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var o=a,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&q0(r,t,i),a=a.next}while(a!==n)}po(e,t,r);break;case 1:if(!rn&&(Zi(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){ar(r,t,s)}po(e,t,r);break;case 21:po(e,t,r);break;case 22:r.mode&1?(rn=(n=rn)||r.memoizedState!==null,po(e,t,r),rn=n):po(e,t,r);break;default:po(e,t,r)}}function Lx(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new eM),t.forEach(function(n){var a=uM.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function fa(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var o=e,i=t,s=i;e:for(;s!==null;){switch(s.tag){case 5:Ur=s.stateNode,pa=!1;break e;case 3:Ur=s.stateNode.containerInfo,pa=!0;break e;case 4:Ur=s.stateNode.containerInfo,pa=!0;break e}s=s.return}if(Ur===null)throw Error(le(160));GS(o,i,a),Ur=null,pa=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){ar(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)HS(t,e),t=t.sibling}function HS(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fa(t,e),Pa(e),n&4){try{Xl(3,e,e.return),rh(3,e)}catch(v){ar(e,e.return,v)}try{Xl(5,e,e.return)}catch(v){ar(e,e.return,v)}}break;case 1:fa(t,e),Pa(e),n&512&&r!==null&&Zi(r,r.return);break;case 5:if(fa(t,e),Pa(e),n&512&&r!==null&&Zi(r,r.return),e.flags&32){var a=e.stateNode;try{oc(a,"")}catch(v){ar(e,e.return,v)}}if(n&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&hk(a,o),S0(s,i);var c=S0(s,o);for(i=0;i<l.length;i+=2){var f=l[i],d=l[i+1];f==="style"?vk(a,d):f==="dangerouslySetInnerHTML"?mk(a,d):f==="children"?oc(a,d):zm(a,f,d,c)}switch(s){case"input":v0(a,o);break;case"textarea":pk(a,o);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?rs(a,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?rs(a,!!o.multiple,o.defaultValue,!0):rs(a,!!o.multiple,o.multiple?[]:"",!1))}a[pc]=o}catch(v){ar(e,e.return,v)}}break;case 6:if(fa(t,e),Pa(e),n&4){if(e.stateNode===null)throw Error(le(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(v){ar(e,e.return,v)}}break;case 3:if(fa(t,e),Pa(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{cc(t.containerInfo)}catch(v){ar(e,e.return,v)}break;case 4:fa(t,e),Pa(e);break;case 13:fa(t,e),Pa(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(by=fr())),n&4&&Lx(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(rn=(c=rn)||f,fa(t,e),rn=c):fa(t,e),Pa(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!f&&e.mode&1)for(be=e,f=e.child;f!==null;){for(d=be=f;be!==null;){switch(h=be,p=h.child,h.tag){case 0:case 11:case 14:case 15:Xl(4,h,h.return);break;case 1:Zi(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){ar(n,r,v)}}break;case 5:Zi(h,h.return);break;case 22:if(h.memoizedState!==null){Bx(d);continue}}p!==null?(p.return=h,be=p):Bx(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{a=d.stateNode,c?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=d.stateNode,l=d.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=yk("display",i))}catch(v){ar(e,e.return,v)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){ar(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:fa(t,e),Pa(e),n&4&&Lx(e);break;case 21:break;default:fa(t,e),Pa(e)}}function Pa(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(WS(r)){var n=r;break e}r=r.return}throw Error(le(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(oc(a,""),n.flags&=-33);var o=Rx(e);J0(e,o,a);break;case 3:case 4:var i=n.stateNode.containerInfo,s=Rx(e);Q0(e,s,i);break;default:throw Error(le(161))}}catch(l){ar(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function rM(e,t,r){be=e,VS(e)}function VS(e,t,r){for(var n=(e.mode&1)!==0;be!==null;){var a=be,o=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||Bu;if(!i){var s=a.alternate,l=s!==null&&s.memoizedState!==null||rn;s=Bu;var c=rn;if(Bu=i,(rn=l)&&!c)for(be=a;be!==null;)i=be,l=i.child,i.tag===22&&i.memoizedState!==null?Fx(a):l!==null?(l.return=i,be=l):Fx(a);for(;o!==null;)be=o,VS(o),o=o.sibling;be=a,Bu=s,rn=c}Ix(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,be=o):Ix(e)}}function Ix(e){for(;be!==null;){var t=be;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:rn||rh(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!rn)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:ha(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&kx(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}kx(t,i,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&cc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(le(163))}rn||t.flags&512&&Z0(t)}catch(h){ar(t,t.return,h)}}if(t===e){be=null;break}if(r=t.sibling,r!==null){r.return=t.return,be=r;break}be=t.return}}function Bx(e){for(;be!==null;){var t=be;if(t===e){be=null;break}var r=t.sibling;if(r!==null){r.return=t.return,be=r;break}be=t.return}}function Fx(e){for(;be!==null;){var t=be;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{rh(4,t)}catch(l){ar(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){ar(t,a,l)}}var o=t.return;try{Z0(t)}catch(l){ar(t,o,l)}break;case 5:var i=t.return;try{Z0(t)}catch(l){ar(t,i,l)}}}catch(l){ar(t,t.return,l)}if(t===e){be=null;break}var s=t.sibling;if(s!==null){s.return=t.return,be=s;break}be=t.return}}var nM=Math.ceil,If=co.ReactCurrentDispatcher,vy=co.ReactCurrentOwner,ea=co.ReactCurrentBatchConfig,ot=0,$r=null,yr=null,Hr=0,Rn=0,Qi=Fo(0),Or=0,bc=null,xi=0,nh=0,xy=0,Kl=null,Sn=null,by=0,ys=1/0,Ga=null,Bf=!1,eg=null,Eo=null,Fu=!1,So=null,Ff=0,Yl=0,tg=null,gf=-1,mf=0;function mn(){return ot&6?fr():gf!==-1?gf:gf=fr()}function To(e){return e.mode&1?ot&2&&Hr!==0?Hr&-Hr:FA.transition!==null?(mf===0&&(mf=Mk()),mf):(e=vt,e!==0||(e=window.event,e=e===void 0?16:Lk(e.type)),e):1}function wa(e,t,r,n){if(50<Yl)throw Yl=0,tg=null,Error(le(185));au(e,r,n),(!(ot&2)||e!==$r)&&(e===$r&&(!(ot&2)&&(nh|=r),Or===4&&bo(e,Hr)),Pn(e,n),r===1&&ot===0&&!(t.mode&1)&&(ys=fr()+500,Jd&&zo()))}function Pn(e,t){var r=e.callbackNode;FP(e,t);var n=Sf(e,e===$r?Hr:0);if(n===0)r!==null&&Yv(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Yv(r),t===1)e.tag===0?BA(zx.bind(null,e)):rS(zx.bind(null,e)),DA(function(){!(ot&6)&&zo()}),r=null;else{switch(Ck(n)){case 1:r=Vm;break;case 4:r=Pk;break;case 16:r=kf;break;case 536870912:r=Ak;break;default:r=kf}r=ej(r,XS.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function XS(e,t){if(gf=-1,mf=0,ot&6)throw Error(le(327));var r=e.callbackNode;if(ss()&&e.callbackNode!==r)return null;var n=Sf(e,e===$r?Hr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=zf(e,n);else{t=n;var a=ot;ot|=2;var o=YS();($r!==e||Hr!==t)&&(Ga=null,ys=fr()+500,fi(e,t));do try{iM();break}catch(s){KS(e,s)}while(!0);oy(),If.current=o,ot=a,yr!==null?t=0:($r=null,Hr=0,t=Or)}if(t!==0){if(t===2&&(a=P0(e),a!==0&&(n=a,t=rg(e,a))),t===1)throw r=bc,fi(e,0),bo(e,n),Pn(e,fr()),r;if(t===6)bo(e,n);else{if(a=e.current.alternate,!(n&30)&&!aM(a)&&(t=zf(e,n),t===2&&(o=P0(e),o!==0&&(n=o,t=rg(e,o))),t===1))throw r=bc,fi(e,0),bo(e,n),Pn(e,fr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(le(345));case 2:Qo(e,Sn,Ga);break;case 3:if(bo(e,n),(n&130023424)===n&&(t=by+500-fr(),10<t)){if(Sf(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){mn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=R0(Qo.bind(null,e,Sn,Ga),t);break}Qo(e,Sn,Ga);break;case 4:if(bo(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-ba(n);o=1<<i,i=t[i],i>a&&(a=i),n&=~o}if(n=a,n=fr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*nM(n/1960))-n,10<n){e.timeoutHandle=R0(Qo.bind(null,e,Sn,Ga),n);break}Qo(e,Sn,Ga);break;case 5:Qo(e,Sn,Ga);break;default:throw Error(le(329))}}}return Pn(e,fr()),e.callbackNode===r?XS.bind(null,e):null}function rg(e,t){var r=Kl;return e.current.memoizedState.isDehydrated&&(fi(e,t).flags|=256),e=zf(e,t),e!==2&&(t=Sn,Sn=r,t!==null&&ng(t)),e}function ng(e){Sn===null?Sn=e:Sn.push.apply(Sn,e)}function aM(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],o=a.getSnapshot;a=a.value;try{if(!ka(o(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function bo(e,t){for(t&=~xy,t&=~nh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ba(t),n=1<<r;e[r]=-1,t&=~n}}function zx(e){if(ot&6)throw Error(le(327));ss();var t=Sf(e,0);if(!(t&1))return Pn(e,fr()),null;var r=zf(e,t);if(e.tag!==0&&r===2){var n=P0(e);n!==0&&(t=n,r=rg(e,n))}if(r===1)throw r=bc,fi(e,0),bo(e,t),Pn(e,fr()),r;if(r===6)throw Error(le(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Qo(e,Sn,Ga),Pn(e,fr()),null}function wy(e,t){var r=ot;ot|=1;try{return e(t)}finally{ot=r,ot===0&&(ys=fr()+500,Jd&&zo())}}function bi(e){So!==null&&So.tag===0&&!(ot&6)&&ss();var t=ot;ot|=1;var r=ea.transition,n=vt;try{if(ea.transition=null,vt=1,e)return e()}finally{vt=n,ea.transition=r,ot=t,!(ot&6)&&zo()}}function ky(){Rn=Qi.current,Ut(Qi)}function fi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,$A(r)),yr!==null)for(r=yr.return;r!==null;){var n=r;switch(ry(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Pf();break;case 3:gs(),Ut(_n),Ut(on),fy();break;case 5:uy(n);break;case 4:gs();break;case 13:Ut(Qt);break;case 19:Ut(Qt);break;case 10:iy(n.type._context);break;case 22:case 23:ky()}r=r.return}if($r=e,yr=e=$o(e.current,null),Hr=Rn=t,Or=0,bc=null,xy=nh=xi=0,Sn=Kl=null,ni!==null){for(t=0;t<ni.length;t++)if(r=ni[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=a,n.next=i}r.pending=n}ni=null}return e}function KS(e,t){do{var r=yr;try{if(oy(),df.current=Lf,Rf){for(var n=Jt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Rf=!1}if(vi=0,Tr=jr=Jt=null,Vl=!1,yc=0,vy.current=null,r===null||r.return===null){Or=1,bc=t,yr=null;break}e:{var o=e,i=r.return,s=r,l=t;if(t=Hr,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,f=s,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=Px(i);if(p!==null){p.flags&=-257,Ax(p,i,s,o,t),p.mode&1&&Nx(o,c,t),t=p,l=c;var m=t.updateQueue;if(m===null){var v=new Set;v.add(l),t.updateQueue=v}else m.add(l);break e}else{if(!(t&1)){Nx(o,c,t),Sy();break e}l=Error(le(426))}}else if(Yt&&s.mode&1){var x=Px(i);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Ax(x,i,s,o,t),ny(ms(l,s));break e}}o=l=ms(l,s),Or!==4&&(Or=2),Kl===null?Kl=[o]:Kl.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=CS(o,l,t);wx(o,y);break e;case 1:s=l;var g=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Eo===null||!Eo.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=ES(o,s,t);wx(o,S);break e}}o=o.return}while(o!==null)}ZS(r)}catch(w){t=w,yr===r&&r!==null&&(yr=r=r.return);continue}break}while(!0)}function YS(){var e=If.current;return If.current=Lf,e===null?Lf:e}function Sy(){(Or===0||Or===3||Or===2)&&(Or=4),$r===null||!(xi&268435455)&&!(nh&268435455)||bo($r,Hr)}function zf(e,t){var r=ot;ot|=2;var n=YS();($r!==e||Hr!==t)&&(Ga=null,fi(e,t));do try{oM();break}catch(a){KS(e,a)}while(!0);if(oy(),ot=r,If.current=n,yr!==null)throw Error(le(261));return $r=null,Hr=0,Or}function oM(){for(;yr!==null;)qS(yr)}function iM(){for(;yr!==null&&!CP();)qS(yr)}function qS(e){var t=JS(e.alternate,e,Rn);e.memoizedProps=e.pendingProps,t===null?ZS(e):yr=t,vy.current=null}function ZS(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=JA(r,t),r!==null){r.flags&=32767,yr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Or=6,yr=null;return}}else if(r=QA(r,t,Rn),r!==null){yr=r;return}if(t=t.sibling,t!==null){yr=t;return}yr=t=e}while(t!==null);Or===0&&(Or=5)}function Qo(e,t,r){var n=vt,a=ea.transition;try{ea.transition=null,vt=1,sM(e,t,r,n)}finally{ea.transition=a,vt=n}return null}function sM(e,t,r,n){do ss();while(So!==null);if(ot&6)throw Error(le(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(le(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(zP(e,o),e===$r&&(yr=$r=null,Hr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Fu||(Fu=!0,ej(kf,function(){return ss(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=ea.transition,ea.transition=null;var i=vt;vt=1;var s=ot;ot|=4,vy.current=null,tM(e,r),HS(r,e),NA($0),jf=!!T0,$0=T0=null,e.current=r,rM(r),EP(),ot=s,vt=i,ea.transition=o}else e.current=r;if(Fu&&(Fu=!1,So=e,Ff=a),o=e.pendingLanes,o===0&&(Eo=null),DP(r.stateNode),Pn(e,fr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Bf)throw Bf=!1,e=eg,eg=null,e;return Ff&1&&e.tag!==0&&ss(),o=e.pendingLanes,o&1?e===tg?Yl++:(Yl=0,tg=e):Yl=0,zo(),null}function ss(){if(So!==null){var e=Ck(Ff),t=ea.transition,r=vt;try{if(ea.transition=null,vt=16>e?16:e,So===null)var n=!1;else{if(e=So,So=null,Ff=0,ot&6)throw Error(le(331));var a=ot;for(ot|=4,be=e.current;be!==null;){var o=be,i=o.child;if(be.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(be=c;be!==null;){var f=be;switch(f.tag){case 0:case 11:case 15:Xl(8,f,o)}var d=f.child;if(d!==null)d.return=f,be=d;else for(;be!==null;){f=be;var h=f.sibling,p=f.return;if(US(f),f===c){be=null;break}if(h!==null){h.return=p,be=h;break}be=p}}}var m=o.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}be=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,be=i;else e:for(;be!==null;){if(o=be,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Xl(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,be=y;break e}be=o.return}}var g=e.current;for(be=g;be!==null;){i=be;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,be=b;else e:for(i=g;be!==null;){if(s=be,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:rh(9,s)}}catch(w){ar(s,s.return,w)}if(s===i){be=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,be=S;break e}be=s.return}}if(ot=a,zo(),Ta&&typeof Ta.onPostCommitFiberRoot=="function")try{Ta.onPostCommitFiberRoot(Kd,e)}catch{}n=!0}return n}finally{vt=r,ea.transition=t}}return!1}function Ux(e,t,r){t=ms(r,t),t=CS(e,t,1),e=Co(e,t,1),t=mn(),e!==null&&(au(e,1,t),Pn(e,t))}function ar(e,t,r){if(e.tag===3)Ux(e,e,r);else for(;t!==null;){if(t.tag===3){Ux(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Eo===null||!Eo.has(n))){e=ms(r,e),e=ES(t,e,1),t=Co(t,e,1),e=mn(),t!==null&&(au(t,1,e),Pn(t,e));break}}t=t.return}}function lM(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=mn(),e.pingedLanes|=e.suspendedLanes&r,$r===e&&(Hr&r)===r&&(Or===4||Or===3&&(Hr&130023424)===Hr&&500>fr()-by?fi(e,0):xy|=r),Pn(e,t)}function QS(e,t){t===0&&(e.mode&1?(t=Mu,Mu<<=1,!(Mu&130023424)&&(Mu=4194304)):t=1);var r=mn();e=ao(e,t),e!==null&&(au(e,t,r),Pn(e,r))}function cM(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),QS(e,r)}function uM(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(le(314))}n!==null&&n.delete(t),QS(e,r)}var JS;JS=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||_n.current)jn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return jn=!1,ZA(e,t,r);jn=!!(e.flags&131072)}else jn=!1,Yt&&t.flags&1048576&&nS(t,Cf,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;pf(e,t),e=t.pendingProps;var a=ds(t,on.current);is(t,r),a=hy(null,t,n,e,a,r);var o=py();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Nn(n)?(o=!0,Af(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,ly(t),a.updater=th,t.stateNode=a,a._reactInternals=t,W0(t,n,e,r),t=V0(null,t,n,!0,o,r)):(t.tag=0,Yt&&o&&ty(t),hn(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(pf(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=dM(n),e=ha(n,e),a){case 0:t=H0(null,t,n,e,r);break e;case 1:t=Ex(null,t,n,e,r);break e;case 11:t=Mx(null,t,n,e,r);break e;case 14:t=Cx(null,t,n,ha(n.type,e),r);break e}throw Error(le(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ha(n,a),H0(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ha(n,a),Ex(e,t,n,a,r);case 3:e:{if(RS(t),e===null)throw Error(le(387));n=t.pendingProps,o=t.memoizedState,a=o.element,cS(e,t),$f(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=ms(Error(le(423)),t),t=Tx(e,t,n,r,a);break e}else if(n!==a){a=ms(Error(le(424)),t),t=Tx(e,t,n,r,a);break e}else for(Bn=Mo(t.stateNode.containerInfo.firstChild),Fn=t,Yt=!0,ya=null,r=sS(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(hs(),n===a){t=oo(e,t,r);break e}hn(e,t,n,r)}t=t.child}return t;case 5:return uS(t),e===null&&F0(t),n=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,i=a.children,D0(n,a)?i=null:o!==null&&D0(n,o)&&(t.flags|=32),DS(e,t),hn(e,t,i,r),t.child;case 6:return e===null&&F0(t),null;case 13:return LS(e,t,r);case 4:return cy(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ps(t,null,n,r):hn(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ha(n,a),Mx(e,t,n,a,r);case 7:return hn(e,t,t.pendingProps,r),t.child;case 8:return hn(e,t,t.pendingProps.children,r),t.child;case 12:return hn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,Rt(Ef,n._currentValue),n._currentValue=i,o!==null)if(ka(o.value,i)){if(o.children===a.children&&!_n.current){t=oo(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){i=o.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=Za(-1,r&-r),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),z0(o.return,r,t),s.lanes|=r;break}l=l.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(le(341));i.lanes|=r,s=i.alternate,s!==null&&(s.lanes|=r),z0(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}hn(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,is(t,r),a=ra(a),n=n(a),t.flags|=1,hn(e,t,n,r),t.child;case 14:return n=t.type,a=ha(n,t.pendingProps),a=ha(n.type,a),Cx(e,t,n,a,r);case 15:return TS(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ha(n,a),pf(e,t),t.tag=1,Nn(n)?(e=!0,Af(t)):e=!1,is(t,r),MS(t,n,a),W0(t,n,a,r),V0(null,t,n,!0,e,r);case 19:return IS(e,t,r);case 22:return $S(e,t,r)}throw Error(le(156,t.tag))};function ej(e,t){return Nk(e,t)}function fM(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(e,t,r,n){return new fM(e,t,r,n)}function jy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function dM(e){if(typeof e=="function")return jy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Wm)return 11;if(e===Gm)return 14}return 2}function $o(e,t){var r=e.alternate;return r===null?(r=Zn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function yf(e,t,r,n,a,o){var i=2;if(n=e,typeof e=="function")jy(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Ui:return di(r.children,a,o,t);case Um:i=8,a|=8;break;case h0:return e=Zn(12,r,t,a|2),e.elementType=h0,e.lanes=o,e;case p0:return e=Zn(13,r,t,a),e.elementType=p0,e.lanes=o,e;case g0:return e=Zn(19,r,t,a),e.elementType=g0,e.lanes=o,e;case uk:return ah(r,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lk:i=10;break e;case ck:i=9;break e;case Wm:i=11;break e;case Gm:i=14;break e;case mo:i=16,n=null;break e}throw Error(le(130,e==null?e:typeof e,""))}return t=Zn(i,r,t,a),t.elementType=e,t.type=n,t.lanes=o,t}function di(e,t,r,n){return e=Zn(7,e,n,t),e.lanes=r,e}function ah(e,t,r,n){return e=Zn(22,e,n,t),e.elementType=uk,e.lanes=r,e.stateNode={isHidden:!1},e}function Mp(e,t,r){return e=Zn(6,e,null,t),e.lanes=r,e}function Cp(e,t,r){return t=Zn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function hM(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fp(0),this.expirationTimes=fp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fp(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Oy(e,t,r,n,a,o,i,s,l){return e=new hM(e,t,r,s,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Zn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ly(o),e}function pM(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function tj(e){if(!e)return Io;e=e._reactInternals;e:{if(Ai(e)!==e||e.tag!==1)throw Error(le(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Nn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(le(171))}if(e.tag===1){var r=e.type;if(Nn(r))return tS(e,r,t)}return t}function rj(e,t,r,n,a,o,i,s,l){return e=Oy(r,n,!0,e,a,o,i,s,l),e.context=tj(null),r=e.current,n=mn(),a=To(r),o=Za(n,a),o.callback=t??null,Co(r,o,a),e.current.lanes=a,au(e,a,n),Pn(e,n),e}function oh(e,t,r,n){var a=t.current,o=mn(),i=To(a);return r=tj(r),t.context===null?t.context=r:t.pendingContext=r,t=Za(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Co(a,t,i),e!==null&&(wa(e,a,i,o),ff(e,a,i)),i}function Uf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Wx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function _y(e,t){Wx(e,t),(e=e.alternate)&&Wx(e,t)}function gM(){return null}var nj=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ny(e){this._internalRoot=e}ih.prototype.render=Ny.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(le(409));oh(e,t,null,null)};ih.prototype.unmount=Ny.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;bi(function(){oh(null,e,null,null)}),t[no]=null}};function ih(e){this._internalRoot=e}ih.prototype.unstable_scheduleHydration=function(e){if(e){var t=$k();e={blockedOn:null,target:e,priority:t};for(var r=0;r<xo.length&&t!==0&&t<xo[r].priority;r++);xo.splice(r,0,e),r===0&&Rk(e)}};function Py(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function sh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Gx(){}function mM(e,t,r,n,a){if(a){if(typeof n=="function"){var o=n;n=function(){var c=Uf(i);o.call(c)}}var i=rj(t,n,e,0,null,!1,!1,"",Gx);return e._reactRootContainer=i,e[no]=i.current,dc(e.nodeType===8?e.parentNode:e),bi(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var s=n;n=function(){var c=Uf(l);s.call(c)}}var l=Oy(e,0,!1,null,null,!1,!1,"",Gx);return e._reactRootContainer=l,e[no]=l.current,dc(e.nodeType===8?e.parentNode:e),bi(function(){oh(t,l,r,n)}),l}function lh(e,t,r,n,a){var o=r._reactRootContainer;if(o){var i=o;if(typeof a=="function"){var s=a;a=function(){var l=Uf(i);s.call(l)}}oh(t,i,e,a)}else i=mM(r,t,e,a,n);return Uf(i)}Ek=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Il(t.pendingLanes);r!==0&&(Xm(t,r|1),Pn(t,fr()),!(ot&6)&&(ys=fr()+500,zo()))}break;case 13:bi(function(){var n=ao(e,1);if(n!==null){var a=mn();wa(n,e,1,a)}}),_y(e,1)}};Km=function(e){if(e.tag===13){var t=ao(e,134217728);if(t!==null){var r=mn();wa(t,e,134217728,r)}_y(e,134217728)}};Tk=function(e){if(e.tag===13){var t=To(e),r=ao(e,t);if(r!==null){var n=mn();wa(r,e,t,n)}_y(e,t)}};$k=function(){return vt};Dk=function(e,t){var r=vt;try{return vt=e,t()}finally{vt=r}};O0=function(e,t,r){switch(t){case"input":if(v0(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Qd(n);if(!a)throw Error(le(90));dk(n),v0(n,a)}}}break;case"textarea":pk(e,r);break;case"select":t=r.value,t!=null&&rs(e,!!r.multiple,t,!1)}};wk=wy;kk=bi;var yM={usingClientEntryPoint:!1,Events:[iu,Vi,Qd,xk,bk,wy]},Ol={findFiberByHostInstance:ri,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vM={bundleType:Ol.bundleType,version:Ol.version,rendererPackageName:Ol.rendererPackageName,rendererConfig:Ol.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:co.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ok(e),e===null?null:e.stateNode},findFiberByHostInstance:Ol.findFiberByHostInstance||gM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zu.isDisabled&&zu.supportsFiber)try{Kd=zu.inject(vM),Ta=zu}catch{}}Un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yM;Un.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Py(t))throw Error(le(200));return pM(e,t,null,r)};Un.createRoot=function(e,t){if(!Py(e))throw Error(le(299));var r=!1,n="",a=nj;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Oy(e,1,!1,null,null,r,!1,n,a),e[no]=t.current,dc(e.nodeType===8?e.parentNode:e),new Ny(t)};Un.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(le(188)):(e=Object.keys(e).join(","),Error(le(268,e)));return e=Ok(t),e=e===null?null:e.stateNode,e};Un.flushSync=function(e){return bi(e)};Un.hydrate=function(e,t,r){if(!sh(t))throw Error(le(200));return lh(null,e,t,!0,r)};Un.hydrateRoot=function(e,t,r){if(!Py(e))throw Error(le(405));var n=r!=null&&r.hydratedSources||null,a=!1,o="",i=nj;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=rj(t,null,e,1,r??null,a,!1,o,i),e[no]=t.current,dc(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new ih(t)};Un.render=function(e,t,r){if(!sh(t))throw Error(le(200));return lh(null,e,t,!1,r)};Un.unmountComponentAtNode=function(e){if(!sh(e))throw Error(le(40));return e._reactRootContainer?(bi(function(){lh(null,null,e,!1,function(){e._reactRootContainer=null,e[no]=null})}),!0):!1};Un.unstable_batchedUpdates=wy;Un.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!sh(r))throw Error(le(200));if(e==null||e._reactInternals===void 0)throw Error(le(38));return lh(e,t,r,!1,n)};Un.version="18.3.1-next-f1338f8080-20240426";function aj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(aj)}catch(e){console.error(e)}}aj(),ak.exports=Un;var xM=ak.exports,Hx=xM;f0.createRoot=Hx.createRoot,f0.hydrateRoot=Hx.hydrateRoot;const Do=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,confirmText:o="I know the risk and insist to continue",cancelText:i="Cancel"})=>e?u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-2xl shadow-2xl border border-amber-500/30 overflow-hidden transform transition-all scale-100",children:[u.jsxs("div",{className:"bg-amber-500/10 p-6 flex flex-col items-center justify-center border-b border-amber-500/20",children:[u.jsx("div",{className:"w-16 h-16 bg-amber-100 dark:bg-amber-900/30 rounded-full flex items-center justify-center mb-4",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-amber-600 dark:text-amber-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),u.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white text-center",children:n})]}),u.jsx("div",{className:"p-6",children:u.jsx("div",{className:"text-gray-600 dark:text-slate-300 text-center text-sm leading-relaxed",children:a})}),u.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800/50 flex gap-3 justify-end border-t border-gray-200 dark:border-slate-800",children:[u.jsx("button",{onClick:t,className:"px-4 py-2 bg-white hover:bg-gray-100 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-700 dark:text-slate-200 font-semibold rounded-lg border border-gray-300 dark:border-slate-600 transition-colors text-sm",children:i}),u.jsx("button",{onClick:r,className:"px-4 py-2 bg-amber-600 hover:bg-amber-700 text-white font-bold rounded-lg shadow-lg shadow-amber-500/20 transition-all active:scale-95 text-sm",children:o})]})]})}):null,bM=({onFileSelected:e,onGenerateFakeDng:t,fileName:r,hasGeneratedData:n,viewMode:a,onSetViewMode:o,patternPeriod:i,onPatternPeriodChange:s,fillFactor:l,onFillFactorChange:c,patternPhase:f,onPatternPhaseChange:d,showPatternControls:h,onOpenAbout:p,onShowExif:m,bridgeStatus:v,onBridgeClick:x,isDrLabOpen:y,onToggleDrLab:g,isFftLabOpen:b,onToggleFftLab:S,onGenerateTestPic:w,onPTCFilesSelected:k,onDownloadDng:O,isThreePlane:_,onOpenDatabase:N})=>{const P=j.useRef(null),A=j.useRef(null),[$,C]=j.useState(!1),[z,E]=j.useState(!1),[U,M]=j.useState(!1),[B,L]=j.useState(!1),[X,te]=j.useState("direct"),Z=j.useRef(null),I=j.useRef(null);j.useEffect(()=>{const K=se=>{Z.current&&!Z.current.contains(se.target)&&M(!1),I.current&&!I.current.contains(se.target)&&L(!1)};return document.addEventListener("mousedown",K),()=>document.removeEventListener("mousedown",K)},[]);const G=K=>{var se;M(!1),K==="direct"?(te("direct"),C(!0)):!v.isConnected||!v.hasDngConverter?E(!0):(te("convert"),(se=P.current)==null||se.click())},oe=()=>{var K;C(!1),(K=P.current)==null||K.click()},q=K=>{var ge;const se=(ge=K.target.files)==null?void 0:ge[0];se&&e(se,X),K.target.value=""},ke=K=>{K.target.files&&K.target.files.length>0&&k(K.target.files),K.target.value=""},ve=r==="pattern_test.dng"||(r==null?void 0:r.startsWith("Diff_"));return u.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-4 flex-shrink-0 relative z-50 font-mono",children:[u.jsx(Do,{isOpen:$,onClose:()=>C(!1),onConfirm:oe,title:"Format Compatibility Warning",confirmText:"Continue",message:u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx("p",{className:"font-bold text-gray-800 dark:text-gray-200 text-base",children:"Adobe DNG ConverterDNG"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Only 4-channel DNG files output by Adobe DNG Converter are fully guaranteed to be supported."}),u.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 border border-gray-400 dark:border-slate-600",children:[u.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-500 mb-1",children:"Download Adobe DNG Converter:"}),u.jsx("a",{href:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline text-xs break-all",children:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html"})]})]})}),u.jsx(Do,{isOpen:z,onClose:()=>E(!1),onConfirm:()=>E(!1),title:"DNG Converter Missing",confirmText:"OK",cancelText:"Cancel",message:u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx("p",{className:"font-bold text-red-600 dark:text-red-400 text-base",children:"JiangBridge Offline or Adobe DNG Converter not installed (you may have to restart your device after installing ADC to use it here)"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"To use the conversion feature, you must run JiangBridge locally and have Adobe DNG Converter installed on your system."}),u.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 border border-gray-400 dark:border-slate-600",children:[u.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-500 mb-1",children:"Download Adobe DNG Converter:"}),u.jsx("a",{href:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline text-xs break-all",children:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html"})]})]})}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-black dark:text-white text-center sm:text-left tracking-tight border-2 border-black dark:border-white px-2 py-1 bg-white dark:bg-black",children:"Jiangtherapee_Online"}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400 hidden lg:block max-w-xs truncate font-bold",title:r||"No image loaded",children:r||"No_Image_Loaded"}),_&&u.jsx("span",{className:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400 border-2 border-red-500 dark:border-red-800 text-[10px] font-bold px-2 py-1 animate-pulse",children:" 3-PLANE / RGB MODE"})]}),u.jsxs("div",{className:"flex items-center gap-4 flex-wrap justify-end",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{onClick:v.isConnected?void 0:x,className:`px-3 py-1.5 text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-[2px_2px_0px_black] border-2 border-black dark:border-gray-500 ${v.isConnected?"bg-emerald-100 text-emerald-900 border-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-400 dark:border-emerald-600 cursor-default":"bg-pink-100 text-pink-900 border-pink-800 dark:bg-pink-900/30 dark:text-pink-400 dark:border-pink-600 hover:bg-pink-200 dark:hover:bg-pink-900/50 cursor-pointer animate-pulse"}`,title:v.isConnected?"Local Bridge Service Connected":"Click to download Jiangbridge",children:[u.jsx("span",{className:`w-2 h-2 ${v.isConnected?"bg-emerald-600":"bg-pink-600"}`}),v.isConnected?`JiangBridge Ready ${v.hasDngConverter?"DNG+":""}`:"JiangBridge Offline"]}),y&&u.jsxs("button",{onClick:g,className:"px-3 py-1.5 text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-[2px_2px_0px_black] border-2 border-indigo-800 bg-indigo-100 text-indigo-900 dark:bg-indigo-900/30 dark:text-indigo-400 dark:border-indigo-600 hover:bg-indigo-200 dark:hover:bg-indigo-900/50 cursor-pointer animate-in fade-in",title:"Click to turn off DR Lab",children:[u.jsx("span",{className:"w-2 h-2 bg-indigo-600 animate-pulse"}),"DR Lab On"]}),b&&u.jsxs("button",{onClick:S,className:"px-3 py-1.5 text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-[2px_2px_0px_black] border-2 border-fuchsia-800 bg-fuchsia-100 text-fuchsia-900 dark:bg-fuchsia-900/30 dark:text-fuchsia-400 dark:border-fuchsia-600 hover:bg-fuchsia-200 dark:hover:bg-fuchsia-900/50 cursor-pointer animate-in fade-in",title:"Click to turn off FFT Lab",children:[u.jsx("span",{className:"w-2 h-2 bg-fuchsia-600 animate-pulse"}),"FFT Lab On"]}),n&&u.jsxs("div",{className:"flex bg-gray-200 dark:bg-slate-800 p-1 border-2 border-black dark:border-gray-500 shadow-inner transition-colors duration-300 gap-1",children:[u.jsx("button",{onClick:()=>o("reference"),className:`px-3 py-1.5 text-xs sm:text-sm font-bold transition-all duration-200 border-2 ${a==="reference"?"bg-green-600 text-white border-black":"bg-gray-100 text-black border-transparent hover:bg-gray-300"}`,title:"The perfect uniform input",children:"Perfect"}),u.jsx("button",{onClick:()=>o("sampled"),className:`px-3 py-1.5 text-xs sm:text-sm font-bold transition-all duration-200 border-2 ${a==="sampled"?"bg-blue-600 text-white border-black":"bg-gray-100 text-black border-transparent hover:bg-gray-300"}`,title:"Sampled Sensor View with Aperture Visualization",children:"Sampled (Sensor)"}),u.jsx("button",{onClick:()=>o("processed"),className:`px-3 py-1.5 text-xs sm:text-sm font-bold transition-all duration-200 border-2 ${a==="processed"?"bg-purple-600 text-white border-black":"bg-gray-100 text-black border-transparent hover:bg-gray-300"}`,title:"Demosaiced Result",children:"Result"})]})]}),ve&&u.jsxs("div",{className:"flex items-center gap-2 animate-in fade-in slide-in-from-right-4 duration-300",children:[h&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-100 dark:bg-slate-800/50 p-1.5 border border-gray-400 dark:border-slate-600 transition-colors duration-300",children:[u.jsx("span",{className:"text-[10px] text-gray-600 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Density (Period)"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"range",min:"0.1",max:"10",step:"0.1",value:i,onChange:K=>s(parseFloat(K.target.value)),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 appearance-none cursor-pointer accent-purple-500 border border-black",title:"Adjust the period of the line pairs in pixels"}),u.jsx("div",{className:"relative",children:u.jsx("input",{type:"number",min:"0.1",max:"100",step:"0.01",value:i,onChange:K=>{const se=parseFloat(K.target.value);isNaN(se)||s(se)},className:"w-16 bg-white dark:bg-slate-900 border border-gray-400 dark:border-slate-600 px-1 py-0.5 text-xs font-mono text-purple-700 dark:text-purple-300 text-right focus:outline-none focus:border-purple-500 focus:ring-1 focus:ring-purple-500 transition-colors duration-300"})})]})]}),u.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-100 dark:bg-slate-800/50 p-1.5 border border-gray-400 dark:border-slate-600 transition-colors duration-300",children:[u.jsx("span",{className:"text-[10px] text-gray-600 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Phase"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:f,onChange:K=>d(parseFloat(K.target.value)),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 appearance-none cursor-pointer accent-pink-500 border border-black",title:"Shift pattern phase (0-1 cycle)"}),u.jsx("div",{className:"relative",children:u.jsx("input",{type:"number",min:"0",max:"1",step:"0.01",value:f,onChange:K=>{const se=parseFloat(K.target.value);isNaN(se)||d(se)},className:"w-12 bg-white dark:bg-slate-900 border border-gray-400 dark:border-slate-600 px-1 py-0.5 text-xs font-mono text-pink-700 dark:text-pink-300 text-right focus:outline-none focus:border-pink-500 focus:ring-1 focus:ring-pink-500 transition-colors duration-300"})})]})]}),u.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-100 dark:bg-slate-800/50 p-1.5 border border-gray-400 dark:border-slate-600 transition-colors duration-300",children:[u.jsx("span",{className:"text-[10px] text-gray-600 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Fill Factor"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"range",min:"1",max:"100",step:"1",value:l*100,onChange:K=>c(parseInt(K.target.value)/100),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 appearance-none cursor-pointer accent-green-500 border border-black",title:"Adjust pixel aperture fill factor %"}),u.jsxs("div",{className:"relative flex items-center",children:[u.jsx("input",{type:"number",min:"1",max:"100",step:"1",value:Math.round(l*100),onChange:K=>{const se=parseInt(K.target.value);isNaN(se)||c(Math.min(100,Math.max(1,se))/100)},className:"w-12 bg-white dark:bg-slate-900 border border-gray-400 dark:border-slate-600 px-1 py-0.5 text-xs font-mono text-green-700 dark:text-green-300 text-right focus:outline-none focus:border-green-500 focus:ring-1 focus:ring-green-500 transition-colors duration-300"}),u.jsx("span",{className:"ml-1 text-[10px] text-gray-500 dark:text-slate-500 font-mono",children:"%"})]})]})]})]}),u.jsxs("button",{onClick:O,className:`flex flex-col items-center justify-center p-2 transition-colors group border-2 border-black dark:border-gray-500 shadow-[2px_2px_0px_black] active:translate-x-[2px] active:translate-y-[2px] active:shadow-none ${r!=null&&r.startsWith("Diff_")?"bg-fuchsia-100 hover:bg-fuchsia-200 dark:bg-fuchsia-900/40 dark:hover:bg-fuchsia-900/60":"bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700"}`,title:r!=null&&r.startsWith("Diff_")?"Export Subtracted Frame as DNG":"Download Synthetic DNG",children:[u.jsx("svg",{className:`w-5 h-5 ${r!=null&&r.startsWith("Diff_")?"text-fuchsia-600 group-hover:text-fuchsia-800":"text-gray-600 dark:text-slate-400 group-hover:text-black dark:group-hover:text-white"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),u.jsx("span",{className:"text-[8px] font-bold uppercase mt-0.5 opacity-70",children:"DNG"})]})]}),u.jsx("input",{type:"file",ref:P,onChange:q,className:"hidden",accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),u.jsx("input",{type:"file",ref:A,onChange:ke,className:"hidden",multiple:!0,accept:".csv"}),u.jsxs("div",{className:"relative inline-block text-left",ref:I,children:[u.jsxs("button",{onClick:()=>L(!B),className:"bg-purple-700 hover:bg-purple-600 text-white font-bold py-2 px-4 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] active:translate-x-[2px] active:translate-y-[2px] active:shadow-[2px_2px_0px_black] transition-all duration-100 text-sm whitespace-nowrap flex items-center gap-2",children:["TEST Tools",u.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${B?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),B&&u.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-slate-800 shadow-[8px_8px_0px_rgba(0,0,0,0.5)] ring-1 ring-black ring-opacity-5 focus:outline-none z-50 overflow-hidden origin-top-right transition-all animate-in fade-in slide-in-from-top-2 border-2 border-black dark:border-gray-500",children:u.jsxs("div",{className:"py-1",children:[u.jsxs("button",{onClick:()=>{L(!1),t()},className:"w-full text-left px-4 py-3 text-sm text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors flex items-center gap-2 border-b border-gray-300 dark:border-gray-600",children:[u.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),u.jsx("span",{children:"Generate Pattern DNG"})]}),u.jsxs("button",{onClick:()=>{L(!1),y||g(),b&&S()},className:`w-full text-left px-4 py-3 text-sm transition-colors flex items-center gap-2 border-b border-gray-300 dark:border-gray-600 ${y?"bg-indigo-100 dark:bg-indigo-900/40 text-indigo-800 dark:text-indigo-300 font-bold":"text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:[u.jsx("svg",{className:"w-4 h-4 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),u.jsxs("span",{children:["DR Lab ",y?"(On)":""]})]}),u.jsxs("button",{onClick:()=>{L(!1),b||S(),y&&g()},className:`w-full text-left px-4 py-3 text-sm transition-colors flex items-center gap-2 border-b border-gray-300 dark:border-gray-600 ${b?"bg-fuchsia-100 dark:bg-fuchsia-900/40 text-fuchsia-800 dark:text-fuchsia-300 font-bold":"text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:[u.jsx("svg",{className:"w-4 h-4 text-fuchsia-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),u.jsxs("span",{children:["FFT Lab ",b?"(On)":""]})]}),u.jsxs("button",{onClick:()=>{var K;L(!1),(K=A.current)==null||K.click()},className:"w-full text-left px-4 py-3 text-sm text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[u.jsx("svg",{className:"w-4 h-4 text-emerald-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})}),u.jsx("span",{children:"Generate PTC & TargetSNR"})]})]})})]}),u.jsxs("div",{className:"relative inline-block text-left",ref:Z,children:[u.jsxs("button",{onClick:()=>M(!U),className:"bg-cyan-700 hover:bg-cyan-600 text-white font-bold py-2 px-4 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] active:translate-x-[2px] active:translate-y-[2px] active:shadow-[2px_2px_0px_black] transition-all duration-100 text-sm whitespace-nowrap flex items-center gap-2",children:["Load Image",u.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${U?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),U&&u.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-slate-800 shadow-[8px_8px_0px_rgba(0,0,0,0.5)] ring-1 ring-black ring-opacity-5 focus:outline-none z-50 overflow-hidden origin-top-right transition-all animate-in fade-in slide-in-from-top-2 border-2 border-black dark:border-gray-500",children:u.jsxs("div",{className:"py-1",children:[u.jsxs("button",{onClick:()=>G("direct"),className:"w-full text-left px-4 py-3 text-sm text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors flex items-center gap-2 border-b border-gray-300 dark:border-gray-600",children:[u.jsx("svg",{className:"w-4 h-4 text-cyan-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),u.jsx("span",{children:"Load Image (Direct)"})]}),u.jsxs("button",{onClick:()=>G("convert"),className:"w-full text-left px-4 py-3 text-sm text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[u.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),u.jsx("span",{children:"Convert to Adobe DNG & Load"})]})]})})]}),r&&m&&u.jsxs("button",{onClick:m,className:"bg-orange-600 hover:bg-orange-500 text-white font-bold py-2 px-4 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] active:translate-x-[2px] active:translate-y-[2px] active:shadow-[2px_2px_0px_black] transition-all duration-100 text-sm whitespace-nowrap flex items-center gap-1",title:"View EXIF Data",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"EXIF"]}),u.jsx("button",{onClick:p,className:"bg-teal-700 hover:bg-teal-600 text-white font-bold py-2 px-4 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] active:translate-x-[2px] active:translate-y-[2px] active:shadow-[2px_2px_0px_black] transition-all duration-100 text-sm whitespace-nowrap",children:"About/Tutorial/Tools"}),u.jsx("a",{href:"https://y-g-jiang.github.io/index.html",target:"_blank",rel:"noopener noreferrer",className:"bg-gray-300 hover:bg-gray-200 dark:bg-slate-700 dark:hover:bg-slate-600 text-black dark:text-white font-bold py-2 px-4 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] active:translate-x-[2px] active:translate-y-[2px] active:shadow-[2px_2px_0px_black] transition-all duration-100 text-sm no-underline",children:"Home"})]})]})},wM=({image:e,zoom:t,pan:r,onPanChange:n,onZoomChange:a,onSelectionChange:o,forcedSelection:i,theme:s,touchAction:l="pan",isMarking:c=!1,onPointClick:f,markers:d=[],gridRects:h=[]})=>{var Z;const p=j.useRef(null),m=j.useRef(document.createElement("canvas")),[v,x]=j.useState(!1),[y,g]=j.useState({x:0,y:0}),b=j.useRef(null),S=j.useRef(null),w=j.useRef(null),[k,O]=j.useState(!1),[_,N]=j.useState(null),[P,A]=j.useState(null);j.useEffect(()=>{i!==void 0&&A(i)},[i]);const $=j.useCallback(()=>{const I=p.current,G=I==null?void 0:I.getContext("2d");return{canvas:I,ctx:G}},[]);j.useEffect(()=>{const I=m.current,G=I.getContext("2d");if(!e||!G)return;let oe=0,q=0;e instanceof ImageData?(oe=e.width,q=e.height):e instanceof HTMLImageElement&&(oe=e.naturalWidth,q=e.naturalHeight),!(oe===0||q===0)&&((I.width!==oe||I.height!==q)&&(I.width=oe,I.height=q),e instanceof ImageData?G.putImageData(e,0,0):(G.clearRect(0,0,oe,q),G.drawImage(e,0,0)))},[e]);const C=j.useCallback(()=>{const{canvas:I,ctx:G}=$();if(!(!I||!G||!e)){if(G.setTransform(1,0,0,1,0,0),G.fillStyle=s==="dark"?"rgb(15, 23, 42)":"rgb(243, 244, 246)",G.fillRect(0,0,I.width,I.height),G.setTransform(t,0,0,t,r.x,r.y),m.current.width>0&&(G.imageSmoothingEnabled=!1,G.drawImage(m.current,0,0)),P){G.strokeStyle="#06b6d4",G.lineWidth=1/t,G.fillStyle="rgba(6, 182, 212, 0.2)",G.beginPath(),G.rect(P.x,P.y,P.w,P.h),G.fill(),G.stroke(),G.save(),G.fillStyle="#fff";const oe=Math.max(10,14/t);G.font=`${oe}px monospace`,G.shadowColor="rgba(0,0,0,0.8)",G.shadowBlur=4,G.shadowOffsetX=1,G.shadowOffsetY=1,G.fillText(`${Math.round(P.w)}x${Math.round(P.h)}`,P.x,P.y-5/t),G.restore()}if(h&&h.length>0){G.save(),G.strokeStyle="#f59e0b",G.lineWidth=1/t,G.globalAlpha=.8,G.beginPath(),h.forEach(ke=>{G.rect(ke.x,ke.y,ke.w,ke.h)}),G.stroke();const oe=h[0];G.fillStyle="#f59e0b";const q=Math.max(10,12/t);G.font=`${q}px monospace`,G.fillText(`${oe.w}x${oe.h}`,oe.x,oe.y-4/t),G.restore()}if(d&&d.length>0){G.save();const oe=6/t,q=Math.max(12,16/t);G.font=`bold ${q}px sans-serif`,G.textAlign="center",G.textBaseline="middle",d.forEach((ke,ve)=>{G.beginPath(),G.arc(ke.x,ke.y,oe,0,2*Math.PI),G.fillStyle="white",G.fill(),G.strokeStyle="#4338ca",G.lineWidth=2/t,G.stroke(),G.fillStyle="#4338ca",G.fillText((ve+1).toString(),ke.x,ke.y-12/t)}),G.restore()}}},[$,e,t,r,s,P,d,h]);j.useEffect(()=>{const{canvas:I}=$();if(!I)return;const G=new ResizeObserver(()=>{I.width=I.clientWidth,I.height=I.clientHeight,C()});return G.observe(I),()=>G.disconnect()},[$,C]),j.useEffect(()=>{C()},[C,e,r,t,s,P,d,h]);const z=I=>{const{canvas:G}=$();if(!G)return{x:0,y:0};const oe=G.getBoundingClientRect();return{x:I.clientX-oe.left,y:I.clientY-oe.top}},E=(I,G)=>({x:(I-r.x)/t,y:(G-r.y)/t}),U=I=>{I.preventDefault();const G=z(I);if(c){const oe=E(G.x,G.y);f&&f(oe);return}if(I.shiftKey||l==="select"){O(!0);const oe=E(G.x,G.y),q={x:Math.floor(oe.x),y:Math.floor(oe.y)};N(q),A(null),o&&o(null)}else x(!0),g({x:G.x-r.x,y:G.y-r.y})},M=I=>{const G=z(I);if(k&&_){const oe=E(G.x,G.y),q=Math.floor(oe.x),ke=Math.floor(oe.y),ve=Math.min(_.x,q),K=Math.min(_.y,ke),se=Math.max(_.x,q),ge=Math.max(_.y,ke),H=se-ve+1,ye=ge-K+1;A({x:ve,y:K,w:H,h:ye})}else v&&n({x:G.x-y.x,y:G.y-y.y})},B=()=>{k&&(O(!1),P&&o&&P.w>0&&P.h>0&&o(P)),x(!1)},L=I=>{var G;if(I.touches.length===1){const oe=I.touches[0],q=(G=p.current)==null?void 0:G.getBoundingClientRect();if(!q)return;const ke=oe.clientX-q.left,ve=oe.clientY-q.top;if(c){const K=E(ke,ve);f&&f(K);return}if(l==="select"){const K=E(ke,ve),se={x:Math.floor(K.x),y:Math.floor(K.y)};N(se),O(!0),A(null),o&&o(null)}else w.current={x:ke,y:ve},g({x:ke-r.x,y:ve-r.y}),x(!0)}else if(I.touches.length===2){const oe=Math.hypot(I.touches[0].clientX-I.touches[1].clientX,I.touches[0].clientY-I.touches[1].clientY);b.current=oe,S.current=t,x(!1),O(!1)}},X=I=>{var G;if(I.touches.length===1){const oe=I.touches[0],q=(G=p.current)==null?void 0:G.getBoundingClientRect();if(!q)return;const ke=oe.clientX-q.left,ve=oe.clientY-q.top;if(c)return;if(k&&_){const K=E(ke,ve),se=Math.floor(K.x),ge=Math.floor(K.y),H=Math.min(_.x,se),ye=Math.min(_.y,ge),he=Math.max(_.x,se),Oe=Math.max(_.y,ge),Fe=he-H+1,Re=Oe-ye+1;A({x:H,y:ye,w:Fe,h:Re})}else v&&n({x:ke-y.x,y:ve-y.y})}else if(I.touches.length===2&&b.current&&S.current&&a){const q=Math.hypot(I.touches[0].clientX-I.touches[1].clientX,I.touches[0].clientY-I.touches[1].clientY)/b.current;a(S.current*q)}},te=()=>{k&&(O(!1),P&&o&&P.w>0&&P.h>0&&o(P)),x(!1),b.current=null,S.current=null,w.current=null};return u.jsx("canvas",{ref:p,className:`w-full h-full block touch-none ${c||k||(Z=window.event)!=null&&Z.shiftKey||l==="select"?"cursor-crosshair":"cursor-grab active:cursor-grabbing"}`,onMouseDown:U,onMouseMove:M,onMouseUp:B,onMouseLeave:B,onTouchStart:L,onTouchMove:X,onTouchEnd:te,onTouchCancel:te,tabIndex:0})},Uu=({title:e,children:t})=>u.jsxs("div",{className:"border-b border-gray-200 dark:border-slate-700 transition-colors duration-300",children:[u.jsx("div",{className:"p-4 font-semibold text-gray-800 dark:text-slate-200 bg-gray-50 dark:bg-slate-800/30 border-b border-gray-200 dark:border-slate-800 select-none cursor-default transition-colors duration-300",children:u.jsx("span",{children:e})}),u.jsx("div",{className:"p-4 bg-white dark:bg-slate-900/50 transition-colors duration-300",children:t})]}),kM=[{value:-1,label:"Raw Bayer (Grayscale)"},{value:0,label:"Linear interpolation"},{value:1,label:"VNG (Variable Number of Gradients)"},{value:2,label:"PPG (Patterned Pixel Grouping)"},{value:3,label:"AHD (Adaptive Homogeneity-Directed)"},{value:4,label:"DCB (Demosaicing with Color Back-refinement)"},{value:11,label:"DHT (Modified AHD)"},{value:12,label:"AAHD (Adaptive AHD)"}],Wu=({checked:e,onChange:t,label:r})=>u.jsxs("div",{className:"flex items-center justify-between py-2 cursor-pointer group",onClick:()=>t(!e),children:[u.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-slate-300 select-none group-hover:text-gray-900 dark:group-hover:text-slate-200 transition-colors",children:r}),u.jsx("div",{className:`relative w-11 h-6 rounded-full transition-colors duration-200 ease-in-out ${e?"bg-cyan-500 dark:bg-cyan-600":"bg-gray-300 dark:bg-slate-600 group-hover:bg-gray-400 dark:group-hover:bg-slate-500"}`,children:u.jsx("div",{className:`absolute left-1 top-1 bg-white w-4 h-4 rounded-full shadow-md transform transition-transform duration-200 ease-in-out ${e?"translate-x-5":"translate-x-0"}`})})]}),Vx=(e,t)=>{if(!e)return null;if(t){const r=e.bayerPattern.toUpperCase(),n=l=>{const c=[];for(let f=0;f<4;f++)r[f]===l&&c.push(f);return c},a=t.BlackLevelRed,o=t.BlackLevelGreen,i=t.BlackLevelBlue;if(a!==void 0&&o!==void 0&&i!==void 0){const l=parseFloat(a),c=parseFloat(o),f=parseFloat(i);if(!isNaN(l)&&!isNaN(c)&&!isNaN(f)){const d=[0,0,0,0];return d.fill(c),n("R").forEach(h=>d[h]=l),n("G").forEach(h=>d[h]=c),n("B").forEach(h=>f),d}}let s=t.BlackLevel;if(s===void 0&&(s=t.BlackLevel2),s!==void 0){let l=[];if(Array.isArray(s)?l=s.map(Number):typeof s=="string"?l=s.trim().split(/\s+/).map(Number):typeof s=="number"&&(l=[s,s,s,s]),l.length===1&&!isNaN(l[0])&&(l=[l[0],l[0],l[0],l[0]]),l.length>=4&&!l.slice(0,4).some(isNaN))return[l[0],l[1],l[2],l[3]]}}return e.blackLevels&&e.blackLevels.length===4?[e.blackLevels[0],e.blackLevels[1],e.blackLevels[2],e.blackLevels[3]]:null},SM=e=>{const{rawImageData:t,displaySettings:r,onApplyDisplaySettings:n,onSetSelection:a,exifData:o,isBridgeConnected:i,isDrLabOpen:s,drMarkingStep:l,onStartMarking:c,onGenerateTestPic:f,drRoiSize:d,onDrRoiSizeChange:h,drGridRows:p,onDrGridRowsChange:m,drGridCols:v,onDrGridColsChange:x,onBatchDrLab:y,hasDrMarkers:g,isFftLabOpen:b,onProcessPair:S,onProcessBatchDiff:w,onProcessStackFft:k,onOpenCrossCalc:O,isThreePlane:_,onToggleXTrans:N,xtransPhase:P,onXTransPhaseChange:A,isXTransConverted:$,onCommand:C}=e,z=!!t,E=!!(t!=null&&t.isXTrans),U=!!N,[M,B]=j.useState(r.exposure.toString()),[L,X]=j.useState(""),[te,Z]=j.useState("0 0 0 0"),[I,G]=j.useState("1.0"),[oe,q]=j.useState("1.0"),[ke,ve]=j.useState(r.demosaicMethod),[K,se]=j.useState(!!r.showKadc),[ge,H]=j.useState(!!r.subtractBlackLevelFromStats),[ye,he]=j.useState("64"),[Oe,Fe]=j.useState(!1),[Re,bt]=j.useState(!1),[jt,$e]=j.useState("0 0 0 0"),[Ke,dt]=j.useState("2840 6303 3935 6303"),[Ct,Lt]=j.useState("780 1720 1101 1720"),[Ar,hr]=j.useState(!1),[ir,Wt]=j.useState(!1),[Xr,Gt]=j.useState(!1),[Kr,at]=j.useState("single"),Ye=j.useRef(null),lt=j.useRef(null),It=j.useRef(null),xr=j.useRef(null),[sr,br]=j.useState(null),[ht,Rr]=j.useState(null),[ct,Cn]=j.useState(!1),[Lr,sa]=j.useState(!0),xn=j.useRef(null),En=j.useRef(null);j.useEffect(()=>{if(B(r.exposure.toString()),r.customMatrix?(X(r.customMatrix.join(" ")),Fe(!0)):X(""),r.blackLevel&&r.blackLevel.length===4)Z(r.blackLevel.join(" "));else{const R=Vx(t,o);Z(R?R.join(" "):"0 0 0 0")}G(r.wbGains?r.wbGains[0].toString():"1.0"),q(r.wbGains?r.wbGains[1].toString():"1.0"),ve(r.demosaicMethod),se(!!r.showKadc),H(!!r.subtractBlackLevelFromStats),r.advancedZeroDep&&($e(r.advancedZeroDep.bl.join(" ")),dt(r.advancedZeroDep.bg.join(" ")),Lt(r.advancedZeroDep.fg.join(" ")),bt(!0))},[r,t,o]);const bn=R=>B(R),Mr=R=>G(R),Ir=R=>q(R),Cr=R=>ve(parseInt(R.target.value,10)),sn=R=>X(R.target.value),Tn=()=>{B("0"),ve(3),G("1.0"),q("1.0"),se(!0),H(!0),X(""),Fe(!1),bt(!1);const R=Vx(t,o);Z(R?R.join(" "):"0 0 0 0")},Et=()=>{!t||!a||(a({x:0,y:0,w:t.width,h:t.height}),C==null||C("sel full"))},Ht=()=>{if(!t||!a)return;const R=parseInt(ye,10);if(isNaN(R)||R<=0)return;const je=Math.min(R,t.width),Zt=Math.min(R,t.height),Tt=Math.floor((t.width-je)/2),Ue=Math.floor((t.height-Zt)/2);a({x:Tt,y:Ue,w:je,h:Zt}),C==null||C(`sel center ${R}`)},Ot=()=>{const je=te.split(/[\s,]+/).filter(Zt=>Zt.trim()!=="").map(Number);if(je.length===1&&!isNaN(je[0]))return[je[0],je[0],je[0],je[0]];if(je.length>=4&&!je.slice(0,4).some(isNaN))return[je[0],je[1],je[2],je[3]]},ie=R=>{const je=R.trim().split(/[\s,]+/).map(Number);return je.length===4&&!je.some(isNaN)?je:je.length===1&&!isNaN(je[0])?[je[0],je[0],je[0],je[0]]:null},Me=()=>{C&&(M!=="0"&&C(`ev ${M}`),(I!=="1.0"||oe!=="1.0")&&C(`wb ${I} ${oe}`),te!=="0 0 0 0"&&C(`bl ${te}`),ke!==3&&C(`demo ${ke}`),L.trim().length>0&&C(`matrix ${L.replace(/\s+/g," ")}`),C("render"));const R={...r},je=parseFloat(M);isNaN(je)||(R.exposure=je);const Zt=parseFloat(I),Tt=parseFloat(oe);if(!isNaN(Zt)&&!isNaN(Tt)&&(R.wbGains=[Zt,Tt]),R.demosaicMethod=ke,R.renderMode="standard",Oe){const Ue=Ot();Ue&&(R.blackLevel=Ue);const Yr=L.trim().replace(/[\s,\n]+/g," ");if(Yr){const Ie=Yr.split(" ").map(Number);Ie.length===9&&!Ie.some(isNaN)?R.customMatrix=Ie:alert("Invalid matrix format. Please ensure exactly 9 numeric values (3x3).")}else delete R.customMatrix;R.showKadc=K,R.subtractBlackLevelFromStats=ge}else delete R.customMatrix,delete R.blackLevel,delete R.showKadc,delete R.subtractBlackLevelFromStats;n(R)},Pe=()=>{Wt(!0)},et=R=>{C&&(M!=="0"&&C(`ev ${M}`),(I!=="1.0"||oe!=="1.0")&&C(`wb ${I} ${oe}`),te!=="0 0 0 0"&&C(`bl ${te}`),C(R==="bilinear"?"render zero color":"render zero"));const je={...r},Zt=Ot();Zt&&(je.blackLevel=Zt);const Tt=parseFloat(I),Ue=parseFloat(oe);!isNaN(Tt)&&!isNaN(Ue)&&(je.wbGains=[Tt,Ue]);const Yr=parseFloat(M);if(isNaN(Yr)||(je.exposure=Yr),R==="bilinear"){const Ie=L.trim().replace(/[\s,\n]+/g," ");if(Ie){const Br=Ie.split(" ").map(Number);Br.length===9&&!Br.some(isNaN)&&(je.customMatrix=Br)}}je.renderMode=R==="mosaic"?"zero-dependency":"zero-dep-color",Wt(!1),n(je)},ze=()=>{const R=ie(jt),je=ie(Ke),Zt=ie(Ct);if(!R||!je||!Zt){alert("Please enter valid 4-channel numbers for BL, BG, and FG.");return}C&&(M!=="0"&&C(`ev ${M}`),C(`render unmix ${R.join(" ")} ${je.join(" ")} ${Zt.join(" ")}`));const Tt={...r,renderMode:"advanced-zero-dep",advancedZeroDep:{bl:R,bg:je,fg:Zt}};n(Tt)},wt=R=>{R.target.files&&R.target.files.length>0&&y&&(y(R.target.files,Kr),C==null||C(`drlab batch ${Kr}`)),R.target.value="",Gt(!1)},pt=async R=>{var Zt;const je=(Zt=R.target.files)==null?void 0:Zt[0];if(je){try{const Ue=(await je.text()).split(`
`),Yr=[];Yr.push("#BlackLevel: 0,0,0,0"),Yr.push("#ImageHeight: 0"),Yr.push("Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std");let Ie=1;for(let Gn=0;Gn<Ue.length;Gn++){const za=Ue[Gn].trim();if(!za||za.includes("R_mean")||za.includes("R_std"))continue;const qr=za.split(/\s+/).map(Number);if(qr.length<8||qr.some(isNaN))continue;const ca=[Ie,1,qr[0],qr[2],qr[6],qr[4],qr[1],qr[3],qr[7],qr[5]].join(",");Yr.push(ca),Ie++}const Br=new Blob([Yr.join(`
`)],{type:"text/csv"}),la=URL.createObjectURL(Br),ln=document.createElement("a");ln.href=la,ln.download=je.name.replace(/\.[^/.]+$/,"")+"_converted.csv",document.body.appendChild(ln),ln.click(),document.body.removeChild(ln),URL.revokeObjectURL(la)}catch(Tt){console.error("Conversion failed",Tt),alert("Failed to convert file.")}R.target.value=""}},tr=R=>{R.target.files&&R.target.files[0]&&(br(R.target.files[0]),C==null||C("fft load a"))},Ce=R=>{R.target.files&&R.target.files[0]&&(Rr(R.target.files[0]),C==null||C("fft load b"))},rt=()=>{sr&&ht&&S&&(S(sr,ht,ct,Lr),C==null||C("fft run"))},gt=R=>{R.target.files&&R.target.files.length>0&&w&&(w(R.target.files),C==null||C("fft batch")),R.target.value=""},mt=R=>{R.target.files&&R.target.files.length>0&&k&&(k(R.target.files),C==null||C("fft stack")),R.target.value=""},Vt=!!$;return u.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-black",children:[u.jsxs("div",{className:"flex-grow overflow-y-auto",children:[_&&u.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-3 border-b border-red-100 dark:border-red-800 text-center animate-pulse",children:[u.jsx("p",{className:"text-xs font-bold text-red-600 dark:text-red-400 uppercase tracking-wide",children:" 3-Plane / Full Color"}),u.jsx("p",{className:"text-[10px] text-red-500/80 dark:text-red-300/70 mt-1",children:"Demosaic disabled. Stats analysis treated as pseudo-Bayer."})]}),E&&!$&&u.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-3 border-b border-amber-100 dark:border-amber-800 text-center",children:[u.jsx("p",{className:"text-xs font-bold text-amber-600 dark:text-amber-400 uppercase tracking-wide",children:" X-Trans Native (Unsupported)"}),u.jsx("p",{className:"text-[10px] text-amber-600/80 dark:text-amber-300/70 mt-1 text-left leading-tight px-1",children:"Currently reading raw 6x6 pattern as Bayer. Stats will be incorrect. Please enable Pseudo-Bayer conversion below."})]}),$&&u.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 p-3 border-b border-emerald-100 dark:border-emerald-800 text-center",children:[u.jsx("p",{className:"text-xs font-bold text-emerald-600 dark:text-emerald-400 uppercase tracking-wide",children:" X-Trans Pseudo-Bayer"}),u.jsx("p",{className:"text-[10px] text-emerald-600/80 dark:text-emerald-300/70 mt-1 text-left leading-tight px-1",children:"Converted 6x6  2x2 RGGB (Subsampled). Demosaic & Analysis fully supported."})]}),b&&u.jsx(Uu,{title:"FFT Lab (Noise Profile)",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"space-y-3 bg-gray-50 dark:bg-slate-800/40 p-3 rounded-xl border border-gray-100 dark:border-slate-800",children:[u.jsxs("h4",{className:"text-[10px] font-bold text-fuchsia-600 dark:text-fuchsia-400 uppercase tracking-widest flex items-center gap-2",children:[u.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-fuchsia-500"})," 1. Pair Difference (Sub)"]}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("input",{type:"file",ref:Ye,className:"hidden",onChange:tr,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),u.jsx("button",{onClick:()=>{var R;return(R=Ye.current)==null?void 0:R.click()},className:`w-full py-2 px-3 rounded-lg border text-[10px] font-bold text-left truncate transition-colors ${sr?"bg-fuchsia-55 dark:bg-fuchsia-900/20 border-fuchsia-300 dark:border-fuchsia-800 text-fuchsia-700 dark:text-fuchsia-300":"bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-600 text-gray-500 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:sr?`A: ${sr.name}`:"Load Image A"}),u.jsx("input",{type:"file",ref:lt,className:"hidden",onChange:Ce,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),u.jsx("button",{onClick:()=>{var R;return(R=lt.current)==null?void 0:R.click()},className:`w-full py-2 px-3 rounded-lg border text-[10px] font-bold text-left truncate transition-colors ${ht?"bg-fuchsia-55 dark:bg-fuchsia-900/20 border-fuchsia-300 dark:border-fuchsia-800 text-fuchsia-700 dark:text-fuchsia-300":"bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-600 text-gray-500 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:ht?`B: ${ht.name}`:"Load Image B"})]}),u.jsx("div",{className:"flex flex-col gap-1.5 pt-1",children:u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:Lr,onChange:R=>sa(R.target.checked),className:"w-3 h-3 text-fuchsia-600 border-gray-300 rounded focus:ring-0"}),u.jsx("span",{className:"text-[10px] text-gray-600 dark:text-slate-300",children:"Normalize (2)"})]})}),u.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[u.jsx("button",{onClick:rt,disabled:!sr||!ht,className:"w-full bg-fuchsia-600 hover:bg-fuchsia-500 disabled:opacity-30 text-white font-bold py-2 rounded shadow transition-all active:scale-95 text-[10px]",children:"Generate Diff & Load"}),u.jsx("input",{type:"file",ref:It,className:"hidden",multiple:!0,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff",onChange:gt}),u.jsx("button",{onClick:()=>{var R;return(R=It.current)==null?void 0:R.click()},className:"w-full bg-slate-700 hover:bg-slate-600 text-white font-bold py-2 rounded shadow transition-all active:scale-95 text-[10px] flex items-center justify-center gap-1",children:"Batch Diffs (Auto Download)"})]})]}),u.jsxs("div",{className:"space-y-3 bg-gray-50 dark:bg-slate-800/40 p-3 rounded-xl border border-gray-100 dark:border-slate-800",children:[u.jsxs("h4",{className:"text-[10px] font-bold text-cyan-600 dark:text-cyan-400 uppercase tracking-widest flex items-center gap-2",children:[u.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-cyan-500"})," 2. Stack FFT (Avg PSD)"]}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("input",{type:"file",ref:xr,className:"hidden",multiple:!0,onChange:mt,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),u.jsx("button",{onClick:()=>{var R;return(R=xr.current)==null?void 0:R.click()},className:"w-full py-3 bg-cyan-600 hover:bg-cyan-500 text-white font-bold rounded-lg shadow-md transition-all active:scale-95 text-[10px] flex items-center justify-center gap-2",children:"Select Sequence Files"})]})]}),u.jsx("div",{className:"flex flex-col gap-2 pt-2",children:u.jsx("button",{onClick:()=>{O==null||O(),C==null||C("crosscalc")},className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-2 px-4 rounded-lg shadow-md transition-all active:scale-95 text-[10px] flex items-center justify-center gap-2",children:"Cross-Compensation Calc"})})]})}),s&&u.jsx(Uu,{title:"DR Lab Tools",children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("button",{onClick:()=>{f==null||f(),C==null||C("gen test")},className:"w-full bg-amber-500 hover:bg-amber-600 text-white font-bold py-2 px-4 rounded-lg shadow-md transition-colors text-sm",children:"Generate Test Pic"}),u.jsxs("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-3",children:[u.jsx("h4",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-2",children:"Grid Analysis"}),h&&d!==void 0&&u.jsx("div",{className:"flex items-center justify-between mb-3",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Box Size:"}),u.jsx("input",{type:"number",min:"8",max:"512",step:"2",value:d,onChange:R=>h(parseInt(R.target.value)||64),className:"w-12 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 text-center"}),u.jsx("span",{className:"text-xs text-gray-400",children:"px"})]})}),m&&x&&p!==void 0&&v!==void 0&&u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Layout:"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"number",min:"1",max:"50",value:p,onChange:R=>m(Math.max(1,parseInt(R.target.value)||1)),className:"w-10 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md outline-none text-sm text-center",title:"Rows"}),u.jsx("span",{className:"text-xs text-gray-400",children:"x"}),u.jsx("input",{type:"number",min:"1",max:"50",value:v,onChange:R=>x(Math.max(1,parseInt(R.target.value)||1)),className:"w-10 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md outline-none text-sm text-center",title:"Columns"})]})]}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("button",{onClick:()=>{c==null||c(),C==null||C("mark")},disabled:!z||l!==void 0&&l>0,className:`w-full font-bold py-2 px-4 rounded-lg shadow-md transition-all text-sm ${z?l&&l>0?"bg-indigo-100 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300 border-2 border-indigo-500":"bg-indigo-600 hover:bg-indigo-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:l&&l>0?"Marking Active...":"Mark Corners"}),y&&u.jsxs(u.Fragment,{children:[u.jsx("input",{type:"file",ref:xn,className:"hidden",multiple:!0,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff",onChange:wt}),u.jsxs("div",{className:"relative",children:[u.jsx("button",{onClick:()=>Gt(!Xr),disabled:!g,className:"w-full font-bold py-2 px-4 rounded-lg shadow-md transition-all text-sm bg-emerald-600 hover:bg-emerald-700 disabled:bg-gray-300 disabled:text-gray-500 disabled:cursor-not-allowed text-white flex items-center justify-center gap-2",children:"Reuse Last & Batch"}),Xr&&u.jsxs("div",{className:"absolute bottom-full left-0 w-full mb-1 bg-white dark:bg-slate-800 rounded-lg shadow-xl border border-gray-200 dark:border-slate-700 overflow-hidden z-20 flex flex-col animate-in fade-in zoom-in-95 duration-100",children:[u.jsx("button",{className:"px-4 py-2 text-left text-xs hover:bg-gray-100 dark:hover:bg-slate-700 text-gray-700 dark:text-slate-200 border-b border-gray-100 dark:border-slate-700",onClick:()=>{var R;at("single"),(R=xn.current)==null||R.click()},children:"1. Independent Frames"}),u.jsx("button",{className:"px-4 py-2 text-left text-xs hover:bg-gray-100 dark:hover:bg-slate-700 text-indigo-600 dark:text-indigo-400 font-bold",onClick:()=>{var R;at("pair"),(R=xn.current)==null||R.click()},children:"2. Pair Difference (A-B)"})]})]})]}),u.jsxs("div",{className:"pt-2 mt-2 border-t border-gray-100 dark:border-slate-800",children:[u.jsx("input",{type:"file",ref:En,className:"hidden",accept:".txt",onChange:pt}),u.jsx("button",{onClick:()=>{var R;return(R=En.current)==null?void 0:R.click()},className:"w-full font-bold py-2 px-4 rounded-lg shadow-sm transition-all text-xs bg-slate-100 hover:bg-slate-200 dark:bg-slate-800 dark:hover:bg-slate-700 text-gray-600 dark:text-slate-300 flex items-center justify-center gap-2 border border-gray-300 dark:border-slate-600",children:"Convert Format (.txt  .csv)"})]})]}),l!==void 0&&l>0&&u.jsx("div",{className:"mt-2 text-center",children:u.jsxs("p",{className:"text-xs text-indigo-600 dark:text-indigo-400 font-bold animate-pulse",children:[l===1&&"Click Top-Left Center",l===2&&"Click Top-Right Center",l===3&&"Click Bottom-Left Center",l===4&&"Click Bottom-Right Center"]})})]})]})}),u.jsx(Uu,{title:"Selection Tools",children:u.jsx("div",{className:"space-y-3",children:u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"Quick Select or Shift+drag"}),u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Size (px):"}),u.jsx("input",{type:"number",min:"1",value:ye,onChange:R=>he(R.target.value),disabled:!z,className:"flex-1 px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("button",{onClick:Ht,disabled:!z,className:"px-3 py-1.5 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-slate-200 text-xs font-semibold rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Center Rect"}),u.jsx("button",{onClick:Et,disabled:!z,className:"px-3 py-1.5 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-slate-200 text-xs font-semibold rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Full Image"})]})]})})}),u.jsx(Uu,{title:"Display Controls",children:u.jsxs("div",{className:"space-y-5",children:[u.jsxs("p",{className:"text-gray-500 dark:text-slate-400 text-center text-sm",children:["Adjust parameters and click ",u.jsx("b",{children:"Apply"}),"."]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"exposure",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"Exposure (EV)"}),u.jsx("div",{className:"flex items-center gap-2 mb-2",children:u.jsx("input",{type:"range",min:"-5",max:"5",step:"0.1",disabled:!z,value:parseFloat(M)||0,onChange:R=>bn(R.target.value),className:"w-full h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500 disabled:opacity-50"})}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("input",{id:"exposure",type:"number",step:"0.1",value:M,onChange:R=>bn(R.target.value),disabled:!z,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})})]}),u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"demosaic",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2 flex justify-between",children:[u.jsx("span",{children:"Demosaic Method"}),(_||(t==null?void 0:t.isXTrans))&&u.jsx("span",{className:"text-[9px] text-red-500 font-bold bg-red-100 dark:bg-red-900/30 px-1 rounded",children:"DISABLED"})]}),u.jsx("select",{id:"demosaic",value:ke,onChange:Cr,disabled:!z||_||(t==null?void 0:t.isXTrans),className:"w-full px-2 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none transition-colors disabled:bg-gray-100 dark:disabled:bg-slate-800/50 disabled:cursor-not-allowed text-sm text-gray-900 dark:text-slate-100",children:kM.map(R=>u.jsx("option",{value:R.value,children:R.label},R.value))}),_&&u.jsx("p",{className:"text-[9px] text-gray-400 mt-1",children:"Full color data detected. Demosaicing skipped."}),(t==null?void 0:t.isXTrans)&&u.jsx("p",{className:"text-[9px] text-amber-500 mt-1",children:"X-Trans detected. Please enable Pseudo-Bayer below."})]}),U&&u.jsxs("div",{className:"border-t border-gray-100 dark:border-slate-800 pt-2",children:[u.jsx(Wu,{checked:!!Vt,onChange:R=>{N&&N(R),C==null||C(`xtrans ${R?"on":"off"}`)},label:"Force X-Trans (6x6 -> 2x2)"}),Vt&&P&&A&&u.jsxs("div",{className:"mt-2 pl-2 border-l-2 border-emerald-500/50 bg-emerald-50/20 dark:bg-emerald-900/10 p-2 rounded",children:[u.jsx("label",{className:"text-[9px] font-bold text-gray-500 dark:text-slate-400 uppercase block mb-1",children:"Phase Offset (Fine Tune)"}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-[9px] text-gray-400",children:"X (0-5)"}),u.jsx("input",{type:"number",min:"0",max:"5",value:P.x,onChange:R=>{const je=Math.min(5,Math.max(0,parseInt(R.target.value)||0));A({x:je}),C==null||C(`xtrans phase ${je} ${P.y}`)},className:"w-full text-xs px-1 py-0.5 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-center outline-none focus:border-cyan-500"})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-[9px] text-gray-400",children:"Y (0-5)"}),u.jsx("input",{type:"number",min:"0",max:"5",value:P.y,onChange:R=>{const je=Math.min(5,Math.max(0,parseInt(R.target.value)||0));A({y:je}),C==null||C(`xtrans phase ${P.x} ${je}`)},className:"w-full text-xs px-1 py-0.5 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-center outline-none focus:border-cyan-500"})]})]})]})]}),u.jsx("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-2",children:u.jsx(Wu,{checked:Oe,onChange:Fe,label:"Advanced Settings"})}),Oe&&u.jsxs("div",{className:"space-y-5 pl-2 border-l-2 border-gray-200 dark:border-slate-700 animate-in slide-in-from-top-2 duration-200",children:[u.jsxs("div",{children:[u.jsx(Wu,{checked:K,onChange:se,label:"Show Kadc"}),u.jsx("p",{className:"text-[10px] text-gray-400 dark:text-slate-500 mt-1",children:"Requires manual Black Levellinear PTC zoneabsolutely uniform image ."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"White Balance Gains"}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-xs text-red-500 dark:text-red-400 block mb-1",children:"Red"}),u.jsx("input",{type:"number",step:"0.01",value:I,onChange:R=>Mr(R.target.value),disabled:!z,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-red-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-xs text-blue-500 dark:text-blue-400 block mb-1",children:"Blue"}),u.jsx("input",{type:"number",step:"0.01",value:oe,onChange:R=>Ir(R.target.value),disabled:!z,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-blue-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})]})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-end mb-2",children:[u.jsxs("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide flex items-center",children:["Black Level (4-Ch)",u.jsx("span",{className:"ml-1 text-[10px] text-gray-400 dark:text-slate-500 font-normal normal-case",children:"Native"}),u.jsx("button",{onClick:()=>hr(!0),className:"ml-2 text-[10px] text-cyan-600 dark:text-cyan-400 hover:text-cyan-700 dark:hover:text-cyan-300 hover:underline cursor-pointer transition-colors",title:"About Black Level Settings",children:"[about]"})]}),u.jsxs("div",{className:"flex items-center gap-1.5",title:"Subtract Black Level from ROI Mean stats (for display)",children:[u.jsx("span",{className:"text-[9px] font-mono text-gray-400 dark:text-slate-500 uppercase tracking-wide",children:"Sub. BL"}),u.jsx("div",{className:`relative w-8 h-4 rounded-full cursor-pointer transition-colors duration-200 ease-in-out ${ge?"bg-cyan-500":"bg-gray-300 dark:bg-slate-700"}`,onClick:()=>H(!ge),children:u.jsx("div",{className:`absolute top-0.5 left-0.5 bg-white w-3 h-3 rounded-full shadow-sm transform transition-transform duration-200 ${ge?"translate-x-4":"translate-x-0"}`})})]})]}),u.jsx("input",{type:"text",value:te,onChange:R=>Z(R.target.value),disabled:!z,placeholder:"0 0 0 0",className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-xs font-mono text-gray-900 dark:text-slate-100 transition-colors duration-300",title:"Enter 4 values separated by space or comma"}),u.jsx("p",{className:"text-[10px] text-gray-400 dark:text-slate-500 mt-1",children:"Order: (0,0) (0,1) (1,0) (1,1). Spatial: TL, TR, BL, BR."})]}),u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"customMatrix",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:["Custom Color Matrix",u.jsx("span",{className:"block text-[10px] text-gray-400 dark:text-slate-500 font-normal normal-case mt-0.5",children:"XYZ to Camera RGB (3x3, 9 nums)"})]}),u.jsx("textarea",{id:"customMatrix",value:L,onChange:sn,disabled:!z,placeholder:"0.66 -0.19 -0.04  -0.46 1.23 0.25  -0.06 0.13 0.65",className:"w-full h-24 px-2 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none transition-colors disabled:bg-gray-100 dark:disabled:bg-slate-800/50 disabled:cursor-not-allowed text-xs font-mono leading-relaxed text-gray-900 dark:text-slate-100"})]})]}),u.jsx("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-2",children:u.jsx(Wu,{checked:Re,onChange:bt,label:" (Scalar Unmixing)"})}),Re&&u.jsxs("div",{className:"space-y-4 pl-2 border-l-2 border-indigo-200 dark:border-indigo-900 animate-in slide-in-from-top-2 duration-200",children:[u.jsxs("div",{className:"grid grid-cols-5 gap-1 items-center text-[9px] uppercase font-bold text-gray-400 mb-[-8px]",children:[u.jsx("div",{className:"col-span-1",children:"Param"}),u.jsx("div",{className:"text-center",children:"Ch0(R)"}),u.jsx("div",{className:"text-center",children:"Ch1(G1)"}),u.jsx("div",{className:"text-center",children:"Ch2(B)"}),u.jsx("div",{className:"text-center",children:"Ch3(G2)"})]}),u.jsxs("div",{className:"grid grid-cols-5 gap-2 items-center",children:[u.jsx("span",{className:"text-[10px] font-bold text-red-500",children:"BL:"}),u.jsx("input",{type:"text",value:jt,onChange:R=>$e(R.target.value),className:"col-span-4 px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-xs font-mono text-gray-900 dark:text-slate-100"})]}),u.jsxs("div",{className:"grid grid-cols-5 gap-2 items-center",children:[u.jsx("span",{className:"text-[10px] font-bold text-indigo-500",children:"B ():"}),u.jsx("input",{type:"text",value:Ke,onChange:R=>dt(R.target.value),className:"col-span-4 px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-xs font-mono text-gray-900 dark:text-slate-100"})]}),u.jsxs("div",{className:"grid grid-cols-5 gap-2 items-center",children:[u.jsx("span",{className:"text-[10px] font-bold text-emerald-500",children:"F ():"}),u.jsx("input",{type:"text",value:Ct,onChange:R=>Lt(R.target.value),className:"col-span-4 px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-xs font-mono text-gray-900 dark:text-slate-100"})]}),u.jsx("button",{onClick:ze,disabled:!z,className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-2 rounded text-[10px] shadow transition-transform active:scale-95",children:"RUN UNMIXING (ADV ZERO-DEP)"}),u.jsx("p",{className:"text-[9px] text-gray-400 italic text-center",children:" + sRGB Gamma "})]}),u.jsxs("div",{className:"pt-4 flex flex-col gap-2",children:[u.jsx("button",{onClick:Me,disabled:!z,className:"w-full text-base bg-cyan-500 hover:bg-cyan-600 dark:bg-cyan-600 dark:hover:bg-cyan-500 disabled:bg-gray-300 dark:disabled:bg-slate-800 disabled:text-gray-500 dark:disabled:text-slate-500 disabled:cursor-not-allowed text-white font-bold py-3 px-3 rounded-lg shadow-lg shadow-cyan-500/20 dark:shadow-cyan-900/20 transition-all active:scale-95",children:""}),u.jsxs("button",{onClick:Pe,disabled:!z,className:"w-full text-xs font-bold bg-slate-700 hover:bg-slate-600 text-white disabled:bg-gray-300 dark:disabled:bg-slate-800 disabled:text-gray-500 transition-colors py-2 rounded-lg flex items-center justify-center gap-1.5 border border-slate-600",title:"Diagnostic Mode. Direct RAW-to-Grayscale mapping using manual Black Level & WB Gains (R/B calibration).",children:[u.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"",u.jsx("br",{}),"()"]}),u.jsx("button",{onClick:Tn,disabled:!z,className:"w-full text-xs text-gray-400 hover:text-gray-600 dark:text-slate-400 dark:hover:text-slate-200 disabled:text-gray-300 dark:disabled:text-slate-600 transition-colors mt-1",children:"Reset Defaults (Local)"})]})]})})]}),u.jsx(Do,{isOpen:Ar,onClose:()=>hr(!1),onConfirm:()=>{window.open("https://y-g-jiang.github.io/CBLD.html","_blank"),hr(!1)},title:"Black Level Info / ",confirmText:"Visit Database (CBLD)",cancelText:"Close",message:u.jsxs("div",{className:"flex flex-col gap-4 text-left text-sm text-gray-600 dark:text-slate-300",children:[u.jsxs("p",{className:"leading-relaxed",children:["JiangBridge/JiangBridge",u.jsx("a",{href:"https://y-g-jiang.github.io/CBLD.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline mx-1 font-bold",children:"CBLD.html"}),""]}),u.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 w-full"}),u.jsxs("p",{className:"leading-relaxed",children:["Autofills when JiangBridge is detected. If no result is found or JiangBridge is missing, please check the ",u.jsx("a",{href:"https://y-g-jiang.github.io/CBLD.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline mx-1 font-bold",children:"Black Level Database"}),"to find your camera model. However, manually capturing a dark frame with identical settings to calculate and input the values is highly recommended for higher decimal precision, as internal tags often lack accuracy."]})]})}),u.jsx(Do,{isOpen:ir,onClose:()=>Wt(!1),onConfirm:()=>{},title:"Select Zero-Dependency Mode",confirmText:"",cancelText:"",message:u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx("div",{className:"text-gray-600 dark:text-slate-300 text-left text-sm leading-relaxed mb-2",children:"Select how you want to visualize the raw data without full JOraw processing."}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("button",{onClick:()=>et("mosaic"),className:"flex flex-col items-center justify-center p-4 bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 border-2 border-transparent hover:border-gray-400 dark:hover:border-slate-500 rounded-xl transition-all group",children:[u.jsx("div",{className:"w-12 h-12 bg-gray-300 dark:bg-slate-600 rounded-full flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:u.jsx("svg",{className:"w-6 h-6 text-gray-600 dark:text-slate-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),u.jsx("h4",{className:"font-bold text-gray-800 dark:text-slate-200 mb-1",children:"Mosaic (Gray)"}),u.jsx("p",{className:"text-[10px] text-gray-500 dark:text-slate-400 text-center",children:"Original Bayer pattern. No demosaic. 1:1 pixel mapping. Pure DN visualization."})]}),u.jsxs("button",{onClick:()=>et("bilinear"),className:"flex flex-col items-center justify-center p-4 bg-indigo-50 hover:bg-indigo-100 dark:bg-indigo-900/20 dark:hover:bg-indigo-900/40 border-2 border-transparent hover:border-indigo-400 rounded-xl transition-all group",children:[u.jsx("div",{className:"w-12 h-12 bg-indigo-200 dark:bg-indigo-800 rounded-full flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:u.jsx("svg",{className:"w-6 h-6 text-indigo-700 dark:text-indigo-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"})})}),u.jsx("h4",{className:"font-bold text-indigo-800 dark:text-indigo-300 mb-1",children:"Bilinear (Color)"}),u.jsx("p",{className:"text-[10px] text-indigo-600/80 dark:text-indigo-400/80 text-center",children:"Basic JS Demosaic + Matrix + Gamma. Bypass JOraw pipeline."})]})]}),u.jsx("button",{onClick:()=>Wt(!1),className:"mt-2 w-full py-2 text-xs font-bold text-gray-500 hover:text-gray-700 dark:text-slate-400 dark:hover:text-slate-200 transition-colors",children:"Cancel"})]})})]})},jM=j.forwardRef((e,t)=>{const{rawImageData:r,displaySettings:n,onApplyDisplaySettings:a,onSetSelection:o,onStartMarking:i,onGenerateTestPic:s,onBatchDrLab:l,onProcessPair:c,onProcessBatchDiff:f,onProcessStackFft:d,onOpenCrossCalc:h,onToggleXTrans:p,onXTransPhaseChange:m}=e,[v,x]=j.useState([{id:"init",type:"info",text:'Jiangtherapee CLI v1.0. Type "help" for commands.'}]),[y,g]=j.useState(""),[b,S]=j.useState([]),[w,k]=j.useState(-1),O=j.useRef(null),_=j.useRef(null),N=j.useRef(null),P=j.useRef(null),A=j.useRef(null),$=j.useRef(null),C=j.useRef(null),z=j.useRef(null);j.useRef(null);const E=j.useRef({...n});j.useEffect(()=>{E.current={...n}},[n.exposure,n.demosaicMethod]);const U=j.useRef({fileA:null,fileB:null});j.useLayoutEffect(()=>{O.current&&(O.current.scrollTop=O.current.scrollHeight)},[v]);const M=(I,G="out")=>{x(oe=>[...oe,{id:Date.now().toString()+Math.random(),type:G,text:I}])};j.useImperativeHandle(t,()=>({log:(I,G="in")=>{const oe=G;let q=I;G==="in"&&!I.startsWith(">")&&(q=`> ${I}`),M(q,oe)}}));const B=j.useRef(null);j.useEffect(()=>{if(e.roiStats&&e.roiStats!==B.current){const I=e.roiStats,G=Math.round(I.x),oe=Math.round(I.y),q=Math.round(I.width),ke=Math.round(I.height);M(`> sel ${G} ${oe} ${q} ${ke}`,"in");const ve=e.isBGGR?[{name:"B",idx:0},{name:"G1",idx:1},{name:"G2",idx:2},{name:"R",idx:3}]:[{name:"R",idx:0},{name:"G1",idx:1},{name:"G2",idx:2},{name:"B",idx:3}],K=u.jsxs("div",{className:"font-mono text-xs mt-1 mb-2",children:[u.jsxs("div",{className:"text-gray-400 mb-1",children:["Region Stats [",G,", ",oe,", ",q,"x",ke,"]:"]}),u.jsxs("div",{className:"grid grid-cols-[30px_1fr_1fr] gap-x-2 border-b border-gray-700 pb-1 mb-1 text-gray-500 font-bold",children:[u.jsx("div",{children:"Ch"}),u.jsx("div",{className:"text-right",children:"Mean"}),u.jsx("div",{className:"text-right",children:"StdDev"})]}),ve.map(se=>u.jsxs("div",{className:"grid grid-cols-[30px_1fr_1fr] gap-x-2 hover:bg-gray-900",children:[u.jsx("div",{className:se.name==="R"?"text-red-500":se.name==="B"?"text-blue-500":"text-green-500",children:se.name}),u.jsx("div",{className:"text-right text-gray-300",children:I.means[se.idx].toFixed(2)}),u.jsx("div",{className:"text-right text-gray-400",children:I.stdDevs[se.idx].toFixed(2)})]},se.name))]});M(K,"out"),B.current=I}},[e.roiStats,e.isBGGR]);const L=I=>{var ke,ve,K,se,ge,H,ye;const G=I.trim().split(/\s+/),oe=G[0].toLowerCase(),q=G.slice(1);switch(oe){case"help":M("Available Commands:","info"),M("  ev <val>          Set Exposure (e.g. ev 1.5)","info"),M("  wb <r> <b>        Set WB Gains","info"),M("  bl <r> <g>...     Set Black Level (1 or 4 vals)","info"),M("  demo <id>         Demosaic (0=Lin, 3=AHD, -1=Raw)","info"),M("  matrix <n1..n9>   Set Custom Color Matrix","info"),M("  xtrans <on|off>   Force X-Trans Mode","info"),M("  xtrans phase <x> <y>  Set X-Trans Phase","info"),M("  render            Apply settings & Render","info"),M("  render zero       Zero-Dependency Render","info"),M("  render unmix      Advanced Unmixing Render","info"),M("  sel <full|center> Select ROI","info"),M("  sel <x> <y> <w> <h> Select ROI manually","info"),M("  mark              Start DR Lab Corner Marking","info"),M("  gen test          Generate Test Pattern","info"),M("  fft load <a>      Load FFT Pair Image A","info"),M("  fft load <b>      Load FFT Pair Image B","info"),M("  fft run           Run FFT Pair Diff","info"),M("  cls               Clear Screen","info");break;case"cls":case"clear":x([]);break;case"ev":case"exposure":if(q.length<1){M(`Current EV: ${E.current.exposure}`,"info");return}const he=parseFloat(q[0]);if(isNaN(he)){M("Invalid EV value","err");return}E.current.exposure=he,M(`EV set to ${he} (run 'render' to apply)`);break;case"wb":if(q.length<2){M("Usage: wb <red_gain> <blue_gain>","err");return}const Oe=parseFloat(q[0]),Fe=parseFloat(q[1]);if(isNaN(Oe)||isNaN(Fe)){M("Invalid gains","err");return}E.current.wbGains=[Oe,Fe],M(`WB set to R:${Oe} B:${Fe}`);break;case"bl":case"black":if(q.length===0){M(`Current BL: ${((ke=E.current.blackLevel)==null?void 0:ke.join(" "))||"Auto"}`,"info");return}let Re=q.map(Number);if(Re.some(isNaN)){M("Invalid numbers","err");return}if(Re.length===1&&(Re=[Re[0],Re[0],Re[0],Re[0]]),Re.length<4){M("Need 1 or 4 values","err");return}E.current.blackLevel=[Re[0],Re[1],Re[2],Re[3]],E.current.subtractBlackLevelFromStats=!0,E.current.showKadc=!0,M(`Black Level set: ${Re.slice(0,4).join(" ")}`);break;case"demo":case"demosaic":if(q.length===0){M("Usage: demo <id> (0=Lin, 1=VNG, 2=PPG, 3=AHD, 4=DCB, 11=DHT, 12=AAHD, -1=Raw)","info");return}const bt=parseInt(q[0]);if(isNaN(bt)){M("Invalid method ID","err");return}E.current.demosaicMethod=bt,M(`Demosaic set to ID ${bt}`);break;case"matrix":if(q.length!==9){M("Usage: matrix m1 m2 m3 m4 m5 m6 m7 m8 m9 (3x3)","err");return}const jt=q.map(Number);if(jt.some(isNaN)){M("Invalid matrix values","err");return}E.current.customMatrix=jt,M("Custom Color Matrix set.");break;case"xtrans":if(q[0]==="on"||q[0]==="true")p?(p(!0),M("X-Trans conversion ON")):M("Feature not available","err");else if(q[0]==="off"||q[0]==="false")p?(p(!1),M("X-Trans conversion OFF")):M("Feature not available","err");else if(q[0]==="phase"){if(q.length<3){M("Usage: xtrans phase <x> <y>","err");return}const $e=parseInt(q[1]),Ke=parseInt(q[2]);m&&(m({x:$e,y:Ke}),M(`X-Trans Phase set to (${$e}, ${Ke})`))}else M("Usage: xtrans <on|off> OR xtrans phase <x> <y>","err");break;case"render":case"apply":if(q[0]==="zero"){const $e=q[1]==="color"?"zero-dep-color":"zero-dependency";E.current.renderMode=$e,M(`Rendering Zero-Dependency (${$e})...`)}else if(q[0]==="unmix"){if(q.length<13){M("Usage: render unmix <4xBL> <4xBG> <4xFG>","err");return}const $e=q.slice(1).map(Number);if($e.some(isNaN)){M("Invalid params","err");return}E.current.renderMode="advanced-zero-dep",E.current.advancedZeroDep={bl:[$e[0],$e[1],$e[2],$e[3]],bg:[$e[4],$e[5],$e[6],$e[7]],fg:[$e[8],$e[9],$e[10],$e[11]]},M("Rendering Advanced Unmix...")}else E.current.renderMode="standard",M("Rendering Standard Pipeline...");a({...E.current});break;case"sel":case"select":if(!r||!o){M("No image loaded","err");return}if(q[0]==="full")o({x:0,y:0,w:r.width,h:r.height});else if(q[0]==="center"){const $e=parseInt(q[1])||64,Ke=Math.floor((r.width-$e)/2),dt=Math.floor((r.height-$e)/2);o({x:Ke,y:dt,w:$e,h:$e})}else if(q.length===4){const[$e,Ke,dt,Ct]=q.map(Number);if([$e,Ke,dt,Ct].some(isNaN)){M("Invalid coordinates","err");return}o({x:$e,y:Ke,w:dt,h:Ct})}else M("Usage: sel full | sel center <size> | sel <x> <y> <w> <h>","err");break;case"mark":i&&(i(),M("Interactive marking started. Click 4 corners on canvas."));break;case"gen":(q[0]==="test"||q[0]==="pattern")&&s&&(s(),M("Generated Test Pattern"));break;case"drlab":if(q[0]==="config"){const[$e,Ke,dt]=q.slice(1).map(Number);e.onDrRoiSizeChange&&e.onDrRoiSizeChange($e||64),e.onDrGridRowsChange&&e.onDrGridRowsChange(Ke||10),e.onDrGridColsChange&&e.onDrGridColsChange(dt||10),M(`DR Grid Configured: Size=${$e}, Grid=${Ke}x${dt}`)}else q[0]==="batch"&&(q[1]==="pair"?(M("Select file pairs for DR Lab..."),(ve=P.current)==null||ve.click()):(M("Select single files for DR Lab..."),(K=N.current)==null||K.click()));break;case"fft":q[0]==="load"?q[1]==="a"?(se=A.current)==null||se.click():q[1]==="b"?(ge=$.current)==null||ge.click():M("Usage: fft load <a|b>","err"):q[0]==="run"?U.current.fileA&&U.current.fileB&&c?(M(`Processing Pair: ${U.current.fileA.name} - ${U.current.fileB.name}`),c(U.current.fileA,U.current.fileB,!1,!0)):M("Load both A and B first","err"):q[0]==="stack"?(M("Select files for Stack FFT..."),(H=C.current)==null||H.click()):q[0]==="batch"&&(M("Select files for Batch Diff...","info"),(ye=z.current)==null||ye.click());break;case"crosscalc":h&&(h(),M("Opened Cross-Calculator"));break;default:M(`Unknown command: ${oe}`,"err")}},X=I=>{if(I.key==="Enter"){const G=y.trim();if(!G)return;M(`> ${G}`,"in"),G.split(";").forEach(q=>{q.trim()&&L(q.trim())}),S(q=>[...q,G]),k(-1),g("")}else if(I.key==="ArrowUp"){if(I.preventDefault(),b.length>0){const G=w===-1?b.length-1:Math.max(0,w-1);k(G),g(b[G])}}else if(I.key==="ArrowDown")if(I.preventDefault(),w!==-1){const G=Math.min(b.length-1,w+1);k(G),g(b[G])}else g("")},te=(I,G)=>{I.target.files&&I.target.files.length>0&&l&&(M(`Batch processing ${I.target.files.length} files in ${G} mode...`),l(I.target.files,G)),I.target.value=""},Z=(I,G)=>{var q;const oe=(q=I.target.files)==null?void 0:q[0];oe&&(G==="A"?U.current.fileA=oe:U.current.fileB=oe,M(`Loaded ${G}: ${oe.name}`)),I.target.value=""};return u.jsxs("div",{className:"flex flex-col h-full bg-black text-green-500 font-mono text-sm border-l-4 border-gray-700 p-2 shadow-2xl",children:[u.jsxs("div",{className:"border-b border-green-800 pb-2 mb-2 flex justify-between items-end select-none",children:[u.jsx("h2",{className:"text-xl font-bold tracking-widest",children:"TERMINAL"}),u.jsx("div",{className:"text-[10px] text-green-700",children:"JIANGTHERAPEE_CLI_V1"})]}),u.jsx("div",{ref:O,className:"flex-grow overflow-y-auto overflow-x-hidden break-words mb-2 pr-1 scrollbar-thin scrollbar-thumb-green-900 scrollbar-track-black",children:v.map(I=>u.jsxs("div",{className:`mb-1 ${I.type==="in"?"opacity-50":""} ${I.type==="err"?"text-red-500":""} ${I.type==="info"?"text-cyan-400":""}`,children:[I.type!=="in"&&typeof I.text=="string"&&!I.text.startsWith(">")&&u.jsx("span",{className:"mr-2 opacity-50",children:">"}),I.text]},I.id))}),u.jsxs("div",{className:"relative flex items-center border-t border-green-800 pt-2",children:[u.jsx("span",{className:"text-green-500 mr-2 animate-pulse font-bold",children:">"}),u.jsx("input",{ref:_,type:"text",value:y,onChange:I=>g(I.target.value),onKeyDown:X,autoFocus:!0,className:"w-full bg-transparent border-none outline-none text-green-400 placeholder-green-900",placeholder:"Enter command (e.g. 'help')",spellCheck:!1,autoComplete:"off"})]}),u.jsx("input",{type:"file",ref:N,className:"hidden",multiple:!0,onChange:I=>te(I,"single")}),u.jsx("input",{type:"file",ref:P,className:"hidden",multiple:!0,onChange:I=>te(I,"pair")}),u.jsx("input",{type:"file",ref:A,className:"hidden",onChange:I=>Z(I,"A")}),u.jsx("input",{type:"file",ref:$,className:"hidden",onChange:I=>Z(I,"B")}),u.jsx("input",{type:"file",ref:C,className:"hidden",multiple:!0,onChange:I=>{e.onProcessStackFft&&I.target.files&&(M(`Loading ${I.target.files.length} frames for Stack FFT...`),e.onProcessStackFft(I.target.files)),I.target.value=""}}),u.jsx("input",{type:"file",ref:z,className:"hidden",multiple:!0,onChange:I=>{e.onProcessBatchDiff&&I.target.files&&(M("Starting Batch Diff..."),e.onProcessBatchDiff(I.target.files)),I.target.value=""}})]})}),OM=(e,t)=>{if(!e)return null;if(t){const r=e.bayerPattern.toUpperCase(),n=l=>{const c=[];for(let f=0;f<4;f++)r[f]===l&&c.push(f);return c},a=t.BlackLevelRed,o=t.BlackLevelGreen,i=t.BlackLevelBlue;if(a!==void 0&&o!==void 0&&i!==void 0){const l=parseFloat(a),c=parseFloat(o),f=parseFloat(i);if(!isNaN(l)&&!isNaN(c)&&!isNaN(f)){const d=[0,0,0,0];return d.fill(c),n("R").forEach(h=>d[h]=l),n("G").forEach(h=>d[h]=c),n("B").forEach(h=>f),d}}let s=t.BlackLevel;if(s===void 0&&(s=t.BlackLevel2),s!==void 0){let l=[];if(Array.isArray(s)?l=s.map(Number):typeof s=="string"?l=s.trim().split(/\s+/).map(Number):typeof s=="number"&&(l=[s,s,s,s]),l.length===1&&!isNaN(l[0])&&(l=[l[0],l[0],l[0],l[0]]),l.length>=4&&!l.slice(0,4).some(isNaN))return[l[0],l[1],l[2],l[3]]}}return e.blackLevels&&e.blackLevels.length===4?[e.blackLevels[0],e.blackLevels[1],e.blackLevels[2],e.blackLevels[3]]:null},_M=e=>{const[t,r]=j.useState("gui"),{rawImageData:n,exifData:a,isBridgeConnected:o,displaySettings:i,onApplyDisplaySettings:s}=e,l=j.useRef(null),c=j.useRef(!1),f=j.useRef(null);j.useEffect(()=>{n!==f.current&&(c.current=!1,f.current=n)},[n]),j.useEffect(()=>{var h;if(o&&n&&!c.current){c.current=!0;const p=OM(n,a),m=p&&p.some(v=>v>0);if(p&&m){console.log("[AutoApply] Detected Black Levels via Bridge:",p),(h=l.current)==null||h.log(`Auto-detected BL: ${p.join(" ")}`,"info");const v={...i,blackLevel:p,showKadc:!0,subtractBlackLevelFromStats:!0,exposure:i.exposure,wbGains:i.wbGains||[1,1],demosaicMethod:i.demosaicMethod,renderMode:"standard"};s(v)}}},[o,n,a,i,s]);const d=h=>{l.current&&l.current.log(h,"in")};return u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsxs("div",{className:"flex bg-gray-200 dark:bg-gray-800 p-1 border-b border-gray-300 dark:border-gray-700 flex-shrink-0",children:[u.jsx("button",{onClick:()=>r("gui"),className:`flex-1 py-1 text-xs font-bold uppercase tracking-wider transition-colors border-r border-gray-300 dark:border-gray-700 ${t==="gui"?"bg-white dark:bg-black shadow-inner text-cyan-600 dark:text-cyan-400":"bg-gray-200 dark:bg-gray-900 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"GUI"}),u.jsx("button",{onClick:()=>r("terminal"),className:`flex-1 py-1 text-xs font-bold uppercase tracking-wider transition-colors ${t==="terminal"?"bg-black text-green-500 shadow-inner":"bg-gray-200 dark:bg-gray-900 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"Terminal"})]}),u.jsxs("div",{className:"flex-grow overflow-hidden relative",children:[u.jsx("div",{className:`h-full w-full ${t==="gui"?"block":"hidden"}`,children:u.jsx(SM,{...e,onCommand:d})}),u.jsx("div",{className:`h-full w-full ${t==="terminal"?"block":"hidden"}`,children:u.jsx(jM,{...e,ref:l})})]})]})},NM=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 12H4"})}),PM=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),AM=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h5M4 12a8 8 0 0114.24-5.12M20 20v-5h-5M20 12a8 8 0 01-14.24 5.12"})}),MM=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11"})}),CM=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 4l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})}),ag=.1,og=16,EM=Math.log(ag),TM=Math.log(og),$M=({zoom:e,onZoomChange:t,onResetView:r,touchAction:n,onToggleTouchAction:a})=>{const o=c=>{const f=parseFloat(c.target.value),d=Math.exp(f);t(Math.max(ag,Math.min(og,d)))},i=()=>{t(Math.min(og,e*1.25))},s=()=>{t(Math.max(ag,e/1.25))},l=Math.log(e);return u.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",onClick:c=>c.stopPropagation(),children:[u.jsx("div",{className:"bg-white/90 dark:bg-slate-800/70 backdrop-blur-sm p-2 rounded-lg border border-gray-200 dark:border-slate-700 flex items-center shadow-lg transition-colors duration-300",children:u.jsx("button",{onClick:a,className:`p-1.5 rounded-md transition-colors flex items-center justify-center ${n==="select"?"bg-cyan-100 text-cyan-600 dark:bg-cyan-900/50 dark:text-cyan-400 ring-2 ring-cyan-500/50":"text-gray-500 dark:text-slate-400 hover:bg-gray-100 dark:hover:bg-slate-700"}`,title:n==="select"?"Mode: Selection (Drag to Select)":"Mode: Pan (Drag to Move)",children:n==="select"?u.jsx(CM,{}):u.jsx(MM,{})})}),u.jsxs("div",{className:"bg-white/90 dark:bg-slate-800/70 backdrop-blur-sm p-2 rounded-lg border border-gray-200 dark:border-slate-700 flex items-center gap-2 text-gray-700 dark:text-slate-300 shadow-lg transition-colors duration-300",children:[u.jsx("button",{onClick:s,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Zoom Out","aria-label":"Zoom Out",children:u.jsx(NM,{})}),u.jsx("input",{type:"range",min:EM,max:TM,step:"0.01",value:l,onChange:o,className:"w-24 sm:w-32 h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500","aria-label":"Zoom slider"}),u.jsx("button",{onClick:i,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Zoom In","aria-label":"Zoom In",children:u.jsx(PM,{})}),u.jsxs("span",{className:"w-16 text-center font-mono text-sm","aria-live":"polite",children:[(e*100).toFixed(0),"%"]}),u.jsx("button",{onClick:r,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Reset View","aria-label":"Reset View",children:u.jsx(AM,{})})]})]})},DM=({theme:e,setTheme:t})=>{const r=()=>{t(e==="light"?"dark":"light")};return u.jsx("button",{onClick:r,className:"fixed bottom-6 right-6 z-50 p-3 rounded-full bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 shadow-lg text-gray-800 dark:text-yellow-400 hover:bg-gray-100 dark:hover:bg-slate-700 transition-all duration-300",title:`Switch to ${e==="light"?"dark":"light"} mode`,children:e==="light"?u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-slate-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}):u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})})})};function oj(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=oj(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function tt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=oj(e))&&(n&&(n+=" "),n+=t);return n}var RM=Array.isArray,Mn=RM,LM=typeof ju=="object"&&ju&&ju.Object===Object&&ju,ij=LM,IM=ij,BM=typeof self=="object"&&self&&self.Object===Object&&self,FM=IM||BM||Function("return this")(),Fa=FM,zM=Fa,UM=zM.Symbol,lu=UM,Xx=lu,sj=Object.prototype,WM=sj.hasOwnProperty,GM=sj.toString,_l=Xx?Xx.toStringTag:void 0;function HM(e){var t=WM.call(e,_l),r=e[_l];try{e[_l]=void 0;var n=!0}catch{}var a=GM.call(e);return n&&(t?e[_l]=r:delete e[_l]),a}var VM=HM,XM=Object.prototype,KM=XM.toString;function YM(e){return KM.call(e)}var qM=YM,Kx=lu,ZM=VM,QM=qM,JM="[object Null]",eC="[object Undefined]",Yx=Kx?Kx.toStringTag:void 0;function tC(e){return e==null?e===void 0?eC:JM:Yx&&Yx in Object(e)?ZM(e):QM(e)}var uo=tC;function rC(e){return e!=null&&typeof e=="object"}var fo=rC,nC=uo,aC=fo,oC="[object Symbol]";function iC(e){return typeof e=="symbol"||aC(e)&&nC(e)==oC}var Ys=iC,sC=Mn,lC=Ys,cC=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,uC=/^\w*$/;function fC(e,t){if(sC(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||lC(e)?!0:uC.test(e)||!cC.test(e)||t!=null&&e in Object(t)}var Ay=fC;function dC(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Uo=dC;const qs=Mt(Uo);var hC=uo,pC=Uo,gC="[object AsyncFunction]",mC="[object Function]",yC="[object GeneratorFunction]",vC="[object Proxy]";function xC(e){if(!pC(e))return!1;var t=hC(e);return t==mC||t==yC||t==gC||t==vC}var My=xC;const Ge=Mt(My);var bC=Fa,wC=bC["__core-js_shared__"],kC=wC,Ep=kC,qx=function(){var e=/[^.]+$/.exec(Ep&&Ep.keys&&Ep.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function SC(e){return!!qx&&qx in e}var jC=SC,OC=Function.prototype,_C=OC.toString;function NC(e){if(e!=null){try{return _C.call(e)}catch{}try{return e+""}catch{}}return""}var lj=NC,PC=My,AC=jC,MC=Uo,CC=lj,EC=/[\\^$.*+?()[\]{}|]/g,TC=/^\[object .+?Constructor\]$/,$C=Function.prototype,DC=Object.prototype,RC=$C.toString,LC=DC.hasOwnProperty,IC=RegExp("^"+RC.call(LC).replace(EC,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function BC(e){if(!MC(e)||AC(e))return!1;var t=PC(e)?IC:TC;return t.test(CC(e))}var FC=BC;function zC(e,t){return e==null?void 0:e[t]}var UC=zC,WC=FC,GC=UC;function HC(e,t){var r=GC(e,t);return WC(r)?r:void 0}var Mi=HC,VC=Mi,XC=VC(Object,"create"),ch=XC,Zx=ch;function KC(){this.__data__=Zx?Zx(null):{},this.size=0}var YC=KC;function qC(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var ZC=qC,QC=ch,JC="__lodash_hash_undefined__",eE=Object.prototype,tE=eE.hasOwnProperty;function rE(e){var t=this.__data__;if(QC){var r=t[e];return r===JC?void 0:r}return tE.call(t,e)?t[e]:void 0}var nE=rE,aE=ch,oE=Object.prototype,iE=oE.hasOwnProperty;function sE(e){var t=this.__data__;return aE?t[e]!==void 0:iE.call(t,e)}var lE=sE,cE=ch,uE="__lodash_hash_undefined__";function fE(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=cE&&t===void 0?uE:t,this}var dE=fE,hE=YC,pE=ZC,gE=nE,mE=lE,yE=dE;function Zs(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Zs.prototype.clear=hE;Zs.prototype.delete=pE;Zs.prototype.get=gE;Zs.prototype.has=mE;Zs.prototype.set=yE;var vE=Zs;function xE(){this.__data__=[],this.size=0}var bE=xE;function wE(e,t){return e===t||e!==e&&t!==t}var Cy=wE,kE=Cy;function SE(e,t){for(var r=e.length;r--;)if(kE(e[r][0],t))return r;return-1}var uh=SE,jE=uh,OE=Array.prototype,_E=OE.splice;function NE(e){var t=this.__data__,r=jE(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():_E.call(t,r,1),--this.size,!0}var PE=NE,AE=uh;function ME(e){var t=this.__data__,r=AE(t,e);return r<0?void 0:t[r][1]}var CE=ME,EE=uh;function TE(e){return EE(this.__data__,e)>-1}var $E=TE,DE=uh;function RE(e,t){var r=this.__data__,n=DE(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var LE=RE,IE=bE,BE=PE,FE=CE,zE=$E,UE=LE;function Qs(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Qs.prototype.clear=IE;Qs.prototype.delete=BE;Qs.prototype.get=FE;Qs.prototype.has=zE;Qs.prototype.set=UE;var fh=Qs,WE=Mi,GE=Fa,HE=WE(GE,"Map"),Ey=HE,Qx=vE,VE=fh,XE=Ey;function KE(){this.size=0,this.__data__={hash:new Qx,map:new(XE||VE),string:new Qx}}var YE=KE;function qE(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var ZE=qE,QE=ZE;function JE(e,t){var r=e.__data__;return QE(t)?r[typeof t=="string"?"string":"hash"]:r.map}var dh=JE,eT=dh;function tT(e){var t=eT(this,e).delete(e);return this.size-=t?1:0,t}var rT=tT,nT=dh;function aT(e){return nT(this,e).get(e)}var oT=aT,iT=dh;function sT(e){return iT(this,e).has(e)}var lT=sT,cT=dh;function uT(e,t){var r=cT(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var fT=uT,dT=YE,hT=rT,pT=oT,gT=lT,mT=fT;function Js(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Js.prototype.clear=dT;Js.prototype.delete=hT;Js.prototype.get=pT;Js.prototype.has=gT;Js.prototype.set=mT;var Ty=Js,cj=Ty,yT="Expected a function";function $y(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(yT);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var i=e.apply(this,n);return r.cache=o.set(a,i)||o,i};return r.cache=new($y.Cache||cj),r}$y.Cache=cj;var uj=$y;const vT=Mt(uj);var xT=uj,bT=500;function wT(e){var t=xT(e,function(n){return r.size===bT&&r.clear(),n}),r=t.cache;return t}var kT=wT,ST=kT,jT=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,OT=/\\(\\)?/g,_T=ST(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(jT,function(r,n,a,o){t.push(a?o.replace(OT,"$1"):n||r)}),t}),NT=_T;function PT(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var Dy=PT,Jx=lu,AT=Dy,MT=Mn,CT=Ys,eb=Jx?Jx.prototype:void 0,tb=eb?eb.toString:void 0;function fj(e){if(typeof e=="string")return e;if(MT(e))return AT(e,fj)+"";if(CT(e))return tb?tb.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var ET=fj,TT=ET;function $T(e){return e==null?"":TT(e)}var dj=$T,DT=Mn,RT=Ay,LT=NT,IT=dj;function BT(e,t){return DT(e)?e:RT(e,t)?[e]:LT(IT(e))}var hj=BT,FT=Ys;function zT(e){if(typeof e=="string"||FT(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var hh=zT,UT=hj,WT=hh;function GT(e,t){t=UT(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[WT(t[r++])];return r&&r==n?e:void 0}var Ry=GT,HT=Ry;function VT(e,t,r){var n=e==null?void 0:HT(e,t);return n===void 0?r:n}var pj=VT;const ta=Mt(pj);function XT(e){return e==null}var KT=XT;const Le=Mt(KT);var YT=uo,qT=Mn,ZT=fo,QT="[object String]";function JT(e){return typeof e=="string"||!qT(e)&&ZT(e)&&YT(e)==QT}var e$=JT;const wi=Mt(e$);var gj={exports:{}},xt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ly=Symbol.for("react.element"),Iy=Symbol.for("react.portal"),ph=Symbol.for("react.fragment"),gh=Symbol.for("react.strict_mode"),mh=Symbol.for("react.profiler"),yh=Symbol.for("react.provider"),vh=Symbol.for("react.context"),t$=Symbol.for("react.server_context"),xh=Symbol.for("react.forward_ref"),bh=Symbol.for("react.suspense"),wh=Symbol.for("react.suspense_list"),kh=Symbol.for("react.memo"),Sh=Symbol.for("react.lazy"),r$=Symbol.for("react.offscreen"),mj;mj=Symbol.for("react.module.reference");function oa(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Ly:switch(e=e.type,e){case ph:case mh:case gh:case bh:case wh:return e;default:switch(e=e&&e.$$typeof,e){case t$:case vh:case xh:case Sh:case kh:case yh:return e;default:return t}}case Iy:return t}}}xt.ContextConsumer=vh;xt.ContextProvider=yh;xt.Element=Ly;xt.ForwardRef=xh;xt.Fragment=ph;xt.Lazy=Sh;xt.Memo=kh;xt.Portal=Iy;xt.Profiler=mh;xt.StrictMode=gh;xt.Suspense=bh;xt.SuspenseList=wh;xt.isAsyncMode=function(){return!1};xt.isConcurrentMode=function(){return!1};xt.isContextConsumer=function(e){return oa(e)===vh};xt.isContextProvider=function(e){return oa(e)===yh};xt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ly};xt.isForwardRef=function(e){return oa(e)===xh};xt.isFragment=function(e){return oa(e)===ph};xt.isLazy=function(e){return oa(e)===Sh};xt.isMemo=function(e){return oa(e)===kh};xt.isPortal=function(e){return oa(e)===Iy};xt.isProfiler=function(e){return oa(e)===mh};xt.isStrictMode=function(e){return oa(e)===gh};xt.isSuspense=function(e){return oa(e)===bh};xt.isSuspenseList=function(e){return oa(e)===wh};xt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ph||e===mh||e===gh||e===bh||e===wh||e===r$||typeof e=="object"&&e!==null&&(e.$$typeof===Sh||e.$$typeof===kh||e.$$typeof===yh||e.$$typeof===vh||e.$$typeof===xh||e.$$typeof===mj||e.getModuleId!==void 0)};xt.typeOf=oa;gj.exports=xt;var n$=gj.exports,a$=uo,o$=fo,i$="[object Number]";function s$(e){return typeof e=="number"||o$(e)&&a$(e)==i$}var yj=s$;const l$=Mt(yj);var c$=yj;function u$(e){return c$(e)&&e!=+e}var f$=u$;const el=Mt(f$);var xa=function(t){return t===0?0:t>0?1:-1},oi=function(t){return wi(t)&&t.indexOf("%")===t.length-1},ue=function(t){return l$(t)&&!el(t)},d$=function(t){return Le(t)},_r=function(t){return ue(t)||wi(t)},h$=0,Ci=function(t){var r=++h$;return"".concat(t||"").concat(r)},ki=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ue(t)&&!wi(t))return n;var o;if(oi(t)){var i=t.indexOf("%");o=r*parseFloat(t.slice(0,i))/100}else o=+t;return el(o)&&(o=n),a&&o>r&&(o=r),o},wo=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},p$=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},dr=function(t,r){return ue(t)&&ue(r)?function(n){return t+n*(r-t)}:function(){return r}};function Wf(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):ta(n,t))===r})}var g$=function(t){if(!t||!t.length)return null;for(var r=t.length,n=0,a=0,o=0,i=0,s=1/0,l=-1/0,c=0,f=0,d=0;d<r;d++)c=t[d].cx||0,f=t[d].cy||0,n+=c,a+=f,o+=c*f,i+=c*c,s=Math.min(s,c),l=Math.max(l,c);var h=r*i!==n*n?(r*o-n*a)/(r*i-n*n):0;return{xmin:s,xmax:l,a:h,b:(a-h*n)/r}},m$=function(t,r){return ue(t)&&ue(r)?t-r:wi(t)&&wi(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function ls(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function ig(e){"@babel/helpers - typeof";return ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ig(e)}var y$=["viewBox","children"],v$=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],rb=["points","pathLength"],Tp={svg:y$,polygon:rb,polyline:rb},By=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Gf=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(j.isValidElement(t)&&(n=t.props),!qs(n))return null;var a={};return Object.keys(n).forEach(function(o){By.includes(o)&&(a[o]=r||function(i){return n[o](n,i)})}),a},x$=function(t,r,n){return function(a){return t(r,n,a),null}},wc=function(t,r,n){if(!qs(t)||ig(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(o){var i=t[o];By.includes(o)&&typeof i=="function"&&(a||(a={}),a[o]=x$(i,r,n))}),a},b$=["children"],w$=["children"];function nb(e,t){if(e==null)return{};var r=k$(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function k$(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function sg(e){"@babel/helpers - typeof";return sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sg(e)}var ab={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Qa=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},ob=null,$p=null,Fy=function e(t){if(t===ob&&Array.isArray($p))return $p;var r=[];return j.Children.forEach(t,function(n){Le(n)||(n$.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),$p=r,ob=t,r};function An(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Qa(a)}):n=[Qa(t)],Fy(e).forEach(function(a){var o=ta(a,"type.displayName")||ta(a,"type.name");n.indexOf(o)!==-1&&r.push(a)}),r}function Ln(e,t){var r=An(e,t);return r&&r[0]}var ib=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!ue(n)||n<=0||!ue(a)||a<=0)},S$=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],j$=function(t){return t&&t.type&&wi(t.type)&&S$.indexOf(t.type)>=0},vj=function(t){return t&&sg(t)==="object"&&"clipDot"in t},O$=function(t,r,n,a){var o,i=(o=Tp==null?void 0:Tp[a])!==null&&o!==void 0?o:[];return r.startsWith("data-")||!Ge(t)&&(a&&i.includes(r)||v$.includes(r))||n&&By.includes(r)},Be=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(j.isValidElement(t)&&(a=t.props),!qs(a))return null;var o={};return Object.keys(a).forEach(function(i){var s;O$((s=a)===null||s===void 0?void 0:s[i],i,r,n)&&(o[i]=a[i])}),o},lg=function e(t,r){if(t===r)return!0;var n=j.Children.count(t);if(n!==j.Children.count(r))return!1;if(n===0)return!0;if(n===1)return sb(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var o=t[a],i=r[a];if(Array.isArray(o)||Array.isArray(i)){if(!e(o,i))return!1}else if(!sb(o,i))return!1}return!0},sb=function(t,r){if(Le(t)&&Le(r))return!0;if(!Le(t)&&!Le(r)){var n=t.props||{},a=n.children,o=nb(n,b$),i=r.props||{},s=i.children,l=nb(i,w$);return a&&s?ls(o,l)&&lg(a,s):!a&&!s?ls(o,l):!1}return!1},lb=function(t,r){var n=[],a={};return Fy(t).forEach(function(o,i){if(j$(o))n.push(o);else if(o){var s=Qa(o.type),l=r[s]||{},c=l.handler,f=l.once;if(c&&(!f||!a[s])){var d=c(o,s,i);n.push(d),a[s]=!0}}}),n},_$=function(t){var r=t&&t.type;return r&&ab[r]?ab[r]:null},N$=function(t,r){return Fy(r).indexOf(t)},P$=["children","width","height","viewBox","className","style","title","desc"];function cg(){return cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cg.apply(this,arguments)}function A$(e,t){if(e==null)return{};var r=M$(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function M$(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ug(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,o=e.className,i=e.style,s=e.title,l=e.desc,c=A$(e,P$),f=a||{width:r,height:n,x:0,y:0},d=tt("recharts-surface",o);return T.createElement("svg",cg({},Be(c,!0,"svg"),{className:d,width:r,height:n,style:i,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),T.createElement("title",null,s),T.createElement("desc",null,l),t)}var C$=["children","className"];function fg(){return fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fg.apply(this,arguments)}function E$(e,t){if(e==null)return{};var r=T$(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function T$(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var st=T.forwardRef(function(e,t){var r=e.children,n=e.className,a=E$(e,C$),o=tt("recharts-layer",n);return T.createElement("g",fg({className:o},Be(a,!0),{ref:t}),r)}),Ja=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o]};function $$(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(a);++n<a;)o[n]=e[n+t];return o}var D$=$$,R$=D$;function L$(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:R$(e,t,r)}var I$=L$,B$="\\ud800-\\udfff",F$="\\u0300-\\u036f",z$="\\ufe20-\\ufe2f",U$="\\u20d0-\\u20ff",W$=F$+z$+U$,G$="\\ufe0e\\ufe0f",H$="\\u200d",V$=RegExp("["+H$+B$+W$+G$+"]");function X$(e){return V$.test(e)}var xj=X$;function K$(e){return e.split("")}var Y$=K$,bj="\\ud800-\\udfff",q$="\\u0300-\\u036f",Z$="\\ufe20-\\ufe2f",Q$="\\u20d0-\\u20ff",J$=q$+Z$+Q$,e5="\\ufe0e\\ufe0f",t5="["+bj+"]",dg="["+J$+"]",hg="\\ud83c[\\udffb-\\udfff]",r5="(?:"+dg+"|"+hg+")",wj="[^"+bj+"]",kj="(?:\\ud83c[\\udde6-\\uddff]){2}",Sj="[\\ud800-\\udbff][\\udc00-\\udfff]",n5="\\u200d",jj=r5+"?",Oj="["+e5+"]?",a5="(?:"+n5+"(?:"+[wj,kj,Sj].join("|")+")"+Oj+jj+")*",o5=Oj+jj+a5,i5="(?:"+[wj+dg+"?",dg,kj,Sj,t5].join("|")+")",s5=RegExp(hg+"(?="+hg+")|"+i5+o5,"g");function l5(e){return e.match(s5)||[]}var c5=l5,u5=Y$,f5=xj,d5=c5;function h5(e){return f5(e)?d5(e):u5(e)}var p5=h5,g5=I$,m5=xj,y5=p5,v5=dj;function x5(e){return function(t){t=v5(t);var r=m5(t)?y5(t):void 0,n=r?r[0]:t.charAt(0),a=r?g5(r,1).join(""):t.slice(1);return n[e]()+a}}var b5=x5,w5=b5,k5=w5("toUpperCase"),S5=k5;const jh=Mt(S5);function Dt(e){return function(){return e}}const _j=Math.cos,Hf=Math.sin,_a=Math.sqrt,Vf=Math.PI,Oh=2*Vf,pg=Math.PI,gg=2*pg,Jo=1e-6,j5=gg-Jo;function Nj(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function O5(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Nj;const r=10**t;return function(n){this._+=n[0];for(let a=1,o=n.length;a<o;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class _5{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Nj:O5(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,o,i){this._append`C${+t},${+r},${+n},${+a},${this._x1=+o},${this._y1=+i}`}arcTo(t,r,n,a,o){if(t=+t,r=+r,n=+n,a=+a,o=+o,o<0)throw new Error(`negative radius: ${o}`);let i=this._x1,s=this._y1,l=n-t,c=a-r,f=i-t,d=s-r,h=f*f+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Jo)if(!(Math.abs(d*l-c*f)>Jo)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-i,m=a-s,v=l*l+c*c,x=p*p+m*m,y=Math.sqrt(v),g=Math.sqrt(h),b=o*Math.tan((pg-Math.acos((v+h-x)/(2*y*g)))/2),S=b/g,w=b/y;Math.abs(S-1)>Jo&&this._append`L${t+S*f},${r+S*d}`,this._append`A${o},${o},0,0,${+(d*p>f*m)},${this._x1=t+w*l},${this._y1=r+w*c}`}}arc(t,r,n,a,o,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),l=n*Math.sin(a),c=t+s,f=r+l,d=1^i,h=i?a-o:o-a;this._x1===null?this._append`M${c},${f}`:(Math.abs(this._x1-c)>Jo||Math.abs(this._y1-f)>Jo)&&this._append`L${c},${f}`,n&&(h<0&&(h=h%gg+gg),h>j5?this._append`A${n},${n},0,1,${d},${t-s},${r-l}A${n},${n},0,1,${d},${this._x1=c},${this._y1=f}`:h>Jo&&this._append`A${n},${n},0,${+(h>=pg)},${d},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function zy(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new _5(t)}function Uy(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Pj(e){this._context=e}Pj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function _h(e){return new Pj(e)}function Aj(e){return e[0]}function Mj(e){return e[1]}function Cj(e,t){var r=Dt(!0),n=null,a=_h,o=null,i=zy(s);e=typeof e=="function"?e:e===void 0?Aj:Dt(e),t=typeof t=="function"?t:t===void 0?Mj:Dt(t);function s(l){var c,f=(l=Uy(l)).length,d,h=!1,p;for(n==null&&(o=a(p=i())),c=0;c<=f;++c)!(c<f&&r(d=l[c],c,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(d,c,l),+t(d,c,l));if(p)return o=null,p+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Dt(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Dt(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Dt(!!l),s):r},s.curve=function(l){return arguments.length?(a=l,n!=null&&(o=a(n)),s):a},s.context=function(l){return arguments.length?(l==null?n=o=null:o=a(n=l),s):n},s}function Gu(e,t,r){var n=null,a=Dt(!0),o=null,i=_h,s=null,l=zy(c);e=typeof e=="function"?e:e===void 0?Aj:Dt(+e),t=typeof t=="function"?t:Dt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?Mj:Dt(+r);function c(d){var h,p,m,v=(d=Uy(d)).length,x,y=!1,g,b=new Array(v),S=new Array(v);for(o==null&&(s=i(g=l())),h=0;h<=v;++h){if(!(h<v&&a(x=d[h],h,d))===y)if(y=!y)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=h-1;m>=p;--m)s.point(b[m],S[m]);s.lineEnd(),s.areaEnd()}y&&(b[h]=+e(x,h,d),S[h]=+t(x,h,d),s.point(n?+n(x,h,d):b[h],r?+r(x,h,d):S[h]))}if(g)return s=null,g+""||null}function f(){return Cj().defined(a).curve(i).context(o)}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:Dt(+d),n=null,c):e},c.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Dt(+d),c):e},c.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Dt(+d),c):n},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:Dt(+d),r=null,c):t},c.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Dt(+d),c):t},c.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Dt(+d),c):r},c.lineX0=c.lineY0=function(){return f().x(e).y(t)},c.lineY1=function(){return f().x(e).y(r)},c.lineX1=function(){return f().x(n).y(t)},c.defined=function(d){return arguments.length?(a=typeof d=="function"?d:Dt(!!d),c):a},c.curve=function(d){return arguments.length?(i=d,o!=null&&(s=i(o)),c):i},c.context=function(d){return arguments.length?(d==null?o=s=null:s=i(o=d),c):o},c}class Ej{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function N5(e){return new Ej(e,!0)}function P5(e){return new Ej(e,!1)}const Wy={draw(e,t){const r=_a(t/Vf);e.moveTo(r,0),e.arc(0,0,r,0,Oh)}},A5={draw(e,t){const r=_a(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Tj=_a(1/3),M5=Tj*2,C5={draw(e,t){const r=_a(t/M5),n=r*Tj;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},E5={draw(e,t){const r=_a(t),n=-r/2;e.rect(n,n,r,r)}},T5=.8908130915292852,$j=Hf(Vf/10)/Hf(7*Vf/10),$5=Hf(Oh/10)*$j,D5=-_j(Oh/10)*$j,R5={draw(e,t){const r=_a(t*T5),n=$5*r,a=D5*r;e.moveTo(0,-r),e.lineTo(n,a);for(let o=1;o<5;++o){const i=Oh*o/5,s=_j(i),l=Hf(i);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*a,l*n+s*a)}e.closePath()}},Dp=_a(3),L5={draw(e,t){const r=-_a(t/(Dp*3));e.moveTo(0,r*2),e.lineTo(-Dp*r,-r),e.lineTo(Dp*r,-r),e.closePath()}},Hn=-.5,Vn=_a(3)/2,mg=1/_a(12),I5=(mg/2+1)*3,B5={draw(e,t){const r=_a(t/I5),n=r/2,a=r*mg,o=n,i=r*mg+r,s=-o,l=i;e.moveTo(n,a),e.lineTo(o,i),e.lineTo(s,l),e.lineTo(Hn*n-Vn*a,Vn*n+Hn*a),e.lineTo(Hn*o-Vn*i,Vn*o+Hn*i),e.lineTo(Hn*s-Vn*l,Vn*s+Hn*l),e.lineTo(Hn*n+Vn*a,Hn*a-Vn*n),e.lineTo(Hn*o+Vn*i,Hn*i-Vn*o),e.lineTo(Hn*s+Vn*l,Hn*l-Vn*s),e.closePath()}};function F5(e,t){let r=null,n=zy(a);e=typeof e=="function"?e:Dt(e||Wy),t=typeof t=="function"?t:Dt(t===void 0?64:+t);function a(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return a.type=function(o){return arguments.length?(e=typeof o=="function"?o:Dt(o),a):e},a.size=function(o){return arguments.length?(t=typeof o=="function"?o:Dt(+o),a):t},a.context=function(o){return arguments.length?(r=o??null,a):r},a}function Xf(){}function Kf(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Dj(e){this._context=e}Dj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Kf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Kf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function z5(e){return new Dj(e)}function Rj(e){this._context=e}Rj.prototype={areaStart:Xf,areaEnd:Xf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Kf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function U5(e){return new Rj(e)}function Lj(e){this._context=e}Lj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Kf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function W5(e){return new Lj(e)}function Ij(e){this._context=e}Ij.prototype={areaStart:Xf,areaEnd:Xf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function G5(e){return new Ij(e)}function cb(e){return e<0?-1:1}function ub(e,t,r){var n=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),s=(o*a+i*n)/(n+a);return(cb(o)+cb(i))*Math.min(Math.abs(o),Math.abs(i),.5*Math.abs(s))||0}function fb(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Rp(e,t,r){var n=e._x0,a=e._y0,o=e._x1,i=e._y1,s=(o-n)/3;e._context.bezierCurveTo(n+s,a+s*t,o-s,i-s*r,o,i)}function Yf(e){this._context=e}Yf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Rp(this,this._t0,fb(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Rp(this,fb(this,r=ub(this,e,t)),r);break;default:Rp(this,this._t0,r=ub(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Bj(e){this._context=new Fj(e)}(Bj.prototype=Object.create(Yf.prototype)).point=function(e,t){Yf.prototype.point.call(this,t,e)};function Fj(e){this._context=e}Fj.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,o){this._context.bezierCurveTo(t,e,n,r,o,a)}};function H5(e){return new Yf(e)}function V5(e){return new Bj(e)}function zj(e){this._context=e}zj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=db(e),a=db(t),o=0,i=1;i<r;++o,++i)this._context.bezierCurveTo(n[0][o],a[0][o],n[1][o],a[1][o],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function db(e){var t,r=e.length-1,n,a=new Array(r),o=new Array(r),i=new Array(r);for(a[0]=0,o[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,o[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,o[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/o[t-1],o[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/o[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/o[t];for(o[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-a[t+1];return[a,o]}function X5(e){return new zj(e)}function Nh(e,t){this._context=e,this._t=t}Nh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function K5(e){return new Nh(e,.5)}function Y5(e){return new Nh(e,0)}function q5(e){return new Nh(e,1)}function vs(e,t){if((i=e.length)>1)for(var r=1,n,a,o=e[t[0]],i,s=o.length;r<i;++r)for(a=o,o=e[t[r]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function yg(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Z5(e,t){return e[t]}function Q5(e){const t=[];return t.key=e,t}function J5(){var e=Dt([]),t=yg,r=vs,n=Z5;function a(o){var i=Array.from(e.apply(this,arguments),Q5),s,l=i.length,c=-1,f;for(const d of o)for(s=0,++c;s<l;++s)(i[s][c]=[0,+n(d,i[s].key,c,o)]).data=d;for(s=0,f=Uy(t(i));s<l;++s)i[f[s]].index=s;return r(i,f),i}return a.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Dt(Array.from(o)),a):e},a.value=function(o){return arguments.length?(n=typeof o=="function"?o:Dt(+o),a):n},a.order=function(o){return arguments.length?(t=o==null?yg:typeof o=="function"?o:Dt(Array.from(o)),a):t},a.offset=function(o){return arguments.length?(r=o??vs,a):r},a}function e4(e,t){if((n=e.length)>0){for(var r,n,a=0,o=e[0].length,i;a<o;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}vs(e,t)}}function t4(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,o=n.length;r<o;++r){for(var i=0,s=0;i<a;++i)s+=e[i][r][1]||0;n[r][1]+=n[r][0]=-s/2}vs(e,t)}}function r4(e,t){if(!(!((i=e.length)>0)||!((o=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,o,i;n<o;++n){for(var s=0,l=0,c=0;s<i;++s){for(var f=e[t[s]],d=f[n][1]||0,h=f[n-1][1]||0,p=(d-h)/2,m=0;m<s;++m){var v=e[t[m]],x=v[n][1]||0,y=v[n-1][1]||0;p+=x-y}l+=d,c+=p*d}a[n-1][1]+=a[n-1][0]=r,l&&(r-=c/l)}a[n-1][1]+=a[n-1][0]=r,vs(e,t)}}function kc(e){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kc(e)}var n4=["type","size","sizeType"];function vg(){return vg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vg.apply(this,arguments)}function hb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hb(Object(r),!0).forEach(function(n){a4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a4(e,t,r){return t=o4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o4(e){var t=i4(e,"string");return kc(t)=="symbol"?t:t+""}function i4(e,t){if(kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s4(e,t){if(e==null)return{};var r=l4(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function l4(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Uj={symbolCircle:Wy,symbolCross:A5,symbolDiamond:C5,symbolSquare:E5,symbolStar:R5,symbolTriangle:L5,symbolWye:B5},c4=Math.PI/180,u4=function(t){var r="symbol".concat(jh(t));return Uj[r]||Wy},f4=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*c4;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},d4=function(t,r){Uj["symbol".concat(jh(t))]=r},Ph=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,o=a===void 0?64:a,i=t.sizeType,s=i===void 0?"area":i,l=s4(t,n4),c=pb(pb({},l),{},{type:n,size:o,sizeType:s}),f=function(){var x=u4(n),y=F5().type(x).size(f4(o,s,n));return y()},d=c.className,h=c.cx,p=c.cy,m=Be(c,!0);return h===+h&&p===+p&&o===+o?T.createElement("path",vg({},m,{className:tt("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:f()})):null};Ph.registerSymbol=d4;function xs(e){"@babel/helpers - typeof";return xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xs(e)}function xg(){return xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xg.apply(this,arguments)}function gb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function h4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gb(Object(r),!0).forEach(function(n){Sc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Gj(n.key),n)}}function m4(e,t,r){return t&&g4(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function y4(e,t,r){return t=qf(t),v4(e,Wj()?Reflect.construct(t,r||[],qf(e).constructor):t.apply(e,r))}function v4(e,t){if(t&&(xs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x4(e)}function x4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wj=function(){return!!e})()}function qf(e){return qf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qf(e)}function b4(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bg(e,t)}function bg(e,t){return bg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bg(e,t)}function Sc(e,t,r){return t=Gj(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gj(e){var t=w4(e,"string");return xs(t)=="symbol"?t:t+""}function w4(e,t){if(xs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Xn=32,Gy=function(e){function t(){return p4(this,t),y4(this,t,arguments)}return b4(t,e),m4(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,o=Xn/2,i=Xn/6,s=Xn/3,l=n.inactive?a:n.color;if(n.type==="plainline")return T.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:Xn,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return T.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Xn,"M").concat(2*s,",").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return T.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Xn/8,"h").concat(Xn,"v").concat(Xn*3/4,"h").concat(-Xn,"z"),className:"recharts-legend-icon"});if(T.isValidElement(n.legendIcon)){var c=h4({},n);return delete c.legendIcon,T.cloneElement(n.legendIcon,c)}return T.createElement(Ph,{fill:l,cx:o,cy:o,size:Xn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,o=a.payload,i=a.iconSize,s=a.layout,l=a.formatter,c=a.inactiveColor,f={x:0,y:0,width:Xn,height:Xn},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,m){var v=p.formatter||l,x=tt(Sc(Sc({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=Ge(p.value)?null:p.value;Ja(!Ge(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var g=p.inactive?c:p.color;return T.createElement("li",xg({className:x,style:d,key:"legend-item-".concat(m)},wc(n.props,p,m)),T.createElement(ug,{width:i,height:i,viewBox:f,style:h},n.renderIcon(p)),T.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},v?v(y,p,m):y))})}},{key:"render",value:function(){var n=this.props,a=n.payload,o=n.layout,i=n.align;if(!a||!a.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?i:"left"};return T.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(j.PureComponent);Sc(Gy,"displayName","Legend");Sc(Gy,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var k4=fh;function S4(){this.__data__=new k4,this.size=0}var j4=S4;function O4(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var _4=O4;function N4(e){return this.__data__.get(e)}var P4=N4;function A4(e){return this.__data__.has(e)}var M4=A4,C4=fh,E4=Ey,T4=Ty,$4=200;function D4(e,t){var r=this.__data__;if(r instanceof C4){var n=r.__data__;if(!E4||n.length<$4-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new T4(n)}return r.set(e,t),this.size=r.size,this}var R4=D4,L4=fh,I4=j4,B4=_4,F4=P4,z4=M4,U4=R4;function tl(e){var t=this.__data__=new L4(e);this.size=t.size}tl.prototype.clear=I4;tl.prototype.delete=B4;tl.prototype.get=F4;tl.prototype.has=z4;tl.prototype.set=U4;var Hj=tl,W4="__lodash_hash_undefined__";function G4(e){return this.__data__.set(e,W4),this}var H4=G4;function V4(e){return this.__data__.has(e)}var X4=V4,K4=Ty,Y4=H4,q4=X4;function Zf(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new K4;++t<r;)this.add(e[t])}Zf.prototype.add=Zf.prototype.push=Y4;Zf.prototype.has=q4;var Vj=Zf;function Z4(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Xj=Z4;function Q4(e,t){return e.has(t)}var Kj=Q4,J4=Vj,e3=Xj,t3=Kj,r3=1,n3=2;function a3(e,t,r,n,a,o){var i=r&r3,s=e.length,l=t.length;if(s!=l&&!(i&&l>s))return!1;var c=o.get(e),f=o.get(t);if(c&&f)return c==t&&f==e;var d=-1,h=!0,p=r&n3?new J4:void 0;for(o.set(e,t),o.set(t,e);++d<s;){var m=e[d],v=t[d];if(n)var x=i?n(v,m,d,t,e,o):n(m,v,d,e,t,o);if(x!==void 0){if(x)continue;h=!1;break}if(p){if(!e3(t,function(y,g){if(!t3(p,g)&&(m===y||a(m,y,r,n,o)))return p.push(g)})){h=!1;break}}else if(!(m===v||a(m,v,r,n,o))){h=!1;break}}return o.delete(e),o.delete(t),h}var Yj=a3,o3=Fa,i3=o3.Uint8Array,s3=i3;function l3(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var c3=l3;function u3(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Hy=u3,mb=lu,yb=s3,f3=Cy,d3=Yj,h3=c3,p3=Hy,g3=1,m3=2,y3="[object Boolean]",v3="[object Date]",x3="[object Error]",b3="[object Map]",w3="[object Number]",k3="[object RegExp]",S3="[object Set]",j3="[object String]",O3="[object Symbol]",_3="[object ArrayBuffer]",N3="[object DataView]",vb=mb?mb.prototype:void 0,Lp=vb?vb.valueOf:void 0;function P3(e,t,r,n,a,o,i){switch(r){case N3:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case _3:return!(e.byteLength!=t.byteLength||!o(new yb(e),new yb(t)));case y3:case v3:case w3:return f3(+e,+t);case x3:return e.name==t.name&&e.message==t.message;case k3:case j3:return e==t+"";case b3:var s=h3;case S3:var l=n&g3;if(s||(s=p3),e.size!=t.size&&!l)return!1;var c=i.get(e);if(c)return c==t;n|=m3,i.set(e,t);var f=d3(s(e),s(t),n,a,o,i);return i.delete(e),f;case O3:if(Lp)return Lp.call(e)==Lp.call(t)}return!1}var A3=P3;function M3(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var qj=M3,C3=qj,E3=Mn;function T3(e,t,r){var n=t(e);return E3(e)?n:C3(n,r(e))}var $3=T3;function D3(e,t){for(var r=-1,n=e==null?0:e.length,a=0,o=[];++r<n;){var i=e[r];t(i,r,e)&&(o[a++]=i)}return o}var R3=D3;function L3(){return[]}var I3=L3,B3=R3,F3=I3,z3=Object.prototype,U3=z3.propertyIsEnumerable,xb=Object.getOwnPropertySymbols,W3=xb?function(e){return e==null?[]:(e=Object(e),B3(xb(e),function(t){return U3.call(e,t)}))}:F3,G3=W3;function H3(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var V3=H3,X3=uo,K3=fo,Y3="[object Arguments]";function q3(e){return K3(e)&&X3(e)==Y3}var Z3=q3,bb=Z3,Q3=fo,Zj=Object.prototype,J3=Zj.hasOwnProperty,eD=Zj.propertyIsEnumerable,tD=bb(function(){return arguments}())?bb:function(e){return Q3(e)&&J3.call(e,"callee")&&!eD.call(e,"callee")},Vy=tD,Qf={exports:{}};function rD(){return!1}var nD=rD;Qf.exports;(function(e,t){var r=Fa,n=nD,a=t&&!t.nodeType&&t,o=a&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===a,s=i?r.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||n;e.exports=c})(Qf,Qf.exports);var Qj=Qf.exports,aD=9007199254740991,oD=/^(?:0|[1-9]\d*)$/;function iD(e,t){var r=typeof e;return t=t??aD,!!t&&(r=="number"||r!="symbol"&&oD.test(e))&&e>-1&&e%1==0&&e<t}var Xy=iD,sD=9007199254740991;function lD(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=sD}var Ky=lD,cD=uo,uD=Ky,fD=fo,dD="[object Arguments]",hD="[object Array]",pD="[object Boolean]",gD="[object Date]",mD="[object Error]",yD="[object Function]",vD="[object Map]",xD="[object Number]",bD="[object Object]",wD="[object RegExp]",kD="[object Set]",SD="[object String]",jD="[object WeakMap]",OD="[object ArrayBuffer]",_D="[object DataView]",ND="[object Float32Array]",PD="[object Float64Array]",AD="[object Int8Array]",MD="[object Int16Array]",CD="[object Int32Array]",ED="[object Uint8Array]",TD="[object Uint8ClampedArray]",$D="[object Uint16Array]",DD="[object Uint32Array]",Ft={};Ft[ND]=Ft[PD]=Ft[AD]=Ft[MD]=Ft[CD]=Ft[ED]=Ft[TD]=Ft[$D]=Ft[DD]=!0;Ft[dD]=Ft[hD]=Ft[OD]=Ft[pD]=Ft[_D]=Ft[gD]=Ft[mD]=Ft[yD]=Ft[vD]=Ft[xD]=Ft[bD]=Ft[wD]=Ft[kD]=Ft[SD]=Ft[jD]=!1;function RD(e){return fD(e)&&uD(e.length)&&!!Ft[cD(e)]}var LD=RD;function ID(e){return function(t){return e(t)}}var Jj=ID,Jf={exports:{}};Jf.exports;(function(e,t){var r=ij,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===n,i=o&&r.process,s=function(){try{var l=a&&a.require&&a.require("util").types;return l||i&&i.binding&&i.binding("util")}catch{}}();e.exports=s})(Jf,Jf.exports);var BD=Jf.exports,FD=LD,zD=Jj,wb=BD,kb=wb&&wb.isTypedArray,UD=kb?zD(kb):FD,eO=UD,WD=V3,GD=Vy,HD=Mn,VD=Qj,XD=Xy,KD=eO,YD=Object.prototype,qD=YD.hasOwnProperty;function ZD(e,t){var r=HD(e),n=!r&&GD(e),a=!r&&!n&&VD(e),o=!r&&!n&&!a&&KD(e),i=r||n||a||o,s=i?WD(e.length,String):[],l=s.length;for(var c in e)(t||qD.call(e,c))&&!(i&&(c=="length"||a&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||XD(c,l)))&&s.push(c);return s}var QD=ZD,JD=Object.prototype;function eR(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||JD;return e===r}var tR=eR;function rR(e,t){return function(r){return e(t(r))}}var tO=rR,nR=tO,aR=nR(Object.keys,Object),oR=aR,iR=tR,sR=oR,lR=Object.prototype,cR=lR.hasOwnProperty;function uR(e){if(!iR(e))return sR(e);var t=[];for(var r in Object(e))cR.call(e,r)&&r!="constructor"&&t.push(r);return t}var fR=uR,dR=My,hR=Ky;function pR(e){return e!=null&&hR(e.length)&&!dR(e)}var cu=pR,gR=QD,mR=fR,yR=cu;function vR(e){return yR(e)?gR(e):mR(e)}var Ah=vR,xR=$3,bR=G3,wR=Ah;function kR(e){return xR(e,wR,bR)}var SR=kR,Sb=SR,jR=1,OR=Object.prototype,_R=OR.hasOwnProperty;function NR(e,t,r,n,a,o){var i=r&jR,s=Sb(e),l=s.length,c=Sb(t),f=c.length;if(l!=f&&!i)return!1;for(var d=l;d--;){var h=s[d];if(!(i?h in t:_R.call(t,h)))return!1}var p=o.get(e),m=o.get(t);if(p&&m)return p==t&&m==e;var v=!0;o.set(e,t),o.set(t,e);for(var x=i;++d<l;){h=s[d];var y=e[h],g=t[h];if(n)var b=i?n(g,y,h,t,e,o):n(y,g,h,e,t,o);if(!(b===void 0?y===g||a(y,g,r,n,o):b)){v=!1;break}x||(x=h=="constructor")}if(v&&!x){var S=e.constructor,w=t.constructor;S!=w&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof w=="function"&&w instanceof w)&&(v=!1)}return o.delete(e),o.delete(t),v}var PR=NR,AR=Mi,MR=Fa,CR=AR(MR,"DataView"),ER=CR,TR=Mi,$R=Fa,DR=TR($R,"Promise"),RR=DR,LR=Mi,IR=Fa,BR=LR(IR,"Set"),rO=BR,FR=Mi,zR=Fa,UR=FR(zR,"WeakMap"),WR=UR,wg=ER,kg=Ey,Sg=RR,jg=rO,Og=WR,nO=uo,rl=lj,jb="[object Map]",GR="[object Object]",Ob="[object Promise]",_b="[object Set]",Nb="[object WeakMap]",Pb="[object DataView]",HR=rl(wg),VR=rl(kg),XR=rl(Sg),KR=rl(jg),YR=rl(Og),ei=nO;(wg&&ei(new wg(new ArrayBuffer(1)))!=Pb||kg&&ei(new kg)!=jb||Sg&&ei(Sg.resolve())!=Ob||jg&&ei(new jg)!=_b||Og&&ei(new Og)!=Nb)&&(ei=function(e){var t=nO(e),r=t==GR?e.constructor:void 0,n=r?rl(r):"";if(n)switch(n){case HR:return Pb;case VR:return jb;case XR:return Ob;case KR:return _b;case YR:return Nb}return t});var qR=ei,Ip=Hj,ZR=Yj,QR=A3,JR=PR,Ab=qR,Mb=Mn,Cb=Qj,eL=eO,tL=1,Eb="[object Arguments]",Tb="[object Array]",Hu="[object Object]",rL=Object.prototype,$b=rL.hasOwnProperty;function nL(e,t,r,n,a,o){var i=Mb(e),s=Mb(t),l=i?Tb:Ab(e),c=s?Tb:Ab(t);l=l==Eb?Hu:l,c=c==Eb?Hu:c;var f=l==Hu,d=c==Hu,h=l==c;if(h&&Cb(e)){if(!Cb(t))return!1;i=!0,f=!1}if(h&&!f)return o||(o=new Ip),i||eL(e)?ZR(e,t,r,n,a,o):QR(e,t,l,r,n,a,o);if(!(r&tL)){var p=f&&$b.call(e,"__wrapped__"),m=d&&$b.call(t,"__wrapped__");if(p||m){var v=p?e.value():e,x=m?t.value():t;return o||(o=new Ip),a(v,x,r,n,o)}}return h?(o||(o=new Ip),JR(e,t,r,n,a,o)):!1}var aL=nL,oL=aL,Db=fo;function aO(e,t,r,n,a){return e===t?!0:e==null||t==null||!Db(e)&&!Db(t)?e!==e&&t!==t:oL(e,t,r,n,aO,a)}var Yy=aO,iL=Hj,sL=Yy,lL=1,cL=2;function uL(e,t,r,n){var a=r.length,o=a,i=!n;if(e==null)return!o;for(e=Object(e);a--;){var s=r[a];if(i&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<o;){s=r[a];var l=s[0],c=e[l],f=s[1];if(i&&s[2]){if(c===void 0&&!(l in e))return!1}else{var d=new iL;if(n)var h=n(c,f,l,e,t,d);if(!(h===void 0?sL(f,c,lL|cL,n,d):h))return!1}}return!0}var fL=uL,dL=Uo;function hL(e){return e===e&&!dL(e)}var oO=hL,pL=oO,gL=Ah;function mL(e){for(var t=gL(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,pL(a)]}return t}var yL=mL;function vL(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var iO=vL,xL=fL,bL=yL,wL=iO;function kL(e){var t=bL(e);return t.length==1&&t[0][2]?wL(t[0][0],t[0][1]):function(r){return r===e||xL(r,e,t)}}var SL=kL;function jL(e,t){return e!=null&&t in Object(e)}var OL=jL,_L=hj,NL=Vy,PL=Mn,AL=Xy,ML=Ky,CL=hh;function EL(e,t,r){t=_L(t,e);for(var n=-1,a=t.length,o=!1;++n<a;){var i=CL(t[n]);if(!(o=e!=null&&r(e,i)))break;e=e[i]}return o||++n!=a?o:(a=e==null?0:e.length,!!a&&ML(a)&&AL(i,a)&&(PL(e)||NL(e)))}var TL=EL,$L=OL,DL=TL;function RL(e,t){return e!=null&&DL(e,t,$L)}var LL=RL,IL=Yy,BL=pj,FL=LL,zL=Ay,UL=oO,WL=iO,GL=hh,HL=1,VL=2;function XL(e,t){return zL(e)&&UL(t)?WL(GL(e),t):function(r){var n=BL(r,e);return n===void 0&&n===t?FL(r,e):IL(t,n,HL|VL)}}var KL=XL;function YL(e){return e}var nl=YL;function qL(e){return function(t){return t==null?void 0:t[e]}}var ZL=qL,QL=Ry;function JL(e){return function(t){return QL(t,e)}}var eI=JL,tI=ZL,rI=eI,nI=Ay,aI=hh;function oI(e){return nI(e)?tI(aI(e)):rI(e)}var iI=oI,sI=SL,lI=KL,cI=nl,uI=Mn,fI=iI;function dI(e){return typeof e=="function"?e:e==null?cI:typeof e=="object"?uI(e)?lI(e[0],e[1]):sI(e):fI(e)}var Wo=dI;function hI(e,t,r,n){for(var a=e.length,o=r+(n?1:-1);n?o--:++o<a;)if(t(e[o],o,e))return o;return-1}var sO=hI;function pI(e){return e!==e}var gI=pI;function mI(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var yI=mI,vI=sO,xI=gI,bI=yI;function wI(e,t,r){return t===t?bI(e,t,r):vI(e,xI,r)}var kI=wI,SI=kI;function jI(e,t){var r=e==null?0:e.length;return!!r&&SI(e,t,0)>-1}var OI=jI;function _I(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var NI=_I;function PI(){}var AI=PI,Bp=rO,MI=AI,CI=Hy,EI=1/0,TI=Bp&&1/CI(new Bp([,-0]))[1]==EI?function(e){return new Bp(e)}:MI,$I=TI,DI=Vj,RI=OI,LI=NI,II=Kj,BI=$I,FI=Hy,zI=200;function UI(e,t,r){var n=-1,a=RI,o=e.length,i=!0,s=[],l=s;if(r)i=!1,a=LI;else if(o>=zI){var c=t?null:BI(e);if(c)return FI(c);i=!1,a=II,l=new DI}else l=t?[]:s;e:for(;++n<o;){var f=e[n],d=t?t(f):f;if(f=r||f!==0?f:0,i&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),s.push(f)}else a(l,d,r)||(l!==s&&l.push(d),s.push(f))}return s}var WI=UI,GI=Wo,HI=WI;function VI(e,t){return e&&e.length?HI(e,GI(t)):[]}var XI=VI;const Rb=Mt(XI);function lO(e,t,r){return t===!0?Rb(e,r):Ge(t)?Rb(e,t):e}function bs(e){"@babel/helpers - typeof";return bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bs(e)}var KI=["ref"];function Lb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lb(Object(r),!0).forEach(function(n){Mh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ib(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uO(n.key),n)}}function qI(e,t,r){return t&&Ib(e.prototype,t),r&&Ib(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZI(e,t,r){return t=ed(t),QI(e,cO()?Reflect.construct(t,r||[],ed(e).constructor):t.apply(e,r))}function QI(e,t){if(t&&(bs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JI(e)}function JI(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cO=function(){return!!e})()}function ed(e){return ed=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ed(e)}function e6(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_g(e,t)}function _g(e,t){return _g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_g(e,t)}function Mh(e,t,r){return t=uO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uO(e){var t=t6(e,"string");return bs(t)=="symbol"?t:t+""}function t6(e,t){if(bs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function r6(e,t){if(e==null)return{};var r=n6(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function n6(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function a6(e){return e.value}function o6(e,t){if(T.isValidElement(e))return T.cloneElement(e,t);if(typeof e=="function")return T.createElement(e,t);t.ref;var r=r6(t,KI);return T.createElement(Gy,r)}var Bb=1,eo=function(e){function t(){var r;YI(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=ZI(this,t,[].concat(a)),Mh(r,"lastBoundingBox",{width:-1,height:-1}),r}return e6(t,e),qI(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>Bb||Math.abs(a.height-this.lastBoundingBox.height)>Bb)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Wa({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,o=a.layout,i=a.align,s=a.verticalAlign,l=a.margin,c=a.chartWidth,f=a.chartHeight,d,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(i==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();d={left:((c||0)-p.width)/2}}else d=i==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var m=this.getBBoxSnapshot();h={top:((f||0)-m.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Wa(Wa({},d),h)}},{key:"render",value:function(){var n=this,a=this.props,o=a.content,i=a.width,s=a.height,l=a.wrapperStyle,c=a.payloadUniqBy,f=a.payload,d=Wa(Wa({position:"absolute",width:i||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return T.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){n.wrapperNode=p}},o6(o,Wa(Wa({},this.props),{},{payload:lO(f,c,a6)})))}}],[{key:"getWithHeight",value:function(n,a){var o=Wa(Wa({},this.defaultProps),n.props),i=o.layout;return i==="vertical"&&ue(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||a}:null}}])}(j.PureComponent);Mh(eo,"displayName","Legend");Mh(eo,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Fb=lu,i6=Vy,s6=Mn,zb=Fb?Fb.isConcatSpreadable:void 0;function l6(e){return s6(e)||i6(e)||!!(zb&&e&&e[zb])}var c6=l6,u6=qj,f6=c6;function fO(e,t,r,n,a){var o=-1,i=e.length;for(r||(r=f6),a||(a=[]);++o<i;){var s=e[o];t>0&&r(s)?t>1?fO(s,t-1,r,n,a):u6(a,s):n||(a[a.length]=s)}return a}var dO=fO;function d6(e){return function(t,r,n){for(var a=-1,o=Object(t),i=n(t),s=i.length;s--;){var l=i[e?s:++a];if(r(o[l],l,o)===!1)break}return t}}var h6=d6,p6=h6,g6=p6(),m6=g6,y6=m6,v6=Ah;function x6(e,t){return e&&y6(e,t,v6)}var hO=x6,b6=cu;function w6(e,t){return function(r,n){if(r==null)return r;if(!b6(r))return e(r,n);for(var a=r.length,o=t?a:-1,i=Object(r);(t?o--:++o<a)&&n(i[o],o,i)!==!1;);return r}}var k6=w6,S6=hO,j6=k6,O6=j6(S6),qy=O6,_6=qy,N6=cu;function P6(e,t){var r=-1,n=N6(e)?Array(e.length):[];return _6(e,function(a,o,i){n[++r]=t(a,o,i)}),n}var pO=P6;function A6(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var M6=A6,Ub=Ys;function C6(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,o=Ub(e),i=t!==void 0,s=t===null,l=t===t,c=Ub(t);if(!s&&!c&&!o&&e>t||o&&i&&l&&!s&&!c||n&&i&&l||!r&&l||!a)return 1;if(!n&&!o&&!c&&e<t||c&&r&&a&&!n&&!o||s&&r&&a||!i&&a||!l)return-1}return 0}var E6=C6,T6=E6;function $6(e,t,r){for(var n=-1,a=e.criteria,o=t.criteria,i=a.length,s=r.length;++n<i;){var l=T6(a[n],o[n]);if(l){if(n>=s)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return e.index-t.index}var D6=$6,Fp=Dy,R6=Ry,L6=Wo,I6=pO,B6=M6,F6=Jj,z6=D6,U6=nl,W6=Mn;function G6(e,t,r){t.length?t=Fp(t,function(o){return W6(o)?function(i){return R6(i,o.length===1?o[0]:o)}:o}):t=[U6];var n=-1;t=Fp(t,F6(L6));var a=I6(e,function(o,i,s){var l=Fp(t,function(c){return c(o)});return{criteria:l,index:++n,value:o}});return B6(a,function(o,i){return z6(o,i,r)})}var H6=G6;function V6(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var X6=V6,K6=X6,Wb=Math.max;function Y6(e,t,r){return t=Wb(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,o=Wb(n.length-t,0),i=Array(o);++a<o;)i[a]=n[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=n[a];return s[t]=r(i),K6(e,this,s)}}var q6=Y6;function Z6(e){return function(){return e}}var Q6=Z6,J6=Mi,eB=function(){try{var e=J6(Object,"defineProperty");return e({},"",{}),e}catch{}}(),gO=eB,tB=Q6,Gb=gO,rB=nl,nB=Gb?function(e,t){return Gb(e,"toString",{configurable:!0,enumerable:!1,value:tB(t),writable:!0})}:rB,aB=nB,oB=800,iB=16,sB=Date.now;function lB(e){var t=0,r=0;return function(){var n=sB(),a=iB-(n-r);if(r=n,a>0){if(++t>=oB)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var cB=lB,uB=aB,fB=cB,dB=fB(uB),hB=dB,pB=nl,gB=q6,mB=hB;function yB(e,t){return mB(gB(e,t,pB),e+"")}var vB=yB,xB=Cy,bB=cu,wB=Xy,kB=Uo;function SB(e,t,r){if(!kB(r))return!1;var n=typeof t;return(n=="number"?bB(r)&&wB(t,r.length):n=="string"&&t in r)?xB(r[t],e):!1}var Ch=SB,jB=dO,OB=H6,_B=vB,Hb=Ch,NB=_B(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Hb(e,t[0],t[1])?t=[]:r>2&&Hb(t[0],t[1],t[2])&&(t=[t[0]]),OB(e,jB(t,1),[])}),PB=NB;const Zy=Mt(PB);function jc(e){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jc(e)}function Ng(){return Ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ng.apply(this,arguments)}function AB(e,t){return TB(e)||EB(e,t)||CB(e,t)||MB()}function MB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CB(e,t){if(e){if(typeof e=="string")return Vb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vb(e,t)}}function Vb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function EB(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function TB(e){if(Array.isArray(e))return e}function Xb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xb(Object(r),!0).forEach(function(n){$B(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $B(e,t,r){return t=DB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DB(e){var t=RB(e,"string");return jc(t)=="symbol"?t:t+""}function RB(e,t){if(jc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LB(e){return Array.isArray(e)&&_r(e[0])&&_r(e[1])?e.join(" ~ "):e}var IB=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,o=a===void 0?{}:a,i=t.itemStyle,s=i===void 0?{}:i,l=t.labelStyle,c=l===void 0?{}:l,f=t.payload,d=t.formatter,h=t.itemSorter,p=t.wrapperClassName,m=t.labelClassName,v=t.label,x=t.labelFormatter,y=t.accessibilityLayer,g=y===void 0?!1:y,b=function(){if(f&&f.length){var $={padding:0,margin:0},C=(h?Zy(f,h):f).map(function(z,E){if(z.type==="none")return null;var U=zp({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},s),M=z.formatter||d||LB,B=z.value,L=z.name,X=B,te=L;if(M&&X!=null&&te!=null){var Z=M(B,L,z,E,f);if(Array.isArray(Z)){var I=AB(Z,2);X=I[0],te=I[1]}else X=Z}return T.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(E),style:U},_r(te)?T.createElement("span",{className:"recharts-tooltip-item-name"},te):null,_r(te)?T.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,T.createElement("span",{className:"recharts-tooltip-item-value"},X),T.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return T.createElement("ul",{className:"recharts-tooltip-item-list",style:$},C)}return null},S=zp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),w=zp({margin:0},c),k=!Le(v),O=k?v:"",_=tt("recharts-default-tooltip",p),N=tt("recharts-tooltip-label",m);k&&x&&f!==void 0&&f!==null&&(O=x(v,f));var P=g?{role:"status","aria-live":"assertive"}:{};return T.createElement("div",Ng({className:_,style:S},P),T.createElement("p",{className:N,style:w},T.isValidElement(O)?O:"".concat(O)),b())};function Oc(e){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oc(e)}function Vu(e,t,r){return t=BB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BB(e){var t=FB(e,"string");return Oc(t)=="symbol"?t:t+""}function FB(e,t){if(Oc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nl="recharts-tooltip-wrapper",zB={visibility:"hidden"};function UB(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return tt(Nl,Vu(Vu(Vu(Vu({},"".concat(Nl,"-right"),ue(r)&&t&&ue(t.x)&&r>=t.x),"".concat(Nl,"-left"),ue(r)&&t&&ue(t.x)&&r<t.x),"".concat(Nl,"-bottom"),ue(n)&&t&&ue(t.y)&&n>=t.y),"".concat(Nl,"-top"),ue(n)&&t&&ue(t.y)&&n<t.y))}function Kb(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,o=e.position,i=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(o&&ue(o[n]))return o[n];var f=r[n]-s-a,d=r[n]+a;if(t[n])return i[n]?f:d;if(i[n]){var h=f,p=l[n];return h<p?Math.max(d,l[n]):Math.max(f,l[n])}var m=d+s,v=l[n]+c;return m>v?Math.max(f,l[n]):Math.max(d,l[n])}function WB(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function GB(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,o=e.reverseDirection,i=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,c,f,d;return i.height>0&&i.width>0&&r?(f=Kb({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.width,viewBox:l,viewBoxDimension:l.width}),d=Kb({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.height,viewBox:l,viewBoxDimension:l.height}),c=WB({translateX:f,translateY:d,useTranslate3d:s})):c=zB,{cssProperties:c,cssClasses:UB({translateX:f,translateY:d,coordinate:r})}}function ws(e){"@babel/helpers - typeof";return ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ws(e)}function Yb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yb(Object(r),!0).forEach(function(n){Ag(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yO(n.key),n)}}function XB(e,t,r){return t&&VB(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function KB(e,t,r){return t=td(t),YB(e,mO()?Reflect.construct(t,r||[],td(e).constructor):t.apply(e,r))}function YB(e,t){if(t&&(ws(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qB(e)}function qB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mO=function(){return!!e})()}function td(e){return td=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},td(e)}function ZB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pg(e,t)}function Pg(e,t){return Pg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Pg(e,t)}function Ag(e,t,r){return t=yO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yO(e){var t=QB(e,"string");return ws(t)=="symbol"?t:t+""}function QB(e,t){if(ws(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ws(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Zb=1,JB=function(e){function t(){var r;HB(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=KB(this,t,[].concat(a)),Ag(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Ag(r,"handleKeyDown",function(i){if(i.key==="Escape"){var s,l,c,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&c!==void 0?c:0}})}}),r}return ZB(t,e),XB(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Zb||Math.abs(n.height-this.state.lastBoundingBox.height)>Zb)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,o=a.active,i=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,c=a.children,f=a.coordinate,d=a.hasPayload,h=a.isAnimationActive,p=a.offset,m=a.position,v=a.reverseDirection,x=a.useTranslate3d,y=a.viewBox,g=a.wrapperStyle,b=GB({allowEscapeViewBox:i,coordinate:f,offsetTopLeft:p,position:m,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:y}),S=b.cssClasses,w=b.cssProperties,k=qb(qb({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&d?"visible":"hidden",position:"absolute",top:0,left:0},g);return T.createElement("div",{tabIndex:-1,className:S,style:k,ref:function(_){n.wrapperNode=_}},c)}}])}(j.PureComponent),e8=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Go={isSsr:e8()};function ks(e){"@babel/helpers - typeof";return ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ks(e)}function Qb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qb(Object(r),!0).forEach(function(n){Qy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xO(n.key),n)}}function n8(e,t,r){return t&&r8(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function a8(e,t,r){return t=rd(t),o8(e,vO()?Reflect.construct(t,r||[],rd(e).constructor):t.apply(e,r))}function o8(e,t){if(t&&(ks(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i8(e)}function i8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vO=function(){return!!e})()}function rd(e){return rd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rd(e)}function s8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mg(e,t)}function Mg(e,t){return Mg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Mg(e,t)}function Qy(e,t,r){return t=xO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xO(e){var t=l8(e,"string");return ks(t)=="symbol"?t:t+""}function l8(e,t){if(ks(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function c8(e){return e.dataKey}function u8(e,t){return T.isValidElement(e)?T.cloneElement(e,t):typeof e=="function"?T.createElement(e,t):T.createElement(IB,t)}var pn=function(e){function t(){return t8(this,t),a8(this,t,arguments)}return s8(t,e),n8(t,[{key:"render",value:function(){var n=this,a=this.props,o=a.active,i=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,c=a.content,f=a.coordinate,d=a.filterNull,h=a.isAnimationActive,p=a.offset,m=a.payload,v=a.payloadUniqBy,x=a.position,y=a.reverseDirection,g=a.useTranslate3d,b=a.viewBox,S=a.wrapperStyle,w=m??[];d&&w.length&&(w=lO(m.filter(function(O){return O.value!=null&&(O.hide!==!0||n.props.includeHidden)}),v,c8));var k=w.length>0;return T.createElement(JB,{allowEscapeViewBox:i,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:f,hasPayload:k,offset:p,position:x,reverseDirection:y,useTranslate3d:g,viewBox:b,wrapperStyle:S},u8(c,Jb(Jb({},this.props),{},{payload:w})))}}])}(j.PureComponent);Qy(pn,"displayName","Tooltip");Qy(pn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Go.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var f8=Fa,d8=function(){return f8.Date.now()},h8=d8,p8=/\s/;function g8(e){for(var t=e.length;t--&&p8.test(e.charAt(t)););return t}var m8=g8,y8=m8,v8=/^\s+/;function x8(e){return e&&e.slice(0,y8(e)+1).replace(v8,"")}var b8=x8,w8=b8,e1=Uo,k8=Ys,t1=NaN,S8=/^[-+]0x[0-9a-f]+$/i,j8=/^0b[01]+$/i,O8=/^0o[0-7]+$/i,_8=parseInt;function N8(e){if(typeof e=="number")return e;if(k8(e))return t1;if(e1(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=e1(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=w8(e);var r=j8.test(e);return r||O8.test(e)?_8(e.slice(2),r?2:8):S8.test(e)?t1:+e}var bO=N8,P8=Uo,Up=h8,r1=bO,A8="Expected a function",M8=Math.max,C8=Math.min;function E8(e,t,r){var n,a,o,i,s,l,c=0,f=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(A8);t=r1(t)||0,P8(r)&&(f=!!r.leading,d="maxWait"in r,o=d?M8(r1(r.maxWait)||0,t):o,h="trailing"in r?!!r.trailing:h);function p(k){var O=n,_=a;return n=a=void 0,c=k,i=e.apply(_,O),i}function m(k){return c=k,s=setTimeout(y,t),f?p(k):i}function v(k){var O=k-l,_=k-c,N=t-O;return d?C8(N,o-_):N}function x(k){var O=k-l,_=k-c;return l===void 0||O>=t||O<0||d&&_>=o}function y(){var k=Up();if(x(k))return g(k);s=setTimeout(y,v(k))}function g(k){return s=void 0,h&&n?p(k):(n=a=void 0,i)}function b(){s!==void 0&&clearTimeout(s),c=0,n=l=a=s=void 0}function S(){return s===void 0?i:g(Up())}function w(){var k=Up(),O=x(k);if(n=arguments,a=this,l=k,O){if(s===void 0)return m(l);if(d)return clearTimeout(s),s=setTimeout(y,t),p(l)}return s===void 0&&(s=setTimeout(y,t)),i}return w.cancel=b,w.flush=S,w}var T8=E8,$8=T8,D8=Uo,R8="Expected a function";function L8(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(R8);return D8(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),$8(e,t,{leading:n,maxWait:t,trailing:a})}var I8=L8;const wO=Mt(I8);function _c(e){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_c(e)}function n1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n1(Object(r),!0).forEach(function(n){B8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function B8(e,t,r){return t=F8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F8(e){var t=z8(e,"string");return _c(t)=="symbol"?t:t+""}function z8(e,t){if(_c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function U8(e,t){return V8(e)||H8(e,t)||G8(e,t)||W8()}function W8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G8(e,t){if(e){if(typeof e=="string")return a1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a1(e,t)}}function a1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function H8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function V8(e){if(Array.isArray(e))return e}var Ss=j.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,o=e.width,i=o===void 0?"100%":o,s=e.height,l=s===void 0?"100%":s,c=e.minWidth,f=c===void 0?0:c,d=e.minHeight,h=e.maxHeight,p=e.children,m=e.debounce,v=m===void 0?0:m,x=e.id,y=e.className,g=e.onResize,b=e.style,S=b===void 0?{}:b,w=j.useRef(null),k=j.useRef();k.current=g,j.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var O=j.useState({containerWidth:a.width,containerHeight:a.height}),_=U8(O,2),N=_[0],P=_[1],A=j.useCallback(function(C,z){P(function(E){var U=Math.round(C),M=Math.round(z);return E.containerWidth===U&&E.containerHeight===M?E:{containerWidth:U,containerHeight:M}})},[]);j.useEffect(function(){var C=function(L){var X,te=L[0].contentRect,Z=te.width,I=te.height;A(Z,I),(X=k.current)===null||X===void 0||X.call(k,Z,I)};v>0&&(C=wO(C,v,{trailing:!0,leading:!1}));var z=new ResizeObserver(C),E=w.current.getBoundingClientRect(),U=E.width,M=E.height;return A(U,M),z.observe(w.current),function(){z.disconnect()}},[A,v]);var $=j.useMemo(function(){var C=N.containerWidth,z=N.containerHeight;if(C<0||z<0)return null;Ja(oi(i)||oi(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,l),Ja(!r||r>0,"The aspect(%s) must be greater than zero.",r);var E=oi(i)?C:i,U=oi(l)?z:l;r&&r>0&&(E?U=E/r:U&&(E=U*r),h&&U>h&&(U=h)),Ja(E>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,E,U,i,l,f,d,r);var M=!Array.isArray(p)&&Qa(p.type).endsWith("Chart");return T.Children.map(p,function(B){return T.isValidElement(B)?j.cloneElement(B,Xu({width:E,height:U},M?{style:Xu({height:"100%",width:"100%",maxHeight:U,maxWidth:E},B.props.style)}:{})):B})},[r,p,l,h,d,f,N,i]);return T.createElement("div",{id:x?"".concat(x):void 0,className:tt("recharts-responsive-container",y),style:Xu(Xu({},S),{},{width:i,height:l,minWidth:f,minHeight:d,maxHeight:h}),ref:w},$)}),Jy=function(t){return null};Jy.displayName="Cell";function Nc(e){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}function o1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o1(Object(r),!0).forEach(function(n){X8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X8(e,t,r){return t=K8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K8(e){var t=Y8(e,"string");return Nc(t)=="symbol"?t:t+""}function Y8(e,t){if(Nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ri={widthCache:{},cacheCount:0},q8=2e3,Z8={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},i1="recharts_measurement_span";function Q8(e){var t=Cg({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var ql=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Go.isSsr)return{width:0,height:0};var n=Q8(r),a=JSON.stringify({text:t,copyStyle:n});if(Ri.widthCache[a])return Ri.widthCache[a];try{var o=document.getElementById(i1);o||(o=document.createElement("span"),o.setAttribute("id",i1),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var i=Cg(Cg({},Z8),n);Object.assign(o.style,i),o.textContent="".concat(t);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return Ri.widthCache[a]=l,++Ri.cacheCount>q8&&(Ri.cacheCount=0,Ri.widthCache={}),l}catch{return{width:0,height:0}}},J8=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Pc(e){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pc(e)}function nd(e,t){return nF(e)||rF(e,t)||tF(e,t)||eF()}function eF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tF(e,t){if(e){if(typeof e=="string")return s1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s1(e,t)}}function s1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rF(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function nF(e){if(Array.isArray(e))return e}function aF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iF(n.key),n)}}function oF(e,t,r){return t&&l1(e.prototype,t),r&&l1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function iF(e){var t=sF(e,"string");return Pc(t)=="symbol"?t:t+""}function sF(e,t){if(Pc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var c1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,u1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,lF=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,cF=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,kO={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},uF=Object.keys(kO),Ji="NaN";function fF(e,t){return e*kO[t]}var Ku=function(){function e(t,r){aF(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!lF.test(r)&&(this.num=NaN,this.unit=""),uF.includes(r)&&(this.num=fF(t,r),this.unit="px")}return oF(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=cF.exec(r))!==null&&n!==void 0?n:[],o=nd(a,3),i=o[1],s=o[2];return new e(parseFloat(i),s??"")}}])}();function SO(e){if(e.includes(Ji))return Ji;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=c1.exec(t))!==null&&r!==void 0?r:[],a=nd(n,4),o=a[1],i=a[2],s=a[3],l=Ku.parse(o??""),c=Ku.parse(s??""),f=i==="*"?l.multiply(c):l.divide(c);if(f.isNaN())return Ji;t=t.replace(c1,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,h=(d=u1.exec(t))!==null&&d!==void 0?d:[],p=nd(h,4),m=p[1],v=p[2],x=p[3],y=Ku.parse(m??""),g=Ku.parse(x??""),b=v==="+"?y.add(g):y.subtract(g);if(b.isNaN())return Ji;t=t.replace(u1,b.toString())}return t}var f1=/\(([^()]*)\)/;function dF(e){for(var t=e;t.includes("(");){var r=f1.exec(t),n=nd(r,2),a=n[1];t=t.replace(f1,SO(a))}return t}function hF(e){var t=e.replace(/\s+/g,"");return t=dF(t),t=SO(t),t}function pF(e){try{return hF(e)}catch{return Ji}}function Wp(e){var t=pF(e.slice(5,-1));return t===Ji?"":t}var gF=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],mF=["dx","dy","angle","className","breakAll"];function Eg(){return Eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eg.apply(this,arguments)}function d1(e,t){if(e==null)return{};var r=yF(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yF(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function h1(e,t){return wF(e)||bF(e,t)||xF(e,t)||vF()}function vF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xF(e,t){if(e){if(typeof e=="string")return p1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p1(e,t)}}function p1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bF(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function wF(e){if(Array.isArray(e))return e}var jO=/[ \f\n\r\t\v\u2028\u2029]+/,OO=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var o=[];Le(r)||(n?o=r.toString().split(""):o=r.toString().split(jO));var i=o.map(function(l){return{word:l,width:ql(l,a).width}}),s=n?0:ql("",a).width;return{wordsWithComputedWidth:i,spaceWidth:s}}catch{return null}},kF=function(t,r,n,a,o){var i=t.maxLines,s=t.children,l=t.style,c=t.breakAll,f=ue(i),d=s,h=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return E.reduce(function(U,M){var B=M.word,L=M.width,X=U[U.length-1];if(X&&(a==null||o||X.width+L+n<Number(a)))X.words.push(B),X.width+=L+n;else{var te={words:[B],width:L};U.push(te)}return U},[])},p=h(r),m=function(E){return E.reduce(function(U,M){return U.width>M.width?U:M})};if(!f)return p;for(var v="",x=function(E){var U=d.slice(0,E),M=OO({breakAll:c,style:l,children:U+v}).wordsWithComputedWidth,B=h(M),L=B.length>i||m(B).width>Number(a);return[L,B]},y=0,g=d.length-1,b=0,S;y<=g&&b<=d.length-1;){var w=Math.floor((y+g)/2),k=w-1,O=x(k),_=h1(O,2),N=_[0],P=_[1],A=x(w),$=h1(A,1),C=$[0];if(!N&&!C&&(y=w+1),N&&C&&(g=w-1),!N&&C){S=P;break}b++}return S||p},g1=function(t){var r=Le(t)?[]:t.toString().split(jO);return[{words:r}]},SF=function(t){var r=t.width,n=t.scaleToFit,a=t.children,o=t.style,i=t.breakAll,s=t.maxLines;if((r||n)&&!Go.isSsr){var l,c,f=OO({breakAll:i,children:a,style:o});if(f){var d=f.wordsWithComputedWidth,h=f.spaceWidth;l=d,c=h}else return g1(a);return kF({breakAll:i,children:a,maxLines:s,style:o},l,c,r,n)}return g1(a)},m1="#808080",ad=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,o=a===void 0?0:a,i=t.lineHeight,s=i===void 0?"1em":i,l=t.capHeight,c=l===void 0?"0.71em":l,f=t.scaleToFit,d=f===void 0?!1:f,h=t.textAnchor,p=h===void 0?"start":h,m=t.verticalAnchor,v=m===void 0?"end":m,x=t.fill,y=x===void 0?m1:x,g=d1(t,gF),b=j.useMemo(function(){return SF({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:d,style:g.style,width:g.width})},[g.breakAll,g.children,g.maxLines,d,g.style,g.width]),S=g.dx,w=g.dy,k=g.angle,O=g.className,_=g.breakAll,N=d1(g,mF);if(!_r(n)||!_r(o))return null;var P=n+(ue(S)?S:0),A=o+(ue(w)?w:0),$;switch(v){case"start":$=Wp("calc(".concat(c,")"));break;case"middle":$=Wp("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:$=Wp("calc(".concat(b.length-1," * -").concat(s,")"));break}var C=[];if(d){var z=b[0].width,E=g.width;C.push("scale(".concat((ue(E)?E/z:1)/z,")"))}return k&&C.push("rotate(".concat(k,", ").concat(P,", ").concat(A,")")),C.length&&(N.transform=C.join(" ")),T.createElement("text",Eg({},Be(N,!0),{x:P,y:A,className:tt("recharts-text",O),textAnchor:p,fill:y.includes("url")?m1:y}),b.map(function(U,M){var B=U.words.join(_?"":" ");return T.createElement("tspan",{x:P,dy:M===0?$:s,key:"".concat(B,"-").concat(M)},B)}))};function Ro(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function jF(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ev(e){let t,r,n;e.length!==2?(t=Ro,r=(s,l)=>Ro(e(s),l),n=(s,l)=>e(s)-l):(t=e===Ro||e===jF?e:OF,r=e,n=e);function a(s,l,c=0,f=s.length){if(c<f){if(t(l,l)!==0)return f;do{const d=c+f>>>1;r(s[d],l)<0?c=d+1:f=d}while(c<f)}return c}function o(s,l,c=0,f=s.length){if(c<f){if(t(l,l)!==0)return f;do{const d=c+f>>>1;r(s[d],l)<=0?c=d+1:f=d}while(c<f)}return c}function i(s,l,c=0,f=s.length){const d=a(s,l,c,f-1);return d>c&&n(s[d-1],l)>-n(s[d],l)?d-1:d}return{left:a,center:i,right:o}}function OF(){return 0}function _O(e){return e===null?NaN:+e}function*_F(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const NF=ev(Ro),uu=NF.right;ev(_O).center;class y1 extends Map{constructor(t,r=MF){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(v1(this,t))}has(t){return super.has(v1(this,t))}set(t,r){return super.set(PF(this,t),r)}delete(t){return super.delete(AF(this,t))}}function v1({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function PF({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function AF({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function MF(e){return e!==null&&typeof e=="object"?e.valueOf():e}function CF(e=Ro){if(e===Ro)return NO;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function NO(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const EF=Math.sqrt(50),TF=Math.sqrt(10),$F=Math.sqrt(2);function od(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),o=n/Math.pow(10,a),i=o>=EF?10:o>=TF?5:o>=$F?2:1;let s,l,c;return a<0?(c=Math.pow(10,-a)/i,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*i,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=r&&r<2?od(e,t,r*2):[s,l,c]}function Tg(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,o,i]=n?od(t,e,r):od(e,t,r);if(!(o>=a))return[];const s=o-a+1,l=new Array(s);if(n)if(i<0)for(let c=0;c<s;++c)l[c]=(o-c)/-i;else for(let c=0;c<s;++c)l[c]=(o-c)*i;else if(i<0)for(let c=0;c<s;++c)l[c]=(a+c)/-i;else for(let c=0;c<s;++c)l[c]=(a+c)*i;return l}function $g(e,t,r){return t=+t,e=+e,r=+r,od(e,t,r)[2]}function Dg(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?$g(t,e,r):$g(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function x1(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function b1(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function PO(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?NO:CF(a);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,f=Math.log(l),d=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*d*(l-d)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(t-c*d/l+h)),m=Math.min(n,Math.floor(t+(l-c)*d/l+h));PO(e,t,p,m,a)}const o=e[t];let i=r,s=n;for(Pl(e,r,t),a(e[n],o)>0&&Pl(e,r,n);i<s;){for(Pl(e,i,s),++i,--s;a(e[i],o)<0;)++i;for(;a(e[s],o)>0;)--s}a(e[r],o)===0?Pl(e,r,s):(++s,Pl(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function Pl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function DF(e,t,r){if(e=Float64Array.from(_F(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return b1(e);if(t>=1)return x1(e);var n,a=(n-1)*t,o=Math.floor(a),i=x1(PO(e,o).subarray(0,o+1)),s=b1(e.subarray(o+1));return i+(s-i)*(a-o)}}function RF(e,t,r=_O){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,o=Math.floor(a),i=+r(e[o],o,e),s=+r(e[o+1],o+1,e);return i+(s-i)*(a-o)}}function LF(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(a);++n<a;)o[n]=e+n*r;return o}function ia(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ho(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Rg=Symbol("implicit");function tv(){var e=new y1,t=[],r=[],n=Rg;function a(o){let i=e.get(o);if(i===void 0){if(n!==Rg)return n;e.set(o,i=t.push(o)-1)}return r[i%r.length]}return a.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new y1;for(const i of o)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(o){return arguments.length?(r=Array.from(o),a):r.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return tv(t,r).unknown(n)},ia.apply(a,arguments),a}function Ac(){var e=tv().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,o,i,s=!1,l=0,c=0,f=.5;delete e.unknown;function d(){var h=t().length,p=a<n,m=p?a:n,v=p?n:a;o=(v-m)/Math.max(1,h-l+c*2),s&&(o=Math.floor(o)),m+=(v-m-o*(h-l))*f,i=o*(1-l),s&&(m=Math.round(m),i=Math.round(i));var x=LF(h).map(function(y){return m+o*y});return r(p?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,d()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,s=!0,d()},e.bandwidth=function(){return i},e.step=function(){return o},e.round=function(h){return arguments.length?(s=!!h,d()):s},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),d()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},e.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),d()):f},e.copy=function(){return Ac(t(),[n,a]).round(s).paddingInner(l).paddingOuter(c).align(f)},ia.apply(d(),arguments)}function AO(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return AO(t())},e}function Zl(){return AO(Ac.apply(null,arguments).paddingInner(1))}function rv(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function MO(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function fu(){}var Mc=.7,id=1/Mc,cs="\\s*([+-]?\\d+)\\s*",Cc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Da="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",IF=/^#([0-9a-f]{3,8})$/,BF=new RegExp(`^rgb\\(${cs},${cs},${cs}\\)$`),FF=new RegExp(`^rgb\\(${Da},${Da},${Da}\\)$`),zF=new RegExp(`^rgba\\(${cs},${cs},${cs},${Cc}\\)$`),UF=new RegExp(`^rgba\\(${Da},${Da},${Da},${Cc}\\)$`),WF=new RegExp(`^hsl\\(${Cc},${Da},${Da}\\)$`),GF=new RegExp(`^hsla\\(${Cc},${Da},${Da},${Cc}\\)$`),w1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};rv(fu,Ec,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:k1,formatHex:k1,formatHex8:HF,formatHsl:VF,formatRgb:S1,toString:S1});function k1(){return this.rgb().formatHex()}function HF(){return this.rgb().formatHex8()}function VF(){return CO(this).formatHsl()}function S1(){return this.rgb().formatRgb()}function Ec(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=IF.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?j1(t):r===3?new On(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Yu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Yu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=BF.exec(e))?new On(t[1],t[2],t[3],1):(t=FF.exec(e))?new On(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=zF.exec(e))?Yu(t[1],t[2],t[3],t[4]):(t=UF.exec(e))?Yu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=WF.exec(e))?N1(t[1],t[2]/100,t[3]/100,1):(t=GF.exec(e))?N1(t[1],t[2]/100,t[3]/100,t[4]):w1.hasOwnProperty(e)?j1(w1[e]):e==="transparent"?new On(NaN,NaN,NaN,0):null}function j1(e){return new On(e>>16&255,e>>8&255,e&255,1)}function Yu(e,t,r,n){return n<=0&&(e=t=r=NaN),new On(e,t,r,n)}function XF(e){return e instanceof fu||(e=Ec(e)),e?(e=e.rgb(),new On(e.r,e.g,e.b,e.opacity)):new On}function Lg(e,t,r,n){return arguments.length===1?XF(e):new On(e,t,r,n??1)}function On(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}rv(On,Lg,MO(fu,{brighter(e){return e=e==null?id:Math.pow(id,e),new On(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Mc:Math.pow(Mc,e),new On(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new On(hi(this.r),hi(this.g),hi(this.b),sd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:O1,formatHex:O1,formatHex8:KF,formatRgb:_1,toString:_1}));function O1(){return`#${ii(this.r)}${ii(this.g)}${ii(this.b)}`}function KF(){return`#${ii(this.r)}${ii(this.g)}${ii(this.b)}${ii((isNaN(this.opacity)?1:this.opacity)*255)}`}function _1(){const e=sd(this.opacity);return`${e===1?"rgb(":"rgba("}${hi(this.r)}, ${hi(this.g)}, ${hi(this.b)}${e===1?")":`, ${e})`}`}function sd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function hi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ii(e){return e=hi(e),(e<16?"0":"")+e.toString(16)}function N1(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new va(e,t,r,n)}function CO(e){if(e instanceof va)return new va(e.h,e.s,e.l,e.opacity);if(e instanceof fu||(e=Ec(e)),!e)return new va;if(e instanceof va)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),o=Math.max(t,r,n),i=NaN,s=o-a,l=(o+a)/2;return s?(t===o?i=(r-n)/s+(r<n)*6:r===o?i=(n-t)/s+2:i=(t-r)/s+4,s/=l<.5?o+a:2-o-a,i*=60):s=l>0&&l<1?0:i,new va(i,s,l,e.opacity)}function YF(e,t,r,n){return arguments.length===1?CO(e):new va(e,t,r,n??1)}function va(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}rv(va,YF,MO(fu,{brighter(e){return e=e==null?id:Math.pow(id,e),new va(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Mc:Math.pow(Mc,e),new va(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new On(Gp(e>=240?e-240:e+120,a,n),Gp(e,a,n),Gp(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new va(P1(this.h),qu(this.s),qu(this.l),sd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=sd(this.opacity);return`${e===1?"hsl(":"hsla("}${P1(this.h)}, ${qu(this.s)*100}%, ${qu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function P1(e){return e=(e||0)%360,e<0?e+360:e}function qu(e){return Math.max(0,Math.min(1,e||0))}function Gp(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const nv=e=>()=>e;function qF(e,t){return function(r){return e+r*t}}function ZF(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function QF(e){return(e=+e)==1?EO:function(t,r){return r-t?ZF(t,r,e):nv(isNaN(t)?r:t)}}function EO(e,t){var r=t-e;return r?qF(e,r):nv(isNaN(e)?t:e)}const A1=function e(t){var r=QF(t);function n(a,o){var i=r((a=Lg(a)).r,(o=Lg(o)).r),s=r(a.g,o.g),l=r(a.b,o.b),c=EO(a.opacity,o.opacity);return function(f){return a.r=i(f),a.g=s(f),a.b=l(f),a.opacity=c(f),a+""}}return n.gamma=e,n}(1);function JF(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(o){for(a=0;a<r;++a)n[a]=e[a]*(1-o)+t[a]*o;return n}}function ez(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function tz(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),o=new Array(r),i;for(i=0;i<n;++i)a[i]=al(e[i],t[i]);for(;i<r;++i)o[i]=t[i];return function(s){for(i=0;i<n;++i)o[i]=a[i](s);return o}}function rz(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function ld(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function nz(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=al(e[a],t[a]):n[a]=t[a];return function(o){for(a in r)n[a]=r[a](o);return n}}var Ig=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Hp=new RegExp(Ig.source,"g");function az(e){return function(){return e}}function oz(e){return function(t){return e(t)+""}}function iz(e,t){var r=Ig.lastIndex=Hp.lastIndex=0,n,a,o,i=-1,s=[],l=[];for(e=e+"",t=t+"";(n=Ig.exec(e))&&(a=Hp.exec(t));)(o=a.index)>r&&(o=t.slice(r,o),s[i]?s[i]+=o:s[++i]=o),(n=n[0])===(a=a[0])?s[i]?s[i]+=a:s[++i]=a:(s[++i]=null,l.push({i,x:ld(n,a)})),r=Hp.lastIndex;return r<t.length&&(o=t.slice(r),s[i]?s[i]+=o:s[++i]=o),s.length<2?l[0]?oz(l[0].x):az(t):(t=l.length,function(c){for(var f=0,d;f<t;++f)s[(d=l[f]).i]=d.x(c);return s.join("")})}function al(e,t){var r=typeof t,n;return t==null||r==="boolean"?nv(t):(r==="number"?ld:r==="string"?(n=Ec(t))?(t=n,A1):iz:t instanceof Ec?A1:t instanceof Date?rz:ez(t)?JF:Array.isArray(t)?tz:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?nz:ld)(e,t)}function av(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function sz(e,t){t===void 0&&(t=e,e=al);for(var r=0,n=t.length-1,a=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(a,a=t[++r]);return function(i){var s=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return o[s](i-s)}}function lz(e){return function(){return e}}function cd(e){return+e}var M1=[0,1];function gn(e){return e}function Bg(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:lz(isNaN(t)?NaN:.5)}function cz(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function uz(e,t,r){var n=e[0],a=e[1],o=t[0],i=t[1];return a<n?(n=Bg(a,n),o=r(i,o)):(n=Bg(n,a),o=r(o,i)),function(s){return o(n(s))}}function fz(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),o=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=Bg(e[i],e[i+1]),o[i]=r(t[i],t[i+1]);return function(s){var l=uu(e,s,1,n)-1;return o[l](a[l](s))}}function du(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Eh(){var e=M1,t=M1,r=al,n,a,o,i=gn,s,l,c;function f(){var h=Math.min(e.length,t.length);return i!==gn&&(i=cz(e[0],e[h-1])),s=h>2?fz:uz,l=c=null,d}function d(h){return h==null||isNaN(h=+h)?o:(l||(l=s(e.map(n),t,r)))(n(i(h)))}return d.invert=function(h){return i(a((c||(c=s(t,e.map(n),ld)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,cd),f()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),r=av,f()},d.clamp=function(h){return arguments.length?(i=h?!0:gn,f()):i!==gn},d.interpolate=function(h){return arguments.length?(r=h,f()):r},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,p){return n=h,a=p,f()}}function ov(){return Eh()(gn,gn)}function dz(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ud(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function js(e){return e=ud(Math.abs(e)),e?e[1]:NaN}function hz(e,t){return function(r,n){for(var a=r.length,o=[],i=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),o.push(r.substring(a-=s,a+s)),!((l+=s+1)>n));)s=e[i=(i+1)%e.length];return o.reverse().join(t)}}function pz(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var gz=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Tc(e){if(!(t=gz.exec(e)))throw new Error("invalid format: "+e);var t;return new iv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Tc.prototype=iv.prototype;function iv(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}iv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function mz(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var TO;function yz(e,t){var r=ud(e,t);if(!r)return e+"";var n=r[0],a=r[1],o=a-(TO=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return o===i?n:o>i?n+new Array(o-i+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+ud(e,Math.max(0,t+o-1))[0]}function C1(e,t){var r=ud(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const E1={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:dz,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>C1(e*100,t),r:C1,s:yz,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function T1(e){return e}var $1=Array.prototype.map,D1=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function vz(e){var t=e.grouping===void 0||e.thousands===void 0?T1:hz($1.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?T1:pz($1.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(d){d=Tc(d);var h=d.fill,p=d.align,m=d.sign,v=d.symbol,x=d.zero,y=d.width,g=d.comma,b=d.precision,S=d.trim,w=d.type;w==="n"?(g=!0,w="g"):E1[w]||(b===void 0&&(b=12),S=!0,w="g"),(x||h==="0"&&p==="=")&&(x=!0,h="0",p="=");var k=v==="$"?r:v==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",O=v==="$"?n:/[%p]/.test(w)?i:"",_=E1[w],N=/[defgprs%]/.test(w);b=b===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function P(A){var $=k,C=O,z,E,U;if(w==="c")C=_(A)+C,A="";else{A=+A;var M=A<0||1/A<0;if(A=isNaN(A)?l:_(Math.abs(A),b),S&&(A=mz(A)),M&&+A==0&&m!=="+"&&(M=!1),$=(M?m==="("?m:s:m==="-"||m==="("?"":m)+$,C=(w==="s"?D1[8+TO/3]:"")+C+(M&&m==="("?")":""),N){for(z=-1,E=A.length;++z<E;)if(U=A.charCodeAt(z),48>U||U>57){C=(U===46?a+A.slice(z+1):A.slice(z))+C,A=A.slice(0,z);break}}}g&&!x&&(A=t(A,1/0));var B=$.length+A.length+C.length,L=B<y?new Array(y-B+1).join(h):"";switch(g&&x&&(A=t(L+A,L.length?y-C.length:1/0),L=""),p){case"<":A=$+A+C+L;break;case"=":A=$+L+A+C;break;case"^":A=L.slice(0,B=L.length>>1)+$+A+C+L.slice(B);break;default:A=L+$+A+C;break}return o(A)}return P.toString=function(){return d+""},P}function f(d,h){var p=c((d=Tc(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(js(h)/3)))*3,v=Math.pow(10,-m),x=D1[8+m/3];return function(y){return p(v*y)+x}}return{format:c,formatPrefix:f}}var Zu,sv,$O;xz({thousands:",",grouping:[3],currency:["$",""]});function xz(e){return Zu=vz(e),sv=Zu.format,$O=Zu.formatPrefix,Zu}function bz(e){return Math.max(0,-js(Math.abs(e)))}function wz(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(js(t)/3)))*3-js(Math.abs(e)))}function kz(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,js(t)-js(e))+1}function DO(e,t,r,n){var a=Dg(e,t,r),o;switch(n=Tc(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=wz(a,i))&&(n.precision=o),$O(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=kz(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=bz(a))&&(n.precision=o-(n.type==="%")*2);break}}return sv(n)}function Ho(e){var t=e.domain;return e.ticks=function(r){var n=t();return Tg(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return DO(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,o=n.length-1,i=n[a],s=n[o],l,c,f=10;for(s<i&&(c=i,i=s,s=c,c=a,a=o,o=c);f-- >0;){if(c=$g(i,s,r),c===l)return n[a]=i,n[o]=s,t(n);if(c>0)i=Math.floor(i/c)*c,s=Math.ceil(s/c)*c;else if(c<0)i=Math.ceil(i*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function fd(){var e=ov();return e.copy=function(){return du(e,fd())},ia.apply(e,arguments),Ho(e)}function RO(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,cd),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return RO(e).unknown(t)},e=arguments.length?Array.from(e,cd):[0,1],Ho(r)}function LO(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],o=e[n],i;return o<a&&(i=r,r=n,n=i,i=a,a=o,o=i),e[r]=t.floor(a),e[n]=t.ceil(o),e}function R1(e){return Math.log(e)}function L1(e){return Math.exp(e)}function Sz(e){return-Math.log(-e)}function jz(e){return-Math.exp(-e)}function Oz(e){return isFinite(e)?+("1e"+e):e<0?0:e}function _z(e){return e===10?Oz:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Nz(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function I1(e){return(t,r)=>-e(-t,r)}function lv(e){const t=e(R1,L1),r=t.domain;let n=10,a,o;function i(){return a=Nz(n),o=_z(n),r()[0]<0?(a=I1(a),o=I1(o),e(Sz,jz)):e(R1,L1),t}return t.base=function(s){return arguments.length?(n=+s,i()):n},t.domain=function(s){return arguments.length?(r(s),i()):r()},t.ticks=s=>{const l=r();let c=l[0],f=l[l.length-1];const d=f<c;d&&([c,f]=[f,c]);let h=a(c),p=a(f),m,v;const x=s==null?10:+s;let y=[];if(!(n%1)&&p-h<x){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(m=1;m<n;++m)if(v=h<0?m/o(-h):m*o(h),!(v<c)){if(v>f)break;y.push(v)}}else for(;h<=p;++h)for(m=n-1;m>=1;--m)if(v=h>0?m/o(-h):m*o(h),!(v<c)){if(v>f)break;y.push(v)}y.length*2<x&&(y=Tg(c,f,x))}else y=Tg(h,p,Math.min(p-h,x)).map(o);return d?y.reverse():y},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Tc(l)).precision==null&&(l.trim=!0),l=sv(l)),s===1/0)return l;const c=Math.max(1,n*s/t.ticks().length);return f=>{let d=f/o(Math.round(a(f)));return d*n<n-.5&&(d*=n),d<=c?l(f):""}},t.nice=()=>r(LO(r(),{floor:s=>o(Math.floor(a(s))),ceil:s=>o(Math.ceil(a(s)))})),t}function IO(){const e=lv(Eh()).domain([1,10]);return e.copy=()=>du(e,IO()).base(e.base()),ia.apply(e,arguments),e}function B1(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function F1(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function cv(e){var t=1,r=e(B1(t),F1(t));return r.constant=function(n){return arguments.length?e(B1(t=+n),F1(t)):t},Ho(r)}function BO(){var e=cv(Eh());return e.copy=function(){return du(e,BO()).constant(e.constant())},ia.apply(e,arguments)}function z1(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Pz(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Az(e){return e<0?-e*e:e*e}function uv(e){var t=e(gn,gn),r=1;function n(){return r===1?e(gn,gn):r===.5?e(Pz,Az):e(z1(r),z1(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Ho(t)}function fv(){var e=uv(Eh());return e.copy=function(){return du(e,fv()).exponent(e.exponent())},ia.apply(e,arguments),e}function Mz(){return fv.apply(null,arguments).exponent(.5)}function U1(e){return Math.sign(e)*e*e}function Cz(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function FO(){var e=ov(),t=[0,1],r=!1,n;function a(o){var i=Cz(e(o));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(o){return e.invert(U1(o))},a.domain=function(o){return arguments.length?(e.domain(o),a):e.domain()},a.range=function(o){return arguments.length?(e.range((t=Array.from(o,cd)).map(U1)),a):t.slice()},a.rangeRound=function(o){return a.range(o).round(!0)},a.round=function(o){return arguments.length?(r=!!o,a):r},a.clamp=function(o){return arguments.length?(e.clamp(o),a):e.clamp()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return FO(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ia.apply(a,arguments),Ho(a)}function zO(){var e=[],t=[],r=[],n;function a(){var i=0,s=Math.max(1,t.length);for(r=new Array(s-1);++i<s;)r[i-1]=RF(e,i/s);return o}function o(i){return i==null||isNaN(i=+i)?n:t[uu(r,i)]}return o.invertExtent=function(i){var s=t.indexOf(i);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},o.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let s of i)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Ro),a()},o.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},o.unknown=function(i){return arguments.length?(n=i,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return zO().domain(e).range(t).unknown(n)},ia.apply(o,arguments)}function UO(){var e=0,t=1,r=1,n=[.5],a=[0,1],o;function i(l){return l!=null&&l<=l?a[uu(n,l,0,r)]:o}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return i}return i.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},i.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,s()):a.slice()},i.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},i.unknown=function(l){return arguments.length&&(o=l),i},i.thresholds=function(){return n.slice()},i.copy=function(){return UO().domain([e,t]).range(a).unknown(o)},ia.apply(Ho(i),arguments)}function WO(){var e=[.5],t=[0,1],r,n=1;function a(o){return o!=null&&o<=o?t[uu(e,o,0,n)]:r}return a.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(o){var i=t.indexOf(o);return[e[i-1],e[i]]},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return WO().domain(e).range(t).unknown(r)},ia.apply(a,arguments)}const Vp=new Date,Xp=new Date;function Pr(e,t,r,n){function a(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=o=>(e(o=new Date(+o)),o),a.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),a.round=o=>{const i=a(o),s=a.ceil(o);return o-i<s-o?i:s},a.offset=(o,i)=>(t(o=new Date(+o),i==null?1:Math.floor(i)),o),a.range=(o,i,s)=>{const l=[];if(o=a.ceil(o),s=s==null?1:Math.floor(s),!(o<i)||!(s>0))return l;let c;do l.push(c=new Date(+o)),t(o,s),e(o);while(c<o&&o<i);return l},a.filter=o=>Pr(i=>{if(i>=i)for(;e(i),!o(i);)i.setTime(i-1)},(i,s)=>{if(i>=i)if(s<0)for(;++s<=0;)for(;t(i,-1),!o(i););else for(;--s>=0;)for(;t(i,1),!o(i););}),r&&(a.count=(o,i)=>(Vp.setTime(+o),Xp.setTime(+i),e(Vp),e(Xp),Math.floor(r(Vp,Xp))),a.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(n?i=>n(i)%o===0:i=>a.count(0,i)%o===0):a)),a}const dd=Pr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);dd.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Pr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):dd);dd.range;const Ka=1e3,Qn=Ka*60,Ya=Qn*60,io=Ya*24,dv=io*7,W1=io*30,Kp=io*365,si=Pr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ka)},(e,t)=>(t-e)/Ka,e=>e.getUTCSeconds());si.range;const hv=Pr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ka)},(e,t)=>{e.setTime(+e+t*Qn)},(e,t)=>(t-e)/Qn,e=>e.getMinutes());hv.range;const pv=Pr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Qn)},(e,t)=>(t-e)/Qn,e=>e.getUTCMinutes());pv.range;const gv=Pr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ka-e.getMinutes()*Qn)},(e,t)=>{e.setTime(+e+t*Ya)},(e,t)=>(t-e)/Ya,e=>e.getHours());gv.range;const mv=Pr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ya)},(e,t)=>(t-e)/Ya,e=>e.getUTCHours());mv.range;const hu=Pr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Qn)/io,e=>e.getDate()-1);hu.range;const Th=Pr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/io,e=>e.getUTCDate()-1);Th.range;const GO=Pr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/io,e=>Math.floor(e/io));GO.range;function Ei(e){return Pr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Qn)/dv)}const $h=Ei(0),hd=Ei(1),Ez=Ei(2),Tz=Ei(3),Os=Ei(4),$z=Ei(5),Dz=Ei(6);$h.range;hd.range;Ez.range;Tz.range;Os.range;$z.range;Dz.range;function Ti(e){return Pr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/dv)}const Dh=Ti(0),pd=Ti(1),Rz=Ti(2),Lz=Ti(3),_s=Ti(4),Iz=Ti(5),Bz=Ti(6);Dh.range;pd.range;Rz.range;Lz.range;_s.range;Iz.range;Bz.range;const yv=Pr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());yv.range;const vv=Pr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());vv.range;const so=Pr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());so.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Pr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});so.range;const lo=Pr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());lo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Pr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});lo.range;function HO(e,t,r,n,a,o){const i=[[si,1,Ka],[si,5,5*Ka],[si,15,15*Ka],[si,30,30*Ka],[o,1,Qn],[o,5,5*Qn],[o,15,15*Qn],[o,30,30*Qn],[a,1,Ya],[a,3,3*Ya],[a,6,6*Ya],[a,12,12*Ya],[n,1,io],[n,2,2*io],[r,1,dv],[t,1,W1],[t,3,3*W1],[e,1,Kp]];function s(c,f,d){const h=f<c;h&&([c,f]=[f,c]);const p=d&&typeof d.range=="function"?d:l(c,f,d),m=p?p.range(c,+f+1):[];return h?m.reverse():m}function l(c,f,d){const h=Math.abs(f-c)/d,p=ev(([,,x])=>x).right(i,h);if(p===i.length)return e.every(Dg(c/Kp,f/Kp,d));if(p===0)return dd.every(Math.max(Dg(c,f,d),1));const[m,v]=i[h/i[p-1][2]<i[p][2]/h?p-1:p];return m.every(v)}return[s,l]}const[Fz,zz]=HO(lo,vv,Dh,GO,mv,pv),[Uz,Wz]=HO(so,yv,$h,hu,gv,hv);function Yp(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function qp(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Al(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Gz(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,o=e.days,i=e.shortDays,s=e.months,l=e.shortMonths,c=Ml(a),f=Cl(a),d=Ml(o),h=Cl(o),p=Ml(i),m=Cl(i),v=Ml(s),x=Cl(s),y=Ml(l),g=Cl(l),b={a:M,A:B,b:L,B:X,c:null,d:Y1,e:Y1,f:h9,g:S9,G:O9,H:u9,I:f9,j:d9,L:VO,m:p9,M:g9,p:te,q:Z,Q:Q1,s:J1,S:m9,u:y9,U:v9,V:x9,w:b9,W:w9,x:null,X:null,y:k9,Y:j9,Z:_9,"%":Z1},S={a:I,A:G,b:oe,B:q,c:null,d:q1,e:q1,f:M9,g:F9,G:U9,H:N9,I:P9,j:A9,L:KO,m:C9,M:E9,p:ke,q:ve,Q:Q1,s:J1,S:T9,u:$9,U:D9,V:R9,w:L9,W:I9,x:null,X:null,y:B9,Y:z9,Z:W9,"%":Z1},w={a:P,A,b:$,B:C,c:z,d:X1,e:X1,f:i9,g:V1,G:H1,H:K1,I:K1,j:r9,L:o9,m:t9,M:n9,p:N,q:e9,Q:l9,s:c9,S:a9,u:Yz,U:qz,V:Zz,w:Kz,W:Qz,x:E,X:U,y:V1,Y:H1,Z:Jz,"%":s9};b.x=k(r,b),b.X=k(n,b),b.c=k(t,b),S.x=k(r,S),S.X=k(n,S),S.c=k(t,S);function k(K,se){return function(ge){var H=[],ye=-1,he=0,Oe=K.length,Fe,Re,bt;for(ge instanceof Date||(ge=new Date(+ge));++ye<Oe;)K.charCodeAt(ye)===37&&(H.push(K.slice(he,ye)),(Re=G1[Fe=K.charAt(++ye)])!=null?Fe=K.charAt(++ye):Re=Fe==="e"?" ":"0",(bt=se[Fe])&&(Fe=bt(ge,Re)),H.push(Fe),he=ye+1);return H.push(K.slice(he,ye)),H.join("")}}function O(K,se){return function(ge){var H=Al(1900,void 0,1),ye=_(H,K,ge+="",0),he,Oe;if(ye!=ge.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(H.s*1e3+("L"in H?H.L:0));if(se&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+H.p*12),H.m===void 0&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(he=qp(Al(H.y,0,1)),Oe=he.getUTCDay(),he=Oe>4||Oe===0?pd.ceil(he):pd(he),he=Th.offset(he,(H.V-1)*7),H.y=he.getUTCFullYear(),H.m=he.getUTCMonth(),H.d=he.getUTCDate()+(H.w+6)%7):(he=Yp(Al(H.y,0,1)),Oe=he.getDay(),he=Oe>4||Oe===0?hd.ceil(he):hd(he),he=hu.offset(he,(H.V-1)*7),H.y=he.getFullYear(),H.m=he.getMonth(),H.d=he.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),Oe="Z"in H?qp(Al(H.y,0,1)).getUTCDay():Yp(Al(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+H.W*7-(Oe+5)%7:H.w+H.U*7-(Oe+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,qp(H)):Yp(H)}}function _(K,se,ge,H){for(var ye=0,he=se.length,Oe=ge.length,Fe,Re;ye<he;){if(H>=Oe)return-1;if(Fe=se.charCodeAt(ye++),Fe===37){if(Fe=se.charAt(ye++),Re=w[Fe in G1?se.charAt(ye++):Fe],!Re||(H=Re(K,ge,H))<0)return-1}else if(Fe!=ge.charCodeAt(H++))return-1}return H}function N(K,se,ge){var H=c.exec(se.slice(ge));return H?(K.p=f.get(H[0].toLowerCase()),ge+H[0].length):-1}function P(K,se,ge){var H=p.exec(se.slice(ge));return H?(K.w=m.get(H[0].toLowerCase()),ge+H[0].length):-1}function A(K,se,ge){var H=d.exec(se.slice(ge));return H?(K.w=h.get(H[0].toLowerCase()),ge+H[0].length):-1}function $(K,se,ge){var H=y.exec(se.slice(ge));return H?(K.m=g.get(H[0].toLowerCase()),ge+H[0].length):-1}function C(K,se,ge){var H=v.exec(se.slice(ge));return H?(K.m=x.get(H[0].toLowerCase()),ge+H[0].length):-1}function z(K,se,ge){return _(K,t,se,ge)}function E(K,se,ge){return _(K,r,se,ge)}function U(K,se,ge){return _(K,n,se,ge)}function M(K){return i[K.getDay()]}function B(K){return o[K.getDay()]}function L(K){return l[K.getMonth()]}function X(K){return s[K.getMonth()]}function te(K){return a[+(K.getHours()>=12)]}function Z(K){return 1+~~(K.getMonth()/3)}function I(K){return i[K.getUTCDay()]}function G(K){return o[K.getUTCDay()]}function oe(K){return l[K.getUTCMonth()]}function q(K){return s[K.getUTCMonth()]}function ke(K){return a[+(K.getUTCHours()>=12)]}function ve(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var se=k(K+="",b);return se.toString=function(){return K},se},parse:function(K){var se=O(K+="",!1);return se.toString=function(){return K},se},utcFormat:function(K){var se=k(K+="",S);return se.toString=function(){return K},se},utcParse:function(K){var se=O(K+="",!0);return se.toString=function(){return K},se}}}var G1={"-":"",_:" ",0:"0"},Dr=/^\s*\d+/,Hz=/^%/,Vz=/[\\^$*+?|[\]().{}]/g;function it(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",o=a.length;return n+(o<r?new Array(r-o+1).join(t)+a:a)}function Xz(e){return e.replace(Vz,"\\$&")}function Ml(e){return new RegExp("^(?:"+e.map(Xz).join("|")+")","i")}function Cl(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Kz(e,t,r){var n=Dr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Yz(e,t,r){var n=Dr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function qz(e,t,r){var n=Dr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Zz(e,t,r){var n=Dr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Qz(e,t,r){var n=Dr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function H1(e,t,r){var n=Dr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function V1(e,t,r){var n=Dr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Jz(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function e9(e,t,r){var n=Dr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function t9(e,t,r){var n=Dr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function X1(e,t,r){var n=Dr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function r9(e,t,r){var n=Dr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function K1(e,t,r){var n=Dr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function n9(e,t,r){var n=Dr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function a9(e,t,r){var n=Dr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function o9(e,t,r){var n=Dr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function i9(e,t,r){var n=Dr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function s9(e,t,r){var n=Hz.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function l9(e,t,r){var n=Dr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function c9(e,t,r){var n=Dr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Y1(e,t){return it(e.getDate(),t,2)}function u9(e,t){return it(e.getHours(),t,2)}function f9(e,t){return it(e.getHours()%12||12,t,2)}function d9(e,t){return it(1+hu.count(so(e),e),t,3)}function VO(e,t){return it(e.getMilliseconds(),t,3)}function h9(e,t){return VO(e,t)+"000"}function p9(e,t){return it(e.getMonth()+1,t,2)}function g9(e,t){return it(e.getMinutes(),t,2)}function m9(e,t){return it(e.getSeconds(),t,2)}function y9(e){var t=e.getDay();return t===0?7:t}function v9(e,t){return it($h.count(so(e)-1,e),t,2)}function XO(e){var t=e.getDay();return t>=4||t===0?Os(e):Os.ceil(e)}function x9(e,t){return e=XO(e),it(Os.count(so(e),e)+(so(e).getDay()===4),t,2)}function b9(e){return e.getDay()}function w9(e,t){return it(hd.count(so(e)-1,e),t,2)}function k9(e,t){return it(e.getFullYear()%100,t,2)}function S9(e,t){return e=XO(e),it(e.getFullYear()%100,t,2)}function j9(e,t){return it(e.getFullYear()%1e4,t,4)}function O9(e,t){var r=e.getDay();return e=r>=4||r===0?Os(e):Os.ceil(e),it(e.getFullYear()%1e4,t,4)}function _9(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+it(t/60|0,"0",2)+it(t%60,"0",2)}function q1(e,t){return it(e.getUTCDate(),t,2)}function N9(e,t){return it(e.getUTCHours(),t,2)}function P9(e,t){return it(e.getUTCHours()%12||12,t,2)}function A9(e,t){return it(1+Th.count(lo(e),e),t,3)}function KO(e,t){return it(e.getUTCMilliseconds(),t,3)}function M9(e,t){return KO(e,t)+"000"}function C9(e,t){return it(e.getUTCMonth()+1,t,2)}function E9(e,t){return it(e.getUTCMinutes(),t,2)}function T9(e,t){return it(e.getUTCSeconds(),t,2)}function $9(e){var t=e.getUTCDay();return t===0?7:t}function D9(e,t){return it(Dh.count(lo(e)-1,e),t,2)}function YO(e){var t=e.getUTCDay();return t>=4||t===0?_s(e):_s.ceil(e)}function R9(e,t){return e=YO(e),it(_s.count(lo(e),e)+(lo(e).getUTCDay()===4),t,2)}function L9(e){return e.getUTCDay()}function I9(e,t){return it(pd.count(lo(e)-1,e),t,2)}function B9(e,t){return it(e.getUTCFullYear()%100,t,2)}function F9(e,t){return e=YO(e),it(e.getUTCFullYear()%100,t,2)}function z9(e,t){return it(e.getUTCFullYear()%1e4,t,4)}function U9(e,t){var r=e.getUTCDay();return e=r>=4||r===0?_s(e):_s.ceil(e),it(e.getUTCFullYear()%1e4,t,4)}function W9(){return"+0000"}function Z1(){return"%"}function Q1(e){return+e}function J1(e){return Math.floor(+e/1e3)}var Li,qO,ZO;G9({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function G9(e){return Li=Gz(e),qO=Li.format,Li.parse,ZO=Li.utcFormat,Li.utcParse,Li}function H9(e){return new Date(e)}function V9(e){return e instanceof Date?+e:+new Date(+e)}function xv(e,t,r,n,a,o,i,s,l,c){var f=ov(),d=f.invert,h=f.domain,p=c(".%L"),m=c(":%S"),v=c("%I:%M"),x=c("%I %p"),y=c("%a %d"),g=c("%b %d"),b=c("%B"),S=c("%Y");function w(k){return(l(k)<k?p:s(k)<k?m:i(k)<k?v:o(k)<k?x:n(k)<k?a(k)<k?y:g:r(k)<k?b:S)(k)}return f.invert=function(k){return new Date(d(k))},f.domain=function(k){return arguments.length?h(Array.from(k,V9)):h().map(H9)},f.ticks=function(k){var O=h();return e(O[0],O[O.length-1],k??10)},f.tickFormat=function(k,O){return O==null?w:c(O)},f.nice=function(k){var O=h();return(!k||typeof k.range!="function")&&(k=t(O[0],O[O.length-1],k??10)),k?h(LO(O,k)):f},f.copy=function(){return du(f,xv(e,t,r,n,a,o,i,s,l,c))},f}function X9(){return ia.apply(xv(Uz,Wz,so,yv,$h,hu,gv,hv,si,qO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function K9(){return ia.apply(xv(Fz,zz,lo,vv,Dh,Th,mv,pv,si,ZO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Rh(){var e=0,t=1,r,n,a,o,i=gn,s=!1,l;function c(d){return d==null||isNaN(d=+d)?l:i(a===0?.5:(d=(o(d)-r)*a,s?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([e,t]=d,r=o(e=+e),n=o(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(d){return arguments.length?(s=!!d,c):s},c.interpolator=function(d){return arguments.length?(i=d,c):i};function f(d){return function(h){var p,m;return arguments.length?([p,m]=h,i=d(p,m),c):[i(0),i(1)]}}return c.range=f(al),c.rangeRound=f(av),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return o=d,r=d(e),n=d(t),a=r===n?0:1/(n-r),c}}function Vo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function QO(){var e=Ho(Rh()(gn));return e.copy=function(){return Vo(e,QO())},ho.apply(e,arguments)}function JO(){var e=lv(Rh()).domain([1,10]);return e.copy=function(){return Vo(e,JO()).base(e.base())},ho.apply(e,arguments)}function e_(){var e=cv(Rh());return e.copy=function(){return Vo(e,e_()).constant(e.constant())},ho.apply(e,arguments)}function bv(){var e=uv(Rh());return e.copy=function(){return Vo(e,bv()).exponent(e.exponent())},ho.apply(e,arguments)}function Y9(){return bv.apply(null,arguments).exponent(.5)}function t_(){var e=[],t=gn;function r(n){if(n!=null&&!isNaN(n=+n))return t((uu(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Ro),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,o)=>DF(e,o/n))},r.copy=function(){return t_(t).domain(e)},ho.apply(r,arguments)}function Lh(){var e=0,t=.5,r=1,n=1,a,o,i,s,l,c=gn,f,d=!1,h;function p(v){return isNaN(v=+v)?h:(v=.5+((v=+f(v))-o)*(n*v<n*o?s:l),c(d?Math.max(0,Math.min(1,v)):v))}p.domain=function(v){return arguments.length?([e,t,r]=v,a=f(e=+e),o=f(t=+t),i=f(r=+r),s=a===o?0:.5/(o-a),l=o===i?0:.5/(i-o),n=o<a?-1:1,p):[e,t,r]},p.clamp=function(v){return arguments.length?(d=!!v,p):d},p.interpolator=function(v){return arguments.length?(c=v,p):c};function m(v){return function(x){var y,g,b;return arguments.length?([y,g,b]=x,c=sz(v,[y,g,b]),p):[c(0),c(.5),c(1)]}}return p.range=m(al),p.rangeRound=m(av),p.unknown=function(v){return arguments.length?(h=v,p):h},function(v){return f=v,a=v(e),o=v(t),i=v(r),s=a===o?0:.5/(o-a),l=o===i?0:.5/(i-o),n=o<a?-1:1,p}}function r_(){var e=Ho(Lh()(gn));return e.copy=function(){return Vo(e,r_())},ho.apply(e,arguments)}function n_(){var e=lv(Lh()).domain([.1,1,10]);return e.copy=function(){return Vo(e,n_()).base(e.base())},ho.apply(e,arguments)}function a_(){var e=cv(Lh());return e.copy=function(){return Vo(e,a_()).constant(e.constant())},ho.apply(e,arguments)}function wv(){var e=uv(Lh());return e.copy=function(){return Vo(e,wv()).exponent(e.exponent())},ho.apply(e,arguments)}function q9(){return wv.apply(null,arguments).exponent(.5)}const ew=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ac,scaleDiverging:r_,scaleDivergingLog:n_,scaleDivergingPow:wv,scaleDivergingSqrt:q9,scaleDivergingSymlog:a_,scaleIdentity:RO,scaleImplicit:Rg,scaleLinear:fd,scaleLog:IO,scaleOrdinal:tv,scalePoint:Zl,scalePow:fv,scaleQuantile:zO,scaleQuantize:UO,scaleRadial:FO,scaleSequential:QO,scaleSequentialLog:JO,scaleSequentialPow:bv,scaleSequentialQuantile:t_,scaleSequentialSqrt:Y9,scaleSequentialSymlog:e_,scaleSqrt:Mz,scaleSymlog:BO,scaleThreshold:WO,scaleTime:X9,scaleUtc:K9,tickFormat:DO},Symbol.toStringTag,{value:"Module"}));var Z9=Ys;function Q9(e,t,r){for(var n=-1,a=e.length;++n<a;){var o=e[n],i=t(o);if(i!=null&&(s===void 0?i===i&&!Z9(i):r(i,s)))var s=i,l=o}return l}var o_=Q9;function J9(e,t){return e>t}var e7=J9,t7=o_,r7=e7,n7=nl;function a7(e){return e&&e.length?t7(e,n7,r7):void 0}var o7=a7;const jo=Mt(o7);function i7(e,t){return e<t}var s7=i7,l7=o_,c7=s7,u7=nl;function f7(e){return e&&e.length?l7(e,u7,c7):void 0}var d7=f7;const Ih=Mt(d7);var h7=Dy,p7=Wo,g7=pO,m7=Mn;function y7(e,t){var r=m7(e)?h7:g7;return r(e,p7(t))}var v7=y7,x7=dO,b7=v7;function w7(e,t){return x7(b7(e,t),1)}var k7=w7;const S7=Mt(k7);var j7=Yy;function O7(e,t){return j7(e,t)}var _7=O7;const Si=Mt(_7);var ol=1e9,N7={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Sv,qt=!0,aa="[DecimalError] ",pi=aa+"Invalid argument: ",kv=aa+"Exponent out of range: ",il=Math.floor,ti=Math.pow,P7=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,In,Er=1e7,zt=7,i_=9007199254740991,gd=il(i_/zt),we={};we.absoluteValue=we.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};we.comparedTo=we.cmp=function(e){var t,r,n,a,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===a?0:n>a^o.s<0?1:-1};we.decimalPlaces=we.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*zt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};we.dividedBy=we.div=function(e){return to(this,new this.constructor(e))};we.dividedToIntegerBy=we.idiv=function(e){var t=this,r=t.constructor;return At(to(t,new r(e),0,1),r.precision)};we.equals=we.eq=function(e){return!this.cmp(e)};we.exponent=function(){return vr(this)};we.greaterThan=we.gt=function(e){return this.cmp(e)>0};we.greaterThanOrEqualTo=we.gte=function(e){return this.cmp(e)>=0};we.isInteger=we.isint=function(){return this.e>this.d.length-2};we.isNegative=we.isneg=function(){return this.s<0};we.isPositive=we.ispos=function(){return this.s>0};we.isZero=function(){return this.s===0};we.lessThan=we.lt=function(e){return this.cmp(e)<0};we.lessThanOrEqualTo=we.lte=function(e){return this.cmp(e)<1};we.logarithm=we.log=function(e){var t,r=this,n=r.constructor,a=n.precision,o=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(In))throw Error(aa+"NaN");if(r.s<1)throw Error(aa+(r.s?"NaN":"-Infinity"));return r.eq(In)?new n(0):(qt=!1,t=to($c(r,o),$c(e,o),o),qt=!0,At(t,a))};we.minus=we.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?c_(t,e):s_(t,(e.s=-e.s,e))};we.modulo=we.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(aa+"NaN");return r.s?(qt=!1,t=to(r,e,0,1).times(e),qt=!0,r.minus(t)):At(new n(r),a)};we.naturalExponential=we.exp=function(){return l_(this)};we.naturalLogarithm=we.ln=function(){return $c(this)};we.negated=we.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};we.plus=we.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?s_(t,e):c_(t,(e.s=-e.s,e))};we.precision=we.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(pi+e);if(t=vr(a)+1,n=a.d.length-1,r=n*zt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};we.squareRoot=we.sqrt=function(){var e,t,r,n,a,o,i,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(aa+"NaN")}for(e=vr(s),qt=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=Ca(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=il((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=i=r+3;;)if(o=n,n=o.plus(to(s,o,i+2)).times(.5),Ca(o.d).slice(0,i)===(t=Ca(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if(At(o,r+1,0),o.times(o).eq(s)){n=o;break}}else if(t!="9999")break;i+=4}return qt=!0,At(n,r)};we.times=we.mul=function(e){var t,r,n,a,o,i,s,l,c,f=this,d=f.constructor,h=f.d,p=(e=new d(e)).d;if(!f.s||!e.s)return new d(0);for(e.s*=f.s,r=f.e+e.e,l=h.length,c=p.length,l<c&&(o=h,h=p,p=o,i=l,l=c,c=i),o=[],i=l+c,n=i;n--;)o.push(0);for(n=c;--n>=0;){for(t=0,a=l+n;a>n;)s=o[a]+p[n]*h[a-n-1]+t,o[a--]=s%Er|0,t=s/Er|0;o[a]=(o[a]+t)%Er|0}for(;!o[--i];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,qt?At(e,d.precision):e};we.toDecimalPlaces=we.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ia(e,0,ol),t===void 0?t=n.rounding:Ia(t,0,8),At(r,e+vr(r)+1,t))};we.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=ji(n,!0):(Ia(e,0,ol),t===void 0?t=a.rounding:Ia(t,0,8),n=At(new a(n),e+1,t),r=ji(n,!0,e+1)),r};we.toFixed=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?ji(a):(Ia(e,0,ol),t===void 0?t=o.rounding:Ia(t,0,8),n=At(new o(a),e+vr(a)+1,t),r=ji(n.abs(),!1,e+vr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};we.toInteger=we.toint=function(){var e=this,t=e.constructor;return At(new t(e),vr(e)+1,t.rounding)};we.toNumber=function(){return+this};we.toPower=we.pow=function(e){var t,r,n,a,o,i,s=this,l=s.constructor,c=12,f=+(e=new l(e));if(!e.s)return new l(In);if(s=new l(s),!s.s){if(e.s<1)throw Error(aa+"Infinity");return s}if(s.eq(In))return s;if(n=l.precision,e.eq(In))return At(s,n);if(t=e.e,r=e.d.length-1,i=t>=r,o=s.s,i){if((r=f<0?-f:f)<=i_){for(a=new l(In),t=Math.ceil(n/zt+4),qt=!1;r%2&&(a=a.times(s),rw(a.d,t)),r=il(r/2),r!==0;)s=s.times(s),rw(s.d,t);return qt=!0,e.s<0?new l(In).div(a):At(a,n)}}else if(o<0)throw Error(aa+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,qt=!1,a=e.times($c(s,n+c)),qt=!0,a=l_(a),a.s=o,a};we.toPrecision=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?(r=vr(a),n=ji(a,r<=o.toExpNeg||r>=o.toExpPos)):(Ia(e,1,ol),t===void 0?t=o.rounding:Ia(t,0,8),a=At(new o(a),e,t),r=vr(a),n=ji(a,e<=r||r<=o.toExpNeg,e)),n};we.toSignificantDigits=we.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ia(e,1,ol),t===void 0?t=n.rounding:Ia(t,0,8)),At(new n(r),e,t)};we.toString=we.valueOf=we.val=we.toJSON=we[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=vr(e),r=e.constructor;return ji(e,t<=r.toExpNeg||t>=r.toExpPos)};function s_(e,t){var r,n,a,o,i,s,l,c,f=e.constructor,d=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),qt?At(t,d):t;if(l=e.d,c=t.d,i=e.e,a=t.e,l=l.slice(),o=i-a,o){for(o<0?(n=l,o=-o,s=c.length):(n=c,a=i,s=l.length),i=Math.ceil(d/zt),s=i>s?i+1:s+1,o>s&&(o=s,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(s=l.length,o=c.length,s-o<0&&(o=s,n=c,c=l,l=n),r=0;o;)r=(l[--o]=l[o]+c[o]+r)/Er|0,l[o]%=Er;for(r&&(l.unshift(r),++a),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=a,qt?At(t,d):t}function Ia(e,t,r){if(e!==~~e||e<t||e>r)throw Error(pi+e)}function Ca(e){var t,r,n,a=e.length-1,o="",i=e[0];if(a>0){for(o+=i,t=1;t<a;t++)n=e[t]+"",r=zt-n.length,r&&(o+=vo(r)),o+=n;i=e[t],n=i+"",r=zt-n.length,r&&(o+=vo(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return o+i}var to=function(){function e(n,a){var o,i=0,s=n.length;for(n=n.slice();s--;)o=n[s]*a+i,n[s]=o%Er|0,i=o/Er|0;return i&&n.unshift(i),n}function t(n,a,o,i){var s,l;if(o!=i)l=o>i?1:-1;else for(s=l=0;s<o;s++)if(n[s]!=a[s]){l=n[s]>a[s]?1:-1;break}return l}function r(n,a,o){for(var i=0;o--;)n[o]-=i,i=n[o]<a[o]?1:0,n[o]=i*Er+n[o]-a[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,o,i){var s,l,c,f,d,h,p,m,v,x,y,g,b,S,w,k,O,_,N=n.constructor,P=n.s==a.s?1:-1,A=n.d,$=a.d;if(!n.s)return new N(n);if(!a.s)throw Error(aa+"Division by zero");for(l=n.e-a.e,O=$.length,w=A.length,p=new N(P),m=p.d=[],c=0;$[c]==(A[c]||0);)++c;if($[c]>(A[c]||0)&&--l,o==null?g=o=N.precision:i?g=o+(vr(n)-vr(a))+1:g=o,g<0)return new N(0);if(g=g/zt+2|0,c=0,O==1)for(f=0,$=$[0],g++;(c<w||f)&&g--;c++)b=f*Er+(A[c]||0),m[c]=b/$|0,f=b%$|0;else{for(f=Er/($[0]+1)|0,f>1&&($=e($,f),A=e(A,f),O=$.length,w=A.length),S=O,v=A.slice(0,O),x=v.length;x<O;)v[x++]=0;_=$.slice(),_.unshift(0),k=$[0],$[1]>=Er/2&&++k;do f=0,s=t($,v,O,x),s<0?(y=v[0],O!=x&&(y=y*Er+(v[1]||0)),f=y/k|0,f>1?(f>=Er&&(f=Er-1),d=e($,f),h=d.length,x=v.length,s=t(d,v,h,x),s==1&&(f--,r(d,O<h?_:$,h))):(f==0&&(s=f=1),d=$.slice()),h=d.length,h<x&&d.unshift(0),r(v,d,x),s==-1&&(x=v.length,s=t($,v,O,x),s<1&&(f++,r(v,O<x?_:$,x))),x=v.length):s===0&&(f++,v=[0]),m[c++]=f,s&&v[0]?v[x++]=A[S]||0:(v=[A[S]],x=1);while((S++<w||v[0]!==void 0)&&g--)}return m[0]||m.shift(),p.e=l,At(p,i?o+vr(p)+1:o)}}();function l_(e,t){var r,n,a,o,i,s,l=0,c=0,f=e.constructor,d=f.precision;if(vr(e)>16)throw Error(kv+vr(e));if(!e.s)return new f(In);for(qt=!1,s=d,i=new f(.03125);e.abs().gte(.1);)e=e.times(i),c+=5;for(n=Math.log(ti(2,c))/Math.LN10*2+5|0,s+=n,r=a=o=new f(In),f.precision=s;;){if(a=At(a.times(e),s),r=r.times(++l),i=o.plus(to(a,r,s)),Ca(i.d).slice(0,s)===Ca(o.d).slice(0,s)){for(;c--;)o=At(o.times(o),s);return f.precision=d,t==null?(qt=!0,At(o,d)):o}o=i}}function vr(e){for(var t=e.e*zt,r=e.d[0];r>=10;r/=10)t++;return t}function Zp(e,t,r){if(t>e.LN10.sd())throw qt=!0,r&&(e.precision=r),Error(aa+"LN10 precision limit exceeded");return At(new e(e.LN10),t)}function vo(e){for(var t="";e--;)t+="0";return t}function $c(e,t){var r,n,a,o,i,s,l,c,f,d=1,h=10,p=e,m=p.d,v=p.constructor,x=v.precision;if(p.s<1)throw Error(aa+(p.s?"NaN":"-Infinity"));if(p.eq(In))return new v(0);if(t==null?(qt=!1,c=x):c=t,p.eq(10))return t==null&&(qt=!0),Zp(v,c);if(c+=h,v.precision=c,r=Ca(m),n=r.charAt(0),o=vr(p),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Ca(p.d),n=r.charAt(0),d++;o=vr(p),n>1?(p=new v("0."+r),o++):p=new v(n+"."+r.slice(1))}else return l=Zp(v,c+2,x).times(o+""),p=$c(new v(n+"."+r.slice(1)),c-h).plus(l),v.precision=x,t==null?(qt=!0,At(p,x)):p;for(s=i=p=to(p.minus(In),p.plus(In),c),f=At(p.times(p),c),a=3;;){if(i=At(i.times(f),c),l=s.plus(to(i,new v(a),c)),Ca(l.d).slice(0,c)===Ca(s.d).slice(0,c))return s=s.times(2),o!==0&&(s=s.plus(Zp(v,c+2,x).times(o+""))),s=to(s,new v(d),c),v.precision=x,t==null?(qt=!0,At(s,x)):s;s=l,a+=2}}function tw(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=il(r/zt),e.d=[],n=(r+1)%zt,r<0&&(n+=zt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=zt;n<a;)e.d.push(+t.slice(n,n+=zt));t=t.slice(n),n=zt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),qt&&(e.e>gd||e.e<-gd))throw Error(kv+r)}else e.s=0,e.e=0,e.d=[0];return e}function At(e,t,r){var n,a,o,i,s,l,c,f,d=e.d;for(i=1,o=d[0];o>=10;o/=10)i++;if(n=t-i,n<0)n+=zt,a=t,c=d[f=0];else{if(f=Math.ceil((n+1)/zt),o=d.length,f>=o)return e;for(c=o=d[f],i=1;o>=10;o/=10)i++;n%=zt,a=n-zt+i}if(r!==void 0&&(o=ti(10,i-a-1),s=c/o%10|0,l=t<0||d[f+1]!==void 0||c%o,l=r<4?(s||l)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?a>0?c/ti(10,i-a):0:d[f-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return l?(o=vr(e),d.length=1,t=t-o-1,d[0]=ti(10,(zt-t%zt)%zt),e.e=il(-t/zt)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=f,o=1,f--):(d.length=f+1,o=ti(10,zt-n),d[f]=a>0?(c/ti(10,i-a)%ti(10,a)|0)*o:0),l)for(;;)if(f==0){(d[0]+=o)==Er&&(d[0]=1,++e.e);break}else{if(d[f]+=o,d[f]!=Er)break;d[f--]=0,o=1}for(n=d.length;d[--n]===0;)d.pop();if(qt&&(e.e>gd||e.e<-gd))throw Error(kv+vr(e));return e}function c_(e,t){var r,n,a,o,i,s,l,c,f,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),qt?At(t,p):t;if(l=e.d,d=t.d,n=t.e,c=e.e,l=l.slice(),i=c-n,i){for(f=i<0,f?(r=l,i=-i,s=d.length):(r=d,n=c,s=l.length),a=Math.max(Math.ceil(p/zt),s)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=l.length,s=d.length,f=a<s,f&&(s=a),a=0;a<s;a++)if(l[a]!=d[a]){f=l[a]<d[a];break}i=0}for(f&&(r=l,l=d,d=r,t.s=-t.s),s=l.length,a=d.length-s;a>0;--a)l[s++]=0;for(a=d.length;a>i;){if(l[--a]<d[a]){for(o=a;o&&l[--o]===0;)l[o]=Er-1;--l[o],l[a]+=Er}l[a]-=d[a]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,qt?At(t,p):t):new h(0)}function ji(e,t,r){var n,a=vr(e),o=Ca(e.d),i=o.length;return t?(r&&(n=r-i)>0?o=o.charAt(0)+"."+o.slice(1)+vo(n):i>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+vo(-a-1)+o,r&&(n=r-i)>0&&(o+=vo(n))):a>=i?(o+=vo(a+1-i),r&&(n=r-a-1)>0&&(o=o+"."+vo(n))):((n=a+1)<i&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(o+="."),o+=vo(n))),e.s<0?"-"+o:o}function rw(e,t){if(e.length>t)return e.length=t,!0}function u_(e){var t,r,n;function a(o){var i=this;if(!(i instanceof a))return new a(o);if(i.constructor=a,o instanceof a){i.s=o.s,i.e=o.e,i.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(pi+o);if(o>0)i.s=1;else if(o<0)o=-o,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(o===~~o&&o<1e7){i.e=0,i.d=[o];return}return tw(i,o.toString())}else if(typeof o!="string")throw Error(pi+o);if(o.charCodeAt(0)===45?(o=o.slice(1),i.s=-1):i.s=1,P7.test(o))tw(i,o);else throw Error(pi+o)}if(a.prototype=we,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=u_,a.config=a.set=A7,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function A7(e){if(!e||typeof e!="object")throw Error(aa+"Object expected");var t,r,n,a=["precision",1,ol,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(il(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(pi+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(pi+r+": "+n);return this}var Sv=u_(N7);In=new Sv(1);const St=Sv;function M7(e){return $7(e)||T7(e)||E7(e)||C7()}function C7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E7(e,t){if(e){if(typeof e=="string")return Fg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fg(e,t)}}function T7(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function $7(e){if(Array.isArray(e))return Fg(e)}function Fg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var D7=function(t){return t},f_={},d_=function(t){return t===f_},nw=function(t){return function r(){return arguments.length===0||arguments.length===1&&d_(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},R7=function e(t,r){return t===1?r:nw(function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];var i=a.filter(function(s){return s!==f_}).length;return i>=t?r.apply(void 0,a):e(t-i,nw(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var f=a.map(function(d){return d_(d)?l.shift():d});return r.apply(void 0,M7(f).concat(l))}))})},Bh=function(t){return R7(t.length,t)},zg=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},L7=Bh(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),I7=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return D7;var a=r.reverse(),o=a[0],i=a.slice(1);return function(){return i.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},Ug=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},h_=function(t){var r=null,n=null;return function(){for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return r&&o.every(function(s,l){return s===r[l]})||(r=o,n=t.apply(void 0,o)),n}};function B7(e){var t;return e===0?t=1:t=Math.floor(new St(e).abs().log(10).toNumber())+1,t}function F7(e,t,r){for(var n=new St(e),a=0,o=[];n.lt(t)&&a<1e5;)o.push(n.toNumber()),n=n.add(r),a++;return o}var z7=Bh(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),U7=Bh(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),W7=Bh(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Fh={rangeStep:F7,getDigitCount:B7,interpolateNumber:z7,uninterpolateNumber:U7,uninterpolateTruncation:W7};function Wg(e){return V7(e)||H7(e)||p_(e)||G7()}function G7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H7(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function V7(e){if(Array.isArray(e))return Gg(e)}function Dc(e,t){return Y7(e)||K7(e,t)||p_(e,t)||X7()}function X7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p_(e,t){if(e){if(typeof e=="string")return Gg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gg(e,t)}}function Gg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function K7(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,o=void 0;try{for(var i=e[Symbol.iterator](),s;!(n=(s=i.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(l){a=!0,o=l}finally{try{!n&&i.return!=null&&i.return()}finally{if(a)throw o}}return r}}function Y7(e){if(Array.isArray(e))return e}function g_(e){var t=Dc(e,2),r=t[0],n=t[1],a=r,o=n;return r>n&&(a=n,o=r),[a,o]}function m_(e,t,r){if(e.lte(0))return new St(0);var n=Fh.getDigitCount(e.toNumber()),a=new St(10).pow(n),o=e.div(a),i=n!==1?.05:.1,s=new St(Math.ceil(o.div(i).toNumber())).add(r).mul(i),l=s.mul(a);return t?l:new St(Math.ceil(l))}function q7(e,t,r){var n=1,a=new St(e);if(!a.isint()&&r){var o=Math.abs(e);o<1?(n=new St(10).pow(Fh.getDigitCount(e)-1),a=new St(Math.floor(a.div(n).toNumber())).mul(n)):o>1&&(a=new St(Math.floor(e)))}else e===0?a=new St(Math.floor((t-1)/2)):r||(a=new St(Math.floor(e)));var i=Math.floor((t-1)/2),s=I7(L7(function(l){return a.add(new St(l-i).mul(n)).toNumber()}),zg);return s(0,t)}function y_(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new St(0),tickMin:new St(0),tickMax:new St(0)};var o=m_(new St(t).sub(e).div(r-1),n,a),i;e<=0&&t>=0?i=new St(0):(i=new St(e).add(t).div(2),i=i.sub(new St(i).mod(o)));var s=Math.ceil(i.sub(e).div(o).toNumber()),l=Math.ceil(new St(t).sub(i).div(o).toNumber()),c=s+l+1;return c>r?y_(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,s=t>0?s:s+(r-c)),{step:o,tickMin:i.sub(new St(s).mul(o)),tickMax:i.add(new St(l).mul(o))})}function Z7(e){var t=Dc(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),s=g_([r,n]),l=Dc(s,2),c=l[0],f=l[1];if(c===-1/0||f===1/0){var d=f===1/0?[c].concat(Wg(zg(0,a-1).map(function(){return 1/0}))):[].concat(Wg(zg(0,a-1).map(function(){return-1/0})),[f]);return r>n?Ug(d):d}if(c===f)return q7(c,a,o);var h=y_(c,f,i,o),p=h.step,m=h.tickMin,v=h.tickMax,x=Fh.rangeStep(m,v.add(new St(.1).mul(p)),p);return r>n?Ug(x):x}function Q7(e,t){var r=Dc(e,2),n=r[0],a=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=g_([n,a]),s=Dc(i,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,a];if(l===c)return[l];var f=Math.max(t,2),d=m_(new St(c).sub(l).div(f-1),o,0),h=[].concat(Wg(Fh.rangeStep(new St(l),new St(c).sub(new St(.99).mul(d)),d)),[c]);return n>a?Ug(h):h}var J7=h_(Z7),eU=h_(Q7),tU="Invariant failed";function Oi(e,t){throw new Error(tU)}var rU=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ns(e){"@babel/helpers - typeof";return Ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ns(e)}function md(){return md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},md.apply(this,arguments)}function nU(e,t){return sU(e)||iU(e,t)||oU(e,t)||aU()}function aU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oU(e,t){if(e){if(typeof e=="string")return aw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aw(e,t)}}function aw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iU(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function sU(e){if(Array.isArray(e))return e}function lU(e,t){if(e==null)return{};var r=cU(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cU(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b_(n.key),n)}}function dU(e,t,r){return t&&fU(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hU(e,t,r){return t=yd(t),pU(e,v_()?Reflect.construct(t,r||[],yd(e).constructor):t.apply(e,r))}function pU(e,t){if(t&&(Ns(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gU(e)}function gU(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v_=function(){return!!e})()}function yd(e){return yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yd(e)}function mU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hg(e,t)}function Hg(e,t){return Hg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Hg(e,t)}function x_(e,t,r){return t=b_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b_(e){var t=yU(e,"string");return Ns(t)=="symbol"?t:t+""}function yU(e,t){if(Ns(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ns(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var sl=function(e){function t(){return uU(this,t),hU(this,t,arguments)}return mU(t,e),dU(t,[{key:"render",value:function(){var n=this.props,a=n.offset,o=n.layout,i=n.width,s=n.dataKey,l=n.data,c=n.dataPointFormatter,f=n.xAxis,d=n.yAxis,h=lU(n,rU),p=Be(h,!1);this.props.direction==="x"&&f.type!=="number"&&Oi();var m=l.map(function(v){var x=c(v,s),y=x.x,g=x.y,b=x.value,S=x.errorVal;if(!S)return null;var w=[],k,O;if(Array.isArray(S)){var _=nU(S,2);k=_[0],O=_[1]}else k=O=S;if(o==="vertical"){var N=f.scale,P=g+a,A=P+i,$=P-i,C=N(b-k),z=N(b+O);w.push({x1:z,y1:A,x2:z,y2:$}),w.push({x1:C,y1:P,x2:z,y2:P}),w.push({x1:C,y1:A,x2:C,y2:$})}else if(o==="horizontal"){var E=d.scale,U=y+a,M=U-i,B=U+i,L=E(b-k),X=E(b+O);w.push({x1:M,y1:X,x2:B,y2:X}),w.push({x1:U,y1:L,x2:U,y2:X}),w.push({x1:M,y1:L,x2:B,y2:L})}return T.createElement(st,md({className:"recharts-errorBar",key:"bar-".concat(w.map(function(te){return"".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))},p),w.map(function(te){return T.createElement("line",md({},te,{key:"line-".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))}))});return T.createElement(st,{className:"recharts-errorBars"},m)}}])}(T.Component);x_(sl,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});x_(sl,"displayName","ErrorBar");function Rc(e){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rc(e)}function ow(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ow(Object(r),!0).forEach(function(n){vU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ow(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vU(e,t,r){return t=xU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xU(e){var t=bU(e,"string");return Rc(t)=="symbol"?t:t+""}function bU(e,t){if(Rc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var w_=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,o=t.legendContent,i=Ln(r,eo);if(!i)return null;var s=eo.defaultProps,l=s!==void 0?Yo(Yo({},s),i.props):{},c;return i.props&&i.props.payload?c=i.props&&i.props.payload:o==="children"?c=(n||[]).reduce(function(f,d){var h=d.item,p=d.props,m=p.sectors||p.data||[];return f.concat(m.map(function(v){return{type:i.props.iconType||h.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):c=(n||[]).map(function(f){var d=f.item,h=d.type.defaultProps,p=h!==void 0?Yo(Yo({},h),d.props):{},m=p.dataKey,v=p.name,x=p.legendType,y=p.hide;return{inactive:y,dataKey:m,type:l.iconType||x||"square",color:jv(d),value:v||m,payload:p}}),Yo(Yo(Yo({},l),eo.getWithHeight(i,a)),{},{payload:c,item:i})};function Lc(e){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lc(e)}function iw(e){return jU(e)||SU(e)||kU(e)||wU()}function wU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kU(e,t){if(e){if(typeof e=="string")return Vg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vg(e,t)}}function SU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jU(e){if(Array.isArray(e))return Vg(e)}function Vg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sw(Object(r),!0).forEach(function(n){us(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function us(e,t,r){return t=OU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OU(e){var t=_U(e,"string");return Lc(t)=="symbol"?t:t+""}function _U(e,t){if(Lc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nr(e,t,r){return Le(e)||Le(t)?r:_r(t)?ta(e,t,r):Ge(t)?t(e):r}function Ql(e,t,r,n){var a=S7(e,function(s){return Nr(s,t)});if(r==="number"){var o=a.filter(function(s){return ue(s)||parseFloat(s)});return o.length?[Ih(o),jo(o)]:[1/0,-1/0]}var i=n?a.filter(function(s){return!Le(s)}):a;return i.map(function(s){return _r(s)||s instanceof Date?s:""})}var NU=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,c=0;c<s;c++){var f=c>0?a[c-1].coordinate:a[s-1].coordinate,d=a[c].coordinate,h=c>=s-1?a[0].coordinate:a[c+1].coordinate,p=void 0;if(xa(d-f)!==xa(h-d)){var m=[];if(xa(h-d)===xa(l[1]-l[0])){p=h;var v=d+l[1]-l[0];m[0]=Math.min(v,(v+f)/2),m[1]=Math.max(v,(v+f)/2)}else{p=f;var x=h+l[1]-l[0];m[0]=Math.min(d,(x+d)/2),m[1]=Math.max(d,(x+d)/2)}var y=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(t>y[0]&&t<=y[1]||t>=m[0]&&t<=m[1]){i=a[c].index;break}}else{var g=Math.min(f,h),b=Math.max(f,h);if(t>(g+d)/2&&t<=(b+d)/2){i=a[c].index;break}}}else for(var S=0;S<s;S++)if(S===0&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<s-1&&t>(n[S].coordinate+n[S-1].coordinate)/2&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S===s-1&&t>(n[S].coordinate+n[S-1].coordinate)/2){i=n[S].index;break}return i},jv=function(t){var r,n=t,a=n.type.displayName,o=(r=t.type)!==null&&r!==void 0&&r.defaultProps?or(or({},t.type.defaultProps),t.props):t.props,i=o.stroke,s=o.fill,l;switch(a){case"Line":l=i;break;case"Area":case"Radar":l=i&&i!=="none"?i:s;break;default:l=s;break}return l},PU=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,o=a===void 0?{}:a;if(!o)return{};for(var i={},s=Object.keys(o),l=0,c=s.length;l<c;l++)for(var f=o[s[l]].stackGroups,d=Object.keys(f),h=0,p=d.length;h<p;h++){var m=f[d[h]],v=m.items,x=m.cateAxisId,y=v.filter(function(O){return Qa(O.type).indexOf("Bar")>=0});if(y&&y.length){var g=y[0].type.defaultProps,b=g!==void 0?or(or({},g),y[0].props):y[0].props,S=b.barSize,w=b[x];i[w]||(i[w]=[]);var k=Le(S)?r:S;i[w].push({item:y[0],stackList:y.slice(1),barSize:Le(k)?void 0:ki(k,n,0)})}}return i},AU=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,o=t.sizeList,i=o===void 0?[]:o,s=t.maxBarSize,l=i.length;if(l<1)return null;var c=ki(r,a,0,!0),f,d=[];if(i[0].barSize===+i[0].barSize){var h=!1,p=a/l,m=i.reduce(function(S,w){return S+w.barSize||0},0);m+=(l-1)*c,m>=a&&(m-=(l-1)*c,c=0),m>=a&&p>0&&(h=!0,p*=.9,m=l*p);var v=(a-m)/2>>0,x={offset:v-c,size:0};f=i.reduce(function(S,w){var k={item:w.item,position:{offset:x.offset+x.size+c,size:h?p:w.barSize}},O=[].concat(iw(S),[k]);return x=O[O.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(_){O.push({item:_,position:x})}),O},d)}else{var y=ki(n,a,0,!0);a-2*y-(l-1)*c<=0&&(c=0);var g=(a-2*y-(l-1)*c)/l;g>1&&(g>>=0);var b=s===+s?Math.min(g,s):g;f=i.reduce(function(S,w,k){var O=[].concat(iw(S),[{item:w.item,position:{offset:y+(g+c)*k+(g-b)/2,size:b}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(_){O.push({item:_,position:O[O.length-1].position})}),O},d)}return f},MU=function(t,r,n,a){var o=n.children,i=n.width,s=n.margin,l=i-(s.left||0)-(s.right||0),c=w_({children:o,legendWidth:l});if(c){var f=a||{},d=f.width,h=f.height,p=c.align,m=c.verticalAlign,v=c.layout;if((v==="vertical"||v==="horizontal"&&m==="middle")&&p!=="center"&&ue(t[p]))return or(or({},t),{},us({},p,t[p]+(d||0)));if((v==="horizontal"||v==="vertical"&&p==="center")&&m!=="middle"&&ue(t[m]))return or(or({},t),{},us({},m,t[m]+(h||0)))}return t},CU=function(t,r,n){return Le(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},k_=function(t,r,n,a,o){var i=r.props.children,s=An(i,sl).filter(function(c){return CU(a,o,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return t.reduce(function(c,f){var d=Nr(f,n);if(Le(d))return c;var h=Array.isArray(d)?[Ih(d),jo(d)]:[d,d],p=l.reduce(function(m,v){var x=Nr(f,v,0),y=h[0]-Math.abs(Array.isArray(x)?x[0]:x),g=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(y,m[0]),Math.max(g,m[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},EU=function(t,r,n,a,o){var i=r.map(function(s){return k_(t,s,n,o,a)}).filter(function(s){return!Le(s)});return i&&i.length?i.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},S_=function(t,r,n,a,o){var i=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&k_(t,l,c,a)||Ql(t,c,n,o)});if(n==="number")return i.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return i.reduce(function(l,c){for(var f=0,d=c.length;f<d;f++)s[c[f]]||(s[c[f]]=!0,l.push(c[f]));return l},[])},j_=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},O_=function(t,r,n,a){if(a)return t.map(function(l){return l.coordinate});var o,i,s=t.map(function(l){return l.coordinate===r&&(o=!0),l.coordinate===n&&(i=!0),l.coordinate});return o||s.push(r),i||s.push(n),s},qa=function(t,r,n){if(!t)return null;var a=t.scale,o=t.duplicateDomain,i=t.type,s=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,c=(r||n)&&i==="category"&&a.bandwidth?a.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?xa(s[0]-s[1])*2*c:c,r&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(d){var h=o?o.indexOf(d):d;return{coordinate:a(h)+c,value:d,offset:c}});return f.filter(function(d){return!el(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,h){return{coordinate:a(d)+c,value:d,index:h,offset:c}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(d){return{coordinate:a(d)+c,value:d,offset:c}}):a.domain().map(function(d,h){return{coordinate:a(d)+c,value:o?o[d]:d,index:h,offset:c}})},Qp=new WeakMap,Qu=function(t,r){if(typeof r!="function")return t;Qp.has(t)||Qp.set(t,new WeakMap);var n=Qp.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},TU=function(t,r,n){var a=t.scale,o=t.type,i=t.layout,s=t.axisType;if(a==="auto")return i==="radial"&&s==="radiusAxis"?{scale:Ac(),realScaleType:"band"}:i==="radial"&&s==="angleAxis"?{scale:fd(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Zl(),realScaleType:"point"}:o==="category"?{scale:Ac(),realScaleType:"band"}:{scale:fd(),realScaleType:"linear"};if(wi(a)){var l="scale".concat(jh(a));return{scale:(ew[l]||Zl)(),realScaleType:ew[l]?l:"point"}}return Ge(a)?{scale:a}:{scale:Zl(),realScaleType:"point"}},lw=1e-4,$U=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),o=Math.min(a[0],a[1])-lw,i=Math.max(a[0],a[1])+lw,s=t(r[0]),l=t(r[n-1]);(s<o||s>i||l<o||l>i)&&t.domain([r[0],r[n-1]])}},DU=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},RU=function(t,r){if(!r||r.length!==2||!ue(r[0])||!ue(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),o=[t[0],t[1]];return(!ue(t[0])||t[0]<n)&&(o[0]=n),(!ue(t[1])||t[1]>a)&&(o[1]=a),o[0]>a&&(o[0]=a),o[1]<n&&(o[1]=n),o},LU=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var o=0,i=0,s=0;s<r;++s){var l=el(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=o,t[s][n][1]=o+l,o=t[s][n][1]):(t[s][n][0]=i,t[s][n][1]=i+l,i=t[s][n][1])}},IU=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var o=0,i=0;i<r;++i){var s=el(t[i][n][1])?t[i][n][0]:t[i][n][1];s>=0?(t[i][n][0]=o,t[i][n][1]=o+s,o=t[i][n][1]):(t[i][n][0]=0,t[i][n][1]=0)}},BU={sign:LU,expand:e4,none:vs,silhouette:t4,wiggle:r4,positive:IU},FU=function(t,r,n){var a=r.map(function(s){return s.props.dataKey}),o=BU[n],i=J5().keys(a).value(function(s,l){return+Nr(s,l,0)}).order(yg).offset(o);return i(t)},zU=function(t,r,n,a,o,i){if(!t)return null;var s=i?r.reverse():r,l={},c=s.reduce(function(d,h){var p,m=(p=h.type)!==null&&p!==void 0&&p.defaultProps?or(or({},h.type.defaultProps),h.props):h.props,v=m.stackId,x=m.hide;if(x)return d;var y=m[n],g=d[y]||{hasStack:!1,stackGroups:{}};if(_r(v)){var b=g.stackGroups[v]||{numericAxisId:n,cateAxisId:a,items:[]};b.items.push(h),g.hasStack=!0,g.stackGroups[v]=b}else g.stackGroups[Ci("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return or(or({},d),{},us({},y,g))},l),f={};return Object.keys(c).reduce(function(d,h){var p=c[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(v,x){var y=p.stackGroups[x];return or(or({},v),{},us({},x,{numericAxisId:n,cateAxisId:a,items:y.items,stackedData:FU(t,y.items,o)}))},m)}return or(or({},d),{},us({},h,p))},f)},UU=function(t,r){var n=r.realScaleType,a=r.type,o=r.tickCount,i=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&a==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var c=t.domain();if(!c.length)return null;var f=J7(c,o,s);return t.domain([Ih(f),jo(f)]),{niceTicks:f}}if(o&&a==="number"){var d=t.domain(),h=eU(d,o,s);return{niceTicks:h}}return null};function Ps(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,o=e.index,i=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Le(a[t.dataKey])){var s=Wf(r,"value",a[t.dataKey]);if(s)return s.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var l=Nr(a,Le(i)?t.dataKey:i);return Le(l)?null:t.scale(l)}var cw=function(t){var r=t.axis,n=t.ticks,a=t.offset,o=t.bandSize,i=t.entry,s=t.index;if(r.type==="category")return n[s]?n[s].coordinate+a:null;var l=Nr(i,r.dataKey,r.domain[s]);return Le(l)?null:r.scale(l)-o/2+a},WU=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return a<=0&&o>=0?0:o<0?o:a}return n[0]},GU=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?or(or({},t.type.defaultProps),t.props):t.props,o=a.stackId;if(_r(o)){var i=r[o];if(i){var s=i.items.indexOf(t);return s>=0?i.stackedData[s]:null}}return null},HU=function(t){return t.reduce(function(r,n){return[Ih(n.concat([r[0]]).filter(ue)),jo(n.concat([r[1]]).filter(ue))]},[1/0,-1/0])},__=function(t,r,n){return Object.keys(t).reduce(function(a,o){var i=t[o],s=i.stackedData,l=s.reduce(function(c,f){var d=HU(f.slice(r,n+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},uw=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fw=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Xg=function(t,r,n){if(Ge(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(ue(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(uw.test(t[0])){var o=+uw.exec(t[0])[1];a[0]=r[0]-o}else Ge(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(ue(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(fw.test(t[1])){var i=+fw.exec(t[1])[1];a[1]=r[1]+i}else Ge(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},vd=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var o=Zy(r,function(d){return d.coordinate}),i=1/0,s=1,l=o.length;s<l;s++){var c=o[s],f=o[s-1];i=Math.min((c.coordinate||0)-(f.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},dw=function(t,r,n){return!t||!t.length||Si(t,ta(n,"type.defaultProps.domain"))?r:t},N_=function(t,r){var n=t.type.defaultProps?or(or({},t.type.defaultProps),t.props):t.props,a=n.dataKey,o=n.name,i=n.unit,s=n.formatter,l=n.tooltipType,c=n.chartType,f=n.hide;return or(or({},Be(t,!1)),{},{dataKey:a,unit:i,formatter:s,name:o||a,color:jv(t),value:Nr(r,a),type:l,payload:r,chartType:c,hide:f})};function Ic(e){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ic(e)}function hw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hw(Object(r),!0).forEach(function(n){VU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VU(e,t,r){return t=XU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XU(e){var t=KU(e,"string");return Ic(t)=="symbol"?t:t+""}function KU(e,t){if(Ic(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xd=Math.PI/180,YU=function(t){return t*180/Math.PI},Gr=function(t,r,n,a){return{x:t+Math.cos(-xd*a)*n,y:r+Math.sin(-xd*a)*n}},qU=function(t,r){var n=t.x,a=t.y,o=r.x,i=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(a-i,2))},ZU=function(t,r){var n=t.x,a=t.y,o=r.cx,i=r.cy,s=qU({x:n,y:a},{x:o,y:i});if(s<=0)return{radius:s};var l=(n-o)/s,c=Math.acos(l);return a>i&&(c=2*Math.PI-c),{radius:s,angle:YU(c),angleInRadian:c}},QU=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),o=Math.floor(n/360),i=Math.min(a,o);return{startAngle:r-i*360,endAngle:n-i*360}},JU=function(t,r){var n=r.startAngle,a=r.endAngle,o=Math.floor(n/360),i=Math.floor(a/360),s=Math.min(o,i);return t+s*360},gw=function(t,r){var n=t.x,a=t.y,o=ZU({x:n,y:a},r),i=o.radius,s=o.angle,l=r.innerRadius,c=r.outerRadius;if(i<l||i>c)return!1;if(i===0)return!0;var f=QU(r),d=f.startAngle,h=f.endAngle,p=s,m;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;m=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=d}return m?pw(pw({},r),{},{radius:i,angle:JU(p,r)}):null};function Bc(e){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bc(e)}var eW=["offset"];function tW(e){return oW(e)||aW(e)||nW(e)||rW()}function rW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nW(e,t){if(e){if(typeof e=="string")return Kg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kg(e,t)}}function aW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oW(e){if(Array.isArray(e))return Kg(e)}function Kg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iW(e,t){if(e==null)return{};var r=sW(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function mw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mw(Object(r),!0).forEach(function(n){lW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lW(e,t,r){return t=cW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cW(e){var t=uW(e,"string");return Bc(t)=="symbol"?t:t+""}function uW(e,t){if(Bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fc(){return Fc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fc.apply(this,arguments)}var fW=function(t){var r=t.value,n=t.formatter,a=Le(t.children)?r:t.children;return Ge(n)?n(a):a},dW=function(t,r){var n=xa(r-t),a=Math.min(Math.abs(r-t),360);return n*a},hW=function(t,r,n){var a=t.position,o=t.viewBox,i=t.offset,s=t.className,l=o,c=l.cx,f=l.cy,d=l.innerRadius,h=l.outerRadius,p=l.startAngle,m=l.endAngle,v=l.clockWise,x=(d+h)/2,y=dW(p,m),g=y>=0?1:-1,b,S;a==="insideStart"?(b=p+g*i,S=v):a==="insideEnd"?(b=m-g*i,S=!v):a==="end"&&(b=m+g*i,S=v),S=y<=0?S:!S;var w=Gr(c,f,x,b),k=Gr(c,f,x,b+(S?1:-1)*359),O="M".concat(w.x,",").concat(w.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(S?0:1,`,
    `).concat(k.x,",").concat(k.y),_=Le(t.id)?Ci("recharts-radial-line-"):t.id;return T.createElement("text",Fc({},n,{dominantBaseline:"central",className:tt("recharts-radial-bar-label",s)}),T.createElement("defs",null,T.createElement("path",{id:_,d:O})),T.createElement("textPath",{xlinkHref:"#".concat(_)},r))},pW=function(t){var r=t.viewBox,n=t.offset,a=t.position,o=r,i=o.cx,s=o.cy,l=o.innerRadius,c=o.outerRadius,f=o.startAngle,d=o.endAngle,h=(f+d)/2;if(a==="outside"){var p=Gr(i,s,c+n,h),m=p.x,v=p.y;return{x:m,y:v,textAnchor:m>=i?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"end"};var x=(l+c)/2,y=Gr(i,s,x,h),g=y.x,b=y.y;return{x:g,y:b,textAnchor:"middle",verticalAnchor:"middle"}},gW=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,o=t.position,i=r,s=i.x,l=i.y,c=i.width,f=i.height,d=f>=0?1:-1,h=d*a,p=d>0?"end":"start",m=d>0?"start":"end",v=c>=0?1:-1,x=v*a,y=v>0?"end":"start",g=v>0?"start":"end";if(o==="top"){var b={x:s+c/2,y:l-d*a,textAnchor:"middle",verticalAnchor:p};return Sr(Sr({},b),n?{height:Math.max(l-n.y,0),width:c}:{})}if(o==="bottom"){var S={x:s+c/2,y:l+f+h,textAnchor:"middle",verticalAnchor:m};return Sr(Sr({},S),n?{height:Math.max(n.y+n.height-(l+f),0),width:c}:{})}if(o==="left"){var w={x:s-x,y:l+f/2,textAnchor:y,verticalAnchor:"middle"};return Sr(Sr({},w),n?{width:Math.max(w.x-n.x,0),height:f}:{})}if(o==="right"){var k={x:s+c+x,y:l+f/2,textAnchor:g,verticalAnchor:"middle"};return Sr(Sr({},k),n?{width:Math.max(n.x+n.width-k.x,0),height:f}:{})}var O=n?{width:c,height:f}:{};return o==="insideLeft"?Sr({x:s+x,y:l+f/2,textAnchor:g,verticalAnchor:"middle"},O):o==="insideRight"?Sr({x:s+c-x,y:l+f/2,textAnchor:y,verticalAnchor:"middle"},O):o==="insideTop"?Sr({x:s+c/2,y:l+h,textAnchor:"middle",verticalAnchor:m},O):o==="insideBottom"?Sr({x:s+c/2,y:l+f-h,textAnchor:"middle",verticalAnchor:p},O):o==="insideTopLeft"?Sr({x:s+x,y:l+h,textAnchor:g,verticalAnchor:m},O):o==="insideTopRight"?Sr({x:s+c-x,y:l+h,textAnchor:y,verticalAnchor:m},O):o==="insideBottomLeft"?Sr({x:s+x,y:l+f-h,textAnchor:g,verticalAnchor:p},O):o==="insideBottomRight"?Sr({x:s+c-x,y:l+f-h,textAnchor:y,verticalAnchor:p},O):qs(o)&&(ue(o.x)||oi(o.x))&&(ue(o.y)||oi(o.y))?Sr({x:s+ki(o.x,c),y:l+ki(o.y,f),textAnchor:"end",verticalAnchor:"end"},O):Sr({x:s+c/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},O)},mW=function(t){return"cx"in t&&ue(t.cx)};function nn(e){var t=e.offset,r=t===void 0?5:t,n=iW(e,eW),a=Sr({offset:r},n),o=a.viewBox,i=a.position,s=a.value,l=a.children,c=a.content,f=a.className,d=f===void 0?"":f,h=a.textBreakAll;if(!o||Le(s)&&Le(l)&&!j.isValidElement(c)&&!Ge(c))return null;if(j.isValidElement(c))return j.cloneElement(c,a);var p;if(Ge(c)){if(p=j.createElement(c,a),j.isValidElement(p))return p}else p=fW(a);var m=mW(o),v=Be(a,!0);if(m&&(i==="insideStart"||i==="insideEnd"||i==="end"))return hW(a,p,v);var x=m?pW(a):gW(a);return T.createElement(ad,Fc({className:tt("recharts-label",d)},v,x,{breakAll:h}),p)}nn.displayName="Label";var P_=function(t){var r=t.cx,n=t.cy,a=t.angle,o=t.startAngle,i=t.endAngle,s=t.r,l=t.radius,c=t.innerRadius,f=t.outerRadius,d=t.x,h=t.y,p=t.top,m=t.left,v=t.width,x=t.height,y=t.clockWise,g=t.labelViewBox;if(g)return g;if(ue(v)&&ue(x)){if(ue(d)&&ue(h))return{x:d,y:h,width:v,height:x};if(ue(p)&&ue(m))return{x:p,y:m,width:v,height:x}}return ue(d)&&ue(h)?{x:d,y:h,width:0,height:0}:ue(r)&&ue(n)?{cx:r,cy:n,startAngle:o||a||0,endAngle:i||a||0,innerRadius:c||0,outerRadius:f||l||s||0,clockWise:y}:t.viewBox?t.viewBox:{}},yW=function(t,r){return t?t===!0?T.createElement(nn,{key:"label-implicit",viewBox:r}):_r(t)?T.createElement(nn,{key:"label-implicit",viewBox:r,value:t}):j.isValidElement(t)?t.type===nn?j.cloneElement(t,{key:"label-implicit",viewBox:r}):T.createElement(nn,{key:"label-implicit",content:t,viewBox:r}):Ge(t)?T.createElement(nn,{key:"label-implicit",content:t,viewBox:r}):qs(t)?T.createElement(nn,Fc({viewBox:r},t,{key:"label-implicit"})):null:null},vW=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,o=P_(t),i=An(a,nn).map(function(l,c){return j.cloneElement(l,{viewBox:r||o,key:"label-".concat(c)})});if(!n)return i;var s=yW(t.label,r||o);return[s].concat(tW(i))};nn.parseViewBox=P_;nn.renderCallByParent=vW;function xW(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var bW=xW;const wW=Mt(bW);function zc(e){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zc(e)}var kW=["valueAccessor"],SW=["data","dataKey","clockWise","id","textBreakAll"];function jW(e){return PW(e)||NW(e)||_W(e)||OW()}function OW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _W(e,t){if(e){if(typeof e=="string")return Yg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yg(e,t)}}function NW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function PW(e){if(Array.isArray(e))return Yg(e)}function Yg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bd(){return bd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bd.apply(this,arguments)}function yw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yw(Object(r),!0).forEach(function(n){AW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AW(e,t,r){return t=MW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MW(e){var t=CW(e,"string");return zc(t)=="symbol"?t:t+""}function CW(e,t){if(zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xw(e,t){if(e==null)return{};var r=EW(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function EW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var TW=function(t){return Array.isArray(t.value)?wW(t.value):t.value};function Ra(e){var t=e.valueAccessor,r=t===void 0?TW:t,n=xw(e,kW),a=n.data,o=n.dataKey,i=n.clockWise,s=n.id,l=n.textBreakAll,c=xw(n,SW);return!a||!a.length?null:T.createElement(st,{className:"recharts-label-list"},a.map(function(f,d){var h=Le(o)?r(f,d):Nr(f&&f.payload,o),p=Le(s)?{}:{id:"".concat(s,"-").concat(d)};return T.createElement(nn,bd({},Be(f,!0),c,p,{parentViewBox:f.parentViewBox,value:h,textBreakAll:l,viewBox:nn.parseViewBox(Le(i)?f:vw(vw({},f),{},{clockWise:i})),key:"label-".concat(d),index:d}))}))}Ra.displayName="LabelList";function $W(e,t){return e?e===!0?T.createElement(Ra,{key:"labelList-implicit",data:t}):T.isValidElement(e)||Ge(e)?T.createElement(Ra,{key:"labelList-implicit",data:t,content:e}):qs(e)?T.createElement(Ra,bd({data:t},e,{key:"labelList-implicit"})):null:null}function DW(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=An(n,Ra).map(function(i,s){return j.cloneElement(i,{data:t,key:"labelList-".concat(s)})});if(!r)return a;var o=$W(e.label,t);return[o].concat(jW(a))}Ra.renderCallByParent=DW;function Uc(e){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uc(e)}function qg(){return qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qg.apply(this,arguments)}function bw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ww(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bw(Object(r),!0).forEach(function(n){RW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RW(e,t,r){return t=LW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LW(e){var t=IW(e,"string");return Uc(t)=="symbol"?t:t+""}function IW(e,t){if(Uc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BW=function(t,r){var n=xa(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Ju=function(t){var r=t.cx,n=t.cy,a=t.radius,o=t.angle,i=t.sign,s=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,f=l*(s?1:-1)+a,d=Math.asin(l/f)/xd,h=c?o:o+i*d,p=Gr(r,n,f,h),m=Gr(r,n,a,h),v=c?o-i*d:o,x=Gr(r,n,f*Math.cos(d*xd),v);return{center:p,circleTangency:m,lineTangency:x,theta:d}},A_=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,i=t.startAngle,s=t.endAngle,l=BW(i,s),c=i+l,f=Gr(r,n,o,i),d=Gr(r,n,o,c),h="M ".concat(f.x,",").concat(f.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(a>0){var p=Gr(r,n,a,i),m=Gr(r,n,a,c);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},FW=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,i=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,f=t.endAngle,d=xa(f-c),h=Ju({cx:r,cy:n,radius:o,angle:c,sign:d,cornerRadius:i,cornerIsExternal:l}),p=h.circleTangency,m=h.lineTangency,v=h.theta,x=Ju({cx:r,cy:n,radius:o,angle:f,sign:-d,cornerRadius:i,cornerIsExternal:l}),y=x.circleTangency,g=x.lineTangency,b=x.theta,S=l?Math.abs(c-f):Math.abs(c-f)-v-b;if(S<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):A_({cx:r,cy:n,innerRadius:a,outerRadius:o,startAngle:c,endAngle:f});var w="M ".concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(S>180),",").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
  `);if(a>0){var k=Ju({cx:r,cy:n,radius:a,angle:c,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),O=k.circleTangency,_=k.lineTangency,N=k.theta,P=Ju({cx:r,cy:n,radius:a,angle:f,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),A=P.circleTangency,$=P.lineTangency,C=P.theta,z=l?Math.abs(c-f):Math.abs(c-f)-N-C;if(z<0&&i===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat($.x,",").concat($.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(z>180),",").concat(+(d>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(_.x,",").concat(_.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},zW={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},M_=function(t){var r=ww(ww({},zW),t),n=r.cx,a=r.cy,o=r.innerRadius,i=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,f=r.startAngle,d=r.endAngle,h=r.className;if(i<o||f===d)return null;var p=tt("recharts-sector",h),m=i-o,v=ki(s,m,0,!0),x;return v>0&&Math.abs(f-d)<360?x=FW({cx:n,cy:a,innerRadius:o,outerRadius:i,cornerRadius:Math.min(v,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:f,endAngle:d}):x=A_({cx:n,cy:a,innerRadius:o,outerRadius:i,startAngle:f,endAngle:d}),T.createElement("path",qg({},Be(r,!0),{className:p,d:x,role:"img"}))};function Wc(e){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wc(e)}function Zg(){return Zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zg.apply(this,arguments)}function kw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kw(Object(r),!0).forEach(function(n){UW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UW(e,t,r){return t=WW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WW(e){var t=GW(e,"string");return Wc(t)=="symbol"?t:t+""}function GW(e,t){if(Wc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jw={curveBasisClosed:U5,curveBasisOpen:W5,curveBasis:z5,curveBumpX:N5,curveBumpY:P5,curveLinearClosed:G5,curveLinear:_h,curveMonotoneX:H5,curveMonotoneY:V5,curveNatural:X5,curveStep:K5,curveStepAfter:q5,curveStepBefore:Y5},ef=function(t){return t.x===+t.x&&t.y===+t.y},El=function(t){return t.x},Tl=function(t){return t.y},HW=function(t,r){if(Ge(t))return t;var n="curve".concat(jh(t));return(n==="curveMonotone"||n==="curveBump")&&r?jw["".concat(n).concat(r==="vertical"?"Y":"X")]:jw[n]||_h},VW=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,o=a===void 0?[]:a,i=t.baseLine,s=t.layout,l=t.connectNulls,c=l===void 0?!1:l,f=HW(n,s),d=c?o.filter(function(v){return ef(v)}):o,h;if(Array.isArray(i)){var p=c?i.filter(function(v){return ef(v)}):i,m=d.map(function(v,x){return Sw(Sw({},v),{},{base:p[x]})});return s==="vertical"?h=Gu().y(Tl).x1(El).x0(function(v){return v.base.x}):h=Gu().x(El).y1(Tl).y0(function(v){return v.base.y}),h.defined(ef).curve(f),h(m)}return s==="vertical"&&ue(i)?h=Gu().y(Tl).x1(El).x0(i):ue(i)?h=Gu().x(El).y1(Tl).y0(i):h=Cj().x(El).y(Tl),h.defined(ef).curve(f),h(d)},gi=function(t){var r=t.className,n=t.points,a=t.path,o=t.pathRef;if((!n||!n.length)&&!a)return null;var i=n&&n.length?VW(t):a;return j.createElement("path",Zg({},Be(t,!1),Gf(t),{className:tt("recharts-curve",r),d:i,ref:o}))},C_={exports:{}},XW="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",KW=XW,YW=KW;function E_(){}function T_(){}T_.resetWarningCache=E_;var qW=function(){function e(n,a,o,i,s,l){if(l!==YW){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:T_,resetWarningCache:E_};return r.PropTypes=r,r};C_.exports=qW();var ZW=C_.exports;const ft=Mt(ZW),{getOwnPropertyNames:QW,getOwnPropertySymbols:JW}=Object,{hasOwnProperty:eG}=Object.prototype;function Jp(e,t){return function(n,a,o){return e(n,a,o)&&t(n,a,o)}}function tf(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);const{cache:o}=a,i=o.get(r),s=o.get(n);if(i&&s)return i===n&&s===r;o.set(r,n),o.set(n,r);const l=e(r,n,a);return o.delete(r),o.delete(n),l}}function tG(e){return e!=null?e[Symbol.toStringTag]:void 0}function Ow(e){return QW(e).concat(JW(e))}const rG=Object.hasOwn||((e,t)=>eG.call(e,t));function $i(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const nG="__v",aG="__o",oG="_owner",{getOwnPropertyDescriptor:_w,keys:Nw}=Object;function iG(e,t){return e.byteLength===t.byteLength&&wd(new Uint8Array(e),new Uint8Array(t))}function sG(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function lG(e,t){return e.byteLength===t.byteLength&&wd(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function cG(e,t){return $i(e.getTime(),t.getTime())}function uG(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function fG(e,t){return e===t}function Pw(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),o=e.entries();let i,s,l=0;for(;(i=o.next())&&!i.done;){const c=t.entries();let f=!1,d=0;for(;(s=c.next())&&!s.done;){if(a[d]){d++;continue}const h=i.value,p=s.value;if(r.equals(h[0],p[0],l,d,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){f=a[d]=!0;break}d++}if(!f)return!1;l++}return!0}const dG=$i;function hG(e,t,r){const n=Nw(e);let a=n.length;if(Nw(t).length!==a)return!1;for(;a-- >0;)if(!$_(e,t,r,n[a]))return!1;return!0}function $l(e,t,r){const n=Ow(e);let a=n.length;if(Ow(t).length!==a)return!1;let o,i,s;for(;a-- >0;)if(o=n[a],!$_(e,t,r,o)||(i=_w(e,o),s=_w(t,o),(i||s)&&(!i||!s||i.configurable!==s.configurable||i.enumerable!==s.enumerable||i.writable!==s.writable)))return!1;return!0}function pG(e,t){return $i(e.valueOf(),t.valueOf())}function gG(e,t){return e.source===t.source&&e.flags===t.flags}function Aw(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),o=e.values();let i,s;for(;(i=o.next())&&!i.done;){const l=t.values();let c=!1,f=0;for(;(s=l.next())&&!s.done;){if(!a[f]&&r.equals(i.value,s.value,i.value,s.value,e,t,r)){c=a[f]=!0;break}f++}if(!c)return!1}return!0}function wd(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function mG(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function $_(e,t,r,n){return(n===oG||n===aG||n===nG)&&(e.$$typeof||t.$$typeof)?!0:rG(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const yG="[object ArrayBuffer]",vG="[object Arguments]",xG="[object Boolean]",bG="[object DataView]",wG="[object Date]",kG="[object Error]",SG="[object Map]",jG="[object Number]",OG="[object Object]",_G="[object RegExp]",NG="[object Set]",PG="[object String]",AG={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},MG="[object URL]",CG=Object.prototype.toString;function EG({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:a,areFunctionsEqual:o,areMapsEqual:i,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:f,areSetsEqual:d,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:m}){return function(x,y,g){if(x===y)return!0;if(x==null||y==null)return!1;const b=typeof x;if(b!==typeof y)return!1;if(b!=="object")return b==="number"?s(x,y,g):b==="function"?o(x,y,g):!1;const S=x.constructor;if(S!==y.constructor)return!1;if(S===Object)return l(x,y,g);if(Array.isArray(x))return t(x,y,g);if(S===Date)return n(x,y,g);if(S===RegExp)return f(x,y,g);if(S===Map)return i(x,y,g);if(S===Set)return d(x,y,g);const w=CG.call(x);if(w===wG)return n(x,y,g);if(w===_G)return f(x,y,g);if(w===SG)return i(x,y,g);if(w===NG)return d(x,y,g);if(w===OG)return typeof x.then!="function"&&typeof y.then!="function"&&l(x,y,g);if(w===MG)return p(x,y,g);if(w===kG)return a(x,y,g);if(w===vG)return l(x,y,g);if(AG[w])return h(x,y,g);if(w===yG)return e(x,y,g);if(w===bG)return r(x,y,g);if(w===xG||w===jG||w===PG)return c(x,y,g);if(m){let k=m[w];if(!k){const O=tG(x);O&&(k=m[O])}if(k)return k(x,y,g)}return!1}}function TG({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:iG,areArraysEqual:r?$l:sG,areDataViewsEqual:lG,areDatesEqual:cG,areErrorsEqual:uG,areFunctionsEqual:fG,areMapsEqual:r?Jp(Pw,$l):Pw,areNumbersEqual:dG,areObjectsEqual:r?$l:hG,arePrimitiveWrappersEqual:pG,areRegExpsEqual:gG,areSetsEqual:r?Jp(Aw,$l):Aw,areTypedArraysEqual:r?Jp(wd,$l):wd,areUrlsEqual:mG,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const a=tf(n.areArraysEqual),o=tf(n.areMapsEqual),i=tf(n.areObjectsEqual),s=tf(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:i,areSetsEqual:s})}return n}function $G(e){return function(t,r,n,a,o,i,s){return e(t,r,s)}}function DG({circular:e,comparator:t,createState:r,equals:n,strict:a}){if(r)return function(s,l){const{cache:c=e?new WeakMap:void 0,meta:f}=r();return t(s,l,{cache:c,equals:n,meta:f,strict:a})};if(e)return function(s,l){return t(s,l,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const o={cache:void 0,equals:n,meta:void 0,strict:a};return function(s,l){return t(s,l,o)}}const RG=Xo();Xo({strict:!0});Xo({circular:!0});Xo({circular:!0,strict:!0});Xo({createInternalComparator:()=>$i});Xo({strict:!0,createInternalComparator:()=>$i});Xo({circular:!0,createInternalComparator:()=>$i});Xo({circular:!0,createInternalComparator:()=>$i,strict:!0});function Xo(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:a=!1}=e,o=TG(e),i=EG(o),s=r?r(i):$G(i);return DG({circular:t,comparator:i,createState:n,equals:s,strict:a})}function LG(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function Mw(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(o){r<0&&(r=o),o-r>t?(e(o),r=-1):LG(a)};requestAnimationFrame(n)}function Qg(e){"@babel/helpers - typeof";return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qg(e)}function IG(e){return UG(e)||zG(e)||FG(e)||BG()}function BG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FG(e,t){if(e){if(typeof e=="string")return Cw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cw(e,t)}}function Cw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function UG(e){if(Array.isArray(e))return e}function WG(){var e={},t=function(){return null},r=!1,n=function a(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var i=o,s=IG(i),l=s[0],c=s.slice(1);if(typeof l=="number"){Mw(a.bind(null,c),l);return}a(l),Mw(a.bind(null,c));return}Qg(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function Gc(e){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gc(e)}function Ew(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ew(Object(r),!0).forEach(function(n){D_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ew(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function D_(e,t,r){return t=GG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GG(e){var t=HG(e,"string");return Gc(t)==="symbol"?t:String(t)}function HG(e,t){if(Gc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VG=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(o){return a.includes(o)})})},XG=function(t){return t},KG=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Jl=function(t,r){return Object.keys(r).reduce(function(n,a){return Tw(Tw({},n),{},D_({},a,t(a,r[a])))},{})},$w=function(t,r,n){return t.map(function(a){return"".concat(KG(a)," ").concat(r,"ms ").concat(n)}).join(",")};function YG(e,t){return QG(e)||ZG(e,t)||R_(e,t)||qG()}function qG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function QG(e){if(Array.isArray(e))return e}function JG(e){return rH(e)||tH(e)||R_(e)||eH()}function eH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R_(e,t){if(e){if(typeof e=="string")return Jg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jg(e,t)}}function tH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rH(e){if(Array.isArray(e))return Jg(e)}function Jg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var kd=1e-4,L_=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},I_=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},Dw=function(t,r){return function(n){var a=L_(t,r);return I_(a,n)}},nH=function(t,r){return function(n){var a=L_(t,r),o=[].concat(JG(a.map(function(i,s){return i*s}).slice(1)),[0]);return I_(o,n)}},Rw=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],o=r[1],i=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,o=0,i=1,s=1;break;case"ease":a=.25,o=.1,i=.25,s=1;break;case"ease-in":a=.42,o=0,i=1,s=1;break;case"ease-out":a=.42,o=0,i=.58,s=1;break;case"ease-in-out":a=0,o=0,i=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),f=YG(c,4);a=f[0],o=f[1],i=f[2],s=f[3]}}}var d=Dw(a,i),h=Dw(o,s),p=nH(a,i),m=function(y){return y>1?1:y<0?0:y},v=function(y){for(var g=y>1?1:y,b=g,S=0;S<8;++S){var w=d(b)-g,k=p(b);if(Math.abs(w-g)<kd||k<kd)return h(b);b=m(b-w/k)}return h(b)};return v.isStepper=!1,v},aH=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,o=a===void 0?8:a,i=t.dt,s=i===void 0?17:i,l=function(f,d,h){var p=-(f-d)*n,m=h*o,v=h+(p-m)*s/1e3,x=h*s/1e3+f;return Math.abs(x-d)<kd&&Math.abs(v)<kd?[d,0]:[x,v]};return l.isStepper=!0,l.dt=s,l},oH=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Rw(a);case"spring":return aH();default:if(a.split("(")[0]==="cubic-bezier")return Rw(a)}return typeof a=="function"?a:null};function Hc(e){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hc(e)}function Lw(e){return lH(e)||sH(e)||B_(e)||iH()}function iH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lH(e){if(Array.isArray(e))return tm(e)}function Iw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Iw(Object(r),!0).forEach(function(n){em(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Iw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function em(e,t,r){return t=cH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cH(e){var t=uH(e,"string");return Hc(t)==="symbol"?t:String(t)}function uH(e,t){if(Hc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fH(e,t){return pH(e)||hH(e,t)||B_(e,t)||dH()}function dH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B_(e,t){if(e){if(typeof e=="string")return tm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tm(e,t)}}function tm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function pH(e){if(Array.isArray(e))return e}var Sd=function(t,r,n){return t+(r-t)*n},rm=function(t){var r=t.from,n=t.to;return r!==n},gH=function e(t,r,n){var a=Jl(function(o,i){if(rm(i)){var s=t(i.from,i.to,i.velocity),l=fH(s,2),c=l[0],f=l[1];return zr(zr({},i),{},{from:c,velocity:f})}return i},r);return n<1?Jl(function(o,i){return rm(i)?zr(zr({},i),{},{velocity:Sd(i.velocity,a[o].velocity,n),from:Sd(i.from,a[o].from,n)}):i},r):e(t,a,n-1)};const mH=function(e,t,r,n,a){var o=VG(e,t),i=o.reduce(function(x,y){return zr(zr({},x),{},em({},y,[e[y],t[y]]))},{}),s=o.reduce(function(x,y){return zr(zr({},x),{},em({},y,{from:e[y],velocity:0,to:t[y]}))},{}),l=-1,c,f,d=function(){return null},h=function(){return Jl(function(y,g){return g.from},s)},p=function(){return!Object.values(s).filter(rm).length},m=function(y){c||(c=y);var g=y-c,b=g/r.dt;s=gH(r,s,b),a(zr(zr(zr({},e),t),h())),c=y,p()||(l=requestAnimationFrame(d))},v=function(y){f||(f=y);var g=(y-f)/n,b=Jl(function(w,k){return Sd.apply(void 0,Lw(k).concat([r(g)]))},i);if(a(zr(zr(zr({},e),t),b)),g<1)l=requestAnimationFrame(d);else{var S=Jl(function(w,k){return Sd.apply(void 0,Lw(k).concat([r(1)]))},i);a(zr(zr(zr({},e),t),S))}};return d=r.isStepper?m:v,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function As(e){"@babel/helpers - typeof";return As=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},As(e)}var yH=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function vH(e,t){if(e==null)return{};var r=xH(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xH(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function e0(e){return SH(e)||kH(e)||wH(e)||bH()}function bH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wH(e,t){if(e){if(typeof e=="string")return nm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nm(e,t)}}function kH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function SH(e){if(Array.isArray(e))return nm(e)}function nm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Bw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function da(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bw(Object(r),!0).forEach(function(n){Fl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fl(e,t,r){return t=F_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OH(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,F_(n.key),n)}}function _H(e,t,r){return t&&OH(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function F_(e){var t=NH(e,"string");return As(t)==="symbol"?t:String(t)}function NH(e,t){if(As(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(As(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&am(e,t)}function am(e,t){return am=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},am(e,t)}function AH(e){var t=MH();return function(){var n=jd(e),a;if(t){var o=jd(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return om(this,a)}}function om(e,t){if(t&&(As(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return im(e)}function im(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MH(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function jd(e){return jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jd(e)}var Sa=function(e){PH(r,e);var t=AH(r);function r(n,a){var o;jH(this,r),o=t.call(this,n,a);var i=o.props,s=i.isActive,l=i.attributeName,c=i.from,f=i.to,d=i.steps,h=i.children,p=i.duration;if(o.handleStyleChange=o.handleStyleChange.bind(im(o)),o.changeStyle=o.changeStyle.bind(im(o)),!s||p<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:f}),om(o);if(d&&d.length)o.state={style:d[0].style};else if(c){if(typeof h=="function")return o.state={style:c},om(o);o.state={style:l?Fl({},l,c):c}}else o.state={style:{}};return o}return _H(r,[{key:"componentDidMount",value:function(){var a=this.props,o=a.isActive,i=a.canBegin;this.mounted=!0,!(!o||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var o=this.props,i=o.isActive,s=o.canBegin,l=o.attributeName,c=o.shouldReAnimate,f=o.to,d=o.from,h=this.state.style;if(s){if(!i){var p={style:l?Fl({},l,f):f};this.state&&h&&(l&&h[l]!==f||!l&&h!==f)&&this.setState(p);return}if(!(RG(a.to,f)&&a.canBegin&&a.isActive)){var m=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=m||c?d:a.to;if(this.state&&h){var x={style:l?Fl({},l,v):v};(l&&h[l]!==v||!l&&h!==v)&&this.setState(x)}this.runAnimation(da(da({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var o=this,i=a.from,s=a.to,l=a.duration,c=a.easing,f=a.begin,d=a.onAnimationEnd,h=a.onAnimationStart,p=mH(i,s,oH(c),l,this.changeStyle),m=function(){o.stopJSAnimation=p()};this.manager.start([h,f,m,l,d])}},{key:"runStepAnimation",value:function(a){var o=this,i=a.steps,s=a.begin,l=a.onAnimationStart,c=i[0],f=c.style,d=c.duration,h=d===void 0?0:d,p=function(v,x,y){if(y===0)return v;var g=x.duration,b=x.easing,S=b===void 0?"ease":b,w=x.style,k=x.properties,O=x.onAnimationEnd,_=y>0?i[y-1]:x,N=k||Object.keys(w);if(typeof S=="function"||S==="spring")return[].concat(e0(v),[o.runJSAnimation.bind(o,{from:_.style,to:w,duration:g,easing:S}),g]);var P=$w(N,g,S),A=da(da(da({},_.style),w),{},{transition:P});return[].concat(e0(v),[A,g,O]).filter(XG)};return this.manager.start([l].concat(e0(i.reduce(p,[f,Math.max(h,s)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=WG());var o=a.begin,i=a.duration,s=a.attributeName,l=a.to,c=a.easing,f=a.onAnimationStart,d=a.onAnimationEnd,h=a.steps,p=a.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var v=s?Fl({},s,l):l,x=$w(Object.keys(v),i,c);m.start([f,o,da(da({},v),{},{transition:x}),i,d])}},{key:"render",value:function(){var a=this.props,o=a.children;a.begin;var i=a.duration;a.attributeName,a.easing;var s=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=vH(a,yH),c=j.Children.count(o),f=this.state.style;if(typeof o=="function")return o(f);if(!s||c===0||i<=0)return o;var d=function(p){var m=p.props,v=m.style,x=v===void 0?{}:v,y=m.className,g=j.cloneElement(p,da(da({},l),{},{style:da(da({},x),f),className:y}));return g};return c===1?d(j.Children.only(o)):T.createElement("div",null,j.Children.map(o,function(h){return d(h)}))}}]),r}(j.PureComponent);Sa.displayName="Animate";Sa.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Sa.propTypes={from:ft.oneOfType([ft.object,ft.string]),to:ft.oneOfType([ft.object,ft.string]),attributeName:ft.string,duration:ft.number,begin:ft.number,easing:ft.oneOfType([ft.string,ft.func]),steps:ft.arrayOf(ft.shape({duration:ft.number.isRequired,style:ft.object.isRequired,easing:ft.oneOfType([ft.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ft.func]),properties:ft.arrayOf("string"),onAnimationEnd:ft.func})),children:ft.oneOfType([ft.node,ft.func]),isActive:ft.bool,canBegin:ft.bool,onAnimationEnd:ft.func,shouldReAnimate:ft.bool,onAnimationStart:ft.func,onAnimationReStart:ft.func};function Vc(e){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vc(e)}function Od(){return Od=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Od.apply(this,arguments)}function CH(e,t){return DH(e)||$H(e,t)||TH(e,t)||EH()}function EH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TH(e,t){if(e){if(typeof e=="string")return Fw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fw(e,t)}}function Fw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $H(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function DH(e){if(Array.isArray(e))return e}function zw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Uw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zw(Object(r),!0).forEach(function(n){RH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RH(e,t,r){return t=LH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LH(e){var t=IH(e,"string");return Vc(t)=="symbol"?t:t+""}function IH(e,t){if(Vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ww=function(t,r,n,a,o){var i=Math.min(Math.abs(n)/2,Math.abs(a)/2),s=a>=0?1:-1,l=n>=0?1:-1,c=a>=0&&n>=0||a<0&&n<0?1:0,f;if(i>0&&o instanceof Array){for(var d=[0,0,0,0],h=0,p=4;h<p;h++)d[h]=o[h]>i?i:o[h];f="M".concat(t,",").concat(r+s*d[0]),d[0]>0&&(f+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(t+l*d[0],",").concat(r)),f+="L ".concat(t+n-l*d[1],",").concat(r),d[1]>0&&(f+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(r+s*d[1])),f+="L ".concat(t+n,",").concat(r+a-s*d[2]),d[2]>0&&(f+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(t+n-l*d[2],",").concat(r+a)),f+="L ".concat(t+l*d[3],",").concat(r+a),d[3]>0&&(f+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+a-s*d[3])),f+="Z"}else if(i>0&&o===+o&&o>0){var m=Math.min(i,o);f="M ".concat(t,",").concat(r+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+l*m,",").concat(r,`
            L `).concat(t+n-l*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n,",").concat(r+s*m,`
            L `).concat(t+n,",").concat(r+a-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n-l*m,",").concat(r+a,`
            L `).concat(t+l*m,",").concat(r+a,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t,",").concat(r+a-s*m," Z")}else f="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return f},BH=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,o=r.x,i=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(o,o+s),f=Math.max(o,o+s),d=Math.min(i,i+l),h=Math.max(i,i+l);return n>=c&&n<=f&&a>=d&&a<=h}return!1},FH={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ov=function(t){var r=Uw(Uw({},FH),t),n=j.useRef(),a=j.useState(-1),o=CH(a,2),i=o[0],s=o[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&s(S)}catch{}},[]);var l=r.x,c=r.y,f=r.width,d=r.height,h=r.radius,p=r.className,m=r.animationEasing,v=r.animationDuration,x=r.animationBegin,y=r.isAnimationActive,g=r.isUpdateAnimationActive;if(l!==+l||c!==+c||f!==+f||d!==+d||f===0||d===0)return null;var b=tt("recharts-rectangle",p);return g?T.createElement(Sa,{canBegin:i>0,from:{width:f,height:d,x:l,y:c},to:{width:f,height:d,x:l,y:c},duration:v,animationEasing:m,isActive:g},function(S){var w=S.width,k=S.height,O=S.x,_=S.y;return T.createElement(Sa,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:v,isActive:y,easing:m},T.createElement("path",Od({},Be(r,!0),{className:b,d:Ww(O,_,w,k,h),ref:n})))}):T.createElement("path",Od({},Be(r,!0),{className:b,d:Ww(l,c,f,d,h)}))};function sm(){return sm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sm.apply(this,arguments)}var zh=function(t){var r=t.cx,n=t.cy,a=t.r,o=t.className,i=tt("recharts-dot",o);return r===+r&&n===+n&&a===+a?j.createElement("circle",sm({},Be(t,!1),Gf(t),{className:i,cx:r,cy:n,r:a})):null};function Xc(e){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xc(e)}var zH=["x","y","top","left","width","height","className"];function lm(){return lm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lm.apply(this,arguments)}function Gw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function UH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gw(Object(r),!0).forEach(function(n){WH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WH(e,t,r){return t=GH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GH(e){var t=HH(e,"string");return Xc(t)=="symbol"?t:t+""}function HH(e,t){if(Xc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VH(e,t){if(e==null)return{};var r=XH(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function XH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var KH=function(t,r,n,a,o,i){return"M".concat(t,",").concat(o,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(n)},YH=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,o=a===void 0?0:a,i=t.top,s=i===void 0?0:i,l=t.left,c=l===void 0?0:l,f=t.width,d=f===void 0?0:f,h=t.height,p=h===void 0?0:h,m=t.className,v=VH(t,zH),x=UH({x:n,y:o,top:s,left:c,width:d,height:p},v);return!ue(n)||!ue(o)||!ue(d)||!ue(p)||!ue(s)||!ue(c)?null:T.createElement("path",lm({},Be(x,!0),{className:tt("recharts-cross",m),d:KH(n,o,d,p,s,c)}))},qH=tO,ZH=qH(Object.getPrototypeOf,Object),QH=ZH,JH=uo,eV=QH,tV=fo,rV="[object Object]",nV=Function.prototype,aV=Object.prototype,z_=nV.toString,oV=aV.hasOwnProperty,iV=z_.call(Object);function sV(e){if(!tV(e)||JH(e)!=rV)return!1;var t=eV(e);if(t===null)return!0;var r=oV.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&z_.call(r)==iV}var lV=sV;const cV=Mt(lV);var uV=uo,fV=fo,dV="[object Boolean]";function hV(e){return e===!0||e===!1||fV(e)&&uV(e)==dV}var pV=hV;const gV=Mt(pV);function Kc(e){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kc(e)}function _d(){return _d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_d.apply(this,arguments)}function mV(e,t){return bV(e)||xV(e,t)||vV(e,t)||yV()}function yV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vV(e,t){if(e){if(typeof e=="string")return Hw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hw(e,t)}}function Hw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function bV(e){if(Array.isArray(e))return e}function Vw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vw(Object(r),!0).forEach(function(n){wV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wV(e,t,r){return t=kV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kV(e){var t=SV(e,"string");return Kc(t)=="symbol"?t:t+""}function SV(e,t){if(Kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kw=function(t,r,n,a,o){var i=n-a,s;return s="M ".concat(t,",").concat(r),s+="L ".concat(t+n,",").concat(r),s+="L ".concat(t+n-i/2,",").concat(r+o),s+="L ".concat(t+n-i/2-a,",").concat(r+o),s+="L ".concat(t,",").concat(r," Z"),s},jV={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},OV=function(t){var r=Xw(Xw({},jV),t),n=j.useRef(),a=j.useState(-1),o=mV(a,2),i=o[0],s=o[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&s(b)}catch{}},[]);var l=r.x,c=r.y,f=r.upperWidth,d=r.lowerWidth,h=r.height,p=r.className,m=r.animationEasing,v=r.animationDuration,x=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||c!==+c||f!==+f||d!==+d||h!==+h||f===0&&d===0||h===0)return null;var g=tt("recharts-trapezoid",p);return y?T.createElement(Sa,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:f,lowerWidth:d,height:h,x:l,y:c},duration:v,animationEasing:m,isActive:y},function(b){var S=b.upperWidth,w=b.lowerWidth,k=b.height,O=b.x,_=b.y;return T.createElement(Sa,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:v,easing:m},T.createElement("path",_d({},Be(r,!0),{className:g,d:Kw(O,_,S,w,k),ref:n})))}):T.createElement("g",null,T.createElement("path",_d({},Be(r,!0),{className:g,d:Kw(l,c,f,d,h)})))},_V=["option","shapeType","propTransformer","activeClassName","isActive"];function Yc(e){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yc(e)}function NV(e,t){if(e==null)return{};var r=PV(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Yw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yw(Object(r),!0).forEach(function(n){AV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AV(e,t,r){return t=MV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MV(e){var t=CV(e,"string");return Yc(t)=="symbol"?t:t+""}function CV(e,t){if(Yc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EV(e,t){return Nd(Nd({},t),e)}function TV(e,t){return e==="symbols"}function qw(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return T.createElement(Ov,r);case"trapezoid":return T.createElement(OV,r);case"sector":return T.createElement(M_,r);case"symbols":if(TV(t))return T.createElement(Ph,r);break;default:return null}}function $V(e){return j.isValidElement(e)?e.props:e}function cm(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?EV:n,o=e.activeClassName,i=o===void 0?"recharts-active-shape":o,s=e.isActive,l=NV(e,_V),c;if(j.isValidElement(t))c=j.cloneElement(t,Nd(Nd({},l),$V(t)));else if(Ge(t))c=t(l);else if(cV(t)&&!gV(t)){var f=a(t,l);c=T.createElement(qw,{shapeType:r,elementProps:f})}else{var d=l;c=T.createElement(qw,{shapeType:r,elementProps:d})}return s?T.createElement(st,{className:i},c):c}function Uh(e,t){return t!=null&&"trapezoids"in e.props}function Wh(e,t){return t!=null&&"sectors"in e.props}function qc(e,t){return t!=null&&"points"in e.props}function DV(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,o=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&o}function RV(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function LV(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function IV(e,t){var r;return Uh(e,t)?r=DV:Wh(e,t)?r=RV:qc(e,t)&&(r=LV),r}function BV(e,t){var r;return Uh(e,t)?r="trapezoids":Wh(e,t)?r="sectors":qc(e,t)&&(r="points"),r}function FV(e,t){if(Uh(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Wh(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return qc(e,t)?t.payload:{}}function zV(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=BV(r,t),o=FV(r,t),i=n.filter(function(l,c){var f=Si(o,l),d=r.props[a].filter(function(m){var v=IV(r,t);return v(m,t)}),h=r.props[a].indexOf(d[d.length-1]),p=c===h;return f&&p}),s=n.indexOf(i[i.length-1]);return s}var UV=Math.ceil,WV=Math.max;function GV(e,t,r,n){for(var a=-1,o=WV(UV((t-e)/(r||1)),0),i=Array(o);o--;)i[n?o:++a]=e,e+=r;return i}var HV=GV,VV=bO,Zw=1/0,XV=17976931348623157e292;function KV(e){if(!e)return e===0?e:0;if(e=VV(e),e===Zw||e===-Zw){var t=e<0?-1:1;return t*XV}return e===e?e:0}var U_=KV,YV=HV,qV=Ch,t0=U_;function ZV(e){return function(t,r,n){return n&&typeof n!="number"&&qV(t,r,n)&&(r=n=void 0),t=t0(t),r===void 0?(r=t,t=0):r=t0(r),n=n===void 0?t<r?1:-1:t0(n),YV(t,r,n,e)}}var QV=ZV,JV=QV,eX=JV(),tX=eX;const Pd=Mt(tX);function Zc(e){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zc(e)}function Qw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qw(Object(r),!0).forEach(function(n){W_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W_(e,t,r){return t=rX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rX(e){var t=nX(e,"string");return Zc(t)=="symbol"?t:t+""}function nX(e,t){if(Zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aX=["Webkit","Moz","O","ms"],oX=function(t,r){var n=t.replace(/(\w)/,function(o){return o.toUpperCase()}),a=aX.reduce(function(o,i){return Jw(Jw({},o),{},W_({},i+n,r))},{});return a[t]=r,a};function Ms(e){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ms(e)}function Ad(){return Ad=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ad.apply(this,arguments)}function e2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function r0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e2(Object(r),!0).forEach(function(n){Dn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,H_(n.key),n)}}function sX(e,t,r){return t&&t2(e.prototype,t),r&&t2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lX(e,t,r){return t=Md(t),cX(e,G_()?Reflect.construct(t,r||[],Md(e).constructor):t.apply(e,r))}function cX(e,t){if(t&&(Ms(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uX(e)}function uX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G_=function(){return!!e})()}function Md(e){return Md=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Md(e)}function fX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&um(e,t)}function um(e,t){return um=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},um(e,t)}function Dn(e,t,r){return t=H_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H_(e){var t=dX(e,"string");return Ms(t)=="symbol"?t:t+""}function dX(e,t){if(Ms(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ms(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var hX=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,o=t.x,i=t.width,s=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=Zl().domain(Pd(0,l)).range([o,o+i-s]),f=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(a),scale:c,scaleValues:f}},r2=function(t){return t.changedTouches&&!!t.changedTouches.length},Cs=function(e){function t(r){var n;return iX(this,t),n=lX(this,t,[r]),Dn(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Dn(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Dn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,o=a.endIndex,i=a.onDragEnd,s=a.startIndex;i==null||i({endIndex:o,startIndex:s})}),n.detachDragEndListener()}),Dn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Dn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Dn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Dn(n,"handleSlideDragStart",function(a){var o=r2(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return fX(t,e),sX(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,o=n.endX,i=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,f=c.length-1,d=Math.min(a,o),h=Math.max(a,o),p=t.getIndexInRange(i,d),m=t.getIndexInRange(i,h);return{startIndex:p-p%l,endIndex:m===f?f:m-m%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,o=a.data,i=a.tickFormatter,s=a.dataKey,l=Nr(o[n],s,n);return Ge(i)?i(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,o=a.slideMoveStartX,i=a.startX,s=a.endX,l=this.props,c=l.x,f=l.width,d=l.travellerWidth,h=l.startIndex,p=l.endIndex,m=l.onChange,v=n.pageX-o;v>0?v=Math.min(v,c+f-d-s,c+f-d-i):v<0&&(v=Math.max(v,c-i,c-s));var x=this.getIndex({startX:i+v,endX:s+v});(x.startIndex!==h||x.endIndex!==p)&&m&&m(x),this.setState({startX:i+v,endX:s+v,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var o=r2(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,o=a.brushMoveStartX,i=a.movingTravellerId,s=a.endX,l=a.startX,c=this.state[i],f=this.props,d=f.x,h=f.width,p=f.travellerWidth,m=f.onChange,v=f.gap,x=f.data,y={startX:this.state.startX,endX:this.state.endX},g=n.pageX-o;g>0?g=Math.min(g,d+h-p-c):g<0&&(g=Math.max(g,d-c)),y[i]=c+g;var b=this.getIndex(y),S=b.startIndex,w=b.endIndex,k=function(){var _=x.length-1;return i==="startX"&&(s>l?S%v===0:w%v===0)||s<l&&w===_||i==="endX"&&(s>l?w%v===0:S%v===0)||s>l&&w===_};this.setState(Dn(Dn({},i,c+g),"brushMoveStartX",n.pageX),function(){m&&k()&&m(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var o=this,i=this.state,s=i.scaleValues,l=i.startX,c=i.endX,f=this.state[a],d=s.indexOf(f);if(d!==-1){var h=d+n;if(!(h===-1||h>=s.length)){var p=s[h];a==="startX"&&p>=c||a==="endX"&&p<=l||this.setState(Dn({},a,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.fill,c=n.stroke;return T.createElement("rect",{stroke:c,fill:l,x:a,y:o,width:i,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.data,c=n.children,f=n.padding,d=j.Children.only(c);return d?T.cloneElement(d,{x:a,y:o,width:i,height:s,margin:f,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var o,i,s=this,l=this.props,c=l.y,f=l.travellerWidth,d=l.height,h=l.traveller,p=l.ariaLabel,m=l.data,v=l.startIndex,x=l.endIndex,y=Math.max(n,this.props.x),g=r0(r0({},Be(this.props,!1)),{},{x:y,y:c,width:f,height:d}),b=p||"Min value: ".concat((o=m[v])===null||o===void 0?void 0:o.name,", Max value: ").concat((i=m[x])===null||i===void 0?void 0:i.name);return T.createElement(st,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),s.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,a))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,g))}},{key:"renderSlide",value:function(n,a){var o=this.props,i=o.y,s=o.height,l=o.stroke,c=o.travellerWidth,f=Math.min(n,a)+c,d=Math.max(Math.abs(a-n)-c,0);return T.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:f,y:i,width:d,height:s})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,o=n.endIndex,i=n.y,s=n.height,l=n.travellerWidth,c=n.stroke,f=this.state,d=f.startX,h=f.endX,p=5,m={pointerEvents:"none",fill:c};return T.createElement(st,{className:"recharts-brush-texts"},T.createElement(ad,Ad({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-p,y:i+s/2},m),this.getTextOfTick(a)),T.createElement(ad,Ad({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+p,y:i+s/2},m),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,a=n.data,o=n.className,i=n.children,s=n.x,l=n.y,c=n.width,f=n.height,d=n.alwaysShowText,h=this.state,p=h.startX,m=h.endX,v=h.isTextActive,x=h.isSlideMoving,y=h.isTravellerMoving,g=h.isTravellerFocused;if(!a||!a.length||!ue(s)||!ue(l)||!ue(c)||!ue(f)||c<=0||f<=0)return null;var b=tt("recharts-brush",o),S=T.Children.count(i)===1,w=oX("userSelect","none");return T.createElement(st,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(v||x||y||g||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,o=n.y,i=n.width,s=n.height,l=n.stroke,c=Math.floor(o+s/2)-1;return T.createElement(T.Fragment,null,T.createElement("rect",{x:a,y:o,width:i,height:s,fill:l,stroke:"none"}),T.createElement("line",{x1:a+1,y1:c,x2:a+i-1,y2:c,fill:"none",stroke:"#fff"}),T.createElement("line",{x1:a+1,y1:c+2,x2:a+i-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var o;return T.isValidElement(n)?o=T.cloneElement(n,a):Ge(n)?o=n(a):o=t.renderDefaultTraveller(a),o}},{key:"getDerivedStateFromProps",value:function(n,a){var o=n.data,i=n.width,s=n.x,l=n.travellerWidth,c=n.updateId,f=n.startIndex,d=n.endIndex;if(o!==a.prevData||c!==a.prevUpdateId)return r0({prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:i},o&&o.length?hX({data:o,width:i,x:s,travellerWidth:l,startIndex:f,endIndex:d}):{scale:null,scaleValues:null});if(a.scale&&(i!==a.prevWidth||s!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([s,s+i-l]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:i,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var o=n.length,i=0,s=o-1;s-i>1;){var l=Math.floor((i+s)/2);n[l]>a?s=l:i=l}return a>=n[s]?s:i}}])}(j.PureComponent);Dn(Cs,"displayName","Brush");Dn(Cs,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var pX=qy;function gX(e,t){var r;return pX(e,function(n,a,o){return r=t(n,a,o),!r}),!!r}var mX=gX,yX=Xj,vX=Wo,xX=mX,bX=Mn,wX=Ch;function kX(e,t,r){var n=bX(e)?yX:xX;return r&&wX(e,t,r)&&(t=void 0),n(e,vX(t))}var SX=kX;const jX=Mt(SX);var La=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},n2=gO;function OX(e,t,r){t=="__proto__"&&n2?n2(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var _X=OX,NX=_X,PX=hO,AX=Wo;function MX(e,t){var r={};return t=AX(t),PX(e,function(n,a,o){NX(r,a,t(n,a,o))}),r}var CX=MX;const EX=Mt(CX);function TX(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var $X=TX,DX=qy;function RX(e,t){var r=!0;return DX(e,function(n,a,o){return r=!!t(n,a,o),r}),r}var LX=RX,IX=$X,BX=LX,FX=Wo,zX=Mn,UX=Ch;function WX(e,t,r){var n=zX(e)?IX:BX;return r&&UX(e,t,r)&&(t=void 0),n(e,FX(t))}var GX=WX;const V_=Mt(GX);var HX=["x","y"];function Qc(e){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qc(e)}function fm(){return fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fm.apply(this,arguments)}function a2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a2(Object(r),!0).forEach(function(n){VX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VX(e,t,r){return t=XX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XX(e){var t=KX(e,"string");return Qc(t)=="symbol"?t:t+""}function KX(e,t){if(Qc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YX(e,t){if(e==null)return{};var r=qX(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qX(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ZX(e,t){var r=e.x,n=e.y,a=YX(e,HX),o="".concat(r),i=parseInt(o,10),s="".concat(n),l=parseInt(s,10),c="".concat(t.height||a.height),f=parseInt(c,10),d="".concat(t.width||a.width),h=parseInt(d,10);return Dl(Dl(Dl(Dl(Dl({},t),a),i?{x:i}:{}),l?{y:l}:{}),{},{height:f,width:h,name:t.name,radius:t.radius})}function o2(e){return T.createElement(cm,fm({shapeType:"rectangle",propTransformer:ZX,activeClassName:"recharts-active-bar"},e))}var QX=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var o=ue(n)||d$(n);return o?t(n,a):(o||Oi(),r)}},JX=["value","background"],X_;function Es(e){"@babel/helpers - typeof";return Es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Es(e)}function eK(e,t){if(e==null)return{};var r=tK(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Cd(){return Cd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cd.apply(this,arguments)}function i2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i2(Object(r),!0).forEach(function(n){Oo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Y_(n.key),n)}}function nK(e,t,r){return t&&s2(e.prototype,t),r&&s2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function aK(e,t,r){return t=Ed(t),oK(e,K_()?Reflect.construct(t,r||[],Ed(e).constructor):t.apply(e,r))}function oK(e,t){if(t&&(Es(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iK(e)}function iK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K_=function(){return!!e})()}function Ed(e){return Ed=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ed(e)}function sK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dm(e,t)}function dm(e,t){return dm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},dm(e,t)}function Oo(e,t,r){return t=Y_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y_(e){var t=lK(e,"string");return Es(t)=="symbol"?t:t+""}function lK(e,t){if(Es(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Es(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var pu=function(e){function t(){var r;rK(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=aK(this,t,[].concat(a)),Oo(r,"state",{isAnimationFinished:!1}),Oo(r,"id",Ci("recharts-bar-")),Oo(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),i&&i()}),Oo(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),i&&i()}),r}return sK(t,e),nK(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,o=this.props,i=o.shape,s=o.dataKey,l=o.activeIndex,c=o.activeBar,f=Be(this.props,!1);return n&&n.map(function(d,h){var p=h===l,m=p?c:i,v=mr(mr(mr({},f),d),{},{isActive:p,option:m,index:h,dataKey:s,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return T.createElement(st,Cd({className:"recharts-bar-rectangle"},wc(a.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),T.createElement(o2,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,o=a.data,i=a.layout,s=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,f=a.animationEasing,d=a.animationId,h=this.state.prevData;return T.createElement(Sa,{begin:l,duration:c,isActive:s,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,v=o.map(function(x,y){var g=h&&h[y];if(g){var b=dr(g.x,x.x),S=dr(g.y,x.y),w=dr(g.width,x.width),k=dr(g.height,x.height);return mr(mr({},x),{},{x:b(m),y:S(m),width:w(m),height:k(m)})}if(i==="horizontal"){var O=dr(0,x.height),_=O(m);return mr(mr({},x),{},{y:x.y+x.height-_,height:_})}var N=dr(0,x.width),P=N(m);return mr(mr({},x),{},{width:P})});return T.createElement(st,null,n.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,o=n.isAnimationActive,i=this.state.prevData;return o&&a&&a.length&&(!i||!Si(i,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,o=a.data,i=a.dataKey,s=a.activeIndex,l=Be(this.props.background,!1);return o.map(function(c,f){c.value;var d=c.background,h=eK(c,JX);if(!d)return null;var p=mr(mr(mr(mr(mr({},h),{},{fill:"#eee"},d),l),wc(n.props,c,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:i,index:f,className:"recharts-bar-background-rectangle"});return T.createElement(o2,Cd({key:"background-bar-".concat(f),option:n.props.background,isActive:f===s},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.data,s=o.xAxis,l=o.yAxis,c=o.layout,f=o.children,d=An(f,sl);if(!d)return null;var h=c==="vertical"?i[0].height/2:i[0].width/2,p=function(x,y){var g=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:g,errorVal:Nr(x,y)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return T.createElement(st,m,d.map(function(v){return T.cloneElement(v,{key:"error-bar-".concat(a,"-").concat(v.props.dataKey),data:i,xAxis:s,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,o=n.data,i=n.className,s=n.xAxis,l=n.yAxis,c=n.left,f=n.top,d=n.width,h=n.height,p=n.isAnimationActive,m=n.background,v=n.id;if(a||!o||!o.length)return null;var x=this.state.isAnimationFinished,y=tt("recharts-bar",i),g=s&&s.allowDataOverflow,b=l&&l.allowDataOverflow,S=g||b,w=Le(v)?this.id:v;return T.createElement(st,{className:y},g||b?T.createElement("defs",null,T.createElement("clipPath",{id:"clipPath-".concat(w)},T.createElement("rect",{x:g?c:c-d/2,y:b?f:f-h/2,width:g?d:d*2,height:b?h:h*2}))):null,T.createElement(st,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(w,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,w),(!p||x)&&Ra.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(j.PureComponent);X_=pu;Oo(pu,"displayName","Bar");Oo(pu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Go.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Oo(pu,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,o=e.xAxis,i=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,f=e.dataStartIndex,d=e.displayedData,h=e.offset,p=DU(n,r);if(!p)return null;var m=t.layout,v=r.type.defaultProps,x=v!==void 0?mr(mr({},v),r.props):r.props,y=x.dataKey,g=x.children,b=x.minPointSize,S=m==="horizontal"?i:o,w=c?S.scale.domain():null,k=WU({numericAxis:S}),O=An(g,Jy),_=d.map(function(N,P){var A,$,C,z,E,U;c?A=RU(c[f+P],w):(A=Nr(N,y),Array.isArray(A)||(A=[k,A]));var M=QX(b,X_.defaultProps.minPointSize)(A[1],P);if(m==="horizontal"){var B,L=[i.scale(A[0]),i.scale(A[1])],X=L[0],te=L[1];$=cw({axis:o,ticks:s,bandSize:a,offset:p.offset,entry:N,index:P}),C=(B=te??X)!==null&&B!==void 0?B:void 0,z=p.size;var Z=X-te;if(E=Number.isNaN(Z)?0:Z,U={x:$,y:i.y,width:z,height:i.height},Math.abs(M)>0&&Math.abs(E)<Math.abs(M)){var I=xa(E||M)*(Math.abs(M)-Math.abs(E));C-=I,E+=I}}else{var G=[o.scale(A[0]),o.scale(A[1])],oe=G[0],q=G[1];if($=oe,C=cw({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:N,index:P}),z=q-oe,E=p.size,U={x:o.x,y:C,width:o.width,height:E},Math.abs(M)>0&&Math.abs(z)<Math.abs(M)){var ke=xa(z||M)*(Math.abs(M)-Math.abs(z));z+=ke}}return mr(mr(mr({},N),{},{x:$,y:C,width:z,height:E,value:c?A:A[1],payload:N,background:U},O&&O[P]&&O[P].props),{},{tooltipPayload:[N_(r,N)],tooltipPosition:{x:$+z/2,y:C+E/2}})});return mr({data:_,layout:m},h)});function Jc(e){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jc(e)}function cK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,q_(n.key),n)}}function uK(e,t,r){return t&&l2(e.prototype,t),r&&l2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function c2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ga(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c2(Object(r),!0).forEach(function(n){Gh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gh(e,t,r){return t=q_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q_(e){var t=fK(e,"string");return Jc(t)=="symbol"?t:t+""}function fK(e,t){if(Jc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _v=function(t,r,n,a,o){var i=t.width,s=t.height,l=t.layout,c=t.children,f=Object.keys(r),d={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!Ln(c,pu);return f.reduce(function(p,m){var v=r[m],x=v.orientation,y=v.domain,g=v.padding,b=g===void 0?{}:g,S=v.mirror,w=v.reversed,k="".concat(x).concat(S?"Mirror":""),O,_,N,P,A;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var $=y[1]-y[0],C=1/0,z=v.categoricalDomain.sort(m$);if(z.forEach(function(G,oe){oe>0&&(C=Math.min((G||0)-(z[oe-1]||0),C))}),Number.isFinite(C)){var E=C/$,U=v.layout==="vertical"?n.height:n.width;if(v.padding==="gap"&&(O=E*U/2),v.padding==="no-gap"){var M=ki(t.barCategoryGap,E*U),B=E*U/2;O=B-M-(B-M)/U*M}}}a==="xAxis"?_=[n.left+(b.left||0)+(O||0),n.left+n.width-(b.right||0)-(O||0)]:a==="yAxis"?_=l==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(O||0),n.top+n.height-(b.bottom||0)-(O||0)]:_=v.range,w&&(_=[_[1],_[0]]);var L=TU(v,o,h),X=L.scale,te=L.realScaleType;X.domain(y).range(_),$U(X);var Z=UU(X,ga(ga({},v),{},{realScaleType:te}));a==="xAxis"?(A=x==="top"&&!S||x==="bottom"&&S,N=n.left,P=d[k]-A*v.height):a==="yAxis"&&(A=x==="left"&&!S||x==="right"&&S,N=d[k]-A*v.width,P=n.top);var I=ga(ga(ga({},v),Z),{},{realScaleType:te,x:N,y:P,scale:X,width:a==="xAxis"?n.width:v.width,height:a==="yAxis"?n.height:v.height});return I.bandSize=vd(I,Z),!v.hide&&a==="xAxis"?d[k]+=(A?-1:1)*I.height:v.hide||(d[k]+=(A?-1:1)*I.width),ga(ga({},p),{},Gh({},m,I))},{})},Z_=function(t,r){var n=t.x,a=t.y,o=r.x,i=r.y;return{x:Math.min(n,o),y:Math.min(a,i),width:Math.abs(o-n),height:Math.abs(i-a)}},dK=function(t){var r=t.x1,n=t.y1,a=t.x2,o=t.y2;return Z_({x:r,y:n},{x:a,y:o})},Q_=function(){function e(t){cK(this,e),this.scale=t}return uK(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],o=n[n.length-1];return a<=o?r>=a&&r<=o:r>=o&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Gh(Q_,"EPS",1e-4);var Nv=function(t){var r=Object.keys(t).reduce(function(n,a){return ga(ga({},n),{},Gh({},a,Q_.create(t[a])))},{});return ga(ga({},r),{},{apply:function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=o.bandAware,s=o.position;return EX(a,function(l,c){return r[c].apply(l,{bandAware:i,position:s})})},isInRange:function(a){return V_(a,function(o,i){return r[i].isInRange(o)})}})};function hK(e){return(e%180+180)%180}var pK=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=hK(a),i=o*Math.PI/180,s=Math.atan(n/r),l=i>s&&i<Math.PI-s?n/Math.sin(i):r/Math.cos(i);return Math.abs(l)},gK=Wo,mK=cu,yK=Ah;function vK(e){return function(t,r,n){var a=Object(t);if(!mK(t)){var o=gK(r);t=yK(t),r=function(s){return o(a[s],s,a)}}var i=e(t,r,n);return i>-1?a[o?t[i]:i]:void 0}}var xK=vK,bK=U_;function wK(e){var t=bK(e),r=t%1;return t===t?r?t-r:t:0}var kK=wK,SK=sO,jK=Wo,OK=kK,_K=Math.max;function NK(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:OK(r);return a<0&&(a=_K(n+a,0)),SK(e,jK(t),a)}var PK=NK,AK=xK,MK=PK,CK=AK(MK),EK=CK;const TK=Mt(EK);var $K=vT(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Pv=j.createContext(void 0),Av=j.createContext(void 0),J_=j.createContext(void 0),eN=j.createContext({}),tN=j.createContext(void 0),rN=j.createContext(0),nN=j.createContext(0),u2=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,o=r.offset,i=t.clipPathId,s=t.children,l=t.width,c=t.height,f=$K(o);return T.createElement(Pv.Provider,{value:n},T.createElement(Av.Provider,{value:a},T.createElement(eN.Provider,{value:o},T.createElement(J_.Provider,{value:f},T.createElement(tN.Provider,{value:i},T.createElement(rN.Provider,{value:c},T.createElement(nN.Provider,{value:l},s)))))))},DK=function(){return j.useContext(tN)},aN=function(t){var r=j.useContext(Pv);r==null&&Oi();var n=r[t];return n==null&&Oi(),n},RK=function(){var t=j.useContext(Pv);return wo(t)},LK=function(){var t=j.useContext(Av),r=TK(t,function(n){return V_(n.domain,Number.isFinite)});return r||wo(t)},oN=function(t){var r=j.useContext(Av);r==null&&Oi();var n=r[t];return n==null&&Oi(),n},IK=function(){var t=j.useContext(J_);return t},BK=function(){return j.useContext(eN)},Mv=function(){return j.useContext(nN)},Cv=function(){return j.useContext(rN)};function Ts(e){"@babel/helpers - typeof";return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ts(e)}function FK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sN(n.key),n)}}function UK(e,t,r){return t&&zK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function WK(e,t,r){return t=Td(t),GK(e,iN()?Reflect.construct(t,r||[],Td(e).constructor):t.apply(e,r))}function GK(e,t){if(t&&(Ts(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HK(e)}function HK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iN=function(){return!!e})()}function Td(e){return Td=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Td(e)}function VK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hm(e,t)}function hm(e,t){return hm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hm(e,t)}function f2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function d2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f2(Object(r),!0).forEach(function(n){Ev(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ev(e,t,r){return t=sN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sN(e){var t=XK(e,"string");return Ts(t)=="symbol"?t:t+""}function XK(e,t){if(Ts(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ts(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function KK(e,t){return QK(e)||ZK(e,t)||qK(e,t)||YK()}function YK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qK(e,t){if(e){if(typeof e=="string")return h2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h2(e,t)}}function h2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ZK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function QK(e){if(Array.isArray(e))return e}function pm(){return pm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pm.apply(this,arguments)}var JK=function(t,r){var n;return T.isValidElement(t)?n=T.cloneElement(t,r):Ge(t)?n=t(r):n=T.createElement("line",pm({},r,{className:"recharts-reference-line-line"})),n},eY=function(t,r,n,a,o,i,s,l,c){var f=o.x,d=o.y,h=o.width,p=o.height;if(n){var m=c.y,v=t.y.apply(m,{position:i});if(La(c,"discard")&&!t.y.isInRange(v))return null;var x=[{x:f+h,y:v},{x:f,y:v}];return l==="left"?x.reverse():x}if(r){var y=c.x,g=t.x.apply(y,{position:i});if(La(c,"discard")&&!t.x.isInRange(g))return null;var b=[{x:g,y:d+p},{x:g,y:d}];return s==="top"?b.reverse():b}if(a){var S=c.segment,w=S.map(function(k){return t.apply(k,{position:i})});return La(c,"discard")&&jX(w,function(k){return!t.isInRange(k)})?null:w}return null};function tY(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,o=e.yAxisId,i=e.shape,s=e.className,l=e.alwaysShow,c=DK(),f=aN(a),d=oN(o),h=IK();if(!c||!h)return null;Ja(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Nv({x:f.scale,y:d.scale}),m=_r(t),v=_r(r),x=n&&n.length===2,y=eY(p,m,v,x,h,e.position,f.orientation,d.orientation,e);if(!y)return null;var g=KK(y,2),b=g[0],S=b.x,w=b.y,k=g[1],O=k.x,_=k.y,N=La(e,"hidden")?"url(#".concat(c,")"):void 0,P=d2(d2({clipPath:N},Be(e,!0)),{},{x1:S,y1:w,x2:O,y2:_});return T.createElement(st,{className:tt("recharts-reference-line",s)},JK(i,P),nn.renderCallByParent(e,dK({x1:S,y1:w,x2:O,y2:_})))}var li=function(e){function t(){return FK(this,t),WK(this,t,arguments)}return VK(t,e),UK(t,[{key:"render",value:function(){return T.createElement(tY,this.props)}}])}(T.Component);Ev(li,"displayName","ReferenceLine");Ev(li,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function gm(){return gm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gm.apply(this,arguments)}function $s(e){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$s(e)}function p2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function g2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p2(Object(r),!0).forEach(function(n){Hh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cN(n.key),n)}}function aY(e,t,r){return t&&nY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function oY(e,t,r){return t=$d(t),iY(e,lN()?Reflect.construct(t,r||[],$d(e).constructor):t.apply(e,r))}function iY(e,t){if(t&&($s(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sY(e)}function sY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lN=function(){return!!e})()}function $d(e){return $d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$d(e)}function lY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mm(e,t)}function mm(e,t){return mm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},mm(e,t)}function Hh(e,t,r){return t=cN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cN(e){var t=cY(e,"string");return $s(t)=="symbol"?t:t+""}function cY(e,t){if($s(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var uY=function(t){var r=t.x,n=t.y,a=t.xAxis,o=t.yAxis,i=Nv({x:a.scale,y:o.scale}),s=i.apply({x:r,y:n},{bandAware:!0});return La(t,"discard")&&!i.isInRange(s)?null:s},Vh=function(e){function t(){return rY(this,t),oY(this,t,arguments)}return lY(t,e),aY(t,[{key:"render",value:function(){var n=this.props,a=n.x,o=n.y,i=n.r,s=n.alwaysShow,l=n.clipPathId,c=_r(a),f=_r(o);if(Ja(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!f)return null;var d=uY(this.props);if(!d)return null;var h=d.x,p=d.y,m=this.props,v=m.shape,x=m.className,y=La(this.props,"hidden")?"url(#".concat(l,")"):void 0,g=g2(g2({clipPath:y},Be(this.props,!0)),{},{cx:h,cy:p});return T.createElement(st,{className:tt("recharts-reference-dot",x)},t.renderDot(v,g),nn.renderCallByParent(this.props,{x:h-i,y:p-i,width:2*i,height:2*i}))}}])}(T.Component);Hh(Vh,"displayName","ReferenceDot");Hh(Vh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Hh(Vh,"renderDot",function(e,t){var r;return T.isValidElement(e)?r=T.cloneElement(e,t):Ge(e)?r=e(t):r=T.createElement(zh,gm({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function ym(){return ym=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ym.apply(this,arguments)}function Ds(e){"@babel/helpers - typeof";return Ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ds(e)}function m2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function y2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m2(Object(r),!0).forEach(function(n){Xh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fN(n.key),n)}}function hY(e,t,r){return t&&dY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pY(e,t,r){return t=Dd(t),gY(e,uN()?Reflect.construct(t,r||[],Dd(e).constructor):t.apply(e,r))}function gY(e,t){if(t&&(Ds(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mY(e)}function mY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uN=function(){return!!e})()}function Dd(e){return Dd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dd(e)}function yY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vm(e,t)}function vm(e,t){return vm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},vm(e,t)}function Xh(e,t,r){return t=fN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fN(e){var t=vY(e,"string");return Ds(t)=="symbol"?t:t+""}function vY(e,t){if(Ds(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ds(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xY=function(t,r,n,a,o){var i=o.x1,s=o.x2,l=o.y1,c=o.y2,f=o.xAxis,d=o.yAxis;if(!f||!d)return null;var h=Nv({x:f.scale,y:d.scale}),p={x:t?h.x.apply(i,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:r?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(c,{position:"end"}):h.y.rangeMax};return La(o,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:Z_(p,m)},gu=function(e){function t(){return fY(this,t),pY(this,t,arguments)}return yY(t,e),hY(t,[{key:"render",value:function(){var n=this.props,a=n.x1,o=n.x2,i=n.y1,s=n.y2,l=n.className,c=n.alwaysShow,f=n.clipPathId;Ja(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=_r(a),h=_r(o),p=_r(i),m=_r(s),v=this.props.shape;if(!d&&!h&&!p&&!m&&!v)return null;var x=xY(d,h,p,m,this.props);if(!x&&!v)return null;var y=La(this.props,"hidden")?"url(#".concat(f,")"):void 0;return T.createElement(st,{className:tt("recharts-reference-area",l)},t.renderRect(v,y2(y2({clipPath:y},Be(this.props,!0)),x)),nn.renderCallByParent(this.props,x))}}])}(T.Component);Xh(gu,"displayName","ReferenceArea");Xh(gu,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Xh(gu,"renderRect",function(e,t){var r;return T.isValidElement(e)?r=T.cloneElement(e,t):Ge(e)?r=e(t):r=T.createElement(Ov,ym({},t,{className:"recharts-reference-area-rect"})),r});function dN(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function bY(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return pK(n,r)}function wY(e,t,r){var n=r==="width",a=e.x,o=e.y,i=e.width,s=e.height;return t===1?{start:n?a:o,end:n?a+i:o+s}:{start:n?a+i:o+s,end:n?a:o}}function Rd(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var o=r();return e*(t-e*o/2-n)>=0&&e*(t+e*o/2-a)<=0}function kY(e,t){return dN(e,t+1)}function SY(e,t,r,n,a){for(var o=(n||[]).slice(),i=t.start,s=t.end,l=0,c=1,f=i,d=function(){var m=n==null?void 0:n[l];if(m===void 0)return{v:dN(n,c)};var v=l,x,y=function(){return x===void 0&&(x=r(m,v)),x},g=m.coordinate,b=l===0||Rd(e,g,y,f,s);b||(l=0,f=i,c+=1),b&&(f=g+e*(y()/2+a),l+=c)},h;c<=o.length;)if(h=d(),h)return h.v;return[]}function eu(e){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eu(e)}function v2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v2(Object(r),!0).forEach(function(n){jY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jY(e,t,r){return t=OY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OY(e){var t=_Y(e,"string");return eu(t)=="symbol"?t:t+""}function _Y(e,t){if(eu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NY(e,t,r,n,a){for(var o=(n||[]).slice(),i=o.length,s=t.start,l=t.end,c=function(h){var p=o[h],m,v=function(){return m===void 0&&(m=r(p,h)),m};if(h===i-1){var x=e*(p.coordinate+e*v()/2-l);o[h]=p=tn(tn({},p),{},{tickCoord:x>0?p.coordinate-x*e:p.coordinate})}else o[h]=p=tn(tn({},p),{},{tickCoord:p.coordinate});var y=Rd(e,p.tickCoord,v,s,l);y&&(l=p.tickCoord-e*(v()/2+a),o[h]=tn(tn({},p),{},{isShow:!0}))},f=i-1;f>=0;f--)c(f);return o}function PY(e,t,r,n,a,o){var i=(n||[]).slice(),s=i.length,l=t.start,c=t.end;if(o){var f=n[s-1],d=r(f,s-1),h=e*(f.coordinate+e*d/2-c);i[s-1]=f=tn(tn({},f),{},{tickCoord:h>0?f.coordinate-h*e:f.coordinate});var p=Rd(e,f.tickCoord,function(){return d},l,c);p&&(c=f.tickCoord-e*(d/2+a),i[s-1]=tn(tn({},f),{},{isShow:!0}))}for(var m=o?s-1:s,v=function(g){var b=i[g],S,w=function(){return S===void 0&&(S=r(b,g)),S};if(g===0){var k=e*(b.coordinate-e*w()/2-l);i[g]=b=tn(tn({},b),{},{tickCoord:k<0?b.coordinate-k*e:b.coordinate})}else i[g]=b=tn(tn({},b),{},{tickCoord:b.coordinate});var O=Rd(e,b.tickCoord,w,l,c);O&&(l=b.tickCoord+e*(w()/2+a),i[g]=tn(tn({},b),{},{isShow:!0}))},x=0;x<m;x++)v(x);return i}function Tv(e,t,r){var n=e.tick,a=e.ticks,o=e.viewBox,i=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,f=e.unit,d=e.angle;if(!a||!a.length||!n)return[];if(ue(l)||Go.isSsr)return kY(a,typeof l=="number"&&ue(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",m=f&&p==="width"?ql(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=function(b,S){var w=Ge(c)?c(b.value,S):b.value;return p==="width"?bY(ql(w,{fontSize:t,letterSpacing:r}),m,d):ql(w,{fontSize:t,letterSpacing:r})[p]},x=a.length>=2?xa(a[1].coordinate-a[0].coordinate):1,y=wY(o,x,p);return l==="equidistantPreserveStart"?SY(x,y,v,a,i):(l==="preserveStart"||l==="preserveStartEnd"?h=PY(x,y,v,a,i,l==="preserveStartEnd"):h=NY(x,y,v,a,i),h.filter(function(g){return g.isShow}))}var AY=["viewBox"],MY=["viewBox"],CY=["ticks"];function Rs(e){"@babel/helpers - typeof";return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rs(e)}function es(){return es=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},es.apply(this,arguments)}function x2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x2(Object(r),!0).forEach(function(n){$v(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n0(e,t){if(e==null)return{};var r=EY(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function EY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function TY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pN(n.key),n)}}function $Y(e,t,r){return t&&b2(e.prototype,t),r&&b2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function DY(e,t,r){return t=Ld(t),RY(e,hN()?Reflect.construct(t,r||[],Ld(e).constructor):t.apply(e,r))}function RY(e,t){if(t&&(Rs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LY(e)}function LY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hN=function(){return!!e})()}function Ld(e){return Ld=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ld(e)}function IY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xm(e,t)}function xm(e,t){return xm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xm(e,t)}function $v(e,t,r){return t=pN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pN(e){var t=BY(e,"string");return Rs(t)=="symbol"?t:t+""}function BY(e,t){if(Rs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ll=function(e){function t(r){var n;return TY(this,t),n=DY(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return IY(t,e),$Y(t,[{key:"shouldComponentUpdate",value:function(n,a){var o=n.viewBox,i=n0(n,AY),s=this.props,l=s.viewBox,c=n0(s,MY);return!ls(o,l)||!ls(i,c)||!ls(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,o=a.x,i=a.y,s=a.width,l=a.height,c=a.orientation,f=a.tickSize,d=a.mirror,h=a.tickMargin,p,m,v,x,y,g,b=d?-1:1,S=n.tickSize||f,w=ue(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":p=m=n.coordinate,x=i+ +!d*l,v=x-b*S,g=v-b*h,y=w;break;case"left":v=x=n.coordinate,m=o+ +!d*s,p=m-b*S,y=p-b*h,g=w;break;case"right":v=x=n.coordinate,m=o+ +d*s,p=m+b*S,y=p+b*h,g=w;break;default:p=m=n.coordinate,x=i+ +d*l,v=x+b*S,g=v+b*h,y=w;break}return{line:{x1:p,y1:v,x2:m,y2:x},tick:{x:y,y:g}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,o=n.mirror,i;switch(a){case"left":i=o?"start":"end";break;case"right":i=o?"end":"start";break;default:i="middle";break}return i}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,o=n.mirror,i="end";switch(a){case"left":case"right":i="middle";break;case"top":i=o?"start":"end";break;default:i=o?"end":"start";break}return i}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.orientation,c=n.mirror,f=n.axisLine,d=kr(kr(kr({},Be(this.props,!1)),Be(f,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);d=kr(kr({},d),{},{x1:a,y1:o+h*s,x2:a+i,y2:o+h*s})}else{var p=+(l==="left"&&!c||l==="right"&&c);d=kr(kr({},d),{},{x1:a+p*i,y1:o,x2:a+p*i,y2:o+s})}return T.createElement("line",es({},d,{className:tt("recharts-cartesian-axis-line",ta(f,"className"))}))}},{key:"renderTicks",value:function(n,a,o){var i=this,s=this.props,l=s.tickLine,c=s.stroke,f=s.tick,d=s.tickFormatter,h=s.unit,p=Tv(kr(kr({},this.props),{},{ticks:n}),a,o),m=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),x=Be(this.props,!1),y=Be(f,!1),g=kr(kr({},x),{},{fill:"none"},Be(l,!1)),b=p.map(function(S,w){var k=i.getTickLineCoord(S),O=k.line,_=k.tick,N=kr(kr(kr(kr({textAnchor:m,verticalAnchor:v},x),{},{stroke:"none",fill:c},y),_),{},{index:w,payload:S,visibleTicksCount:p.length,tickFormatter:d});return T.createElement(st,es({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},wc(i.props,S,w)),l&&T.createElement("line",es({},g,O,{className:tt("recharts-cartesian-axis-tick-line",ta(l,"className"))})),f&&t.renderTickItem(f,N,"".concat(Ge(d)?d(S.value,w):S.value).concat(h||"")))});return T.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,a=this.props,o=a.axisLine,i=a.width,s=a.height,l=a.ticksGenerator,c=a.className,f=a.hide;if(f)return null;var d=this.props,h=d.ticks,p=n0(d,CY),m=h;return Ge(l)&&(m=h&&h.length>0?l(this.props):l(p)),i<=0||s<=0||!m||!m.length?null:T.createElement(st,{className:tt("recharts-cartesian-axis",c),ref:function(x){n.layerReference=x}},o&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),nn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,o){var i,s=tt(a.className,"recharts-cartesian-axis-tick-value");return T.isValidElement(n)?i=T.cloneElement(n,kr(kr({},a),{},{className:s})):Ge(n)?i=n(kr(kr({},a),{},{className:s})):i=T.createElement(ad,es({},a,{className:"recharts-cartesian-axis-tick-value"}),o),i}}])}(j.Component);$v(ll,"displayName","CartesianAxis");$v(ll,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var FY=["x1","y1","x2","y2","key"],zY=["offset"];function _i(e){"@babel/helpers - typeof";return _i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_i(e)}function w2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function an(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w2(Object(r),!0).forEach(function(n){UY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UY(e,t,r){return t=WY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WY(e){var t=GY(e,"string");return _i(t)=="symbol"?t:t+""}function GY(e,t){if(_i(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_i(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ci(){return ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ci.apply(this,arguments)}function k2(e,t){if(e==null)return{};var r=HY(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function HY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var VY=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,o=t.y,i=t.width,s=t.height,l=t.ry;return T.createElement("rect",{x:a,y:o,ry:l,width:i,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function gN(e,t){var r;if(T.isValidElement(e))r=T.cloneElement(e,t);else if(Ge(e))r=e(t);else{var n=t.x1,a=t.y1,o=t.x2,i=t.y2,s=t.key,l=k2(t,FY),c=Be(l,!1);c.offset;var f=k2(c,zY);r=T.createElement("line",ci({},f,{x1:n,y1:a,x2:o,y2:i,fill:"none",key:s}))}return r}function XY(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,o=e.horizontalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(s,l){var c=an(an({},e),{},{x1:t,y1:s,x2:t+r,y2:s,key:"line-".concat(l),index:l});return gN(a,c)});return T.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function KY(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,o=e.verticalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(s,l){var c=an(an({},e),{},{x1:s,y1:t,x2:s,y2:t+r,key:"line-".concat(l),index:l});return gN(a,c)});return T.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function YY(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,o=e.width,i=e.height,s=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var f=s.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==f[0]&&f.unshift(0);var d=f.map(function(h,p){var m=!f[p+1],v=m?a+i-h:f[p+1]-h;if(v<=0)return null;var x=p%t.length;return T.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:v,width:o,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function qY(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,o=e.x,i=e.y,s=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var f=c.map(function(h){return Math.round(h+o-o)}).sort(function(h,p){return h-p});o!==f[0]&&f.unshift(0);var d=f.map(function(h,p){var m=!f[p+1],v=m?o+s-h:f[p+1]-h;if(v<=0)return null;var x=p%n.length;return T.createElement("rect",{key:"react-".concat(p),x:h,y:i,width:v,height:l,stroke:"none",fill:n[x],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var ZY=function(t,r){var n=t.xAxis,a=t.width,o=t.height,i=t.offset;return O_(Tv(an(an(an({},ll.defaultProps),n),{},{ticks:qa(n,!0),viewBox:{x:0,y:0,width:a,height:o}})),i.left,i.left+i.width,r)},QY=function(t,r){var n=t.yAxis,a=t.width,o=t.height,i=t.offset;return O_(Tv(an(an(an({},ll.defaultProps),n),{},{ticks:qa(n,!0),viewBox:{x:0,y:0,width:a,height:o}})),i.top,i.top+i.height,r)},Ii={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Ni(e){var t,r,n,a,o,i,s=Mv(),l=Cv(),c=BK(),f=an(an({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Ii.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Ii.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Ii.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Ii.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:Ii.vertical,verticalFill:(i=e.verticalFill)!==null&&i!==void 0?i:Ii.verticalFill,x:ue(e.x)?e.x:c.left,y:ue(e.y)?e.y:c.top,width:ue(e.width)?e.width:c.width,height:ue(e.height)?e.height:c.height}),d=f.x,h=f.y,p=f.width,m=f.height,v=f.syncWithTicks,x=f.horizontalValues,y=f.verticalValues,g=RK(),b=LK();if(!ue(p)||p<=0||!ue(m)||m<=0||!ue(d)||d!==+d||!ue(h)||h!==+h)return null;var S=f.verticalCoordinatesGenerator||ZY,w=f.horizontalCoordinatesGenerator||QY,k=f.horizontalPoints,O=f.verticalPoints;if((!k||!k.length)&&Ge(w)){var _=x&&x.length,N=w({yAxis:b?an(an({},b),{},{ticks:_?x:b.ticks}):void 0,width:s,height:l,offset:c},_?!0:v);Ja(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(_i(N),"]")),Array.isArray(N)&&(k=N)}if((!O||!O.length)&&Ge(S)){var P=y&&y.length,A=S({xAxis:g?an(an({},g),{},{ticks:P?y:g.ticks}):void 0,width:s,height:l,offset:c},P?!0:v);Ja(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(_i(A),"]")),Array.isArray(A)&&(O=A)}return T.createElement("g",{className:"recharts-cartesian-grid"},T.createElement(VY,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),T.createElement(XY,ci({},f,{offset:c,horizontalPoints:k,xAxis:g,yAxis:b})),T.createElement(KY,ci({},f,{offset:c,verticalPoints:O,xAxis:g,yAxis:b})),T.createElement(YY,ci({},f,{horizontalPoints:k})),T.createElement(qY,ci({},f,{verticalPoints:O})))}Ni.displayName="CartesianGrid";var JY=["type","layout","connectNulls","ref"],eq=["key"];function Ls(e){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ls(e)}function S2(e,t){if(e==null)return{};var r=tq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ec(){return ec=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ec.apply(this,arguments)}function j2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j2(Object(r),!0).forEach(function(n){ma(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bi(e){return oq(e)||aq(e)||nq(e)||rq()}function rq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nq(e,t){if(e){if(typeof e=="string")return bm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bm(e,t)}}function aq(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oq(e){if(Array.isArray(e))return bm(e)}function bm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yN(n.key),n)}}function sq(e,t,r){return t&&O2(e.prototype,t),r&&O2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lq(e,t,r){return t=Id(t),cq(e,mN()?Reflect.construct(t,r||[],Id(e).constructor):t.apply(e,r))}function cq(e,t){if(t&&(Ls(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uq(e)}function uq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mN=function(){return!!e})()}function Id(e){return Id=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Id(e)}function fq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wm(e,t)}function wm(e,t){return wm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wm(e,t)}function ma(e,t,r){return t=yN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yN(e){var t=dq(e,"string");return Ls(t)=="symbol"?t:t+""}function dq(e,t){if(Ls(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ls(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Wr=function(e){function t(){var r;iq(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=lq(this,t,[].concat(a)),ma(r,"state",{isAnimationFinished:!0,totalLength:0}),ma(r,"generateSimpleStrokeDasharray",function(i,s){return"".concat(s,"px ").concat(i-s,"px")}),ma(r,"getStrokeDasharray",function(i,s,l){var c=l.reduce(function(y,g){return y+g});if(!c)return r.generateSimpleStrokeDasharray(s,i);for(var f=Math.floor(i/c),d=i%c,h=s-i,p=[],m=0,v=0;m<l.length;v+=l[m],++m)if(v+l[m]>d){p=[].concat(Bi(l.slice(0,m)),[d-v]);break}var x=p.length%2===0?[0,h]:[h];return[].concat(Bi(t.repeat(l,f)),Bi(p),x).map(function(y){return"".concat(y,"px")}).join(", ")}),ma(r,"id",Ci("recharts-line-")),ma(r,"pathRef",function(i){r.mainCurve=i}),ma(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),ma(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return fq(t,e),sq(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.points,s=o.xAxis,l=o.yAxis,c=o.layout,f=o.children,d=An(f,sl);if(!d)return null;var h=function(v,x){return{x:v.x,y:v.y,value:v.value,errorVal:Nr(v.payload,x)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return T.createElement(st,p,d.map(function(m){return T.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:i,xAxis:s,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,o){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,c=s.points,f=s.dataKey,d=Be(this.props,!1),h=Be(l,!0),p=c.map(function(v,x){var y=$n($n($n({key:"dot-".concat(x),r:3},d),h),{},{index:x,cx:v.x,cy:v.y,value:v.value,dataKey:f,payload:v.payload,points:c});return t.renderDotItem(l,y)}),m={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return T.createElement(st,ec({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(n,a,o,i){var s=this.props,l=s.type,c=s.layout,f=s.connectNulls;s.ref;var d=S2(s,JY),h=$n($n($n({},Be(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(o,")"):null,points:n},i),{},{type:l,layout:c,connectNulls:f});return T.createElement(gi,ec({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var o=this,i=this.props,s=i.points,l=i.strokeDasharray,c=i.isAnimationActive,f=i.animationBegin,d=i.animationDuration,h=i.animationEasing,p=i.animationId,m=i.animateNewValues,v=i.width,x=i.height,y=this.state,g=y.prevPoints,b=y.totalLength;return T.createElement(Sa,{begin:f,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var w=S.t;if(g){var k=g.length/s.length,O=s.map(function($,C){var z=Math.floor(C*k);if(g[z]){var E=g[z],U=dr(E.x,$.x),M=dr(E.y,$.y);return $n($n({},$),{},{x:U(w),y:M(w)})}if(m){var B=dr(v*2,$.x),L=dr(x/2,$.y);return $n($n({},$),{},{x:B(w),y:L(w)})}return $n($n({},$),{},{x:$.x,y:$.y})});return o.renderCurveStatically(O,n,a)}var _=dr(0,b),N=_(w),P;if(l){var A="".concat(l).split(/[,\s]+/gim).map(function($){return parseFloat($)});P=o.getStrokeDasharray(N,b,A)}else P=o.generateSimpleStrokeDasharray(b,N);return o.renderCurveStatically(s,n,a,{strokeDasharray:P})})}},{key:"renderCurve",value:function(n,a){var o=this.props,i=o.points,s=o.isAnimationActive,l=this.state,c=l.prevPoints,f=l.totalLength;return s&&i&&i.length&&(!c&&f>0||!Si(c,i))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(i,n,a)}},{key:"render",value:function(){var n,a=this.props,o=a.hide,i=a.dot,s=a.points,l=a.className,c=a.xAxis,f=a.yAxis,d=a.top,h=a.left,p=a.width,m=a.height,v=a.isAnimationActive,x=a.id;if(o||!s||!s.length)return null;var y=this.state.isAnimationFinished,g=s.length===1,b=tt("recharts-line",l),S=c&&c.allowDataOverflow,w=f&&f.allowDataOverflow,k=S||w,O=Le(x)?this.id:x,_=(n=Be(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},N=_.r,P=N===void 0?3:N,A=_.strokeWidth,$=A===void 0?2:A,C=vj(i)?i:{},z=C.clipDot,E=z===void 0?!0:z,U=P*2+$;return T.createElement(st,{className:b},S||w?T.createElement("defs",null,T.createElement("clipPath",{id:"clipPath-".concat(O)},T.createElement("rect",{x:S?h:h-p/2,y:w?d:d-m/2,width:S?p:p*2,height:w?m:m*2})),!E&&T.createElement("clipPath",{id:"clipPath-dots-".concat(O)},T.createElement("rect",{x:h-U/2,y:d-U/2,width:p+U,height:m+U}))):null,!g&&this.renderCurve(k,O),this.renderErrorBar(k,O),(g||i)&&this.renderDots(k,E,O),(!v||y)&&Ra.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var o=n.length%2!==0?[].concat(Bi(n),[0]):n,i=[],s=0;s<a;++s)i=[].concat(Bi(i),Bi(o));return i}},{key:"renderDotItem",value:function(n,a){var o;if(T.isValidElement(n))o=T.cloneElement(n,a);else if(Ge(n))o=n(a);else{var i=a.key,s=S2(a,eq),l=tt("recharts-line-dot",typeof n!="boolean"?n.className:"");o=T.createElement(zh,ec({key:i},s,{className:l}))}return o}}])}(j.PureComponent);ma(Wr,"displayName","Line");ma(Wr,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Go.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ma(Wr,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,i=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,f=t.layout,d=l.map(function(h,p){var m=Nr(h,i);return f==="horizontal"?{x:Ps({axis:r,ticks:a,bandSize:s,entry:h,index:p}),y:Le(m)?null:n.scale(m),value:m,payload:h}:{x:Le(m)?null:r.scale(m),y:Ps({axis:n,ticks:o,bandSize:s,entry:h,index:p}),value:m,payload:h}});return $n({points:d,layout:f},c)});var hq=["layout","type","stroke","connectNulls","isRange","ref"],pq=["key"],vN;function Is(e){"@babel/helpers - typeof";return Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Is(e)}function xN(e,t){if(e==null)return{};var r=gq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ui(){return ui=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ui.apply(this,arguments)}function _2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function go(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_2(Object(r),!0).forEach(function(n){Ea(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wN(n.key),n)}}function yq(e,t,r){return t&&N2(e.prototype,t),r&&N2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function vq(e,t,r){return t=Bd(t),xq(e,bN()?Reflect.construct(t,r||[],Bd(e).constructor):t.apply(e,r))}function xq(e,t){if(t&&(Is(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bq(e)}function bq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bN=function(){return!!e})()}function Bd(e){return Bd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bd(e)}function wq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&km(e,t)}function km(e,t){return km=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},km(e,t)}function Ea(e,t,r){return t=wN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wN(e){var t=kq(e,"string");return Is(t)=="symbol"?t:t+""}function kq(e,t){if(Is(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Is(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Jn=function(e){function t(){var r;mq(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=vq(this,t,[].concat(a)),Ea(r,"state",{isAnimationFinished:!0}),Ea(r,"id",Ci("recharts-area-")),Ea(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ge(i)&&i()}),Ea(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ge(i)&&i()}),r}return wq(t,e),yq(t,[{key:"renderDots",value:function(n,a,o){var i=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(i&&!s)return null;var l=this.props,c=l.dot,f=l.points,d=l.dataKey,h=Be(this.props,!1),p=Be(c,!0),m=f.map(function(x,y){var g=go(go(go({key:"dot-".concat(y),r:3},h),p),{},{index:y,cx:x.x,cy:x.y,dataKey:d,value:x.value,payload:x.payload,points:f});return t.renderDotItem(c,g)}),v={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return T.createElement(st,ui({className:"recharts-area-dots"},v),m)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,o=a.baseLine,i=a.points,s=a.strokeWidth,l=i[0].x,c=i[i.length-1].x,f=n*Math.abs(l-c),d=jo(i.map(function(h){return h.y||0}));return ue(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(jo(o.map(function(h){return h.y||0})),d)),ue(d)?T.createElement("rect",{x:l<c?l:l-f,y:0,width:f,height:Math.floor(d+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,o=a.baseLine,i=a.points,s=a.strokeWidth,l=i[0].y,c=i[i.length-1].y,f=n*Math.abs(l-c),d=jo(i.map(function(h){return h.x||0}));return ue(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(jo(o.map(function(h){return h.x||0})),d)),ue(d)?T.createElement("rect",{x:0,y:l<c?l:l-f,width:d+(s?parseInt("".concat(s),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,o,i){var s=this.props,l=s.layout,c=s.type,f=s.stroke,d=s.connectNulls,h=s.isRange;s.ref;var p=xN(s,hq);return T.createElement(st,{clipPath:o?"url(#clipPath-".concat(i,")"):null},T.createElement(gi,ui({},Be(p,!0),{points:n,connectNulls:d,type:c,baseLine:a,layout:l,stroke:"none",className:"recharts-area-area"})),f!=="none"&&T.createElement(gi,ui({},Be(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:n})),f!=="none"&&h&&T.createElement(gi,ui({},Be(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var o=this,i=this.props,s=i.points,l=i.baseLine,c=i.isAnimationActive,f=i.animationBegin,d=i.animationDuration,h=i.animationEasing,p=i.animationId,m=this.state,v=m.prevPoints,x=m.prevBaseLine;return T.createElement(Sa,{begin:f,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var g=y.t;if(v){var b=v.length/s.length,S=s.map(function(_,N){var P=Math.floor(N*b);if(v[P]){var A=v[P],$=dr(A.x,_.x),C=dr(A.y,_.y);return go(go({},_),{},{x:$(g),y:C(g)})}return _}),w;if(ue(l)&&typeof l=="number"){var k=dr(x,l);w=k(g)}else if(Le(l)||el(l)){var O=dr(x,0);w=O(g)}else w=l.map(function(_,N){var P=Math.floor(N*b);if(x[P]){var A=x[P],$=dr(A.x,_.x),C=dr(A.y,_.y);return go(go({},_),{},{x:$(g),y:C(g)})}return _});return o.renderAreaStatically(S,w,n,a)}return T.createElement(st,null,T.createElement("defs",null,T.createElement("clipPath",{id:"animationClipPath-".concat(a)},o.renderClipRect(g))),T.createElement(st,{clipPath:"url(#animationClipPath-".concat(a,")")},o.renderAreaStatically(s,l,n,a)))})}},{key:"renderArea",value:function(n,a){var o=this.props,i=o.points,s=o.baseLine,l=o.isAnimationActive,c=this.state,f=c.prevPoints,d=c.prevBaseLine,h=c.totalLength;return l&&i&&i.length&&(!f&&h>0||!Si(f,i)||!Si(d,s))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(i,s,n,a)}},{key:"render",value:function(){var n,a=this.props,o=a.hide,i=a.dot,s=a.points,l=a.className,c=a.top,f=a.left,d=a.xAxis,h=a.yAxis,p=a.width,m=a.height,v=a.isAnimationActive,x=a.id;if(o||!s||!s.length)return null;var y=this.state.isAnimationFinished,g=s.length===1,b=tt("recharts-area",l),S=d&&d.allowDataOverflow,w=h&&h.allowDataOverflow,k=S||w,O=Le(x)?this.id:x,_=(n=Be(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},N=_.r,P=N===void 0?3:N,A=_.strokeWidth,$=A===void 0?2:A,C=vj(i)?i:{},z=C.clipDot,E=z===void 0?!0:z,U=P*2+$;return T.createElement(st,{className:b},S||w?T.createElement("defs",null,T.createElement("clipPath",{id:"clipPath-".concat(O)},T.createElement("rect",{x:S?f:f-p/2,y:w?c:c-m/2,width:S?p:p*2,height:w?m:m*2})),!E&&T.createElement("clipPath",{id:"clipPath-dots-".concat(O)},T.createElement("rect",{x:f-U/2,y:c-U/2,width:p+U,height:m+U}))):null,g?null:this.renderArea(k,O),(i||g)&&this.renderDots(k,E,O),(!v||y)&&Ra.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(j.PureComponent);vN=Jn;Ea(Jn,"displayName","Area");Ea(Jn,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Go.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Ea(Jn,"getBaseValue",function(e,t,r,n){var a=e.layout,o=e.baseValue,i=t.props.baseValue,s=i??o;if(ue(s)&&typeof s=="number")return s;var l=a==="horizontal"?n:r,c=l.scale.domain();if(l.type==="number"){var f=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return s==="dataMin"?d:s==="dataMax"||f<0?f:Math.max(Math.min(c[0],c[1]),0)}return s==="dataMin"?c[0]:s==="dataMax"?c[1]:c[0]});Ea(Jn,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,o=e.xAxisTicks,i=e.yAxisTicks,s=e.bandSize,l=e.dataKey,c=e.stackedData,f=e.dataStartIndex,d=e.displayedData,h=e.offset,p=t.layout,m=c&&c.length,v=vN.getBaseValue(t,r,n,a),x=p==="horizontal",y=!1,g=d.map(function(S,w){var k;m?k=c[f+w]:(k=Nr(S,l),Array.isArray(k)?y=!0:k=[v,k]);var O=k[1]==null||m&&Nr(S,l)==null;return x?{x:Ps({axis:n,ticks:o,bandSize:s,entry:S,index:w}),y:O?null:a.scale(k[1]),value:k,payload:S}:{x:O?null:n.scale(k[1]),y:Ps({axis:a,ticks:i,bandSize:s,entry:S,index:w}),value:k,payload:S}}),b;return m||y?b=g.map(function(S){var w=Array.isArray(S.value)?S.value[0]:null;return x?{x:S.x,y:w!=null&&S.y!=null?a.scale(w):null}:{x:w!=null?n.scale(w):null,y:S.y}}):b=x?a.scale(v):n.scale(v),go({points:g,baseLine:b,layout:p,isRange:y},h)});Ea(Jn,"renderDotItem",function(e,t){var r;if(T.isValidElement(e))r=T.cloneElement(e,t);else if(Ge(e))r=e(t);else{var n=tt("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,o=xN(t,pq);r=T.createElement(zh,ui({},o,{key:a,className:n}))}return r});function Bs(e){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bs(e)}function Sq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jN(n.key),n)}}function Oq(e,t,r){return t&&jq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _q(e,t,r){return t=Fd(t),Nq(e,kN()?Reflect.construct(t,r||[],Fd(e).constructor):t.apply(e,r))}function Nq(e,t){if(t&&(Bs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pq(e)}function Pq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kN=function(){return!!e})()}function Fd(e){return Fd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fd(e)}function Aq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sm(e,t)}function Sm(e,t){return Sm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Sm(e,t)}function SN(e,t,r){return t=jN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jN(e){var t=Mq(e,"string");return Bs(t)=="symbol"?t:t+""}function Mq(e,t){if(Bs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Kh=function(e){function t(){return Sq(this,t),_q(this,t,arguments)}return Aq(t,e),Oq(t,[{key:"render",value:function(){return null}}])}(j.Component);SN(Kh,"displayName","ZAxis");SN(Kh,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var Cq=["option","isActive"];function tc(){return tc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tc.apply(this,arguments)}function Eq(e,t){if(e==null)return{};var r=Tq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Tq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $q(e){var t=e.option,r=e.isActive,n=Eq(e,Cq);return typeof t=="string"?j.createElement(cm,tc({option:j.createElement(Ph,tc({type:t},n)),isActive:r,shapeType:"symbols"},n)):j.createElement(cm,tc({option:t,isActive:r,shapeType:"symbols"},n))}function Fs(e){"@babel/helpers - typeof";return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fs(e)}function rc(){return rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rc.apply(this,arguments)}function P2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P2(Object(r),!0).forEach(function(n){_o(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_N(n.key),n)}}function Rq(e,t,r){return t&&A2(e.prototype,t),r&&A2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lq(e,t,r){return t=zd(t),Iq(e,ON()?Reflect.construct(t,r||[],zd(e).constructor):t.apply(e,r))}function Iq(e,t){if(t&&(Fs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bq(e)}function Bq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ON(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ON=function(){return!!e})()}function zd(e){return zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zd(e)}function Fq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jm(e,t)}function jm(e,t){return jm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},jm(e,t)}function _o(e,t,r){return t=_N(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _N(e){var t=zq(e,"string");return Fs(t)=="symbol"?t:t+""}function zq(e,t){if(Fs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var dn=function(e){function t(){var r;Dq(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=Lq(this,t,[].concat(a)),_o(r,"state",{isAnimationFinished:!1}),_o(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),_o(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),_o(r,"id",Ci("recharts-scatter-")),r}return Fq(t,e),Rq(t,[{key:"renderSymbolsStatically",value:function(n){var a=this,o=this.props,i=o.shape,s=o.activeShape,l=o.activeIndex,c=Be(this.props,!1);return n.map(function(f,d){var h=l===d,p=h?s:i,m=Kn(Kn({},c),f);return T.createElement(st,rc({className:"recharts-scatter-symbol",key:"symbol-".concat(f==null?void 0:f.cx,"-").concat(f==null?void 0:f.cy,"-").concat(f==null?void 0:f.size,"-").concat(d)},wc(a.props,f,d),{role:"img"}),T.createElement($q,rc({option:p,isActive:h,key:"symbol-".concat(d)},m)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,a=this.props,o=a.points,i=a.isAnimationActive,s=a.animationBegin,l=a.animationDuration,c=a.animationEasing,f=a.animationId,d=this.state.prevPoints;return T.createElement(Sa,{begin:s,duration:l,isActive:i,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var p=h.t,m=o.map(function(v,x){var y=d&&d[x];if(y){var g=dr(y.cx,v.cx),b=dr(y.cy,v.cy),S=dr(y.size,v.size);return Kn(Kn({},v),{},{cx:g(p),cy:b(p),size:S(p)})}var w=dr(0,v.size);return Kn(Kn({},v),{},{size:w(p)})});return T.createElement(st,null,n.renderSymbolsStatically(m))})}},{key:"renderSymbols",value:function(){var n=this.props,a=n.points,o=n.isAnimationActive,i=this.state.prevPoints;return o&&a&&a.length&&(!i||!Si(i,a))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(a)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,i=a.xAxis,s=a.yAxis,l=a.children,c=An(l,sl);return c?c.map(function(f,d){var h=f.props,p=h.direction,m=h.dataKey;return T.cloneElement(f,{key:"".concat(p,"-").concat(m,"-").concat(o[d]),data:o,xAxis:i,yAxis:s,layout:p==="x"?"vertical":"horizontal",dataPointFormatter:function(x,y){return{x:x.cx,y:x.cy,value:p==="x"?+x.node.x:+x.node.y,errorVal:Nr(x,y)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,a=n.points,o=n.line,i=n.lineType,s=n.lineJointType,l=Be(this.props,!1),c=Be(o,!1),f,d;if(i==="joint")f=a.map(function(b){return{x:b.cx,y:b.cy}});else if(i==="fitting"){var h=g$(a),p=h.xmin,m=h.xmax,v=h.a,x=h.b,y=function(S){return v*S+x};f=[{x:p,y:y(p)},{x:m,y:y(m)}]}var g=Kn(Kn(Kn({},l),{},{fill:"none",stroke:l&&l.fill},c),{},{points:f});return T.isValidElement(o)?d=T.cloneElement(o,g):Ge(o)?d=o(g):d=T.createElement(gi,rc({},g,{type:s})),T.createElement(st,{className:"recharts-scatter-line",key:"recharts-scatter-line"},d)}},{key:"render",value:function(){var n=this.props,a=n.hide,o=n.points,i=n.line,s=n.className,l=n.xAxis,c=n.yAxis,f=n.left,d=n.top,h=n.width,p=n.height,m=n.id,v=n.isAnimationActive;if(a||!o||!o.length)return null;var x=this.state.isAnimationFinished,y=tt("recharts-scatter",s),g=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,S=g||b,w=Le(m)?this.id:m;return T.createElement(st,{className:y,clipPath:S?"url(#clipPath-".concat(w,")"):null},g||b?T.createElement("defs",null,T.createElement("clipPath",{id:"clipPath-".concat(w)},T.createElement("rect",{x:g?f:f-h/2,y:b?d:d-p/2,width:g?h:h*2,height:b?p:p*2}))):null,i&&this.renderLine(),this.renderErrorBar(),T.createElement(st,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!v||x)&&Ra.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}}])}(j.PureComponent);_o(dn,"displayName","Scatter");_o(dn,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Go.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});_o(dn,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,n=e.zAxis,a=e.item,o=e.displayedData,i=e.xAxisTicks,s=e.yAxisTicks,l=e.offset,c=a.props.tooltipType,f=An(a.props.children,Jy),d=Le(t.dataKey)?a.props.dataKey:t.dataKey,h=Le(r.dataKey)?a.props.dataKey:r.dataKey,p=n&&n.dataKey,m=n?n.range:Kh.defaultProps.range,v=m&&m[0],x=t.scale.bandwidth?t.scale.bandwidth():0,y=r.scale.bandwidth?r.scale.bandwidth():0,g=o.map(function(b,S){var w=Nr(b,d),k=Nr(b,h),O=!Le(p)&&Nr(b,p)||"-",_=[{name:Le(t.dataKey)?a.props.name:t.name||t.dataKey,unit:t.unit||"",value:w,payload:b,dataKey:d,type:c},{name:Le(r.dataKey)?a.props.name:r.name||r.dataKey,unit:r.unit||"",value:k,payload:b,dataKey:h,type:c}];O!=="-"&&_.push({name:n.name||n.dataKey,unit:n.unit||"",value:O,payload:b,dataKey:p,type:c});var N=Ps({axis:t,ticks:i,bandSize:x,entry:b,index:S,dataKey:d}),P=Ps({axis:r,ticks:s,bandSize:y,entry:b,index:S,dataKey:h}),A=O!=="-"?n.scale(O):v,$=Math.sqrt(Math.max(A,0)/Math.PI);return Kn(Kn({},b),{},{cx:N,cy:P,x:N-$,y:P-$,xAxis:t,yAxis:r,zAxis:n,width:2*$,height:2*$,size:A,node:{x:w,y:k,z:O},tooltipPayload:_,tooltipPosition:{x:N,y:P},payload:b},f&&f[S]&&f[S].props)});return Kn({points:g},l)});function zs(e){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zs(e)}function Uq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AN(n.key),n)}}function Gq(e,t,r){return t&&Wq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hq(e,t,r){return t=Ud(t),Vq(e,NN()?Reflect.construct(t,r||[],Ud(e).constructor):t.apply(e,r))}function Vq(e,t){if(t&&(zs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xq(e)}function Xq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NN=function(){return!!e})()}function Ud(e){return Ud=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ud(e)}function Kq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Om(e,t)}function Om(e,t){return Om=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Om(e,t)}function PN(e,t,r){return t=AN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AN(e){var t=Yq(e,"string");return zs(t)=="symbol"?t:t+""}function Yq(e,t){if(zs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function _m(){return _m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_m.apply(this,arguments)}function qq(e){var t=e.xAxisId,r=Mv(),n=Cv(),a=aN(t);return a==null?null:j.createElement(ll,_m({},a,{className:tt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(i){return qa(i,!0)}}))}var ja=function(e){function t(){return Uq(this,t),Hq(this,t,arguments)}return Kq(t,e),Gq(t,[{key:"render",value:function(){return j.createElement(qq,this.props)}}])}(j.Component);PN(ja,"displayName","XAxis");PN(ja,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Us(e){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Us(e)}function Zq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EN(n.key),n)}}function Jq(e,t,r){return t&&Qq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function eZ(e,t,r){return t=Wd(t),tZ(e,MN()?Reflect.construct(t,r||[],Wd(e).constructor):t.apply(e,r))}function tZ(e,t){if(t&&(Us(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rZ(e)}function rZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MN=function(){return!!e})()}function Wd(e){return Wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wd(e)}function nZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nm(e,t)}function Nm(e,t){return Nm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Nm(e,t)}function CN(e,t,r){return t=EN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EN(e){var t=aZ(e,"string");return Us(t)=="symbol"?t:t+""}function aZ(e,t){if(Us(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Us(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Pm(){return Pm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pm.apply(this,arguments)}var oZ=function(t){var r=t.yAxisId,n=Mv(),a=Cv(),o=oN(r);return o==null?null:j.createElement(ll,Pm({},o,{className:tt("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(s){return qa(s,!0)}}))},Oa=function(e){function t(){return Zq(this,t),eZ(this,t,arguments)}return nZ(t,e),Jq(t,[{key:"render",value:function(){return j.createElement(oZ,this.props)}}])}(j.Component);CN(Oa,"displayName","YAxis");CN(Oa,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function M2(e){return cZ(e)||lZ(e)||sZ(e)||iZ()}function iZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sZ(e,t){if(e){if(typeof e=="string")return Am(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Am(e,t)}}function lZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cZ(e){if(Array.isArray(e))return Am(e)}function Am(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Mm=function(t,r,n,a,o){var i=An(t,li),s=An(t,Vh),l=[].concat(M2(i),M2(s)),c=An(t,gu),f="".concat(a,"Id"),d=a[0],h=r;if(l.length&&(h=l.reduce(function(v,x){if(x.props[f]===n&&La(x.props,"extendDomain")&&ue(x.props[d])){var y=x.props[d];return[Math.min(v[0],y),Math.max(v[1],y)]}return v},h)),c.length){var p="".concat(d,"1"),m="".concat(d,"2");h=c.reduce(function(v,x){if(x.props[f]===n&&La(x.props,"extendDomain")&&ue(x.props[p])&&ue(x.props[m])){var y=x.props[p],g=x.props[m];return[Math.min(v[0],y,g),Math.max(v[1],y,g)]}return v},h)}return o&&o.length&&(h=o.reduce(function(v,x){return ue(x)?[Math.min(v[0],x),Math.max(v[1],x)]:v},h)),h},TN={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,c,f){this.fn=l,this.context=c,this.once=f||!1}function o(l,c,f,d,h){if(typeof f!="function")throw new TypeError("The listener must be a function");var p=new a(f,d||l,h),m=r?r+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function i(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],f,d;if(this._eventsCount===0)return c;for(d in f=this._events)t.call(f,d)&&c.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},s.prototype.listeners=function(c){var f=r?r+c:c,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,m=new Array(p);h<p;h++)m[h]=d[h].fn;return m},s.prototype.listenerCount=function(c){var f=r?r+c:c,d=this._events[f];return d?d.fn?1:d.length:0},s.prototype.emit=function(c,f,d,h,p,m){var v=r?r+c:c;if(!this._events[v])return!1;var x=this._events[v],y=arguments.length,g,b;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),y){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,f),!0;case 3:return x.fn.call(x.context,f,d),!0;case 4:return x.fn.call(x.context,f,d,h),!0;case 5:return x.fn.call(x.context,f,d,h,p),!0;case 6:return x.fn.call(x.context,f,d,h,p,m),!0}for(b=1,g=new Array(y-1);b<y;b++)g[b-1]=arguments[b];x.fn.apply(x.context,g)}else{var S=x.length,w;for(b=0;b<S;b++)switch(x[b].once&&this.removeListener(c,x[b].fn,void 0,!0),y){case 1:x[b].fn.call(x[b].context);break;case 2:x[b].fn.call(x[b].context,f);break;case 3:x[b].fn.call(x[b].context,f,d);break;case 4:x[b].fn.call(x[b].context,f,d,h);break;default:if(!g)for(w=1,g=new Array(y-1);w<y;w++)g[w-1]=arguments[w];x[b].fn.apply(x[b].context,g)}}return!0},s.prototype.on=function(c,f,d){return o(this,c,f,d,!1)},s.prototype.once=function(c,f,d){return o(this,c,f,d,!0)},s.prototype.removeListener=function(c,f,d,h){var p=r?r+c:c;if(!this._events[p])return this;if(!f)return i(this,p),this;var m=this._events[p];if(m.fn)m.fn===f&&(!h||m.once)&&(!d||m.context===d)&&i(this,p);else{for(var v=0,x=[],y=m.length;v<y;v++)(m[v].fn!==f||h&&!m[v].once||d&&m[v].context!==d)&&x.push(m[v]);x.length?this._events[p]=x.length===1?x[0]:x:i(this,p)}return this},s.prototype.removeAllListeners=function(c){var f;return c?(f=r?r+c:c,this._events[f]&&i(this,f)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(TN);var uZ=TN.exports;const fZ=Mt(uZ);var a0=new fZ,o0="recharts.syncMouseEvents";function tu(e){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tu(e)}function dZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$N(n.key),n)}}function pZ(e,t,r){return t&&hZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function i0(e,t,r){return t=$N(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $N(e){var t=gZ(e,"string");return tu(t)=="symbol"?t:t+""}function gZ(e,t){if(tu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var mZ=function(){function e(){dZ(this,e),i0(this,"activeIndex",0),i0(this,"coordinateList",[]),i0(this,"layout","horizontal")}return pZ(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,o=a===void 0?null:a,i=r.container,s=i===void 0?null:i,l=r.layout,c=l===void 0?null:l,f=r.offset,d=f===void 0?null:f,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),o=a.x,i=a.y,s=a.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=o+l+c,h=i+this.offset.top+s/2+f;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function yZ(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&ue(n)&&ue(a))return!0}return!1}function vZ(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function DN(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,o=e.endAngle,i=Gr(t,r,n,a),s=Gr(t,r,n,o);return{points:[i,s],cx:t,cy:r,radius:n,startAngle:a,endAngle:o}}function xZ(e,t,r){var n,a,o,i;if(e==="horizontal")n=t.x,o=n,a=r.top,i=r.top+r.height;else if(e==="vertical")a=t.y,i=a,n=r.left,o=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,c=t.innerRadius,f=t.outerRadius,d=t.angle,h=Gr(s,l,c,d),p=Gr(s,l,f,d);n=h.x,a=h.y,o=p.x,i=p.y}else return DN(t);return[{x:n,y:a},{x:o,y:i}]}function ru(e){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ru(e)}function C2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C2(Object(r),!0).forEach(function(n){bZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bZ(e,t,r){return t=wZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wZ(e){var t=kZ(e,"string");return ru(t)=="symbol"?t:t+""}function kZ(e,t){if(ru(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ru(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SZ(e){var t,r,n=e.element,a=e.tooltipEventType,o=e.isActive,i=e.activeCoordinate,s=e.activePayload,l=e.offset,c=e.activeTooltipIndex,f=e.tooltipAxisBandSize,d=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!o||!i||h!=="ScatterChart"&&a!=="axis")return null;var m,v=gi;if(h==="ScatterChart")m=i,v=YH;else if(h==="BarChart")m=vZ(d,i,l,f),v=Ov;else if(d==="radial"){var x=DN(i),y=x.cx,g=x.cy,b=x.radius,S=x.startAngle,w=x.endAngle;m={cx:y,cy:g,startAngle:S,endAngle:w,innerRadius:b,outerRadius:b},v=M_}else m={points:xZ(d,i,l)},v=gi;var k=rf(rf(rf(rf({stroke:"#ccc",pointerEvents:"none"},l),m),Be(p,!1)),{},{payload:s,payloadIndex:c,className:tt("recharts-tooltip-cursor",p.className)});return j.isValidElement(p)?j.cloneElement(p,k):j.createElement(v,k)}var jZ=["item"],OZ=["children","className","width","height","style","compact","title","desc"];function Ws(e){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ws(e)}function ts(){return ts=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ts.apply(this,arguments)}function E2(e,t){return PZ(e)||NZ(e,t)||LN(e,t)||_Z()}function _Z(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NZ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function PZ(e){if(Array.isArray(e))return e}function T2(e,t){if(e==null)return{};var r=AZ(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function AZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function MZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IN(n.key),n)}}function EZ(e,t,r){return t&&CZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function TZ(e,t,r){return t=Gd(t),$Z(e,RN()?Reflect.construct(t,r||[],Gd(e).constructor):t.apply(e,r))}function $Z(e,t){if(t&&(Ws(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DZ(e)}function DZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RN=function(){return!!e})()}function Gd(e){return Gd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gd(e)}function RZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cm(e,t)}function Cm(e,t){return Cm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Cm(e,t)}function Gs(e){return BZ(e)||IZ(e)||LN(e)||LZ()}function LZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LN(e,t){if(e){if(typeof e=="string")return Em(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Em(e,t)}}function IZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BZ(e){if(Array.isArray(e))return Em(e)}function Em(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$2(Object(r),!0).forEach(function(n){Te(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Te(e,t,r){return t=IN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IN(e){var t=FZ(e,"string");return Ws(t)=="symbol"?t:t+""}function FZ(e,t){if(Ws(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ws(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zZ={xAxis:["bottom","top"],yAxis:["left","right"]},UZ={width:"100%",height:"100%"},BN={x:0,y:0};function nf(e){return e}var WZ=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},GZ=function(t,r,n,a){var o=r.find(function(f){return f&&f.index===n});if(o){if(t==="horizontal")return{x:o.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:o.coordinate};if(t==="centric"){var i=o.coordinate,s=a.radius;return ee(ee(ee({},a),Gr(a.cx,a.cy,s,i)),{},{angle:i,radius:s})}var l=o.coordinate,c=a.angle;return ee(ee(ee({},a),Gr(a.cx,a.cy,l,c)),{},{angle:c,radius:l})}return BN},Yh=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,o=r.dataEndIndex,i=(n??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(Gs(s),Gs(c)):s},[]);return i.length>0?i:t&&t.length&&ue(a)&&ue(o)?t.slice(a,o+1):[]};function FN(e){return e==="number"?[0,"auto"]:void 0}var Tm=function(t,r,n,a){var o=t.graphicalItems,i=t.tooltipAxis,s=Yh(r,t);return n<0||!o||!o.length||n>=s.length?null:o.reduce(function(l,c){var f,d=(f=c.props.data)!==null&&f!==void 0?f:r;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(i.dataKey&&!i.allowDuplicatedCategory){var p=d===void 0?s:d;h=Wf(p,i.dataKey,a)}else h=d&&d[n]||s[n];return h?[].concat(Gs(l),[N_(c,h)]):l},[])},D2=function(t,r,n,a){var o=a||{x:t.chartX,y:t.chartY},i=WZ(o,n),s=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,f=NU(i,s,c,l);if(f>=0&&c){var d=c[f]&&c[f].value,h=Tm(t,r,f,d),p=GZ(n,s,f,o);return{activeTooltipIndex:f,activeLabel:d,activePayload:h,activeCoordinate:p}}return null},HZ=function(t,r){var n=r.axes,a=r.graphicalItems,o=r.axisType,i=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,f=t.layout,d=t.children,h=t.stackOffset,p=j_(f,o);return n.reduce(function(m,v){var x,y=v.type.defaultProps!==void 0?ee(ee({},v.type.defaultProps),v.props):v.props,g=y.type,b=y.dataKey,S=y.allowDataOverflow,w=y.allowDuplicatedCategory,k=y.scale,O=y.ticks,_=y.includeHidden,N=y[i];if(m[N])return m;var P=Yh(t.data,{graphicalItems:a.filter(function(Z){var I,G=i in Z.props?Z.props[i]:(I=Z.type.defaultProps)===null||I===void 0?void 0:I[i];return G===N}),dataStartIndex:l,dataEndIndex:c}),A=P.length,$,C,z;yZ(y.domain,S,g)&&($=Xg(y.domain,null,S),p&&(g==="number"||k!=="auto")&&(z=Ql(P,b,"category")));var E=FN(g);if(!$||$.length===0){var U,M=(U=y.domain)!==null&&U!==void 0?U:E;if(b){if($=Ql(P,b,g),g==="category"&&p){var B=p$($);w&&B?(C=$,$=Pd(0,A)):w||($=dw(M,$,v).reduce(function(Z,I){return Z.indexOf(I)>=0?Z:[].concat(Gs(Z),[I])},[]))}else if(g==="category")w?$=$.filter(function(Z){return Z!==""&&!Le(Z)}):$=dw(M,$,v).reduce(function(Z,I){return Z.indexOf(I)>=0||I===""||Le(I)?Z:[].concat(Gs(Z),[I])},[]);else if(g==="number"){var L=EU(P,a.filter(function(Z){var I,G,oe=i in Z.props?Z.props[i]:(I=Z.type.defaultProps)===null||I===void 0?void 0:I[i],q="hide"in Z.props?Z.props.hide:(G=Z.type.defaultProps)===null||G===void 0?void 0:G.hide;return oe===N&&(_||!q)}),b,o,f);L&&($=L)}p&&(g==="number"||k!=="auto")&&(z=Ql(P,b,"category"))}else p?$=Pd(0,A):s&&s[N]&&s[N].hasStack&&g==="number"?$=h==="expand"?[0,1]:__(s[N].stackGroups,l,c):$=S_(P,a.filter(function(Z){var I=i in Z.props?Z.props[i]:Z.type.defaultProps[i],G="hide"in Z.props?Z.props.hide:Z.type.defaultProps.hide;return I===N&&(_||!G)}),g,f,!0);if(g==="number")$=Mm(d,$,N,o,O),M&&($=Xg(M,$,S));else if(g==="category"&&M){var X=M,te=$.every(function(Z){return X.indexOf(Z)>=0});te&&($=X)}}return ee(ee({},m),{},Te({},N,ee(ee({},y),{},{axisType:o,domain:$,categoricalDomain:z,duplicateDomain:C,originalDomain:(x=y.domain)!==null&&x!==void 0?x:E,isCategorical:p,layout:f})))},{})},VZ=function(t,r){var n=r.graphicalItems,a=r.Axis,o=r.axisType,i=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,f=t.layout,d=t.children,h=Yh(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),p=h.length,m=j_(f,o),v=-1;return n.reduce(function(x,y){var g=y.type.defaultProps!==void 0?ee(ee({},y.type.defaultProps),y.props):y.props,b=g[i],S=FN("number");if(!x[b]){v++;var w;return m?w=Pd(0,p):s&&s[b]&&s[b].hasStack?(w=__(s[b].stackGroups,l,c),w=Mm(d,w,b,o)):(w=Xg(S,S_(h,n.filter(function(k){var O,_,N=i in k.props?k.props[i]:(O=k.type.defaultProps)===null||O===void 0?void 0:O[i],P="hide"in k.props?k.props.hide:(_=k.type.defaultProps)===null||_===void 0?void 0:_.hide;return N===b&&!P}),"number",f),a.defaultProps.allowDataOverflow),w=Mm(d,w,b,o)),ee(ee({},x),{},Te({},b,ee(ee({axisType:o},a.defaultProps),{},{hide:!0,orientation:ta(zZ,"".concat(o,".").concat(v%2),null),domain:w,originalDomain:S,isCategorical:m,layout:f})))}return x},{})},XZ=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,o=r.AxisComp,i=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,f=t.children,d="".concat(a,"Id"),h=An(f,o),p={};return h&&h.length?p=HZ(t,{axes:h,graphicalItems:i,axisType:a,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):i&&i.length&&(p=VZ(t,{Axis:o,graphicalItems:i,axisType:a,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),p},KZ=function(t){var r=wo(t),n=qa(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Zy(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:vd(r,n)}},R2=function(t){var r=t.children,n=t.defaultShowTooltip,a=Ln(r,Cs),o=0,i=0;return t.data&&t.data.length!==0&&(i=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(o=a.props.startIndex),a.props.endIndex>=0&&(i=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!n}},YZ=function(t){return!t||!t.length?!1:t.some(function(r){var n=Qa(r&&r.type);return n&&n.indexOf("Bar")>=0})},L2=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},qZ=function(t,r){var n=t.props,a=t.graphicalItems,o=t.xAxisMap,i=o===void 0?{}:o,s=t.yAxisMap,l=s===void 0?{}:s,c=n.width,f=n.height,d=n.children,h=n.margin||{},p=Ln(d,Cs),m=Ln(d,eo),v=Object.keys(l).reduce(function(w,k){var O=l[k],_=O.orientation;return!O.mirror&&!O.hide?ee(ee({},w),{},Te({},_,w[_]+O.width)):w},{left:h.left||0,right:h.right||0}),x=Object.keys(i).reduce(function(w,k){var O=i[k],_=O.orientation;return!O.mirror&&!O.hide?ee(ee({},w),{},Te({},_,ta(w,"".concat(_))+O.height)):w},{top:h.top||0,bottom:h.bottom||0}),y=ee(ee({},x),v),g=y.bottom;p&&(y.bottom+=p.props.height||Cs.defaultProps.height),m&&r&&(y=MU(y,a,n,r));var b=c-y.left-y.right,S=f-y.top-y.bottom;return ee(ee({brushBottom:g},y),{},{width:Math.max(b,0),height:Math.max(S,0)})},ZZ=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Dv=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,o=a===void 0?"axis":a,i=t.validateTooltipEventTypes,s=i===void 0?["axis"]:i,l=t.axisComponents,c=t.legendContent,f=t.formatAxisMap,d=t.defaultProps,h=function(y,g){var b=g.graphicalItems,S=g.stackGroups,w=g.offset,k=g.updateId,O=g.dataStartIndex,_=g.dataEndIndex,N=y.barSize,P=y.layout,A=y.barGap,$=y.barCategoryGap,C=y.maxBarSize,z=L2(P),E=z.numericAxisName,U=z.cateAxisName,M=YZ(b),B=[];return b.forEach(function(L,X){var te=Yh(y.data,{graphicalItems:[L],dataStartIndex:O,dataEndIndex:_}),Z=L.type.defaultProps!==void 0?ee(ee({},L.type.defaultProps),L.props):L.props,I=Z.dataKey,G=Z.maxBarSize,oe=Z["".concat(E,"Id")],q=Z["".concat(U,"Id")],ke={},ve=l.reduce(function(Ke,dt){var Ct=g["".concat(dt.axisType,"Map")],Lt=Z["".concat(dt.axisType,"Id")];Ct&&Ct[Lt]||dt.axisType==="zAxis"||Oi();var Ar=Ct[Lt];return ee(ee({},Ke),{},Te(Te({},dt.axisType,Ar),"".concat(dt.axisType,"Ticks"),qa(Ar)))},ke),K=ve[U],se=ve["".concat(U,"Ticks")],ge=S&&S[oe]&&S[oe].hasStack&&GU(L,S[oe].stackGroups),H=Qa(L.type).indexOf("Bar")>=0,ye=vd(K,se),he=[],Oe=M&&PU({barSize:N,stackGroups:S,totalSize:ZZ(ve,U)});if(H){var Fe,Re,bt=Le(G)?C:G,jt=(Fe=(Re=vd(K,se,!0))!==null&&Re!==void 0?Re:bt)!==null&&Fe!==void 0?Fe:0;he=AU({barGap:A,barCategoryGap:$,bandSize:jt!==ye?jt:ye,sizeList:Oe[q],maxBarSize:bt}),jt!==ye&&(he=he.map(function(Ke){return ee(ee({},Ke),{},{position:ee(ee({},Ke.position),{},{offset:Ke.position.offset-jt/2})})}))}var $e=L&&L.type&&L.type.getComposedData;$e&&B.push({props:ee(ee({},$e(ee(ee({},ve),{},{displayedData:te,props:y,dataKey:I,item:L,bandSize:ye,barPosition:he,offset:w,stackedData:ge,layout:P,dataStartIndex:O,dataEndIndex:_}))),{},Te(Te(Te({key:L.key||"item-".concat(X)},E,ve[E]),U,ve[U]),"animationId",k)),childIndex:N$(L,y.children),item:L})}),B},p=function(y,g){var b=y.props,S=y.dataStartIndex,w=y.dataEndIndex,k=y.updateId;if(!ib({props:b}))return null;var O=b.children,_=b.layout,N=b.stackOffset,P=b.data,A=b.reverseStackOrder,$=L2(_),C=$.numericAxisName,z=$.cateAxisName,E=An(O,n),U=zU(P,E,"".concat(C,"Id"),"".concat(z,"Id"),N,A),M=l.reduce(function(Z,I){var G="".concat(I.axisType,"Map");return ee(ee({},Z),{},Te({},G,XZ(b,ee(ee({},I),{},{graphicalItems:E,stackGroups:I.axisType===C&&U,dataStartIndex:S,dataEndIndex:w}))))},{}),B=qZ(ee(ee({},M),{},{props:b,graphicalItems:E}),g==null?void 0:g.legendBBox);Object.keys(M).forEach(function(Z){M[Z]=f(b,M[Z],B,Z.replace("Map",""),r)});var L=M["".concat(z,"Map")],X=KZ(L),te=h(b,ee(ee({},M),{},{dataStartIndex:S,dataEndIndex:w,updateId:k,graphicalItems:E,stackGroups:U,offset:B}));return ee(ee({formattedGraphicalItems:te,graphicalItems:E,offset:B,stackGroups:U},X),M)},m=function(x){function y(g){var b,S,w;return MZ(this,y),w=TZ(this,y,[g]),Te(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Te(w,"accessibilityManager",new mZ),Te(w,"handleLegendBBoxUpdate",function(k){if(k){var O=w.state,_=O.dataStartIndex,N=O.dataEndIndex,P=O.updateId;w.setState(ee({legendBBox:k},p({props:w.props,dataStartIndex:_,dataEndIndex:N,updateId:P},ee(ee({},w.state),{},{legendBBox:k}))))}}),Te(w,"handleReceiveSyncEvent",function(k,O,_){if(w.props.syncId===k){if(_===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(O)}}),Te(w,"handleBrushChange",function(k){var O=k.startIndex,_=k.endIndex;if(O!==w.state.dataStartIndex||_!==w.state.dataEndIndex){var N=w.state.updateId;w.setState(function(){return ee({dataStartIndex:O,dataEndIndex:_},p({props:w.props,dataStartIndex:O,dataEndIndex:_,updateId:N},w.state))}),w.triggerSyncEvent({dataStartIndex:O,dataEndIndex:_})}}),Te(w,"handleMouseEnter",function(k){var O=w.getMouseInfo(k);if(O){var _=ee(ee({},O),{},{isTooltipActive:!0});w.setState(_),w.triggerSyncEvent(_);var N=w.props.onMouseEnter;Ge(N)&&N(_,k)}}),Te(w,"triggeredAfterMouseMove",function(k){var O=w.getMouseInfo(k),_=O?ee(ee({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(_),w.triggerSyncEvent(_);var N=w.props.onMouseMove;Ge(N)&&N(_,k)}),Te(w,"handleItemMouseEnter",function(k){w.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),Te(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),Te(w,"handleMouseMove",function(k){k.persist(),w.throttleTriggeredAfterMouseMove(k)}),Te(w,"handleMouseLeave",function(k){w.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};w.setState(O),w.triggerSyncEvent(O);var _=w.props.onMouseLeave;Ge(_)&&_(O,k)}),Te(w,"handleOuterEvent",function(k){var O=_$(k),_=ta(w.props,"".concat(O));if(O&&Ge(_)){var N,P;/.*touch.*/i.test(O)?P=w.getMouseInfo(k.changedTouches[0]):P=w.getMouseInfo(k),_((N=P)!==null&&N!==void 0?N:{},k)}}),Te(w,"handleClick",function(k){var O=w.getMouseInfo(k);if(O){var _=ee(ee({},O),{},{isTooltipActive:!0});w.setState(_),w.triggerSyncEvent(_);var N=w.props.onClick;Ge(N)&&N(_,k)}}),Te(w,"handleMouseDown",function(k){var O=w.props.onMouseDown;if(Ge(O)){var _=w.getMouseInfo(k);O(_,k)}}),Te(w,"handleMouseUp",function(k){var O=w.props.onMouseUp;if(Ge(O)){var _=w.getMouseInfo(k);O(_,k)}}),Te(w,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),Te(w,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&w.handleMouseDown(k.changedTouches[0])}),Te(w,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&w.handleMouseUp(k.changedTouches[0])}),Te(w,"handleDoubleClick",function(k){var O=w.props.onDoubleClick;if(Ge(O)){var _=w.getMouseInfo(k);O(_,k)}}),Te(w,"handleContextMenu",function(k){var O=w.props.onContextMenu;if(Ge(O)){var _=w.getMouseInfo(k);O(_,k)}}),Te(w,"triggerSyncEvent",function(k){w.props.syncId!==void 0&&a0.emit(o0,w.props.syncId,k,w.eventEmitterSymbol)}),Te(w,"applySyncEvent",function(k){var O=w.props,_=O.layout,N=O.syncMethod,P=w.state.updateId,A=k.dataStartIndex,$=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)w.setState(ee({dataStartIndex:A,dataEndIndex:$},p({props:w.props,dataStartIndex:A,dataEndIndex:$,updateId:P},w.state)));else if(k.activeTooltipIndex!==void 0){var C=k.chartX,z=k.chartY,E=k.activeTooltipIndex,U=w.state,M=U.offset,B=U.tooltipTicks;if(!M)return;if(typeof N=="function")E=N(B,k);else if(N==="value"){E=-1;for(var L=0;L<B.length;L++)if(B[L].value===k.activeLabel){E=L;break}}var X=ee(ee({},M),{},{x:M.left,y:M.top}),te=Math.min(C,X.x+X.width),Z=Math.min(z,X.y+X.height),I=B[E]&&B[E].value,G=Tm(w.state,w.props.data,E),oe=B[E]?{x:_==="horizontal"?B[E].coordinate:te,y:_==="horizontal"?Z:B[E].coordinate}:BN;w.setState(ee(ee({},k),{},{activeLabel:I,activeCoordinate:oe,activePayload:G,activeTooltipIndex:E}))}else w.setState(k)}),Te(w,"renderCursor",function(k){var O,_=w.state,N=_.isTooltipActive,P=_.activeCoordinate,A=_.activePayload,$=_.offset,C=_.activeTooltipIndex,z=_.tooltipAxisBandSize,E=w.getTooltipEventType(),U=(O=k.props.active)!==null&&O!==void 0?O:N,M=w.props.layout,B=k.key||"_recharts-cursor";return T.createElement(SZ,{key:B,activeCoordinate:P,activePayload:A,activeTooltipIndex:C,chartName:r,element:k,isActive:U,layout:M,offset:$,tooltipAxisBandSize:z,tooltipEventType:E})}),Te(w,"renderPolarAxis",function(k,O,_){var N=ta(k,"type.axisType"),P=ta(w.state,"".concat(N,"Map")),A=k.type.defaultProps,$=A!==void 0?ee(ee({},A),k.props):k.props,C=P&&P[$["".concat(N,"Id")]];return j.cloneElement(k,ee(ee({},C),{},{className:tt(N,C.className),key:k.key||"".concat(O,"-").concat(_),ticks:qa(C,!0)}))}),Te(w,"renderPolarGrid",function(k){var O=k.props,_=O.radialLines,N=O.polarAngles,P=O.polarRadius,A=w.state,$=A.radiusAxisMap,C=A.angleAxisMap,z=wo($),E=wo(C),U=E.cx,M=E.cy,B=E.innerRadius,L=E.outerRadius;return j.cloneElement(k,{polarAngles:Array.isArray(N)?N:qa(E,!0).map(function(X){return X.coordinate}),polarRadius:Array.isArray(P)?P:qa(z,!0).map(function(X){return X.coordinate}),cx:U,cy:M,innerRadius:B,outerRadius:L,key:k.key||"polar-grid",radialLines:_})}),Te(w,"renderLegend",function(){var k=w.state.formattedGraphicalItems,O=w.props,_=O.children,N=O.width,P=O.height,A=w.props.margin||{},$=N-(A.left||0)-(A.right||0),C=w_({children:_,formattedGraphicalItems:k,legendWidth:$,legendContent:c});if(!C)return null;var z=C.item,E=T2(C,jZ);return j.cloneElement(z,ee(ee({},E),{},{chartWidth:N,chartHeight:P,margin:A,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),Te(w,"renderTooltip",function(){var k,O=w.props,_=O.children,N=O.accessibilityLayer,P=Ln(_,pn);if(!P)return null;var A=w.state,$=A.isTooltipActive,C=A.activeCoordinate,z=A.activePayload,E=A.activeLabel,U=A.offset,M=(k=P.props.active)!==null&&k!==void 0?k:$;return j.cloneElement(P,{viewBox:ee(ee({},U),{},{x:U.left,y:U.top}),active:M,label:E,payload:M?z:[],coordinate:C,accessibilityLayer:N})}),Te(w,"renderBrush",function(k){var O=w.props,_=O.margin,N=O.data,P=w.state,A=P.offset,$=P.dataStartIndex,C=P.dataEndIndex,z=P.updateId;return j.cloneElement(k,{key:k.key||"_recharts-brush",onChange:Qu(w.handleBrushChange,k.props.onChange),data:N,x:ue(k.props.x)?k.props.x:A.left,y:ue(k.props.y)?k.props.y:A.top+A.height+A.brushBottom-(_.bottom||0),width:ue(k.props.width)?k.props.width:A.width,startIndex:$,endIndex:C,updateId:"brush-".concat(z)})}),Te(w,"renderReferenceElement",function(k,O,_){if(!k)return null;var N=w,P=N.clipPathId,A=w.state,$=A.xAxisMap,C=A.yAxisMap,z=A.offset,E=k.type.defaultProps||{},U=k.props,M=U.xAxisId,B=M===void 0?E.xAxisId:M,L=U.yAxisId,X=L===void 0?E.yAxisId:L;return j.cloneElement(k,{key:k.key||"".concat(O,"-").concat(_),xAxis:$[B],yAxis:C[X],viewBox:{x:z.left,y:z.top,width:z.width,height:z.height},clipPathId:P})}),Te(w,"renderActivePoints",function(k){var O=k.item,_=k.activePoint,N=k.basePoint,P=k.childIndex,A=k.isRange,$=[],C=O.props.key,z=O.item.type.defaultProps!==void 0?ee(ee({},O.item.type.defaultProps),O.item.props):O.item.props,E=z.activeDot,U=z.dataKey,M=ee(ee({index:P,dataKey:U,cx:_.x,cy:_.y,r:4,fill:jv(O.item),strokeWidth:2,stroke:"#fff",payload:_.payload,value:_.value},Be(E,!1)),Gf(E));return $.push(y.renderActiveDot(E,M,"".concat(C,"-activePoint-").concat(P))),N?$.push(y.renderActiveDot(E,ee(ee({},M),{},{cx:N.x,cy:N.y}),"".concat(C,"-basePoint-").concat(P))):A&&$.push(null),$}),Te(w,"renderGraphicChild",function(k,O,_){var N=w.filterFormatItem(k,O,_);if(!N)return null;var P=w.getTooltipEventType(),A=w.state,$=A.isTooltipActive,C=A.tooltipAxis,z=A.activeTooltipIndex,E=A.activeLabel,U=w.props.children,M=Ln(U,pn),B=N.props,L=B.points,X=B.isRange,te=B.baseLine,Z=N.item.type.defaultProps!==void 0?ee(ee({},N.item.type.defaultProps),N.item.props):N.item.props,I=Z.activeDot,G=Z.hide,oe=Z.activeBar,q=Z.activeShape,ke=!!(!G&&$&&M&&(I||oe||q)),ve={};P!=="axis"&&M&&M.props.trigger==="click"?ve={onClick:Qu(w.handleItemMouseEnter,k.props.onClick)}:P!=="axis"&&(ve={onMouseLeave:Qu(w.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:Qu(w.handleItemMouseEnter,k.props.onMouseEnter)});var K=j.cloneElement(k,ee(ee({},N.props),ve));function se(dt){return typeof C.dataKey=="function"?C.dataKey(dt.payload):null}if(ke)if(z>=0){var ge,H;if(C.dataKey&&!C.allowDuplicatedCategory){var ye=typeof C.dataKey=="function"?se:"payload.".concat(C.dataKey.toString());ge=Wf(L,ye,E),H=X&&te&&Wf(te,ye,E)}else ge=L==null?void 0:L[z],H=X&&te&&te[z];if(q||oe){var he=k.props.activeIndex!==void 0?k.props.activeIndex:z;return[j.cloneElement(k,ee(ee(ee({},N.props),ve),{},{activeIndex:he})),null,null]}if(!Le(ge))return[K].concat(Gs(w.renderActivePoints({item:N,activePoint:ge,basePoint:H,childIndex:z,isRange:X})))}else{var Oe,Fe=(Oe=w.getItemByXY(w.state.activeCoordinate))!==null&&Oe!==void 0?Oe:{graphicalItem:K},Re=Fe.graphicalItem,bt=Re.item,jt=bt===void 0?k:bt,$e=Re.childIndex,Ke=ee(ee(ee({},N.props),ve),{},{activeIndex:$e});return[j.cloneElement(jt,Ke),null,null]}return X?[K,null,null]:[K,null]}),Te(w,"renderCustomized",function(k,O,_){return j.cloneElement(k,ee(ee({key:"recharts-customized-".concat(_)},w.props),w.state))}),Te(w,"renderMap",{CartesianGrid:{handler:nf,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:nf},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:nf},YAxis:{handler:nf},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((b=g.id)!==null&&b!==void 0?b:Ci("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=wO(w.triggeredAfterMouseMove,(S=g.throttleDelay)!==null&&S!==void 0?S:1e3/60),w.state={},w}return RZ(y,x),EZ(y,[{key:"componentDidMount",value:function(){var b,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,S=b.children,w=b.data,k=b.height,O=b.layout,_=Ln(S,pn);if(_){var N=_.props.defaultIndex;if(!(typeof N!="number"||N<0||N>this.state.tooltipTicks.length-1)){var P=this.state.tooltipTicks[N]&&this.state.tooltipTicks[N].value,A=Tm(this.state,w,N,P),$=this.state.tooltipTicks[N].coordinate,C=(this.state.offset.top+k)/2,z=O==="horizontal",E=z?{x:$,y:C}:{y:$,x:C},U=this.state.formattedGraphicalItems.find(function(B){var L=B.item;return L.type.name==="Scatter"});U&&(E=ee(ee({},E),U.props.points[N].tooltipPosition),A=U.props.points[N].tooltipPayload);var M={activeTooltipIndex:N,isTooltipActive:!0,activeLabel:P,activePayload:A,activeCoordinate:E};this.setState(M),this.renderCursor(_),this.accessibilityManager.setIndex(N)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var w,k;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(b){lg([Ln(b.children,pn)],[Ln(this.props.children,pn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Ln(this.props.children,pn);if(b&&typeof b.props.shared=="boolean"){var S=b.props.shared?"axis":"item";return s.indexOf(S)>=0?S:o}return o}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var S=this.container,w=S.getBoundingClientRect(),k=J8(w),O={chartX:Math.round(b.pageX-k.left),chartY:Math.round(b.pageY-k.top)},_=w.width/S.offsetWidth||1,N=this.inRange(O.chartX,O.chartY,_);if(!N)return null;var P=this.state,A=P.xAxisMap,$=P.yAxisMap,C=this.getTooltipEventType(),z=D2(this.state,this.props.data,this.props.layout,N);if(C!=="axis"&&A&&$){var E=wo(A).scale,U=wo($).scale,M=E&&E.invert?E.invert(O.chartX):null,B=U&&U.invert?U.invert(O.chartY):null;return ee(ee({},O),{},{xValue:M,yValue:B},z)}return z?ee(ee({},O),z):null}},{key:"inRange",value:function(b,S){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,O=b/w,_=S/w;if(k==="horizontal"||k==="vertical"){var N=this.state.offset,P=O>=N.left&&O<=N.left+N.width&&_>=N.top&&_<=N.top+N.height;return P?{x:O,y:_}:null}var A=this.state,$=A.angleAxisMap,C=A.radiusAxisMap;if($&&C){var z=wo($);return gw({x:O,y:_},z)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,S=this.getTooltipEventType(),w=Ln(b,pn),k={};w&&S==="axis"&&(w.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var O=Gf(this.props,this.handleOuterEvent);return ee(ee({},O),k)}},{key:"addListener",value:function(){a0.on(o0,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){a0.removeListener(o0,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,S,w){for(var k=this.state.formattedGraphicalItems,O=0,_=k.length;O<_;O++){var N=k[O];if(N.item===b||N.props.key===b.key||S===Qa(N.item.type)&&w===N.childIndex)return N}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,S=this.state.offset,w=S.left,k=S.top,O=S.height,_=S.width;return T.createElement("defs",null,T.createElement("clipPath",{id:b},T.createElement("rect",{x:w,y:k,height:O,width:_})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(S,w){var k=E2(w,2),O=k[0],_=k[1];return ee(ee({},S),{},Te({},O,_.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(S,w){var k=E2(w,2),O=k[0],_=k[1];return ee(ee({},S),{},Te({},O,_.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[b])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(b){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[b])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(b){var S=this.state,w=S.formattedGraphicalItems,k=S.activeItem;if(w&&w.length)for(var O=0,_=w.length;O<_;O++){var N=w[O],P=N.props,A=N.item,$=A.type.defaultProps!==void 0?ee(ee({},A.type.defaultProps),A.props):A.props,C=Qa(A.type);if(C==="Bar"){var z=(P.data||[]).find(function(B){return BH(b,B)});if(z)return{graphicalItem:N,payload:z}}else if(C==="RadialBar"){var E=(P.data||[]).find(function(B){return gw(b,B)});if(E)return{graphicalItem:N,payload:E}}else if(Uh(N,k)||Wh(N,k)||qc(N,k)){var U=zV({graphicalItem:N,activeTooltipItem:k,itemData:$.data}),M=$.activeIndex===void 0?U:$.activeIndex;return{graphicalItem:ee(ee({},N),{},{childIndex:M}),payload:qc(N,k)?$.data[U]:N.props.data[U]}}}return null}},{key:"render",value:function(){var b=this;if(!ib(this))return null;var S=this.props,w=S.children,k=S.className,O=S.width,_=S.height,N=S.style,P=S.compact,A=S.title,$=S.desc,C=T2(S,OZ),z=Be(C,!1);if(P)return T.createElement(u2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},T.createElement(ug,ts({},z,{width:O,height:_,title:A,desc:$}),this.renderClipPath(),lb(w,this.renderMap)));if(this.props.accessibilityLayer){var E,U;z.tabIndex=(E=this.props.tabIndex)!==null&&E!==void 0?E:0,z.role=(U=this.props.role)!==null&&U!==void 0?U:"application",z.onKeyDown=function(B){b.accessibilityManager.keyboardEvent(B)},z.onFocus=function(){b.accessibilityManager.focus()}}var M=this.parseEventsOfWrapper();return T.createElement(u2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},T.createElement("div",ts({className:tt("recharts-wrapper",k),style:ee({position:"relative",cursor:"default",width:O,height:_},N)},M,{ref:function(L){b.container=L}}),T.createElement(ug,ts({},z,{width:O,height:_,title:A,desc:$,style:UZ}),this.renderClipPath(),lb(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(j.Component);Te(m,"displayName",r),Te(m,"defaultProps",ee({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Te(m,"getDerivedStateFromProps",function(x,y){var g=x.dataKey,b=x.data,S=x.children,w=x.width,k=x.height,O=x.layout,_=x.stackOffset,N=x.margin,P=y.dataStartIndex,A=y.dataEndIndex;if(y.updateId===void 0){var $=R2(x);return ee(ee(ee({},$),{},{updateId:0},p(ee(ee({props:x},$),{},{updateId:0}),y)),{},{prevDataKey:g,prevData:b,prevWidth:w,prevHeight:k,prevLayout:O,prevStackOffset:_,prevMargin:N,prevChildren:S})}if(g!==y.prevDataKey||b!==y.prevData||w!==y.prevWidth||k!==y.prevHeight||O!==y.prevLayout||_!==y.prevStackOffset||!ls(N,y.prevMargin)){var C=R2(x),z={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},E=ee(ee({},D2(y,b,O)),{},{updateId:y.updateId+1}),U=ee(ee(ee({},C),z),E);return ee(ee(ee({},U),p(ee({props:x},U),y)),{},{prevDataKey:g,prevData:b,prevWidth:w,prevHeight:k,prevLayout:O,prevStackOffset:_,prevMargin:N,prevChildren:S})}if(!lg(S,y.prevChildren)){var M,B,L,X,te=Ln(S,Cs),Z=te&&(M=(B=te.props)===null||B===void 0?void 0:B.startIndex)!==null&&M!==void 0?M:P,I=te&&(L=(X=te.props)===null||X===void 0?void 0:X.endIndex)!==null&&L!==void 0?L:A,G=Z!==P||I!==A,oe=!Le(b),q=oe&&!G?y.updateId:y.updateId+1;return ee(ee({updateId:q},p(ee(ee({props:x},y),{},{updateId:q,dataStartIndex:Z,dataEndIndex:I}),y)),{},{prevChildren:S,dataStartIndex:Z,dataEndIndex:I})}return null}),Te(m,"renderActiveDot",function(x,y,g){var b;return j.isValidElement(x)?b=j.cloneElement(x,y):Ge(x)?b=x(y):b=T.createElement(zh,y),T.createElement(st,{className:"recharts-active-dot",key:g},b)});var v=j.forwardRef(function(y,g){return T.createElement(m,ts({},y,{ref:g}))});return v.displayName=m.displayName,v},Rv=Dv({chartName:"LineChart",GraphicalChild:Wr,axisComponents:[{axisType:"xAxis",AxisComp:ja},{axisType:"yAxis",AxisComp:Oa}],formatAxisMap:_v}),QZ=Dv({chartName:"ScatterChart",GraphicalChild:dn,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:ja},{axisType:"yAxis",AxisComp:Oa},{axisType:"zAxis",AxisComp:Kh}],formatAxisMap:_v}),zN=Dv({chartName:"AreaChart",GraphicalChild:Jn,axisComponents:[{axisType:"xAxis",AxisComp:ja},{axisType:"yAxis",AxisComp:Oa}],formatAxisMap:_v});const JZ="modulepreload",eQ=function(e){return"/"+e},I2={},tQ=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),s=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=eQ(l),l in I2)return;I2[l]=!0;const c=l.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${f}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":JZ,c||(d.as="script"),d.crossOrigin="",d.href=l,s&&d.setAttribute("nonce",s),document.head.appendChild(d),c)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(i){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i}return a.then(i=>{for(const s of i||[])s.status==="rejected"&&o(s.reason);return t().catch(o)})};function rQ(e){const[[t,r,n],[a,o,i],[s,l,c]]=e,f=t*(o*c-i*l)-r*(a*c-i*s)+n*(a*l-o*s);if(Math.abs(f)<1e-10)return null;const d=1/f;return[[(o*c-i*l)*d,(n*l-r*c)*d,(r*i-n*o)*d],[(i*s-a*c)*d,(t*c-n*s)*d,(n*a-t*i)*d],[(a*l-o*s)*d,(r*s-t*l)*d,(t*o-r*a)*d]]}function B2(e,t){const r=[[0,0,0],[0,0,0],[0,0,0]];for(let n=0;n<3;n++)for(let a=0;a<3;a++)for(let o=0;o<3;o++)r[n][a]+=e[n][o]*t[o][a];return r}class Hs{constructor(t){fn(this,"size");fn(this,"isPowerOfTwo");fn(this,"_real");fn(this,"_imag");fn(this,"_scratch",null);fn(this,"_rev",null);fn(this,"_m",0);fn(this,"_internalFFT",null);fn(this,"_chirpReal",null);fn(this,"_chirpImag",null);fn(this,"_bReal",null);fn(this,"_bImag",null);fn(this,"_hanning",null);fn(this,"_windowSumSq",0);this.size=t,this.isPowerOfTwo=(t&t-1)===0&&t>0,this._real=new Float32Array(t),this._imag=new Float32Array(t),this.isPowerOfTwo?this.initRadix2():this.initBluestein()}initRadix2(){const t=this.size,r=Math.log2(t);this._rev=new Uint32Array(t);for(let n=0;n<t;n++){let a=0,o=n;for(let i=0;i<r;i++)a=a<<1|o&1,o>>>=1;this._rev[n]=a}}initBluestein(){const t=this.size;this._m=Math.pow(2,Math.ceil(Math.log2(2*t-1))),this._internalFFT=new Hs(this._m),this._chirpReal=new Float32Array(t),this._chirpImag=new Float32Array(t);for(let a=0;a<t;a++){const o=-Math.PI*(a*a)/t;this._chirpReal[a]=Math.cos(o),this._chirpImag[a]=Math.sin(o)}const r=new Float32Array(this._m),n=new Float32Array(this._m);for(let a=0;a<t;a++)r[a]=this._chirpReal[a],n[a]=-this._chirpImag[a];for(let a=1;a<t;a++)r[this._m-a]=r[a],n[this._m-a]=n[a];this._internalFFT.transform(r,n),this._bReal=new Float32Array(this._internalFFT._real),this._bImag=new Float32Array(this._internalFFT._imag)}initHanning(){if(this._hanning)return;const t=this.size;this._hanning=new Float32Array(t);let r=0;for(let n=0;n<t;n++){const a=.5*(1-Math.cos(2*Math.PI*n/(t-1)));this._hanning[n]=a,r+=a*a}this._windowSumSq=r}transform(t,r){this.isPowerOfTwo?this.transformRadix2(t,r):this.transformBluestein(t,r)}transformRadix2(t,r){const n=this.size,a=this._rev,o=this._real,i=this._imag;if(t===o)for(let s=0;s<n;s++){const l=a[s];if(s<l){const c=o[s],f=i[s];o[s]=o[l],i[s]=i[l],o[l]=c,i[l]=f}}else for(let s=0;s<n;s++){const l=a[s];o[s]=t[l],i[s]=r?r[l]:0}for(let s=2;s<=n;s*=2){const l=s/2,c=-2*Math.PI/s,f=Math.cos(c),d=Math.sin(c);for(let h=0;h<n;h+=s){let p=1,m=0;for(let v=0;v<l;v++){const x=h+v,y=h+v+l,g=p*o[y]-m*i[y],b=p*i[y]+m*o[y],S=o[x],w=i[x];o[x]=S+g,i[x]=w+b,o[y]=S-g,i[y]=w-b;const k=p*f-m*d,O=p*d+m*f;p=k,m=O}}}}transformBluestein(t,r){const n=this.size,a=this._m,o=this._internalFFT,i=o._real,s=o._imag;i.fill(0),s.fill(0);for(let d=0;d<n;d++){const h=t[d],p=r?r[d]:0,m=this._chirpReal[d],v=this._chirpImag[d];i[d]=h*m-p*v,s[d]=h*v+p*m}o.transformRadix2(i,s);for(let d=0;d<a;d++){const h=o._real[d],p=o._imag[d],m=this._bReal[d],v=this._bImag[d];o._real[d]=h*m-p*v,o._imag[d]=h*v+p*m}const l=o._real,c=o._imag;for(let d=0;d<a;d++)c[d]=-c[d];o.transformRadix2(l,c);const f=1/a;for(let d=0;d<n;d++){const h=o._real[d]*f,p=-o._imag[d]*f,m=this._chirpReal[d],v=this._chirpImag[d];this._real[d]=h*m-p*v,this._imag[d]=h*v+p*m}}calculateSpectrum(t,r,n=!1){const a=this.size;let o=0;for(let f=0;f<a;f++)o+=t[f];const i=o/a;this._scratch||(this._scratch=new Float32Array(a));const s=this._scratch;if(n){this.initHanning();const f=this._hanning;for(let d=0;d<a;d++)s[d]=(t[d]-i)*f[d]}else for(let f=0;f<a;f++)s[f]=t[f]-i;this.transform(s);const l=r.length;let c=1/a;n&&this._windowSumSq>0&&(c=1/this._windowSumSq);for(let f=0;f<l;f++){const d=this._real[f],h=this._imag[f];r[f]+=(d*d+h*h)*c}}}function nQ(e,t,r,n=!1){const a=new Hs(t),o=new Hs(r),i=t*r,s=new Float32Array(i),l=new Float32Array(i);let c=null,f=null;if(n){c=new Float32Array(t);for(let v=0;v<t;v++)c[v]=.5*(1-Math.cos(2*Math.PI*v/(t-1)));f=new Float32Array(r);for(let v=0;v<r;v++)f[v]=.5*(1-Math.cos(2*Math.PI*v/(r-1)))}for(let v=0;v<r;v++){const x=v*t,y=a._real;let g=0;for(let S=0;S<t;S++)g+=e[x+S];const b=g/t;if(c)for(let S=0;S<t;S++)y[S]=(e[x+S]-b)*c[S];else for(let S=0;S<t;S++)y[S]=e[x+S]-b;a.transform(y);for(let S=0;S<t;S++)s[x+S]=a._real[S],l[x+S]=a._imag[S]}for(let v=0;v<t;v++){const x=o._real,y=o._imag;for(let g=0;g<r;g++){const b=g*t+v;let S=s[b],w=l[b];f&&(S*=f[g],w*=f[g]),x[g]=S,y[g]=w}o.transform(x,y);for(let g=0;g<r;g++){const b=g*t+v;s[b]=o._real[g],l[b]=o._imag[g]}}const d=new Float32Array(i);let h=1,p=t,m=r;if(n&&c&&f){p=0;for(let v=0;v<t;v++)p+=c[v]*c[v];m=0;for(let v=0;v<r;v++)m+=f[v]*f[v]}h=1/(p*m);for(let v=0;v<i;v++)d[v]=(s[v]*s[v]+l[v]*l[v])*h;return d}function aQ(e,t,r){const n=new Float32Array(e.length),a=Math.floor(t/2),o=Math.floor(r/2);for(let i=0;i<r;i++)for(let s=0;s<t;s++){const l=(s+a)%t,c=(i+o)%r,f=i*t+s,d=c*t+l;n[d]=e[f]}return n}function vf(e,t,r){const a=e*t*2,o=8,i=o+a,s="Fake",l="NoiseCam",c="NoiseCam",f=N=>{const P=new Uint8Array(N.length+1);for(let A=0;A<N.length;A++)P[A]=N.charCodeAt(A);return P[N.length]=0,P},d=f(s),h=f(l),p=f(c),m=[{id:254,type:4,count:1,value:0},{id:256,type:4,count:1,value:e},{id:257,type:4,count:1,value:t},{id:258,type:3,count:1,value:16},{id:259,type:3,count:1,value:1},{id:262,type:3,count:1,value:32803},{id:271,type:2,count:d.length,value:d},{id:272,type:2,count:h.length,value:h},{id:273,type:4,count:1,value:o},{id:277,type:3,count:1,value:1},{id:278,type:4,count:1,value:t},{id:279,type:4,count:1,value:a},{id:33421,type:3,count:2,value:[2,2]},{id:33422,type:1,count:4,value:[0,1,1,2]},{id:50706,type:1,count:4,value:[1,4,0,0]},{id:50717,type:2,count:p.length,value:p}],v=2+m.length*12+4;let x=0;const y=m.map(N=>{let P=1;N.type===3&&(P=2),N.type===4&&(P=4);const A=N.count*P,$=A<=4;let C=0;return $||(C=x,x+=A,x%2!==0&&x++),{...N,fits:$,totalBytes:A,extraOffset:C}}),g=i+v,b=g+x,S=new ArrayBuffer(b),w=new DataView(S),k=new Uint8Array(S);w.setUint16(0,18761,!0),w.setUint16(2,42,!0),w.setUint32(4,i,!0);const O=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);k.set(O,o);let _=i;return w.setUint16(_,m.length,!0),_+=2,y.forEach(N=>{if(w.setUint16(_,N.id,!0),w.setUint16(_+2,N.type,!0),w.setUint32(_+4,N.count,!0),N.fits){const P=_+8;Array.isArray(N.value)?N.value.forEach((A,$)=>{N.type===1&&w.setUint8(P+$,A),N.type===3&&w.setUint16(P+$*2,A,!0)}):N.value instanceof Uint8Array||(N.type===3&&w.setUint16(P,N.value,!0),N.type===4&&w.setUint32(P,N.value,!0))}else{const P=g+N.extraOffset;w.setUint32(_+8,P,!0);const A=P;N.value instanceof Uint8Array?k.set(N.value,A):Array.isArray(N.value)&&N.value.forEach(($,C)=>{N.type===1&&w.setUint8(A+C,$),N.type===3&&w.setUint16(A+C*2,$,!0)})}_+=12}),w.setUint32(_,0,!0),S}let s0=null;async function mu(){if(!s0)try{const n=(await tQ(()=>import("./joraw-do5YTm7B.js"),[])).default;if(typeof n!="function")throw new Error("JoRaw WASM import failed");const a=new URL("/assets/joraw-BUh50ws_.wasm",import.meta.url).href;s0=n({locateFile:(o,i)=>o.endsWith("joraw.wasm")?a:i+o})}catch(r){throw console.error("Failed to load joraw.js:",r),r}const e=await s0,t=e.LibRaw||e.JoRaw;if(!t)throw new Error("JoRaw class not found");return t}const oQ=[[3.2404542,-1.5371385,-.4985314],[-.969266,1.8760108,.041556],[.0556434,-.2040259,1.0572252]],nc=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055;async function af(e,t=0,r=0){const n=await mu(),a=new n;try{await a.open(new Uint8Array(e));const o=a.getRawImage(),i=new Uint16Array(o.data),s=o.width,l=o.height,c=Math.floor((s-t)/6)*2,f=Math.floor((l-r)/6)*2;if(c<=0||f<=0)throw new Error("Image too small for X-Trans subsampling with current phase.");const d=new Uint16Array(c*f);for(let p=0;p<f/2;p++){const m=p*6+r;if(m+3>=l)break;const v=m*s,x=(m+3)*s,y=p*2,g=y*c,b=(y+1)*c;for(let S=0;S<c/2;S++){const w=S*6+t;if(w+1>=s)break;const k=S*2;d[g+k]=i[v+w+1],d[g+k+1]=i[v+w+0],d[b+k]=i[x+w+0],d[b+k+1]=i[x+w+1]}}return{dngBuffer:vf(c,f,d),width:c,height:f}}finally{a.delete?a.delete():a.close()}}async function iQ(e){const t=await createImageBitmap(e),r=t.width,n=t.height,a=document.createElement("canvas");a.width=r,a.height=n;const o=a.getContext("2d");if(!o)throw new Error("Failed to create canvas context");o.drawImage(t,0,0);const s=o.getImageData(0,0,r,n).data,l=r*n,c=new Uint16Array(l);for(let d=0;d<n;d++)for(let h=0;h<r;h++){const p=(d*r+h)*4,m=d*r+h,v=d%2===0,x=h%2===0;let y=0;v&&x?y=s[p]:!v&&!x?y=s[p+2]:y=s[p+1],c[m]=y*64}return{previewBlob:await new Promise(d=>a.toBlob(d,"image/png"))||e,analysisData:{data:c,width:r,height:n,bayerPattern:"RGGB",blackLevels:[0,0,0,0],whiteLevel:16320,metadata:{description:"Standard image (non-RAW)"},isThreePlane:!0}}}const sQ=async e=>{const t=await mu(),r=new t;try{await r.open(e,{useCameraWb:!0,outputBps:8,noAutoBright:!0,userQual:3,outputColor:1});const n=await r.imageData();return new Promise((a,o)=>{const i=document.createElement("canvas");i.width=n.width,i.height=n.height;const s=i.getContext("2d");if(!s){o(new Error("Could not create canvas context"));return}const l=s.createImageData(n.width,n.height),c=n.data,f=n.width*n.height;for(let d=0;d<f;d++){const h=d*3,p=d*4;l.data[p]=c[h],l.data[p+1]=c[h+1],l.data[p+2]=c[h+2],l.data[p+3]=255}s.putImageData(l,0,0),i.toBlob(d=>{d?a(d):o(new Error("Canvas to Blob failed"))},"image/jpeg",.85)})}finally{r.delete?r.delete():r.close()}},Hd=async e=>{var n,a,o,i,s,l,c,f,d;const t=await mu(),r=new t;try{if(await r.open(e,{}),typeof r.getRawImage!="function")throw new Error("WASM mismatch");const h=r.getRawImage();let p=new Uint16Array(h.data);const m=await r.metadata(!0),v=((n=m.idata)==null?void 0:n.filters)||0,x=((a=m.idata)==null?void 0:a.colors)||0,y=v===0&&x===3,g=v===9;let b=[];if((o=m.color_data)!=null&&o.cblack_rawpy_style)b=m.color_data.cblack_rawpy_style;else if((s=(i=m.color_data)==null?void 0:i.dng_levels)!=null&&s.dng_cblack)b=m.color_data.dng_levels.dng_cblack;else if(((l=m.black_level_per_channel)==null?void 0:l.length)>=4)b=m.black_level_per_channel;else if(((c=m.cblack)==null?void 0:c.length)>=4)b=m.cblack;else if(((d=(f=m.color)==null?void 0:f.cblack)==null?void 0:d.length)>=4)b=m.color.cblack;else{const w=m.black_level||m.color_data&&m.color_data.black||0;b=[w,w,w,w]}const S=[Number(b[0])||0,Number(b[1])||0,Number(b[2])||0,Number(b[3])||0];return{data:p,width:h.width,height:h.height,bayerPattern:m.color_desc||"RGGB",blackLevels:S,whiteLevel:m.white_level||16383,metadata:m,isThreePlane:y,isXTrans:g}}finally{r.delete?r.delete():r.close()}};async function qo(e){const t=new Uint8Array(e.slice(0)),r=new Uint8Array(e.slice(0)),[n,a]=await Promise.all([sQ(t),Hd(r)]);return{previewBlob:n,analysisData:a}}async function Vd(e){const t=new Uint8Array(e.slice(0));return Hd(t)}const F2=e=>(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e++,e);async function l0(e,t,r,n=!0){const a=await Hd(new Uint8Array(e)),o=await Hd(new Uint8Array(t));if(a.width!==o.width||a.height!==o.height)throw new Error("Dimension Mismatch");const i=a.width,s=a.height,l=r?F2(i):i,c=r?F2(s):s,f=l*c,d=new Uint16Array(f),h=6e4,p=1.41421356;for(let m=0;m<s;m++){const v=m*i,x=m*l;for(let y=0;y<i;y++){const g=a.data[v+y],b=o.data[v+y];let S=g-b;n&&(S/=p);let w=S+h;w=Math.max(0,Math.min(65535,w)),d[x+y]=Math.round(w)}}return{rawData:d,width:l,height:c,metadata:a.metadata}}function Fi(e,t,r,n,a,o,i){const s=Math.max(0,Math.floor(n)),l=Math.max(0,Math.floor(a)),c=Math.min(t,Math.ceil(n+o)),f=Math.min(r,Math.ceil(a+i)),d=[0,0,0,0],h=[0,0,0,0],p=[0,0,0,0];for(let x=l;x<f;x++){const y=x*t,g=x%2;for(let b=s;b<c;b++){const S=b%2,w=e[y+b],k=g*2+S;d[k]+=w,h[k]+=w*w,p[k]++}}const m=[0,0,0,0],v=[0,0,0,0];for(let x=0;x<4;x++)if(p[x]>0){const y=d[x]/p[x];m[x]=y;const b=h[x]/p[x]-y*y;v[x]=Math.sqrt(Math.max(0,b))}return{x:s,y:l,width:c-s,height:f-l,means:m,stdDevs:v,pixelCount:p.reduce((x,y)=>x+y,0)}}function z2(e,t,r,n,a,o,i=0,s=0){const l=Math.max(0,Math.floor(n.x)),c=Math.max(0,Math.floor(n.y)),f=Math.min(t,Math.ceil(n.x+n.w)),d=Math.min(r,Math.ceil(n.y+n.h)),h=a>>1,p=a&1,m=(o>>1)+i,v=(o&1)+s;let x=0,y=0,g=0;for(let _=c;_<d-2;_+=2)for(let N=l;N<f-2;N+=2){const P=(_+h)*t+(N+p),A=(_+m)*t+(N+v);_+m>=r||N+v>=t||(x+=e[P],y+=e[A],g++)}if(g<2)return{sumCov:0,sumVar1:0,sumVar2:0,n:0};const b=x/g,S=y/g;let w=0,k=0,O=0;for(let _=c;_<d-2;_+=2)for(let N=l;N<f-2;N+=2){const P=(_+h)*t+(N+p),A=(_+m)*t+(N+v);if(_+m>=r||N+v>=t)continue;const $=e[P],C=e[A],z=$-b,E=C-S;w+=z*E,k+=z*z,O+=E*E}return{sumCov:w,sumVar1:k,sumVar2:O,n:g}}function lQ(e){if(e.n<2)return 0;const t=Math.sqrt(e.sumVar1*e.sumVar2);return t===0?0:e.sumCov/t}function cQ(e,t,r,n,a,o,i,s,l,c,f){if(c<=l)return[];const d=Math.max(0,Math.floor(n)),h=Math.max(0,Math.floor(a)),p=Math.min(t,Math.ceil(n+o)),m=Math.min(r,Math.ceil(a+i)),v=c-l,x=f?Math.floor(v)+1:s,y=v/x,g=[new Uint32Array(x),new Uint32Array(x),new Uint32Array(x),new Uint32Array(x)];for(let S=h;S<m;S++){const w=S*t,k=S%2;for(let O=d;O<p;O++){const _=O%2,N=e[w+O];if(N<l||N>c)continue;const P=k*2+_;let A;f?A=Math.floor(N-l):A=Math.floor((N-l)/y),A<0&&(A=0),A>=x&&(A=x-1),g[P][A]++}}const b=[];for(let S=0;S<x;S++){const w=l+(f?S:S*y);b.push({binStart:w,c0:g[0][S],c1:g[1][S],c2:g[2][S],c3:g[3][S]})}return b}function uQ(e,t,r,n,a,o=!1,i=!1,s={rows:!1,rowGroup:0,cols:!1,colGroup:0},l=!0,c=1){const f=Math.max(0,Math.floor(n.x)),d=Math.max(0,Math.floor(n.y)),h=Math.min(t,Math.ceil(n.x+n.w)),p=Math.min(r,Math.ceil(n.y+n.h)),m=h-f,v=p-d;if(m<=1||v<=1)return null;let x=0;for(let A=f;A<h;A++)A%2===(a&1)&&x++;let y=0;for(let A=d;A<p;A++)A%2===a>>1&&y++;if(x<4||y<4)return null;const g=Math.max(1,c),b=Math.floor(2*x/(g+1)),S=Math.floor(2*y/(g+1));if(b<4||S<4)return null;const w=new Hs(b),k=new Hs(S),O=new Float32Array(Math.floor(b/2)+1),_=new Float32Array(Math.floor(S/2)+1);let N=0,P=0;for(let A=d;A<p;A++){const $=A%2;if(a>>1!==$||s.rows&&(A>>1&1)!==s.rowGroup)continue;const C=A*t,z=new Float32Array(x);let E=0;for(let U=f;U<h;U++)U%2===(a&1)&&E<x&&(z[E++]=e[C+U]);for(let U=0;U<g;U++){const M=Math.floor(U*b/2);if(M+b>x)break;const B=z.slice(M,M+b);w.calculateSpectrum(B,O,i),N++}if(!l)break}for(let A=f;A<h;A++){const $=A%2;if((a&1)!==$||s.cols&&(A>>1&1)!==s.rowGroup)continue;const C=new Float32Array(y);let z=0;for(let E=d;E<p;E++)E%2===a>>1&&z<y&&(C[z++]=e[E*t+A]);for(let E=0;E<g;E++){const U=Math.floor(E*S/2);if(U+S>y)break;const M=C.slice(U,U+S);k.calculateSpectrum(M,_,i),P++}if(!l)break}if(N>0)for(let A=0;A<O.length;A++)O[A]/=N;if(P>0)for(let A=0;A<_.length;A++)_[A]/=P;return{avgHoriz:Array.from(O),avgVert:Array.from(_),sampleCount:{h:N,v:P}}}function fQ(e,t,r,n,a,o=!1){const i=Math.max(0,Math.floor(n.x)),s=Math.max(0,Math.floor(n.y)),l=Math.min(t,Math.ceil(n.x+n.w)),c=Math.min(r,Math.ceil(n.y+n.h));let f=-1;for(let g=s;g<c;g++)if(g%2===a>>1){f=g;break}if(f===-1)return null;let d=-1;for(let g=i;g<l;g++)if(g%2===(a&1)){d=g;break}if(d===-1)return null;const h=[];for(let g=f;g<c;g+=2){const b=g*t,S=[];for(let w=d;w<l;w+=2)S.push(e[b+w]);h.push(S)}const p=h.length;if(p===0)return null;const m=h[0].length;if(m===0)return null;const v=new Float32Array(m*p);for(let g=0;g<p;g++){const b=h[g];for(let S=0;S<m;S++)v[g*m+S]=b[S]}const x=nQ(v,m,p,o),y=aQ(x,m,p);return{width:m,height:p,data:y}}function dQ(e,t,r,n,a,o,i){const{x:s,y:l,w:c,h:f}=n,d=[],h=Math.max(0,Math.floor(s)),p=Math.max(0,Math.floor(l)),m=Math.min(t,Math.ceil(s+c)),v=Math.min(r,Math.ceil(l+f)),x=a>>1,y=a&1;for(let k=p;k<v;k++){if(k%2!==x)continue;const O=k*t;for(let _=h;_<m;_++){if(_%2!==y)continue;const N=e[O+_];N>=o&&N<=i&&d.push(N-o)}}if(d.length===0)return null;d.sort((k,O)=>k-O);const g=[d[0]];for(let k=1;k<d.length;k++)d[k]!==d[k-1]&&g.push(d[k]);const b=[],S=[],w={};for(let k=0;k<g.length-1;k++){const O=g[k],N=g[k+1]-O;b.push(N),S.push({x:O,y:N}),w[N]=(w[N]||0)+1}return{uniqueCount:g.length,diffCount:b.length,stepCounts:w,plotData:S}}async function U2(e,t){const r=await mu(),n=new r;try{const a=new Uint8Array(e.slice(0));let o=!1,i=[];if(t.customMatrix&&t.customMatrix.length===9){const h=[[t.customMatrix[0],t.customMatrix[1],t.customMatrix[2]],[t.customMatrix[3],t.customMatrix[4],t.customMatrix[5]],[t.customMatrix[6],t.customMatrix[7],t.customMatrix[8]]],p=rQ(h);if(p){const m=t.wbGains?t.wbGains[0]:1,v=t.wbGains?t.wbGains[1]:1,y=B2(p,[[m,0,0],[0,1,0],[0,0,v]]),g=B2(oQ,y);i=[g[0][0],g[0][1],g[0][2],g[1][0],g[1][1],g[1][2],g[2][0],g[2][1],g[2][2]],o=!0}else throw new Error("Custom Matrix is not invertible.")}const s={outputBps:16,noAutoBright:!0,bright:o?1:Math.pow(2,t.exposure)};t.blackLevel&&t.blackLevel.length===4&&(s.userBlack=0,s.userCblack=t.blackLevel.map(h=>{const p=Math.round(h);return p===0?1:p})),t.demosaicMethod===-1?s.noInterpolation=!0:s.userQual=t.demosaicMethod,o?(s.outputColor=0,s.gamma=[1,1],s.userMul=[1,1,1,1],s.useCameraWb=!1):(s.outputColor=1,s.useCameraWb=!0),await n.open(a,s);const l=await n.imageData(),c=new ImageData(l.width,l.height),f=c.data,d=new Uint16Array(l.data.buffer,l.data.byteOffset,l.data.byteLength/2);if(o&&i.length===9){const h=i,m=Math.pow(2,t.exposure)*.25;for(let v=0;v<d.length;v+=3){const x=d[v]/65535,y=d[v+1]/65535,g=d[v+2]/65535;let b=h[0]*x+h[1]*y+h[2]*g,S=h[3]*x+h[4]*y+h[5]*g,w=h[6]*x+h[7]*y+h[8]*g;b*=m,S*=m,w*=m,b=Math.max(0,Math.min(1,b)),S=Math.max(0,Math.min(1,S)),w=Math.max(0,Math.min(1,w)),b=nc(b),S=nc(S),w=nc(w);const k=v/3*4;f[k]=Math.round(b*255),f[k+1]=Math.round(S*255),f[k+2]=Math.round(w*255),f[k+3]=255}}else for(let h=0;h<d.length;h+=3){const p=h/3*4;f[p]=d[h]>>8,f[p+1]=d[h+1]>>8,f[p+2]=d[h+2]>>8,f[p+3]=255}return c}finally{n.delete?n.delete():n.close()}}async function hQ(e,t,r=!1,n=!1){const a=await mu(),o=new a;try{if(t.renderMode==="zero-dependency"||t.renderMode==="advanced-zero-dep"){await o.open(new Uint8Array(e));const i=await o.metadata(!0),s=(i==null?void 0:i.white_level)||16383,l=o.getRawImage(),{width:c,height:f,data:d}=l,h=new Uint16Array(c*f),p=Math.pow(2,t.exposure);if(t.renderMode==="advanced-zero-dep"&&t.advancedZeroDep){const{bl:m,bg:v,fg:x}=t.advancedZeroDep,y=(v[1]+v[3])/2,g=(x[1]+x[3])/2;for(let b=0;b<f;b++){const S=b%2;for(let w=0;w<c;w++){const k=w%2;let O=0;!S&&!k?O=0:!S&&k?O=1:S&&!k?O=3:O=2;const _=d[b*c+w],N=m[O],P=v[O],A=x[O],$=Math.max(_-N,0),C=A-P||1e-9,z=($-P)/C;let E;z<0?E=$*(y/Math.max(P,1e-9)):z>1?E=$*(g/Math.max(A,1e-9)):E=(1-z)*y+z*g,E*=p;const U=Math.max(0,Math.min(1,E/s)),M=n?nc(U):U;h[b*c+w]=Math.round(M*65535)}}}else{const m=t.blackLevel||[0,0,0,0],v=t.wbGains?t.wbGains[0]:1,x=t.wbGains?t.wbGains[1]:1;for(let y=0;y<f;y++){const g=y%2;for(let b=0;b<c;b++){const S=b%2,w=g*2+S,k=d[y*c+b],O=m[w];let _=k-O;w===0?_*=v:w===3&&(_*=x),_*=p;const N=Math.max(0,Math.min(1,_/(r?s-O:s))),P=n?nc(N):N;h[y*c+b]=Math.round(P*65535)}}}return{data:h,width:c,height:f,channels:1}}else{const i=new Uint8Array(e.slice(0)),s={outputBps:16,noAutoBright:!r,bright:1,outputColor:n?1:0,useCameraWb:!0};t.blackLevel&&t.blackLevel.length===4&&(s.userBlack=0,s.userCblack=t.blackLevel.map(d=>Math.max(1,Math.round(d)))),t.demosaicMethod===-1?s.noInterpolation=!0:s.userQual=t.demosaicMethod,await o.open(i,s);const l=await o.imageData(),c=new Uint16Array(l.data.buffer,l.data.byteOffset,l.data.byteLength/2),f=Math.pow(2,t.exposure);if(f!==1)for(let d=0;d<c.length;d++)c[d]=Math.max(0,Math.min(65535,Math.round(c[d]*f)));return{data:c,width:l.width,height:l.height,channels:3}}}finally{o.delete?o.delete():o.close()}}const pQ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,zIndex:i,onFocus:s,initialPosition:l,initialInternalState:c,onUpdateState:f})=>{const[d,h]=j.useState((c==null?void 0:c.channelMode)||"All"),[p,m]=j.useState((c==null?void 0:c.minVal)??0),[v,x]=j.useState((c==null?void 0:c.maxVal)??16383),[y,g]=j.useState((c==null?void 0:c.binCount)??100),[b,S]=j.useState((c==null?void 0:c.pointToPoint)??!1),[w,k]=j.useState((c==null?void 0:c.showTheo)??!1),[O,_]=j.useState((c==null?void 0:c.theoMean)??"512"),[N,P]=j.useState((c==null?void 0:c.theoSigma)??"10"),[A,$]=j.useState((c==null?void 0:c.theoAmp)??"1000"),[C,z]=j.useState(!1),[E,U]=j.useState([]),[M,B]=j.useState(null),[L,X]=j.useState(l||{x:100,y:100}),[te,Z]=j.useState(!1),I=j.useRef({x:0,y:0});j.useEffect(()=>{f&&f({channelMode:d,minVal:p,maxVal:v,binCount:y,pointToPoint:b,showTheo:w,theoMean:O,theoSigma:N,theoAmp:A})},[d,p,v,y,b,w,O,N,A]),j.useEffect(()=>{if(!e||!n||!a)return;if(v<=p){B("Invalid range: Max must be greater than Min");return}B(null),z(!0);const H=setTimeout(()=>{try{const ye=cQ(n.data,n.width,n.height,a.x,a.y,a.w,a.h,y,p,v,b);U(ye)}catch(ye){console.error("Histogram calc error:",ye),B("Error calculating histogram")}finally{z(!1)}},50);return()=>clearTimeout(H)},[e,n,a==null?void 0:a.x,a==null?void 0:a.y,a==null?void 0:a.w,a==null?void 0:a.h,y,p,v,b]);const G=j.useMemo(()=>{if(!w)return E;const H=parseFloat(O),ye=parseFloat(N),he=parseFloat(A);return isNaN(H)||isNaN(ye)||isNaN(he)||ye<=0?E:E.map(Oe=>{const Fe=Oe.binStart,Re=-Math.pow(Fe-H,2)/(2*Math.pow(ye,2)),bt=he*Math.exp(Re);return{...Oe,theory:bt}})},[E,w,O,N,A]),oe=()=>{if(E.length===0)return;let H=0,ye=0;if(E.forEach(he=>{const Oe=Math.max(he.c0||0,he.c1||0,he.c2||0,he.c3||0);Oe>H&&(H=Oe,ye=he.binStart)}),_(ye.toFixed(2)),$(H.toString()),parseFloat(N)===0||isNaN(parseFloat(N))){const he=v-p;P((he/20).toFixed(2))}},q=(H,ye,he)=>{s&&s(),!(he.closest("button")||he.closest("input")||he.closest("select"))&&(Z(!0),I.current={x:H-L.x,y:ye-L.y})},ke=H=>{q(H.clientX,H.clientY,H.target)},ve=H=>{const ye=H.touches[0];q(ye.clientX,ye.clientY,H.target)};if(j.useEffect(()=>{const H=he=>{if(te){const Oe="touches"in he?he.touches[0].clientX:he.clientX,Fe="touches"in he?he.touches[0].clientY:he.clientY;X({x:Oe-I.current.x,y:Fe-I.current.y})}},ye=()=>Z(!1);return te&&(window.addEventListener("mousemove",H),window.addEventListener("mouseup",ye),window.addEventListener("touchmove",H,{passive:!1}),window.addEventListener("touchend",ye)),()=>{window.removeEventListener("mousemove",H),window.removeEventListener("mouseup",ye),window.removeEventListener("touchmove",H),window.removeEventListener("touchend",ye)}},[te]),!e)return null;const K=o?{c0:"Blue",c1:"Green 1",c2:"Green 2",c3:"Red"}:{c0:"Red",c1:"Green 1",c2:"Green 2",c3:"Blue"},se=o?{c0:"#3b82f6",c1:"#22c55e",c2:"#4ade80",c3:"#ef4444"}:{c0:"#ef4444",c1:"#22c55e",c2:"#4ade80",c3:"#3b82f6"},ge="step";return u.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl resize-both overflow-hidden min-w-[500px] min-h-[400px] w-[900px] h-[650px]",style:{left:L.x,top:L.y,zIndex:i??100},onMouseDownCapture:s,children:[u.jsxs("div",{className:`flex justify-between items-center p-4 border-b border-gray-200 dark:border-slate-700 flex-shrink-0 bg-white dark:bg-slate-900 select-none touch-none ${te?"cursor-grabbing":"cursor-grab"}`,onMouseDown:ke,onTouchStart:ve,children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 pointer-events-none",children:"ROI Histogram"}),u.jsxs("div",{className:"flex items-center gap-1",children:[r&&u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-800/50 flex flex-wrap gap-x-6 gap-y-3 items-center border-b border-gray-200 dark:border-slate-700 text-xs flex-shrink-0 relative z-10",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-bold uppercase tracking-tight",children:"Channel:"}),u.jsxs("select",{value:d,onChange:H=>h(H.target.value),className:"bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-900 dark:text-slate-100 outline-none focus:ring-1 focus:ring-cyan-500",children:[u.jsx("option",{value:"All",children:"All Colors"}),u.jsx("option",{value:"0",children:K.c0}),u.jsx("option",{value:"1",children:K.c1}),u.jsx("option",{value:"2",children:K.c2}),u.jsx("option",{value:"3",children:K.c3})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-bold uppercase tracking-tight",children:"Range:"}),u.jsx("input",{type:"number",value:p,onChange:H=>m(Number(H.target.value)),className:"w-16 px-1.5 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right font-mono"}),u.jsx("span",{className:"text-gray-400",children:"-"}),u.jsx("input",{type:"number",value:v,onChange:H=>x(Number(H.target.value)),className:"w-16 px-1.5 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right font-mono"})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:b,onChange:H=>S(H.target.checked),className:"w-3.5 h-3.5 text-cyan-600 rounded border-gray-300 focus:ring-cyan-500"}),u.jsx("span",{className:"text-gray-700 dark:text-slate-300 select-none font-semibold",children:"PTP"})]}),!b&&u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"Bins:"}),u.jsx("input",{type:"number",value:y,onChange:H=>g(Math.max(1,Number(H.target.value))),className:"w-12 px-1.5 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right font-mono"})]})]}),u.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700"}),u.jsxs("div",{className:`flex items-center gap-3 p-1.5 rounded-lg border transition-all ${w?"bg-amber-50/30 dark:bg-amber-900/10 border-amber-200/50 dark:border-amber-800/50":"bg-transparent border-transparent"}`,children:[u.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:w,onChange:H=>k(H.target.checked),className:"w-3.5 h-3.5 text-amber-500 rounded border-gray-300 focus:ring-amber-500 bg-white dark:bg-slate-700"}),u.jsx("span",{className:`font-bold uppercase tracking-tight ${w?"text-amber-600 dark:text-amber-400":"text-gray-400"}`,children:"Theoretical Bell"})]}),w&&u.jsxs("div",{className:"flex items-center gap-2 animate-in fade-in slide-in-from-left-2 duration-200",children:[u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("span",{className:"text-[8px] text-gray-400 uppercase font-bold",children:"Mean()"}),u.jsx("input",{type:"text",value:O,onChange:H=>_(H.target.value),className:"w-14 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center text-[10px] py-0.5 outline-none focus:border-amber-500"})]}),u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("span",{className:"text-[8px] text-gray-400 uppercase font-bold",children:"Sigma()"}),u.jsx("input",{type:"text",value:N,onChange:H=>P(H.target.value),className:"w-12 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center text-[10px] py-0.5 outline-none focus:border-amber-500"})]}),u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("span",{className:"text-[8px] text-gray-400 uppercase font-bold",children:"Scale(A)"}),u.jsx("input",{type:"text",value:A,onChange:H=>$(H.target.value),className:"w-16 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center text-[10px] py-0.5 outline-none focus:border-amber-500"})]}),u.jsx("button",{onClick:oe,className:"mt-3 px-2 py-0.5 bg-amber-600 hover:bg-amber-500 text-white text-[9px] font-bold rounded shadow-sm active:scale-95 transition-all",title:"Set Mean and Amplitude based on current peak",children:"AUTO FIT"})]})]})]}),u.jsxs("div",{className:"flex-1 p-4 relative bg-white dark:bg-slate-900 overflow-hidden min-h-0",children:[u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-0 pointer-events-none select-none opacity-10 mix-blend-normal dark:mix-blend-plus-lighter",children:u.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),C&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-20 bg-white/50 dark:bg-slate-900/50 backdrop-blur-[1px]",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("div",{className:"w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mb-2"}),u.jsx("span",{className:"text-sm text-cyan-600 dark:text-cyan-400 font-semibold",children:"Calculating Histogram..."})]})}),M?u.jsx("div",{className:"flex items-center justify-center h-full text-red-500 relative z-10",children:M}):u.jsx("div",{className:"relative z-10 w-full h-full",children:u.jsx(Ss,{width:"100%",height:"100%",children:u.jsxs(Rv,{data:G,children:[u.jsx(Ni,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3}),u.jsx(ja,{dataKey:"binStart",type:"number",domain:[p,v],tickFormatter:H=>Math.floor(H).toString(),tick:{fill:"#9ca3af",fontSize:12},allowDataOverflow:!0,label:{value:"DN Value",position:"insideBottom",offset:-5,fill:"#9ca3af",fontSize:12}}),u.jsx(Oa,{tick:{fill:"#9ca3af",fontSize:12},label:{value:"Count",angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:12}}),u.jsx(pn,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6"},itemStyle:{fontSize:"12px"},labelFormatter:H=>`DN: ${Math.round(Number(H))}`,formatter:(H,ye)=>[Math.round(H),ye]}),u.jsx(eo,{wrapperStyle:{paddingTop:"10px"}}),w&&u.jsx(Wr,{type:"monotone",dataKey:"theory",name:"Ideal Bell (Gaussian)",stroke:"#f59e0b",strokeWidth:2.5,strokeDasharray:"5 5",dot:!1,isAnimationActive:!1}),(d==="All"||d==="0")&&u.jsx(Wr,{type:ge,dataKey:"c0",name:K.c0,stroke:se.c0,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(d==="All"||d==="1")&&u.jsx(Wr,{type:ge,dataKey:"c1",name:K.c1,stroke:se.c1,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(d==="All"||d==="2")&&u.jsx(Wr,{type:ge,dataKey:"c2",name:K.c2,stroke:se.c2,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(d==="All"||d==="3")&&u.jsx(Wr,{type:ge,dataKey:"c3",name:K.c3,stroke:se.c3,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1})]})})})]})]})},qh=({initialPosition:e={x:20,y:80},children:t,className:r="",onClose:n,zIndex:a,onFocus:o})=>{const[i,s]=j.useState(e),[l,c]=j.useState(!1),[f,d]=j.useState({x:0,y:0}),h=j.useRef(null),p=(x,y,g)=>{o&&o(),!(g.closest("button")||g.closest("input"))&&(c(!0),d({x:x-i.x,y:y-i.y}))},m=x=>{p(x.clientX,x.clientY,x.target)},v=x=>{const y=x.touches[0];p(y.clientX,y.clientY,x.target)};return j.useEffect(()=>{const x=g=>{var b,S;if(l){g.cancelable&&g.preventDefault();const w="touches"in g?g.touches[0].clientX:g.clientX,k="touches"in g?g.touches[0].clientY:g.clientY,O=w-f.x,_=k-f.y,N=window.innerWidth-(((b=h.current)==null?void 0:b.offsetWidth)||100),P=window.innerHeight-(((S=h.current)==null?void 0:S.offsetHeight)||100);s({x:Math.max(0,Math.min(O,N)),y:Math.max(0,Math.min(_,P))})}},y=()=>{c(!1)};return l&&(window.addEventListener("mousemove",x),window.addEventListener("mouseup",y),window.addEventListener("touchmove",x,{passive:!1}),window.addEventListener("touchend",y)),()=>{window.removeEventListener("mousemove",x),window.removeEventListener("mouseup",y),window.removeEventListener("touchmove",x),window.removeEventListener("touchend",y)}},[l,f]),u.jsxs("div",{ref:h,style:{left:i.x,top:i.y,zIndex:a??90},onMouseDownCapture:o,className:`fixed border-2 border-black dark:border-gray-500 bg-white dark:bg-black shadow-[8px_8px_0px_rgba(0,0,0,0.5)] dark:shadow-[8px_8px_0px_rgba(255,255,255,0.2)] transition-shadow duration-200 ${l?"cursor-grabbing shadow-[4px_4px_0px_rgba(0,0,0,0.5)]":""} ${r}`,children:[u.jsx("div",{onMouseDown:m,onTouchStart:v,className:"absolute inset-0 w-full h-8 cursor-grab active:cursor-grabbing z-0 touch-none bg-gray-200 dark:bg-gray-800 border-b-2 border-black dark:border-gray-500",title:"Drag to move"}),u.jsx("div",{className:"relative z-10 pointer-events-none",children:u.jsx("div",{className:"pointer-events-auto",children:t})})]})},gQ=({isOpen:e,onClose:t,rawImageData:r,roi:n,selectedChannel:a,channelName:o,zIndex:i,onFocus:s,initialPosition:l})=>{const c=j.useRef(null),[f,d]=j.useState(!1),[h,p]=j.useState(null),[m,v]=j.useState(null),[x,y]=j.useState(!0),[g,b]=j.useState(!0),[S,w]=j.useState("-1"),[k,O]=j.useState("8"),[_,N]=j.useState(64),[P,A]=j.useState(45),[$,C]=j.useState(60),z=j.useRef(!1),E=j.useRef({x:0,y:0});j.useEffect(()=>{!e||!r||!n||(d(!0),v(null),setTimeout(()=>{try{const L=fQ(r.data,r.width,r.height,n,a,g);L?p(L):v("Could not extract valid data from ROI.")}catch(L){console.error("2D FFT Error",L),v("Calculation Error: "+L.message)}finally{d(!1)}},50))},[e,r,n,a,g]),j.useEffect(()=>{if(!h||!c.current)return;const L=c.current,X=L.getContext("2d");if(!X)return;const te=L.width,Z=L.height;X.clearRect(0,0,te,Z),X.fillStyle="#0f172a",X.fillRect(0,0,te,Z);const I=h.width,G=h.height,oe=h.data,q=Math.pow(10,parseFloat(S)||-1),ke=Math.pow(10,parseFloat(k)||8);let ve=q,K=ke;x&&(ve=Math.log10(Math.max(1e-10,q)),K=Math.log10(Math.max(1e-10,ke)));const se=K-ve||1,ge=te/2,H=Z/2+50,ye=Math.min(te,Z)*.4,he=.6,Oe=P*Math.PI/180,Fe=$*Math.PI/180,Re=Math.cos(Oe),bt=Math.sin(Oe),jt=Math.cos(Fe),$e=Math.sin(Fe),Ke=(Ye,lt,It)=>{const xr=Ye*Re-lt*bt,sr=Ye*bt+lt*Re,br=sr*jt-It*$e,ht=sr*$e+It*jt;return{x:ge+xr*ye,y:H-br*ye,depth:ht}},dt=Math.max(16,_),Ct=Math.max(1,Math.floor(I/dt)),Lt=Math.max(1,Math.floor(G/dt)),Ar=(Ye,lt)=>{let It=oe[lt*I+Ye];return x&&(It=Math.log10(Math.max(1e-10,It))),It=Math.max(ve,Math.min(K,It)),(It-ve)/se},hr=Ye=>`hsl(${(1-Ye)*240}, 80%, 50%)`,ir=[];for(let Ye=0;Ye<G-Lt;Ye+=Lt)for(let lt=0;lt<I-Ct;lt+=Ct){const It=lt,xr=Ye,sr=lt+Ct,br=Ye,ht=lt+Ct,Rr=Ye+Lt,ct=lt,Cn=Ye+Lt,Lr=Ar(It,xr),sa=Ar(sr,br),xn=Ar(ht,Rr),En=Ar(ct,Cn),bn=(Lr+sa+xn+En)/4,Mr=Ke(It/(I-1)-.5,xr/(G-1)-.5,Lr*he),Ir=Ke(sr/(I-1)-.5,br/(G-1)-.5,sa*he),Cr=Ke(ht/(I-1)-.5,Rr/(G-1)-.5,xn*he),sn=Ke(ct/(I-1)-.5,Cn/(G-1)-.5,En*he),Tn=(Mr.depth+Ir.depth+Cr.depth+sn.depth)/4;ir.push({pts:[{x:Mr.x,y:Mr.y},{x:Ir.x,y:Ir.y},{x:Cr.x,y:Cr.y},{x:sn.x,y:sn.y}],avgDepth:Tn,avgZ:bn})}ir.sort((Ye,lt)=>Ye.avgDepth-lt.avgDepth),X.lineWidth=.5,ir.forEach(Ye=>{X.fillStyle=hr(Ye.avgZ),X.beginPath(),X.moveTo(Ye.pts[0].x,Ye.pts[0].y),X.lineTo(Ye.pts[1].x,Ye.pts[1].y),X.lineTo(Ye.pts[2].x,Ye.pts[2].y),X.lineTo(Ye.pts[3].x,Ye.pts[3].y),X.closePath(),X.fill()}),X.fillStyle="#aaa",X.font="10px monospace";const Wt=Ke(-.5,-.5,0),Xr=Ke(.5,-.5,0),Gt=Ke(-.5,.5,0),Kr=Ke(.5,.5,0);X.strokeStyle="#666",X.beginPath(),X.moveTo(Wt.x,Wt.y),X.lineTo(Xr.x,Xr.y),X.lineTo(Kr.x,Kr.y),X.lineTo(Gt.x,Gt.y),X.closePath(),X.stroke(),X.fillText("0",Wt.x-10,Wt.y+10),X.fillText("Fx",Xr.x+5,Xr.y),X.fillText("Fy",Gt.x-15,Gt.y);const at=Ke(-.5,-.5,he);X.strokeStyle="#fff",X.beginPath(),X.moveTo(Wt.x,Wt.y),X.lineTo(at.x,at.y),X.stroke(),X.fillText(`10^${k}`,at.x-25,at.y),X.fillText(`10^${S}`,Wt.x-25,Wt.y)},[h,x,P,$,S,k,_]);const U=L=>{z.current=!0,E.current={x:L.clientX,y:L.clientY}},M=L=>{if(!z.current)return;const X=L.clientX-E.current.x,te=L.clientY-E.current.y;A(Z=>Z-X*.5),C(Z=>Math.max(0,Math.min(90,Z+te*.5))),E.current={x:L.clientX,y:L.clientY}},B=()=>{z.current=!1};return e?u.jsxs(qh,{initialPosition:l||{x:100,y:100},onClose:t,zIndex:i,onFocus:s,className:"w-[700px] h-[600px] bg-slate-900 border border-slate-700 flex flex-col overflow-hidden shadow-2xl",children:[u.jsxs("div",{className:"flex justify-between items-center px-4 py-2 border-b border-slate-700 bg-slate-800",children:[u.jsxs("h3",{className:"text-sm font-bold text-slate-200 flex items-center gap-2",children:["2D FFT Power Spectrum - ",o,h&&u.jsxs("span",{className:"text-[10px] font-normal text-slate-400 bg-slate-700 px-2 py-0.5 rounded",children:[h.width,"x",h.height," (Chirp-Z)"]})]}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("button",{onClick:t,className:"text-slate-400 hover:text-red-400 transition-colors",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})})]}),u.jsxs("div",{className:"p-3 bg-slate-800/80 flex flex-wrap gap-4 text-xs items-center border-b border-slate-700",children:[u.jsxs("div",{className:"flex items-center gap-2 bg-slate-900 px-2 py-1 rounded border border-slate-600",children:[u.jsx("span",{className:"text-slate-400 font-bold",children:"Range (10^x):"}),u.jsx("input",{type:"number",value:S,onChange:L=>w(L.target.value),className:"w-10 bg-transparent text-slate-200 text-center border-b border-slate-600 focus:border-cyan-500 outline-none"}),u.jsx("span",{className:"text-slate-500",children:"to"}),u.jsx("input",{type:"number",value:k,onChange:L=>O(L.target.value),className:"w-10 bg-transparent text-slate-200 text-center border-b border-slate-600 focus:border-cyan-500 outline-none"})]}),u.jsxs("div",{className:"flex items-center gap-2 bg-slate-900 px-2 py-1 rounded border border-slate-600",children:[u.jsx("span",{className:"text-slate-400 font-bold",children:"Density:"}),u.jsx("input",{type:"range",min:"16",max:"128",step:"16",value:_,onChange:L=>N(Number(L.target.value)),className:"w-20 h-1.5 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"}),u.jsx("span",{className:"text-slate-300 w-6 text-right",children:_})]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none text-slate-300 hover:text-white",children:[u.jsx("input",{type:"checkbox",checked:x,onChange:L=>y(L.target.checked),className:"rounded bg-slate-700 border-slate-600 accent-cyan-500"}),"Log Z"]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none text-slate-300 hover:text-white",children:[u.jsx("input",{type:"checkbox",checked:g,onChange:L=>b(L.target.checked),className:"rounded bg-slate-700 border-slate-600 accent-fuchsia-500"}),"Hanning"]})]}),u.jsxs("div",{className:"flex-1 relative bg-slate-900 cursor-move",children:[f&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-900/80 z-20 backdrop-blur-sm",children:u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx("div",{className:"w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin"}),u.jsx("span",{className:"text-cyan-400 font-bold animate-pulse text-sm",children:"Computing full-size 2D FFT..."})]})}),m&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-900/80 z-20 text-red-400 p-4 text-center",children:m}),u.jsx("canvas",{ref:c,width:700,height:500,className:"w-full h-full block",onMouseDown:U,onMouseMove:M,onMouseUp:B,onMouseLeave:B}),u.jsx("div",{className:"absolute bottom-2 right-2 text-[9px] text-slate-600 pointer-events-none",children:"Drag to Rotate"})]})]}):null},mQ=.5,$m=1e-10,W2=(e,t)=>{const r=e.length-1;if(r<0)return $m;const n=t/mQ*r,a=Math.round(n),o=e[Math.min(Math.max(0,a),r)]||0;return Math.max(o,$m)},yQ=(e,t)=>{if(t<=0)return[1];const r=new Array(e);let n=0;for(let a=0;a<e;a++){const o=a-(e-1)/2,i=Math.exp(-(o*o)/(2*t*t));r[a]=i,n+=i}for(let a=0;a<e;a++)r[a]/=n;return r},vQ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,onUpdateROI:i,zIndex:s,onFocus:l,initialPosition:c,initialInternalState:f,onUpdateState:d,stackFiles:h})=>{const[p,m]=j.useState((f==null?void 0:f.selectedChannel)??0),[v,x]=j.useState(()=>(f==null?void 0:f.yMinExp)||localStorage.getItem("fft_y_min")||"1.73"),[y,g]=j.useState(()=>(f==null?void 0:f.yMaxExp)||localStorage.getItem("fft_y_max")||"8.00"),[b,S]=j.useState((f==null?void 0:f.useHanning)??!0),[w,k]=j.useState((f==null?void 0:f.doAverage)??!0),[O,_]=j.useState((f==null?void 0:f.welchSegments)??1),[N,P]=j.useState((f==null?void 0:f.showH)??!0),[A,$]=j.useState((f==null?void 0:f.showV)??!0),[C,z]=j.useState((f==null?void 0:f.interlaceRows)??!1),[E,U]=j.useState((f==null?void 0:f.rowGroup)??0),[M,B]=j.useState((f==null?void 0:f.interlaceCols)??!1),[L,X]=j.useState((f==null?void 0:f.colGroup)??0),[te,Z]=j.useState(()=>(f==null?void 0:f.theoSigma)||localStorage.getItem("fft_theo_sigma")||"0.00"),[I,G]=j.useState(()=>(f==null?void 0:f.theoKernelSize)||localStorage.getItem("fft_theo_ksize")||"3"),[oe,q]=j.useState(()=>(f==null?void 0:f.theoNoiseStd)||localStorage.getItem("fft_theo_noise")||"7.5"),[ke,ve]=j.useState(()=>(f==null?void 0:f.theoScale)||localStorage.getItem("fft_theo_scale")||"1.0"),[K,se]=j.useState((f==null?void 0:f.intStart)||"0"),[ge,H]=j.useState((f==null?void 0:f.intEnd)||"0.5"),[ye,he]=j.useState(!1),[Oe,Fe]=j.useState([]),[Re,bt]=j.useState(!1),[jt,$e]=j.useState(0),[Ke,dt]=j.useState(null),[Ct,Lt]=j.useState(!1),[Ar,hr]=j.useState(!1),[ir,Wt]=j.useState(null),[Xr,Gt]=j.useState(!1),[Kr,at]=j.useState(null),[Ye,lt]=j.useState(c||{x:50,y:50}),[It,xr]=j.useState(!1),[sr,br]=j.useState(null),[ht,Rr]=j.useState({}),ct=j.useRef({x:0,y:0}),Cn=o?{c0:"#3b82f6",c1:"#22c55e",c2:"#4ade80",c3:"#ef4444"}:{c0:"#ef4444",c1:"#22c55e",c2:"#4ade80",c3:"#3b82f6"},Lr=j.useMemo(()=>o?{0:"Blue",1:"Green 1",2:"Green 2",3:"Red"}:{0:"Red",1:"Green 1",2:"Green 2",3:"Blue"},[o]);j.useEffect(()=>{localStorage.setItem("fft_y_min",v),localStorage.setItem("fft_y_max",y),localStorage.setItem("fft_theo_sigma",te),localStorage.setItem("fft_theo_ksize",I),localStorage.setItem("fft_theo_noise",oe),localStorage.setItem("fft_theo_scale",ke)},[v,y,te,I,oe,ke]),j.useEffect(()=>{if(!e||!n||!a)return;bt(!0),dt(null),$e(0);const ie=setTimeout(async()=>{try{const Me=p===-1?[0,1,2,3]:[p],Pe=h&&h.length>1?h:[null],et=Pe.length,ze={};let wt={h:0,v:0};for(let Ce=0;Ce<et;Ce++){$e(Ce+1);let rt;if(Pe[Ce]){const gt=await Pe[Ce].arrayBuffer();rt=await Vd(gt)}else rt=n;for(const gt of Me){const mt=uQ(rt.data,rt.width,rt.height,a,gt,!1,b,{rows:C,rowGroup:E,cols:M,colGroup:L},w,O);mt&&(ze[gt]||(ze[gt]={h:new Array(mt.avgHoriz.length).fill(0),v:new Array(mt.avgVert.length).fill(0)}),mt.avgHoriz.forEach((Vt,R)=>ze[gt].h[R]+=Vt/et),mt.avgVert.forEach((Vt,R)=>ze[gt].v[R]+=Vt/et),wt=mt.sampleCount)}}if(Object.keys(ze).length===0)throw new Error("ROI too small or no data found.");const pt=1024,tr=[];for(let Ce=0;Ce<pt;Ce++){const rt=Ce/(pt-1)*.5,gt={freq:parseFloat(rt.toFixed(6))};for(const mt of Me)ze[mt]&&(gt[`c${mt}_h`]=W2(ze[mt].h,rt),gt[`c${mt}_v`]=W2(ze[mt].v,rt));tr.push(gt)}br(wt),Fe(tr)}catch(Me){console.error("FFT Loop Failed:",Me),dt(Me.message||"Unknown error during FFT processing")}finally{bt(!1)}},100);return()=>clearTimeout(ie)},[e,n,a==null?void 0:a.x,a==null?void 0:a.y,a==null?void 0:a.w,a==null?void 0:a.h,p,b,w,O,C,E,M,L,h]);const sa=()=>{const ie=parseFloat(K),Me=parseFloat(ge);if(isNaN(ie)||isNaN(Me))return;const Pe={},et=p===-1?[0,1,2,3]:[p],ze=Oe.filter(wt=>wt.freq>=ie&&wt.freq<=Me);if(ze.length===0){Rr({});return}et.forEach(wt=>{let pt=0,tr=0;ze.forEach(Ce=>{const rt=Ce[`c${wt}_h`],gt=Ce[`c${wt}_v`];typeof rt=="number"&&(pt+=rt),typeof gt=="number"&&(tr+=gt)}),Pe[wt]={h:pt/ze.length,v:tr/ze.length,count:ze.length}}),Rr(Pe)},xn=j.useMemo(()=>{const ie=parseFloat(te),Me=parseInt(I),Pe=parseFloat(oe),et=parseFloat(ke);if(isNaN(ie)||isNaN(Me)||isNaN(Pe)||isNaN(et)||Oe.length===0)return Oe;const ze=yQ(Me,ie),wt=ze.reduce((Ce,rt)=>Ce+rt*rt,0),pt=(Me-1)/2,tr=Pe*Pe*et;return Oe.map(Ce=>{const rt=Ce.freq,gt=2*Math.PI*rt;let mt=0,Vt=0;for(let je=0;je<Me;je++){const Zt=je-pt,Tt=ze[je],Ue=-gt*Zt;mt+=Tt*Math.cos(Ue),Vt+=Tt*Math.sin(Ue)}const R=mt*mt+Vt*Vt;return{...Ce,theory:Math.max($m,tr*wt*R)}})},[Oe,te,I,oe,ke]),En=ie=>{ie&&ie.activeLabel!==void 0&&(Gt(!0),at(Number(ie.activeLabel)),Wt(null))},bn=ie=>{if(Xr&&Kr!==null&&ie&&ie.activeLabel!==void 0){const Me=Number(ie.activeLabel);Wt([Math.min(Kr,Me),Math.max(Kr,Me)])}},Mr=()=>Gt(!1),Ir=(ie,Me,Pe)=>{l&&l(),!(Pe.closest("button")||Pe.closest("input"))&&(xr(!0),ct.current={x:ie-Ye.x,y:Me-Ye.y})},Cr=ie=>{Ir(ie.clientX,ie.clientY,ie.target)},sn=ie=>{const Me=ie.touches[0];Ir(Me.clientX,Me.clientY,ie.target)};j.useEffect(()=>{const ie=Pe=>{if(It){const et="touches"in Pe?Pe.touches[0].clientX:Pe.clientX,ze="touches"in Pe?Pe.touches[0].clientY:Pe.clientY;lt({x:et-ct.current.x,y:ze-ct.current.y})}},Me=()=>xr(!1);return It&&(window.addEventListener("mousemove",ie),window.addEventListener("mouseup",Me),window.addEventListener("touchmove",ie,{passive:!1}),window.addEventListener("touchend",Me)),()=>{window.removeEventListener("mousemove",ie),window.removeEventListener("mouseup",Me),window.removeEventListener("touchmove",ie),window.removeEventListener("touchend",Me)}},[It]);const Tn=j.useMemo(()=>{if(!ir||Oe.length===0)return null;const[ie,Me]=ir,Pe=Oe.filter(wt=>wt.freq>=ie&&wt.freq<=Me);if(Pe.length===0)return null;const et=p===-1?[0,1,2,3]:[p],ze={};return et.forEach(wt=>{["h","v"].forEach(pt=>{const tr=`c${wt}_${pt}`;let Ce=0,rt=0;for(const gt of Pe){const mt=gt[tr];typeof mt=="number"&&(Ce+=mt,rt++)}rt>0&&(ze[`${tr}_sigma`]=Math.sqrt(Ce/rt))})}),{count:Pe.length,stats:ze}},[ir,Oe,p]),Et=()=>{if(Oe.length===0)return;let ie=1/0,Me=-1/0;if(Oe.forEach(pt=>{pt.freq<.01||pt.freq>.49||Object.keys(pt).forEach(tr=>{if(tr==="freq"||tr==="theory")return;const Ce=pt[tr];typeof Ce=="number"&&Ce>0&&(Ce<ie&&(ie=Ce),Ce>Me&&(Me=Ce))})}),ie===1/0)return;const Pe=Math.log10(ie),et=Math.log10(Me),ze=et-Pe,wt=(ze===0?1:ze)*.1;x((Pe-wt).toFixed(2)),g((et+wt).toFixed(2))},Ht=(ie,Me)=>{a&&i&&i({...a,x:a.x+ie,y:a.y+Me})},Ot=(ie,Me)=>{a&&i&&i({...a,w:Math.max(2,a.w+ie),h:Math.max(2,a.h+Me)})};return e?u.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl overflow-hidden resize-both min-w-[750px] min-h-[500px]",style:{left:Ye.x,top:Ye.y,width:"1000px",height:"850px",zIndex:s??100},onMouseDownCapture:l,children:[u.jsxs("div",{className:`flex justify-between items-center p-3 border-b border-gray-200 dark:border-slate-700 flex-shrink-0 bg-gray-50 dark:bg-slate-800 z-50 relative select-none touch-none ${It?"cursor-grabbing":"cursor-grab"}`,onMouseDown:Cr,onTouchStart:sn,children:[u.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2 pointer-events-none",children:["Power Spectrum Analysis",u.jsx("span",{className:"text-[10px] font-normal bg-white dark:bg-slate-700 px-2 py-1 rounded text-gray-500 border border-gray-200 dark:border-slate-600 shadow-sm",children:h&&h.length>1?`Stack Avg (${h.length} frames)`:"Single Mode"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[r&&u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsxs("div",{className:"flex flex-col bg-gray-50 dark:bg-slate-900/80 border-b border-gray-200 dark:border-slate-800 flex-shrink-0 z-40 relative px-4 py-3 gap-3 overflow-x-auto",children:[u.jsxs("div",{className:"flex items-center gap-6",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-[10px] font-bold text-gray-500 dark:text-slate-400 uppercase tracking-widest",children:"Channel"}),u.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-800 rounded-lg p-0.5 border border-gray-200 dark:border-slate-700 shadow-inner",children:[u.jsx("button",{onClick:()=>m(-1),className:`px-3 py-1 rounded text-[10px] font-bold transition-all ${p===-1?"bg-slate-700 text-white shadow-md":"text-gray-500 dark:text-slate-500 hover:bg-white dark:hover:bg-slate-700"}`,children:"All"}),[0,1,2,3].map(ie=>u.jsx("button",{onClick:()=>m(ie),className:`px-3 py-1 rounded text-[10px] font-bold transition-all ${p===ie?"bg-cyan-600 text-white shadow-md":"text-gray-500 dark:text-slate-500 hover:bg-white dark:hover:bg-slate-700"}`,children:Lr[ie]},ie))]})]}),u.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700 mx-2"}),u.jsxs("button",{onClick:()=>he(!0),className:"flex items-center gap-1.5 px-4 py-1.5 bg-indigo-600 hover:bg-indigo-500 text-white text-[10px] font-bold rounded-lg shadow-lg shadow-indigo-500/30 transition-all active:scale-95 group border border-indigo-400/30",children:[u.jsx("svg",{className:"w-3.5 h-3.5 group-hover:animate-pulse",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"2D Diagonal"]}),u.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700 mx-2"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-400 uppercase tracking-widest",children:"Model"}),u.jsx("div",{className:"flex gap-2",children:[{label:"KSize",val:I,set:G,w:"w-10"},{label:"Sigma",val:te,set:Z,w:"w-12"},{label:"Noise()",val:oe,set:q,w:"w-12"},{label:"Scale",val:ke,set:ve,w:"w-12"}].map(ie=>u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("label",{className:"text-[8px] text-gray-400 dark:text-slate-500 uppercase font-bold mb-0.5",children:ie.label}),u.jsx("input",{type:"text",value:ie.val,onChange:Me=>ie.set(Me.target.value),className:`${ie.w} text-[11px] bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded px-1.5 py-0.5 text-center text-gray-900 dark:text-slate-100 outline-none focus:border-indigo-500 shadow-sm`})]},ie.label))})]})]}),u.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[u.jsxs("div",{className:"flex items-center gap-3 mr-2",children:[u.jsx("span",{className:"text-[10px] font-bold text-fuchsia-600 dark:text-fuchsia-500 uppercase tracking-widest",children:"Welch"}),u.jsx("input",{type:"range",min:"1",max:"16",step:"1",value:O,onChange:ie=>_(parseInt(ie.target.value)),className:"w-24 h-1.5 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-fuchsia-500"}),u.jsx("span",{className:"text-[10px] font-mono text-fuchsia-600 dark:text-fuchsia-400 w-4 font-bold",children:O})]}),u.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700"}),u.jsxs("div",{className:"flex flex-col gap-1 px-2",children:[u.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer text-[10px] text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 select-none",children:[u.jsx("input",{type:"checkbox",checked:C,onChange:ie=>z(ie.target.checked),className:"w-3 h-3 rounded text-cyan-600 border-gray-300 dark:border-slate-700 bg-white dark:bg-slate-800"})," Row Int."]}),u.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer text-[10px] text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 select-none",children:[u.jsx("input",{type:"checkbox",checked:M,onChange:ie=>B(ie.target.checked),className:"w-3 h-3 rounded text-cyan-600 border-gray-300 dark:border-slate-700 bg-white dark:bg-slate-800"})," Col Int."]})]}),u.jsxs("div",{className:"flex flex-col gap-1.5 bg-gray-100 dark:bg-slate-800/60 p-1.5 rounded-lg border border-gray-200 dark:border-slate-700",children:[u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[u.jsx("div",{className:`w-3.5 h-3.5 rounded-md border flex items-center justify-center transition-colors ${b?"bg-fuchsia-600 border-fuchsia-600":"bg-white dark:bg-slate-900 border-gray-300 dark:border-slate-600"}`,children:b&&u.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:4,children:u.jsx("path",{d:"M5 13l4 4L19 7"})})}),u.jsx("input",{type:"checkbox",checked:b,onChange:ie=>S(ie.target.checked),className:"hidden"}),u.jsx("span",{className:"text-[10px] font-bold text-gray-700 dark:text-slate-300",children:"Hanning"})]}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[u.jsx("div",{className:`w-3.5 h-3.5 rounded-md border flex items-center justify-center transition-colors ${w?"bg-cyan-600 border-cyan-600":"bg-white dark:bg-slate-900 border-gray-300 dark:border-slate-600"}`,children:w&&u.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:4,children:u.jsx("path",{d:"M5 13l4 4L19 7"})})}),u.jsx("input",{type:"checkbox",checked:w,onChange:ie=>k(ie.target.checked),className:"hidden"}),u.jsx("span",{className:"text-[10px] font-bold text-gray-700 dark:text-slate-300",children:"Average"})]})]}),u.jsxs("div",{className:"flex gap-2 bg-gray-100 dark:bg-slate-800 p-1 rounded-lg border border-gray-200 dark:border-slate-700",children:[u.jsxs("button",{onClick:()=>P(!N),className:`px-2.5 py-1 rounded-md border text-[11px] font-bold transition-all flex items-center gap-1.5 ${N?"bg-cyan-900/40 text-cyan-400 border-cyan-500 shadow-[0_0_8px_rgba(6,182,212,0.3)]":"bg-white dark:bg-slate-900 text-gray-400 border-gray-300 dark:border-slate-700"}`,children:[u.jsx("div",{className:`w-2 h-2 rounded-full ${N?"bg-cyan-400":"bg-gray-400"}`})," H"]}),u.jsxs("button",{onClick:()=>$(!A),className:`px-2.5 py-1 rounded-md border text-[11px] font-bold transition-all flex items-center gap-1.5 ${A?"bg-cyan-900/40 text-cyan-400 border-cyan-500 shadow-[0_0_8px_rgba(6,182,212,0.3)]":"bg-white dark:bg-slate-900 text-gray-400 border-gray-300 dark:border-slate-700"}`,children:[u.jsx("div",{className:`w-2 h-2 rounded-full ${N?"bg-cyan-400":"bg-gray-400"}`})," V"]})]}),u.jsxs("div",{className:"ml-auto flex gap-2",children:[u.jsx("button",{onClick:()=>hr(!Ar),className:`px-3 py-1.5 rounded-lg text-[10px] font-bold transition-all border ${Ar?"bg-emerald-600 text-white border-emerald-600 shadow-md":"bg-white dark:bg-slate-900 text-emerald-600 dark:text-emerald-400 border-emerald-200 dark:border-emerald-800 hover:bg-emerald-50"}`,children:""}),u.jsx("button",{onClick:()=>Lt(!Ct),className:`px-3 py-1.5 rounded-lg text-[10px] font-bold transition-all border ${Ct?"bg-indigo-600 text-white border-indigo-600 shadow-md":"bg-white dark:bg-slate-900 text-indigo-600 dark:text-indigo-400 border-indigo-200 dark:border-indigo-800 hover:bg-indigo-50"}`,children:"ROI"})]})]}),u.jsxs("div",{className:"flex items-center gap-4 justify-end border-t border-gray-200 dark:border-slate-800/50 pt-2.5",children:[u.jsx("button",{onClick:Et,className:"px-4 py-1 text-[10px] font-bold bg-cyan-600/10 text-cyan-600 dark:text-cyan-400 hover:bg-cyan-600/20 rounded-md border border-cyan-500/30 transition-all uppercase tracking-widest shadow-sm",children:"Auto"}),u.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-gray-500 dark:text-slate-400 uppercase",children:["Y-AXIS (LOG)",u.jsxs("div",{className:"flex items-center bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-md overflow-hidden shadow-sm",children:[u.jsx("input",{type:"text",value:v,onChange:ie=>x(ie.target.value),className:"w-14 px-2 py-1 bg-transparent text-center outline-none text-gray-900 dark:text-slate-100 border-r border-gray-200 dark:border-slate-700"}),u.jsx("span",{className:"px-2 text-gray-400",children:"to"}),u.jsx("input",{type:"text",value:y,onChange:ie=>g(ie.target.value),className:"w-14 px-2 py-1 bg-transparent text-center outline-none text-gray-900 dark:text-slate-100"})]})]})]})]}),u.jsxs("div",{className:"flex-1 p-4 overflow-hidden flex flex-col gap-2 relative bg-gray-50/30 dark:bg-slate-900/30",children:[u.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none z-[50] select-none opacity-10",children:u.jsx("svg",{viewBox:"0 0 500 100",className:"w-3/4 h-auto drop-shadow-lg",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"24",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),Re&&u.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-[55] bg-white/90 dark:bg-slate-900/90 backdrop-blur-[2px]",children:[u.jsx("div",{className:"w-10 h-10 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mb-4"}),u.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:"Computing FFT Stack..."}),h&&h.length>1&&u.jsxs("span",{className:"text-xs text-gray-500 mt-2 font-mono",children:["Processing frame ",jt," / ",h.length]})]}),Ke?u.jsx("div",{className:"flex items-center justify-center h-full text-red-500 font-semibold",children:Ke}):u.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-950 border border-gray-200 dark:border-slate-800 rounded-xl p-2 flex flex-col relative z-20 shadow-xl overflow-hidden",children:[u.jsx("div",{className:"flex-1 relative z-10",onMouseDown:En,onMouseMove:bn,onMouseUp:Mr,style:{cursor:Xr?"col-resize":"crosshair"},children:u.jsx(Ss,{width:"100%",height:"100%",children:u.jsxs(Rv,{data:xn,margin:{top:10,right:10,bottom:20,left:0},children:[u.jsx(Ni,{strokeDasharray:"3 3",stroke:"#374151",opacity:.08}),u.jsx(ja,{dataKey:"freq",type:"number",domain:[0,.5],tickCount:6,tick:{fill:"#6b7280",fontSize:10},label:{value:"Frequency (cy/px)",position:"insideBottom",offset:-10,fill:"#6b7280",fontSize:11}}),u.jsx(Oa,{scale:"log",domain:[Math.pow(10,parseFloat(v)),Math.pow(10,parseFloat(y))],allowDataOverflow:!0,tick:{fill:"#6b7280",fontSize:10},tickFormatter:ie=>Number(ie).toExponential(0),width:45}),u.jsx(pn,{contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.95)",border:"1px solid #334155",color:"#f3f4f6",fontSize:"11px",borderRadius:"8px"},formatter:ie=>[Number(ie).toExponential(3),""],labelFormatter:ie=>`Freq: ${Number(ie).toFixed(4)}`}),u.jsx(eo,{wrapperStyle:{fontSize:"10px"}}),u.jsx(Wr,{type:"monotone",dataKey:"theory",name:"Theory Model",stroke:"#6366f1",strokeWidth:2,dot:!1,isAnimationActive:!1}),[0,1,2,3].flatMap(ie=>{if(p!==-1&&p!==ie)return[];const Me=`c${ie}_h`,Pe=`c${ie}_v`,et=Cn[`c${ie}`],ze=[];return N&&ze.push(u.jsx(Wr,{type:"linear",dataKey:Me,name:`${Lr[ie]} (H)`,stroke:et,strokeWidth:1,dot:!1,isAnimationActive:!1},`${ie}_h`)),A&&ze.push(u.jsx(Wr,{type:"linear",dataKey:Pe,name:`${Lr[ie]} (V)`,stroke:et,strokeWidth:1,strokeDasharray:"3 3",dot:!1,isAnimationActive:!1},`${ie}_v`)),ze}),ir&&u.jsx(gu,{x1:ir[0],x2:ir[1],fill:"#8884d8",fillOpacity:.15})]})})}),Tn&&ir&&u.jsxs("div",{className:"absolute bottom-12 left-12 bg-slate-900/90 backdrop-blur-md p-3 rounded-lg border border-indigo-500/50 shadow-2xl z-30 text-[10px] font-mono text-slate-100",children:[u.jsxs("div",{className:"text-indigo-400 font-bold mb-1 border-b border-indigo-500/30 pb-1",children:["Range: ",ir[0].toFixed(3),"-",ir[1].toFixed(3)]}),Object.entries(Tn.stats).map(([ie,Me])=>u.jsxs("div",{className:"flex justify-between gap-4",children:[u.jsxs("span",{className:"text-slate-400",children:[ie,":"]}),u.jsx("span",{className:"font-bold text-cyan-400",children:Me.toFixed(5)})]},ie))]})]})]}),Ar&&u.jsxs("div",{className:"absolute top-48 right-8 z-[55] w-72 bg-white dark:bg-slate-900 rounded-xl shadow-2xl border border-gray-200 dark:border-slate-700 p-4 animate-in slide-in-from-top-2",children:[u.jsx("h4",{className:"text-[10px] uppercase font-bold text-emerald-600 dark:text-emerald-400 mb-2 border-b border-gray-100 dark:border-slate-800 pb-1",children:"Range Averaging"}),u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx("input",{type:"number",step:"0.01",value:K,onChange:ie=>se(ie.target.value),className:"w-16 px-1 py-0.5 text-xs border rounded bg-transparent dark:border-slate-600 dark:text-white"}),u.jsx("span",{className:"text-gray-400",children:"-"}),u.jsx("input",{type:"number",step:"0.01",value:ge,onChange:ie=>H(ie.target.value),className:"w-16 px-1 py-0.5 text-xs border rounded bg-transparent dark:border-slate-600 dark:text-white"}),u.jsx("button",{onClick:sa,className:"flex-1 bg-emerald-600 text-white text-[10px] font-bold py-1 rounded",children:"Avg"})]}),u.jsx("div",{className:"flex flex-col gap-2 max-h-48 overflow-y-auto",children:[0,1,2,3].map(ie=>{const Me=ht[ie];if(!Me)return null;const Pe=Cn[`c${ie}`];return u.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800/50 p-2 rounded text-[10px] border border-gray-100 dark:border-slate-800",children:[u.jsxs("div",{className:"flex items-center gap-2 font-bold mb-1",style:{color:Pe},children:[Lr[ie]," ",u.jsxs("span",{className:"text-gray-400 font-normal",children:["(",Me.count," pts)"]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-x-2 text-gray-700 dark:text-slate-300 font-mono",children:[u.jsxs("div",{children:["H: ",Me.h.toExponential(3)]}),u.jsxs("div",{children:["V: ",Me.v.toExponential(3)]})]})]},ie)})})]}),Ct&&u.jsx("div",{className:"absolute top-48 right-8 z-[55] w-56 bg-white dark:bg-slate-900 rounded-xl shadow-2xl border border-gray-200 dark:border-slate-700 p-4 animate-in slide-in-from-top-2",children:u.jsxs("div",{className:"flex flex-col gap-3",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"text-[9px] uppercase font-bold text-gray-400 mb-1",children:"Move"}),u.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[u.jsx("div",{}),u.jsx("button",{onClick:()=>Ht(0,-1),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),u.jsx("div",{}),u.jsx("button",{onClick:()=>Ht(-1,0),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),u.jsx("div",{}),u.jsx("button",{onClick:()=>Ht(1,0),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),u.jsx("div",{}),u.jsx("button",{onClick:()=>Ht(0,1),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),u.jsx("div",{})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-[9px] uppercase font-bold text-gray-400 mb-1",children:"Size"}),u.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[u.jsx("button",{onClick:()=>Ot(2,0),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"W+"}),u.jsx("button",{onClick:()=>Ot(-2,0),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"W-"}),u.jsx("button",{onClick:()=>Ot(0,2),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"H+"}),u.jsx("button",{onClick:()=>Ot(0,-2),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"H-"})]})]})]})}),u.jsx(gQ,{isOpen:ye,onClose:()=>he(!1),rawImageData:n,roi:a,selectedChannel:p===-1?0:p,channelName:p===-1?"Red (Default)":Lr[p],zIndex:s?s+2:102,onFocus:l})]}):null},xQ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,zIndex:i,onFocus:s,initialPosition:l,initialInternalState:c,onUpdateState:f})=>{const[d,h]=j.useState((c==null?void 0:c.selectedChannelKey)||"G1"),[p,m]=j.useState((c==null?void 0:c.blackLevel)??0),[v,x]=j.useState((c==null?void 0:c.whiteLevel)??16383),[y,g]=j.useState(null),[b,S]=j.useState(!1),[w,k]=j.useState(null),[O,_]=j.useState(l||{x:150,y:150}),[N,P]=j.useState(!1),A=j.useRef({x:0,y:0});j.useEffect(()=>{f&&f({selectedChannelKey:d,blackLevel:p,whiteLevel:v})},[d,p,v]),j.useEffect(()=>{if(e&&n&&!c){const M=n.blackLevels?Math.floor(n.blackLevels[1]):0;m(M),x(n.whiteLevel||16383),g(null)}},[e,n]);const $=()=>{if(!n||!a)return;k(null),S(!0);const B=(o?{B:0,G1:1,G2:2,R:3}:{R:0,G1:1,G2:2,B:3})[d];setTimeout(()=>{try{const L=dQ(n.data,n.width,n.height,a,B,p,v);L?g(L):(k("No data found in selection with current filters."),g(null))}catch(L){console.error("Analysis failed:",L),k(L.message||"Analysis error")}finally{S(!1)}},50)},C=(M,B,L)=>{s&&s(),!(L.closest("button")||L.closest("input")||L.closest("select"))&&(P(!0),A.current={x:M-O.x,y:B-O.y})},z=M=>{C(M.clientX,M.clientY,M.target)},E=M=>{const B=M.touches[0];C(B.clientX,B.clientY,M.target)};if(j.useEffect(()=>{const M=L=>{if(N){const X="touches"in L?L.touches[0].clientX:L.clientX,te="touches"in L?L.touches[0].clientY:L.clientY;_({x:X-A.current.x,y:te-A.current.y})}},B=()=>P(!1);return N&&(window.addEventListener("mousemove",M),window.addEventListener("mouseup",B),window.addEventListener("touchmove",M,{passive:!1}),window.addEventListener("touchend",B)),()=>{window.removeEventListener("mousemove",M),window.removeEventListener("mouseup",B),window.removeEventListener("touchmove",M),window.removeEventListener("touchend",B)}},[N]),!e)return null;const U=o?["B","G1","G2","R"]:["R","G1","G2","B"];return u.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl resize-both overflow-hidden min-w-[500px] min-h-[400px] w-[900px] h-[700px]",style:{left:O.x,top:O.y,zIndex:i??100},onMouseDownCapture:s,children:[u.jsxs("div",{className:`flex justify-between items-center p-4 border-b border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-900 select-none touch-none ${N?"cursor-grabbing":"cursor-grab"}`,onMouseDown:z,onTouchStart:E,children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2 pointer-events-none",children:"Quantization Step Analysis"}),u.jsxs("div",{className:"flex items-center gap-1",children:[r&&u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 p-2",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800/50 border-b border-gray-200 dark:border-slate-700 flex flex-wrap gap-4 items-end flex-shrink-0",children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Channel"}),u.jsx("select",{value:d,onChange:M=>h(M.target.value),className:"bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded px-3 py-1.5 text-sm text-gray-900 dark:text-slate-100 outline-none focus:ring-1 focus:ring-cyan-500 min-w-[80px]",children:U.map(M=>u.jsx("option",{value:M,children:M},M))})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Black Level"}),u.jsx("input",{type:"number",value:p,onChange:M=>m(Number(M.target.value)),className:"w-24 px-3 py-1.5 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-sm text-gray-900 dark:text-slate-100"})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"White Level"}),u.jsx("input",{type:"number",value:v,onChange:M=>x(Number(M.target.value)),className:"w-24 px-3 py-1.5 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-sm text-gray-900 dark:text-slate-100"})]}),u.jsx("button",{onClick:$,disabled:b,className:"mb-0.5 px-5 py-1.5 bg-cyan-600 hover:bg-cyan-500 text-white font-bold rounded shadow-sm hover:shadow transition-colors disabled:opacity-50 text-sm",children:b?"Analyzing...":"Run Analysis"})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-4 flex flex-col gap-4 bg-white dark:bg-slate-900 min-h-0",children:[w&&u.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded text-sm text-center flex-shrink-0",children:w}),!y&&!b&&!w&&u.jsx("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400 dark:text-slate-500 h-full",children:u.jsx("p",{children:"Configure parameters and click Run Analysis"})}),y&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 flex-shrink-0",children:[u.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700 text-center",children:[u.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 uppercase mb-1",children:"Unique Codes"}),u.jsx("div",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:y.uniqueCount})]}),u.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700 text-center",children:[u.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 uppercase mb-1",children:"Total Diffs"}),u.jsx("div",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:y.diffCount})]})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700 overflow-hidden flex-shrink-0",children:[u.jsx("div",{className:"px-4 py-2 bg-gray-50 dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700 text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Step Distribution"}),u.jsx("div",{className:"p-4 flex flex-wrap gap-x-8 gap-y-2 text-sm font-mono max-h-32 overflow-y-auto",children:Object.entries(y.stepCounts).sort((M,B)=>parseFloat(M[0])-parseFloat(B[0])).map(([M,B])=>u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("span",{className:"text-gray-500 dark:text-slate-400",children:["Step ",M,":"]}),u.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:String(B)})]},M))})]}),u.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 rounded-xl p-2 relative overflow-hidden min-h-[300px]",children:[u.jsx("div",{className:"absolute top-2 left-4 text-xs font-bold text-gray-400 dark:text-slate-500 pointer-events-none z-20 bg-white/80 dark:bg-slate-900/80 px-2 rounded",children:"Step Size vs Code Value"}),u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-0 pointer-events-none select-none opacity-10 mix-blend-normal dark:mix-blend-plus-lighter",children:u.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),u.jsx("div",{className:"relative z-10 w-full h-full",children:u.jsx(Ss,{width:"100%",height:"100%",children:u.jsxs(Rv,{data:y.plotData,margin:{top:20,right:20,bottom:20,left:10},children:[u.jsx(Ni,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),u.jsx(ja,{dataKey:"x",type:"number",domain:["auto","auto"],tick:{fill:"#9ca3af",fontSize:10},label:{value:"Code Value (Shifted)",position:"insideBottom",offset:-10,fill:"#9ca3af",fontSize:11}}),u.jsx(Oa,{tick:{fill:"#9ca3af",fontSize:10},domain:[0,"auto"],allowDataOverflow:!1,label:{value:"Step Size (Delta)",angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:11}}),u.jsx(pn,{contentStyle:{backgroundColor:"rgba(17, 24, 39, 0.95)",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6",fontSize:"12px"},labelFormatter:M=>`Val: ${M}`,formatter:M=>[M,"Step Size"]}),u.jsx(Wr,{type:"stepAfter",dataKey:"y",stroke:"#0891b2",strokeWidth:1.5,dot:{r:1.5,fill:"#0891b2",strokeWidth:0},activeDot:{r:4},isAnimationActive:!1})]})})})]})]})]})]})},bQ=({isOpen:e,onClose:t,rawImageData:r,roi:n,isBGGR:a,zIndex:o,onFocus:i,initialPosition:s,stackFiles:l})=>{const[c,f]=j.useState("cross"),[d,h]=j.useState("R"),[p,m]=j.useState("B"),[v,x]=j.useState("H"),[y,g]=j.useState(null),[b,S]=j.useState(!1),[w,k]=j.useState(0),[O,_]=j.useState(0),[N,P]=j.useState("single"),A=a?{B:0,G1:1,G2:2,R:3}:{R:0,G1:1,G2:2,B:3},$=a?["B","G1","G2","R"]:["R","G1","G2","B"],C=async z=>{if(!r||!n)return;S(!0),P(z),k(0),g(null);let E=A[d],U=c==="cross"?A[p]:E,M=0,B=0;c==="self"&&(v==="H"?B=2:M=2),setTimeout(async()=>{try{let L={sumCov:0,sumVar1:0,sumVar2:0,n:0};if(z==="single")L=z2(r.data,r.width,r.height,n,E,U,M,B);else if(l&&l.length>0)for(let X=0;X<l.length;X++){k(X+1);const te=await l[X].arrayBuffer(),Z=await Vd(te),I=z2(Z.data,Z.width,Z.height,n,E,U,M,B);L.sumCov+=I.sumCov,L.sumVar1+=I.sumVar1,L.sumVar2+=I.sumVar2,L.n+=I.n}_(L.n),g(lQ(L))}catch(L){console.error("Pearson calculation failed",L),alert("Calculation error: "+L.message)}finally{S(!1)}},50)};return e?u.jsxs(qh,{initialPosition:s||{x:200,y:200},onClose:t,zIndex:o,onFocus:i,className:"w-80 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 flex flex-col shadow-2xl overflow-hidden",children:[u.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800",children:[u.jsxs("h3",{className:"text-sm font-bold text-gray-700 dark:text-slate-200 flex items-center gap-2",children:["Pearson Correlation",u.jsx("span",{className:"text-[10px] font-normal bg-white dark:bg-slate-700 px-1.5 py-0.5 rounded border border-gray-200 dark:border-slate-600",children:"r"})]}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"p-4 flex flex-col gap-4",children:[u.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-800 p-1 rounded-lg border border-gray-200 dark:border-slate-700",children:[u.jsx("button",{onClick:()=>f("cross"),className:`flex-1 py-1 text-[10px] font-bold rounded transition-all ${c==="cross"?"bg-indigo-600 text-white shadow":"text-gray-500 dark:text-slate-400 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:"Cross-Channel"}),u.jsx("button",{onClick:()=>f("self"),className:`flex-1 py-1 text-[10px] font-bold rounded transition-all ${c==="self"?"bg-indigo-600 text-white shadow":"text-gray-500 dark:text-slate-400 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:"Self-Adjacent"})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"flex-1 flex flex-col gap-1",children:[u.jsx("label",{className:"text-[9px] uppercase font-bold text-gray-400",children:c==="cross"?"Channel 1":"Channel"}),u.jsx("select",{value:d,onChange:z=>h(z.target.value),className:"bg-gray-100 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded px-2 py-1.5 text-xs text-gray-700 dark:text-slate-200 outline-none focus:ring-1 focus:ring-indigo-500",children:$.map(z=>u.jsx("option",{value:z,children:z},z))})]}),u.jsx("div",{className:"text-gray-300 dark:text-slate-600 mt-4 font-mono",children:c==="cross"?"":""}),u.jsxs("div",{className:"flex-1 flex flex-col gap-1",children:[u.jsx("label",{className:"text-[9px] uppercase font-bold text-gray-400",children:c==="cross"?"Channel 2":"Direction"}),c==="cross"?u.jsx("select",{value:p,onChange:z=>m(z.target.value),className:"bg-gray-100 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded px-2 py-1.5 text-xs text-gray-700 dark:text-slate-200 outline-none focus:ring-1 focus:ring-indigo-500",children:$.map(z=>u.jsx("option",{value:z,children:z},z))}):u.jsxs("div",{className:"flex h-[28px] bg-gray-100 dark:bg-slate-800 rounded border border-gray-200 dark:border-slate-700 p-0.5",children:[u.jsx("button",{onClick:()=>x("H"),className:`flex-1 text-[9px] font-bold rounded ${v==="H"?"bg-slate-300 dark:bg-slate-600 text-indigo-600 dark:text-indigo-400":"text-gray-400"}`,children:"Horiz"}),u.jsx("button",{onClick:()=>x("V"),className:`flex-1 text-[9px] font-bold rounded ${v==="V"?"bg-slate-300 dark:bg-slate-600 text-indigo-600 dark:text-indigo-400":"text-gray-400"}`,children:"Vert"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[u.jsx("button",{onClick:()=>C("single"),disabled:b,className:"w-full py-2 bg-indigo-600 hover:bg-indigo-500 disabled:bg-gray-400 text-white font-bold rounded shadow-md transition-all active:scale-95 text-xs",children:b&&N==="single"?"Calculating...":"Calc Current Frame"}),l&&l.length>0&&u.jsxs("button",{onClick:()=>C("stack"),disabled:b,className:"w-full py-2 bg-emerald-600 hover:bg-emerald-500 disabled:bg-gray-400 text-white font-bold rounded shadow-md transition-all active:scale-95 text-xs flex flex-col items-center justify-center",children:[u.jsx("span",{children:"Calc Stack Concatenated"}),b&&N==="stack"&&u.jsxs("span",{className:"text-[9px] font-normal opacity-80",children:["Progress: ",w," / ",l.length]})]})]}),y!==null&&u.jsxs("div",{className:"mt-2 p-4 bg-gray-50 dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700 text-center animate-in fade-in slide-in-from-top-2",children:[u.jsxs("div",{className:"text-[10px] uppercase font-bold text-gray-400 dark:text-slate-500 mb-1",children:[c==="cross"?"Cross-Channel":`Self-Adj (${v})`," r"]}),u.jsx("div",{className:"text-2xl font-mono font-bold text-indigo-600 dark:text-indigo-400 select-all",style:{fontSize:"24px"},children:y.toFixed(5)}),u.jsxs("div",{className:"text-[9px] text-gray-400 mt-2 font-mono",children:["N = ",O.toLocaleString()," pairs"]}),u.jsx("div",{className:"mt-3 text-[10px] font-bold",children:Math.abs(y)>.5?u.jsx("span",{className:"text-red-500",children:"Significant Correlation"}):Math.abs(y)>.1?u.jsx("span",{className:"text-amber-500",children:"Weak Correlation"}):u.jsx("span",{className:"text-emerald-500",children:"Near-Zero (Uncorrelated)"})})]})]}),u.jsx("div",{className:"p-3 bg-gray-50/50 dark:bg-slate-800/30 text-[9px] text-gray-400 dark:text-slate-600 italic border-t border-gray-100 dark:border-slate-800",children:c==="cross"?"Comparing two color channels in the same Bayer 2x2 cells.":`Comparing pixel (r,c) with (r${v==="V"?"+2":""}, c${v==="H"?"+2":""}) in the same channel.`})]}):null},wQ=[{href:"https://y-g-jiang.github.io/CBLD.html",text:" (Primary Source)",abbr:"CBLD",description:"ISO",highlight:!0},{href:"https://y-G-jiang.github.io/LAC.html",text:"",abbr:"LAC",description:""},{href:"https://y-G-jiang.github.io/CCGV.html",text:"adobeIECMF",abbr:"CCGV",description:"acrRAWxy"},{href:"https://y-G-jiang.github.io/JTJS.html",text:"",abbr:"JTJS",description:"CMF/"},{href:"https://y-G-jiang.github.io/XJZS.html",text:"",abbr:"XJZS",description:""}],kQ=({isOpen:e,onClose:t})=>e?u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-3xl rounded-2xl shadow-2xl border border-gray-200 dark:border-slate-700 overflow-hidden flex flex-col max-h-[90vh]",onClick:r=>r.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"About / Tools"}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-1 rounded hover:bg-gray-200 dark:hover:bg-slate-700",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"p-6 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700",children:[u.jsx("div",{className:"mb-8 p-4 bg-gray-50 dark:bg-slate-800/50 rounded-xl border border-gray-100 dark:border-slate-700 text-center",children:u.jsxs("p",{className:"text-lg text-gray-700 dark:text-slate-300",children:[u.jsx("span",{className:"font-bold mr-2",children:"about:"}),u.jsx("a",{href:"https://y-g-jiang.github.io/JOindex.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline break-all font-mono",children:"https://y-g-jiang.github.io/JOindex.html"})]})}),u.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[u.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 flex-1"}),u.jsx("span",{className:"text-sm font-bold text-gray-400 dark:text-slate-500 uppercase tracking-wider",children:"Primary Resources"}),u.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 flex-1"})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:wQ.map(r=>u.jsxs("a",{href:r.href,target:"_blank",rel:"noopener noreferrer",className:`group block p-4 rounded-xl border transition-all duration-200 relative overflow-hidden ${r.highlight?"border-cyan-500 dark:border-cyan-400 bg-cyan-50/30 dark:bg-cyan-900/10 shadow-lg scale-[1.02] ring-2 ring-cyan-500/20":"border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-800/30 hover:bg-gray-50 dark:hover:bg-slate-800 hover:border-cyan-500"}`,children:[u.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-gradient-to-bl from-cyan-500/5 to-transparent -mr-8 -mt-8 rounded-full pointer-events-none group-hover:from-cyan-500/10 transition-colors"}),u.jsxs("div",{className:"flex items-center gap-3 mb-2 relative z-10",children:[u.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded transition-colors border ${r.highlight?"bg-cyan-600 text-white border-cyan-500":"bg-gray-100 dark:bg-slate-700 text-gray-600 dark:text-slate-300 border-gray-200 dark:border-slate-600 group-hover:border-cyan-200"}`,children:r.abbr}),u.jsx("h3",{className:`font-bold transition-colors ${r.highlight?"text-cyan-700 dark:text-cyan-300":"text-gray-800 dark:text-slate-200 group-hover:text-cyan-600"}`,children:r.text})]}),u.jsx("p",{className:`text-xs pl-1 transition-colors relative z-10 ${r.highlight?"text-cyan-600/80 dark:text-cyan-400/80":"text-gray-500 dark:text-slate-400"}`,children:r.description})]},r.abbr))})]})]})}):null,SQ=({isOpen:e,onClose:t,data:r,fileName:n,warning:a})=>{const[o,i]=j.useState(""),s=f=>{const d=new WeakSet;try{return JSON.stringify(f,(h,p)=>{if(typeof p=="bigint")return p.toString()+"n";if(typeof p=="object"&&p!==null){if(d.has(p))return"[Circular]";if(d.add(p),ArrayBuffer.isView(p))return`[${p.constructor.name}]`}return p})}catch{return"[Unable to serialize object]"}},l=j.useMemo(()=>{if(!r)return[];const f=[],d=(h,p=0)=>{if(p>5)return"...";if(h==null)return String(h);if(h instanceof Date)return h.toLocaleString();if(typeof h=="number")return h.toString();if(typeof h=="string")return h;if(typeof h=="bigint")return h.toString()+"n";if(ArrayBuffer.isView(h))return`<${h.constructor.name} len=${h.length} bytes=${h.byteLength}>`;if(h instanceof ArrayBuffer)return`<ArrayBuffer bytes=${h.byteLength}>`;if(typeof h=="object"){if(Array.isArray(h))return h.length===0?"[]":h.length>20?`[${h.slice(0,10).map(x=>typeof x=="number"?x.toFixed(2):d(x,p+1)).join(", ")}, ... (+${h.length-10} more)]`:`[${h.map(v=>typeof v=="number"?Number.isInteger(v)?v:v.toFixed(4):d(v,p+1)).join(", ")}]`;try{const m=Object.keys(h);return m.length>5?`{Object with ${m.length} keys}`:s(h)}catch{return"<Complex Object>"}}return String(h)};try{if(typeof r!="object")return[{key:"Value",value:String(r)}];Object.keys(r).sort().forEach(p=>{if(p==="MakerNote"||p==="UserComment"||p.includes("Strip")||p.includes("Offset")){f.push({key:p,value:"<Binary/Internal Data>"});return}const m=r[p];f.push({key:p,value:d(m)})})}catch(h){console.error("Error processing EXIF data:",h),f.push({key:"Error",value:"Failed to process metadata structure."})}return f},[r]);if(!e)return null;const c=l.filter(f=>f.key.toLowerCase().includes(o.toLowerCase())||f.value.toLowerCase().includes(o.toLowerCase()));return u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-3xl max-h-[90vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700",onClick:f=>f.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700",children:[u.jsxs("div",{className:"overflow-hidden",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:"EXIF Data"}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1 font-mono truncate",children:n})]}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-2 rounded-full hover:bg-gray-100 dark:hover:bg-slate-800",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a&&u.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 px-4 py-2 border-b border-amber-100 dark:border-amber-800/50 text-center",children:u.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 whitespace-pre-line font-medium leading-relaxed",children:a})}),u.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:u.jsxs("div",{className:"relative",children:[u.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),u.jsx("input",{type:"text",placeholder:"Search tags...",value:o,onChange:f=>i(f.target.value),className:"w-full pl-9 pr-4 py-2 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500 outline-none text-gray-900 dark:text-slate-100 transition-colors placeholder-gray-400"})]})}),u.jsx("div",{className:"overflow-y-auto flex-1 p-0 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700",children:c.length>0?u.jsxs("table",{className:"w-full text-left border-collapse table-fixed",children:[u.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800 sticky top-0 shadow-sm z-10",children:u.jsxs("tr",{children:[u.jsx("th",{className:"py-3 px-5 font-semibold text-xs text-gray-500 dark:text-slate-400 uppercase tracking-wider w-1/3 border-b border-gray-200 dark:border-slate-700",children:"Tag Name"}),u.jsx("th",{className:"py-3 px-5 font-semibold text-xs text-gray-500 dark:text-slate-400 uppercase tracking-wider w-2/3 border-b border-gray-200 dark:border-slate-700",children:"Value"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-800",children:c.map(f=>u.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-800/50 transition-colors group",children:[u.jsx("td",{className:"py-2 px-5 text-sm font-medium text-cyan-600 dark:text-cyan-400 font-mono break-words align-top",children:f.key}),u.jsx("td",{className:"py-2 px-5 text-sm text-gray-700 dark:text-slate-300 font-mono break-words align-top group-hover:text-gray-900 dark:group-hover:text-slate-100",children:f.value})]},f.key))})]}):u.jsx("div",{className:"flex flex-col items-center justify-center h-64 text-gray-400 dark:text-slate-500",children:u.jsxs("p",{children:['No tags found matching "',o,'"']})})}),u.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50 flex justify-end rounded-b-2xl",children:u.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-white rounded-lg text-sm font-semibold transition-colors",children:"Close"})})]})})},jQ=100,c0=e=>{if(e.length===0)return 0;if(e.length===1)return e[0];if(e.length===2)return .5*(e[0]+e[1]);let t=[...e].sort((r,n)=>r-n);for(;t.length>4;){let r=1/0,n=0;const a=t.length,o=Math.floor(a/2);for(let i=0;i<=a-o;i++){const s=t[i+o-1]-t[i];s<r&&(r=s,n=i)}t=t.slice(n,n+o)}return t.reduce((r,n)=>r+n,0)/t.length},G2=({min:e,max:t,value:r,onChange:n,vertical:a=!1,logScale:o=!1})=>{const i=j.useRef(null),s=j.useRef(null),l=j.useCallback(g=>{const b=o?Math.max(1e-6,e):e,S=o?Math.max(b*1.0001,t):t,w=Math.max(b,Math.min(S,g));if(o){const k=Math.log10(b),O=Math.log10(S);return(Math.log10(w)-k)/(O-k)}return(w-b)/(S-b)},[e,t,o]),c=j.useCallback(g=>{const b=o?Math.max(1e-6,e):e,S=o?Math.max(b*1.0001,t):t;if(o){const w=Math.log10(b),k=Math.log10(S);return Math.pow(10,w+g*(k-w))}return b+g*(S-b)},[e,t,o]),f=(g,b)=>{g.preventDefault(),g.stopPropagation(),s.current=b;const S=k=>{if(!s.current||!i.current)return;const O=i.current.getBoundingClientRect();let _=0;a?_=(O.bottom-k.clientY)/O.height:_=(k.clientX-O.left)/O.width,_=Math.max(0,Math.min(1,_));const N=c(_);if(s.current==="min"){const P=r[1];n([Math.min(N,P),P])}else{const P=r[0];n([P,Math.max(N,P)])}},w=()=>{s.current=null,window.removeEventListener("mousemove",S),window.removeEventListener("mouseup",w)};window.addEventListener("mousemove",S),window.addEventListener("mouseup",w)},d=l(r[0])*100,h=l(r[1])*100,p=a?{left:"50%",top:0,bottom:0,width:"4px",transform:"translateX(-50%)"}:{top:"50%",left:0,right:0,height:"4px",transform:"translateY(-50%)"},m=a?{left:"50%",bottom:`${d}%`,height:`${h-d}%`,width:"4px",transform:"translateX(-50%)"}:{top:"50%",left:`${d}%`,width:`${h-d}%`,height:"4px",transform:"translateY(-50%)"},v="absolute w-3 h-3 bg-white border-2 border-cyan-600 rounded-full shadow-md cursor-pointer hover:scale-125 transition-transform z-10",x=a?{left:"50%",bottom:`${d}%`,transform:"translate(-50%, 50%)"}:{top:"50%",left:`${d}%`,transform:"translate(-50%, -50%)"},y=a?{left:"50%",bottom:`${h}%`,transform:"translate(-50%, 50%)"}:{top:"50%",left:`${h}%`,transform:"translate(-50%, -50%)"};return u.jsxs("div",{ref:i,className:`relative select-none ${a?"h-full w-4 py-2":"w-full h-4 px-2"}`,children:[u.jsx("div",{className:"absolute bg-gray-300 dark:bg-slate-600 rounded-full",style:p}),u.jsx("div",{className:"absolute bg-cyan-500 dark:bg-cyan-400 rounded-full",style:m}),u.jsx("div",{className:v,style:x,onMouseDown:g=>f(g,"min")}),u.jsx("div",{className:v,style:y,onMouseDown:g=>f(g,"max")})]})},OQ=({isOpen:e,onClose:t,data:r,blackLevel:n,imageHeight:a,isBGGR:o,importedMetadata:i,theme:s,initialCameraModel:l,initialISO:c})=>{const[f,d]=j.useState("Noise"),[h,p]=j.useState(!0),[m,v]=j.useState(null),[x,y]=j.useState("default"),[g,b]=j.useState(!1),[S,w]=j.useState(!1),[k,O]=j.useState({R:!0,G1:!0,G2:!0,B:!0}),[_,N]=j.useState(""),[P,A]=j.useState(""),[$,C]=j.useState(""),[z,E]=j.useState(""),[U,M]=j.useState("10"),[B,L]=j.useState(""),[X,te]=j.useState("0 0 0 0"),[Z,I]=j.useState("0 0 0 0"),[G,oe]=j.useState(!1),[q,ke]=j.useState(null),[ve,K]=j.useState(!1),[se,ge]=j.useState(0),[H,ye]=j.useState([]),[he,Oe]=j.useState(""),[Fe,Re]=j.useState(""),bt=()=>{const F=parseFloat(he),J=parseFloat(Fe);!isNaN(F)&&!isNaN(J)&&(ye([...H,{id:Date.now(),x:F,y:J}]),Oe(""),Re(""))},[jt,$e]=j.useState(()=>localStorage.getItem("ptc_tester_name")||""),[Ke,dt]=j.useState(""),[Ct,Lt]=j.useState("");j.useEffect(()=>{localStorage.setItem("ptc_tester_name",jt)},[jt]);const Ar=j.useRef(G),hr=j.useRef(ve),ir=j.useRef(se);j.useEffect(()=>{Ar.current=G,hr.current=ve,ir.current=se},[G,ve,se]);const[Wt,Xr]=j.useState(null),[Gt,Kr]=j.useState({min:.01,max:90}),[at,Ye]=j.useState({readNoise:0,gain:1,prnu:.5}),[lt,It]=j.useState(2e6),xr=j.useRef(at),sr=j.useRef(Gt),br=j.useRef(lt);j.useEffect(()=>{xr.current=at,sr.current=Gt,br.current=lt},[at,Gt,lt]);const[ht,Rr]=j.useState({read:"0",gain:"1.0",prnu:"0.5",rangeMin:"0.01",rangeMax:"90"}),[ct,Cn]=j.useState({read:!0,shot:!0,prnu:!0,total:!0,fitRange:!0}),[Lr,sa]=j.useState(!1),[xn,En]=j.useState([]),[bn,Mr]=j.useState(null),[Ir,Cr]=j.useState(""),sn=j.useMemo(()=>n?n.join(","):"",[n]);j.useEffect(()=>{if(e){let F="0 0 0 0";i&&i.blackLevel?F=i.blackLevel.join(" "):F=n&&n.length===4?n.join(" "):"0 0 0 0",te(F),I(F);let J="";if(i&&i.height?J=i.height.toString():a&&(J=a.toString()),L(J),J){const re=parseFloat(J);!isNaN(re)&&re>0?M((2309.4/re).toFixed(2)):M("10")}else M("10");ke(null),oe(!1),K(!1),ge(0),En([]),Mr(null),Kr({min:.01,max:90}),Rr({read:"0",gain:"0",prnu:"0",rangeMin:"0.01",rangeMax:"90"}),Ye({readNoise:0,gain:0,prnu:0}),N(""),A(""),C(""),E(""),d("Noise"),Xr(null),It(2e6),Cr(""),w(!1),ye([]),dt(re=>re.trim()===""&&l?l:re),Lt(re=>re.trim()===""&&c?c:re)}},[e,sn,i,a,r,l,c]);const Tn=F=>{if(F.key==="Enter"){const J=parseFloat(B);if(!isNaN(J)&&J>0){const re=(2309.4/J).toFixed(2);M(re)}F.target.blur()}},Et=j.useMemo(()=>{let J=Z.trim().split(/[\s,]+/).filter(Boolean).map(Number);for(J.length===1&&(J=[J[0],J[0],J[0],J[0]]);J.length<4;)J.push(0);const re=D=>{switch(D){case"R":return J[0];case"G1":return J[1];case"G2":return J[2];case"B":return J[3];default:return 0}};return r.map(D=>{const de=D.mean-re(D.channel),_e=D.std>0?de/D.std:0;return{...D,x:de,std:D.std,snr:_e}}).filter(D=>D.std>0)},[r,Z]),Ht=j.useMemo(()=>{const F=at.readNoise,J=F*F;return Et.map(re=>{let D=0;if(f==="Noise")D=re.std;else if(f==="SNR")D=re.snr;else if(f==="Linear"){const _e=re.std*re.std-J;D=re.x!==0?_e/re.x:0}return{...re,y:D}})},[Et,f,at.readNoise]),Ot=j.useMemo(()=>{if(Et.length===0)return"G1";const F={R:0,G1:0,G2:0,B:0},J={R:0,G1:0,G2:0,B:0};for(const de of Et)F[de.channel]+=de.x,J[de.channel]++;let re="G1",D=-1/0;return Object.keys(F).forEach(de=>{const _e=J[de],Ee=_e>0?F[de]/_e:-1/0;Ee>D&&(D=Ee,re=de)}),re},[Et]),ie=j.useCallback(()=>{let F=1/0,J=-1/0;if(Et.length===0)return{min:.1,max:1};for(let re=0;re<Et.length;re++){const D=Et[re].x;h&&D<=0||(D<F&&(F=D),D>J&&(J=D))}return F===1/0?{min:.1,max:1}:{min:F,max:J}},[Et,h]),Me=j.useCallback(()=>{let F=1/0,J=-1/0;if(Ht.length===0)return{min:.1,max:1};for(let re=0;re<Ht.length;re++){const D=Ht[re].y;h&&D<=0||(D<F&&(F=D),D>J&&(J=D))}return F===1/0?{min:.1,max:1}:{min:F*.9,max:J*1.1}},[Ht,h]),{min:Pe,max:et}=ie(),{min:ze,max:wt}=Me(),pt=et*(Gt.min/100),tr=et*(Gt.max/100),Ce=j.useMemo(()=>{if(!h&&Ht.length===0)return{shot:[],read:[],prnu:[],total:[]};const F=_?parseFloat(_):Pe,J=P?parseFloat(P):et,re=100,D=Math.max(.1,F),de=Math.max(1,J);if(D>=de)return{shot:[],read:[],prnu:[],total:[]};const _e=Math.log10(D),Ze=(Math.log10(de)-_e)/re,qe=at.readNoise,We=at.gain>0?at.gain:1,_t=at.prnu/100,ut=[],Nt=[],rr=[],ce=[];for(let He=0;He<=re;He++){const Ae=Math.pow(10,_e+He*Ze);if(f==="Linear"){const $t=1/We,yt=_t*_t,cn=$t+yt*Ae;ce.push({x:Ae,y:cn}),ut.push({x:Ae,y:$t}),rr.push({x:Ae,y:yt*Ae})}else{const $t=qe,yt=Math.sqrt(Ae/We),cn=_t*Ae,nt=Math.sqrt($t*$t+yt*yt+cn*cn);f==="Noise"?(ut.push({x:Ae,y:yt}),Nt.push({x:Ae,y:$t}),rr.push({x:Ae,y:cn}),ce.push({x:Ae,y:nt})):(yt>0&&ut.push({x:Ae,y:Ae/yt}),$t>0&&Nt.push({x:Ae,y:Ae/$t}),cn>0&&rr.push({x:Ae,y:Ae/cn}),nt>0&&ce.push({x:Ae,y:Ae/nt}))}}return{shot:ut,read:Nt,prnu:rr,total:ce}},[Ht,h,_,P,at,f,Pe,et]),rt=j.useMemo(()=>{if(f==="Linear")return[];const F=parseFloat(U);if(isNaN(F)||F<=0)return[];const J=_?parseFloat(_):Pe,re=P?parseFloat(P):et;return f==="SNR"?[{x:J,y:F},{x:re,y:F}]:[{x:J,y:J/F},{x:re,y:re/F}]},[Ht,U,f,_,P,Pe,et]),gt=j.useCallback((F,J)=>{if(!J||J.length===0)return null;const re=[...J].sort((D,de)=>D.x-de.x);for(let D=0;D<re.length-1;D++){const de=re[D],_e=re[D+1];if(de.snr<=F&&_e.snr>=F||de.snr>=F&&_e.snr<=F){const Ee=(F-de.snr)/(_e.snr-de.snr);return de.x+Ee*(_e.x-de.x)}}return null},[]),mt=j.useMemo(()=>{const F=Et,J=1e3,re=de=>{if(de.length===0)return[];if(de.length<=J)return de;const _e=[...de].sort((qe,We)=>qe.x-We.x),Ee=[],Ze=_e.length/J;for(let qe=0;qe<J;qe++){const We=Math.floor(qe*Ze),_t=Math.floor((qe+1)*Ze),ut=_e.slice(We,_t);if(ut.length===0)continue;ut.sort((rr,ce)=>rr.std-ce.std);const Nt=Math.floor(ut.length/2);Ee.push(ut[Nt])}return Ee},D={R:[],G1:[],G2:[],B:[]};return F.forEach(de=>{D[de.channel]&&D[de.channel].push(de)}),{R:re(D.R),G1:re(D.G1),G2:re(D.G2),B:re(D.B)}},[Et]),Vt=j.useMemo(()=>q&&at.gain?q*at.gain:null,[q,at.gain]),R=j.useMemo(()=>{if(q===null||q===0)return null;const F=parseFloat(U);let J=null;if(!isNaN(F)&&F>0){let Ee=0,Ze=0;if(["R","G1","G2","B"].forEach(qe=>{const We=gt(F,mt[qe]);We!==null&&(Ee+=We,Ze++)}),Ze>0){const qe=Ee/Ze;J=Math.log2(q/qe)}}const re=parseFloat(B);let D=null,de=NaN;if(!isNaN(re)&&re>0){de=16e3/re;let Ee=0,Ze=0;if(["R","G1","G2","B"].forEach(qe=>{const We=gt(de,mt[qe]);We!==null&&(Ee+=We,Ze++)}),Ze>0){const qe=Ee/Ze;D=Math.log2(q/qe)}}let _e=null;if(!isNaN(re)&&re>0){const Ee=gt(de,mt[Ot]);Ee!==null&&(_e=Math.log2(q/Ee))}return{manualDR:J,ptpDR:D,d55DR:_e,manualTarget:F,ptpTarget:de,saturationSignal:q,dominantChannel:Ot}},[q,U,B,mt,gt,Ot]),je=j.useMemo(()=>{if(f==="Linear"||!R||!R.ptpTarget||isNaN(R.ptpTarget))return[];const F=R.ptpTarget,J=_?parseFloat(_):Pe,re=P?parseFloat(P):et;return f==="SNR"?[{x:J,y:F},{x:re,y:F}]:[{x:J,y:J/F},{x:re,y:re/F}]},[f,R,_,P,Pe,et]),Zt=j.useCallback(()=>{const re=document.createElement("canvas");re.width=2048,re.height=1536;const D=re.getContext("2d");if(!D)return;const de=s==="dark",_e=de?"#0f172a":"#ffffff",Ee=de?"#ffffff":"#000000",Ze=de?"#475569":"#cbd5e1",qe=de?"#1e293b":"#f1f5f9",We=o?{R:"#ef4444",G1:"#22c55e",G2:"#4ade80",B:"#3b82f6"}:{R:"#ef4444",G1:"#22c55e",G2:"#4ade80",B:"#3b82f6"};D.fillStyle=_e,D.fillRect(0,0,2048,1536);let _t=_?parseFloat(_):Pe,ut=P?parseFloat(P):et,Nt=$?parseFloat($):ze,rr=z?parseFloat(z):wt;isNaN(_t)&&(_t=.1),isNaN(ut)&&(ut=1e4),isNaN(Nt)&&(Nt=.1),isNaN(rr)&&(rr=1e3);const ce={top:80,right:80,bottom:100,left:120},He=2048-ce.left-ce.right,Ae=1536-ce.top-ce.bottom,$t=V=>{if(h){const ae=Math.log10(Math.max(1e-9,_t)),ne=Math.log10(Math.max(1e-9,ut)),fe=Math.log10(Math.max(1e-9,V));return ce.left+(fe-ae)/(ne-ae)*He}else return ce.left+(V-_t)/(ut-_t)*He},yt=V=>{if(h){const ae=Math.log10(Math.max(1e-9,Nt)),ne=Math.log10(Math.max(1e-9,rr)),fe=Math.log10(Math.max(1e-9,V));return ce.top+Ae-(fe-ae)/(ne-ae)*Ae}else return ce.top+Ae-(V-Nt)/(rr-Nt)*Ae};if(D.beginPath(),h){const V=(ae,ne,fe)=>{const xe=Math.log10(Math.max(1e-9,ae)),Se=Math.log10(Math.max(1e-9,ne)),pe=Math.floor(xe),Ne=Math.ceil(Se);for(let Ve=pe;Ve<=Ne;Ve++){const Qe=Math.pow(10,Ve);let De=fe?$t(Qe):yt(Qe);(fe?De>=ce.left-1&&De<=ce.left+He+1:De>=ce.top-1&&De<=ce.top+Ae+1)&&(D.lineWidth=1.5,D.strokeStyle=Ze,D.beginPath(),fe?(D.moveTo(De,ce.top),D.lineTo(De,ce.top+Ae)):(D.moveTo(ce.left,De),D.lineTo(ce.left+He,De)),D.stroke()),D.lineWidth=.5,D.strokeStyle=qe;for(let nr=2;nr<10;nr++){const Xt=nr*Qe;De=fe?$t(Xt):yt(Xt),(fe?De>=ce.left&&De<=ce.left+He:De>=ce.top&&De<=ce.top+Ae)&&(D.beginPath(),fe?(D.moveTo(De,ce.top),D.lineTo(De,ce.top+Ae)):(D.moveTo(ce.left,De),D.lineTo(ce.left+He,De)),D.stroke())}}};V(_t,ut,!0),V(Nt,rr,!1)}else{D.strokeStyle=Ze,D.lineWidth=1;for(let V=0;V<=5;V++){const ae=ce.left+He*V/5;D.beginPath(),D.moveTo(ae,ce.top),D.lineTo(ae,ce.top+Ae),D.stroke();const ne=ce.top+Ae*V/5;D.beginPath(),D.moveTo(ce.left,ne),D.lineTo(ce.left+He,ne),D.stroke()}}D.strokeStyle=Ee,D.lineWidth=2,D.strokeRect(ce.left,ce.top,He,Ae);const cn=(V,ae,ne)=>{V<ce.left||V>ce.left+He||ae<ce.top||ae>ce.top+Ae||(D.fillStyle=ne,D.fillRect(V-1.5,ae-1.5,3,3))},nt=Ht.filter(V=>!(h&&(V.x<=0||V.y<=0)));nt.forEach(V=>{k[V.channel]&&V.channel!==Ot&&cn($t(V.x),yt(V.y),We[V.channel])}),nt.forEach(V=>{k[V.channel]&&V.channel===Ot&&cn($t(V.x),yt(V.y),We[V.channel])}),H.forEach(V=>{const ae=$t(V.x),ne=yt(V.y);if(ae<ce.left||ae>ce.left+He||ne<ce.top||ne>ce.top+Ae)return;D.strokeStyle="#d946ef",D.lineWidth=2.5;const fe=6;D.beginPath(),D.moveTo(ae-fe,ne-fe),D.lineTo(ae+fe,ne+fe),D.moveTo(ae+fe,ne-fe),D.lineTo(ae-fe,ne+fe),D.stroke()});const lr=(V,ae,ne=[])=>{if(V.length<2)return;D.beginPath(),D.strokeStyle=ae,D.lineWidth=3,D.setLineDash(ne);let fe=!1;for(const xe of V){const Se=$t(xe.x),pe=yt(xe.y);if(Se<ce.left-100||Se>ce.left+He+100||pe<ce.top-100||pe>ce.top+Ae+100){fe=!1;continue}fe?D.lineTo(Se,pe):(D.moveTo(Se,pe),fe=!0)}D.stroke(),D.setLineDash([])},Zr=de?"#ffffff":"#000000";if(ct.shot&&lr(Ce.shot,"#94a3b8",[5,5]),ct.read&&lr(Ce.read,"#f43f5e",[3,3]),ct.prnu&&lr(Ce.prnu,"#f59e0b",[3,3]),ct.total&&lr(Ce.total,Zr,[]),rt.length===2){const V="#6366f1";lr(rt,V,[4,2]);const ae=rt[1],ne=yt(ae.y);ne>=ce.top&&ne<=ce.top+Ae&&(D.fillStyle=V,D.font="bold 20px sans-serif",D.textAlign="right",D.textBaseline="bottom",D.fillText(`M.Tgt=${U}`,ce.left+He-10,ne-8))}if(je.length===2&&(R!=null&&R.ptpTarget)){const V="#10b981";lr(je,V,[4,4]);const ae=je[1],ne=yt(ae.y);if(ne>=ce.top&&ne<=ce.top+Ae){D.fillStyle=V,D.font="bold 20px sans-serif",D.textAlign="right",D.textBaseline="bottom";const fe=R.ptpTarget.toFixed(1),xe=rt.length===2?yt(rt[1].y):-100,Se=Math.abs(ne-xe)<25?25:0;D.fillText(`PTP=${fe}`,ce.left+He-10,ne-8-Se)}}if(ct.fitRange||ve){const V=(ae,ne)=>{const fe=$t(ae);fe>=ce.left&&fe<=ce.left+He&&(D.beginPath(),D.strokeStyle=ne,D.lineWidth=2,D.setLineDash([8,8]),D.moveTo(fe,ce.top),D.lineTo(fe,ce.top+Ae),D.stroke(),D.setLineDash([]))};V(pt,"#22d3ee"),V(tr,"#22d3ee")}if(q){const V=$t(q);V>=ce.left&&V<=ce.left+He&&(D.strokeStyle="#ef4444",D.lineWidth=3,D.setLineDash([10,10]),D.beginPath(),D.moveTo(V,ce.top),D.lineTo(V,ce.top+Ae),D.stroke(),D.setLineDash([]),D.fillStyle="#ef4444",D.font="bold 24px sans-serif",D.textAlign="center",D.fillText("Sat",V,ce.top-10))}D.fillStyle=Ee,D.font="28px monospace",D.textAlign="center",D.fillText(_t.toExponential(1),ce.left,ce.top+Ae+40),D.fillText(ut.toExponential(1),ce.left+He,ce.top+Ae+40),D.fillText("Signal (DN)",ce.left+He/2,ce.top+Ae+80),D.textAlign="right",D.textBaseline="middle",D.fillText(Nt.toExponential(1),ce.left-20,ce.top+Ae),D.fillText(rr.toExponential(1),ce.left-20,ce.top),D.save(),D.translate(ce.left-80,ce.top+Ae/2),D.rotate(-Math.PI/2),D.textAlign="center",D.fillText(f==="Linear"?"(Var - RN) / Mean":f,0,0),D.restore(),D.save(),D.translate(2048/2,1536/2),D.rotate(-Math.PI/6),D.textAlign="center",D.textBaseline="middle",D.fillStyle=de?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)",D.font="bold 150px sans-serif",D.fillText(" y-g-jiang.github.io",0,0),D.restore(),D.fillStyle=Ee,D.font="bold 36px sans-serif",D.textAlign="left",D.textBaseline="top",D.fillText(`PTC Export: ${f} Mode`,ce.left,20),D.font="24px sans-serif",D.fillStyle=de?"#94a3b8":"#64748b",D.fillText(`Points: ${Ht.length} | Sat Channel: ${Ot}`,ce.left,65);const Na=ce.left+30,hl=ce.top+30,tp=70,xu=V=>{if(!q||V<=0)return"--";const ae=at.readNoise,ne=at.gain,fe=at.prnu/100;if(ne<=0)return"--";const xe=V*V,Se=ae*ae,pe=1-xe*fe*fe,Ne=-(xe/ne),Ve=-(xe*Se);let Qe=0;if(Math.abs(pe)<1e-8)Math.abs(Ne)>1e-8&&(Qe=-Ve/Ne);else{const De=Ne*Ne-4*pe*Ve;De>=0&&(Qe=(-Ne+Math.sqrt(De))/(2*pe))}return Qe>0?Math.log2(q/Qe).toFixed(2)+" EV":"--"},bu=R!=null&&R.ptpTarget&&!isNaN(R.ptpTarget)?xu(R.ptpTarget):"--",rp=U?xu(parseFloat(U)):"--";D.font="bold 48px monospace",D.textAlign="left",D.textBaseline="top",D.shadowColor=de?"rgba(0,0,0,0.8)":"rgba(255,255,255,0.8)",D.shadowBlur=4,D.shadowOffsetX=1,D.shadowOffsetY=1;const kn=(V,ae,ne,fe)=>{const xe=hl+ne*tp;D.fillStyle=Ee,D.fillText(V,Na,xe);const Se=D.measureText(V).width;D.fillStyle=fe||Ee,D.fillText(ae,Na+Se,xe)},np=ht.read,ap=parseFloat(ht.gain).toFixed(3),op=parseFloat(ht.prnu).toFixed(2)+"%";let wu=`M.DR@SNR${U}: `;const pl=parseFloat(B);if(!isNaN(pl)&&pl>0){const V=(2309.4/pl).toFixed(2);Math.abs(parseFloat(U)-parseFloat(V))<.05&&(wu="8mpSNR=1 DR: ")}kn("Tester: ",jt||"N/A",0),kn("Model : ",Ke||"Unknown",1),kn("ISO   : ",Ct||"N/A",2),kn("RN/FPN: ",np,3,"#f43f5e"),kn("KADC  : ",ap,4,"#06b6d4"),kn("PRNU  : ",op,5,"#f59e0b"),kn("PTP DR: ",R!=null&&R.ptpDR?R.ptpDR.toFixed(2)+" EV":"--",6,"#10b981"),kn("D55 DR: ",R!=null&&R.d55DR?R.d55DR.toFixed(2)+" EV":"--",7,"#8b5cf6"),kn("FWC   : ",Vt?Vt>1e4?(Vt/1e3).toFixed(1)+"k":Math.round(Vt).toString():"--",8,"#f97316"),kn(wu,R!=null&&R.manualDR?R.manualDR.toFixed(2)+" EV":"--",9,"#06b6d4"),kn("PTCFitDR(PTP): ",bu,10,"#10b981"),kn("PTCFitDR(Man): ",rp,11,"#06b6d4"),D.save(),D.textAlign="right",D.textBaseline="bottom",D.fillStyle="#3b82f6",D.font="bold 80px sans-serif",D.shadowColor=de?"rgba(0,0,0,0.8)":"rgba(255,255,255,0.8)",D.shadowBlur=4,D.shadowOffsetX=2,D.shadowOffsetY=2;const gl=1988,W=1476,Y=90;D.fillText("Online",gl,W),D.fillText("Jiangtherapee",gl,W-Y),D.restore();const Q=document.createElement("a");Q.download=`ptc_complete_${f}_${Date.now()}.jpg`,Q.href=re.toDataURL("image/jpeg",.9),Q.click()},[Ht,Ot,k,_,P,$,z,Pe,et,ze,wt,h,s,f,q,o,ct,Ce,pt,tr,Gt,ve,jt,Ke,Ct,R,Vt,U,rt,je,ht,B,H]),Tt=j.useMemo(()=>{let F=Ht;if(h&&(F=F.filter(de=>de.y>0&&de.x>0)),x==="top3"){const de=[...F].sort((Ee,Ze)=>Ze.x-Ee.x),_e=Math.max(50,Math.ceil(de.length*.03));F=de.slice(0,_e)}const J={R:[],G1:[],G2:[],B:[]};if(F.forEach(de=>{J[de.channel]&&J[de.channel].push(de)}),x==="raw")return J;const re=x==="top3"?500:jQ,D=de=>{if(de.length<=re)return de;const _e=[...de].sort((qe,We)=>qe.x-We.x),Ee=[],Ze=_e.length/re;for(let qe=0;qe<re;qe++){const We=Math.floor(qe*Ze),_t=Math.floor((qe+1)*Ze),ut=_e.slice(We,_t);if(ut.length===0)continue;ut.sort((rr,ce)=>rr.y-ce.y);const Nt=Math.floor(ut.length/2);Ee.push(ut[Nt])}return Ee};return{R:D(J.R),G1:D(J.G1),G2:D(J.G2),B:D(J.B)}},[Ht,x,h]),Ue=j.useMemo(()=>{if(Et.length<5)return[];const F=Et.filter(re=>re.channel===Ot);return[...F.length>20?F:Et].sort((re,D)=>re.x-D.x).map(re=>({mean:re.x,std:re.std}))},[Et,Ot]),Yr=F=>{const J=F.length;if(J===0)return[];const re=F.reduce((He,Ae)=>He+Ae,0)/J,D=F.reduce((He,Ae)=>He+Math.pow(Ae-re,2),0)/(J-1||1),de=Math.sqrt(D);if(de===0)return[{x:re-.001,density:0},{x:re,density:1},{x:re+.001,density:0}];const _e=1.06*de*Math.pow(J,-.2),Ee=Math.min(...F),Ze=Math.max(...F),qe=(Ze-Ee)*.2||Ee*.1,We=Math.max(0,Ee-qe),_t=Ze+qe,ut=100,Nt=(_t-We)/(ut-1),rr=He=>1/Math.sqrt(2*Math.PI)*Math.exp(-.5*He*He),ce=[];for(let He=0;He<ut;He++){const Ae=We+He*Nt;let $t=0;for(let yt=0;yt<J;yt++)$t+=rr((Ae-F[yt])/_e);$t/=J*_e,ce.push({x:Ae,density:$t})}return ce},Ie=j.useCallback((F,J,re,D)=>{if(F.length<5)return{gain:0,prnu:0};const de=F[F.length-1].mean,_e=de*(re.min/100),Ee=de*(re.max/100),Ze=F.filter(nt=>nt.mean>=_e&&nt.mean<=Ee);if(Ze.length<5)return{gain:0,prnu:0};Xr({nPoints:Ze.length});const qe=J*J,We=[],_t=[];if(Ze.forEach(nt=>{const Zr=nt.std*nt.std-qe;if(nt.mean>1&&Zr>0){const Na=nt.mean,hl=Zr/nt.mean;We.push({x:Na,y:hl}),_t.push(nt.mean/Zr)}}),We.length<5)return{gain:0,prnu:0};const ut=[],Nt=We.length,rr=D,ce=Nt*(Nt-1)/2;if(ce<=rr)for(let nt=0;nt<Nt;nt++)for(let lr=nt+1;lr<Nt;lr++){const Zr=We[lr].x-We[nt].x;Math.abs(Zr)>1e-5&&ut.push((We[lr].y-We[nt].y)/Zr)}else{const nt=Math.max(1,Math.floor(ce/rr));for(let lr=0;lr<Nt;lr++)for(let Zr=lr+1;Zr<Nt;Zr+=nt){const Na=We[Zr].x-We[lr].x;Math.abs(Na)>1e-5&&ut.push((We[Zr].y-We[lr].y)/Na)}}const He=c0(ut),Ae=We.map(nt=>nt.y-He*nt.x),$t=c0(Ae);let yt=0,cn=0;if($t>1e-6?yt=1/$t:yt=c0(_t),He>0&&(cn=Math.sqrt(He)*100),_t.length>0){const nt=Yr(_t);En(nt),Mr(yt)}else En([]);return{gain:yt,prnu:cn}},[]),Br=j.useCallback(F=>{let J=F.read??xr.current.readNoise;const re=F.gRange??sr.current,D=br.current;if((F.read!==void 0||F.gRange!==void 0)&&F.gain===void 0&&F.prnu===void 0&&Ue.length>0&&J>=0)w(!0),setTimeout(()=>{const _e=Ie(Ue,J,re,D);let Ee=xr.current.gain,Ze=xr.current.prnu;_e.gain>0&&(Ee=_e.gain,Ze=_e.prnu),Ye({readNoise:J,gain:Ee,prnu:Ze}),F.gRange!==void 0&&Kr(F.gRange),Rr(qe=>{var We,_t;return{...qe,read:J.toString(),gain:Ee>0?Ee.toFixed(3):"0",prnu:Ze.toFixed(2),rangeMin:(((We=F.gRange)==null?void 0:We.min)??qe.rangeMin).toString(),rangeMax:(((_t=F.gRange)==null?void 0:_t.max)??qe.rangeMax).toString()}}),w(!1)},50);else{let _e=F.gain!==void 0?F.gain:xr.current.gain,Ee=F.prnu!==void 0?F.prnu:xr.current.prnu;Ye({readNoise:J,gain:_e,prnu:Ee}),F.gRange!==void 0&&Kr(F.gRange),Rr(Ze=>{var qe,We;return{...Ze,read:J.toString(),gain:_e>0?_e.toFixed(3):"0",prnu:Ee.toFixed(2),rangeMin:(((qe=F.gRange)==null?void 0:qe.min)??Ze.rangeMin).toString(),rangeMax:(((We=F.gRange)==null?void 0:We.max)??Ze.rangeMax).toString()}})}},[Ue,Ie]),la=`${Z}-${r.length}`;j.useEffect(()=>{if(!e||!r||r.length===0)return;const F=Tt[Ot];if(!F||F.length===0||Ir===la)return;O({R:Ot==="R",G1:Ot==="G1",G2:Ot==="G2",B:Ot==="B"});const J=[...F].sort((_e,Ee)=>_e.x-Ee.x);let re=0;J.length>0&&(re=J[0].std);const D=Et.filter(_e=>_e.channel===Ot);let de=-1/0;for(const _e of D)_e.x>de&&(de=_e.x);de!==-1/0&&ke(de),Br({read:re}),Cr(la)},[e,r,Ir,la,Tt,Ot,Br,Et]);const ln=(F,J)=>{Rr(re=>({...re,[F]:J}))},Gn=F=>{let J=parseFloat(ht[F]);isNaN(J)||J<0||Br({[F]:J})},za=()=>{I(X),Cr("")},qr=()=>{const F=parseFloat(ht.rangeMin),J=parseFloat(ht.rangeMax);!isNaN(F)&&!isNaN(J)&&F<J&&F>=0&&J<=100&&Br({gRange:{min:F,max:J}})},ca=(F,J)=>{F.key==="Enter"&&(J==="rangeMin"||J==="rangeMax"?qr():Gn(J),F.target.blur())};j.useEffect(()=>{Ue.length>0&&Br({})},[lt,Ue]);const ua=F=>{O(J=>({...J,[F]:!J[F]}))},Qh=()=>{y(F=>F==="top3"?"default":"top3")},yu=()=>{x==="raw"?y("default"):b(!0)},cl=()=>{b(!1),y("raw")},ul=(F,J)=>{const re=parseFloat(F),D=parseFloat(J);let de=isNaN(re)?"auto":re,_e=isNaN(D)?"auto":D;return h&&typeof de=="number"&&de<=0&&(de="auto"),[de,_e]},Ko=F=>{if(!F||!F.payload)return;const J=F.payload;if(v(J),Ar.current&&(ke(J.x),oe(!1)),hr.current){const re=sr.current.min,D=sr.current.max,{max:de}=ie();if(de<=0)return;const _e=Math.max(0,Math.min(100,J.x/de*100));if(ir.current===1){const Ee=Math.min(_e,D-.5);Br({gRange:{min:Ee,max:D}}),ge(2)}else if(ir.current===2){const Ee=Math.max(_e,re+.5);Br({gRange:{min:re,max:Ee}}),ge(0),K(!1)}}},wn=j.useCallback(F=>{const{cx:J,cy:re,fill:D}=F;return u.jsx("circle",{cx:J,cy:re,r:3,fill:D,stroke:"none",style:{cursor:"pointer"}})},[]),Jh=({active:F,payload:J})=>{if(F&&J&&J.length){const re=J[0].payload;return u.jsxs("div",{className:"bg-slate-800 text-white text-xs p-2 rounded border border-slate-600 shadow-xl opacity-90 font-mono z-50",children:[u.jsx("div",{className:"font-bold border-b border-slate-600 pb-1 mb-1",children:re.channel}),u.jsxs("div",{children:["Signal: ",re.x.toFixed(2)]}),u.jsxs("div",{children:[f,": ",re.y.toFixed(4)]}),re.row!==void 0&&re.col!==void 0&&!isNaN(re.row)&&!isNaN(re.col)&&u.jsxs("div",{className:"text-cyan-400 mt-0.5",children:["Loc: Row ",re.row,", Col ",re.col]}),re.filename&&u.jsx("div",{className:"text-gray-400 mt-1 max-w-[200px] truncate",title:re.filename,children:re.filename})]})}return null},fl=F=>{d(F),F==="Linear"&&p(!1)};if(!e)return null;const vu=s==="dark"?"#ffffff":"#000000";let dl=f;f==="Linear"&&(dl="(Var - RN) / Mean");const ep=X!==Z;return u.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in",onClick:F=>{F.stopPropagation()},children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-[98vw] max-w-[2200px] h-[95vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700 overflow-hidden relative",onClick:F=>F.stopPropagation(),children:[u.jsx(Do,{isOpen:g,onClose:()=>b(!1),onConfirm:cl,title:"Warning: High Performance Cost",message:"Displaying all data points may cause the browser to freeze or become unresponsive, especially with large datasets. Are you sure you want to continue?",confirmText:"Yes, Show All"}),m&&u.jsxs("div",{className:"absolute top-20 right-8 z-30 bg-white/90 dark:bg-slate-800/90 border border-cyan-500 rounded-xl p-4 shadow-xl backdrop-blur-md max-w-xs animate-in fade-in zoom-in-95 duration-200",children:[u.jsxs("div",{className:"flex justify-between items-start mb-2 border-b border-gray-200 dark:border-slate-700 pb-2",children:[u.jsx("h4",{className:"font-bold text-gray-900 dark:text-white text-sm",children:"Selected Point"}),u.jsx("button",{onClick:()=>v(null),className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("div",{className:"space-y-1 text-xs font-mono text-gray-700 dark:text-slate-300",children:u.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1.5",children:[u.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Channel:"}),u.jsx("span",{className:"font-bold",children:m.channel}),u.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Signal (DN):"}),u.jsx("span",{children:m.x.toFixed(4)}),u.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Noise (Std):"}),u.jsx("span",{children:m.std.toFixed(4)}),u.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"SNR:"}),u.jsx("span",{className:"text-purple-600 dark:text-purple-400 font-bold",children:(m.x/m.std).toFixed(2)})]})})]}),Lr&&u.jsx("div",{className:"absolute inset-0 z-40 bg-white/95 dark:bg-slate-900/95 backdrop-blur-sm flex flex-col items-center justify-center p-8 animate-in fade-in zoom-in-95 duration-200",children:u.jsxs("div",{className:"w-full max-w-2xl h-[60vh] bg-gray-50 dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-700 shadow-2xl p-4 flex flex-col relative",children:[u.jsx("button",{onClick:()=>sa(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-red-500 transition-colors",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),u.jsxs("div",{className:"mb-4 text-center",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-slate-200",children:"Gain Density Estimation"}),u.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:["HSM Mode: ",u.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:bn==null?void 0:bn.toFixed(4)}),u.jsx("span",{className:"mx-2",children:"|"}),"Data Points: ",xn.length>0?"Density Curve Generated":"No Data"]})]}),u.jsx("div",{className:"flex-1 min-h-0",children:xn.length>0?u.jsx(Ss,{width:"100%",height:"100%",children:u.jsxs(zN,{data:xn,margin:{top:10,right:30,left:0,bottom:20},children:[u.jsx(Ni,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3,vertical:!1}),u.jsx(ja,{dataKey:"x",tickFormatter:F=>F.toFixed(2),tick:{fill:"#9ca3af",fontSize:10},label:{value:"Gain (e/ADU)",position:"insideBottom",offset:-15,fill:"#9ca3af",fontSize:12}}),u.jsx(Oa,{tick:{fill:"#9ca3af",fontSize:10}}),u.jsx(pn,{cursor:{stroke:"rgba(255,255,255,0.2)"},contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6"}}),u.jsx(Jn,{type:"monotone",dataKey:"density",stroke:"#0ea5e9",fill:"#0ea5e9",fillOpacity:.3,strokeWidth:2}),bn!==null&&u.jsx(li,{x:bn,stroke:"#ef4444",strokeWidth:2,label:{value:"HSM",fill:"#ef4444",fontSize:10,position:"top"}})]})}):u.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:"No data in selected range"})})]})}),u.jsxs("div",{className:"flex flex-wrap justify-between items-center p-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50 gap-4 flex-shrink-0",children:[u.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2",children:["Photon Transfer Curve",u.jsxs("span",{className:"text-xs font-normal bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-300 px-2 py-0.5 rounded border border-purple-200 dark:border-purple-800",children:[r.length," Pts"]})]}),u.jsxs("div",{className:"flex gap-4 items-center flex-wrap",children:[u.jsxs("button",{onClick:Zt,className:"bg-green-600 hover:bg-green-500 text-white font-bold py-1 px-3 rounded text-xs shadow-md transition-all active:scale-95 flex items-center gap-1",title:"Render all points, target lines, and metadata to a high-res JPG",children:[u.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export Complete Result"]}),u.jsxs("div",{className:"flex bg-white dark:bg-slate-700 rounded-lg p-1 border border-gray-200 dark:border-slate-600",children:[u.jsx("button",{onClick:()=>fl("Noise"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${f==="Noise"?"bg-cyan-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"Noise ()"}),u.jsx("button",{onClick:()=>fl("SNR"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${f==="SNR"?"bg-purple-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"SNR"}),u.jsx("button",{onClick:()=>fl("Linear"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${f==="Linear"?"bg-indigo-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"Linear (PTC)"})]}),u.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-600 dark:text-slate-300 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:h,onChange:F=>p(F.target.checked),className:"rounded border-gray-300 text-cyan-600 focus:ring-cyan-500 bg-gray-100 dark:bg-slate-700 dark:border-slate-600"}),"Log-Log"]}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors p-1",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-0 border-b border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-sm flex-shrink-0",children:[u.jsxs("div",{className:"lg:col-span-9 p-5 flex flex-col gap-5 border-r border-gray-200 dark:border-slate-700",children:[u.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between text-xs",children:[u.jsxs("div",{className:"flex gap-4 items-center",children:[u.jsxs("div",{className:"flex items-center gap-1.5 bg-gray-50 dark:bg-slate-800 rounded-md p-1 border border-gray-200 dark:border-slate-700",children:[u.jsx("span",{className:"font-bold text-gray-500 dark:text-slate-400 pl-1",children:"X:"}),u.jsx("input",{type:"number",placeholder:"Min",value:_,onChange:F=>N(F.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"}),u.jsx("span",{className:"text-gray-400",children:"-"}),u.jsx("input",{type:"number",placeholder:"Max",value:P,onChange:F=>A(F.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"})]}),u.jsxs("div",{className:"flex items-center gap-1.5 bg-gray-50 dark:bg-slate-800 rounded-md p-1 border border-gray-200 dark:border-slate-700",children:[u.jsx("span",{className:"font-bold text-gray-500 dark:text-slate-400 pl-1",children:"Y:"}),u.jsx("input",{type:"number",placeholder:"Min",value:$,onChange:F=>C(F.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"}),u.jsx("span",{className:"text-gray-400",children:"-"}),u.jsx("input",{type:"number",placeholder:"Max",value:z,onChange:F=>E(F.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"})]}),u.jsx("button",{onClick:()=>{N(""),A(""),C(""),E("")},className:"text-xs text-cyan-600 dark:text-cyan-400 hover:underline",children:"Auto"})]}),u.jsxs("div",{className:"flex items-center gap-1 bg-white dark:bg-slate-700 p-1 rounded-lg border border-gray-200 dark:border-slate-600",children:[u.jsx("button",{onClick:()=>ua("R"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${k.R?"bg-red-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"R"}),u.jsx("button",{onClick:()=>ua("G1"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${k.G1?"bg-green-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"G1"}),u.jsx("button",{onClick:()=>ua("G2"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${k.G2?"bg-green-400 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"G2"}),u.jsx("button",{onClick:()=>ua("B"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${k.B?"bg-blue-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"B"})]})]}),u.jsxs("div",{className:"flex flex-wrap items-end gap-8",children:[u.jsxs("div",{className:"flex flex-col bg-gray-50 dark:bg-slate-800/50 p-2 rounded border border-gray-100 dark:border-slate-700",children:[u.jsx("span",{className:"text-[9px] uppercase font-bold text-gray-500 dark:text-slate-400 mb-1",children:"Black Level (0,0 0,1 1,0 1,1)"}),u.jsx("input",{type:"text",value:X,onChange:F=>te(F.target.value),className:"w-32 text-xs px-2 py-1 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded outline-none focus:border-cyan-500 font-mono",placeholder:"0 0 0 0"})]}),u.jsxs("div",{className:"flex flex-col justify-between bg-gray-50 dark:bg-slate-800/50 p-2 rounded border border-gray-100 dark:border-slate-700",children:[u.jsxs("div",{className:"flex justify-between items-center mb-1",children:[u.jsx("span",{className:"text-[9px] uppercase font-bold text-gray-500 dark:text-slate-400 mr-2",children:"Fit Range % (Robust)"}),u.jsx("button",{onClick:()=>{K(!ve),ge(ve?0:1)},className:`px-1.5 py-0.5 text-[9px] rounded border transition-colors ${ve?"bg-cyan-100 text-cyan-700 border-cyan-300 animate-pulse":"bg-white dark:bg-slate-700 border-gray-300 dark:border-slate-600 text-gray-600 dark:text-slate-300 hover:bg-gray-50"}`,children:ve?se===1?"Pick Min":"Pick Max":"Select"})]}),u.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[u.jsx("input",{type:"number",step:"0.1",value:ht.rangeMin,onChange:F=>ln("rangeMin",F.target.value),onBlur:qr,onKeyDown:F=>ca(F,"rangeMin"),className:"w-10 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-center font-bold"}),u.jsx("span",{className:"text-gray-400",children:"-"}),u.jsx("input",{type:"number",step:"0.1",value:ht.rangeMax,onChange:F=>ln("rangeMax",F.target.value),onBlur:qr,onKeyDown:F=>ca(F,"rangeMax"),className:"w-10 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-center font-bold"})]})]}),u.jsxs("div",{className:"flex flex-col bg-indigo-50 dark:bg-indigo-900/20 p-2 rounded border border-indigo-100 dark:border-indigo-800/50",children:[u.jsx("span",{className:"text-[9px] uppercase font-bold text-indigo-600 dark:text-indigo-400 mb-1",children:"DR Params"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-300",children:"Img H:"}),u.jsx("input",{type:"number",value:B,onChange:F=>L(F.target.value),onKeyDown:Tn,placeholder:"Empty",className:"w-14 px-1 py-0.5 bg-white dark:bg-slate-900 border border-indigo-200 dark:border-indigo-800 rounded text-center font-bold text-indigo-700 dark:text-indigo-300 text-xs placeholder:font-normal placeholder:text-gray-300"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-300",children:"Tgt SNR:"}),u.jsx("input",{type:"number",value:U,onChange:F=>M(F.target.value),className:"w-10 px-1 py-0.5 bg-white dark:bg-slate-900 border border-indigo-200 dark:border-indigo-800 rounded text-center font-bold text-indigo-700 dark:text-indigo-300 text-xs"})]})]})]}),u.jsxs("div",{className:"flex flex-col gap-1 text-[10px] justify-end pb-0.5",children:[u.jsx("button",{onClick:()=>{oe(!G),q&&ke(null)},disabled:ve,className:`font-bold rounded border shadow-sm transition-all px-3 py-1.5 ${G?"bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400 border-amber-500 animate-pulse":"bg-white dark:bg-slate-800 text-gray-600 dark:text-slate-300 border-gray-300 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:G?"Pick Point":"Select Linear Limit"}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{onClick:Qh,className:`flex-1 font-bold rounded border shadow-sm transition-all px-2 py-1 ${x==="top3"?"bg-indigo-600 text-white border-indigo-700":"bg-white dark:bg-slate-800 text-gray-600 dark:text-slate-300 border-gray-300 dark:border-slate-600 hover:bg-gray-50"}`,children:"Top 3%"}),u.jsx("button",{onClick:yu,className:`font-bold rounded border shadow-sm transition-all px-2 py-1 ${x==="raw"?"bg-red-600 text-white border-red-700":"text-red-500 border-red-200 hover:bg-red-50"}`,children:"All"})]})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-4 items-center bg-gray-50/50 dark:bg-slate-800/20 p-2 rounded-lg border border-gray-100 dark:border-slate-800",children:[u.jsx("span",{className:"text-[10px] uppercase font-bold text-gray-400 dark:text-slate-500",children:"Metadata"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",value:jt,onChange:F=>$e(F.target.value),placeholder:"Tester Name",className:"w-24 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"}),u.jsx("input",{type:"text",value:Ke,onChange:F=>dt(F.target.value),placeholder:"Camera Model",className:"w-32 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"}),u.jsx("input",{type:"text",value:Ct,onChange:F=>Lt(F.target.value),placeholder:"ISO",className:"w-16 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-4 items-center bg-fuchsia-50/50 dark:bg-fuchsia-900/10 p-2 rounded-lg border border-fuchsia-100 dark:border-fuchsia-900/30",children:[u.jsx("span",{className:"text-[10px] uppercase font-bold text-fuchsia-500 dark:text-fuchsia-400",children:"Markers"}),u.jsxs("div",{className:"flex gap-2 items-center",children:[u.jsx("input",{type:"number",value:he,onChange:F=>Oe(F.target.value),placeholder:"X (Signal)",className:"w-20 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 outline-none focus:border-fuchsia-500 transition-colors"}),u.jsx("input",{type:"number",value:Fe,onChange:F=>Re(F.target.value),placeholder:"Y (Value)",className:"w-20 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 outline-none focus:border-fuchsia-500 transition-colors"}),u.jsx("button",{onClick:bt,className:"px-3 py-1 bg-fuchsia-600 hover:bg-fuchsia-500 text-white text-xs font-bold rounded shadow-sm transition-colors active:scale-95",children:"+"}),H.length>0&&u.jsx("button",{onClick:()=>ye([]),className:"px-2 py-1 bg-gray-200 dark:bg-slate-700 hover:bg-red-500 hover:text-white text-gray-600 dark:text-slate-300 text-xs font-bold rounded shadow-sm transition-colors active:scale-95",children:"Clr"})]}),u.jsxs("div",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono",children:[H.length," pts"]})]}),u.jsxs("div",{className:"flex gap-4 text-[10px] pt-1 justify-center sm:justify-start flex-wrap",children:[u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:ct.shot,onChange:F=>Cn({...ct,shot:F.target.checked}),className:"rounded text-gray-500"})," ",u.jsx("span",{className:"text-gray-500",children:"Shot Noise"})]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:ct.read,onChange:F=>Cn({...ct,read:F.target.checked}),className:"rounded text-rose-500"})," ",u.jsx("span",{className:"text-rose-500",children:"Read Noise"})]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:ct.prnu,onChange:F=>Cn({...ct,prnu:F.target.checked}),className:"rounded text-amber-500"})," ",u.jsx("span",{className:"text-amber-500",children:"PRNU"})]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:ct.total,onChange:F=>Cn({...ct,total:F.target.checked}),className:"rounded text-white"})," ",u.jsx("span",{className:"text-gray-900 dark:text-white font-bold",children:"Model"})]})]})]}),u.jsxs("div",{className:"lg:col-span-3 bg-slate-100 dark:bg-slate-800 p-4 flex flex-col justify-center gap-4",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center mb-1 px-1",children:[u.jsxs("h3",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase flex items-center gap-2",children:["Fit Parameters (D55 SAT Channel:",Ot,")",S&&u.jsx("span",{className:"text-orange-500 animate-pulse text-[10px]",children:"Calculating..."})]}),u.jsxs("div",{className:"flex gap-2 items-center",children:[u.jsx("button",{onClick:za,disabled:S,className:`px-3 py-1 text-white text-[10px] font-bold rounded shadow-sm transition-all flex items-center gap-1 active:scale-95 
                                            ${S?"bg-gray-400 cursor-wait":ep?"bg-orange-500 hover:bg-orange-600 animate-pulse ring-2 ring-orange-400/50":"bg-cyan-600 hover:bg-cyan-500"}
                                        `,title:"Apply Black Level, Auto-detect Read Noise, then Recalculate Fit",children:S?u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"w-3 h-3 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Fitting..."]}):u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),"Apply & Calc"]})}),u.jsxs("select",{value:lt,onChange:F=>It(Number(F.target.value)),className:"text-[9px] bg-slate-200 dark:bg-slate-700 text-gray-600 dark:text-slate-300 rounded px-1 py-0.5 border-none outline-none cursor-pointer hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors",title:"Number of point-pairs to sample for robust regression (Theil-Sen)",children:[u.jsx("option",{value:1e5,children:"100k Pairs"}),u.jsx("option",{value:5e5,children:"500k Pairs"}),u.jsx("option",{value:2e6,children:"2M Pairs"}),u.jsx("option",{value:5e6,children:"5M Pairs"}),u.jsx("option",{value:1e7,children:"10M Pairs"})]}),Wt&&u.jsxs("span",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono",title:"Number of points used in regression",children:["N=",Wt.nPoints]})]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1",children:"rn/fpn"}),u.jsx("input",{type:"text",inputMode:"decimal",value:ht.read,onChange:F=>ln("read",F.target.value),onBlur:()=>Gn("read"),onKeyDown:F=>ca(F,"read"),className:"w-full text-center text-2xl font-light bg-transparent text-rose-500 outline-none border-b border-transparent focus:border-rose-500 transition-colors"})]}),u.jsxs("div",{className:"flex flex-col items-center relative group",children:[u.jsxs("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1 flex items-center gap-1",children:["Kadc (HSM)",u.jsx("button",{onClick:()=>sa(!0),className:"text-[9px] text-cyan-600 dark:text-cyan-400 hover:underline",children:"Dist."})]}),u.jsx("input",{type:"text",inputMode:"decimal",value:ht.gain,onChange:F=>ln("gain",F.target.value),onBlur:()=>Gn("gain"),onKeyDown:F=>ca(F,"gain"),className:"w-full text-center text-2xl font-light bg-transparent text-slate-700 dark:text-slate-200 outline-none border-b border-transparent focus:border-cyan-500 transition-colors"})]}),u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1",children:"PRNU (%)"}),u.jsx("input",{type:"text",inputMode:"decimal",value:ht.prnu,onChange:F=>ln("prnu",F.target.value),onBlur:()=>Gn("prnu"),onKeyDown:F=>ca(F,"prnu"),className:"w-full text-center text-2xl font-light bg-transparent text-amber-500 outline-none border-b border-transparent focus:border-amber-500 transition-colors"})]})]})]}),u.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 w-full"}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 text-center",children:[u.jsxs("div",{className:"flex flex-col justify-center bg-cyan-50 dark:bg-cyan-900/10 p-2 rounded-lg border border-cyan-100 dark:border-cyan-900/30",children:[u.jsxs("h4",{className:"text-[10px] font-bold text-cyan-600 dark:text-cyan-500 uppercase tracking-wide mb-1 truncate",title:`Manual DR at SNR=${(R==null?void 0:R.manualTarget)||U}`,children:["M.DR @ SNR=",(R==null?void 0:R.manualTarget)||U]}),u.jsx("div",{className:"text-base font-bold text-cyan-700 dark:text-cyan-400 whitespace-nowrap",children:R!=null&&R.manualDR?`${R.manualDR.toFixed(2)} EV`:"--"})]}),u.jsxs("div",{className:"flex flex-col justify-center bg-emerald-50 dark:bg-emerald-900/10 p-2 rounded-lg border border-emerald-100 dark:border-emerald-900/30",title:isNaN((R==null?void 0:R.ptpTarget)||NaN)?"Requires Image Height":`Standard Point-to-Point DR (Target SNR = 16000/${B||"H"})`,children:[u.jsx("h4",{className:"text-[10px] font-bold text-emerald-600 dark:text-emerald-500 uppercase tracking-wide mb-1",children:"PTP DR"}),u.jsx("div",{className:"text-base font-bold text-emerald-700 dark:text-emerald-400 whitespace-nowrap",children:R!=null&&R.ptpDR?`${R.ptpDR.toFixed(2)} EV`:"--"})]}),u.jsxs("div",{className:"flex flex-col justify-center bg-purple-50 dark:bg-purple-900/10 p-2 rounded-lg border border-purple-100 dark:border-purple-900/30",title:isNaN((R==null?void 0:R.ptpTarget)||NaN)?"Requires Image Height":`D55 Saturation DR (Target SNR = 16000/${B||"H"} on ${R==null?void 0:R.dominantChannel} Channel)`,children:[u.jsxs("h4",{className:"text-[10px] font-bold text-purple-600 dark:text-purple-400 uppercase tracking-wide mb-1 truncate",children:["D55 DR (",R==null?void 0:R.dominantChannel,")"]}),u.jsx("div",{className:"text-base font-bold text-purple-700 dark:text-purple-400 whitespace-nowrap",children:R!=null&&R.d55DR?`${R.d55DR.toFixed(2)} EV`:"--"})]}),u.jsxs("div",{className:"flex flex-col justify-center bg-orange-50 dark:bg-orange-900/10 p-2 rounded-lg border border-orange-100 dark:border-orange-900/30",children:[u.jsx("h4",{className:"text-[10px] font-bold text-orange-600 dark:text-orange-400 uppercase tracking-wide mb-1",children:"FWC"}),u.jsx("div",{className:"text-base font-bold text-orange-600 dark:text-orange-400 font-mono whitespace-nowrap truncate",title:Vt!==null?`${Math.round(Vt)}`:"",children:Vt!==null?Vt>1e4?`${(Vt/1e3).toFixed(1)}k`:`${Math.round(Vt)}`:"--"})]})]}),q===null&&u.jsx("div",{className:"text-center text-[10px] text-red-500 animate-pulse font-bold mt-[-10px]",children:"Please select Linear Limit on chart to calc DR"})]})]}),u.jsxs("div",{className:`flex-1 p-4 bg-white dark:bg-slate-900 relative grid grid-cols-[auto_1fr] grid-rows-[1fr_auto] gap-2 ${G||ve?"cursor-crosshair":""}`,children:[u.jsx("div",{className:"row-start-1 col-start-1 h-full",children:u.jsx(G2,{vertical:!0,min:ze,max:wt,value:[$?parseFloat($):ze,z?parseFloat(z):wt],onChange:([F,J])=>{C(F.toString()),E(J.toString())},logScale:h})}),u.jsxs("div",{className:"row-start-1 col-start-2 relative",children:[Ht.length===0?u.jsx("div",{className:"flex h-full items-center justify-center text-gray-400",children:"No valid data points found."}):u.jsx(Ss,{width:"100%",height:"100%",children:u.jsxs(QZ,{margin:{top:20,right:20,bottom:0,left:0},onClick:Ko,children:[u.jsx("defs",{children:u.jsxs("filter",{id:"glow",height:"300%",width:"300%",x:"-100%",y:"-100%",children:[u.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),u.jsxs("feMerge",{children:[u.jsx("feMergeNode",{in:"coloredBlur"}),u.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),u.jsx(Ni,{strokeDasharray:"3 3",stroke:"#374151",opacity:.2}),u.jsx(ja,{type:"number",dataKey:"x",name:"Signal",scale:h?"log":"linear",domain:ul(_,P),allowDataOverflow:!0,hide:!0}),u.jsx(Oa,{type:"number",dataKey:"y",name:f,scale:h?"log":"linear",domain:ul($,z),label:{value:dl,angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:12},tick:{fill:"#9ca3af",fontSize:10},allowDataOverflow:!0}),u.jsx(pn,{content:u.jsx(Jh,{}),cursor:{strokeDasharray:"3 3"}}),q&&u.jsx(li,{x:q,stroke:"red",strokeDasharray:"3 3",label:{position:"top",value:"Sat",fill:"red",fontSize:10}}),(ct.fitRange||ve)&&u.jsxs(u.Fragment,{children:[u.jsx(li,{x:pt,stroke:"#22d3ee",strokeDasharray:"5 5",label:{position:"insideTopLeft",value:`Min: ${Gt.min}%`,fill:"#22d3ee",fontSize:9}}),u.jsx(li,{x:tr,stroke:"#22d3ee",strokeDasharray:"5 5",label:{position:"insideTopLeft",value:`Max: ${Gt.max}%`,fill:"#22d3ee",fontSize:9}})]}),k.R&&u.jsx(dn,{name:"Red",data:Tt.R,fill:"#ef4444",shape:wn,onClick:Ko,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-R"),k.G1&&u.jsx(dn,{name:"Green 1",data:Tt.G1,fill:"#22c55e",shape:wn,onClick:Ko,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-G1"),k.G2&&u.jsx(dn,{name:"Green 2",data:Tt.G2,fill:"#4ade80",shape:wn,onClick:Ko,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-G2"),k.B&&u.jsx(dn,{name:"Blue",data:Tt.B,fill:"#3b82f6",shape:wn,onClick:Ko,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-B"),ct.shot&&Ce.shot.length>0&&u.jsx(dn,{name:"Shot Noise (Ideal)",data:Ce.shot,line:{stroke:"#94a3b8",strokeWidth:1,strokeDasharray:"5 5"},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-shot"),ct.read&&Ce.read.length>0&&u.jsx(dn,{name:"Read Noise Floor",data:Ce.read,line:{stroke:"#f43f5e",strokeWidth:1,strokeDasharray:"3 3"},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-read"),ct.prnu&&Ce.prnu.length>0&&u.jsx(dn,{name:"PRNU (Non-uniformity)",data:Ce.prnu,line:{stroke:"#f59e0b",strokeWidth:1,strokeDasharray:"3 3"},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-prnu"),ct.total&&Ce.total.length>0&&u.jsx(dn,{name:"Total Noise Model",data:Ce.total,line:{stroke:vu,strokeWidth:2},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-total"),rt.length>0&&u.jsx(dn,{name:`Target SNR=${U}`,data:rt,line:{stroke:"#6366f1",strokeWidth:2,strokeDasharray:"4 2"},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-target"),je.length>0&&u.jsx(dn,{name:`PTP Target SNR=${R!=null&&R.ptpTarget?R.ptpTarget.toFixed(1):"?"}`,data:je,line:{stroke:"#10b981",strokeWidth:2,strokeDasharray:"4 4"},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-ptp"),H.length>0&&u.jsx(dn,{name:"Manual Markers",data:H,fill:"#d946ef",shape:"star",legendType:"star"},"manual-points")]})}),u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 pointer-events-none select-none opacity-25 mix-blend-normal dark:mix-blend-plus-lighter",children:u.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})})]}),u.jsx("div",{className:"row-start-2 col-start-2 w-full",children:u.jsx(G2,{min:Pe,max:et,value:[_?parseFloat(_):Pe,P?parseFloat(P):et],onChange:([F,J])=>{N(F.toString()),A(J.toString())},logScale:h})})]})]})})},_Q=({searchTerm:e,onSearchChange:t,manufacturers:r,selectedManufacturer:n,onManufacturerChange:a,cameras:o,onCameraSelect:i})=>u.jsx("div",{className:"sticky top-4 z-10 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm p-4 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[u.jsxs("div",{className:"relative md:col-span-3",children:[u.jsx("input",{type:"text",placeholder:"Search camera model...",value:e,onChange:s=>t(s.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 text-gray-900 dark:text-slate-200 placeholder-gray-500 dark:placeholder-slate-400"}),u.jsx("svg",{className:"w-5 h-5 text-gray-400 dark:text-slate-400 absolute top-1/2 left-3 transform -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),u.jsx("select",{value:n,onChange:s=>a(s.target.value),className:"w-full md:col-span-1 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-2 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 appearance-none text-gray-900 dark:text-slate-200",children:r.map(s=>u.jsx("option",{value:s,children:s},s))}),u.jsxs("select",{onChange:s=>i(s.target.value),className:"w-full md:col-span-1 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-2 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 appearance-none text-gray-900 dark:text-slate-200",value:"","aria-label":"Jump to camera model",children:[u.jsx("option",{value:"",disabled:!0,children:"Jump to model..."}),o.map(s=>u.jsx("option",{value:s.id,children:s.name},s.id))]})]})}),NQ=({active:e,payload:t,label:r,theme:n})=>{if(e&&t&&t.length){const a=t[0].payload,o=n==="dark"?"bg-slate-800/80 border-slate-600 text-slate-300":"bg-white/90 border-gray-200 text-gray-700";return u.jsxs("div",{className:`${o} backdrop-blur-sm border p-3 rounded-lg shadow-lg`,children:[u.jsx("p",{className:"label font-bold",children:`ISO ${r}`}),u.jsx("div",{className:"mt-2 space-y-1 text-sm",children:u.jsxs(u.Fragment,{children:[u.jsxs("div",{style:{color:"#f87171"},children:["Red: ",a.R_avg.toFixed(2)," (Range: ",a.R_range[0]," - ",a.R_range[1],")"]}),u.jsxs("div",{style:{color:"#4ade80"},children:["Green 1: ",a.G1_avg.toFixed(2)," (Range: ",a.G1_range[0]," - ",a.G1_range[1],")"]}),u.jsxs("div",{style:{color:"#60a5fa"},children:["Blue: ",a.B_avg.toFixed(2)," (Range: ",a.B_range[0]," - ",a.B_range[1],")"]}),u.jsxs("div",{style:{color:"#86efac"},children:["Green 2: ",a.G2_avg.toFixed(2)," (Range: ",a.G2_range[0]," - ",a.G2_range[1],")"]})]})})]})}return null},PQ=({data:e,theme:t="dark"})=>{const r=j.useMemo(()=>!e||e.length===0?[]:[...new Set(e.map(i=>i.iso))].sort((i,s)=>Number(i)-Number(s)),[e]),n=j.useMemo(()=>{if(!e||e.length===0)return[0,4096];const i=e.flatMap(m=>[...m.R_range,...m.G1_range,...m.G2_range,...m.B_range]);if(i.length===0)return[0,4096];let s=Math.min(...i),l=Math.max(...i);const c=.25,f=l-s;if(f<c){const m=c-f;s-=m/2,l+=m/2}const d=(l-s)*.1,h=s-d,p=l+d;return[h,p]},[e]),a=t==="dark"?"#475569":"#e5e7eb",o=t==="dark"?"#94a3b8":"#6b7280";return!e||e.length===0?u.jsx("div",{className:"flex items-center justify-center h-full text-gray-500 dark:text-slate-500",children:u.jsx("p",{children:"No data available for this mode."})}):u.jsx(Ss,{width:"100%",height:"100%",children:u.jsxs(zN,{data:e,margin:{top:5,right:20,left:0,bottom:5},children:[u.jsx(Ni,{strokeDasharray:"3 3",stroke:a}),u.jsx(ja,{dataKey:"iso",type:"number",domain:["dataMin","dataMax"],tick:{fill:o,fontSize:12},scale:"log",allowDuplicatedCategory:!1,ticks:r}),u.jsx(Oa,{tick:{fill:o,fontSize:12},domain:n,allowDecimals:!0,tickFormatter:i=>Number(i).toFixed(3)}),u.jsx(pn,{content:u.jsx(NQ,{theme:t})}),u.jsx(eo,{wrapperStyle:{fontSize:"14px",color:o}}),u.jsx(Jn,{type:"monotone",dataKey:"R_range",fill:"#f87171",stroke:"none",fillOpacity:.2,name:"Red",legendType:"none"}),u.jsx(Wr,{type:"monotone",dataKey:"R_avg",stroke:"#f87171",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Red"}),u.jsx(Jn,{type:"monotone",dataKey:"G1_range",fill:"#4ade80",stroke:"none",fillOpacity:.2,name:"Green 1",legendType:"none"}),u.jsx(Wr,{type:"monotone",dataKey:"G1_avg",stroke:"#4ade80",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Green 1"}),u.jsx(Jn,{type:"monotone",dataKey:"B_range",fill:"#60a5fa",stroke:"none",fillOpacity:.2,name:"Blue",legendType:"none"}),u.jsx(Wr,{type:"monotone",dataKey:"B_avg",stroke:"#60a5fa",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Blue"}),u.jsx(Jn,{type:"monotone",dataKey:"G2_range",fill:"#86efac",stroke:"none",fillOpacity:.2,name:"Green 2",legendType:"none"}),u.jsx(Wr,{type:"monotone",dataKey:"G2_avg",stroke:"#86efac",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Green 2"})]})})},AQ=T.forwardRef(({camera:e,theme:t="dark"},r)=>{const n=j.useMemo(()=>e.shootingModes.map(d=>d.modeName),[e.shootingModes]),[a,o]=j.useState(n[0]||""),{chartData:i,tableData:s}=j.useMemo(()=>{const d=e.shootingModes.find(m=>m.modeName===a);if(!(d!=null&&d.data))return{chartData:[],tableData:[]};const h=d.data.map(m=>({iso:m.iso,R_range:m.r.range,R_avg:m.r.avg,G1_range:m.g1.range,G1_avg:m.g1.avg,B_range:m.b.range,B_avg:m.b.avg,G2_range:m.g2.range,G2_avg:m.g2.avg})),p=d.data.map(m=>({iso:m.iso,levels:[m.r.avg,m.g1.avg,m.g2.avg,m.b.avg],clipping:m.clipping}));return{chartData:h,tableData:p}},[e.shootingModes,a]),l=`Raw Data (${a})`,c=j.useRef(null),f=j.useRef(null);return j.useEffect(()=>{const d=c.current,h=f.current;if(!d||!h)return;const p=new ResizeObserver(m=>{for(let v of m){const{width:x}=v.contentRect,g=Math.max(8,x/35);h.style.fontSize=`${g}px`}});return p.observe(d),()=>p.disconnect()},[]),u.jsxs("div",{ref:r,className:"bg-white dark:bg-slate-800/50 border border-gray-200 dark:border-slate-700 rounded-xl shadow-lg p-6 flex flex-col gap-6 transform hover:scale-[1.02] hover:border-cyan-500/50 transition-all duration-500 ease-in-out",children:[u.jsxs("div",{className:"border-b border-gray-200 dark:border-slate-700 pb-4",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-slate-100",children:e.name}),u.jsx("p",{className:"text-cyan-600 dark:text-cyan-400",children:e.manufacturer})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-slate-300",children:"Black Level vs. ISO"}),u.jsx("select",{value:a,onChange:d=>o(d.target.value),className:"w-full sm:w-auto bg-gray-50 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-md px-3 py-1 text-sm outline-none focus:ring-2 focus:ring-cyan-500 transition-all duration-300 text-gray-900 dark:text-slate-200","aria-label":`Select shooting mode for ${e.name}`,children:n.map(d=>u.jsx("option",{value:d,children:d},d))})]}),u.jsxs("div",{ref:c,className:"h-64 relative",children:[u.jsx(PQ,{data:i,theme:t},a),u.jsx("div",{className:"absolute top-1/2 left-[52%] transform -translate-x-1/2 -translate-y-1/2 -rotate-30 pointer-events-none",children:u.jsx("p",{ref:f,className:"font-bold text-gray-900/10 dark:text-slate-200/40 whitespace-nowrap",children:" y-g-jiang.github.io"})})]})]}),u.jsxs("div",{className:"overflow-x-auto",children:[u.jsx("div",{className:"flex justify-between items-center mb-4",children:u.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-slate-300",children:l})}),u.jsxs("table",{className:"w-full text-left border-collapse",children:[u.jsx("thead",{className:"bg-gray-100 dark:bg-slate-700/50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"p-3 font-semibold text-sm text-gray-700 dark:text-slate-300",children:"ISO"}),u.jsx("th",{className:"p-3 font-semibold text-sm text-red-500 dark:text-red-400",children:"Red"}),u.jsx("th",{className:"p-3 font-semibold text-sm text-green-600 dark:text-green-400",children:"Green 1"}),u.jsx("th",{className:"p-3 font-semibold text-sm text-blue-500 dark:text-blue-400",children:"Blue"}),u.jsx("th",{className:"p-3 font-semibold text-sm text-green-500 dark:text-green-300",children:"Green 2"})]})}),u.jsx("tbody",{children:s.map(({iso:d,levels:h,clipping:p})=>u.jsxs("tr",{className:"border-b border-gray-200 dark:border-slate-700/50 last:border-b-0",children:[u.jsxs("td",{className:"p-3 font-mono text-gray-700 dark:text-slate-300 whitespace-nowrap",children:[d,p&&u.jsx("span",{className:"ml-3 text-xs font-semibold text-amber-600 dark:text-amber-400 bg-amber-100 dark:bg-amber-900/50 px-2 py-1 rounded-full align-middle",children:"Clipping"})]}),u.jsx("td",{className:"p-3 font-mono text-red-500 dark:text-red-400",children:h[0].toFixed(2)}),u.jsx("td",{className:"p-3 font-mono text-green-600 dark:text-green-400",children:h[1].toFixed(2)}),u.jsx("td",{className:"p-3 font-mono text-blue-500 dark:text-blue-400",children:h[3].toFixed(2)}),u.jsx("td",{className:"p-3 font-mono text-green-500 dark:text-green-300",children:h[2].toFixed(2)})]},d))})]})]})]})}),me=(e,t,r)=>({avg:e,range:[t,r]}),u0=[{id:"sony-a7r2",name:"Sony ILCE-7RM2 (A7R II)",manufacturer:"Sony",shootingModes:[{modeName:"Still (Mechanical Shutter)",data:[{iso:100,r:me(512.1,511.95,512.25),g1:me(512.05,511.9,512.2),b:me(512.12,511.98,512.28),g2:me(512.06,511.92,512.22)},{iso:200,r:me(512.15,512,512.3),g1:me(512.1,511.95,512.25),b:me(512.18,512.05,512.35),g2:me(512.12,511.98,512.28)},{iso:400,r:me(512.25,512.1,512.45),g1:me(512.2,512.05,512.4),b:me(512.3,512.15,512.5),g2:me(512.22,512.08,512.42)},{iso:800,r:me(512.5,512.2,512.8),g1:me(512.45,512.15,512.75),b:me(512.55,512.25,512.85),g2:me(512.48,512.18,512.78)},{iso:1600,r:me(513.1,512.8,513.4),g1:me(513.05,512.75,513.35),b:me(513.15,512.85,513.45),g2:me(513.08,512.78,513.38)}]}]},{id:"sony-a7c",name:"Sony ILCE-7C",manufacturer:"Sony",shootingModes:[{modeName:"Still (Mechanical)",data:[{iso:100,r:me(512.02,511.98,512.05),g1:me(512.01,511.97,512.04),b:me(512.03,511.99,512.06),g2:me(512.01,511.97,512.04)},{iso:640,r:me(512.15,512.05,512.25),g1:me(512.12,512.02,512.22),b:me(512.18,512.08,512.28),g2:me(512.13,512.03,512.23)}]}]},{id:"canon-r5",name:"Canon EOS R5",manufacturer:"Canon",shootingModes:[{modeName:"Mechanical Shutter",data:[{iso:100,r:me(512,511.8,512.2),g1:me(512,511.8,512.2),b:me(512,511.8,512.2),g2:me(512,511.8,512.2)},{iso:400,r:me(512,511.7,512.3),g1:me(512,511.7,512.3),b:me(512,511.7,512.3),g2:me(512,511.7,512.3)},{iso:1600,r:me(512.2,511.5,512.8),g1:me(512.2,511.5,512.8),b:me(512.2,511.5,512.8),g2:me(512.2,511.5,512.8)}]}]},{id:"canon-r6",name:"Canon EOS R6",manufacturer:"Canon",shootingModes:[{modeName:"Mechanical Shutter",data:[{iso:100,r:me(511.95,511.8,512.1),g1:me(511.95,511.8,512.1),b:me(511.95,511.8,512.1),g2:me(511.95,511.8,512.1)},{iso:800,r:me(512.1,511.9,512.3),g1:me(512.1,511.9,512.3),b:me(512.1,511.9,512.3),g2:me(512.1,511.9,512.3)}]}]},{id:"nikon-z9",name:"Nikon Z9",manufacturer:"Nikon",shootingModes:[{modeName:"Electronic Shutter",data:[{iso:64,r:me(400,399.9,400.1),g1:me(400,399.9,400.1),b:me(400,399.9,400.1),g2:me(400,399.9,400.1)},{iso:100,r:me(400,399.9,400.1),g1:me(400,399.9,400.1),b:me(400,399.9,400.1),g2:me(400,399.9,400.1)}]}]},{id:"nikon-z6-2",name:"Nikon Z 6II",manufacturer:"Nikon",shootingModes:[{modeName:"Still (Lossless)",data:[{iso:100,r:me(400.1,399.8,400.3),g1:me(400.1,399.8,400.3),b:me(400.1,399.8,400.3),g2:me(400.1,399.8,400.3)},{iso:800,r:me(400.3,399.5,401.1),g1:me(400.3,399.5,401.1),b:me(400.3,399.5,401.1),g2:me(400.3,399.5,401.1)}]}]},{id:"fujifilm-xt4",name:"Fujifilm X-T4",manufacturer:"Fujifilm",shootingModes:[{modeName:"Still (RAF)",data:[{iso:160,r:me(1024,1023.8,1024.2),g1:me(1024,1023.8,1024.2),b:me(1024,1023.8,1024.2),g2:me(1024,1023.8,1024.2)},{iso:800,r:me(1024.2,1023.5,1025),g1:me(1024.2,1023.5,1025),b:me(1024.2,1023.5,1025),g2:me(1024.2,1023.5,1025)}]}]}],MQ=({isOpen:e,onClose:t,theme:r})=>{const[n,a]=j.useState(""),[o,i]=j.useState("All"),s=j.useMemo(()=>["All",...Array.from(new Set(u0.map(d=>d.manufacturer))).sort()],[]),l=j.useMemo(()=>u0.filter(f=>{const d=f.name.toLowerCase().includes(n.toLowerCase()),h=o==="All"||f.manufacturer===o;return d&&h}),[n,o]),c=f=>{const d=document.getElementById(`camera-${f}`);d&&d.scrollIntoView({behavior:"smooth"})};return e?u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-6xl h-[90vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700 overflow-hidden",onClick:f=>f.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:[u.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2",children:["Camera Black Level Database",u.jsxs("span",{className:"text-xs font-normal bg-cyan-100 dark:bg-cyan-900/30 text-cyan-600 dark:text-cyan-400 px-2 py-0.5 rounded border border-cyan-200 dark:border-cyan-800",children:[u0.length," Models"]})]}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-2 rounded-full hover:bg-gray-100 dark:hover:bg-slate-800",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700 bg-gray-50/50 dark:bg-slate-800/30",children:u.jsx(_Q,{searchTerm:n,onSearchChange:a,manufacturers:s,selectedManufacturer:o,onManufacturerChange:i,cameras:l,onCameraSelect:c})}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700 bg-gray-100 dark:bg-slate-950",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-2 gap-6",children:[l.map(f=>u.jsx("div",{id:`camera-${f.id}`,children:u.jsx(AQ,{camera:f,theme:r})},f.id)),l.length===0&&u.jsx("div",{className:"col-span-full flex flex-col items-center justify-center py-20 text-gray-400 dark:text-slate-600",children:u.jsx("p",{className:"text-lg",children:"No cameras found matching your criteria."})})]})})]})}):null},CQ=({isOpen:e,onClose:t,zIndex:r=150})=>{const[n,a]=j.useState(""),[o,i]=j.useState(""),[s,l]=j.useState(""),[c,f]=j.useState(""),[d,h]=j.useState(null),p=()=>{const m=parseFloat(n),v=parseFloat(o),x=parseFloat(s),y=parseFloat(c);if(isNaN(m)||isNaN(v)||isNaN(x)||isNaN(y)){h(null);return}const g=m,b=v,S=x*x,w=y*y,k=(g+b)/2;if(k<=1e-9){h(0);return}const O=S*w/k,_=Math.sqrt(O);h(_)};return e?u.jsxs(qh,{initialPosition:{x:window.innerWidth/2-160,y:window.innerHeight/2-200},onClose:t,zIndex:r,className:"w-80 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 flex flex-col shadow-2xl",children:[u.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800",children:[u.jsx("h3",{className:"text-sm font-bold text-gray-700 dark:text-slate-200",children:"Cross-Compensation Calc"}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"p-4 flex flex-col gap-3 text-xs",children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"H Mean (Power/Var)"}),u.jsx("input",{type:"number",step:"any",value:n,onChange:m=>a(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"V Mean (Power/Var)"}),u.jsx("input",{type:"number",step:"any",value:o,onChange:m=>i(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"H RMS 0 (Sigma)"}),u.jsx("input",{type:"number",step:"any",value:s,onChange:m=>l(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"V RMS 0 (Sigma)"}),u.jsx("input",{type:"number",step:"any",value:c,onChange:m=>f(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),u.jsx("button",{onClick:p,className:"mt-2 w-full py-2 bg-indigo-600 hover:bg-indigo-500 text-white font-bold rounded shadow transition-colors active:scale-95",children:"Calculate Sigma"}),d!==null&&u.jsxs("div",{className:"mt-2 p-3 bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-200 dark:border-indigo-800 rounded text-center animate-in fade-in slide-in-from-top-1",children:[u.jsx("span",{className:"block text-[10px] uppercase font-bold text-gray-500 dark:text-slate-400 mb-1",children:"Original White Noise Sigma"}),u.jsx("span",{className:"text-lg font-mono font-bold text-indigo-700 dark:text-indigo-300 select-all",children:d.toFixed(5)})]})]})]}):null};function EQ(e,t,r,n=3){const o=r.byteLength,i=8,s=i+o,l=[{id:256,type:4,count:1,value:e},{id:257,type:4,count:1,value:t},{id:258,type:3,count:n,value:n===1?16:[16,16,16]},{id:259,type:3,count:1,value:1},{id:262,type:3,count:1,value:n===1?1:2},{id:273,type:4,count:1,value:i},{id:277,type:3,count:1,value:n},{id:278,type:4,count:1,value:t},{id:279,type:4,count:1,value:o}],c=2+l.length*12+4;let f=0;const d=l.map(g=>{let b=g.type===3?2:4;const S=g.count*b,w=S<=4;let k=0;return w||(k=f,f+=S),{...g,fits:w,totalBytes:S,extraOffset:k}}),h=s+c+f,p=new ArrayBuffer(h),m=new DataView(p),v=new Uint8Array(p);m.setUint16(0,18761,!0),m.setUint16(2,42,!0),m.setUint32(4,s,!0),v.set(new Uint8Array(r.buffer,r.byteOffset,r.byteLength),i);let x=s;m.setUint16(x,l.length,!0),x+=2;const y=s+c;return d.forEach(g=>{if(m.setUint16(x,g.id,!0),m.setUint16(x+2,g.type,!0),m.setUint32(x+4,g.count,!0),g.fits)Array.isArray(g.value)||(g.type===3?m.setUint16(x+8,g.value,!0):m.setUint32(x+8,g.value,!0));else{const b=y+g.extraOffset;m.setUint32(x+8,b,!0),Array.isArray(g.value)&&g.value.forEach((S,w)=>{m.setUint16(b+w*2,S,!0)})}x+=12}),m.setUint32(x,0,!0),p}const TQ="http://localhost:5428",$Q=(e=!1)=>{const[t,r]=j.useState({isConnected:!1,message:"Initializing...",hasDngConverter:!1});return j.useEffect(()=>{if(e){r({isConnected:!1,message:"Bridge Paused",hasDngConverter:!1});return}const n=async()=>{try{const o=new AbortController,i=setTimeout(()=>o.abort(),1e3),s=await fetch(`${TQ}/health`,{method:"GET",signal:o.signal});if(clearTimeout(i),s.ok){const l=await s.json(),c=`Connected (${l.exiftool||"Ready"})`;r(f=>f.isConnected===!0&&f.message===c&&f.version===l.exiftool&&f.hasDngConverter===!!l.dng_converter?f:{isConnected:!0,message:c,version:l.exiftool,hasDngConverter:!!l.dng_converter})}else r(l=>l.isConnected===!1&&l.message==="Service Error"?l:{isConnected:!1,message:"Service Error",hasDngConverter:!1})}catch{r(i=>i.isConnected===!1&&i.message==="Not Detected"?i:{isConnected:!1,message:"Not Detected",hasDngConverter:!1})}};n();const a=setInterval(n,2e3);return()=>clearInterval(a)},[e]),t},DQ="JTR_BlobStore",Ba="raw_files",RQ=1,Zh=()=>new Promise((e,t)=>{const r=indexedDB.open(DQ,RQ);r.onupgradeneeded=n=>{const a=n.target.result;a.objectStoreNames.contains(Ba)||a.createObjectStore(Ba)},r.onsuccess=()=>e(r.result),r.onerror=()=>t(r.error)}),H2=async(e,t)=>{const r=await Zh();return new Promise((n,a)=>{const o=r.transaction(Ba,"readwrite");o.objectStore(Ba).put(t,e),o.oncomplete=()=>n(),o.onerror=()=>a(o.error)})},LQ=async e=>{const t=await Zh();return new Promise((r,n)=>{const i=t.transaction(Ba,"readonly").objectStore(Ba).get(e);i.onsuccess=()=>r(i.result),i.onerror=()=>n(i.error)})},IQ=async()=>{const e=await Zh();return new Promise((t,r)=>{const n=e.transaction(Ba,"readwrite");n.objectStore(Ba).clear(),n.oncomplete=()=>t(),n.onerror=()=>r(n.error)})},UN="jtr_workspace_index",BQ=e=>{try{const t=JSON.stringify(e);localStorage.setItem(UN,t)}catch(t){console.error("Failed to save workspace index",t)}},FQ=()=>{try{const e=localStorage.getItem(UN);return e?JSON.parse(e):null}catch(e){return console.error("Failed to load workspace index",e),null}},zQ=async e=>{const n=(await Zh()).transaction(Ba,"readwrite").objectStore(Ba),a=n.getAllKeys();a.onsuccess=()=>{a.result.forEach(i=>{e.includes(i)||n.delete(i)})}},en=1024,V2=(e,t,r)=>{const n=e.width,a=e.height,o=new ImageData(t,r),i=e.data,s=o.data,l=n/t,c=a/r;for(let f=0;f<r;f++){const d=Math.floor(f*c),h=f*t*4,p=d*n*4;for(let m=0;m<t;m++){const x=Math.floor(m*l)*4,y=h+m*4,g=p+x;s[y]=i[g],s[y+1]=i[g+1],s[y+2]=i[g+2],s[y+3]=i[g+3]}}return o},UQ=({stats:e,onClose:t,onMinimize:r,isBGGR:n,onToggleBGGR:a,onOpenWindow:o,displaySettings:i,zIndex:s,onFocus:l})=>{if(!e)return null;const c=!!i.showKadc&&!!i.blackLevel,f=i.blackLevel||[0,0,0,0],d=!!i.subtractBlackLevelFromStats&&!!i.blackLevel,h=(x,y,g)=>{if(!c)return null;const b=y*y;return b<=1e-4?0:(x-g)/b},p=(x,y)=>d?x-f[y]:x,m=()=>{if(!d){alert(`Sub. BL
Please enable 'Sub. BL' in Tools sidebar first.`);return}let x,y,g,b;n?(b=0,y=1,g=2,x=3):(x=0,y=1,g=2,b=3);const S=k=>e.means[k]-f[k],w=k=>e.stdDevs[k];localStorage.setItem("import_signal_r",S(x).toString()),localStorage.setItem("import_signal_g1",S(y).toString()),localStorage.setItem("import_signal_g2",S(g).toString()),localStorage.setItem("import_signal_b",S(b).toString()),localStorage.setItem("import_sigma_r",w(x).toString()),localStorage.setItem("import_sigma_g1",w(y).toString()),localStorage.setItem("import_sigma_g2",w(g).toString()),localStorage.setItem("import_sigma_b",w(b).toString()),window.open("https://y-g-jiang.github.io/XJZS.html","_blank")},v=n?[{name:"B",desc:"(0,0)",mean:p(e.means[0],0),std:e.stdDevs[0],color:"text-blue-500",k:h(e.means[0],e.stdDevs[0],f[0])},{name:"G1",desc:"(0,1)",mean:p(e.means[1],1),std:e.stdDevs[1],color:"text-green-500",k:h(e.means[1],e.stdDevs[1],f[1])},{name:"G2",desc:"(1,0)",mean:p(e.means[2],2),std:e.stdDevs[2],color:"text-green-500",k:h(e.means[2],e.stdDevs[2],f[2])},{name:"R",desc:"(1,1)",mean:p(e.means[3],3),std:e.stdDevs[3],color:"text-red-500",k:h(e.means[3],e.stdDevs[3],f[3])}]:[{name:"R",desc:"(0,0)",mean:p(e.means[0],0),std:e.stdDevs[0],color:"text-red-500",k:h(e.means[0],e.stdDevs[0],f[0])},{name:"G1",desc:"(0,1)",mean:p(e.means[1],1),std:e.stdDevs[1],color:"text-green-500",k:h(e.means[1],e.stdDevs[1],f[1])},{name:"G2",desc:"(1,0)",mean:p(e.means[2],2),std:e.stdDevs[2],color:"text-green-500",k:h(e.means[2],e.stdDevs[2],f[2])},{name:"B",desc:"(1,1)",mean:p(e.means[3],3),std:e.stdDevs[3],color:"text-blue-500",k:h(e.means[3],e.stdDevs[3],f[3])}];return u.jsxs(qh,{className:`${c?"w-80":"w-60"} p-0 overflow-hidden transition-all duration-300 bg-white dark:bg-black border-2 border-black dark:border-white shadow-[4px_4px_0px_rgba(0,0,0,0.5)] dark:shadow-[4px_4px_0px_rgba(255,255,255,0.2)]`,onClose:t,zIndex:s,onFocus:l,initialPosition:{x:20,y:80},children:[u.jsxs("div",{className:"flex justify-between items-center px-3 py-2 border-b border-gray-100 dark:border-slate-800 bg-gray-50/50 dark:bg-slate-800/50 select-none",children:[u.jsxs("h3",{className:"text-xs font-bold text-gray-700 dark:text-slate-300 uppercase tracking-wider flex items-center gap-2",children:["ROI Analysis",u.jsxs("span",{className:"text-[10px] font-normal text-gray-400 bg-gray-200 dark:bg-slate-700 px-1.5 py-0.5 rounded",children:[Math.round(e.width),"",Math.round(e.height)]})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 transition-colors p-1 rounded-md hover:bg-gray-200 dark:hover:bg-slate-700 relative z-20",children:u.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 transition-colors p-1 rounded-md hover:bg-gray-200 dark:hover:bg-slate-700 relative z-20",children:u.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsxs("div",{className:"p-3",children:[u.jsxs("div",{className:"flex justify-between items-center mb-3",children:[u.jsxs("div",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono leading-tight",children:["X: ",Math.round(e.x),u.jsx("br",{}),"Y: ",Math.round(e.y)]}),u.jsx("button",{onClick:()=>a(!n),className:"text-[10px] font-bold px-2 py-1 rounded bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 text-gray-600 dark:text-slate-300 transition-colors border border-gray-200 dark:border-slate-700 relative z-20",title:"Toggle Bayer Pattern Interpretation",children:n?"BGGR":"RGGB"})]}),u.jsxs("table",{className:"w-full mb-3",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-[10px] text-gray-400 dark:text-slate-500 border-b border-gray-100 dark:border-slate-800",children:[u.jsx("th",{className:"text-left pb-1 font-medium",children:"Ch"}),u.jsxs("th",{className:"text-right pb-1 font-medium",children:["Mean",d?"*":""]}),u.jsx("th",{className:"text-right pb-1 font-medium",children:"Std()"}),c&&u.jsx("th",{className:"text-right pb-1 font-medium text-cyan-600 dark:text-cyan-400",children:"K(e/ADU)"})]})}),u.jsx("tbody",{className:"font-mono text-xs",children:v.map((x,y)=>u.jsxs("tr",{className:"group hover:bg-gray-50 dark:hover:bg-slate-800/30 transition-colors",children:[u.jsxs("td",{className:"py-1",children:[u.jsx("span",{className:`font-bold ${x.color}`,children:x.name}),u.jsx("span",{className:"text-[9px] text-gray-300 dark:text-slate-600 ml-1 hidden group-hover:inline",children:x.desc})]}),u.jsx("td",{className:"py-1 text-right text-gray-700 dark:text-slate-200 font-semibold",title:d?"Mean minus Black Level":"Raw Mean",children:x.mean.toFixed(2)}),u.jsx("td",{className:"py-1 text-right text-gray-500 dark:text-slate-400",children:x.std.toFixed(2)}),c&&u.jsx("td",{className:"py-1 text-right text-cyan-600 dark:text-cyan-400 font-bold",children:x.k!==null?x.k.toFixed(3):"-"})]},y))})]}),d&&u.jsx("div",{className:"mb-2 text-[9px] text-gray-400 dark:text-slate-500 text-right italic",children:"* Mean adjusted by Black Level"}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx("button",{onClick:()=>o("histogram"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-cyan-600 hover:bg-cyan-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Histogram",children:"Hist"}),u.jsx("button",{onClick:()=>o("quant"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-teal-600 hover:bg-teal-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Quantization Steps",children:"Quant"}),u.jsx("button",{onClick:()=>o("fft"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-purple-600 hover:bg-purple-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Power Spectrum (FFT)",children:"FFT"}),u.jsx("button",{onClick:()=>o("pearson"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-indigo-600 hover:bg-indigo-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"Pearson Correlation Analysis",children:"PCC"}),u.jsx("button",{onClick:m,className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-pink-600 hover:bg-pink-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"Color Noise Analysis (External Tool)",children:"ColorN"})]})]})]})},WQ=()=>{var gl;const[e,t]=j.useState(!0),[r,n]=j.useState("Initializing..."),a=j.useRef(!1),[o,i]=j.useState("dark");j.useEffect(()=>{const W=window.document.documentElement;W.classList.remove(o==="dark"?"light":"dark"),W.classList.add(o)},[o]);const[s,l]=j.useState(!1),[c,f]=j.useState(!1),[d,h]=j.useState(!1),p=$Q(s||c||d),[m,v]=j.useState(!1),[x,y]=j.useState([]),[g,b]=j.useState(-1),[S,w]=j.useState([]),k=j.useMemo(()=>x[g],[x,g]),O=j.useRef(null);j.useEffect(()=>{O.current=k||null},[k]);const _=(k==null?void 0:k.file)||null,N=(k==null?void 0:k.imageElement)||null,P=(k==null?void 0:k.rawImageData)||null,A=(k==null?void 0:k.rawFileBuffer)||null,$=(k==null?void 0:k.renderedRawImageData)||null,C=(k==null?void 0:k.referenceImageData)||null,z=(k==null?void 0:k.sampledImageData)||null,E=(k==null?void 0:k.exifData)||null,U=(k==null?void 0:k.isThreePlane)||!1;k!=null&&k.xtransPhase;const M=(k==null?void 0:k.displaySettings)||{exposure:0,demosaicMethod:3,blackLevel:void 0,wbGains:[1,1],showKadc:!0,subtractBlackLevelFromStats:!0},[B,L]=j.useState(!1),[X,te]=j.useState(null),[Z,I]=j.useState(!1),[G,oe]=j.useState(!1),[q,ke]=j.useState(null),[ve,K]=j.useState([]),[se,ge]=j.useState(100),[H,ye]=j.useState(!0),[he,Oe]=j.useState(!1),[Fe,Re]=j.useState(null),[bt,jt]=j.useState(!1),[$e,Ke]=j.useState(!1),[dt,Ct]=j.useState(!1),[Lt,Ar]=j.useState(!1),[hr,ir]=j.useState(!1),[Wt,Xr]=j.useState(!1),[Gt,Kr]=j.useState(!1),[at,Ye]=j.useState(!1),[lt,It]=j.useState({x:0,y:0}),[xr,sr]=j.useState(!1),[br,ht]=j.useState(!1),[Rr,ct]=j.useState(2),[Cn,Lr]=j.useState(1),[sa,xn]=j.useState([]),[En,bn]=j.useState(null),[Mr,Ir]=j.useState(0),[Cr,sn]=j.useState([]),[Tn,Et]=j.useState([]),[Ht,Ot]=j.useState(64),[ie,Me]=j.useState(10),[Pe,et]=j.useState(10),[ze,wt]=j.useState(4),[pt,tr]=j.useState(1),[Ce,rt]=j.useState(0),[gt,mt]=j.useState("processed"),[Vt,R]=j.useState(!1),je=j.useMemo(()=>M.blackLevel?M.blackLevel:P!=null&&P.blackLevels?[P.blackLevels[0],P.blackLevels[1],P.blackLevels[2],P.blackLevels[3]]:[0,0,0,0],[M.blackLevel,P]),Zt=(E==null?void 0:E.ImageHeight)||(E==null?void 0:E.ExifImageHeight)||(P==null?void 0:P.height)||0,[Tt,Ue]=j.useState(null),[Yr,Ie]=j.useState(null),[Br,la]=j.useState({x:0,y:0}),[ln,Gn]=j.useState(1),[za,qr]=j.useState("pan"),ca=j.useRef(null),ua=j.useRef(null),Qh=j.useCallback(async()=>{if(!A||!k)return;Ct(!1);const W=Lt,Y=hr;Ie(`Rendering 16-bit TIFF (${W?"Stretched":"Native DN"} | ${Y?"sRGB":"Linear"})...`);try{const Q=await hQ(A.slice(0),M,W,Y),V=EQ(Q.width,Q.height,Q.data,Q.channels),ae=new Blob([V],{type:"image/tiff"}),ne=URL.createObjectURL(ae),fe=document.createElement("a"),xe=k.fileName||"rendered",Se=xe.substring(0,xe.lastIndexOf("."))||xe,pe=[W?"stretch":"native",Y?"srgb":"linear"].join("_");fe.href=ne,fe.download=`${Se}_${pe}.tif`,document.body.appendChild(fe),fe.click(),document.body.removeChild(fe),URL.revokeObjectURL(ne)}catch(Q){Ue("TIFF Export Failed: "+Q.message)}finally{Ie(null)}},[A,k,M,Lt,hr]),yu=j.useCallback(()=>{!A||!k||Ct(!0)},[A,k]);j.useEffect(()=>{const W=Y=>{(Y.ctrlKey||Y.metaKey)&&Y.key.toLowerCase()==="s"&&(Y.preventDefault(),yu())};return window.addEventListener("keydown",W),()=>window.removeEventListener("keydown",W)},[yu]),j.useEffect(()=>{(async()=>{if(a.current)return;const Y=FQ();if(Y&&(n("Restoring layout..."),i(Y.theme),ye(Y.sidebarOpen),Y.sessions.length>0)){n(`Restoring ${Y.sessions.length} images...`);const Q=[];for(const V of Y.sessions){if(a.current){console.log("Restoration cancelled.");return}await new Promise(ae=>setTimeout(ae,50));try{const ae=await LQ(V.id);if(ae){const ne={id:V.id,fileName:V.fileName,file:null,imageElement:null,rawImageData:null,rawFileBuffer:ae,renderedRawImageData:null,referenceImageData:null,sampledImageData:null,exifData:null,isThreePlane:V.isThreePlane,displaySettings:V.displaySettings,originalRawFileBuffer:null,isXTransOriginal:!1,isXTransConverted:!1,xtransPhase:{x:0,y:0}},{previewBlob:fe,analysisData:xe}=await qo(ae);let Se=null;xe&&(Se=await U2(ae,V.displaySettings));const pe=URL.createObjectURL(fe),Ne=new Image;Ne.src=pe,await new Promise(Ve=>{Ne.onload=()=>Ve()}),Q.push({...ne,rawImageData:xe,renderedRawImageData:Se,previewUrl:pe,imageElement:Ne,exifData:xe.metadata})}}catch(ae){console.error(`Failed to restore session ${V.id}`,ae)}}if(a.current)return;if(y(Q),Y.activeSessionId){const V=Q.findIndex(ae=>ae.id===Y.activeSessionId);V>=0?b(V):Q.length>0&&b(0)}K(Y.windows)}a.current||t(!1)})()},[]);const cl=j.useRef(null),ul=j.useCallback(()=>{e||(cl.current&&clearTimeout(cl.current),cl.current=window.setTimeout(async()=>{var Q;const W={version:1,timestamp:Date.now(),activeSessionId:((Q=x[g])==null?void 0:Q.id)||null,theme:o,sidebarOpen:H,sessions:x.map(V=>({id:V.id,fileName:V.fileName,fileType:V.file?V.file.type:"application/octet-stream",fileSize:V.rawFileBuffer?V.rawFileBuffer.byteLength:0,displaySettings:V.displaySettings,isThreePlane:V.isThreePlane})),windows:ve.map(V=>({id:V.id,type:V.type,roi:V.roi,zIndex:V.zIndex,initialPosition:V.initialPosition,sessionId:V.sessionId,isBGGR:V.isBGGR,isMinimized:V.isMinimized||!1,internalState:V.internalState}))};BQ(W);const Y=x.map(V=>V.id);zQ(Y)},1e3))},[x,ve,g,o,H,e]);j.useEffect(()=>{ul()},[ul]);const Ko=j.useCallback(async()=>{a.current=!0,n("Cleaning up..."),localStorage.removeItem("jtr_workspace_index");try{await IQ()}catch(W){console.error("Failed to clear DB",W)}window.location.reload()},[]),wn=j.useCallback(W=>{y(Y=>Y.map((Q,V)=>V===g?{...Q,...W}:Q))},[g]),Jh=()=>b(W=>Math.min(W+1,x.length-1)),fl=()=>b(W=>Math.max(0,W-1));j.useEffect(()=>{if(P&&X){const W=Fi(P.data,P.width,P.height,X.x,X.y,X.width,X.height);te(W)}},[P]);const vu=W=>{if(!X||!k)return;const Y=Date.now().toString()+Math.random().toString().slice(2,5),Q=Math.max(se,...ve.map(ne=>ne.zIndex),100),V=ve.length%10*30,ae=W==="fft"?{x:50,y:50}:W==="histogram"?{x:100,y:100}:{x:150,y:150};K(ne=>[...ne,{id:Y,type:W,roi:{x:X.x,y:X.y,w:X.width,h:X.height},zIndex:Q+1,initialPosition:{x:ae.x+V,y:ae.y+V},sessionId:k.id,isBGGR:Z,isMinimized:!1,stackFiles:(W==="fft"||W==="pearson")&&S.length>0?S:void 0}])},dl=W=>{K(Y=>Y.filter(Q=>Q.id!==W))},ep=W=>{K(Y=>Y.map(Q=>Q.id===W?{...Q,isMinimized:!0}:Q))},F=W=>{K(Y=>Y.map(Q=>Q.id===W?{...Q,isMinimized:!1}:Q)),J(W)},J=W=>{K(Y=>{const Q=Math.max(se,...Y.map(V=>V.zIndex));return Y.map(V=>V.id===W?{...V,zIndex:Q+1}:V)})},re=(W,Y)=>{K(Q=>Q.map(V=>V.id===W?{...V,internalState:{...V.internalState,...Y}}:V))},D=()=>{const W=Math.max(se,...ve.map(Y=>Y.zIndex));ge(W+1)},de=(W,Y)=>{K(Q=>Q.map(V=>V.id===W?{...V,roi:Y}:V))};j.useEffect(()=>{if(!E)return;const W=E.CFAPattern2||E.CFAPattern;if(W){let Y="";Array.isArray(W)?Y=W.join(""):typeof W=="string"?Y=W.replace(/[\s,]+/g,""):typeof W=="number"&&(Y=String(W)),Y==="0112"?I(!1):Y==="2110"&&I(!0)}},[E]),j.useEffect(()=>{let W;const Y=()=>{if(br&&at){const Q=Date.now()/1e3,V=.55+.45*Math.sin(Q*Rr);Lr(V),W=requestAnimationFrame(Y)}else Lr(1)};return br&&at?Y():Lr(1),()=>{W&&cancelAnimationFrame(W)}},[br,at,Rr]),j.useEffect(()=>{const W=Y=>{Y.key==="Escape"&&at&&(Ye(!1),It({x:0,y:0}),ht(!1))};return window.addEventListener("keydown",W),()=>window.removeEventListener("keydown",W)},[at]),j.useEffect(()=>()=>{x.forEach(W=>{W.previewUrl&&URL.revokeObjectURL(W.previewUrl)}),ua.current&&ua.current.terminate()},[]);const _e=async(W,Y=!0)=>{Y&&(la({x:0,y:0}),Gn(1),Ir(0),sn([]),Et([]),Oe(!1),Re(null),L(!1));let Q=null;if(p.isConnected){const xe=new FormData;xe.append("file",W);try{const pe=await(await fetch("http://localhost:5428/read",{method:"POST",body:xe})).json();if(pe.success){let Ne=pe.data;Array.isArray(Ne)&&Ne.length===1&&(Ne=Ne[0]),Q=Ne}}catch(Se){console.warn("Auto Exif fetch failed",Se)}}const V=W.name.toLowerCase().match(/\.(arw|cr2|cr3|dng|nef|orf|raf|rw2|pef|srw|sr2|srf|x3f|erf|mef|mos|mrw|kdc|dcr|iiq|3fr|fff|rwl|nrw|raw|tif|tiff)$/);if(!(["image/jpeg","image/png","image/tiff","image/x-adobe-dng"].includes(W.type)||V)){Ue("Unsupported file type. Please load a JPG, PNG, or a supported RAW file.");return}let ne={file:W,exifData:Q};if(V||W.type==="image/x-adobe-dng")try{Y?Ie("Processing RAW file (this may take a moment)..."):R(!0);const xe=await W.arrayBuffer();ne.rawFileBuffer=xe;const{previewBlob:Se,analysisData:pe}=await qo(xe);ne.rawImageData=pe,ne.isThreePlane=pe.isThreePlane||!1,pe.isThreePlane&&Y&&L(!0);let Ne=!1,Ve=null,Qe=!1;if(pe.isXTrans){Qe=!0,Ve=xe;const nr=(await af(xe,0,0)).dngBuffer,Xt=await qo(nr);ne.rawFileBuffer=nr,ne.rawImageData=Xt.analysisData,ne.previewUrl=URL.createObjectURL(Xt.previewBlob),Ne=!0}else ne.previewUrl=URL.createObjectURL(Se);ne.originalRawFileBuffer=Ve,ne.isXTransOriginal=Qe,ne.isXTransConverted=Ne,ne.xtransPhase={x:0,y:0};const De=new Image;De.src=ne.previewUrl||"",await new Promise((pr,nr)=>{De.onload=()=>{ne.imageElement=De,pr()},De.onerror=()=>{pr()}})}catch(xe){Ue(`Failed to process RAW file: ${xe.message}`),Ie(null),R(!1);return}else try{Ie("Processing image...");const{previewBlob:xe,analysisData:Se}=await iQ(W);ne.rawImageData=Se,ne.rawFileBuffer=await W.arrayBuffer(),ne.isThreePlane=Se.isThreePlane||!1,ne.isXTransOriginal=!1,ne.isXTransConverted=!1,ne.originalRawFileBuffer=null;const pe=URL.createObjectURL(xe);ne.previewUrl=pe;const Ne=new Image;Ne.src=pe,await new Promise(Ve=>{Ne.onload=()=>{ne.imageElement=Ne,Ve()},Ne.onerror=()=>{Ue("Could not load the image file."),Ve()}})}catch(xe){Ue(`Failed to process image: ${xe.message}`),Ie(null);return}const fe=Date.now().toString()+Math.random();if(ne.rawFileBuffer&&await H2(fe,ne.rawFileBuffer),Y){const xe={exposure:0,demosaicMethod:3,blackLevel:void 0,wbGains:[1,1],showKadc:!0,subtractBlackLevelFromStats:!0},Se={id:fe,fileName:W.name,file:W,imageElement:null,rawImageData:null,rawFileBuffer:null,renderedRawImageData:null,referenceImageData:null,sampledImageData:null,exifData:null,isThreePlane:!1,displaySettings:xe,originalRawFileBuffer:null,isXTransOriginal:!1,isXTransConverted:!1,xtransPhase:{x:0,y:0},...ne};y(pe=>{const Ne=[...pe,Se];return b(Ne.length-1),Ne})}else wn(ne);Ie(null),R(!1)},Ee=async W=>{Ie("Converting to DNG...");try{const Y=new FormData;Y.append("file",W);const Q=await fetch("http://localhost:5428/convert_dng",{method:"POST",body:Y}),V=Q.headers.get("content-type")||"";if(Q.ok)if(V.includes("application/json")){const ae=await Q.json();throw new Error(ae.error||"Conversion failed")}else{const ae=await Q.blob(),ne=URL.createObjectURL(ae),fe=document.createElement("a");fe.href=ne;const xe=W.name,Se=xe.substring(0,xe.lastIndexOf("."))+".dng"||"converted.dng";fe.download=Se,document.body.appendChild(fe),fe.click(),document.body.removeChild(fe),URL.revokeObjectURL(ne);const pe=new File([ae],Se,{type:"image/x-adobe-dng"});await _e(pe,!0)}else{const ae=await Q.text();throw new Error(`HTTP ${Q.status}: ${ae}`)}}catch(Y){Ie(null),Ue(`Conversion Error: ${Y.message}`)}},Ze=(W,Y)=>{W&&(Y==="direct"?_e(W,!0):Ee(W))},qe=async W=>{var Q;const Y=(Q=W.target.files)==null?void 0:Q[0];Y&&(await _e(Y,!0),W.target.value="")},We=async(W,Y,Q,V)=>{!W||!Y||(Ie("Processing Pair Difference (May take a while)..."),Ue(null),setTimeout(async()=>{try{const ae=await W.arrayBuffer(),ne=await Y.arrayBuffer(),fe=await l0(ae,ne,Q,V),xe=vf(fe.width,fe.height,fe.rawData),Se=new File([xe],`Diff_${W.name}_${Y.name}.dng`,{type:"image/x-adobe-dng"});await _e(Se,!0),vu("fft")}catch(ae){console.error("Pair Processing Error",ae),Ue("Pair Processing Failed: "+ae.message)}finally{Ie(null)}},100))},_t=async W=>{if(W.length<2){Ue("Need at least 2 files for Batch Diff.");return}Ie(`Batch Processing 0/${Math.floor(W.length/2)} pairs...`);const Y=Array.from(W).sort((Q,V)=>Q.name.localeCompare(V.name,void 0,{numeric:!0}));try{for(let Q=0;Q<Y.length-1;Q+=2){const V=Y[Q],ae=Y[Q+1];Ie(`Batch Processing Pair ${Math.floor(Q/2)+1}/${Math.floor(Y.length/2)}: ${V.name} & ${ae.name}`);const ne=await V.arrayBuffer(),fe=await ae.arrayBuffer(),xe=await l0(ne,fe,!1,!1),Se=vf(xe.width,xe.height,xe.rawData),pe=new Blob([Se],{type:"image/x-adobe-dng"}),Ne=URL.createObjectURL(pe),Ve=document.createElement("a");Ve.href=Ne,Ve.download=`Diff_${V.name}_${ae.name}.dng`,document.body.appendChild(Ve),Ve.click(),document.body.removeChild(Ve),URL.revokeObjectURL(Ne)}}catch(Q){console.error("FFT Batch Error",Q),Ue("Batch Processing Failed: "+Q.message)}finally{Ie(null)}},ut=async W=>{if(W.length<1)return;const Y=Array.from(W).sort((Q,V)=>Q.name.localeCompare(V.name,void 0,{numeric:!0}));w(Y),await _e(Y[0],!0)},Nt=async()=>{R(!0);const W=128,Y=W,Q=W,V=Y*Q,ae=new Uint16Array(V),ne=Xe=>{const kt=Xe/ze+Ce;return Math.sin(2*Math.PI*kt)>=0?1:0},fe=32,xe=pt*.5,Se=Math.max(1e-4,pt/fe);for(let Xe=0;Xe<Q;Xe++){let kt=0;const cr=Xe+.5-xe;for(let Kt=0;Kt<fe;Kt++){const un=cr+(Kt+.5)*Se;kt+=ne(un)}const ur=kt/fe,Pt=Math.round(ur*65535);for(let Kt=0;Kt<Y;Kt++)ae[Xe*Y+Kt]=Pt}const pe=new ImageData(en,en),Ne=en/Y,Ve=pt/2;for(let Xe=0;Xe<en;Xe++){const kt=Xe/Ne,gr=Math.floor(kt),cr=kt-gr,ur=cr>=.5-Ve&&cr<.5+Ve;for(let Pt=0;Pt<en;Pt++){const Kt=Pt/Ne,un=Math.floor(Kt),Fr=Kt-un,Ua=Fr>=.5-Ve&&Fr<.5+Ve,wr=(Xe*en+Pt)*4;if(un>=Y||gr>=Q){pe.data[wr]=30,pe.data[wr+1]=34,pe.data[wr+2]=40,pe.data[wr+3]=255;continue}if(ur&&Ua){const ml=ae[gr*Y+un],yl=Math.round(ml/257);pe.data[wr]=yl,pe.data[wr+1]=yl,pe.data[wr+2]=yl,pe.data[wr+3]=255}else pe.data[wr]=30,pe.data[wr+1]=34,pe.data[wr+2]=40,pe.data[wr+3]=255}}const Qe=new ImageData(en,en),De=Q/en;for(let Xe=0;Xe<en;Xe++){const kt=(Xe+.5)*De,cr=ne(kt)>.5?255:0,ur=Xe*en*4;for(let Pt=0;Pt<en;Pt++){const Kt=ur+Pt*4;Qe.data[Kt]=cr,Qe.data[Kt+1]=cr,Qe.data[Kt+2]=cr,Qe.data[Kt+3]=255}}const pr=vf(Y,Q,ae),nr=new File([pr],"pattern_test.dng",{type:"image/x-adobe-dng"}),Xt=Date.now().toString();try{const{previewBlob:Xe,analysisData:kt}=await qo(pr.slice(0)),gr=await U2(pr.slice(0),M),cr=V2(gr,en,en),ur=URL.createObjectURL(Xe),Pt=new Image;Pt.src=ur,await new Promise(un=>{Pt.onload=()=>un()}),await H2(Xt,pr);const Kt={id:Xt,fileName:"pattern_test.dng",file:nr,imageElement:Pt,rawImageData:kt,rawFileBuffer:pr,renderedRawImageData:cr,referenceImageData:Qe,sampledImageData:pe,exifData:null,isThreePlane:!1,previewUrl:ur,displaySettings:M,originalRawFileBuffer:null,isXTransOriginal:!1,isXTransConverted:!1,xtransPhase:{x:0,y:0}};(_==null?void 0:_.name)==="pattern_test.dng"?wn(Kt):y(un=>{const Fr=[...un,Kt];return b(Fr.length-1),Fr})}catch(Xe){console.error("Error generating pattern:",Xe),Ue(`Error generating pattern: ${Xe.message}`)}R(!1),Ie(null)},rr=()=>{jt(!0)},ce=()=>{jt(!1),mt("sampled"),Ie("Generating..."),setTimeout(()=>Nt(),50)},He=j.useRef({period:ze,fill:pt,phase:Ce});j.useEffect(()=>{(_==null?void 0:_.name)==="pattern_test.dng"&&(He.current.period!==ze||He.current.fill!==pt||He.current.phase!==Ce)&&(He.current={period:ze,fill:pt,phase:Ce},Nt())},[ze,pt,Ce,_]);const Ae=j.useCallback(W=>{if(wn({displaySettings:W}),!A)return;R(!0),ua.current&&ua.current.terminate();const Y=new Worker(new URL("/assets/renderWorker-BLMzTJON.js",import.meta.url),{type:"module"});ua.current=Y,Y.onmessage=Q=>{const{success:V,imageData:ae,error:ne}=Q.data;if(V){let fe=ae;(_==null?void 0:_.name)==="pattern_test.dng"&&(fe=V2(ae,en,en)),wn({renderedRawImageData:fe})}else Ue(ne||"Unknown worker error");R(!1),Y.terminate(),ua.current=null},Y.postMessage({buffer:A.slice(0),settings:W})},[A,_,wn]),$t=async(W,Y)=>{Ie("Re-sampling X-Trans with new Phase...");try{const V=(await af(Y,W.x,W.y)).dngBuffer,ae=await qo(V),ne=URL.createObjectURL(ae.previewBlob),fe=new Image;fe.src=ne,await new Promise(xe=>{fe.onload=()=>xe()}),k!=null&&k.previewUrl&&URL.revokeObjectURL(k.previewUrl),wn({rawFileBuffer:V,rawImageData:ae.analysisData,previewUrl:ne,imageElement:fe,xtransPhase:W}),te(null)}catch(Q){console.error("X-Trans Phase Update Failed",Q),Ue("Phase Update Failed: "+Q.message)}finally{Ie(null)}},yt=W=>{if(!k||!k.originalRawFileBuffer||!k.isXTransConverted)return;const Y={...k.xtransPhase,...W};$t(Y,k.originalRawFileBuffer)},cn=j.useCallback(async W=>{if(k)if(W){if(k.isXTransConverted)return;const Y=k.originalRawFileBuffer||k.rawFileBuffer;if(!Y)return;Ie("Converting X-Trans to Pseudo-Bayer DNG...");try{const Q=k.xtransPhase||{x:0,y:0},ae=(await af(Y,Q.x,Q.y)).dngBuffer,ne=await qo(ae),fe=URL.createObjectURL(ne.previewBlob),xe=new Image;xe.src=fe,await new Promise(Se=>{xe.onload=()=>Se()}),k.previewUrl&&URL.revokeObjectURL(k.previewUrl),wn({rawFileBuffer:ae,rawImageData:ne.analysisData,previewUrl:fe,imageElement:xe,isXTransConverted:!0,originalRawFileBuffer:Y}),te(null)}catch(Q){console.error("X-Trans Conversion Failed",Q),Ue("Failed to convert X-Trans: "+Q.message)}finally{Ie(null)}}else{if(!k.isXTransConverted)return;const Y=k.originalRawFileBuffer;if(!Y){Ue("Original X-Trans buffer lost. Cannot revert.");return}Ie("Reverting to Native X-Trans...");try{const Q=await qo(Y),V=URL.createObjectURL(Q.previewBlob),ae=new Image;ae.src=V,await new Promise(ne=>{ae.onload=()=>ne()}),k.previewUrl&&URL.revokeObjectURL(k.previewUrl),wn({rawFileBuffer:Y,rawImageData:Q.analysisData,previewUrl:V,imageElement:ae,isXTransConverted:!1}),te(null)}catch(Q){console.error("X-Trans Revert Failed",Q),Ue("Failed to revert X-Trans: "+Q.message)}finally{Ie(null)}}},[k,wn]);let nt=$||N;gt==="reference"&&C?nt=C:gt==="sampled"&&z&&(nt=z);const lr=Yr||Vt,Zr=W=>{if(ca.current){const Y=ca.current,{width:Q,height:V}=Y.getBoundingClientRect(),ae=Q/2,ne=V/2,fe=W/ln,xe=ae-(ae-Br.x)*fe,Se=ne-(ne-Br.y)*fe;la({x:xe,y:Se})}Gn(W)},Na=W=>{if(!W)return;if(!P){te(null);return}G&&oe(!1);const Y=Fi(P.data,P.width,P.height,W.x,W.y,W.w,W.h);te(Y)},hl=W=>{ke(W),Na(W)},tp=()=>{qr(W=>W==="pan"?"select":"pan")},xu=W=>{if(Mr===0||Mr>4)return;const Y=[...Cr,W];sn(Y),Mr===4?(rp(Y),Ir(0)):Ir(Mr+1)},bu=(W,Y,Q,V)=>{const ae=W[0],ne=W[1],fe=W[2],xe=W[3],Se=Y/2,pe=[];for(let Ne=0;Ne<Q;Ne++){const Ve=Q>1?Ne/(Q-1):.5;for(let Qe=0;Qe<V;Qe++){const De=V>1?Qe/(V-1):.5,pr=ae.x*(1-De)+ne.x*De,nr=ae.y*(1-De)+ne.y*De,Xt=fe.x*(1-De)+xe.x*De,Xe=fe.y*(1-De)+xe.y*De,kt=pr*(1-Ve)+Xt*Ve,gr=nr*(1-Ve)+Xe*Ve,cr=kt-Se,ur=gr-Se;pe.push({x:cr,y:ur,w:Y,h:Y})}}return pe},rp=W=>{P&&(Ie("Calculating DR Lab Grid..."),setTimeout(()=>{try{const Y=bu(W,Ht,ie,Pe);Et(Y);const ne=[...[`#BlackLevel: ${(M.blackLevel||[0,0,0,0]).join(",")}`,`#ImageHeight: ${P.height}`],"Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std"];Y.forEach((Ne,Ve)=>{const Qe=Math.floor(Ve/Pe)+1,De=Ve%Pe+1,pr=Fi(P.data,P.width,P.height,Ne.x,Ne.y,Ne.w,Ne.h),nr=pr.means,Xt=pr.stdDevs,Xe=`${Qe},${De},${nr[0].toFixed(4)},${nr[1].toFixed(4)},${nr[2].toFixed(4)},${nr[3].toFixed(4)},${Xt[0].toFixed(4)},${Xt[1].toFixed(4)},${Xt[2].toFixed(4)},${Xt[3].toFixed(4)}`;ne.push(Xe)});const fe=ne.join(`
`),xe=new Blob([fe],{type:"text/csv;charset=utf-8;"}),Se=URL.createObjectURL(xe),pe=document.createElement("a");pe.setAttribute("href",Se),pe.setAttribute("download","dr_lab_results.csv"),document.body.appendChild(pe),pe.click(),document.body.removeChild(pe),URL.revokeObjectURL(Se),sn([])}catch(Y){Ue("DR Lab Error: "+Y.message)}finally{Ie(null)}},100))},kn=async(W,Y)=>{if(Cr.length<4&&Tn.length<1){Ue("Please mark the grid on an image first before running batch processing.");return}let Q=Tn;if(Q.length===0&&Cr.length===4&&(Q=bu(Cr,Ht,ie,Pe)),Q.length===0){Ue("No grid definitions found. Mark corners first.");return}Ie(Y==="pair"?"Batch Pair Difference (Sigma = Diff/sqrt(2))":"Batch Processing...");const ae=(M.blackLevel||[0,0,0,0]).join(","),ne=P?P.height:0,xe=[...[`#BlackLevel: ${ae}`,`#ImageHeight: ${ne}`,Y==="pair"?"#Mode: Pair Difference (Sigma = Diff/sqrt(2))":"#Mode: Independent"],"Filename,Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std"],Se=Array.from(W).sort((Qe,De)=>Qe.name.localeCompare(De.name,void 0,{numeric:!0}));if(Y==="pair"&&Se.length<2){Ue("Need at least 2 files for Pair processing."),Ie(null);return}const pe=O.current,Ne=(pe==null?void 0:pe.isXTransConverted)||!1,Ve=(pe==null?void 0:pe.xtransPhase)||{x:0,y:0};try{const Qe=async Xe=>{let kt=await Xe.arrayBuffer();return Ne&&(kt=(await af(kt,Ve.x,Ve.y)).dngBuffer),kt};if(Y==="single")for(let Xe=0;Xe<Se.length;Xe++){const kt=Se[Xe];Ie(`Processing ${Xe+1}/${Se.length}: ${kt.name}...`);const gr=await Qe(kt),cr=await Vd(gr);Q.forEach((ur,Pt)=>{const Kt=Math.floor(Pt/Pe)+1,un=Pt%Pe+1,Fr=Fi(cr.data,cr.width,cr.height,ur.x,ur.y,ur.w,ur.h),Ua=Fr.means,wr=Fr.stdDevs,ml=`${kt.name},${Kt},${un},${Ua[0].toFixed(4)},${Ua[1].toFixed(4)},${Ua[2].toFixed(4)},${Ua[3].toFixed(4)},${wr[0].toFixed(4)},${wr[1].toFixed(4)},${wr[2].toFixed(4)},${wr[3].toFixed(4)}`;xe.push(ml)})}else for(let Xe=0;Xe<Se.length-1;Xe+=2){const kt=Se[Xe],gr=Se[Xe+1],cr=`${kt.name} & ${gr.name}`;Ie(`Processing Pair ${Math.floor(Xe/2)+1}/${Math.floor(Se.length/2)}: ${kt.name} & ${gr.name}...`);const ur=await Qe(kt),Pt=await Vd(ur),Kt=await Qe(gr),un=await l0(ur,Kt,!1,!0);Q.forEach((Fr,Ua)=>{const wr=Math.floor(Ua/Pe)+1,ml=Ua%Pe+1,yl=Fi(Pt.data,Pt.width,Pt.height,Fr.x,Fr.y,Fr.w,Fr.h),GN=Fi(un.rawData,un.width,un.height,Fr.x,Fr.y,Fr.w,Fr.h),ku=yl.means,Su=GN.stdDevs,HN=`${cr},${wr},${ml},${ku[0].toFixed(4)},${ku[1].toFixed(4)},${ku[2].toFixed(4)},${ku[3].toFixed(4)},${Su[0].toFixed(4)},${Su[1].toFixed(4)},${Su[2].toFixed(4)},${Su[3].toFixed(4)}`;xe.push(HN)})}const De=xe.join(`
`),pr=new Blob([De],{type:"text/csv;charset=utf-8;"}),nr=URL.createObjectURL(pr),Xt=document.createElement("a");Xt.href=nr,Xt.setAttribute("download",`dr_lab_batch_${Y}_${new Date().getTime()}.csv`),document.body.appendChild(Xt),Xt.click(),document.body.removeChild(Xt),URL.revokeObjectURL(nr)}catch(Qe){console.error("Batch Error",Qe),Ue("Batch Processing Failed: "+Qe.message)}finally{Ie(null)}},np=()=>{E||Re("No EXIF data found. The file might not contain metadata or it was stripped during processing."),Oe(!0)},ap=async W=>{Ie("Parsing PTC Data...");const Y=[];let Q=null;try{for(let V=0;V<W.length;V++){const ne=(await W[V].text()).split(`
`);let fe=!0;for(const xe of ne){const Se=xe.trim();if(!Se)continue;if(Se.startsWith("#")){if(Se.includes("BlackLevel:")){const Pt=Se.split(":")[1].trim().split(",");if(Pt.length>=4){const Kt=Pt.map(Number);Q||(Q={}),Q.blackLevel=Kt}}if(Se.includes("ImageHeight:")){const Pt=parseInt(Se.split(":")[1].trim());isNaN(Pt)||(Q||(Q={}),Q.height=Pt)}continue}if(fe){Se.toLowerCase().includes("mean")&&Se.toLowerCase().includes("std")&&(fe=!1);continue}const pe=Se.split(",");if(pe.length<5)continue;let Ne=0,Ve;isNaN(parseFloat(pe[0]))&&(Ve=pe[0],Ne=1);const Qe=parseInt(pe[Ne]),De=parseInt(pe[Ne+1]),pr=parseFloat(pe[Ne+2]),nr=parseFloat(pe[Ne+3]),Xt=parseFloat(pe[Ne+4]),Xe=parseFloat(pe[Ne+5]),kt=parseFloat(pe[Ne+6]),gr=parseFloat(pe[Ne+7]),cr=parseFloat(pe[Ne+8]),ur=parseFloat(pe[Ne+9]);!isNaN(pr)&&!isNaN(kt)&&Y.push({channel:"R",mean:pr,std:kt,filename:Ve,row:Qe,col:De}),!isNaN(nr)&&!isNaN(gr)&&Y.push({channel:"G1",mean:nr,std:gr,filename:Ve,row:Qe,col:De}),!isNaN(Xt)&&!isNaN(cr)&&Y.push({channel:"G2",mean:Xt,std:cr,filename:Ve,row:Qe,col:De}),!isNaN(Xe)&&!isNaN(ur)&&Y.push({channel:"B",mean:Xe,std:ur,filename:Ve,row:Qe,col:De})}}xn(Y),bn(Q),l(!0)}catch(V){console.error("PTC Parse Error",V),Ue("Failed to parse CSV files: "+V.message)}finally{Ie(null)}},op=()=>{if(!A||!k)return;const W=new Blob([A],{type:"image/x-adobe-dng"}),Y=URL.createObjectURL(W),Q=document.createElement("a");Q.href=Y;const V=k.fileName||"image.dng",ae=V.toLowerCase().endsWith(".dng")?V:V.replace(/\.[^/.]+$/,"")+".dng";Q.download=ae,document.body.appendChild(Q),Q.click(),document.body.removeChild(Q),URL.revokeObjectURL(Y)},wu=()=>{Ir(1),sn([]),Et([])},pl=W=>{if(W.button!==0)return;sr(!0);const Y=W.clientX-lt.x,Q=W.clientY-lt.y,V=ne=>{It({x:ne.clientX-Y,y:ne.clientY-Q})},ae=()=>{sr(!1),window.removeEventListener("mousemove",V),window.removeEventListener("mouseup",ae)};window.addEventListener("mousemove",V),window.addEventListener("mouseup",ae)};return e?u.jsxs("div",{className:"flex flex-col h-screen items-center justify-center bg-gray-300 dark:bg-[#111] text-black dark:text-white font-mono",children:[u.jsx("div",{className:"w-12 h-12 border-4 border-black dark:border-white border-t-transparent animate-spin mb-4"}),u.jsx("h2",{className:"text-xl font-bold",children:r}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2 mb-6",children:"Loading stored buffers from database..."}),u.jsx("button",{onClick:Ko,className:"px-6 py-2 bg-red-600 hover:bg-red-700 text-white font-bold border-2 border-black dark:border-gray-500 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] active:shadow-none active:translate-x-1 active:translate-y-1 transition-all text-sm",children:"Abandon Saved Session (Start Fresh)"})]}):u.jsxs("div",{className:"flex flex-col h-screen bg-[#d4d4d4] dark:bg-[#111111] text-black dark:text-gray-200 font-mono transition-colors duration-300 overflow-hidden",children:[u.jsx("div",{className:"p-4 pb-0 flex-shrink-0",children:u.jsx(bM,{onLoadImage:qe,onFileSelected:Ze,onGenerateFakeDng:rr,fileName:_?_.name:null,hasGeneratedData:(_==null?void 0:_.name)==="pattern_test.dng",viewMode:gt,onSetViewMode:mt,patternPeriod:ze,onPatternPeriodChange:wt,fillFactor:pt,onFillFactorChange:tr,patternPhase:Ce,onPatternPhaseChange:rt,showPatternControls:(_==null?void 0:_.name)==="pattern_test.dng",onOpenAbout:()=>Ke(!0),onShowExif:np,bridgeStatus:p,onBridgeClick:()=>v(!0),isDrLabOpen:Wt,onToggleDrLab:()=>{Xr(!Wt),Ir(0),sn([]),Et([]),Gt&&Kr(!1)},isFftLabOpen:Gt,onToggleFftLab:()=>{Kr(!Gt),Wt&&Xr(!1)},onGenerateTestPic:()=>Ye(!0),onPTCFilesSelected:ap,onDownloadDng:op,isThreePlane:U,onOpenDatabase:()=>f(!0)})}),u.jsxs("div",{className:"flex flex-1 overflow-hidden p-4 pt-2 gap-4 relative",children:[u.jsxs("div",{className:"flex-1 relative bg-gray-200 dark:bg-black border-4 border-gray-500 dark:border-gray-700 shadow-[inset_2px_2px_8px_rgba(0,0,0,0.2)] overflow-hidden transition-colors duration-300",ref:ca,children:[lr&&u.jsxs("div",{className:"absolute bottom-4 right-4 z-50 flex items-center gap-2 bg-white/90 dark:bg-black/90 px-3 py-1.5 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray]",children:[u.jsx("div",{className:"w-4 h-4 border-2 border-black dark:border-white border-t-transparent animate-spin"}),u.jsx("span",{className:"text-xs font-bold text-black dark:text-white uppercase",children:Yr||"Processing..."})]}),x.length>1&&u.jsxs("div",{className:"absolute bottom-4 right-20 z-50 flex items-center gap-2 bg-white/90 dark:bg-black/90 px-3 py-1.5 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] text-sm font-bold text-black dark:text-white",children:[u.jsx("button",{onClick:fl,disabled:g<=0,className:"hover:text-gray-500 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Previous Image",children:"<"}),u.jsxs("span",{className:"min-w-[3rem] text-center select-none font-bold",children:[g+1," / ",x.length]}),u.jsx("button",{onClick:Jh,disabled:g>=x.length-1,className:"hover:text-gray-500 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Next Image",children:">"})]}),u.jsx("div",{className:"absolute bottom-4 left-4 z-50 flex flex-col-reverse gap-2 items-start pointer-events-none",children:ve.filter(W=>W.isMinimized).map(W=>{let Y="Window",Q="bg-gray-500";return W.type==="histogram"?(Y="Histogram",Q="bg-black dark:bg-white"):W.type==="fft"?(Y="FFT Spectrum",Q="bg-black dark:bg-white"):W.type==="quant"?(Y="Quantization",Q="bg-black dark:bg-white"):W.type==="pearson"&&(Y="Pearson",Q="bg-black dark:bg-white"),u.jsxs("div",{className:"pointer-events-auto flex items-center gap-1 bg-white dark:bg-black border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray]",children:[u.jsxs("button",{onClick:()=>F(W.id),className:"px-3 py-1.5 text-xs font-bold text-black dark:text-white hover:bg-gray-200 dark:hover:bg-gray-800 transition-colors flex items-center gap-2",children:[u.jsx("span",{className:`w-2 h-2 ${Q}`}),Y]}),u.jsx("button",{onClick:()=>dl(W.id),className:"px-2 py-1.5 text-black hover:text-red-600 hover:bg-gray-200 dark:hover:bg-gray-800 border-l-2 border-black dark:border-white transition-colors",children:""})]},W.id)})}),u.jsx(kQ,{isOpen:$e,onClose:()=>Ke(!1)}),u.jsx(SQ,{isOpen:he,onClose:()=>Oe(!1),data:E,fileName:_?_.name:"",warning:Fe}),u.jsx(OQ,{isOpen:s,onClose:()=>l(!1),data:sa,blackLevel:je,imageHeight:Zt,isBGGR:Z,importedMetadata:En||void 0,theme:o,initialCameraModel:(E==null?void 0:E.Model)||"",initialISO:(E==null?void 0:E.ISO)||((gl=E==null?void 0:E.ISOSpeedRatings)==null?void 0:gl.toString())||""}),u.jsx(MQ,{isOpen:c,onClose:()=>f(!1),theme:o}),u.jsx(CQ,{isOpen:d,onClose:()=>h(!1),zIndex:200}),u.jsx(Do,{isOpen:bt,onClose:()=>jt(!1),onConfirm:ce,title:"High Resource Usage Warning",confirmText:"I know the risk and insist to continue",message:u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("p",{children:"Patter DNG mode involves high-frequency refreshing and heavy computation. Due to current memory management limitations, repeated use may lead to browser memory overflow or crashes. Please proceed with caution."}),u.jsx("p",{className:"text-xs text-gray-500"})]})}),u.jsx(Do,{isOpen:m,onClose:()=>v(!1),onConfirm:()=>{window.open("https://y-g-jiang.github.io/jiangbridge.exe","_blank"),v(!1)},title:"JiangBridge Connection / ",confirmText:"Download Bridge App",cancelText:"Cancel",message:u.jsxs("div",{className:"flex flex-col gap-4 text-left",children:[u.jsx("p",{className:"font-bold text-gray-800 dark:text-gray-200",children:"JiangBridge"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:'JiangBridge is optional for this webpage, but recommended for full functionality. Simply double-click and run it once after system startup. If the indicator light does not turn green after double-clicking, please consider checking whether the web page is allowed to "View and connect to any device on the network".'})]})}),u.jsx(Do,{isOpen:dt,onClose:()=>Ct(!1),onConfirm:Qh,title:"Export 16-bit TIFF Options",confirmText:"Confirm Export",message:u.jsxs("div",{className:"flex flex-col gap-4 text-left",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-gray-50 dark:bg-slate-800/80 p-4 border border-gray-400 dark:border-gray-600",children:[u.jsxs("div",{className:"flex flex-col items-center gap-3",children:[u.jsxs("div",{className:"flex flex-col items-center text-center",children:[u.jsx("span",{className:"font-bold text-xs text-gray-800 dark:text-slate-200",children:"Stretch ()"}),u.jsx("span",{className:"text-[9px] text-gray-500 dark:text-slate-400 mt-0.5",children:"Map [0, White] to [0, 65535]"})]}),u.jsx("div",{onClick:()=>Ar(!Lt),className:`relative w-12 h-6 border-2 border-black dark:border-white cursor-pointer ${Lt?"bg-black dark:bg-white":"bg-gray-300 dark:bg-slate-600"}`,children:u.jsx("div",{className:`absolute top-0.5 left-0.5 w-4 h-4 bg-white dark:bg-black shadow-sm transition-transform ${Lt?"translate-x-6":""}`})})]}),u.jsxs("div",{className:"flex flex-col items-center gap-3",children:[u.jsxs("div",{className:"flex flex-col items-center text-center",children:[u.jsx("span",{className:"font-bold text-xs text-gray-800 dark:text-slate-200",children:"sRGB Gamma"}),u.jsx("span",{className:"text-[9px] text-gray-500 dark:text-slate-400 mt-0.5",children:"Apply non-linear contrast"})]}),u.jsx("div",{onClick:()=>ir(!hr),className:`relative w-12 h-6 border-2 border-black dark:border-white cursor-pointer ${hr?"bg-black dark:bg-white":"bg-gray-300 dark:bg-slate-600"}`,children:u.jsx("div",{className:`absolute top-0.5 left-0.5 w-4 h-4 bg-white dark:bg-black shadow-sm transition-transform ${hr?"translate-x-6":""}`})})]})]}),u.jsxs("div",{className:"p-3 bg-gray-200 dark:bg-slate-800 text-[11px] text-black dark:text-white italic border border-gray-400 dark:border-gray-600 text-center font-mono",children:[Lt&&!hr&&"Mode: Stretched Linear. Histogram preserved but range expanded.",!Lt&&hr&&"Mode: Native DN + sRGB. Best for analyzing raw distribution contrast.",Lt&&hr&&"Mode: Ready-to-Use. Conventional 16-bit development.",!Lt&&!hr&&"Mode: Native Linear. Pure physical sensor DN values."]})]})}),!G&&u.jsx(UQ,{stats:X,onClose:()=>{te(null),ke(null)},onMinimize:()=>oe(!0),isBGGR:Z,onToggleBGGR:I,onOpenWindow:vu,displaySettings:M,zIndex:se,onFocus:D}),ve.map(W=>{if(W.isMinimized)return null;const Y=x.find(ae=>ae.id===W.sessionId),Q=Y==null?void 0:Y.rawImageData;if(!Q)return null;const V={key:W.id,isOpen:!0,onClose:()=>dl(W.id),onMinimize:()=>ep(W.id),rawImageData:Q,roi:W.roi,isBGGR:W.isBGGR,zIndex:W.zIndex,onFocus:()=>J(W.id),initialPosition:W.initialPosition,initialInternalState:W.internalState,onUpdateState:ae=>re(W.id,ae),stackFiles:W.stackFiles};return W.type==="histogram"?u.jsx(pQ,{...V}):W.type==="fft"?u.jsx(vQ,{...V,onUpdateROI:ae=>de(W.id,ae)}):W.type==="quant"?u.jsx(xQ,{...V}):W.type==="pearson"?u.jsx(bQ,{...V}):null}),Tt&&u.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-white/90 dark:bg-black/90 p-8",children:u.jsxs("div",{className:"max-w-md text-center p-6 bg-white dark:bg-black rounded-none border-2 border-red-600 shadow-[8px_8px_0px_rgba(200,0,0,0.5)]",children:[u.jsx("h3",{className:"text-xl font-bold text-red-600 uppercase mb-2",children:"Notice"}),u.jsx("p",{className:"text-black dark:text-white mb-6 whitespace-pre-wrap font-mono",children:Tt}),u.jsx("button",{onClick:()=>Ue(null),className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-800 dark:hover:bg-gray-700 border-2 border-black dark:border-white text-black dark:text-white transition-colors uppercase font-bold",children:"Dismiss"})]})}),!nt&&!lr&&!Tt&&u.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-gray-400 dark:text-gray-600 select-none font-mono",children:u.jsx("p",{className:"text-lg",children:"Load an image or generate a pattern"})}),u.jsx(wM,{image:nt,zoom:ln,pan:Br,onPanChange:la,onZoomChange:Zr,onSelectionChange:Na,forcedSelection:q,theme:o,touchAction:za,isMarking:Mr>0,onPointClick:xu,markers:Cr,gridRects:Tn}),u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-1/2 z-30 pointer-events-none select-none opacity-20 mix-blend-normal dark:mix-blend-plus-lighter",children:u.jsx("svg",{viewBox:"0 0 500 60",className:"w-full h-auto drop-shadow-none",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-black dark:fill-white",fontSize:"26",fontWeight:"bold",style:{fontFamily:"Courier New, monospace",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),P&&!Mr&&u.jsxs("div",{className:"absolute bottom-4 left-4 z-30 pointer-events-none opacity-60 text-[10px] text-black dark:text-white font-mono bg-white/50 dark:bg-black/50 px-1",children:["Hold ",u.jsx("b",{children:"Shift"})," + Drag to calculate Raw ROI stats"]}),u.jsx($M,{zoom:ln,onZoomChange:Zr,onResetView:()=>{Gn(1),la({x:0,y:0})},touchAction:za,onToggleTouchAction:tp}),!H&&u.jsx("button",{onClick:()=>ye(!0),className:"absolute right-0 top-1/2 -translate-y-1/2 z-50 bg-white dark:bg-black border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] p-2 hover:bg-gray-200 dark:hover:bg-gray-800 transition-colors",title:"Show Tools",children:u.jsx("svg",{className:"w-4 h-4 text-black dark:text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})})]}),u.jsxs("div",{className:`flex-shrink-0 flex flex-col bg-white dark:bg-black border-2 border-black dark:border-gray-700 shadow-xl overflow-hidden transition-all duration-300 ease-in-out ${H?"w-80 translate-x-0 opacity-100 ml-0":"w-0 translate-x-20 opacity-0 p-0 border-0 pointer-events-none ml-0"}`,children:[u.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b-2 border-black dark:border-gray-700 bg-gray-200 dark:bg-gray-900 flex-shrink-0",children:[u.jsx("h2",{className:"font-bold text-sm text-black dark:text-white uppercase tracking-wide flex items-center gap-2",children:u.jsx("span",{children:"Tools"})}),u.jsx("button",{onClick:()=>ye(!1),className:"text-black dark:text-white hover:text-gray-600 dark:hover:text-gray-300 transition-colors p-1",title:"Hide Tools",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),u.jsx("div",{className:"flex-1 overflow-hidden relative",children:u.jsx(_M,{rawImageData:P,displaySettings:M,onApplyDisplaySettings:Ae,onSetSelection:hl,exifData:E,isBridgeConnected:p.isConnected,isDrLabOpen:Wt,drMarkingStep:Mr,onStartMarking:wu,onGenerateTestPic:()=>Ye(!0),drRoiSize:Ht,onDrRoiSizeChange:Ot,drGridRows:ie,onDrGridRowsChange:Me,drGridCols:Pe,onDrGridColsChange:et,onBatchDrLab:kn,hasDrMarkers:Tn.length>0||Cr.length===4,isFftLabOpen:Gt,onProcessPair:We,onProcessBatchDiff:_t,onProcessStackFft:ut,onOpenCrossCalc:()=>h(!0),isThreePlane:P==null?void 0:P.isThreePlane,onToggleXTrans:P?cn:void 0,xtransPhase:(k==null?void 0:k.xtransPhase)||{x:0,y:0},onXTransPhaseChange:yt,isXTransConverted:k==null?void 0:k.isXTransConverted,roiStats:X,isBGGR:Z})})]})]}),at&&u.jsxs("div",{className:"fixed inset-0 z-[200] bg-black overflow-hidden",children:[u.jsx("div",{onMouseDown:pl,style:{transform:`translate(${lt.x}px, ${lt.y}px)`,cursor:xr?"grabbing":"grab",opacity:Cn,transition:"opacity 0.1s linear"},className:"w-full h-full flex items-center justify-center",children:u.jsx("img",{src:"/drtest.png",alt:"DR Test",className:"max-w-full max-h-full object-contain pointer-none select-none",draggable:!1})}),u.jsxs("div",{className:"absolute top-4 right-4 flex flex-col items-end gap-2 pointer-events-none z-[201]",children:[u.jsx("div",{className:"text-white/50 text-sm bg-black/50 px-3 py-1 border border-white/20 backdrop-blur-sm font-mono",children:"Press ESC to exit | Drag to move"}),u.jsx("div",{className:"text-white/20 text-xs px-2 select-none font-mono",children:"F11 full screen"}),u.jsx("div",{className:"text-red-900/80 text-lg px-2 select-none font-bold mt-4 font-mono",children:""}),u.jsx("div",{className:"text-red-900/60 text-xs px-2 select-none font-mono",children:"Shoot slightly out of focus"})]}),u.jsxs("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 bg-black/60 backdrop-blur-md p-4 border border-gray-500 flex flex-col gap-3 items-center z-[202]",children:[u.jsx("button",{onClick:()=>ht(!br),className:`px-4 py-2 border-2 border-white font-bold text-sm transition-colors ${br?"bg-white text-black":"bg-black text-white hover:bg-gray-800"}`,children:br?"Stop Breathing":"Start Breathing"}),br&&u.jsxs("div",{className:"flex items-center gap-3 w-64 animate-in fade-in",children:[u.jsx("span",{className:"text-xs text-gray-400 font-bold uppercase",children:"Speed"}),u.jsx("input",{type:"range",min:"0.5",max:"10",step:"0.5",value:Rr,onChange:W=>ct(parseFloat(W.target.value)),className:"flex-1 h-1.5 bg-gray-600 rounded-none appearance-none cursor-pointer accent-white"}),u.jsx("span",{className:"text-xs text-white w-8 text-right font-mono",children:Rr.toFixed(1)})]})]})]}),u.jsx(DM,{theme:o,setTheme:i})]})},WN=document.getElementById("root");if(!WN)throw new Error("Could not find root element to mount to");const GQ=f0.createRoot(WN);GQ.render(u.jsx(T.StrictMode,{children:u.jsx(WQ,{})}));export{tQ as _};
