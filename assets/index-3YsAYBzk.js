var K_=Object.defineProperty;var Y_=(e,t,r)=>t in e?K_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var hn=(e,t,r)=>Y_(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var Pu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Nt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var q2={exports:{}},Yd={},Z2={exports:{}},qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nu=Symbol.for("react.element"),q_=Symbol.for("react.portal"),Z_=Symbol.for("react.fragment"),Q_=Symbol.for("react.strict_mode"),J_=Symbol.for("react.profiler"),eN=Symbol.for("react.provider"),tN=Symbol.for("react.context"),rN=Symbol.for("react.forward_ref"),nN=Symbol.for("react.suspense"),aN=Symbol.for("react.memo"),oN=Symbol.for("react.lazy"),zv=Symbol.iterator;function iN(e){return e===null||typeof e!="object"?null:(e=zv&&e[zv]||e["@@iterator"],typeof e=="function"?e:null)}var Q2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J2=Object.assign,ek={};function qs(e,t,r){this.props=e,this.context=t,this.refs=ek,this.updater=r||Q2}qs.prototype.isReactComponent={};qs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};qs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function tk(){}tk.prototype=qs.prototype;function Bm(e,t,r){this.props=e,this.context=t,this.refs=ek,this.updater=r||Q2}var Fm=Bm.prototype=new tk;Fm.constructor=Bm;J2(Fm,qs.prototype);Fm.isPureReactComponent=!0;var Uv=Array.isArray,rk=Object.prototype.hasOwnProperty,zm={current:null},nk={key:!0,ref:!0,__self:!0,__source:!0};function ak(e,t,r){var n,a={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)rk.call(t,n)&&!nk.hasOwnProperty(n)&&(a[n]=t[n]);var s=arguments.length-2;if(s===1)a.children=r;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)a[n]===void 0&&(a[n]=s[n]);return{$$typeof:nu,type:e,key:o,ref:i,props:a,_owner:zm.current}}function sN(e,t){return{$$typeof:nu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Um(e){return typeof e=="object"&&e!==null&&e.$$typeof===nu}function lN(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Wv=/\/+/g;function cp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?lN(""+e.key):t.toString(36)}function lf(e,t,r,n,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case nu:case q_:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+cp(i,0):n,Uv(a)?(r="",e!=null&&(r=e.replace(Wv,"$&/")+"/"),lf(a,t,r,"",function(c){return c})):a!=null&&(Um(a)&&(a=sN(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(Wv,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",Uv(e))for(var s=0;s<e.length;s++){o=e[s];var l=n+cp(o,s);i+=lf(o,t,r,l,a)}else if(l=iN(e),typeof l=="function")for(e=l.call(e),s=0;!(o=e.next()).done;)o=o.value,l=n+cp(o,s++),i+=lf(o,t,r,l,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function _u(e,t,r){if(e==null)return e;var n=[],a=0;return lf(e,n,"","",function(o){return t.call(r,o,a++)}),n}function cN(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var xn={current:null},cf={transition:null},uN={ReactCurrentDispatcher:xn,ReactCurrentBatchConfig:cf,ReactCurrentOwner:zm};function ok(){throw Error("act(...) is not supported in production builds of React.")}qe.Children={map:_u,forEach:function(e,t,r){_u(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return _u(e,function(){t++}),t},toArray:function(e){return _u(e,function(t){return t})||[]},only:function(e){if(!Um(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};qe.Component=qs;qe.Fragment=Z_;qe.Profiler=J_;qe.PureComponent=Bm;qe.StrictMode=Q_;qe.Suspense=nN;qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uN;qe.act=ok;qe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=J2({},e.props),a=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=zm.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)rk.call(t,l)&&!nk.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];n.children=s}return{$$typeof:nu,type:e.type,key:a,ref:o,props:n,_owner:i}};qe.createContext=function(e){return e={$$typeof:tN,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:eN,_context:e},e.Consumer=e};qe.createElement=ak;qe.createFactory=function(e){var t=ak.bind(null,e);return t.type=e,t};qe.createRef=function(){return{current:null}};qe.forwardRef=function(e){return{$$typeof:rN,render:e}};qe.isValidElement=Um;qe.lazy=function(e){return{$$typeof:oN,_payload:{_status:-1,_result:e},_init:cN}};qe.memo=function(e,t){return{$$typeof:aN,type:e,compare:t===void 0?null:t}};qe.startTransition=function(e){var t=cf.transition;cf.transition={};try{e()}finally{cf.transition=t}};qe.unstable_act=ok;qe.useCallback=function(e,t){return xn.current.useCallback(e,t)};qe.useContext=function(e){return xn.current.useContext(e)};qe.useDebugValue=function(){};qe.useDeferredValue=function(e){return xn.current.useDeferredValue(e)};qe.useEffect=function(e,t){return xn.current.useEffect(e,t)};qe.useId=function(){return xn.current.useId()};qe.useImperativeHandle=function(e,t,r){return xn.current.useImperativeHandle(e,t,r)};qe.useInsertionEffect=function(e,t){return xn.current.useInsertionEffect(e,t)};qe.useLayoutEffect=function(e,t){return xn.current.useLayoutEffect(e,t)};qe.useMemo=function(e,t){return xn.current.useMemo(e,t)};qe.useReducer=function(e,t,r){return xn.current.useReducer(e,t,r)};qe.useRef=function(e){return xn.current.useRef(e)};qe.useState=function(e){return xn.current.useState(e)};qe.useSyncExternalStore=function(e,t,r){return xn.current.useSyncExternalStore(e,t,r)};qe.useTransition=function(){return xn.current.useTransition()};qe.version="18.3.1";Z2.exports=qe;var j=Z2.exports;const M=Nt(j);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fN=j,dN=Symbol.for("react.element"),hN=Symbol.for("react.fragment"),pN=Object.prototype.hasOwnProperty,gN=fN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mN={key:!0,ref:!0,__self:!0,__source:!0};function ik(e,t,r){var n,a={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)pN.call(t,n)&&!mN.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:dN,type:e,key:o,ref:i,props:a,_owner:gN.current}}Yd.Fragment=hN;Yd.jsx=ik;Yd.jsxs=ik;q2.exports=Yd;var u=q2.exports,g0={},sk={exports:{}},Hn={},lk={exports:{}},ck={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,D){var G=L.length;L.push(D);e:for(;0<G;){var ee=G-1>>>1,Q=L[ee];if(0<a(Q,D))L[ee]=D,L[G]=Q,G=ee;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var D=L[0],G=L.pop();if(G!==D){L[0]=G;e:for(var ee=0,Q=L.length,q=Q>>>1;ee<q;){var X=2*(ee+1)-1,le=L[X],ue=X+1,Se=L[ue];if(0>a(le,G))ue<Q&&0>a(Se,le)?(L[ee]=Se,L[ue]=G,ee=ue):(L[ee]=le,L[X]=G,ee=X);else if(ue<Q&&0>a(Se,G))L[ee]=Se,L[ue]=G,ee=ue;else break e}}return D}function a(L,D){var G=L.sortIndex-D.sortIndex;return G!==0?G:L.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,s=i.now();e.unstable_now=function(){return i.now()-s}}var l=[],c=[],f=1,d=null,h=3,p=!1,m=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(L){for(var D=r(c);D!==null;){if(D.callback===null)n(c);else if(D.startTime<=L)n(c),D.sortIndex=D.expirationTime,t(l,D);else break;D=r(c)}}function S(L){if(v=!1,b(L),!m)if(r(l)!==null)m=!0,U(w);else{var D=r(c);D!==null&&I(S,D.startTime-L)}}function w(L,D){m=!1,v&&(v=!1,y(P),P=-1),p=!0;var G=h;try{for(b(D),d=r(l);d!==null&&(!(d.expirationTime>D)||L&&!A());){var ee=d.callback;if(typeof ee=="function"){d.callback=null,h=d.priorityLevel;var Q=ee(d.expirationTime<=D);D=e.unstable_now(),typeof Q=="function"?d.callback=Q:d===r(l)&&n(l),b(D)}else n(l);d=r(l)}if(d!==null)var q=!0;else{var X=r(c);X!==null&&I(S,X.startTime-D),q=!1}return q}finally{d=null,h=G,p=!1}}var k=!1,O=null,P=-1,_=5,N=-1;function A(){return!(e.unstable_now()-N<_)}function E(){if(O!==null){var L=e.unstable_now();N=L;var D=!0;try{D=O(!0,L)}finally{D?B():(k=!1,O=null)}}else k=!1}var B;if(typeof g=="function")B=function(){g(E)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,$=z.port2;z.port1.onmessage=E,B=function(){$.postMessage(null)}}else B=function(){x(E,0)};function U(L){O=L,k||(k=!0,B())}function I(L,D){P=x(function(){L(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,U(w))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(L){switch(h){case 1:case 2:case 3:var D=3;break;default:D=h}var G=h;h=D;try{return L()}finally{h=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,D){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var G=h;h=L;try{return D()}finally{h=G}},e.unstable_scheduleCallback=function(L,D,G){var ee=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ee+G:ee):G=ee,L){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=G+Q,L={id:f++,callback:D,priorityLevel:L,startTime:G,expirationTime:Q,sortIndex:-1},G>ee?(L.sortIndex=G,t(c,L),r(l)===null&&L===r(c)&&(v?(y(P),P=-1):v=!0,I(S,G-ee))):(L.sortIndex=Q,t(l,L),m||p||(m=!0,U(w))),L},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(L){var D=h;return function(){var G=h;h=D;try{return L.apply(this,arguments)}finally{h=G}}}})(ck);lk.exports=ck;var yN=lk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vN=j,Gn=yN;function ae(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var uk=new Set,ac={};function Ei(e,t){gs(e,t),gs(e+"Capture",t)}function gs(e,t){for(ac[e]=t,e=0;e<t.length;e++)uk.add(t[e])}var to=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m0=Object.prototype.hasOwnProperty,xN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gv={},Hv={};function bN(e){return m0.call(Hv,e)?!0:m0.call(Gv,e)?!1:xN.test(e)?Hv[e]=!0:(Gv[e]=!0,!1)}function wN(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function kN(e,t,r,n){if(t===null||typeof t>"u"||wN(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function bn(e,t,r,n,a,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Vr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Vr[e]=new bn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Vr[t]=new bn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Vr[e]=new bn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Vr[e]=new bn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Vr[e]=new bn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Vr[e]=new bn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Vr[e]=new bn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Vr[e]=new bn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Vr[e]=new bn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Wm=/[\-:]([a-z])/g;function Gm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Wm,Gm);Vr[t]=new bn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Wm,Gm);Vr[t]=new bn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Wm,Gm);Vr[t]=new bn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Vr[e]=new bn(e,1,!1,e.toLowerCase(),null,!1,!1)});Vr.xlinkHref=new bn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Vr[e]=new bn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Hm(e,t,r,n){var a=Vr.hasOwnProperty(t)?Vr[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(kN(t,r,a,n)&&(r=null),n||a===null?bN(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var lo=vN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Nu=Symbol.for("react.element"),Hi=Symbol.for("react.portal"),Vi=Symbol.for("react.fragment"),Vm=Symbol.for("react.strict_mode"),y0=Symbol.for("react.profiler"),fk=Symbol.for("react.provider"),dk=Symbol.for("react.context"),Xm=Symbol.for("react.forward_ref"),v0=Symbol.for("react.suspense"),x0=Symbol.for("react.suspense_list"),Km=Symbol.for("react.memo"),yo=Symbol.for("react.lazy"),hk=Symbol.for("react.offscreen"),Vv=Symbol.iterator;function vl(e){return e===null||typeof e!="object"?null:(e=Vv&&e[Vv]||e["@@iterator"],typeof e=="function"?e:null)}var nr=Object.assign,up;function Rl(e){if(up===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);up=t&&t[1]||""}return`
`+up+e}var fp=!1;function dp(e,t){if(!e||fp)return"";fp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),o=n.stack.split(`
`),i=a.length-1,s=o.length-1;1<=i&&0<=s&&a[i]!==o[s];)s--;for(;1<=i&&0<=s;i--,s--)if(a[i]!==o[s]){if(i!==1||s!==1)do if(i--,s--,0>s||a[i]!==o[s]){var l=`
`+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=s);break}}}finally{fp=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Rl(e):""}function SN(e){switch(e.tag){case 5:return Rl(e.type);case 16:return Rl("Lazy");case 13:return Rl("Suspense");case 19:return Rl("SuspenseList");case 0:case 2:case 15:return e=dp(e.type,!1),e;case 11:return e=dp(e.type.render,!1),e;case 1:return e=dp(e.type,!0),e;default:return""}}function b0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Vi:return"Fragment";case Hi:return"Portal";case y0:return"Profiler";case Vm:return"StrictMode";case v0:return"Suspense";case x0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case dk:return(e.displayName||"Context")+".Consumer";case fk:return(e._context.displayName||"Context")+".Provider";case Xm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Km:return t=e.displayName||null,t!==null?t:b0(e.type)||"Memo";case yo:t=e._payload,e=e._init;try{return b0(e(t))}catch{}}return null}function jN(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return b0(t);case 8:return t===Vm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Io(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pk(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ON(e){var t=pk(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Au(e){e._valueTracker||(e._valueTracker=ON(e))}function gk(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=pk(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function wf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function w0(e,t){var r=t.checked;return nr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Xv(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Io(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function mk(e,t){t=t.checked,t!=null&&Hm(e,"checked",t,!1)}function k0(e,t){mk(e,t);var r=Io(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?S0(e,t.type,r):t.hasOwnProperty("defaultValue")&&S0(e,t.type,Io(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Kv(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function S0(e,t,r){(t!=="number"||wf(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ll=Array.isArray;function is(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Io(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function j0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ae(91));return nr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Yv(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ae(92));if(Ll(r)){if(1<r.length)throw Error(ae(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Io(r)}}function yk(e,t){var r=Io(t.value),n=Io(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function qv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function vk(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function O0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?vk(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Mu,xk=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Mu=Mu||document.createElement("div"),Mu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Mu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function oc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var zl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},PN=["Webkit","ms","Moz","O"];Object.keys(zl).forEach(function(e){PN.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),zl[t]=zl[e]})});function bk(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||zl.hasOwnProperty(e)&&zl[e]?(""+t).trim():t+"px"}function wk(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=bk(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var _N=nr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function P0(e,t){if(t){if(_N[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ae(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ae(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ae(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ae(62))}}function _0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var N0=null;function Ym(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var A0=null,ss=null,ls=null;function Zv(e){if(e=iu(e)){if(typeof A0!="function")throw Error(ae(280));var t=e.stateNode;t&&(t=eh(t),A0(e.stateNode,e.type,t))}}function kk(e){ss?ls?ls.push(e):ls=[e]:ss=e}function Sk(){if(ss){var e=ss,t=ls;if(ls=ss=null,Zv(e),t)for(e=0;e<t.length;e++)Zv(t[e])}}function jk(e,t){return e(t)}function Ok(){}var hp=!1;function Pk(e,t,r){if(hp)return e(t,r);hp=!0;try{return jk(e,t,r)}finally{hp=!1,(ss!==null||ls!==null)&&(Ok(),Sk())}}function ic(e,t){var r=e.stateNode;if(r===null)return null;var n=eh(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ae(231,t,typeof r));return r}var M0=!1;if(to)try{var xl={};Object.defineProperty(xl,"passive",{get:function(){M0=!0}}),window.addEventListener("test",xl,xl),window.removeEventListener("test",xl,xl)}catch{M0=!1}function NN(e,t,r,n,a,o,i,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(f){this.onError(f)}}var Ul=!1,kf=null,Sf=!1,C0=null,AN={onError:function(e){Ul=!0,kf=e}};function MN(e,t,r,n,a,o,i,s,l){Ul=!1,kf=null,NN.apply(AN,arguments)}function CN(e,t,r,n,a,o,i,s,l){if(MN.apply(this,arguments),Ul){if(Ul){var c=kf;Ul=!1,kf=null}else throw Error(ae(198));Sf||(Sf=!0,C0=c)}}function Ti(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function _k(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Qv(e){if(Ti(e)!==e)throw Error(ae(188))}function EN(e){var t=e.alternate;if(!t){if(t=Ti(e),t===null)throw Error(ae(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var o=a.alternate;if(o===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return Qv(a),e;if(o===n)return Qv(a),t;o=o.sibling}throw Error(ae(188))}if(r.return!==n.return)r=a,n=o;else{for(var i=!1,s=a.child;s;){if(s===r){i=!0,r=a,n=o;break}if(s===n){i=!0,n=a,r=o;break}s=s.sibling}if(!i){for(s=o.child;s;){if(s===r){i=!0,r=o,n=a;break}if(s===n){i=!0,n=o,r=a;break}s=s.sibling}if(!i)throw Error(ae(189))}}if(r.alternate!==n)throw Error(ae(190))}if(r.tag!==3)throw Error(ae(188));return r.stateNode.current===r?e:t}function Nk(e){return e=EN(e),e!==null?Ak(e):null}function Ak(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ak(e);if(t!==null)return t;e=e.sibling}return null}var Mk=Gn.unstable_scheduleCallback,Jv=Gn.unstable_cancelCallback,TN=Gn.unstable_shouldYield,$N=Gn.unstable_requestPaint,gr=Gn.unstable_now,DN=Gn.unstable_getCurrentPriorityLevel,qm=Gn.unstable_ImmediatePriority,Ck=Gn.unstable_UserBlockingPriority,jf=Gn.unstable_NormalPriority,RN=Gn.unstable_LowPriority,Ek=Gn.unstable_IdlePriority,qd=null,$a=null;function LN(e){if($a&&typeof $a.onCommitFiberRoot=="function")try{$a.onCommitFiberRoot(qd,e,void 0,(e.current.flags&128)===128)}catch{}}var ba=Math.clz32?Math.clz32:FN,IN=Math.log,BN=Math.LN2;function FN(e){return e>>>=0,e===0?32:31-(IN(e)/BN|0)|0}var Cu=64,Eu=4194304;function Il(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Of(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var s=i&~a;s!==0?n=Il(s):(o&=i,o!==0&&(n=Il(o)))}else i=r&~a,i!==0?n=Il(i):o!==0&&(n=Il(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ba(t),a=1<<r,n|=e[r],t&=~a;return n}function zN(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function UN(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-ba(o),s=1<<i,l=a[i];l===-1?(!(s&r)||s&n)&&(a[i]=zN(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}function E0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Tk(){var e=Cu;return Cu<<=1,!(Cu&4194240)&&(Cu=64),e}function pp(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function au(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ba(t),e[t]=r}function WN(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-ba(r),o=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~o}}function Zm(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ba(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var xt=0;function $k(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Dk,Qm,Rk,Lk,Ik,T0=!1,Tu=[],No=null,Ao=null,Mo=null,sc=new Map,lc=new Map,bo=[],GN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ex(e,t){switch(e){case"focusin":case"focusout":No=null;break;case"dragenter":case"dragleave":Ao=null;break;case"mouseover":case"mouseout":Mo=null;break;case"pointerover":case"pointerout":sc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lc.delete(t.pointerId)}}function bl(e,t,r,n,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[a]},t!==null&&(t=iu(t),t!==null&&Qm(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function HN(e,t,r,n,a){switch(t){case"focusin":return No=bl(No,e,t,r,n,a),!0;case"dragenter":return Ao=bl(Ao,e,t,r,n,a),!0;case"mouseover":return Mo=bl(Mo,e,t,r,n,a),!0;case"pointerover":var o=a.pointerId;return sc.set(o,bl(sc.get(o)||null,e,t,r,n,a)),!0;case"gotpointercapture":return o=a.pointerId,lc.set(o,bl(lc.get(o)||null,e,t,r,n,a)),!0}return!1}function Bk(e){var t=ii(e.target);if(t!==null){var r=Ti(t);if(r!==null){if(t=r.tag,t===13){if(t=_k(r),t!==null){e.blockedOn=t,Ik(e.priority,function(){Rk(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function uf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=$0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);N0=n,r.target.dispatchEvent(n),N0=null}else return t=iu(r),t!==null&&Qm(t),e.blockedOn=r,!1;t.shift()}return!0}function tx(e,t,r){uf(e)&&r.delete(t)}function VN(){T0=!1,No!==null&&uf(No)&&(No=null),Ao!==null&&uf(Ao)&&(Ao=null),Mo!==null&&uf(Mo)&&(Mo=null),sc.forEach(tx),lc.forEach(tx)}function wl(e,t){e.blockedOn===t&&(e.blockedOn=null,T0||(T0=!0,Gn.unstable_scheduleCallback(Gn.unstable_NormalPriority,VN)))}function cc(e){function t(a){return wl(a,e)}if(0<Tu.length){wl(Tu[0],e);for(var r=1;r<Tu.length;r++){var n=Tu[r];n.blockedOn===e&&(n.blockedOn=null)}}for(No!==null&&wl(No,e),Ao!==null&&wl(Ao,e),Mo!==null&&wl(Mo,e),sc.forEach(t),lc.forEach(t),r=0;r<bo.length;r++)n=bo[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<bo.length&&(r=bo[0],r.blockedOn===null);)Bk(r),r.blockedOn===null&&bo.shift()}var cs=lo.ReactCurrentBatchConfig,Pf=!0;function XN(e,t,r,n){var a=xt,o=cs.transition;cs.transition=null;try{xt=1,Jm(e,t,r,n)}finally{xt=a,cs.transition=o}}function KN(e,t,r,n){var a=xt,o=cs.transition;cs.transition=null;try{xt=4,Jm(e,t,r,n)}finally{xt=a,cs.transition=o}}function Jm(e,t,r,n){if(Pf){var a=$0(e,t,r,n);if(a===null)jp(e,t,n,_f,r),ex(e,n);else if(HN(a,e,t,r,n))n.stopPropagation();else if(ex(e,n),t&4&&-1<GN.indexOf(e)){for(;a!==null;){var o=iu(a);if(o!==null&&Dk(o),o=$0(e,t,r,n),o===null&&jp(e,t,n,_f,r),o===a)break;a=o}a!==null&&n.stopPropagation()}else jp(e,t,n,null,r)}}var _f=null;function $0(e,t,r,n){if(_f=null,e=Ym(n),e=ii(e),e!==null)if(t=Ti(e),t===null)e=null;else if(r=t.tag,r===13){if(e=_k(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return _f=e,null}function Fk(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(DN()){case qm:return 1;case Ck:return 4;case jf:case RN:return 16;case Ek:return 536870912;default:return 16}default:return 16}}var So=null,ey=null,ff=null;function zk(){if(ff)return ff;var e,t=ey,r=t.length,n,a="value"in So?So.value:So.textContent,o=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[o-n];n++);return ff=a.slice(e,1<n?1-n:void 0)}function df(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $u(){return!0}function rx(){return!1}function Vn(e){function t(r,n,a,o,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?$u:rx,this.isPropagationStopped=rx,this}return nr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=$u)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=$u)},persist:function(){},isPersistent:$u}),t}var Zs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ty=Vn(Zs),ou=nr({},Zs,{view:0,detail:0}),YN=Vn(ou),gp,mp,kl,Zd=nr({},ou,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ry,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==kl&&(kl&&e.type==="mousemove"?(gp=e.screenX-kl.screenX,mp=e.screenY-kl.screenY):mp=gp=0,kl=e),gp)},movementY:function(e){return"movementY"in e?e.movementY:mp}}),nx=Vn(Zd),qN=nr({},Zd,{dataTransfer:0}),ZN=Vn(qN),QN=nr({},ou,{relatedTarget:0}),yp=Vn(QN),JN=nr({},Zs,{animationName:0,elapsedTime:0,pseudoElement:0}),eA=Vn(JN),tA=nr({},Zs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),rA=Vn(tA),nA=nr({},Zs,{data:0}),ax=Vn(nA),aA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=iA[e])?!!t[e]:!1}function ry(){return sA}var lA=nr({},ou,{key:function(e){if(e.key){var t=aA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=df(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?oA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ry,charCode:function(e){return e.type==="keypress"?df(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?df(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),cA=Vn(lA),uA=nr({},Zd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ox=Vn(uA),fA=nr({},ou,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ry}),dA=Vn(fA),hA=nr({},Zs,{propertyName:0,elapsedTime:0,pseudoElement:0}),pA=Vn(hA),gA=nr({},Zd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mA=Vn(gA),yA=[9,13,27,32],ny=to&&"CompositionEvent"in window,Wl=null;to&&"documentMode"in document&&(Wl=document.documentMode);var vA=to&&"TextEvent"in window&&!Wl,Uk=to&&(!ny||Wl&&8<Wl&&11>=Wl),ix=" ",sx=!1;function Wk(e,t){switch(e){case"keyup":return yA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gk(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xi=!1;function xA(e,t){switch(e){case"compositionend":return Gk(t);case"keypress":return t.which!==32?null:(sx=!0,ix);case"textInput":return e=t.data,e===ix&&sx?null:e;default:return null}}function bA(e,t){if(Xi)return e==="compositionend"||!ny&&Wk(e,t)?(e=zk(),ff=ey=So=null,Xi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Uk&&t.locale!=="ko"?null:t.data;default:return null}}var wA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!wA[e.type]:t==="textarea"}function Hk(e,t,r,n){kk(n),t=Nf(t,"onChange"),0<t.length&&(r=new ty("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Gl=null,uc=null;function kA(e){rS(e,0)}function Qd(e){var t=qi(e);if(gk(t))return e}function SA(e,t){if(e==="change")return t}var Vk=!1;if(to){var vp;if(to){var xp="oninput"in document;if(!xp){var cx=document.createElement("div");cx.setAttribute("oninput","return;"),xp=typeof cx.oninput=="function"}vp=xp}else vp=!1;Vk=vp&&(!document.documentMode||9<document.documentMode)}function ux(){Gl&&(Gl.detachEvent("onpropertychange",Xk),uc=Gl=null)}function Xk(e){if(e.propertyName==="value"&&Qd(uc)){var t=[];Hk(t,uc,e,Ym(e)),Pk(kA,t)}}function jA(e,t,r){e==="focusin"?(ux(),Gl=t,uc=r,Gl.attachEvent("onpropertychange",Xk)):e==="focusout"&&ux()}function OA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qd(uc)}function PA(e,t){if(e==="click")return Qd(t)}function _A(e,t){if(e==="input"||e==="change")return Qd(t)}function NA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ka=typeof Object.is=="function"?Object.is:NA;function fc(e,t){if(ka(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!m0.call(t,a)||!ka(e[a],t[a]))return!1}return!0}function fx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dx(e,t){var r=fx(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fx(r)}}function Kk(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Kk(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Yk(){for(var e=window,t=wf();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=wf(e.document)}return t}function ay(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function AA(e){var t=Yk(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Kk(r.ownerDocument.documentElement,r)){if(n!==null&&ay(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,o=Math.min(n.start,a);n=n.end===void 0?o:Math.min(n.end,a),!e.extend&&o>n&&(a=n,n=o,o=a),a=dx(r,o);var i=dx(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var MA=to&&"documentMode"in document&&11>=document.documentMode,Ki=null,D0=null,Hl=null,R0=!1;function hx(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;R0||Ki==null||Ki!==wf(n)||(n=Ki,"selectionStart"in n&&ay(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Hl&&fc(Hl,n)||(Hl=n,n=Nf(D0,"onSelect"),0<n.length&&(t=new ty("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ki)))}function Du(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Yi={animationend:Du("Animation","AnimationEnd"),animationiteration:Du("Animation","AnimationIteration"),animationstart:Du("Animation","AnimationStart"),transitionend:Du("Transition","TransitionEnd")},bp={},qk={};to&&(qk=document.createElement("div").style,"AnimationEvent"in window||(delete Yi.animationend.animation,delete Yi.animationiteration.animation,delete Yi.animationstart.animation),"TransitionEvent"in window||delete Yi.transitionend.transition);function Jd(e){if(bp[e])return bp[e];if(!Yi[e])return e;var t=Yi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in qk)return bp[e]=t[r];return e}var Zk=Jd("animationend"),Qk=Jd("animationiteration"),Jk=Jd("animationstart"),eS=Jd("transitionend"),tS=new Map,px="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fo(e,t){tS.set(e,t),Ei(t,[e])}for(var wp=0;wp<px.length;wp++){var kp=px[wp],CA=kp.toLowerCase(),EA=kp[0].toUpperCase()+kp.slice(1);Fo(CA,"on"+EA)}Fo(Zk,"onAnimationEnd");Fo(Qk,"onAnimationIteration");Fo(Jk,"onAnimationStart");Fo("dblclick","onDoubleClick");Fo("focusin","onFocus");Fo("focusout","onBlur");Fo(eS,"onTransitionEnd");gs("onMouseEnter",["mouseout","mouseover"]);gs("onMouseLeave",["mouseout","mouseover"]);gs("onPointerEnter",["pointerout","pointerover"]);gs("onPointerLeave",["pointerout","pointerover"]);Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bl));function gx(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,CN(n,t,void 0,e),e.currentTarget=null}function rS(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var s=n[i],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&a.isPropagationStopped())break e;gx(a,s,c),o=l}else for(i=0;i<n.length;i++){if(s=n[i],l=s.instance,c=s.currentTarget,s=s.listener,l!==o&&a.isPropagationStopped())break e;gx(a,s,c),o=l}}}if(Sf)throw e=C0,Sf=!1,C0=null,e}function It(e,t){var r=t[z0];r===void 0&&(r=t[z0]=new Set);var n=e+"__bubble";r.has(n)||(nS(t,e,2,!1),r.add(n))}function Sp(e,t,r){var n=0;t&&(n|=4),nS(r,e,n,t)}var Ru="_reactListening"+Math.random().toString(36).slice(2);function dc(e){if(!e[Ru]){e[Ru]=!0,uk.forEach(function(r){r!=="selectionchange"&&(TA.has(r)||Sp(r,!1,e),Sp(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ru]||(t[Ru]=!0,Sp("selectionchange",!1,t))}}function nS(e,t,r,n){switch(Fk(t)){case 1:var a=XN;break;case 4:a=KN;break;default:a=Jm}r=a.bind(null,t,r,e),a=void 0,!M0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function jp(e,t,r,n,a){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var s=n.stateNode.containerInfo;if(s===a||s.nodeType===8&&s.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;i=i.return}for(;s!==null;){if(i=ii(s),i===null)return;if(l=i.tag,l===5||l===6){n=o=i;continue e}s=s.parentNode}}n=n.return}Pk(function(){var c=o,f=Ym(r),d=[];e:{var h=tS.get(e);if(h!==void 0){var p=ty,m=e;switch(e){case"keypress":if(df(r)===0)break e;case"keydown":case"keyup":p=cA;break;case"focusin":m="focus",p=yp;break;case"focusout":m="blur",p=yp;break;case"beforeblur":case"afterblur":p=yp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=nx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=ZN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=dA;break;case Zk:case Qk:case Jk:p=eA;break;case eS:p=pA;break;case"scroll":p=YN;break;case"wheel":p=mA;break;case"copy":case"cut":case"paste":p=rA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=ox}var v=(t&4)!==0,x=!v&&e==="scroll",y=v?h!==null?h+"Capture":null:h;v=[];for(var g=c,b;g!==null;){b=g;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,y!==null&&(S=ic(g,y),S!=null&&v.push(hc(g,S,b)))),x)break;g=g.return}0<v.length&&(h=new p(h,m,null,r,f),d.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==N0&&(m=r.relatedTarget||r.fromElement)&&(ii(m)||m[ro]))break e;if((p||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=c,m=m?ii(m):null,m!==null&&(x=Ti(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(v=nx,S="onMouseLeave",y="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(v=ox,S="onPointerLeave",y="onPointerEnter",g="pointer"),x=p==null?h:qi(p),b=m==null?h:qi(m),h=new v(S,g+"leave",p,r,f),h.target=x,h.relatedTarget=b,S=null,ii(f)===c&&(v=new v(y,g+"enter",m,r,f),v.target=b,v.relatedTarget=x,S=v),x=S,p&&m)t:{for(v=p,y=m,g=0,b=v;b;b=Bi(b))g++;for(b=0,S=y;S;S=Bi(S))b++;for(;0<g-b;)v=Bi(v),g--;for(;0<b-g;)y=Bi(y),b--;for(;g--;){if(v===y||y!==null&&v===y.alternate)break t;v=Bi(v),y=Bi(y)}v=null}else v=null;p!==null&&mx(d,h,p,v,!1),m!==null&&x!==null&&mx(d,x,m,v,!0)}}e:{if(h=c?qi(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=SA;else if(lx(h))if(Vk)w=_A;else{w=OA;var k=jA}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=PA);if(w&&(w=w(e,c))){Hk(d,w,r,f);break e}k&&k(e,h,c),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&S0(h,"number",h.value)}switch(k=c?qi(c):window,e){case"focusin":(lx(k)||k.contentEditable==="true")&&(Ki=k,D0=c,Hl=null);break;case"focusout":Hl=D0=Ki=null;break;case"mousedown":R0=!0;break;case"contextmenu":case"mouseup":case"dragend":R0=!1,hx(d,r,f);break;case"selectionchange":if(MA)break;case"keydown":case"keyup":hx(d,r,f)}var O;if(ny)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Xi?Wk(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(Uk&&r.locale!=="ko"&&(Xi||P!=="onCompositionStart"?P==="onCompositionEnd"&&Xi&&(O=zk()):(So=f,ey="value"in So?So.value:So.textContent,Xi=!0)),k=Nf(c,P),0<k.length&&(P=new ax(P,e,null,r,f),d.push({event:P,listeners:k}),O?P.data=O:(O=Gk(r),O!==null&&(P.data=O)))),(O=vA?xA(e,r):bA(e,r))&&(c=Nf(c,"onBeforeInput"),0<c.length&&(f=new ax("onBeforeInput","beforeinput",null,r,f),d.push({event:f,listeners:c}),f.data=O))}rS(d,t)})}function hc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Nf(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=ic(e,r),o!=null&&n.unshift(hc(e,o,a)),o=ic(e,t),o!=null&&n.push(hc(e,o,a))),e=e.return}return n}function Bi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function mx(e,t,r,n,a){for(var o=t._reactName,i=[];r!==null&&r!==n;){var s=r,l=s.alternate,c=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&c!==null&&(s=c,a?(l=ic(r,o),l!=null&&i.unshift(hc(r,l,s))):a||(l=ic(r,o),l!=null&&i.push(hc(r,l,s)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var $A=/\r\n?/g,DA=/\u0000|\uFFFD/g;function yx(e){return(typeof e=="string"?e:""+e).replace($A,`
`).replace(DA,"")}function Lu(e,t,r){if(t=yx(t),yx(e)!==t&&r)throw Error(ae(425))}function Af(){}var L0=null,I0=null;function B0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var F0=typeof setTimeout=="function"?setTimeout:void 0,RA=typeof clearTimeout=="function"?clearTimeout:void 0,vx=typeof Promise=="function"?Promise:void 0,LA=typeof queueMicrotask=="function"?queueMicrotask:typeof vx<"u"?function(e){return vx.resolve(null).then(e).catch(IA)}:F0;function IA(e){setTimeout(function(){throw e})}function Op(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),cc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);cc(t)}function Co(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function xx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Qs=Math.random().toString(36).slice(2),Ca="__reactFiber$"+Qs,pc="__reactProps$"+Qs,ro="__reactContainer$"+Qs,z0="__reactEvents$"+Qs,BA="__reactListeners$"+Qs,FA="__reactHandles$"+Qs;function ii(e){var t=e[Ca];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ro]||r[Ca]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=xx(e);e!==null;){if(r=e[Ca])return r;e=xx(e)}return t}e=r,r=e.parentNode}return null}function iu(e){return e=e[Ca]||e[ro],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ae(33))}function eh(e){return e[pc]||null}var U0=[],Zi=-1;function zo(e){return{current:e}}function zt(e){0>Zi||(e.current=U0[Zi],U0[Zi]=null,Zi--)}function $t(e,t){Zi++,U0[Zi]=e.current,e.current=t}var Bo={},sn=zo(Bo),Nn=zo(!1),bi=Bo;function ms(e,t){var r=e.type.contextTypes;if(!r)return Bo;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in r)a[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function An(e){return e=e.childContextTypes,e!=null}function Mf(){zt(Nn),zt(sn)}function bx(e,t,r){if(sn.current!==Bo)throw Error(ae(168));$t(sn,t),$t(Nn,r)}function aS(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(ae(108,jN(e)||"Unknown",a));return nr({},r,n)}function Cf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Bo,bi=sn.current,$t(sn,e),$t(Nn,Nn.current),!0}function wx(e,t,r){var n=e.stateNode;if(!n)throw Error(ae(169));r?(e=aS(e,t,bi),n.__reactInternalMemoizedMergedChildContext=e,zt(Nn),zt(sn),$t(sn,e)):zt(Nn),$t(Nn,r)}var Ga=null,th=!1,Pp=!1;function oS(e){Ga===null?Ga=[e]:Ga.push(e)}function zA(e){th=!0,oS(e)}function Uo(){if(!Pp&&Ga!==null){Pp=!0;var e=0,t=xt;try{var r=Ga;for(xt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ga=null,th=!1}catch(a){throw Ga!==null&&(Ga=Ga.slice(e+1)),Mk(qm,Uo),a}finally{xt=t,Pp=!1}}return null}var Qi=[],Ji=0,Ef=null,Tf=0,Jn=[],ea=0,wi=null,Ha=1,Va="";function ti(e,t){Qi[Ji++]=Tf,Qi[Ji++]=Ef,Ef=e,Tf=t}function iS(e,t,r){Jn[ea++]=Ha,Jn[ea++]=Va,Jn[ea++]=wi,wi=e;var n=Ha;e=Va;var a=32-ba(n)-1;n&=~(1<<a),r+=1;var o=32-ba(t)+a;if(30<o){var i=a-a%5;o=(n&(1<<i)-1).toString(32),n>>=i,a-=i,Ha=1<<32-ba(t)+a|r<<a|n,Va=o+e}else Ha=1<<o|r<<a|n,Va=e}function oy(e){e.return!==null&&(ti(e,1),iS(e,1,0))}function iy(e){for(;e===Ef;)Ef=Qi[--Ji],Qi[Ji]=null,Tf=Qi[--Ji],Qi[Ji]=null;for(;e===wi;)wi=Jn[--ea],Jn[ea]=null,Va=Jn[--ea],Jn[ea]=null,Ha=Jn[--ea],Jn[ea]=null}var Wn=null,Un=null,Kt=!1,ya=null;function sS(e,t){var r=ta(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function kx(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Wn=e,Un=Co(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Wn=e,Un=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=wi!==null?{id:Ha,overflow:Va}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ta(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Wn=e,Un=null,!0):!1;default:return!1}}function W0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function G0(e){if(Kt){var t=Un;if(t){var r=t;if(!kx(e,t)){if(W0(e))throw Error(ae(418));t=Co(r.nextSibling);var n=Wn;t&&kx(e,t)?sS(n,r):(e.flags=e.flags&-4097|2,Kt=!1,Wn=e)}}else{if(W0(e))throw Error(ae(418));e.flags=e.flags&-4097|2,Kt=!1,Wn=e}}}function Sx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Wn=e}function Iu(e){if(e!==Wn)return!1;if(!Kt)return Sx(e),Kt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!B0(e.type,e.memoizedProps)),t&&(t=Un)){if(W0(e))throw lS(),Error(ae(418));for(;t;)sS(e,t),t=Co(t.nextSibling)}if(Sx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ae(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Un=Co(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Un=null}}else Un=Wn?Co(e.stateNode.nextSibling):null;return!0}function lS(){for(var e=Un;e;)e=Co(e.nextSibling)}function ys(){Un=Wn=null,Kt=!1}function sy(e){ya===null?ya=[e]:ya.push(e)}var UA=lo.ReactCurrentBatchConfig;function Sl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ae(309));var n=r.stateNode}if(!n)throw Error(ae(147,e));var a=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var s=a.refs;i===null?delete s[o]:s[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(ae(284));if(!r._owner)throw Error(ae(290,e))}return e}function Bu(e,t){throw e=Object.prototype.toString.call(t),Error(ae(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function jx(e){var t=e._init;return t(e._payload)}function cS(e){function t(y,g){if(e){var b=y.deletions;b===null?(y.deletions=[g],y.flags|=16):b.push(g)}}function r(y,g){if(!e)return null;for(;g!==null;)t(y,g),g=g.sibling;return null}function n(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function a(y,g){return y=Do(y,g),y.index=0,y.sibling=null,y}function o(y,g,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<g?(y.flags|=2,g):b):(y.flags|=2,g)):(y.flags|=1048576,g)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function s(y,g,b,S){return g===null||g.tag!==6?(g=Tp(b,y.mode,S),g.return=y,g):(g=a(g,b),g.return=y,g)}function l(y,g,b,S){var w=b.type;return w===Vi?f(y,g,b.props.children,S,b.key):g!==null&&(g.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===yo&&jx(w)===g.type)?(S=a(g,b.props),S.ref=Sl(y,g,b),S.return=y,S):(S=xf(b.type,b.key,b.props,null,y.mode,S),S.ref=Sl(y,g,b),S.return=y,S)}function c(y,g,b,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==b.containerInfo||g.stateNode.implementation!==b.implementation?(g=$p(b,y.mode,S),g.return=y,g):(g=a(g,b.children||[]),g.return=y,g)}function f(y,g,b,S,w){return g===null||g.tag!==7?(g=mi(b,y.mode,S,w),g.return=y,g):(g=a(g,b),g.return=y,g)}function d(y,g,b){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Tp(""+g,y.mode,b),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Nu:return b=xf(g.type,g.key,g.props,null,y.mode,b),b.ref=Sl(y,null,g),b.return=y,b;case Hi:return g=$p(g,y.mode,b),g.return=y,g;case yo:var S=g._init;return d(y,S(g._payload),b)}if(Ll(g)||vl(g))return g=mi(g,y.mode,b,null),g.return=y,g;Bu(y,g)}return null}function h(y,g,b,S){var w=g!==null?g.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:s(y,g,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Nu:return b.key===w?l(y,g,b,S):null;case Hi:return b.key===w?c(y,g,b,S):null;case yo:return w=b._init,h(y,g,w(b._payload),S)}if(Ll(b)||vl(b))return w!==null?null:f(y,g,b,S,null);Bu(y,b)}return null}function p(y,g,b,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(b)||null,s(g,y,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Nu:return y=y.get(S.key===null?b:S.key)||null,l(g,y,S,w);case Hi:return y=y.get(S.key===null?b:S.key)||null,c(g,y,S,w);case yo:var k=S._init;return p(y,g,b,k(S._payload),w)}if(Ll(S)||vl(S))return y=y.get(b)||null,f(g,y,S,w,null);Bu(g,S)}return null}function m(y,g,b,S){for(var w=null,k=null,O=g,P=g=0,_=null;O!==null&&P<b.length;P++){O.index>P?(_=O,O=null):_=O.sibling;var N=h(y,O,b[P],S);if(N===null){O===null&&(O=_);break}e&&O&&N.alternate===null&&t(y,O),g=o(N,g,P),k===null?w=N:k.sibling=N,k=N,O=_}if(P===b.length)return r(y,O),Kt&&ti(y,P),w;if(O===null){for(;P<b.length;P++)O=d(y,b[P],S),O!==null&&(g=o(O,g,P),k===null?w=O:k.sibling=O,k=O);return Kt&&ti(y,P),w}for(O=n(y,O);P<b.length;P++)_=p(O,y,P,b[P],S),_!==null&&(e&&_.alternate!==null&&O.delete(_.key===null?P:_.key),g=o(_,g,P),k===null?w=_:k.sibling=_,k=_);return e&&O.forEach(function(A){return t(y,A)}),Kt&&ti(y,P),w}function v(y,g,b,S){var w=vl(b);if(typeof w!="function")throw Error(ae(150));if(b=w.call(b),b==null)throw Error(ae(151));for(var k=w=null,O=g,P=g=0,_=null,N=b.next();O!==null&&!N.done;P++,N=b.next()){O.index>P?(_=O,O=null):_=O.sibling;var A=h(y,O,N.value,S);if(A===null){O===null&&(O=_);break}e&&O&&A.alternate===null&&t(y,O),g=o(A,g,P),k===null?w=A:k.sibling=A,k=A,O=_}if(N.done)return r(y,O),Kt&&ti(y,P),w;if(O===null){for(;!N.done;P++,N=b.next())N=d(y,N.value,S),N!==null&&(g=o(N,g,P),k===null?w=N:k.sibling=N,k=N);return Kt&&ti(y,P),w}for(O=n(y,O);!N.done;P++,N=b.next())N=p(O,y,P,N.value,S),N!==null&&(e&&N.alternate!==null&&O.delete(N.key===null?P:N.key),g=o(N,g,P),k===null?w=N:k.sibling=N,k=N);return e&&O.forEach(function(E){return t(y,E)}),Kt&&ti(y,P),w}function x(y,g,b,S){if(typeof b=="object"&&b!==null&&b.type===Vi&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Nu:e:{for(var w=b.key,k=g;k!==null;){if(k.key===w){if(w=b.type,w===Vi){if(k.tag===7){r(y,k.sibling),g=a(k,b.props.children),g.return=y,y=g;break e}}else if(k.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===yo&&jx(w)===k.type){r(y,k.sibling),g=a(k,b.props),g.ref=Sl(y,k,b),g.return=y,y=g;break e}r(y,k);break}else t(y,k);k=k.sibling}b.type===Vi?(g=mi(b.props.children,y.mode,S,b.key),g.return=y,y=g):(S=xf(b.type,b.key,b.props,null,y.mode,S),S.ref=Sl(y,g,b),S.return=y,y=S)}return i(y);case Hi:e:{for(k=b.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===b.containerInfo&&g.stateNode.implementation===b.implementation){r(y,g.sibling),g=a(g,b.children||[]),g.return=y,y=g;break e}else{r(y,g);break}else t(y,g);g=g.sibling}g=$p(b,y.mode,S),g.return=y,y=g}return i(y);case yo:return k=b._init,x(y,g,k(b._payload),S)}if(Ll(b))return m(y,g,b,S);if(vl(b))return v(y,g,b,S);Bu(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,g!==null&&g.tag===6?(r(y,g.sibling),g=a(g,b),g.return=y,y=g):(r(y,g),g=Tp(b,y.mode,S),g.return=y,y=g),i(y)):r(y,g)}return x}var vs=cS(!0),uS=cS(!1),$f=zo(null),Df=null,es=null,ly=null;function cy(){ly=es=Df=null}function uy(e){var t=$f.current;zt($f),e._currentValue=t}function H0(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function us(e,t){Df=e,ly=es=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Pn=!0),e.firstContext=null)}function ia(e){var t=e._currentValue;if(ly!==e)if(e={context:e,memoizedValue:t,next:null},es===null){if(Df===null)throw Error(ae(308));es=e,Df.dependencies={lanes:0,firstContext:e}}else es=es.next=e;return t}var si=null;function fy(e){si===null?si=[e]:si.push(e)}function fS(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,fy(t)):(r.next=a.next,a.next=r),t.interleaved=r,no(e,n)}function no(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var vo=!1;function dy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function qa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Eo(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,at&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,no(e,r)}return a=n.interleaved,a===null?(t.next=t,fy(n)):(t.next=a.next,a.next=t),n.interleaved=t,no(e,r)}function hf(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Zm(e,r)}}function Ox(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?a=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?a=o=t:o=o.next=t}else a=o=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Rf(e,t,r,n){var a=e.updateQueue;vo=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,s=a.shared.pending;if(s!==null){a.shared.pending=null;var l=s,c=l.next;l.next=null,i===null?o=c:i.next=c,i=l;var f=e.alternate;f!==null&&(f=f.updateQueue,s=f.lastBaseUpdate,s!==i&&(s===null?f.firstBaseUpdate=c:s.next=c,f.lastBaseUpdate=l))}if(o!==null){var d=a.baseState;i=0,f=c=l=null,s=o;do{var h=s.lane,p=s.eventTime;if((n&h)===h){f!==null&&(f=f.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,v=s;switch(h=t,p=r,v.tag){case 1:if(m=v.payload,typeof m=="function"){d=m.call(p,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,h=typeof m=="function"?m.call(p,d,h):m,h==null)break e;d=nr({},d,h);break e;case 2:vo=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},f===null?(c=f=p,l=d):f=f.next=p,i|=h;if(s=s.next,s===null){if(s=a.shared.pending,s===null)break;h=s,s=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(f===null&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=f,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);Si|=i,e.lanes=i,e.memoizedState=d}}function Px(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ae(191,a));a.call(n)}}}var su={},Da=zo(su),gc=zo(su),mc=zo(su);function li(e){if(e===su)throw Error(ae(174));return e}function hy(e,t){switch($t(mc,t),$t(gc,e),$t(Da,su),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:O0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=O0(t,e)}zt(Da),$t(Da,t)}function xs(){zt(Da),zt(gc),zt(mc)}function hS(e){li(mc.current);var t=li(Da.current),r=O0(t,e.type);t!==r&&($t(gc,e),$t(Da,r))}function py(e){gc.current===e&&(zt(Da),zt(gc))}var tr=zo(0);function Lf(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var _p=[];function gy(){for(var e=0;e<_p.length;e++)_p[e]._workInProgressVersionPrimary=null;_p.length=0}var pf=lo.ReactCurrentDispatcher,Np=lo.ReactCurrentBatchConfig,ki=0,rr=null,Pr=null,Dr=null,If=!1,Vl=!1,yc=0,WA=0;function Jr(){throw Error(ae(321))}function my(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ka(e[r],t[r]))return!1;return!0}function yy(e,t,r,n,a,o){if(ki=o,rr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pf.current=e===null||e.memoizedState===null?XA:KA,e=r(n,a),Vl){o=0;do{if(Vl=!1,yc=0,25<=o)throw Error(ae(301));o+=1,Dr=Pr=null,t.updateQueue=null,pf.current=YA,e=r(n,a)}while(Vl)}if(pf.current=Bf,t=Pr!==null&&Pr.next!==null,ki=0,Dr=Pr=rr=null,If=!1,t)throw Error(ae(300));return e}function vy(){var e=yc!==0;return yc=0,e}function Ma(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dr===null?rr.memoizedState=Dr=e:Dr=Dr.next=e,Dr}function sa(){if(Pr===null){var e=rr.alternate;e=e!==null?e.memoizedState:null}else e=Pr.next;var t=Dr===null?rr.memoizedState:Dr.next;if(t!==null)Dr=t,Pr=e;else{if(e===null)throw Error(ae(310));Pr=e,e={memoizedState:Pr.memoizedState,baseState:Pr.baseState,baseQueue:Pr.baseQueue,queue:Pr.queue,next:null},Dr===null?rr.memoizedState=Dr=e:Dr=Dr.next=e}return Dr}function vc(e,t){return typeof t=="function"?t(e):t}function Ap(e){var t=sa(),r=t.queue;if(r===null)throw Error(ae(311));r.lastRenderedReducer=e;var n=Pr,a=n.baseQueue,o=r.pending;if(o!==null){if(a!==null){var i=a.next;a.next=o.next,o.next=i}n.baseQueue=a=o,r.pending=null}if(a!==null){o=a.next,n=n.baseState;var s=i=null,l=null,c=o;do{var f=c.lane;if((ki&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=d,i=n):l=l.next=d,rr.lanes|=f,Si|=f}c=c.next}while(c!==null&&c!==o);l===null?i=n:l.next=s,ka(n,t.memoizedState)||(Pn=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do o=a.lane,rr.lanes|=o,Si|=o,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Mp(e){var t=sa(),r=t.queue;if(r===null)throw Error(ae(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,o=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do o=e(o,i.action),i=i.next;while(i!==a);ka(o,t.memoizedState)||(Pn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function pS(){}function gS(e,t){var r=rr,n=sa(),a=t(),o=!ka(n.memoizedState,a);if(o&&(n.memoizedState=a,Pn=!0),n=n.queue,xy(vS.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Dr!==null&&Dr.memoizedState.tag&1){if(r.flags|=2048,xc(9,yS.bind(null,r,n,a,t),void 0,null),Rr===null)throw Error(ae(349));ki&30||mS(r,t,a)}return a}function mS(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=rr.updateQueue,t===null?(t={lastEffect:null,stores:null},rr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function yS(e,t,r,n){t.value=r,t.getSnapshot=n,xS(t)&&bS(e)}function vS(e,t,r){return r(function(){xS(t)&&bS(e)})}function xS(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ka(e,r)}catch{return!0}}function bS(e){var t=no(e,1);t!==null&&wa(t,e,1,-1)}function _x(e){var t=Ma();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vc,lastRenderedState:e},t.queue=e,e=e.dispatch=VA.bind(null,rr,e),[t.memoizedState,e]}function xc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=rr.updateQueue,t===null?(t={lastEffect:null,stores:null},rr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function wS(){return sa().memoizedState}function gf(e,t,r,n){var a=Ma();rr.flags|=e,a.memoizedState=xc(1|t,r,void 0,n===void 0?null:n)}function rh(e,t,r,n){var a=sa();n=n===void 0?null:n;var o=void 0;if(Pr!==null){var i=Pr.memoizedState;if(o=i.destroy,n!==null&&my(n,i.deps)){a.memoizedState=xc(t,r,o,n);return}}rr.flags|=e,a.memoizedState=xc(1|t,r,o,n)}function Nx(e,t){return gf(8390656,8,e,t)}function xy(e,t){return rh(2048,8,e,t)}function kS(e,t){return rh(4,2,e,t)}function SS(e,t){return rh(4,4,e,t)}function jS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function OS(e,t,r){return r=r!=null?r.concat([e]):null,rh(4,4,jS.bind(null,t,e),r)}function by(){}function PS(e,t){var r=sa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&my(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function _S(e,t){var r=sa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&my(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function NS(e,t,r){return ki&21?(ka(r,t)||(r=Tk(),rr.lanes|=r,Si|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Pn=!0),e.memoizedState=r)}function GA(e,t){var r=xt;xt=r!==0&&4>r?r:4,e(!0);var n=Np.transition;Np.transition={};try{e(!1),t()}finally{xt=r,Np.transition=n}}function AS(){return sa().memoizedState}function HA(e,t,r){var n=$o(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},MS(e))CS(t,r);else if(r=fS(e,t,r,n),r!==null){var a=vn();wa(r,e,n,a),ES(r,t,n)}}function VA(e,t,r){var n=$o(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(MS(e))CS(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,s=o(i,r);if(a.hasEagerState=!0,a.eagerState=s,ka(s,i)){var l=t.interleaved;l===null?(a.next=a,fy(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=fS(e,t,a,n),r!==null&&(a=vn(),wa(r,e,n,a),ES(r,t,n))}}function MS(e){var t=e.alternate;return e===rr||t!==null&&t===rr}function CS(e,t){Vl=If=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function ES(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Zm(e,r)}}var Bf={readContext:ia,useCallback:Jr,useContext:Jr,useEffect:Jr,useImperativeHandle:Jr,useInsertionEffect:Jr,useLayoutEffect:Jr,useMemo:Jr,useReducer:Jr,useRef:Jr,useState:Jr,useDebugValue:Jr,useDeferredValue:Jr,useTransition:Jr,useMutableSource:Jr,useSyncExternalStore:Jr,useId:Jr,unstable_isNewReconciler:!1},XA={readContext:ia,useCallback:function(e,t){return Ma().memoizedState=[e,t===void 0?null:t],e},useContext:ia,useEffect:Nx,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,gf(4194308,4,jS.bind(null,t,e),r)},useLayoutEffect:function(e,t){return gf(4194308,4,e,t)},useInsertionEffect:function(e,t){return gf(4,2,e,t)},useMemo:function(e,t){var r=Ma();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ma();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=HA.bind(null,rr,e),[n.memoizedState,e]},useRef:function(e){var t=Ma();return e={current:e},t.memoizedState=e},useState:_x,useDebugValue:by,useDeferredValue:function(e){return Ma().memoizedState=e},useTransition:function(){var e=_x(!1),t=e[0];return e=GA.bind(null,e[1]),Ma().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=rr,a=Ma();if(Kt){if(r===void 0)throw Error(ae(407));r=r()}else{if(r=t(),Rr===null)throw Error(ae(349));ki&30||mS(n,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,Nx(vS.bind(null,n,o,e),[e]),n.flags|=2048,xc(9,yS.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Ma(),t=Rr.identifierPrefix;if(Kt){var r=Va,n=Ha;r=(n&~(1<<32-ba(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=yc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=WA++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},KA={readContext:ia,useCallback:PS,useContext:ia,useEffect:xy,useImperativeHandle:OS,useInsertionEffect:kS,useLayoutEffect:SS,useMemo:_S,useReducer:Ap,useRef:wS,useState:function(){return Ap(vc)},useDebugValue:by,useDeferredValue:function(e){var t=sa();return NS(t,Pr.memoizedState,e)},useTransition:function(){var e=Ap(vc)[0],t=sa().memoizedState;return[e,t]},useMutableSource:pS,useSyncExternalStore:gS,useId:AS,unstable_isNewReconciler:!1},YA={readContext:ia,useCallback:PS,useContext:ia,useEffect:xy,useImperativeHandle:OS,useInsertionEffect:kS,useLayoutEffect:SS,useMemo:_S,useReducer:Mp,useRef:wS,useState:function(){return Mp(vc)},useDebugValue:by,useDeferredValue:function(e){var t=sa();return Pr===null?t.memoizedState=e:NS(t,Pr.memoizedState,e)},useTransition:function(){var e=Mp(vc)[0],t=sa().memoizedState;return[e,t]},useMutableSource:pS,useSyncExternalStore:gS,useId:AS,unstable_isNewReconciler:!1};function ha(e,t){if(e&&e.defaultProps){t=nr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function V0(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:nr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var nh={isMounted:function(e){return(e=e._reactInternals)?Ti(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=vn(),a=$o(e),o=qa(n,a);o.payload=t,r!=null&&(o.callback=r),t=Eo(e,o,a),t!==null&&(wa(t,e,a,n),hf(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=vn(),a=$o(e),o=qa(n,a);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Eo(e,o,a),t!==null&&(wa(t,e,a,n),hf(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=vn(),n=$o(e),a=qa(r,n);a.tag=2,t!=null&&(a.callback=t),t=Eo(e,a,n),t!==null&&(wa(t,e,n,r),hf(t,e,n))}};function Ax(e,t,r,n,a,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!fc(r,n)||!fc(a,o):!0}function TS(e,t,r){var n=!1,a=Bo,o=t.contextType;return typeof o=="object"&&o!==null?o=ia(o):(a=An(t)?bi:sn.current,n=t.contextTypes,o=(n=n!=null)?ms(e,a):Bo),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=nh,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function Mx(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&nh.enqueueReplaceState(t,t.state,null)}function X0(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},dy(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=ia(o):(o=An(t)?bi:sn.current,a.context=ms(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(V0(e,t,o,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&nh.enqueueReplaceState(a,a.state,null),Rf(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function bs(e,t){try{var r="",n=t;do r+=SN(n),n=n.return;while(n);var a=r}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function Cp(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function K0(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var qA=typeof WeakMap=="function"?WeakMap:Map;function $S(e,t,r){r=qa(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){zf||(zf=!0,ag=n),K0(e,t)},r}function DS(e,t,r){r=qa(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){K0(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){K0(e,t),typeof n!="function"&&(To===null?To=new Set([this]):To.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Cx(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new qA;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=uM.bind(null,e,t,r),t.then(e,e))}function Ex(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Tx(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=qa(-1,1),t.tag=2,Eo(r,t,1))),r.lanes|=1),e)}var ZA=lo.ReactCurrentOwner,Pn=!1;function gn(e,t,r,n){t.child=e===null?uS(t,null,r,n):vs(t,e.child,r,n)}function $x(e,t,r,n,a){r=r.render;var o=t.ref;return us(t,a),n=yy(e,t,r,n,o,a),r=vy(),e!==null&&!Pn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ao(e,t,a)):(Kt&&r&&oy(t),t.flags|=1,gn(e,t,n,a),t.child)}function Dx(e,t,r,n,a){if(e===null){var o=r.type;return typeof o=="function"&&!Ny(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,RS(e,t,o,n,a)):(e=xf(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:fc,r(i,n)&&e.ref===t.ref)return ao(e,t,a)}return t.flags|=1,e=Do(o,n),e.ref=t.ref,e.return=t,t.child=e}function RS(e,t,r,n,a){if(e!==null){var o=e.memoizedProps;if(fc(o,n)&&e.ref===t.ref)if(Pn=!1,t.pendingProps=n=o,(e.lanes&a)!==0)e.flags&131072&&(Pn=!0);else return t.lanes=e.lanes,ao(e,t,a)}return Y0(e,t,r,n,a)}function LS(e,t,r){var n=t.pendingProps,a=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$t(rs,Bn),Bn|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$t(rs,Bn),Bn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,$t(rs,Bn),Bn|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,$t(rs,Bn),Bn|=n;return gn(e,t,a,r),t.child}function IS(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Y0(e,t,r,n,a){var o=An(r)?bi:sn.current;return o=ms(t,o),us(t,a),r=yy(e,t,r,n,o,a),n=vy(),e!==null&&!Pn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ao(e,t,a)):(Kt&&n&&oy(t),t.flags|=1,gn(e,t,r,a),t.child)}function Rx(e,t,r,n,a){if(An(r)){var o=!0;Cf(t)}else o=!1;if(us(t,a),t.stateNode===null)mf(e,t),TS(t,r,n),X0(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,s=t.memoizedProps;i.props=s;var l=i.context,c=r.contextType;typeof c=="object"&&c!==null?c=ia(c):(c=An(r)?bi:sn.current,c=ms(t,c));var f=r.getDerivedStateFromProps,d=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==n||l!==c)&&Mx(t,i,n,c),vo=!1;var h=t.memoizedState;i.state=h,Rf(t,n,i,a),l=t.memoizedState,s!==n||h!==l||Nn.current||vo?(typeof f=="function"&&(V0(t,r,f,n),l=t.memoizedState),(s=vo||Ax(t,r,s,n,h,l,c))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),i.props=n,i.state=l,i.context=c,n=s):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,dS(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ha(t.type,s),i.props=c,d=t.pendingProps,h=i.context,l=r.contextType,typeof l=="object"&&l!==null?l=ia(l):(l=An(r)?bi:sn.current,l=ms(t,l));var p=r.getDerivedStateFromProps;(f=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==d||h!==l)&&Mx(t,i,n,l),vo=!1,h=t.memoizedState,i.state=h,Rf(t,n,i,a);var m=t.memoizedState;s!==d||h!==m||Nn.current||vo?(typeof p=="function"&&(V0(t,r,p,n),m=t.memoizedState),(c=vo||Ax(t,r,c,n,h,m,l)||!1)?(f||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,m,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,m,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),i.props=n,i.state=m,i.context=l,n=c):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return q0(e,t,r,n,o,a)}function q0(e,t,r,n,a,o){IS(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&wx(t,r,!1),ao(e,t,o);n=t.stateNode,ZA.current=t;var s=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=vs(t,e.child,null,o),t.child=vs(t,null,s,o)):gn(e,t,s,o),t.memoizedState=n.state,a&&wx(t,r,!0),t.child}function BS(e){var t=e.stateNode;t.pendingContext?bx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&bx(e,t.context,!1),hy(e,t.containerInfo)}function Lx(e,t,r,n,a){return ys(),sy(a),t.flags|=256,gn(e,t,r,n),t.child}var Z0={dehydrated:null,treeContext:null,retryLane:0};function Q0(e){return{baseLanes:e,cachePool:null,transitions:null}}function FS(e,t,r){var n=t.pendingProps,a=tr.current,o=!1,i=(t.flags&128)!==0,s;if((s=i)||(s=e!==null&&e.memoizedState===null?!1:(a&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),$t(tr,a&1),e===null)return G0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=ih(i,n,0,null),e=mi(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Q0(r),t.memoizedState=Z0,e):wy(t,i));if(a=e.memoizedState,a!==null&&(s=a.dehydrated,s!==null))return QA(e,t,i,n,s,a,r);if(o){o=n.fallback,i=t.mode,a=e.child,s=a.sibling;var l={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Do(a,l),n.subtreeFlags=a.subtreeFlags&14680064),s!==null?o=Do(s,o):(o=mi(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?Q0(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=Z0,n}return o=e.child,e=o.sibling,n=Do(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function wy(e,t){return t=ih({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Fu(e,t,r,n){return n!==null&&sy(n),vs(t,e.child,null,r),e=wy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function QA(e,t,r,n,a,o,i){if(r)return t.flags&256?(t.flags&=-257,n=Cp(Error(ae(422))),Fu(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,a=t.mode,n=ih({mode:"visible",children:n.children},a,0,null),o=mi(o,a,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&vs(t,e.child,null,i),t.child.memoizedState=Q0(i),t.memoizedState=Z0,o);if(!(t.mode&1))return Fu(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var s=n.dgst;return n=s,o=Error(ae(419)),n=Cp(o,n,void 0),Fu(e,t,i,n)}if(s=(i&e.childLanes)!==0,Pn||s){if(n=Rr,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,no(e,a),wa(n,e,a,-1))}return _y(),n=Cp(Error(ae(421))),Fu(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=fM.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,Un=Co(a.nextSibling),Wn=t,Kt=!0,ya=null,e!==null&&(Jn[ea++]=Ha,Jn[ea++]=Va,Jn[ea++]=wi,Ha=e.id,Va=e.overflow,wi=t),t=wy(t,n.children),t.flags|=4096,t)}function Ix(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),H0(e.return,t,r)}function Ep(e,t,r,n,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=a)}function zS(e,t,r){var n=t.pendingProps,a=n.revealOrder,o=n.tail;if(gn(e,t,n.children,r),n=tr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ix(e,r,t);else if(e.tag===19)Ix(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if($t(tr,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Lf(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Ep(t,!1,a,r,o);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Lf(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Ep(t,!0,r,null,o);break;case"together":Ep(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function mf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ao(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Si|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ae(153));if(t.child!==null){for(e=t.child,r=Do(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Do(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function JA(e,t,r){switch(t.tag){case 3:BS(t),ys();break;case 5:hS(t);break;case 1:An(t.type)&&Cf(t);break;case 4:hy(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;$t($f,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?($t(tr,tr.current&1),t.flags|=128,null):r&t.child.childLanes?FS(e,t,r):($t(tr,tr.current&1),e=ao(e,t,r),e!==null?e.sibling:null);$t(tr,tr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return zS(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),$t(tr,tr.current),n)break;return null;case 22:case 23:return t.lanes=0,LS(e,t,r)}return ao(e,t,r)}var US,J0,WS,GS;US=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};J0=function(){};WS=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,li(Da.current);var o=null;switch(r){case"input":a=w0(e,a),n=w0(e,n),o=[];break;case"select":a=nr({},a,{value:void 0}),n=nr({},n,{value:void 0}),o=[];break;case"textarea":a=j0(e,a),n=j0(e,n),o=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Af)}P0(r,n);var i;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var s=a[c];for(i in s)s.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ac.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in n){var l=n[c];if(s=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(i in s)!s.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in l)l.hasOwnProperty(i)&&s[i]!==l[i]&&(r||(r={}),r[i]=l[i])}else r||(o||(o=[]),o.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ac.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&It("scroll",e),o||s===l||(o=[])):(o=o||[]).push(c,l))}r&&(o=o||[]).push("style",r);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};GS=function(e,t,r,n){r!==n&&(t.flags|=4)};function jl(e,t){if(!Kt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function en(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function eM(e,t,r){var n=t.pendingProps;switch(iy(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(t),null;case 1:return An(t.type)&&Mf(),en(t),null;case 3:return n=t.stateNode,xs(),zt(Nn),zt(sn),gy(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Iu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ya!==null&&(sg(ya),ya=null))),J0(e,t),en(t),null;case 5:py(t);var a=li(mc.current);if(r=t.type,e!==null&&t.stateNode!=null)WS(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ae(166));return en(t),null}if(e=li(Da.current),Iu(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Ca]=t,n[pc]=o,e=(t.mode&1)!==0,r){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(a=0;a<Bl.length;a++)It(Bl[a],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":Xv(n,o),It("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},It("invalid",n);break;case"textarea":Yv(n,o),It("invalid",n)}P0(r,o),a=null;for(var i in o)if(o.hasOwnProperty(i)){var s=o[i];i==="children"?typeof s=="string"?n.textContent!==s&&(o.suppressHydrationWarning!==!0&&Lu(n.textContent,s,e),a=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Lu(n.textContent,s,e),a=["children",""+s]):ac.hasOwnProperty(i)&&s!=null&&i==="onScroll"&&It("scroll",n)}switch(r){case"input":Au(n),Kv(n,o,!0);break;case"textarea":Au(n),qv(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Af)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=vk(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Ca]=t,e[pc]=n,US(e,t,!1,!1),t.stateNode=e;e:{switch(i=_0(r,n),r){case"dialog":It("cancel",e),It("close",e),a=n;break;case"iframe":case"object":case"embed":It("load",e),a=n;break;case"video":case"audio":for(a=0;a<Bl.length;a++)It(Bl[a],e);a=n;break;case"source":It("error",e),a=n;break;case"img":case"image":case"link":It("error",e),It("load",e),a=n;break;case"details":It("toggle",e),a=n;break;case"input":Xv(e,n),a=w0(e,n),It("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=nr({},n,{value:void 0}),It("invalid",e);break;case"textarea":Yv(e,n),a=j0(e,n),It("invalid",e);break;default:a=n}P0(r,a),s=a;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?wk(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&xk(e,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&oc(e,l):typeof l=="number"&&oc(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ac.hasOwnProperty(o)?l!=null&&o==="onScroll"&&It("scroll",e):l!=null&&Hm(e,o,l,i))}switch(r){case"input":Au(e),Kv(e,n,!1);break;case"textarea":Au(e),qv(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Io(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?is(e,!!n.multiple,o,!1):n.defaultValue!=null&&is(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Af)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return en(t),null;case 6:if(e&&t.stateNode!=null)GS(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ae(166));if(r=li(mc.current),li(Da.current),Iu(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ca]=t,(o=n.nodeValue!==r)&&(e=Wn,e!==null))switch(e.tag){case 3:Lu(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Lu(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ca]=t,t.stateNode=n}return en(t),null;case 13:if(zt(tr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Kt&&Un!==null&&t.mode&1&&!(t.flags&128))lS(),ys(),t.flags|=98560,o=!1;else if(o=Iu(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(ae(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ae(317));o[Ca]=t}else ys(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;en(t),o=!1}else ya!==null&&(sg(ya),ya=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||tr.current&1?_r===0&&(_r=3):_y())),t.updateQueue!==null&&(t.flags|=4),en(t),null);case 4:return xs(),J0(e,t),e===null&&dc(t.stateNode.containerInfo),en(t),null;case 10:return uy(t.type._context),en(t),null;case 17:return An(t.type)&&Mf(),en(t),null;case 19:if(zt(tr),o=t.memoizedState,o===null)return en(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)jl(o,!1);else{if(_r!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Lf(e),i!==null){for(t.flags|=128,jl(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return $t(tr,tr.current&1|2),t.child}e=e.sibling}o.tail!==null&&gr()>ws&&(t.flags|=128,n=!0,jl(o,!1),t.lanes=4194304)}else{if(!n)if(e=Lf(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),jl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Kt)return en(t),null}else 2*gr()-o.renderingStartTime>ws&&r!==1073741824&&(t.flags|=128,n=!0,jl(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=gr(),t.sibling=null,r=tr.current,$t(tr,n?r&1|2:r&1),t):(en(t),null);case 22:case 23:return Py(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Bn&1073741824&&(en(t),t.subtreeFlags&6&&(t.flags|=8192)):en(t),null;case 24:return null;case 25:return null}throw Error(ae(156,t.tag))}function tM(e,t){switch(iy(t),t.tag){case 1:return An(t.type)&&Mf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xs(),zt(Nn),zt(sn),gy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return py(t),null;case 13:if(zt(tr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ae(340));ys()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return zt(tr),null;case 4:return xs(),null;case 10:return uy(t.type._context),null;case 22:case 23:return Py(),null;case 24:return null;default:return null}}var zu=!1,nn=!1,rM=typeof WeakSet=="function"?WeakSet:Set,me=null;function ts(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){cr(e,t,n)}else r.current=null}function eg(e,t,r){try{r()}catch(n){cr(e,t,n)}}var Bx=!1;function nM(e,t){if(L0=Pf,e=Yk(),ay(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,s=-1,l=-1,c=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==r||a!==0&&d.nodeType!==3||(s=i+a),d!==o||n!==0&&d.nodeType!==3||(l=i+n),d.nodeType===3&&(i+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===r&&++c===a&&(s=i),h===o&&++f===n&&(l=i),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(I0={focusedElem:e,selectionRange:r},Pf=!1,me=t;me!==null;)if(t=me,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,me=e;else for(;me!==null;){t=me;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,x=m.memoizedState,y=t.stateNode,g=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:ha(t.type,v),x);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(S){cr(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,me=e;break}me=t.return}return m=Bx,Bx=!1,m}function Xl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&eg(t,r,o)}a=a.next}while(a!==n)}}function ah(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function tg(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function HS(e){var t=e.alternate;t!==null&&(e.alternate=null,HS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ca],delete t[pc],delete t[z0],delete t[BA],delete t[FA])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function VS(e){return e.tag===5||e.tag===3||e.tag===4}function Fx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||VS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function rg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Af));else if(n!==4&&(e=e.child,e!==null))for(rg(e,t,r),e=e.sibling;e!==null;)rg(e,t,r),e=e.sibling}function ng(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(ng(e,t,r),e=e.sibling;e!==null;)ng(e,t,r),e=e.sibling}var Ur=null,pa=!1;function go(e,t,r){for(r=r.child;r!==null;)XS(e,t,r),r=r.sibling}function XS(e,t,r){if($a&&typeof $a.onCommitFiberUnmount=="function")try{$a.onCommitFiberUnmount(qd,r)}catch{}switch(r.tag){case 5:nn||ts(r,t);case 6:var n=Ur,a=pa;Ur=null,go(e,t,r),Ur=n,pa=a,Ur!==null&&(pa?(e=Ur,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ur.removeChild(r.stateNode));break;case 18:Ur!==null&&(pa?(e=Ur,r=r.stateNode,e.nodeType===8?Op(e.parentNode,r):e.nodeType===1&&Op(e,r),cc(e)):Op(Ur,r.stateNode));break;case 4:n=Ur,a=pa,Ur=r.stateNode.containerInfo,pa=!0,go(e,t,r),Ur=n,pa=a;break;case 0:case 11:case 14:case 15:if(!nn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var o=a,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&eg(r,t,i),a=a.next}while(a!==n)}go(e,t,r);break;case 1:if(!nn&&(ts(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){cr(r,t,s)}go(e,t,r);break;case 21:go(e,t,r);break;case 22:r.mode&1?(nn=(n=nn)||r.memoizedState!==null,go(e,t,r),nn=n):go(e,t,r);break;default:go(e,t,r)}}function zx(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new rM),t.forEach(function(n){var a=dM.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function fa(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var o=e,i=t,s=i;e:for(;s!==null;){switch(s.tag){case 5:Ur=s.stateNode,pa=!1;break e;case 3:Ur=s.stateNode.containerInfo,pa=!0;break e;case 4:Ur=s.stateNode.containerInfo,pa=!0;break e}s=s.return}if(Ur===null)throw Error(ae(160));XS(o,i,a),Ur=null,pa=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){cr(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)KS(t,e),t=t.sibling}function KS(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fa(t,e),Aa(e),n&4){try{Xl(3,e,e.return),ah(3,e)}catch(v){cr(e,e.return,v)}try{Xl(5,e,e.return)}catch(v){cr(e,e.return,v)}}break;case 1:fa(t,e),Aa(e),n&512&&r!==null&&ts(r,r.return);break;case 5:if(fa(t,e),Aa(e),n&512&&r!==null&&ts(r,r.return),e.flags&32){var a=e.stateNode;try{oc(a,"")}catch(v){cr(e,e.return,v)}}if(n&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&mk(a,o),_0(s,i);var c=_0(s,o);for(i=0;i<l.length;i+=2){var f=l[i],d=l[i+1];f==="style"?wk(a,d):f==="dangerouslySetInnerHTML"?xk(a,d):f==="children"?oc(a,d):Hm(a,f,d,c)}switch(s){case"input":k0(a,o);break;case"textarea":yk(a,o);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?is(a,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?is(a,!!o.multiple,o.defaultValue,!0):is(a,!!o.multiple,o.multiple?[]:"",!1))}a[pc]=o}catch(v){cr(e,e.return,v)}}break;case 6:if(fa(t,e),Aa(e),n&4){if(e.stateNode===null)throw Error(ae(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(v){cr(e,e.return,v)}}break;case 3:if(fa(t,e),Aa(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{cc(t.containerInfo)}catch(v){cr(e,e.return,v)}break;case 4:fa(t,e),Aa(e);break;case 13:fa(t,e),Aa(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(jy=gr())),n&4&&zx(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(nn=(c=nn)||f,fa(t,e),nn=c):fa(t,e),Aa(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!f&&e.mode&1)for(me=e,f=e.child;f!==null;){for(d=me=f;me!==null;){switch(h=me,p=h.child,h.tag){case 0:case 11:case 14:case 15:Xl(4,h,h.return);break;case 1:ts(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){cr(n,r,v)}}break;case 5:ts(h,h.return);break;case 22:if(h.memoizedState!==null){Wx(d);continue}}p!==null?(p.return=h,me=p):Wx(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{a=d.stateNode,c?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=d.stateNode,l=d.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=bk("display",i))}catch(v){cr(e,e.return,v)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){cr(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:fa(t,e),Aa(e),n&4&&zx(e);break;case 21:break;default:fa(t,e),Aa(e)}}function Aa(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(VS(r)){var n=r;break e}r=r.return}throw Error(ae(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(oc(a,""),n.flags&=-33);var o=Fx(e);ng(e,o,a);break;case 3:case 4:var i=n.stateNode.containerInfo,s=Fx(e);rg(e,s,i);break;default:throw Error(ae(161))}}catch(l){cr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function aM(e,t,r){me=e,YS(e)}function YS(e,t,r){for(var n=(e.mode&1)!==0;me!==null;){var a=me,o=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||zu;if(!i){var s=a.alternate,l=s!==null&&s.memoizedState!==null||nn;s=zu;var c=nn;if(zu=i,(nn=l)&&!c)for(me=a;me!==null;)i=me,l=i.child,i.tag===22&&i.memoizedState!==null?Gx(a):l!==null?(l.return=i,me=l):Gx(a);for(;o!==null;)me=o,YS(o),o=o.sibling;me=a,zu=s,nn=c}Ux(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,me=o):Ux(e)}}function Ux(e){for(;me!==null;){var t=me;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:nn||ah(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!nn)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:ha(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Px(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Px(t,i,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&cc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}nn||t.flags&512&&tg(t)}catch(h){cr(t,t.return,h)}}if(t===e){me=null;break}if(r=t.sibling,r!==null){r.return=t.return,me=r;break}me=t.return}}function Wx(e){for(;me!==null;){var t=me;if(t===e){me=null;break}var r=t.sibling;if(r!==null){r.return=t.return,me=r;break}me=t.return}}function Gx(e){for(;me!==null;){var t=me;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ah(4,t)}catch(l){cr(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){cr(t,a,l)}}var o=t.return;try{tg(t)}catch(l){cr(t,o,l)}break;case 5:var i=t.return;try{tg(t)}catch(l){cr(t,i,l)}}}catch(l){cr(t,t.return,l)}if(t===e){me=null;break}var s=t.sibling;if(s!==null){s.return=t.return,me=s;break}me=t.return}}var oM=Math.ceil,Ff=lo.ReactCurrentDispatcher,ky=lo.ReactCurrentOwner,aa=lo.ReactCurrentBatchConfig,at=0,Rr=null,wr=null,Hr=0,Bn=0,rs=zo(0),_r=0,bc=null,Si=0,oh=0,Sy=0,Kl=null,On=null,jy=0,ws=1/0,Wa=null,zf=!1,ag=null,To=null,Uu=!1,jo=null,Uf=0,Yl=0,og=null,yf=-1,vf=0;function vn(){return at&6?gr():yf!==-1?yf:yf=gr()}function $o(e){return e.mode&1?at&2&&Hr!==0?Hr&-Hr:UA.transition!==null?(vf===0&&(vf=Tk()),vf):(e=xt,e!==0||(e=window.event,e=e===void 0?16:Fk(e.type)),e):1}function wa(e,t,r,n){if(50<Yl)throw Yl=0,og=null,Error(ae(185));au(e,r,n),(!(at&2)||e!==Rr)&&(e===Rr&&(!(at&2)&&(oh|=r),_r===4&&wo(e,Hr)),Mn(e,n),r===1&&at===0&&!(t.mode&1)&&(ws=gr()+500,th&&Uo()))}function Mn(e,t){var r=e.callbackNode;UN(e,t);var n=Of(e,e===Rr?Hr:0);if(n===0)r!==null&&Jv(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Jv(r),t===1)e.tag===0?zA(Hx.bind(null,e)):oS(Hx.bind(null,e)),LA(function(){!(at&6)&&Uo()}),r=null;else{switch($k(n)){case 1:r=qm;break;case 4:r=Ck;break;case 16:r=jf;break;case 536870912:r=Ek;break;default:r=jf}r=nj(r,qS.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function qS(e,t){if(yf=-1,vf=0,at&6)throw Error(ae(327));var r=e.callbackNode;if(fs()&&e.callbackNode!==r)return null;var n=Of(e,e===Rr?Hr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Wf(e,n);else{t=n;var a=at;at|=2;var o=QS();(Rr!==e||Hr!==t)&&(Wa=null,ws=gr()+500,gi(e,t));do try{lM();break}catch(s){ZS(e,s)}while(!0);cy(),Ff.current=o,at=a,wr!==null?t=0:(Rr=null,Hr=0,t=_r)}if(t!==0){if(t===2&&(a=E0(e),a!==0&&(n=a,t=ig(e,a))),t===1)throw r=bc,gi(e,0),wo(e,n),Mn(e,gr()),r;if(t===6)wo(e,n);else{if(a=e.current.alternate,!(n&30)&&!iM(a)&&(t=Wf(e,n),t===2&&(o=E0(e),o!==0&&(n=o,t=ig(e,o))),t===1))throw r=bc,gi(e,0),wo(e,n),Mn(e,gr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(ae(345));case 2:ri(e,On,Wa);break;case 3:if(wo(e,n),(n&130023424)===n&&(t=jy+500-gr(),10<t)){if(Of(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){vn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=F0(ri.bind(null,e,On,Wa),t);break}ri(e,On,Wa);break;case 4:if(wo(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-ba(n);o=1<<i,i=t[i],i>a&&(a=i),n&=~o}if(n=a,n=gr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*oM(n/1960))-n,10<n){e.timeoutHandle=F0(ri.bind(null,e,On,Wa),n);break}ri(e,On,Wa);break;case 5:ri(e,On,Wa);break;default:throw Error(ae(329))}}}return Mn(e,gr()),e.callbackNode===r?qS.bind(null,e):null}function ig(e,t){var r=Kl;return e.current.memoizedState.isDehydrated&&(gi(e,t).flags|=256),e=Wf(e,t),e!==2&&(t=On,On=r,t!==null&&sg(t)),e}function sg(e){On===null?On=e:On.push.apply(On,e)}function iM(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],o=a.getSnapshot;a=a.value;try{if(!ka(o(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wo(e,t){for(t&=~Sy,t&=~oh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ba(t),n=1<<r;e[r]=-1,t&=~n}}function Hx(e){if(at&6)throw Error(ae(327));fs();var t=Of(e,0);if(!(t&1))return Mn(e,gr()),null;var r=Wf(e,t);if(e.tag!==0&&r===2){var n=E0(e);n!==0&&(t=n,r=ig(e,n))}if(r===1)throw r=bc,gi(e,0),wo(e,t),Mn(e,gr()),r;if(r===6)throw Error(ae(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ri(e,On,Wa),Mn(e,gr()),null}function Oy(e,t){var r=at;at|=1;try{return e(t)}finally{at=r,at===0&&(ws=gr()+500,th&&Uo())}}function ji(e){jo!==null&&jo.tag===0&&!(at&6)&&fs();var t=at;at|=1;var r=aa.transition,n=xt;try{if(aa.transition=null,xt=1,e)return e()}finally{xt=n,aa.transition=r,at=t,!(at&6)&&Uo()}}function Py(){Bn=rs.current,zt(rs)}function gi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,RA(r)),wr!==null)for(r=wr.return;r!==null;){var n=r;switch(iy(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Mf();break;case 3:xs(),zt(Nn),zt(sn),gy();break;case 5:py(n);break;case 4:xs();break;case 13:zt(tr);break;case 19:zt(tr);break;case 10:uy(n.type._context);break;case 22:case 23:Py()}r=r.return}if(Rr=e,wr=e=Do(e.current,null),Hr=Bn=t,_r=0,bc=null,Sy=oh=Si=0,On=Kl=null,si!==null){for(t=0;t<si.length;t++)if(r=si[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=a,n.next=i}r.pending=n}si=null}return e}function ZS(e,t){do{var r=wr;try{if(cy(),pf.current=Bf,If){for(var n=rr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}If=!1}if(ki=0,Dr=Pr=rr=null,Vl=!1,yc=0,ky.current=null,r===null||r.return===null){_r=1,bc=t,wr=null;break}e:{var o=e,i=r.return,s=r,l=t;if(t=Hr,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,f=s,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=Ex(i);if(p!==null){p.flags&=-257,Tx(p,i,s,o,t),p.mode&1&&Cx(o,c,t),t=p,l=c;var m=t.updateQueue;if(m===null){var v=new Set;v.add(l),t.updateQueue=v}else m.add(l);break e}else{if(!(t&1)){Cx(o,c,t),_y();break e}l=Error(ae(426))}}else if(Kt&&s.mode&1){var x=Ex(i);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Tx(x,i,s,o,t),sy(bs(l,s));break e}}o=l=bs(l,s),_r!==4&&(_r=2),Kl===null?Kl=[o]:Kl.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=$S(o,l,t);Ox(o,y);break e;case 1:s=l;var g=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(To===null||!To.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=DS(o,s,t);Ox(o,S);break e}}o=o.return}while(o!==null)}ej(r)}catch(w){t=w,wr===r&&r!==null&&(wr=r=r.return);continue}break}while(!0)}function QS(){var e=Ff.current;return Ff.current=Bf,e===null?Bf:e}function _y(){(_r===0||_r===3||_r===2)&&(_r=4),Rr===null||!(Si&268435455)&&!(oh&268435455)||wo(Rr,Hr)}function Wf(e,t){var r=at;at|=2;var n=QS();(Rr!==e||Hr!==t)&&(Wa=null,gi(e,t));do try{sM();break}catch(a){ZS(e,a)}while(!0);if(cy(),at=r,Ff.current=n,wr!==null)throw Error(ae(261));return Rr=null,Hr=0,_r}function sM(){for(;wr!==null;)JS(wr)}function lM(){for(;wr!==null&&!TN();)JS(wr)}function JS(e){var t=rj(e.alternate,e,Bn);e.memoizedProps=e.pendingProps,t===null?ej(e):wr=t,ky.current=null}function ej(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=tM(r,t),r!==null){r.flags&=32767,wr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{_r=6,wr=null;return}}else if(r=eM(r,t,Bn),r!==null){wr=r;return}if(t=t.sibling,t!==null){wr=t;return}wr=t=e}while(t!==null);_r===0&&(_r=5)}function ri(e,t,r){var n=xt,a=aa.transition;try{aa.transition=null,xt=1,cM(e,t,r,n)}finally{aa.transition=a,xt=n}return null}function cM(e,t,r,n){do fs();while(jo!==null);if(at&6)throw Error(ae(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ae(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(WN(e,o),e===Rr&&(wr=Rr=null,Hr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Uu||(Uu=!0,nj(jf,function(){return fs(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=aa.transition,aa.transition=null;var i=xt;xt=1;var s=at;at|=4,ky.current=null,nM(e,r),KS(r,e),AA(I0),Pf=!!L0,I0=L0=null,e.current=r,aM(r),$N(),at=s,xt=i,aa.transition=o}else e.current=r;if(Uu&&(Uu=!1,jo=e,Uf=a),o=e.pendingLanes,o===0&&(To=null),LN(r.stateNode),Mn(e,gr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(zf)throw zf=!1,e=ag,ag=null,e;return Uf&1&&e.tag!==0&&fs(),o=e.pendingLanes,o&1?e===og?Yl++:(Yl=0,og=e):Yl=0,Uo(),null}function fs(){if(jo!==null){var e=$k(Uf),t=aa.transition,r=xt;try{if(aa.transition=null,xt=16>e?16:e,jo===null)var n=!1;else{if(e=jo,jo=null,Uf=0,at&6)throw Error(ae(331));var a=at;for(at|=4,me=e.current;me!==null;){var o=me,i=o.child;if(me.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(me=c;me!==null;){var f=me;switch(f.tag){case 0:case 11:case 15:Xl(8,f,o)}var d=f.child;if(d!==null)d.return=f,me=d;else for(;me!==null;){f=me;var h=f.sibling,p=f.return;if(HS(f),f===c){me=null;break}if(h!==null){h.return=p,me=h;break}me=p}}}var m=o.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}me=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,me=i;else e:for(;me!==null;){if(o=me,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Xl(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,me=y;break e}me=o.return}}var g=e.current;for(me=g;me!==null;){i=me;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,me=b;else e:for(i=g;me!==null;){if(s=me,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:ah(9,s)}}catch(w){cr(s,s.return,w)}if(s===i){me=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,me=S;break e}me=s.return}}if(at=a,Uo(),$a&&typeof $a.onPostCommitFiberRoot=="function")try{$a.onPostCommitFiberRoot(qd,e)}catch{}n=!0}return n}finally{xt=r,aa.transition=t}}return!1}function Vx(e,t,r){t=bs(r,t),t=$S(e,t,1),e=Eo(e,t,1),t=vn(),e!==null&&(au(e,1,t),Mn(e,t))}function cr(e,t,r){if(e.tag===3)Vx(e,e,r);else for(;t!==null;){if(t.tag===3){Vx(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(To===null||!To.has(n))){e=bs(r,e),e=DS(t,e,1),t=Eo(t,e,1),e=vn(),t!==null&&(au(t,1,e),Mn(t,e));break}}t=t.return}}function uM(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=vn(),e.pingedLanes|=e.suspendedLanes&r,Rr===e&&(Hr&r)===r&&(_r===4||_r===3&&(Hr&130023424)===Hr&&500>gr()-jy?gi(e,0):Sy|=r),Mn(e,t)}function tj(e,t){t===0&&(e.mode&1?(t=Eu,Eu<<=1,!(Eu&130023424)&&(Eu=4194304)):t=1);var r=vn();e=no(e,t),e!==null&&(au(e,t,r),Mn(e,r))}function fM(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),tj(e,r)}function dM(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ae(314))}n!==null&&n.delete(t),tj(e,r)}var rj;rj=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Nn.current)Pn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Pn=!1,JA(e,t,r);Pn=!!(e.flags&131072)}else Pn=!1,Kt&&t.flags&1048576&&iS(t,Tf,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;mf(e,t),e=t.pendingProps;var a=ms(t,sn.current);us(t,r),a=yy(null,t,n,e,a,r);var o=vy();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,An(n)?(o=!0,Cf(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,dy(t),a.updater=nh,t.stateNode=a,a._reactInternals=t,X0(t,n,e,r),t=q0(null,t,n,!0,o,r)):(t.tag=0,Kt&&o&&oy(t),gn(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(mf(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=pM(n),e=ha(n,e),a){case 0:t=Y0(null,t,n,e,r);break e;case 1:t=Rx(null,t,n,e,r);break e;case 11:t=$x(null,t,n,e,r);break e;case 14:t=Dx(null,t,n,ha(n.type,e),r);break e}throw Error(ae(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ha(n,a),Y0(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ha(n,a),Rx(e,t,n,a,r);case 3:e:{if(BS(t),e===null)throw Error(ae(387));n=t.pendingProps,o=t.memoizedState,a=o.element,dS(e,t),Rf(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=bs(Error(ae(423)),t),t=Lx(e,t,n,r,a);break e}else if(n!==a){a=bs(Error(ae(424)),t),t=Lx(e,t,n,r,a);break e}else for(Un=Co(t.stateNode.containerInfo.firstChild),Wn=t,Kt=!0,ya=null,r=uS(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ys(),n===a){t=ao(e,t,r);break e}gn(e,t,n,r)}t=t.child}return t;case 5:return hS(t),e===null&&G0(t),n=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,i=a.children,B0(n,a)?i=null:o!==null&&B0(n,o)&&(t.flags|=32),IS(e,t),gn(e,t,i,r),t.child;case 6:return e===null&&G0(t),null;case 13:return FS(e,t,r);case 4:return hy(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=vs(t,null,n,r):gn(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ha(n,a),$x(e,t,n,a,r);case 7:return gn(e,t,t.pendingProps,r),t.child;case 8:return gn(e,t,t.pendingProps.children,r),t.child;case 12:return gn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,$t($f,n._currentValue),n._currentValue=i,o!==null)if(ka(o.value,i)){if(o.children===a.children&&!Nn.current){t=ao(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){i=o.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=qa(-1,r&-r),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),H0(o.return,r,t),s.lanes|=r;break}l=l.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(ae(341));i.lanes|=r,s=i.alternate,s!==null&&(s.lanes|=r),H0(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}gn(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,us(t,r),a=ia(a),n=n(a),t.flags|=1,gn(e,t,n,r),t.child;case 14:return n=t.type,a=ha(n,t.pendingProps),a=ha(n.type,a),Dx(e,t,n,a,r);case 15:return RS(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ha(n,a),mf(e,t),t.tag=1,An(n)?(e=!0,Cf(t)):e=!1,us(t,r),TS(t,n,a),X0(t,n,a,r),q0(null,t,n,!0,e,r);case 19:return zS(e,t,r);case 22:return LS(e,t,r)}throw Error(ae(156,t.tag))};function nj(e,t){return Mk(e,t)}function hM(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ta(e,t,r,n){return new hM(e,t,r,n)}function Ny(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pM(e){if(typeof e=="function")return Ny(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Xm)return 11;if(e===Km)return 14}return 2}function Do(e,t){var r=e.alternate;return r===null?(r=ta(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function xf(e,t,r,n,a,o){var i=2;if(n=e,typeof e=="function")Ny(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Vi:return mi(r.children,a,o,t);case Vm:i=8,a|=8;break;case y0:return e=ta(12,r,t,a|2),e.elementType=y0,e.lanes=o,e;case v0:return e=ta(13,r,t,a),e.elementType=v0,e.lanes=o,e;case x0:return e=ta(19,r,t,a),e.elementType=x0,e.lanes=o,e;case hk:return ih(r,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fk:i=10;break e;case dk:i=9;break e;case Xm:i=11;break e;case Km:i=14;break e;case yo:i=16,n=null;break e}throw Error(ae(130,e==null?e:typeof e,""))}return t=ta(i,r,t,a),t.elementType=e,t.type=n,t.lanes=o,t}function mi(e,t,r,n){return e=ta(7,e,n,t),e.lanes=r,e}function ih(e,t,r,n){return e=ta(22,e,n,t),e.elementType=hk,e.lanes=r,e.stateNode={isHidden:!1},e}function Tp(e,t,r){return e=ta(6,e,null,t),e.lanes=r,e}function $p(e,t,r){return t=ta(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function gM(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pp(0),this.expirationTimes=pp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pp(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Ay(e,t,r,n,a,o,i,s,l){return e=new gM(e,t,r,s,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=ta(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},dy(o),e}function mM(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function aj(e){if(!e)return Bo;e=e._reactInternals;e:{if(Ti(e)!==e||e.tag!==1)throw Error(ae(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(An(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ae(171))}if(e.tag===1){var r=e.type;if(An(r))return aS(e,r,t)}return t}function oj(e,t,r,n,a,o,i,s,l){return e=Ay(r,n,!0,e,a,o,i,s,l),e.context=aj(null),r=e.current,n=vn(),a=$o(r),o=qa(n,a),o.callback=t??null,Eo(r,o,a),e.current.lanes=a,au(e,a,n),Mn(e,n),e}function sh(e,t,r,n){var a=t.current,o=vn(),i=$o(a);return r=aj(r),t.context===null?t.context=r:t.pendingContext=r,t=qa(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Eo(a,t,i),e!==null&&(wa(e,a,i,o),hf(e,a,i)),i}function Gf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Xx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function My(e,t){Xx(e,t),(e=e.alternate)&&Xx(e,t)}function yM(){return null}var ij=typeof reportError=="function"?reportError:function(e){console.error(e)};function Cy(e){this._internalRoot=e}lh.prototype.render=Cy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ae(409));sh(e,t,null,null)};lh.prototype.unmount=Cy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ji(function(){sh(null,e,null,null)}),t[ro]=null}};function lh(e){this._internalRoot=e}lh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Lk();e={blockedOn:null,target:e,priority:t};for(var r=0;r<bo.length&&t!==0&&t<bo[r].priority;r++);bo.splice(r,0,e),r===0&&Bk(e)}};function Ey(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ch(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Kx(){}function vM(e,t,r,n,a){if(a){if(typeof n=="function"){var o=n;n=function(){var c=Gf(i);o.call(c)}}var i=oj(t,n,e,0,null,!1,!1,"",Kx);return e._reactRootContainer=i,e[ro]=i.current,dc(e.nodeType===8?e.parentNode:e),ji(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var s=n;n=function(){var c=Gf(l);s.call(c)}}var l=Ay(e,0,!1,null,null,!1,!1,"",Kx);return e._reactRootContainer=l,e[ro]=l.current,dc(e.nodeType===8?e.parentNode:e),ji(function(){sh(t,l,r,n)}),l}function uh(e,t,r,n,a){var o=r._reactRootContainer;if(o){var i=o;if(typeof a=="function"){var s=a;a=function(){var l=Gf(i);s.call(l)}}sh(t,i,e,a)}else i=vM(r,t,e,a,n);return Gf(i)}Dk=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Il(t.pendingLanes);r!==0&&(Zm(t,r|1),Mn(t,gr()),!(at&6)&&(ws=gr()+500,Uo()))}break;case 13:ji(function(){var n=no(e,1);if(n!==null){var a=vn();wa(n,e,1,a)}}),My(e,1)}};Qm=function(e){if(e.tag===13){var t=no(e,134217728);if(t!==null){var r=vn();wa(t,e,134217728,r)}My(e,134217728)}};Rk=function(e){if(e.tag===13){var t=$o(e),r=no(e,t);if(r!==null){var n=vn();wa(r,e,t,n)}My(e,t)}};Lk=function(){return xt};Ik=function(e,t){var r=xt;try{return xt=e,t()}finally{xt=r}};A0=function(e,t,r){switch(t){case"input":if(k0(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=eh(n);if(!a)throw Error(ae(90));gk(n),k0(n,a)}}}break;case"textarea":yk(e,r);break;case"select":t=r.value,t!=null&&is(e,!!r.multiple,t,!1)}};jk=Oy;Ok=ji;var xM={usingClientEntryPoint:!1,Events:[iu,qi,eh,kk,Sk,Oy]},Ol={findFiberByHostInstance:ii,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bM={bundleType:Ol.bundleType,version:Ol.version,rendererPackageName:Ol.rendererPackageName,rendererConfig:Ol.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:lo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Nk(e),e===null?null:e.stateNode},findFiberByHostInstance:Ol.findFiberByHostInstance||yM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wu.isDisabled&&Wu.supportsFiber)try{qd=Wu.inject(bM),$a=Wu}catch{}}Hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xM;Hn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ey(t))throw Error(ae(200));return mM(e,t,null,r)};Hn.createRoot=function(e,t){if(!Ey(e))throw Error(ae(299));var r=!1,n="",a=ij;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Ay(e,1,!1,null,null,r,!1,n,a),e[ro]=t.current,dc(e.nodeType===8?e.parentNode:e),new Cy(t)};Hn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ae(188)):(e=Object.keys(e).join(","),Error(ae(268,e)));return e=Nk(t),e=e===null?null:e.stateNode,e};Hn.flushSync=function(e){return ji(e)};Hn.hydrate=function(e,t,r){if(!ch(t))throw Error(ae(200));return uh(null,e,t,!0,r)};Hn.hydrateRoot=function(e,t,r){if(!Ey(e))throw Error(ae(405));var n=r!=null&&r.hydratedSources||null,a=!1,o="",i=ij;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=oj(t,null,e,1,r??null,a,!1,o,i),e[ro]=t.current,dc(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new lh(t)};Hn.render=function(e,t,r){if(!ch(t))throw Error(ae(200));return uh(null,e,t,!1,r)};Hn.unmountComponentAtNode=function(e){if(!ch(e))throw Error(ae(40));return e._reactRootContainer?(ji(function(){uh(null,null,e,!1,function(){e._reactRootContainer=null,e[ro]=null})}),!0):!1};Hn.unstable_batchedUpdates=Oy;Hn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ch(r))throw Error(ae(200));if(e==null||e._reactInternals===void 0)throw Error(ae(38));return uh(e,t,r,!1,n)};Hn.version="18.3.1-next-f1338f8080-20240426";function sj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sj)}catch(e){console.error(e)}}sj(),sk.exports=Hn;var wM=sk.exports,Yx=wM;g0.createRoot=Yx.createRoot,g0.hydrateRoot=Yx.hydrateRoot;const Ro=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,confirmText:o="I know the risk and insist to continue",cancelText:i="Cancel"})=>e?u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-2xl shadow-2xl border border-amber-500/30 overflow-hidden transform transition-all scale-100",children:[u.jsxs("div",{className:"bg-amber-500/10 p-6 flex flex-col items-center justify-center border-b border-amber-500/20",children:[u.jsx("div",{className:"w-16 h-16 bg-amber-100 dark:bg-amber-900/30 rounded-full flex items-center justify-center mb-4",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-amber-600 dark:text-amber-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),u.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white text-center",children:n})]}),u.jsx("div",{className:"p-6",children:u.jsx("div",{className:"text-gray-600 dark:text-slate-300 text-center text-sm leading-relaxed",children:a})}),u.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800/50 flex gap-3 justify-end border-t border-gray-200 dark:border-slate-800",children:[u.jsx("button",{onClick:t,className:"px-4 py-2 bg-white hover:bg-gray-100 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-700 dark:text-slate-200 font-semibold rounded-lg border border-gray-300 dark:border-slate-600 transition-colors text-sm",children:i}),u.jsx("button",{onClick:r,className:"px-4 py-2 bg-amber-600 hover:bg-amber-700 text-white font-bold rounded-lg shadow-lg shadow-amber-500/20 transition-all active:scale-95 text-sm",children:o})]})]})}):null,kM=({onFileSelected:e,onGenerateFakeDng:t,fileName:r,hasGeneratedData:n,viewMode:a,onSetViewMode:o,patternPeriod:i,onPatternPeriodChange:s,fillFactor:l,onFillFactorChange:c,patternPhase:f,onPatternPhaseChange:d,showPatternControls:h,onOpenAbout:p,onShowExif:m,bridgeStatus:v,onBridgeClick:x,isDrLabOpen:y,onToggleDrLab:g,isFftLabOpen:b,onToggleFftLab:S,onGenerateTestPic:w,onPTCFilesSelected:k,onDownloadDng:O,isThreePlane:P,onOpenDatabase:_})=>{const N=j.useRef(null),A=j.useRef(null),[E,B]=j.useState(!1),[z,$]=j.useState(!1),[U,I]=j.useState(!1),[L,D]=j.useState(!1),[G,ee]=j.useState("direct"),Q=j.useRef(null),q=j.useRef(null);j.useEffect(()=>{const K=ie=>{Q.current&&!Q.current.contains(ie.target)&&I(!1),q.current&&!q.current.contains(ie.target)&&D(!1)};return document.addEventListener("mousedown",K),()=>document.removeEventListener("mousedown",K)},[]);const X=K=>{var ie;I(!1),K==="direct"?(ee("direct"),B(!0)):!v.isConnected||!v.hasDngConverter?$(!0):(ee("convert"),(ie=N.current)==null||ie.click())},le=()=>{var K;B(!1),(K=N.current)==null||K.click()},ue=K=>{var ge;const ie=(ge=K.target.files)==null?void 0:ge[0];ie&&e(ie,G),K.target.value=""},Se=K=>{K.target.files&&K.target.files.length>0&&k(K.target.files),K.target.value=""},be=r==="pattern_test.dng"||(r==null?void 0:r.startsWith("Diff_"));return u.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-4 flex-shrink-0 relative z-50",children:[u.jsx(Ro,{isOpen:E,onClose:()=>B(!1),onConfirm:le,title:"Format Compatibility Warning",confirmText:"Continue",message:u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx("p",{className:"font-bold text-gray-800 dark:text-gray-200 text-base",children:"Adobe DNG ConverterDNG"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Only 4-channel DNG files output by Adobe DNG Converter are fully guaranteed to be supported."}),u.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700",children:[u.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-500 mb-1",children:"Download Adobe DNG Converter:"}),u.jsx("a",{href:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline text-xs break-all",children:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html"})]})]})}),u.jsx(Ro,{isOpen:z,onClose:()=>$(!1),onConfirm:()=>$(!1),title:"DNG Converter Missing",confirmText:"OK",cancelText:"Cancel",message:u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx("p",{className:"font-bold text-red-600 dark:text-red-400 text-base",children:"JiangBridge Offline or Adobe DNG Converter not installed (you may have to restart your device after installing ADC to use it here)"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"To use the conversion feature, you must run JiangBridge locally and have Adobe DNG Converter installed on your system."}),u.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700",children:[u.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-500 mb-1",children:"Download Adobe DNG Converter:"}),u.jsx("a",{href:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline text-xs break-all",children:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html"})]})]})}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-500 to-blue-600 dark:from-cyan-400 dark:to-blue-500 text-center sm:text-left",children:"Jiangtherapee Online"}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 hidden lg:block max-w-xs truncate",title:r||"No image loaded",children:r||"No image loaded"}),P&&u.jsx("span",{className:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400 border border-red-200 dark:border-red-800 text-[10px] font-bold px-2 py-1 rounded animate-pulse",children:" 3-PLANE / RGB MODE"})]}),u.jsxs("div",{className:"flex items-center gap-4 flex-wrap justify-end",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{onClick:v.isConnected?void 0:x,className:`px-3 py-1.5 rounded-full text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-sm border ${v.isConnected?"bg-emerald-100 text-emerald-700 border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-400 dark:border-emerald-800 cursor-default":"bg-pink-100 text-pink-600 border-pink-200 dark:bg-pink-900/30 dark:text-pink-400 dark:border-pink-800 hover:bg-pink-200 dark:hover:bg-pink-900/50 cursor-pointer animate-pulse"}`,title:v.isConnected?"Local Bridge Service Connected":"Click to download Jiangbridge",children:[u.jsx("span",{className:`w-2 h-2 rounded-full ${v.isConnected?"bg-emerald-500":"bg-pink-500"}`}),v.isConnected?`JiangBridge Ready ${v.hasDngConverter?"DNG+":""}`:"JiangBridge Offline"]}),y&&u.jsxs("button",{onClick:g,className:"px-3 py-1.5 rounded-full text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-sm border bg-indigo-100 text-indigo-700 border-indigo-200 dark:bg-indigo-900/30 dark:text-indigo-400 dark:border-indigo-800 hover:bg-indigo-200 dark:hover:bg-indigo-900/50 cursor-pointer animate-in fade-in",title:"Click to turn off DR Lab",children:[u.jsx("span",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-pulse"}),"DR Lab On"]}),b&&u.jsxs("button",{onClick:S,className:"px-3 py-1.5 rounded-full text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-sm border bg-fuchsia-100 text-fuchsia-700 border-fuchsia-200 dark:bg-fuchsia-900/30 dark:text-fuchsia-400 dark:border-fuchsia-800 hover:bg-fuchsia-200 dark:hover:bg-fuchsia-900/50 cursor-pointer animate-in fade-in",title:"Click to turn off FFT Lab",children:[u.jsx("span",{className:"w-2 h-2 rounded-full bg-fuchsia-500 animate-pulse"}),"FFT Lab On"]}),n&&u.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-800 rounded-lg p-1 border border-gray-200 dark:border-slate-600 shadow-inner transition-colors duration-300",children:[u.jsx("button",{onClick:()=>o("reference"),className:`px-3 py-1.5 rounded-md text-xs sm:text-sm font-bold transition-all duration-200 ${a==="reference"?"bg-green-500 dark:bg-green-600 text-white shadow-md":"text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,title:"The perfect uniform input",children:"Perfect"}),u.jsx("button",{onClick:()=>o("sampled"),className:`px-3 py-1.5 rounded-md text-xs sm:text-sm font-bold transition-all duration-200 ${a==="sampled"?"bg-blue-500 dark:bg-blue-600 text-white shadow-md":"text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,title:"Sampled Sensor View with Aperture Visualization",children:"Sampled (Sensor)"}),u.jsx("button",{onClick:()=>o("processed"),className:`px-3 py-1.5 rounded-md text-xs sm:text-sm font-bold transition-all duration-200 ${a==="processed"?"bg-purple-500 dark:bg-purple-600 text-white shadow-md":"text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,title:"Demosaiced Result",children:"Result"})]})]}),be&&u.jsxs("div",{className:"flex items-center gap-2 animate-in fade-in slide-in-from-right-4 duration-300",children:[h&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-50 dark:bg-slate-800/50 p-1.5 rounded-lg border border-gray-200 dark:border-slate-700 transition-colors duration-300",children:[u.jsx("span",{className:"text-[10px] text-gray-500 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Density (Period)"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"range",min:"0.1",max:"10",step:"0.1",value:i,onChange:K=>s(parseFloat(K.target.value)),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-purple-500",title:"Adjust the period of the line pairs in pixels"}),u.jsx("div",{className:"relative",children:u.jsx("input",{type:"number",min:"0.1",max:"100",step:"0.01",value:i,onChange:K=>{const ie=parseFloat(K.target.value);isNaN(ie)||s(ie)},className:"w-16 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-xs font-mono text-purple-600 dark:text-purple-300 text-right focus:outline-none focus:border-purple-500 focus:ring-1 focus:ring-purple-500 transition-colors duration-300"})})]})]}),u.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-50 dark:bg-slate-800/50 p-1.5 rounded-lg border border-gray-200 dark:border-slate-700 transition-colors duration-300",children:[u.jsx("span",{className:"text-[10px] text-gray-500 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Phase"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:f,onChange:K=>d(parseFloat(K.target.value)),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-pink-500",title:"Shift pattern phase (0-1 cycle)"}),u.jsx("div",{className:"relative",children:u.jsx("input",{type:"number",min:"0",max:"1",step:"0.01",value:f,onChange:K=>{const ie=parseFloat(K.target.value);isNaN(ie)||d(ie)},className:"w-12 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-xs font-mono text-pink-600 dark:text-pink-300 text-right focus:outline-none focus:border-pink-500 focus:ring-1 focus:ring-pink-500 transition-colors duration-300"})})]})]}),u.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-50 dark:bg-slate-800/50 p-1.5 rounded-lg border border-gray-200 dark:border-slate-700 transition-colors duration-300",children:[u.jsx("span",{className:"text-[10px] text-gray-500 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Fill Factor"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"range",min:"1",max:"100",step:"1",value:l*100,onChange:K=>c(parseInt(K.target.value)/100),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-green-500",title:"Adjust pixel aperture fill factor %"}),u.jsxs("div",{className:"relative flex items-center",children:[u.jsx("input",{type:"number",min:"1",max:"100",step:"1",value:Math.round(l*100),onChange:K=>{const ie=parseInt(K.target.value);isNaN(ie)||c(Math.min(100,Math.max(1,ie))/100)},className:"w-12 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-xs font-mono text-green-600 dark:text-green-300 text-right focus:outline-none focus:border-green-500 focus:ring-1 focus:ring-green-500 transition-colors duration-300"}),u.jsx("span",{className:"ml-1 text-[10px] text-gray-400 dark:text-slate-500 font-mono",children:"%"})]})]})]})]}),u.jsxs("button",{onClick:O,className:`flex flex-col items-center justify-center p-2 rounded-lg transition-colors group ${r!=null&&r.startsWith("Diff_")?"bg-fuchsia-50 hover:bg-fuchsia-100 dark:bg-fuchsia-900/20 dark:hover:bg-fuchsia-900/40 border-fuchsia-200 dark:border-fuchsia-800":"bg-gray-50 hover:bg-gray-100 dark:bg-slate-800 dark:hover:bg-slate-700 border-gray-200 dark:border-slate-600"} border`,title:r!=null&&r.startsWith("Diff_")?"Export Subtracted Frame as DNG":"Download Synthetic DNG",children:[u.jsx("svg",{className:`w-5 h-5 ${r!=null&&r.startsWith("Diff_")?"text-fuchsia-500 group-hover:text-fuchsia-600":"text-gray-500 dark:text-slate-400 group-hover:text-cyan-600 dark:group-hover:text-cyan-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),u.jsx("span",{className:"text-[8px] font-bold uppercase mt-0.5 opacity-50",children:"DNG"})]})]}),u.jsx("input",{type:"file",ref:N,onChange:ue,className:"hidden",accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),u.jsx("input",{type:"file",ref:A,onChange:Se,className:"hidden",multiple:!0,accept:".csv"}),u.jsxs("div",{className:"relative inline-block text-left",ref:q,children:[u.jsxs("button",{onClick:()=>D(!L),className:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300 shadow-lg shadow-purple-500/30 text-sm whitespace-nowrap flex items-center gap-2",children:["TEST Tools",u.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${L?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),L&&u.jsx("div",{className:"absolute right-0 mt-2 w-56 rounded-xl bg-white dark:bg-slate-800 shadow-xl ring-1 ring-black ring-opacity-5 focus:outline-none z-50 overflow-hidden origin-top-right transition-all animate-in fade-in slide-in-from-top-2 border border-gray-200 dark:border-slate-700",children:u.jsxs("div",{className:"py-1",children:[u.jsxs("button",{onClick:()=>{D(!1),t()},className:"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[u.jsx("svg",{className:"w-4 h-4 text-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),u.jsx("span",{children:"Generate Pattern DNG"})]}),u.jsxs("button",{onClick:()=>{D(!1),y||g(),b&&S()},className:`w-full text-left px-4 py-3 text-sm transition-colors flex items-center gap-2 border-t border-gray-100 dark:border-slate-700 ${y?"bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 font-bold":"text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700"}`,children:[u.jsx("svg",{className:"w-4 h-4 text-indigo-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),u.jsxs("span",{children:["DR Lab ",y?"(On)":""]})]}),u.jsxs("button",{onClick:()=>{D(!1),b||S(),y&&g()},className:`w-full text-left px-4 py-3 text-sm transition-colors flex items-center gap-2 border-t border-gray-100 dark:border-slate-700 ${b?"bg-fuchsia-50 dark:bg-fuchsia-900/20 text-fuchsia-600 dark:text-fuchsia-400 font-bold":"text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700"}`,children:[u.jsx("svg",{className:"w-4 h-4 text-fuchsia-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),u.jsxs("span",{children:["FFT Lab ",b?"(On)":""]})]}),u.jsxs("button",{onClick:()=>{var K;D(!1),(K=A.current)==null||K.click()},className:"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2 border-t border-gray-100 dark:border-slate-700",children:[u.jsx("svg",{className:"w-4 h-4 text-emerald-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})}),u.jsx("span",{children:"Generate PTC & TargetSNR"})]})]})})]}),u.jsxs("div",{className:"relative inline-block text-left",ref:Q,children:[u.jsxs("button",{onClick:()=>I(!U),className:"bg-cyan-500 hover:bg-cyan-600 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300 shadow-lg shadow-cyan-500/30 text-sm whitespace-nowrap flex items-center gap-2",children:["Load Image",u.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${U?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),U&&u.jsx("div",{className:"absolute right-0 mt-2 w-56 rounded-xl bg-white dark:bg-slate-800 shadow-xl ring-1 ring-black ring-opacity-5 focus:outline-none z-50 overflow-hidden origin-top-right transition-all animate-in fade-in slide-in-from-top-2 border border-gray-200 dark:border-slate-700",children:u.jsxs("div",{className:"py-1",children:[u.jsxs("button",{onClick:()=>X("direct"),className:"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[u.jsx("svg",{className:"w-4 h-4 text-cyan-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),u.jsx("span",{children:"Load Image (Direct)"})]}),u.jsxs("button",{onClick:()=>X("convert"),className:"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2 border-t border-gray-100 dark:border-slate-700",children:[u.jsx("svg",{className:"w-4 h-4 text-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),u.jsx("span",{children:"Convert to Adobe DNG & Load"})]})]})})]}),r&&m&&u.jsxs("button",{onClick:m,className:"bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300 shadow-lg shadow-orange-500/30 text-sm whitespace-nowrap flex items-center gap-1",title:"View EXIF Data",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"EXIF"]}),u.jsx("button",{onClick:p,className:"bg-teal-600 hover:bg-teal-700 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300 shadow-lg shadow-teal-500/30 text-sm whitespace-nowrap",children:"About/Tutorial/Tools"}),u.jsx("a",{href:"https://y-g-jiang.github.io/index.html",target:"_blank",rel:"noopener noreferrer",className:"bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-700 dark:text-slate-100 font-semibold py-2 px-4 rounded-lg transition-colors duration-300 text-sm",children:"Home"})]})]})},SM=({image:e,zoom:t,pan:r,onPanChange:n,onZoomChange:a,onSelectionChange:o,forcedSelection:i,theme:s,touchAction:l="pan",isMarking:c=!1,onPointClick:f,markers:d=[],gridRects:h=[]})=>{var Q;const p=j.useRef(null),m=j.useRef(document.createElement("canvas")),[v,x]=j.useState(!1),[y,g]=j.useState({x:0,y:0}),b=j.useRef(null),S=j.useRef(null),w=j.useRef(null),[k,O]=j.useState(!1),[P,_]=j.useState(null),[N,A]=j.useState(null);j.useEffect(()=>{i!==void 0&&A(i)},[i]);const E=j.useCallback(()=>{const q=p.current,X=q==null?void 0:q.getContext("2d");return{canvas:q,ctx:X}},[]);j.useEffect(()=>{const q=m.current,X=q.getContext("2d");if(!e||!X)return;let le=0,ue=0;e instanceof ImageData?(le=e.width,ue=e.height):e instanceof HTMLImageElement&&(le=e.naturalWidth,ue=e.naturalHeight),!(le===0||ue===0)&&((q.width!==le||q.height!==ue)&&(q.width=le,q.height=ue),e instanceof ImageData?X.putImageData(e,0,0):(X.clearRect(0,0,le,ue),X.drawImage(e,0,0)))},[e]);const B=j.useCallback(()=>{const{canvas:q,ctx:X}=E();if(!(!q||!X||!e)){if(X.setTransform(1,0,0,1,0,0),X.fillStyle=s==="dark"?"rgb(15, 23, 42)":"rgb(243, 244, 246)",X.fillRect(0,0,q.width,q.height),X.setTransform(t,0,0,t,r.x,r.y),m.current.width>0&&(X.imageSmoothingEnabled=!1,X.drawImage(m.current,0,0)),N){X.strokeStyle="#06b6d4",X.lineWidth=1/t,X.fillStyle="rgba(6, 182, 212, 0.2)",X.beginPath(),X.rect(N.x,N.y,N.w,N.h),X.fill(),X.stroke(),X.save(),X.fillStyle="#fff";const le=Math.max(10,14/t);X.font=`${le}px monospace`,X.shadowColor="rgba(0,0,0,0.8)",X.shadowBlur=4,X.shadowOffsetX=1,X.shadowOffsetY=1,X.fillText(`${Math.round(N.w)}x${Math.round(N.h)}`,N.x,N.y-5/t),X.restore()}if(h&&h.length>0){X.save(),X.strokeStyle="#f59e0b",X.lineWidth=1/t,X.globalAlpha=.8,X.beginPath(),h.forEach(Se=>{X.rect(Se.x,Se.y,Se.w,Se.h)}),X.stroke();const le=h[0];X.fillStyle="#f59e0b";const ue=Math.max(10,12/t);X.font=`${ue}px monospace`,X.fillText(`${le.w}x${le.h}`,le.x,le.y-4/t),X.restore()}if(d&&d.length>0){X.save();const le=6/t,ue=Math.max(12,16/t);X.font=`bold ${ue}px sans-serif`,X.textAlign="center",X.textBaseline="middle",d.forEach((Se,be)=>{X.beginPath(),X.arc(Se.x,Se.y,le,0,2*Math.PI),X.fillStyle="white",X.fill(),X.strokeStyle="#4338ca",X.lineWidth=2/t,X.stroke(),X.fillStyle="#4338ca",X.fillText((be+1).toString(),Se.x,Se.y-12/t)}),X.restore()}}},[E,e,t,r,s,N,d,h]);j.useEffect(()=>{const{canvas:q}=E();if(!q)return;const X=new ResizeObserver(()=>{q.width=q.clientWidth,q.height=q.clientHeight,B()});return X.observe(q),()=>X.disconnect()},[E,B]),j.useEffect(()=>{B()},[B,e,r,t,s,N,d,h]);const z=q=>{const{canvas:X}=E();if(!X)return{x:0,y:0};const le=X.getBoundingClientRect();return{x:q.clientX-le.left,y:q.clientY-le.top}},$=(q,X)=>({x:(q-r.x)/t,y:(X-r.y)/t}),U=q=>{q.preventDefault();const X=z(q);if(c){const le=$(X.x,X.y);f&&f(le);return}if(q.shiftKey||l==="select"){O(!0);const le=$(X.x,X.y),ue={x:Math.floor(le.x),y:Math.floor(le.y)};_(ue),A(null),o&&o(null)}else x(!0),g({x:X.x-r.x,y:X.y-r.y})},I=q=>{const X=z(q);if(k&&P){const le=$(X.x,X.y),ue=Math.floor(le.x),Se=Math.floor(le.y),be=Math.min(P.x,ue),K=Math.min(P.y,Se),ie=Math.max(P.x,ue),ge=Math.max(P.y,Se),W=ie-be+1,ve=ge-K+1;A({x:be,y:K,w:W,h:ve})}else v&&n({x:X.x-y.x,y:X.y-y.y})},L=()=>{k&&(O(!1),N&&o&&N.w>0&&N.h>0&&o(N)),x(!1)},D=q=>{var X;if(q.touches.length===1){const le=q.touches[0],ue=(X=p.current)==null?void 0:X.getBoundingClientRect();if(!ue)return;const Se=le.clientX-ue.left,be=le.clientY-ue.top;if(c){const K=$(Se,be);f&&f(K);return}if(l==="select"){const K=$(Se,be),ie={x:Math.floor(K.x),y:Math.floor(K.y)};_(ie),O(!0),A(null),o&&o(null)}else w.current={x:Se,y:be},g({x:Se-r.x,y:be-r.y}),x(!0)}else if(q.touches.length===2){const le=Math.hypot(q.touches[0].clientX-q.touches[1].clientX,q.touches[0].clientY-q.touches[1].clientY);b.current=le,S.current=t,x(!1),O(!1)}},G=q=>{var X;if(q.touches.length===1){const le=q.touches[0],ue=(X=p.current)==null?void 0:X.getBoundingClientRect();if(!ue)return;const Se=le.clientX-ue.left,be=le.clientY-ue.top;if(c)return;if(k&&P){const K=$(Se,be),ie=Math.floor(K.x),ge=Math.floor(K.y),W=Math.min(P.x,ie),ve=Math.min(P.y,ge),he=Math.max(P.x,ie),Oe=Math.max(P.y,ge),Ke=he-W+1,Je=Oe-ve+1;A({x:W,y:ve,w:Ke,h:Je})}else v&&n({x:Se-y.x,y:be-y.y})}else if(q.touches.length===2&&b.current&&S.current&&a){const ue=Math.hypot(q.touches[0].clientX-q.touches[1].clientX,q.touches[0].clientY-q.touches[1].clientY)/b.current;a(S.current*ue)}},ee=()=>{k&&(O(!1),N&&o&&N.w>0&&N.h>0&&o(N)),x(!1),b.current=null,S.current=null,w.current=null};return u.jsx("canvas",{ref:p,className:`w-full h-full block touch-none ${c||k||(Q=window.event)!=null&&Q.shiftKey||l==="select"?"cursor-crosshair":"cursor-grab active:cursor-grabbing"}`,onMouseDown:U,onMouseMove:I,onMouseUp:L,onMouseLeave:L,onTouchStart:D,onTouchMove:G,onTouchEnd:ee,onTouchCancel:ee,tabIndex:0})},Gu=({title:e,children:t})=>u.jsxs("div",{className:"border-b border-gray-200 dark:border-slate-700 transition-colors duration-300",children:[u.jsx("div",{className:"p-4 font-semibold text-gray-800 dark:text-slate-200 bg-gray-50 dark:bg-slate-800/30 border-b border-gray-200 dark:border-slate-800 select-none cursor-default transition-colors duration-300",children:u.jsx("span",{children:e})}),u.jsx("div",{className:"p-4 bg-white dark:bg-slate-900/50 transition-colors duration-300",children:t})]}),jM=[{value:-1,label:"Raw Bayer (Grayscale)"},{value:0,label:"Linear interpolation"},{value:1,label:"VNG (Variable Number of Gradients)"},{value:2,label:"PPG (Patterned Pixel Grouping)"},{value:3,label:"AHD (Adaptive Homogeneity-Directed)"},{value:4,label:"DCB (Demosaicing with Color Back-refinement)"},{value:11,label:"DHT (Modified AHD)"},{value:12,label:"AAHD (Adaptive AHD)"}],Hu=({checked:e,onChange:t,label:r})=>u.jsxs("div",{className:"flex items-center justify-between py-2 cursor-pointer group",onClick:()=>t(!e),children:[u.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-slate-300 select-none group-hover:text-gray-900 dark:group-hover:text-slate-200 transition-colors",children:r}),u.jsx("div",{className:`relative w-11 h-6 rounded-full transition-colors duration-200 ease-in-out ${e?"bg-cyan-500 dark:bg-cyan-600":"bg-gray-300 dark:bg-slate-600 group-hover:bg-gray-400 dark:group-hover:bg-slate-500"}`,children:u.jsx("div",{className:`absolute left-1 top-1 bg-white w-4 h-4 rounded-full shadow-md transform transition-transform duration-200 ease-in-out ${e?"translate-x-5":"translate-x-0"}`})})]}),Dp=(e,t)=>{if(!e)return null;if(t){const r=e.bayerPattern.toUpperCase(),n=l=>{const c=[];for(let f=0;f<4;f++)r[f]===l&&c.push(f);return c},a=t.BlackLevelRed,o=t.BlackLevelGreen,i=t.BlackLevelBlue;if(a!==void 0&&o!==void 0&&i!==void 0){const l=parseFloat(a),c=parseFloat(o),f=parseFloat(i);if(!isNaN(l)&&!isNaN(c)&&!isNaN(f)){const d=[0,0,0,0];return d.fill(c),n("R").forEach(h=>d[h]=l),n("G").forEach(h=>d[h]=c),n("B").forEach(h=>f),d}}let s=t.BlackLevel;if(s===void 0&&(s=t.BlackLevel2),s!==void 0){let l=[];if(Array.isArray(s)?l=s.map(Number):typeof s=="string"?l=s.trim().split(/\s+/).map(Number):typeof s=="number"&&(l=[s,s,s,s]),l.length===1&&!isNaN(l[0])&&(l=[l[0],l[0],l[0],l[0]]),l.length>=4&&!l.slice(0,4).some(isNaN))return[l[0],l[1],l[2],l[3]]}}return e.blackLevels&&e.blackLevels.length===4?[e.blackLevels[0],e.blackLevels[1],e.blackLevels[2],e.blackLevels[3]]:null},OM=e=>{const{rawImageData:t,displaySettings:r,onApplyDisplaySettings:n,onSetSelection:a,exifData:o,isBridgeConnected:i,isDrLabOpen:s,drMarkingStep:l,onStartMarking:c,onGenerateTestPic:f,drRoiSize:d,onDrRoiSizeChange:h,drGridRows:p,onDrGridRowsChange:m,drGridCols:v,onDrGridColsChange:x,onBatchDrLab:y,hasDrMarkers:g,isFftLabOpen:b,onProcessPair:S,onProcessBatchDiff:w,onProcessStackFft:k,onOpenCrossCalc:O,isThreePlane:P,onToggleXTrans:_,xtransPhase:N,onXTransPhaseChange:A,isXTransConverted:E}=e,B=!!t,z=!!(t!=null&&t.isXTrans),$=!!_,[U,I]=j.useState(r.exposure.toString()),[L,D]=j.useState(""),[G,ee]=j.useState("0 0 0 0"),[Q,q]=j.useState("1.0"),[X,le]=j.useState("1.0"),[ue,Se]=j.useState(r.demosaicMethod),[be,K]=j.useState(!!r.showKadc),[ie,ge]=j.useState(!!r.subtractBlackLevelFromStats),[W,ve]=j.useState("64"),[he,Oe]=j.useState(!1),[Ke,Je]=j.useState(!1),[qt,Ut]=j.useState("0 0 0 0"),[Ir,lt]=j.useState("2840 6303 3935 6303"),[fr,Zt]=j.useState("780 1720 1101 1720"),[Wt,yr]=j.useState(!1),[Cr,Gt]=j.useState(!1),[ar,Xr]=j.useState(!1),[Qt,Kr]=j.useState("single"),nt=j.useRef(null),Ve=j.useRef(null),wt=j.useRef(null),Dt=j.useRef(null),[jt,Yr]=j.useState(null),[Ht,Vt]=j.useState(null),[Br,dt]=j.useState(!1),[ln,qr]=j.useState(!0),Tn=j.useRef(null),$n=j.useRef(null),wn=j.useRef(!1),cn=j.useRef(null);j.useEffect(()=>{t!==cn.current&&(wn.current=!1,cn.current=t)},[t]),j.useEffect(()=>{if(i&&t&&!wn.current){wn.current=!0;const V=Dp(t,o),Ee=V&&V.some(tt=>tt>0);if(V&&Ee){Oe(!0);const tt={...r,blackLevel:V,showKadc:!0,subtractBlackLevelFromStats:!0,exposure:r.exposure,wbGains:r.wbGains||[1,1],demosaicMethod:r.demosaicMethod,renderMode:"standard"};n(tt)}}},[i,t,o,r,n]),j.useEffect(()=>{if(I(r.exposure.toString()),r.customMatrix?(D(r.customMatrix.join(" ")),Oe(!0)):D(""),r.blackLevel&&r.blackLevel.length===4)ee(r.blackLevel.join(" "));else{const V=Dp(t,o);ee(V?V.join(" "):"0 0 0 0")}q(r.wbGains?r.wbGains[0].toString():"1.0"),le(r.wbGains?r.wbGains[1].toString():"1.0"),Se(r.demosaicMethod),K(!!r.showKadc),ge(!!r.subtractBlackLevelFromStats),r.advancedZeroDep&&(Ut(r.advancedZeroDep.bl.join(" ")),lt(r.advancedZeroDep.bg.join(" ")),Zt(r.advancedZeroDep.fg.join(" ")),Je(!0))},[r,t,o]);const Sr=V=>I(V),Fr=V=>q(V),Er=V=>le(V),un=V=>Se(parseInt(V.target.value,10)),Dn=V=>D(V.target.value),At=()=>{I("0"),Se(3),q("1.0"),le("1.0"),K(!0),ge(!0),D(""),Oe(!1),Je(!1);const V=Dp(t,o);ee(V?V.join(" "):"0 0 0 0")},Xt=()=>{!t||!a||a({x:0,y:0,w:t.width,h:t.height})},Mt=()=>{if(!t||!a)return;const V=parseInt(W,10);if(isNaN(V)||V<=0)return;const Ee=Math.min(V,t.width),tt=Math.min(V,t.height),Le=Math.floor((t.width-Ee)/2),fn=Math.floor((t.height-tt)/2);a({x:Le,y:fn,w:Ee,h:tt})},ne=()=>{const Ee=G.split(/[\s,]+/).filter(tt=>tt.trim()!=="").map(Number);if(Ee.length===1&&!isNaN(Ee[0]))return[Ee[0],Ee[0],Ee[0],Ee[0]];if(Ee.length>=4&&!Ee.slice(0,4).some(isNaN))return[Ee[0],Ee[1],Ee[2],Ee[3]]},Pe=V=>{const Ee=V.trim().split(/[\s,]+/).map(Number);return Ee.length===4&&!Ee.some(isNaN)?Ee:Ee.length===1&&!isNaN(Ee[0])?[Ee[0],Ee[0],Ee[0],Ee[0]]:null},_e=()=>{const V={...r},Ee=parseFloat(U);isNaN(Ee)||(V.exposure=Ee);const tt=parseFloat(Q),Le=parseFloat(X);if(!isNaN(tt)&&!isNaN(Le)&&(V.wbGains=[tt,Le]),V.demosaicMethod=ue,V.renderMode="standard",he){const fn=ne();fn&&(V.blackLevel=fn);const Re=L.trim().replace(/[\s,\n]+/g," ");if(Re){const dr=Re.split(" ").map(Number);dr.length===9&&!dr.some(isNaN)?V.customMatrix=dr:alert("Invalid matrix format. Please ensure exactly 9 numeric values (3x3).")}else delete V.customMatrix;V.showKadc=be,V.subtractBlackLevelFromStats=ie}else delete V.customMatrix,delete V.blackLevel,delete V.showKadc,delete V.subtractBlackLevelFromStats;n(V)},Qe=()=>{Gt(!0)},ze=V=>{const Ee={...r},tt=ne();tt&&(Ee.blackLevel=tt);const Le=parseFloat(Q),fn=parseFloat(X);!isNaN(Le)&&!isNaN(fn)&&(Ee.wbGains=[Le,fn]);const Re=parseFloat(U);if(isNaN(Re)||(Ee.exposure=Re),V==="bilinear"){const dr=L.trim().replace(/[\s,\n]+/g," ");if(dr){const kn=dr.split(" ").map(Number);kn.length===9&&!kn.some(isNaN)&&(Ee.customMatrix=kn)}}Ee.renderMode=V==="mosaic"?"zero-dependency":"zero-dep-color",Gt(!1),n(Ee)},kt=()=>{const V=Pe(qt),Ee=Pe(Ir),tt=Pe(fr);if(!V||!Ee||!tt){alert("Please enter valid 4-channel numbers for BL, BG, and FG.");return}const Le={...r,renderMode:"advanced-zero-dep",advancedZeroDep:{bl:V,bg:Ee,fg:tt}};n(Le)},ht=V=>{V.target.files&&V.target.files.length>0&&y&&y(V.target.files,Qt),V.target.value="",Xr(!1)},or=async V=>{var tt;const Ee=(tt=V.target.files)==null?void 0:tt[0];if(Ee){try{const fn=(await Ee.text()).split(`
`),Re=[];Re.push("#BlackLevel: 0,0,0,0"),Re.push("#ImageHeight: 0"),Re.push("Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std");let dr=1;for(let ho=0;ho<fn.length;ho++){const _a=fn[ho].trim();if(!_a||_a.includes("R_mean")||_a.includes("R_std"))continue;const vr=_a.split(/\s+/).map(Number);if(vr.length<8||vr.some(isNaN))continue;const Rn=[dr,1,vr[0],vr[2],vr[6],vr[4],vr[1],vr[3],vr[7],vr[5]].join(",");Re.push(Rn),dr++}const kn=new Blob([Re.join(`
`)],{type:"text/csv"}),Xn=URL.createObjectURL(kn),Sn=document.createElement("a");Sn.href=Xn,Sn.download=Ee.name.replace(/\.[^/.]+$/,"")+"_converted.csv",document.body.appendChild(Sn),Sn.click(),document.body.removeChild(Sn),URL.revokeObjectURL(Xn)}catch(Le){console.error("Conversion failed",Le),alert("Failed to convert file.")}V.target.value=""}},Ce=V=>{V.target.files&&V.target.files[0]&&Yr(V.target.files[0])},et=V=>{V.target.files&&V.target.files[0]&&Vt(V.target.files[0])},pt=()=>{jt&&Ht&&S&&S(jt,Ht,Br,ln)},gt=V=>{V.target.files&&V.target.files.length>0&&w&&w(V.target.files),V.target.value=""},Jt=V=>{V.target.files&&V.target.files.length>0&&k&&k(V.target.files),V.target.value=""},de=!!E;return u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsxs("div",{className:"flex-grow overflow-y-auto",children:[P&&u.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-3 border-b border-red-100 dark:border-red-800 text-center animate-pulse",children:[u.jsx("p",{className:"text-xs font-bold text-red-600 dark:text-red-400 uppercase tracking-wide",children:" 3-Plane / Full Color"}),u.jsx("p",{className:"text-[10px] text-red-500/80 dark:text-red-300/70 mt-1",children:"Demosaic disabled. Stats analysis treated as pseudo-Bayer."})]}),z&&!E&&u.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-3 border-b border-amber-100 dark:border-amber-800 text-center",children:[u.jsx("p",{className:"text-xs font-bold text-amber-600 dark:text-amber-400 uppercase tracking-wide",children:" X-Trans Native (Unsupported)"}),u.jsx("p",{className:"text-[10px] text-amber-600/80 dark:text-amber-300/70 mt-1 text-left leading-tight px-1",children:"Currently reading raw 6x6 pattern as Bayer. Stats will be incorrect. Please enable Pseudo-Bayer conversion below."})]}),E&&u.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 p-3 border-b border-emerald-100 dark:border-emerald-800 text-center",children:[u.jsx("p",{className:"text-xs font-bold text-emerald-600 dark:text-emerald-400 uppercase tracking-wide",children:" X-Trans Pseudo-Bayer"}),u.jsx("p",{className:"text-[10px] text-emerald-600/80 dark:text-emerald-300/70 mt-1 text-left leading-tight px-1",children:"Converted 6x6  2x2 RGGB (Subsampled). Demosaic & Analysis fully supported."})]}),b&&u.jsx(Gu,{title:"FFT Lab (Noise Profile)",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"space-y-3 bg-gray-50 dark:bg-slate-800/40 p-3 rounded-xl border border-gray-100 dark:border-slate-800",children:[u.jsxs("h4",{className:"text-[10px] font-bold text-fuchsia-600 dark:text-fuchsia-400 uppercase tracking-widest flex items-center gap-2",children:[u.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-fuchsia-500"})," 1. Pair Difference (Sub)"]}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("input",{type:"file",ref:nt,className:"hidden",onChange:Ce,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),u.jsx("button",{onClick:()=>{var V;return(V=nt.current)==null?void 0:V.click()},className:`w-full py-2 px-3 rounded-lg border text-[10px] font-bold text-left truncate transition-colors ${jt?"bg-fuchsia-50 dark:bg-fuchsia-900/20 border-fuchsia-300 dark:border-fuchsia-800 text-fuchsia-700 dark:text-fuchsia-300":"bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-600 text-gray-500 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:jt?`A: ${jt.name}`:"Load Image A"}),u.jsx("input",{type:"file",ref:Ve,className:"hidden",onChange:et,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),u.jsx("button",{onClick:()=>{var V;return(V=Ve.current)==null?void 0:V.click()},className:`w-full py-2 px-3 rounded-lg border text-[10px] font-bold text-left truncate transition-colors ${Ht?"bg-fuchsia-50 dark:bg-fuchsia-900/20 border-fuchsia-300 dark:border-fuchsia-800 text-fuchsia-700 dark:text-fuchsia-300":"bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-600 text-gray-500 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:Ht?`B: ${Ht.name}`:"Load Image B"})]}),u.jsx("div",{className:"flex flex-col gap-1.5 pt-1",children:u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:ln,onChange:V=>qr(V.target.checked),className:"w-3 h-3 text-fuchsia-600 border-gray-300 rounded focus:ring-0"}),u.jsx("span",{className:"text-[10px] text-gray-600 dark:text-slate-300",children:"Normalize (2)"})]})}),u.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[u.jsx("button",{onClick:pt,disabled:!jt||!Ht,className:"w-full bg-fuchsia-600 hover:bg-fuchsia-500 disabled:opacity-30 text-white font-bold py-2 rounded shadow transition-all active:scale-95 text-[10px]",children:"Generate Diff & Load"}),u.jsx("input",{type:"file",ref:wt,className:"hidden",multiple:!0,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff",onChange:gt}),u.jsx("button",{onClick:()=>{var V;return(V=wt.current)==null?void 0:V.click()},className:"w-full bg-slate-700 hover:bg-slate-600 text-white font-bold py-2 rounded shadow transition-all active:scale-95 text-[10px] flex items-center justify-center gap-1",children:"Batch Diffs (Auto Download)"})]})]}),u.jsxs("div",{className:"space-y-3 bg-gray-50 dark:bg-slate-800/40 p-3 rounded-xl border border-gray-100 dark:border-slate-800",children:[u.jsxs("h4",{className:"text-[10px] font-bold text-cyan-600 dark:text-cyan-400 uppercase tracking-widest flex items-center gap-2",children:[u.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-cyan-500"})," 2. Stack FFT (Avg PSD)"]}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("input",{type:"file",ref:Dt,className:"hidden",multiple:!0,onChange:Jt,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),u.jsx("button",{onClick:()=>{var V;return(V=Dt.current)==null?void 0:V.click()},className:"w-full py-3 bg-cyan-600 hover:bg-cyan-500 text-white font-bold rounded-lg shadow-md transition-all active:scale-95 text-[10px] flex items-center justify-center gap-2",children:"Select Sequence Files"})]})]}),u.jsx("div",{className:"flex flex-col gap-2 pt-2",children:u.jsx("button",{onClick:O,className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-2 px-4 rounded-lg shadow-md transition-all active:scale-95 text-[10px] flex items-center justify-center gap-2",children:"Cross-Compensation Calc"})})]})}),s&&u.jsx(Gu,{title:"DR Lab Tools",children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("button",{onClick:f,className:"w-full bg-amber-500 hover:bg-amber-600 text-white font-bold py-2 px-4 rounded-lg shadow-md transition-colors text-sm",children:"Generate Test Pic"}),u.jsxs("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-3",children:[u.jsx("h4",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-2",children:"Grid Analysis"}),h&&d!==void 0&&u.jsx("div",{className:"flex items-center justify-between mb-3",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Box Size:"}),u.jsx("input",{type:"number",min:"8",max:"512",step:"2",value:d,onChange:V=>h(parseInt(V.target.value)||64),className:"w-12 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 text-center"}),u.jsx("span",{className:"text-xs text-gray-400",children:"px"})]})}),m&&x&&p!==void 0&&v!==void 0&&u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Layout:"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"number",min:"1",max:"50",value:p,onChange:V=>m(Math.max(1,parseInt(V.target.value)||1)),className:"w-10 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md outline-none text-sm text-center",title:"Rows"}),u.jsx("span",{className:"text-xs text-gray-400",children:"x"}),u.jsx("input",{type:"number",min:"1",max:"50",value:v,onChange:V=>x(Math.max(1,parseInt(V.target.value)||1)),className:"w-10 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md outline-none text-sm text-center",title:"Columns"})]})]}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("button",{onClick:c,disabled:!B||l!==void 0&&l>0,className:`w-full font-bold py-2 px-4 rounded-lg shadow-md transition-all text-sm ${B?l&&l>0?"bg-indigo-100 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300 border-2 border-indigo-500":"bg-indigo-600 hover:bg-indigo-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:l&&l>0?"Marking Active...":"Mark Corners"}),y&&u.jsxs(u.Fragment,{children:[u.jsx("input",{type:"file",ref:Tn,className:"hidden",multiple:!0,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff",onChange:ht}),u.jsxs("div",{className:"relative",children:[u.jsx("button",{onClick:()=>Xr(!ar),disabled:!g,className:"w-full font-bold py-2 px-4 rounded-lg shadow-md transition-all text-sm bg-emerald-600 hover:bg-emerald-700 disabled:bg-gray-300 disabled:text-gray-500 disabled:cursor-not-allowed text-white flex items-center justify-center gap-2",children:"Reuse Last & Batch"}),ar&&u.jsxs("div",{className:"absolute bottom-full left-0 w-full mb-1 bg-white dark:bg-slate-800 rounded-lg shadow-xl border border-gray-200 dark:border-slate-700 overflow-hidden z-20 flex flex-col animate-in fade-in zoom-in-95 duration-100",children:[u.jsx("button",{className:"px-4 py-2 text-left text-xs hover:bg-gray-100 dark:hover:bg-slate-700 text-gray-700 dark:text-slate-200 border-b border-gray-100 dark:border-slate-700",onClick:()=>{var V;Kr("single"),(V=Tn.current)==null||V.click()},children:"1. Independent Frames"}),u.jsx("button",{className:"px-4 py-2 text-left text-xs hover:bg-gray-100 dark:hover:bg-slate-700 text-indigo-600 dark:text-indigo-400 font-bold",onClick:()=>{var V;Kr("pair"),(V=Tn.current)==null||V.click()},children:"2. Pair Difference (A-B)"})]})]})]}),u.jsxs("div",{className:"pt-2 mt-2 border-t border-gray-100 dark:border-slate-800",children:[u.jsx("input",{type:"file",ref:$n,className:"hidden",accept:".txt",onChange:or}),u.jsx("button",{onClick:()=>{var V;return(V=$n.current)==null?void 0:V.click()},className:"w-full font-bold py-2 px-4 rounded-lg shadow-sm transition-all text-xs bg-slate-100 hover:bg-slate-200 dark:bg-slate-800 dark:hover:bg-slate-700 text-gray-600 dark:text-slate-300 flex items-center justify-center gap-2 border border-gray-300 dark:border-slate-600",children:"Convert Format (.txt  .csv)"})]})]}),l!==void 0&&l>0&&u.jsx("div",{className:"mt-2 text-center",children:u.jsxs("p",{className:"text-xs text-indigo-600 dark:text-indigo-400 font-bold animate-pulse",children:[l===1&&"Click Top-Left Center",l===2&&"Click Top-Right Center",l===3&&"Click Bottom-Left Center",l===4&&"Click Bottom-Right Center"]})})]})]})}),u.jsx(Gu,{title:"Selection Tools",children:u.jsx("div",{className:"space-y-3",children:u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"Quick Select or Shift+drag"}),u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Size (px):"}),u.jsx("input",{type:"number",min:"1",value:W,onChange:V=>ve(V.target.value),disabled:!B,className:"flex-1 px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("button",{onClick:Mt,disabled:!B,className:"px-3 py-1.5 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-slate-200 text-xs font-semibold rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Center Rect"}),u.jsx("button",{onClick:Xt,disabled:!B,className:"px-3 py-1.5 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-slate-200 text-xs font-semibold rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Full Image"})]})]})})}),u.jsx(Gu,{title:"Display Controls",children:u.jsxs("div",{className:"space-y-5",children:[u.jsxs("p",{className:"text-gray-500 dark:text-slate-400 text-center text-sm",children:["Adjust parameters and click ",u.jsx("b",{children:"Apply"}),"."]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"exposure",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"Exposure (EV)"}),u.jsx("div",{className:"flex items-center gap-2 mb-2",children:u.jsx("input",{type:"range",min:"-5",max:"5",step:"0.1",disabled:!B,value:parseFloat(U)||0,onChange:V=>Sr(V.target.value),className:"w-full h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500 disabled:opacity-50"})}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("input",{id:"exposure",type:"number",step:"0.1",value:U,onChange:V=>Sr(V.target.value),disabled:!B,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})})]}),u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"demosaic",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2 flex justify-between",children:[u.jsx("span",{children:"Demosaic Method"}),(P||(t==null?void 0:t.isXTrans))&&u.jsx("span",{className:"text-[9px] text-red-500 font-bold bg-red-100 dark:bg-red-900/30 px-1 rounded",children:"DISABLED"})]}),u.jsx("select",{id:"demosaic",value:ue,onChange:un,disabled:!B||P||(t==null?void 0:t.isXTrans),className:"w-full px-2 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none transition-colors disabled:bg-gray-100 dark:disabled:bg-slate-800/50 disabled:cursor-not-allowed text-sm text-gray-900 dark:text-slate-100",children:jM.map(V=>u.jsx("option",{value:V.value,children:V.label},V.value))}),P&&u.jsx("p",{className:"text-[9px] text-gray-400 mt-1",children:"Full color data detected. Demosaicing skipped."}),(t==null?void 0:t.isXTrans)&&u.jsx("p",{className:"text-[9px] text-amber-500 mt-1",children:"X-Trans detected. Please enable Pseudo-Bayer below."})]}),$&&u.jsxs("div",{className:"border-t border-gray-100 dark:border-slate-800 pt-2",children:[u.jsx(Hu,{checked:de,onChange:V=>_&&_(V),label:"Force X-Trans (6x6 -> 2x2)"}),de&&N&&A&&u.jsxs("div",{className:"mt-2 pl-2 border-l-2 border-emerald-500/50 bg-emerald-50/20 dark:bg-emerald-900/10 p-2 rounded",children:[u.jsx("label",{className:"text-[9px] font-bold text-gray-500 dark:text-slate-400 uppercase block mb-1",children:"Phase Offset (Fine Tune)"}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-[9px] text-gray-400",children:"X (0-5)"}),u.jsx("input",{type:"number",min:"0",max:"5",value:N.x,onChange:V=>A("x",Math.min(5,Math.max(0,parseInt(V.target.value)||0))),className:"w-full text-xs px-1 py-0.5 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-center outline-none focus:border-cyan-500"})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-[9px] text-gray-400",children:"Y (0-5)"}),u.jsx("input",{type:"number",min:"0",max:"5",value:N.y,onChange:V=>A("y",Math.min(5,Math.max(0,parseInt(V.target.value)||0))),className:"w-full text-xs px-1 py-0.5 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-center outline-none focus:border-cyan-500"})]})]})]})]}),u.jsx("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-2",children:u.jsx(Hu,{checked:he,onChange:Oe,label:"Advanced Settings"})}),he&&u.jsxs("div",{className:"space-y-5 pl-2 border-l-2 border-gray-200 dark:border-slate-700 animate-in slide-in-from-top-2 duration-200",children:[u.jsxs("div",{children:[u.jsx(Hu,{checked:be,onChange:K,label:"Show Kadc"}),u.jsx("p",{className:"text-[10px] text-gray-400 dark:text-slate-500 mt-1",children:"Requires manual Black Levellinear PTC zoneabsolutely uniform image ."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"White Balance Gains"}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-xs text-red-500 dark:text-red-400 block mb-1",children:"Red"}),u.jsx("input",{type:"number",step:"0.01",value:Q,onChange:V=>Fr(V.target.value),disabled:!B,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-red-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-xs text-blue-500 dark:text-blue-400 block mb-1",children:"Blue"}),u.jsx("input",{type:"number",step:"0.01",value:X,onChange:V=>Er(V.target.value),disabled:!B,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-blue-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})]})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-end mb-2",children:[u.jsxs("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide flex items-center",children:["Black Level (4-Ch)",u.jsx("span",{className:"ml-1 text-[10px] text-gray-400 dark:text-slate-500 font-normal normal-case",children:"Native"}),u.jsx("button",{onClick:()=>yr(!0),className:"ml-2 text-[10px] text-cyan-600 dark:text-cyan-400 hover:text-cyan-700 dark:hover:text-cyan-300 hover:underline cursor-pointer transition-colors",title:"About Black Level Settings",children:"[about]"})]}),u.jsxs("div",{className:"flex items-center gap-1.5",title:"Subtract Black Level from ROI Mean stats (for display)",children:[u.jsx("span",{className:"text-[9px] font-mono text-gray-400 dark:text-slate-500 uppercase tracking-wide",children:"Sub. BL"}),u.jsx("div",{className:`relative w-8 h-4 rounded-full cursor-pointer transition-colors duration-200 ease-in-out ${ie?"bg-cyan-500":"bg-gray-300 dark:bg-slate-700"}`,onClick:()=>ge(!ie),children:u.jsx("div",{className:`absolute top-0.5 left-0.5 bg-white w-3 h-3 rounded-full shadow-sm transform transition-transform duration-200 ${ie?"translate-x-4":"translate-x-0"}`})})]})]}),u.jsx("input",{type:"text",value:G,onChange:V=>ee(V.target.value),disabled:!B,placeholder:"0 0 0 0",className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-xs font-mono text-gray-900 dark:text-slate-100 transition-colors duration-300",title:"Enter 4 values separated by space or comma"}),u.jsx("p",{className:"text-[10px] text-gray-400 dark:text-slate-500 mt-1",children:"Order: (0,0) (0,1) (1,0) (1,1). Spatial: TL, TR, BL, BR."})]}),u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"customMatrix",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:["Custom Color Matrix",u.jsx("span",{className:"block text-[10px] text-gray-400 dark:text-slate-500 font-normal normal-case mt-0.5",children:"XYZ to Camera RGB (3x3, 9 nums)"})]}),u.jsx("textarea",{id:"customMatrix",value:L,onChange:Dn,disabled:!B,placeholder:"0.66 -0.19 -0.04  -0.46 1.23 0.25  -0.06 0.13 0.65",className:"w-full h-24 px-2 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none transition-colors disabled:bg-gray-100 dark:disabled:bg-slate-800/50 disabled:cursor-not-allowed text-xs font-mono leading-relaxed text-gray-900 dark:text-slate-100"})]})]}),u.jsx("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-2",children:u.jsx(Hu,{checked:Ke,onChange:Je,label:" (Scalar Unmixing)"})}),Ke&&u.jsxs("div",{className:"space-y-4 pl-2 border-l-2 border-indigo-200 dark:border-indigo-900 animate-in slide-in-from-top-2 duration-200",children:[u.jsxs("div",{className:"grid grid-cols-5 gap-1 items-center text-[9px] uppercase font-bold text-gray-400 mb-[-8px]",children:[u.jsx("div",{className:"col-span-1",children:"Param"}),u.jsx("div",{className:"text-center",children:"Ch0(R)"}),u.jsx("div",{className:"text-center",children:"Ch1(G1)"}),u.jsx("div",{className:"text-center",children:"Ch2(B)"}),u.jsx("div",{className:"text-center",children:"Ch3(G2)"})]}),u.jsxs("div",{className:"grid grid-cols-5 gap-2 items-center",children:[u.jsx("span",{className:"text-[10px] font-bold text-red-500",children:"BL:"}),u.jsx("input",{type:"text",value:qt,onChange:V=>Ut(V.target.value),className:"col-span-4 px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-xs font-mono text-gray-900 dark:text-slate-100"})]}),u.jsxs("div",{className:"grid grid-cols-5 gap-2 items-center",children:[u.jsx("span",{className:"text-[10px] font-bold text-indigo-500",children:"B ():"}),u.jsx("input",{type:"text",value:Ir,onChange:V=>lt(V.target.value),className:"col-span-4 px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-xs font-mono text-gray-900 dark:text-slate-100"})]}),u.jsxs("div",{className:"grid grid-cols-5 gap-2 items-center",children:[u.jsx("span",{className:"text-[10px] font-bold text-emerald-500",children:"F ():"}),u.jsx("input",{type:"text",value:fr,onChange:V=>Zt(V.target.value),className:"col-span-4 px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-xs font-mono text-gray-900 dark:text-slate-100"})]}),u.jsx("button",{onClick:kt,disabled:!B,className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-2 rounded text-[10px] shadow transition-transform active:scale-95",children:"RUN UNMIXING (ADV ZERO-DEP)"}),u.jsx("p",{className:"text-[9px] text-gray-400 italic text-center",children:" + sRGB Gamma "})]}),u.jsxs("div",{className:"pt-4 flex flex-col gap-2",children:[u.jsx("button",{onClick:_e,disabled:!B,className:"w-full text-base bg-cyan-500 hover:bg-cyan-600 dark:bg-cyan-600 dark:hover:bg-cyan-500 disabled:bg-gray-300 dark:disabled:bg-slate-800 disabled:text-gray-500 dark:disabled:text-slate-500 disabled:cursor-not-allowed text-white font-bold py-3 px-3 rounded-lg shadow-lg shadow-cyan-500/20 dark:shadow-cyan-900/20 transition-all active:scale-95",children:"APPLY SETTINGS"}),u.jsxs("button",{onClick:Qe,disabled:!B,className:"w-full text-xs font-bold bg-slate-700 hover:bg-slate-600 text-white disabled:bg-gray-300 dark:disabled:bg-slate-800 disabled:text-gray-500 transition-colors py-2 rounded-lg flex items-center justify-center gap-1.5 border border-slate-600",title:"Diagnostic Mode. Direct RAW-to-Grayscale mapping using manual Black Level & WB Gains (R/B calibration).",children:[u.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})," (Zero-Dep Grayscale)"]}),u.jsx("button",{onClick:At,disabled:!B,className:"w-full text-xs text-gray-400 hover:text-gray-600 dark:text-slate-400 dark:hover:text-slate-200 disabled:text-gray-300 dark:disabled:text-slate-600 transition-colors mt-1",children:"Reset Defaults (Local)"})]})]})})]}),u.jsx(Ro,{isOpen:Wt,onClose:()=>yr(!1),onConfirm:()=>{window.open("https://y-g-jiang.github.io/CBLD.html","_blank"),yr(!1)},title:"Black Level Info / ",confirmText:"Visit Database (CBLD)",cancelText:"Close",message:u.jsxs("div",{className:"flex flex-col gap-4 text-left text-sm text-gray-600 dark:text-slate-300",children:[u.jsxs("p",{className:"leading-relaxed",children:["JiangBridge/JiangBridge",u.jsx("a",{href:"https://y-g-jiang.github.io/CBLD.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline mx-1 font-bold",children:"CBLD.html"}),""]}),u.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 w-full"}),u.jsxs("p",{className:"leading-relaxed",children:["Autofills when JiangBridge is detected. If no result is found or JiangBridge is missing, please check the ",u.jsx("a",{href:"https://y-g-jiang.github.io/CBLD.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline mx-1 font-bold",children:"Black Level Database"}),"to find your camera model. However, manually capturing a dark frame with identical settings to calculate and input the values is highly recommended for higher decimal precision, as internal tags often lack accuracy."]})]})}),u.jsx(Ro,{isOpen:Cr,onClose:()=>Gt(!1),onConfirm:()=>{},title:"Select Zero-Dependency Mode",confirmText:"",cancelText:"",message:u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx("div",{className:"text-gray-600 dark:text-slate-300 text-left text-sm leading-relaxed mb-2",children:"Select how you want to visualize the raw data without full JOraw processing."}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("button",{onClick:()=>ze("mosaic"),className:"flex flex-col items-center justify-center p-4 bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 border-2 border-transparent hover:border-gray-400 dark:hover:border-slate-500 rounded-xl transition-all group",children:[u.jsx("div",{className:"w-12 h-12 bg-gray-300 dark:bg-slate-600 rounded-full flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:u.jsx("svg",{className:"w-6 h-6 text-gray-600 dark:text-slate-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),u.jsx("h4",{className:"font-bold text-gray-800 dark:text-slate-200 mb-1",children:"Mosaic (Gray)"}),u.jsx("p",{className:"text-[10px] text-gray-500 dark:text-slate-400 text-center",children:"Original Bayer pattern. No demosaic. 1:1 pixel mapping. Pure DN visualization."})]}),u.jsxs("button",{onClick:()=>ze("bilinear"),className:"flex flex-col items-center justify-center p-4 bg-indigo-50 hover:bg-indigo-100 dark:bg-indigo-900/20 dark:hover:bg-indigo-900/40 border-2 border-transparent hover:border-indigo-400 rounded-xl transition-all group",children:[u.jsx("div",{className:"w-12 h-12 bg-indigo-200 dark:bg-indigo-800 rounded-full flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:u.jsx("svg",{className:"w-6 h-6 text-indigo-700 dark:text-indigo-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"})})}),u.jsx("h4",{className:"font-bold text-indigo-800 dark:text-indigo-300 mb-1",children:"Bilinear (Color)"}),u.jsx("p",{className:"text-[10px] text-indigo-600/80 dark:text-indigo-400/80 text-center",children:"Basic JS Demosaic + Matrix + Gamma. Bypass JOraw pipeline."})]})]}),u.jsx("button",{onClick:()=>Gt(!1),className:"mt-2 w-full py-2 text-xs font-bold text-gray-500 hover:text-gray-700 dark:text-slate-400 dark:hover:text-slate-200 transition-colors",children:"Cancel"})]})})]})},PM=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 12H4"})}),_M=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),NM=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h5M4 12a8 8 0 0114.24-5.12M20 20v-5h-5M20 12a8 8 0 01-14.24 5.12"})}),AM=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11"})}),MM=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 4l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})}),lg=.1,cg=16,CM=Math.log(lg),EM=Math.log(cg),TM=({zoom:e,onZoomChange:t,onResetView:r,touchAction:n,onToggleTouchAction:a})=>{const o=c=>{const f=parseFloat(c.target.value),d=Math.exp(f);t(Math.max(lg,Math.min(cg,d)))},i=()=>{t(Math.min(cg,e*1.25))},s=()=>{t(Math.max(lg,e/1.25))},l=Math.log(e);return u.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",onClick:c=>c.stopPropagation(),children:[u.jsx("div",{className:"bg-white/90 dark:bg-slate-800/70 backdrop-blur-sm p-2 rounded-lg border border-gray-200 dark:border-slate-700 flex items-center shadow-lg transition-colors duration-300",children:u.jsx("button",{onClick:a,className:`p-1.5 rounded-md transition-colors flex items-center justify-center ${n==="select"?"bg-cyan-100 text-cyan-600 dark:bg-cyan-900/50 dark:text-cyan-400 ring-2 ring-cyan-500/50":"text-gray-500 dark:text-slate-400 hover:bg-gray-100 dark:hover:bg-slate-700"}`,title:n==="select"?"Mode: Selection (Drag to Select)":"Mode: Pan (Drag to Move)",children:n==="select"?u.jsx(MM,{}):u.jsx(AM,{})})}),u.jsxs("div",{className:"bg-white/90 dark:bg-slate-800/70 backdrop-blur-sm p-2 rounded-lg border border-gray-200 dark:border-slate-700 flex items-center gap-2 text-gray-700 dark:text-slate-300 shadow-lg transition-colors duration-300",children:[u.jsx("button",{onClick:s,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Zoom Out","aria-label":"Zoom Out",children:u.jsx(PM,{})}),u.jsx("input",{type:"range",min:CM,max:EM,step:"0.01",value:l,onChange:o,className:"w-24 sm:w-32 h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500","aria-label":"Zoom slider"}),u.jsx("button",{onClick:i,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Zoom In","aria-label":"Zoom In",children:u.jsx(_M,{})}),u.jsxs("span",{className:"w-16 text-center font-mono text-sm","aria-live":"polite",children:[(e*100).toFixed(0),"%"]}),u.jsx("button",{onClick:r,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Reset View","aria-label":"Reset View",children:u.jsx(NM,{})})]})]})},$M=({theme:e,setTheme:t})=>{const r=()=>{t(e==="light"?"dark":"light")};return u.jsx("button",{onClick:r,className:"fixed bottom-6 right-6 z-50 p-3 rounded-full bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 shadow-lg text-gray-800 dark:text-yellow-400 hover:bg-gray-100 dark:hover:bg-slate-700 transition-all duration-300",title:`Switch to ${e==="light"?"dark":"light"} mode`,children:e==="light"?u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-slate-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}):u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})})})};function lj(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=lj(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ze(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=lj(e))&&(n&&(n+=" "),n+=t);return n}var DM=Array.isArray,En=DM,RM=typeof Pu=="object"&&Pu&&Pu.Object===Object&&Pu,cj=RM,LM=cj,IM=typeof self=="object"&&self&&self.Object===Object&&self,BM=LM||IM||Function("return this")(),za=BM,FM=za,zM=FM.Symbol,lu=zM,qx=lu,uj=Object.prototype,UM=uj.hasOwnProperty,WM=uj.toString,Pl=qx?qx.toStringTag:void 0;function GM(e){var t=UM.call(e,Pl),r=e[Pl];try{e[Pl]=void 0;var n=!0}catch{}var a=WM.call(e);return n&&(t?e[Pl]=r:delete e[Pl]),a}var HM=GM,VM=Object.prototype,XM=VM.toString;function KM(e){return XM.call(e)}var YM=KM,Zx=lu,qM=HM,ZM=YM,QM="[object Null]",JM="[object Undefined]",Qx=Zx?Zx.toStringTag:void 0;function eC(e){return e==null?e===void 0?JM:QM:Qx&&Qx in Object(e)?qM(e):ZM(e)}var co=eC;function tC(e){return e!=null&&typeof e=="object"}var uo=tC,rC=co,nC=uo,aC="[object Symbol]";function oC(e){return typeof e=="symbol"||nC(e)&&rC(e)==aC}var Js=oC,iC=En,sC=Js,lC=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,cC=/^\w*$/;function uC(e,t){if(iC(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||sC(e)?!0:cC.test(e)||!lC.test(e)||t!=null&&e in Object(t)}var Ty=uC;function fC(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Wo=fC;const el=Nt(Wo);var dC=co,hC=Wo,pC="[object AsyncFunction]",gC="[object Function]",mC="[object GeneratorFunction]",yC="[object Proxy]";function vC(e){if(!hC(e))return!1;var t=dC(e);return t==gC||t==mC||t==pC||t==yC}var $y=vC;const Ge=Nt($y);var xC=za,bC=xC["__core-js_shared__"],wC=bC,Rp=wC,Jx=function(){var e=/[^.]+$/.exec(Rp&&Rp.keys&&Rp.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function kC(e){return!!Jx&&Jx in e}var SC=kC,jC=Function.prototype,OC=jC.toString;function PC(e){if(e!=null){try{return OC.call(e)}catch{}try{return e+""}catch{}}return""}var fj=PC,_C=$y,NC=SC,AC=Wo,MC=fj,CC=/[\\^$.*+?()[\]{}|]/g,EC=/^\[object .+?Constructor\]$/,TC=Function.prototype,$C=Object.prototype,DC=TC.toString,RC=$C.hasOwnProperty,LC=RegExp("^"+DC.call(RC).replace(CC,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function IC(e){if(!AC(e)||NC(e))return!1;var t=_C(e)?LC:EC;return t.test(MC(e))}var BC=IC;function FC(e,t){return e==null?void 0:e[t]}var zC=FC,UC=BC,WC=zC;function GC(e,t){var r=WC(e,t);return UC(r)?r:void 0}var $i=GC,HC=$i,VC=HC(Object,"create"),fh=VC,eb=fh;function XC(){this.__data__=eb?eb(null):{},this.size=0}var KC=XC;function YC(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var qC=YC,ZC=fh,QC="__lodash_hash_undefined__",JC=Object.prototype,eE=JC.hasOwnProperty;function tE(e){var t=this.__data__;if(ZC){var r=t[e];return r===QC?void 0:r}return eE.call(t,e)?t[e]:void 0}var rE=tE,nE=fh,aE=Object.prototype,oE=aE.hasOwnProperty;function iE(e){var t=this.__data__;return nE?t[e]!==void 0:oE.call(t,e)}var sE=iE,lE=fh,cE="__lodash_hash_undefined__";function uE(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=lE&&t===void 0?cE:t,this}var fE=uE,dE=KC,hE=qC,pE=rE,gE=sE,mE=fE;function tl(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}tl.prototype.clear=dE;tl.prototype.delete=hE;tl.prototype.get=pE;tl.prototype.has=gE;tl.prototype.set=mE;var yE=tl;function vE(){this.__data__=[],this.size=0}var xE=vE;function bE(e,t){return e===t||e!==e&&t!==t}var Dy=bE,wE=Dy;function kE(e,t){for(var r=e.length;r--;)if(wE(e[r][0],t))return r;return-1}var dh=kE,SE=dh,jE=Array.prototype,OE=jE.splice;function PE(e){var t=this.__data__,r=SE(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():OE.call(t,r,1),--this.size,!0}var _E=PE,NE=dh;function AE(e){var t=this.__data__,r=NE(t,e);return r<0?void 0:t[r][1]}var ME=AE,CE=dh;function EE(e){return CE(this.__data__,e)>-1}var TE=EE,$E=dh;function DE(e,t){var r=this.__data__,n=$E(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var RE=DE,LE=xE,IE=_E,BE=ME,FE=TE,zE=RE;function rl(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}rl.prototype.clear=LE;rl.prototype.delete=IE;rl.prototype.get=BE;rl.prototype.has=FE;rl.prototype.set=zE;var hh=rl,UE=$i,WE=za,GE=UE(WE,"Map"),Ry=GE,tb=yE,HE=hh,VE=Ry;function XE(){this.size=0,this.__data__={hash:new tb,map:new(VE||HE),string:new tb}}var KE=XE;function YE(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var qE=YE,ZE=qE;function QE(e,t){var r=e.__data__;return ZE(t)?r[typeof t=="string"?"string":"hash"]:r.map}var ph=QE,JE=ph;function eT(e){var t=JE(this,e).delete(e);return this.size-=t?1:0,t}var tT=eT,rT=ph;function nT(e){return rT(this,e).get(e)}var aT=nT,oT=ph;function iT(e){return oT(this,e).has(e)}var sT=iT,lT=ph;function cT(e,t){var r=lT(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var uT=cT,fT=KE,dT=tT,hT=aT,pT=sT,gT=uT;function nl(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}nl.prototype.clear=fT;nl.prototype.delete=dT;nl.prototype.get=hT;nl.prototype.has=pT;nl.prototype.set=gT;var Ly=nl,dj=Ly,mT="Expected a function";function Iy(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(mT);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var i=e.apply(this,n);return r.cache=o.set(a,i)||o,i};return r.cache=new(Iy.Cache||dj),r}Iy.Cache=dj;var hj=Iy;const yT=Nt(hj);var vT=hj,xT=500;function bT(e){var t=vT(e,function(n){return r.size===xT&&r.clear(),n}),r=t.cache;return t}var wT=bT,kT=wT,ST=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jT=/\\(\\)?/g,OT=kT(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(ST,function(r,n,a,o){t.push(a?o.replace(jT,"$1"):n||r)}),t}),PT=OT;function _T(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var By=_T,rb=lu,NT=By,AT=En,MT=Js,nb=rb?rb.prototype:void 0,ab=nb?nb.toString:void 0;function pj(e){if(typeof e=="string")return e;if(AT(e))return NT(e,pj)+"";if(MT(e))return ab?ab.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var CT=pj,ET=CT;function TT(e){return e==null?"":ET(e)}var gj=TT,$T=En,DT=Ty,RT=PT,LT=gj;function IT(e,t){return $T(e)?e:DT(e,t)?[e]:RT(LT(e))}var mj=IT,BT=Js;function FT(e){if(typeof e=="string"||BT(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var gh=FT,zT=mj,UT=gh;function WT(e,t){t=zT(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[UT(t[r++])];return r&&r==n?e:void 0}var Fy=WT,GT=Fy;function HT(e,t,r){var n=e==null?void 0:GT(e,t);return n===void 0?r:n}var yj=HT;const oa=Nt(yj);function VT(e){return e==null}var XT=VT;const Fe=Nt(XT);var KT=co,YT=En,qT=uo,ZT="[object String]";function QT(e){return typeof e=="string"||!YT(e)&&qT(e)&&KT(e)==ZT}var JT=QT;const Oi=Nt(JT);var vj={exports:{}},bt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zy=Symbol.for("react.element"),Uy=Symbol.for("react.portal"),mh=Symbol.for("react.fragment"),yh=Symbol.for("react.strict_mode"),vh=Symbol.for("react.profiler"),xh=Symbol.for("react.provider"),bh=Symbol.for("react.context"),e5=Symbol.for("react.server_context"),wh=Symbol.for("react.forward_ref"),kh=Symbol.for("react.suspense"),Sh=Symbol.for("react.suspense_list"),jh=Symbol.for("react.memo"),Oh=Symbol.for("react.lazy"),t5=Symbol.for("react.offscreen"),xj;xj=Symbol.for("react.module.reference");function ca(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case zy:switch(e=e.type,e){case mh:case vh:case yh:case kh:case Sh:return e;default:switch(e=e&&e.$$typeof,e){case e5:case bh:case wh:case Oh:case jh:case xh:return e;default:return t}}case Uy:return t}}}bt.ContextConsumer=bh;bt.ContextProvider=xh;bt.Element=zy;bt.ForwardRef=wh;bt.Fragment=mh;bt.Lazy=Oh;bt.Memo=jh;bt.Portal=Uy;bt.Profiler=vh;bt.StrictMode=yh;bt.Suspense=kh;bt.SuspenseList=Sh;bt.isAsyncMode=function(){return!1};bt.isConcurrentMode=function(){return!1};bt.isContextConsumer=function(e){return ca(e)===bh};bt.isContextProvider=function(e){return ca(e)===xh};bt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===zy};bt.isForwardRef=function(e){return ca(e)===wh};bt.isFragment=function(e){return ca(e)===mh};bt.isLazy=function(e){return ca(e)===Oh};bt.isMemo=function(e){return ca(e)===jh};bt.isPortal=function(e){return ca(e)===Uy};bt.isProfiler=function(e){return ca(e)===vh};bt.isStrictMode=function(e){return ca(e)===yh};bt.isSuspense=function(e){return ca(e)===kh};bt.isSuspenseList=function(e){return ca(e)===Sh};bt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===mh||e===vh||e===yh||e===kh||e===Sh||e===t5||typeof e=="object"&&e!==null&&(e.$$typeof===Oh||e.$$typeof===jh||e.$$typeof===xh||e.$$typeof===bh||e.$$typeof===wh||e.$$typeof===xj||e.getModuleId!==void 0)};bt.typeOf=ca;vj.exports=bt;var r5=vj.exports,n5=co,a5=uo,o5="[object Number]";function i5(e){return typeof e=="number"||a5(e)&&n5(e)==o5}var bj=i5;const s5=Nt(bj);var l5=bj;function c5(e){return l5(e)&&e!=+e}var u5=c5;const al=Nt(u5);var xa=function(t){return t===0?0:t>0?1:-1},ci=function(t){return Oi(t)&&t.indexOf("%")===t.length-1},se=function(t){return s5(t)&&!al(t)},f5=function(t){return Fe(t)},Nr=function(t){return se(t)||Oi(t)},d5=0,Di=function(t){var r=++d5;return"".concat(t||"").concat(r)},Pi=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!se(t)&&!Oi(t))return n;var o;if(ci(t)){var i=t.indexOf("%");o=r*parseFloat(t.slice(0,i))/100}else o=+t;return al(o)&&(o=n),a&&o>r&&(o=r),o},ko=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},h5=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},mr=function(t,r){return se(t)&&se(r)?function(n){return t+n*(r-t)}:function(){return r}};function Hf(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):oa(n,t))===r})}var p5=function(t){if(!t||!t.length)return null;for(var r=t.length,n=0,a=0,o=0,i=0,s=1/0,l=-1/0,c=0,f=0,d=0;d<r;d++)c=t[d].cx||0,f=t[d].cy||0,n+=c,a+=f,o+=c*f,i+=c*c,s=Math.min(s,c),l=Math.max(l,c);var h=r*i!==n*n?(r*o-n*a)/(r*i-n*n):0;return{xmin:s,xmax:l,a:h,b:(a-h*n)/r}},g5=function(t,r){return se(t)&&se(r)?t-r:Oi(t)&&Oi(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function ds(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function ug(e){"@babel/helpers - typeof";return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ug(e)}var m5=["viewBox","children"],y5=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ob=["points","pathLength"],Lp={svg:m5,polygon:ob,polyline:ob},Wy=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Vf=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(j.isValidElement(t)&&(n=t.props),!el(n))return null;var a={};return Object.keys(n).forEach(function(o){Wy.includes(o)&&(a[o]=r||function(i){return n[o](n,i)})}),a},v5=function(t,r,n){return function(a){return t(r,n,a),null}},wc=function(t,r,n){if(!el(t)||ug(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(o){var i=t[o];Wy.includes(o)&&typeof i=="function"&&(a||(a={}),a[o]=v5(i,r,n))}),a},x5=["children"],b5=["children"];function ib(e,t){if(e==null)return{};var r=w5(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function w5(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fg(e){"@babel/helpers - typeof";return fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fg(e)}var sb={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Za=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},lb=null,Ip=null,Gy=function e(t){if(t===lb&&Array.isArray(Ip))return Ip;var r=[];return j.Children.forEach(t,function(n){Fe(n)||(r5.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Ip=r,lb=t,r};function Cn(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Za(a)}):n=[Za(t)],Gy(e).forEach(function(a){var o=oa(a,"type.displayName")||oa(a,"type.name");n.indexOf(o)!==-1&&r.push(a)}),r}function Fn(e,t){var r=Cn(e,t);return r&&r[0]}var cb=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!se(n)||n<=0||!se(a)||a<=0)},k5=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],S5=function(t){return t&&t.type&&Oi(t.type)&&k5.indexOf(t.type)>=0},wj=function(t){return t&&fg(t)==="object"&&"clipDot"in t},j5=function(t,r,n,a){var o,i=(o=Lp==null?void 0:Lp[a])!==null&&o!==void 0?o:[];return r.startsWith("data-")||!Ge(t)&&(a&&i.includes(r)||y5.includes(r))||n&&Wy.includes(r)},Ue=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(j.isValidElement(t)&&(a=t.props),!el(a))return null;var o={};return Object.keys(a).forEach(function(i){var s;j5((s=a)===null||s===void 0?void 0:s[i],i,r,n)&&(o[i]=a[i])}),o},dg=function e(t,r){if(t===r)return!0;var n=j.Children.count(t);if(n!==j.Children.count(r))return!1;if(n===0)return!0;if(n===1)return ub(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var o=t[a],i=r[a];if(Array.isArray(o)||Array.isArray(i)){if(!e(o,i))return!1}else if(!ub(o,i))return!1}return!0},ub=function(t,r){if(Fe(t)&&Fe(r))return!0;if(!Fe(t)&&!Fe(r)){var n=t.props||{},a=n.children,o=ib(n,x5),i=r.props||{},s=i.children,l=ib(i,b5);return a&&s?ds(o,l)&&dg(a,s):!a&&!s?ds(o,l):!1}return!1},fb=function(t,r){var n=[],a={};return Gy(t).forEach(function(o,i){if(S5(o))n.push(o);else if(o){var s=Za(o.type),l=r[s]||{},c=l.handler,f=l.once;if(c&&(!f||!a[s])){var d=c(o,s,i);n.push(d),a[s]=!0}}}),n},O5=function(t){var r=t&&t.type;return r&&sb[r]?sb[r]:null},P5=function(t,r){return Gy(r).indexOf(t)},_5=["children","width","height","viewBox","className","style","title","desc"];function hg(){return hg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hg.apply(this,arguments)}function N5(e,t){if(e==null)return{};var r=A5(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function A5(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function pg(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,o=e.className,i=e.style,s=e.title,l=e.desc,c=N5(e,_5),f=a||{width:r,height:n,x:0,y:0},d=Ze("recharts-surface",o);return M.createElement("svg",hg({},Ue(c,!0,"svg"),{className:d,width:r,height:n,style:i,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),M.createElement("title",null,s),M.createElement("desc",null,l),t)}var M5=["children","className"];function gg(){return gg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gg.apply(this,arguments)}function C5(e,t){if(e==null)return{};var r=E5(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function E5(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var st=M.forwardRef(function(e,t){var r=e.children,n=e.className,a=C5(e,M5),o=Ze("recharts-layer",n);return M.createElement("g",gg({className:o},Ue(a,!0),{ref:t}),r)}),Qa=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o]};function T5(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(a);++n<a;)o[n]=e[n+t];return o}var $5=T5,D5=$5;function R5(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:D5(e,t,r)}var L5=R5,I5="\\ud800-\\udfff",B5="\\u0300-\\u036f",F5="\\ufe20-\\ufe2f",z5="\\u20d0-\\u20ff",U5=B5+F5+z5,W5="\\ufe0e\\ufe0f",G5="\\u200d",H5=RegExp("["+G5+I5+U5+W5+"]");function V5(e){return H5.test(e)}var kj=V5;function X5(e){return e.split("")}var K5=X5,Sj="\\ud800-\\udfff",Y5="\\u0300-\\u036f",q5="\\ufe20-\\ufe2f",Z5="\\u20d0-\\u20ff",Q5=Y5+q5+Z5,J5="\\ufe0e\\ufe0f",e$="["+Sj+"]",mg="["+Q5+"]",yg="\\ud83c[\\udffb-\\udfff]",t$="(?:"+mg+"|"+yg+")",jj="[^"+Sj+"]",Oj="(?:\\ud83c[\\udde6-\\uddff]){2}",Pj="[\\ud800-\\udbff][\\udc00-\\udfff]",r$="\\u200d",_j=t$+"?",Nj="["+J5+"]?",n$="(?:"+r$+"(?:"+[jj,Oj,Pj].join("|")+")"+Nj+_j+")*",a$=Nj+_j+n$,o$="(?:"+[jj+mg+"?",mg,Oj,Pj,e$].join("|")+")",i$=RegExp(yg+"(?="+yg+")|"+o$+a$,"g");function s$(e){return e.match(i$)||[]}var l$=s$,c$=K5,u$=kj,f$=l$;function d$(e){return u$(e)?f$(e):c$(e)}var h$=d$,p$=L5,g$=kj,m$=h$,y$=gj;function v$(e){return function(t){t=y$(t);var r=g$(t)?m$(t):void 0,n=r?r[0]:t.charAt(0),a=r?p$(r,1).join(""):t.slice(1);return n[e]()+a}}var x$=v$,b$=x$,w$=b$("toUpperCase"),k$=w$;const Ph=Nt(k$);function Tt(e){return function(){return e}}const Aj=Math.cos,Xf=Math.sin,Pa=Math.sqrt,Kf=Math.PI,_h=2*Kf,vg=Math.PI,xg=2*vg,ni=1e-6,S$=xg-ni;function Mj(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function j$(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Mj;const r=10**t;return function(n){this._+=n[0];for(let a=1,o=n.length;a<o;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class O${constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Mj:j$(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,o,i){this._append`C${+t},${+r},${+n},${+a},${this._x1=+o},${this._y1=+i}`}arcTo(t,r,n,a,o){if(t=+t,r=+r,n=+n,a=+a,o=+o,o<0)throw new Error(`negative radius: ${o}`);let i=this._x1,s=this._y1,l=n-t,c=a-r,f=i-t,d=s-r,h=f*f+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>ni)if(!(Math.abs(d*l-c*f)>ni)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-i,m=a-s,v=l*l+c*c,x=p*p+m*m,y=Math.sqrt(v),g=Math.sqrt(h),b=o*Math.tan((vg-Math.acos((v+h-x)/(2*y*g)))/2),S=b/g,w=b/y;Math.abs(S-1)>ni&&this._append`L${t+S*f},${r+S*d}`,this._append`A${o},${o},0,0,${+(d*p>f*m)},${this._x1=t+w*l},${this._y1=r+w*c}`}}arc(t,r,n,a,o,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),l=n*Math.sin(a),c=t+s,f=r+l,d=1^i,h=i?a-o:o-a;this._x1===null?this._append`M${c},${f}`:(Math.abs(this._x1-c)>ni||Math.abs(this._y1-f)>ni)&&this._append`L${c},${f}`,n&&(h<0&&(h=h%xg+xg),h>S$?this._append`A${n},${n},0,1,${d},${t-s},${r-l}A${n},${n},0,1,${d},${this._x1=c},${this._y1=f}`:h>ni&&this._append`A${n},${n},0,${+(h>=vg)},${d},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Hy(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new O$(t)}function Vy(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Cj(e){this._context=e}Cj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Nh(e){return new Cj(e)}function Ej(e){return e[0]}function Tj(e){return e[1]}function $j(e,t){var r=Tt(!0),n=null,a=Nh,o=null,i=Hy(s);e=typeof e=="function"?e:e===void 0?Ej:Tt(e),t=typeof t=="function"?t:t===void 0?Tj:Tt(t);function s(l){var c,f=(l=Vy(l)).length,d,h=!1,p;for(n==null&&(o=a(p=i())),c=0;c<=f;++c)!(c<f&&r(d=l[c],c,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(d,c,l),+t(d,c,l));if(p)return o=null,p+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Tt(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Tt(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Tt(!!l),s):r},s.curve=function(l){return arguments.length?(a=l,n!=null&&(o=a(n)),s):a},s.context=function(l){return arguments.length?(l==null?n=o=null:o=a(n=l),s):n},s}function Vu(e,t,r){var n=null,a=Tt(!0),o=null,i=Nh,s=null,l=Hy(c);e=typeof e=="function"?e:e===void 0?Ej:Tt(+e),t=typeof t=="function"?t:Tt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?Tj:Tt(+r);function c(d){var h,p,m,v=(d=Vy(d)).length,x,y=!1,g,b=new Array(v),S=new Array(v);for(o==null&&(s=i(g=l())),h=0;h<=v;++h){if(!(h<v&&a(x=d[h],h,d))===y)if(y=!y)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=h-1;m>=p;--m)s.point(b[m],S[m]);s.lineEnd(),s.areaEnd()}y&&(b[h]=+e(x,h,d),S[h]=+t(x,h,d),s.point(n?+n(x,h,d):b[h],r?+r(x,h,d):S[h]))}if(g)return s=null,g+""||null}function f(){return $j().defined(a).curve(i).context(o)}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:Tt(+d),n=null,c):e},c.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Tt(+d),c):e},c.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Tt(+d),c):n},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:Tt(+d),r=null,c):t},c.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Tt(+d),c):t},c.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Tt(+d),c):r},c.lineX0=c.lineY0=function(){return f().x(e).y(t)},c.lineY1=function(){return f().x(e).y(r)},c.lineX1=function(){return f().x(n).y(t)},c.defined=function(d){return arguments.length?(a=typeof d=="function"?d:Tt(!!d),c):a},c.curve=function(d){return arguments.length?(i=d,o!=null&&(s=i(o)),c):i},c.context=function(d){return arguments.length?(d==null?o=s=null:s=i(o=d),c):o},c}class Dj{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function P$(e){return new Dj(e,!0)}function _$(e){return new Dj(e,!1)}const Xy={draw(e,t){const r=Pa(t/Kf);e.moveTo(r,0),e.arc(0,0,r,0,_h)}},N$={draw(e,t){const r=Pa(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Rj=Pa(1/3),A$=Rj*2,M$={draw(e,t){const r=Pa(t/A$),n=r*Rj;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},C$={draw(e,t){const r=Pa(t),n=-r/2;e.rect(n,n,r,r)}},E$=.8908130915292852,Lj=Xf(Kf/10)/Xf(7*Kf/10),T$=Xf(_h/10)*Lj,$$=-Aj(_h/10)*Lj,D$={draw(e,t){const r=Pa(t*E$),n=T$*r,a=$$*r;e.moveTo(0,-r),e.lineTo(n,a);for(let o=1;o<5;++o){const i=_h*o/5,s=Aj(i),l=Xf(i);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*a,l*n+s*a)}e.closePath()}},Bp=Pa(3),R$={draw(e,t){const r=-Pa(t/(Bp*3));e.moveTo(0,r*2),e.lineTo(-Bp*r,-r),e.lineTo(Bp*r,-r),e.closePath()}},Yn=-.5,qn=Pa(3)/2,bg=1/Pa(12),L$=(bg/2+1)*3,I$={draw(e,t){const r=Pa(t/L$),n=r/2,a=r*bg,o=n,i=r*bg+r,s=-o,l=i;e.moveTo(n,a),e.lineTo(o,i),e.lineTo(s,l),e.lineTo(Yn*n-qn*a,qn*n+Yn*a),e.lineTo(Yn*o-qn*i,qn*o+Yn*i),e.lineTo(Yn*s-qn*l,qn*s+Yn*l),e.lineTo(Yn*n+qn*a,Yn*a-qn*n),e.lineTo(Yn*o+qn*i,Yn*i-qn*o),e.lineTo(Yn*s+qn*l,Yn*l-qn*s),e.closePath()}};function B$(e,t){let r=null,n=Hy(a);e=typeof e=="function"?e:Tt(e||Xy),t=typeof t=="function"?t:Tt(t===void 0?64:+t);function a(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return a.type=function(o){return arguments.length?(e=typeof o=="function"?o:Tt(o),a):e},a.size=function(o){return arguments.length?(t=typeof o=="function"?o:Tt(+o),a):t},a.context=function(o){return arguments.length?(r=o??null,a):r},a}function Yf(){}function qf(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Ij(e){this._context=e}Ij.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:qf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:qf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function F$(e){return new Ij(e)}function Bj(e){this._context=e}Bj.prototype={areaStart:Yf,areaEnd:Yf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:qf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function z$(e){return new Bj(e)}function Fj(e){this._context=e}Fj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:qf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function U$(e){return new Fj(e)}function zj(e){this._context=e}zj.prototype={areaStart:Yf,areaEnd:Yf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function W$(e){return new zj(e)}function db(e){return e<0?-1:1}function hb(e,t,r){var n=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),s=(o*a+i*n)/(n+a);return(db(o)+db(i))*Math.min(Math.abs(o),Math.abs(i),.5*Math.abs(s))||0}function pb(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Fp(e,t,r){var n=e._x0,a=e._y0,o=e._x1,i=e._y1,s=(o-n)/3;e._context.bezierCurveTo(n+s,a+s*t,o-s,i-s*r,o,i)}function Zf(e){this._context=e}Zf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Fp(this,this._t0,pb(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Fp(this,pb(this,r=hb(this,e,t)),r);break;default:Fp(this,this._t0,r=hb(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Uj(e){this._context=new Wj(e)}(Uj.prototype=Object.create(Zf.prototype)).point=function(e,t){Zf.prototype.point.call(this,t,e)};function Wj(e){this._context=e}Wj.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,o){this._context.bezierCurveTo(t,e,n,r,o,a)}};function G$(e){return new Zf(e)}function H$(e){return new Uj(e)}function Gj(e){this._context=e}Gj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=gb(e),a=gb(t),o=0,i=1;i<r;++o,++i)this._context.bezierCurveTo(n[0][o],a[0][o],n[1][o],a[1][o],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function gb(e){var t,r=e.length-1,n,a=new Array(r),o=new Array(r),i=new Array(r);for(a[0]=0,o[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,o[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,o[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/o[t-1],o[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/o[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/o[t];for(o[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-a[t+1];return[a,o]}function V$(e){return new Gj(e)}function Ah(e,t){this._context=e,this._t=t}Ah.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function X$(e){return new Ah(e,.5)}function K$(e){return new Ah(e,0)}function Y$(e){return new Ah(e,1)}function ks(e,t){if((i=e.length)>1)for(var r=1,n,a,o=e[t[0]],i,s=o.length;r<i;++r)for(a=o,o=e[t[r]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function wg(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function q$(e,t){return e[t]}function Z$(e){const t=[];return t.key=e,t}function Q$(){var e=Tt([]),t=wg,r=ks,n=q$;function a(o){var i=Array.from(e.apply(this,arguments),Z$),s,l=i.length,c=-1,f;for(const d of o)for(s=0,++c;s<l;++s)(i[s][c]=[0,+n(d,i[s].key,c,o)]).data=d;for(s=0,f=Vy(t(i));s<l;++s)i[f[s]].index=s;return r(i,f),i}return a.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Tt(Array.from(o)),a):e},a.value=function(o){return arguments.length?(n=typeof o=="function"?o:Tt(+o),a):n},a.order=function(o){return arguments.length?(t=o==null?wg:typeof o=="function"?o:Tt(Array.from(o)),a):t},a.offset=function(o){return arguments.length?(r=o??ks,a):r},a}function J$(e,t){if((n=e.length)>0){for(var r,n,a=0,o=e[0].length,i;a<o;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}ks(e,t)}}function e3(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,o=n.length;r<o;++r){for(var i=0,s=0;i<a;++i)s+=e[i][r][1]||0;n[r][1]+=n[r][0]=-s/2}ks(e,t)}}function t3(e,t){if(!(!((i=e.length)>0)||!((o=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,o,i;n<o;++n){for(var s=0,l=0,c=0;s<i;++s){for(var f=e[t[s]],d=f[n][1]||0,h=f[n-1][1]||0,p=(d-h)/2,m=0;m<s;++m){var v=e[t[m]],x=v[n][1]||0,y=v[n-1][1]||0;p+=x-y}l+=d,c+=p*d}a[n-1][1]+=a[n-1][0]=r,l&&(r-=c/l)}a[n-1][1]+=a[n-1][0]=r,ks(e,t)}}function kc(e){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kc(e)}var r3=["type","size","sizeType"];function kg(){return kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kg.apply(this,arguments)}function mb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mb(Object(r),!0).forEach(function(n){n3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n3(e,t,r){return t=a3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a3(e){var t=o3(e,"string");return kc(t)=="symbol"?t:t+""}function o3(e,t){if(kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i3(e,t){if(e==null)return{};var r=s3(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function s3(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Hj={symbolCircle:Xy,symbolCross:N$,symbolDiamond:M$,symbolSquare:C$,symbolStar:D$,symbolTriangle:R$,symbolWye:I$},l3=Math.PI/180,c3=function(t){var r="symbol".concat(Ph(t));return Hj[r]||Xy},u3=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*l3;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},f3=function(t,r){Hj["symbol".concat(Ph(t))]=r},Mh=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,o=a===void 0?64:a,i=t.sizeType,s=i===void 0?"area":i,l=i3(t,r3),c=yb(yb({},l),{},{type:n,size:o,sizeType:s}),f=function(){var x=c3(n),y=B$().type(x).size(u3(o,s,n));return y()},d=c.className,h=c.cx,p=c.cy,m=Ue(c,!0);return h===+h&&p===+p&&o===+o?M.createElement("path",kg({},m,{className:Ze("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:f()})):null};Mh.registerSymbol=f3;function Ss(e){"@babel/helpers - typeof";return Ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ss(e)}function Sg(){return Sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sg.apply(this,arguments)}function vb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function d3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vb(Object(r),!0).forEach(function(n){Sc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Xj(n.key),n)}}function g3(e,t,r){return t&&p3(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function m3(e,t,r){return t=Qf(t),y3(e,Vj()?Reflect.construct(t,r||[],Qf(e).constructor):t.apply(e,r))}function y3(e,t){if(t&&(Ss(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v3(e)}function v3(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vj=function(){return!!e})()}function Qf(e){return Qf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qf(e)}function x3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jg(e,t)}function jg(e,t){return jg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},jg(e,t)}function Sc(e,t,r){return t=Xj(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xj(e){var t=b3(e,"string");return Ss(t)=="symbol"?t:t+""}function b3(e,t){if(Ss(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ss(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Zn=32,Ky=function(e){function t(){return h3(this,t),m3(this,t,arguments)}return x3(t,e),g3(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,o=Zn/2,i=Zn/6,s=Zn/3,l=n.inactive?a:n.color;if(n.type==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:Zn,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Zn,"M").concat(2*s,",").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return M.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Zn/8,"h").concat(Zn,"v").concat(Zn*3/4,"h").concat(-Zn,"z"),className:"recharts-legend-icon"});if(M.isValidElement(n.legendIcon)){var c=d3({},n);return delete c.legendIcon,M.cloneElement(n.legendIcon,c)}return M.createElement(Mh,{fill:l,cx:o,cy:o,size:Zn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,o=a.payload,i=a.iconSize,s=a.layout,l=a.formatter,c=a.inactiveColor,f={x:0,y:0,width:Zn,height:Zn},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,m){var v=p.formatter||l,x=Ze(Sc(Sc({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=Ge(p.value)?null:p.value;Qa(!Ge(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var g=p.inactive?c:p.color;return M.createElement("li",Sg({className:x,style:d,key:"legend-item-".concat(m)},wc(n.props,p,m)),M.createElement(pg,{width:i,height:i,viewBox:f,style:h},n.renderIcon(p)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},v?v(y,p,m):y))})}},{key:"render",value:function(){var n=this.props,a=n.payload,o=n.layout,i=n.align;if(!a||!a.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?i:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(j.PureComponent);Sc(Ky,"displayName","Legend");Sc(Ky,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var w3=hh;function k3(){this.__data__=new w3,this.size=0}var S3=k3;function j3(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var O3=j3;function P3(e){return this.__data__.get(e)}var _3=P3;function N3(e){return this.__data__.has(e)}var A3=N3,M3=hh,C3=Ry,E3=Ly,T3=200;function $3(e,t){var r=this.__data__;if(r instanceof M3){var n=r.__data__;if(!C3||n.length<T3-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new E3(n)}return r.set(e,t),this.size=r.size,this}var D3=$3,R3=hh,L3=S3,I3=O3,B3=_3,F3=A3,z3=D3;function ol(e){var t=this.__data__=new R3(e);this.size=t.size}ol.prototype.clear=L3;ol.prototype.delete=I3;ol.prototype.get=B3;ol.prototype.has=F3;ol.prototype.set=z3;var Kj=ol,U3="__lodash_hash_undefined__";function W3(e){return this.__data__.set(e,U3),this}var G3=W3;function H3(e){return this.__data__.has(e)}var V3=H3,X3=Ly,K3=G3,Y3=V3;function Jf(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new X3;++t<r;)this.add(e[t])}Jf.prototype.add=Jf.prototype.push=K3;Jf.prototype.has=Y3;var Yj=Jf;function q3(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var qj=q3;function Z3(e,t){return e.has(t)}var Zj=Z3,Q3=Yj,J3=qj,e4=Zj,t4=1,r4=2;function n4(e,t,r,n,a,o){var i=r&t4,s=e.length,l=t.length;if(s!=l&&!(i&&l>s))return!1;var c=o.get(e),f=o.get(t);if(c&&f)return c==t&&f==e;var d=-1,h=!0,p=r&r4?new Q3:void 0;for(o.set(e,t),o.set(t,e);++d<s;){var m=e[d],v=t[d];if(n)var x=i?n(v,m,d,t,e,o):n(m,v,d,e,t,o);if(x!==void 0){if(x)continue;h=!1;break}if(p){if(!J3(t,function(y,g){if(!e4(p,g)&&(m===y||a(m,y,r,n,o)))return p.push(g)})){h=!1;break}}else if(!(m===v||a(m,v,r,n,o))){h=!1;break}}return o.delete(e),o.delete(t),h}var Qj=n4,a4=za,o4=a4.Uint8Array,i4=o4;function s4(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var l4=s4;function c4(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Yy=c4,xb=lu,bb=i4,u4=Dy,f4=Qj,d4=l4,h4=Yy,p4=1,g4=2,m4="[object Boolean]",y4="[object Date]",v4="[object Error]",x4="[object Map]",b4="[object Number]",w4="[object RegExp]",k4="[object Set]",S4="[object String]",j4="[object Symbol]",O4="[object ArrayBuffer]",P4="[object DataView]",wb=xb?xb.prototype:void 0,zp=wb?wb.valueOf:void 0;function _4(e,t,r,n,a,o,i){switch(r){case P4:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case O4:return!(e.byteLength!=t.byteLength||!o(new bb(e),new bb(t)));case m4:case y4:case b4:return u4(+e,+t);case v4:return e.name==t.name&&e.message==t.message;case w4:case S4:return e==t+"";case x4:var s=d4;case k4:var l=n&p4;if(s||(s=h4),e.size!=t.size&&!l)return!1;var c=i.get(e);if(c)return c==t;n|=g4,i.set(e,t);var f=f4(s(e),s(t),n,a,o,i);return i.delete(e),f;case j4:if(zp)return zp.call(e)==zp.call(t)}return!1}var N4=_4;function A4(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var Jj=A4,M4=Jj,C4=En;function E4(e,t,r){var n=t(e);return C4(e)?n:M4(n,r(e))}var T4=E4;function $4(e,t){for(var r=-1,n=e==null?0:e.length,a=0,o=[];++r<n;){var i=e[r];t(i,r,e)&&(o[a++]=i)}return o}var D4=$4;function R4(){return[]}var L4=R4,I4=D4,B4=L4,F4=Object.prototype,z4=F4.propertyIsEnumerable,kb=Object.getOwnPropertySymbols,U4=kb?function(e){return e==null?[]:(e=Object(e),I4(kb(e),function(t){return z4.call(e,t)}))}:B4,W4=U4;function G4(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var H4=G4,V4=co,X4=uo,K4="[object Arguments]";function Y4(e){return X4(e)&&V4(e)==K4}var q4=Y4,Sb=q4,Z4=uo,eO=Object.prototype,Q4=eO.hasOwnProperty,J4=eO.propertyIsEnumerable,eD=Sb(function(){return arguments}())?Sb:function(e){return Z4(e)&&Q4.call(e,"callee")&&!J4.call(e,"callee")},qy=eD,ed={exports:{}};function tD(){return!1}var rD=tD;ed.exports;(function(e,t){var r=za,n=rD,a=t&&!t.nodeType&&t,o=a&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===a,s=i?r.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||n;e.exports=c})(ed,ed.exports);var tO=ed.exports,nD=9007199254740991,aD=/^(?:0|[1-9]\d*)$/;function oD(e,t){var r=typeof e;return t=t??nD,!!t&&(r=="number"||r!="symbol"&&aD.test(e))&&e>-1&&e%1==0&&e<t}var Zy=oD,iD=9007199254740991;function sD(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=iD}var Qy=sD,lD=co,cD=Qy,uD=uo,fD="[object Arguments]",dD="[object Array]",hD="[object Boolean]",pD="[object Date]",gD="[object Error]",mD="[object Function]",yD="[object Map]",vD="[object Number]",xD="[object Object]",bD="[object RegExp]",wD="[object Set]",kD="[object String]",SD="[object WeakMap]",jD="[object ArrayBuffer]",OD="[object DataView]",PD="[object Float32Array]",_D="[object Float64Array]",ND="[object Int8Array]",AD="[object Int16Array]",MD="[object Int32Array]",CD="[object Uint8Array]",ED="[object Uint8ClampedArray]",TD="[object Uint16Array]",$D="[object Uint32Array]",Bt={};Bt[PD]=Bt[_D]=Bt[ND]=Bt[AD]=Bt[MD]=Bt[CD]=Bt[ED]=Bt[TD]=Bt[$D]=!0;Bt[fD]=Bt[dD]=Bt[jD]=Bt[hD]=Bt[OD]=Bt[pD]=Bt[gD]=Bt[mD]=Bt[yD]=Bt[vD]=Bt[xD]=Bt[bD]=Bt[wD]=Bt[kD]=Bt[SD]=!1;function DD(e){return uD(e)&&cD(e.length)&&!!Bt[lD(e)]}var RD=DD;function LD(e){return function(t){return e(t)}}var rO=LD,td={exports:{}};td.exports;(function(e,t){var r=cj,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===n,i=o&&r.process,s=function(){try{var l=a&&a.require&&a.require("util").types;return l||i&&i.binding&&i.binding("util")}catch{}}();e.exports=s})(td,td.exports);var ID=td.exports,BD=RD,FD=rO,jb=ID,Ob=jb&&jb.isTypedArray,zD=Ob?FD(Ob):BD,nO=zD,UD=H4,WD=qy,GD=En,HD=tO,VD=Zy,XD=nO,KD=Object.prototype,YD=KD.hasOwnProperty;function qD(e,t){var r=GD(e),n=!r&&WD(e),a=!r&&!n&&HD(e),o=!r&&!n&&!a&&XD(e),i=r||n||a||o,s=i?UD(e.length,String):[],l=s.length;for(var c in e)(t||YD.call(e,c))&&!(i&&(c=="length"||a&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||VD(c,l)))&&s.push(c);return s}var ZD=qD,QD=Object.prototype;function JD(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||QD;return e===r}var eR=JD;function tR(e,t){return function(r){return e(t(r))}}var aO=tR,rR=aO,nR=rR(Object.keys,Object),aR=nR,oR=eR,iR=aR,sR=Object.prototype,lR=sR.hasOwnProperty;function cR(e){if(!oR(e))return iR(e);var t=[];for(var r in Object(e))lR.call(e,r)&&r!="constructor"&&t.push(r);return t}var uR=cR,fR=$y,dR=Qy;function hR(e){return e!=null&&dR(e.length)&&!fR(e)}var cu=hR,pR=ZD,gR=uR,mR=cu;function yR(e){return mR(e)?pR(e):gR(e)}var Ch=yR,vR=T4,xR=W4,bR=Ch;function wR(e){return vR(e,bR,xR)}var kR=wR,Pb=kR,SR=1,jR=Object.prototype,OR=jR.hasOwnProperty;function PR(e,t,r,n,a,o){var i=r&SR,s=Pb(e),l=s.length,c=Pb(t),f=c.length;if(l!=f&&!i)return!1;for(var d=l;d--;){var h=s[d];if(!(i?h in t:OR.call(t,h)))return!1}var p=o.get(e),m=o.get(t);if(p&&m)return p==t&&m==e;var v=!0;o.set(e,t),o.set(t,e);for(var x=i;++d<l;){h=s[d];var y=e[h],g=t[h];if(n)var b=i?n(g,y,h,t,e,o):n(y,g,h,e,t,o);if(!(b===void 0?y===g||a(y,g,r,n,o):b)){v=!1;break}x||(x=h=="constructor")}if(v&&!x){var S=e.constructor,w=t.constructor;S!=w&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof w=="function"&&w instanceof w)&&(v=!1)}return o.delete(e),o.delete(t),v}var _R=PR,NR=$i,AR=za,MR=NR(AR,"DataView"),CR=MR,ER=$i,TR=za,$R=ER(TR,"Promise"),DR=$R,RR=$i,LR=za,IR=RR(LR,"Set"),oO=IR,BR=$i,FR=za,zR=BR(FR,"WeakMap"),UR=zR,Og=CR,Pg=Ry,_g=DR,Ng=oO,Ag=UR,iO=co,il=fj,_b="[object Map]",WR="[object Object]",Nb="[object Promise]",Ab="[object Set]",Mb="[object WeakMap]",Cb="[object DataView]",GR=il(Og),HR=il(Pg),VR=il(_g),XR=il(Ng),KR=il(Ag),ai=iO;(Og&&ai(new Og(new ArrayBuffer(1)))!=Cb||Pg&&ai(new Pg)!=_b||_g&&ai(_g.resolve())!=Nb||Ng&&ai(new Ng)!=Ab||Ag&&ai(new Ag)!=Mb)&&(ai=function(e){var t=iO(e),r=t==WR?e.constructor:void 0,n=r?il(r):"";if(n)switch(n){case GR:return Cb;case HR:return _b;case VR:return Nb;case XR:return Ab;case KR:return Mb}return t});var YR=ai,Up=Kj,qR=Qj,ZR=N4,QR=_R,Eb=YR,Tb=En,$b=tO,JR=nO,eL=1,Db="[object Arguments]",Rb="[object Array]",Xu="[object Object]",tL=Object.prototype,Lb=tL.hasOwnProperty;function rL(e,t,r,n,a,o){var i=Tb(e),s=Tb(t),l=i?Rb:Eb(e),c=s?Rb:Eb(t);l=l==Db?Xu:l,c=c==Db?Xu:c;var f=l==Xu,d=c==Xu,h=l==c;if(h&&$b(e)){if(!$b(t))return!1;i=!0,f=!1}if(h&&!f)return o||(o=new Up),i||JR(e)?qR(e,t,r,n,a,o):ZR(e,t,l,r,n,a,o);if(!(r&eL)){var p=f&&Lb.call(e,"__wrapped__"),m=d&&Lb.call(t,"__wrapped__");if(p||m){var v=p?e.value():e,x=m?t.value():t;return o||(o=new Up),a(v,x,r,n,o)}}return h?(o||(o=new Up),QR(e,t,r,n,a,o)):!1}var nL=rL,aL=nL,Ib=uo;function sO(e,t,r,n,a){return e===t?!0:e==null||t==null||!Ib(e)&&!Ib(t)?e!==e&&t!==t:aL(e,t,r,n,sO,a)}var Jy=sO,oL=Kj,iL=Jy,sL=1,lL=2;function cL(e,t,r,n){var a=r.length,o=a,i=!n;if(e==null)return!o;for(e=Object(e);a--;){var s=r[a];if(i&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<o;){s=r[a];var l=s[0],c=e[l],f=s[1];if(i&&s[2]){if(c===void 0&&!(l in e))return!1}else{var d=new oL;if(n)var h=n(c,f,l,e,t,d);if(!(h===void 0?iL(f,c,sL|lL,n,d):h))return!1}}return!0}var uL=cL,fL=Wo;function dL(e){return e===e&&!fL(e)}var lO=dL,hL=lO,pL=Ch;function gL(e){for(var t=pL(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,hL(a)]}return t}var mL=gL;function yL(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var cO=yL,vL=uL,xL=mL,bL=cO;function wL(e){var t=xL(e);return t.length==1&&t[0][2]?bL(t[0][0],t[0][1]):function(r){return r===e||vL(r,e,t)}}var kL=wL;function SL(e,t){return e!=null&&t in Object(e)}var jL=SL,OL=mj,PL=qy,_L=En,NL=Zy,AL=Qy,ML=gh;function CL(e,t,r){t=OL(t,e);for(var n=-1,a=t.length,o=!1;++n<a;){var i=ML(t[n]);if(!(o=e!=null&&r(e,i)))break;e=e[i]}return o||++n!=a?o:(a=e==null?0:e.length,!!a&&AL(a)&&NL(i,a)&&(_L(e)||PL(e)))}var EL=CL,TL=jL,$L=EL;function DL(e,t){return e!=null&&$L(e,t,TL)}var RL=DL,LL=Jy,IL=yj,BL=RL,FL=Ty,zL=lO,UL=cO,WL=gh,GL=1,HL=2;function VL(e,t){return FL(e)&&zL(t)?UL(WL(e),t):function(r){var n=IL(r,e);return n===void 0&&n===t?BL(r,e):LL(t,n,GL|HL)}}var XL=VL;function KL(e){return e}var sl=KL;function YL(e){return function(t){return t==null?void 0:t[e]}}var qL=YL,ZL=Fy;function QL(e){return function(t){return ZL(t,e)}}var JL=QL,eI=qL,tI=JL,rI=Ty,nI=gh;function aI(e){return rI(e)?eI(nI(e)):tI(e)}var oI=aI,iI=kL,sI=XL,lI=sl,cI=En,uI=oI;function fI(e){return typeof e=="function"?e:e==null?lI:typeof e=="object"?cI(e)?sI(e[0],e[1]):iI(e):uI(e)}var Go=fI;function dI(e,t,r,n){for(var a=e.length,o=r+(n?1:-1);n?o--:++o<a;)if(t(e[o],o,e))return o;return-1}var uO=dI;function hI(e){return e!==e}var pI=hI;function gI(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var mI=gI,yI=uO,vI=pI,xI=mI;function bI(e,t,r){return t===t?xI(e,t,r):yI(e,vI,r)}var wI=bI,kI=wI;function SI(e,t){var r=e==null?0:e.length;return!!r&&kI(e,t,0)>-1}var jI=SI;function OI(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var PI=OI;function _I(){}var NI=_I,Wp=oO,AI=NI,MI=Yy,CI=1/0,EI=Wp&&1/MI(new Wp([,-0]))[1]==CI?function(e){return new Wp(e)}:AI,TI=EI,$I=Yj,DI=jI,RI=PI,LI=Zj,II=TI,BI=Yy,FI=200;function zI(e,t,r){var n=-1,a=DI,o=e.length,i=!0,s=[],l=s;if(r)i=!1,a=RI;else if(o>=FI){var c=t?null:II(e);if(c)return BI(c);i=!1,a=LI,l=new $I}else l=t?[]:s;e:for(;++n<o;){var f=e[n],d=t?t(f):f;if(f=r||f!==0?f:0,i&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),s.push(f)}else a(l,d,r)||(l!==s&&l.push(d),s.push(f))}return s}var UI=zI,WI=Go,GI=UI;function HI(e,t){return e&&e.length?GI(e,WI(t)):[]}var VI=HI;const Bb=Nt(VI);function fO(e,t,r){return t===!0?Bb(e,r):Ge(t)?Bb(e,t):e}function js(e){"@babel/helpers - typeof";return js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},js(e)}var XI=["ref"];function Fb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ua(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fb(Object(r),!0).forEach(function(n){Eh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hO(n.key),n)}}function YI(e,t,r){return t&&zb(e.prototype,t),r&&zb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function qI(e,t,r){return t=rd(t),ZI(e,dO()?Reflect.construct(t,r||[],rd(e).constructor):t.apply(e,r))}function ZI(e,t){if(t&&(js(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QI(e)}function QI(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dO=function(){return!!e})()}function rd(e){return rd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rd(e)}function JI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mg(e,t)}function Mg(e,t){return Mg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Mg(e,t)}function Eh(e,t,r){return t=hO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hO(e){var t=e6(e,"string");return js(t)=="symbol"?t:t+""}function e6(e,t){if(js(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(js(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function t6(e,t){if(e==null)return{};var r=r6(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function r6(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function n6(e){return e.value}function a6(e,t){if(M.isValidElement(e))return M.cloneElement(e,t);if(typeof e=="function")return M.createElement(e,t);t.ref;var r=t6(t,XI);return M.createElement(Ky,r)}var Ub=1,Ja=function(e){function t(){var r;KI(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=qI(this,t,[].concat(a)),Eh(r,"lastBoundingBox",{width:-1,height:-1}),r}return JI(t,e),YI(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>Ub||Math.abs(a.height-this.lastBoundingBox.height)>Ub)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ua({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,o=a.layout,i=a.align,s=a.verticalAlign,l=a.margin,c=a.chartWidth,f=a.chartHeight,d,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(i==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();d={left:((c||0)-p.width)/2}}else d=i==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var m=this.getBBoxSnapshot();h={top:((f||0)-m.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Ua(Ua({},d),h)}},{key:"render",value:function(){var n=this,a=this.props,o=a.content,i=a.width,s=a.height,l=a.wrapperStyle,c=a.payloadUniqBy,f=a.payload,d=Ua(Ua({position:"absolute",width:i||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return M.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){n.wrapperNode=p}},a6(o,Ua(Ua({},this.props),{},{payload:fO(f,c,n6)})))}}],[{key:"getWithHeight",value:function(n,a){var o=Ua(Ua({},this.defaultProps),n.props),i=o.layout;return i==="vertical"&&se(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||a}:null}}])}(j.PureComponent);Eh(Ja,"displayName","Legend");Eh(Ja,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Wb=lu,o6=qy,i6=En,Gb=Wb?Wb.isConcatSpreadable:void 0;function s6(e){return i6(e)||o6(e)||!!(Gb&&e&&e[Gb])}var l6=s6,c6=Jj,u6=l6;function pO(e,t,r,n,a){var o=-1,i=e.length;for(r||(r=u6),a||(a=[]);++o<i;){var s=e[o];t>0&&r(s)?t>1?pO(s,t-1,r,n,a):c6(a,s):n||(a[a.length]=s)}return a}var gO=pO;function f6(e){return function(t,r,n){for(var a=-1,o=Object(t),i=n(t),s=i.length;s--;){var l=i[e?s:++a];if(r(o[l],l,o)===!1)break}return t}}var d6=f6,h6=d6,p6=h6(),g6=p6,m6=g6,y6=Ch;function v6(e,t){return e&&m6(e,t,y6)}var mO=v6,x6=cu;function b6(e,t){return function(r,n){if(r==null)return r;if(!x6(r))return e(r,n);for(var a=r.length,o=t?a:-1,i=Object(r);(t?o--:++o<a)&&n(i[o],o,i)!==!1;);return r}}var w6=b6,k6=mO,S6=w6,j6=S6(k6),ev=j6,O6=ev,P6=cu;function _6(e,t){var r=-1,n=P6(e)?Array(e.length):[];return O6(e,function(a,o,i){n[++r]=t(a,o,i)}),n}var yO=_6;function N6(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var A6=N6,Hb=Js;function M6(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,o=Hb(e),i=t!==void 0,s=t===null,l=t===t,c=Hb(t);if(!s&&!c&&!o&&e>t||o&&i&&l&&!s&&!c||n&&i&&l||!r&&l||!a)return 1;if(!n&&!o&&!c&&e<t||c&&r&&a&&!n&&!o||s&&r&&a||!i&&a||!l)return-1}return 0}var C6=M6,E6=C6;function T6(e,t,r){for(var n=-1,a=e.criteria,o=t.criteria,i=a.length,s=r.length;++n<i;){var l=E6(a[n],o[n]);if(l){if(n>=s)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return e.index-t.index}var $6=T6,Gp=By,D6=Fy,R6=Go,L6=yO,I6=A6,B6=rO,F6=$6,z6=sl,U6=En;function W6(e,t,r){t.length?t=Gp(t,function(o){return U6(o)?function(i){return D6(i,o.length===1?o[0]:o)}:o}):t=[z6];var n=-1;t=Gp(t,B6(R6));var a=L6(e,function(o,i,s){var l=Gp(t,function(c){return c(o)});return{criteria:l,index:++n,value:o}});return I6(a,function(o,i){return F6(o,i,r)})}var G6=W6;function H6(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var V6=H6,X6=V6,Vb=Math.max;function K6(e,t,r){return t=Vb(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,o=Vb(n.length-t,0),i=Array(o);++a<o;)i[a]=n[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=n[a];return s[t]=r(i),X6(e,this,s)}}var Y6=K6;function q6(e){return function(){return e}}var Z6=q6,Q6=$i,J6=function(){try{var e=Q6(Object,"defineProperty");return e({},"",{}),e}catch{}}(),vO=J6,eB=Z6,Xb=vO,tB=sl,rB=Xb?function(e,t){return Xb(e,"toString",{configurable:!0,enumerable:!1,value:eB(t),writable:!0})}:tB,nB=rB,aB=800,oB=16,iB=Date.now;function sB(e){var t=0,r=0;return function(){var n=iB(),a=oB-(n-r);if(r=n,a>0){if(++t>=aB)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var lB=sB,cB=nB,uB=lB,fB=uB(cB),dB=fB,hB=sl,pB=Y6,gB=dB;function mB(e,t){return gB(pB(e,t,hB),e+"")}var yB=mB,vB=Dy,xB=cu,bB=Zy,wB=Wo;function kB(e,t,r){if(!wB(r))return!1;var n=typeof t;return(n=="number"?xB(r)&&bB(t,r.length):n=="string"&&t in r)?vB(r[t],e):!1}var Th=kB,SB=gO,jB=G6,OB=yB,Kb=Th,PB=OB(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Kb(e,t[0],t[1])?t=[]:r>2&&Kb(t[0],t[1],t[2])&&(t=[t[0]]),jB(e,SB(t,1),[])}),_B=PB;const tv=Nt(_B);function jc(e){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jc(e)}function Cg(){return Cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cg.apply(this,arguments)}function NB(e,t){return EB(e)||CB(e,t)||MB(e,t)||AB()}function AB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MB(e,t){if(e){if(typeof e=="string")return Yb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yb(e,t)}}function Yb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function CB(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function EB(e){if(Array.isArray(e))return e}function qb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qb(Object(r),!0).forEach(function(n){TB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TB(e,t,r){return t=$B(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $B(e){var t=DB(e,"string");return jc(t)=="symbol"?t:t+""}function DB(e,t){if(jc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RB(e){return Array.isArray(e)&&Nr(e[0])&&Nr(e[1])?e.join(" ~ "):e}var LB=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,o=a===void 0?{}:a,i=t.itemStyle,s=i===void 0?{}:i,l=t.labelStyle,c=l===void 0?{}:l,f=t.payload,d=t.formatter,h=t.itemSorter,p=t.wrapperClassName,m=t.labelClassName,v=t.label,x=t.labelFormatter,y=t.accessibilityLayer,g=y===void 0?!1:y,b=function(){if(f&&f.length){var E={padding:0,margin:0},B=(h?tv(f,h):f).map(function(z,$){if(z.type==="none")return null;var U=Hp({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},s),I=z.formatter||d||RB,L=z.value,D=z.name,G=L,ee=D;if(I&&G!=null&&ee!=null){var Q=I(L,D,z,$,f);if(Array.isArray(Q)){var q=NB(Q,2);G=q[0],ee=q[1]}else G=Q}return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:U},Nr(ee)?M.createElement("span",{className:"recharts-tooltip-item-name"},ee):null,Nr(ee)?M.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,M.createElement("span",{className:"recharts-tooltip-item-value"},G),M.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:E},B)}return null},S=Hp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),w=Hp({margin:0},c),k=!Fe(v),O=k?v:"",P=Ze("recharts-default-tooltip",p),_=Ze("recharts-tooltip-label",m);k&&x&&f!==void 0&&f!==null&&(O=x(v,f));var N=g?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",Cg({className:P,style:S},N),M.createElement("p",{className:_,style:w},M.isValidElement(O)?O:"".concat(O)),b())};function Oc(e){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oc(e)}function Ku(e,t,r){return t=IB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IB(e){var t=BB(e,"string");return Oc(t)=="symbol"?t:t+""}function BB(e,t){if(Oc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _l="recharts-tooltip-wrapper",FB={visibility:"hidden"};function zB(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Ze(_l,Ku(Ku(Ku(Ku({},"".concat(_l,"-right"),se(r)&&t&&se(t.x)&&r>=t.x),"".concat(_l,"-left"),se(r)&&t&&se(t.x)&&r<t.x),"".concat(_l,"-bottom"),se(n)&&t&&se(t.y)&&n>=t.y),"".concat(_l,"-top"),se(n)&&t&&se(t.y)&&n<t.y))}function Zb(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,o=e.position,i=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(o&&se(o[n]))return o[n];var f=r[n]-s-a,d=r[n]+a;if(t[n])return i[n]?f:d;if(i[n]){var h=f,p=l[n];return h<p?Math.max(d,l[n]):Math.max(f,l[n])}var m=d+s,v=l[n]+c;return m>v?Math.max(f,l[n]):Math.max(d,l[n])}function UB(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function WB(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,o=e.reverseDirection,i=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,c,f,d;return i.height>0&&i.width>0&&r?(f=Zb({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.width,viewBox:l,viewBoxDimension:l.width}),d=Zb({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.height,viewBox:l,viewBoxDimension:l.height}),c=UB({translateX:f,translateY:d,useTranslate3d:s})):c=FB,{cssProperties:c,cssClasses:zB({translateX:f,translateY:d,coordinate:r})}}function Os(e){"@babel/helpers - typeof";return Os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Os(e)}function Qb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qb(Object(r),!0).forEach(function(n){Tg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bO(n.key),n)}}function VB(e,t,r){return t&&HB(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function XB(e,t,r){return t=nd(t),KB(e,xO()?Reflect.construct(t,r||[],nd(e).constructor):t.apply(e,r))}function KB(e,t){if(t&&(Os(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YB(e)}function YB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xO=function(){return!!e})()}function nd(e){return nd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nd(e)}function qB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Eg(e,t)}function Eg(e,t){return Eg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Eg(e,t)}function Tg(e,t,r){return t=bO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bO(e){var t=ZB(e,"string");return Os(t)=="symbol"?t:t+""}function ZB(e,t){if(Os(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Os(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var e1=1,QB=function(e){function t(){var r;GB(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=XB(this,t,[].concat(a)),Tg(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Tg(r,"handleKeyDown",function(i){if(i.key==="Escape"){var s,l,c,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&c!==void 0?c:0}})}}),r}return qB(t,e),VB(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>e1||Math.abs(n.height-this.state.lastBoundingBox.height)>e1)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,o=a.active,i=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,c=a.children,f=a.coordinate,d=a.hasPayload,h=a.isAnimationActive,p=a.offset,m=a.position,v=a.reverseDirection,x=a.useTranslate3d,y=a.viewBox,g=a.wrapperStyle,b=WB({allowEscapeViewBox:i,coordinate:f,offsetTopLeft:p,position:m,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:y}),S=b.cssClasses,w=b.cssProperties,k=Jb(Jb({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&d?"visible":"hidden",position:"absolute",top:0,left:0},g);return M.createElement("div",{tabIndex:-1,className:S,style:k,ref:function(P){n.wrapperNode=P}},c)}}])}(j.PureComponent),JB=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ho={isSsr:JB()};function Ps(e){"@babel/helpers - typeof";return Ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ps(e)}function t1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function r1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t1(Object(r),!0).forEach(function(n){rv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kO(n.key),n)}}function r8(e,t,r){return t&&t8(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function n8(e,t,r){return t=ad(t),a8(e,wO()?Reflect.construct(t,r||[],ad(e).constructor):t.apply(e,r))}function a8(e,t){if(t&&(Ps(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o8(e)}function o8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wO=function(){return!!e})()}function ad(e){return ad=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ad(e)}function i8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$g(e,t)}function $g(e,t){return $g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$g(e,t)}function rv(e,t,r){return t=kO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kO(e){var t=s8(e,"string");return Ps(t)=="symbol"?t:t+""}function s8(e,t){if(Ps(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ps(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function l8(e){return e.dataKey}function c8(e,t){return M.isValidElement(e)?M.cloneElement(e,t):typeof e=="function"?M.createElement(e,t):M.createElement(LB,t)}var mn=function(e){function t(){return e8(this,t),n8(this,t,arguments)}return i8(t,e),r8(t,[{key:"render",value:function(){var n=this,a=this.props,o=a.active,i=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,c=a.content,f=a.coordinate,d=a.filterNull,h=a.isAnimationActive,p=a.offset,m=a.payload,v=a.payloadUniqBy,x=a.position,y=a.reverseDirection,g=a.useTranslate3d,b=a.viewBox,S=a.wrapperStyle,w=m??[];d&&w.length&&(w=fO(m.filter(function(O){return O.value!=null&&(O.hide!==!0||n.props.includeHidden)}),v,l8));var k=w.length>0;return M.createElement(QB,{allowEscapeViewBox:i,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:f,hasPayload:k,offset:p,position:x,reverseDirection:y,useTranslate3d:g,viewBox:b,wrapperStyle:S},c8(c,r1(r1({},this.props),{},{payload:w})))}}])}(j.PureComponent);rv(mn,"displayName","Tooltip");rv(mn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ho.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var u8=za,f8=function(){return u8.Date.now()},d8=f8,h8=/\s/;function p8(e){for(var t=e.length;t--&&h8.test(e.charAt(t)););return t}var g8=p8,m8=g8,y8=/^\s+/;function v8(e){return e&&e.slice(0,m8(e)+1).replace(y8,"")}var x8=v8,b8=x8,n1=Wo,w8=Js,a1=NaN,k8=/^[-+]0x[0-9a-f]+$/i,S8=/^0b[01]+$/i,j8=/^0o[0-7]+$/i,O8=parseInt;function P8(e){if(typeof e=="number")return e;if(w8(e))return a1;if(n1(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=n1(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=b8(e);var r=S8.test(e);return r||j8.test(e)?O8(e.slice(2),r?2:8):k8.test(e)?a1:+e}var SO=P8,_8=Wo,Vp=d8,o1=SO,N8="Expected a function",A8=Math.max,M8=Math.min;function C8(e,t,r){var n,a,o,i,s,l,c=0,f=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(N8);t=o1(t)||0,_8(r)&&(f=!!r.leading,d="maxWait"in r,o=d?A8(o1(r.maxWait)||0,t):o,h="trailing"in r?!!r.trailing:h);function p(k){var O=n,P=a;return n=a=void 0,c=k,i=e.apply(P,O),i}function m(k){return c=k,s=setTimeout(y,t),f?p(k):i}function v(k){var O=k-l,P=k-c,_=t-O;return d?M8(_,o-P):_}function x(k){var O=k-l,P=k-c;return l===void 0||O>=t||O<0||d&&P>=o}function y(){var k=Vp();if(x(k))return g(k);s=setTimeout(y,v(k))}function g(k){return s=void 0,h&&n?p(k):(n=a=void 0,i)}function b(){s!==void 0&&clearTimeout(s),c=0,n=l=a=s=void 0}function S(){return s===void 0?i:g(Vp())}function w(){var k=Vp(),O=x(k);if(n=arguments,a=this,l=k,O){if(s===void 0)return m(l);if(d)return clearTimeout(s),s=setTimeout(y,t),p(l)}return s===void 0&&(s=setTimeout(y,t)),i}return w.cancel=b,w.flush=S,w}var E8=C8,T8=E8,$8=Wo,D8="Expected a function";function R8(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(D8);return $8(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),T8(e,t,{leading:n,maxWait:t,trailing:a})}var L8=R8;const jO=Nt(L8);function Pc(e){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pc(e)}function i1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i1(Object(r),!0).forEach(function(n){I8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I8(e,t,r){return t=B8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B8(e){var t=F8(e,"string");return Pc(t)=="symbol"?t:t+""}function F8(e,t){if(Pc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z8(e,t){return H8(e)||G8(e,t)||W8(e,t)||U8()}function U8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W8(e,t){if(e){if(typeof e=="string")return s1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s1(e,t)}}function s1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function G8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function H8(e){if(Array.isArray(e))return e}var _s=j.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,o=e.width,i=o===void 0?"100%":o,s=e.height,l=s===void 0?"100%":s,c=e.minWidth,f=c===void 0?0:c,d=e.minHeight,h=e.maxHeight,p=e.children,m=e.debounce,v=m===void 0?0:m,x=e.id,y=e.className,g=e.onResize,b=e.style,S=b===void 0?{}:b,w=j.useRef(null),k=j.useRef();k.current=g,j.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var O=j.useState({containerWidth:a.width,containerHeight:a.height}),P=z8(O,2),_=P[0],N=P[1],A=j.useCallback(function(B,z){N(function($){var U=Math.round(B),I=Math.round(z);return $.containerWidth===U&&$.containerHeight===I?$:{containerWidth:U,containerHeight:I}})},[]);j.useEffect(function(){var B=function(D){var G,ee=D[0].contentRect,Q=ee.width,q=ee.height;A(Q,q),(G=k.current)===null||G===void 0||G.call(k,Q,q)};v>0&&(B=jO(B,v,{trailing:!0,leading:!1}));var z=new ResizeObserver(B),$=w.current.getBoundingClientRect(),U=$.width,I=$.height;return A(U,I),z.observe(w.current),function(){z.disconnect()}},[A,v]);var E=j.useMemo(function(){var B=_.containerWidth,z=_.containerHeight;if(B<0||z<0)return null;Qa(ci(i)||ci(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,l),Qa(!r||r>0,"The aspect(%s) must be greater than zero.",r);var $=ci(i)?B:i,U=ci(l)?z:l;r&&r>0&&($?U=$/r:U&&($=U*r),h&&U>h&&(U=h)),Qa($>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,U,i,l,f,d,r);var I=!Array.isArray(p)&&Za(p.type).endsWith("Chart");return M.Children.map(p,function(L){return M.isValidElement(L)?j.cloneElement(L,Yu({width:$,height:U},I?{style:Yu({height:"100%",width:"100%",maxHeight:U,maxWidth:$},L.props.style)}:{})):L})},[r,p,l,h,d,f,_,i]);return M.createElement("div",{id:x?"".concat(x):void 0,className:Ze("recharts-responsive-container",y),style:Yu(Yu({},S),{},{width:i,height:l,minWidth:f,minHeight:d,maxHeight:h}),ref:w},E)}),nv=function(t){return null};nv.displayName="Cell";function _c(e){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_c(e)}function l1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l1(Object(r),!0).forEach(function(n){V8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V8(e,t,r){return t=X8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X8(e){var t=K8(e,"string");return _c(t)=="symbol"?t:t+""}function K8(e,t){if(_c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fi={widthCache:{},cacheCount:0},Y8=2e3,q8={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},c1="recharts_measurement_span";function Z8(e){var t=Dg({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var ql=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ho.isSsr)return{width:0,height:0};var n=Z8(r),a=JSON.stringify({text:t,copyStyle:n});if(Fi.widthCache[a])return Fi.widthCache[a];try{var o=document.getElementById(c1);o||(o=document.createElement("span"),o.setAttribute("id",c1),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var i=Dg(Dg({},q8),n);Object.assign(o.style,i),o.textContent="".concat(t);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return Fi.widthCache[a]=l,++Fi.cacheCount>Y8&&(Fi.cacheCount=0,Fi.widthCache={}),l}catch{return{width:0,height:0}}},Q8=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Nc(e){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}function od(e,t){return rF(e)||tF(e,t)||eF(e,t)||J8()}function J8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eF(e,t){if(e){if(typeof e=="string")return u1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u1(e,t)}}function u1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tF(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function rF(e){if(Array.isArray(e))return e}function nF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oF(n.key),n)}}function aF(e,t,r){return t&&f1(e.prototype,t),r&&f1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function oF(e){var t=iF(e,"string");return Nc(t)=="symbol"?t:t+""}function iF(e,t){if(Nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var d1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,h1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sF=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,lF=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,OO={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},cF=Object.keys(OO),ns="NaN";function uF(e,t){return e*OO[t]}var qu=function(){function e(t,r){nF(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!sF.test(r)&&(this.num=NaN,this.unit=""),cF.includes(r)&&(this.num=uF(t,r),this.unit="px")}return aF(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=lF.exec(r))!==null&&n!==void 0?n:[],o=od(a,3),i=o[1],s=o[2];return new e(parseFloat(i),s??"")}}])}();function PO(e){if(e.includes(ns))return ns;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=d1.exec(t))!==null&&r!==void 0?r:[],a=od(n,4),o=a[1],i=a[2],s=a[3],l=qu.parse(o??""),c=qu.parse(s??""),f=i==="*"?l.multiply(c):l.divide(c);if(f.isNaN())return ns;t=t.replace(d1,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,h=(d=h1.exec(t))!==null&&d!==void 0?d:[],p=od(h,4),m=p[1],v=p[2],x=p[3],y=qu.parse(m??""),g=qu.parse(x??""),b=v==="+"?y.add(g):y.subtract(g);if(b.isNaN())return ns;t=t.replace(h1,b.toString())}return t}var p1=/\(([^()]*)\)/;function fF(e){for(var t=e;t.includes("(");){var r=p1.exec(t),n=od(r,2),a=n[1];t=t.replace(p1,PO(a))}return t}function dF(e){var t=e.replace(/\s+/g,"");return t=fF(t),t=PO(t),t}function hF(e){try{return dF(e)}catch{return ns}}function Xp(e){var t=hF(e.slice(5,-1));return t===ns?"":t}var pF=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],gF=["dx","dy","angle","className","breakAll"];function Rg(){return Rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rg.apply(this,arguments)}function g1(e,t){if(e==null)return{};var r=mF(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mF(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function m1(e,t){return bF(e)||xF(e,t)||vF(e,t)||yF()}function yF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vF(e,t){if(e){if(typeof e=="string")return y1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y1(e,t)}}function y1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xF(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function bF(e){if(Array.isArray(e))return e}var _O=/[ \f\n\r\t\v\u2028\u2029]+/,NO=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var o=[];Fe(r)||(n?o=r.toString().split(""):o=r.toString().split(_O));var i=o.map(function(l){return{word:l,width:ql(l,a).width}}),s=n?0:ql("",a).width;return{wordsWithComputedWidth:i,spaceWidth:s}}catch{return null}},wF=function(t,r,n,a,o){var i=t.maxLines,s=t.children,l=t.style,c=t.breakAll,f=se(i),d=s,h=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce(function(U,I){var L=I.word,D=I.width,G=U[U.length-1];if(G&&(a==null||o||G.width+D+n<Number(a)))G.words.push(L),G.width+=D+n;else{var ee={words:[L],width:D};U.push(ee)}return U},[])},p=h(r),m=function($){return $.reduce(function(U,I){return U.width>I.width?U:I})};if(!f)return p;for(var v="",x=function($){var U=d.slice(0,$),I=NO({breakAll:c,style:l,children:U+v}).wordsWithComputedWidth,L=h(I),D=L.length>i||m(L).width>Number(a);return[D,L]},y=0,g=d.length-1,b=0,S;y<=g&&b<=d.length-1;){var w=Math.floor((y+g)/2),k=w-1,O=x(k),P=m1(O,2),_=P[0],N=P[1],A=x(w),E=m1(A,1),B=E[0];if(!_&&!B&&(y=w+1),_&&B&&(g=w-1),!_&&B){S=N;break}b++}return S||p},v1=function(t){var r=Fe(t)?[]:t.toString().split(_O);return[{words:r}]},kF=function(t){var r=t.width,n=t.scaleToFit,a=t.children,o=t.style,i=t.breakAll,s=t.maxLines;if((r||n)&&!Ho.isSsr){var l,c,f=NO({breakAll:i,children:a,style:o});if(f){var d=f.wordsWithComputedWidth,h=f.spaceWidth;l=d,c=h}else return v1(a);return wF({breakAll:i,children:a,maxLines:s,style:o},l,c,r,n)}return v1(a)},x1="#808080",id=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,o=a===void 0?0:a,i=t.lineHeight,s=i===void 0?"1em":i,l=t.capHeight,c=l===void 0?"0.71em":l,f=t.scaleToFit,d=f===void 0?!1:f,h=t.textAnchor,p=h===void 0?"start":h,m=t.verticalAnchor,v=m===void 0?"end":m,x=t.fill,y=x===void 0?x1:x,g=g1(t,pF),b=j.useMemo(function(){return kF({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:d,style:g.style,width:g.width})},[g.breakAll,g.children,g.maxLines,d,g.style,g.width]),S=g.dx,w=g.dy,k=g.angle,O=g.className,P=g.breakAll,_=g1(g,gF);if(!Nr(n)||!Nr(o))return null;var N=n+(se(S)?S:0),A=o+(se(w)?w:0),E;switch(v){case"start":E=Xp("calc(".concat(c,")"));break;case"middle":E=Xp("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:E=Xp("calc(".concat(b.length-1," * -").concat(s,")"));break}var B=[];if(d){var z=b[0].width,$=g.width;B.push("scale(".concat((se($)?$/z:1)/z,")"))}return k&&B.push("rotate(".concat(k,", ").concat(N,", ").concat(A,")")),B.length&&(_.transform=B.join(" ")),M.createElement("text",Rg({},Ue(_,!0),{x:N,y:A,className:Ze("recharts-text",O),textAnchor:p,fill:y.includes("url")?x1:y}),b.map(function(U,I){var L=U.words.join(P?"":" ");return M.createElement("tspan",{x:N,dy:I===0?E:s,key:"".concat(L,"-").concat(I)},L)}))};function Lo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function SF(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function av(e){let t,r,n;e.length!==2?(t=Lo,r=(s,l)=>Lo(e(s),l),n=(s,l)=>e(s)-l):(t=e===Lo||e===SF?e:jF,r=e,n=e);function a(s,l,c=0,f=s.length){if(c<f){if(t(l,l)!==0)return f;do{const d=c+f>>>1;r(s[d],l)<0?c=d+1:f=d}while(c<f)}return c}function o(s,l,c=0,f=s.length){if(c<f){if(t(l,l)!==0)return f;do{const d=c+f>>>1;r(s[d],l)<=0?c=d+1:f=d}while(c<f)}return c}function i(s,l,c=0,f=s.length){const d=a(s,l,c,f-1);return d>c&&n(s[d-1],l)>-n(s[d],l)?d-1:d}return{left:a,center:i,right:o}}function jF(){return 0}function AO(e){return e===null?NaN:+e}function*OF(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const PF=av(Lo),uu=PF.right;av(AO).center;class b1 extends Map{constructor(t,r=AF){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(w1(this,t))}has(t){return super.has(w1(this,t))}set(t,r){return super.set(_F(this,t),r)}delete(t){return super.delete(NF(this,t))}}function w1({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function _F({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function NF({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function AF(e){return e!==null&&typeof e=="object"?e.valueOf():e}function MF(e=Lo){if(e===Lo)return MO;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function MO(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const CF=Math.sqrt(50),EF=Math.sqrt(10),TF=Math.sqrt(2);function sd(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),o=n/Math.pow(10,a),i=o>=CF?10:o>=EF?5:o>=TF?2:1;let s,l,c;return a<0?(c=Math.pow(10,-a)/i,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*i,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=r&&r<2?sd(e,t,r*2):[s,l,c]}function Lg(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,o,i]=n?sd(t,e,r):sd(e,t,r);if(!(o>=a))return[];const s=o-a+1,l=new Array(s);if(n)if(i<0)for(let c=0;c<s;++c)l[c]=(o-c)/-i;else for(let c=0;c<s;++c)l[c]=(o-c)*i;else if(i<0)for(let c=0;c<s;++c)l[c]=(a+c)/-i;else for(let c=0;c<s;++c)l[c]=(a+c)*i;return l}function Ig(e,t,r){return t=+t,e=+e,r=+r,sd(e,t,r)[2]}function Bg(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Ig(t,e,r):Ig(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function k1(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function S1(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function CO(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?MO:MF(a);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,f=Math.log(l),d=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*d*(l-d)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(t-c*d/l+h)),m=Math.min(n,Math.floor(t+(l-c)*d/l+h));CO(e,t,p,m,a)}const o=e[t];let i=r,s=n;for(Nl(e,r,t),a(e[n],o)>0&&Nl(e,r,n);i<s;){for(Nl(e,i,s),++i,--s;a(e[i],o)<0;)++i;for(;a(e[s],o)>0;)--s}a(e[r],o)===0?Nl(e,r,s):(++s,Nl(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function Nl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function $F(e,t,r){if(e=Float64Array.from(OF(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return S1(e);if(t>=1)return k1(e);var n,a=(n-1)*t,o=Math.floor(a),i=k1(CO(e,o).subarray(0,o+1)),s=S1(e.subarray(o+1));return i+(s-i)*(a-o)}}function DF(e,t,r=AO){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,o=Math.floor(a),i=+r(e[o],o,e),s=+r(e[o+1],o+1,e);return i+(s-i)*(a-o)}}function RF(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(a);++n<a;)o[n]=e+n*r;return o}function ua(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function fo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Fg=Symbol("implicit");function ov(){var e=new b1,t=[],r=[],n=Fg;function a(o){let i=e.get(o);if(i===void 0){if(n!==Fg)return n;e.set(o,i=t.push(o)-1)}return r[i%r.length]}return a.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new b1;for(const i of o)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(o){return arguments.length?(r=Array.from(o),a):r.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return ov(t,r).unknown(n)},ua.apply(a,arguments),a}function Ac(){var e=ov().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,o,i,s=!1,l=0,c=0,f=.5;delete e.unknown;function d(){var h=t().length,p=a<n,m=p?a:n,v=p?n:a;o=(v-m)/Math.max(1,h-l+c*2),s&&(o=Math.floor(o)),m+=(v-m-o*(h-l))*f,i=o*(1-l),s&&(m=Math.round(m),i=Math.round(i));var x=RF(h).map(function(y){return m+o*y});return r(p?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,d()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,s=!0,d()},e.bandwidth=function(){return i},e.step=function(){return o},e.round=function(h){return arguments.length?(s=!!h,d()):s},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),d()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},e.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),d()):f},e.copy=function(){return Ac(t(),[n,a]).round(s).paddingInner(l).paddingOuter(c).align(f)},ua.apply(d(),arguments)}function EO(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return EO(t())},e}function Zl(){return EO(Ac.apply(null,arguments).paddingInner(1))}function iv(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function TO(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function fu(){}var Mc=.7,ld=1/Mc,hs="\\s*([+-]?\\d+)\\s*",Cc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ra="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",LF=/^#([0-9a-f]{3,8})$/,IF=new RegExp(`^rgb\\(${hs},${hs},${hs}\\)$`),BF=new RegExp(`^rgb\\(${Ra},${Ra},${Ra}\\)$`),FF=new RegExp(`^rgba\\(${hs},${hs},${hs},${Cc}\\)$`),zF=new RegExp(`^rgba\\(${Ra},${Ra},${Ra},${Cc}\\)$`),UF=new RegExp(`^hsl\\(${Cc},${Ra},${Ra}\\)$`),WF=new RegExp(`^hsla\\(${Cc},${Ra},${Ra},${Cc}\\)$`),j1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};iv(fu,Ec,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:O1,formatHex:O1,formatHex8:GF,formatHsl:HF,formatRgb:P1,toString:P1});function O1(){return this.rgb().formatHex()}function GF(){return this.rgb().formatHex8()}function HF(){return $O(this).formatHsl()}function P1(){return this.rgb().formatRgb()}function Ec(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=LF.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?_1(t):r===3?new _n(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Zu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Zu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=IF.exec(e))?new _n(t[1],t[2],t[3],1):(t=BF.exec(e))?new _n(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=FF.exec(e))?Zu(t[1],t[2],t[3],t[4]):(t=zF.exec(e))?Zu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=UF.exec(e))?M1(t[1],t[2]/100,t[3]/100,1):(t=WF.exec(e))?M1(t[1],t[2]/100,t[3]/100,t[4]):j1.hasOwnProperty(e)?_1(j1[e]):e==="transparent"?new _n(NaN,NaN,NaN,0):null}function _1(e){return new _n(e>>16&255,e>>8&255,e&255,1)}function Zu(e,t,r,n){return n<=0&&(e=t=r=NaN),new _n(e,t,r,n)}function VF(e){return e instanceof fu||(e=Ec(e)),e?(e=e.rgb(),new _n(e.r,e.g,e.b,e.opacity)):new _n}function zg(e,t,r,n){return arguments.length===1?VF(e):new _n(e,t,r,n??1)}function _n(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}iv(_n,zg,TO(fu,{brighter(e){return e=e==null?ld:Math.pow(ld,e),new _n(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Mc:Math.pow(Mc,e),new _n(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new _n(yi(this.r),yi(this.g),yi(this.b),cd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:N1,formatHex:N1,formatHex8:XF,formatRgb:A1,toString:A1}));function N1(){return`#${ui(this.r)}${ui(this.g)}${ui(this.b)}`}function XF(){return`#${ui(this.r)}${ui(this.g)}${ui(this.b)}${ui((isNaN(this.opacity)?1:this.opacity)*255)}`}function A1(){const e=cd(this.opacity);return`${e===1?"rgb(":"rgba("}${yi(this.r)}, ${yi(this.g)}, ${yi(this.b)}${e===1?")":`, ${e})`}`}function cd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function yi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ui(e){return e=yi(e),(e<16?"0":"")+e.toString(16)}function M1(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new va(e,t,r,n)}function $O(e){if(e instanceof va)return new va(e.h,e.s,e.l,e.opacity);if(e instanceof fu||(e=Ec(e)),!e)return new va;if(e instanceof va)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),o=Math.max(t,r,n),i=NaN,s=o-a,l=(o+a)/2;return s?(t===o?i=(r-n)/s+(r<n)*6:r===o?i=(n-t)/s+2:i=(t-r)/s+4,s/=l<.5?o+a:2-o-a,i*=60):s=l>0&&l<1?0:i,new va(i,s,l,e.opacity)}function KF(e,t,r,n){return arguments.length===1?$O(e):new va(e,t,r,n??1)}function va(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}iv(va,KF,TO(fu,{brighter(e){return e=e==null?ld:Math.pow(ld,e),new va(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Mc:Math.pow(Mc,e),new va(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new _n(Kp(e>=240?e-240:e+120,a,n),Kp(e,a,n),Kp(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new va(C1(this.h),Qu(this.s),Qu(this.l),cd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=cd(this.opacity);return`${e===1?"hsl(":"hsla("}${C1(this.h)}, ${Qu(this.s)*100}%, ${Qu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function C1(e){return e=(e||0)%360,e<0?e+360:e}function Qu(e){return Math.max(0,Math.min(1,e||0))}function Kp(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const sv=e=>()=>e;function YF(e,t){return function(r){return e+r*t}}function qF(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function ZF(e){return(e=+e)==1?DO:function(t,r){return r-t?qF(t,r,e):sv(isNaN(t)?r:t)}}function DO(e,t){var r=t-e;return r?YF(e,r):sv(isNaN(e)?t:e)}const E1=function e(t){var r=ZF(t);function n(a,o){var i=r((a=zg(a)).r,(o=zg(o)).r),s=r(a.g,o.g),l=r(a.b,o.b),c=DO(a.opacity,o.opacity);return function(f){return a.r=i(f),a.g=s(f),a.b=l(f),a.opacity=c(f),a+""}}return n.gamma=e,n}(1);function QF(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(o){for(a=0;a<r;++a)n[a]=e[a]*(1-o)+t[a]*o;return n}}function JF(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ez(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),o=new Array(r),i;for(i=0;i<n;++i)a[i]=ll(e[i],t[i]);for(;i<r;++i)o[i]=t[i];return function(s){for(i=0;i<n;++i)o[i]=a[i](s);return o}}function tz(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function ud(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function rz(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=ll(e[a],t[a]):n[a]=t[a];return function(o){for(a in r)n[a]=r[a](o);return n}}var Ug=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yp=new RegExp(Ug.source,"g");function nz(e){return function(){return e}}function az(e){return function(t){return e(t)+""}}function oz(e,t){var r=Ug.lastIndex=Yp.lastIndex=0,n,a,o,i=-1,s=[],l=[];for(e=e+"",t=t+"";(n=Ug.exec(e))&&(a=Yp.exec(t));)(o=a.index)>r&&(o=t.slice(r,o),s[i]?s[i]+=o:s[++i]=o),(n=n[0])===(a=a[0])?s[i]?s[i]+=a:s[++i]=a:(s[++i]=null,l.push({i,x:ud(n,a)})),r=Yp.lastIndex;return r<t.length&&(o=t.slice(r),s[i]?s[i]+=o:s[++i]=o),s.length<2?l[0]?az(l[0].x):nz(t):(t=l.length,function(c){for(var f=0,d;f<t;++f)s[(d=l[f]).i]=d.x(c);return s.join("")})}function ll(e,t){var r=typeof t,n;return t==null||r==="boolean"?sv(t):(r==="number"?ud:r==="string"?(n=Ec(t))?(t=n,E1):oz:t instanceof Ec?E1:t instanceof Date?tz:JF(t)?QF:Array.isArray(t)?ez:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?rz:ud)(e,t)}function lv(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function iz(e,t){t===void 0&&(t=e,e=ll);for(var r=0,n=t.length-1,a=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(a,a=t[++r]);return function(i){var s=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return o[s](i-s)}}function sz(e){return function(){return e}}function fd(e){return+e}var T1=[0,1];function yn(e){return e}function Wg(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:sz(isNaN(t)?NaN:.5)}function lz(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function cz(e,t,r){var n=e[0],a=e[1],o=t[0],i=t[1];return a<n?(n=Wg(a,n),o=r(i,o)):(n=Wg(n,a),o=r(o,i)),function(s){return o(n(s))}}function uz(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),o=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=Wg(e[i],e[i+1]),o[i]=r(t[i],t[i+1]);return function(s){var l=uu(e,s,1,n)-1;return o[l](a[l](s))}}function du(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function $h(){var e=T1,t=T1,r=ll,n,a,o,i=yn,s,l,c;function f(){var h=Math.min(e.length,t.length);return i!==yn&&(i=lz(e[0],e[h-1])),s=h>2?uz:cz,l=c=null,d}function d(h){return h==null||isNaN(h=+h)?o:(l||(l=s(e.map(n),t,r)))(n(i(h)))}return d.invert=function(h){return i(a((c||(c=s(t,e.map(n),ud)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,fd),f()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),r=lv,f()},d.clamp=function(h){return arguments.length?(i=h?!0:yn,f()):i!==yn},d.interpolate=function(h){return arguments.length?(r=h,f()):r},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,p){return n=h,a=p,f()}}function cv(){return $h()(yn,yn)}function fz(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function dd(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ns(e){return e=dd(Math.abs(e)),e?e[1]:NaN}function dz(e,t){return function(r,n){for(var a=r.length,o=[],i=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),o.push(r.substring(a-=s,a+s)),!((l+=s+1)>n));)s=e[i=(i+1)%e.length];return o.reverse().join(t)}}function hz(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var pz=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Tc(e){if(!(t=pz.exec(e)))throw new Error("invalid format: "+e);var t;return new uv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Tc.prototype=uv.prototype;function uv(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}uv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function gz(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var RO;function mz(e,t){var r=dd(e,t);if(!r)return e+"";var n=r[0],a=r[1],o=a-(RO=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return o===i?n:o>i?n+new Array(o-i+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+dd(e,Math.max(0,t+o-1))[0]}function $1(e,t){var r=dd(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const D1={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:fz,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>$1(e*100,t),r:$1,s:mz,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function R1(e){return e}var L1=Array.prototype.map,I1=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function yz(e){var t=e.grouping===void 0||e.thousands===void 0?R1:dz(L1.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?R1:hz(L1.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(d){d=Tc(d);var h=d.fill,p=d.align,m=d.sign,v=d.symbol,x=d.zero,y=d.width,g=d.comma,b=d.precision,S=d.trim,w=d.type;w==="n"?(g=!0,w="g"):D1[w]||(b===void 0&&(b=12),S=!0,w="g"),(x||h==="0"&&p==="=")&&(x=!0,h="0",p="=");var k=v==="$"?r:v==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",O=v==="$"?n:/[%p]/.test(w)?i:"",P=D1[w],_=/[defgprs%]/.test(w);b=b===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function N(A){var E=k,B=O,z,$,U;if(w==="c")B=P(A)+B,A="";else{A=+A;var I=A<0||1/A<0;if(A=isNaN(A)?l:P(Math.abs(A),b),S&&(A=gz(A)),I&&+A==0&&m!=="+"&&(I=!1),E=(I?m==="("?m:s:m==="-"||m==="("?"":m)+E,B=(w==="s"?I1[8+RO/3]:"")+B+(I&&m==="("?")":""),_){for(z=-1,$=A.length;++z<$;)if(U=A.charCodeAt(z),48>U||U>57){B=(U===46?a+A.slice(z+1):A.slice(z))+B,A=A.slice(0,z);break}}}g&&!x&&(A=t(A,1/0));var L=E.length+A.length+B.length,D=L<y?new Array(y-L+1).join(h):"";switch(g&&x&&(A=t(D+A,D.length?y-B.length:1/0),D=""),p){case"<":A=E+A+B+D;break;case"=":A=E+D+A+B;break;case"^":A=D.slice(0,L=D.length>>1)+E+A+B+D.slice(L);break;default:A=D+E+A+B;break}return o(A)}return N.toString=function(){return d+""},N}function f(d,h){var p=c((d=Tc(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(Ns(h)/3)))*3,v=Math.pow(10,-m),x=I1[8+m/3];return function(y){return p(v*y)+x}}return{format:c,formatPrefix:f}}var Ju,fv,LO;vz({thousands:",",grouping:[3],currency:["$",""]});function vz(e){return Ju=yz(e),fv=Ju.format,LO=Ju.formatPrefix,Ju}function xz(e){return Math.max(0,-Ns(Math.abs(e)))}function bz(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ns(t)/3)))*3-Ns(Math.abs(e)))}function wz(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ns(t)-Ns(e))+1}function IO(e,t,r,n){var a=Bg(e,t,r),o;switch(n=Tc(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=bz(a,i))&&(n.precision=o),LO(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=wz(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=xz(a))&&(n.precision=o-(n.type==="%")*2);break}}return fv(n)}function Vo(e){var t=e.domain;return e.ticks=function(r){var n=t();return Lg(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return IO(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,o=n.length-1,i=n[a],s=n[o],l,c,f=10;for(s<i&&(c=i,i=s,s=c,c=a,a=o,o=c);f-- >0;){if(c=Ig(i,s,r),c===l)return n[a]=i,n[o]=s,t(n);if(c>0)i=Math.floor(i/c)*c,s=Math.ceil(s/c)*c;else if(c<0)i=Math.ceil(i*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function hd(){var e=cv();return e.copy=function(){return du(e,hd())},ua.apply(e,arguments),Vo(e)}function BO(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,fd),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return BO(e).unknown(t)},e=arguments.length?Array.from(e,fd):[0,1],Vo(r)}function FO(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],o=e[n],i;return o<a&&(i=r,r=n,n=i,i=a,a=o,o=i),e[r]=t.floor(a),e[n]=t.ceil(o),e}function B1(e){return Math.log(e)}function F1(e){return Math.exp(e)}function kz(e){return-Math.log(-e)}function Sz(e){return-Math.exp(-e)}function jz(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Oz(e){return e===10?jz:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Pz(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function z1(e){return(t,r)=>-e(-t,r)}function dv(e){const t=e(B1,F1),r=t.domain;let n=10,a,o;function i(){return a=Pz(n),o=Oz(n),r()[0]<0?(a=z1(a),o=z1(o),e(kz,Sz)):e(B1,F1),t}return t.base=function(s){return arguments.length?(n=+s,i()):n},t.domain=function(s){return arguments.length?(r(s),i()):r()},t.ticks=s=>{const l=r();let c=l[0],f=l[l.length-1];const d=f<c;d&&([c,f]=[f,c]);let h=a(c),p=a(f),m,v;const x=s==null?10:+s;let y=[];if(!(n%1)&&p-h<x){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(m=1;m<n;++m)if(v=h<0?m/o(-h):m*o(h),!(v<c)){if(v>f)break;y.push(v)}}else for(;h<=p;++h)for(m=n-1;m>=1;--m)if(v=h>0?m/o(-h):m*o(h),!(v<c)){if(v>f)break;y.push(v)}y.length*2<x&&(y=Lg(c,f,x))}else y=Lg(h,p,Math.min(p-h,x)).map(o);return d?y.reverse():y},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Tc(l)).precision==null&&(l.trim=!0),l=fv(l)),s===1/0)return l;const c=Math.max(1,n*s/t.ticks().length);return f=>{let d=f/o(Math.round(a(f)));return d*n<n-.5&&(d*=n),d<=c?l(f):""}},t.nice=()=>r(FO(r(),{floor:s=>o(Math.floor(a(s))),ceil:s=>o(Math.ceil(a(s)))})),t}function zO(){const e=dv($h()).domain([1,10]);return e.copy=()=>du(e,zO()).base(e.base()),ua.apply(e,arguments),e}function U1(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function W1(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function hv(e){var t=1,r=e(U1(t),W1(t));return r.constant=function(n){return arguments.length?e(U1(t=+n),W1(t)):t},Vo(r)}function UO(){var e=hv($h());return e.copy=function(){return du(e,UO()).constant(e.constant())},ua.apply(e,arguments)}function G1(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function _z(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Nz(e){return e<0?-e*e:e*e}function pv(e){var t=e(yn,yn),r=1;function n(){return r===1?e(yn,yn):r===.5?e(_z,Nz):e(G1(r),G1(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Vo(t)}function gv(){var e=pv($h());return e.copy=function(){return du(e,gv()).exponent(e.exponent())},ua.apply(e,arguments),e}function Az(){return gv.apply(null,arguments).exponent(.5)}function H1(e){return Math.sign(e)*e*e}function Mz(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function WO(){var e=cv(),t=[0,1],r=!1,n;function a(o){var i=Mz(e(o));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(o){return e.invert(H1(o))},a.domain=function(o){return arguments.length?(e.domain(o),a):e.domain()},a.range=function(o){return arguments.length?(e.range((t=Array.from(o,fd)).map(H1)),a):t.slice()},a.rangeRound=function(o){return a.range(o).round(!0)},a.round=function(o){return arguments.length?(r=!!o,a):r},a.clamp=function(o){return arguments.length?(e.clamp(o),a):e.clamp()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return WO(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ua.apply(a,arguments),Vo(a)}function GO(){var e=[],t=[],r=[],n;function a(){var i=0,s=Math.max(1,t.length);for(r=new Array(s-1);++i<s;)r[i-1]=DF(e,i/s);return o}function o(i){return i==null||isNaN(i=+i)?n:t[uu(r,i)]}return o.invertExtent=function(i){var s=t.indexOf(i);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},o.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let s of i)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Lo),a()},o.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},o.unknown=function(i){return arguments.length?(n=i,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return GO().domain(e).range(t).unknown(n)},ua.apply(o,arguments)}function HO(){var e=0,t=1,r=1,n=[.5],a=[0,1],o;function i(l){return l!=null&&l<=l?a[uu(n,l,0,r)]:o}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return i}return i.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},i.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,s()):a.slice()},i.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},i.unknown=function(l){return arguments.length&&(o=l),i},i.thresholds=function(){return n.slice()},i.copy=function(){return HO().domain([e,t]).range(a).unknown(o)},ua.apply(Vo(i),arguments)}function VO(){var e=[.5],t=[0,1],r,n=1;function a(o){return o!=null&&o<=o?t[uu(e,o,0,n)]:r}return a.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(o){var i=t.indexOf(o);return[e[i-1],e[i]]},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return VO().domain(e).range(t).unknown(r)},ua.apply(a,arguments)}const qp=new Date,Zp=new Date;function Mr(e,t,r,n){function a(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=o=>(e(o=new Date(+o)),o),a.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),a.round=o=>{const i=a(o),s=a.ceil(o);return o-i<s-o?i:s},a.offset=(o,i)=>(t(o=new Date(+o),i==null?1:Math.floor(i)),o),a.range=(o,i,s)=>{const l=[];if(o=a.ceil(o),s=s==null?1:Math.floor(s),!(o<i)||!(s>0))return l;let c;do l.push(c=new Date(+o)),t(o,s),e(o);while(c<o&&o<i);return l},a.filter=o=>Mr(i=>{if(i>=i)for(;e(i),!o(i);)i.setTime(i-1)},(i,s)=>{if(i>=i)if(s<0)for(;++s<=0;)for(;t(i,-1),!o(i););else for(;--s>=0;)for(;t(i,1),!o(i););}),r&&(a.count=(o,i)=>(qp.setTime(+o),Zp.setTime(+i),e(qp),e(Zp),Math.floor(r(qp,Zp))),a.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(n?i=>n(i)%o===0:i=>a.count(0,i)%o===0):a)),a}const pd=Mr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);pd.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Mr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):pd);pd.range;const Xa=1e3,ra=Xa*60,Ka=ra*60,oo=Ka*24,mv=oo*7,V1=oo*30,Qp=oo*365,fi=Mr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Xa)},(e,t)=>(t-e)/Xa,e=>e.getUTCSeconds());fi.range;const yv=Mr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Xa)},(e,t)=>{e.setTime(+e+t*ra)},(e,t)=>(t-e)/ra,e=>e.getMinutes());yv.range;const vv=Mr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ra)},(e,t)=>(t-e)/ra,e=>e.getUTCMinutes());vv.range;const xv=Mr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Xa-e.getMinutes()*ra)},(e,t)=>{e.setTime(+e+t*Ka)},(e,t)=>(t-e)/Ka,e=>e.getHours());xv.range;const bv=Mr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ka)},(e,t)=>(t-e)/Ka,e=>e.getUTCHours());bv.range;const hu=Mr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ra)/oo,e=>e.getDate()-1);hu.range;const Dh=Mr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/oo,e=>e.getUTCDate()-1);Dh.range;const XO=Mr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/oo,e=>Math.floor(e/oo));XO.range;function Ri(e){return Mr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ra)/mv)}const Rh=Ri(0),gd=Ri(1),Cz=Ri(2),Ez=Ri(3),As=Ri(4),Tz=Ri(5),$z=Ri(6);Rh.range;gd.range;Cz.range;Ez.range;As.range;Tz.range;$z.range;function Li(e){return Mr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/mv)}const Lh=Li(0),md=Li(1),Dz=Li(2),Rz=Li(3),Ms=Li(4),Lz=Li(5),Iz=Li(6);Lh.range;md.range;Dz.range;Rz.range;Ms.range;Lz.range;Iz.range;const wv=Mr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());wv.range;const kv=Mr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());kv.range;const io=Mr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());io.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Mr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});io.range;const so=Mr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());so.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Mr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});so.range;function KO(e,t,r,n,a,o){const i=[[fi,1,Xa],[fi,5,5*Xa],[fi,15,15*Xa],[fi,30,30*Xa],[o,1,ra],[o,5,5*ra],[o,15,15*ra],[o,30,30*ra],[a,1,Ka],[a,3,3*Ka],[a,6,6*Ka],[a,12,12*Ka],[n,1,oo],[n,2,2*oo],[r,1,mv],[t,1,V1],[t,3,3*V1],[e,1,Qp]];function s(c,f,d){const h=f<c;h&&([c,f]=[f,c]);const p=d&&typeof d.range=="function"?d:l(c,f,d),m=p?p.range(c,+f+1):[];return h?m.reverse():m}function l(c,f,d){const h=Math.abs(f-c)/d,p=av(([,,x])=>x).right(i,h);if(p===i.length)return e.every(Bg(c/Qp,f/Qp,d));if(p===0)return pd.every(Math.max(Bg(c,f,d),1));const[m,v]=i[h/i[p-1][2]<i[p][2]/h?p-1:p];return m.every(v)}return[s,l]}const[Bz,Fz]=KO(so,kv,Lh,XO,bv,vv),[zz,Uz]=KO(io,wv,Rh,hu,xv,yv);function Jp(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function e0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Al(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Wz(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,o=e.days,i=e.shortDays,s=e.months,l=e.shortMonths,c=Ml(a),f=Cl(a),d=Ml(o),h=Cl(o),p=Ml(i),m=Cl(i),v=Ml(s),x=Cl(s),y=Ml(l),g=Cl(l),b={a:I,A:L,b:D,B:G,c:null,d:Q1,e:Q1,f:d9,g:k9,G:j9,H:c9,I:u9,j:f9,L:YO,m:h9,M:p9,p:ee,q:Q,Q:tw,s:rw,S:g9,u:m9,U:y9,V:v9,w:x9,W:b9,x:null,X:null,y:w9,Y:S9,Z:O9,"%":ew},S={a:q,A:X,b:le,B:ue,c:null,d:J1,e:J1,f:A9,g:B9,G:z9,H:P9,I:_9,j:N9,L:ZO,m:M9,M:C9,p:Se,q:be,Q:tw,s:rw,S:E9,u:T9,U:$9,V:D9,w:R9,W:L9,x:null,X:null,y:I9,Y:F9,Z:U9,"%":ew},w={a:N,A,b:E,B,c:z,d:q1,e:q1,f:o9,g:Y1,G:K1,H:Z1,I:Z1,j:t9,L:a9,m:e9,M:r9,p:_,q:Jz,Q:s9,s:l9,S:n9,u:Kz,U:Yz,V:qz,w:Xz,W:Zz,x:$,X:U,y:Y1,Y:K1,Z:Qz,"%":i9};b.x=k(r,b),b.X=k(n,b),b.c=k(t,b),S.x=k(r,S),S.X=k(n,S),S.c=k(t,S);function k(K,ie){return function(ge){var W=[],ve=-1,he=0,Oe=K.length,Ke,Je,qt;for(ge instanceof Date||(ge=new Date(+ge));++ve<Oe;)K.charCodeAt(ve)===37&&(W.push(K.slice(he,ve)),(Je=X1[Ke=K.charAt(++ve)])!=null?Ke=K.charAt(++ve):Je=Ke==="e"?" ":"0",(qt=ie[Ke])&&(Ke=qt(ge,Je)),W.push(Ke),he=ve+1);return W.push(K.slice(he,ve)),W.join("")}}function O(K,ie){return function(ge){var W=Al(1900,void 0,1),ve=P(W,K,ge+="",0),he,Oe;if(ve!=ge.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(ie&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(he=e0(Al(W.y,0,1)),Oe=he.getUTCDay(),he=Oe>4||Oe===0?md.ceil(he):md(he),he=Dh.offset(he,(W.V-1)*7),W.y=he.getUTCFullYear(),W.m=he.getUTCMonth(),W.d=he.getUTCDate()+(W.w+6)%7):(he=Jp(Al(W.y,0,1)),Oe=he.getDay(),he=Oe>4||Oe===0?gd.ceil(he):gd(he),he=hu.offset(he,(W.V-1)*7),W.y=he.getFullYear(),W.m=he.getMonth(),W.d=he.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),Oe="Z"in W?e0(Al(W.y,0,1)).getUTCDay():Jp(Al(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(Oe+5)%7:W.w+W.U*7-(Oe+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,e0(W)):Jp(W)}}function P(K,ie,ge,W){for(var ve=0,he=ie.length,Oe=ge.length,Ke,Je;ve<he;){if(W>=Oe)return-1;if(Ke=ie.charCodeAt(ve++),Ke===37){if(Ke=ie.charAt(ve++),Je=w[Ke in X1?ie.charAt(ve++):Ke],!Je||(W=Je(K,ge,W))<0)return-1}else if(Ke!=ge.charCodeAt(W++))return-1}return W}function _(K,ie,ge){var W=c.exec(ie.slice(ge));return W?(K.p=f.get(W[0].toLowerCase()),ge+W[0].length):-1}function N(K,ie,ge){var W=p.exec(ie.slice(ge));return W?(K.w=m.get(W[0].toLowerCase()),ge+W[0].length):-1}function A(K,ie,ge){var W=d.exec(ie.slice(ge));return W?(K.w=h.get(W[0].toLowerCase()),ge+W[0].length):-1}function E(K,ie,ge){var W=y.exec(ie.slice(ge));return W?(K.m=g.get(W[0].toLowerCase()),ge+W[0].length):-1}function B(K,ie,ge){var W=v.exec(ie.slice(ge));return W?(K.m=x.get(W[0].toLowerCase()),ge+W[0].length):-1}function z(K,ie,ge){return P(K,t,ie,ge)}function $(K,ie,ge){return P(K,r,ie,ge)}function U(K,ie,ge){return P(K,n,ie,ge)}function I(K){return i[K.getDay()]}function L(K){return o[K.getDay()]}function D(K){return l[K.getMonth()]}function G(K){return s[K.getMonth()]}function ee(K){return a[+(K.getHours()>=12)]}function Q(K){return 1+~~(K.getMonth()/3)}function q(K){return i[K.getUTCDay()]}function X(K){return o[K.getUTCDay()]}function le(K){return l[K.getUTCMonth()]}function ue(K){return s[K.getUTCMonth()]}function Se(K){return a[+(K.getUTCHours()>=12)]}function be(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var ie=k(K+="",b);return ie.toString=function(){return K},ie},parse:function(K){var ie=O(K+="",!1);return ie.toString=function(){return K},ie},utcFormat:function(K){var ie=k(K+="",S);return ie.toString=function(){return K},ie},utcParse:function(K){var ie=O(K+="",!0);return ie.toString=function(){return K},ie}}}var X1={"-":"",_:" ",0:"0"},Lr=/^\s*\d+/,Gz=/^%/,Hz=/[\\^$*+?|[\]().{}]/g;function ot(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",o=a.length;return n+(o<r?new Array(r-o+1).join(t)+a:a)}function Vz(e){return e.replace(Hz,"\\$&")}function Ml(e){return new RegExp("^(?:"+e.map(Vz).join("|")+")","i")}function Cl(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Xz(e,t,r){var n=Lr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Kz(e,t,r){var n=Lr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Yz(e,t,r){var n=Lr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function qz(e,t,r){var n=Lr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Zz(e,t,r){var n=Lr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function K1(e,t,r){var n=Lr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Y1(e,t,r){var n=Lr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Qz(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Jz(e,t,r){var n=Lr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function e9(e,t,r){var n=Lr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function q1(e,t,r){var n=Lr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function t9(e,t,r){var n=Lr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Z1(e,t,r){var n=Lr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function r9(e,t,r){var n=Lr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function n9(e,t,r){var n=Lr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function a9(e,t,r){var n=Lr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function o9(e,t,r){var n=Lr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function i9(e,t,r){var n=Gz.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function s9(e,t,r){var n=Lr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function l9(e,t,r){var n=Lr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Q1(e,t){return ot(e.getDate(),t,2)}function c9(e,t){return ot(e.getHours(),t,2)}function u9(e,t){return ot(e.getHours()%12||12,t,2)}function f9(e,t){return ot(1+hu.count(io(e),e),t,3)}function YO(e,t){return ot(e.getMilliseconds(),t,3)}function d9(e,t){return YO(e,t)+"000"}function h9(e,t){return ot(e.getMonth()+1,t,2)}function p9(e,t){return ot(e.getMinutes(),t,2)}function g9(e,t){return ot(e.getSeconds(),t,2)}function m9(e){var t=e.getDay();return t===0?7:t}function y9(e,t){return ot(Rh.count(io(e)-1,e),t,2)}function qO(e){var t=e.getDay();return t>=4||t===0?As(e):As.ceil(e)}function v9(e,t){return e=qO(e),ot(As.count(io(e),e)+(io(e).getDay()===4),t,2)}function x9(e){return e.getDay()}function b9(e,t){return ot(gd.count(io(e)-1,e),t,2)}function w9(e,t){return ot(e.getFullYear()%100,t,2)}function k9(e,t){return e=qO(e),ot(e.getFullYear()%100,t,2)}function S9(e,t){return ot(e.getFullYear()%1e4,t,4)}function j9(e,t){var r=e.getDay();return e=r>=4||r===0?As(e):As.ceil(e),ot(e.getFullYear()%1e4,t,4)}function O9(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ot(t/60|0,"0",2)+ot(t%60,"0",2)}function J1(e,t){return ot(e.getUTCDate(),t,2)}function P9(e,t){return ot(e.getUTCHours(),t,2)}function _9(e,t){return ot(e.getUTCHours()%12||12,t,2)}function N9(e,t){return ot(1+Dh.count(so(e),e),t,3)}function ZO(e,t){return ot(e.getUTCMilliseconds(),t,3)}function A9(e,t){return ZO(e,t)+"000"}function M9(e,t){return ot(e.getUTCMonth()+1,t,2)}function C9(e,t){return ot(e.getUTCMinutes(),t,2)}function E9(e,t){return ot(e.getUTCSeconds(),t,2)}function T9(e){var t=e.getUTCDay();return t===0?7:t}function $9(e,t){return ot(Lh.count(so(e)-1,e),t,2)}function QO(e){var t=e.getUTCDay();return t>=4||t===0?Ms(e):Ms.ceil(e)}function D9(e,t){return e=QO(e),ot(Ms.count(so(e),e)+(so(e).getUTCDay()===4),t,2)}function R9(e){return e.getUTCDay()}function L9(e,t){return ot(md.count(so(e)-1,e),t,2)}function I9(e,t){return ot(e.getUTCFullYear()%100,t,2)}function B9(e,t){return e=QO(e),ot(e.getUTCFullYear()%100,t,2)}function F9(e,t){return ot(e.getUTCFullYear()%1e4,t,4)}function z9(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ms(e):Ms.ceil(e),ot(e.getUTCFullYear()%1e4,t,4)}function U9(){return"+0000"}function ew(){return"%"}function tw(e){return+e}function rw(e){return Math.floor(+e/1e3)}var zi,JO,eP;W9({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function W9(e){return zi=Wz(e),JO=zi.format,zi.parse,eP=zi.utcFormat,zi.utcParse,zi}function G9(e){return new Date(e)}function H9(e){return e instanceof Date?+e:+new Date(+e)}function Sv(e,t,r,n,a,o,i,s,l,c){var f=cv(),d=f.invert,h=f.domain,p=c(".%L"),m=c(":%S"),v=c("%I:%M"),x=c("%I %p"),y=c("%a %d"),g=c("%b %d"),b=c("%B"),S=c("%Y");function w(k){return(l(k)<k?p:s(k)<k?m:i(k)<k?v:o(k)<k?x:n(k)<k?a(k)<k?y:g:r(k)<k?b:S)(k)}return f.invert=function(k){return new Date(d(k))},f.domain=function(k){return arguments.length?h(Array.from(k,H9)):h().map(G9)},f.ticks=function(k){var O=h();return e(O[0],O[O.length-1],k??10)},f.tickFormat=function(k,O){return O==null?w:c(O)},f.nice=function(k){var O=h();return(!k||typeof k.range!="function")&&(k=t(O[0],O[O.length-1],k??10)),k?h(FO(O,k)):f},f.copy=function(){return du(f,Sv(e,t,r,n,a,o,i,s,l,c))},f}function V9(){return ua.apply(Sv(zz,Uz,io,wv,Rh,hu,xv,yv,fi,JO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function X9(){return ua.apply(Sv(Bz,Fz,so,kv,Lh,Dh,bv,vv,fi,eP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ih(){var e=0,t=1,r,n,a,o,i=yn,s=!1,l;function c(d){return d==null||isNaN(d=+d)?l:i(a===0?.5:(d=(o(d)-r)*a,s?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([e,t]=d,r=o(e=+e),n=o(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(d){return arguments.length?(s=!!d,c):s},c.interpolator=function(d){return arguments.length?(i=d,c):i};function f(d){return function(h){var p,m;return arguments.length?([p,m]=h,i=d(p,m),c):[i(0),i(1)]}}return c.range=f(ll),c.rangeRound=f(lv),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return o=d,r=d(e),n=d(t),a=r===n?0:1/(n-r),c}}function Xo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function tP(){var e=Vo(Ih()(yn));return e.copy=function(){return Xo(e,tP())},fo.apply(e,arguments)}function rP(){var e=dv(Ih()).domain([1,10]);return e.copy=function(){return Xo(e,rP()).base(e.base())},fo.apply(e,arguments)}function nP(){var e=hv(Ih());return e.copy=function(){return Xo(e,nP()).constant(e.constant())},fo.apply(e,arguments)}function jv(){var e=pv(Ih());return e.copy=function(){return Xo(e,jv()).exponent(e.exponent())},fo.apply(e,arguments)}function K9(){return jv.apply(null,arguments).exponent(.5)}function aP(){var e=[],t=yn;function r(n){if(n!=null&&!isNaN(n=+n))return t((uu(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Lo),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,o)=>$F(e,o/n))},r.copy=function(){return aP(t).domain(e)},fo.apply(r,arguments)}function Bh(){var e=0,t=.5,r=1,n=1,a,o,i,s,l,c=yn,f,d=!1,h;function p(v){return isNaN(v=+v)?h:(v=.5+((v=+f(v))-o)*(n*v<n*o?s:l),c(d?Math.max(0,Math.min(1,v)):v))}p.domain=function(v){return arguments.length?([e,t,r]=v,a=f(e=+e),o=f(t=+t),i=f(r=+r),s=a===o?0:.5/(o-a),l=o===i?0:.5/(i-o),n=o<a?-1:1,p):[e,t,r]},p.clamp=function(v){return arguments.length?(d=!!v,p):d},p.interpolator=function(v){return arguments.length?(c=v,p):c};function m(v){return function(x){var y,g,b;return arguments.length?([y,g,b]=x,c=iz(v,[y,g,b]),p):[c(0),c(.5),c(1)]}}return p.range=m(ll),p.rangeRound=m(lv),p.unknown=function(v){return arguments.length?(h=v,p):h},function(v){return f=v,a=v(e),o=v(t),i=v(r),s=a===o?0:.5/(o-a),l=o===i?0:.5/(i-o),n=o<a?-1:1,p}}function oP(){var e=Vo(Bh()(yn));return e.copy=function(){return Xo(e,oP())},fo.apply(e,arguments)}function iP(){var e=dv(Bh()).domain([.1,1,10]);return e.copy=function(){return Xo(e,iP()).base(e.base())},fo.apply(e,arguments)}function sP(){var e=hv(Bh());return e.copy=function(){return Xo(e,sP()).constant(e.constant())},fo.apply(e,arguments)}function Ov(){var e=pv(Bh());return e.copy=function(){return Xo(e,Ov()).exponent(e.exponent())},fo.apply(e,arguments)}function Y9(){return Ov.apply(null,arguments).exponent(.5)}const nw=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ac,scaleDiverging:oP,scaleDivergingLog:iP,scaleDivergingPow:Ov,scaleDivergingSqrt:Y9,scaleDivergingSymlog:sP,scaleIdentity:BO,scaleImplicit:Fg,scaleLinear:hd,scaleLog:zO,scaleOrdinal:ov,scalePoint:Zl,scalePow:gv,scaleQuantile:GO,scaleQuantize:HO,scaleRadial:WO,scaleSequential:tP,scaleSequentialLog:rP,scaleSequentialPow:jv,scaleSequentialQuantile:aP,scaleSequentialSqrt:K9,scaleSequentialSymlog:nP,scaleSqrt:Az,scaleSymlog:UO,scaleThreshold:VO,scaleTime:V9,scaleUtc:X9,tickFormat:IO},Symbol.toStringTag,{value:"Module"}));var q9=Js;function Z9(e,t,r){for(var n=-1,a=e.length;++n<a;){var o=e[n],i=t(o);if(i!=null&&(s===void 0?i===i&&!q9(i):r(i,s)))var s=i,l=o}return l}var lP=Z9;function Q9(e,t){return e>t}var J9=Q9,e7=lP,t7=J9,r7=sl;function n7(e){return e&&e.length?e7(e,r7,t7):void 0}var a7=n7;const Oo=Nt(a7);function o7(e,t){return e<t}var i7=o7,s7=lP,l7=i7,c7=sl;function u7(e){return e&&e.length?s7(e,c7,l7):void 0}var f7=u7;const Fh=Nt(f7);var d7=By,h7=Go,p7=yO,g7=En;function m7(e,t){var r=g7(e)?d7:p7;return r(e,h7(t))}var y7=m7,v7=gO,x7=y7;function b7(e,t){return v7(x7(e,t),1)}var w7=b7;const k7=Nt(w7);var S7=Jy;function j7(e,t){return S7(e,t)}var O7=j7;const _i=Nt(O7);var cl=1e9,P7={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},_v,Yt=!0,la="[DecimalError] ",vi=la+"Invalid argument: ",Pv=la+"Exponent out of range: ",ul=Math.floor,oi=Math.pow,_7=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,zn,$r=1e7,Ft=7,cP=9007199254740991,yd=ul(cP/Ft),ye={};ye.absoluteValue=ye.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ye.comparedTo=ye.cmp=function(e){var t,r,n,a,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===a?0:n>a^o.s<0?1:-1};ye.decimalPlaces=ye.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ft;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ye.dividedBy=ye.div=function(e){return eo(this,new this.constructor(e))};ye.dividedToIntegerBy=ye.idiv=function(e){var t=this,r=t.constructor;return _t(eo(t,new r(e),0,1),r.precision)};ye.equals=ye.eq=function(e){return!this.cmp(e)};ye.exponent=function(){return kr(this)};ye.greaterThan=ye.gt=function(e){return this.cmp(e)>0};ye.greaterThanOrEqualTo=ye.gte=function(e){return this.cmp(e)>=0};ye.isInteger=ye.isint=function(){return this.e>this.d.length-2};ye.isNegative=ye.isneg=function(){return this.s<0};ye.isPositive=ye.ispos=function(){return this.s>0};ye.isZero=function(){return this.s===0};ye.lessThan=ye.lt=function(e){return this.cmp(e)<0};ye.lessThanOrEqualTo=ye.lte=function(e){return this.cmp(e)<1};ye.logarithm=ye.log=function(e){var t,r=this,n=r.constructor,a=n.precision,o=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(zn))throw Error(la+"NaN");if(r.s<1)throw Error(la+(r.s?"NaN":"-Infinity"));return r.eq(zn)?new n(0):(Yt=!1,t=eo($c(r,o),$c(e,o),o),Yt=!0,_t(t,a))};ye.minus=ye.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?dP(t,e):uP(t,(e.s=-e.s,e))};ye.modulo=ye.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(la+"NaN");return r.s?(Yt=!1,t=eo(r,e,0,1).times(e),Yt=!0,r.minus(t)):_t(new n(r),a)};ye.naturalExponential=ye.exp=function(){return fP(this)};ye.naturalLogarithm=ye.ln=function(){return $c(this)};ye.negated=ye.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ye.plus=ye.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?uP(t,e):dP(t,(e.s=-e.s,e))};ye.precision=ye.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(vi+e);if(t=kr(a)+1,n=a.d.length-1,r=n*Ft+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ye.squareRoot=ye.sqrt=function(){var e,t,r,n,a,o,i,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(la+"NaN")}for(e=kr(s),Yt=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=Ea(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=ul((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=i=r+3;;)if(o=n,n=o.plus(eo(s,o,i+2)).times(.5),Ea(o.d).slice(0,i)===(t=Ea(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if(_t(o,r+1,0),o.times(o).eq(s)){n=o;break}}else if(t!="9999")break;i+=4}return Yt=!0,_t(n,r)};ye.times=ye.mul=function(e){var t,r,n,a,o,i,s,l,c,f=this,d=f.constructor,h=f.d,p=(e=new d(e)).d;if(!f.s||!e.s)return new d(0);for(e.s*=f.s,r=f.e+e.e,l=h.length,c=p.length,l<c&&(o=h,h=p,p=o,i=l,l=c,c=i),o=[],i=l+c,n=i;n--;)o.push(0);for(n=c;--n>=0;){for(t=0,a=l+n;a>n;)s=o[a]+p[n]*h[a-n-1]+t,o[a--]=s%$r|0,t=s/$r|0;o[a]=(o[a]+t)%$r|0}for(;!o[--i];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,Yt?_t(e,d.precision):e};ye.toDecimalPlaces=ye.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ba(e,0,cl),t===void 0?t=n.rounding:Ba(t,0,8),_t(r,e+kr(r)+1,t))};ye.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Ni(n,!0):(Ba(e,0,cl),t===void 0?t=a.rounding:Ba(t,0,8),n=_t(new a(n),e+1,t),r=Ni(n,!0,e+1)),r};ye.toFixed=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?Ni(a):(Ba(e,0,cl),t===void 0?t=o.rounding:Ba(t,0,8),n=_t(new o(a),e+kr(a)+1,t),r=Ni(n.abs(),!1,e+kr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ye.toInteger=ye.toint=function(){var e=this,t=e.constructor;return _t(new t(e),kr(e)+1,t.rounding)};ye.toNumber=function(){return+this};ye.toPower=ye.pow=function(e){var t,r,n,a,o,i,s=this,l=s.constructor,c=12,f=+(e=new l(e));if(!e.s)return new l(zn);if(s=new l(s),!s.s){if(e.s<1)throw Error(la+"Infinity");return s}if(s.eq(zn))return s;if(n=l.precision,e.eq(zn))return _t(s,n);if(t=e.e,r=e.d.length-1,i=t>=r,o=s.s,i){if((r=f<0?-f:f)<=cP){for(a=new l(zn),t=Math.ceil(n/Ft+4),Yt=!1;r%2&&(a=a.times(s),ow(a.d,t)),r=ul(r/2),r!==0;)s=s.times(s),ow(s.d,t);return Yt=!0,e.s<0?new l(zn).div(a):_t(a,n)}}else if(o<0)throw Error(la+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,Yt=!1,a=e.times($c(s,n+c)),Yt=!0,a=fP(a),a.s=o,a};ye.toPrecision=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?(r=kr(a),n=Ni(a,r<=o.toExpNeg||r>=o.toExpPos)):(Ba(e,1,cl),t===void 0?t=o.rounding:Ba(t,0,8),a=_t(new o(a),e,t),r=kr(a),n=Ni(a,e<=r||r<=o.toExpNeg,e)),n};ye.toSignificantDigits=ye.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ba(e,1,cl),t===void 0?t=n.rounding:Ba(t,0,8)),_t(new n(r),e,t)};ye.toString=ye.valueOf=ye.val=ye.toJSON=ye[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=kr(e),r=e.constructor;return Ni(e,t<=r.toExpNeg||t>=r.toExpPos)};function uP(e,t){var r,n,a,o,i,s,l,c,f=e.constructor,d=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),Yt?_t(t,d):t;if(l=e.d,c=t.d,i=e.e,a=t.e,l=l.slice(),o=i-a,o){for(o<0?(n=l,o=-o,s=c.length):(n=c,a=i,s=l.length),i=Math.ceil(d/Ft),s=i>s?i+1:s+1,o>s&&(o=s,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(s=l.length,o=c.length,s-o<0&&(o=s,n=c,c=l,l=n),r=0;o;)r=(l[--o]=l[o]+c[o]+r)/$r|0,l[o]%=$r;for(r&&(l.unshift(r),++a),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=a,Yt?_t(t,d):t}function Ba(e,t,r){if(e!==~~e||e<t||e>r)throw Error(vi+e)}function Ea(e){var t,r,n,a=e.length-1,o="",i=e[0];if(a>0){for(o+=i,t=1;t<a;t++)n=e[t]+"",r=Ft-n.length,r&&(o+=xo(r)),o+=n;i=e[t],n=i+"",r=Ft-n.length,r&&(o+=xo(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return o+i}var eo=function(){function e(n,a){var o,i=0,s=n.length;for(n=n.slice();s--;)o=n[s]*a+i,n[s]=o%$r|0,i=o/$r|0;return i&&n.unshift(i),n}function t(n,a,o,i){var s,l;if(o!=i)l=o>i?1:-1;else for(s=l=0;s<o;s++)if(n[s]!=a[s]){l=n[s]>a[s]?1:-1;break}return l}function r(n,a,o){for(var i=0;o--;)n[o]-=i,i=n[o]<a[o]?1:0,n[o]=i*$r+n[o]-a[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,o,i){var s,l,c,f,d,h,p,m,v,x,y,g,b,S,w,k,O,P,_=n.constructor,N=n.s==a.s?1:-1,A=n.d,E=a.d;if(!n.s)return new _(n);if(!a.s)throw Error(la+"Division by zero");for(l=n.e-a.e,O=E.length,w=A.length,p=new _(N),m=p.d=[],c=0;E[c]==(A[c]||0);)++c;if(E[c]>(A[c]||0)&&--l,o==null?g=o=_.precision:i?g=o+(kr(n)-kr(a))+1:g=o,g<0)return new _(0);if(g=g/Ft+2|0,c=0,O==1)for(f=0,E=E[0],g++;(c<w||f)&&g--;c++)b=f*$r+(A[c]||0),m[c]=b/E|0,f=b%E|0;else{for(f=$r/(E[0]+1)|0,f>1&&(E=e(E,f),A=e(A,f),O=E.length,w=A.length),S=O,v=A.slice(0,O),x=v.length;x<O;)v[x++]=0;P=E.slice(),P.unshift(0),k=E[0],E[1]>=$r/2&&++k;do f=0,s=t(E,v,O,x),s<0?(y=v[0],O!=x&&(y=y*$r+(v[1]||0)),f=y/k|0,f>1?(f>=$r&&(f=$r-1),d=e(E,f),h=d.length,x=v.length,s=t(d,v,h,x),s==1&&(f--,r(d,O<h?P:E,h))):(f==0&&(s=f=1),d=E.slice()),h=d.length,h<x&&d.unshift(0),r(v,d,x),s==-1&&(x=v.length,s=t(E,v,O,x),s<1&&(f++,r(v,O<x?P:E,x))),x=v.length):s===0&&(f++,v=[0]),m[c++]=f,s&&v[0]?v[x++]=A[S]||0:(v=[A[S]],x=1);while((S++<w||v[0]!==void 0)&&g--)}return m[0]||m.shift(),p.e=l,_t(p,i?o+kr(p)+1:o)}}();function fP(e,t){var r,n,a,o,i,s,l=0,c=0,f=e.constructor,d=f.precision;if(kr(e)>16)throw Error(Pv+kr(e));if(!e.s)return new f(zn);for(Yt=!1,s=d,i=new f(.03125);e.abs().gte(.1);)e=e.times(i),c+=5;for(n=Math.log(oi(2,c))/Math.LN10*2+5|0,s+=n,r=a=o=new f(zn),f.precision=s;;){if(a=_t(a.times(e),s),r=r.times(++l),i=o.plus(eo(a,r,s)),Ea(i.d).slice(0,s)===Ea(o.d).slice(0,s)){for(;c--;)o=_t(o.times(o),s);return f.precision=d,t==null?(Yt=!0,_t(o,d)):o}o=i}}function kr(e){for(var t=e.e*Ft,r=e.d[0];r>=10;r/=10)t++;return t}function t0(e,t,r){if(t>e.LN10.sd())throw Yt=!0,r&&(e.precision=r),Error(la+"LN10 precision limit exceeded");return _t(new e(e.LN10),t)}function xo(e){for(var t="";e--;)t+="0";return t}function $c(e,t){var r,n,a,o,i,s,l,c,f,d=1,h=10,p=e,m=p.d,v=p.constructor,x=v.precision;if(p.s<1)throw Error(la+(p.s?"NaN":"-Infinity"));if(p.eq(zn))return new v(0);if(t==null?(Yt=!1,c=x):c=t,p.eq(10))return t==null&&(Yt=!0),t0(v,c);if(c+=h,v.precision=c,r=Ea(m),n=r.charAt(0),o=kr(p),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Ea(p.d),n=r.charAt(0),d++;o=kr(p),n>1?(p=new v("0."+r),o++):p=new v(n+"."+r.slice(1))}else return l=t0(v,c+2,x).times(o+""),p=$c(new v(n+"."+r.slice(1)),c-h).plus(l),v.precision=x,t==null?(Yt=!0,_t(p,x)):p;for(s=i=p=eo(p.minus(zn),p.plus(zn),c),f=_t(p.times(p),c),a=3;;){if(i=_t(i.times(f),c),l=s.plus(eo(i,new v(a),c)),Ea(l.d).slice(0,c)===Ea(s.d).slice(0,c))return s=s.times(2),o!==0&&(s=s.plus(t0(v,c+2,x).times(o+""))),s=eo(s,new v(d),c),v.precision=x,t==null?(Yt=!0,_t(s,x)):s;s=l,a+=2}}function aw(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=ul(r/Ft),e.d=[],n=(r+1)%Ft,r<0&&(n+=Ft),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Ft;n<a;)e.d.push(+t.slice(n,n+=Ft));t=t.slice(n),n=Ft-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Yt&&(e.e>yd||e.e<-yd))throw Error(Pv+r)}else e.s=0,e.e=0,e.d=[0];return e}function _t(e,t,r){var n,a,o,i,s,l,c,f,d=e.d;for(i=1,o=d[0];o>=10;o/=10)i++;if(n=t-i,n<0)n+=Ft,a=t,c=d[f=0];else{if(f=Math.ceil((n+1)/Ft),o=d.length,f>=o)return e;for(c=o=d[f],i=1;o>=10;o/=10)i++;n%=Ft,a=n-Ft+i}if(r!==void 0&&(o=oi(10,i-a-1),s=c/o%10|0,l=t<0||d[f+1]!==void 0||c%o,l=r<4?(s||l)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?a>0?c/oi(10,i-a):0:d[f-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return l?(o=kr(e),d.length=1,t=t-o-1,d[0]=oi(10,(Ft-t%Ft)%Ft),e.e=ul(-t/Ft)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=f,o=1,f--):(d.length=f+1,o=oi(10,Ft-n),d[f]=a>0?(c/oi(10,i-a)%oi(10,a)|0)*o:0),l)for(;;)if(f==0){(d[0]+=o)==$r&&(d[0]=1,++e.e);break}else{if(d[f]+=o,d[f]!=$r)break;d[f--]=0,o=1}for(n=d.length;d[--n]===0;)d.pop();if(Yt&&(e.e>yd||e.e<-yd))throw Error(Pv+kr(e));return e}function dP(e,t){var r,n,a,o,i,s,l,c,f,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Yt?_t(t,p):t;if(l=e.d,d=t.d,n=t.e,c=e.e,l=l.slice(),i=c-n,i){for(f=i<0,f?(r=l,i=-i,s=d.length):(r=d,n=c,s=l.length),a=Math.max(Math.ceil(p/Ft),s)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=l.length,s=d.length,f=a<s,f&&(s=a),a=0;a<s;a++)if(l[a]!=d[a]){f=l[a]<d[a];break}i=0}for(f&&(r=l,l=d,d=r,t.s=-t.s),s=l.length,a=d.length-s;a>0;--a)l[s++]=0;for(a=d.length;a>i;){if(l[--a]<d[a]){for(o=a;o&&l[--o]===0;)l[o]=$r-1;--l[o],l[a]+=$r}l[a]-=d[a]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Yt?_t(t,p):t):new h(0)}function Ni(e,t,r){var n,a=kr(e),o=Ea(e.d),i=o.length;return t?(r&&(n=r-i)>0?o=o.charAt(0)+"."+o.slice(1)+xo(n):i>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+xo(-a-1)+o,r&&(n=r-i)>0&&(o+=xo(n))):a>=i?(o+=xo(a+1-i),r&&(n=r-a-1)>0&&(o=o+"."+xo(n))):((n=a+1)<i&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(o+="."),o+=xo(n))),e.s<0?"-"+o:o}function ow(e,t){if(e.length>t)return e.length=t,!0}function hP(e){var t,r,n;function a(o){var i=this;if(!(i instanceof a))return new a(o);if(i.constructor=a,o instanceof a){i.s=o.s,i.e=o.e,i.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(vi+o);if(o>0)i.s=1;else if(o<0)o=-o,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(o===~~o&&o<1e7){i.e=0,i.d=[o];return}return aw(i,o.toString())}else if(typeof o!="string")throw Error(vi+o);if(o.charCodeAt(0)===45?(o=o.slice(1),i.s=-1):i.s=1,_7.test(o))aw(i,o);else throw Error(vi+o)}if(a.prototype=ye,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=hP,a.config=a.set=N7,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function N7(e){if(!e||typeof e!="object")throw Error(la+"Object expected");var t,r,n,a=["precision",1,cl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(ul(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(vi+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(vi+r+": "+n);return this}var _v=hP(P7);zn=new _v(1);const St=_v;function A7(e){return T7(e)||E7(e)||C7(e)||M7()}function M7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C7(e,t){if(e){if(typeof e=="string")return Gg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gg(e,t)}}function E7(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function T7(e){if(Array.isArray(e))return Gg(e)}function Gg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var $7=function(t){return t},pP={},gP=function(t){return t===pP},iw=function(t){return function r(){return arguments.length===0||arguments.length===1&&gP(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},D7=function e(t,r){return t===1?r:iw(function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];var i=a.filter(function(s){return s!==pP}).length;return i>=t?r.apply(void 0,a):e(t-i,iw(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var f=a.map(function(d){return gP(d)?l.shift():d});return r.apply(void 0,A7(f).concat(l))}))})},zh=function(t){return D7(t.length,t)},Hg=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},R7=zh(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),L7=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return $7;var a=r.reverse(),o=a[0],i=a.slice(1);return function(){return i.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},Vg=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},mP=function(t){var r=null,n=null;return function(){for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return r&&o.every(function(s,l){return s===r[l]})||(r=o,n=t.apply(void 0,o)),n}};function I7(e){var t;return e===0?t=1:t=Math.floor(new St(e).abs().log(10).toNumber())+1,t}function B7(e,t,r){for(var n=new St(e),a=0,o=[];n.lt(t)&&a<1e5;)o.push(n.toNumber()),n=n.add(r),a++;return o}var F7=zh(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),z7=zh(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),U7=zh(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Uh={rangeStep:B7,getDigitCount:I7,interpolateNumber:F7,uninterpolateNumber:z7,uninterpolateTruncation:U7};function Xg(e){return H7(e)||G7(e)||yP(e)||W7()}function W7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G7(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function H7(e){if(Array.isArray(e))return Kg(e)}function Dc(e,t){return K7(e)||X7(e,t)||yP(e,t)||V7()}function V7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yP(e,t){if(e){if(typeof e=="string")return Kg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kg(e,t)}}function Kg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function X7(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,o=void 0;try{for(var i=e[Symbol.iterator](),s;!(n=(s=i.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(l){a=!0,o=l}finally{try{!n&&i.return!=null&&i.return()}finally{if(a)throw o}}return r}}function K7(e){if(Array.isArray(e))return e}function vP(e){var t=Dc(e,2),r=t[0],n=t[1],a=r,o=n;return r>n&&(a=n,o=r),[a,o]}function xP(e,t,r){if(e.lte(0))return new St(0);var n=Uh.getDigitCount(e.toNumber()),a=new St(10).pow(n),o=e.div(a),i=n!==1?.05:.1,s=new St(Math.ceil(o.div(i).toNumber())).add(r).mul(i),l=s.mul(a);return t?l:new St(Math.ceil(l))}function Y7(e,t,r){var n=1,a=new St(e);if(!a.isint()&&r){var o=Math.abs(e);o<1?(n=new St(10).pow(Uh.getDigitCount(e)-1),a=new St(Math.floor(a.div(n).toNumber())).mul(n)):o>1&&(a=new St(Math.floor(e)))}else e===0?a=new St(Math.floor((t-1)/2)):r||(a=new St(Math.floor(e)));var i=Math.floor((t-1)/2),s=L7(R7(function(l){return a.add(new St(l-i).mul(n)).toNumber()}),Hg);return s(0,t)}function bP(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new St(0),tickMin:new St(0),tickMax:new St(0)};var o=xP(new St(t).sub(e).div(r-1),n,a),i;e<=0&&t>=0?i=new St(0):(i=new St(e).add(t).div(2),i=i.sub(new St(i).mod(o)));var s=Math.ceil(i.sub(e).div(o).toNumber()),l=Math.ceil(new St(t).sub(i).div(o).toNumber()),c=s+l+1;return c>r?bP(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,s=t>0?s:s+(r-c)),{step:o,tickMin:i.sub(new St(s).mul(o)),tickMax:i.add(new St(l).mul(o))})}function q7(e){var t=Dc(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),s=vP([r,n]),l=Dc(s,2),c=l[0],f=l[1];if(c===-1/0||f===1/0){var d=f===1/0?[c].concat(Xg(Hg(0,a-1).map(function(){return 1/0}))):[].concat(Xg(Hg(0,a-1).map(function(){return-1/0})),[f]);return r>n?Vg(d):d}if(c===f)return Y7(c,a,o);var h=bP(c,f,i,o),p=h.step,m=h.tickMin,v=h.tickMax,x=Uh.rangeStep(m,v.add(new St(.1).mul(p)),p);return r>n?Vg(x):x}function Z7(e,t){var r=Dc(e,2),n=r[0],a=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=vP([n,a]),s=Dc(i,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,a];if(l===c)return[l];var f=Math.max(t,2),d=xP(new St(c).sub(l).div(f-1),o,0),h=[].concat(Xg(Uh.rangeStep(new St(l),new St(c).sub(new St(.99).mul(d)),d)),[c]);return n>a?Vg(h):h}var Q7=mP(q7),J7=mP(Z7),eU="Invariant failed";function Ai(e,t){throw new Error(eU)}var tU=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Cs(e){"@babel/helpers - typeof";return Cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cs(e)}function vd(){return vd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vd.apply(this,arguments)}function rU(e,t){return iU(e)||oU(e,t)||aU(e,t)||nU()}function nU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aU(e,t){if(e){if(typeof e=="string")return sw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sw(e,t)}}function sw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oU(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function iU(e){if(Array.isArray(e))return e}function sU(e,t){if(e==null)return{};var r=lU(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lU(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function cU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SP(n.key),n)}}function fU(e,t,r){return t&&uU(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dU(e,t,r){return t=xd(t),hU(e,wP()?Reflect.construct(t,r||[],xd(e).constructor):t.apply(e,r))}function hU(e,t){if(t&&(Cs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pU(e)}function pU(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wP=function(){return!!e})()}function xd(e){return xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xd(e)}function gU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yg(e,t)}function Yg(e,t){return Yg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Yg(e,t)}function kP(e,t,r){return t=SP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SP(e){var t=mU(e,"string");return Cs(t)=="symbol"?t:t+""}function mU(e,t){if(Cs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fl=function(e){function t(){return cU(this,t),dU(this,t,arguments)}return gU(t,e),fU(t,[{key:"render",value:function(){var n=this.props,a=n.offset,o=n.layout,i=n.width,s=n.dataKey,l=n.data,c=n.dataPointFormatter,f=n.xAxis,d=n.yAxis,h=sU(n,tU),p=Ue(h,!1);this.props.direction==="x"&&f.type!=="number"&&Ai();var m=l.map(function(v){var x=c(v,s),y=x.x,g=x.y,b=x.value,S=x.errorVal;if(!S)return null;var w=[],k,O;if(Array.isArray(S)){var P=rU(S,2);k=P[0],O=P[1]}else k=O=S;if(o==="vertical"){var _=f.scale,N=g+a,A=N+i,E=N-i,B=_(b-k),z=_(b+O);w.push({x1:z,y1:A,x2:z,y2:E}),w.push({x1:B,y1:N,x2:z,y2:N}),w.push({x1:B,y1:A,x2:B,y2:E})}else if(o==="horizontal"){var $=d.scale,U=y+a,I=U-i,L=U+i,D=$(b-k),G=$(b+O);w.push({x1:I,y1:G,x2:L,y2:G}),w.push({x1:U,y1:D,x2:U,y2:G}),w.push({x1:I,y1:D,x2:L,y2:D})}return M.createElement(st,vd({className:"recharts-errorBar",key:"bar-".concat(w.map(function(ee){return"".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))},p),w.map(function(ee){return M.createElement("line",vd({},ee,{key:"line-".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))}))});return M.createElement(st,{className:"recharts-errorBars"},m)}}])}(M.Component);kP(fl,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});kP(fl,"displayName","ErrorBar");function Rc(e){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rc(e)}function lw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lw(Object(r),!0).forEach(function(n){yU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yU(e,t,r){return t=vU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vU(e){var t=xU(e,"string");return Rc(t)=="symbol"?t:t+""}function xU(e,t){if(Rc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jP=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,o=t.legendContent,i=Fn(r,Ja);if(!i)return null;var s=Ja.defaultProps,l=s!==void 0?Jo(Jo({},s),i.props):{},c;return i.props&&i.props.payload?c=i.props&&i.props.payload:o==="children"?c=(n||[]).reduce(function(f,d){var h=d.item,p=d.props,m=p.sectors||p.data||[];return f.concat(m.map(function(v){return{type:i.props.iconType||h.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):c=(n||[]).map(function(f){var d=f.item,h=d.type.defaultProps,p=h!==void 0?Jo(Jo({},h),d.props):{},m=p.dataKey,v=p.name,x=p.legendType,y=p.hide;return{inactive:y,dataKey:m,type:l.iconType||x||"square",color:Nv(d),value:v||m,payload:p}}),Jo(Jo(Jo({},l),Ja.getWithHeight(i,a)),{},{payload:c,item:i})};function Lc(e){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lc(e)}function cw(e){return SU(e)||kU(e)||wU(e)||bU()}function bU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wU(e,t){if(e){if(typeof e=="string")return qg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qg(e,t)}}function kU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function SU(e){if(Array.isArray(e))return qg(e)}function qg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ur(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uw(Object(r),!0).forEach(function(n){ps(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ps(e,t,r){return t=jU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jU(e){var t=OU(e,"string");return Lc(t)=="symbol"?t:t+""}function OU(e,t){if(Lc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ar(e,t,r){return Fe(e)||Fe(t)?r:Nr(t)?oa(e,t,r):Ge(t)?t(e):r}function Ql(e,t,r,n){var a=k7(e,function(s){return Ar(s,t)});if(r==="number"){var o=a.filter(function(s){return se(s)||parseFloat(s)});return o.length?[Fh(o),Oo(o)]:[1/0,-1/0]}var i=n?a.filter(function(s){return!Fe(s)}):a;return i.map(function(s){return Nr(s)||s instanceof Date?s:""})}var PU=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,c=0;c<s;c++){var f=c>0?a[c-1].coordinate:a[s-1].coordinate,d=a[c].coordinate,h=c>=s-1?a[0].coordinate:a[c+1].coordinate,p=void 0;if(xa(d-f)!==xa(h-d)){var m=[];if(xa(h-d)===xa(l[1]-l[0])){p=h;var v=d+l[1]-l[0];m[0]=Math.min(v,(v+f)/2),m[1]=Math.max(v,(v+f)/2)}else{p=f;var x=h+l[1]-l[0];m[0]=Math.min(d,(x+d)/2),m[1]=Math.max(d,(x+d)/2)}var y=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(t>y[0]&&t<=y[1]||t>=m[0]&&t<=m[1]){i=a[c].index;break}}else{var g=Math.min(f,h),b=Math.max(f,h);if(t>(g+d)/2&&t<=(b+d)/2){i=a[c].index;break}}}else for(var S=0;S<s;S++)if(S===0&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<s-1&&t>(n[S].coordinate+n[S-1].coordinate)/2&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S===s-1&&t>(n[S].coordinate+n[S-1].coordinate)/2){i=n[S].index;break}return i},Nv=function(t){var r,n=t,a=n.type.displayName,o=(r=t.type)!==null&&r!==void 0&&r.defaultProps?ur(ur({},t.type.defaultProps),t.props):t.props,i=o.stroke,s=o.fill,l;switch(a){case"Line":l=i;break;case"Area":case"Radar":l=i&&i!=="none"?i:s;break;default:l=s;break}return l},_U=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,o=a===void 0?{}:a;if(!o)return{};for(var i={},s=Object.keys(o),l=0,c=s.length;l<c;l++)for(var f=o[s[l]].stackGroups,d=Object.keys(f),h=0,p=d.length;h<p;h++){var m=f[d[h]],v=m.items,x=m.cateAxisId,y=v.filter(function(O){return Za(O.type).indexOf("Bar")>=0});if(y&&y.length){var g=y[0].type.defaultProps,b=g!==void 0?ur(ur({},g),y[0].props):y[0].props,S=b.barSize,w=b[x];i[w]||(i[w]=[]);var k=Fe(S)?r:S;i[w].push({item:y[0],stackList:y.slice(1),barSize:Fe(k)?void 0:Pi(k,n,0)})}}return i},NU=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,o=t.sizeList,i=o===void 0?[]:o,s=t.maxBarSize,l=i.length;if(l<1)return null;var c=Pi(r,a,0,!0),f,d=[];if(i[0].barSize===+i[0].barSize){var h=!1,p=a/l,m=i.reduce(function(S,w){return S+w.barSize||0},0);m+=(l-1)*c,m>=a&&(m-=(l-1)*c,c=0),m>=a&&p>0&&(h=!0,p*=.9,m=l*p);var v=(a-m)/2>>0,x={offset:v-c,size:0};f=i.reduce(function(S,w){var k={item:w.item,position:{offset:x.offset+x.size+c,size:h?p:w.barSize}},O=[].concat(cw(S),[k]);return x=O[O.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(P){O.push({item:P,position:x})}),O},d)}else{var y=Pi(n,a,0,!0);a-2*y-(l-1)*c<=0&&(c=0);var g=(a-2*y-(l-1)*c)/l;g>1&&(g>>=0);var b=s===+s?Math.min(g,s):g;f=i.reduce(function(S,w,k){var O=[].concat(cw(S),[{item:w.item,position:{offset:y+(g+c)*k+(g-b)/2,size:b}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(P){O.push({item:P,position:O[O.length-1].position})}),O},d)}return f},AU=function(t,r,n,a){var o=n.children,i=n.width,s=n.margin,l=i-(s.left||0)-(s.right||0),c=jP({children:o,legendWidth:l});if(c){var f=a||{},d=f.width,h=f.height,p=c.align,m=c.verticalAlign,v=c.layout;if((v==="vertical"||v==="horizontal"&&m==="middle")&&p!=="center"&&se(t[p]))return ur(ur({},t),{},ps({},p,t[p]+(d||0)));if((v==="horizontal"||v==="vertical"&&p==="center")&&m!=="middle"&&se(t[m]))return ur(ur({},t),{},ps({},m,t[m]+(h||0)))}return t},MU=function(t,r,n){return Fe(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},OP=function(t,r,n,a,o){var i=r.props.children,s=Cn(i,fl).filter(function(c){return MU(a,o,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return t.reduce(function(c,f){var d=Ar(f,n);if(Fe(d))return c;var h=Array.isArray(d)?[Fh(d),Oo(d)]:[d,d],p=l.reduce(function(m,v){var x=Ar(f,v,0),y=h[0]-Math.abs(Array.isArray(x)?x[0]:x),g=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(y,m[0]),Math.max(g,m[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},CU=function(t,r,n,a,o){var i=r.map(function(s){return OP(t,s,n,o,a)}).filter(function(s){return!Fe(s)});return i&&i.length?i.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},PP=function(t,r,n,a,o){var i=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&OP(t,l,c,a)||Ql(t,c,n,o)});if(n==="number")return i.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return i.reduce(function(l,c){for(var f=0,d=c.length;f<d;f++)s[c[f]]||(s[c[f]]=!0,l.push(c[f]));return l},[])},_P=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},NP=function(t,r,n,a){if(a)return t.map(function(l){return l.coordinate});var o,i,s=t.map(function(l){return l.coordinate===r&&(o=!0),l.coordinate===n&&(i=!0),l.coordinate});return o||s.push(r),i||s.push(n),s},Ya=function(t,r,n){if(!t)return null;var a=t.scale,o=t.duplicateDomain,i=t.type,s=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,c=(r||n)&&i==="category"&&a.bandwidth?a.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?xa(s[0]-s[1])*2*c:c,r&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(d){var h=o?o.indexOf(d):d;return{coordinate:a(h)+c,value:d,offset:c}});return f.filter(function(d){return!al(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,h){return{coordinate:a(d)+c,value:d,index:h,offset:c}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(d){return{coordinate:a(d)+c,value:d,offset:c}}):a.domain().map(function(d,h){return{coordinate:a(d)+c,value:o?o[d]:d,index:h,offset:c}})},r0=new WeakMap,ef=function(t,r){if(typeof r!="function")return t;r0.has(t)||r0.set(t,new WeakMap);var n=r0.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},EU=function(t,r,n){var a=t.scale,o=t.type,i=t.layout,s=t.axisType;if(a==="auto")return i==="radial"&&s==="radiusAxis"?{scale:Ac(),realScaleType:"band"}:i==="radial"&&s==="angleAxis"?{scale:hd(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Zl(),realScaleType:"point"}:o==="category"?{scale:Ac(),realScaleType:"band"}:{scale:hd(),realScaleType:"linear"};if(Oi(a)){var l="scale".concat(Ph(a));return{scale:(nw[l]||Zl)(),realScaleType:nw[l]?l:"point"}}return Ge(a)?{scale:a}:{scale:Zl(),realScaleType:"point"}},fw=1e-4,TU=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),o=Math.min(a[0],a[1])-fw,i=Math.max(a[0],a[1])+fw,s=t(r[0]),l=t(r[n-1]);(s<o||s>i||l<o||l>i)&&t.domain([r[0],r[n-1]])}},$U=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},DU=function(t,r){if(!r||r.length!==2||!se(r[0])||!se(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),o=[t[0],t[1]];return(!se(t[0])||t[0]<n)&&(o[0]=n),(!se(t[1])||t[1]>a)&&(o[1]=a),o[0]>a&&(o[0]=a),o[1]<n&&(o[1]=n),o},RU=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var o=0,i=0,s=0;s<r;++s){var l=al(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=o,t[s][n][1]=o+l,o=t[s][n][1]):(t[s][n][0]=i,t[s][n][1]=i+l,i=t[s][n][1])}},LU=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var o=0,i=0;i<r;++i){var s=al(t[i][n][1])?t[i][n][0]:t[i][n][1];s>=0?(t[i][n][0]=o,t[i][n][1]=o+s,o=t[i][n][1]):(t[i][n][0]=0,t[i][n][1]=0)}},IU={sign:RU,expand:J$,none:ks,silhouette:e3,wiggle:t3,positive:LU},BU=function(t,r,n){var a=r.map(function(s){return s.props.dataKey}),o=IU[n],i=Q$().keys(a).value(function(s,l){return+Ar(s,l,0)}).order(wg).offset(o);return i(t)},FU=function(t,r,n,a,o,i){if(!t)return null;var s=i?r.reverse():r,l={},c=s.reduce(function(d,h){var p,m=(p=h.type)!==null&&p!==void 0&&p.defaultProps?ur(ur({},h.type.defaultProps),h.props):h.props,v=m.stackId,x=m.hide;if(x)return d;var y=m[n],g=d[y]||{hasStack:!1,stackGroups:{}};if(Nr(v)){var b=g.stackGroups[v]||{numericAxisId:n,cateAxisId:a,items:[]};b.items.push(h),g.hasStack=!0,g.stackGroups[v]=b}else g.stackGroups[Di("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return ur(ur({},d),{},ps({},y,g))},l),f={};return Object.keys(c).reduce(function(d,h){var p=c[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(v,x){var y=p.stackGroups[x];return ur(ur({},v),{},ps({},x,{numericAxisId:n,cateAxisId:a,items:y.items,stackedData:BU(t,y.items,o)}))},m)}return ur(ur({},d),{},ps({},h,p))},f)},zU=function(t,r){var n=r.realScaleType,a=r.type,o=r.tickCount,i=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&a==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var c=t.domain();if(!c.length)return null;var f=Q7(c,o,s);return t.domain([Fh(f),Oo(f)]),{niceTicks:f}}if(o&&a==="number"){var d=t.domain(),h=J7(d,o,s);return{niceTicks:h}}return null};function Es(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,o=e.index,i=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Fe(a[t.dataKey])){var s=Hf(r,"value",a[t.dataKey]);if(s)return s.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var l=Ar(a,Fe(i)?t.dataKey:i);return Fe(l)?null:t.scale(l)}var dw=function(t){var r=t.axis,n=t.ticks,a=t.offset,o=t.bandSize,i=t.entry,s=t.index;if(r.type==="category")return n[s]?n[s].coordinate+a:null;var l=Ar(i,r.dataKey,r.domain[s]);return Fe(l)?null:r.scale(l)-o/2+a},UU=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return a<=0&&o>=0?0:o<0?o:a}return n[0]},WU=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?ur(ur({},t.type.defaultProps),t.props):t.props,o=a.stackId;if(Nr(o)){var i=r[o];if(i){var s=i.items.indexOf(t);return s>=0?i.stackedData[s]:null}}return null},GU=function(t){return t.reduce(function(r,n){return[Fh(n.concat([r[0]]).filter(se)),Oo(n.concat([r[1]]).filter(se))]},[1/0,-1/0])},AP=function(t,r,n){return Object.keys(t).reduce(function(a,o){var i=t[o],s=i.stackedData,l=s.reduce(function(c,f){var d=GU(f.slice(r,n+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},hw=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,pw=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Zg=function(t,r,n){if(Ge(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(se(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(hw.test(t[0])){var o=+hw.exec(t[0])[1];a[0]=r[0]-o}else Ge(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(se(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(pw.test(t[1])){var i=+pw.exec(t[1])[1];a[1]=r[1]+i}else Ge(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},bd=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var o=tv(r,function(d){return d.coordinate}),i=1/0,s=1,l=o.length;s<l;s++){var c=o[s],f=o[s-1];i=Math.min((c.coordinate||0)-(f.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},gw=function(t,r,n){return!t||!t.length||_i(t,oa(n,"type.defaultProps.domain"))?r:t},MP=function(t,r){var n=t.type.defaultProps?ur(ur({},t.type.defaultProps),t.props):t.props,a=n.dataKey,o=n.name,i=n.unit,s=n.formatter,l=n.tooltipType,c=n.chartType,f=n.hide;return ur(ur({},Ue(t,!1)),{},{dataKey:a,unit:i,formatter:s,name:o||a,color:Nv(t),value:Ar(r,a),type:l,payload:r,chartType:c,hide:f})};function Ic(e){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ic(e)}function mw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mw(Object(r),!0).forEach(function(n){HU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HU(e,t,r){return t=VU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VU(e){var t=XU(e,"string");return Ic(t)=="symbol"?t:t+""}function XU(e,t){if(Ic(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wd=Math.PI/180,KU=function(t){return t*180/Math.PI},Gr=function(t,r,n,a){return{x:t+Math.cos(-wd*a)*n,y:r+Math.sin(-wd*a)*n}},YU=function(t,r){var n=t.x,a=t.y,o=r.x,i=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(a-i,2))},qU=function(t,r){var n=t.x,a=t.y,o=r.cx,i=r.cy,s=YU({x:n,y:a},{x:o,y:i});if(s<=0)return{radius:s};var l=(n-o)/s,c=Math.acos(l);return a>i&&(c=2*Math.PI-c),{radius:s,angle:KU(c),angleInRadian:c}},ZU=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),o=Math.floor(n/360),i=Math.min(a,o);return{startAngle:r-i*360,endAngle:n-i*360}},QU=function(t,r){var n=r.startAngle,a=r.endAngle,o=Math.floor(n/360),i=Math.floor(a/360),s=Math.min(o,i);return t+s*360},vw=function(t,r){var n=t.x,a=t.y,o=qU({x:n,y:a},r),i=o.radius,s=o.angle,l=r.innerRadius,c=r.outerRadius;if(i<l||i>c)return!1;if(i===0)return!0;var f=ZU(r),d=f.startAngle,h=f.endAngle,p=s,m;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;m=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=d}return m?yw(yw({},r),{},{radius:i,angle:QU(p,r)}):null};function Bc(e){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bc(e)}var JU=["offset"];function eW(e){return aW(e)||nW(e)||rW(e)||tW()}function tW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rW(e,t){if(e){if(typeof e=="string")return Qg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qg(e,t)}}function nW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aW(e){if(Array.isArray(e))return Qg(e)}function Qg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oW(e,t){if(e==null)return{};var r=iW(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function xw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xw(Object(r),!0).forEach(function(n){sW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sW(e,t,r){return t=lW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lW(e){var t=cW(e,"string");return Bc(t)=="symbol"?t:t+""}function cW(e,t){if(Bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fc(){return Fc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fc.apply(this,arguments)}var uW=function(t){var r=t.value,n=t.formatter,a=Fe(t.children)?r:t.children;return Ge(n)?n(a):a},fW=function(t,r){var n=xa(r-t),a=Math.min(Math.abs(r-t),360);return n*a},dW=function(t,r,n){var a=t.position,o=t.viewBox,i=t.offset,s=t.className,l=o,c=l.cx,f=l.cy,d=l.innerRadius,h=l.outerRadius,p=l.startAngle,m=l.endAngle,v=l.clockWise,x=(d+h)/2,y=fW(p,m),g=y>=0?1:-1,b,S;a==="insideStart"?(b=p+g*i,S=v):a==="insideEnd"?(b=m-g*i,S=!v):a==="end"&&(b=m+g*i,S=v),S=y<=0?S:!S;var w=Gr(c,f,x,b),k=Gr(c,f,x,b+(S?1:-1)*359),O="M".concat(w.x,",").concat(w.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(S?0:1,`,
    `).concat(k.x,",").concat(k.y),P=Fe(t.id)?Di("recharts-radial-line-"):t.id;return M.createElement("text",Fc({},n,{dominantBaseline:"central",className:Ze("recharts-radial-bar-label",s)}),M.createElement("defs",null,M.createElement("path",{id:P,d:O})),M.createElement("textPath",{xlinkHref:"#".concat(P)},r))},hW=function(t){var r=t.viewBox,n=t.offset,a=t.position,o=r,i=o.cx,s=o.cy,l=o.innerRadius,c=o.outerRadius,f=o.startAngle,d=o.endAngle,h=(f+d)/2;if(a==="outside"){var p=Gr(i,s,c+n,h),m=p.x,v=p.y;return{x:m,y:v,textAnchor:m>=i?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"end"};var x=(l+c)/2,y=Gr(i,s,x,h),g=y.x,b=y.y;return{x:g,y:b,textAnchor:"middle",verticalAnchor:"middle"}},pW=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,o=t.position,i=r,s=i.x,l=i.y,c=i.width,f=i.height,d=f>=0?1:-1,h=d*a,p=d>0?"end":"start",m=d>0?"start":"end",v=c>=0?1:-1,x=v*a,y=v>0?"end":"start",g=v>0?"start":"end";if(o==="top"){var b={x:s+c/2,y:l-d*a,textAnchor:"middle",verticalAnchor:p};return Or(Or({},b),n?{height:Math.max(l-n.y,0),width:c}:{})}if(o==="bottom"){var S={x:s+c/2,y:l+f+h,textAnchor:"middle",verticalAnchor:m};return Or(Or({},S),n?{height:Math.max(n.y+n.height-(l+f),0),width:c}:{})}if(o==="left"){var w={x:s-x,y:l+f/2,textAnchor:y,verticalAnchor:"middle"};return Or(Or({},w),n?{width:Math.max(w.x-n.x,0),height:f}:{})}if(o==="right"){var k={x:s+c+x,y:l+f/2,textAnchor:g,verticalAnchor:"middle"};return Or(Or({},k),n?{width:Math.max(n.x+n.width-k.x,0),height:f}:{})}var O=n?{width:c,height:f}:{};return o==="insideLeft"?Or({x:s+x,y:l+f/2,textAnchor:g,verticalAnchor:"middle"},O):o==="insideRight"?Or({x:s+c-x,y:l+f/2,textAnchor:y,verticalAnchor:"middle"},O):o==="insideTop"?Or({x:s+c/2,y:l+h,textAnchor:"middle",verticalAnchor:m},O):o==="insideBottom"?Or({x:s+c/2,y:l+f-h,textAnchor:"middle",verticalAnchor:p},O):o==="insideTopLeft"?Or({x:s+x,y:l+h,textAnchor:g,verticalAnchor:m},O):o==="insideTopRight"?Or({x:s+c-x,y:l+h,textAnchor:y,verticalAnchor:m},O):o==="insideBottomLeft"?Or({x:s+x,y:l+f-h,textAnchor:g,verticalAnchor:p},O):o==="insideBottomRight"?Or({x:s+c-x,y:l+f-h,textAnchor:y,verticalAnchor:p},O):el(o)&&(se(o.x)||ci(o.x))&&(se(o.y)||ci(o.y))?Or({x:s+Pi(o.x,c),y:l+Pi(o.y,f),textAnchor:"end",verticalAnchor:"end"},O):Or({x:s+c/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},O)},gW=function(t){return"cx"in t&&se(t.cx)};function an(e){var t=e.offset,r=t===void 0?5:t,n=oW(e,JU),a=Or({offset:r},n),o=a.viewBox,i=a.position,s=a.value,l=a.children,c=a.content,f=a.className,d=f===void 0?"":f,h=a.textBreakAll;if(!o||Fe(s)&&Fe(l)&&!j.isValidElement(c)&&!Ge(c))return null;if(j.isValidElement(c))return j.cloneElement(c,a);var p;if(Ge(c)){if(p=j.createElement(c,a),j.isValidElement(p))return p}else p=uW(a);var m=gW(o),v=Ue(a,!0);if(m&&(i==="insideStart"||i==="insideEnd"||i==="end"))return dW(a,p,v);var x=m?hW(a):pW(a);return M.createElement(id,Fc({className:Ze("recharts-label",d)},v,x,{breakAll:h}),p)}an.displayName="Label";var CP=function(t){var r=t.cx,n=t.cy,a=t.angle,o=t.startAngle,i=t.endAngle,s=t.r,l=t.radius,c=t.innerRadius,f=t.outerRadius,d=t.x,h=t.y,p=t.top,m=t.left,v=t.width,x=t.height,y=t.clockWise,g=t.labelViewBox;if(g)return g;if(se(v)&&se(x)){if(se(d)&&se(h))return{x:d,y:h,width:v,height:x};if(se(p)&&se(m))return{x:p,y:m,width:v,height:x}}return se(d)&&se(h)?{x:d,y:h,width:0,height:0}:se(r)&&se(n)?{cx:r,cy:n,startAngle:o||a||0,endAngle:i||a||0,innerRadius:c||0,outerRadius:f||l||s||0,clockWise:y}:t.viewBox?t.viewBox:{}},mW=function(t,r){return t?t===!0?M.createElement(an,{key:"label-implicit",viewBox:r}):Nr(t)?M.createElement(an,{key:"label-implicit",viewBox:r,value:t}):j.isValidElement(t)?t.type===an?j.cloneElement(t,{key:"label-implicit",viewBox:r}):M.createElement(an,{key:"label-implicit",content:t,viewBox:r}):Ge(t)?M.createElement(an,{key:"label-implicit",content:t,viewBox:r}):el(t)?M.createElement(an,Fc({viewBox:r},t,{key:"label-implicit"})):null:null},yW=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,o=CP(t),i=Cn(a,an).map(function(l,c){return j.cloneElement(l,{viewBox:r||o,key:"label-".concat(c)})});if(!n)return i;var s=mW(t.label,r||o);return[s].concat(eW(i))};an.parseViewBox=CP;an.renderCallByParent=yW;function vW(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var xW=vW;const bW=Nt(xW);function zc(e){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zc(e)}var wW=["valueAccessor"],kW=["data","dataKey","clockWise","id","textBreakAll"];function SW(e){return _W(e)||PW(e)||OW(e)||jW()}function jW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OW(e,t){if(e){if(typeof e=="string")return Jg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jg(e,t)}}function PW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _W(e){if(Array.isArray(e))return Jg(e)}function Jg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kd(){return kd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kd.apply(this,arguments)}function bw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ww(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bw(Object(r),!0).forEach(function(n){NW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NW(e,t,r){return t=AW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AW(e){var t=MW(e,"string");return zc(t)=="symbol"?t:t+""}function MW(e,t){if(zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kw(e,t){if(e==null)return{};var r=CW(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function CW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var EW=function(t){return Array.isArray(t.value)?bW(t.value):t.value};function La(e){var t=e.valueAccessor,r=t===void 0?EW:t,n=kw(e,wW),a=n.data,o=n.dataKey,i=n.clockWise,s=n.id,l=n.textBreakAll,c=kw(n,kW);return!a||!a.length?null:M.createElement(st,{className:"recharts-label-list"},a.map(function(f,d){var h=Fe(o)?r(f,d):Ar(f&&f.payload,o),p=Fe(s)?{}:{id:"".concat(s,"-").concat(d)};return M.createElement(an,kd({},Ue(f,!0),c,p,{parentViewBox:f.parentViewBox,value:h,textBreakAll:l,viewBox:an.parseViewBox(Fe(i)?f:ww(ww({},f),{},{clockWise:i})),key:"label-".concat(d),index:d}))}))}La.displayName="LabelList";function TW(e,t){return e?e===!0?M.createElement(La,{key:"labelList-implicit",data:t}):M.isValidElement(e)||Ge(e)?M.createElement(La,{key:"labelList-implicit",data:t,content:e}):el(e)?M.createElement(La,kd({data:t},e,{key:"labelList-implicit"})):null:null}function $W(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Cn(n,La).map(function(i,s){return j.cloneElement(i,{data:t,key:"labelList-".concat(s)})});if(!r)return a;var o=TW(e.label,t);return[o].concat(SW(a))}La.renderCallByParent=$W;function Uc(e){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uc(e)}function em(){return em=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},em.apply(this,arguments)}function Sw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sw(Object(r),!0).forEach(function(n){DW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DW(e,t,r){return t=RW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RW(e){var t=LW(e,"string");return Uc(t)=="symbol"?t:t+""}function LW(e,t){if(Uc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IW=function(t,r){var n=xa(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},tf=function(t){var r=t.cx,n=t.cy,a=t.radius,o=t.angle,i=t.sign,s=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,f=l*(s?1:-1)+a,d=Math.asin(l/f)/wd,h=c?o:o+i*d,p=Gr(r,n,f,h),m=Gr(r,n,a,h),v=c?o-i*d:o,x=Gr(r,n,f*Math.cos(d*wd),v);return{center:p,circleTangency:m,lineTangency:x,theta:d}},EP=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,i=t.startAngle,s=t.endAngle,l=IW(i,s),c=i+l,f=Gr(r,n,o,i),d=Gr(r,n,o,c),h="M ".concat(f.x,",").concat(f.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(a>0){var p=Gr(r,n,a,i),m=Gr(r,n,a,c);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},BW=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,i=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,f=t.endAngle,d=xa(f-c),h=tf({cx:r,cy:n,radius:o,angle:c,sign:d,cornerRadius:i,cornerIsExternal:l}),p=h.circleTangency,m=h.lineTangency,v=h.theta,x=tf({cx:r,cy:n,radius:o,angle:f,sign:-d,cornerRadius:i,cornerIsExternal:l}),y=x.circleTangency,g=x.lineTangency,b=x.theta,S=l?Math.abs(c-f):Math.abs(c-f)-v-b;if(S<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):EP({cx:r,cy:n,innerRadius:a,outerRadius:o,startAngle:c,endAngle:f});var w="M ".concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(S>180),",").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
  `);if(a>0){var k=tf({cx:r,cy:n,radius:a,angle:c,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),O=k.circleTangency,P=k.lineTangency,_=k.theta,N=tf({cx:r,cy:n,radius:a,angle:f,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),A=N.circleTangency,E=N.lineTangency,B=N.theta,z=l?Math.abs(c-f):Math.abs(c-f)-_-B;if(z<0&&i===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(E.x,",").concat(E.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(z>180),",").concat(+(d>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(P.x,",").concat(P.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},FW={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},TP=function(t){var r=jw(jw({},FW),t),n=r.cx,a=r.cy,o=r.innerRadius,i=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,f=r.startAngle,d=r.endAngle,h=r.className;if(i<o||f===d)return null;var p=Ze("recharts-sector",h),m=i-o,v=Pi(s,m,0,!0),x;return v>0&&Math.abs(f-d)<360?x=BW({cx:n,cy:a,innerRadius:o,outerRadius:i,cornerRadius:Math.min(v,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:f,endAngle:d}):x=EP({cx:n,cy:a,innerRadius:o,outerRadius:i,startAngle:f,endAngle:d}),M.createElement("path",em({},Ue(r,!0),{className:p,d:x,role:"img"}))};function Wc(e){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wc(e)}function tm(){return tm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tm.apply(this,arguments)}function Ow(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ow(Object(r),!0).forEach(function(n){zW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ow(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zW(e,t,r){return t=UW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UW(e){var t=WW(e,"string");return Wc(t)=="symbol"?t:t+""}function WW(e,t){if(Wc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _w={curveBasisClosed:z$,curveBasisOpen:U$,curveBasis:F$,curveBumpX:P$,curveBumpY:_$,curveLinearClosed:W$,curveLinear:Nh,curveMonotoneX:G$,curveMonotoneY:H$,curveNatural:V$,curveStep:X$,curveStepAfter:Y$,curveStepBefore:K$},rf=function(t){return t.x===+t.x&&t.y===+t.y},El=function(t){return t.x},Tl=function(t){return t.y},GW=function(t,r){if(Ge(t))return t;var n="curve".concat(Ph(t));return(n==="curveMonotone"||n==="curveBump")&&r?_w["".concat(n).concat(r==="vertical"?"Y":"X")]:_w[n]||Nh},HW=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,o=a===void 0?[]:a,i=t.baseLine,s=t.layout,l=t.connectNulls,c=l===void 0?!1:l,f=GW(n,s),d=c?o.filter(function(v){return rf(v)}):o,h;if(Array.isArray(i)){var p=c?i.filter(function(v){return rf(v)}):i,m=d.map(function(v,x){return Pw(Pw({},v),{},{base:p[x]})});return s==="vertical"?h=Vu().y(Tl).x1(El).x0(function(v){return v.base.x}):h=Vu().x(El).y1(Tl).y0(function(v){return v.base.y}),h.defined(rf).curve(f),h(m)}return s==="vertical"&&se(i)?h=Vu().y(Tl).x1(El).x0(i):se(i)?h=Vu().x(El).y1(Tl).y0(i):h=$j().x(El).y(Tl),h.defined(rf).curve(f),h(d)},xi=function(t){var r=t.className,n=t.points,a=t.path,o=t.pathRef;if((!n||!n.length)&&!a)return null;var i=n&&n.length?HW(t):a;return j.createElement("path",tm({},Ue(t,!1),Vf(t),{className:Ze("recharts-curve",r),d:i,ref:o}))},$P={exports:{}},VW="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",XW=VW,KW=XW;function DP(){}function RP(){}RP.resetWarningCache=DP;var YW=function(){function e(n,a,o,i,s,l){if(l!==KW){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:RP,resetWarningCache:DP};return r.PropTypes=r,r};$P.exports=YW();var qW=$P.exports;const ft=Nt(qW),{getOwnPropertyNames:ZW,getOwnPropertySymbols:QW}=Object,{hasOwnProperty:JW}=Object.prototype;function n0(e,t){return function(n,a,o){return e(n,a,o)&&t(n,a,o)}}function nf(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);const{cache:o}=a,i=o.get(r),s=o.get(n);if(i&&s)return i===n&&s===r;o.set(r,n),o.set(n,r);const l=e(r,n,a);return o.delete(r),o.delete(n),l}}function eG(e){return e!=null?e[Symbol.toStringTag]:void 0}function Nw(e){return ZW(e).concat(QW(e))}const tG=Object.hasOwn||((e,t)=>JW.call(e,t));function Ii(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const rG="__v",nG="__o",aG="_owner",{getOwnPropertyDescriptor:Aw,keys:Mw}=Object;function oG(e,t){return e.byteLength===t.byteLength&&Sd(new Uint8Array(e),new Uint8Array(t))}function iG(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function sG(e,t){return e.byteLength===t.byteLength&&Sd(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function lG(e,t){return Ii(e.getTime(),t.getTime())}function cG(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function uG(e,t){return e===t}function Cw(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),o=e.entries();let i,s,l=0;for(;(i=o.next())&&!i.done;){const c=t.entries();let f=!1,d=0;for(;(s=c.next())&&!s.done;){if(a[d]){d++;continue}const h=i.value,p=s.value;if(r.equals(h[0],p[0],l,d,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){f=a[d]=!0;break}d++}if(!f)return!1;l++}return!0}const fG=Ii;function dG(e,t,r){const n=Mw(e);let a=n.length;if(Mw(t).length!==a)return!1;for(;a-- >0;)if(!LP(e,t,r,n[a]))return!1;return!0}function $l(e,t,r){const n=Nw(e);let a=n.length;if(Nw(t).length!==a)return!1;let o,i,s;for(;a-- >0;)if(o=n[a],!LP(e,t,r,o)||(i=Aw(e,o),s=Aw(t,o),(i||s)&&(!i||!s||i.configurable!==s.configurable||i.enumerable!==s.enumerable||i.writable!==s.writable)))return!1;return!0}function hG(e,t){return Ii(e.valueOf(),t.valueOf())}function pG(e,t){return e.source===t.source&&e.flags===t.flags}function Ew(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),o=e.values();let i,s;for(;(i=o.next())&&!i.done;){const l=t.values();let c=!1,f=0;for(;(s=l.next())&&!s.done;){if(!a[f]&&r.equals(i.value,s.value,i.value,s.value,e,t,r)){c=a[f]=!0;break}f++}if(!c)return!1}return!0}function Sd(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function gG(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function LP(e,t,r,n){return(n===aG||n===nG||n===rG)&&(e.$$typeof||t.$$typeof)?!0:tG(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const mG="[object ArrayBuffer]",yG="[object Arguments]",vG="[object Boolean]",xG="[object DataView]",bG="[object Date]",wG="[object Error]",kG="[object Map]",SG="[object Number]",jG="[object Object]",OG="[object RegExp]",PG="[object Set]",_G="[object String]",NG={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},AG="[object URL]",MG=Object.prototype.toString;function CG({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:a,areFunctionsEqual:o,areMapsEqual:i,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:f,areSetsEqual:d,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:m}){return function(x,y,g){if(x===y)return!0;if(x==null||y==null)return!1;const b=typeof x;if(b!==typeof y)return!1;if(b!=="object")return b==="number"?s(x,y,g):b==="function"?o(x,y,g):!1;const S=x.constructor;if(S!==y.constructor)return!1;if(S===Object)return l(x,y,g);if(Array.isArray(x))return t(x,y,g);if(S===Date)return n(x,y,g);if(S===RegExp)return f(x,y,g);if(S===Map)return i(x,y,g);if(S===Set)return d(x,y,g);const w=MG.call(x);if(w===bG)return n(x,y,g);if(w===OG)return f(x,y,g);if(w===kG)return i(x,y,g);if(w===PG)return d(x,y,g);if(w===jG)return typeof x.then!="function"&&typeof y.then!="function"&&l(x,y,g);if(w===AG)return p(x,y,g);if(w===wG)return a(x,y,g);if(w===yG)return l(x,y,g);if(NG[w])return h(x,y,g);if(w===mG)return e(x,y,g);if(w===xG)return r(x,y,g);if(w===vG||w===SG||w===_G)return c(x,y,g);if(m){let k=m[w];if(!k){const O=eG(x);O&&(k=m[O])}if(k)return k(x,y,g)}return!1}}function EG({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:oG,areArraysEqual:r?$l:iG,areDataViewsEqual:sG,areDatesEqual:lG,areErrorsEqual:cG,areFunctionsEqual:uG,areMapsEqual:r?n0(Cw,$l):Cw,areNumbersEqual:fG,areObjectsEqual:r?$l:dG,arePrimitiveWrappersEqual:hG,areRegExpsEqual:pG,areSetsEqual:r?n0(Ew,$l):Ew,areTypedArraysEqual:r?n0(Sd,$l):Sd,areUrlsEqual:gG,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const a=nf(n.areArraysEqual),o=nf(n.areMapsEqual),i=nf(n.areObjectsEqual),s=nf(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:i,areSetsEqual:s})}return n}function TG(e){return function(t,r,n,a,o,i,s){return e(t,r,s)}}function $G({circular:e,comparator:t,createState:r,equals:n,strict:a}){if(r)return function(s,l){const{cache:c=e?new WeakMap:void 0,meta:f}=r();return t(s,l,{cache:c,equals:n,meta:f,strict:a})};if(e)return function(s,l){return t(s,l,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const o={cache:void 0,equals:n,meta:void 0,strict:a};return function(s,l){return t(s,l,o)}}const DG=Ko();Ko({strict:!0});Ko({circular:!0});Ko({circular:!0,strict:!0});Ko({createInternalComparator:()=>Ii});Ko({strict:!0,createInternalComparator:()=>Ii});Ko({circular:!0,createInternalComparator:()=>Ii});Ko({circular:!0,createInternalComparator:()=>Ii,strict:!0});function Ko(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:a=!1}=e,o=EG(e),i=CG(o),s=r?r(i):TG(i);return $G({circular:t,comparator:i,createState:n,equals:s,strict:a})}function RG(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function Tw(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(o){r<0&&(r=o),o-r>t?(e(o),r=-1):RG(a)};requestAnimationFrame(n)}function rm(e){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rm(e)}function LG(e){return zG(e)||FG(e)||BG(e)||IG()}function IG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BG(e,t){if(e){if(typeof e=="string")return $w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $w(e,t)}}function $w(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function FG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zG(e){if(Array.isArray(e))return e}function UG(){var e={},t=function(){return null},r=!1,n=function a(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var i=o,s=LG(i),l=s[0],c=s.slice(1);if(typeof l=="number"){Tw(a.bind(null,c),l);return}a(l),Tw(a.bind(null,c));return}rm(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function Gc(e){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gc(e)}function Dw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dw(Object(r),!0).forEach(function(n){IP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IP(e,t,r){return t=WG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WG(e){var t=GG(e,"string");return Gc(t)==="symbol"?t:String(t)}function GG(e,t){if(Gc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HG=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(o){return a.includes(o)})})},VG=function(t){return t},XG=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Jl=function(t,r){return Object.keys(r).reduce(function(n,a){return Rw(Rw({},n),{},IP({},a,t(a,r[a])))},{})},Lw=function(t,r,n){return t.map(function(a){return"".concat(XG(a)," ").concat(r,"ms ").concat(n)}).join(",")};function KG(e,t){return ZG(e)||qG(e,t)||BP(e,t)||YG()}function YG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function ZG(e){if(Array.isArray(e))return e}function QG(e){return tH(e)||eH(e)||BP(e)||JG()}function JG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BP(e,t){if(e){if(typeof e=="string")return nm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nm(e,t)}}function eH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tH(e){if(Array.isArray(e))return nm(e)}function nm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var jd=1e-4,FP=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},zP=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},Iw=function(t,r){return function(n){var a=FP(t,r);return zP(a,n)}},rH=function(t,r){return function(n){var a=FP(t,r),o=[].concat(QG(a.map(function(i,s){return i*s}).slice(1)),[0]);return zP(o,n)}},Bw=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],o=r[1],i=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,o=0,i=1,s=1;break;case"ease":a=.25,o=.1,i=.25,s=1;break;case"ease-in":a=.42,o=0,i=1,s=1;break;case"ease-out":a=.42,o=0,i=.58,s=1;break;case"ease-in-out":a=0,o=0,i=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),f=KG(c,4);a=f[0],o=f[1],i=f[2],s=f[3]}}}var d=Iw(a,i),h=Iw(o,s),p=rH(a,i),m=function(y){return y>1?1:y<0?0:y},v=function(y){for(var g=y>1?1:y,b=g,S=0;S<8;++S){var w=d(b)-g,k=p(b);if(Math.abs(w-g)<jd||k<jd)return h(b);b=m(b-w/k)}return h(b)};return v.isStepper=!1,v},nH=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,o=a===void 0?8:a,i=t.dt,s=i===void 0?17:i,l=function(f,d,h){var p=-(f-d)*n,m=h*o,v=h+(p-m)*s/1e3,x=h*s/1e3+f;return Math.abs(x-d)<jd&&Math.abs(v)<jd?[d,0]:[x,v]};return l.isStepper=!0,l.dt=s,l},aH=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Bw(a);case"spring":return nH();default:if(a.split("(")[0]==="cubic-bezier")return Bw(a)}return typeof a=="function"?a:null};function Hc(e){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hc(e)}function Fw(e){return sH(e)||iH(e)||UP(e)||oH()}function oH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sH(e){if(Array.isArray(e))return om(e)}function zw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zw(Object(r),!0).forEach(function(n){am(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function am(e,t,r){return t=lH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lH(e){var t=cH(e,"string");return Hc(t)==="symbol"?t:String(t)}function cH(e,t){if(Hc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uH(e,t){return hH(e)||dH(e,t)||UP(e,t)||fH()}function fH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UP(e,t){if(e){if(typeof e=="string")return om(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return om(e,t)}}function om(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function hH(e){if(Array.isArray(e))return e}var Od=function(t,r,n){return t+(r-t)*n},im=function(t){var r=t.from,n=t.to;return r!==n},pH=function e(t,r,n){var a=Jl(function(o,i){if(im(i)){var s=t(i.from,i.to,i.velocity),l=uH(s,2),c=l[0],f=l[1];return zr(zr({},i),{},{from:c,velocity:f})}return i},r);return n<1?Jl(function(o,i){return im(i)?zr(zr({},i),{},{velocity:Od(i.velocity,a[o].velocity,n),from:Od(i.from,a[o].from,n)}):i},r):e(t,a,n-1)};const gH=function(e,t,r,n,a){var o=HG(e,t),i=o.reduce(function(x,y){return zr(zr({},x),{},am({},y,[e[y],t[y]]))},{}),s=o.reduce(function(x,y){return zr(zr({},x),{},am({},y,{from:e[y],velocity:0,to:t[y]}))},{}),l=-1,c,f,d=function(){return null},h=function(){return Jl(function(y,g){return g.from},s)},p=function(){return!Object.values(s).filter(im).length},m=function(y){c||(c=y);var g=y-c,b=g/r.dt;s=pH(r,s,b),a(zr(zr(zr({},e),t),h())),c=y,p()||(l=requestAnimationFrame(d))},v=function(y){f||(f=y);var g=(y-f)/n,b=Jl(function(w,k){return Od.apply(void 0,Fw(k).concat([r(g)]))},i);if(a(zr(zr(zr({},e),t),b)),g<1)l=requestAnimationFrame(d);else{var S=Jl(function(w,k){return Od.apply(void 0,Fw(k).concat([r(1)]))},i);a(zr(zr(zr({},e),t),S))}};return d=r.isStepper?m:v,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function Ts(e){"@babel/helpers - typeof";return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ts(e)}var mH=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function yH(e,t){if(e==null)return{};var r=vH(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vH(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function a0(e){return kH(e)||wH(e)||bH(e)||xH()}function xH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bH(e,t){if(e){if(typeof e=="string")return sm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sm(e,t)}}function wH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kH(e){if(Array.isArray(e))return sm(e)}function sm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Uw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function da(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uw(Object(r),!0).forEach(function(n){Fl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fl(e,t,r){return t=WP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jH(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WP(n.key),n)}}function OH(e,t,r){return t&&jH(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function WP(e){var t=PH(e,"string");return Ts(t)==="symbol"?t:String(t)}function PH(e,t){if(Ts(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ts(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _H(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lm(e,t)}function lm(e,t){return lm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},lm(e,t)}function NH(e){var t=AH();return function(){var n=Pd(e),a;if(t){var o=Pd(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return cm(this,a)}}function cm(e,t){if(t&&(Ts(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return um(e)}function um(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AH(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Pd(e){return Pd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pd(e)}var Sa=function(e){_H(r,e);var t=NH(r);function r(n,a){var o;SH(this,r),o=t.call(this,n,a);var i=o.props,s=i.isActive,l=i.attributeName,c=i.from,f=i.to,d=i.steps,h=i.children,p=i.duration;if(o.handleStyleChange=o.handleStyleChange.bind(um(o)),o.changeStyle=o.changeStyle.bind(um(o)),!s||p<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:f}),cm(o);if(d&&d.length)o.state={style:d[0].style};else if(c){if(typeof h=="function")return o.state={style:c},cm(o);o.state={style:l?Fl({},l,c):c}}else o.state={style:{}};return o}return OH(r,[{key:"componentDidMount",value:function(){var a=this.props,o=a.isActive,i=a.canBegin;this.mounted=!0,!(!o||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var o=this.props,i=o.isActive,s=o.canBegin,l=o.attributeName,c=o.shouldReAnimate,f=o.to,d=o.from,h=this.state.style;if(s){if(!i){var p={style:l?Fl({},l,f):f};this.state&&h&&(l&&h[l]!==f||!l&&h!==f)&&this.setState(p);return}if(!(DG(a.to,f)&&a.canBegin&&a.isActive)){var m=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=m||c?d:a.to;if(this.state&&h){var x={style:l?Fl({},l,v):v};(l&&h[l]!==v||!l&&h!==v)&&this.setState(x)}this.runAnimation(da(da({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var o=this,i=a.from,s=a.to,l=a.duration,c=a.easing,f=a.begin,d=a.onAnimationEnd,h=a.onAnimationStart,p=gH(i,s,aH(c),l,this.changeStyle),m=function(){o.stopJSAnimation=p()};this.manager.start([h,f,m,l,d])}},{key:"runStepAnimation",value:function(a){var o=this,i=a.steps,s=a.begin,l=a.onAnimationStart,c=i[0],f=c.style,d=c.duration,h=d===void 0?0:d,p=function(v,x,y){if(y===0)return v;var g=x.duration,b=x.easing,S=b===void 0?"ease":b,w=x.style,k=x.properties,O=x.onAnimationEnd,P=y>0?i[y-1]:x,_=k||Object.keys(w);if(typeof S=="function"||S==="spring")return[].concat(a0(v),[o.runJSAnimation.bind(o,{from:P.style,to:w,duration:g,easing:S}),g]);var N=Lw(_,g,S),A=da(da(da({},P.style),w),{},{transition:N});return[].concat(a0(v),[A,g,O]).filter(VG)};return this.manager.start([l].concat(a0(i.reduce(p,[f,Math.max(h,s)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=UG());var o=a.begin,i=a.duration,s=a.attributeName,l=a.to,c=a.easing,f=a.onAnimationStart,d=a.onAnimationEnd,h=a.steps,p=a.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var v=s?Fl({},s,l):l,x=Lw(Object.keys(v),i,c);m.start([f,o,da(da({},v),{},{transition:x}),i,d])}},{key:"render",value:function(){var a=this.props,o=a.children;a.begin;var i=a.duration;a.attributeName,a.easing;var s=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=yH(a,mH),c=j.Children.count(o),f=this.state.style;if(typeof o=="function")return o(f);if(!s||c===0||i<=0)return o;var d=function(p){var m=p.props,v=m.style,x=v===void 0?{}:v,y=m.className,g=j.cloneElement(p,da(da({},l),{},{style:da(da({},x),f),className:y}));return g};return c===1?d(j.Children.only(o)):M.createElement("div",null,j.Children.map(o,function(h){return d(h)}))}}]),r}(j.PureComponent);Sa.displayName="Animate";Sa.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Sa.propTypes={from:ft.oneOfType([ft.object,ft.string]),to:ft.oneOfType([ft.object,ft.string]),attributeName:ft.string,duration:ft.number,begin:ft.number,easing:ft.oneOfType([ft.string,ft.func]),steps:ft.arrayOf(ft.shape({duration:ft.number.isRequired,style:ft.object.isRequired,easing:ft.oneOfType([ft.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ft.func]),properties:ft.arrayOf("string"),onAnimationEnd:ft.func})),children:ft.oneOfType([ft.node,ft.func]),isActive:ft.bool,canBegin:ft.bool,onAnimationEnd:ft.func,shouldReAnimate:ft.bool,onAnimationStart:ft.func,onAnimationReStart:ft.func};function Vc(e){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vc(e)}function _d(){return _d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_d.apply(this,arguments)}function MH(e,t){return $H(e)||TH(e,t)||EH(e,t)||CH()}function CH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EH(e,t){if(e){if(typeof e=="string")return Ww(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ww(e,t)}}function Ww(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function $H(e){if(Array.isArray(e))return e}function Gw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gw(Object(r),!0).forEach(function(n){DH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DH(e,t,r){return t=RH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RH(e){var t=LH(e,"string");return Vc(t)=="symbol"?t:t+""}function LH(e,t){if(Vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vw=function(t,r,n,a,o){var i=Math.min(Math.abs(n)/2,Math.abs(a)/2),s=a>=0?1:-1,l=n>=0?1:-1,c=a>=0&&n>=0||a<0&&n<0?1:0,f;if(i>0&&o instanceof Array){for(var d=[0,0,0,0],h=0,p=4;h<p;h++)d[h]=o[h]>i?i:o[h];f="M".concat(t,",").concat(r+s*d[0]),d[0]>0&&(f+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(t+l*d[0],",").concat(r)),f+="L ".concat(t+n-l*d[1],",").concat(r),d[1]>0&&(f+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(r+s*d[1])),f+="L ".concat(t+n,",").concat(r+a-s*d[2]),d[2]>0&&(f+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(t+n-l*d[2],",").concat(r+a)),f+="L ".concat(t+l*d[3],",").concat(r+a),d[3]>0&&(f+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+a-s*d[3])),f+="Z"}else if(i>0&&o===+o&&o>0){var m=Math.min(i,o);f="M ".concat(t,",").concat(r+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+l*m,",").concat(r,`
            L `).concat(t+n-l*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n,",").concat(r+s*m,`
            L `).concat(t+n,",").concat(r+a-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n-l*m,",").concat(r+a,`
            L `).concat(t+l*m,",").concat(r+a,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t,",").concat(r+a-s*m," Z")}else f="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return f},IH=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,o=r.x,i=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(o,o+s),f=Math.max(o,o+s),d=Math.min(i,i+l),h=Math.max(i,i+l);return n>=c&&n<=f&&a>=d&&a<=h}return!1},BH={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Av=function(t){var r=Hw(Hw({},BH),t),n=j.useRef(),a=j.useState(-1),o=MH(a,2),i=o[0],s=o[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&s(S)}catch{}},[]);var l=r.x,c=r.y,f=r.width,d=r.height,h=r.radius,p=r.className,m=r.animationEasing,v=r.animationDuration,x=r.animationBegin,y=r.isAnimationActive,g=r.isUpdateAnimationActive;if(l!==+l||c!==+c||f!==+f||d!==+d||f===0||d===0)return null;var b=Ze("recharts-rectangle",p);return g?M.createElement(Sa,{canBegin:i>0,from:{width:f,height:d,x:l,y:c},to:{width:f,height:d,x:l,y:c},duration:v,animationEasing:m,isActive:g},function(S){var w=S.width,k=S.height,O=S.x,P=S.y;return M.createElement(Sa,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:v,isActive:y,easing:m},M.createElement("path",_d({},Ue(r,!0),{className:b,d:Vw(O,P,w,k,h),ref:n})))}):M.createElement("path",_d({},Ue(r,!0),{className:b,d:Vw(l,c,f,d,h)}))};function fm(){return fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fm.apply(this,arguments)}var Wh=function(t){var r=t.cx,n=t.cy,a=t.r,o=t.className,i=Ze("recharts-dot",o);return r===+r&&n===+n&&a===+a?j.createElement("circle",fm({},Ue(t,!1),Vf(t),{className:i,cx:r,cy:n,r:a})):null};function Xc(e){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xc(e)}var FH=["x","y","top","left","width","height","className"];function dm(){return dm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dm.apply(this,arguments)}function Xw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xw(Object(r),!0).forEach(function(n){UH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UH(e,t,r){return t=WH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WH(e){var t=GH(e,"string");return Xc(t)=="symbol"?t:t+""}function GH(e,t){if(Xc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HH(e,t){if(e==null)return{};var r=VH(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var XH=function(t,r,n,a,o,i){return"M".concat(t,",").concat(o,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(n)},KH=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,o=a===void 0?0:a,i=t.top,s=i===void 0?0:i,l=t.left,c=l===void 0?0:l,f=t.width,d=f===void 0?0:f,h=t.height,p=h===void 0?0:h,m=t.className,v=HH(t,FH),x=zH({x:n,y:o,top:s,left:c,width:d,height:p},v);return!se(n)||!se(o)||!se(d)||!se(p)||!se(s)||!se(c)?null:M.createElement("path",dm({},Ue(x,!0),{className:Ze("recharts-cross",m),d:XH(n,o,d,p,s,c)}))},YH=aO,qH=YH(Object.getPrototypeOf,Object),ZH=qH,QH=co,JH=ZH,eV=uo,tV="[object Object]",rV=Function.prototype,nV=Object.prototype,GP=rV.toString,aV=nV.hasOwnProperty,oV=GP.call(Object);function iV(e){if(!eV(e)||QH(e)!=tV)return!1;var t=JH(e);if(t===null)return!0;var r=aV.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&GP.call(r)==oV}var sV=iV;const lV=Nt(sV);var cV=co,uV=uo,fV="[object Boolean]";function dV(e){return e===!0||e===!1||uV(e)&&cV(e)==fV}var hV=dV;const pV=Nt(hV);function Kc(e){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kc(e)}function Nd(){return Nd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nd.apply(this,arguments)}function gV(e,t){return xV(e)||vV(e,t)||yV(e,t)||mV()}function mV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yV(e,t){if(e){if(typeof e=="string")return Kw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kw(e,t)}}function Kw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function xV(e){if(Array.isArray(e))return e}function Yw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yw(Object(r),!0).forEach(function(n){bV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bV(e,t,r){return t=wV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wV(e){var t=kV(e,"string");return Kc(t)=="symbol"?t:t+""}function kV(e,t){if(Kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zw=function(t,r,n,a,o){var i=n-a,s;return s="M ".concat(t,",").concat(r),s+="L ".concat(t+n,",").concat(r),s+="L ".concat(t+n-i/2,",").concat(r+o),s+="L ".concat(t+n-i/2-a,",").concat(r+o),s+="L ".concat(t,",").concat(r," Z"),s},SV={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},jV=function(t){var r=qw(qw({},SV),t),n=j.useRef(),a=j.useState(-1),o=gV(a,2),i=o[0],s=o[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&s(b)}catch{}},[]);var l=r.x,c=r.y,f=r.upperWidth,d=r.lowerWidth,h=r.height,p=r.className,m=r.animationEasing,v=r.animationDuration,x=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||c!==+c||f!==+f||d!==+d||h!==+h||f===0&&d===0||h===0)return null;var g=Ze("recharts-trapezoid",p);return y?M.createElement(Sa,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:f,lowerWidth:d,height:h,x:l,y:c},duration:v,animationEasing:m,isActive:y},function(b){var S=b.upperWidth,w=b.lowerWidth,k=b.height,O=b.x,P=b.y;return M.createElement(Sa,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:v,easing:m},M.createElement("path",Nd({},Ue(r,!0),{className:g,d:Zw(O,P,S,w,k),ref:n})))}):M.createElement("g",null,M.createElement("path",Nd({},Ue(r,!0),{className:g,d:Zw(l,c,f,d,h)})))},OV=["option","shapeType","propTransformer","activeClassName","isActive"];function Yc(e){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yc(e)}function PV(e,t){if(e==null)return{};var r=_V(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _V(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Qw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ad(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qw(Object(r),!0).forEach(function(n){NV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NV(e,t,r){return t=AV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AV(e){var t=MV(e,"string");return Yc(t)=="symbol"?t:t+""}function MV(e,t){if(Yc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CV(e,t){return Ad(Ad({},t),e)}function EV(e,t){return e==="symbols"}function Jw(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return M.createElement(Av,r);case"trapezoid":return M.createElement(jV,r);case"sector":return M.createElement(TP,r);case"symbols":if(EV(t))return M.createElement(Mh,r);break;default:return null}}function TV(e){return j.isValidElement(e)?e.props:e}function hm(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?CV:n,o=e.activeClassName,i=o===void 0?"recharts-active-shape":o,s=e.isActive,l=PV(e,OV),c;if(j.isValidElement(t))c=j.cloneElement(t,Ad(Ad({},l),TV(t)));else if(Ge(t))c=t(l);else if(lV(t)&&!pV(t)){var f=a(t,l);c=M.createElement(Jw,{shapeType:r,elementProps:f})}else{var d=l;c=M.createElement(Jw,{shapeType:r,elementProps:d})}return s?M.createElement(st,{className:i},c):c}function Gh(e,t){return t!=null&&"trapezoids"in e.props}function Hh(e,t){return t!=null&&"sectors"in e.props}function qc(e,t){return t!=null&&"points"in e.props}function $V(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,o=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&o}function DV(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function RV(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function LV(e,t){var r;return Gh(e,t)?r=$V:Hh(e,t)?r=DV:qc(e,t)&&(r=RV),r}function IV(e,t){var r;return Gh(e,t)?r="trapezoids":Hh(e,t)?r="sectors":qc(e,t)&&(r="points"),r}function BV(e,t){if(Gh(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Hh(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return qc(e,t)?t.payload:{}}function FV(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=IV(r,t),o=BV(r,t),i=n.filter(function(l,c){var f=_i(o,l),d=r.props[a].filter(function(m){var v=LV(r,t);return v(m,t)}),h=r.props[a].indexOf(d[d.length-1]),p=c===h;return f&&p}),s=n.indexOf(i[i.length-1]);return s}var zV=Math.ceil,UV=Math.max;function WV(e,t,r,n){for(var a=-1,o=UV(zV((t-e)/(r||1)),0),i=Array(o);o--;)i[n?o:++a]=e,e+=r;return i}var GV=WV,HV=SO,e2=1/0,VV=17976931348623157e292;function XV(e){if(!e)return e===0?e:0;if(e=HV(e),e===e2||e===-e2){var t=e<0?-1:1;return t*VV}return e===e?e:0}var HP=XV,KV=GV,YV=Th,o0=HP;function qV(e){return function(t,r,n){return n&&typeof n!="number"&&YV(t,r,n)&&(r=n=void 0),t=o0(t),r===void 0?(r=t,t=0):r=o0(r),n=n===void 0?t<r?1:-1:o0(n),KV(t,r,n,e)}}var ZV=qV,QV=ZV,JV=QV(),eX=JV;const Md=Nt(eX);function Zc(e){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zc(e)}function t2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function r2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t2(Object(r),!0).forEach(function(n){VP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VP(e,t,r){return t=tX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tX(e){var t=rX(e,"string");return Zc(t)=="symbol"?t:t+""}function rX(e,t){if(Zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nX=["Webkit","Moz","O","ms"],aX=function(t,r){var n=t.replace(/(\w)/,function(o){return o.toUpperCase()}),a=nX.reduce(function(o,i){return r2(r2({},o),{},VP({},i+n,r))},{});return a[t]=r,a};function $s(e){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$s(e)}function Cd(){return Cd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cd.apply(this,arguments)}function n2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function i0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n2(Object(r),!0).forEach(function(n){In(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KP(n.key),n)}}function iX(e,t,r){return t&&a2(e.prototype,t),r&&a2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function sX(e,t,r){return t=Ed(t),lX(e,XP()?Reflect.construct(t,r||[],Ed(e).constructor):t.apply(e,r))}function lX(e,t){if(t&&($s(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cX(e)}function cX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XP=function(){return!!e})()}function Ed(e){return Ed=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ed(e)}function uX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pm(e,t)}function pm(e,t){return pm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},pm(e,t)}function In(e,t,r){return t=KP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KP(e){var t=fX(e,"string");return $s(t)=="symbol"?t:t+""}function fX(e,t){if($s(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var dX=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,o=t.x,i=t.width,s=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=Zl().domain(Md(0,l)).range([o,o+i-s]),f=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(a),scale:c,scaleValues:f}},o2=function(t){return t.changedTouches&&!!t.changedTouches.length},Ds=function(e){function t(r){var n;return oX(this,t),n=sX(this,t,[r]),In(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),In(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),In(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,o=a.endIndex,i=a.onDragEnd,s=a.startIndex;i==null||i({endIndex:o,startIndex:s})}),n.detachDragEndListener()}),In(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),In(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),In(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),In(n,"handleSlideDragStart",function(a){var o=o2(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return uX(t,e),iX(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,o=n.endX,i=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,f=c.length-1,d=Math.min(a,o),h=Math.max(a,o),p=t.getIndexInRange(i,d),m=t.getIndexInRange(i,h);return{startIndex:p-p%l,endIndex:m===f?f:m-m%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,o=a.data,i=a.tickFormatter,s=a.dataKey,l=Ar(o[n],s,n);return Ge(i)?i(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,o=a.slideMoveStartX,i=a.startX,s=a.endX,l=this.props,c=l.x,f=l.width,d=l.travellerWidth,h=l.startIndex,p=l.endIndex,m=l.onChange,v=n.pageX-o;v>0?v=Math.min(v,c+f-d-s,c+f-d-i):v<0&&(v=Math.max(v,c-i,c-s));var x=this.getIndex({startX:i+v,endX:s+v});(x.startIndex!==h||x.endIndex!==p)&&m&&m(x),this.setState({startX:i+v,endX:s+v,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var o=o2(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,o=a.brushMoveStartX,i=a.movingTravellerId,s=a.endX,l=a.startX,c=this.state[i],f=this.props,d=f.x,h=f.width,p=f.travellerWidth,m=f.onChange,v=f.gap,x=f.data,y={startX:this.state.startX,endX:this.state.endX},g=n.pageX-o;g>0?g=Math.min(g,d+h-p-c):g<0&&(g=Math.max(g,d-c)),y[i]=c+g;var b=this.getIndex(y),S=b.startIndex,w=b.endIndex,k=function(){var P=x.length-1;return i==="startX"&&(s>l?S%v===0:w%v===0)||s<l&&w===P||i==="endX"&&(s>l?w%v===0:S%v===0)||s>l&&w===P};this.setState(In(In({},i,c+g),"brushMoveStartX",n.pageX),function(){m&&k()&&m(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var o=this,i=this.state,s=i.scaleValues,l=i.startX,c=i.endX,f=this.state[a],d=s.indexOf(f);if(d!==-1){var h=d+n;if(!(h===-1||h>=s.length)){var p=s[h];a==="startX"&&p>=c||a==="endX"&&p<=l||this.setState(In({},a,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.fill,c=n.stroke;return M.createElement("rect",{stroke:c,fill:l,x:a,y:o,width:i,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.data,c=n.children,f=n.padding,d=j.Children.only(c);return d?M.cloneElement(d,{x:a,y:o,width:i,height:s,margin:f,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var o,i,s=this,l=this.props,c=l.y,f=l.travellerWidth,d=l.height,h=l.traveller,p=l.ariaLabel,m=l.data,v=l.startIndex,x=l.endIndex,y=Math.max(n,this.props.x),g=i0(i0({},Ue(this.props,!1)),{},{x:y,y:c,width:f,height:d}),b=p||"Min value: ".concat((o=m[v])===null||o===void 0?void 0:o.name,", Max value: ").concat((i=m[x])===null||i===void 0?void 0:i.name);return M.createElement(st,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),s.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,a))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,g))}},{key:"renderSlide",value:function(n,a){var o=this.props,i=o.y,s=o.height,l=o.stroke,c=o.travellerWidth,f=Math.min(n,a)+c,d=Math.max(Math.abs(a-n)-c,0);return M.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:f,y:i,width:d,height:s})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,o=n.endIndex,i=n.y,s=n.height,l=n.travellerWidth,c=n.stroke,f=this.state,d=f.startX,h=f.endX,p=5,m={pointerEvents:"none",fill:c};return M.createElement(st,{className:"recharts-brush-texts"},M.createElement(id,Cd({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-p,y:i+s/2},m),this.getTextOfTick(a)),M.createElement(id,Cd({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+p,y:i+s/2},m),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,a=n.data,o=n.className,i=n.children,s=n.x,l=n.y,c=n.width,f=n.height,d=n.alwaysShowText,h=this.state,p=h.startX,m=h.endX,v=h.isTextActive,x=h.isSlideMoving,y=h.isTravellerMoving,g=h.isTravellerFocused;if(!a||!a.length||!se(s)||!se(l)||!se(c)||!se(f)||c<=0||f<=0)return null;var b=Ze("recharts-brush",o),S=M.Children.count(i)===1,w=aX("userSelect","none");return M.createElement(st,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(v||x||y||g||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,o=n.y,i=n.width,s=n.height,l=n.stroke,c=Math.floor(o+s/2)-1;return M.createElement(M.Fragment,null,M.createElement("rect",{x:a,y:o,width:i,height:s,fill:l,stroke:"none"}),M.createElement("line",{x1:a+1,y1:c,x2:a+i-1,y2:c,fill:"none",stroke:"#fff"}),M.createElement("line",{x1:a+1,y1:c+2,x2:a+i-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var o;return M.isValidElement(n)?o=M.cloneElement(n,a):Ge(n)?o=n(a):o=t.renderDefaultTraveller(a),o}},{key:"getDerivedStateFromProps",value:function(n,a){var o=n.data,i=n.width,s=n.x,l=n.travellerWidth,c=n.updateId,f=n.startIndex,d=n.endIndex;if(o!==a.prevData||c!==a.prevUpdateId)return i0({prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:i},o&&o.length?dX({data:o,width:i,x:s,travellerWidth:l,startIndex:f,endIndex:d}):{scale:null,scaleValues:null});if(a.scale&&(i!==a.prevWidth||s!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([s,s+i-l]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:i,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var o=n.length,i=0,s=o-1;s-i>1;){var l=Math.floor((i+s)/2);n[l]>a?s=l:i=l}return a>=n[s]?s:i}}])}(j.PureComponent);In(Ds,"displayName","Brush");In(Ds,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var hX=ev;function pX(e,t){var r;return hX(e,function(n,a,o){return r=t(n,a,o),!r}),!!r}var gX=pX,mX=qj,yX=Go,vX=gX,xX=En,bX=Th;function wX(e,t,r){var n=xX(e)?mX:vX;return r&&bX(e,t,r)&&(t=void 0),n(e,yX(t))}var kX=wX;const SX=Nt(kX);var Ia=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},i2=vO;function jX(e,t,r){t=="__proto__"&&i2?i2(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var OX=jX,PX=OX,_X=mO,NX=Go;function AX(e,t){var r={};return t=NX(t),_X(e,function(n,a,o){PX(r,a,t(n,a,o))}),r}var MX=AX;const CX=Nt(MX);function EX(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var TX=EX,$X=ev;function DX(e,t){var r=!0;return $X(e,function(n,a,o){return r=!!t(n,a,o),r}),r}var RX=DX,LX=TX,IX=RX,BX=Go,FX=En,zX=Th;function UX(e,t,r){var n=FX(e)?LX:IX;return r&&zX(e,t,r)&&(t=void 0),n(e,BX(t))}var WX=UX;const YP=Nt(WX);var GX=["x","y"];function Qc(e){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qc(e)}function gm(){return gm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gm.apply(this,arguments)}function s2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s2(Object(r),!0).forEach(function(n){HX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HX(e,t,r){return t=VX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VX(e){var t=XX(e,"string");return Qc(t)=="symbol"?t:t+""}function XX(e,t){if(Qc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KX(e,t){if(e==null)return{};var r=YX(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function YX(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function qX(e,t){var r=e.x,n=e.y,a=KX(e,GX),o="".concat(r),i=parseInt(o,10),s="".concat(n),l=parseInt(s,10),c="".concat(t.height||a.height),f=parseInt(c,10),d="".concat(t.width||a.width),h=parseInt(d,10);return Dl(Dl(Dl(Dl(Dl({},t),a),i?{x:i}:{}),l?{y:l}:{}),{},{height:f,width:h,name:t.name,radius:t.radius})}function l2(e){return M.createElement(hm,gm({shapeType:"rectangle",propTransformer:qX,activeClassName:"recharts-active-bar"},e))}var ZX=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var o=se(n)||f5(n);return o?t(n,a):(o||Ai(),r)}},QX=["value","background"],qP;function Rs(e){"@babel/helpers - typeof";return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rs(e)}function JX(e,t){if(e==null)return{};var r=eK(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Td(){return Td=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Td.apply(this,arguments)}function c2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c2(Object(r),!0).forEach(function(n){Po(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QP(n.key),n)}}function rK(e,t,r){return t&&u2(e.prototype,t),r&&u2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nK(e,t,r){return t=$d(t),aK(e,ZP()?Reflect.construct(t,r||[],$d(e).constructor):t.apply(e,r))}function aK(e,t){if(t&&(Rs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oK(e)}function oK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZP=function(){return!!e})()}function $d(e){return $d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$d(e)}function iK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mm(e,t)}function mm(e,t){return mm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},mm(e,t)}function Po(e,t,r){return t=QP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QP(e){var t=sK(e,"string");return Rs(t)=="symbol"?t:t+""}function sK(e,t){if(Rs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var pu=function(e){function t(){var r;tK(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=nK(this,t,[].concat(a)),Po(r,"state",{isAnimationFinished:!1}),Po(r,"id",Di("recharts-bar-")),Po(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),i&&i()}),Po(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),i&&i()}),r}return iK(t,e),rK(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,o=this.props,i=o.shape,s=o.dataKey,l=o.activeIndex,c=o.activeBar,f=Ue(this.props,!1);return n&&n.map(function(d,h){var p=h===l,m=p?c:i,v=br(br(br({},f),d),{},{isActive:p,option:m,index:h,dataKey:s,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return M.createElement(st,Td({className:"recharts-bar-rectangle"},wc(a.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),M.createElement(l2,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,o=a.data,i=a.layout,s=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,f=a.animationEasing,d=a.animationId,h=this.state.prevData;return M.createElement(Sa,{begin:l,duration:c,isActive:s,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,v=o.map(function(x,y){var g=h&&h[y];if(g){var b=mr(g.x,x.x),S=mr(g.y,x.y),w=mr(g.width,x.width),k=mr(g.height,x.height);return br(br({},x),{},{x:b(m),y:S(m),width:w(m),height:k(m)})}if(i==="horizontal"){var O=mr(0,x.height),P=O(m);return br(br({},x),{},{y:x.y+x.height-P,height:P})}var _=mr(0,x.width),N=_(m);return br(br({},x),{},{width:N})});return M.createElement(st,null,n.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,o=n.isAnimationActive,i=this.state.prevData;return o&&a&&a.length&&(!i||!_i(i,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,o=a.data,i=a.dataKey,s=a.activeIndex,l=Ue(this.props.background,!1);return o.map(function(c,f){c.value;var d=c.background,h=JX(c,QX);if(!d)return null;var p=br(br(br(br(br({},h),{},{fill:"#eee"},d),l),wc(n.props,c,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:i,index:f,className:"recharts-bar-background-rectangle"});return M.createElement(l2,Td({key:"background-bar-".concat(f),option:n.props.background,isActive:f===s},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.data,s=o.xAxis,l=o.yAxis,c=o.layout,f=o.children,d=Cn(f,fl);if(!d)return null;var h=c==="vertical"?i[0].height/2:i[0].width/2,p=function(x,y){var g=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:g,errorVal:Ar(x,y)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return M.createElement(st,m,d.map(function(v){return M.cloneElement(v,{key:"error-bar-".concat(a,"-").concat(v.props.dataKey),data:i,xAxis:s,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,o=n.data,i=n.className,s=n.xAxis,l=n.yAxis,c=n.left,f=n.top,d=n.width,h=n.height,p=n.isAnimationActive,m=n.background,v=n.id;if(a||!o||!o.length)return null;var x=this.state.isAnimationFinished,y=Ze("recharts-bar",i),g=s&&s.allowDataOverflow,b=l&&l.allowDataOverflow,S=g||b,w=Fe(v)?this.id:v;return M.createElement(st,{className:y},g||b?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(w)},M.createElement("rect",{x:g?c:c-d/2,y:b?f:f-h/2,width:g?d:d*2,height:b?h:h*2}))):null,M.createElement(st,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(w,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,w),(!p||x)&&La.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(j.PureComponent);qP=pu;Po(pu,"displayName","Bar");Po(pu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ho.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Po(pu,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,o=e.xAxis,i=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,f=e.dataStartIndex,d=e.displayedData,h=e.offset,p=$U(n,r);if(!p)return null;var m=t.layout,v=r.type.defaultProps,x=v!==void 0?br(br({},v),r.props):r.props,y=x.dataKey,g=x.children,b=x.minPointSize,S=m==="horizontal"?i:o,w=c?S.scale.domain():null,k=UU({numericAxis:S}),O=Cn(g,nv),P=d.map(function(_,N){var A,E,B,z,$,U;c?A=DU(c[f+N],w):(A=Ar(_,y),Array.isArray(A)||(A=[k,A]));var I=ZX(b,qP.defaultProps.minPointSize)(A[1],N);if(m==="horizontal"){var L,D=[i.scale(A[0]),i.scale(A[1])],G=D[0],ee=D[1];E=dw({axis:o,ticks:s,bandSize:a,offset:p.offset,entry:_,index:N}),B=(L=ee??G)!==null&&L!==void 0?L:void 0,z=p.size;var Q=G-ee;if($=Number.isNaN(Q)?0:Q,U={x:E,y:i.y,width:z,height:i.height},Math.abs(I)>0&&Math.abs($)<Math.abs(I)){var q=xa($||I)*(Math.abs(I)-Math.abs($));B-=q,$+=q}}else{var X=[o.scale(A[0]),o.scale(A[1])],le=X[0],ue=X[1];if(E=le,B=dw({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:_,index:N}),z=ue-le,$=p.size,U={x:o.x,y:B,width:o.width,height:$},Math.abs(I)>0&&Math.abs(z)<Math.abs(I)){var Se=xa(z||I)*(Math.abs(I)-Math.abs(z));z+=Se}}return br(br(br({},_),{},{x:E,y:B,width:z,height:$,value:c?A:A[1],payload:_,background:U},O&&O[N]&&O[N].props),{},{tooltipPayload:[MP(r,_)],tooltipPosition:{x:E+z/2,y:B+$/2}})});return br({data:P,layout:m},h)});function Jc(e){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jc(e)}function lK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JP(n.key),n)}}function cK(e,t,r){return t&&f2(e.prototype,t),r&&f2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function d2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ga(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d2(Object(r),!0).forEach(function(n){Vh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vh(e,t,r){return t=JP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JP(e){var t=uK(e,"string");return Jc(t)=="symbol"?t:t+""}function uK(e,t){if(Jc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mv=function(t,r,n,a,o){var i=t.width,s=t.height,l=t.layout,c=t.children,f=Object.keys(r),d={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!Fn(c,pu);return f.reduce(function(p,m){var v=r[m],x=v.orientation,y=v.domain,g=v.padding,b=g===void 0?{}:g,S=v.mirror,w=v.reversed,k="".concat(x).concat(S?"Mirror":""),O,P,_,N,A;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var E=y[1]-y[0],B=1/0,z=v.categoricalDomain.sort(g5);if(z.forEach(function(X,le){le>0&&(B=Math.min((X||0)-(z[le-1]||0),B))}),Number.isFinite(B)){var $=B/E,U=v.layout==="vertical"?n.height:n.width;if(v.padding==="gap"&&(O=$*U/2),v.padding==="no-gap"){var I=Pi(t.barCategoryGap,$*U),L=$*U/2;O=L-I-(L-I)/U*I}}}a==="xAxis"?P=[n.left+(b.left||0)+(O||0),n.left+n.width-(b.right||0)-(O||0)]:a==="yAxis"?P=l==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(O||0),n.top+n.height-(b.bottom||0)-(O||0)]:P=v.range,w&&(P=[P[1],P[0]]);var D=EU(v,o,h),G=D.scale,ee=D.realScaleType;G.domain(y).range(P),TU(G);var Q=zU(G,ga(ga({},v),{},{realScaleType:ee}));a==="xAxis"?(A=x==="top"&&!S||x==="bottom"&&S,_=n.left,N=d[k]-A*v.height):a==="yAxis"&&(A=x==="left"&&!S||x==="right"&&S,_=d[k]-A*v.width,N=n.top);var q=ga(ga(ga({},v),Q),{},{realScaleType:ee,x:_,y:N,scale:G,width:a==="xAxis"?n.width:v.width,height:a==="yAxis"?n.height:v.height});return q.bandSize=bd(q,Q),!v.hide&&a==="xAxis"?d[k]+=(A?-1:1)*q.height:v.hide||(d[k]+=(A?-1:1)*q.width),ga(ga({},p),{},Vh({},m,q))},{})},e_=function(t,r){var n=t.x,a=t.y,o=r.x,i=r.y;return{x:Math.min(n,o),y:Math.min(a,i),width:Math.abs(o-n),height:Math.abs(i-a)}},fK=function(t){var r=t.x1,n=t.y1,a=t.x2,o=t.y2;return e_({x:r,y:n},{x:a,y:o})},t_=function(){function e(t){lK(this,e),this.scale=t}return cK(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],o=n[n.length-1];return a<=o?r>=a&&r<=o:r>=o&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Vh(t_,"EPS",1e-4);var Cv=function(t){var r=Object.keys(t).reduce(function(n,a){return ga(ga({},n),{},Vh({},a,t_.create(t[a])))},{});return ga(ga({},r),{},{apply:function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=o.bandAware,s=o.position;return CX(a,function(l,c){return r[c].apply(l,{bandAware:i,position:s})})},isInRange:function(a){return YP(a,function(o,i){return r[i].isInRange(o)})}})};function dK(e){return(e%180+180)%180}var hK=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=dK(a),i=o*Math.PI/180,s=Math.atan(n/r),l=i>s&&i<Math.PI-s?n/Math.sin(i):r/Math.cos(i);return Math.abs(l)},pK=Go,gK=cu,mK=Ch;function yK(e){return function(t,r,n){var a=Object(t);if(!gK(t)){var o=pK(r);t=mK(t),r=function(s){return o(a[s],s,a)}}var i=e(t,r,n);return i>-1?a[o?t[i]:i]:void 0}}var vK=yK,xK=HP;function bK(e){var t=xK(e),r=t%1;return t===t?r?t-r:t:0}var wK=bK,kK=uO,SK=Go,jK=wK,OK=Math.max;function PK(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:jK(r);return a<0&&(a=OK(n+a,0)),kK(e,SK(t),a)}var _K=PK,NK=vK,AK=_K,MK=NK(AK),CK=MK;const EK=Nt(CK);var TK=yT(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Ev=j.createContext(void 0),Tv=j.createContext(void 0),r_=j.createContext(void 0),n_=j.createContext({}),a_=j.createContext(void 0),o_=j.createContext(0),i_=j.createContext(0),h2=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,o=r.offset,i=t.clipPathId,s=t.children,l=t.width,c=t.height,f=TK(o);return M.createElement(Ev.Provider,{value:n},M.createElement(Tv.Provider,{value:a},M.createElement(n_.Provider,{value:o},M.createElement(r_.Provider,{value:f},M.createElement(a_.Provider,{value:i},M.createElement(o_.Provider,{value:c},M.createElement(i_.Provider,{value:l},s)))))))},$K=function(){return j.useContext(a_)},s_=function(t){var r=j.useContext(Ev);r==null&&Ai();var n=r[t];return n==null&&Ai(),n},DK=function(){var t=j.useContext(Ev);return ko(t)},RK=function(){var t=j.useContext(Tv),r=EK(t,function(n){return YP(n.domain,Number.isFinite)});return r||ko(t)},l_=function(t){var r=j.useContext(Tv);r==null&&Ai();var n=r[t];return n==null&&Ai(),n},LK=function(){var t=j.useContext(r_);return t},IK=function(){return j.useContext(n_)},$v=function(){return j.useContext(i_)},Dv=function(){return j.useContext(o_)};function Ls(e){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ls(e)}function BK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u_(n.key),n)}}function zK(e,t,r){return t&&FK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function UK(e,t,r){return t=Dd(t),WK(e,c_()?Reflect.construct(t,r||[],Dd(e).constructor):t.apply(e,r))}function WK(e,t){if(t&&(Ls(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GK(e)}function GK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c_=function(){return!!e})()}function Dd(e){return Dd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dd(e)}function HK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ym(e,t)}function ym(e,t){return ym=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ym(e,t)}function p2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function g2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p2(Object(r),!0).forEach(function(n){Rv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rv(e,t,r){return t=u_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u_(e){var t=VK(e,"string");return Ls(t)=="symbol"?t:t+""}function VK(e,t){if(Ls(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ls(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function XK(e,t){return ZK(e)||qK(e,t)||YK(e,t)||KK()}function KK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YK(e,t){if(e){if(typeof e=="string")return m2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m2(e,t)}}function m2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function ZK(e){if(Array.isArray(e))return e}function vm(){return vm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vm.apply(this,arguments)}var QK=function(t,r){var n;return M.isValidElement(t)?n=M.cloneElement(t,r):Ge(t)?n=t(r):n=M.createElement("line",vm({},r,{className:"recharts-reference-line-line"})),n},JK=function(t,r,n,a,o,i,s,l,c){var f=o.x,d=o.y,h=o.width,p=o.height;if(n){var m=c.y,v=t.y.apply(m,{position:i});if(Ia(c,"discard")&&!t.y.isInRange(v))return null;var x=[{x:f+h,y:v},{x:f,y:v}];return l==="left"?x.reverse():x}if(r){var y=c.x,g=t.x.apply(y,{position:i});if(Ia(c,"discard")&&!t.x.isInRange(g))return null;var b=[{x:g,y:d+p},{x:g,y:d}];return s==="top"?b.reverse():b}if(a){var S=c.segment,w=S.map(function(k){return t.apply(k,{position:i})});return Ia(c,"discard")&&SX(w,function(k){return!t.isInRange(k)})?null:w}return null};function eY(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,o=e.yAxisId,i=e.shape,s=e.className,l=e.alwaysShow,c=$K(),f=s_(a),d=l_(o),h=LK();if(!c||!h)return null;Qa(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Cv({x:f.scale,y:d.scale}),m=Nr(t),v=Nr(r),x=n&&n.length===2,y=JK(p,m,v,x,h,e.position,f.orientation,d.orientation,e);if(!y)return null;var g=XK(y,2),b=g[0],S=b.x,w=b.y,k=g[1],O=k.x,P=k.y,_=Ia(e,"hidden")?"url(#".concat(c,")"):void 0,N=g2(g2({clipPath:_},Ue(e,!0)),{},{x1:S,y1:w,x2:O,y2:P});return M.createElement(st,{className:Ze("recharts-reference-line",s)},QK(i,N),an.renderCallByParent(e,fK({x1:S,y1:w,x2:O,y2:P})))}var di=function(e){function t(){return BK(this,t),UK(this,t,arguments)}return HK(t,e),zK(t,[{key:"render",value:function(){return M.createElement(eY,this.props)}}])}(M.Component);Rv(di,"displayName","ReferenceLine");Rv(di,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function xm(){return xm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xm.apply(this,arguments)}function Is(e){"@babel/helpers - typeof";return Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Is(e)}function y2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function v2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y2(Object(r),!0).forEach(function(n){Xh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d_(n.key),n)}}function nY(e,t,r){return t&&rY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aY(e,t,r){return t=Rd(t),oY(e,f_()?Reflect.construct(t,r||[],Rd(e).constructor):t.apply(e,r))}function oY(e,t){if(t&&(Is(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iY(e)}function iY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f_=function(){return!!e})()}function Rd(e){return Rd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rd(e)}function sY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bm(e,t)}function bm(e,t){return bm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bm(e,t)}function Xh(e,t,r){return t=d_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d_(e){var t=lY(e,"string");return Is(t)=="symbol"?t:t+""}function lY(e,t){if(Is(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Is(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var cY=function(t){var r=t.x,n=t.y,a=t.xAxis,o=t.yAxis,i=Cv({x:a.scale,y:o.scale}),s=i.apply({x:r,y:n},{bandAware:!0});return Ia(t,"discard")&&!i.isInRange(s)?null:s},Kh=function(e){function t(){return tY(this,t),aY(this,t,arguments)}return sY(t,e),nY(t,[{key:"render",value:function(){var n=this.props,a=n.x,o=n.y,i=n.r,s=n.alwaysShow,l=n.clipPathId,c=Nr(a),f=Nr(o);if(Qa(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!f)return null;var d=cY(this.props);if(!d)return null;var h=d.x,p=d.y,m=this.props,v=m.shape,x=m.className,y=Ia(this.props,"hidden")?"url(#".concat(l,")"):void 0,g=v2(v2({clipPath:y},Ue(this.props,!0)),{},{cx:h,cy:p});return M.createElement(st,{className:Ze("recharts-reference-dot",x)},t.renderDot(v,g),an.renderCallByParent(this.props,{x:h-i,y:p-i,width:2*i,height:2*i}))}}])}(M.Component);Xh(Kh,"displayName","ReferenceDot");Xh(Kh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Xh(Kh,"renderDot",function(e,t){var r;return M.isValidElement(e)?r=M.cloneElement(e,t):Ge(e)?r=e(t):r=M.createElement(Wh,xm({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function wm(){return wm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wm.apply(this,arguments)}function Bs(e){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bs(e)}function x2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function b2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x2(Object(r),!0).forEach(function(n){Yh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p_(n.key),n)}}function dY(e,t,r){return t&&fY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hY(e,t,r){return t=Ld(t),pY(e,h_()?Reflect.construct(t,r||[],Ld(e).constructor):t.apply(e,r))}function pY(e,t){if(t&&(Bs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gY(e)}function gY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h_=function(){return!!e})()}function Ld(e){return Ld=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ld(e)}function mY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&km(e,t)}function km(e,t){return km=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},km(e,t)}function Yh(e,t,r){return t=p_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p_(e){var t=yY(e,"string");return Bs(t)=="symbol"?t:t+""}function yY(e,t){if(Bs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var vY=function(t,r,n,a,o){var i=o.x1,s=o.x2,l=o.y1,c=o.y2,f=o.xAxis,d=o.yAxis;if(!f||!d)return null;var h=Cv({x:f.scale,y:d.scale}),p={x:t?h.x.apply(i,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:r?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(c,{position:"end"}):h.y.rangeMax};return Ia(o,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:e_(p,m)},gu=function(e){function t(){return uY(this,t),hY(this,t,arguments)}return mY(t,e),dY(t,[{key:"render",value:function(){var n=this.props,a=n.x1,o=n.x2,i=n.y1,s=n.y2,l=n.className,c=n.alwaysShow,f=n.clipPathId;Qa(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Nr(a),h=Nr(o),p=Nr(i),m=Nr(s),v=this.props.shape;if(!d&&!h&&!p&&!m&&!v)return null;var x=vY(d,h,p,m,this.props);if(!x&&!v)return null;var y=Ia(this.props,"hidden")?"url(#".concat(f,")"):void 0;return M.createElement(st,{className:Ze("recharts-reference-area",l)},t.renderRect(v,b2(b2({clipPath:y},Ue(this.props,!0)),x)),an.renderCallByParent(this.props,x))}}])}(M.Component);Yh(gu,"displayName","ReferenceArea");Yh(gu,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Yh(gu,"renderRect",function(e,t){var r;return M.isValidElement(e)?r=M.cloneElement(e,t):Ge(e)?r=e(t):r=M.createElement(Av,wm({},t,{className:"recharts-reference-area-rect"})),r});function g_(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function xY(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return hK(n,r)}function bY(e,t,r){var n=r==="width",a=e.x,o=e.y,i=e.width,s=e.height;return t===1?{start:n?a:o,end:n?a+i:o+s}:{start:n?a+i:o+s,end:n?a:o}}function Id(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var o=r();return e*(t-e*o/2-n)>=0&&e*(t+e*o/2-a)<=0}function wY(e,t){return g_(e,t+1)}function kY(e,t,r,n,a){for(var o=(n||[]).slice(),i=t.start,s=t.end,l=0,c=1,f=i,d=function(){var m=n==null?void 0:n[l];if(m===void 0)return{v:g_(n,c)};var v=l,x,y=function(){return x===void 0&&(x=r(m,v)),x},g=m.coordinate,b=l===0||Id(e,g,y,f,s);b||(l=0,f=i,c+=1),b&&(f=g+e*(y()/2+a),l+=c)},h;c<=o.length;)if(h=d(),h)return h.v;return[]}function eu(e){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eu(e)}function w2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w2(Object(r),!0).forEach(function(n){SY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SY(e,t,r){return t=jY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jY(e){var t=OY(e,"string");return eu(t)=="symbol"?t:t+""}function OY(e,t){if(eu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PY(e,t,r,n,a){for(var o=(n||[]).slice(),i=o.length,s=t.start,l=t.end,c=function(h){var p=o[h],m,v=function(){return m===void 0&&(m=r(p,h)),m};if(h===i-1){var x=e*(p.coordinate+e*v()/2-l);o[h]=p=rn(rn({},p),{},{tickCoord:x>0?p.coordinate-x*e:p.coordinate})}else o[h]=p=rn(rn({},p),{},{tickCoord:p.coordinate});var y=Id(e,p.tickCoord,v,s,l);y&&(l=p.tickCoord-e*(v()/2+a),o[h]=rn(rn({},p),{},{isShow:!0}))},f=i-1;f>=0;f--)c(f);return o}function _Y(e,t,r,n,a,o){var i=(n||[]).slice(),s=i.length,l=t.start,c=t.end;if(o){var f=n[s-1],d=r(f,s-1),h=e*(f.coordinate+e*d/2-c);i[s-1]=f=rn(rn({},f),{},{tickCoord:h>0?f.coordinate-h*e:f.coordinate});var p=Id(e,f.tickCoord,function(){return d},l,c);p&&(c=f.tickCoord-e*(d/2+a),i[s-1]=rn(rn({},f),{},{isShow:!0}))}for(var m=o?s-1:s,v=function(g){var b=i[g],S,w=function(){return S===void 0&&(S=r(b,g)),S};if(g===0){var k=e*(b.coordinate-e*w()/2-l);i[g]=b=rn(rn({},b),{},{tickCoord:k<0?b.coordinate-k*e:b.coordinate})}else i[g]=b=rn(rn({},b),{},{tickCoord:b.coordinate});var O=Id(e,b.tickCoord,w,l,c);O&&(l=b.tickCoord+e*(w()/2+a),i[g]=rn(rn({},b),{},{isShow:!0}))},x=0;x<m;x++)v(x);return i}function Lv(e,t,r){var n=e.tick,a=e.ticks,o=e.viewBox,i=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,f=e.unit,d=e.angle;if(!a||!a.length||!n)return[];if(se(l)||Ho.isSsr)return wY(a,typeof l=="number"&&se(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",m=f&&p==="width"?ql(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=function(b,S){var w=Ge(c)?c(b.value,S):b.value;return p==="width"?xY(ql(w,{fontSize:t,letterSpacing:r}),m,d):ql(w,{fontSize:t,letterSpacing:r})[p]},x=a.length>=2?xa(a[1].coordinate-a[0].coordinate):1,y=bY(o,x,p);return l==="equidistantPreserveStart"?kY(x,y,v,a,i):(l==="preserveStart"||l==="preserveStartEnd"?h=_Y(x,y,v,a,i,l==="preserveStartEnd"):h=PY(x,y,v,a,i),h.filter(function(g){return g.isShow}))}var NY=["viewBox"],AY=["viewBox"],MY=["ticks"];function Fs(e){"@babel/helpers - typeof";return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fs(e)}function as(){return as=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},as.apply(this,arguments)}function k2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k2(Object(r),!0).forEach(function(n){Iv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function s0(e,t){if(e==null)return{};var r=CY(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function CY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function EY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y_(n.key),n)}}function TY(e,t,r){return t&&S2(e.prototype,t),r&&S2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $Y(e,t,r){return t=Bd(t),DY(e,m_()?Reflect.construct(t,r||[],Bd(e).constructor):t.apply(e,r))}function DY(e,t){if(t&&(Fs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RY(e)}function RY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m_=function(){return!!e})()}function Bd(e){return Bd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bd(e)}function LY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sm(e,t)}function Sm(e,t){return Sm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Sm(e,t)}function Iv(e,t,r){return t=y_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y_(e){var t=IY(e,"string");return Fs(t)=="symbol"?t:t+""}function IY(e,t){if(Fs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var dl=function(e){function t(r){var n;return EY(this,t),n=$Y(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return LY(t,e),TY(t,[{key:"shouldComponentUpdate",value:function(n,a){var o=n.viewBox,i=s0(n,NY),s=this.props,l=s.viewBox,c=s0(s,AY);return!ds(o,l)||!ds(i,c)||!ds(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,o=a.x,i=a.y,s=a.width,l=a.height,c=a.orientation,f=a.tickSize,d=a.mirror,h=a.tickMargin,p,m,v,x,y,g,b=d?-1:1,S=n.tickSize||f,w=se(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":p=m=n.coordinate,x=i+ +!d*l,v=x-b*S,g=v-b*h,y=w;break;case"left":v=x=n.coordinate,m=o+ +!d*s,p=m-b*S,y=p-b*h,g=w;break;case"right":v=x=n.coordinate,m=o+ +d*s,p=m+b*S,y=p+b*h,g=w;break;default:p=m=n.coordinate,x=i+ +d*l,v=x+b*S,g=v+b*h,y=w;break}return{line:{x1:p,y1:v,x2:m,y2:x},tick:{x:y,y:g}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,o=n.mirror,i;switch(a){case"left":i=o?"start":"end";break;case"right":i=o?"end":"start";break;default:i="middle";break}return i}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,o=n.mirror,i="end";switch(a){case"left":case"right":i="middle";break;case"top":i=o?"start":"end";break;default:i=o?"end":"start";break}return i}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.orientation,c=n.mirror,f=n.axisLine,d=jr(jr(jr({},Ue(this.props,!1)),Ue(f,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);d=jr(jr({},d),{},{x1:a,y1:o+h*s,x2:a+i,y2:o+h*s})}else{var p=+(l==="left"&&!c||l==="right"&&c);d=jr(jr({},d),{},{x1:a+p*i,y1:o,x2:a+p*i,y2:o+s})}return M.createElement("line",as({},d,{className:Ze("recharts-cartesian-axis-line",oa(f,"className"))}))}},{key:"renderTicks",value:function(n,a,o){var i=this,s=this.props,l=s.tickLine,c=s.stroke,f=s.tick,d=s.tickFormatter,h=s.unit,p=Lv(jr(jr({},this.props),{},{ticks:n}),a,o),m=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),x=Ue(this.props,!1),y=Ue(f,!1),g=jr(jr({},x),{},{fill:"none"},Ue(l,!1)),b=p.map(function(S,w){var k=i.getTickLineCoord(S),O=k.line,P=k.tick,_=jr(jr(jr(jr({textAnchor:m,verticalAnchor:v},x),{},{stroke:"none",fill:c},y),P),{},{index:w,payload:S,visibleTicksCount:p.length,tickFormatter:d});return M.createElement(st,as({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},wc(i.props,S,w)),l&&M.createElement("line",as({},g,O,{className:Ze("recharts-cartesian-axis-tick-line",oa(l,"className"))})),f&&t.renderTickItem(f,_,"".concat(Ge(d)?d(S.value,w):S.value).concat(h||"")))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,a=this.props,o=a.axisLine,i=a.width,s=a.height,l=a.ticksGenerator,c=a.className,f=a.hide;if(f)return null;var d=this.props,h=d.ticks,p=s0(d,MY),m=h;return Ge(l)&&(m=h&&h.length>0?l(this.props):l(p)),i<=0||s<=0||!m||!m.length?null:M.createElement(st,{className:Ze("recharts-cartesian-axis",c),ref:function(x){n.layerReference=x}},o&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),an.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,o){var i,s=Ze(a.className,"recharts-cartesian-axis-tick-value");return M.isValidElement(n)?i=M.cloneElement(n,jr(jr({},a),{},{className:s})):Ge(n)?i=n(jr(jr({},a),{},{className:s})):i=M.createElement(id,as({},a,{className:"recharts-cartesian-axis-tick-value"}),o),i}}])}(j.Component);Iv(dl,"displayName","CartesianAxis");Iv(dl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var BY=["x1","y1","x2","y2","key"],FY=["offset"];function Mi(e){"@babel/helpers - typeof";return Mi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mi(e)}function j2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function on(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j2(Object(r),!0).forEach(function(n){zY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zY(e,t,r){return t=UY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UY(e){var t=WY(e,"string");return Mi(t)=="symbol"?t:t+""}function WY(e,t){if(Mi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hi(){return hi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hi.apply(this,arguments)}function O2(e,t){if(e==null)return{};var r=GY(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var HY=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,o=t.y,i=t.width,s=t.height,l=t.ry;return M.createElement("rect",{x:a,y:o,ry:l,width:i,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function v_(e,t){var r;if(M.isValidElement(e))r=M.cloneElement(e,t);else if(Ge(e))r=e(t);else{var n=t.x1,a=t.y1,o=t.x2,i=t.y2,s=t.key,l=O2(t,BY),c=Ue(l,!1);c.offset;var f=O2(c,FY);r=M.createElement("line",hi({},f,{x1:n,y1:a,x2:o,y2:i,fill:"none",key:s}))}return r}function VY(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,o=e.horizontalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(s,l){var c=on(on({},e),{},{x1:t,y1:s,x2:t+r,y2:s,key:"line-".concat(l),index:l});return v_(a,c)});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function XY(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,o=e.verticalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(s,l){var c=on(on({},e),{},{x1:s,y1:t,x2:s,y2:t+r,key:"line-".concat(l),index:l});return v_(a,c)});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function KY(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,o=e.width,i=e.height,s=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var f=s.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==f[0]&&f.unshift(0);var d=f.map(function(h,p){var m=!f[p+1],v=m?a+i-h:f[p+1]-h;if(v<=0)return null;var x=p%t.length;return M.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:v,width:o,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function YY(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,o=e.x,i=e.y,s=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var f=c.map(function(h){return Math.round(h+o-o)}).sort(function(h,p){return h-p});o!==f[0]&&f.unshift(0);var d=f.map(function(h,p){var m=!f[p+1],v=m?o+s-h:f[p+1]-h;if(v<=0)return null;var x=p%n.length;return M.createElement("rect",{key:"react-".concat(p),x:h,y:i,width:v,height:l,stroke:"none",fill:n[x],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var qY=function(t,r){var n=t.xAxis,a=t.width,o=t.height,i=t.offset;return NP(Lv(on(on(on({},dl.defaultProps),n),{},{ticks:Ya(n,!0),viewBox:{x:0,y:0,width:a,height:o}})),i.left,i.left+i.width,r)},ZY=function(t,r){var n=t.yAxis,a=t.width,o=t.height,i=t.offset;return NP(Lv(on(on(on({},dl.defaultProps),n),{},{ticks:Ya(n,!0),viewBox:{x:0,y:0,width:a,height:o}})),i.top,i.top+i.height,r)},Ui={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Ci(e){var t,r,n,a,o,i,s=$v(),l=Dv(),c=IK(),f=on(on({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Ui.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Ui.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Ui.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Ui.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:Ui.vertical,verticalFill:(i=e.verticalFill)!==null&&i!==void 0?i:Ui.verticalFill,x:se(e.x)?e.x:c.left,y:se(e.y)?e.y:c.top,width:se(e.width)?e.width:c.width,height:se(e.height)?e.height:c.height}),d=f.x,h=f.y,p=f.width,m=f.height,v=f.syncWithTicks,x=f.horizontalValues,y=f.verticalValues,g=DK(),b=RK();if(!se(p)||p<=0||!se(m)||m<=0||!se(d)||d!==+d||!se(h)||h!==+h)return null;var S=f.verticalCoordinatesGenerator||qY,w=f.horizontalCoordinatesGenerator||ZY,k=f.horizontalPoints,O=f.verticalPoints;if((!k||!k.length)&&Ge(w)){var P=x&&x.length,_=w({yAxis:b?on(on({},b),{},{ticks:P?x:b.ticks}):void 0,width:s,height:l,offset:c},P?!0:v);Qa(Array.isArray(_),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Mi(_),"]")),Array.isArray(_)&&(k=_)}if((!O||!O.length)&&Ge(S)){var N=y&&y.length,A=S({xAxis:g?on(on({},g),{},{ticks:N?y:g.ticks}):void 0,width:s,height:l,offset:c},N?!0:v);Qa(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Mi(A),"]")),Array.isArray(A)&&(O=A)}return M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(HY,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),M.createElement(VY,hi({},f,{offset:c,horizontalPoints:k,xAxis:g,yAxis:b})),M.createElement(XY,hi({},f,{offset:c,verticalPoints:O,xAxis:g,yAxis:b})),M.createElement(KY,hi({},f,{horizontalPoints:k})),M.createElement(YY,hi({},f,{verticalPoints:O})))}Ci.displayName="CartesianGrid";var QY=["type","layout","connectNulls","ref"],JY=["key"];function zs(e){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zs(e)}function P2(e,t){if(e==null)return{};var r=eq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ec(){return ec=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ec.apply(this,arguments)}function _2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ln(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_2(Object(r),!0).forEach(function(n){ma(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wi(e){return aq(e)||nq(e)||rq(e)||tq()}function tq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rq(e,t){if(e){if(typeof e=="string")return jm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jm(e,t)}}function nq(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aq(e){if(Array.isArray(e))return jm(e)}function jm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b_(n.key),n)}}function iq(e,t,r){return t&&N2(e.prototype,t),r&&N2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function sq(e,t,r){return t=Fd(t),lq(e,x_()?Reflect.construct(t,r||[],Fd(e).constructor):t.apply(e,r))}function lq(e,t){if(t&&(zs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cq(e)}function cq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x_=function(){return!!e})()}function Fd(e){return Fd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fd(e)}function uq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Om(e,t)}function Om(e,t){return Om=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Om(e,t)}function ma(e,t,r){return t=b_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b_(e){var t=fq(e,"string");return zs(t)=="symbol"?t:t+""}function fq(e,t){if(zs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Wr=function(e){function t(){var r;oq(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=sq(this,t,[].concat(a)),ma(r,"state",{isAnimationFinished:!0,totalLength:0}),ma(r,"generateSimpleStrokeDasharray",function(i,s){return"".concat(s,"px ").concat(i-s,"px")}),ma(r,"getStrokeDasharray",function(i,s,l){var c=l.reduce(function(y,g){return y+g});if(!c)return r.generateSimpleStrokeDasharray(s,i);for(var f=Math.floor(i/c),d=i%c,h=s-i,p=[],m=0,v=0;m<l.length;v+=l[m],++m)if(v+l[m]>d){p=[].concat(Wi(l.slice(0,m)),[d-v]);break}var x=p.length%2===0?[0,h]:[h];return[].concat(Wi(t.repeat(l,f)),Wi(p),x).map(function(y){return"".concat(y,"px")}).join(", ")}),ma(r,"id",Di("recharts-line-")),ma(r,"pathRef",function(i){r.mainCurve=i}),ma(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),ma(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return uq(t,e),iq(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.points,s=o.xAxis,l=o.yAxis,c=o.layout,f=o.children,d=Cn(f,fl);if(!d)return null;var h=function(v,x){return{x:v.x,y:v.y,value:v.value,errorVal:Ar(v.payload,x)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return M.createElement(st,p,d.map(function(m){return M.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:i,xAxis:s,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,o){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,c=s.points,f=s.dataKey,d=Ue(this.props,!1),h=Ue(l,!0),p=c.map(function(v,x){var y=Ln(Ln(Ln({key:"dot-".concat(x),r:3},d),h),{},{index:x,cx:v.x,cy:v.y,value:v.value,dataKey:f,payload:v.payload,points:c});return t.renderDotItem(l,y)}),m={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return M.createElement(st,ec({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(n,a,o,i){var s=this.props,l=s.type,c=s.layout,f=s.connectNulls;s.ref;var d=P2(s,QY),h=Ln(Ln(Ln({},Ue(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(o,")"):null,points:n},i),{},{type:l,layout:c,connectNulls:f});return M.createElement(xi,ec({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var o=this,i=this.props,s=i.points,l=i.strokeDasharray,c=i.isAnimationActive,f=i.animationBegin,d=i.animationDuration,h=i.animationEasing,p=i.animationId,m=i.animateNewValues,v=i.width,x=i.height,y=this.state,g=y.prevPoints,b=y.totalLength;return M.createElement(Sa,{begin:f,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var w=S.t;if(g){var k=g.length/s.length,O=s.map(function(E,B){var z=Math.floor(B*k);if(g[z]){var $=g[z],U=mr($.x,E.x),I=mr($.y,E.y);return Ln(Ln({},E),{},{x:U(w),y:I(w)})}if(m){var L=mr(v*2,E.x),D=mr(x/2,E.y);return Ln(Ln({},E),{},{x:L(w),y:D(w)})}return Ln(Ln({},E),{},{x:E.x,y:E.y})});return o.renderCurveStatically(O,n,a)}var P=mr(0,b),_=P(w),N;if(l){var A="".concat(l).split(/[,\s]+/gim).map(function(E){return parseFloat(E)});N=o.getStrokeDasharray(_,b,A)}else N=o.generateSimpleStrokeDasharray(b,_);return o.renderCurveStatically(s,n,a,{strokeDasharray:N})})}},{key:"renderCurve",value:function(n,a){var o=this.props,i=o.points,s=o.isAnimationActive,l=this.state,c=l.prevPoints,f=l.totalLength;return s&&i&&i.length&&(!c&&f>0||!_i(c,i))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(i,n,a)}},{key:"render",value:function(){var n,a=this.props,o=a.hide,i=a.dot,s=a.points,l=a.className,c=a.xAxis,f=a.yAxis,d=a.top,h=a.left,p=a.width,m=a.height,v=a.isAnimationActive,x=a.id;if(o||!s||!s.length)return null;var y=this.state.isAnimationFinished,g=s.length===1,b=Ze("recharts-line",l),S=c&&c.allowDataOverflow,w=f&&f.allowDataOverflow,k=S||w,O=Fe(x)?this.id:x,P=(n=Ue(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},_=P.r,N=_===void 0?3:_,A=P.strokeWidth,E=A===void 0?2:A,B=wj(i)?i:{},z=B.clipDot,$=z===void 0?!0:z,U=N*2+E;return M.createElement(st,{className:b},S||w?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(O)},M.createElement("rect",{x:S?h:h-p/2,y:w?d:d-m/2,width:S?p:p*2,height:w?m:m*2})),!$&&M.createElement("clipPath",{id:"clipPath-dots-".concat(O)},M.createElement("rect",{x:h-U/2,y:d-U/2,width:p+U,height:m+U}))):null,!g&&this.renderCurve(k,O),this.renderErrorBar(k,O),(g||i)&&this.renderDots(k,$,O),(!v||y)&&La.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var o=n.length%2!==0?[].concat(Wi(n),[0]):n,i=[],s=0;s<a;++s)i=[].concat(Wi(i),Wi(o));return i}},{key:"renderDotItem",value:function(n,a){var o;if(M.isValidElement(n))o=M.cloneElement(n,a);else if(Ge(n))o=n(a);else{var i=a.key,s=P2(a,JY),l=Ze("recharts-line-dot",typeof n!="boolean"?n.className:"");o=M.createElement(Wh,ec({key:i},s,{className:l}))}return o}}])}(j.PureComponent);ma(Wr,"displayName","Line");ma(Wr,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ho.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ma(Wr,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,i=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,f=t.layout,d=l.map(function(h,p){var m=Ar(h,i);return f==="horizontal"?{x:Es({axis:r,ticks:a,bandSize:s,entry:h,index:p}),y:Fe(m)?null:n.scale(m),value:m,payload:h}:{x:Fe(m)?null:r.scale(m),y:Es({axis:n,ticks:o,bandSize:s,entry:h,index:p}),value:m,payload:h}});return Ln({points:d,layout:f},c)});var dq=["layout","type","stroke","connectNulls","isRange","ref"],hq=["key"],w_;function Us(e){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Us(e)}function k_(e,t){if(e==null)return{};var r=pq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function pi(){return pi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pi.apply(this,arguments)}function A2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A2(Object(r),!0).forEach(function(n){Ta(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,j_(n.key),n)}}function mq(e,t,r){return t&&M2(e.prototype,t),r&&M2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function yq(e,t,r){return t=zd(t),vq(e,S_()?Reflect.construct(t,r||[],zd(e).constructor):t.apply(e,r))}function vq(e,t){if(t&&(Us(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xq(e)}function xq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S_=function(){return!!e})()}function zd(e){return zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zd(e)}function bq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pm(e,t)}function Pm(e,t){return Pm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Pm(e,t)}function Ta(e,t,r){return t=j_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j_(e){var t=wq(e,"string");return Us(t)=="symbol"?t:t+""}function wq(e,t){if(Us(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Us(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var na=function(e){function t(){var r;gq(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=yq(this,t,[].concat(a)),Ta(r,"state",{isAnimationFinished:!0}),Ta(r,"id",Di("recharts-area-")),Ta(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ge(i)&&i()}),Ta(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ge(i)&&i()}),r}return bq(t,e),mq(t,[{key:"renderDots",value:function(n,a,o){var i=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(i&&!s)return null;var l=this.props,c=l.dot,f=l.points,d=l.dataKey,h=Ue(this.props,!1),p=Ue(c,!0),m=f.map(function(x,y){var g=mo(mo(mo({key:"dot-".concat(y),r:3},h),p),{},{index:y,cx:x.x,cy:x.y,dataKey:d,value:x.value,payload:x.payload,points:f});return t.renderDotItem(c,g)}),v={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return M.createElement(st,pi({className:"recharts-area-dots"},v),m)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,o=a.baseLine,i=a.points,s=a.strokeWidth,l=i[0].x,c=i[i.length-1].x,f=n*Math.abs(l-c),d=Oo(i.map(function(h){return h.y||0}));return se(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(Oo(o.map(function(h){return h.y||0})),d)),se(d)?M.createElement("rect",{x:l<c?l:l-f,y:0,width:f,height:Math.floor(d+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,o=a.baseLine,i=a.points,s=a.strokeWidth,l=i[0].y,c=i[i.length-1].y,f=n*Math.abs(l-c),d=Oo(i.map(function(h){return h.x||0}));return se(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(Oo(o.map(function(h){return h.x||0})),d)),se(d)?M.createElement("rect",{x:0,y:l<c?l:l-f,width:d+(s?parseInt("".concat(s),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,o,i){var s=this.props,l=s.layout,c=s.type,f=s.stroke,d=s.connectNulls,h=s.isRange;s.ref;var p=k_(s,dq);return M.createElement(st,{clipPath:o?"url(#clipPath-".concat(i,")"):null},M.createElement(xi,pi({},Ue(p,!0),{points:n,connectNulls:d,type:c,baseLine:a,layout:l,stroke:"none",className:"recharts-area-area"})),f!=="none"&&M.createElement(xi,pi({},Ue(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:n})),f!=="none"&&h&&M.createElement(xi,pi({},Ue(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var o=this,i=this.props,s=i.points,l=i.baseLine,c=i.isAnimationActive,f=i.animationBegin,d=i.animationDuration,h=i.animationEasing,p=i.animationId,m=this.state,v=m.prevPoints,x=m.prevBaseLine;return M.createElement(Sa,{begin:f,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var g=y.t;if(v){var b=v.length/s.length,S=s.map(function(P,_){var N=Math.floor(_*b);if(v[N]){var A=v[N],E=mr(A.x,P.x),B=mr(A.y,P.y);return mo(mo({},P),{},{x:E(g),y:B(g)})}return P}),w;if(se(l)&&typeof l=="number"){var k=mr(x,l);w=k(g)}else if(Fe(l)||al(l)){var O=mr(x,0);w=O(g)}else w=l.map(function(P,_){var N=Math.floor(_*b);if(x[N]){var A=x[N],E=mr(A.x,P.x),B=mr(A.y,P.y);return mo(mo({},P),{},{x:E(g),y:B(g)})}return P});return o.renderAreaStatically(S,w,n,a)}return M.createElement(st,null,M.createElement("defs",null,M.createElement("clipPath",{id:"animationClipPath-".concat(a)},o.renderClipRect(g))),M.createElement(st,{clipPath:"url(#animationClipPath-".concat(a,")")},o.renderAreaStatically(s,l,n,a)))})}},{key:"renderArea",value:function(n,a){var o=this.props,i=o.points,s=o.baseLine,l=o.isAnimationActive,c=this.state,f=c.prevPoints,d=c.prevBaseLine,h=c.totalLength;return l&&i&&i.length&&(!f&&h>0||!_i(f,i)||!_i(d,s))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(i,s,n,a)}},{key:"render",value:function(){var n,a=this.props,o=a.hide,i=a.dot,s=a.points,l=a.className,c=a.top,f=a.left,d=a.xAxis,h=a.yAxis,p=a.width,m=a.height,v=a.isAnimationActive,x=a.id;if(o||!s||!s.length)return null;var y=this.state.isAnimationFinished,g=s.length===1,b=Ze("recharts-area",l),S=d&&d.allowDataOverflow,w=h&&h.allowDataOverflow,k=S||w,O=Fe(x)?this.id:x,P=(n=Ue(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},_=P.r,N=_===void 0?3:_,A=P.strokeWidth,E=A===void 0?2:A,B=wj(i)?i:{},z=B.clipDot,$=z===void 0?!0:z,U=N*2+E;return M.createElement(st,{className:b},S||w?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(O)},M.createElement("rect",{x:S?f:f-p/2,y:w?c:c-m/2,width:S?p:p*2,height:w?m:m*2})),!$&&M.createElement("clipPath",{id:"clipPath-dots-".concat(O)},M.createElement("rect",{x:f-U/2,y:c-U/2,width:p+U,height:m+U}))):null,g?null:this.renderArea(k,O),(i||g)&&this.renderDots(k,$,O),(!v||y)&&La.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(j.PureComponent);w_=na;Ta(na,"displayName","Area");Ta(na,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Ho.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Ta(na,"getBaseValue",function(e,t,r,n){var a=e.layout,o=e.baseValue,i=t.props.baseValue,s=i??o;if(se(s)&&typeof s=="number")return s;var l=a==="horizontal"?n:r,c=l.scale.domain();if(l.type==="number"){var f=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return s==="dataMin"?d:s==="dataMax"||f<0?f:Math.max(Math.min(c[0],c[1]),0)}return s==="dataMin"?c[0]:s==="dataMax"?c[1]:c[0]});Ta(na,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,o=e.xAxisTicks,i=e.yAxisTicks,s=e.bandSize,l=e.dataKey,c=e.stackedData,f=e.dataStartIndex,d=e.displayedData,h=e.offset,p=t.layout,m=c&&c.length,v=w_.getBaseValue(t,r,n,a),x=p==="horizontal",y=!1,g=d.map(function(S,w){var k;m?k=c[f+w]:(k=Ar(S,l),Array.isArray(k)?y=!0:k=[v,k]);var O=k[1]==null||m&&Ar(S,l)==null;return x?{x:Es({axis:n,ticks:o,bandSize:s,entry:S,index:w}),y:O?null:a.scale(k[1]),value:k,payload:S}:{x:O?null:n.scale(k[1]),y:Es({axis:a,ticks:i,bandSize:s,entry:S,index:w}),value:k,payload:S}}),b;return m||y?b=g.map(function(S){var w=Array.isArray(S.value)?S.value[0]:null;return x?{x:S.x,y:w!=null&&S.y!=null?a.scale(w):null}:{x:w!=null?n.scale(w):null,y:S.y}}):b=x?a.scale(v):n.scale(v),mo({points:g,baseLine:b,layout:p,isRange:y},h)});Ta(na,"renderDotItem",function(e,t){var r;if(M.isValidElement(e))r=M.cloneElement(e,t);else if(Ge(e))r=e(t);else{var n=Ze("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,o=k_(t,hq);r=M.createElement(Wh,pi({},o,{key:a,className:n}))}return r});function Ws(e){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ws(e)}function kq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,__(n.key),n)}}function jq(e,t,r){return t&&Sq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Oq(e,t,r){return t=Ud(t),Pq(e,O_()?Reflect.construct(t,r||[],Ud(e).constructor):t.apply(e,r))}function Pq(e,t){if(t&&(Ws(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _q(e)}function _q(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O_=function(){return!!e})()}function Ud(e){return Ud=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ud(e)}function Nq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_m(e,t)}function _m(e,t){return _m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_m(e,t)}function P_(e,t,r){return t=__(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function __(e){var t=Aq(e,"string");return Ws(t)=="symbol"?t:t+""}function Aq(e,t){if(Ws(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ws(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qh=function(e){function t(){return kq(this,t),Oq(this,t,arguments)}return Nq(t,e),jq(t,[{key:"render",value:function(){return null}}])}(j.Component);P_(qh,"displayName","ZAxis");P_(qh,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var Mq=["option","isActive"];function tc(){return tc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tc.apply(this,arguments)}function Cq(e,t){if(e==null)return{};var r=Eq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Eq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Tq(e){var t=e.option,r=e.isActive,n=Cq(e,Mq);return typeof t=="string"?j.createElement(hm,tc({option:j.createElement(Mh,tc({type:t},n)),isActive:r,shapeType:"symbols"},n)):j.createElement(hm,tc({option:t,isActive:r,shapeType:"symbols"},n))}function Gs(e){"@babel/helpers - typeof";return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gs(e)}function rc(){return rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rc.apply(this,arguments)}function C2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C2(Object(r),!0).forEach(function(n){_o(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,A_(n.key),n)}}function Dq(e,t,r){return t&&E2(e.prototype,t),r&&E2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rq(e,t,r){return t=Wd(t),Lq(e,N_()?Reflect.construct(t,r||[],Wd(e).constructor):t.apply(e,r))}function Lq(e,t){if(t&&(Gs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Iq(e)}function Iq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N_=function(){return!!e})()}function Wd(e){return Wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wd(e)}function Bq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nm(e,t)}function Nm(e,t){return Nm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Nm(e,t)}function _o(e,t,r){return t=A_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A_(e){var t=Fq(e,"string");return Gs(t)=="symbol"?t:t+""}function Fq(e,t){if(Gs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var pn=function(e){function t(){var r;$q(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=Rq(this,t,[].concat(a)),_o(r,"state",{isAnimationFinished:!1}),_o(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),_o(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),_o(r,"id",Di("recharts-scatter-")),r}return Bq(t,e),Dq(t,[{key:"renderSymbolsStatically",value:function(n){var a=this,o=this.props,i=o.shape,s=o.activeShape,l=o.activeIndex,c=Ue(this.props,!1);return n.map(function(f,d){var h=l===d,p=h?s:i,m=Qn(Qn({},c),f);return M.createElement(st,rc({className:"recharts-scatter-symbol",key:"symbol-".concat(f==null?void 0:f.cx,"-").concat(f==null?void 0:f.cy,"-").concat(f==null?void 0:f.size,"-").concat(d)},wc(a.props,f,d),{role:"img"}),M.createElement(Tq,rc({option:p,isActive:h,key:"symbol-".concat(d)},m)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,a=this.props,o=a.points,i=a.isAnimationActive,s=a.animationBegin,l=a.animationDuration,c=a.animationEasing,f=a.animationId,d=this.state.prevPoints;return M.createElement(Sa,{begin:s,duration:l,isActive:i,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var p=h.t,m=o.map(function(v,x){var y=d&&d[x];if(y){var g=mr(y.cx,v.cx),b=mr(y.cy,v.cy),S=mr(y.size,v.size);return Qn(Qn({},v),{},{cx:g(p),cy:b(p),size:S(p)})}var w=mr(0,v.size);return Qn(Qn({},v),{},{size:w(p)})});return M.createElement(st,null,n.renderSymbolsStatically(m))})}},{key:"renderSymbols",value:function(){var n=this.props,a=n.points,o=n.isAnimationActive,i=this.state.prevPoints;return o&&a&&a.length&&(!i||!_i(i,a))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(a)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,i=a.xAxis,s=a.yAxis,l=a.children,c=Cn(l,fl);return c?c.map(function(f,d){var h=f.props,p=h.direction,m=h.dataKey;return M.cloneElement(f,{key:"".concat(p,"-").concat(m,"-").concat(o[d]),data:o,xAxis:i,yAxis:s,layout:p==="x"?"vertical":"horizontal",dataPointFormatter:function(x,y){return{x:x.cx,y:x.cy,value:p==="x"?+x.node.x:+x.node.y,errorVal:Ar(x,y)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,a=n.points,o=n.line,i=n.lineType,s=n.lineJointType,l=Ue(this.props,!1),c=Ue(o,!1),f,d;if(i==="joint")f=a.map(function(b){return{x:b.cx,y:b.cy}});else if(i==="fitting"){var h=p5(a),p=h.xmin,m=h.xmax,v=h.a,x=h.b,y=function(S){return v*S+x};f=[{x:p,y:y(p)},{x:m,y:y(m)}]}var g=Qn(Qn(Qn({},l),{},{fill:"none",stroke:l&&l.fill},c),{},{points:f});return M.isValidElement(o)?d=M.cloneElement(o,g):Ge(o)?d=o(g):d=M.createElement(xi,rc({},g,{type:s})),M.createElement(st,{className:"recharts-scatter-line",key:"recharts-scatter-line"},d)}},{key:"render",value:function(){var n=this.props,a=n.hide,o=n.points,i=n.line,s=n.className,l=n.xAxis,c=n.yAxis,f=n.left,d=n.top,h=n.width,p=n.height,m=n.id,v=n.isAnimationActive;if(a||!o||!o.length)return null;var x=this.state.isAnimationFinished,y=Ze("recharts-scatter",s),g=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,S=g||b,w=Fe(m)?this.id:m;return M.createElement(st,{className:y,clipPath:S?"url(#clipPath-".concat(w,")"):null},g||b?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(w)},M.createElement("rect",{x:g?f:f-h/2,y:b?d:d-p/2,width:g?h:h*2,height:b?p:p*2}))):null,i&&this.renderLine(),this.renderErrorBar(),M.createElement(st,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!v||x)&&La.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}}])}(j.PureComponent);_o(pn,"displayName","Scatter");_o(pn,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Ho.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});_o(pn,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,n=e.zAxis,a=e.item,o=e.displayedData,i=e.xAxisTicks,s=e.yAxisTicks,l=e.offset,c=a.props.tooltipType,f=Cn(a.props.children,nv),d=Fe(t.dataKey)?a.props.dataKey:t.dataKey,h=Fe(r.dataKey)?a.props.dataKey:r.dataKey,p=n&&n.dataKey,m=n?n.range:qh.defaultProps.range,v=m&&m[0],x=t.scale.bandwidth?t.scale.bandwidth():0,y=r.scale.bandwidth?r.scale.bandwidth():0,g=o.map(function(b,S){var w=Ar(b,d),k=Ar(b,h),O=!Fe(p)&&Ar(b,p)||"-",P=[{name:Fe(t.dataKey)?a.props.name:t.name||t.dataKey,unit:t.unit||"",value:w,payload:b,dataKey:d,type:c},{name:Fe(r.dataKey)?a.props.name:r.name||r.dataKey,unit:r.unit||"",value:k,payload:b,dataKey:h,type:c}];O!=="-"&&P.push({name:n.name||n.dataKey,unit:n.unit||"",value:O,payload:b,dataKey:p,type:c});var _=Es({axis:t,ticks:i,bandSize:x,entry:b,index:S,dataKey:d}),N=Es({axis:r,ticks:s,bandSize:y,entry:b,index:S,dataKey:h}),A=O!=="-"?n.scale(O):v,E=Math.sqrt(Math.max(A,0)/Math.PI);return Qn(Qn({},b),{},{cx:_,cy:N,x:_-E,y:N-E,xAxis:t,yAxis:r,zAxis:n,width:2*E,height:2*E,size:A,node:{x:w,y:k,z:O},tooltipPayload:P,tooltipPosition:{x:_,y:N},payload:b},f&&f[S]&&f[S].props)});return Qn({points:g},l)});function Hs(e){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hs(e)}function zq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E_(n.key),n)}}function Wq(e,t,r){return t&&Uq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gq(e,t,r){return t=Gd(t),Hq(e,M_()?Reflect.construct(t,r||[],Gd(e).constructor):t.apply(e,r))}function Hq(e,t){if(t&&(Hs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vq(e)}function Vq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M_=function(){return!!e})()}function Gd(e){return Gd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gd(e)}function Xq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Am(e,t)}function Am(e,t){return Am=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Am(e,t)}function C_(e,t,r){return t=E_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E_(e){var t=Kq(e,"string");return Hs(t)=="symbol"?t:t+""}function Kq(e,t){if(Hs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Mm(){return Mm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mm.apply(this,arguments)}function Yq(e){var t=e.xAxisId,r=$v(),n=Dv(),a=s_(t);return a==null?null:j.createElement(dl,Mm({},a,{className:Ze("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(i){return Ya(i,!0)}}))}var ja=function(e){function t(){return zq(this,t),Gq(this,t,arguments)}return Xq(t,e),Wq(t,[{key:"render",value:function(){return j.createElement(Yq,this.props)}}])}(j.Component);C_(ja,"displayName","XAxis");C_(ja,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Vs(e){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vs(e)}function qq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,D_(n.key),n)}}function Qq(e,t,r){return t&&Zq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jq(e,t,r){return t=Hd(t),eZ(e,T_()?Reflect.construct(t,r||[],Hd(e).constructor):t.apply(e,r))}function eZ(e,t){if(t&&(Vs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tZ(e)}function tZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T_=function(){return!!e})()}function Hd(e){return Hd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hd(e)}function rZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cm(e,t)}function Cm(e,t){return Cm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Cm(e,t)}function $_(e,t,r){return t=D_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D_(e){var t=nZ(e,"string");return Vs(t)=="symbol"?t:t+""}function nZ(e,t){if(Vs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Em(){return Em=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Em.apply(this,arguments)}var aZ=function(t){var r=t.yAxisId,n=$v(),a=Dv(),o=l_(r);return o==null?null:j.createElement(dl,Em({},o,{className:Ze("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(s){return Ya(s,!0)}}))},Oa=function(e){function t(){return qq(this,t),Jq(this,t,arguments)}return rZ(t,e),Qq(t,[{key:"render",value:function(){return j.createElement(aZ,this.props)}}])}(j.Component);$_(Oa,"displayName","YAxis");$_(Oa,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function T2(e){return lZ(e)||sZ(e)||iZ(e)||oZ()}function oZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iZ(e,t){if(e){if(typeof e=="string")return Tm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tm(e,t)}}function sZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lZ(e){if(Array.isArray(e))return Tm(e)}function Tm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var $m=function(t,r,n,a,o){var i=Cn(t,di),s=Cn(t,Kh),l=[].concat(T2(i),T2(s)),c=Cn(t,gu),f="".concat(a,"Id"),d=a[0],h=r;if(l.length&&(h=l.reduce(function(v,x){if(x.props[f]===n&&Ia(x.props,"extendDomain")&&se(x.props[d])){var y=x.props[d];return[Math.min(v[0],y),Math.max(v[1],y)]}return v},h)),c.length){var p="".concat(d,"1"),m="".concat(d,"2");h=c.reduce(function(v,x){if(x.props[f]===n&&Ia(x.props,"extendDomain")&&se(x.props[p])&&se(x.props[m])){var y=x.props[p],g=x.props[m];return[Math.min(v[0],y,g),Math.max(v[1],y,g)]}return v},h)}return o&&o.length&&(h=o.reduce(function(v,x){return se(x)?[Math.min(v[0],x),Math.max(v[1],x)]:v},h)),h},R_={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,c,f){this.fn=l,this.context=c,this.once=f||!1}function o(l,c,f,d,h){if(typeof f!="function")throw new TypeError("The listener must be a function");var p=new a(f,d||l,h),m=r?r+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function i(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],f,d;if(this._eventsCount===0)return c;for(d in f=this._events)t.call(f,d)&&c.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},s.prototype.listeners=function(c){var f=r?r+c:c,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,m=new Array(p);h<p;h++)m[h]=d[h].fn;return m},s.prototype.listenerCount=function(c){var f=r?r+c:c,d=this._events[f];return d?d.fn?1:d.length:0},s.prototype.emit=function(c,f,d,h,p,m){var v=r?r+c:c;if(!this._events[v])return!1;var x=this._events[v],y=arguments.length,g,b;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),y){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,f),!0;case 3:return x.fn.call(x.context,f,d),!0;case 4:return x.fn.call(x.context,f,d,h),!0;case 5:return x.fn.call(x.context,f,d,h,p),!0;case 6:return x.fn.call(x.context,f,d,h,p,m),!0}for(b=1,g=new Array(y-1);b<y;b++)g[b-1]=arguments[b];x.fn.apply(x.context,g)}else{var S=x.length,w;for(b=0;b<S;b++)switch(x[b].once&&this.removeListener(c,x[b].fn,void 0,!0),y){case 1:x[b].fn.call(x[b].context);break;case 2:x[b].fn.call(x[b].context,f);break;case 3:x[b].fn.call(x[b].context,f,d);break;case 4:x[b].fn.call(x[b].context,f,d,h);break;default:if(!g)for(w=1,g=new Array(y-1);w<y;w++)g[w-1]=arguments[w];x[b].fn.apply(x[b].context,g)}}return!0},s.prototype.on=function(c,f,d){return o(this,c,f,d,!1)},s.prototype.once=function(c,f,d){return o(this,c,f,d,!0)},s.prototype.removeListener=function(c,f,d,h){var p=r?r+c:c;if(!this._events[p])return this;if(!f)return i(this,p),this;var m=this._events[p];if(m.fn)m.fn===f&&(!h||m.once)&&(!d||m.context===d)&&i(this,p);else{for(var v=0,x=[],y=m.length;v<y;v++)(m[v].fn!==f||h&&!m[v].once||d&&m[v].context!==d)&&x.push(m[v]);x.length?this._events[p]=x.length===1?x[0]:x:i(this,p)}return this},s.prototype.removeAllListeners=function(c){var f;return c?(f=r?r+c:c,this._events[f]&&i(this,f)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(R_);var cZ=R_.exports;const uZ=Nt(cZ);var l0=new uZ,c0="recharts.syncMouseEvents";function tu(e){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tu(e)}function fZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,L_(n.key),n)}}function hZ(e,t,r){return t&&dZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function u0(e,t,r){return t=L_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L_(e){var t=pZ(e,"string");return tu(t)=="symbol"?t:t+""}function pZ(e,t){if(tu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gZ=function(){function e(){fZ(this,e),u0(this,"activeIndex",0),u0(this,"coordinateList",[]),u0(this,"layout","horizontal")}return hZ(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,o=a===void 0?null:a,i=r.container,s=i===void 0?null:i,l=r.layout,c=l===void 0?null:l,f=r.offset,d=f===void 0?null:f,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),o=a.x,i=a.y,s=a.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=o+l+c,h=i+this.offset.top+s/2+f;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function mZ(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&se(n)&&se(a))return!0}return!1}function yZ(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function I_(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,o=e.endAngle,i=Gr(t,r,n,a),s=Gr(t,r,n,o);return{points:[i,s],cx:t,cy:r,radius:n,startAngle:a,endAngle:o}}function vZ(e,t,r){var n,a,o,i;if(e==="horizontal")n=t.x,o=n,a=r.top,i=r.top+r.height;else if(e==="vertical")a=t.y,i=a,n=r.left,o=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,c=t.innerRadius,f=t.outerRadius,d=t.angle,h=Gr(s,l,c,d),p=Gr(s,l,f,d);n=h.x,a=h.y,o=p.x,i=p.y}else return I_(t);return[{x:n,y:a},{x:o,y:i}]}function ru(e){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ru(e)}function $2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function af(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$2(Object(r),!0).forEach(function(n){xZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xZ(e,t,r){return t=bZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bZ(e){var t=wZ(e,"string");return ru(t)=="symbol"?t:t+""}function wZ(e,t){if(ru(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ru(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kZ(e){var t,r,n=e.element,a=e.tooltipEventType,o=e.isActive,i=e.activeCoordinate,s=e.activePayload,l=e.offset,c=e.activeTooltipIndex,f=e.tooltipAxisBandSize,d=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!o||!i||h!=="ScatterChart"&&a!=="axis")return null;var m,v=xi;if(h==="ScatterChart")m=i,v=KH;else if(h==="BarChart")m=yZ(d,i,l,f),v=Av;else if(d==="radial"){var x=I_(i),y=x.cx,g=x.cy,b=x.radius,S=x.startAngle,w=x.endAngle;m={cx:y,cy:g,startAngle:S,endAngle:w,innerRadius:b,outerRadius:b},v=TP}else m={points:vZ(d,i,l)},v=xi;var k=af(af(af(af({stroke:"#ccc",pointerEvents:"none"},l),m),Ue(p,!1)),{},{payload:s,payloadIndex:c,className:Ze("recharts-tooltip-cursor",p.className)});return j.isValidElement(p)?j.cloneElement(p,k):j.createElement(v,k)}var SZ=["item"],jZ=["children","className","width","height","style","compact","title","desc"];function Xs(e){"@babel/helpers - typeof";return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xs(e)}function os(){return os=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},os.apply(this,arguments)}function D2(e,t){return _Z(e)||PZ(e,t)||F_(e,t)||OZ()}function OZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PZ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function _Z(e){if(Array.isArray(e))return e}function R2(e,t){if(e==null)return{};var r=NZ(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function NZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function AZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,z_(n.key),n)}}function CZ(e,t,r){return t&&MZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function EZ(e,t,r){return t=Vd(t),TZ(e,B_()?Reflect.construct(t,r||[],Vd(e).constructor):t.apply(e,r))}function TZ(e,t){if(t&&(Xs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Z(e)}function $Z(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B_=function(){return!!e})()}function Vd(e){return Vd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vd(e)}function DZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dm(e,t)}function Dm(e,t){return Dm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Dm(e,t)}function Ks(e){return IZ(e)||LZ(e)||F_(e)||RZ()}function RZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F_(e,t){if(e){if(typeof e=="string")return Rm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rm(e,t)}}function LZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function IZ(e){if(Array.isArray(e))return Rm(e)}function Rm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function L2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L2(Object(r),!0).forEach(function(n){De(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function De(e,t,r){return t=z_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z_(e){var t=BZ(e,"string");return Xs(t)=="symbol"?t:t+""}function BZ(e,t){if(Xs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FZ={xAxis:["bottom","top"],yAxis:["left","right"]},zZ={width:"100%",height:"100%"},U_={x:0,y:0};function of(e){return e}var UZ=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},WZ=function(t,r,n,a){var o=r.find(function(f){return f&&f.index===n});if(o){if(t==="horizontal")return{x:o.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:o.coordinate};if(t==="centric"){var i=o.coordinate,s=a.radius;return J(J(J({},a),Gr(a.cx,a.cy,s,i)),{},{angle:i,radius:s})}var l=o.coordinate,c=a.angle;return J(J(J({},a),Gr(a.cx,a.cy,l,c)),{},{angle:c,radius:l})}return U_},Zh=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,o=r.dataEndIndex,i=(n??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(Ks(s),Ks(c)):s},[]);return i.length>0?i:t&&t.length&&se(a)&&se(o)?t.slice(a,o+1):[]};function W_(e){return e==="number"?[0,"auto"]:void 0}var Lm=function(t,r,n,a){var o=t.graphicalItems,i=t.tooltipAxis,s=Zh(r,t);return n<0||!o||!o.length||n>=s.length?null:o.reduce(function(l,c){var f,d=(f=c.props.data)!==null&&f!==void 0?f:r;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(i.dataKey&&!i.allowDuplicatedCategory){var p=d===void 0?s:d;h=Hf(p,i.dataKey,a)}else h=d&&d[n]||s[n];return h?[].concat(Ks(l),[MP(c,h)]):l},[])},I2=function(t,r,n,a){var o=a||{x:t.chartX,y:t.chartY},i=UZ(o,n),s=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,f=PU(i,s,c,l);if(f>=0&&c){var d=c[f]&&c[f].value,h=Lm(t,r,f,d),p=WZ(n,s,f,o);return{activeTooltipIndex:f,activeLabel:d,activePayload:h,activeCoordinate:p}}return null},GZ=function(t,r){var n=r.axes,a=r.graphicalItems,o=r.axisType,i=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,f=t.layout,d=t.children,h=t.stackOffset,p=_P(f,o);return n.reduce(function(m,v){var x,y=v.type.defaultProps!==void 0?J(J({},v.type.defaultProps),v.props):v.props,g=y.type,b=y.dataKey,S=y.allowDataOverflow,w=y.allowDuplicatedCategory,k=y.scale,O=y.ticks,P=y.includeHidden,_=y[i];if(m[_])return m;var N=Zh(t.data,{graphicalItems:a.filter(function(Q){var q,X=i in Q.props?Q.props[i]:(q=Q.type.defaultProps)===null||q===void 0?void 0:q[i];return X===_}),dataStartIndex:l,dataEndIndex:c}),A=N.length,E,B,z;mZ(y.domain,S,g)&&(E=Zg(y.domain,null,S),p&&(g==="number"||k!=="auto")&&(z=Ql(N,b,"category")));var $=W_(g);if(!E||E.length===0){var U,I=(U=y.domain)!==null&&U!==void 0?U:$;if(b){if(E=Ql(N,b,g),g==="category"&&p){var L=h5(E);w&&L?(B=E,E=Md(0,A)):w||(E=gw(I,E,v).reduce(function(Q,q){return Q.indexOf(q)>=0?Q:[].concat(Ks(Q),[q])},[]))}else if(g==="category")w?E=E.filter(function(Q){return Q!==""&&!Fe(Q)}):E=gw(I,E,v).reduce(function(Q,q){return Q.indexOf(q)>=0||q===""||Fe(q)?Q:[].concat(Ks(Q),[q])},[]);else if(g==="number"){var D=CU(N,a.filter(function(Q){var q,X,le=i in Q.props?Q.props[i]:(q=Q.type.defaultProps)===null||q===void 0?void 0:q[i],ue="hide"in Q.props?Q.props.hide:(X=Q.type.defaultProps)===null||X===void 0?void 0:X.hide;return le===_&&(P||!ue)}),b,o,f);D&&(E=D)}p&&(g==="number"||k!=="auto")&&(z=Ql(N,b,"category"))}else p?E=Md(0,A):s&&s[_]&&s[_].hasStack&&g==="number"?E=h==="expand"?[0,1]:AP(s[_].stackGroups,l,c):E=PP(N,a.filter(function(Q){var q=i in Q.props?Q.props[i]:Q.type.defaultProps[i],X="hide"in Q.props?Q.props.hide:Q.type.defaultProps.hide;return q===_&&(P||!X)}),g,f,!0);if(g==="number")E=$m(d,E,_,o,O),I&&(E=Zg(I,E,S));else if(g==="category"&&I){var G=I,ee=E.every(function(Q){return G.indexOf(Q)>=0});ee&&(E=G)}}return J(J({},m),{},De({},_,J(J({},y),{},{axisType:o,domain:E,categoricalDomain:z,duplicateDomain:B,originalDomain:(x=y.domain)!==null&&x!==void 0?x:$,isCategorical:p,layout:f})))},{})},HZ=function(t,r){var n=r.graphicalItems,a=r.Axis,o=r.axisType,i=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,f=t.layout,d=t.children,h=Zh(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),p=h.length,m=_P(f,o),v=-1;return n.reduce(function(x,y){var g=y.type.defaultProps!==void 0?J(J({},y.type.defaultProps),y.props):y.props,b=g[i],S=W_("number");if(!x[b]){v++;var w;return m?w=Md(0,p):s&&s[b]&&s[b].hasStack?(w=AP(s[b].stackGroups,l,c),w=$m(d,w,b,o)):(w=Zg(S,PP(h,n.filter(function(k){var O,P,_=i in k.props?k.props[i]:(O=k.type.defaultProps)===null||O===void 0?void 0:O[i],N="hide"in k.props?k.props.hide:(P=k.type.defaultProps)===null||P===void 0?void 0:P.hide;return _===b&&!N}),"number",f),a.defaultProps.allowDataOverflow),w=$m(d,w,b,o)),J(J({},x),{},De({},b,J(J({axisType:o},a.defaultProps),{},{hide:!0,orientation:oa(FZ,"".concat(o,".").concat(v%2),null),domain:w,originalDomain:S,isCategorical:m,layout:f})))}return x},{})},VZ=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,o=r.AxisComp,i=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,f=t.children,d="".concat(a,"Id"),h=Cn(f,o),p={};return h&&h.length?p=GZ(t,{axes:h,graphicalItems:i,axisType:a,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):i&&i.length&&(p=HZ(t,{Axis:o,graphicalItems:i,axisType:a,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),p},XZ=function(t){var r=ko(t),n=Ya(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:tv(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:bd(r,n)}},B2=function(t){var r=t.children,n=t.defaultShowTooltip,a=Fn(r,Ds),o=0,i=0;return t.data&&t.data.length!==0&&(i=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(o=a.props.startIndex),a.props.endIndex>=0&&(i=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!n}},KZ=function(t){return!t||!t.length?!1:t.some(function(r){var n=Za(r&&r.type);return n&&n.indexOf("Bar")>=0})},F2=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},YZ=function(t,r){var n=t.props,a=t.graphicalItems,o=t.xAxisMap,i=o===void 0?{}:o,s=t.yAxisMap,l=s===void 0?{}:s,c=n.width,f=n.height,d=n.children,h=n.margin||{},p=Fn(d,Ds),m=Fn(d,Ja),v=Object.keys(l).reduce(function(w,k){var O=l[k],P=O.orientation;return!O.mirror&&!O.hide?J(J({},w),{},De({},P,w[P]+O.width)):w},{left:h.left||0,right:h.right||0}),x=Object.keys(i).reduce(function(w,k){var O=i[k],P=O.orientation;return!O.mirror&&!O.hide?J(J({},w),{},De({},P,oa(w,"".concat(P))+O.height)):w},{top:h.top||0,bottom:h.bottom||0}),y=J(J({},x),v),g=y.bottom;p&&(y.bottom+=p.props.height||Ds.defaultProps.height),m&&r&&(y=AU(y,a,n,r));var b=c-y.left-y.right,S=f-y.top-y.bottom;return J(J({brushBottom:g},y),{},{width:Math.max(b,0),height:Math.max(S,0)})},qZ=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Bv=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,o=a===void 0?"axis":a,i=t.validateTooltipEventTypes,s=i===void 0?["axis"]:i,l=t.axisComponents,c=t.legendContent,f=t.formatAxisMap,d=t.defaultProps,h=function(y,g){var b=g.graphicalItems,S=g.stackGroups,w=g.offset,k=g.updateId,O=g.dataStartIndex,P=g.dataEndIndex,_=y.barSize,N=y.layout,A=y.barGap,E=y.barCategoryGap,B=y.maxBarSize,z=F2(N),$=z.numericAxisName,U=z.cateAxisName,I=KZ(b),L=[];return b.forEach(function(D,G){var ee=Zh(y.data,{graphicalItems:[D],dataStartIndex:O,dataEndIndex:P}),Q=D.type.defaultProps!==void 0?J(J({},D.type.defaultProps),D.props):D.props,q=Q.dataKey,X=Q.maxBarSize,le=Q["".concat($,"Id")],ue=Q["".concat(U,"Id")],Se={},be=l.reduce(function(lt,fr){var Zt=g["".concat(fr.axisType,"Map")],Wt=Q["".concat(fr.axisType,"Id")];Zt&&Zt[Wt]||fr.axisType==="zAxis"||Ai();var yr=Zt[Wt];return J(J({},lt),{},De(De({},fr.axisType,yr),"".concat(fr.axisType,"Ticks"),Ya(yr)))},Se),K=be[U],ie=be["".concat(U,"Ticks")],ge=S&&S[le]&&S[le].hasStack&&WU(D,S[le].stackGroups),W=Za(D.type).indexOf("Bar")>=0,ve=bd(K,ie),he=[],Oe=I&&_U({barSize:_,stackGroups:S,totalSize:qZ(be,U)});if(W){var Ke,Je,qt=Fe(X)?B:X,Ut=(Ke=(Je=bd(K,ie,!0))!==null&&Je!==void 0?Je:qt)!==null&&Ke!==void 0?Ke:0;he=NU({barGap:A,barCategoryGap:E,bandSize:Ut!==ve?Ut:ve,sizeList:Oe[ue],maxBarSize:qt}),Ut!==ve&&(he=he.map(function(lt){return J(J({},lt),{},{position:J(J({},lt.position),{},{offset:lt.position.offset-Ut/2})})}))}var Ir=D&&D.type&&D.type.getComposedData;Ir&&L.push({props:J(J({},Ir(J(J({},be),{},{displayedData:ee,props:y,dataKey:q,item:D,bandSize:ve,barPosition:he,offset:w,stackedData:ge,layout:N,dataStartIndex:O,dataEndIndex:P}))),{},De(De(De({key:D.key||"item-".concat(G)},$,be[$]),U,be[U]),"animationId",k)),childIndex:P5(D,y.children),item:D})}),L},p=function(y,g){var b=y.props,S=y.dataStartIndex,w=y.dataEndIndex,k=y.updateId;if(!cb({props:b}))return null;var O=b.children,P=b.layout,_=b.stackOffset,N=b.data,A=b.reverseStackOrder,E=F2(P),B=E.numericAxisName,z=E.cateAxisName,$=Cn(O,n),U=FU(N,$,"".concat(B,"Id"),"".concat(z,"Id"),_,A),I=l.reduce(function(Q,q){var X="".concat(q.axisType,"Map");return J(J({},Q),{},De({},X,VZ(b,J(J({},q),{},{graphicalItems:$,stackGroups:q.axisType===B&&U,dataStartIndex:S,dataEndIndex:w}))))},{}),L=YZ(J(J({},I),{},{props:b,graphicalItems:$}),g==null?void 0:g.legendBBox);Object.keys(I).forEach(function(Q){I[Q]=f(b,I[Q],L,Q.replace("Map",""),r)});var D=I["".concat(z,"Map")],G=XZ(D),ee=h(b,J(J({},I),{},{dataStartIndex:S,dataEndIndex:w,updateId:k,graphicalItems:$,stackGroups:U,offset:L}));return J(J({formattedGraphicalItems:ee,graphicalItems:$,offset:L,stackGroups:U},G),I)},m=function(x){function y(g){var b,S,w;return AZ(this,y),w=EZ(this,y,[g]),De(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),De(w,"accessibilityManager",new gZ),De(w,"handleLegendBBoxUpdate",function(k){if(k){var O=w.state,P=O.dataStartIndex,_=O.dataEndIndex,N=O.updateId;w.setState(J({legendBBox:k},p({props:w.props,dataStartIndex:P,dataEndIndex:_,updateId:N},J(J({},w.state),{},{legendBBox:k}))))}}),De(w,"handleReceiveSyncEvent",function(k,O,P){if(w.props.syncId===k){if(P===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(O)}}),De(w,"handleBrushChange",function(k){var O=k.startIndex,P=k.endIndex;if(O!==w.state.dataStartIndex||P!==w.state.dataEndIndex){var _=w.state.updateId;w.setState(function(){return J({dataStartIndex:O,dataEndIndex:P},p({props:w.props,dataStartIndex:O,dataEndIndex:P,updateId:_},w.state))}),w.triggerSyncEvent({dataStartIndex:O,dataEndIndex:P})}}),De(w,"handleMouseEnter",function(k){var O=w.getMouseInfo(k);if(O){var P=J(J({},O),{},{isTooltipActive:!0});w.setState(P),w.triggerSyncEvent(P);var _=w.props.onMouseEnter;Ge(_)&&_(P,k)}}),De(w,"triggeredAfterMouseMove",function(k){var O=w.getMouseInfo(k),P=O?J(J({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(P),w.triggerSyncEvent(P);var _=w.props.onMouseMove;Ge(_)&&_(P,k)}),De(w,"handleItemMouseEnter",function(k){w.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),De(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),De(w,"handleMouseMove",function(k){k.persist(),w.throttleTriggeredAfterMouseMove(k)}),De(w,"handleMouseLeave",function(k){w.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};w.setState(O),w.triggerSyncEvent(O);var P=w.props.onMouseLeave;Ge(P)&&P(O,k)}),De(w,"handleOuterEvent",function(k){var O=O5(k),P=oa(w.props,"".concat(O));if(O&&Ge(P)){var _,N;/.*touch.*/i.test(O)?N=w.getMouseInfo(k.changedTouches[0]):N=w.getMouseInfo(k),P((_=N)!==null&&_!==void 0?_:{},k)}}),De(w,"handleClick",function(k){var O=w.getMouseInfo(k);if(O){var P=J(J({},O),{},{isTooltipActive:!0});w.setState(P),w.triggerSyncEvent(P);var _=w.props.onClick;Ge(_)&&_(P,k)}}),De(w,"handleMouseDown",function(k){var O=w.props.onMouseDown;if(Ge(O)){var P=w.getMouseInfo(k);O(P,k)}}),De(w,"handleMouseUp",function(k){var O=w.props.onMouseUp;if(Ge(O)){var P=w.getMouseInfo(k);O(P,k)}}),De(w,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),De(w,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&w.handleMouseDown(k.changedTouches[0])}),De(w,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&w.handleMouseUp(k.changedTouches[0])}),De(w,"handleDoubleClick",function(k){var O=w.props.onDoubleClick;if(Ge(O)){var P=w.getMouseInfo(k);O(P,k)}}),De(w,"handleContextMenu",function(k){var O=w.props.onContextMenu;if(Ge(O)){var P=w.getMouseInfo(k);O(P,k)}}),De(w,"triggerSyncEvent",function(k){w.props.syncId!==void 0&&l0.emit(c0,w.props.syncId,k,w.eventEmitterSymbol)}),De(w,"applySyncEvent",function(k){var O=w.props,P=O.layout,_=O.syncMethod,N=w.state.updateId,A=k.dataStartIndex,E=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)w.setState(J({dataStartIndex:A,dataEndIndex:E},p({props:w.props,dataStartIndex:A,dataEndIndex:E,updateId:N},w.state)));else if(k.activeTooltipIndex!==void 0){var B=k.chartX,z=k.chartY,$=k.activeTooltipIndex,U=w.state,I=U.offset,L=U.tooltipTicks;if(!I)return;if(typeof _=="function")$=_(L,k);else if(_==="value"){$=-1;for(var D=0;D<L.length;D++)if(L[D].value===k.activeLabel){$=D;break}}var G=J(J({},I),{},{x:I.left,y:I.top}),ee=Math.min(B,G.x+G.width),Q=Math.min(z,G.y+G.height),q=L[$]&&L[$].value,X=Lm(w.state,w.props.data,$),le=L[$]?{x:P==="horizontal"?L[$].coordinate:ee,y:P==="horizontal"?Q:L[$].coordinate}:U_;w.setState(J(J({},k),{},{activeLabel:q,activeCoordinate:le,activePayload:X,activeTooltipIndex:$}))}else w.setState(k)}),De(w,"renderCursor",function(k){var O,P=w.state,_=P.isTooltipActive,N=P.activeCoordinate,A=P.activePayload,E=P.offset,B=P.activeTooltipIndex,z=P.tooltipAxisBandSize,$=w.getTooltipEventType(),U=(O=k.props.active)!==null&&O!==void 0?O:_,I=w.props.layout,L=k.key||"_recharts-cursor";return M.createElement(kZ,{key:L,activeCoordinate:N,activePayload:A,activeTooltipIndex:B,chartName:r,element:k,isActive:U,layout:I,offset:E,tooltipAxisBandSize:z,tooltipEventType:$})}),De(w,"renderPolarAxis",function(k,O,P){var _=oa(k,"type.axisType"),N=oa(w.state,"".concat(_,"Map")),A=k.type.defaultProps,E=A!==void 0?J(J({},A),k.props):k.props,B=N&&N[E["".concat(_,"Id")]];return j.cloneElement(k,J(J({},B),{},{className:Ze(_,B.className),key:k.key||"".concat(O,"-").concat(P),ticks:Ya(B,!0)}))}),De(w,"renderPolarGrid",function(k){var O=k.props,P=O.radialLines,_=O.polarAngles,N=O.polarRadius,A=w.state,E=A.radiusAxisMap,B=A.angleAxisMap,z=ko(E),$=ko(B),U=$.cx,I=$.cy,L=$.innerRadius,D=$.outerRadius;return j.cloneElement(k,{polarAngles:Array.isArray(_)?_:Ya($,!0).map(function(G){return G.coordinate}),polarRadius:Array.isArray(N)?N:Ya(z,!0).map(function(G){return G.coordinate}),cx:U,cy:I,innerRadius:L,outerRadius:D,key:k.key||"polar-grid",radialLines:P})}),De(w,"renderLegend",function(){var k=w.state.formattedGraphicalItems,O=w.props,P=O.children,_=O.width,N=O.height,A=w.props.margin||{},E=_-(A.left||0)-(A.right||0),B=jP({children:P,formattedGraphicalItems:k,legendWidth:E,legendContent:c});if(!B)return null;var z=B.item,$=R2(B,SZ);return j.cloneElement(z,J(J({},$),{},{chartWidth:_,chartHeight:N,margin:A,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),De(w,"renderTooltip",function(){var k,O=w.props,P=O.children,_=O.accessibilityLayer,N=Fn(P,mn);if(!N)return null;var A=w.state,E=A.isTooltipActive,B=A.activeCoordinate,z=A.activePayload,$=A.activeLabel,U=A.offset,I=(k=N.props.active)!==null&&k!==void 0?k:E;return j.cloneElement(N,{viewBox:J(J({},U),{},{x:U.left,y:U.top}),active:I,label:$,payload:I?z:[],coordinate:B,accessibilityLayer:_})}),De(w,"renderBrush",function(k){var O=w.props,P=O.margin,_=O.data,N=w.state,A=N.offset,E=N.dataStartIndex,B=N.dataEndIndex,z=N.updateId;return j.cloneElement(k,{key:k.key||"_recharts-brush",onChange:ef(w.handleBrushChange,k.props.onChange),data:_,x:se(k.props.x)?k.props.x:A.left,y:se(k.props.y)?k.props.y:A.top+A.height+A.brushBottom-(P.bottom||0),width:se(k.props.width)?k.props.width:A.width,startIndex:E,endIndex:B,updateId:"brush-".concat(z)})}),De(w,"renderReferenceElement",function(k,O,P){if(!k)return null;var _=w,N=_.clipPathId,A=w.state,E=A.xAxisMap,B=A.yAxisMap,z=A.offset,$=k.type.defaultProps||{},U=k.props,I=U.xAxisId,L=I===void 0?$.xAxisId:I,D=U.yAxisId,G=D===void 0?$.yAxisId:D;return j.cloneElement(k,{key:k.key||"".concat(O,"-").concat(P),xAxis:E[L],yAxis:B[G],viewBox:{x:z.left,y:z.top,width:z.width,height:z.height},clipPathId:N})}),De(w,"renderActivePoints",function(k){var O=k.item,P=k.activePoint,_=k.basePoint,N=k.childIndex,A=k.isRange,E=[],B=O.props.key,z=O.item.type.defaultProps!==void 0?J(J({},O.item.type.defaultProps),O.item.props):O.item.props,$=z.activeDot,U=z.dataKey,I=J(J({index:N,dataKey:U,cx:P.x,cy:P.y,r:4,fill:Nv(O.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},Ue($,!1)),Vf($));return E.push(y.renderActiveDot($,I,"".concat(B,"-activePoint-").concat(N))),_?E.push(y.renderActiveDot($,J(J({},I),{},{cx:_.x,cy:_.y}),"".concat(B,"-basePoint-").concat(N))):A&&E.push(null),E}),De(w,"renderGraphicChild",function(k,O,P){var _=w.filterFormatItem(k,O,P);if(!_)return null;var N=w.getTooltipEventType(),A=w.state,E=A.isTooltipActive,B=A.tooltipAxis,z=A.activeTooltipIndex,$=A.activeLabel,U=w.props.children,I=Fn(U,mn),L=_.props,D=L.points,G=L.isRange,ee=L.baseLine,Q=_.item.type.defaultProps!==void 0?J(J({},_.item.type.defaultProps),_.item.props):_.item.props,q=Q.activeDot,X=Q.hide,le=Q.activeBar,ue=Q.activeShape,Se=!!(!X&&E&&I&&(q||le||ue)),be={};N!=="axis"&&I&&I.props.trigger==="click"?be={onClick:ef(w.handleItemMouseEnter,k.props.onClick)}:N!=="axis"&&(be={onMouseLeave:ef(w.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:ef(w.handleItemMouseEnter,k.props.onMouseEnter)});var K=j.cloneElement(k,J(J({},_.props),be));function ie(fr){return typeof B.dataKey=="function"?B.dataKey(fr.payload):null}if(Se)if(z>=0){var ge,W;if(B.dataKey&&!B.allowDuplicatedCategory){var ve=typeof B.dataKey=="function"?ie:"payload.".concat(B.dataKey.toString());ge=Hf(D,ve,$),W=G&&ee&&Hf(ee,ve,$)}else ge=D==null?void 0:D[z],W=G&&ee&&ee[z];if(ue||le){var he=k.props.activeIndex!==void 0?k.props.activeIndex:z;return[j.cloneElement(k,J(J(J({},_.props),be),{},{activeIndex:he})),null,null]}if(!Fe(ge))return[K].concat(Ks(w.renderActivePoints({item:_,activePoint:ge,basePoint:W,childIndex:z,isRange:G})))}else{var Oe,Ke=(Oe=w.getItemByXY(w.state.activeCoordinate))!==null&&Oe!==void 0?Oe:{graphicalItem:K},Je=Ke.graphicalItem,qt=Je.item,Ut=qt===void 0?k:qt,Ir=Je.childIndex,lt=J(J(J({},_.props),be),{},{activeIndex:Ir});return[j.cloneElement(Ut,lt),null,null]}return G?[K,null,null]:[K,null]}),De(w,"renderCustomized",function(k,O,P){return j.cloneElement(k,J(J({key:"recharts-customized-".concat(P)},w.props),w.state))}),De(w,"renderMap",{CartesianGrid:{handler:of,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:of},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:of},YAxis:{handler:of},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((b=g.id)!==null&&b!==void 0?b:Di("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=jO(w.triggeredAfterMouseMove,(S=g.throttleDelay)!==null&&S!==void 0?S:1e3/60),w.state={},w}return DZ(y,x),CZ(y,[{key:"componentDidMount",value:function(){var b,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,S=b.children,w=b.data,k=b.height,O=b.layout,P=Fn(S,mn);if(P){var _=P.props.defaultIndex;if(!(typeof _!="number"||_<0||_>this.state.tooltipTicks.length-1)){var N=this.state.tooltipTicks[_]&&this.state.tooltipTicks[_].value,A=Lm(this.state,w,_,N),E=this.state.tooltipTicks[_].coordinate,B=(this.state.offset.top+k)/2,z=O==="horizontal",$=z?{x:E,y:B}:{y:E,x:B},U=this.state.formattedGraphicalItems.find(function(L){var D=L.item;return D.type.name==="Scatter"});U&&($=J(J({},$),U.props.points[_].tooltipPosition),A=U.props.points[_].tooltipPayload);var I={activeTooltipIndex:_,isTooltipActive:!0,activeLabel:N,activePayload:A,activeCoordinate:$};this.setState(I),this.renderCursor(P),this.accessibilityManager.setIndex(_)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var w,k;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(b){dg([Fn(b.children,mn)],[Fn(this.props.children,mn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Fn(this.props.children,mn);if(b&&typeof b.props.shared=="boolean"){var S=b.props.shared?"axis":"item";return s.indexOf(S)>=0?S:o}return o}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var S=this.container,w=S.getBoundingClientRect(),k=Q8(w),O={chartX:Math.round(b.pageX-k.left),chartY:Math.round(b.pageY-k.top)},P=w.width/S.offsetWidth||1,_=this.inRange(O.chartX,O.chartY,P);if(!_)return null;var N=this.state,A=N.xAxisMap,E=N.yAxisMap,B=this.getTooltipEventType(),z=I2(this.state,this.props.data,this.props.layout,_);if(B!=="axis"&&A&&E){var $=ko(A).scale,U=ko(E).scale,I=$&&$.invert?$.invert(O.chartX):null,L=U&&U.invert?U.invert(O.chartY):null;return J(J({},O),{},{xValue:I,yValue:L},z)}return z?J(J({},O),z):null}},{key:"inRange",value:function(b,S){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,O=b/w,P=S/w;if(k==="horizontal"||k==="vertical"){var _=this.state.offset,N=O>=_.left&&O<=_.left+_.width&&P>=_.top&&P<=_.top+_.height;return N?{x:O,y:P}:null}var A=this.state,E=A.angleAxisMap,B=A.radiusAxisMap;if(E&&B){var z=ko(E);return vw({x:O,y:P},z)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,S=this.getTooltipEventType(),w=Fn(b,mn),k={};w&&S==="axis"&&(w.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var O=Vf(this.props,this.handleOuterEvent);return J(J({},O),k)}},{key:"addListener",value:function(){l0.on(c0,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){l0.removeListener(c0,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,S,w){for(var k=this.state.formattedGraphicalItems,O=0,P=k.length;O<P;O++){var _=k[O];if(_.item===b||_.props.key===b.key||S===Za(_.item.type)&&w===_.childIndex)return _}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,S=this.state.offset,w=S.left,k=S.top,O=S.height,P=S.width;return M.createElement("defs",null,M.createElement("clipPath",{id:b},M.createElement("rect",{x:w,y:k,height:O,width:P})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(S,w){var k=D2(w,2),O=k[0],P=k[1];return J(J({},S),{},De({},O,P.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(S,w){var k=D2(w,2),O=k[0],P=k[1];return J(J({},S),{},De({},O,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[b])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(b){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[b])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(b){var S=this.state,w=S.formattedGraphicalItems,k=S.activeItem;if(w&&w.length)for(var O=0,P=w.length;O<P;O++){var _=w[O],N=_.props,A=_.item,E=A.type.defaultProps!==void 0?J(J({},A.type.defaultProps),A.props):A.props,B=Za(A.type);if(B==="Bar"){var z=(N.data||[]).find(function(L){return IH(b,L)});if(z)return{graphicalItem:_,payload:z}}else if(B==="RadialBar"){var $=(N.data||[]).find(function(L){return vw(b,L)});if($)return{graphicalItem:_,payload:$}}else if(Gh(_,k)||Hh(_,k)||qc(_,k)){var U=FV({graphicalItem:_,activeTooltipItem:k,itemData:E.data}),I=E.activeIndex===void 0?U:E.activeIndex;return{graphicalItem:J(J({},_),{},{childIndex:I}),payload:qc(_,k)?E.data[U]:_.props.data[U]}}}return null}},{key:"render",value:function(){var b=this;if(!cb(this))return null;var S=this.props,w=S.children,k=S.className,O=S.width,P=S.height,_=S.style,N=S.compact,A=S.title,E=S.desc,B=R2(S,jZ),z=Ue(B,!1);if(N)return M.createElement(h2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement(pg,os({},z,{width:O,height:P,title:A,desc:E}),this.renderClipPath(),fb(w,this.renderMap)));if(this.props.accessibilityLayer){var $,U;z.tabIndex=($=this.props.tabIndex)!==null&&$!==void 0?$:0,z.role=(U=this.props.role)!==null&&U!==void 0?U:"application",z.onKeyDown=function(L){b.accessibilityManager.keyboardEvent(L)},z.onFocus=function(){b.accessibilityManager.focus()}}var I=this.parseEventsOfWrapper();return M.createElement(h2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement("div",os({className:Ze("recharts-wrapper",k),style:J({position:"relative",cursor:"default",width:O,height:P},_)},I,{ref:function(D){b.container=D}}),M.createElement(pg,os({},z,{width:O,height:P,title:A,desc:E,style:zZ}),this.renderClipPath(),fb(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(j.Component);De(m,"displayName",r),De(m,"defaultProps",J({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),De(m,"getDerivedStateFromProps",function(x,y){var g=x.dataKey,b=x.data,S=x.children,w=x.width,k=x.height,O=x.layout,P=x.stackOffset,_=x.margin,N=y.dataStartIndex,A=y.dataEndIndex;if(y.updateId===void 0){var E=B2(x);return J(J(J({},E),{},{updateId:0},p(J(J({props:x},E),{},{updateId:0}),y)),{},{prevDataKey:g,prevData:b,prevWidth:w,prevHeight:k,prevLayout:O,prevStackOffset:P,prevMargin:_,prevChildren:S})}if(g!==y.prevDataKey||b!==y.prevData||w!==y.prevWidth||k!==y.prevHeight||O!==y.prevLayout||P!==y.prevStackOffset||!ds(_,y.prevMargin)){var B=B2(x),z={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},$=J(J({},I2(y,b,O)),{},{updateId:y.updateId+1}),U=J(J(J({},B),z),$);return J(J(J({},U),p(J({props:x},U),y)),{},{prevDataKey:g,prevData:b,prevWidth:w,prevHeight:k,prevLayout:O,prevStackOffset:P,prevMargin:_,prevChildren:S})}if(!dg(S,y.prevChildren)){var I,L,D,G,ee=Fn(S,Ds),Q=ee&&(I=(L=ee.props)===null||L===void 0?void 0:L.startIndex)!==null&&I!==void 0?I:N,q=ee&&(D=(G=ee.props)===null||G===void 0?void 0:G.endIndex)!==null&&D!==void 0?D:A,X=Q!==N||q!==A,le=!Fe(b),ue=le&&!X?y.updateId:y.updateId+1;return J(J({updateId:ue},p(J(J({props:x},y),{},{updateId:ue,dataStartIndex:Q,dataEndIndex:q}),y)),{},{prevChildren:S,dataStartIndex:Q,dataEndIndex:q})}return null}),De(m,"renderActiveDot",function(x,y,g){var b;return j.isValidElement(x)?b=j.cloneElement(x,y):Ge(x)?b=x(y):b=M.createElement(Wh,y),M.createElement(st,{className:"recharts-active-dot",key:g},b)});var v=j.forwardRef(function(y,g){return M.createElement(m,os({},y,{ref:g}))});return v.displayName=m.displayName,v},Fv=Bv({chartName:"LineChart",GraphicalChild:Wr,axisComponents:[{axisType:"xAxis",AxisComp:ja},{axisType:"yAxis",AxisComp:Oa}],formatAxisMap:Mv}),ZZ=Bv({chartName:"ScatterChart",GraphicalChild:pn,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:ja},{axisType:"yAxis",AxisComp:Oa},{axisType:"zAxis",AxisComp:qh}],formatAxisMap:Mv}),G_=Bv({chartName:"AreaChart",GraphicalChild:na,axisComponents:[{axisType:"xAxis",AxisComp:ja},{axisType:"yAxis",AxisComp:Oa}],formatAxisMap:Mv});const QZ="modulepreload",JZ=function(e){return"/"+e},z2={},eQ=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),s=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=JZ(l),l in z2)return;z2[l]=!0;const c=l.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${f}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":QZ,c||(d.as="script"),d.crossOrigin="",d.href=l,s&&d.setAttribute("nonce",s),document.head.appendChild(d),c)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(i){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i}return a.then(i=>{for(const s of i||[])s.status==="rejected"&&o(s.reason);return t().catch(o)})};function tQ(e){const[[t,r,n],[a,o,i],[s,l,c]]=e,f=t*(o*c-i*l)-r*(a*c-i*s)+n*(a*l-o*s);if(Math.abs(f)<1e-10)return null;const d=1/f;return[[(o*c-i*l)*d,(n*l-r*c)*d,(r*i-n*o)*d],[(i*s-a*c)*d,(t*c-n*s)*d,(n*a-t*i)*d],[(a*l-o*s)*d,(r*s-t*l)*d,(t*o-r*a)*d]]}function U2(e,t){const r=[[0,0,0],[0,0,0],[0,0,0]];for(let n=0;n<3;n++)for(let a=0;a<3;a++)for(let o=0;o<3;o++)r[n][a]+=e[n][o]*t[o][a];return r}class Ys{constructor(t){hn(this,"size");hn(this,"isPowerOfTwo");hn(this,"_real");hn(this,"_imag");hn(this,"_scratch",null);hn(this,"_rev",null);hn(this,"_m",0);hn(this,"_internalFFT",null);hn(this,"_chirpReal",null);hn(this,"_chirpImag",null);hn(this,"_bReal",null);hn(this,"_bImag",null);hn(this,"_hanning",null);hn(this,"_windowSumSq",0);this.size=t,this.isPowerOfTwo=(t&t-1)===0&&t>0,this._real=new Float32Array(t),this._imag=new Float32Array(t),this.isPowerOfTwo?this.initRadix2():this.initBluestein()}initRadix2(){const t=this.size,r=Math.log2(t);this._rev=new Uint32Array(t);for(let n=0;n<t;n++){let a=0,o=n;for(let i=0;i<r;i++)a=a<<1|o&1,o>>>=1;this._rev[n]=a}}initBluestein(){const t=this.size;this._m=Math.pow(2,Math.ceil(Math.log2(2*t-1))),this._internalFFT=new Ys(this._m),this._chirpReal=new Float32Array(t),this._chirpImag=new Float32Array(t);for(let a=0;a<t;a++){const o=-Math.PI*(a*a)/t;this._chirpReal[a]=Math.cos(o),this._chirpImag[a]=Math.sin(o)}const r=new Float32Array(this._m),n=new Float32Array(this._m);for(let a=0;a<t;a++)r[a]=this._chirpReal[a],n[a]=-this._chirpImag[a];for(let a=1;a<t;a++)r[this._m-a]=r[a],n[this._m-a]=n[a];this._internalFFT.transform(r,n),this._bReal=new Float32Array(this._internalFFT._real),this._bImag=new Float32Array(this._internalFFT._imag)}initHanning(){if(this._hanning)return;const t=this.size;this._hanning=new Float32Array(t);let r=0;for(let n=0;n<t;n++){const a=.5*(1-Math.cos(2*Math.PI*n/(t-1)));this._hanning[n]=a,r+=a*a}this._windowSumSq=r}transform(t,r){this.isPowerOfTwo?this.transformRadix2(t,r):this.transformBluestein(t,r)}transformRadix2(t,r){const n=this.size,a=this._rev,o=this._real,i=this._imag;if(t===o)for(let s=0;s<n;s++){const l=a[s];if(s<l){const c=o[s],f=i[s];o[s]=o[l],i[s]=i[l],o[l]=c,i[l]=f}}else for(let s=0;s<n;s++){const l=a[s];o[s]=t[l],i[s]=r?r[l]:0}for(let s=2;s<=n;s*=2){const l=s/2,c=-2*Math.PI/s,f=Math.cos(c),d=Math.sin(c);for(let h=0;h<n;h+=s){let p=1,m=0;for(let v=0;v<l;v++){const x=h+v,y=h+v+l,g=p*o[y]-m*i[y],b=p*i[y]+m*o[y],S=o[x],w=i[x];o[x]=S+g,i[x]=w+b,o[y]=S-g,i[y]=w-b;const k=p*f-m*d,O=p*d+m*f;p=k,m=O}}}}transformBluestein(t,r){const n=this.size,a=this._m,o=this._internalFFT,i=o._real,s=o._imag;i.fill(0),s.fill(0);for(let d=0;d<n;d++){const h=t[d],p=r?r[d]:0,m=this._chirpReal[d],v=this._chirpImag[d];i[d]=h*m-p*v,s[d]=h*v+p*m}o.transformRadix2(i,s);for(let d=0;d<a;d++){const h=o._real[d],p=o._imag[d],m=this._bReal[d],v=this._bImag[d];o._real[d]=h*m-p*v,o._imag[d]=h*v+p*m}const l=o._real,c=o._imag;for(let d=0;d<a;d++)c[d]=-c[d];o.transformRadix2(l,c);const f=1/a;for(let d=0;d<n;d++){const h=o._real[d]*f,p=-o._imag[d]*f,m=this._chirpReal[d],v=this._chirpImag[d];this._real[d]=h*m-p*v,this._imag[d]=h*v+p*m}}calculateSpectrum(t,r,n=!1){const a=this.size;let o=0;for(let f=0;f<a;f++)o+=t[f];const i=o/a;this._scratch||(this._scratch=new Float32Array(a));const s=this._scratch;if(n){this.initHanning();const f=this._hanning;for(let d=0;d<a;d++)s[d]=(t[d]-i)*f[d]}else for(let f=0;f<a;f++)s[f]=t[f]-i;this.transform(s);const l=r.length;let c=1/a;n&&this._windowSumSq>0&&(c=1/this._windowSumSq);for(let f=0;f<l;f++){const d=this._real[f],h=this._imag[f];r[f]+=(d*d+h*h)*c}}}function rQ(e,t,r,n=!1){const a=new Ys(t),o=new Ys(r),i=t*r,s=new Float32Array(i),l=new Float32Array(i);let c=null,f=null;if(n){c=new Float32Array(t);for(let v=0;v<t;v++)c[v]=.5*(1-Math.cos(2*Math.PI*v/(t-1)));f=new Float32Array(r);for(let v=0;v<r;v++)f[v]=.5*(1-Math.cos(2*Math.PI*v/(r-1)))}for(let v=0;v<r;v++){const x=v*t,y=a._real;let g=0;for(let S=0;S<t;S++)g+=e[x+S];const b=g/t;if(c)for(let S=0;S<t;S++)y[S]=(e[x+S]-b)*c[S];else for(let S=0;S<t;S++)y[S]=e[x+S]-b;a.transform(y);for(let S=0;S<t;S++)s[x+S]=a._real[S],l[x+S]=a._imag[S]}for(let v=0;v<t;v++){const x=o._real,y=o._imag;for(let g=0;g<r;g++){const b=g*t+v;let S=s[b],w=l[b];f&&(S*=f[g],w*=f[g]),x[g]=S,y[g]=w}o.transform(x,y);for(let g=0;g<r;g++){const b=g*t+v;s[b]=o._real[g],l[b]=o._imag[g]}}const d=new Float32Array(i);let h=1,p=t,m=r;if(n&&c&&f){p=0;for(let v=0;v<t;v++)p+=c[v]*c[v];m=0;for(let v=0;v<r;v++)m+=f[v]*f[v]}h=1/(p*m);for(let v=0;v<i;v++)d[v]=(s[v]*s[v]+l[v]*l[v])*h;return d}function nQ(e,t,r){const n=new Float32Array(e.length),a=Math.floor(t/2),o=Math.floor(r/2);for(let i=0;i<r;i++)for(let s=0;s<t;s++){const l=(s+a)%t,c=(i+o)%r,f=i*t+s,d=c*t+l;n[d]=e[f]}return n}function bf(e,t,r){const a=e*t*2,o=8,i=o+a,s="Fake",l="NoiseCam",c="NoiseCam",f=_=>{const N=new Uint8Array(_.length+1);for(let A=0;A<_.length;A++)N[A]=_.charCodeAt(A);return N[_.length]=0,N},d=f(s),h=f(l),p=f(c),m=[{id:254,type:4,count:1,value:0},{id:256,type:4,count:1,value:e},{id:257,type:4,count:1,value:t},{id:258,type:3,count:1,value:16},{id:259,type:3,count:1,value:1},{id:262,type:3,count:1,value:32803},{id:271,type:2,count:d.length,value:d},{id:272,type:2,count:h.length,value:h},{id:273,type:4,count:1,value:o},{id:277,type:3,count:1,value:1},{id:278,type:4,count:1,value:t},{id:279,type:4,count:1,value:a},{id:33421,type:3,count:2,value:[2,2]},{id:33422,type:1,count:4,value:[0,1,1,2]},{id:50706,type:1,count:4,value:[1,4,0,0]},{id:50717,type:2,count:p.length,value:p}],v=2+m.length*12+4;let x=0;const y=m.map(_=>{let N=1;_.type===3&&(N=2),_.type===4&&(N=4);const A=_.count*N,E=A<=4;let B=0;return E||(B=x,x+=A,x%2!==0&&x++),{..._,fits:E,totalBytes:A,extraOffset:B}}),g=i+v,b=g+x,S=new ArrayBuffer(b),w=new DataView(S),k=new Uint8Array(S);w.setUint16(0,18761,!0),w.setUint16(2,42,!0),w.setUint32(4,i,!0);const O=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);k.set(O,o);let P=i;return w.setUint16(P,m.length,!0),P+=2,y.forEach(_=>{if(w.setUint16(P,_.id,!0),w.setUint16(P+2,_.type,!0),w.setUint32(P+4,_.count,!0),_.fits){const N=P+8;Array.isArray(_.value)?_.value.forEach((A,E)=>{_.type===1&&w.setUint8(N+E,A),_.type===3&&w.setUint16(N+E*2,A,!0)}):_.value instanceof Uint8Array||(_.type===3&&w.setUint16(N,_.value,!0),_.type===4&&w.setUint32(N,_.value,!0))}else{const N=g+_.extraOffset;w.setUint32(P+8,N,!0);const A=N;_.value instanceof Uint8Array?k.set(_.value,A):Array.isArray(_.value)&&_.value.forEach((E,B)=>{_.type===1&&w.setUint8(A+B,E),_.type===3&&w.setUint16(A+B*2,E,!0)})}P+=12}),w.setUint32(P,0,!0),S}let f0=null;async function mu(){if(!f0)try{const n=(await eQ(()=>import("./joraw-DIH80eMO.js"),[])).default;if(typeof n!="function")throw new Error("JoRaw WASM import failed");const a=new URL("/assets/joraw-BUh50ws_.wasm",import.meta.url).href;f0=n({locateFile:(o,i)=>o.endsWith("joraw.wasm")?a:i+o})}catch(r){throw console.error("Failed to load joraw.js:",r),r}const e=await f0,t=e.LibRaw||e.JoRaw;if(!t)throw new Error("JoRaw class not found");return t}const aQ=[[3.2404542,-1.5371385,-.4985314],[-.969266,1.8760108,.041556],[.0556434,-.2040259,1.0572252]],nc=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055;async function sf(e,t=0,r=0){const n=await mu(),a=new n;try{await a.open(new Uint8Array(e));const o=a.getRawImage(),i=new Uint16Array(o.data),s=o.width,l=o.height,c=Math.floor((s-t)/6)*2,f=Math.floor((l-r)/6)*2;if(c<=0||f<=0)throw new Error("Image too small for X-Trans subsampling with current phase.");const d=new Uint16Array(c*f);for(let p=0;p<f/2;p++){const m=p*6+r;if(m+3>=l)break;const v=m*s,x=(m+3)*s,y=p*2,g=y*c,b=(y+1)*c;for(let S=0;S<c/2;S++){const w=S*6+t;if(w+1>=s)break;const k=S*2;d[g+k]=i[v+w+1],d[g+k+1]=i[v+w+0],d[b+k]=i[x+w+0],d[b+k+1]=i[x+w+1]}}return{dngBuffer:bf(c,f,d),width:c,height:f}}finally{a.delete?a.delete():a.close()}}async function oQ(e){const t=await createImageBitmap(e),r=t.width,n=t.height,a=document.createElement("canvas");a.width=r,a.height=n;const o=a.getContext("2d");if(!o)throw new Error("Failed to create canvas context");o.drawImage(t,0,0);const s=o.getImageData(0,0,r,n).data,l=r*n,c=new Uint16Array(l);for(let d=0;d<n;d++)for(let h=0;h<r;h++){const p=(d*r+h)*4,m=d*r+h,v=d%2===0,x=h%2===0;let y=0;v&&x?y=s[p]:!v&&!x?y=s[p+2]:y=s[p+1],c[m]=y*64}return{previewBlob:await new Promise(d=>a.toBlob(d,"image/png"))||e,analysisData:{data:c,width:r,height:n,bayerPattern:"RGGB",blackLevels:[0,0,0,0],whiteLevel:16320,metadata:{description:"Standard image (non-RAW)"},isThreePlane:!0}}}const iQ=async e=>{const t=await mu(),r=new t;try{await r.open(e,{useCameraWb:!0,outputBps:8,noAutoBright:!0,userQual:3,outputColor:1});const n=await r.imageData();return new Promise((a,o)=>{const i=document.createElement("canvas");i.width=n.width,i.height=n.height;const s=i.getContext("2d");if(!s){o(new Error("Could not create canvas context"));return}const l=s.createImageData(n.width,n.height),c=n.data,f=n.width*n.height;for(let d=0;d<f;d++){const h=d*3,p=d*4;l.data[p]=c[h],l.data[p+1]=c[h+1],l.data[p+2]=c[h+2],l.data[p+3]=255}s.putImageData(l,0,0),i.toBlob(d=>{d?a(d):o(new Error("Canvas to Blob failed"))},"image/jpeg",.85)})}finally{r.delete?r.delete():r.close()}},Xd=async e=>{var n,a,o,i,s,l,c,f,d;const t=await mu(),r=new t;try{if(await r.open(e,{}),typeof r.getRawImage!="function")throw new Error("WASM mismatch");const h=r.getRawImage();let p=new Uint16Array(h.data);const m=await r.metadata(!0),v=((n=m.idata)==null?void 0:n.filters)||0,x=((a=m.idata)==null?void 0:a.colors)||0,y=v===0&&x===3,g=v===9;let b=[];if((o=m.color_data)!=null&&o.cblack_rawpy_style)b=m.color_data.cblack_rawpy_style;else if((s=(i=m.color_data)==null?void 0:i.dng_levels)!=null&&s.dng_cblack)b=m.color_data.dng_levels.dng_cblack;else if(((l=m.black_level_per_channel)==null?void 0:l.length)>=4)b=m.black_level_per_channel;else if(((c=m.cblack)==null?void 0:c.length)>=4)b=m.cblack;else if(((d=(f=m.color)==null?void 0:f.cblack)==null?void 0:d.length)>=4)b=m.color.cblack;else{const w=m.black_level||m.color_data&&m.color_data.black||0;b=[w,w,w,w]}const S=[Number(b[0])||0,Number(b[1])||0,Number(b[2])||0,Number(b[3])||0];return{data:p,width:h.width,height:h.height,bayerPattern:m.color_desc||"RGGB",blackLevels:S,whiteLevel:m.white_level||16383,metadata:m,isThreePlane:y,isXTrans:g}}finally{r.delete?r.delete():r.close()}};async function ei(e){const t=new Uint8Array(e.slice(0)),r=new Uint8Array(e.slice(0)),[n,a]=await Promise.all([iQ(t),Xd(r)]);return{previewBlob:n,analysisData:a}}async function Kd(e){const t=new Uint8Array(e.slice(0));return Xd(t)}const W2=e=>(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e++,e);async function d0(e,t,r,n=!0){const a=await Xd(new Uint8Array(e)),o=await Xd(new Uint8Array(t));if(a.width!==o.width||a.height!==o.height)throw new Error("Dimension Mismatch");const i=a.width,s=a.height,l=r?W2(i):i,c=r?W2(s):s,f=l*c,d=new Uint16Array(f),h=6e4,p=1.41421356;for(let m=0;m<s;m++){const v=m*i,x=m*l;for(let y=0;y<i;y++){const g=a.data[v+y],b=o.data[v+y];let S=g-b;n&&(S/=p);let w=S+h;w=Math.max(0,Math.min(65535,w)),d[x+y]=Math.round(w)}}return{rawData:d,width:l,height:c,metadata:a.metadata}}function Gi(e,t,r,n,a,o,i){const s=Math.max(0,Math.floor(n)),l=Math.max(0,Math.floor(a)),c=Math.min(t,Math.ceil(n+o)),f=Math.min(r,Math.ceil(a+i)),d=[0,0,0,0],h=[0,0,0,0],p=[0,0,0,0];for(let x=l;x<f;x++){const y=x*t,g=x%2;for(let b=s;b<c;b++){const S=b%2,w=e[y+b],k=g*2+S;d[k]+=w,h[k]+=w*w,p[k]++}}const m=[0,0,0,0],v=[0,0,0,0];for(let x=0;x<4;x++)if(p[x]>0){const y=d[x]/p[x];m[x]=y;const b=h[x]/p[x]-y*y;v[x]=Math.sqrt(Math.max(0,b))}return{x:s,y:l,width:c-s,height:f-l,means:m,stdDevs:v,pixelCount:p.reduce((x,y)=>x+y,0)}}function G2(e,t,r,n,a,o,i=0,s=0){const l=Math.max(0,Math.floor(n.x)),c=Math.max(0,Math.floor(n.y)),f=Math.min(t,Math.ceil(n.x+n.w)),d=Math.min(r,Math.ceil(n.y+n.h)),h=a>>1,p=a&1,m=(o>>1)+i,v=(o&1)+s;let x=0,y=0,g=0;for(let P=c;P<d-2;P+=2)for(let _=l;_<f-2;_+=2){const N=(P+h)*t+(_+p),A=(P+m)*t+(_+v);P+m>=r||_+v>=t||(x+=e[N],y+=e[A],g++)}if(g<2)return{sumCov:0,sumVar1:0,sumVar2:0,n:0};const b=x/g,S=y/g;let w=0,k=0,O=0;for(let P=c;P<d-2;P+=2)for(let _=l;_<f-2;_+=2){const N=(P+h)*t+(_+p),A=(P+m)*t+(_+v);if(P+m>=r||_+v>=t)continue;const E=e[N],B=e[A],z=E-b,$=B-S;w+=z*$,k+=z*z,O+=$*$}return{sumCov:w,sumVar1:k,sumVar2:O,n:g}}function sQ(e){if(e.n<2)return 0;const t=Math.sqrt(e.sumVar1*e.sumVar2);return t===0?0:e.sumCov/t}function lQ(e,t,r,n,a,o,i,s,l,c,f){if(c<=l)return[];const d=Math.max(0,Math.floor(n)),h=Math.max(0,Math.floor(a)),p=Math.min(t,Math.ceil(n+o)),m=Math.min(r,Math.ceil(a+i)),v=c-l,x=f?Math.floor(v)+1:s,y=v/x,g=[new Uint32Array(x),new Uint32Array(x),new Uint32Array(x),new Uint32Array(x)];for(let S=h;S<m;S++){const w=S*t,k=S%2;for(let O=d;O<p;O++){const P=O%2,_=e[w+O];if(_<l||_>c)continue;const N=k*2+P;let A;f?A=Math.floor(_-l):A=Math.floor((_-l)/y),A<0&&(A=0),A>=x&&(A=x-1),g[N][A]++}}const b=[];for(let S=0;S<x;S++){const w=l+(f?S:S*y);b.push({binStart:w,c0:g[0][S],c1:g[1][S],c2:g[2][S],c3:g[3][S]})}return b}function cQ(e,t,r,n,a,o=!1,i=!1,s={rows:!1,rowGroup:0,cols:!1,colGroup:0},l=!0,c=1){const f=Math.max(0,Math.floor(n.x)),d=Math.max(0,Math.floor(n.y)),h=Math.min(t,Math.ceil(n.x+n.w)),p=Math.min(r,Math.ceil(n.y+n.h)),m=h-f,v=p-d;if(m<=1||v<=1)return null;let x=0;for(let A=f;A<h;A++)A%2===(a&1)&&x++;let y=0;for(let A=d;A<p;A++)A%2===a>>1&&y++;if(x<4||y<4)return null;const g=Math.max(1,c),b=Math.floor(2*x/(g+1)),S=Math.floor(2*y/(g+1));if(b<4||S<4)return null;const w=new Ys(b),k=new Ys(S),O=new Float32Array(Math.floor(b/2)+1),P=new Float32Array(Math.floor(S/2)+1);let _=0,N=0;for(let A=d;A<p;A++){const E=A%2;if(a>>1!==E||s.rows&&(A>>1&1)!==s.rowGroup)continue;const B=A*t,z=new Float32Array(x);let $=0;for(let U=f;U<h;U++)U%2===(a&1)&&$<x&&(z[$++]=e[B+U]);for(let U=0;U<g;U++){const I=Math.floor(U*b/2);if(I+b>x)break;const L=z.slice(I,I+b);w.calculateSpectrum(L,O,i),_++}if(!l)break}for(let A=f;A<h;A++){const E=A%2;if((a&1)!==E||s.cols&&(A>>1&1)!==s.rowGroup)continue;const B=new Float32Array(y);let z=0;for(let $=d;$<p;$++)$%2===a>>1&&z<y&&(B[z++]=e[$*t+A]);for(let $=0;$<g;$++){const U=Math.floor($*S/2);if(U+S>y)break;const I=B.slice(U,U+S);k.calculateSpectrum(I,P,i),N++}if(!l)break}if(_>0)for(let A=0;A<O.length;A++)O[A]/=_;if(N>0)for(let A=0;A<P.length;A++)P[A]/=N;return{avgHoriz:Array.from(O),avgVert:Array.from(P),sampleCount:{h:_,v:N}}}function uQ(e,t,r,n,a,o=!1){const i=Math.max(0,Math.floor(n.x)),s=Math.max(0,Math.floor(n.y)),l=Math.min(t,Math.ceil(n.x+n.w)),c=Math.min(r,Math.ceil(n.y+n.h));let f=-1;for(let g=s;g<c;g++)if(g%2===a>>1){f=g;break}if(f===-1)return null;let d=-1;for(let g=i;g<l;g++)if(g%2===(a&1)){d=g;break}if(d===-1)return null;const h=[];for(let g=f;g<c;g+=2){const b=g*t,S=[];for(let w=d;w<l;w+=2)S.push(e[b+w]);h.push(S)}const p=h.length;if(p===0)return null;const m=h[0].length;if(m===0)return null;const v=new Float32Array(m*p);for(let g=0;g<p;g++){const b=h[g];for(let S=0;S<m;S++)v[g*m+S]=b[S]}const x=rQ(v,m,p,o),y=nQ(x,m,p);return{width:m,height:p,data:y}}function fQ(e,t,r,n,a,o,i){const{x:s,y:l,w:c,h:f}=n,d=[],h=Math.max(0,Math.floor(s)),p=Math.max(0,Math.floor(l)),m=Math.min(t,Math.ceil(s+c)),v=Math.min(r,Math.ceil(l+f)),x=a>>1,y=a&1;for(let k=p;k<v;k++){if(k%2!==x)continue;const O=k*t;for(let P=h;P<m;P++){if(P%2!==y)continue;const _=e[O+P];_>=o&&_<=i&&d.push(_-o)}}if(d.length===0)return null;d.sort((k,O)=>k-O);const g=[d[0]];for(let k=1;k<d.length;k++)d[k]!==d[k-1]&&g.push(d[k]);const b=[],S=[],w={};for(let k=0;k<g.length-1;k++){const O=g[k],_=g[k+1]-O;b.push(_),S.push({x:O,y:_}),w[_]=(w[_]||0)+1}return{uniqueCount:g.length,diffCount:b.length,stepCounts:w,plotData:S}}async function H2(e,t){const r=await mu(),n=new r;try{const a=new Uint8Array(e.slice(0));let o=!1,i=[];if(t.customMatrix&&t.customMatrix.length===9){const h=[[t.customMatrix[0],t.customMatrix[1],t.customMatrix[2]],[t.customMatrix[3],t.customMatrix[4],t.customMatrix[5]],[t.customMatrix[6],t.customMatrix[7],t.customMatrix[8]]],p=tQ(h);if(p){const m=t.wbGains?t.wbGains[0]:1,v=t.wbGains?t.wbGains[1]:1,y=U2(p,[[m,0,0],[0,1,0],[0,0,v]]),g=U2(aQ,y);i=[g[0][0],g[0][1],g[0][2],g[1][0],g[1][1],g[1][2],g[2][0],g[2][1],g[2][2]],o=!0}else throw new Error("Custom Matrix is not invertible.")}const s={outputBps:16,noAutoBright:!0,bright:o?1:Math.pow(2,t.exposure)};t.blackLevel&&t.blackLevel.length===4&&(s.userBlack=0,s.userCblack=t.blackLevel.map(h=>{const p=Math.round(h);return p===0?1:p})),t.demosaicMethod===-1?s.noInterpolation=!0:s.userQual=t.demosaicMethod,o?(s.outputColor=0,s.gamma=[1,1],s.userMul=[1,1,1,1],s.useCameraWb=!1):(s.outputColor=1,s.useCameraWb=!0),await n.open(a,s);const l=await n.imageData(),c=new ImageData(l.width,l.height),f=c.data,d=new Uint16Array(l.data.buffer,l.data.byteOffset,l.data.byteLength/2);if(o&&i.length===9){const h=i,m=Math.pow(2,t.exposure)*.25;for(let v=0;v<d.length;v+=3){const x=d[v]/65535,y=d[v+1]/65535,g=d[v+2]/65535;let b=h[0]*x+h[1]*y+h[2]*g,S=h[3]*x+h[4]*y+h[5]*g,w=h[6]*x+h[7]*y+h[8]*g;b*=m,S*=m,w*=m,b=Math.max(0,Math.min(1,b)),S=Math.max(0,Math.min(1,S)),w=Math.max(0,Math.min(1,w)),b=nc(b),S=nc(S),w=nc(w);const k=v/3*4;f[k]=Math.round(b*255),f[k+1]=Math.round(S*255),f[k+2]=Math.round(w*255),f[k+3]=255}}else for(let h=0;h<d.length;h+=3){const p=h/3*4;f[p]=d[h]>>8,f[p+1]=d[h+1]>>8,f[p+2]=d[h+2]>>8,f[p+3]=255}return c}finally{n.delete?n.delete():n.close()}}async function dQ(e,t,r=!1,n=!1){const a=await mu(),o=new a;try{if(t.renderMode==="zero-dependency"||t.renderMode==="advanced-zero-dep"){await o.open(new Uint8Array(e));const i=await o.metadata(!0),s=(i==null?void 0:i.white_level)||16383,l=o.getRawImage(),{width:c,height:f,data:d}=l,h=new Uint16Array(c*f),p=Math.pow(2,t.exposure);if(t.renderMode==="advanced-zero-dep"&&t.advancedZeroDep){const{bl:m,bg:v,fg:x}=t.advancedZeroDep,y=(v[1]+v[3])/2,g=(x[1]+x[3])/2;for(let b=0;b<f;b++){const S=b%2;for(let w=0;w<c;w++){const k=w%2;let O=0;!S&&!k?O=0:!S&&k?O=1:S&&!k?O=3:O=2;const P=d[b*c+w],_=m[O],N=v[O],A=x[O],E=Math.max(P-_,0),B=A-N||1e-9,z=(E-N)/B;let $;z<0?$=E*(y/Math.max(N,1e-9)):z>1?$=E*(g/Math.max(A,1e-9)):$=(1-z)*y+z*g,$*=p;const U=Math.max(0,Math.min(1,$/s)),I=n?nc(U):U;h[b*c+w]=Math.round(I*65535)}}}else{const m=t.blackLevel||[0,0,0,0],v=t.wbGains?t.wbGains[0]:1,x=t.wbGains?t.wbGains[1]:1;for(let y=0;y<f;y++){const g=y%2;for(let b=0;b<c;b++){const S=b%2,w=g*2+S,k=d[y*c+b],O=m[w];let P=k-O;w===0?P*=v:w===3&&(P*=x),P*=p;const _=Math.max(0,Math.min(1,P/(r?s-O:s))),N=n?nc(_):_;h[y*c+b]=Math.round(N*65535)}}}return{data:h,width:c,height:f,channels:1}}else{const i=new Uint8Array(e.slice(0)),s={outputBps:16,noAutoBright:!r,bright:1,outputColor:n?1:0,useCameraWb:!0};t.blackLevel&&t.blackLevel.length===4&&(s.userBlack=0,s.userCblack=t.blackLevel.map(d=>Math.max(1,Math.round(d)))),t.demosaicMethod===-1?s.noInterpolation=!0:s.userQual=t.demosaicMethod,await o.open(i,s);const l=await o.imageData(),c=new Uint16Array(l.data.buffer,l.data.byteOffset,l.data.byteLength/2),f=Math.pow(2,t.exposure);if(f!==1)for(let d=0;d<c.length;d++)c[d]=Math.max(0,Math.min(65535,Math.round(c[d]*f)));return{data:c,width:l.width,height:l.height,channels:3}}}finally{o.delete?o.delete():o.close()}}const hQ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,zIndex:i,onFocus:s,initialPosition:l,initialInternalState:c,onUpdateState:f})=>{const[d,h]=j.useState((c==null?void 0:c.channelMode)||"All"),[p,m]=j.useState((c==null?void 0:c.minVal)??0),[v,x]=j.useState((c==null?void 0:c.maxVal)??16383),[y,g]=j.useState((c==null?void 0:c.binCount)??100),[b,S]=j.useState((c==null?void 0:c.pointToPoint)??!1),[w,k]=j.useState((c==null?void 0:c.showTheo)??!1),[O,P]=j.useState((c==null?void 0:c.theoMean)??"512"),[_,N]=j.useState((c==null?void 0:c.theoSigma)??"10"),[A,E]=j.useState((c==null?void 0:c.theoAmp)??"1000"),[B,z]=j.useState(!1),[$,U]=j.useState([]),[I,L]=j.useState(null),[D,G]=j.useState(l||{x:100,y:100}),[ee,Q]=j.useState(!1),q=j.useRef({x:0,y:0});j.useEffect(()=>{f&&f({channelMode:d,minVal:p,maxVal:v,binCount:y,pointToPoint:b,showTheo:w,theoMean:O,theoSigma:_,theoAmp:A})},[d,p,v,y,b,w,O,_,A]),j.useEffect(()=>{if(!e||!n||!a)return;if(v<=p){L("Invalid range: Max must be greater than Min");return}L(null),z(!0);const W=setTimeout(()=>{try{const ve=lQ(n.data,n.width,n.height,a.x,a.y,a.w,a.h,y,p,v,b);U(ve)}catch(ve){console.error("Histogram calc error:",ve),L("Error calculating histogram")}finally{z(!1)}},50);return()=>clearTimeout(W)},[e,n,a==null?void 0:a.x,a==null?void 0:a.y,a==null?void 0:a.w,a==null?void 0:a.h,y,p,v,b]);const X=j.useMemo(()=>{if(!w)return $;const W=parseFloat(O),ve=parseFloat(_),he=parseFloat(A);return isNaN(W)||isNaN(ve)||isNaN(he)||ve<=0?$:$.map(Oe=>{const Ke=Oe.binStart,Je=-Math.pow(Ke-W,2)/(2*Math.pow(ve,2)),qt=he*Math.exp(Je);return{...Oe,theory:qt}})},[$,w,O,_,A]),le=()=>{if($.length===0)return;let W=0,ve=0;if($.forEach(he=>{const Oe=Math.max(he.c0||0,he.c1||0,he.c2||0,he.c3||0);Oe>W&&(W=Oe,ve=he.binStart)}),P(ve.toFixed(2)),E(W.toString()),parseFloat(_)===0||isNaN(parseFloat(_))){const he=v-p;N((he/20).toFixed(2))}},ue=(W,ve,he)=>{s&&s(),!(he.closest("button")||he.closest("input")||he.closest("select"))&&(Q(!0),q.current={x:W-D.x,y:ve-D.y})},Se=W=>{ue(W.clientX,W.clientY,W.target)},be=W=>{const ve=W.touches[0];ue(ve.clientX,ve.clientY,W.target)};if(j.useEffect(()=>{const W=he=>{if(ee){const Oe="touches"in he?he.touches[0].clientX:he.clientX,Ke="touches"in he?he.touches[0].clientY:he.clientY;G({x:Oe-q.current.x,y:Ke-q.current.y})}},ve=()=>Q(!1);return ee&&(window.addEventListener("mousemove",W),window.addEventListener("mouseup",ve),window.addEventListener("touchmove",W,{passive:!1}),window.addEventListener("touchend",ve)),()=>{window.removeEventListener("mousemove",W),window.removeEventListener("mouseup",ve),window.removeEventListener("touchmove",W),window.removeEventListener("touchend",ve)}},[ee]),!e)return null;const K=o?{c0:"Blue",c1:"Green 1",c2:"Green 2",c3:"Red"}:{c0:"Red",c1:"Green 1",c2:"Green 2",c3:"Blue"},ie=o?{c0:"#3b82f6",c1:"#22c55e",c2:"#4ade80",c3:"#ef4444"}:{c0:"#ef4444",c1:"#22c55e",c2:"#4ade80",c3:"#3b82f6"},ge="step";return u.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl resize-both overflow-hidden min-w-[500px] min-h-[400px] w-[900px] h-[650px]",style:{left:D.x,top:D.y,zIndex:i??100},onMouseDownCapture:s,children:[u.jsxs("div",{className:`flex justify-between items-center p-4 border-b border-gray-200 dark:border-slate-700 flex-shrink-0 bg-white dark:bg-slate-900 select-none touch-none ${ee?"cursor-grabbing":"cursor-grab"}`,onMouseDown:Se,onTouchStart:be,children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 pointer-events-none",children:"ROI Histogram"}),u.jsxs("div",{className:"flex items-center gap-1",children:[r&&u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-800/50 flex flex-wrap gap-x-6 gap-y-3 items-center border-b border-gray-200 dark:border-slate-700 text-xs flex-shrink-0 relative z-10",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-bold uppercase tracking-tight",children:"Channel:"}),u.jsxs("select",{value:d,onChange:W=>h(W.target.value),className:"bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-900 dark:text-slate-100 outline-none focus:ring-1 focus:ring-cyan-500",children:[u.jsx("option",{value:"All",children:"All Colors"}),u.jsx("option",{value:"0",children:K.c0}),u.jsx("option",{value:"1",children:K.c1}),u.jsx("option",{value:"2",children:K.c2}),u.jsx("option",{value:"3",children:K.c3})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-bold uppercase tracking-tight",children:"Range:"}),u.jsx("input",{type:"number",value:p,onChange:W=>m(Number(W.target.value)),className:"w-16 px-1.5 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right font-mono"}),u.jsx("span",{className:"text-gray-400",children:"-"}),u.jsx("input",{type:"number",value:v,onChange:W=>x(Number(W.target.value)),className:"w-16 px-1.5 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right font-mono"})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:b,onChange:W=>S(W.target.checked),className:"w-3.5 h-3.5 text-cyan-600 rounded border-gray-300 focus:ring-cyan-500"}),u.jsx("span",{className:"text-gray-700 dark:text-slate-300 select-none font-semibold",children:"PTP"})]}),!b&&u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"Bins:"}),u.jsx("input",{type:"number",value:y,onChange:W=>g(Math.max(1,Number(W.target.value))),className:"w-12 px-1.5 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right font-mono"})]})]}),u.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700"}),u.jsxs("div",{className:`flex items-center gap-3 p-1.5 rounded-lg border transition-all ${w?"bg-amber-50/30 dark:bg-amber-900/10 border-amber-200/50 dark:border-amber-800/50":"bg-transparent border-transparent"}`,children:[u.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:w,onChange:W=>k(W.target.checked),className:"w-3.5 h-3.5 text-amber-500 rounded border-gray-300 focus:ring-amber-500 bg-white dark:bg-slate-700"}),u.jsx("span",{className:`font-bold uppercase tracking-tight ${w?"text-amber-600 dark:text-amber-400":"text-gray-400"}`,children:"Theoretical Bell"})]}),w&&u.jsxs("div",{className:"flex items-center gap-2 animate-in fade-in slide-in-from-left-2 duration-200",children:[u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("span",{className:"text-[8px] text-gray-400 uppercase font-bold",children:"Mean()"}),u.jsx("input",{type:"text",value:O,onChange:W=>P(W.target.value),className:"w-14 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center text-[10px] py-0.5 outline-none focus:border-amber-500"})]}),u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("span",{className:"text-[8px] text-gray-400 uppercase font-bold",children:"Sigma()"}),u.jsx("input",{type:"text",value:_,onChange:W=>N(W.target.value),className:"w-12 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center text-[10px] py-0.5 outline-none focus:border-amber-500"})]}),u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("span",{className:"text-[8px] text-gray-400 uppercase font-bold",children:"Scale(A)"}),u.jsx("input",{type:"text",value:A,onChange:W=>E(W.target.value),className:"w-16 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center text-[10px] py-0.5 outline-none focus:border-amber-500"})]}),u.jsx("button",{onClick:le,className:"mt-3 px-2 py-0.5 bg-amber-600 hover:bg-amber-500 text-white text-[9px] font-bold rounded shadow-sm active:scale-95 transition-all",title:"Set Mean and Amplitude based on current peak",children:"AUTO FIT"})]})]})]}),u.jsxs("div",{className:"flex-1 p-4 relative bg-white dark:bg-slate-900 overflow-hidden min-h-0",children:[u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-0 pointer-events-none select-none opacity-10 mix-blend-normal dark:mix-blend-plus-lighter",children:u.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),B&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-20 bg-white/50 dark:bg-slate-900/50 backdrop-blur-[1px]",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("div",{className:"w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mb-2"}),u.jsx("span",{className:"text-sm text-cyan-600 dark:text-cyan-400 font-semibold",children:"Calculating Histogram..."})]})}),I?u.jsx("div",{className:"flex items-center justify-center h-full text-red-500 relative z-10",children:I}):u.jsx("div",{className:"relative z-10 w-full h-full",children:u.jsx(_s,{width:"100%",height:"100%",children:u.jsxs(Fv,{data:X,children:[u.jsx(Ci,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3}),u.jsx(ja,{dataKey:"binStart",type:"number",domain:[p,v],tickFormatter:W=>Math.floor(W).toString(),tick:{fill:"#9ca3af",fontSize:12},allowDataOverflow:!0,label:{value:"DN Value",position:"insideBottom",offset:-5,fill:"#9ca3af",fontSize:12}}),u.jsx(Oa,{tick:{fill:"#9ca3af",fontSize:12},label:{value:"Count",angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:12}}),u.jsx(mn,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6"},itemStyle:{fontSize:"12px"},labelFormatter:W=>`DN: ${Math.round(Number(W))}`,formatter:(W,ve)=>[Math.round(W),ve]}),u.jsx(Ja,{wrapperStyle:{paddingTop:"10px"}}),w&&u.jsx(Wr,{type:"monotone",dataKey:"theory",name:"Ideal Bell (Gaussian)",stroke:"#f59e0b",strokeWidth:2.5,strokeDasharray:"5 5",dot:!1,isAnimationActive:!1}),(d==="All"||d==="0")&&u.jsx(Wr,{type:ge,dataKey:"c0",name:K.c0,stroke:ie.c0,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(d==="All"||d==="1")&&u.jsx(Wr,{type:ge,dataKey:"c1",name:K.c1,stroke:ie.c1,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(d==="All"||d==="2")&&u.jsx(Wr,{type:ge,dataKey:"c2",name:K.c2,stroke:ie.c2,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(d==="All"||d==="3")&&u.jsx(Wr,{type:ge,dataKey:"c3",name:K.c3,stroke:ie.c3,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1})]})})})]})]})},Qh=({initialPosition:e={x:20,y:80},children:t,className:r="",onClose:n,zIndex:a,onFocus:o})=>{const[i,s]=j.useState(e),[l,c]=j.useState(!1),[f,d]=j.useState({x:0,y:0}),h=j.useRef(null),p=(x,y,g)=>{o&&o(),!(g.closest("button")||g.closest("input"))&&(c(!0),d({x:x-i.x,y:y-i.y}))},m=x=>{p(x.clientX,x.clientY,x.target)},v=x=>{const y=x.touches[0];p(y.clientX,y.clientY,x.target)};return j.useEffect(()=>{const x=g=>{var b,S;if(l){g.cancelable&&g.preventDefault();const w="touches"in g?g.touches[0].clientX:g.clientX,k="touches"in g?g.touches[0].clientY:g.clientY,O=w-f.x,P=k-f.y,_=window.innerWidth-(((b=h.current)==null?void 0:b.offsetWidth)||100),N=window.innerHeight-(((S=h.current)==null?void 0:S.offsetHeight)||100);s({x:Math.max(0,Math.min(O,_)),y:Math.max(0,Math.min(P,N))})}},y=()=>{c(!1)};return l&&(window.addEventListener("mousemove",x),window.addEventListener("mouseup",y),window.addEventListener("touchmove",x,{passive:!1}),window.addEventListener("touchend",y)),()=>{window.removeEventListener("mousemove",x),window.removeEventListener("mouseup",y),window.removeEventListener("touchmove",x),window.removeEventListener("touchend",y)}},[l,f]),u.jsxs("div",{ref:h,style:{left:i.x,top:i.y,zIndex:a??90},onMouseDownCapture:o,className:`fixed shadow-2xl rounded-xl border border-gray-200 dark:border-slate-700 bg-white/95 dark:bg-slate-900/90 backdrop-blur-md transition-shadow duration-200 ${l?"cursor-grabbing shadow-xl ring-2 ring-cyan-500/30":"shadow-lg"} ${r}`,children:[u.jsx("div",{onMouseDown:m,onTouchStart:v,className:"absolute inset-0 w-full h-8 cursor-grab active:cursor-grabbing z-0 touch-none",title:"Drag to move"}),u.jsx("div",{className:"relative z-10 pointer-events-none",children:u.jsx("div",{className:"pointer-events-auto",children:t})})]})},pQ=({isOpen:e,onClose:t,rawImageData:r,roi:n,selectedChannel:a,channelName:o,zIndex:i,onFocus:s,initialPosition:l})=>{const c=j.useRef(null),[f,d]=j.useState(!1),[h,p]=j.useState(null),[m,v]=j.useState(null),[x,y]=j.useState(!0),[g,b]=j.useState(!0),[S,w]=j.useState("-1"),[k,O]=j.useState("8"),[P,_]=j.useState(64),[N,A]=j.useState(45),[E,B]=j.useState(60),z=j.useRef(!1),$=j.useRef({x:0,y:0});j.useEffect(()=>{!e||!r||!n||(d(!0),v(null),setTimeout(()=>{try{const D=uQ(r.data,r.width,r.height,n,a,g);D?p(D):v("Could not extract valid data from ROI.")}catch(D){console.error("2D FFT Error",D),v("Calculation Error: "+D.message)}finally{d(!1)}},50))},[e,r,n,a,g]),j.useEffect(()=>{if(!h||!c.current)return;const D=c.current,G=D.getContext("2d");if(!G)return;const ee=D.width,Q=D.height;G.clearRect(0,0,ee,Q),G.fillStyle="#0f172a",G.fillRect(0,0,ee,Q);const q=h.width,X=h.height,le=h.data,ue=Math.pow(10,parseFloat(S)||-1),Se=Math.pow(10,parseFloat(k)||8);let be=ue,K=Se;x&&(be=Math.log10(Math.max(1e-10,ue)),K=Math.log10(Math.max(1e-10,Se)));const ie=K-be||1,ge=ee/2,W=Q/2+50,ve=Math.min(ee,Q)*.4,he=.6,Oe=N*Math.PI/180,Ke=E*Math.PI/180,Je=Math.cos(Oe),qt=Math.sin(Oe),Ut=Math.cos(Ke),Ir=Math.sin(Ke),lt=(Ve,wt,Dt)=>{const jt=Ve*Je-wt*qt,Yr=Ve*qt+wt*Je,Ht=Yr*Ut-Dt*Ir,Vt=Yr*Ir+Dt*Ut;return{x:ge+jt*ve,y:W-Ht*ve,depth:Vt}},fr=Math.max(16,P),Zt=Math.max(1,Math.floor(q/fr)),Wt=Math.max(1,Math.floor(X/fr)),yr=(Ve,wt)=>{let Dt=le[wt*q+Ve];return x&&(Dt=Math.log10(Math.max(1e-10,Dt))),Dt=Math.max(be,Math.min(K,Dt)),(Dt-be)/ie},Cr=Ve=>`hsl(${(1-Ve)*240}, 80%, 50%)`,Gt=[];for(let Ve=0;Ve<X-Wt;Ve+=Wt)for(let wt=0;wt<q-Zt;wt+=Zt){const Dt=wt,jt=Ve,Yr=wt+Zt,Ht=Ve,Vt=wt+Zt,Br=Ve+Wt,dt=wt,ln=Ve+Wt,qr=yr(Dt,jt),Tn=yr(Yr,Ht),$n=yr(Vt,Br),wn=yr(dt,ln),cn=(qr+Tn+$n+wn)/4,Sr=lt(Dt/(q-1)-.5,jt/(X-1)-.5,qr*he),Fr=lt(Yr/(q-1)-.5,Ht/(X-1)-.5,Tn*he),Er=lt(Vt/(q-1)-.5,Br/(X-1)-.5,$n*he),un=lt(dt/(q-1)-.5,ln/(X-1)-.5,wn*he),Dn=(Sr.depth+Fr.depth+Er.depth+un.depth)/4;Gt.push({pts:[{x:Sr.x,y:Sr.y},{x:Fr.x,y:Fr.y},{x:Er.x,y:Er.y},{x:un.x,y:un.y}],avgDepth:Dn,avgZ:cn})}Gt.sort((Ve,wt)=>Ve.avgDepth-wt.avgDepth),G.lineWidth=.5,Gt.forEach(Ve=>{G.fillStyle=Cr(Ve.avgZ),G.beginPath(),G.moveTo(Ve.pts[0].x,Ve.pts[0].y),G.lineTo(Ve.pts[1].x,Ve.pts[1].y),G.lineTo(Ve.pts[2].x,Ve.pts[2].y),G.lineTo(Ve.pts[3].x,Ve.pts[3].y),G.closePath(),G.fill()}),G.fillStyle="#aaa",G.font="10px monospace";const ar=lt(-.5,-.5,0),Xr=lt(.5,-.5,0),Qt=lt(-.5,.5,0),Kr=lt(.5,.5,0);G.strokeStyle="#666",G.beginPath(),G.moveTo(ar.x,ar.y),G.lineTo(Xr.x,Xr.y),G.lineTo(Kr.x,Kr.y),G.lineTo(Qt.x,Qt.y),G.closePath(),G.stroke(),G.fillText("0",ar.x-10,ar.y+10),G.fillText("Fx",Xr.x+5,Xr.y),G.fillText("Fy",Qt.x-15,Qt.y);const nt=lt(-.5,-.5,he);G.strokeStyle="#fff",G.beginPath(),G.moveTo(ar.x,ar.y),G.lineTo(nt.x,nt.y),G.stroke(),G.fillText(`10^${k}`,nt.x-25,nt.y),G.fillText(`10^${S}`,ar.x-25,ar.y)},[h,x,N,E,S,k,P]);const U=D=>{z.current=!0,$.current={x:D.clientX,y:D.clientY}},I=D=>{if(!z.current)return;const G=D.clientX-$.current.x,ee=D.clientY-$.current.y;A(Q=>Q-G*.5),B(Q=>Math.max(0,Math.min(90,Q+ee*.5))),$.current={x:D.clientX,y:D.clientY}},L=()=>{z.current=!1};return e?u.jsxs(Qh,{initialPosition:l||{x:100,y:100},onClose:t,zIndex:i,onFocus:s,className:"w-[700px] h-[600px] bg-slate-900 border border-slate-700 flex flex-col overflow-hidden shadow-2xl",children:[u.jsxs("div",{className:"flex justify-between items-center px-4 py-2 border-b border-slate-700 bg-slate-800",children:[u.jsxs("h3",{className:"text-sm font-bold text-slate-200 flex items-center gap-2",children:["2D FFT Power Spectrum - ",o,h&&u.jsxs("span",{className:"text-[10px] font-normal text-slate-400 bg-slate-700 px-2 py-0.5 rounded",children:[h.width,"x",h.height," (Chirp-Z)"]})]}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("button",{onClick:t,className:"text-slate-400 hover:text-red-400 transition-colors",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})})]}),u.jsxs("div",{className:"p-3 bg-slate-800/80 flex flex-wrap gap-4 text-xs items-center border-b border-slate-700",children:[u.jsxs("div",{className:"flex items-center gap-2 bg-slate-900 px-2 py-1 rounded border border-slate-600",children:[u.jsx("span",{className:"text-slate-400 font-bold",children:"Range (10^x):"}),u.jsx("input",{type:"number",value:S,onChange:D=>w(D.target.value),className:"w-10 bg-transparent text-slate-200 text-center border-b border-slate-600 focus:border-cyan-500 outline-none"}),u.jsx("span",{className:"text-slate-500",children:"to"}),u.jsx("input",{type:"number",value:k,onChange:D=>O(D.target.value),className:"w-10 bg-transparent text-slate-200 text-center border-b border-slate-600 focus:border-cyan-500 outline-none"})]}),u.jsxs("div",{className:"flex items-center gap-2 bg-slate-900 px-2 py-1 rounded border border-slate-600",children:[u.jsx("span",{className:"text-slate-400 font-bold",children:"Density:"}),u.jsx("input",{type:"range",min:"16",max:"128",step:"16",value:P,onChange:D=>_(Number(D.target.value)),className:"w-20 h-1.5 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"}),u.jsx("span",{className:"text-slate-300 w-6 text-right",children:P})]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none text-slate-300 hover:text-white",children:[u.jsx("input",{type:"checkbox",checked:x,onChange:D=>y(D.target.checked),className:"rounded bg-slate-700 border-slate-600 accent-cyan-500"}),"Log Z"]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none text-slate-300 hover:text-white",children:[u.jsx("input",{type:"checkbox",checked:g,onChange:D=>b(D.target.checked),className:"rounded bg-slate-700 border-slate-600 accent-fuchsia-500"}),"Hanning"]})]}),u.jsxs("div",{className:"flex-1 relative bg-slate-900 cursor-move",children:[f&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-900/80 z-20 backdrop-blur-sm",children:u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx("div",{className:"w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin"}),u.jsx("span",{className:"text-cyan-400 font-bold animate-pulse text-sm",children:"Computing full-size 2D FFT..."})]})}),m&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-900/80 z-20 text-red-400 p-4 text-center",children:m}),u.jsx("canvas",{ref:c,width:700,height:500,className:"w-full h-full block",onMouseDown:U,onMouseMove:I,onMouseUp:L,onMouseLeave:L}),u.jsx("div",{className:"absolute bottom-2 right-2 text-[9px] text-slate-600 pointer-events-none",children:"Drag to Rotate"})]})]}):null},gQ=.5,Im=1e-10,V2=(e,t)=>{const r=e.length-1;if(r<0)return Im;const n=t/gQ*r,a=Math.round(n),o=e[Math.min(Math.max(0,a),r)]||0;return Math.max(o,Im)},mQ=(e,t)=>{if(t<=0)return[1];const r=new Array(e);let n=0;for(let a=0;a<e;a++){const o=a-(e-1)/2,i=Math.exp(-(o*o)/(2*t*t));r[a]=i,n+=i}for(let a=0;a<e;a++)r[a]/=n;return r},yQ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,onUpdateROI:i,zIndex:s,onFocus:l,initialPosition:c,initialInternalState:f,onUpdateState:d,stackFiles:h})=>{const[p,m]=j.useState((f==null?void 0:f.selectedChannel)??0),[v,x]=j.useState(()=>(f==null?void 0:f.yMinExp)||localStorage.getItem("fft_y_min")||"1.73"),[y,g]=j.useState(()=>(f==null?void 0:f.yMaxExp)||localStorage.getItem("fft_y_max")||"8.00"),[b,S]=j.useState((f==null?void 0:f.useHanning)??!0),[w,k]=j.useState((f==null?void 0:f.doAverage)??!0),[O,P]=j.useState((f==null?void 0:f.welchSegments)??1),[_,N]=j.useState((f==null?void 0:f.showH)??!0),[A,E]=j.useState((f==null?void 0:f.showV)??!0),[B,z]=j.useState((f==null?void 0:f.interlaceRows)??!1),[$,U]=j.useState((f==null?void 0:f.rowGroup)??0),[I,L]=j.useState((f==null?void 0:f.interlaceCols)??!1),[D,G]=j.useState((f==null?void 0:f.colGroup)??0),[ee,Q]=j.useState(()=>(f==null?void 0:f.theoSigma)||localStorage.getItem("fft_theo_sigma")||"0.00"),[q,X]=j.useState(()=>(f==null?void 0:f.theoKernelSize)||localStorage.getItem("fft_theo_ksize")||"3"),[le,ue]=j.useState(()=>(f==null?void 0:f.theoNoiseStd)||localStorage.getItem("fft_theo_noise")||"7.5"),[Se,be]=j.useState(()=>(f==null?void 0:f.theoScale)||localStorage.getItem("fft_theo_scale")||"1.0"),[K,ie]=j.useState((f==null?void 0:f.intStart)||"0"),[ge,W]=j.useState((f==null?void 0:f.intEnd)||"0.5"),[ve,he]=j.useState(!1),[Oe,Ke]=j.useState([]),[Je,qt]=j.useState(!1),[Ut,Ir]=j.useState(0),[lt,fr]=j.useState(null),[Zt,Wt]=j.useState(!1),[yr,Cr]=j.useState(!1),[Gt,ar]=j.useState(null),[Xr,Qt]=j.useState(!1),[Kr,nt]=j.useState(null),[Ve,wt]=j.useState(c||{x:50,y:50}),[Dt,jt]=j.useState(!1),[Yr,Ht]=j.useState(null),[Vt,Br]=j.useState({}),dt=j.useRef({x:0,y:0}),ln=o?{c0:"#3b82f6",c1:"#22c55e",c2:"#4ade80",c3:"#ef4444"}:{c0:"#ef4444",c1:"#22c55e",c2:"#4ade80",c3:"#3b82f6"},qr=j.useMemo(()=>o?{0:"Blue",1:"Green 1",2:"Green 2",3:"Red"}:{0:"Red",1:"Green 1",2:"Green 2",3:"Blue"},[o]);j.useEffect(()=>{localStorage.setItem("fft_y_min",v),localStorage.setItem("fft_y_max",y),localStorage.setItem("fft_theo_sigma",ee),localStorage.setItem("fft_theo_ksize",q),localStorage.setItem("fft_theo_noise",le),localStorage.setItem("fft_theo_scale",Se)},[v,y,ee,q,le,Se]),j.useEffect(()=>{if(!e||!n||!a)return;qt(!0),fr(null),Ir(0);const ne=setTimeout(async()=>{try{const Pe=p===-1?[0,1,2,3]:[p],_e=h&&h.length>1?h:[null],Qe=_e.length,ze={};let kt={h:0,v:0};for(let Ce=0;Ce<Qe;Ce++){Ir(Ce+1);let et;if(_e[Ce]){const pt=await _e[Ce].arrayBuffer();et=await Kd(pt)}else et=n;for(const pt of Pe){const gt=cQ(et.data,et.width,et.height,a,pt,!1,b,{rows:B,rowGroup:$,cols:I,colGroup:D},w,O);gt&&(ze[pt]||(ze[pt]={h:new Array(gt.avgHoriz.length).fill(0),v:new Array(gt.avgVert.length).fill(0)}),gt.avgHoriz.forEach((Jt,de)=>ze[pt].h[de]+=Jt/Qe),gt.avgVert.forEach((Jt,de)=>ze[pt].v[de]+=Jt/Qe),kt=gt.sampleCount)}}if(Object.keys(ze).length===0)throw new Error("ROI too small or no data found.");const ht=1024,or=[];for(let Ce=0;Ce<ht;Ce++){const et=Ce/(ht-1)*.5,pt={freq:parseFloat(et.toFixed(6))};for(const gt of Pe)ze[gt]&&(pt[`c${gt}_h`]=V2(ze[gt].h,et),pt[`c${gt}_v`]=V2(ze[gt].v,et));or.push(pt)}Ht(kt),Ke(or)}catch(Pe){console.error("FFT Loop Failed:",Pe),fr(Pe.message||"Unknown error during FFT processing")}finally{qt(!1)}},100);return()=>clearTimeout(ne)},[e,n,a==null?void 0:a.x,a==null?void 0:a.y,a==null?void 0:a.w,a==null?void 0:a.h,p,b,w,O,B,$,I,D,h]);const Tn=()=>{const ne=parseFloat(K),Pe=parseFloat(ge);if(isNaN(ne)||isNaN(Pe))return;const _e={},Qe=p===-1?[0,1,2,3]:[p],ze=Oe.filter(kt=>kt.freq>=ne&&kt.freq<=Pe);if(ze.length===0){Br({});return}Qe.forEach(kt=>{let ht=0,or=0;ze.forEach(Ce=>{const et=Ce[`c${kt}_h`],pt=Ce[`c${kt}_v`];typeof et=="number"&&(ht+=et),typeof pt=="number"&&(or+=pt)}),_e[kt]={h:ht/ze.length,v:or/ze.length,count:ze.length}}),Br(_e)},$n=j.useMemo(()=>{const ne=parseFloat(ee),Pe=parseInt(q),_e=parseFloat(le),Qe=parseFloat(Se);if(isNaN(ne)||isNaN(Pe)||isNaN(_e)||isNaN(Qe)||Oe.length===0)return Oe;const ze=mQ(Pe,ne),kt=ze.reduce((Ce,et)=>Ce+et*et,0),ht=(Pe-1)/2,or=_e*_e*Qe;return Oe.map(Ce=>{const et=Ce.freq,pt=2*Math.PI*et;let gt=0,Jt=0;for(let V=0;V<Pe;V++){const Ee=V-ht,tt=ze[V],Le=-pt*Ee;gt+=tt*Math.cos(Le),Jt+=tt*Math.sin(Le)}const de=gt*gt+Jt*Jt;return{...Ce,theory:Math.max(Im,or*kt*de)}})},[Oe,ee,q,le,Se]),wn=ne=>{ne&&ne.activeLabel!==void 0&&(Qt(!0),nt(Number(ne.activeLabel)),ar(null))},cn=ne=>{if(Xr&&Kr!==null&&ne&&ne.activeLabel!==void 0){const Pe=Number(ne.activeLabel);ar([Math.min(Kr,Pe),Math.max(Kr,Pe)])}},Sr=()=>Qt(!1),Fr=(ne,Pe,_e)=>{l&&l(),!(_e.closest("button")||_e.closest("input"))&&(jt(!0),dt.current={x:ne-Ve.x,y:Pe-Ve.y})},Er=ne=>{Fr(ne.clientX,ne.clientY,ne.target)},un=ne=>{const Pe=ne.touches[0];Fr(Pe.clientX,Pe.clientY,ne.target)};j.useEffect(()=>{const ne=_e=>{if(Dt){const Qe="touches"in _e?_e.touches[0].clientX:_e.clientX,ze="touches"in _e?_e.touches[0].clientY:_e.clientY;wt({x:Qe-dt.current.x,y:ze-dt.current.y})}},Pe=()=>jt(!1);return Dt&&(window.addEventListener("mousemove",ne),window.addEventListener("mouseup",Pe),window.addEventListener("touchmove",ne,{passive:!1}),window.addEventListener("touchend",Pe)),()=>{window.removeEventListener("mousemove",ne),window.removeEventListener("mouseup",Pe),window.removeEventListener("touchmove",ne),window.removeEventListener("touchend",Pe)}},[Dt]);const Dn=j.useMemo(()=>{if(!Gt||Oe.length===0)return null;const[ne,Pe]=Gt,_e=Oe.filter(kt=>kt.freq>=ne&&kt.freq<=Pe);if(_e.length===0)return null;const Qe=p===-1?[0,1,2,3]:[p],ze={};return Qe.forEach(kt=>{["h","v"].forEach(ht=>{const or=`c${kt}_${ht}`;let Ce=0,et=0;for(const pt of _e){const gt=pt[or];typeof gt=="number"&&(Ce+=gt,et++)}et>0&&(ze[`${or}_sigma`]=Math.sqrt(Ce/et))})}),{count:_e.length,stats:ze}},[Gt,Oe,p]),At=()=>{if(Oe.length===0)return;let ne=1/0,Pe=-1/0;if(Oe.forEach(ht=>{ht.freq<.01||ht.freq>.49||Object.keys(ht).forEach(or=>{if(or==="freq"||or==="theory")return;const Ce=ht[or];typeof Ce=="number"&&Ce>0&&(Ce<ne&&(ne=Ce),Ce>Pe&&(Pe=Ce))})}),ne===1/0)return;const _e=Math.log10(ne),Qe=Math.log10(Pe),ze=Qe-_e,kt=(ze===0?1:ze)*.1;x((_e-kt).toFixed(2)),g((Qe+kt).toFixed(2))},Xt=(ne,Pe)=>{a&&i&&i({...a,x:a.x+ne,y:a.y+Pe})},Mt=(ne,Pe)=>{a&&i&&i({...a,w:Math.max(2,a.w+ne),h:Math.max(2,a.h+Pe)})};return e?u.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl overflow-hidden resize-both min-w-[750px] min-h-[500px]",style:{left:Ve.x,top:Ve.y,width:"1000px",height:"850px",zIndex:s??100},onMouseDownCapture:l,children:[u.jsxs("div",{className:`flex justify-between items-center p-3 border-b border-gray-200 dark:border-slate-700 flex-shrink-0 bg-gray-50 dark:bg-slate-800 z-50 relative select-none touch-none ${Dt?"cursor-grabbing":"cursor-grab"}`,onMouseDown:Er,onTouchStart:un,children:[u.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2 pointer-events-none",children:["Power Spectrum Analysis",u.jsx("span",{className:"text-[10px] font-normal bg-white dark:bg-slate-700 px-2 py-1 rounded text-gray-500 border border-gray-200 dark:border-slate-600 shadow-sm",children:h&&h.length>1?`Stack Avg (${h.length} frames)`:"Single Mode"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[r&&u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsxs("div",{className:"flex flex-col bg-gray-50 dark:bg-slate-900/80 border-b border-gray-200 dark:border-slate-800 flex-shrink-0 z-40 relative px-4 py-3 gap-3 overflow-x-auto",children:[u.jsxs("div",{className:"flex items-center gap-6",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-[10px] font-bold text-gray-500 dark:text-slate-400 uppercase tracking-widest",children:"Channel"}),u.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-800 rounded-lg p-0.5 border border-gray-200 dark:border-slate-700 shadow-inner",children:[u.jsx("button",{onClick:()=>m(-1),className:`px-3 py-1 rounded text-[10px] font-bold transition-all ${p===-1?"bg-slate-700 text-white shadow-md":"text-gray-500 dark:text-slate-500 hover:bg-white dark:hover:bg-slate-700"}`,children:"All"}),[0,1,2,3].map(ne=>u.jsx("button",{onClick:()=>m(ne),className:`px-3 py-1 rounded text-[10px] font-bold transition-all ${p===ne?"bg-cyan-600 text-white shadow-md":"text-gray-500 dark:text-slate-500 hover:bg-white dark:hover:bg-slate-700"}`,children:qr[ne]},ne))]})]}),u.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700 mx-2"}),u.jsxs("button",{onClick:()=>he(!0),className:"flex items-center gap-1.5 px-4 py-1.5 bg-indigo-600 hover:bg-indigo-500 text-white text-[10px] font-bold rounded-lg shadow-lg shadow-indigo-500/30 transition-all active:scale-95 group border border-indigo-400/30",children:[u.jsx("svg",{className:"w-3.5 h-3.5 group-hover:animate-pulse",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"2D Diagonal"]}),u.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700 mx-2"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-400 uppercase tracking-widest",children:"Model"}),u.jsx("div",{className:"flex gap-2",children:[{label:"KSize",val:q,set:X,w:"w-10"},{label:"Sigma",val:ee,set:Q,w:"w-12"},{label:"Noise()",val:le,set:ue,w:"w-12"},{label:"Scale",val:Se,set:be,w:"w-12"}].map(ne=>u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("label",{className:"text-[8px] text-gray-400 dark:text-slate-500 uppercase font-bold mb-0.5",children:ne.label}),u.jsx("input",{type:"text",value:ne.val,onChange:Pe=>ne.set(Pe.target.value),className:`${ne.w} text-[11px] bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded px-1.5 py-0.5 text-center text-gray-900 dark:text-slate-100 outline-none focus:border-indigo-500 shadow-sm`})]},ne.label))})]})]}),u.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[u.jsxs("div",{className:"flex items-center gap-3 mr-2",children:[u.jsx("span",{className:"text-[10px] font-bold text-fuchsia-600 dark:text-fuchsia-500 uppercase tracking-widest",children:"Welch"}),u.jsx("input",{type:"range",min:"1",max:"16",step:"1",value:O,onChange:ne=>P(parseInt(ne.target.value)),className:"w-24 h-1.5 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-fuchsia-500"}),u.jsx("span",{className:"text-[10px] font-mono text-fuchsia-600 dark:text-fuchsia-400 w-4 font-bold",children:O})]}),u.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700"}),u.jsxs("div",{className:"flex flex-col gap-1 px-2",children:[u.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer text-[10px] text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 select-none",children:[u.jsx("input",{type:"checkbox",checked:B,onChange:ne=>z(ne.target.checked),className:"w-3 h-3 rounded text-cyan-600 border-gray-300 dark:border-slate-700 bg-white dark:bg-slate-800"})," Row Int."]}),u.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer text-[10px] text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 select-none",children:[u.jsx("input",{type:"checkbox",checked:I,onChange:ne=>L(ne.target.checked),className:"w-3 h-3 rounded text-cyan-600 border-gray-300 dark:border-slate-700 bg-white dark:bg-slate-800"})," Col Int."]})]}),u.jsxs("div",{className:"flex flex-col gap-1.5 bg-gray-100 dark:bg-slate-800/60 p-1.5 rounded-lg border border-gray-200 dark:border-slate-700",children:[u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[u.jsx("div",{className:`w-3.5 h-3.5 rounded-md border flex items-center justify-center transition-colors ${b?"bg-fuchsia-600 border-fuchsia-600":"bg-white dark:bg-slate-900 border-gray-300 dark:border-slate-600"}`,children:b&&u.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:4,children:u.jsx("path",{d:"M5 13l4 4L19 7"})})}),u.jsx("input",{type:"checkbox",checked:b,onChange:ne=>S(ne.target.checked),className:"hidden"}),u.jsx("span",{className:"text-[10px] font-bold text-gray-700 dark:text-slate-300",children:"Hanning"})]}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[u.jsx("div",{className:`w-3.5 h-3.5 rounded-md border flex items-center justify-center transition-colors ${w?"bg-cyan-600 border-cyan-600":"bg-white dark:bg-slate-900 border-gray-300 dark:border-slate-600"}`,children:w&&u.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:4,children:u.jsx("path",{d:"M5 13l4 4L19 7"})})}),u.jsx("input",{type:"checkbox",checked:w,onChange:ne=>k(ne.target.checked),className:"hidden"}),u.jsx("span",{className:"text-[10px] font-bold text-gray-700 dark:text-slate-300",children:"Average"})]})]}),u.jsxs("div",{className:"flex gap-2 bg-gray-100 dark:bg-slate-800 p-1 rounded-lg border border-gray-200 dark:border-slate-700",children:[u.jsxs("button",{onClick:()=>N(!_),className:`px-2.5 py-1 rounded-md border text-[11px] font-bold transition-all flex items-center gap-1.5 ${_?"bg-cyan-900/40 text-cyan-400 border-cyan-500 shadow-[0_0_8px_rgba(6,182,212,0.3)]":"bg-white dark:bg-slate-900 text-gray-400 border-gray-300 dark:border-slate-700"}`,children:[u.jsx("div",{className:`w-2 h-2 rounded-full ${_?"bg-cyan-400":"bg-gray-400"}`})," H"]}),u.jsxs("button",{onClick:()=>E(!A),className:`px-2.5 py-1 rounded-md border text-[11px] font-bold transition-all flex items-center gap-1.5 ${A?"bg-cyan-900/40 text-cyan-400 border-cyan-500 shadow-[0_0_8px_rgba(6,182,212,0.3)]":"bg-white dark:bg-slate-900 text-gray-400 border-gray-300 dark:border-slate-700"}`,children:[u.jsx("div",{className:`w-2 h-2 rounded-full ${_?"bg-cyan-400":"bg-gray-400"}`})," V"]})]}),u.jsxs("div",{className:"ml-auto flex gap-2",children:[u.jsx("button",{onClick:()=>Cr(!yr),className:`px-3 py-1.5 rounded-lg text-[10px] font-bold transition-all border ${yr?"bg-emerald-600 text-white border-emerald-600 shadow-md":"bg-white dark:bg-slate-900 text-emerald-600 dark:text-emerald-400 border-emerald-200 dark:border-emerald-800 hover:bg-emerald-50"}`,children:""}),u.jsx("button",{onClick:()=>Wt(!Zt),className:`px-3 py-1.5 rounded-lg text-[10px] font-bold transition-all border ${Zt?"bg-indigo-600 text-white border-indigo-600 shadow-md":"bg-white dark:bg-slate-900 text-indigo-600 dark:text-indigo-400 border-indigo-200 dark:border-indigo-800 hover:bg-indigo-50"}`,children:"ROI"})]})]}),u.jsxs("div",{className:"flex items-center gap-4 justify-end border-t border-gray-200 dark:border-slate-800/50 pt-2.5",children:[u.jsx("button",{onClick:At,className:"px-4 py-1 text-[10px] font-bold bg-cyan-600/10 text-cyan-600 dark:text-cyan-400 hover:bg-cyan-600/20 rounded-md border border-cyan-500/30 transition-all uppercase tracking-widest shadow-sm",children:"Auto"}),u.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-gray-500 dark:text-slate-400 uppercase",children:["Y-AXIS (LOG)",u.jsxs("div",{className:"flex items-center bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-md overflow-hidden shadow-sm",children:[u.jsx("input",{type:"text",value:v,onChange:ne=>x(ne.target.value),className:"w-14 px-2 py-1 bg-transparent text-center outline-none text-gray-900 dark:text-slate-100 border-r border-gray-200 dark:border-slate-700"}),u.jsx("span",{className:"px-2 text-gray-400",children:"to"}),u.jsx("input",{type:"text",value:y,onChange:ne=>g(ne.target.value),className:"w-14 px-2 py-1 bg-transparent text-center outline-none text-gray-900 dark:text-slate-100"})]})]})]})]}),u.jsxs("div",{className:"flex-1 p-4 overflow-hidden flex flex-col gap-2 relative bg-gray-50/30 dark:bg-slate-900/30",children:[u.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none z-[50] select-none opacity-10",children:u.jsx("svg",{viewBox:"0 0 500 100",className:"w-3/4 h-auto drop-shadow-lg",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"24",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),Je&&u.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-[55] bg-white/90 dark:bg-slate-900/90 backdrop-blur-[2px]",children:[u.jsx("div",{className:"w-10 h-10 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mb-4"}),u.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:"Computing FFT Stack..."}),h&&h.length>1&&u.jsxs("span",{className:"text-xs text-gray-500 mt-2 font-mono",children:["Processing frame ",Ut," / ",h.length]})]}),lt?u.jsx("div",{className:"flex items-center justify-center h-full text-red-500 font-semibold",children:lt}):u.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-950 border border-gray-200 dark:border-slate-800 rounded-xl p-2 flex flex-col relative z-20 shadow-xl overflow-hidden",children:[u.jsx("div",{className:"flex-1 relative z-10",onMouseDown:wn,onMouseMove:cn,onMouseUp:Sr,style:{cursor:Xr?"col-resize":"crosshair"},children:u.jsx(_s,{width:"100%",height:"100%",children:u.jsxs(Fv,{data:$n,margin:{top:10,right:10,bottom:20,left:0},children:[u.jsx(Ci,{strokeDasharray:"3 3",stroke:"#374151",opacity:.08}),u.jsx(ja,{dataKey:"freq",type:"number",domain:[0,.5],tickCount:6,tick:{fill:"#6b7280",fontSize:10},label:{value:"Frequency (cy/px)",position:"insideBottom",offset:-10,fill:"#6b7280",fontSize:11}}),u.jsx(Oa,{scale:"log",domain:[Math.pow(10,parseFloat(v)),Math.pow(10,parseFloat(y))],allowDataOverflow:!0,tick:{fill:"#6b7280",fontSize:10},tickFormatter:ne=>Number(ne).toExponential(0),width:45}),u.jsx(mn,{contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.95)",border:"1px solid #334155",color:"#f3f4f6",fontSize:"11px",borderRadius:"8px"},formatter:ne=>[Number(ne).toExponential(3),""],labelFormatter:ne=>`Freq: ${Number(ne).toFixed(4)}`}),u.jsx(Ja,{wrapperStyle:{fontSize:"10px"}}),u.jsx(Wr,{type:"monotone",dataKey:"theory",name:"Theory Model",stroke:"#6366f1",strokeWidth:2,dot:!1,isAnimationActive:!1}),[0,1,2,3].flatMap(ne=>{if(p!==-1&&p!==ne)return[];const Pe=`c${ne}_h`,_e=`c${ne}_v`,Qe=ln[`c${ne}`],ze=[];return _&&ze.push(u.jsx(Wr,{type:"linear",dataKey:Pe,name:`${qr[ne]} (H)`,stroke:Qe,strokeWidth:1,dot:!1,isAnimationActive:!1},`${ne}_h`)),A&&ze.push(u.jsx(Wr,{type:"linear",dataKey:_e,name:`${qr[ne]} (V)`,stroke:Qe,strokeWidth:1,strokeDasharray:"3 3",dot:!1,isAnimationActive:!1},`${ne}_v`)),ze}),Gt&&u.jsx(gu,{x1:Gt[0],x2:Gt[1],fill:"#8884d8",fillOpacity:.15})]})})}),Dn&&Gt&&u.jsxs("div",{className:"absolute bottom-12 left-12 bg-slate-900/90 backdrop-blur-md p-3 rounded-lg border border-indigo-500/50 shadow-2xl z-30 text-[10px] font-mono text-slate-100",children:[u.jsxs("div",{className:"text-indigo-400 font-bold mb-1 border-b border-indigo-500/30 pb-1",children:["Range: ",Gt[0].toFixed(3),"-",Gt[1].toFixed(3)]}),Object.entries(Dn.stats).map(([ne,Pe])=>u.jsxs("div",{className:"flex justify-between gap-4",children:[u.jsxs("span",{className:"text-slate-400",children:[ne,":"]}),u.jsx("span",{className:"font-bold text-cyan-400",children:Pe.toFixed(5)})]},ne))]})]})]}),yr&&u.jsxs("div",{className:"absolute top-48 right-8 z-[55] w-72 bg-white dark:bg-slate-900 rounded-xl shadow-2xl border border-gray-200 dark:border-slate-700 p-4 animate-in slide-in-from-top-2",children:[u.jsx("h4",{className:"text-[10px] uppercase font-bold text-emerald-600 dark:text-emerald-400 mb-2 border-b border-gray-100 dark:border-slate-800 pb-1",children:"Range Averaging"}),u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx("input",{type:"number",step:"0.01",value:K,onChange:ne=>ie(ne.target.value),className:"w-16 px-1 py-0.5 text-xs border rounded bg-transparent dark:border-slate-600 dark:text-white"}),u.jsx("span",{className:"text-gray-400",children:"-"}),u.jsx("input",{type:"number",step:"0.01",value:ge,onChange:ne=>W(ne.target.value),className:"w-16 px-1 py-0.5 text-xs border rounded bg-transparent dark:border-slate-600 dark:text-white"}),u.jsx("button",{onClick:Tn,className:"flex-1 bg-emerald-600 text-white text-[10px] font-bold py-1 rounded",children:"Avg"})]}),u.jsx("div",{className:"flex flex-col gap-2 max-h-48 overflow-y-auto",children:[0,1,2,3].map(ne=>{const Pe=Vt[ne];if(!Pe)return null;const _e=ln[`c${ne}`];return u.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800/50 p-2 rounded text-[10px] border border-gray-100 dark:border-slate-800",children:[u.jsxs("div",{className:"flex items-center gap-2 font-bold mb-1",style:{color:_e},children:[qr[ne]," ",u.jsxs("span",{className:"text-gray-400 font-normal",children:["(",Pe.count," pts)"]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-x-2 text-gray-700 dark:text-slate-300 font-mono",children:[u.jsxs("div",{children:["H: ",Pe.h.toExponential(3)]}),u.jsxs("div",{children:["V: ",Pe.v.toExponential(3)]})]})]},ne)})})]}),Zt&&u.jsx("div",{className:"absolute top-48 right-8 z-[55] w-56 bg-white dark:bg-slate-900 rounded-xl shadow-2xl border border-gray-200 dark:border-slate-700 p-4 animate-in slide-in-from-top-2",children:u.jsxs("div",{className:"flex flex-col gap-3",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"text-[9px] uppercase font-bold text-gray-400 mb-1",children:"Move"}),u.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[u.jsx("div",{}),u.jsx("button",{onClick:()=>Xt(0,-1),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),u.jsx("div",{}),u.jsx("button",{onClick:()=>Xt(-1,0),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),u.jsx("div",{}),u.jsx("button",{onClick:()=>Xt(1,0),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),u.jsx("div",{}),u.jsx("button",{onClick:()=>Xt(0,1),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),u.jsx("div",{})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-[9px] uppercase font-bold text-gray-400 mb-1",children:"Size"}),u.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[u.jsx("button",{onClick:()=>Mt(2,0),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"W+"}),u.jsx("button",{onClick:()=>Mt(-2,0),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"W-"}),u.jsx("button",{onClick:()=>Mt(0,2),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"H+"}),u.jsx("button",{onClick:()=>Mt(0,-2),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"H-"})]})]})]})}),u.jsx(pQ,{isOpen:ve,onClose:()=>he(!1),rawImageData:n,roi:a,selectedChannel:p===-1?0:p,channelName:p===-1?"Red (Default)":qr[p],zIndex:s?s+2:102,onFocus:l})]}):null},vQ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,zIndex:i,onFocus:s,initialPosition:l,initialInternalState:c,onUpdateState:f})=>{const[d,h]=j.useState((c==null?void 0:c.selectedChannelKey)||"G1"),[p,m]=j.useState((c==null?void 0:c.blackLevel)??0),[v,x]=j.useState((c==null?void 0:c.whiteLevel)??16383),[y,g]=j.useState(null),[b,S]=j.useState(!1),[w,k]=j.useState(null),[O,P]=j.useState(l||{x:150,y:150}),[_,N]=j.useState(!1),A=j.useRef({x:0,y:0});j.useEffect(()=>{f&&f({selectedChannelKey:d,blackLevel:p,whiteLevel:v})},[d,p,v]),j.useEffect(()=>{if(e&&n&&!c){const I=n.blackLevels?Math.floor(n.blackLevels[1]):0;m(I),x(n.whiteLevel||16383),g(null)}},[e,n]);const E=()=>{if(!n||!a)return;k(null),S(!0);const L=(o?{B:0,G1:1,G2:2,R:3}:{R:0,G1:1,G2:2,B:3})[d];setTimeout(()=>{try{const D=fQ(n.data,n.width,n.height,a,L,p,v);D?g(D):(k("No data found in selection with current filters."),g(null))}catch(D){console.error("Analysis failed:",D),k(D.message||"Analysis error")}finally{S(!1)}},50)},B=(I,L,D)=>{s&&s(),!(D.closest("button")||D.closest("input")||D.closest("select"))&&(N(!0),A.current={x:I-O.x,y:L-O.y})},z=I=>{B(I.clientX,I.clientY,I.target)},$=I=>{const L=I.touches[0];B(L.clientX,L.clientY,I.target)};if(j.useEffect(()=>{const I=D=>{if(_){const G="touches"in D?D.touches[0].clientX:D.clientX,ee="touches"in D?D.touches[0].clientY:D.clientY;P({x:G-A.current.x,y:ee-A.current.y})}},L=()=>N(!1);return _&&(window.addEventListener("mousemove",I),window.addEventListener("mouseup",L),window.addEventListener("touchmove",I,{passive:!1}),window.addEventListener("touchend",L)),()=>{window.removeEventListener("mousemove",I),window.removeEventListener("mouseup",L),window.removeEventListener("touchmove",I),window.removeEventListener("touchend",L)}},[_]),!e)return null;const U=o?["B","G1","G2","R"]:["R","G1","G2","B"];return u.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl resize-both overflow-hidden min-w-[500px] min-h-[400px] w-[900px] h-[700px]",style:{left:O.x,top:O.y,zIndex:i??100},onMouseDownCapture:s,children:[u.jsxs("div",{className:`flex justify-between items-center p-4 border-b border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-900 select-none touch-none ${_?"cursor-grabbing":"cursor-grab"}`,onMouseDown:z,onTouchStart:$,children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2 pointer-events-none",children:"Quantization Step Analysis"}),u.jsxs("div",{className:"flex items-center gap-1",children:[r&&u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 p-2",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800/50 border-b border-gray-200 dark:border-slate-700 flex flex-wrap gap-4 items-end flex-shrink-0",children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Channel"}),u.jsx("select",{value:d,onChange:I=>h(I.target.value),className:"bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded px-3 py-1.5 text-sm text-gray-900 dark:text-slate-100 outline-none focus:ring-1 focus:ring-cyan-500 min-w-[80px]",children:U.map(I=>u.jsx("option",{value:I,children:I},I))})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Black Level"}),u.jsx("input",{type:"number",value:p,onChange:I=>m(Number(I.target.value)),className:"w-24 px-3 py-1.5 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-sm text-gray-900 dark:text-slate-100"})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"White Level"}),u.jsx("input",{type:"number",value:v,onChange:I=>x(Number(I.target.value)),className:"w-24 px-3 py-1.5 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-sm text-gray-900 dark:text-slate-100"})]}),u.jsx("button",{onClick:E,disabled:b,className:"mb-0.5 px-5 py-1.5 bg-cyan-600 hover:bg-cyan-500 text-white font-bold rounded shadow-sm hover:shadow transition-colors disabled:opacity-50 text-sm",children:b?"Analyzing...":"Run Analysis"})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-4 flex flex-col gap-4 bg-white dark:bg-slate-900 min-h-0",children:[w&&u.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded text-sm text-center flex-shrink-0",children:w}),!y&&!b&&!w&&u.jsx("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400 dark:text-slate-500 h-full",children:u.jsx("p",{children:"Configure parameters and click Run Analysis"})}),y&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 flex-shrink-0",children:[u.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700 text-center",children:[u.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 uppercase mb-1",children:"Unique Codes"}),u.jsx("div",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:y.uniqueCount})]}),u.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700 text-center",children:[u.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 uppercase mb-1",children:"Total Diffs"}),u.jsx("div",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:y.diffCount})]})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700 overflow-hidden flex-shrink-0",children:[u.jsx("div",{className:"px-4 py-2 bg-gray-50 dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700 text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Step Distribution"}),u.jsx("div",{className:"p-4 flex flex-wrap gap-x-8 gap-y-2 text-sm font-mono max-h-32 overflow-y-auto",children:Object.entries(y.stepCounts).sort((I,L)=>parseFloat(I[0])-parseFloat(L[0])).map(([I,L])=>u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("span",{className:"text-gray-500 dark:text-slate-400",children:["Step ",I,":"]}),u.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:String(L)})]},I))})]}),u.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 rounded-xl p-2 relative overflow-hidden min-h-[300px]",children:[u.jsx("div",{className:"absolute top-2 left-4 text-xs font-bold text-gray-400 dark:text-slate-500 pointer-events-none z-20 bg-white/80 dark:bg-slate-900/80 px-2 rounded",children:"Step Size vs Code Value"}),u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-0 pointer-events-none select-none opacity-10 mix-blend-normal dark:mix-blend-plus-lighter",children:u.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),u.jsx("div",{className:"relative z-10 w-full h-full",children:u.jsx(_s,{width:"100%",height:"100%",children:u.jsxs(Fv,{data:y.plotData,margin:{top:20,right:20,bottom:20,left:10},children:[u.jsx(Ci,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),u.jsx(ja,{dataKey:"x",type:"number",domain:["auto","auto"],tick:{fill:"#9ca3af",fontSize:10},label:{value:"Code Value (Shifted)",position:"insideBottom",offset:-10,fill:"#9ca3af",fontSize:11}}),u.jsx(Oa,{tick:{fill:"#9ca3af",fontSize:10},domain:[0,"auto"],allowDataOverflow:!1,label:{value:"Step Size (Delta)",angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:11}}),u.jsx(mn,{contentStyle:{backgroundColor:"rgba(17, 24, 39, 0.95)",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6",fontSize:"12px"},labelFormatter:I=>`Val: ${I}`,formatter:I=>[I,"Step Size"]}),u.jsx(Wr,{type:"stepAfter",dataKey:"y",stroke:"#0891b2",strokeWidth:1.5,dot:{r:1.5,fill:"#0891b2",strokeWidth:0},activeDot:{r:4},isAnimationActive:!1})]})})})]})]})]})]})},xQ=({isOpen:e,onClose:t,rawImageData:r,roi:n,isBGGR:a,zIndex:o,onFocus:i,initialPosition:s,stackFiles:l})=>{const[c,f]=j.useState("cross"),[d,h]=j.useState("R"),[p,m]=j.useState("B"),[v,x]=j.useState("H"),[y,g]=j.useState(null),[b,S]=j.useState(!1),[w,k]=j.useState(0),[O,P]=j.useState(0),[_,N]=j.useState("single"),A=a?{B:0,G1:1,G2:2,R:3}:{R:0,G1:1,G2:2,B:3},E=a?["B","G1","G2","R"]:["R","G1","G2","B"],B=async z=>{if(!r||!n)return;S(!0),N(z),k(0),g(null);let $=A[d],U=c==="cross"?A[p]:$,I=0,L=0;c==="self"&&(v==="H"?L=2:I=2),setTimeout(async()=>{try{let D={sumCov:0,sumVar1:0,sumVar2:0,n:0};if(z==="single")D=G2(r.data,r.width,r.height,n,$,U,I,L);else if(l&&l.length>0)for(let G=0;G<l.length;G++){k(G+1);const ee=await l[G].arrayBuffer(),Q=await Kd(ee),q=G2(Q.data,Q.width,Q.height,n,$,U,I,L);D.sumCov+=q.sumCov,D.sumVar1+=q.sumVar1,D.sumVar2+=q.sumVar2,D.n+=q.n}P(D.n),g(sQ(D))}catch(D){console.error("Pearson calculation failed",D),alert("Calculation error: "+D.message)}finally{S(!1)}},50)};return e?u.jsxs(Qh,{initialPosition:s||{x:200,y:200},onClose:t,zIndex:o,onFocus:i,className:"w-80 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 flex flex-col shadow-2xl overflow-hidden",children:[u.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800",children:[u.jsxs("h3",{className:"text-sm font-bold text-gray-700 dark:text-slate-200 flex items-center gap-2",children:["Pearson Correlation",u.jsx("span",{className:"text-[10px] font-normal bg-white dark:bg-slate-700 px-1.5 py-0.5 rounded border border-gray-200 dark:border-slate-600",children:"r"})]}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"p-4 flex flex-col gap-4",children:[u.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-800 p-1 rounded-lg border border-gray-200 dark:border-slate-700",children:[u.jsx("button",{onClick:()=>f("cross"),className:`flex-1 py-1 text-[10px] font-bold rounded transition-all ${c==="cross"?"bg-indigo-600 text-white shadow":"text-gray-500 dark:text-slate-400 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:"Cross-Channel"}),u.jsx("button",{onClick:()=>f("self"),className:`flex-1 py-1 text-[10px] font-bold rounded transition-all ${c==="self"?"bg-indigo-600 text-white shadow":"text-gray-500 dark:text-slate-400 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:"Self-Adjacent"})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"flex-1 flex flex-col gap-1",children:[u.jsx("label",{className:"text-[9px] uppercase font-bold text-gray-400",children:c==="cross"?"Channel 1":"Channel"}),u.jsx("select",{value:d,onChange:z=>h(z.target.value),className:"bg-gray-100 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded px-2 py-1.5 text-xs text-gray-700 dark:text-slate-200 outline-none focus:ring-1 focus:ring-indigo-500",children:E.map(z=>u.jsx("option",{value:z,children:z},z))})]}),u.jsx("div",{className:"text-gray-300 dark:text-slate-600 mt-4 font-mono",children:c==="cross"?"":""}),u.jsxs("div",{className:"flex-1 flex flex-col gap-1",children:[u.jsx("label",{className:"text-[9px] uppercase font-bold text-gray-400",children:c==="cross"?"Channel 2":"Direction"}),c==="cross"?u.jsx("select",{value:p,onChange:z=>m(z.target.value),className:"bg-gray-100 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded px-2 py-1.5 text-xs text-gray-700 dark:text-slate-200 outline-none focus:ring-1 focus:ring-indigo-500",children:E.map(z=>u.jsx("option",{value:z,children:z},z))}):u.jsxs("div",{className:"flex h-[28px] bg-gray-100 dark:bg-slate-800 rounded border border-gray-200 dark:border-slate-700 p-0.5",children:[u.jsx("button",{onClick:()=>x("H"),className:`flex-1 text-[9px] font-bold rounded ${v==="H"?"bg-slate-300 dark:bg-slate-600 text-indigo-600 dark:text-indigo-400":"text-gray-400"}`,children:"Horiz"}),u.jsx("button",{onClick:()=>x("V"),className:`flex-1 text-[9px] font-bold rounded ${v==="V"?"bg-slate-300 dark:bg-slate-600 text-indigo-600 dark:text-indigo-400":"text-gray-400"}`,children:"Vert"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[u.jsx("button",{onClick:()=>B("single"),disabled:b,className:"w-full py-2 bg-indigo-600 hover:bg-indigo-500 disabled:bg-gray-400 text-white font-bold rounded shadow-md transition-all active:scale-95 text-xs",children:b&&_==="single"?"Calculating...":"Calc Current Frame"}),l&&l.length>0&&u.jsxs("button",{onClick:()=>B("stack"),disabled:b,className:"w-full py-2 bg-emerald-600 hover:bg-emerald-500 disabled:bg-gray-400 text-white font-bold rounded shadow-md transition-all active:scale-95 text-xs flex flex-col items-center justify-center",children:[u.jsx("span",{children:"Calc Stack Concatenated"}),b&&_==="stack"&&u.jsxs("span",{className:"text-[9px] font-normal opacity-80",children:["Progress: ",w," / ",l.length]})]})]}),y!==null&&u.jsxs("div",{className:"mt-2 p-4 bg-gray-50 dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700 text-center animate-in fade-in slide-in-from-top-2",children:[u.jsxs("div",{className:"text-[10px] uppercase font-bold text-gray-400 dark:text-slate-500 mb-1",children:[c==="cross"?"Cross-Channel":`Self-Adj (${v})`," r"]}),u.jsx("div",{className:"text-2xl font-mono font-bold text-indigo-600 dark:text-indigo-400 select-all",style:{fontSize:"24px"},children:y.toFixed(5)}),u.jsxs("div",{className:"text-[9px] text-gray-400 mt-2 font-mono",children:["N = ",O.toLocaleString()," pairs"]}),u.jsx("div",{className:"mt-3 text-[10px] font-bold",children:Math.abs(y)>.5?u.jsx("span",{className:"text-red-500",children:"Significant Correlation"}):Math.abs(y)>.1?u.jsx("span",{className:"text-amber-500",children:"Weak Correlation"}):u.jsx("span",{className:"text-emerald-500",children:"Near-Zero (Uncorrelated)"})})]})]}),u.jsx("div",{className:"p-3 bg-gray-50/50 dark:bg-slate-800/30 text-[9px] text-gray-400 dark:text-slate-600 italic border-t border-gray-100 dark:border-slate-800",children:c==="cross"?"Comparing two color channels in the same Bayer 2x2 cells.":`Comparing pixel (r,c) with (r${v==="V"?"+2":""}, c${v==="H"?"+2":""}) in the same channel.`})]}):null},bQ=[{href:"https://y-g-jiang.github.io/CBLD.html",text:" (Primary Source)",abbr:"CBLD",description:"ISO",highlight:!0},{href:"https://y-G-jiang.github.io/LAC.html",text:"",abbr:"LAC",description:""},{href:"https://y-G-jiang.github.io/CCGV.html",text:"adobeIECMF",abbr:"CCGV",description:"acrRAWxy"},{href:"https://y-G-jiang.github.io/JTJS.html",text:"",abbr:"JTJS",description:"CMF/"},{href:"https://y-G-jiang.github.io/XJZS.html",text:"",abbr:"XJZS",description:""}],wQ=({isOpen:e,onClose:t})=>e?u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-3xl rounded-2xl shadow-2xl border border-gray-200 dark:border-slate-700 overflow-hidden flex flex-col max-h-[90vh]",onClick:r=>r.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"About / Tools"}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-1 rounded hover:bg-gray-200 dark:hover:bg-slate-700",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"p-6 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700",children:[u.jsx("div",{className:"mb-8 p-4 bg-gray-50 dark:bg-slate-800/50 rounded-xl border border-gray-100 dark:border-slate-700 text-center",children:u.jsxs("p",{className:"text-lg text-gray-700 dark:text-slate-300",children:[u.jsx("span",{className:"font-bold mr-2",children:"about:"}),u.jsx("a",{href:"https://y-g-jiang.github.io/JOindex.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline break-all font-mono",children:"https://y-g-jiang.github.io/JOindex.html"})]})}),u.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[u.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 flex-1"}),u.jsx("span",{className:"text-sm font-bold text-gray-400 dark:text-slate-500 uppercase tracking-wider",children:"Primary Resources"}),u.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 flex-1"})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:bQ.map(r=>u.jsxs("a",{href:r.href,target:"_blank",rel:"noopener noreferrer",className:`group block p-4 rounded-xl border transition-all duration-200 relative overflow-hidden ${r.highlight?"border-cyan-500 dark:border-cyan-400 bg-cyan-50/30 dark:bg-cyan-900/10 shadow-lg scale-[1.02] ring-2 ring-cyan-500/20":"border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-800/30 hover:bg-gray-50 dark:hover:bg-slate-800 hover:border-cyan-500"}`,children:[u.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-gradient-to-bl from-cyan-500/5 to-transparent -mr-8 -mt-8 rounded-full pointer-events-none group-hover:from-cyan-500/10 transition-colors"}),u.jsxs("div",{className:"flex items-center gap-3 mb-2 relative z-10",children:[u.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded transition-colors border ${r.highlight?"bg-cyan-600 text-white border-cyan-500":"bg-gray-100 dark:bg-slate-700 text-gray-600 dark:text-slate-300 border-gray-200 dark:border-slate-600 group-hover:border-cyan-200"}`,children:r.abbr}),u.jsx("h3",{className:`font-bold transition-colors ${r.highlight?"text-cyan-700 dark:text-cyan-300":"text-gray-800 dark:text-slate-200 group-hover:text-cyan-600"}`,children:r.text})]}),u.jsx("p",{className:`text-xs pl-1 transition-colors relative z-10 ${r.highlight?"text-cyan-600/80 dark:text-cyan-400/80":"text-gray-500 dark:text-slate-400"}`,children:r.description})]},r.abbr))})]})]})}):null,kQ=({isOpen:e,onClose:t,data:r,fileName:n,warning:a})=>{const[o,i]=j.useState(""),s=f=>{const d=new WeakSet;try{return JSON.stringify(f,(h,p)=>{if(typeof p=="bigint")return p.toString()+"n";if(typeof p=="object"&&p!==null){if(d.has(p))return"[Circular]";if(d.add(p),ArrayBuffer.isView(p))return`[${p.constructor.name}]`}return p})}catch{return"[Unable to serialize object]"}},l=j.useMemo(()=>{if(!r)return[];const f=[],d=(h,p=0)=>{if(p>5)return"...";if(h==null)return String(h);if(h instanceof Date)return h.toLocaleString();if(typeof h=="number")return h.toString();if(typeof h=="string")return h;if(typeof h=="bigint")return h.toString()+"n";if(ArrayBuffer.isView(h))return`<${h.constructor.name} len=${h.length} bytes=${h.byteLength}>`;if(h instanceof ArrayBuffer)return`<ArrayBuffer bytes=${h.byteLength}>`;if(typeof h=="object"){if(Array.isArray(h))return h.length===0?"[]":h.length>20?`[${h.slice(0,10).map(x=>typeof x=="number"?x.toFixed(2):d(x,p+1)).join(", ")}, ... (+${h.length-10} more)]`:`[${h.map(v=>typeof v=="number"?Number.isInteger(v)?v:v.toFixed(4):d(v,p+1)).join(", ")}]`;try{const m=Object.keys(h);return m.length>5?`{Object with ${m.length} keys}`:s(h)}catch{return"<Complex Object>"}}return String(h)};try{if(typeof r!="object")return[{key:"Value",value:String(r)}];Object.keys(r).sort().forEach(p=>{if(p==="MakerNote"||p==="UserComment"||p.includes("Strip")||p.includes("Offset")){f.push({key:p,value:"<Binary/Internal Data>"});return}const m=r[p];f.push({key:p,value:d(m)})})}catch(h){console.error("Error processing EXIF data:",h),f.push({key:"Error",value:"Failed to process metadata structure."})}return f},[r]);if(!e)return null;const c=l.filter(f=>f.key.toLowerCase().includes(o.toLowerCase())||f.value.toLowerCase().includes(o.toLowerCase()));return u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-3xl max-h-[90vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700",onClick:f=>f.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700",children:[u.jsxs("div",{className:"overflow-hidden",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:"EXIF Data"}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1 font-mono truncate",children:n})]}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-2 rounded-full hover:bg-gray-100 dark:hover:bg-slate-800",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a&&u.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 px-4 py-2 border-b border-amber-100 dark:border-amber-800/50 text-center",children:u.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 whitespace-pre-line font-medium leading-relaxed",children:a})}),u.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:u.jsxs("div",{className:"relative",children:[u.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),u.jsx("input",{type:"text",placeholder:"Search tags...",value:o,onChange:f=>i(f.target.value),className:"w-full pl-9 pr-4 py-2 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500 outline-none text-gray-900 dark:text-slate-100 transition-colors placeholder-gray-400"})]})}),u.jsx("div",{className:"overflow-y-auto flex-1 p-0 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700",children:c.length>0?u.jsxs("table",{className:"w-full text-left border-collapse table-fixed",children:[u.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800 sticky top-0 shadow-sm z-10",children:u.jsxs("tr",{children:[u.jsx("th",{className:"py-3 px-5 font-semibold text-xs text-gray-500 dark:text-slate-400 uppercase tracking-wider w-1/3 border-b border-gray-200 dark:border-slate-700",children:"Tag Name"}),u.jsx("th",{className:"py-3 px-5 font-semibold text-xs text-gray-500 dark:text-slate-400 uppercase tracking-wider w-2/3 border-b border-gray-200 dark:border-slate-700",children:"Value"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-800",children:c.map(f=>u.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-800/50 transition-colors group",children:[u.jsx("td",{className:"py-2 px-5 text-sm font-medium text-cyan-600 dark:text-cyan-400 font-mono break-words align-top",children:f.key}),u.jsx("td",{className:"py-2 px-5 text-sm text-gray-700 dark:text-slate-300 font-mono break-words align-top group-hover:text-gray-900 dark:group-hover:text-slate-100",children:f.value})]},f.key))})]}):u.jsx("div",{className:"flex flex-col items-center justify-center h-64 text-gray-400 dark:text-slate-500",children:u.jsxs("p",{children:['No tags found matching "',o,'"']})})}),u.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50 flex justify-end rounded-b-2xl",children:u.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-white rounded-lg text-sm font-semibold transition-colors",children:"Close"})})]})})},SQ=100,h0=e=>{if(e.length===0)return 0;if(e.length===1)return e[0];if(e.length===2)return .5*(e[0]+e[1]);let t=[...e].sort((r,n)=>r-n);for(;t.length>4;){let r=1/0,n=0;const a=t.length,o=Math.floor(a/2);for(let i=0;i<=a-o;i++){const s=t[i+o-1]-t[i];s<r&&(r=s,n=i)}t=t.slice(n,n+o)}return t.reduce((r,n)=>r+n,0)/t.length},X2=({min:e,max:t,value:r,onChange:n,vertical:a=!1,logScale:o=!1})=>{const i=j.useRef(null),s=j.useRef(null),l=j.useCallback(g=>{const b=o?Math.max(1e-6,e):e,S=o?Math.max(b*1.0001,t):t,w=Math.max(b,Math.min(S,g));if(o){const k=Math.log10(b),O=Math.log10(S);return(Math.log10(w)-k)/(O-k)}return(w-b)/(S-b)},[e,t,o]),c=j.useCallback(g=>{const b=o?Math.max(1e-6,e):e,S=o?Math.max(b*1.0001,t):t;if(o){const w=Math.log10(b),k=Math.log10(S);return Math.pow(10,w+g*(k-w))}return b+g*(S-b)},[e,t,o]),f=(g,b)=>{g.preventDefault(),g.stopPropagation(),s.current=b;const S=k=>{if(!s.current||!i.current)return;const O=i.current.getBoundingClientRect();let P=0;a?P=(O.bottom-k.clientY)/O.height:P=(k.clientX-O.left)/O.width,P=Math.max(0,Math.min(1,P));const _=c(P);if(s.current==="min"){const N=r[1];n([Math.min(_,N),N])}else{const N=r[0];n([N,Math.max(_,N)])}},w=()=>{s.current=null,window.removeEventListener("mousemove",S),window.removeEventListener("mouseup",w)};window.addEventListener("mousemove",S),window.addEventListener("mouseup",w)},d=l(r[0])*100,h=l(r[1])*100,p=a?{left:"50%",top:0,bottom:0,width:"4px",transform:"translateX(-50%)"}:{top:"50%",left:0,right:0,height:"4px",transform:"translateY(-50%)"},m=a?{left:"50%",bottom:`${d}%`,height:`${h-d}%`,width:"4px",transform:"translateX(-50%)"}:{top:"50%",left:`${d}%`,width:`${h-d}%`,height:"4px",transform:"translateY(-50%)"},v="absolute w-3 h-3 bg-white border-2 border-cyan-600 rounded-full shadow-md cursor-pointer hover:scale-125 transition-transform z-10",x=a?{left:"50%",bottom:`${d}%`,transform:"translate(-50%, 50%)"}:{top:"50%",left:`${d}%`,transform:"translate(-50%, -50%)"},y=a?{left:"50%",bottom:`${h}%`,transform:"translate(-50%, 50%)"}:{top:"50%",left:`${h}%`,transform:"translate(-50%, -50%)"};return u.jsxs("div",{ref:i,className:`relative select-none ${a?"h-full w-4 py-2":"w-full h-4 px-2"}`,children:[u.jsx("div",{className:"absolute bg-gray-300 dark:bg-slate-600 rounded-full",style:p}),u.jsx("div",{className:"absolute bg-cyan-500 dark:bg-cyan-400 rounded-full",style:m}),u.jsx("div",{className:v,style:x,onMouseDown:g=>f(g,"min")}),u.jsx("div",{className:v,style:y,onMouseDown:g=>f(g,"max")})]})},jQ=({isOpen:e,onClose:t,data:r,blackLevel:n,imageHeight:a,isBGGR:o,importedMetadata:i,theme:s,initialCameraModel:l,initialISO:c})=>{const[f,d]=j.useState("Noise"),[h,p]=j.useState(!0),[m,v]=j.useState(null),[x,y]=j.useState("default"),[g,b]=j.useState(!1),[S,w]=j.useState(!1),[k,O]=j.useState({R:!0,G1:!0,G2:!0,B:!0}),[P,_]=j.useState(""),[N,A]=j.useState(""),[E,B]=j.useState(""),[z,$]=j.useState(""),[U,I]=j.useState("10"),[L,D]=j.useState(""),[G,ee]=j.useState("0 0 0 0"),[Q,q]=j.useState("0 0 0 0"),[X,le]=j.useState(!1),[ue,Se]=j.useState(null),[be,K]=j.useState(!1),[ie,ge]=j.useState(0),[W,ve]=j.useState([]),[he,Oe]=j.useState(""),[Ke,Je]=j.useState(""),qt=()=>{const R=parseFloat(he),Z=parseFloat(Ke);!isNaN(R)&&!isNaN(Z)&&(ve([...W,{id:Date.now(),x:R,y:Z}]),Oe(""),Je(""))},[Ut,Ir]=j.useState(()=>localStorage.getItem("ptc_tester_name")||""),[lt,fr]=j.useState(""),[Zt,Wt]=j.useState("");j.useEffect(()=>{localStorage.setItem("ptc_tester_name",Ut)},[Ut]);const yr=j.useRef(X),Cr=j.useRef(be),Gt=j.useRef(ie);j.useEffect(()=>{yr.current=X,Cr.current=be,Gt.current=ie},[X,be,ie]);const[ar,Xr]=j.useState(null),[Qt,Kr]=j.useState({min:.01,max:90}),[nt,Ve]=j.useState({readNoise:0,gain:1,prnu:.5}),[wt,Dt]=j.useState(2e6),jt=j.useRef(nt),Yr=j.useRef(Qt),Ht=j.useRef(wt);j.useEffect(()=>{jt.current=nt,Yr.current=Qt,Ht.current=wt},[nt,Qt,wt]);const[Vt,Br]=j.useState({read:"0",gain:"1.0",prnu:"0.5",rangeMin:"0.01",rangeMax:"90"}),[dt,ln]=j.useState({read:!0,shot:!0,prnu:!0,total:!0,fitRange:!0}),[qr,Tn]=j.useState(!1),[$n,wn]=j.useState([]),[cn,Sr]=j.useState(null),[Fr,Er]=j.useState(""),un=j.useMemo(()=>n?n.join(","):"",[n]);j.useEffect(()=>{if(e){let R="0 0 0 0";i&&i.blackLevel?R=i.blackLevel.join(" "):R=n&&n.length===4?n.join(" "):"0 0 0 0",ee(R),q(R);let Z="";if(i&&i.height?Z=i.height.toString():a&&(Z=a.toString()),D(Z),Z){const te=parseFloat(Z);!isNaN(te)&&te>0?I((2309.4/te).toFixed(2)):I("10")}else I("10");Se(null),le(!1),K(!1),ge(0),wn([]),Sr(null),Kr({min:.01,max:90}),Br({read:"0",gain:"0",prnu:"0",rangeMin:"0.01",rangeMax:"90"}),Ve({readNoise:0,gain:0,prnu:0}),_(""),A(""),B(""),$(""),d("Noise"),Xr(null),Dt(2e6),Er(""),w(!1),ve([]),fr(te=>te.trim()===""&&l?l:te),Wt(te=>te.trim()===""&&c?c:te)}},[e,un,i,a,r,l,c]);const Dn=R=>{if(R.key==="Enter"){const Z=parseFloat(L);if(!isNaN(Z)&&Z>0){const te=(2309.4/Z).toFixed(2);I(te)}R.target.blur()}},At=j.useMemo(()=>{let Z=Q.trim().split(/[\s,]+/).filter(Boolean).map(Number);for(Z.length===1&&(Z=[Z[0],Z[0],Z[0],Z[0]]);Z.length<4;)Z.push(0);const te=C=>{switch(C){case"R":return Z[0];case"G1":return Z[1];case"G2":return Z[2];case"B":return Z[3];default:return 0}};return r.map(C=>{const ce=C.mean-te(C.channel),je=C.std>0?ce/C.std:0;return{...C,x:ce,std:C.std,snr:je}}).filter(C=>C.std>0)},[r,Q]),Xt=j.useMemo(()=>{const R=nt.readNoise,Z=R*R;return At.map(te=>{let C=0;if(f==="Noise")C=te.std;else if(f==="SNR")C=te.snr;else if(f==="Linear"){const je=te.std*te.std-Z;C=te.x!==0?je/te.x:0}return{...te,y:C}})},[At,f,nt.readNoise]),Mt=j.useMemo(()=>{if(At.length===0)return"G1";const R={R:0,G1:0,G2:0,B:0},Z={R:0,G1:0,G2:0,B:0};for(const ce of At)R[ce.channel]+=ce.x,Z[ce.channel]++;let te="G1",C=-1/0;return Object.keys(R).forEach(ce=>{const je=Z[ce],Te=je>0?R[ce]/je:-1/0;Te>C&&(C=Te,te=ce)}),te},[At]),ne=j.useCallback(()=>{let R=1/0,Z=-1/0;if(At.length===0)return{min:.1,max:1};for(let te=0;te<At.length;te++){const C=At[te].x;h&&C<=0||(C<R&&(R=C),C>Z&&(Z=C))}return R===1/0?{min:.1,max:1}:{min:R,max:Z}},[At,h]),Pe=j.useCallback(()=>{let R=1/0,Z=-1/0;if(Xt.length===0)return{min:.1,max:1};for(let te=0;te<Xt.length;te++){const C=Xt[te].y;h&&C<=0||(C<R&&(R=C),C>Z&&(Z=C))}return R===1/0?{min:.1,max:1}:{min:R*.9,max:Z*1.1}},[Xt,h]),{min:_e,max:Qe}=ne(),{min:ze,max:kt}=Pe(),ht=Qe*(Qt.min/100),or=Qe*(Qt.max/100),Ce=j.useMemo(()=>{if(!h&&Xt.length===0)return{shot:[],read:[],prnu:[],total:[]};const R=P?parseFloat(P):_e,Z=N?parseFloat(N):Qe,te=100,C=Math.max(.1,R),ce=Math.max(1,Z);if(C>=ce)return{shot:[],read:[],prnu:[],total:[]};const je=Math.log10(C),Ye=(Math.log10(ce)-je)/te,Xe=nt.readNoise,We=nt.gain>0?nt.gain:1,Ot=nt.prnu/100,ct=[],Pt=[],ir=[],oe=[];for(let He=0;He<=te;He++){const Ne=Math.pow(10,je+He*Ye);if(f==="Linear"){const Ct=1/We,mt=Ot*Ot,dn=Ct+mt*Ne;oe.push({x:Ne,y:dn}),ct.push({x:Ne,y:Ct}),ir.push({x:Ne,y:mt*Ne})}else{const Ct=Xe,mt=Math.sqrt(Ne/We),dn=Ot*Ne,rt=Math.sqrt(Ct*Ct+mt*mt+dn*dn);f==="Noise"?(ct.push({x:Ne,y:mt}),Pt.push({x:Ne,y:Ct}),ir.push({x:Ne,y:dn}),oe.push({x:Ne,y:rt})):(mt>0&&ct.push({x:Ne,y:Ne/mt}),Ct>0&&Pt.push({x:Ne,y:Ne/Ct}),dn>0&&ir.push({x:Ne,y:Ne/dn}),rt>0&&oe.push({x:Ne,y:Ne/rt}))}}return{shot:ct,read:Pt,prnu:ir,total:oe}},[Xt,h,P,N,nt,f,_e,Qe]),et=j.useMemo(()=>{if(f==="Linear")return[];const R=parseFloat(U);if(isNaN(R)||R<=0)return[];const Z=P?parseFloat(P):_e,te=N?parseFloat(N):Qe;return f==="SNR"?[{x:Z,y:R},{x:te,y:R}]:[{x:Z,y:Z/R},{x:te,y:te/R}]},[Xt,U,f,P,N,_e,Qe]),pt=j.useCallback((R,Z)=>{if(!Z||Z.length===0)return null;const te=[...Z].sort((C,ce)=>C.x-ce.x);for(let C=0;C<te.length-1;C++){const ce=te[C],je=te[C+1];if(ce.snr<=R&&je.snr>=R||ce.snr>=R&&je.snr<=R){const Te=(R-ce.snr)/(je.snr-ce.snr);return ce.x+Te*(je.x-ce.x)}}return null},[]),gt=j.useMemo(()=>{const R=At,Z=1e3,te=ce=>{if(ce.length===0)return[];if(ce.length<=Z)return ce;const je=[...ce].sort((Xe,We)=>Xe.x-We.x),Te=[],Ye=je.length/Z;for(let Xe=0;Xe<Z;Xe++){const We=Math.floor(Xe*Ye),Ot=Math.floor((Xe+1)*Ye),ct=je.slice(We,Ot);if(ct.length===0)continue;ct.sort((ir,oe)=>ir.std-oe.std);const Pt=Math.floor(ct.length/2);Te.push(ct[Pt])}return Te},C={R:[],G1:[],G2:[],B:[]};return R.forEach(ce=>{C[ce.channel]&&C[ce.channel].push(ce)}),{R:te(C.R),G1:te(C.G1),G2:te(C.G2),B:te(C.B)}},[At]),Jt=j.useMemo(()=>ue&&nt.gain?ue*nt.gain:null,[ue,nt.gain]),de=j.useMemo(()=>{if(ue===null||ue===0)return null;const R=parseFloat(U);let Z=null;if(!isNaN(R)&&R>0){let Te=0,Ye=0;if(["R","G1","G2","B"].forEach(Xe=>{const We=pt(R,gt[Xe]);We!==null&&(Te+=We,Ye++)}),Ye>0){const Xe=Te/Ye;Z=Math.log2(ue/Xe)}}const te=parseFloat(L);let C=null,ce=NaN;if(!isNaN(te)&&te>0){ce=16e3/te;let Te=0,Ye=0;if(["R","G1","G2","B"].forEach(Xe=>{const We=pt(ce,gt[Xe]);We!==null&&(Te+=We,Ye++)}),Ye>0){const Xe=Te/Ye;C=Math.log2(ue/Xe)}}let je=null;if(!isNaN(te)&&te>0){const Te=pt(ce,gt[Mt]);Te!==null&&(je=Math.log2(ue/Te))}return{manualDR:Z,ptpDR:C,d55DR:je,manualTarget:R,ptpTarget:ce,saturationSignal:ue,dominantChannel:Mt}},[ue,U,L,gt,pt,Mt]),V=j.useMemo(()=>{if(f==="Linear"||!de||!de.ptpTarget||isNaN(de.ptpTarget))return[];const R=de.ptpTarget,Z=P?parseFloat(P):_e,te=N?parseFloat(N):Qe;return f==="SNR"?[{x:Z,y:R},{x:te,y:R}]:[{x:Z,y:Z/R},{x:te,y:te/R}]},[f,de,P,N,_e,Qe]),Ee=j.useCallback(()=>{const te=document.createElement("canvas");te.width=2048,te.height=1536;const C=te.getContext("2d");if(!C)return;const ce=s==="dark",je=ce?"#0f172a":"#ffffff",Te=ce?"#ffffff":"#000000",Ye=ce?"#475569":"#cbd5e1",Xe=ce?"#1e293b":"#f1f5f9",We=o?{R:"#ef4444",G1:"#22c55e",G2:"#4ade80",B:"#3b82f6"}:{R:"#ef4444",G1:"#22c55e",G2:"#4ade80",B:"#3b82f6"};C.fillStyle=je,C.fillRect(0,0,2048,1536);let Ot=P?parseFloat(P):_e,ct=N?parseFloat(N):Qe,Pt=E?parseFloat(E):ze,ir=z?parseFloat(z):kt;isNaN(Ot)&&(Ot=.1),isNaN(ct)&&(ct=1e4),isNaN(Pt)&&(Pt=.1),isNaN(ir)&&(ir=1e3);const oe={top:80,right:80,bottom:100,left:120},He=2048-oe.left-oe.right,Ne=1536-oe.top-oe.bottom,Ct=T=>{if(h){const H=Math.log10(Math.max(1e-9,Ot)),Y=Math.log10(Math.max(1e-9,ct)),re=Math.log10(Math.max(1e-9,T));return oe.left+(re-H)/(Y-H)*He}else return oe.left+(T-Ot)/(ct-Ot)*He},mt=T=>{if(h){const H=Math.log10(Math.max(1e-9,Pt)),Y=Math.log10(Math.max(1e-9,ir)),re=Math.log10(Math.max(1e-9,T));return oe.top+Ne-(re-H)/(Y-H)*Ne}else return oe.top+Ne-(T-Pt)/(ir-Pt)*Ne};if(C.beginPath(),h){const T=(H,Y,re)=>{const fe=Math.log10(Math.max(1e-9,H)),ke=Math.log10(Math.max(1e-9,Y)),xe=Math.floor(fe),Me=Math.ceil(ke);for(let we=xe;we<=Me;we++){const Ie=Math.pow(10,we);let Ae=re?Ct(Ie):mt(Ie);(re?Ae>=oe.left-1&&Ae<=oe.left+He+1:Ae>=oe.top-1&&Ae<=oe.top+Ne+1)&&(C.lineWidth=1.5,C.strokeStyle=Ye,C.beginPath(),re?(C.moveTo(Ae,oe.top),C.lineTo(Ae,oe.top+Ne)):(C.moveTo(oe.left,Ae),C.lineTo(oe.left+He,Ae)),C.stroke()),C.lineWidth=.5,C.strokeStyle=Xe;for(let ut=2;ut<10;ut++){const sr=ut*Ie;Ae=re?Ct(sr):mt(sr),(re?Ae>=oe.left&&Ae<=oe.left+He:Ae>=oe.top&&Ae<=oe.top+Ne)&&(C.beginPath(),re?(C.moveTo(Ae,oe.top),C.lineTo(Ae,oe.top+Ne)):(C.moveTo(oe.left,Ae),C.lineTo(oe.left+He,Ae)),C.stroke())}}};T(Ot,ct,!0),T(Pt,ir,!1)}else{C.strokeStyle=Ye,C.lineWidth=1;for(let T=0;T<=5;T++){const H=oe.left+He*T/5;C.beginPath(),C.moveTo(H,oe.top),C.lineTo(H,oe.top+Ne),C.stroke();const Y=oe.top+Ne*T/5;C.beginPath(),C.moveTo(oe.left,Y),C.lineTo(oe.left+He,Y),C.stroke()}}C.strokeStyle=Te,C.lineWidth=2,C.strokeRect(oe.left,oe.top,He,Ne);const dn=(T,H,Y)=>{T<oe.left||T>oe.left+He||H<oe.top||H>oe.top+Ne||(C.fillStyle=Y,C.fillRect(T-1.5,H-1.5,3,3))},rt=Xt.filter(T=>!(h&&(T.x<=0||T.y<=0)));rt.forEach(T=>{k[T.channel]&&T.channel!==Mt&&dn(Ct(T.x),mt(T.y),We[T.channel])}),rt.forEach(T=>{k[T.channel]&&T.channel===Mt&&dn(Ct(T.x),mt(T.y),We[T.channel])}),W.forEach(T=>{const H=Ct(T.x),Y=mt(T.y);if(H<oe.left||H>oe.left+He||Y<oe.top||Y>oe.top+Ne)return;C.strokeStyle="#d946ef",C.lineWidth=2.5;const re=6;C.beginPath(),C.moveTo(H-re,Y-re),C.lineTo(H+re,Y+re),C.moveTo(H+re,Y-re),C.lineTo(H-re,Y+re),C.stroke()});const hr=(T,H,Y=[])=>{if(T.length<2)return;C.beginPath(),C.strokeStyle=H,C.lineWidth=3,C.setLineDash(Y);let re=!1;for(const fe of T){const ke=Ct(fe.x),xe=mt(fe.y);if(ke<oe.left-100||ke>oe.left+He+100||xe<oe.top-100||xe>oe.top+Ne+100){re=!1;continue}re?C.lineTo(ke,xe):(C.moveTo(ke,xe),re=!0)}C.stroke(),C.setLineDash([])},Qr=ce?"#ffffff":"#000000";if(dt.shot&&hr(Ce.shot,"#94a3b8",[5,5]),dt.read&&hr(Ce.read,"#f43f5e",[3,3]),dt.prnu&&hr(Ce.prnu,"#f59e0b",[3,3]),dt.total&&hr(Ce.total,Qr,[]),et.length===2){const T="#6366f1";hr(et,T,[4,2]);const H=et[1],Y=mt(H.y);Y>=oe.top&&Y<=oe.top+Ne&&(C.fillStyle=T,C.font="bold 20px sans-serif",C.textAlign="right",C.textBaseline="bottom",C.fillText(`M.Tgt=${U}`,oe.left+He-10,Y-8))}if(V.length===2&&(de!=null&&de.ptpTarget)){const T="#10b981";hr(V,T,[4,4]);const H=V[1],Y=mt(H.y);if(Y>=oe.top&&Y<=oe.top+Ne){C.fillStyle=T,C.font="bold 20px sans-serif",C.textAlign="right",C.textBaseline="bottom";const re=de.ptpTarget.toFixed(1),fe=et.length===2?mt(et[1].y):-100,ke=Math.abs(Y-fe)<25?25:0;C.fillText(`PTP=${re}`,oe.left+He-10,Y-8-ke)}}if(dt.fitRange||be){const T=(H,Y)=>{const re=Ct(H);re>=oe.left&&re<=oe.left+He&&(C.beginPath(),C.strokeStyle=Y,C.lineWidth=2,C.setLineDash([8,8]),C.moveTo(re,oe.top),C.lineTo(re,oe.top+Ne),C.stroke(),C.setLineDash([]))};T(ht,"#22d3ee"),T(or,"#22d3ee")}if(ue){const T=Ct(ue);T>=oe.left&&T<=oe.left+He&&(C.strokeStyle="#ef4444",C.lineWidth=3,C.setLineDash([10,10]),C.beginPath(),C.moveTo(T,oe.top),C.lineTo(T,oe.top+Ne),C.stroke(),C.setLineDash([]),C.fillStyle="#ef4444",C.font="bold 24px sans-serif",C.textAlign="center",C.fillText("Sat",T,oe.top-10))}C.fillStyle=Te,C.font="28px monospace",C.textAlign="center",C.fillText(Ot.toExponential(1),oe.left,oe.top+Ne+40),C.fillText(ct.toExponential(1),oe.left+He,oe.top+Ne+40),C.fillText("Signal (DN)",oe.left+He/2,oe.top+Ne+80),C.textAlign="right",C.textBaseline="middle",C.fillText(Pt.toExponential(1),oe.left-20,oe.top+Ne),C.fillText(ir.toExponential(1),oe.left-20,oe.top),C.save(),C.translate(oe.left-80,oe.top+Ne/2),C.rotate(-Math.PI/2),C.textAlign="center",C.fillText(f==="Linear"?"(Var - RN) / Mean":f,0,0),C.restore(),C.save(),C.translate(2048/2,1536/2),C.rotate(-Math.PI/6),C.textAlign="center",C.textBaseline="middle",C.fillStyle=ce?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)",C.font="bold 150px sans-serif",C.fillText(" y-g-jiang.github.io",0,0),C.restore(),C.fillStyle=Te,C.font="bold 36px sans-serif",C.textAlign="left",C.textBaseline="top",C.fillText(`PTC Export: ${f} Mode`,oe.left,20),C.font="24px sans-serif",C.fillStyle=ce?"#94a3b8":"#64748b",C.fillText(`Points: ${Xt.length} | Sat Channel: ${Mt}`,oe.left,65);const Na=oe.left+30,yl=oe.top+30,np=70,xu=T=>{if(!ue||T<=0)return"--";const H=nt.readNoise,Y=nt.gain,re=nt.prnu/100;if(Y<=0)return"--";const fe=T*T,ke=H*H,xe=1-fe*re*re,Me=-(fe/Y),we=-(fe*ke);let Ie=0;if(Math.abs(xe)<1e-8)Math.abs(Me)>1e-8&&(Ie=-we/Me);else{const Ae=Me*Me-4*xe*we;Ae>=0&&(Ie=(-Me+Math.sqrt(Ae))/(2*xe))}return Ie>0?Math.log2(ue/Ie).toFixed(2)+" EV":"--"},bu=de!=null&&de.ptpTarget&&!isNaN(de.ptpTarget)?xu(de.ptpTarget):"--",ap=U?xu(parseFloat(U)):"--";C.font="bold 48px monospace",C.textAlign="left",C.textBaseline="top",C.shadowColor=ce?"rgba(0,0,0,0.8)":"rgba(255,255,255,0.8)",C.shadowBlur=4,C.shadowOffsetX=1,C.shadowOffsetY=1;const jn=(T,H,Y,re)=>{const fe=yl+Y*np;C.fillStyle=Te,C.fillText(T,Na,fe);const ke=C.measureText(T).width;C.fillStyle=re||Te,C.fillText(H,Na+ke,fe)},op=Vt.read,ip=parseFloat(Vt.gain).toFixed(3),sp=parseFloat(Vt.prnu).toFixed(2)+"%";let wu=`M.DR@SNR${U}: `;const po=parseFloat(L);if(!isNaN(po)&&po>0){const T=(2309.4/po).toFixed(2);Math.abs(parseFloat(U)-parseFloat(T))<.05&&(wu="8mpSNR=1 DR: ")}jn("Tester: ",Ut||"N/A",0),jn("Model : ",lt||"Unknown",1),jn("ISO   : ",Zt||"N/A",2),jn("RN/FPN: ",op,3,"#f43f5e"),jn("KADC  : ",ip,4,"#06b6d4"),jn("PRNU  : ",sp,5,"#f59e0b"),jn("PTP DR: ",de!=null&&de.ptpDR?de.ptpDR.toFixed(2)+" EV":"--",6,"#10b981"),jn("D55 DR: ",de!=null&&de.d55DR?de.d55DR.toFixed(2)+" EV":"--",7,"#8b5cf6"),jn("FWC   : ",Jt?Jt>1e4?(Jt/1e3).toFixed(1)+"k":Math.round(Jt).toString():"--",8,"#f97316"),jn(wu,de!=null&&de.manualDR?de.manualDR.toFixed(2)+" EV":"--",9,"#06b6d4"),jn("PTCFitDR(PTP): ",bu,10,"#10b981"),jn("PTCFitDR(Man): ",ap,11,"#06b6d4"),C.save(),C.textAlign="right",C.textBaseline="bottom",C.fillStyle="#3b82f6",C.font="bold 80px sans-serif",C.shadowColor=ce?"rgba(0,0,0,0.8)":"rgba(255,255,255,0.8)",C.shadowBlur=4,C.shadowOffsetX=2,C.shadowOffsetY=2;const qo=1988,ku=1476,Su=90;C.fillText("Online",qo,ku),C.fillText("Jiangtherapee",qo,ku-Su),C.restore();const F=document.createElement("a");F.download=`ptc_complete_${f}_${Date.now()}.jpg`,F.href=te.toDataURL("image/jpeg",.9),F.click()},[Xt,Mt,k,P,N,E,z,_e,Qe,ze,kt,h,s,f,ue,o,dt,Ce,ht,or,Qt,be,Ut,lt,Zt,de,Jt,U,et,V,Vt,L,W]),tt=j.useMemo(()=>{let R=Xt;if(h&&(R=R.filter(ce=>ce.y>0&&ce.x>0)),x==="top3"){const ce=[...R].sort((Te,Ye)=>Ye.x-Te.x),je=Math.max(50,Math.ceil(ce.length*.03));R=ce.slice(0,je)}const Z={R:[],G1:[],G2:[],B:[]};if(R.forEach(ce=>{Z[ce.channel]&&Z[ce.channel].push(ce)}),x==="raw")return Z;const te=x==="top3"?500:SQ,C=ce=>{if(ce.length<=te)return ce;const je=[...ce].sort((Xe,We)=>Xe.x-We.x),Te=[],Ye=je.length/te;for(let Xe=0;Xe<te;Xe++){const We=Math.floor(Xe*Ye),Ot=Math.floor((Xe+1)*Ye),ct=je.slice(We,Ot);if(ct.length===0)continue;ct.sort((ir,oe)=>ir.y-oe.y);const Pt=Math.floor(ct.length/2);Te.push(ct[Pt])}return Te};return{R:C(Z.R),G1:C(Z.G1),G2:C(Z.G2),B:C(Z.B)}},[Xt,x,h]),Le=j.useMemo(()=>{if(At.length<5)return[];const R=At.filter(te=>te.channel===Mt);return[...R.length>20?R:At].sort((te,C)=>te.x-C.x).map(te=>({mean:te.x,std:te.std}))},[At,Mt]),fn=R=>{const Z=R.length;if(Z===0)return[];const te=R.reduce((He,Ne)=>He+Ne,0)/Z,C=R.reduce((He,Ne)=>He+Math.pow(Ne-te,2),0)/(Z-1||1),ce=Math.sqrt(C);if(ce===0)return[{x:te-.001,density:0},{x:te,density:1},{x:te+.001,density:0}];const je=1.06*ce*Math.pow(Z,-.2),Te=Math.min(...R),Ye=Math.max(...R),Xe=(Ye-Te)*.2||Te*.1,We=Math.max(0,Te-Xe),Ot=Ye+Xe,ct=100,Pt=(Ot-We)/(ct-1),ir=He=>1/Math.sqrt(2*Math.PI)*Math.exp(-.5*He*He),oe=[];for(let He=0;He<ct;He++){const Ne=We+He*Pt;let Ct=0;for(let mt=0;mt<Z;mt++)Ct+=ir((Ne-R[mt])/je);Ct/=Z*je,oe.push({x:Ne,density:Ct})}return oe},Re=j.useCallback((R,Z,te,C)=>{if(R.length<5)return{gain:0,prnu:0};const ce=R[R.length-1].mean,je=ce*(te.min/100),Te=ce*(te.max/100),Ye=R.filter(rt=>rt.mean>=je&&rt.mean<=Te);if(Ye.length<5)return{gain:0,prnu:0};Xr({nPoints:Ye.length});const Xe=Z*Z,We=[],Ot=[];if(Ye.forEach(rt=>{const Qr=rt.std*rt.std-Xe;if(rt.mean>1&&Qr>0){const Na=rt.mean,yl=Qr/rt.mean;We.push({x:Na,y:yl}),Ot.push(rt.mean/Qr)}}),We.length<5)return{gain:0,prnu:0};const ct=[],Pt=We.length,ir=C,oe=Pt*(Pt-1)/2;if(oe<=ir)for(let rt=0;rt<Pt;rt++)for(let hr=rt+1;hr<Pt;hr++){const Qr=We[hr].x-We[rt].x;Math.abs(Qr)>1e-5&&ct.push((We[hr].y-We[rt].y)/Qr)}else{const rt=Math.max(1,Math.floor(oe/ir));for(let hr=0;hr<Pt;hr++)for(let Qr=hr+1;Qr<Pt;Qr+=rt){const Na=We[Qr].x-We[hr].x;Math.abs(Na)>1e-5&&ct.push((We[Qr].y-We[hr].y)/Na)}}const He=h0(ct),Ne=We.map(rt=>rt.y-He*rt.x),Ct=h0(Ne);let mt=0,dn=0;if(Ct>1e-6?mt=1/Ct:mt=h0(Ot),He>0&&(dn=Math.sqrt(He)*100),Ot.length>0){const rt=fn(Ot);wn(rt),Sr(mt)}else wn([]);return{gain:mt,prnu:dn}},[]),dr=j.useCallback(R=>{let Z=R.read??jt.current.readNoise;const te=R.gRange??Yr.current,C=Ht.current;if((R.read!==void 0||R.gRange!==void 0)&&R.gain===void 0&&R.prnu===void 0&&Le.length>0&&Z>=0)w(!0),setTimeout(()=>{const je=Re(Le,Z,te,C);let Te=jt.current.gain,Ye=jt.current.prnu;je.gain>0&&(Te=je.gain,Ye=je.prnu),Ve({readNoise:Z,gain:Te,prnu:Ye}),R.gRange!==void 0&&Kr(R.gRange),Br(Xe=>{var We,Ot;return{...Xe,read:Z.toString(),gain:Te>0?Te.toFixed(3):"0",prnu:Ye.toFixed(2),rangeMin:(((We=R.gRange)==null?void 0:We.min)??Xe.rangeMin).toString(),rangeMax:(((Ot=R.gRange)==null?void 0:Ot.max)??Xe.rangeMax).toString()}}),w(!1)},50);else{let je=R.gain!==void 0?R.gain:jt.current.gain,Te=R.prnu!==void 0?R.prnu:jt.current.prnu;Ve({readNoise:Z,gain:je,prnu:Te}),R.gRange!==void 0&&Kr(R.gRange),Br(Ye=>{var Xe,We;return{...Ye,read:Z.toString(),gain:je>0?je.toFixed(3):"0",prnu:Te.toFixed(2),rangeMin:(((Xe=R.gRange)==null?void 0:Xe.min)??Ye.rangeMin).toString(),rangeMax:(((We=R.gRange)==null?void 0:We.max)??Ye.rangeMax).toString()}})}},[Le,Re]),kn=`${Q}-${r.length}`;j.useEffect(()=>{if(!e||!r||r.length===0)return;const R=tt[Mt];if(!R||R.length===0||Fr===kn)return;O({R:Mt==="R",G1:Mt==="G1",G2:Mt==="G2",B:Mt==="B"});const Z=[...R].sort((je,Te)=>je.x-Te.x);let te=0;Z.length>0&&(te=Z[0].std);const C=At.filter(je=>je.channel===Mt);let ce=-1/0;for(const je of C)je.x>ce&&(ce=je.x);ce!==-1/0&&Se(ce),dr({read:te}),Er(kn)},[e,r,Fr,kn,tt,Mt,dr,At]);const Xn=(R,Z)=>{Br(te=>({...te,[R]:Z}))},Sn=R=>{let Z=parseFloat(Vt[R]);isNaN(Z)||Z<0||dr({[R]:Z})},ho=()=>{q(G),Er("")},_a=()=>{const R=parseFloat(Vt.rangeMin),Z=parseFloat(Vt.rangeMax);!isNaN(R)&&!isNaN(Z)&&R<Z&&R>=0&&Z<=100&&dr({gRange:{min:R,max:Z}})},vr=(R,Z)=>{R.key==="Enter"&&(Z==="rangeMin"||Z==="rangeMax"?_a():Sn(Z),R.target.blur())};j.useEffect(()=>{Le.length>0&&dr({})},[wt,Le]);const Rn=R=>{O(Z=>({...Z,[R]:!Z[R]}))},ep=()=>{y(R=>R==="top3"?"default":"top3")},yu=()=>{x==="raw"?y("default"):b(!0)},hl=()=>{b(!1),y("raw")},pl=(R,Z)=>{const te=parseFloat(R),C=parseFloat(Z);let ce=isNaN(te)?"auto":te,je=isNaN(C)?"auto":C;return h&&typeof ce=="number"&&ce<=0&&(ce="auto"),[ce,je]},Yo=R=>{if(!R||!R.payload)return;const Z=R.payload;if(v(Z),yr.current&&(Se(Z.x),le(!1)),Cr.current){const te=Yr.current.min,C=Yr.current.max,{max:ce}=ne();if(ce<=0)return;const je=Math.max(0,Math.min(100,Z.x/ce*100));if(Gt.current===1){const Te=Math.min(je,C-.5);dr({gRange:{min:Te,max:C}}),ge(2)}else if(Gt.current===2){const Te=Math.max(je,te+.5);dr({gRange:{min:te,max:Te}}),ge(0),K(!1)}}},Zr=j.useCallback(R=>{const{cx:Z,cy:te,fill:C}=R;return u.jsx("circle",{cx:Z,cy:te,r:3,fill:C,stroke:"none",style:{cursor:"pointer"}})},[]),tp=({active:R,payload:Z})=>{if(R&&Z&&Z.length){const te=Z[0].payload;return u.jsxs("div",{className:"bg-slate-800 text-white text-xs p-2 rounded border border-slate-600 shadow-xl opacity-90 font-mono z-50",children:[u.jsx("div",{className:"font-bold border-b border-slate-600 pb-1 mb-1",children:te.channel}),u.jsxs("div",{children:["Signal: ",te.x.toFixed(2)]}),u.jsxs("div",{children:[f,": ",te.y.toFixed(4)]}),te.row!==void 0&&te.col!==void 0&&!isNaN(te.row)&&!isNaN(te.col)&&u.jsxs("div",{className:"text-cyan-400 mt-0.5",children:["Loc: Row ",te.row,", Col ",te.col]}),te.filename&&u.jsx("div",{className:"text-gray-400 mt-1 max-w-[200px] truncate",title:te.filename,children:te.filename})]})}return null},gl=R=>{d(R),R==="Linear"&&p(!1)};if(!e)return null;const vu=s==="dark"?"#ffffff":"#000000";let ml=f;f==="Linear"&&(ml="(Var - RN) / Mean");const rp=G!==Q;return u.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in",onClick:R=>{R.stopPropagation()},children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-[98vw] max-w-[2200px] h-[95vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700 overflow-hidden relative",onClick:R=>R.stopPropagation(),children:[u.jsx(Ro,{isOpen:g,onClose:()=>b(!1),onConfirm:hl,title:"Warning: High Performance Cost",message:"Displaying all data points may cause the browser to freeze or become unresponsive, especially with large datasets. Are you sure you want to continue?",confirmText:"Yes, Show All"}),m&&u.jsxs("div",{className:"absolute top-20 right-8 z-30 bg-white/90 dark:bg-slate-800/90 border border-cyan-500 rounded-xl p-4 shadow-xl backdrop-blur-md max-w-xs animate-in fade-in zoom-in-95 duration-200",children:[u.jsxs("div",{className:"flex justify-between items-start mb-2 border-b border-gray-200 dark:border-slate-700 pb-2",children:[u.jsx("h4",{className:"font-bold text-gray-900 dark:text-white text-sm",children:"Selected Point"}),u.jsx("button",{onClick:()=>v(null),className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("div",{className:"space-y-1 text-xs font-mono text-gray-700 dark:text-slate-300",children:u.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1.5",children:[u.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Channel:"}),u.jsx("span",{className:"font-bold",children:m.channel}),u.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Signal (DN):"}),u.jsx("span",{children:m.x.toFixed(4)}),u.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Noise (Std):"}),u.jsx("span",{children:m.std.toFixed(4)}),u.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"SNR:"}),u.jsx("span",{className:"text-purple-600 dark:text-purple-400 font-bold",children:(m.x/m.std).toFixed(2)})]})})]}),qr&&u.jsx("div",{className:"absolute inset-0 z-40 bg-white/95 dark:bg-slate-900/95 backdrop-blur-sm flex flex-col items-center justify-center p-8 animate-in fade-in zoom-in-95 duration-200",children:u.jsxs("div",{className:"w-full max-w-2xl h-[60vh] bg-gray-50 dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-700 shadow-2xl p-4 flex flex-col relative",children:[u.jsx("button",{onClick:()=>Tn(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-red-500 transition-colors",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),u.jsxs("div",{className:"mb-4 text-center",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-slate-200",children:"Gain Density Estimation"}),u.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:["HSM Mode: ",u.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:cn==null?void 0:cn.toFixed(4)}),u.jsx("span",{className:"mx-2",children:"|"}),"Data Points: ",$n.length>0?"Density Curve Generated":"No Data"]})]}),u.jsx("div",{className:"flex-1 min-h-0",children:$n.length>0?u.jsx(_s,{width:"100%",height:"100%",children:u.jsxs(G_,{data:$n,margin:{top:10,right:30,left:0,bottom:20},children:[u.jsx(Ci,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3,vertical:!1}),u.jsx(ja,{dataKey:"x",tickFormatter:R=>R.toFixed(2),tick:{fill:"#9ca3af",fontSize:10},label:{value:"Gain (e/ADU)",position:"insideBottom",offset:-15,fill:"#9ca3af",fontSize:12}}),u.jsx(Oa,{tick:{fill:"#9ca3af",fontSize:10}}),u.jsx(mn,{cursor:{stroke:"rgba(255,255,255,0.2)"},contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6"}}),u.jsx(na,{type:"monotone",dataKey:"density",stroke:"#0ea5e9",fill:"#0ea5e9",fillOpacity:.3,strokeWidth:2}),cn!==null&&u.jsx(di,{x:cn,stroke:"#ef4444",strokeWidth:2,label:{value:"HSM",fill:"#ef4444",fontSize:10,position:"top"}})]})}):u.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:"No data in selected range"})})]})}),u.jsxs("div",{className:"flex flex-wrap justify-between items-center p-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50 gap-4 flex-shrink-0",children:[u.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2",children:["Photon Transfer Curve",u.jsxs("span",{className:"text-xs font-normal bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-300 px-2 py-0.5 rounded border border-purple-200 dark:border-purple-800",children:[r.length," Pts"]})]}),u.jsxs("div",{className:"flex gap-4 items-center flex-wrap",children:[u.jsxs("button",{onClick:Ee,className:"bg-green-600 hover:bg-green-500 text-white font-bold py-1 px-3 rounded text-xs shadow-md transition-all active:scale-95 flex items-center gap-1",title:"Render all points, target lines, and metadata to a high-res JPG",children:[u.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export Complete Result"]}),u.jsxs("div",{className:"flex bg-white dark:bg-slate-700 rounded-lg p-1 border border-gray-200 dark:border-slate-600",children:[u.jsx("button",{onClick:()=>gl("Noise"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${f==="Noise"?"bg-cyan-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"Noise ()"}),u.jsx("button",{onClick:()=>gl("SNR"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${f==="SNR"?"bg-purple-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"SNR"}),u.jsx("button",{onClick:()=>gl("Linear"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${f==="Linear"?"bg-indigo-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"Linear (PTC)"})]}),u.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-600 dark:text-slate-300 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:h,onChange:R=>p(R.target.checked),className:"rounded border-gray-300 text-cyan-600 focus:ring-cyan-500 bg-gray-100 dark:bg-slate-700 dark:border-slate-600"}),"Log-Log"]}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors p-1",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-0 border-b border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-sm flex-shrink-0",children:[u.jsxs("div",{className:"lg:col-span-9 p-5 flex flex-col gap-5 border-r border-gray-200 dark:border-slate-700",children:[u.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between text-xs",children:[u.jsxs("div",{className:"flex gap-4 items-center",children:[u.jsxs("div",{className:"flex items-center gap-1.5 bg-gray-50 dark:bg-slate-800 rounded-md p-1 border border-gray-200 dark:border-slate-700",children:[u.jsx("span",{className:"font-bold text-gray-500 dark:text-slate-400 pl-1",children:"X:"}),u.jsx("input",{type:"number",placeholder:"Min",value:P,onChange:R=>_(R.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"}),u.jsx("span",{className:"text-gray-400",children:"-"}),u.jsx("input",{type:"number",placeholder:"Max",value:N,onChange:R=>A(R.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"})]}),u.jsxs("div",{className:"flex items-center gap-1.5 bg-gray-50 dark:bg-slate-800 rounded-md p-1 border border-gray-200 dark:border-slate-700",children:[u.jsx("span",{className:"font-bold text-gray-500 dark:text-slate-400 pl-1",children:"Y:"}),u.jsx("input",{type:"number",placeholder:"Min",value:E,onChange:R=>B(R.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"}),u.jsx("span",{className:"text-gray-400",children:"-"}),u.jsx("input",{type:"number",placeholder:"Max",value:z,onChange:R=>$(R.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"})]}),u.jsx("button",{onClick:()=>{_(""),A(""),B(""),$("")},className:"text-xs text-cyan-600 dark:text-cyan-400 hover:underline",children:"Auto"})]}),u.jsxs("div",{className:"flex items-center gap-1 bg-white dark:bg-slate-700 p-1 rounded-lg border border-gray-200 dark:border-slate-600",children:[u.jsx("button",{onClick:()=>Rn("R"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${k.R?"bg-red-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"R"}),u.jsx("button",{onClick:()=>Rn("G1"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${k.G1?"bg-green-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"G1"}),u.jsx("button",{onClick:()=>Rn("G2"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${k.G2?"bg-green-400 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"G2"}),u.jsx("button",{onClick:()=>Rn("B"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${k.B?"bg-blue-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"B"})]})]}),u.jsxs("div",{className:"flex flex-wrap items-end gap-8",children:[u.jsxs("div",{className:"flex flex-col bg-gray-50 dark:bg-slate-800/50 p-2 rounded border border-gray-100 dark:border-slate-700",children:[u.jsx("span",{className:"text-[9px] uppercase font-bold text-gray-500 dark:text-slate-400 mb-1",children:"Black Level (0,0 0,1 1,0 1,1)"}),u.jsx("input",{type:"text",value:G,onChange:R=>ee(R.target.value),className:"w-32 text-xs px-2 py-1 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded outline-none focus:border-cyan-500 font-mono",placeholder:"0 0 0 0"})]}),u.jsxs("div",{className:"flex flex-col justify-between bg-gray-50 dark:bg-slate-800/50 p-2 rounded border border-gray-100 dark:border-slate-700",children:[u.jsxs("div",{className:"flex justify-between items-center mb-1",children:[u.jsx("span",{className:"text-[9px] uppercase font-bold text-gray-500 dark:text-slate-400 mr-2",children:"Fit Range % (Robust)"}),u.jsx("button",{onClick:()=>{K(!be),ge(be?0:1)},className:`px-1.5 py-0.5 text-[9px] rounded border transition-colors ${be?"bg-cyan-100 text-cyan-700 border-cyan-300 animate-pulse":"bg-white dark:bg-slate-700 border-gray-300 dark:border-slate-600 text-gray-600 dark:text-slate-300 hover:bg-gray-50"}`,children:be?ie===1?"Pick Min":"Pick Max":"Select"})]}),u.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[u.jsx("input",{type:"number",step:"0.1",value:Vt.rangeMin,onChange:R=>Xn("rangeMin",R.target.value),onBlur:_a,onKeyDown:R=>vr(R,"rangeMin"),className:"w-10 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-center font-bold"}),u.jsx("span",{className:"text-gray-400",children:"-"}),u.jsx("input",{type:"number",step:"0.1",value:Vt.rangeMax,onChange:R=>Xn("rangeMax",R.target.value),onBlur:_a,onKeyDown:R=>vr(R,"rangeMax"),className:"w-10 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-center font-bold"})]})]}),u.jsxs("div",{className:"flex flex-col bg-indigo-50 dark:bg-indigo-900/20 p-2 rounded border border-indigo-100 dark:border-indigo-800/50",children:[u.jsx("span",{className:"text-[9px] uppercase font-bold text-indigo-600 dark:text-indigo-400 mb-1",children:"DR Params"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-300",children:"Img H:"}),u.jsx("input",{type:"number",value:L,onChange:R=>D(R.target.value),onKeyDown:Dn,placeholder:"Empty",className:"w-14 px-1 py-0.5 bg-white dark:bg-slate-900 border border-indigo-200 dark:border-indigo-800 rounded text-center font-bold text-indigo-700 dark:text-indigo-300 text-xs placeholder:font-normal placeholder:text-gray-300"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-300",children:"Tgt SNR:"}),u.jsx("input",{type:"number",value:U,onChange:R=>I(R.target.value),className:"w-10 px-1 py-0.5 bg-white dark:bg-slate-900 border border-indigo-200 dark:border-indigo-800 rounded text-center font-bold text-indigo-700 dark:text-indigo-300 text-xs"})]})]})]}),u.jsxs("div",{className:"flex flex-col gap-1 text-[10px] justify-end pb-0.5",children:[u.jsx("button",{onClick:()=>{le(!X),ue&&Se(null)},disabled:be,className:`font-bold rounded border shadow-sm transition-all px-3 py-1.5 ${X?"bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400 border-amber-500 animate-pulse":"bg-white dark:bg-slate-800 text-gray-600 dark:text-slate-300 border-gray-300 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:X?"Pick Point":"Select Linear Limit"}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{onClick:ep,className:`flex-1 font-bold rounded border shadow-sm transition-all px-2 py-1 ${x==="top3"?"bg-indigo-600 text-white border-indigo-700":"bg-white dark:bg-slate-800 text-gray-600 dark:text-slate-300 border-gray-300 dark:border-slate-600 hover:bg-gray-50"}`,children:"Top 3%"}),u.jsx("button",{onClick:yu,className:`font-bold rounded border shadow-sm transition-all px-2 py-1 ${x==="raw"?"bg-red-600 text-white border-red-700":"text-red-500 border-red-200 hover:bg-red-50"}`,children:"All"})]})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-4 items-center bg-gray-50/50 dark:bg-slate-800/20 p-2 rounded-lg border border-gray-100 dark:border-slate-800",children:[u.jsx("span",{className:"text-[10px] uppercase font-bold text-gray-400 dark:text-slate-500",children:"Metadata"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",value:Ut,onChange:R=>Ir(R.target.value),placeholder:"Tester Name",className:"w-24 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"}),u.jsx("input",{type:"text",value:lt,onChange:R=>fr(R.target.value),placeholder:"Camera Model",className:"w-32 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"}),u.jsx("input",{type:"text",value:Zt,onChange:R=>Wt(R.target.value),placeholder:"ISO",className:"w-16 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-4 items-center bg-fuchsia-50/50 dark:bg-fuchsia-900/10 p-2 rounded-lg border border-fuchsia-100 dark:border-fuchsia-900/30",children:[u.jsx("span",{className:"text-[10px] uppercase font-bold text-fuchsia-500 dark:text-fuchsia-400",children:"Markers"}),u.jsxs("div",{className:"flex gap-2 items-center",children:[u.jsx("input",{type:"number",value:he,onChange:R=>Oe(R.target.value),placeholder:"X (Signal)",className:"w-20 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 outline-none focus:border-fuchsia-500 transition-colors"}),u.jsx("input",{type:"number",value:Ke,onChange:R=>Je(R.target.value),placeholder:"Y (Value)",className:"w-20 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 outline-none focus:border-fuchsia-500 transition-colors"}),u.jsx("button",{onClick:qt,className:"px-3 py-1 bg-fuchsia-600 hover:bg-fuchsia-500 text-white text-xs font-bold rounded shadow-sm transition-colors active:scale-95",children:"+"}),W.length>0&&u.jsx("button",{onClick:()=>ve([]),className:"px-2 py-1 bg-gray-200 dark:bg-slate-700 hover:bg-red-500 hover:text-white text-gray-600 dark:text-slate-300 text-xs font-bold rounded shadow-sm transition-colors active:scale-95",children:"Clr"})]}),u.jsxs("div",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono",children:[W.length," pts"]})]}),u.jsxs("div",{className:"flex gap-4 text-[10px] pt-1 justify-center sm:justify-start flex-wrap",children:[u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:dt.shot,onChange:R=>ln({...dt,shot:R.target.checked}),className:"rounded text-gray-500"})," ",u.jsx("span",{className:"text-gray-500",children:"Shot Noise"})]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:dt.read,onChange:R=>ln({...dt,read:R.target.checked}),className:"rounded text-rose-500"})," ",u.jsx("span",{className:"text-rose-500",children:"Read Noise"})]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:dt.prnu,onChange:R=>ln({...dt,prnu:R.target.checked}),className:"rounded text-amber-500"})," ",u.jsx("span",{className:"text-amber-500",children:"PRNU"})]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:dt.total,onChange:R=>ln({...dt,total:R.target.checked}),className:"rounded text-white"})," ",u.jsx("span",{className:"text-gray-900 dark:text-white font-bold",children:"Model"})]})]})]}),u.jsxs("div",{className:"lg:col-span-3 bg-slate-100 dark:bg-slate-800 p-4 flex flex-col justify-center gap-4",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center mb-1 px-1",children:[u.jsxs("h3",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase flex items-center gap-2",children:["Fit Parameters (D55 SAT Channel:",Mt,")",S&&u.jsx("span",{className:"text-orange-500 animate-pulse text-[10px]",children:"Calculating..."})]}),u.jsxs("div",{className:"flex gap-2 items-center",children:[u.jsx("button",{onClick:ho,disabled:S,className:`px-3 py-1 text-white text-[10px] font-bold rounded shadow-sm transition-all flex items-center gap-1 active:scale-95 
                                            ${S?"bg-gray-400 cursor-wait":rp?"bg-orange-500 hover:bg-orange-600 animate-pulse ring-2 ring-orange-400/50":"bg-cyan-600 hover:bg-cyan-500"}
                                        `,title:"Apply Black Level, Auto-detect Read Noise, then Recalculate Fit",children:S?u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"w-3 h-3 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Fitting..."]}):u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),"Apply & Calc"]})}),u.jsxs("select",{value:wt,onChange:R=>Dt(Number(R.target.value)),className:"text-[9px] bg-slate-200 dark:bg-slate-700 text-gray-600 dark:text-slate-300 rounded px-1 py-0.5 border-none outline-none cursor-pointer hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors",title:"Number of point-pairs to sample for robust regression (Theil-Sen)",children:[u.jsx("option",{value:1e5,children:"100k Pairs"}),u.jsx("option",{value:5e5,children:"500k Pairs"}),u.jsx("option",{value:2e6,children:"2M Pairs"}),u.jsx("option",{value:5e6,children:"5M Pairs"}),u.jsx("option",{value:1e7,children:"10M Pairs"})]}),ar&&u.jsxs("span",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono",title:"Number of points used in regression",children:["N=",ar.nPoints]})]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1",children:"rn/fpn"}),u.jsx("input",{type:"text",inputMode:"decimal",value:Vt.read,onChange:R=>Xn("read",R.target.value),onBlur:()=>Sn("read"),onKeyDown:R=>vr(R,"read"),className:"w-full text-center text-2xl font-light bg-transparent text-rose-500 outline-none border-b border-transparent focus:border-rose-500 transition-colors"})]}),u.jsxs("div",{className:"flex flex-col items-center relative group",children:[u.jsxs("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1 flex items-center gap-1",children:["Kadc (HSM)",u.jsx("button",{onClick:()=>Tn(!0),className:"text-[9px] text-cyan-600 dark:text-cyan-400 hover:underline",children:"Dist."})]}),u.jsx("input",{type:"text",inputMode:"decimal",value:Vt.gain,onChange:R=>Xn("gain",R.target.value),onBlur:()=>Sn("gain"),onKeyDown:R=>vr(R,"gain"),className:"w-full text-center text-2xl font-light bg-transparent text-slate-700 dark:text-slate-200 outline-none border-b border-transparent focus:border-cyan-500 transition-colors"})]}),u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1",children:"PRNU (%)"}),u.jsx("input",{type:"text",inputMode:"decimal",value:Vt.prnu,onChange:R=>Xn("prnu",R.target.value),onBlur:()=>Sn("prnu"),onKeyDown:R=>vr(R,"prnu"),className:"w-full text-center text-2xl font-light bg-transparent text-amber-500 outline-none border-b border-transparent focus:border-amber-500 transition-colors"})]})]})]}),u.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 w-full"}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 text-center",children:[u.jsxs("div",{className:"flex flex-col justify-center bg-cyan-50 dark:bg-cyan-900/10 p-2 rounded-lg border border-cyan-100 dark:border-cyan-900/30",children:[u.jsxs("h4",{className:"text-[10px] font-bold text-cyan-600 dark:text-cyan-500 uppercase tracking-wide mb-1 truncate",title:`Manual DR at SNR=${(de==null?void 0:de.manualTarget)||U}`,children:["M.DR @ SNR=",(de==null?void 0:de.manualTarget)||U]}),u.jsx("div",{className:"text-base font-bold text-cyan-700 dark:text-cyan-400 whitespace-nowrap",children:de!=null&&de.manualDR?`${de.manualDR.toFixed(2)} EV`:"--"})]}),u.jsxs("div",{className:"flex flex-col justify-center bg-emerald-50 dark:bg-emerald-900/10 p-2 rounded-lg border border-emerald-100 dark:border-emerald-900/30",title:isNaN((de==null?void 0:de.ptpTarget)||NaN)?"Requires Image Height":`Standard Point-to-Point DR (Target SNR = 16000/${L||"H"})`,children:[u.jsx("h4",{className:"text-[10px] font-bold text-emerald-600 dark:text-emerald-500 uppercase tracking-wide mb-1",children:"PTP DR"}),u.jsx("div",{className:"text-base font-bold text-emerald-700 dark:text-emerald-400 whitespace-nowrap",children:de!=null&&de.ptpDR?`${de.ptpDR.toFixed(2)} EV`:"--"})]}),u.jsxs("div",{className:"flex flex-col justify-center bg-purple-50 dark:bg-purple-900/10 p-2 rounded-lg border border-purple-100 dark:border-purple-900/30",title:isNaN((de==null?void 0:de.ptpTarget)||NaN)?"Requires Image Height":`D55 Saturation DR (Target SNR = 16000/${L||"H"} on ${de==null?void 0:de.dominantChannel} Channel)`,children:[u.jsxs("h4",{className:"text-[10px] font-bold text-purple-600 dark:text-purple-400 uppercase tracking-wide mb-1 truncate",children:["D55 DR (",de==null?void 0:de.dominantChannel,")"]}),u.jsx("div",{className:"text-base font-bold text-purple-700 dark:text-purple-400 whitespace-nowrap",children:de!=null&&de.d55DR?`${de.d55DR.toFixed(2)} EV`:"--"})]}),u.jsxs("div",{className:"flex flex-col justify-center bg-orange-50 dark:bg-orange-900/10 p-2 rounded-lg border border-orange-100 dark:border-orange-900/30",children:[u.jsx("h4",{className:"text-[10px] font-bold text-orange-600 dark:text-orange-400 uppercase tracking-wide mb-1",children:"FWC"}),u.jsx("div",{className:"text-base font-bold text-orange-600 dark:text-orange-400 font-mono whitespace-nowrap truncate",title:Jt!==null?`${Math.round(Jt)}`:"",children:Jt!==null?Jt>1e4?`${(Jt/1e3).toFixed(1)}k`:`${Math.round(Jt)}`:"--"})]})]}),ue===null&&u.jsx("div",{className:"text-center text-[10px] text-red-500 animate-pulse font-bold mt-[-10px]",children:"Please select Linear Limit on chart to calc DR"})]})]}),u.jsxs("div",{className:`flex-1 p-4 bg-white dark:bg-slate-900 relative grid grid-cols-[auto_1fr] grid-rows-[1fr_auto] gap-2 ${X||be?"cursor-crosshair":""}`,children:[u.jsx("div",{className:"row-start-1 col-start-1 h-full",children:u.jsx(X2,{vertical:!0,min:ze,max:kt,value:[E?parseFloat(E):ze,z?parseFloat(z):kt],onChange:([R,Z])=>{B(R.toString()),$(Z.toString())},logScale:h})}),u.jsxs("div",{className:"row-start-1 col-start-2 relative",children:[Xt.length===0?u.jsx("div",{className:"flex h-full items-center justify-center text-gray-400",children:"No valid data points found."}):u.jsx(_s,{width:"100%",height:"100%",children:u.jsxs(ZZ,{margin:{top:20,right:20,bottom:0,left:0},onClick:Yo,children:[u.jsx("defs",{children:u.jsxs("filter",{id:"glow",height:"300%",width:"300%",x:"-100%",y:"-100%",children:[u.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),u.jsxs("feMerge",{children:[u.jsx("feMergeNode",{in:"coloredBlur"}),u.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),u.jsx(Ci,{strokeDasharray:"3 3",stroke:"#374151",opacity:.2}),u.jsx(ja,{type:"number",dataKey:"x",name:"Signal",scale:h?"log":"linear",domain:pl(P,N),allowDataOverflow:!0,hide:!0}),u.jsx(Oa,{type:"number",dataKey:"y",name:f,scale:h?"log":"linear",domain:pl(E,z),label:{value:ml,angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:12},tick:{fill:"#9ca3af",fontSize:10},allowDataOverflow:!0}),u.jsx(mn,{content:u.jsx(tp,{}),cursor:{strokeDasharray:"3 3"}}),ue&&u.jsx(di,{x:ue,stroke:"red",strokeDasharray:"3 3",label:{position:"top",value:"Sat",fill:"red",fontSize:10}}),(dt.fitRange||be)&&u.jsxs(u.Fragment,{children:[u.jsx(di,{x:ht,stroke:"#22d3ee",strokeDasharray:"5 5",label:{position:"insideTopLeft",value:`Min: ${Qt.min}%`,fill:"#22d3ee",fontSize:9}}),u.jsx(di,{x:or,stroke:"#22d3ee",strokeDasharray:"5 5",label:{position:"insideTopLeft",value:`Max: ${Qt.max}%`,fill:"#22d3ee",fontSize:9}})]}),k.R&&u.jsx(pn,{name:"Red",data:tt.R,fill:"#ef4444",shape:Zr,onClick:Yo,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-R"),k.G1&&u.jsx(pn,{name:"Green 1",data:tt.G1,fill:"#22c55e",shape:Zr,onClick:Yo,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-G1"),k.G2&&u.jsx(pn,{name:"Green 2",data:tt.G2,fill:"#4ade80",shape:Zr,onClick:Yo,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-G2"),k.B&&u.jsx(pn,{name:"Blue",data:tt.B,fill:"#3b82f6",shape:Zr,onClick:Yo,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-B"),dt.shot&&Ce.shot.length>0&&u.jsx(pn,{name:"Shot Noise (Ideal)",data:Ce.shot,line:{stroke:"#94a3b8",strokeWidth:1,strokeDasharray:"5 5"},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-shot"),dt.read&&Ce.read.length>0&&u.jsx(pn,{name:"Read Noise Floor",data:Ce.read,line:{stroke:"#f43f5e",strokeWidth:1,strokeDasharray:"3 3"},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-read"),dt.prnu&&Ce.prnu.length>0&&u.jsx(pn,{name:"PRNU (Non-uniformity)",data:Ce.prnu,line:{stroke:"#f59e0b",strokeWidth:1,strokeDasharray:"3 3"},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-prnu"),dt.total&&Ce.total.length>0&&u.jsx(pn,{name:"Total Noise Model",data:Ce.total,line:{stroke:vu,strokeWidth:2},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-total"),et.length>0&&u.jsx(pn,{name:`Target SNR=${U}`,data:et,line:{stroke:"#6366f1",strokeWidth:2,strokeDasharray:"4 2"},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-target"),V.length>0&&u.jsx(pn,{name:`PTP Target SNR=${de!=null&&de.ptpTarget?de.ptpTarget.toFixed(1):"?"}`,data:V,line:{stroke:"#10b981",strokeWidth:2,strokeDasharray:"4 4"},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-ptp"),W.length>0&&u.jsx(pn,{name:"Manual Markers",data:W,fill:"#d946ef",shape:"star",legendType:"star"},"manual-points")]})}),u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 pointer-events-none select-none opacity-25 mix-blend-normal dark:mix-blend-plus-lighter",children:u.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})})]}),u.jsx("div",{className:"row-start-2 col-start-2 w-full",children:u.jsx(X2,{min:_e,max:Qe,value:[P?parseFloat(P):_e,N?parseFloat(N):Qe],onChange:([R,Z])=>{_(R.toString()),A(Z.toString())},logScale:h})})]})]})})},OQ=({searchTerm:e,onSearchChange:t,manufacturers:r,selectedManufacturer:n,onManufacturerChange:a,cameras:o,onCameraSelect:i})=>u.jsx("div",{className:"sticky top-4 z-10 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm p-4 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[u.jsxs("div",{className:"relative md:col-span-3",children:[u.jsx("input",{type:"text",placeholder:"Search camera model...",value:e,onChange:s=>t(s.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 text-gray-900 dark:text-slate-200 placeholder-gray-500 dark:placeholder-slate-400"}),u.jsx("svg",{className:"w-5 h-5 text-gray-400 dark:text-slate-400 absolute top-1/2 left-3 transform -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),u.jsx("select",{value:n,onChange:s=>a(s.target.value),className:"w-full md:col-span-1 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-2 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 appearance-none text-gray-900 dark:text-slate-200",children:r.map(s=>u.jsx("option",{value:s,children:s},s))}),u.jsxs("select",{onChange:s=>i(s.target.value),className:"w-full md:col-span-1 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-2 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 appearance-none text-gray-900 dark:text-slate-200",value:"","aria-label":"Jump to camera model",children:[u.jsx("option",{value:"",disabled:!0,children:"Jump to model..."}),o.map(s=>u.jsx("option",{value:s.id,children:s.name},s.id))]})]})}),PQ=({active:e,payload:t,label:r,theme:n})=>{if(e&&t&&t.length){const a=t[0].payload,o=n==="dark"?"bg-slate-800/80 border-slate-600 text-slate-300":"bg-white/90 border-gray-200 text-gray-700";return u.jsxs("div",{className:`${o} backdrop-blur-sm border p-3 rounded-lg shadow-lg`,children:[u.jsx("p",{className:"label font-bold",children:`ISO ${r}`}),u.jsx("div",{className:"mt-2 space-y-1 text-sm",children:u.jsxs(u.Fragment,{children:[u.jsxs("div",{style:{color:"#f87171"},children:["Red: ",a.R_avg.toFixed(2)," (Range: ",a.R_range[0]," - ",a.R_range[1],")"]}),u.jsxs("div",{style:{color:"#4ade80"},children:["Green 1: ",a.G1_avg.toFixed(2)," (Range: ",a.G1_range[0]," - ",a.G1_range[1],")"]}),u.jsxs("div",{style:{color:"#60a5fa"},children:["Blue: ",a.B_avg.toFixed(2)," (Range: ",a.B_range[0]," - ",a.B_range[1],")"]}),u.jsxs("div",{style:{color:"#86efac"},children:["Green 2: ",a.G2_avg.toFixed(2)," (Range: ",a.G2_range[0]," - ",a.G2_range[1],")"]})]})})]})}return null},_Q=({data:e,theme:t="dark"})=>{const r=j.useMemo(()=>!e||e.length===0?[]:[...new Set(e.map(i=>i.iso))].sort((i,s)=>Number(i)-Number(s)),[e]),n=j.useMemo(()=>{if(!e||e.length===0)return[0,4096];const i=e.flatMap(m=>[...m.R_range,...m.G1_range,...m.G2_range,...m.B_range]);if(i.length===0)return[0,4096];let s=Math.min(...i),l=Math.max(...i);const c=.25,f=l-s;if(f<c){const m=c-f;s-=m/2,l+=m/2}const d=(l-s)*.1,h=s-d,p=l+d;return[h,p]},[e]),a=t==="dark"?"#475569":"#e5e7eb",o=t==="dark"?"#94a3b8":"#6b7280";return!e||e.length===0?u.jsx("div",{className:"flex items-center justify-center h-full text-gray-500 dark:text-slate-500",children:u.jsx("p",{children:"No data available for this mode."})}):u.jsx(_s,{width:"100%",height:"100%",children:u.jsxs(G_,{data:e,margin:{top:5,right:20,left:0,bottom:5},children:[u.jsx(Ci,{strokeDasharray:"3 3",stroke:a}),u.jsx(ja,{dataKey:"iso",type:"number",domain:["dataMin","dataMax"],tick:{fill:o,fontSize:12},scale:"log",allowDuplicatedCategory:!1,ticks:r}),u.jsx(Oa,{tick:{fill:o,fontSize:12},domain:n,allowDecimals:!0,tickFormatter:i=>Number(i).toFixed(3)}),u.jsx(mn,{content:u.jsx(PQ,{theme:t})}),u.jsx(Ja,{wrapperStyle:{fontSize:"14px",color:o}}),u.jsx(na,{type:"monotone",dataKey:"R_range",fill:"#f87171",stroke:"none",fillOpacity:.2,name:"Red",legendType:"none"}),u.jsx(Wr,{type:"monotone",dataKey:"R_avg",stroke:"#f87171",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Red"}),u.jsx(na,{type:"monotone",dataKey:"G1_range",fill:"#4ade80",stroke:"none",fillOpacity:.2,name:"Green 1",legendType:"none"}),u.jsx(Wr,{type:"monotone",dataKey:"G1_avg",stroke:"#4ade80",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Green 1"}),u.jsx(na,{type:"monotone",dataKey:"B_range",fill:"#60a5fa",stroke:"none",fillOpacity:.2,name:"Blue",legendType:"none"}),u.jsx(Wr,{type:"monotone",dataKey:"B_avg",stroke:"#60a5fa",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Blue"}),u.jsx(na,{type:"monotone",dataKey:"G2_range",fill:"#86efac",stroke:"none",fillOpacity:.2,name:"Green 2",legendType:"none"}),u.jsx(Wr,{type:"monotone",dataKey:"G2_avg",stroke:"#86efac",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Green 2"})]})})},NQ=M.forwardRef(({camera:e,theme:t="dark"},r)=>{const n=j.useMemo(()=>e.shootingModes.map(d=>d.modeName),[e.shootingModes]),[a,o]=j.useState(n[0]||""),{chartData:i,tableData:s}=j.useMemo(()=>{const d=e.shootingModes.find(m=>m.modeName===a);if(!(d!=null&&d.data))return{chartData:[],tableData:[]};const h=d.data.map(m=>({iso:m.iso,R_range:m.r.range,R_avg:m.r.avg,G1_range:m.g1.range,G1_avg:m.g1.avg,B_range:m.b.range,B_avg:m.b.avg,G2_range:m.g2.range,G2_avg:m.g2.avg})),p=d.data.map(m=>({iso:m.iso,levels:[m.r.avg,m.g1.avg,m.g2.avg,m.b.avg],clipping:m.clipping}));return{chartData:h,tableData:p}},[e.shootingModes,a]),l=`Raw Data (${a})`,c=j.useRef(null),f=j.useRef(null);return j.useEffect(()=>{const d=c.current,h=f.current;if(!d||!h)return;const p=new ResizeObserver(m=>{for(let v of m){const{width:x}=v.contentRect,g=Math.max(8,x/35);h.style.fontSize=`${g}px`}});return p.observe(d),()=>p.disconnect()},[]),u.jsxs("div",{ref:r,className:"bg-white dark:bg-slate-800/50 border border-gray-200 dark:border-slate-700 rounded-xl shadow-lg p-6 flex flex-col gap-6 transform hover:scale-[1.02] hover:border-cyan-500/50 transition-all duration-500 ease-in-out",children:[u.jsxs("div",{className:"border-b border-gray-200 dark:border-slate-700 pb-4",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-slate-100",children:e.name}),u.jsx("p",{className:"text-cyan-600 dark:text-cyan-400",children:e.manufacturer})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-slate-300",children:"Black Level vs. ISO"}),u.jsx("select",{value:a,onChange:d=>o(d.target.value),className:"w-full sm:w-auto bg-gray-50 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-md px-3 py-1 text-sm outline-none focus:ring-2 focus:ring-cyan-500 transition-all duration-300 text-gray-900 dark:text-slate-200","aria-label":`Select shooting mode for ${e.name}`,children:n.map(d=>u.jsx("option",{value:d,children:d},d))})]}),u.jsxs("div",{ref:c,className:"h-64 relative",children:[u.jsx(_Q,{data:i,theme:t},a),u.jsx("div",{className:"absolute top-1/2 left-[52%] transform -translate-x-1/2 -translate-y-1/2 -rotate-30 pointer-events-none",children:u.jsx("p",{ref:f,className:"font-bold text-gray-900/10 dark:text-slate-200/40 whitespace-nowrap",children:" y-g-jiang.github.io"})})]})]}),u.jsxs("div",{className:"overflow-x-auto",children:[u.jsx("div",{className:"flex justify-between items-center mb-4",children:u.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-slate-300",children:l})}),u.jsxs("table",{className:"w-full text-left border-collapse",children:[u.jsx("thead",{className:"bg-gray-100 dark:bg-slate-700/50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"p-3 font-semibold text-sm text-gray-700 dark:text-slate-300",children:"ISO"}),u.jsx("th",{className:"p-3 font-semibold text-sm text-red-500 dark:text-red-400",children:"Red"}),u.jsx("th",{className:"p-3 font-semibold text-sm text-green-600 dark:text-green-400",children:"Green 1"}),u.jsx("th",{className:"p-3 font-semibold text-sm text-blue-500 dark:text-blue-400",children:"Blue"}),u.jsx("th",{className:"p-3 font-semibold text-sm text-green-500 dark:text-green-300",children:"Green 2"})]})}),u.jsx("tbody",{children:s.map(({iso:d,levels:h,clipping:p})=>u.jsxs("tr",{className:"border-b border-gray-200 dark:border-slate-700/50 last:border-b-0",children:[u.jsxs("td",{className:"p-3 font-mono text-gray-700 dark:text-slate-300 whitespace-nowrap",children:[d,p&&u.jsx("span",{className:"ml-3 text-xs font-semibold text-amber-600 dark:text-amber-400 bg-amber-100 dark:bg-amber-900/50 px-2 py-1 rounded-full align-middle",children:"Clipping"})]}),u.jsx("td",{className:"p-3 font-mono text-red-500 dark:text-red-400",children:h[0].toFixed(2)}),u.jsx("td",{className:"p-3 font-mono text-green-600 dark:text-green-400",children:h[1].toFixed(2)}),u.jsx("td",{className:"p-3 font-mono text-blue-500 dark:text-blue-400",children:h[3].toFixed(2)}),u.jsx("td",{className:"p-3 font-mono text-green-500 dark:text-green-300",children:h[2].toFixed(2)})]},d))})]})]})]})}),pe=(e,t,r)=>({avg:e,range:[t,r]}),p0=[{id:"sony-a7r2",name:"Sony ILCE-7RM2 (A7R II)",manufacturer:"Sony",shootingModes:[{modeName:"Still (Mechanical Shutter)",data:[{iso:100,r:pe(512.1,511.95,512.25),g1:pe(512.05,511.9,512.2),b:pe(512.12,511.98,512.28),g2:pe(512.06,511.92,512.22)},{iso:200,r:pe(512.15,512,512.3),g1:pe(512.1,511.95,512.25),b:pe(512.18,512.05,512.35),g2:pe(512.12,511.98,512.28)},{iso:400,r:pe(512.25,512.1,512.45),g1:pe(512.2,512.05,512.4),b:pe(512.3,512.15,512.5),g2:pe(512.22,512.08,512.42)},{iso:800,r:pe(512.5,512.2,512.8),g1:pe(512.45,512.15,512.75),b:pe(512.55,512.25,512.85),g2:pe(512.48,512.18,512.78)},{iso:1600,r:pe(513.1,512.8,513.4),g1:pe(513.05,512.75,513.35),b:pe(513.15,512.85,513.45),g2:pe(513.08,512.78,513.38)}]}]},{id:"sony-a7c",name:"Sony ILCE-7C",manufacturer:"Sony",shootingModes:[{modeName:"Still (Mechanical)",data:[{iso:100,r:pe(512.02,511.98,512.05),g1:pe(512.01,511.97,512.04),b:pe(512.03,511.99,512.06),g2:pe(512.01,511.97,512.04)},{iso:640,r:pe(512.15,512.05,512.25),g1:pe(512.12,512.02,512.22),b:pe(512.18,512.08,512.28),g2:pe(512.13,512.03,512.23)}]}]},{id:"canon-r5",name:"Canon EOS R5",manufacturer:"Canon",shootingModes:[{modeName:"Mechanical Shutter",data:[{iso:100,r:pe(512,511.8,512.2),g1:pe(512,511.8,512.2),b:pe(512,511.8,512.2),g2:pe(512,511.8,512.2)},{iso:400,r:pe(512,511.7,512.3),g1:pe(512,511.7,512.3),b:pe(512,511.7,512.3),g2:pe(512,511.7,512.3)},{iso:1600,r:pe(512.2,511.5,512.8),g1:pe(512.2,511.5,512.8),b:pe(512.2,511.5,512.8),g2:pe(512.2,511.5,512.8)}]}]},{id:"canon-r6",name:"Canon EOS R6",manufacturer:"Canon",shootingModes:[{modeName:"Mechanical Shutter",data:[{iso:100,r:pe(511.95,511.8,512.1),g1:pe(511.95,511.8,512.1),b:pe(511.95,511.8,512.1),g2:pe(511.95,511.8,512.1)},{iso:800,r:pe(512.1,511.9,512.3),g1:pe(512.1,511.9,512.3),b:pe(512.1,511.9,512.3),g2:pe(512.1,511.9,512.3)}]}]},{id:"nikon-z9",name:"Nikon Z9",manufacturer:"Nikon",shootingModes:[{modeName:"Electronic Shutter",data:[{iso:64,r:pe(400,399.9,400.1),g1:pe(400,399.9,400.1),b:pe(400,399.9,400.1),g2:pe(400,399.9,400.1)},{iso:100,r:pe(400,399.9,400.1),g1:pe(400,399.9,400.1),b:pe(400,399.9,400.1),g2:pe(400,399.9,400.1)}]}]},{id:"nikon-z6-2",name:"Nikon Z 6II",manufacturer:"Nikon",shootingModes:[{modeName:"Still (Lossless)",data:[{iso:100,r:pe(400.1,399.8,400.3),g1:pe(400.1,399.8,400.3),b:pe(400.1,399.8,400.3),g2:pe(400.1,399.8,400.3)},{iso:800,r:pe(400.3,399.5,401.1),g1:pe(400.3,399.5,401.1),b:pe(400.3,399.5,401.1),g2:pe(400.3,399.5,401.1)}]}]},{id:"fujifilm-xt4",name:"Fujifilm X-T4",manufacturer:"Fujifilm",shootingModes:[{modeName:"Still (RAF)",data:[{iso:160,r:pe(1024,1023.8,1024.2),g1:pe(1024,1023.8,1024.2),b:pe(1024,1023.8,1024.2),g2:pe(1024,1023.8,1024.2)},{iso:800,r:pe(1024.2,1023.5,1025),g1:pe(1024.2,1023.5,1025),b:pe(1024.2,1023.5,1025),g2:pe(1024.2,1023.5,1025)}]}]}],AQ=({isOpen:e,onClose:t,theme:r})=>{const[n,a]=j.useState(""),[o,i]=j.useState("All"),s=j.useMemo(()=>["All",...Array.from(new Set(p0.map(d=>d.manufacturer))).sort()],[]),l=j.useMemo(()=>p0.filter(f=>{const d=f.name.toLowerCase().includes(n.toLowerCase()),h=o==="All"||f.manufacturer===o;return d&&h}),[n,o]),c=f=>{const d=document.getElementById(`camera-${f}`);d&&d.scrollIntoView({behavior:"smooth"})};return e?u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-6xl h-[90vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700 overflow-hidden",onClick:f=>f.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:[u.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2",children:["Camera Black Level Database",u.jsxs("span",{className:"text-xs font-normal bg-cyan-100 dark:bg-cyan-900/30 text-cyan-600 dark:text-cyan-400 px-2 py-0.5 rounded border border-cyan-200 dark:border-cyan-800",children:[p0.length," Models"]})]}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-2 rounded-full hover:bg-gray-100 dark:hover:bg-slate-800",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700 bg-gray-50/50 dark:bg-slate-800/30",children:u.jsx(OQ,{searchTerm:n,onSearchChange:a,manufacturers:s,selectedManufacturer:o,onManufacturerChange:i,cameras:l,onCameraSelect:c})}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700 bg-gray-100 dark:bg-slate-950",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-2 gap-6",children:[l.map(f=>u.jsx("div",{id:`camera-${f.id}`,children:u.jsx(NQ,{camera:f,theme:r})},f.id)),l.length===0&&u.jsx("div",{className:"col-span-full flex flex-col items-center justify-center py-20 text-gray-400 dark:text-slate-600",children:u.jsx("p",{className:"text-lg",children:"No cameras found matching your criteria."})})]})})]})}):null},MQ=({isOpen:e,onClose:t,zIndex:r=150})=>{const[n,a]=j.useState(""),[o,i]=j.useState(""),[s,l]=j.useState(""),[c,f]=j.useState(""),[d,h]=j.useState(null),p=()=>{const m=parseFloat(n),v=parseFloat(o),x=parseFloat(s),y=parseFloat(c);if(isNaN(m)||isNaN(v)||isNaN(x)||isNaN(y)){h(null);return}const g=m,b=v,S=x*x,w=y*y,k=(g+b)/2;if(k<=1e-9){h(0);return}const O=S*w/k,P=Math.sqrt(O);h(P)};return e?u.jsxs(Qh,{initialPosition:{x:window.innerWidth/2-160,y:window.innerHeight/2-200},onClose:t,zIndex:r,className:"w-80 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 flex flex-col shadow-2xl",children:[u.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800",children:[u.jsx("h3",{className:"text-sm font-bold text-gray-700 dark:text-slate-200",children:"Cross-Compensation Calc"}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"p-4 flex flex-col gap-3 text-xs",children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"H Mean (Power/Var)"}),u.jsx("input",{type:"number",step:"any",value:n,onChange:m=>a(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"V Mean (Power/Var)"}),u.jsx("input",{type:"number",step:"any",value:o,onChange:m=>i(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"H RMS 0 (Sigma)"}),u.jsx("input",{type:"number",step:"any",value:s,onChange:m=>l(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"V RMS 0 (Sigma)"}),u.jsx("input",{type:"number",step:"any",value:c,onChange:m=>f(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),u.jsx("button",{onClick:p,className:"mt-2 w-full py-2 bg-indigo-600 hover:bg-indigo-500 text-white font-bold rounded shadow transition-colors active:scale-95",children:"Calculate Sigma"}),d!==null&&u.jsxs("div",{className:"mt-2 p-3 bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-200 dark:border-indigo-800 rounded text-center animate-in fade-in slide-in-from-top-1",children:[u.jsx("span",{className:"block text-[10px] uppercase font-bold text-gray-500 dark:text-slate-400 mb-1",children:"Original White Noise Sigma"}),u.jsx("span",{className:"text-lg font-mono font-bold text-indigo-700 dark:text-indigo-300 select-all",children:d.toFixed(5)})]})]})]}):null};function CQ(e,t,r,n=3){const o=r.byteLength,i=8,s=i+o,l=[{id:256,type:4,count:1,value:e},{id:257,type:4,count:1,value:t},{id:258,type:3,count:n,value:n===1?16:[16,16,16]},{id:259,type:3,count:1,value:1},{id:262,type:3,count:1,value:n===1?1:2},{id:273,type:4,count:1,value:i},{id:277,type:3,count:1,value:n},{id:278,type:4,count:1,value:t},{id:279,type:4,count:1,value:o}],c=2+l.length*12+4;let f=0;const d=l.map(g=>{let b=g.type===3?2:4;const S=g.count*b,w=S<=4;let k=0;return w||(k=f,f+=S),{...g,fits:w,totalBytes:S,extraOffset:k}}),h=s+c+f,p=new ArrayBuffer(h),m=new DataView(p),v=new Uint8Array(p);m.setUint16(0,18761,!0),m.setUint16(2,42,!0),m.setUint32(4,s,!0),v.set(new Uint8Array(r.buffer,r.byteOffset,r.byteLength),i);let x=s;m.setUint16(x,l.length,!0),x+=2;const y=s+c;return d.forEach(g=>{if(m.setUint16(x,g.id,!0),m.setUint16(x+2,g.type,!0),m.setUint32(x+4,g.count,!0),g.fits)Array.isArray(g.value)||(g.type===3?m.setUint16(x+8,g.value,!0):m.setUint32(x+8,g.value,!0));else{const b=y+g.extraOffset;m.setUint32(x+8,b,!0),Array.isArray(g.value)&&g.value.forEach((S,w)=>{m.setUint16(b+w*2,S,!0)})}x+=12}),m.setUint32(x,0,!0),p}const EQ="http://localhost:5428",TQ=(e=!1)=>{const[t,r]=j.useState({isConnected:!1,message:"Initializing...",hasDngConverter:!1});return j.useEffect(()=>{if(e){r({isConnected:!1,message:"Bridge Paused",hasDngConverter:!1});return}const n=async()=>{try{const o=new AbortController,i=setTimeout(()=>o.abort(),1e3),s=await fetch(`${EQ}/health`,{method:"GET",signal:o.signal});if(clearTimeout(i),s.ok){const l=await s.json(),c=`Connected (${l.exiftool||"Ready"})`;r(f=>f.isConnected===!0&&f.message===c&&f.version===l.exiftool&&f.hasDngConverter===!!l.dng_converter?f:{isConnected:!0,message:c,version:l.exiftool,hasDngConverter:!!l.dng_converter})}else r(l=>l.isConnected===!1&&l.message==="Service Error"?l:{isConnected:!1,message:"Service Error",hasDngConverter:!1})}catch{r(i=>i.isConnected===!1&&i.message==="Not Detected"?i:{isConnected:!1,message:"Not Detected",hasDngConverter:!1})}};n();const a=setInterval(n,2e3);return()=>clearInterval(a)},[e]),t},$Q="JTR_BlobStore",Fa="raw_files",DQ=1,Jh=()=>new Promise((e,t)=>{const r=indexedDB.open($Q,DQ);r.onupgradeneeded=n=>{const a=n.target.result;a.objectStoreNames.contains(Fa)||a.createObjectStore(Fa)},r.onsuccess=()=>e(r.result),r.onerror=()=>t(r.error)}),K2=async(e,t)=>{const r=await Jh();return new Promise((n,a)=>{const o=r.transaction(Fa,"readwrite");o.objectStore(Fa).put(t,e),o.oncomplete=()=>n(),o.onerror=()=>a(o.error)})},RQ=async e=>{const t=await Jh();return new Promise((r,n)=>{const i=t.transaction(Fa,"readonly").objectStore(Fa).get(e);i.onsuccess=()=>r(i.result),i.onerror=()=>n(i.error)})},LQ=async()=>{const e=await Jh();return new Promise((t,r)=>{const n=e.transaction(Fa,"readwrite");n.objectStore(Fa).clear(),n.oncomplete=()=>t(),n.onerror=()=>r(n.error)})},H_="jtr_workspace_index",IQ=e=>{try{const t=JSON.stringify(e);localStorage.setItem(H_,t)}catch(t){console.error("Failed to save workspace index",t)}},BQ=()=>{try{const e=localStorage.getItem(H_);return e?JSON.parse(e):null}catch(e){return console.error("Failed to load workspace index",e),null}},FQ=async e=>{const n=(await Jh()).transaction(Fa,"readwrite").objectStore(Fa),a=n.getAllKeys();a.onsuccess=()=>{a.result.forEach(i=>{e.includes(i)||n.delete(i)})}},tn=1024,Y2=(e,t,r)=>{const n=e.width,a=e.height,o=new ImageData(t,r),i=e.data,s=o.data,l=n/t,c=a/r;for(let f=0;f<r;f++){const d=Math.floor(f*c),h=f*t*4,p=d*n*4;for(let m=0;m<t;m++){const x=Math.floor(m*l)*4,y=h+m*4,g=p+x;s[y]=i[g],s[y+1]=i[g+1],s[y+2]=i[g+2],s[y+3]=i[g+3]}}return o},zQ=({stats:e,onClose:t,onMinimize:r,isBGGR:n,onToggleBGGR:a,onOpenWindow:o,displaySettings:i,zIndex:s,onFocus:l})=>{if(!e)return null;const c=!!i.showKadc&&!!i.blackLevel,f=i.blackLevel||[0,0,0,0],d=!!i.subtractBlackLevelFromStats&&!!i.blackLevel,h=(x,y,g)=>{if(!c)return null;const b=y*y;return b<=1e-4?0:(x-g)/b},p=(x,y)=>d?x-f[y]:x,m=()=>{if(!d){alert(`Sub. BL
Please enable 'Sub. BL' in Tools sidebar first.`);return}let x,y,g,b;n?(b=0,y=1,g=2,x=3):(x=0,y=1,g=2,b=3);const S=k=>e.means[k]-f[k],w=k=>e.stdDevs[k];localStorage.setItem("import_signal_r",S(x).toString()),localStorage.setItem("import_signal_g1",S(y).toString()),localStorage.setItem("import_signal_g2",S(g).toString()),localStorage.setItem("import_signal_b",S(b).toString()),localStorage.setItem("import_sigma_r",w(x).toString()),localStorage.setItem("import_sigma_g1",w(y).toString()),localStorage.setItem("import_sigma_g2",w(g).toString()),localStorage.setItem("import_sigma_b",w(b).toString()),window.open("https://y-g-jiang.github.io/XJZS.html","_blank")},v=n?[{name:"B",desc:"(0,0)",mean:p(e.means[0],0),std:e.stdDevs[0],color:"text-blue-500",k:h(e.means[0],e.stdDevs[0],f[0])},{name:"G1",desc:"(0,1)",mean:p(e.means[1],1),std:e.stdDevs[1],color:"text-green-500",k:h(e.means[1],e.stdDevs[1],f[1])},{name:"G2",desc:"(1,0)",mean:p(e.means[2],2),std:e.stdDevs[2],color:"text-green-500",k:h(e.means[2],e.stdDevs[2],f[2])},{name:"R",desc:"(1,1)",mean:p(e.means[3],3),std:e.stdDevs[3],color:"text-red-500",k:h(e.means[3],e.stdDevs[3],f[3])}]:[{name:"R",desc:"(0,0)",mean:p(e.means[0],0),std:e.stdDevs[0],color:"text-red-500",k:h(e.means[0],e.stdDevs[0],f[0])},{name:"G1",desc:"(0,1)",mean:p(e.means[1],1),std:e.stdDevs[1],color:"text-green-500",k:h(e.means[1],e.stdDevs[1],f[1])},{name:"G2",desc:"(1,0)",mean:p(e.means[2],2),std:e.stdDevs[2],color:"text-green-500",k:h(e.means[2],e.stdDevs[2],f[2])},{name:"B",desc:"(1,1)",mean:p(e.means[3],3),std:e.stdDevs[3],color:"text-blue-500",k:h(e.means[3],e.stdDevs[3],f[3])}];return u.jsxs(Qh,{className:`${c?"w-80":"w-60"} p-0 overflow-hidden transition-all duration-300`,onClose:t,zIndex:s,onFocus:l,children:[u.jsxs("div",{className:"flex justify-between items-center px-3 py-2 border-b border-gray-100 dark:border-slate-800 bg-gray-50/50 dark:bg-slate-800/50",children:[u.jsxs("h3",{className:"text-xs font-bold text-gray-700 dark:text-slate-300 uppercase tracking-wider flex items-center gap-2",children:["ROI Analysis",u.jsxs("span",{className:"text-[10px] font-normal text-gray-400 bg-gray-200 dark:bg-slate-700 px-1.5 py-0.5 rounded",children:[Math.round(e.width),"",Math.round(e.height)]})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 transition-colors p-1 rounded-md hover:bg-gray-200 dark:hover:bg-slate-700 relative z-20",children:u.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 transition-colors p-1 rounded-md hover:bg-gray-200 dark:hover:bg-slate-700 relative z-20",children:u.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsxs("div",{className:"p-3",children:[u.jsxs("div",{className:"flex justify-between items-center mb-3",children:[u.jsxs("div",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono leading-tight",children:["X: ",Math.round(e.x),u.jsx("br",{}),"Y: ",Math.round(e.y)]}),u.jsx("button",{onClick:()=>a(!n),className:"text-[10px] font-bold px-2 py-1 rounded bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 text-gray-600 dark:text-slate-300 transition-colors border border-gray-200 dark:border-slate-700 relative z-20",title:"Toggle Bayer Pattern Interpretation",children:n?"BGGR":"RGGB"})]}),u.jsxs("table",{className:"w-full mb-3",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-[10px] text-gray-400 dark:text-slate-500 border-b border-gray-100 dark:border-slate-800",children:[u.jsx("th",{className:"text-left pb-1 font-medium",children:"Ch"}),u.jsxs("th",{className:"text-right pb-1 font-medium",children:["Mean",d?"*":""]}),u.jsx("th",{className:"text-right pb-1 font-medium",children:"Std()"}),c&&u.jsx("th",{className:"text-right pb-1 font-medium text-cyan-600 dark:text-cyan-400",children:"K(e/ADU)"})]})}),u.jsx("tbody",{className:"font-mono text-xs",children:v.map((x,y)=>u.jsxs("tr",{className:"group hover:bg-gray-50 dark:hover:bg-slate-800/30 transition-colors",children:[u.jsxs("td",{className:"py-1",children:[u.jsx("span",{className:`font-bold ${x.color}`,children:x.name}),u.jsx("span",{className:"text-[9px] text-gray-300 dark:text-slate-600 ml-1 hidden group-hover:inline",children:x.desc})]}),u.jsx("td",{className:"py-1 text-right text-gray-700 dark:text-slate-200 font-semibold",title:d?"Mean minus Black Level":"Raw Mean",children:x.mean.toFixed(2)}),u.jsx("td",{className:"py-1 text-right text-gray-500 dark:text-slate-400",children:x.std.toFixed(2)}),c&&u.jsx("td",{className:"py-1 text-right text-cyan-600 dark:text-cyan-400 font-bold",children:x.k!==null?x.k.toFixed(3):"-"})]},y))})]}),d&&u.jsx("div",{className:"mb-2 text-[9px] text-gray-400 dark:text-slate-500 text-right italic",children:"* Mean adjusted by Black Level"}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx("button",{onClick:()=>o("histogram"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-cyan-600 hover:bg-cyan-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Histogram",children:"Hist"}),u.jsx("button",{onClick:()=>o("quant"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-teal-600 hover:bg-teal-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Quantization Steps",children:"Quant"}),u.jsx("button",{onClick:()=>o("fft"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-purple-600 hover:bg-purple-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Power Spectrum (FFT)",children:"FFT"}),u.jsx("button",{onClick:()=>o("pearson"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-indigo-600 hover:bg-indigo-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"Pearson Correlation Analysis",children:"PCC"}),u.jsx("button",{onClick:m,className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-pink-600 hover:bg-pink-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"Color Noise Analysis (External Tool)",children:"ColorN"})]})]})]})},UQ=()=>{var Su;const[e,t]=j.useState(!0),[r,n]=j.useState("Initializing..."),a=j.useRef(!1),[o,i]=j.useState("dark");j.useEffect(()=>{const F=window.document.documentElement;F.classList.remove(o==="dark"?"light":"dark"),F.classList.add(o)},[o]);const[s,l]=j.useState(!1),[c,f]=j.useState(!1),[d,h]=j.useState(!1),p=TQ(s||c||d),[m,v]=j.useState(!1),[x,y]=j.useState([]),[g,b]=j.useState(-1),[S,w]=j.useState([]),k=j.useMemo(()=>x[g],[x,g]),O=j.useRef(null);j.useEffect(()=>{O.current=k||null},[k]);const P=(k==null?void 0:k.file)||null,_=(k==null?void 0:k.imageElement)||null,N=(k==null?void 0:k.rawImageData)||null,A=(k==null?void 0:k.rawFileBuffer)||null,E=(k==null?void 0:k.renderedRawImageData)||null,B=(k==null?void 0:k.referenceImageData)||null,z=(k==null?void 0:k.sampledImageData)||null,$=(k==null?void 0:k.exifData)||null,U=(k==null?void 0:k.isThreePlane)||!1;k!=null&&k.xtransPhase;const I=(k==null?void 0:k.displaySettings)||{exposure:0,demosaicMethod:3,blackLevel:void 0,wbGains:[1,1],showKadc:!0,subtractBlackLevelFromStats:!0},[L,D]=j.useState(!1),[G,ee]=j.useState(null),[Q,q]=j.useState(!1),[X,le]=j.useState(!1),[ue,Se]=j.useState(null),[be,K]=j.useState([]),[ie,ge]=j.useState(100),[W,ve]=j.useState(!0),[he,Oe]=j.useState(!1),[Ke,Je]=j.useState(null),[qt,Ut]=j.useState(!1),[Ir,lt]=j.useState(!1),[fr,Zt]=j.useState(!1),[Wt,yr]=j.useState(!1),[Cr,Gt]=j.useState(!1),[ar,Xr]=j.useState(!1),[Qt,Kr]=j.useState(!1),[nt,Ve]=j.useState(!1),[wt,Dt]=j.useState({x:0,y:0}),[jt,Yr]=j.useState(!1),[Ht,Vt]=j.useState(!1),[Br,dt]=j.useState(2),[ln,qr]=j.useState(1),[Tn,$n]=j.useState([]),[wn,cn]=j.useState(null),[Sr,Fr]=j.useState(0),[Er,un]=j.useState([]),[Dn,At]=j.useState([]),[Xt,Mt]=j.useState(64),[ne,Pe]=j.useState(10),[_e,Qe]=j.useState(10),[ze,kt]=j.useState(4),[ht,or]=j.useState(1),[Ce,et]=j.useState(0),[pt,gt]=j.useState("processed"),[Jt,de]=j.useState(!1),V=j.useMemo(()=>I.blackLevel?I.blackLevel:N!=null&&N.blackLevels?[N.blackLevels[0],N.blackLevels[1],N.blackLevels[2],N.blackLevels[3]]:[0,0,0,0],[I.blackLevel,N]),Ee=($==null?void 0:$.ImageHeight)||($==null?void 0:$.ExifImageHeight)||(N==null?void 0:N.height)||0,[tt,Le]=j.useState(null),[fn,Re]=j.useState(null),[dr,kn]=j.useState({x:0,y:0}),[Xn,Sn]=j.useState(1),[ho,_a]=j.useState("pan"),vr=j.useRef(null),Rn=j.useRef(null),ep=j.useCallback(async()=>{if(!A||!k)return;Zt(!1);const F=Wt,T=Cr;Re(`Rendering 16-bit TIFF (${F?"Stretched":"Native DN"} | ${T?"sRGB":"Linear"})...`);try{const H=await dQ(A.slice(0),I,F,T),Y=CQ(H.width,H.height,H.data,H.channels),re=new Blob([Y],{type:"image/tiff"}),fe=URL.createObjectURL(re),ke=document.createElement("a"),xe=k.fileName||"rendered",Me=xe.substring(0,xe.lastIndexOf("."))||xe,we=[F?"stretch":"native",T?"srgb":"linear"].join("_");ke.href=fe,ke.download=`${Me}_${we}.tif`,document.body.appendChild(ke),ke.click(),document.body.removeChild(ke),URL.revokeObjectURL(fe)}catch(H){Le("TIFF Export Failed: "+H.message)}finally{Re(null)}},[A,k,I,Wt,Cr]),yu=j.useCallback(()=>{!A||!k||Zt(!0)},[A,k]);j.useEffect(()=>{const F=T=>{(T.ctrlKey||T.metaKey)&&T.key.toLowerCase()==="s"&&(T.preventDefault(),yu())};return window.addEventListener("keydown",F),()=>window.removeEventListener("keydown",F)},[yu]),j.useEffect(()=>{(async()=>{if(a.current)return;const T=BQ();if(T&&(n("Restoring layout..."),i(T.theme),ve(T.sidebarOpen),T.sessions.length>0)){n(`Restoring ${T.sessions.length} images...`);const H=[];for(const Y of T.sessions){if(a.current){console.log("Restoration cancelled.");return}await new Promise(re=>setTimeout(re,50));try{const re=await RQ(Y.id);if(re){const fe={id:Y.id,fileName:Y.fileName,file:null,imageElement:null,rawImageData:null,rawFileBuffer:re,renderedRawImageData:null,referenceImageData:null,sampledImageData:null,exifData:null,isThreePlane:Y.isThreePlane,displaySettings:Y.displaySettings,originalRawFileBuffer:null,isXTransOriginal:!1,isXTransConverted:!1,xtransPhase:{x:0,y:0}},{previewBlob:ke,analysisData:xe}=await ei(re);let Me=null;xe&&(Me=await H2(re,Y.displaySettings));const we=URL.createObjectURL(ke),Ie=new Image;Ie.src=we,await new Promise(Ae=>{Ie.onload=()=>Ae()}),H.push({...fe,rawImageData:xe,renderedRawImageData:Me,previewUrl:we,imageElement:Ie,exifData:xe.metadata})}}catch(re){console.error(`Failed to restore session ${Y.id}`,re)}}if(a.current)return;if(y(H),T.activeSessionId){const Y=H.findIndex(re=>re.id===T.activeSessionId);Y>=0?b(Y):H.length>0&&b(0)}K(T.windows)}a.current||t(!1)})()},[]);const hl=j.useRef(null),pl=j.useCallback(()=>{e||(hl.current&&clearTimeout(hl.current),hl.current=window.setTimeout(async()=>{var H;const F={version:1,timestamp:Date.now(),activeSessionId:((H=x[g])==null?void 0:H.id)||null,theme:o,sidebarOpen:W,sessions:x.map(Y=>({id:Y.id,fileName:Y.fileName,fileType:Y.file?Y.file.type:"application/octet-stream",fileSize:Y.rawFileBuffer?Y.rawFileBuffer.byteLength:0,displaySettings:Y.displaySettings,isThreePlane:Y.isThreePlane})),windows:be.map(Y=>({id:Y.id,type:Y.type,roi:Y.roi,zIndex:Y.zIndex,initialPosition:Y.initialPosition,sessionId:Y.sessionId,isBGGR:Y.isBGGR,isMinimized:Y.isMinimized||!1,internalState:Y.internalState}))};IQ(F);const T=x.map(Y=>Y.id);FQ(T)},1e3))},[x,be,g,o,W,e]);j.useEffect(()=>{pl()},[pl]);const Yo=j.useCallback(async()=>{a.current=!0,n("Cleaning up..."),localStorage.removeItem("jtr_workspace_index");try{await LQ()}catch(F){console.error("Failed to clear DB",F)}window.location.reload()},[]),Zr=j.useCallback(F=>{y(T=>T.map((H,Y)=>Y===g?{...H,...F}:H))},[g]),tp=()=>b(F=>Math.min(F+1,x.length-1)),gl=()=>b(F=>Math.max(0,F-1));j.useEffect(()=>{if(N&&G){const F=Gi(N.data,N.width,N.height,G.x,G.y,G.width,G.height);ee(F)}},[N]);const vu=F=>{if(!G||!k)return;const T=Date.now().toString()+Math.random().toString().slice(2,5),H=Math.max(ie,...be.map(fe=>fe.zIndex),100),Y=be.length%10*30,re=F==="fft"?{x:50,y:50}:F==="histogram"?{x:100,y:100}:{x:150,y:150};K(fe=>[...fe,{id:T,type:F,roi:{x:G.x,y:G.y,w:G.width,h:G.height},zIndex:H+1,initialPosition:{x:re.x+Y,y:re.y+Y},sessionId:k.id,isBGGR:Q,isMinimized:!1,stackFiles:(F==="fft"||F==="pearson")&&S.length>0?S:void 0}])},ml=F=>{K(T=>T.filter(H=>H.id!==F))},rp=F=>{K(T=>T.map(H=>H.id===F?{...H,isMinimized:!0}:H))},R=F=>{K(T=>T.map(H=>H.id===F?{...H,isMinimized:!1}:H)),Z(F)},Z=F=>{K(T=>{const H=Math.max(ie,...T.map(Y=>Y.zIndex));return T.map(Y=>Y.id===F?{...Y,zIndex:H+1}:Y)})},te=(F,T)=>{K(H=>H.map(Y=>Y.id===F?{...Y,internalState:{...Y.internalState,...T}}:Y))},C=()=>{const F=Math.max(ie,...be.map(T=>T.zIndex));ge(F+1)},ce=(F,T)=>{K(H=>H.map(Y=>Y.id===F?{...Y,roi:T}:Y))};j.useEffect(()=>{if(!$)return;const F=$.CFAPattern2||$.CFAPattern;if(F){let T="";Array.isArray(F)?T=F.join(""):typeof F=="string"?T=F.replace(/[\s,]+/g,""):typeof F=="number"&&(T=String(F)),T==="0112"?q(!1):T==="2110"&&q(!0)}},[$]),j.useEffect(()=>{let F;const T=()=>{if(Ht&&nt){const H=Date.now()/1e3,Y=.55+.45*Math.sin(H*Br);qr(Y),F=requestAnimationFrame(T)}else qr(1)};return Ht&&nt?T():qr(1),()=>{F&&cancelAnimationFrame(F)}},[Ht,nt,Br]),j.useEffect(()=>{const F=T=>{T.key==="Escape"&&nt&&(Ve(!1),Dt({x:0,y:0}),Vt(!1))};return window.addEventListener("keydown",F),()=>window.removeEventListener("keydown",F)},[nt]),j.useEffect(()=>()=>{x.forEach(F=>{F.previewUrl&&URL.revokeObjectURL(F.previewUrl)}),Rn.current&&Rn.current.terminate()},[]);const je=async(F,T=!0)=>{T&&(kn({x:0,y:0}),Sn(1),Fr(0),un([]),At([]),Oe(!1),Je(null),D(!1));let H=null;if(p.isConnected){const xe=new FormData;xe.append("file",F);try{const we=await(await fetch("http://localhost:5428/read",{method:"POST",body:xe})).json();if(we.success){let Ie=we.data;Array.isArray(Ie)&&Ie.length===1&&(Ie=Ie[0]),H=Ie}}catch(Me){console.warn("Auto Exif fetch failed",Me)}}const Y=F.name.toLowerCase().match(/\.(arw|cr2|cr3|dng|nef|orf|raf|rw2|pef|srw|sr2|srf|x3f|erf|mef|mos|mrw|kdc|dcr|iiq|3fr|fff|rwl|nrw|raw|tif|tiff)$/);if(!(["image/jpeg","image/png","image/tiff","image/x-adobe-dng"].includes(F.type)||Y)){Le("Unsupported file type. Please load a JPG, PNG, or a supported RAW file.");return}let fe={file:F,exifData:H};if(Y||F.type==="image/x-adobe-dng")try{T?Re("Processing RAW file (this may take a moment)..."):de(!0);const xe=await F.arrayBuffer();fe.rawFileBuffer=xe;const{previewBlob:Me,analysisData:we}=await ei(xe);fe.rawImageData=we,fe.isThreePlane=we.isThreePlane||!1,we.isThreePlane&&T&&D(!0);let Ie=!1,Ae=null,yt=!1;if(we.isXTrans){yt=!0,Ae=xe;const Rt=(await sf(xe,0,0)).dngBuffer,it=await ei(Rt);fe.rawFileBuffer=Rt,fe.rawImageData=it.analysisData,fe.previewUrl=URL.createObjectURL(it.previewBlob),Ie=!0}else fe.previewUrl=URL.createObjectURL(Me);fe.originalRawFileBuffer=Ae,fe.isXTransOriginal=yt,fe.isXTransConverted=Ie,fe.xtransPhase={x:0,y:0};const ut=new Image;ut.src=fe.previewUrl||"",await new Promise((sr,Rt)=>{ut.onload=()=>{fe.imageElement=ut,sr()},ut.onerror=()=>{sr()}})}catch(xe){Le(`Failed to process RAW file: ${xe.message}`),Re(null),de(!1);return}else try{Re("Processing image...");const{previewBlob:xe,analysisData:Me}=await oQ(F);fe.rawImageData=Me,fe.rawFileBuffer=await F.arrayBuffer(),fe.isThreePlane=Me.isThreePlane||!1,fe.isXTransOriginal=!1,fe.isXTransConverted=!1,fe.originalRawFileBuffer=null;const we=URL.createObjectURL(xe);fe.previewUrl=we;const Ie=new Image;Ie.src=we,await new Promise(Ae=>{Ie.onload=()=>{fe.imageElement=Ie,Ae()},Ie.onerror=()=>{Le("Could not load the image file."),Ae()}})}catch(xe){Le(`Failed to process image: ${xe.message}`),Re(null);return}const ke=Date.now().toString()+Math.random();if(fe.rawFileBuffer&&await K2(ke,fe.rawFileBuffer),T){const xe={exposure:0,demosaicMethod:3,blackLevel:void 0,wbGains:[1,1],showKadc:!0,subtractBlackLevelFromStats:!0},Me={id:ke,fileName:F.name,file:F,imageElement:null,rawImageData:null,rawFileBuffer:null,renderedRawImageData:null,referenceImageData:null,sampledImageData:null,exifData:null,isThreePlane:!1,displaySettings:xe,originalRawFileBuffer:null,isXTransOriginal:!1,isXTransConverted:!1,xtransPhase:{x:0,y:0},...fe};y(we=>{const Ie=[...we,Me];return b(Ie.length-1),Ie})}else Zr(fe);Re(null),de(!1)},Te=async F=>{Re("Converting to DNG...");try{const T=new FormData;T.append("file",F);const H=await fetch("http://localhost:5428/convert_dng",{method:"POST",body:T}),Y=H.headers.get("content-type")||"";if(H.ok)if(Y.includes("application/json")){const re=await H.json();throw new Error(re.error||"Conversion failed")}else{const re=await H.blob(),fe=URL.createObjectURL(re),ke=document.createElement("a");ke.href=fe;const xe=F.name,Me=xe.substring(0,xe.lastIndexOf("."))+".dng"||"converted.dng";ke.download=Me,document.body.appendChild(ke),ke.click(),document.body.removeChild(ke),URL.revokeObjectURL(fe);const we=new File([re],Me,{type:"image/x-adobe-dng"});await je(we,!0)}else{const re=await H.text();throw new Error(`HTTP ${H.status}: ${re}`)}}catch(T){Re(null),Le(`Conversion Error: ${T.message}`)}},Ye=(F,T)=>{F&&(T==="direct"?je(F,!0):Te(F))},Xe=async F=>{var H;const T=(H=F.target.files)==null?void 0:H[0];T&&(await je(T,!0),F.target.value="")},We=async(F,T,H,Y)=>{!F||!T||(Re("Processing Pair Difference (May take a while)..."),Le(null),setTimeout(async()=>{try{const re=await F.arrayBuffer(),fe=await T.arrayBuffer(),ke=await d0(re,fe,H,Y),xe=bf(ke.width,ke.height,ke.rawData),Me=new File([xe],`Diff_${F.name}_${T.name}.dng`,{type:"image/x-adobe-dng"});await je(Me,!0),vu("fft")}catch(re){console.error("Pair Processing Error",re),Le("Pair Processing Failed: "+re.message)}finally{Re(null)}},100))},Ot=async F=>{if(F.length<2){Le("Need at least 2 files for Batch Diff.");return}Re(`Batch Processing 0/${Math.floor(F.length/2)} pairs...`);const T=Array.from(F).sort((H,Y)=>H.name.localeCompare(Y.name,void 0,{numeric:!0}));try{for(let H=0;H<T.length-1;H+=2){const Y=T[H],re=T[H+1];Re(`Batch Processing Pair ${Math.floor(H/2)+1}/${Math.floor(T.length/2)}: ${Y.name} & ${re.name}`);const fe=await Y.arrayBuffer(),ke=await re.arrayBuffer(),xe=await d0(fe,ke,!1,!1),Me=bf(xe.width,xe.height,xe.rawData),we=new Blob([Me],{type:"image/x-adobe-dng"}),Ie=URL.createObjectURL(we),Ae=document.createElement("a");Ae.href=Ie,Ae.download=`Diff_${Y.name}_${re.name}.dng`,document.body.appendChild(Ae),Ae.click(),document.body.removeChild(Ae),URL.revokeObjectURL(Ie)}}catch(H){console.error("FFT Batch Error",H),Le("Batch Processing Failed: "+H.message)}finally{Re(null)}},ct=async F=>{if(F.length<1)return;const T=Array.from(F).sort((H,Y)=>H.name.localeCompare(Y.name,void 0,{numeric:!0}));w(T),await je(T[0],!0)},Pt=async()=>{de(!0);const F=128,T=F,H=F,Y=T*H,re=new Uint16Array(Y),fe=Be=>{const $e=Be/ze+Ce;return Math.sin(2*Math.PI*$e)>=0?1:0},ke=32,xe=ht*.5,Me=Math.max(1e-4,ht/ke);for(let Be=0;Be<H;Be++){let $e=0;const vt=Be+.5-xe;for(let Lt=0;Lt<ke;Lt++){const Tr=vt+(Lt+.5)*Me;$e+=fe(Tr)}const er=$e/ke,Et=Math.round(er*65535);for(let Lt=0;Lt<T;Lt++)re[Be*T+Lt]=Et}const we=new ImageData(tn,tn),Ie=tn/T,Ae=ht/2;for(let Be=0;Be<tn;Be++){const $e=Be/Ie,lr=Math.floor($e),vt=$e-lr,er=vt>=.5-Ae&&vt<.5+Ae;for(let Et=0;Et<tn;Et++){const Lt=Et/Ie,Tr=Math.floor(Lt),xr=Lt-Tr,Kn=xr>=.5-Ae&&xr<.5+Ae,pr=(Be*tn+Et)*4;if(Tr>=T||lr>=H){we.data[pr]=30,we.data[pr+1]=34,we.data[pr+2]=40,we.data[pr+3]=255;continue}if(er&&Kn){const Zo=re[lr*T+Tr],Qo=Math.round(Zo/257);we.data[pr]=Qo,we.data[pr+1]=Qo,we.data[pr+2]=Qo,we.data[pr+3]=255}else we.data[pr]=30,we.data[pr+1]=34,we.data[pr+2]=40,we.data[pr+3]=255}}const yt=new ImageData(tn,tn),ut=H/tn;for(let Be=0;Be<tn;Be++){const $e=(Be+.5)*ut,vt=fe($e)>.5?255:0,er=Be*tn*4;for(let Et=0;Et<tn;Et++){const Lt=er+Et*4;yt.data[Lt]=vt,yt.data[Lt+1]=vt,yt.data[Lt+2]=vt,yt.data[Lt+3]=255}}const sr=bf(T,H,re),Rt=new File([sr],"pattern_test.dng",{type:"image/x-adobe-dng"}),it=Date.now().toString();try{const{previewBlob:Be,analysisData:$e}=await ei(sr.slice(0)),lr=await H2(sr.slice(0),I),vt=Y2(lr,tn,tn),er=URL.createObjectURL(Be),Et=new Image;Et.src=er,await new Promise(Tr=>{Et.onload=()=>Tr()}),await K2(it,sr);const Lt={id:it,fileName:"pattern_test.dng",file:Rt,imageElement:Et,rawImageData:$e,rawFileBuffer:sr,renderedRawImageData:vt,referenceImageData:yt,sampledImageData:we,exifData:null,isThreePlane:!1,previewUrl:er,displaySettings:I,originalRawFileBuffer:null,isXTransOriginal:!1,isXTransConverted:!1,xtransPhase:{x:0,y:0}};(P==null?void 0:P.name)==="pattern_test.dng"?Zr(Lt):y(Tr=>{const xr=[...Tr,Lt];return b(xr.length-1),xr})}catch(Be){console.error("Error generating pattern:",Be),Le(`Error generating pattern: ${Be.message}`)}de(!1),Re(null)},ir=()=>{Ut(!0)},oe=()=>{Ut(!1),gt("sampled"),Re("Generating..."),setTimeout(()=>Pt(),50)},He=j.useRef({period:ze,fill:ht,phase:Ce});j.useEffect(()=>{(P==null?void 0:P.name)==="pattern_test.dng"&&(He.current.period!==ze||He.current.fill!==ht||He.current.phase!==Ce)&&(He.current={period:ze,fill:ht,phase:Ce},Pt())},[ze,ht,Ce,P]);const Ne=j.useCallback(F=>{if(Zr({displaySettings:F}),!A)return;de(!0),Rn.current&&Rn.current.terminate();const T=new Worker(new URL("/assets/renderWorker-BLMzTJON.js",import.meta.url),{type:"module"});Rn.current=T,T.onmessage=H=>{const{success:Y,imageData:re,error:fe}=H.data;if(Y){let ke=re;(P==null?void 0:P.name)==="pattern_test.dng"&&(ke=Y2(re,tn,tn)),Zr({renderedRawImageData:ke})}else Le(fe||"Unknown worker error");de(!1),T.terminate(),Rn.current=null},T.postMessage({buffer:A.slice(0),settings:F})},[A,P,Zr]),Ct=async(F,T)=>{Re("Re-sampling X-Trans with new Phase...");try{const Y=(await sf(T,F.x,F.y)).dngBuffer,re=await ei(Y),fe=URL.createObjectURL(re.previewBlob),ke=new Image;ke.src=fe,await new Promise(xe=>{ke.onload=()=>xe()}),k!=null&&k.previewUrl&&URL.revokeObjectURL(k.previewUrl),Zr({rawFileBuffer:Y,rawImageData:re.analysisData,previewUrl:fe,imageElement:ke,xtransPhase:F}),ee(null)}catch(H){console.error("X-Trans Phase Update Failed",H),Le("Phase Update Failed: "+H.message)}finally{Re(null)}},mt=(F,T)=>{if(!k||!k.originalRawFileBuffer||!k.isXTransConverted)return;const H={...k.xtransPhase,[F]:T};Ct(H,k.originalRawFileBuffer)},dn=j.useCallback(async F=>{if(k)if(F){if(k.isXTransConverted)return;const T=k.originalRawFileBuffer||k.rawFileBuffer;if(!T)return;Re("Converting X-Trans to Pseudo-Bayer DNG...");try{const H=k.xtransPhase||{x:0,y:0},re=(await sf(T,H.x,H.y)).dngBuffer,fe=await ei(re),ke=URL.createObjectURL(fe.previewBlob),xe=new Image;xe.src=ke,await new Promise(Me=>{xe.onload=()=>Me()}),k.previewUrl&&URL.revokeObjectURL(k.previewUrl),Zr({rawFileBuffer:re,rawImageData:fe.analysisData,previewUrl:ke,imageElement:xe,isXTransConverted:!0,originalRawFileBuffer:T}),ee(null)}catch(H){console.error("X-Trans Conversion Failed",H),Le("Failed to convert X-Trans: "+H.message)}finally{Re(null)}}else{if(!k.isXTransConverted)return;const T=k.originalRawFileBuffer;if(!T){Le("Original X-Trans buffer lost. Cannot revert.");return}Re("Reverting to Native X-Trans...");try{const H=await ei(T),Y=URL.createObjectURL(H.previewBlob),re=new Image;re.src=Y,await new Promise(fe=>{re.onload=()=>fe()}),k.previewUrl&&URL.revokeObjectURL(k.previewUrl),Zr({rawFileBuffer:T,rawImageData:H.analysisData,previewUrl:Y,imageElement:re,isXTransConverted:!1}),ee(null)}catch(H){console.error("X-Trans Revert Failed",H),Le("Failed to revert X-Trans: "+H.message)}finally{Re(null)}}},[k,Zr]);let rt=E||_;pt==="reference"&&B?rt=B:pt==="sampled"&&z&&(rt=z);const hr=fn||Jt,Qr=F=>{if(vr.current){const T=vr.current,{width:H,height:Y}=T.getBoundingClientRect(),re=H/2,fe=Y/2,ke=F/Xn,xe=re-(re-dr.x)*ke,Me=fe-(fe-dr.y)*ke;kn({x:xe,y:Me})}Sn(F)},Na=F=>{if(!F)return;if(!N){ee(null);return}X&&le(!1),C();const T=Gi(N.data,N.width,N.height,F.x,F.y,F.w,F.h);ee(T)},yl=F=>{Se(F),Na(F)},np=()=>{_a(F=>F==="pan"?"select":"pan")},xu=F=>{if(Sr===0||Sr>4)return;const T=[...Er,F];un(T),Sr===4?(ap(T),Fr(0)):Fr(Sr+1)},bu=(F,T,H,Y)=>{const re=F[0],fe=F[1],ke=F[2],xe=F[3],Me=T/2,we=[];for(let Ie=0;Ie<H;Ie++){const Ae=H>1?Ie/(H-1):.5;for(let yt=0;yt<Y;yt++){const ut=Y>1?yt/(Y-1):.5,sr=re.x*(1-ut)+fe.x*ut,Rt=re.y*(1-ut)+fe.y*ut,it=ke.x*(1-ut)+xe.x*ut,Be=ke.y*(1-ut)+xe.y*ut,$e=sr*(1-Ae)+it*Ae,lr=Rt*(1-Ae)+Be*Ae,vt=$e-Me,er=lr-Me;we.push({x:vt,y:er,w:T,h:T})}}return we},ap=F=>{N&&(Re("Calculating DR Lab Grid..."),setTimeout(()=>{try{const T=bu(F,Xt,ne,_e);At(T);const fe=[...[`#BlackLevel: ${(I.blackLevel||[0,0,0,0]).join(",")}`,`#ImageHeight: ${N.height}`],"Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std"];T.forEach((Ie,Ae)=>{const yt=Math.floor(Ae/_e)+1,ut=Ae%_e+1,sr=Gi(N.data,N.width,N.height,Ie.x,Ie.y,Ie.w,Ie.h),Rt=sr.means,it=sr.stdDevs,Be=`${yt},${ut},${Rt[0].toFixed(4)},${Rt[1].toFixed(4)},${Rt[2].toFixed(4)},${Rt[3].toFixed(4)},${it[0].toFixed(4)},${it[1].toFixed(4)},${it[2].toFixed(4)},${it[3].toFixed(4)}`;fe.push(Be)});const ke=fe.join(`
`),xe=new Blob([ke],{type:"text/csv;charset=utf-8;"}),Me=URL.createObjectURL(xe),we=document.createElement("a");we.setAttribute("href",Me),we.setAttribute("download","dr_lab_results.csv"),document.body.appendChild(we),we.click(),document.body.removeChild(we),URL.revokeObjectURL(Me),un([])}catch(T){Le("DR Lab Error: "+T.message)}finally{Re(null)}},100))},jn=async(F,T)=>{if(Er.length<4&&Dn.length<1){Le("Please mark the grid on an image first before running batch processing.");return}let H=Dn;if(H.length===0&&Er.length===4&&(H=bu(Er,Xt,ne,_e)),H.length===0){Le("No grid definitions found. Mark corners first.");return}Re(T==="pair"?"Batch Pair Difference (Sigma = Diff/sqrt(2))":"Batch Processing...");const re=(I.blackLevel||[0,0,0,0]).join(","),fe=N?N.height:0,xe=[...[`#BlackLevel: ${re}`,`#ImageHeight: ${fe}`,T==="pair"?"#Mode: Pair Difference (Sigma = Diff/sqrt(2))":"#Mode: Independent"],"Filename,Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std"],Me=Array.from(F).sort((yt,ut)=>yt.name.localeCompare(ut.name,void 0,{numeric:!0}));if(T==="pair"&&Me.length<2){Le("Need at least 2 files for Pair processing."),Re(null);return}const we=O.current,Ie=(we==null?void 0:we.isXTransConverted)||!1,Ae=(we==null?void 0:we.xtransPhase)||{x:0,y:0};try{const yt=async Be=>{let $e=await Be.arrayBuffer();return Ie&&($e=(await sf($e,Ae.x,Ae.y)).dngBuffer),$e};if(T==="single")for(let Be=0;Be<Me.length;Be++){const $e=Me[Be];Re(`Processing ${Be+1}/${Me.length}: ${$e.name}...`);const lr=await yt($e),vt=await Kd(lr);H.forEach((er,Et)=>{const Lt=Math.floor(Et/_e)+1,Tr=Et%_e+1,xr=Gi(vt.data,vt.width,vt.height,er.x,er.y,er.w,er.h),Kn=xr.means,pr=xr.stdDevs,Zo=`${$e.name},${Lt},${Tr},${Kn[0].toFixed(4)},${Kn[1].toFixed(4)},${Kn[2].toFixed(4)},${Kn[3].toFixed(4)},${pr[0].toFixed(4)},${pr[1].toFixed(4)},${pr[2].toFixed(4)},${pr[3].toFixed(4)}`;xe.push(Zo)})}else for(let Be=0;Be<Me.length-1;Be+=2){const $e=Me[Be],lr=Me[Be+1],vt=`${$e.name} & ${lr.name}`;Re(`Processing Pair ${Math.floor(Be/2)+1}/${Math.floor(Me.length/2)}: ${$e.name} & ${lr.name}...`);const er=await yt($e),Et=await Kd(er),Lt=await yt(lr),Tr=await d0(er,Lt,!1,!0);H.forEach((xr,Kn)=>{const pr=Math.floor(Kn/_e)+1,Zo=Kn%_e+1,Qo=Gi(Et.data,Et.width,Et.height,xr.x,xr.y,xr.w,xr.h),lp=Gi(Tr.rawData,Tr.width,Tr.height,xr.x,xr.y,xr.w,xr.h),ju=Qo.means,Ou=lp.stdDevs,X_=`${vt},${pr},${Zo},${ju[0].toFixed(4)},${ju[1].toFixed(4)},${ju[2].toFixed(4)},${ju[3].toFixed(4)},${Ou[0].toFixed(4)},${Ou[1].toFixed(4)},${Ou[2].toFixed(4)},${Ou[3].toFixed(4)}`;xe.push(X_)})}const ut=xe.join(`
`),sr=new Blob([ut],{type:"text/csv;charset=utf-8;"}),Rt=URL.createObjectURL(sr),it=document.createElement("a");it.href=Rt,it.setAttribute("download",`dr_lab_batch_${T}_${new Date().getTime()}.csv`),document.body.appendChild(it),it.click(),document.body.removeChild(it),URL.revokeObjectURL(Rt)}catch(yt){console.error("Batch Error",yt),Le("Batch Processing Failed: "+yt.message)}finally{Re(null)}},op=()=>{if(!N){Le("Please load an image first.");return}At([]),un([]),Fr(1)},ip=async()=>{if(!P)return;if(p.isConnected?Je(null):Je(`JiangBridge Offline
JiangBridge Offline, limited content shown only`),p.isConnected){Re("Reading EXIF (JiangBridge)...");try{const T=new FormData;T.append("file",P);const H=await fetch("http://localhost:5428/read",{method:"POST",body:T});if(!H.ok)throw new Error(`Bridge error: ${H.statusText}`);const Y=await H.json();if(Y.success){let re=Y.data;Array.isArray(re)&&re.length===1&&(re=re[0]),Zr({exifData:re}),Oe(!0),Re(null);return}else console.warn("Bridge returned error:",Y.error)}catch(T){console.warn("Bridge fetch failed, falling back to LibRaw:",T)}Re(null)}if(!N){Le("No image data available.");return}const F=N.metadata;if(!F){Le("No metadata found for this image.");return}Zr({exifData:F}),Oe(!0)},sp=j.useCallback(async F=>{Re("Parsing CSV files...");const T=[];let H,Y;try{const re=Array.from(F).map((fe,ke)=>new Promise((xe,Me)=>{const we=new FileReader;we.onload=Ie=>{var sr;const Ae=(sr=Ie.target)==null?void 0:sr.result;if(!Ae)return xe();const yt=Ae.split(`
`);let ut=-1;for(let Rt=0;Rt<yt.length;Rt++){const it=yt[Rt].trim();if(it){if(ke===0&&it.startsWith("#")){if(it.startsWith("#BlackLevel:")){const $e=it.replace("#BlackLevel:","").trim().split(/[\s,]+/).map(Number);$e.length>=4&&!$e.some(isNaN)&&(H=[$e[0],$e[1],$e[2],$e[3]])}else if(it.startsWith("#ImageHeight:")){const Be=it.replace("#ImageHeight:","").trim(),$e=parseInt(Be);!isNaN($e)&&$e>0&&(Y=$e)}continue}if(it.startsWith("Row")||it.startsWith("Filename")){ut=Rt+1;break}}}ut===-1&&(ut=1);for(let Rt=ut;Rt<yt.length;Rt++){const it=yt[Rt].trim();if(!it||it.startsWith("#"))continue;const Be=it.split(",");let $e=0;if(isNaN(Number(Be[0]))&&($e=1),Be.length<10+$e)continue;const lr=$e===1?Be[0]:fe.name,vt=Be.map(Number),er=vt[0+$e],Et=vt[1+$e],Lt=vt[2+$e],Tr=vt[3+$e],xr=vt[4+$e],Kn=vt[5+$e],pr=vt[6+$e],Zo=vt[7+$e],Qo=vt[8+$e],lp=vt[9+$e];Lt>0&&T.push({channel:"R",mean:Lt,std:pr,filename:lr,row:er,col:Et}),Tr>0&&T.push({channel:"G1",mean:Tr,std:Zo,filename:lr,row:er,col:Et}),xr>0&&T.push({channel:"G2",mean:xr,std:Qo,filename:lr,row:er,col:Et}),Kn>0&&T.push({channel:"B",mean:Kn,std:lp,filename:lr,row:er,col:Et})}xe()},we.onerror=Me,we.readAsText(fe)}));await Promise.all(re),$n(T),cn(H||Y?{blackLevel:H,height:Y}:null),l(!0)}catch(re){Le("Failed to parse CSV files: "+re.message)}finally{Re(null)}},[]),wu=F=>{F.button===0&&Yr(!0)},po=j.useCallback(F=>{jt&&Dt(T=>({x:T.x+F.movementX,y:T.y+F.movementY}))},[jt]),qo=j.useCallback(()=>{Yr(!1)},[]);j.useEffect(()=>(jt?(window.addEventListener("mousemove",po),window.addEventListener("mouseup",qo)):(window.removeEventListener("mousemove",po),window.removeEventListener("mouseup",qo)),()=>{window.removeEventListener("mousemove",po),window.removeEventListener("mouseup",qo)}),[jt,po,qo]);const ku=()=>{if(!A||!P)return;const F=P.name||"pattern_test.dng",T=new Blob([A],{type:"image/x-adobe-dng"}),H=URL.createObjectURL(T),Y=document.createElement("a");Y.href=H,Y.download=F,document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),URL.revokeObjectURL(H)};return e?u.jsxs("div",{className:"flex flex-col h-screen items-center justify-center bg-gray-50 dark:bg-slate-950 text-gray-900 dark:text-slate-200",children:[u.jsx("div",{className:"w-12 h-12 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mb-4"}),u.jsx("h2",{className:"text-xl font-bold animate-pulse",children:r}),u.jsx("p",{className:"text-sm text-gray-500 mt-2 mb-6",children:"Loading stored buffers from database..."}),u.jsx("button",{onClick:Yo,className:"px-6 py-2 bg-red-100 hover:bg-red-200 dark:bg-red-900/30 dark:hover:bg-red-900/50 text-red-700 dark:text-red-300 font-bold rounded-lg transition-colors border border-red-200 dark:border-red-800 text-sm",children:"Abandon Saved Session (Start Fresh)"})]}):u.jsxs("div",{className:"flex flex-col h-screen bg-white dark:bg-slate-950 text-gray-900 dark:text-slate-200 font-sans transition-colors duration-300 overflow-hidden",children:[u.jsx("div",{className:"p-4 pb-0 flex-shrink-0",children:u.jsx(kM,{onLoadImage:Xe,onFileSelected:Ye,onGenerateFakeDng:ir,fileName:P?P.name:null,hasGeneratedData:(P==null?void 0:P.name)==="pattern_test.dng",viewMode:pt,onSetViewMode:gt,patternPeriod:ze,onPatternPeriodChange:kt,fillFactor:ht,onFillFactorChange:or,patternPhase:Ce,onPatternPhaseChange:et,showPatternControls:(P==null?void 0:P.name)==="pattern_test.dng",onOpenAbout:()=>lt(!0),onShowExif:ip,bridgeStatus:p,onBridgeClick:()=>v(!0),isDrLabOpen:ar,onToggleDrLab:()=>{Xr(!ar),Fr(0),un([]),At([]),Qt&&Kr(!1)},isFftLabOpen:Qt,onToggleFftLab:()=>{Kr(!Qt),ar&&Xr(!1)},onGenerateTestPic:()=>Ve(!0),onPTCFilesSelected:sp,onDownloadDng:ku,isThreePlane:U,onOpenDatabase:()=>f(!0)})}),u.jsxs("div",{className:"flex flex-1 overflow-hidden p-4 pt-2 gap-4 relative",children:[u.jsxs("div",{className:"flex-1 relative bg-gray-100 dark:bg-slate-900 rounded-2xl border border-gray-200 dark:border-slate-800 shadow-inner overflow-hidden transition-colors duration-300",ref:vr,children:[hr&&u.jsxs("div",{className:"absolute bottom-4 right-4 z-50 flex items-center gap-2 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm px-3 py-1.5 rounded-full border border-cyan-500/30 shadow-sm",children:[u.jsx("div",{className:"w-4 h-4 border-2 border-cyan-500 border-t-transparent rounded-full animate-spin"}),u.jsx("span",{className:"text-xs text-cyan-600 dark:text-cyan-400 font-mono",children:fn||"Processing..."})]}),x.length>1&&u.jsxs("div",{className:"absolute bottom-4 right-20 z-50 flex items-center gap-2 bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm px-3 py-1.5 rounded-lg border border-gray-200 dark:border-slate-700 shadow-lg text-sm font-mono text-gray-700 dark:text-slate-200",children:[u.jsx("button",{onClick:gl,disabled:g<=0,className:"hover:text-cyan-500 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Previous Image",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),u.jsxs("span",{className:"min-w-[3rem] text-center select-none font-bold",children:[g+1," / ",x.length]}),u.jsx("button",{onClick:tp,disabled:g>=x.length-1,className:"hover:text-cyan-500 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Next Image",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),u.jsxs("div",{className:"absolute bottom-4 left-4 z-50 flex flex-col-reverse gap-2 items-start pointer-events-none",children:[X&&G&&u.jsxs("div",{className:"pointer-events-auto flex items-center gap-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg shadow-lg overflow-hidden animate-in slide-in-from-bottom-2 fade-in",children:[u.jsxs("button",{onClick:()=>le(!1),className:"px-3 py-1.5 text-xs font-bold text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[u.jsx("span",{className:"w-2 h-2 rounded-full bg-cyan-500"}),"ROI Stats"]}),u.jsx("button",{onClick:()=>{le(!1),ee(null)},className:"px-2 py-1.5 text-gray-400 hover:text-red-500 hover:bg-gray-100 dark:hover:bg-slate-700 border-l border-gray-200 dark:border-slate-700 transition-colors",children:u.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),be.filter(F=>F.isMinimized).map(F=>{let T="Window",H="bg-gray-500";return F.type==="histogram"?(T="Histogram",H="bg-purple-500"):F.type==="fft"?(T="FFT Spectrum",H="bg-fuchsia-500"):F.type==="quant"?(T="Quantization",H="bg-teal-500"):F.type==="pearson"&&(T="Pearson",H="bg-indigo-500"),u.jsxs("div",{className:"pointer-events-auto flex items-center gap-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg shadow-lg overflow-hidden animate-in slide-in-from-bottom-2 fade-in",children:[u.jsxs("button",{onClick:()=>R(F.id),className:"px-3 py-1.5 text-xs font-bold text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[u.jsx("span",{className:`w-2 h-2 rounded-full ${H}`}),T]}),u.jsx("button",{onClick:()=>ml(F.id),className:"px-2 py-1.5 text-gray-400 hover:text-red-500 hover:bg-gray-100 dark:hover:bg-slate-700 border-l border-gray-200 dark:border-slate-700 transition-colors",children:u.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},F.id)})]}),!X&&u.jsx(zQ,{stats:G,onClose:()=>{ee(null),Se(null)},onMinimize:()=>le(!0),isBGGR:Q,onToggleBGGR:q,onOpenWindow:vu,displaySettings:I,zIndex:ie,onFocus:C}),u.jsx(wQ,{isOpen:Ir,onClose:()=>lt(!1)}),u.jsx(kQ,{isOpen:he,onClose:()=>Oe(!1),data:$,fileName:P?P.name:"",warning:Ke}),u.jsx(jQ,{isOpen:s,onClose:()=>l(!1),data:Tn,blackLevel:V,imageHeight:Ee,isBGGR:Q,importedMetadata:wn||void 0,theme:o,initialCameraModel:($==null?void 0:$.Model)||"",initialISO:($==null?void 0:$.ISO)||((Su=$==null?void 0:$.ISOSpeedRatings)==null?void 0:Su.toString())||""}),u.jsx(AQ,{isOpen:c,onClose:()=>f(!1),theme:o}),u.jsx(MQ,{isOpen:d,onClose:()=>h(!1),zIndex:200}),u.jsx(Ro,{isOpen:qt,onClose:()=>Ut(!1),onConfirm:oe,title:"High Resource Usage Warning",confirmText:"I know the risk and insist to continue",message:u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("p",{children:"Patter DNG mode involves high-frequency refreshing and heavy computation. Due to current memory management limitations, repeated use may lead to browser memory overflow or crashes. Please proceed with caution."}),u.jsx("p",{className:"text-xs text-gray-500"})]})}),u.jsx(Ro,{isOpen:m,onClose:()=>v(!1),onConfirm:()=>{window.open("https://y-g-jiang.github.io/jiangbridge.exe","_blank"),v(!1)},title:"JiangBridge Connection / ",confirmText:"Download Bridge App",cancelText:"Cancel",message:u.jsxs("div",{className:"flex flex-col gap-4 text-left",children:[u.jsx("p",{className:"font-bold text-gray-800 dark:text-gray-200",children:"JiangBridge"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:'JiangBridge is optional for this webpage, but recommended for full functionality. Simply double-click and run it once after system startup. If the indicator light does not turn green after double-clicking, please consider checking whether the web page is allowed to "View and connect to any device on the network".'})]})}),u.jsx(Ro,{isOpen:fr,onClose:()=>Zt(!1),onConfirm:ep,title:"Export 16-bit TIFF Options",confirmText:"Confirm Export",message:u.jsxs("div",{className:"flex flex-col gap-4 text-left",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-gray-50 dark:bg-slate-800/80 p-4 rounded-xl border border-gray-200 dark:border-slate-700",children:[u.jsxs("div",{className:"flex flex-col items-center gap-3",children:[u.jsxs("div",{className:"flex flex-col items-center text-center",children:[u.jsx("span",{className:"font-bold text-xs text-gray-800 dark:text-slate-200",children:"Stretch ()"}),u.jsx("span",{className:"text-[9px] text-gray-500 dark:text-slate-400 mt-0.5",children:"Map [0, White] to [0, 65535]"})]}),u.jsx("div",{onClick:()=>yr(!Wt),className:`relative w-12 h-6 rounded-full transition-colors cursor-pointer ${Wt?"bg-cyan-500":"bg-gray-300 dark:bg-slate-600"}`,children:u.jsx("div",{className:`absolute top-1 left-1 w-4 h-4 bg-white rounded-full shadow-sm transition-transform ${Wt?"translate-x-6":""}`})})]}),u.jsxs("div",{className:"flex flex-col items-center gap-3",children:[u.jsxs("div",{className:"flex flex-col items-center text-center",children:[u.jsx("span",{className:"font-bold text-xs text-gray-800 dark:text-slate-200",children:"sRGB Gamma"}),u.jsx("span",{className:"text-[9px] text-gray-500 dark:text-slate-400 mt-0.5",children:"Apply non-linear contrast"})]}),u.jsx("div",{onClick:()=>Gt(!Cr),className:`relative w-12 h-6 rounded-full transition-colors cursor-pointer ${Cr?"bg-purple-500":"bg-gray-300 dark:bg-slate-600"}`,children:u.jsx("div",{className:`absolute top-1 left-1 w-4 h-4 bg-white rounded-full shadow-sm transition-transform ${Cr?"translate-x-6":""}`})})]})]}),u.jsxs("div",{className:"p-3 rounded-lg bg-indigo-50 dark:bg-indigo-900/20 text-[11px] text-indigo-700 dark:text-indigo-300 italic border border-indigo-100 dark:border-indigo-800 text-center",children:[Wt&&!Cr&&"Mode: Stretched Linear. Histogram preserved but range expanded.",!Wt&&Cr&&"Mode: Native DN + sRGB. Best for analyzing raw distribution contrast.",Wt&&Cr&&"Mode: Ready-to-Use. Conventional 16-bit development.",!Wt&&!Cr&&"Mode: Native Linear. Pure physical sensor DN values."]})]})}),be.map(F=>{if(F.isMinimized)return null;const T=x.find(re=>re.id===F.sessionId),H=T==null?void 0:T.rawImageData;if(!H)return null;const Y={key:F.id,isOpen:!0,onClose:()=>ml(F.id),onMinimize:()=>rp(F.id),rawImageData:H,roi:F.roi,isBGGR:F.isBGGR,zIndex:F.zIndex,onFocus:()=>Z(F.id),initialPosition:F.initialPosition,initialInternalState:F.internalState,onUpdateState:re=>te(F.id,re),stackFiles:F.stackFiles};return F.type==="histogram"?u.jsx(hQ,{...Y}):F.type==="fft"?u.jsx(yQ,{...Y,onUpdateROI:re=>ce(F.id,re)}):F.type==="quant"?u.jsx(vQ,{...Y}):F.type==="pearson"?u.jsx(xQ,{...Y}):null}),tt&&u.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-white/90 dark:bg-slate-900/90 p-8",children:u.jsxs("div",{className:"max-w-md text-center p-6 bg-white dark:bg-slate-800 rounded-xl border border-red-500/50 shadow-xl",children:[u.jsx("h3",{className:"text-xl font-bold text-red-500 dark:text-red-400 mb-2",children:"Notice"}),u.jsx("p",{className:"text-gray-600 dark:text-slate-300 mb-6 whitespace-pre-wrap",children:tt}),u.jsx("button",{onClick:()=>Le(null),className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 dark:bg-slate-700 dark:hover:bg-slate-600 rounded-lg text-gray-900 dark:text-white transition-colors",children:"Dismiss"})]})}),!rt&&!hr&&!tt&&u.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-gray-400 dark:text-slate-600 select-none",children:u.jsx("p",{className:"text-lg",children:"Load an image or generate a pattern"})}),u.jsx(SM,{image:rt,zoom:Xn,pan:dr,onPanChange:kn,onZoomChange:Qr,onSelectionChange:Na,forcedSelection:ue,theme:o,touchAction:ho,isMarking:Sr>0,onPointClick:xu,markers:Er,gridRects:Dn}),u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-1/2 z-30 pointer-events-none select-none opacity-20 mix-blend-normal dark:mix-blend-plus-lighter",children:u.jsx("svg",{viewBox:"0 0 500 60",className:"w-full h-auto drop-shadow-xl",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),N&&!Sr&&u.jsxs("div",{className:"absolute bottom-4 left-4 z-30 pointer-events-none opacity-50 text-[10px] text-gray-500 dark:text-slate-400",children:["Hold ",u.jsx("b",{children:"Shift"})," + Drag to calculate Raw ROI stats"]}),u.jsx(TM,{zoom:Xn,onZoomChange:Qr,onResetView:()=>{Sn(1),kn({x:0,y:0})},touchAction:ho,onToggleTouchAction:np}),!W&&u.jsx("button",{onClick:()=>ve(!0),className:"absolute right-0 top-1/2 -translate-y-1/2 z-50 bg-white dark:bg-slate-900 border-y border-l border-gray-200 dark:border-slate-800 shadow-md p-1.5 rounded-l-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors animate-in fade-in slide-in-from-right-2",title:"Show Tools",children:u.jsx("svg",{className:"w-4 h-4 text-gray-500 dark:text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})})]}),u.jsxs("div",{className:`flex-shrink-0 flex flex-col bg-white dark:bg-slate-900 rounded-2xl border border-gray-200 dark:border-slate-800 shadow-xl overflow-hidden transition-all duration-300 ease-in-out ${W?"w-80 translate-x-0 opacity-100 ml-0":"w-0 translate-x-20 opacity-0 p-0 border-0 pointer-events-none ml-0"}`,children:[u.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-gray-200 dark:border-slate-800 bg-gray-50/50 dark:bg-slate-800/50 flex-shrink-0",children:[u.jsx("h2",{className:"font-bold text-sm text-gray-700 dark:text-slate-300 uppercase tracking-wide flex items-center gap-2",children:u.jsx("span",{children:"Tools"})}),u.jsx("button",{onClick:()=>ve(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-1 rounded hover:bg-gray-200 dark:hover:bg-slate-700",title:"Hide Tools",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),u.jsx("div",{className:"flex-1 overflow-hidden relative",children:u.jsx(OM,{rawImageData:N,displaySettings:I,onApplyDisplaySettings:Ne,onSetSelection:yl,exifData:$,isBridgeConnected:p.isConnected,isDrLabOpen:ar,drMarkingStep:Sr,onStartMarking:op,onGenerateTestPic:()=>Ve(!0),drRoiSize:Xt,onDrRoiSizeChange:Mt,drGridRows:ne,onDrGridRowsChange:Pe,drGridCols:_e,onDrGridColsChange:Qe,onBatchDrLab:jn,hasDrMarkers:Dn.length>0||Er.length===4,isFftLabOpen:Qt,onProcessPair:We,onProcessBatchDiff:Ot,onProcessStackFft:ct,onOpenCrossCalc:()=>h(!0),isThreePlane:N==null?void 0:N.isThreePlane,onToggleXTrans:N?dn:void 0,xtransPhase:(k==null?void 0:k.xtransPhase)||{x:0,y:0},onXTransPhaseChange:mt,isXTransConverted:k==null?void 0:k.isXTransConverted})})]})]}),nt&&u.jsxs("div",{className:"fixed inset-0 z-[200] bg-black overflow-hidden",children:[u.jsx("div",{onMouseDown:wu,style:{transform:`translate(${wt.x}px, ${wt.y}px)`,cursor:jt?"grabbing":"grab",opacity:ln,transition:"opacity 0.1s linear"},className:"w-full h-full flex items-center justify-center",children:u.jsx("img",{src:"/drtest.png",alt:"DR Test",className:"max-w-full max-h-full object-contain pointer-none select-none",draggable:!1})}),u.jsxs("div",{className:"absolute top-4 right-4 flex flex-col items-end gap-2 pointer-events-none z-[201]",children:[u.jsx("div",{className:"text-white/50 text-sm bg-black/50 px-3 py-1 rounded backdrop-blur-sm",children:"Press ESC to exit | Drag to move"}),u.jsx("div",{className:"text-white/20 text-xs px-2 select-none",children:"F11 full screen"}),u.jsx("div",{className:"text-red-900/80 text-lg px-2 select-none font-bold mt-4",children:""}),u.jsx("div",{className:"text-red-900/60 text-xs px-2 select-none",children:"Shoot slightly out of focus"})]}),u.jsxs("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 bg-black/60 backdrop-blur-md p-4 rounded-xl border border-gray-700 flex flex-col gap-3 items-center z-[202]",children:[u.jsx("button",{onClick:()=>Vt(!Ht),className:`px-4 py-2 rounded-lg font-bold text-sm transition-colors ${Ht?"bg-amber-500 text-black hover:bg-amber-400":"bg-gray-700 text-white hover:bg-gray-600"}`,children:Ht?"Stop Breathing":"Start Breathing"}),Ht&&u.jsxs("div",{className:"flex items-center gap-3 w-64 animate-in fade-in",children:[u.jsx("span",{className:"text-xs text-gray-400 font-bold uppercase",children:"Speed"}),u.jsx("input",{type:"range",min:"0.5",max:"10",step:"0.5",value:Br,onChange:F=>dt(parseFloat(F.target.value)),className:"flex-1 h-1.5 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-amber-500"}),u.jsx("span",{className:"text-xs text-amber-500 w-8 text-right",children:Br.toFixed(1)})]})]})]}),u.jsx($M,{theme:o,setTheme:i})]})},V_=document.getElementById("root");if(!V_)throw new Error("Could not find root element to mount to");const WQ=g0.createRoot(V_);WQ.render(u.jsx(M.StrictMode,{children:u.jsx(UQ,{})}));export{eQ as _};
